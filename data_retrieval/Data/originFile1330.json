{"items":[{"tags":["java","algorithm","swing"],"comments":[{"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"score":0,"creation_date":1653063079,"post_id":72320319,"comment_id":127767572,"body_markdown":"I have used about 10 start squares and every time the algorithm worked well. Which choice causes a problem?","body":"I have used about 10 start squares and every time the algorithm worked well. Which choice causes a problem?"},{"owner":{"account_id":18650887,"reputation":31,"user_id":13594367,"display_name":"Gabriele"},"score":0,"creation_date":1653092642,"post_id":72320319,"comment_id":127774545,"body_markdown":"the problem is in the last few steps, when you reach 50+ steps, the knight moves incorrectly.","body":"the problem is in the last few steps, when you reach 50+ steps, the knight moves incorrectly."}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653065064,"creation_date":1653065064,"answer_id":72322249,"question_id":72320319,"body_markdown":"I hope I understood the problem correctly:\r\n\r\nI think your &quot;exit strategy&quot; is wrong. So you never tell recursion to stop recursion. I&#39;ve redesigned the relevant section a bit. Of course, there is still room for improvement and optimization.\r\n\r\n    public boolean solve(int stepCount, int x, int y){\r\n            System.out.println(stepCount + &quot; stepCount: &quot; + x + &quot; | &quot; + y);\r\n            if(stepCount == BOARDSIZE * BOARDSIZE){\r\n                return false;\r\n            }\r\n            int nextX = x;\r\n            int nextY = y;\r\n            \r\n            boolean valid = false;\r\n            \r\n            for(int i=0; i&lt;NUM_OF_MOVES;i++){\r\n                nextX = x + xMoves[i];\r\n                nextY = y + yMoves[i];\r\n    \r\n                if( isStepValid(nextX,nextY)){\r\n                    new javax.swing.Timer(delay, this).start();\r\n                    moveNext(nextX, nextY);\r\n                    valid = true;\r\n                    break;\r\n                    //if( solve(stepCount+1, nextX, nextY))\r\n                    //    return true;\r\n                }\r\n            }\r\n            if(valid){\r\n                return solve(stepCount+1, nextX, nextY);\r\n            }\r\n            else{\r\n                return false;\r\n            }\r\n        }","title":"Java GUI Knights tour wrong algorithm","body":"<p>I hope I understood the problem correctly:</p>\n<p>I think your &quot;exit strategy&quot; is wrong. So you never tell recursion to stop recursion. I've redesigned the relevant section a bit. Of course, there is still room for improvement and optimization.</p>\n<pre><code>public boolean solve(int stepCount, int x, int y){\n        System.out.println(stepCount + &quot; stepCount: &quot; + x + &quot; | &quot; + y);\n        if(stepCount == BOARDSIZE * BOARDSIZE){\n            return false;\n        }\n        int nextX = x;\n        int nextY = y;\n        \n        boolean valid = false;\n        \n        for(int i=0; i&lt;NUM_OF_MOVES;i++){\n            nextX = x + xMoves[i];\n            nextY = y + yMoves[i];\n\n            if( isStepValid(nextX,nextY)){\n                new javax.swing.Timer(delay, this).start();\n                moveNext(nextX, nextY);\n                valid = true;\n                break;\n                //if( solve(stepCount+1, nextX, nextY))\n                //    return true;\n            }\n        }\n        if(valid){\n            return solve(stepCount+1, nextX, nextY);\n        }\n        else{\n            return false;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18650887,"reputation":31,"user_id":13594367,"display_name":"Gabriele"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653065064,"creation_date":1653055778,"question_id":72320319,"body_markdown":"I am a beginner to java and new to data structures and algorithms. I am trying to implement the Knights tour to GUI with java swing. There are no errors in the code, but I think I made a mistake in applying the algorithm. So I made an 8x8 board made up of buttons and lets the user pick the initial move of the knight. At first, the knight moves correctly but when it does not have any available moves, it goes randomly to another box. I couldn&#39;t find the problems since I new to recursion and backtracking. here is the code:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.Border;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.Timer;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Chess implements ActionListener{\r\n    JFrame frame = new JFrame();\r\n    JButton[][] buttons = new JButton[8][8];\r\n    JPanel boardPanel = new JPanel();\r\n    final int BOARDSIZE = 8;\r\n    final int NUM_OF_MOVES = BOARDSIZE;\r\n    private int startx;\r\n    private int starty;\r\n    private int delay = 10000;\r\n    private int stepCount;\r\n    public int [] xMoves = {2,1,-1,-2,-2,-1,1,2};\r\n    public int [] yMoves = {1,2,2,1,-1,-2,-2,-1};\r\n\r\n    public Chess(){\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setTitle(&quot;Chess Algo&quot;);\r\n        frame.setSize(800, 800);\r\n\r\n        boardPanel.setLayout(new GridLayout(8,8));\r\n\r\n        for(int i=0; i&lt;buttons.length; i++){\r\n            for(int j=0; j&lt;buttons.length;j++){\r\n                buttons[i][j] = new JButton();\r\n                buttons[i][j].setFocusable(false);\r\n                buttons[i][j].setBackground(Color.white);\r\n                buttons[i][j].addActionListener(this);\r\n                boardPanel.add(buttons[i][j]);\r\n            }\r\n            \r\n        }\r\n        frame.add(boardPanel, BorderLayout.CENTER);\r\n        frame.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e){\r\n        for(int i=0; i&lt;buttons.length; i++){\r\n            for(int j=0; j&lt;buttons.length;j++){\r\n                if(e.getSource() == buttons[i][j]){\r\n                    stepCount++;\r\n                    buttons[i][j].setBackground(Color.green);\r\n                    buttons[i][j].setEnabled(false);\r\n                    buttons[i][j].setText(Integer.toString(stepCount));;\r\n                    startx = j;\r\n                    starty = i;\r\n                    stepCount++;\r\n                    start();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void start(){\r\n        for(int i=0; i&lt;buttons.length; i++){\r\n            for(int j=0; j&lt;buttons.length;j++){\r\n                buttons[i][j].setEnabled(false);\r\n            }\r\n        }\r\n        solve(stepCount, startx, starty);\r\n    }\r\n\r\n    public boolean solve(int stepCount, int x, int y){\r\n        if(stepCount == BOARDSIZE * BOARDSIZE){\r\n            return true;\r\n        }\r\n        for(int i=0; i&lt;NUM_OF_MOVES;i++){\r\n            int nextX = x + xMoves[i];\r\n            int nextY = y + yMoves[i];\r\n\r\n            if( isStepValid(nextX,nextY)){\r\n                new javax.swing.Timer(delay, this).start();\r\n                moveNext(nextX, nextY);\r\n\r\n                if( solve(stepCount+1, nextX, nextY))\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void moveNext(int x, int y){\r\n        buttons[y][x].setBackground(Color.green);\r\n        buttons[y][x].setText(Integer.toString(stepCount));;\r\n        buttons[y][x].doClick();\r\n        stepCount++;\r\n    }\r\n    public boolean isStepValid(int x, int y){\r\n        if( x &lt; 0 || x &gt;= BOARDSIZE) return false;\r\n        if( y &lt; 0 || y &gt;= BOARDSIZE) return false;\r\n        if(!(buttons[y][x].getText().equals(&quot;&quot;))) return false;\r\n\r\n        if(buttons[y][x].getText().equals(&quot;&quot;)) ;\r\n          return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Chess();\r\n        \r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Java GUI Knights tour wrong algorithm","body":"<p>I am a beginner to java and new to data structures and algorithms. I am trying to implement the Knights tour to GUI with java swing. There are no errors in the code, but I think I made a mistake in applying the algorithm. So I made an 8x8 board made up of buttons and lets the user pick the initial move of the knight. At first, the knight moves correctly but when it does not have any available moves, it goes randomly to another box. I couldn't find the problems since I new to recursion and backtracking. here is the code:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.Timer;\n\nimport javax.swing.*;\n\npublic class Chess implements ActionListener{\n    JFrame frame = new JFrame();\n    JButton[][] buttons = new JButton[8][8];\n    JPanel boardPanel = new JPanel();\n    final int BOARDSIZE = 8;\n    final int NUM_OF_MOVES = BOARDSIZE;\n    private int startx;\n    private int starty;\n    private int delay = 10000;\n    private int stepCount;\n    public int [] xMoves = {2,1,-1,-2,-2,-1,1,2};\n    public int [] yMoves = {1,2,2,1,-1,-2,-2,-1};\n\n    public Chess(){\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;Chess Algo&quot;);\n        frame.setSize(800, 800);\n\n        boardPanel.setLayout(new GridLayout(8,8));\n\n        for(int i=0; i&lt;buttons.length; i++){\n            for(int j=0; j&lt;buttons.length;j++){\n                buttons[i][j] = new JButton();\n                buttons[i][j].setFocusable(false);\n                buttons[i][j].setBackground(Color.white);\n                buttons[i][j].addActionListener(this);\n                boardPanel.add(buttons[i][j]);\n            }\n            \n        }\n        frame.add(boardPanel, BorderLayout.CENTER);\n        frame.setVisible(true);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e){\n        for(int i=0; i&lt;buttons.length; i++){\n            for(int j=0; j&lt;buttons.length;j++){\n                if(e.getSource() == buttons[i][j]){\n                    stepCount++;\n                    buttons[i][j].setBackground(Color.green);\n                    buttons[i][j].setEnabled(false);\n                    buttons[i][j].setText(Integer.toString(stepCount));;\n                    startx = j;\n                    starty = i;\n                    stepCount++;\n                    start();\n                }\n            }\n        }\n    }\n\n    public void start(){\n        for(int i=0; i&lt;buttons.length; i++){\n            for(int j=0; j&lt;buttons.length;j++){\n                buttons[i][j].setEnabled(false);\n            }\n        }\n        solve(stepCount, startx, starty);\n    }\n\n    public boolean solve(int stepCount, int x, int y){\n        if(stepCount == BOARDSIZE * BOARDSIZE){\n            return true;\n        }\n        for(int i=0; i&lt;NUM_OF_MOVES;i++){\n            int nextX = x + xMoves[i];\n            int nextY = y + yMoves[i];\n\n            if( isStepValid(nextX,nextY)){\n                new javax.swing.Timer(delay, this).start();\n                moveNext(nextX, nextY);\n\n                if( solve(stepCount+1, nextX, nextY))\n                    return true;\n            }\n        }\n        return false;\n    }\n\n    public void moveNext(int x, int y){\n        buttons[y][x].setBackground(Color.green);\n        buttons[y][x].setText(Integer.toString(stepCount));;\n        buttons[y][x].doClick();\n        stepCount++;\n    }\n    public boolean isStepValid(int x, int y){\n        if( x &lt; 0 || x &gt;= BOARDSIZE) return false;\n        if( y &lt; 0 || y &gt;= BOARDSIZE) return false;\n        if(!(buttons[y][x].getText().equals(&quot;&quot;))) return false;\n\n        if(buttons[y][x].getText().equals(&quot;&quot;)) ;\n          return true;\n    }\n\n    public static void main(String[] args) {\n        new Chess();\n        \n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","file","sorting"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1653062035,"post_id":72321597,"comment_id":127767184,"body_markdown":"And what did you attempt? Where exactly are you facing problems? SO is not code writing service...","body":"And what did you attempt? Where exactly are you facing problems? SO is not code writing service..."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1653062163,"post_id":72321597,"comment_id":127767244,"body_markdown":"Please read [how to ask](https://stackoverflow.com/help/how-to-ask), the [FAQ](https://meta.stackoverflow.com/questions/251225/faq-index-for-stack-overflow) as well.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>, the <a href=\"https://meta.stackoverflow.com/questions/251225/faq-index-for-stack-overflow\">FAQ</a> as well."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1653065222,"post_id":72321597,"comment_id":127768247,"body_markdown":"I would suggest creating a `Record` or `POJO`. Read the data into the `Record` or `POJO` and use a `Comparator` to sort the data. After sorting, write the data to a new file.  https://stackoverflow.com/questions/12542185/sort-a-java-collection-object-based-on-one-field-in-it","body":"I would suggest creating a <code>Record</code> or <code>POJO</code>. Read the data into the <code>Record</code> or <code>POJO</code> and use a <code>Comparator</code> to sort the data. After sorting, write the data to a new file.  <a href=\"https://stackoverflow.com/questions/12542185/sort-a-java-collection-object-based-on-one-field-in-it\" title=\"sort a java collection object based on one field in it\">stackoverflow.com/questions/12542185/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1653065720,"post_id":72321597,"comment_id":127768403,"body_markdown":"Something else I would do is create a `HashMap` of  `String` - `List&lt;String&gt;`. For the key, use the name. Add the line to the value `List&lt;String&gt;`. Sort the `HashMap` by key. Loop through the sorted `HashMap` and loop through `List&lt;String&gt;` to write the data to a new file.","body":"Something else I would do is create a <code>HashMap</code> of  <code>String</code> - <code>List&lt;String&gt;</code>. For the key, use the name. Add the line to the value <code>List&lt;String&gt;</code>. Sort the <code>HashMap</code> by key. Loop through the sorted <code>HashMap</code> and loop through <code>List&lt;String&gt;</code> to write the data to a new file."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1653065973,"post_id":72321597,"comment_id":127768493,"body_markdown":"I left out an important part in my previous comment. -&gt; Read the data into the `Record` or `POJO`. Add the `Records`/`POJOs` into a `List`. Use the `Comparator` to sort the `List`.","body":"I left out an important part in my previous comment. -&gt; Read the data into the <code>Record</code> or <code>POJO</code>. Add the <code>Records</code>/<code>POJOs</code> into a <code>List</code>. Use the <code>Comparator</code> to sort the <code>List</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653072949,"post_id":72321597,"comment_id":127770682,"body_markdown":"No doubt that these are patients, since they&#39;ve certainly all seen The Doctor! :)","body":"No doubt that these are patients, since they&#39;ve certainly all seen The Doctor! :)"}],"owner":{"account_id":25336118,"reputation":1,"user_id":19155235,"display_name":"Nayan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653065018,"creation_date":1653061496,"question_id":72321597,"body_markdown":"Given a list of patient demographics for several patients, we want to be able to group the data by patients with the same name. The demographics\r\nprovided are (in order): Patient ID, Patient Name, Patient Sex, and Patient Date Of Birth. For example, here&#39;s a sample input:\r\n\r\n```\r\nPID1,POND^AMY,F,19890224\r\n\r\nPID2,WILLIAMS^RORY,M,19881102\r\n\r\nPID3,POND^AMY,F,19890224\r\n\r\nPID4,CLARA^OSWALD,F,19890224\r\n\r\nPID5,POND^AMY,F,20010911\r\n\r\nPID6,CLAR^OSWALD,F,19890224\r\n\r\nPID7,POND^AMELIA,F,20010911\r\n\r\nPID8,CLARA^oswald,F,19890224\r\n\r\nPID9,TYLER^ROSE,F,20000101\r\n\r\nPID10,NOBLE^DONNA,F,19780405\r\n\r\nPID11,TYLER^ROSE,F,20000101\r\n\r\nPID12,NOBLE^DONN,F,19780405\r\n\r\nPID13,TYLER^ROSE,F,20000102\r\n\r\nPID14,CLARA^OSWALD^COLEMAN,F,19890224\r\n\r\nThe expected output is:\r\n\r\n0:\r\n\r\nPID1,POND^AMY,F,19890224\r\n\r\nPID3,POND^AMY,F,19890224\r\n\r\nPID5,POND^AMY,F,20010911\r\n\r\n1:\r\n\r\nPID2,WILLIAMS^RORY,M,19881102\r\n\r\n2:\r\n\r\nPID4,CLARA^OSWALD,F,19890224\r\n\r\nPID8,CLARA^oswald,F,19890224\r\n\r\nPID14,CLARA^OSWALD^COLEMAN,F,19890224\r\n\r\n3:\r\n\r\nPID6,CLAR^OSWALD,F,19890224\r\n\r\n4:\r\n\r\nPID7,POND^AMELIA,F,20010911\r\n\r\n5:\r\n\r\nPID9,TYLER^ROSE,F,20000101\r\n\r\nPID11,TYLER^ROSE,F,20000101\r\n\r\nPID13,TYLER^ROSE,F,20000102\r\n\r\n6:\r\n\r\nPID10,NOBLE^DONNA,F,19780405\r\n\r\n7:\r\n\r\nPID12,NOBLE^DONN,F,19780405\r\n```\r\n\r\nI will attempt this code:\r\n\r\n    import java.io.bufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.printWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    public class FileReaderWriter\r\n\r\n    {\r\n\tpublic static void main(String[]args) throws IOException\r\n\t{\r\n\t\tBufferedReader reader = null ;\r\n\t\tPrinterWriter outputStream = null;\r\n\t\tArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();\t\t\r\n\t\ttry{\r\n\t\t\treader = new BufferedReader( new FileReader(&quot;Input.txt&quot;));\r\n\t\t\toutputstream = new PrintWriter(new FileWriter(&quot;Output.txt&quot;));\r\n\t\t\tString file;\r\n\t\t\twhile ((file = reader.readLine())!= null){\r\n\t\t\t\trows.add(file);\r\n\t\t\t}\r\n\t\t\tCollections.sort(rows);\r\n\t\t\tString[] strArr = rows.toArray(new String[0]);\r\n\t\t\tfor(String cur : strArr);\r\n\t\t\toutputStream.println(cur);\r\n\t\t} finally {\r\n\t\t\tif(reader != null){\r\n\t\t\t\treader.closr();\r\n\t\t\t}\r\n\t\t\tif(outputStream != null){\r\n\t\t\t\toutputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }","title":"How can Sort the file&#39;s data to another file In Java?","body":"<p>Given a list of patient demographics for several patients, we want to be able to group the data by patients with the same name. The demographics\nprovided are (in order): Patient ID, Patient Name, Patient Sex, and Patient Date Of Birth. For example, here's a sample input:</p>\n<pre><code>PID1,POND^AMY,F,19890224\n\nPID2,WILLIAMS^RORY,M,19881102\n\nPID3,POND^AMY,F,19890224\n\nPID4,CLARA^OSWALD,F,19890224\n\nPID5,POND^AMY,F,20010911\n\nPID6,CLAR^OSWALD,F,19890224\n\nPID7,POND^AMELIA,F,20010911\n\nPID8,CLARA^oswald,F,19890224\n\nPID9,TYLER^ROSE,F,20000101\n\nPID10,NOBLE^DONNA,F,19780405\n\nPID11,TYLER^ROSE,F,20000101\n\nPID12,NOBLE^DONN,F,19780405\n\nPID13,TYLER^ROSE,F,20000102\n\nPID14,CLARA^OSWALD^COLEMAN,F,19890224\n\nThe expected output is:\n\n0:\n\nPID1,POND^AMY,F,19890224\n\nPID3,POND^AMY,F,19890224\n\nPID5,POND^AMY,F,20010911\n\n1:\n\nPID2,WILLIAMS^RORY,M,19881102\n\n2:\n\nPID4,CLARA^OSWALD,F,19890224\n\nPID8,CLARA^oswald,F,19890224\n\nPID14,CLARA^OSWALD^COLEMAN,F,19890224\n\n3:\n\nPID6,CLAR^OSWALD,F,19890224\n\n4:\n\nPID7,POND^AMELIA,F,20010911\n\n5:\n\nPID9,TYLER^ROSE,F,20000101\n\nPID11,TYLER^ROSE,F,20000101\n\nPID13,TYLER^ROSE,F,20000102\n\n6:\n\nPID10,NOBLE^DONNA,F,19780405\n\n7:\n\nPID12,NOBLE^DONN,F,19780405\n</code></pre>\n<p>I will attempt this code:</p>\n<pre><code>import java.io.bufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.printWriter;\nimport java.util.ArrayList;\nimport java.util.Collection;\npublic class FileReaderWriter\n\n{\npublic static void main(String[]args) throws IOException\n{\n    BufferedReader reader = null ;\n    PrinterWriter outputStream = null;\n    ArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();       \n    try{\n        reader = new BufferedReader( new FileReader(&quot;Input.txt&quot;));\n        outputstream = new PrintWriter(new FileWriter(&quot;Output.txt&quot;));\n        String file;\n        while ((file = reader.readLine())!= null){\n            rows.add(file);\n        }\n        Collections.sort(rows);\n        String[] strArr = rows.toArray(new String[0]);\n        for(String cur : strArr);\n        outputStream.println(cur);\n    } finally {\n        if(reader != null){\n            reader.closr();\n        }\n        if(outputStream != null){\n            outputStream.close();\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","jdbc","plsql"],"answers":[{"tags":[],"owner":{"account_id":14174206,"reputation":31,"user_id":11448656,"display_name":"Seiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589027069,"creation_date":1589027069,"answer_id":61696666,"question_id":61695171,"body_markdown":"Including orai18n.jar to the project libraries solved this...","title":"Getting ??? output from dbms_output.get_lines using JDBC","body":"<p>Including orai18n.jar to the project libraries solved this...</p>\n"},{"tags":[],"owner":{"account_id":25345153,"reputation":1,"user_id":19162968,"display_name":"Sanky Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653064821,"creation_date":1653064821,"answer_id":72322196,"question_id":61695171,"body_markdown":"Just including **orai18n.jar** to the project libraries solved this. This jar has the configuration information to support all Oracle character sets in Advance Data Types (Objects).","title":"Getting ??? output from dbms_output.get_lines using JDBC","body":"<p>Just including <strong>orai18n.jar</strong> to the project libraries solved this. This jar has the configuration information to support all Oracle character sets in Advance Data Types (Objects).</p>\n"}],"owner":{"account_id":14174206,"reputation":31,"user_id":11448656,"display_name":"Seiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653064821,"creation_date":1589019759,"question_id":61695171,"body_markdown":"According to this question: https://stackoverflow.com/questions/47830370/getting-output-from-dbms-output-get-lines-using-jdbc\r\n\r\nI used the code:\r\n\r\n```\r\ntry (Statement s = conn1.createStatement()) {\r\n\r\n    try {\r\n        s.executeUpdate(&quot;begin dbms_output.enable(); end;&quot;);\r\n        s.executeUpdate(&quot;begin dbms_output.put_line(&#39;abc&#39;); end;&quot;);\r\n        s.executeUpdate(&quot;begin dbms_output.put_line(&#39;hello&#39;); end;&quot;);\r\n        s.executeUpdate(&quot;begin dbms_output.put_line(&#39;so cool&#39;); end;&quot;);\r\n\r\n        try (CallableStatement call = conn1.prepareCall(\r\n            &quot;declare &quot;\r\n          + &quot;  num integer := 1000;&quot;\r\n          + &quot;begin &quot;\r\n          + &quot;  dbms_output.get_lines(?, num);&quot;\r\n          + &quot;end;&quot;\r\n        )) {\r\n            call.registerOutParameter(1, java.sql.Types.ARRAY, &quot;DBMSOUTPUT_LINESARRAY&quot;);\r\n            call.execute();\r\n\r\n            Array array = null;\r\n            try {\r\n                array = call.getArray(1);\r\n                System.out.println(Arrays.asList((Object[]) array.getArray()));\r\n            }\r\n            finally {\r\n                if (array != null)\r\n                    array.free();\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        s.executeUpdate(&quot;begin dbms_output.disable(); end;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nbut received as a result:\r\n\r\n```\r\n[???, ???, ???, null]\r\n```\r\n\r\nwhen i was supposed to get:\r\n\r\n```\r\n[abc, hello, so cool, null]\r\n```\r\n\r\nWhat could be the reason for this and how can this be fixed?","title":"Getting ??? output from dbms_output.get_lines using JDBC","body":"<p>According to this question: <a href=\"https://stackoverflow.com/questions/47830370/getting-output-from-dbms-output-get-lines-using-jdbc\">Getting output from dbms_output.get_lines using JDBC</a></p>\n\n<p>I used the code:</p>\n\n<pre><code>try (Statement s = conn1.createStatement()) {\n\n    try {\n        s.executeUpdate(\"begin dbms_output.enable(); end;\");\n        s.executeUpdate(\"begin dbms_output.put_line('abc'); end;\");\n        s.executeUpdate(\"begin dbms_output.put_line('hello'); end;\");\n        s.executeUpdate(\"begin dbms_output.put_line('so cool'); end;\");\n\n        try (CallableStatement call = conn1.prepareCall(\n            \"declare \"\n          + \"  num integer := 1000;\"\n          + \"begin \"\n          + \"  dbms_output.get_lines(?, num);\"\n          + \"end;\"\n        )) {\n            call.registerOutParameter(1, java.sql.Types.ARRAY, \"DBMSOUTPUT_LINESARRAY\");\n            call.execute();\n\n            Array array = null;\n            try {\n                array = call.getArray(1);\n                System.out.println(Arrays.asList((Object[]) array.getArray()));\n            }\n            finally {\n                if (array != null)\n                    array.free();\n            }\n        }\n    }\n    finally {\n        s.executeUpdate(\"begin dbms_output.disable(); end;\");\n    }\n}\n</code></pre>\n\n<p>but received as a result:</p>\n\n<pre><code>[???, ???, ???, null]\n</code></pre>\n\n<p>when i was supposed to get:</p>\n\n<pre><code>[abc, hello, so cool, null]\n</code></pre>\n\n<p>What could be the reason for this and how can this be fixed?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"answers":[{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653064435,"creation_date":1653064435,"answer_id":72322133,"question_id":72321354,"body_markdown":"There are a few issues with the code snippet you have provided so I would advise you firstly to have a read through the [project reactor reference documentation][1]\r\n\r\nThe code snippet below will hopefully achieve what you are looking for. Though if the desire is to run this as part of a reactive pipeline, you will want to return the `Flux` from this method instead of subscribing. The underlying framework (spring boot in this case) will initiate the subscription.\r\n```java\r\n        List&lt;String&gt; urls = Arrays.asList(&quot;https://google.com&quot;, &quot;https://yahoo.com&quot;);\r\n        WebClient webClient = WebClient.builder().build();\r\n\r\n        Flux.fromStream(urls.stream())\r\n                .flatMap(url -&gt; webClient.get()\r\n                        .uri(url)\r\n                        .retrieve()\r\n                        .bodyToMono(String.class))\r\n                .doOnNext(s -&gt; System.out.println(&quot;Response: &quot; + s))\r\n                .subscribe();\r\n```\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/","title":"Consuming external api using webclient","body":"<p>There are a few issues with the code snippet you have provided so I would advise you firstly to have a read through the <a href=\"https://projectreactor.io/docs/core/release/reference/\" rel=\"nofollow noreferrer\">project reactor reference documentation</a></p>\n<p>The code snippet below will hopefully achieve what you are looking for. Though if the desire is to run this as part of a reactive pipeline, you will want to return the <code>Flux</code> from this method instead of subscribing. The underlying framework (spring boot in this case) will initiate the subscription.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;String&gt; urls = Arrays.asList(&quot;https://google.com&quot;, &quot;https://yahoo.com&quot;);\n        WebClient webClient = WebClient.builder().build();\n\n        Flux.fromStream(urls.stream())\n                .flatMap(url -&gt; webClient.get()\n                        .uri(url)\n                        .retrieve()\n                        .bodyToMono(String.class))\n                .doOnNext(s -&gt; System.out.println(&quot;Response: &quot; + s))\n                .subscribe();\n</code></pre>\n"}],"owner":{"account_id":25203397,"reputation":1,"user_id":19042049,"display_name":"Ajay D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72322133,"answer_count":1,"score":0,"last_activity_date":1653064435,"creation_date":1653060174,"question_id":72321354,"body_markdown":"I am having list of urls. I&#39;m trying to consume jsondata from those api&#39;s. Below is the code which i tried but I&#39;m getting **Mono.flatMapMany-&gt; at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToFlux(DefaultWebClient.java:554)**\r\n\r\nIf I use .block() I&#39;m getting the jsonData for those api&#39;s but the thing is it becomes synchronous when i use .block(). I want it to be async. Can anyone help me out.\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\n    List&lt;String&gt; urls=getUrls();\r\n    Flux&lt;String&gt; k=null;\r\n    for(int i=0;i&lt;urls.size();i++){\r\n        k=webClientBuilder.\r\n          build.get().\r\n          uri(urls.get(i)).retrieve().\r\n          bodyToFlux(String.class);\r\n    }\r\n\r\n","title":"Consuming external api using webclient","body":"<p>I am having list of urls. I'm trying to consume jsondata from those api's. Below is the code which i tried but I'm getting <strong>Mono.flatMapMany-&gt; at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToFlux(DefaultWebClient.java:554)</strong></p>\n<p>If I use .block() I'm getting the jsonData for those api's but the thing is it becomes synchronous when i use .block(). I want it to be async. Can anyone help me out.</p>\n<p>Thanks in advance.</p>\n<pre><code>List&lt;String&gt; urls=getUrls();\nFlux&lt;String&gt; k=null;\nfor(int i=0;i&lt;urls.size();i++){\n    k=webClientBuilder.\n      build.get().\n      uri(urls.get(i)).retrieve().\n      bodyToFlux(String.class);\n}\n</code></pre>\n"},{"tags":["java","spring-integration","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1577090750,"creation_date":1495063067,"answer_id":44036195,"question_id":44035327,"body_markdown":"That is exactly scenario what we are doing [now][1] with the `MockMessageHandler` implementation.\r\n\r\n\r\nLooks like you go right way with mocking to prevent further action in that `fileNotFoundFlow`, but miss some simple tricks:\r\n\r\nYou have to `stop()` the real `.handle((payload, headers) )` endpoint on that `fileNotFoundChannel`. That way it will unsubscribe from the channel and won&#39;t consume messages any more. For this purpose I suggest to do:\r\n\r\n    return IntegrationFlows.from(&quot;fileNotFoundChannel&quot;)\r\n    .handle((payload, headers) -&gt;  {\r\n      LOG.info(&quot;File Not Found&quot;);\r\n      return payload;\r\n    }, e -&gt; e.id(&quot;fileNotFoundEndpoint&quot;))\r\n\r\n\r\nAnd in the test class\r\n         \r\n    @Autowired\r\n    @Qualifier(&quot;fileNotFoundEndpoint&quot;)\r\n    AbstractEndpoint fileNotFoundEndpoint;\r\n     ...\r\n\r\n    @Test\r\n    public void initiateAlarmAck_noFileFound_verifyMessageOnfileNotFoundChannel(){\r\n      this.fileNotFoundEndpoint.stop();\r\n    \r\n      MessageHandler mockMessageHandler = mock(MessageHandler.class);\r\n    \r\n      fileNotFoundChannel.subscribe(mockMessageHandler);\r\n    \r\n    \r\n      AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway gateway = applicationContext.getBean(AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway.class);\r\n      gateway.initiateAcknowledgeAlarm();\r\n    \r\n      processAckAlarmInputChannel.send(MessageBuilder.withPayload(new Date()).build());\r\n      verify(mockMessageHandler).handleMessage(any());\r\n    }\r\n\r\n\r\nPay, please, attention, how I have moved mocking and subscribing before sending message to the channel.\r\n\r\nWith the new `MockIntegrationContext` features the Framework will take care about that stuff for you. But yeah... As with any unit test, the mocks must be prepared before interaction.\r\n\r\n**UPDATE**\r\n\r\nWorking sample:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration\r\n    public class MockMessageHandlerTests {\r\n    \r\n    @Autowired\r\n    private SubscribableChannel fileNotFoundChannel;\r\n    \r\n    @Autowired\r\n    private AbstractEndpoint fileNotFoundEndpoint;\r\n    \r\n    @Test\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public void testMockMessageHandler() {\r\n    \tthis.fileNotFoundEndpoint.stop();\r\n    \r\n    \tMessageHandler mockMessageHandler = mock(MessageHandler.class);\r\n    \r\n    \tthis.fileNotFoundChannel.subscribe(mockMessageHandler);\r\n    \r\n    \tGenericMessage&lt;String&gt; message = new GenericMessage&lt;&gt;(&quot;test&quot;);\r\n    \tthis.fileNotFoundChannel.send(message);\r\n    \r\n    \tArgumentCaptor&lt;Message&lt;?&gt;&gt; messageArgumentCaptor = ArgumentCaptor.forClass(Message.class);\r\n    \r\n    \tverify(mockMessageHandler).handleMessage(messageArgumentCaptor.capture());\r\n    \r\n    \tassertSame(message, messageArgumentCaptor.getValue());\r\n    }\r\n    \r\n    @Configuration\r\n    @EnableIntegration\r\n    public static class Config {\r\n    \r\n    \t@Bean\r\n    \tpublic IntegrationFlow fileNotFoundFlow() {\r\n    \t\treturn IntegrationFlows.from(&quot;fileNotFoundChannel&quot;)\r\n    \t\t.&lt;Object&gt;handle((payload, headers) -&gt; {\r\n    \t\t\tSystem.out.println(payload);\r\n    \t\t\treturn payload;\r\n    \t\t}, e -&gt; e.id(&quot;fileNotFoundEndpoint&quot;))\r\n    \t\t.channel(&quot;fileFoundChannel&quot;)\r\n    \t\t.get();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/spring-projects/spring-integration/pull/2148\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unit Test Spring Integration flow DSL","body":"<p>That is exactly scenario what we are doing <a href=\"https://github.com/spring-projects/spring-integration/pull/2148\" rel=\"noreferrer\">now</a> with the <code>MockMessageHandler</code> implementation.</p>\n\n<p>Looks like you go right way with mocking to prevent further action in that <code>fileNotFoundFlow</code>, but miss some simple tricks:</p>\n\n<p>You have to <code>stop()</code> the real <code>.handle((payload, headers) )</code> endpoint on that <code>fileNotFoundChannel</code>. That way it will unsubscribe from the channel and won't consume messages any more. For this purpose I suggest to do:</p>\n\n<pre><code>return IntegrationFlows.from(\"fileNotFoundChannel\")\n.handle((payload, headers) -&gt;  {\n  LOG.info(\"File Not Found\");\n  return payload;\n}, e -&gt; e.id(\"fileNotFoundEndpoint\"))\n</code></pre>\n\n<p>And in the test class</p>\n\n<pre><code>@Autowired\n@Qualifier(\"fileNotFoundEndpoint\")\nAbstractEndpoint fileNotFoundEndpoint;\n ...\n\n@Test\npublic void initiateAlarmAck_noFileFound_verifyMessageOnfileNotFoundChannel(){\n  this.fileNotFoundEndpoint.stop();\n\n  MessageHandler mockMessageHandler = mock(MessageHandler.class);\n\n  fileNotFoundChannel.subscribe(mockMessageHandler);\n\n\n  AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway gateway = applicationContext.getBean(AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway.class);\n  gateway.initiateAcknowledgeAlarm();\n\n  processAckAlarmInputChannel.send(MessageBuilder.withPayload(new Date()).build());\n  verify(mockMessageHandler).handleMessage(any());\n}\n</code></pre>\n\n<p>Pay, please, attention, how I have moved mocking and subscribing before sending message to the channel.</p>\n\n<p>With the new <code>MockIntegrationContext</code> features the Framework will take care about that stuff for you. But yeah... As with any unit test, the mocks must be prepared before interaction.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Working sample:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration\npublic class MockMessageHandlerTests {\n\n@Autowired\nprivate SubscribableChannel fileNotFoundChannel;\n\n@Autowired\nprivate AbstractEndpoint fileNotFoundEndpoint;\n\n@Test\n@SuppressWarnings(\"unchecked\")\npublic void testMockMessageHandler() {\n    this.fileNotFoundEndpoint.stop();\n\n    MessageHandler mockMessageHandler = mock(MessageHandler.class);\n\n    this.fileNotFoundChannel.subscribe(mockMessageHandler);\n\n    GenericMessage&lt;String&gt; message = new GenericMessage&lt;&gt;(\"test\");\n    this.fileNotFoundChannel.send(message);\n\n    ArgumentCaptor&lt;Message&lt;?&gt;&gt; messageArgumentCaptor = ArgumentCaptor.forClass(Message.class);\n\n    verify(mockMessageHandler).handleMessage(messageArgumentCaptor.capture());\n\n    assertSame(message, messageArgumentCaptor.getValue());\n}\n\n@Configuration\n@EnableIntegration\npublic static class Config {\n\n    @Bean\n    public IntegrationFlow fileNotFoundFlow() {\n        return IntegrationFlows.from(\"fileNotFoundChannel\")\n        .&lt;Object&gt;handle((payload, headers) -&gt; {\n            System.out.println(payload);\n            return payload;\n        }, e -&gt; e.id(\"fileNotFoundEndpoint\"))\n        .channel(\"fileFoundChannel\")\n        .get();\n    }\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":299995,"reputation":397,"user_id":606901,"accept_rate":76,"display_name":"nkare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44036195,"answer_count":1,"score":4,"last_activity_date":1653064404,"creation_date":1495057878,"question_id":44035327,"body_markdown":"I am trying to unit test a simple flow where it is checking for existence of a file and then do some additional task.\r\n\r\nIntegrationFlow\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public IntegrationFlow initiateAlarmAck() {\r\n        return IntegrationFlows.from(&quot;processAckAlarmInputChannel&quot;)\r\n                .handle((payload, headers) -&gt;  {\r\n                    LOG.info(&quot;Received initiate ack alarm request at &quot; + payload);\r\n                    File watermarkFile = getWatermarkFile();\r\n                    if(watermarkFile.isFile()){\r\n                        LOG.info(&quot;Watermark File exists&quot;);\r\n                        return true;\r\n                    }else{\r\n                        LOG.info(&quot;File does not exists&quot;);\r\n                        return false;\r\n                    }\r\n                })\r\n                .&lt;Boolean, String&gt;route(p -&gt; fileRouterFlow(p))\r\n                .get();\r\n    }\r\n    File getWatermarkFile(){\r\n        return new File(eventWatermarkFile);\r\n    }\r\n\r\n    @Router\r\n    public String fileRouterFlow(boolean fileExits){\r\n        if(fileExits)\r\n            return &quot;fileFoundChannel&quot;;\r\n        else\r\n            return &quot;fileNotFoundChannel&quot;;\r\n    }\r\n\r\nThere is another integration flow which pick a message from `fileNotFoundChannel` and does additional processing. I do not want to unit test this portion. How do I stop my test to not do further and stop after putting a message on `fileNotFoundChannel`?\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public IntegrationFlow fileNotFoundFlow() {\r\n        return IntegrationFlows.from(&quot;fileNotFoundChannel&quot;)\r\n                .handle((payload, headers) -&gt;  {\r\n                    LOG.info(&quot;File Not Found&quot;);\r\n                    return payload;\r\n                })\r\n                .handle(this::getLatestAlarmEvent)\r\n                .handle(this::setWaterMarkEventInFile)\r\n                .channel(&quot;fileFoundChannel&quot;)\r\n                .get();\r\n    }\r\n\r\nUnit Test Class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @Import(AcknowledgeAlarmEventFlow.class)\r\n    @ContextConfiguration(classes = {AlarmAPIApplication.class})\r\n    @PropertySource(&quot;classpath:application.properties &quot;)\r\n    public class AcknowledgeAlarmEventFlowTest {\r\n\r\n    \r\n        @Autowired\r\n        ApplicationContext applicationContext;\r\n    \r\n        @Autowired\r\n        RestTemplate restTemplate;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;processAckAlarmInputChannel&quot;)\r\n        DirectChannel processAckAlarmInputChannel;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;fileNotFoundChannel&quot;)\r\n        DirectChannel fileNotFoundChannel;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;fileFoundChannel&quot;)\r\n        DirectChannel fileFoundChannel;\r\n    \r\n        @Mock\r\n        File mockFile;\r\n    \r\n        @Test\r\n        public void initiateAlarmAck_noFileFound_verifyMessageOnfileNotFoundChannel(){\r\n    \r\n    \r\n            AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway gateway = applicationContext.getBean(AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway.class);\r\n            gateway.initiateAcknowledgeAlarm();\r\n    \r\n            processAckAlarmInputChannel.send(MessageBuilder.withPayload(new Date()).build());\r\n            MessageHandler mockMessageHandler = mock(MessageHandler.class);\r\n    \r\n            fileNotFoundChannel.subscribe(mockMessageHandler);\r\n            verify(mockMessageHandler).handleMessage(any());\r\n        }\r\n    }\r\n\r\nThanks in advance\r\n\r\n\r\n","title":"Unit Test Spring Integration flow DSL","body":"<p>I am trying to unit test a simple flow where it is checking for existence of a file and then do some additional task.</p>\n\n<p>IntegrationFlow</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic IntegrationFlow initiateAlarmAck() {\n    return IntegrationFlows.from(\"processAckAlarmInputChannel\")\n            .handle((payload, headers) -&gt;  {\n                LOG.info(\"Received initiate ack alarm request at \" + payload);\n                File watermarkFile = getWatermarkFile();\n                if(watermarkFile.isFile()){\n                    LOG.info(\"Watermark File exists\");\n                    return true;\n                }else{\n                    LOG.info(\"File does not exists\");\n                    return false;\n                }\n            })\n            .&lt;Boolean, String&gt;route(p -&gt; fileRouterFlow(p))\n            .get();\n}\nFile getWatermarkFile(){\n    return new File(eventWatermarkFile);\n}\n\n@Router\npublic String fileRouterFlow(boolean fileExits){\n    if(fileExits)\n        return \"fileFoundChannel\";\n    else\n        return \"fileNotFoundChannel\";\n}\n</code></pre>\n\n<p>There is another integration flow which pick a message from <code>fileNotFoundChannel</code> and does additional processing. I do not want to unit test this portion. How do I stop my test to not do further and stop after putting a message on <code>fileNotFoundChannel</code>?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic IntegrationFlow fileNotFoundFlow() {\n    return IntegrationFlows.from(\"fileNotFoundChannel\")\n            .handle((payload, headers) -&gt;  {\n                LOG.info(\"File Not Found\");\n                return payload;\n            })\n            .handle(this::getLatestAlarmEvent)\n            .handle(this::setWaterMarkEventInFile)\n            .channel(\"fileFoundChannel\")\n            .get();\n}\n</code></pre>\n\n<p>Unit Test Class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@Import(AcknowledgeAlarmEventFlow.class)\n@ContextConfiguration(classes = {AlarmAPIApplication.class})\n@PropertySource(\"classpath:application.properties \")\npublic class AcknowledgeAlarmEventFlowTest {\n\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @Autowired\n    @Qualifier(\"processAckAlarmInputChannel\")\n    DirectChannel processAckAlarmInputChannel;\n\n    @Autowired\n    @Qualifier(\"fileNotFoundChannel\")\n    DirectChannel fileNotFoundChannel;\n\n    @Autowired\n    @Qualifier(\"fileFoundChannel\")\n    DirectChannel fileFoundChannel;\n\n    @Mock\n    File mockFile;\n\n    @Test\n    public void initiateAlarmAck_noFileFound_verifyMessageOnfileNotFoundChannel(){\n\n\n        AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway gateway = applicationContext.getBean(AcknowledgeAlarmEventFlow.ProcessAcknowledgeAlarmGateway.class);\n        gateway.initiateAcknowledgeAlarm();\n\n        processAckAlarmInputChannel.send(MessageBuilder.withPayload(new Date()).build());\n        MessageHandler mockMessageHandler = mock(MessageHandler.class);\n\n        fileNotFoundChannel.subscribe(mockMessageHandler);\n        verify(mockMessageHandler).handleMessage(any());\n    }\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","multithreading","rest","sockets","spring-websocket"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1653061698,"post_id":72321291,"comment_id":127767054,"body_markdown":"how exactly you will assign priorities to the requests ?","body":"how exactly you will assign priorities to the requests ?"},{"owner":{"account_id":14670974,"reputation":23,"user_id":10595461,"display_name":"Mike"},"score":0,"creation_date":1653070668,"post_id":72321291,"comment_id":127769983,"body_markdown":"For that I have planned to add a priority queue with comparator.","body":"For that I have planned to add a priority queue with comparator."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653064325,"creation_date":1653063825,"answer_id":72322026,"question_id":72321291,"body_markdown":"So what about using Async REST API?\r\n\r\n- When a call arrives, put the body and the async response in a Priority Queue\r\n- Have a single background thread polling from the Queue to execute `do_something` \r\n- Once `do_something` is finished, complete the response\r\n\r\nLike this:\r\n\r\n    private PriorityBlockingQueue&lt;Pair&lt;String, AsyncResponse&gt;&gt; queue =\r\n           new PriorityBlockingQueue(size, comparator);\r\n\r\n    @POST\r\n    @Path(&quot;/execute&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public void run(String body, @Suspended AsyncResponse response){\r\n        /// \r\n        queue.offer(Pair.of(body, response));\r\n    }\r\n    \r\n    private void do_something(){\r\n        /// method body\r\n    }\r\n\r\n    // background thread...\r\n    {\r\n       new Thread(() -&gt; {\r\n         while(true) {\r\n           Pair&lt;String, AsyncResponse&gt; p = queue.take();\r\n           Response r = do_something(p.left());\r\n           p.right().resume(r);\r\n         }\r\n       }).start();\r\n    }\r\n\r\nThe comparator needs to be able to compare the Pair object based on the priorities of the request bodies. Or you can create your own class that implements Comparable.","title":"Is there a way to allow only one request to be executed at a time in java rest service based on the priority of the request?","body":"<p>So what about using Async REST API?</p>\n<ul>\n<li>When a call arrives, put the body and the async response in a Priority Queue</li>\n<li>Have a single background thread polling from the Queue to execute <code>do_something</code></li>\n<li>Once <code>do_something</code> is finished, complete the response</li>\n</ul>\n<p>Like this:</p>\n<pre><code>private PriorityBlockingQueue&lt;Pair&lt;String, AsyncResponse&gt;&gt; queue =\n       new PriorityBlockingQueue(size, comparator);\n\n@POST\n@Path(&quot;/execute&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic void run(String body, @Suspended AsyncResponse response){\n    /// \n    queue.offer(Pair.of(body, response));\n}\n\nprivate void do_something(){\n    /// method body\n}\n\n// background thread...\n{\n   new Thread(() -&gt; {\n     while(true) {\n       Pair&lt;String, AsyncResponse&gt; p = queue.take();\n       Response r = do_something(p.left());\n       p.right().resume(r);\n     }\n   }).start();\n}\n</code></pre>\n<p>The comparator needs to be able to compare the Pair object based on the priorities of the request bodies. Or you can create your own class that implements Comparable.</p>\n"}],"owner":{"account_id":14670974,"reputation":23,"user_id":10595461,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72322026,"answer_count":1,"score":0,"last_activity_date":1653064325,"creation_date":1653059867,"question_id":72321291,"body_markdown":"I have a Java service with REST API. From the client side there can be multiple request sent at a time, and I want one request to be implemented at a time on server side by the API. The problem is that I need to prioritize the request on the server side. On other words, if there are 10 request sent at a time, I need to set priority on all 10 request at a time using a priority queue, and based on priority one request would be selected. The request can be sent from the same client or multiple clients.\r\n\r\n    @POST\r\n    @Path(&quot;/execute&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response execute(String body){\r\n        /// \r\n        do_something();\r\n    }\r\n\r\n    private void do_something(){\r\n        /// method body\r\n    }\r\n    \r\nNow, in the above code this `do_something()` can be executed for one request at a time.\r\n\r\nIs there any solution for that? I have seen some multi-threading solutions, but none of them are helpful as my requirement is to assign priority to the requests.","title":"Is there a way to allow only one request to be executed at a time in java rest service based on the priority of the request?","body":"<p>I have a Java service with REST API. From the client side there can be multiple request sent at a time, and I want one request to be implemented at a time on server side by the API. The problem is that I need to prioritize the request on the server side. On other words, if there are 10 request sent at a time, I need to set priority on all 10 request at a time using a priority queue, and based on priority one request would be selected. The request can be sent from the same client or multiple clients.</p>\n<pre><code>@POST\n@Path(&quot;/execute&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response execute(String body){\n    /// \n    do_something();\n}\n\nprivate void do_something(){\n    /// method body\n}\n</code></pre>\n<p>Now, in the above code this <code>do_something()</code> can be executed for one request at a time.</p>\n<p>Is there any solution for that? I have seen some multi-threading solutions, but none of them are helpful as my requirement is to assign priority to the requests.</p>\n"},{"tags":["java","android","accelerometer","android-sensors","sensormanager"],"answers":[{"tags":[],"owner":{"account_id":13327881,"reputation":1038,"user_id":9620269,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653064296,"creation_date":1653064296,"answer_id":72322111,"question_id":72311154,"body_markdown":"Based on this [answer][1], you could also define your own rate, for example 1000 ms = 1s:\r\n\r\n```java\r\n @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n        Sensor mySensor = sensorEvent.sensor;\r\n\r\n        if (mySensor.getType() == Sensor.TYPE_ACCELEROMETER) {\r\n            x = sensorEvent.values[0];\r\n            y = sensorEvent.values[1];\r\n            z = sensorEvent.values[2];\r\n            rootSquare = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n            \r\n            //it reads every second 10 times ie 200 millisecon\r\n}\r\n\r\n\r\n @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n    int READINGRATE_ONE_SEC = 1000000;\r\n    sensorManager.registerListener(this, accelorometer, READINGRATE_ONE_SEC);\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10044158/what-is-the-difference-between-sensor-delay-normal-sensor-delay-game-sensor-de","title":"How to read only once from Android build in Accelerometer per second?","body":"<p>Based on this <a href=\"https://stackoverflow.com/questions/10044158/what-is-the-difference-between-sensor-delay-normal-sensor-delay-game-sensor-de\">answer</a>, you could also define your own rate, for example 1000 ms = 1s:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n        Sensor mySensor = sensorEvent.sensor;\n\n        if (mySensor.getType() == Sensor.TYPE_ACCELEROMETER) {\n            x = sensorEvent.values[0];\n            y = sensorEvent.values[1];\n            z = sensorEvent.values[2];\n            rootSquare = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n            \n            //it reads every second 10 times ie 200 millisecon\n}\n\n\n @Override\n    protected void onResume() {\n        super.onResume();\n\n    int READINGRATE_ONE_SEC = 1000000;\n    sensorManager.registerListener(this, accelorometer, READINGRATE_ONE_SEC);\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":20591283,"reputation":135,"user_id":15114844,"display_name":"yamut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72322111,"answer_count":1,"score":0,"last_activity_date":1653064296,"creation_date":1652994883,"question_id":72311154,"body_markdown":"With help of sensorManager I am reading accelerometer reading. Currently slowest setting ie SENSOR_DELEY_NORMAL ,accelerometer  reads around 10 times every second. Is there any way by which it can reduce sending reading , may be once every second. \r\n\r\n\r\n\r\n\r\n\r\n     @Override\r\n        public void onSensorChanged(SensorEvent sensorEvent) {\r\n            Sensor mySensor = sensorEvent.sensor;\r\n    \r\n            if (mySensor.getType() == Sensor.TYPE_ACCELEROMETER) {\r\n                x = sensorEvent.values[0];\r\n                y = sensorEvent.values[1];\r\n                z = sensorEvent.values[2];\r\n                rootSquare = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n                \r\n                //it reads every second 10 times ie 200 millisecon\r\n    }\r\n    \r\n    \r\n     @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n        sensorManager.registerListener(this, accelorometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    \r\n        }","title":"How to read only once from Android build in Accelerometer per second?","body":"<p>With help of sensorManager I am reading accelerometer reading. Currently slowest setting ie SENSOR_DELEY_NORMAL ,accelerometer  reads around 10 times every second. Is there any way by which it can reduce sending reading , may be once every second.</p>\n<pre><code> @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n        Sensor mySensor = sensorEvent.sensor;\n\n        if (mySensor.getType() == Sensor.TYPE_ACCELEROMETER) {\n            x = sensorEvent.values[0];\n            y = sensorEvent.values[1];\n            z = sensorEvent.values[2];\n            rootSquare = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n            \n            //it reads every second 10 times ie 200 millisecon\n}\n\n\n @Override\n    protected void onResume() {\n        super.onResume();\n\n    sensorManager.registerListener(this, accelorometer, SensorManager.SENSOR_DELAY_NORMAL);\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1395940371,"post_id":22694489,"comment_id":34577519,"body_markdown":"Unrelated note: consider to use try-with-resources to close your streams.","body":"Unrelated note: consider to use try-with-resources to close your streams."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1395940590,"post_id":22694489,"comment_id":34577655,"body_markdown":"Do you get any error?","body":"Do you get any error?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1395942373,"post_id":22694489,"comment_id":34578792,"body_markdown":"Please provide the relevant part of the stack-trace.","body":"Please provide the relevant part of the stack-trace."},{"owner":{"account_id":4239276,"reputation":21,"user_id":3469645,"display_name":"mariposa"},"score":0,"creation_date":1395942966,"post_id":22694489,"comment_id":34579126,"body_markdown":"it is necessary the stack-trace? no more information than NullPointerException, but maybe because the Inputstream is coming from the server , so i have to  BufferedInputStream so i can do the reset and mark","body":"it is necessary the stack-trace? no more information than NullPointerException, but maybe because the Inputstream is coming from the server , so i have to  BufferedInputStream so i can do the reset and mark"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1395943986,"post_id":22694489,"comment_id":34579769,"body_markdown":"Well the question is: which object reference was null and where was it called?","body":"Well the question is: which object reference was null and where was it called?"},{"owner":{"account_id":4239276,"reputation":21,"user_id":3469645,"display_name":"mariposa"},"score":0,"creation_date":1395952343,"post_id":22694489,"comment_id":34585116,"body_markdown":"the imputStream that i&#39;m givin it as a parameter","body":"the imputStream that i&#39;m givin it as a parameter"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1395997684,"post_id":22694489,"comment_id":34602600,"body_markdown":"So then there is the problem. Show us how you&#39;re getting this input stream.","body":"So then there is the problem. Show us how you&#39;re getting this input stream."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1396014649,"post_id":22694489,"comment_id":34614120,"body_markdown":"&quot;_it is necessary the stack-trace?_&quot; Yes. It gives you more info than just that the error was an NPE. It will also tell you which line the error occurred on. With that we can direct you to the exact problem.","body":"&quot;<i>it is necessary the stack-trace?</i>&quot; Yes. It gives you more info than just that the error was an NPE. It will also tell you which line the error occurred on. With that we can direct you to the exact problem."},{"owner":{"account_id":4239276,"reputation":21,"user_id":3469645,"display_name":"mariposa"},"score":0,"creation_date":1396014774,"post_id":22694489,"comment_id":34614214,"body_markdown":"but i&#39;m getting the inputstream as an .tar.gz from the server and i can put it in an FTP server , but i cannot ungzip","body":"but i&#39;m getting the inputstream as an .tar.gz from the server and i can put it in an FTP server , but i cannot ungzip"}],"owner":{"account_id":4239276,"reputation":21,"user_id":3469645,"display_name":"mariposa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653064211,"creation_date":1395940058,"question_id":22694489,"body_markdown":"i&#39;m trying to unGzip and unTar an inputStream in java , i have those methods :\r\n \r\n    public InputStream unTar(InputStream in) throws IOException {\r\n\r\n        TarInputStream myTarStream = new TarInputStream(in);\r\n        TarEntry entry = myTarStream.getNextEntry();\r\n        InputStream input = null;\r\n        while (entry != null) {\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            byte[] buff = new byte[1024];\r\n            int read;\r\n            do {\r\n                read = myTarStream.read(buff);\r\n                if (read != -1) {\r\n                    output.write(buff, 0, read);\r\n                }\r\n            } while (read != -1);\r\n            output.flush();\r\n            input = new ByteArrayInputStream(output.toByteArray());\r\n            entry = myTarStream.getNextEntry();\r\n        }\r\n        myTarStream.close();\r\n\r\n        return input;\r\n    }\r\n\r\n    public InputStream unGzipIt(InputStream in) {\r\n\r\n        byte[] buffer = new byte[1024];\r\n        InputStream outGZIPStream = null;\r\n        try {\r\n            ByteArrayOutputStream bytesOutput = new ByteArrayOutputStream();\r\n            GZIPInputStream gis = new GZIPInputStream(in);\r\n            int len;\r\n            while ((len = gis.read(buffer)) &gt; 0) {\r\n                bytesOutput.write(buffer, 0, len);\r\n            }\r\n            in.close();\r\n            bytesOutput.close();\r\n            outGZIPStream = new ByteArrayInputStream(bytesOutput.toByteArray());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return outGZIPStream;\r\n    }\r\nthe problem is when i passed an inputStream from a file in my local , it working, \r\nbut when i passed the inputStream from my server response , it doesn&#39;t work .\r\n\r\nshould i use reset and mark ? any help ? thank you\r\n\r\nthis i s how i&#39;m getting the inputStream : \r\n   \r\n\r\n     public InputStream getFolder(@PathParam(&quot;id&quot;) String envId, @PathParam(&quot;appName&quot;) String appName, @PathParam(&quot;imageType&quot;) String imageType,\r\n                                     @QueryParam(&quot;folderPath&quot;) String folderPath) throws EnvAutomationException, IOException {\r\n            Environment env = Envs.getEnvironmentManager().findEnvironment(envId);\r\n            ApplicationInstance appInst = env.getApplicationInstance(appName);\r\n            Container container = appInst.getContainer(imageType);\r\n            InputStream folderData = Envs.getContainerizationManager().getFolder(container, folderPath);\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            byte[] buff = new byte[1024];\r\n            int size = 0;\r\n            int read;\r\n            do {\r\n                read = folderData.read(buff);\r\n                if (read != -1) {\r\n                    size = size + read;\r\n                    output.write(buff, 0, read);\r\n                }\r\n            } while (read != -1);\r\n            output.flush();\r\n            byte[] bo = output.toByteArray();\r\n            InputStream input = new ByteArrayInputStream(bo);\r\n            InputStream inputGZIP = gzipIt(input);\r\n            return inputGZIP;\r\n        }\r\n\r\nsince it&#39;s a .tar file , i gizip it and this is the method to gzip;\r\n```\r\n public InputStream gzipIt(InputStream source) {\r\n\r\n        byte[] buffer = new byte[1024];\r\n        InputStream outGZIPStream = null;\r\n        try {\r\n            ByteArrayOutputStream bytesOutput = new ByteArrayOutputStream();\r\n            GZIPOutputStream gzos = new GZIPOutputStream(bytesOutput);\r\n            int len;\r\n            int size = 0;\r\n            while ((len = source.read(buffer)) &gt; 0) {\r\n                gzos.write(buffer, 0, len);\r\n                size = size + len;\r\n            }\r\n            source.close();\r\n            gzos.close();\r\n            byte[] bo = bytesOutput.toByteArray();\r\n            outGZIPStream = new ByteArrayInputStream(bytesOutput.toByteArray());\r\n            logger.info(&quot;folder tar size :&quot; + size +  &quot; ; folder gzip size  &quot; + bo.length);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return outGZIPStream;\r\n    }\r\n```","title":"UnGzip and Untar inputStream","body":"<p>i'm trying to unGzip and unTar an inputStream in java , i have those methods :</p>\n<pre><code>public InputStream unTar(InputStream in) throws IOException {\n\n    TarInputStream myTarStream = new TarInputStream(in);\n    TarEntry entry = myTarStream.getNextEntry();\n    InputStream input = null;\n    while (entry != null) {\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        byte[] buff = new byte[1024];\n        int read;\n        do {\n            read = myTarStream.read(buff);\n            if (read != -1) {\n                output.write(buff, 0, read);\n            }\n        } while (read != -1);\n        output.flush();\n        input = new ByteArrayInputStream(output.toByteArray());\n        entry = myTarStream.getNextEntry();\n    }\n    myTarStream.close();\n\n    return input;\n}\n\npublic InputStream unGzipIt(InputStream in) {\n\n    byte[] buffer = new byte[1024];\n    InputStream outGZIPStream = null;\n    try {\n        ByteArrayOutputStream bytesOutput = new ByteArrayOutputStream();\n        GZIPInputStream gis = new GZIPInputStream(in);\n        int len;\n        while ((len = gis.read(buffer)) &gt; 0) {\n            bytesOutput.write(buffer, 0, len);\n        }\n        in.close();\n        bytesOutput.close();\n        outGZIPStream = new ByteArrayInputStream(bytesOutput.toByteArray());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return outGZIPStream;\n}\n</code></pre>\n<p>the problem is when i passed an inputStream from a file in my local , it working,\nbut when i passed the inputStream from my server response , it doesn't work .</p>\n<p>should i use reset and mark ? any help ? thank you</p>\n<p>this i s how i'm getting the inputStream :</p>\n<pre><code> public InputStream getFolder(@PathParam(&quot;id&quot;) String envId, @PathParam(&quot;appName&quot;) String appName, @PathParam(&quot;imageType&quot;) String imageType,\n                                 @QueryParam(&quot;folderPath&quot;) String folderPath) throws EnvAutomationException, IOException {\n        Environment env = Envs.getEnvironmentManager().findEnvironment(envId);\n        ApplicationInstance appInst = env.getApplicationInstance(appName);\n        Container container = appInst.getContainer(imageType);\n        InputStream folderData = Envs.getContainerizationManager().getFolder(container, folderPath);\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        byte[] buff = new byte[1024];\n        int size = 0;\n        int read;\n        do {\n            read = folderData.read(buff);\n            if (read != -1) {\n                size = size + read;\n                output.write(buff, 0, read);\n            }\n        } while (read != -1);\n        output.flush();\n        byte[] bo = output.toByteArray();\n        InputStream input = new ByteArrayInputStream(bo);\n        InputStream inputGZIP = gzipIt(input);\n        return inputGZIP;\n    }\n</code></pre>\n<p>since it's a .tar file , i gizip it and this is the method to gzip;</p>\n<pre><code> public InputStream gzipIt(InputStream source) {\n\n        byte[] buffer = new byte[1024];\n        InputStream outGZIPStream = null;\n        try {\n            ByteArrayOutputStream bytesOutput = new ByteArrayOutputStream();\n            GZIPOutputStream gzos = new GZIPOutputStream(bytesOutput);\n            int len;\n            int size = 0;\n            while ((len = source.read(buffer)) &gt; 0) {\n                gzos.write(buffer, 0, len);\n                size = size + len;\n            }\n            source.close();\n            gzos.close();\n            byte[] bo = bytesOutput.toByteArray();\n            outGZIPStream = new ByteArrayInputStream(bytesOutput.toByteArray());\n            logger.info(&quot;folder tar size :&quot; + size +  &quot; ; folder gzip size  &quot; + bo.length);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return outGZIPStream;\n    }\n</code></pre>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":147,"is_accepted":true,"score":146,"last_activity_date":1653064076,"creation_date":1275914890,"answer_id":2989585,"question_id":2989560,"body_markdown":"You can use [`Class#getDeclaredFields()`][1] to get all declared fields of the class. You can use [`Field#get()`][2] to get the value. \r\n\r\nIn short:\r\n\r\n    Object someObject = getItSomehow();\r\n    for (Field field : someObject.getClass().getDeclaredFields()) {\r\n        field.setAccessible(true); // You might want to set modifier to public first.\r\n        Object value = field.get(someObject); \r\n        if (value != null) {\r\n            System.out.println(field.getName() + &quot;=&quot; + value);\r\n        }\r\n    }\r\n\r\nTo learn more about reflection, check the [Oracle tutorial on the subject][3].\r\n\r\nThat said, if that VO is a fullworthy Javabean, then the fields do not necessarily represent **real** properties of a VO. You would rather like to determine the public methods starting with `get` or `is` and then invoke it to grab the real property values.\r\n\r\n    for (Method method : someObject.getClass().getDeclaredMethods()) {\r\n        if (Modifier.isPublic(method.getModifiers())\r\n            &amp;&amp; method.getParameterTypes().length == 0\r\n            &amp;&amp; method.getReturnType() != void.class\r\n            &amp;&amp; (method.getName().startsWith(&quot;get&quot;) || method.getName().startsWith(&quot;is&quot;))\r\n        ) {\r\n            Object value = method.invoke(someObject);\r\n            if (value != null) {\r\n                System.out.println(method.getName() + &quot;=&quot; + value);\r\n            }\r\n        }\r\n    }\r\n\r\nThat in turn said, there may be more elegant ways to solve your actual problem. If you elaborate a bit more about the functional requirement for which you think that this is the right solution, then we may be able to suggest the right solution. There are many, *many* tools available to massage javabeans. There&#39;s even a built-in one provided by Java SE in the [`java.beans`][4] package.\r\n\r\n    BeanInfo beanInfo = Introspector.getBeanInfo(someObject.getClass());\r\n    for (PropertyDescriptor property : beanInfo.getPropertyDescriptors()) {\r\n        Method getter = property.getReadMethod(); \r\n        if (getter != null) {\r\n            Object value = getter.invoke(someObject);\r\n            if (value != null) {\r\n                System.out.println(property.getName() + &quot;=&quot; + value);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getDeclaredFields()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\r\n  [3]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/beans/package-summary.html","title":"How to get the fields in an Object via reflection?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getDeclaredFields()\" rel=\"noreferrer\"><code>Class#getDeclaredFields()</code></a> to get all declared fields of the class. You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>Field#get()</code></a> to get the value.</p>\n<p>In short:</p>\n<pre><code>Object someObject = getItSomehow();\nfor (Field field : someObject.getClass().getDeclaredFields()) {\n    field.setAccessible(true); // You might want to set modifier to public first.\n    Object value = field.get(someObject); \n    if (value != null) {\n        System.out.println(field.getName() + &quot;=&quot; + value);\n    }\n}\n</code></pre>\n<p>To learn more about reflection, check the <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">Oracle tutorial on the subject</a>.</p>\n<p>That said, if that VO is a fullworthy Javabean, then the fields do not necessarily represent <strong>real</strong> properties of a VO. You would rather like to determine the public methods starting with <code>get</code> or <code>is</code> and then invoke it to grab the real property values.</p>\n<pre><code>for (Method method : someObject.getClass().getDeclaredMethods()) {\n    if (Modifier.isPublic(method.getModifiers())\n        &amp;&amp; method.getParameterTypes().length == 0\n        &amp;&amp; method.getReturnType() != void.class\n        &amp;&amp; (method.getName().startsWith(&quot;get&quot;) || method.getName().startsWith(&quot;is&quot;))\n    ) {\n        Object value = method.invoke(someObject);\n        if (value != null) {\n            System.out.println(method.getName() + &quot;=&quot; + value);\n        }\n    }\n}\n</code></pre>\n<p>That in turn said, there may be more elegant ways to solve your actual problem. If you elaborate a bit more about the functional requirement for which you think that this is the right solution, then we may be able to suggest the right solution. There are many, <em>many</em> tools available to massage javabeans. There's even a built-in one provided by Java SE in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/beans/package-summary.html\" rel=\"noreferrer\"><code>java.beans</code></a> package.</p>\n<pre><code>BeanInfo beanInfo = Introspector.getBeanInfo(someObject.getClass());\nfor (PropertyDescriptor property : beanInfo.getPropertyDescriptors()) {\n    Method getter = property.getReadMethod(); \n    if (getter != null) {\n        Object value = getter.invoke(someObject);\n        if (value != null) {\n            System.out.println(property.getName() + &quot;=&quot; + value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275916608,"creation_date":1275916608,"answer_id":2989817,"question_id":2989560,"body_markdown":"&gt; I&#39;ve an object (basically a VO) in\r\n&gt; Java and I don&#39;t know its type. I need to get values which are not null in that object. \r\n\r\nMaybe you don&#39;t necessary need reflection for that -- here is a **plain OO design** that might solve your problem:\r\n\r\n1. Add an interface `Validation` which expose a method `validate` which checks the fields and return whatever is appropriate. \r\n2. Implement the interface and the method for all VO. \r\n3. When you get a VO, even if it&#39;s *concrete* type is unknown, you can typecast it to `Validation` and check that easily.\r\n\r\nI guess that you need the field that are null to display an error message in a generic way, so that should be enough. Let me know if this doesn&#39;t work for you for some reason.","title":"How to get the fields in an Object via reflection?","body":"<blockquote>\n  <p>I've an object (basically a VO) in\n  Java and I don't know its type. I need to get values which are not null in that object. </p>\n</blockquote>\n\n<p>Maybe you don't necessary need reflection for that -- here is a <strong>plain OO design</strong> that might solve your problem:</p>\n\n<ol>\n<li>Add an interface <code>Validation</code> which expose a method <code>validate</code> which checks the fields and return whatever is appropriate. </li>\n<li>Implement the interface and the method for all VO. </li>\n<li>When you get a VO, even if it's <em>concrete</em> type is unknown, you can typecast it to <code>Validation</code> and check that easily.</li>\n</ol>\n\n<p>I guess that you need the field that are null to display an error message in a generic way, so that should be enough. Let me know if this doesn't work for you for some reason.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1284984280,"creation_date":1275918625,"answer_id":2990037,"question_id":2989560,"body_markdown":"Here&#39;s a quick and dirty method that does what you want in a generic way. You&#39;ll need to add exception handling and you&#39;ll probably want to cache the BeanInfo types in a weakhashmap.\r\n\r\n    public Map&lt;String, Object&gt; getNonNullProperties(final Object thingy) {\r\n        final Map&lt;String, Object&gt; nonNullProperties = new TreeMap&lt;String, Object&gt;();\r\n        try {\r\n            final BeanInfo beanInfo = Introspector.getBeanInfo(thingy\r\n                    .getClass());\r\n            for (final PropertyDescriptor descriptor : beanInfo\r\n                    .getPropertyDescriptors()) {\r\n                try {\r\n                    final Object propertyValue = descriptor.getReadMethod()\r\n                            .invoke(thingy);\r\n                    if (propertyValue != null) {\r\n                        nonNullProperties.put(descriptor.getName(),\r\n                                propertyValue);\r\n                    }\r\n                } catch (final IllegalArgumentException e) {\r\n                    // handle this please\r\n                } catch (final IllegalAccessException e) {\r\n                    // and this also\r\n                } catch (final InvocationTargetException e) {\r\n                    // and this, too\r\n                }\r\n            }\r\n        } catch (final IntrospectionException e) {\r\n            // do something sensible here\r\n        }\r\n        return nonNullProperties;\r\n    }\r\n\r\n**See these references:**\r\n\r\n - [BeanInfo][1] (JavaDoc)\r\n - [Introspector.getBeanInfo(class)][2] (JavaDoc)\r\n - [Introspection][3] (Sun Java\r\n   Tutorial)\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/beans/BeanInfo.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/beans/Introspector.html#getBeanInfo%28java.lang.Class%29\r\n  [3]: http://download.oracle.com/javase/tutorial/javabeans/introspection/index.html","title":"How to get the fields in an Object via reflection?","body":"<p>Here's a quick and dirty method that does what you want in a generic way. You'll need to add exception handling and you'll probably want to cache the BeanInfo types in a weakhashmap.</p>\n\n<pre><code>public Map&lt;String, Object&gt; getNonNullProperties(final Object thingy) {\n    final Map&lt;String, Object&gt; nonNullProperties = new TreeMap&lt;String, Object&gt;();\n    try {\n        final BeanInfo beanInfo = Introspector.getBeanInfo(thingy\n                .getClass());\n        for (final PropertyDescriptor descriptor : beanInfo\n                .getPropertyDescriptors()) {\n            try {\n                final Object propertyValue = descriptor.getReadMethod()\n                        .invoke(thingy);\n                if (propertyValue != null) {\n                    nonNullProperties.put(descriptor.getName(),\n                            propertyValue);\n                }\n            } catch (final IllegalArgumentException e) {\n                // handle this please\n            } catch (final IllegalAccessException e) {\n                // and this also\n            } catch (final InvocationTargetException e) {\n                // and this, too\n            }\n        }\n    } catch (final IntrospectionException e) {\n        // do something sensible here\n    }\n    return nonNullProperties;\n}\n</code></pre>\n\n<p><strong>See these references:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/BeanInfo.html\" rel=\"noreferrer\">BeanInfo</a> (JavaDoc)</li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/Introspector.html#getBeanInfo%28java.lang.Class%29\" rel=\"noreferrer\">Introspector.getBeanInfo(class)</a> (JavaDoc)</li>\n<li><a href=\"http://download.oracle.com/javase/tutorial/javabeans/introspection/index.html\" rel=\"noreferrer\">Introspection</a> (Sun Java\nTutorial)</li>\n</ul>\n"}],"owner":{"account_id":42405,"reputation":907,"user_id":123535,"accept_rate":89,"display_name":"Swapna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144341,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":2989585,"answer_count":3,"score":75,"last_activity_date":1653064076,"creation_date":1275914724,"question_id":2989560,"body_markdown":"I have an object (basically a VO) in Java and I don&#39;t know its type.  \r\nI need to get values which are not null in that object. \r\n\r\nHow can this be done?","title":"How to get the fields in an Object via reflection?","body":"<p>I have an object (basically a VO) in Java and I don't know its type.<br>\nI need to get values which are not null in that object. </p>\n\n<p>How can this be done?</p>\n"},{"tags":["java","eclipse","junit","nullpointerexception","cucumber"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1587833947,"post_id":61429140,"comment_id":108667314,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. [Edit] your question to show us the extra detail.","body":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. <a href=\"https://stackoverflow.com/posts/61429140/edit\">Edit</a> your question to show us the extra detail."},{"owner":{"account_id":1807738,"reputation":582,"user_id":1771997,"accept_rate":60,"display_name":"Lord Nick"},"score":0,"creation_date":1587893652,"post_id":61429140,"comment_id":108683072,"body_markdown":"As said in the comments above, there is no problem with your code. Check .log file in your workspace for detailed error. Mostly it is because of misconfigured plugin or bug in eclipse itself.","body":"As said in the comments above, there is no problem with your code. Check .log file in your workspace for detailed error. Mostly it is because of misconfigured plugin or bug in eclipse itself."},{"owner":{"account_id":15679787,"reputation":1,"user_id":11314082,"display_name":"krypter"},"score":0,"creation_date":1588408025,"post_id":61429140,"comment_id":108886907,"body_markdown":"thanks for the suggestion i have added the log entry below, could you guys check and tell me what it is?","body":"thanks for the suggestion i have added the log entry below, could you guys check and tell me what it is?"}],"owner":{"account_id":15679787,"reputation":1,"user_id":11314082,"display_name":"krypter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653063742,"creation_date":1587833160,"question_id":61429140,"body_markdown":"In Eclipse while checking out Cucumber I tried to run a Junit class with following entries:\r\n\r\n    @RunWith(Cucumber.class)\r\n    public class JCuc {\r\n\r\n    }\r\n\r\nAlso the accompanying Java mainclass has the following entries\r\n\r\n    public class LoginStep {\r\n\t@Given(&quot;^the url is present$&quot;)\r\n\tpublic void the_url() throws Throwable {\r\n\t\t\r\n\t}\r\n\r\n\t@Given(&quot;^the website is loaded$&quot;)\r\n\tpublic void the_website_is_loaded() throws Throwable {\r\n\t\t\r\n\t}\r\n\r\n\t@When(&quot;^Enter valid user name$&quot;)\r\n\tpublic void enter_valid_user_name() throws Throwable {\r\n\t\t\r\n\t}\r\n\r\n\t@When(&quot;^Enter valid password$&quot;)\r\n\tpublic void enter_valid_password() throws Throwable {\r\n\t\t\r\n\t}\r\n\r\n\t@Then(&quot;^I validate signin$&quot;)\r\n\tpublic void i_validate_signin() throws Throwable {\r\n\t\t\r\n\t}\r\n    }\r\n\r\nWhen running with Junit 4 I&#39;m getting the following error\r\n[Error screenprint][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WJOcf.png\r\n\r\nThe above is working fine on Eclipse Neon\r\nbut I&#39;m getting error in Eclipse 2020-03 (4.15)\r\n\r\nThis is the log entry:\r\n\r\n~~~none\r\n!ENTRY org.eclipse.core.jobs 4 2 2020-04-27 20:45:51.730\r\n!MESSAGE An internal error occurred during: &quot;Launching JCuc&quot;.\r\n!STACK 0\r\njava.lang.NullPointerException\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.localURL(JUnitLaunchConfigurationDelegate.java:715)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.entryString(JUnitLaunchConfigurationDelegate.java:704)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.addEntry(JUnitLaunchConfigurationDelegate.java:691)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.localizeClasspath(JUnitLaunchConfigurationDelegate.java:682)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.getClasspathAndModulepath(JUnitLaunchConfigurationDelegate.java:631)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.getVMRunnerConfiguration(JUnitLaunchConfigurationDelegate.java:196)\r\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.launch(JUnitLaunchConfigurationDelegate.java:257)\r\n    at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:860)\r\n    at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:719)\r\n    at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:1017)\r\n    at org.eclipse.debug.internal.ui.DebugUIPlugin$2.run(DebugUIPlugin.java:1220)\r\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n~~~\r\n\r\nCan anyone help on this?","title":"Getting An internal error occurred during: &quot;Launching JCuc&quot;. java.lang.NullPointerException","body":"<p>In Eclipse while checking out Cucumber I tried to run a Junit class with following entries:</p>\n<pre><code>@RunWith(Cucumber.class)\npublic class JCuc {\n\n}\n</code></pre>\n<p>Also the accompanying Java mainclass has the following entries</p>\n<pre><code>public class LoginStep {\n@Given(&quot;^the url is present$&quot;)\npublic void the_url() throws Throwable {\n    \n}\n\n@Given(&quot;^the website is loaded$&quot;)\npublic void the_website_is_loaded() throws Throwable {\n    \n}\n\n@When(&quot;^Enter valid user name$&quot;)\npublic void enter_valid_user_name() throws Throwable {\n    \n}\n\n@When(&quot;^Enter valid password$&quot;)\npublic void enter_valid_password() throws Throwable {\n    \n}\n\n@Then(&quot;^I validate signin$&quot;)\npublic void i_validate_signin() throws Throwable {\n    \n}\n}\n</code></pre>\n<p>When running with Junit 4 I'm getting the following error\n<a href=\"https://i.stack.imgur.com/WJOcf.png\" rel=\"nofollow noreferrer\">Error screenprint</a></p>\n<p>The above is working fine on Eclipse Neon\nbut I'm getting error in Eclipse 2020-03 (4.15)</p>\n<p>This is the log entry:</p>\n<pre class=\"lang-none prettyprint-override\"><code>!ENTRY org.eclipse.core.jobs 4 2 2020-04-27 20:45:51.730\n!MESSAGE An internal error occurred during: &quot;Launching JCuc&quot;.\n!STACK 0\njava.lang.NullPointerException\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.localURL(JUnitLaunchConfigurationDelegate.java:715)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.entryString(JUnitLaunchConfigurationDelegate.java:704)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.addEntry(JUnitLaunchConfigurationDelegate.java:691)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate$ClasspathLocalizer.localizeClasspath(JUnitLaunchConfigurationDelegate.java:682)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.getClasspathAndModulepath(JUnitLaunchConfigurationDelegate.java:631)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.getVMRunnerConfiguration(JUnitLaunchConfigurationDelegate.java:196)\n    at org.eclipse.jdt.junit.launcher.JUnitLaunchConfigurationDelegate.launch(JUnitLaunchConfigurationDelegate.java:257)\n    at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:860)\n    at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:719)\n    at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:1017)\n    at org.eclipse.debug.internal.ui.DebugUIPlugin$2.run(DebugUIPlugin.java:1220)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>Can anyone help on this?</p>\n"},{"tags":["java","spring","spring-boot","instance"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":2,"creation_date":1652295711,"post_id":72205128,"comment_id":127574895,"body_markdown":"as posted this is not clear. I suggest you provide at least a simple example of what you&#39;re trying to achieve with request type A, B and so on (we can&#39;t be sure what Handler1/2/3 means etc.","body":"as posted this is not clear. I suggest you provide at least a simple example of what you&#39;re trying to achieve with request type A, B and so on (we can&#39;t be sure what Handler1/2/3 means etc."},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1652297297,"post_id":72205128,"comment_id":127575364,"body_markdown":"You should be able to create different child objects using the JsonTypeInfo information. See [this article](https://www.baeldung.com/jackson-annotations#jackson-polymorphic-type-handling-annotations) for more info on the annotationhttps://www.baeldung.com/jackson-annotations#jackson-polymorphic-type-handling-annotations - Basically if `request_type_A` is part of the request body, Jackson can deserialize it as a class `RequestA` and then Spring could find the right controller method to start the chain.","body":"You should be able to create different child objects using the JsonTypeInfo information. See <a href=\"https://www.baeldung.com/jackson-annotations#jackson-polymorphic-type-handling-annotations\" rel=\"nofollow noreferrer\">this article</a> for more info on the annotationhttps://www.baeldung.com/jackson-annotations#jacks&zwnj;&#8203;on-polymorphic-type-&zwnj;&#8203;handling-annotations - Basically if <code>request_type_A</code> is part of the request body, Jackson can deserialize it as a class <code>RequestA</code> and then Spring could find the right controller method to start the chain."},{"owner":{"account_id":3024974,"reputation":694,"user_id":2565192,"accept_rate":58,"display_name":"user2565192"},"score":0,"creation_date":1652322331,"post_id":72205128,"comment_id":127580281,"body_markdown":"@dsp_user, Handler1/2/3 are different instances of the handler class i.e every request_type should get a different instance of the same handler class. I need to shard my application&#39;s object based on a given request_type.","body":"@dsp_user, Handler1/2/3 are different instances of the handler class i.e every request_type should get a different instance of the same handler class. I need to shard my application&#39;s object based on a given request_type."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1652336293,"post_id":72205128,"comment_id":127582453,"body_markdown":"@user2565192, I suggest that you post some code. It&#39;s possible that what you&#39;re trying to do can be accomplished without having to create different instances of the said classes.","body":"@user2565192, I suggest that you post some code. It&#39;s possible that what you&#39;re trying to do can be accomplished without having to create different instances of the said classes."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652695208,"post_id":72205128,"comment_id":127659708,"body_markdown":"How many possible `request_type` you are expecting here?","body":"How many possible <code>request_type</code> you are expecting here?"},{"owner":{"account_id":3024974,"reputation":694,"user_id":2565192,"accept_rate":58,"display_name":"user2565192"},"score":0,"creation_date":1652698486,"post_id":72205128,"comment_id":127660751,"body_markdown":"Not dynamic. Most 2-3 in number.","body":"Not dynamic. Most 2-3 in number."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1652699099,"post_id":72205128,"comment_id":127660943,"body_markdown":"You can have a Map in each layer, where the key is the request_type, and the Value the class that handles that request. Or you can have a generic interface with a method &quot;canHandle&quot; and use the chain pattern. In the first case, you have a generic method that goes to the map, retrieves the class and invokes whatever it has to invoke. In the second approach, each &quot;layer&quot; should have something like a chain processor and invoke the list of potential processors. With the method &quot;canHandle&quot; each processor check if should handle the request or not. Something like the Filters in Servlets.","body":"You can have a Map in each layer, where the key is the request_type, and the Value the class that handles that request. Or you can have a generic interface with a method &quot;canHandle&quot; and use the chain pattern. In the first case, you have a generic method that goes to the map, retrieves the class and invokes whatever it has to invoke. In the second approach, each &quot;layer&quot; should have something like a chain processor and invoke the list of potential processors. With the method &quot;canHandle&quot; each processor check if should handle the request or not. Something like the Filters in Servlets."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652970353,"post_id":72205128,"comment_id":127741110,"body_markdown":"@user2565192 , based on your requirement, I have created sample code on my public git-hub, feel free to refer my answer &amp; verify if it works","body":"@user2565192 , based on your requirement, I have created sample code on my public git-hub, feel free to refer my answer &amp; verify if it works"}],"answers":[{"tags":[],"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652725131,"creation_date":1652634248,"answer_id":72250433,"question_id":72205128,"body_markdown":"The beans that are injected in the rest controller don&#39;t vary with the http request content. What you can do is factor your *request_type* as a path variable and create the desired chains in separate http mappings like so:\r\n\r\n```\r\n    @PostMapping(value = &quot;/request_type_A&quot;)\r\n    public Object handle1(args...){\r\n        // Validator1 --&gt; Processor1 --&gt; DAO1\r\n    }\r\n    \r\n    \r\n    @PostMapping(value = &quot;/request_type_B&quot;)\r\n    public Object handle2(args...){\r\n        // Validator2 --&gt; Processor2 --&gt; DAO2\r\n    }\r\n```\r\n\r\nIf this is not practical for whatever reason and you must specify the type dynamically in the *@RequestBody*, *@PathVariable* or *@RequestParam*, then I would suggest implementing a resolver bean similar to this:\r\n\r\n```\r\n@Component\r\npublic class Resolver {\r\n\r\n    private final RequestTypeAValidator requestTypeAValidator;\r\n    private final RequestTypeBValidator requestTypeBValidator;\r\n    \r\n    ...\r\n    \r\n    public IValidator getValidator(String requestType) {\r\n        switch (requestType) {\r\n            case &quot;request_type_A&quot;:\r\n                return requestTypeAValidator;\r\n            case &quot;request_type_B&quot;:\r\n                return requestTypeBValidator;\r\n            default: \r\n                throw new IllegalArgumentException(&quot;cannot find validator&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe drawback of this approach is that it does not comply with the &quot;Open-Closed&quot; principle in the sense that for any new request type, you will need to edit the resolvers. That can be fixed by using a HashMap in the resolver and letting the beans register themselves to that map on @PostConstruct:\r\n```\r\n@Component\r\npublic class Resolver {\r\n\r\n    private final Map&lt;String, IValidator&gt; validators = new HashMap&lt;&gt;();\r\n\r\n    public IValidator getValidator(String requestType) {\r\n        IValidator result = validators.get(requestType);\r\n        if (Objects.isNull(result)) {\r\n            throw new IllegalArgumentException(&quot;cannot find validator&quot;);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void register(String type, IValidator validator) {\r\n        validators.put(type, validator)\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class ValidatorA implements IValidator {\r\n\r\n    private final Resolver resolver;\r\n\r\n    @PostConstruct\r\n    private void register() {\r\n        resolver.register(&quot;request_type_A&quot;, this);\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\nHowever, in this approach there is a direct dependency from all implementations back to the *Resolver*. \r\n\r\nLastly, you could inject dynamically like so:\r\n```\r\n@Component\r\npublic class Resolver {\r\n\r\n    private final ApplicationContext applicationContext;\r\n    ...\r\n\r\n    public IValidator getValidator(String requestType) {\r\n        switch (requestType) {\r\n            case &quot;request_type_A&quot;:\r\n                try {\r\n                    return applicationContext.getBean(ValidatorA.class);\r\n                } catch (NoSuchBeanDefinitionException e) {\r\n                    // handle exception\r\n                }\r\n            case &quot;request_type_B&quot;:\r\n                try {\r\n                    return applicationContext.getBean(ValidatorB.class);\r\n                } catch (NoSuchBeanDefinitionException e) {\r\n                    // handle exception\r\n                }\r\n            default:\r\n                throw new IllegalArgumentException(&quot;cannot find validator&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nNote: Avoid taking the client specified string as the class name or type directly in the *applicationContext.getBean()* call. That is not safe and may present a great security vulnerability, use a *switch* or *dictionary* to resolve the correct bean name or bean type. \r\n\r\nIf you want to inject multiple instances of the same classes, create a configuration class and declare the beans like this:\r\n```\r\n@Configuration\r\npublic class BeanConfiguration {\r\n    \r\n    @Bean\r\n    public IValidator aValidator(){\r\n        return new ValidatorImpl(...);\r\n    }\r\n\r\n    @Bean\r\n    public IValidator bValidator(){\r\n        return new ValidatorImpl(...);\r\n    }\r\n}\r\n```\r\nAnd then to inject it, you can either use the dynamic resolution by name as above, or use the *@Qualifier* annotation:\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    private final IValidator bValidator;\r\n\r\n    public MyService(ApplicationContext applicationContext, @Qualifier(&quot;bValidator&quot;) IValidator bValidator) {\r\n        this.applicationContext = applicationContext;\r\n        this.bValidator = bValidator;\r\n    }\r\n\r\n    public void getDynamically(){\r\n        IValidator aValidator = (IValidator)applicationContext.getBean(&quot;aValidator&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Create different instances of a class chain based on a field in the input request with Spring Boot","body":"<p>The beans that are injected in the rest controller don't vary with the http request content. What you can do is factor your <em>request_type</em> as a path variable and create the desired chains in separate http mappings like so:</p>\n<pre><code>    @PostMapping(value = &quot;/request_type_A&quot;)\n    public Object handle1(args...){\n        // Validator1 --&gt; Processor1 --&gt; DAO1\n    }\n    \n    \n    @PostMapping(value = &quot;/request_type_B&quot;)\n    public Object handle2(args...){\n        // Validator2 --&gt; Processor2 --&gt; DAO2\n    }\n</code></pre>\n<p>If this is not practical for whatever reason and you must specify the type dynamically in the <em>@RequestBody</em>, <em>@PathVariable</em> or <em>@RequestParam</em>, then I would suggest implementing a resolver bean similar to this:</p>\n<pre><code>@Component\npublic class Resolver {\n\n    private final RequestTypeAValidator requestTypeAValidator;\n    private final RequestTypeBValidator requestTypeBValidator;\n    \n    ...\n    \n    public IValidator getValidator(String requestType) {\n        switch (requestType) {\n            case &quot;request_type_A&quot;:\n                return requestTypeAValidator;\n            case &quot;request_type_B&quot;:\n                return requestTypeBValidator;\n            default: \n                throw new IllegalArgumentException(&quot;cannot find validator&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The drawback of this approach is that it does not comply with the &quot;Open-Closed&quot; principle in the sense that for any new request type, you will need to edit the resolvers. That can be fixed by using a HashMap in the resolver and letting the beans register themselves to that map on @PostConstruct:</p>\n<pre><code>@Component\npublic class Resolver {\n\n    private final Map&lt;String, IValidator&gt; validators = new HashMap&lt;&gt;();\n\n    public IValidator getValidator(String requestType) {\n        IValidator result = validators.get(requestType);\n        if (Objects.isNull(result)) {\n            throw new IllegalArgumentException(&quot;cannot find validator&quot;);\n        }\n        return result;\n    }\n    \n    public void register(String type, IValidator validator) {\n        validators.put(type, validator)\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class ValidatorA implements IValidator {\n\n    private final Resolver resolver;\n\n    @PostConstruct\n    private void register() {\n        resolver.register(&quot;request_type_A&quot;, this);\n    }\n\n    ...\n}\n</code></pre>\n<p>However, in this approach there is a direct dependency from all implementations back to the <em>Resolver</em>.</p>\n<p>Lastly, you could inject dynamically like so:</p>\n<pre><code>@Component\npublic class Resolver {\n\n    private final ApplicationContext applicationContext;\n    ...\n\n    public IValidator getValidator(String requestType) {\n        switch (requestType) {\n            case &quot;request_type_A&quot;:\n                try {\n                    return applicationContext.getBean(ValidatorA.class);\n                } catch (NoSuchBeanDefinitionException e) {\n                    // handle exception\n                }\n            case &quot;request_type_B&quot;:\n                try {\n                    return applicationContext.getBean(ValidatorB.class);\n                } catch (NoSuchBeanDefinitionException e) {\n                    // handle exception\n                }\n            default:\n                throw new IllegalArgumentException(&quot;cannot find validator&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Note: Avoid taking the client specified string as the class name or type directly in the <em>applicationContext.getBean()</em> call. That is not safe and may present a great security vulnerability, use a <em>switch</em> or <em>dictionary</em> to resolve the correct bean name or bean type.</p>\n<p>If you want to inject multiple instances of the same classes, create a configuration class and declare the beans like this:</p>\n<pre><code>@Configuration\npublic class BeanConfiguration {\n    \n    @Bean\n    public IValidator aValidator(){\n        return new ValidatorImpl(...);\n    }\n\n    @Bean\n    public IValidator bValidator(){\n        return new ValidatorImpl(...);\n    }\n}\n</code></pre>\n<p>And then to inject it, you can either use the dynamic resolution by name as above, or use the <em>@Qualifier</em> annotation:</p>\n<pre><code>@Service\npublic class MyService {\n\n    private final ApplicationContext applicationContext;\n\n    private final IValidator bValidator;\n\n    public MyService(ApplicationContext applicationContext, @Qualifier(&quot;bValidator&quot;) IValidator bValidator) {\n        this.applicationContext = applicationContext;\n        this.bValidator = bValidator;\n    }\n\n    public void getDynamically(){\n        IValidator aValidator = (IValidator)applicationContext.getBean(&quot;aValidator&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652970863,"creation_date":1652970307,"answer_id":72306348,"question_id":72205128,"body_markdown":"Based on comments &amp; question, I understand that you would be receiving 2 or 3 `request_type`. \r\n\r\nSo main idea which I have used here is to use constructor injection of chained objects with different configuration beans which will be used based on your request type.\r\n\r\nFeel free to check-out this simple demonstration based code from github where I have proposed my idea : https://github.com/patilashish312/SpringObjectChaining\r\n\r\nSo based on this code, I can confirm that\r\n\r\n1. This application is not creating chain of object  per request but will re-use if same type of requests received by application\r\n2. Objects assigned to one request type is not being used by other request type.\r\n\r\n\r\nBelow console output is proof :\r\n\r\n\r\n    displaying request MyRequest(id=1, name=Ashish, requestType=requestTypeA)\r\n    Printing handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@31182e0a\r\n    Printing validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@484e3fe7\r\n    Printing processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@70f9b9c7\r\n    Printing dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@2a8175d9\r\n    inside dao, doing DAO processing\r\n    displaying request MyRequest(id=1, name=Ashish, requestType=requestTypeA)\r\n    Printing handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@31182e0a\r\n    Printing validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@484e3fe7\r\n    Printing processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@70f9b9c7\r\n    Printing dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@2a8175d9\r\n    inside dao, doing DAO processing\r\n    displaying request MyRequest(id=1, name=Ashish, requestType=requestTypeB)\r\n    Printing handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@55ea9008\r\n    Printing validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@5b2d74c5\r\n    Printing processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@5f12fb78\r\n    Printing dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@1a107efe\r\n    inside dao, doing DAO processing\r\n    displaying request MyRequest(id=1, name=Ashish, requestType=requestTypeB)\r\n    Printing handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@55ea9008\r\n    Printing validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@5b2d74c5\r\n    Printing processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@5f12fb78\r\n    Printing dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@1a107efe\r\n    inside dao, doing DAO processing\r\n\r\n\r\n","title":"Create different instances of a class chain based on a field in the input request with Spring Boot","body":"<p>Based on comments &amp; question, I understand that you would be receiving 2 or 3 <code>request_type</code>.</p>\n<p>So main idea which I have used here is to use constructor injection of chained objects with different configuration beans which will be used based on your request type.</p>\n<p>Feel free to check-out this simple demonstration based code from github where I have proposed my idea : <a href=\"https://github.com/patilashish312/SpringObjectChaining\" rel=\"nofollow noreferrer\">https://github.com/patilashish312/SpringObjectChaining</a></p>\n<p>So based on this code, I can confirm that</p>\n<ol>\n<li>This application is not creating chain of object  per request but will re-use if same type of requests received by application</li>\n<li>Objects assigned to one request type is not being used by other request type.</li>\n</ol>\n<p>Below console output is proof :</p>\n<pre><code>displaying request MyRequest(id=1, name=Ashish, requestType=requestTypeA)\nPrinting handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@31182e0a\nPrinting validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@484e3fe7\nPrinting processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@70f9b9c7\nPrinting dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@2a8175d9\ninside dao, doing DAO processing\ndisplaying request MyRequest(id=1, name=Ashish, requestType=requestTypeA)\nPrinting handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@31182e0a\nPrinting validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@484e3fe7\nPrinting processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@70f9b9c7\nPrinting dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@2a8175d9\ninside dao, doing DAO processing\ndisplaying request MyRequest(id=1, name=Ashish, requestType=requestTypeB)\nPrinting handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@55ea9008\nPrinting validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@5b2d74c5\nPrinting processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@5f12fb78\nPrinting dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@1a107efe\ninside dao, doing DAO processing\ndisplaying request MyRequest(id=1, name=Ashish, requestType=requestTypeB)\nPrinting handler bean com.spr.boot3.ConditionalVerification.Handler.MyHandler@55ea9008\nPrinting validator bean com.spr.boot3.ConditionalVerification.Validator.MyValidator@5b2d74c5\nPrinting processor bean com.spr.boot3.ConditionalVerification.Processor.MyProcessor@5f12fb78\nPrinting dao bean com.spr.boot3.ConditionalVerification.Dao.MyDao@1a107efe\ninside dao, doing DAO processing\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1213707,"reputation":348,"user_id":1181741,"accept_rate":100,"display_name":"The Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653063594,"creation_date":1653063594,"answer_id":72321988,"question_id":72205128,"body_markdown":"I had a similar requirement in my solution.  What I built was a general-purpose command handler, and used a decorator pattern of annotations on each command to provide the specification for which handlers, validators, processors, and dao. \r\n\r\nIn my implementation, I have API handlers which convert requests to specific commands.  Command class was an subclass of an abstract command class with a generic type param.\r\n\r\nAPI -&gt; all API variables are copied into a wrapper data model. (This could encapsulate the entrypoint of your handler concept or request_type concept)\r\n\r\nCommand extends AbstractCommand&lt;T&gt; where T is the wrapper data model.\r\n\r\nThen I would have an annotation for each of your concepts: Handler, Validator, Processor, Dao.\r\n\r\nThe general purpose command handler would have a method that &quot;process&quot;es commands by reading their annotations and then lining up the annotation helper that corresponds to that annotation.  This could use the application context to load the bean of the class referenced in the annotation value.  By providing a sequencing property for each of the annotation helpers you could loop over the sorted helpers to perform actions in the right order.  \r\n\r\nIn my implementation this was further augmented by whether or not the command included asynchronous behavior, so that all the synchronous behavior would occur first, and the asychronous behavior would be wrapped in a background thread.  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Create different instances of a class chain based on a field in the input request with Spring Boot","body":"<p>I had a similar requirement in my solution.  What I built was a general-purpose command handler, and used a decorator pattern of annotations on each command to provide the specification for which handlers, validators, processors, and dao.</p>\n<p>In my implementation, I have API handlers which convert requests to specific commands.  Command class was an subclass of an abstract command class with a generic type param.</p>\n<p>API -&gt; all API variables are copied into a wrapper data model. (This could encapsulate the entrypoint of your handler concept or request_type concept)</p>\n<p>Command extends AbstractCommand where T is the wrapper data model.</p>\n<p>Then I would have an annotation for each of your concepts: Handler, Validator, Processor, Dao.</p>\n<p>The general purpose command handler would have a method that &quot;process&quot;es commands by reading their annotations and then lining up the annotation helper that corresponds to that annotation.  This could use the application context to load the bean of the class referenced in the annotation value.  By providing a sequencing property for each of the annotation helpers you could loop over the sorted helpers to perform actions in the right order.</p>\n<p>In my implementation this was further augmented by whether or not the command included asynchronous behavior, so that all the synchronous behavior would occur first, and the asychronous behavior would be wrapped in a background thread.</p>\n"}],"owner":{"account_id":3024974,"reputation":694,"user_id":2565192,"accept_rate":58,"display_name":"user2565192"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653063594,"creation_date":1652289468,"question_id":72205128,"body_markdown":"Every request that my *Java* application receives, passes through 4 layers:\r\n\r\n    Handler --&gt; Validator --&gt; Processor --&gt; DAO\r\n\r\n - Handler is the API Resource. (Handler.java)\r\n - Validator validates the input. (Validator.java)\r\n - Processor performs some business logic. (Processor.java)\r\n - DAO is the DB communication layer. (DAO.java)\r\n\r\nThe input request has a field called the `request_type`. Based on this `request_type`, I want to create different objects for all the layer classes, i.e:\r\n\r\n    request_type_A should pass through Handler1, Validator1, Processor1, DAO1 (instances)\r\n    request_type_B should pass through Handler2, Validator2, Processor2, DAO2 (instances)\r\n    request_type_C should pass through Handler3, Validator3, Processor3, DAO3 (instances).. and so on\r\n\r\nTo clarify, the requirement is to create different chain of objects for a given request type, so that two request having different `request_type` have entirely different object chain instances. Basically i want to shard my application&#39;s object based on a given `request_type`.\r\n\r\nI am using *Spring Boot*. Is there a way that spring&#39;s `ApplicationContext` can provide different object chains for different object types. Or should I manage these instances by my own?\r\n\r\nIs there a way I can create a library which would give me a new object instance for every layer, based on the `request_type` using *Spring*&#39;s `ApplicationContext`?\r\n\r\nOr should i create multiple `ApplicationContext`?","title":"Create different instances of a class chain based on a field in the input request with Spring Boot","body":"<p>Every request that my <em>Java</em> application receives, passes through 4 layers:</p>\n<pre><code>Handler --&gt; Validator --&gt; Processor --&gt; DAO\n</code></pre>\n<ul>\n<li>Handler is the API Resource. (Handler.java)</li>\n<li>Validator validates the input. (Validator.java)</li>\n<li>Processor performs some business logic. (Processor.java)</li>\n<li>DAO is the DB communication layer. (DAO.java)</li>\n</ul>\n<p>The input request has a field called the <code>request_type</code>. Based on this <code>request_type</code>, I want to create different objects for all the layer classes, i.e:</p>\n<pre><code>request_type_A should pass through Handler1, Validator1, Processor1, DAO1 (instances)\nrequest_type_B should pass through Handler2, Validator2, Processor2, DAO2 (instances)\nrequest_type_C should pass through Handler3, Validator3, Processor3, DAO3 (instances).. and so on\n</code></pre>\n<p>To clarify, the requirement is to create different chain of objects for a given request type, so that two request having different <code>request_type</code> have entirely different object chain instances. Basically i want to shard my application's object based on a given <code>request_type</code>.</p>\n<p>I am using <em>Spring Boot</em>. Is there a way that spring's <code>ApplicationContext</code> can provide different object chains for different object types. Or should I manage these instances by my own?</p>\n<p>Is there a way I can create a library which would give me a new object instance for every layer, based on the <code>request_type</code> using <em>Spring</em>'s <code>ApplicationContext</code>?</p>\n<p>Or should i create multiple <code>ApplicationContext</code>?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648569827,"post_id":71665097,"comment_id":126655779,"body_markdown":"What are you going to do with request? If you need to validate for each request you can create a filter that httpservletrequest is already in.","body":"What are you going to do with request? If you need to validate for each request you can create a filter that httpservletrequest is already in."},{"owner":{"account_id":23523639,"reputation":21,"user_id":17570459,"display_name":"Arti"},"score":0,"creation_date":1648570748,"post_id":71665097,"comment_id":126656137,"body_markdown":"I need to validate each request and based on the url I have to call two different methods.","body":"I need to validate each request and based on the url I have to call two different methods."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648571591,"post_id":71665097,"comment_id":126656422,"body_markdown":"Just look at filters in spring when you define filter with onceperrequest you have request object and you can validate it","body":"Just look at filters in spring when you define filter with onceperrequest you have request object and you can validate it"},{"owner":{"account_id":23523639,"reputation":21,"user_id":17570459,"display_name":"Arti"},"score":0,"creation_date":1648623213,"post_id":71665097,"comment_id":126668147,"body_markdown":"The above approaches looks easier to implement... can i make use of any one of them to retrieve and validate the request?","body":"The above approaches looks easier to implement... can i make use of any one of them to retrieve and validate the request?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648629080,"post_id":71665097,"comment_id":126670193,"body_markdown":"Sure you can use that way","body":"Sure you can use that way"},{"owner":{"account_id":23523639,"reputation":21,"user_id":17570459,"display_name":"Arti"},"score":0,"creation_date":1648631606,"post_id":71665097,"comment_id":126671151,"body_markdown":"please suggest better to go with which approach from above.","body":"please suggest better to go with which approach from above."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648569635,"creation_date":1648569635,"answer_id":71665289,"question_id":71665097,"body_markdown":"Actually it is very simple. Create a class that is annotated as `@RestController` and in it create a method that is handling your mapping. In that method list `HttpServletRequest request` as your parameter. That&#39;s it, in this method you will get it as parameter and can use it. Below is one of my working examples that does just that.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/upload&quot;)\r\n    public class UploadTestController {\r\n        @PostMapping\r\n        public ResponseEntity&lt;String&gt; uploadTest(HttpServletRequest request) {\r\n            try {\r\n                String lengthStr = request.getHeader(&quot;content-length&quot;);\r\n                int length = TextUtils.parseStringToInt(lengthStr, -1);\r\n                if(length &gt; 0) {\r\n                    byte[] buff = new byte[length];\r\n                    ServletInputStream sis =request.getInputStream();\r\n                    int counter = 0;\r\n                    while(counter &lt; length) {\r\n                        int chunkLength = sis.available();\r\n                        byte[] chunk = new byte[chunkLength];\r\n                        sis.read(chunk);\r\n                        for(int i = counter, j= 0; i &lt; counter + chunkLength; i++, j++) {\r\n                            buff[i] = chunk[j];\r\n                        }\r\n                        counter += chunkLength;\r\n                        if(counter &lt; length) {\r\n                            TimeUtils.sleepFor(5, TimeUnit.MILLISECONDS);\r\n                        }\r\n                    }\r\n                    Files.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPic.jpg&quot;), buff);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(TextUtils.getStacktrace(e));\r\n            }\r\n            return ResponseEntity.ok(&quot;Success&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How do I get the HTTPServletRequest in Springboot application","body":"<p>Actually it is very simple. Create a class that is annotated as <code>@RestController</code> and in it create a method that is handling your mapping. In that method list <code>HttpServletRequest request</code> as your parameter. That's it, in this method you will get it as parameter and can use it. Below is one of my working examples that does just that.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/upload&quot;)\npublic class UploadTestController {\n    @PostMapping\n    public ResponseEntity&lt;String&gt; uploadTest(HttpServletRequest request) {\n        try {\n            String lengthStr = request.getHeader(&quot;content-length&quot;);\n            int length = TextUtils.parseStringToInt(lengthStr, -1);\n            if(length &gt; 0) {\n                byte[] buff = new byte[length];\n                ServletInputStream sis =request.getInputStream();\n                int counter = 0;\n                while(counter &lt; length) {\n                    int chunkLength = sis.available();\n                    byte[] chunk = new byte[chunkLength];\n                    sis.read(chunk);\n                    for(int i = counter, j= 0; i &lt; counter + chunkLength; i++, j++) {\n                        buff[i] = chunk[j];\n                    }\n                    counter += chunkLength;\n                    if(counter &lt; length) {\n                        TimeUtils.sleepFor(5, TimeUnit.MILLISECONDS);\n                    }\n                }\n                Files.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPic.jpg&quot;), buff);\n            }\n        } catch (Exception e) {\n            System.out.println(TextUtils.getStacktrace(e));\n        }\n        return ResponseEntity.ok(&quot;Success&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4394681,"reputation":81,"user_id":3582128,"display_name":"trungkmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653063178,"creation_date":1653063178,"answer_id":72321923,"question_id":71665097,"body_markdown":"In springboot, if use are using @Restcontroller, HttpServletRequest already exist in first paramester of controler method\r\n\r\n    @PostMapping(value = &quot;/abc&quot;)\r\n    public ResponseEntity&lt;?&gt; abcMethod(HttpServletRequest req){\r\n       // Do anything with HttpServletRequest here\r\n    }","title":"How do I get the HTTPServletRequest in Springboot application","body":"<p>In springboot, if use are using @Restcontroller, HttpServletRequest already exist in first paramester of controler method</p>\n<pre><code>@PostMapping(value = &quot;/abc&quot;)\npublic ResponseEntity&lt;?&gt; abcMethod(HttpServletRequest req){\n   // Do anything with HttpServletRequest here\n}\n</code></pre>\n"}],"owner":{"account_id":23523639,"reputation":21,"user_id":17570459,"display_name":"Arti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653063178,"creation_date":1648568824,"question_id":71665097,"body_markdown":"To get the request URL, found below approaches in stack overflow.\r\n\r\n1st approach:\r\n\r\n    @Autowired\r\n    private HttpServletRequest request;\r\n\r\n    public void getURL(){\r\n    String url=request.getRequestURL().toString();\r\n    }\r\n\r\n\r\n\r\n  2nd approach:\r\n\r\n    public void getURL(){\r\n    String url=ServletUriComponentsBuilder.fromCurrentRequestUri().toUriString();\r\n    }\r\n\r\n\r\n\r\n3rd approach:\r\n\r\n    public void getURL(){\r\n    HttpServletRequest request= \r\n    ((ServletRequestAttributes)RequestContextHolder.currentRequestAttributes()).getRequest();\r\n    String url=request.getRequestURL().toString();\r\n    }\r\n\r\n\r\n\r\nI am confused which one to use to get the request URL in the spring boot application.\r\n\r\nif i go with 3rd approach, then should i need to create bean of RequestContextListener in Configuration class as shown below?\r\n\r\n    @Bean\r\n    public RequestContextListener requestContextListener(){\r\n    return new RequestContextListener();\r\n    }","title":"How do I get the HTTPServletRequest in Springboot application","body":"<p>To get the request URL, found below approaches in stack overflow.</p>\n<p>1st approach:</p>\n<pre><code>@Autowired\nprivate HttpServletRequest request;\n\npublic void getURL(){\nString url=request.getRequestURL().toString();\n}\n</code></pre>\n<p>2nd approach:</p>\n<pre><code>public void getURL(){\nString url=ServletUriComponentsBuilder.fromCurrentRequestUri().toUriString();\n}\n</code></pre>\n<p>3rd approach:</p>\n<pre><code>public void getURL(){\nHttpServletRequest request= \n((ServletRequestAttributes)RequestContextHolder.currentRequestAttributes()).getRequest();\nString url=request.getRequestURL().toString();\n}\n</code></pre>\n<p>I am confused which one to use to get the request URL in the spring boot application.</p>\n<p>if i go with 3rd approach, then should i need to create bean of RequestContextListener in Configuration class as shown below?</p>\n<pre><code>@Bean\npublic RequestContextListener requestContextListener(){\nreturn new RequestContextListener();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525003727,"creation_date":1525003727,"answer_id":50086407,"question_id":50086022,"body_markdown":"The common project has no dependency management for `com.fasterxml.jackson.core:jackson-databind` so the `io.spring.dependency-management` plugin can&#39;t set a version before gradle tries to resolve the dependency","title":"Could not resolve all files for configuration &#39;:compileClasspath&#39;","body":"<p>The common project has no dependency management for <code>com.fasterxml.jackson.core:jackson-databind</code> so the <code>io.spring.dependency-management</code> plugin can't set a version before gradle tries to resolve the dependency</p>\n"}],"owner":{"account_id":13176144,"reputation":535,"user_id":9517040,"display_name":"JONKI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653062963,"creation_date":1525001031,"question_id":50086022,"body_markdown":"My project is divided into 4 modules\r\n\r\n&gt; commmon https://pastebin.com/EiRL7Snk (build.gradle)\r\n&gt; \r\n&gt; core https://pastebin.com/n1b1xWMb (build.gradle)\r\n&gt; \r\n&gt; web https://pastebin.com/9CCrA9q0 (build.gradle)\r\n&gt; \r\n&gt; app https://pastebin.com/uEHZDrmQ (build.gradle)\r\n\r\nand the main ```build.gradle``` file for the project https://pastebin.com/xbazbg5U\r\n\r\nWhen you click the ```build``` button for the ```app``` module to build the application I&#39;m getting errors\r\n\r\n    * What went wrong:\r\n    Could not resolve all files for configuration &#39;:common:compileClasspath&#39;.\r\n    &gt; Could not find com.fasterxml.jackson.core:jackson-databind:.\r\n      Required by:\r\n          project :common\r\n    &gt; Could not find org.hibernate.validator:hibernate-validator:.\r\n      Required by:\r\n          project :common\r\n\r\nand during synchronization e.g.\r\n\r\n    Warning:\r\n        root project &#39;REST-Web-Services&#39;: Unable to resolve additional project configuration.\r\n        Details: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:core:compile&#39;.\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find org.springframework.boot:spring-boot-starter-data-jpa:.\r\n    Required by:\r\n        project :core\r\n\r\nAfter entering the `Gradle` tab in IntelliJ and displaying the dependencies of the modules, I get the underlined erroneous dependencies without the version\r\n\r\n&gt; common https://zapodaj.net/002015941d147.png.html\r\n&gt; \r\n&gt; core https://zapodaj.net/2c9929a99daed.png.html\r\n&gt; \r\n&gt; web https://zapodaj.net/db09241a806ad.png.html\r\n\r\nImporting these dependencies also will not work https://zapodaj.net/5659d080d6a95.png.html\r\n\r\nDependencies are without a version and therefore cause an error. What is going on. After all, I have given repositories. How to fix it?\r\n\r\n\r\n\r\n","title":"Could not resolve all files for configuration &#39;:compileClasspath&#39;","body":"<p>My project is divided into 4 modules</p>\n\n<blockquote>\n  <p>commmon <a href=\"https://pastebin.com/EiRL7Snk\" rel=\"nofollow noreferrer\">https://pastebin.com/EiRL7Snk</a> (build.gradle)</p>\n  \n  <p>core <a href=\"https://pastebin.com/n1b1xWMb\" rel=\"nofollow noreferrer\">https://pastebin.com/n1b1xWMb</a> (build.gradle)</p>\n  \n  <p>web <a href=\"https://pastebin.com/9CCrA9q0\" rel=\"nofollow noreferrer\">https://pastebin.com/9CCrA9q0</a> (build.gradle)</p>\n  \n  <p>app <a href=\"https://pastebin.com/uEHZDrmQ\" rel=\"nofollow noreferrer\">https://pastebin.com/uEHZDrmQ</a> (build.gradle)</p>\n</blockquote>\n\n<p>and the main <code>build.gradle</code> file for the project <a href=\"https://pastebin.com/xbazbg5U\" rel=\"nofollow noreferrer\">https://pastebin.com/xbazbg5U</a></p>\n\n<p>When you click the <code>build</code> button for the <code>app</code> module to build the application I'm getting errors</p>\n\n<pre><code>* What went wrong:\nCould not resolve all files for configuration ':common:compileClasspath'.\n&gt; Could not find com.fasterxml.jackson.core:jackson-databind:.\n  Required by:\n      project :common\n&gt; Could not find org.hibernate.validator:hibernate-validator:.\n  Required by:\n      project :common\n</code></pre>\n\n<p>and during synchronization e.g.</p>\n\n<pre><code>Warning:\n    root project 'REST-Web-Services': Unable to resolve additional project configuration.\n    Details: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':core:compile'.\nCaused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find org.springframework.boot:spring-boot-starter-data-jpa:.\nRequired by:\n    project :core\n</code></pre>\n\n<p>After entering the <code>Gradle</code> tab in IntelliJ and displaying the dependencies of the modules, I get the underlined erroneous dependencies without the version</p>\n\n<blockquote>\n  <p>common <a href=\"https://zapodaj.net/002015941d147.png.html\" rel=\"nofollow noreferrer\">https://zapodaj.net/002015941d147.png.html</a></p>\n  \n  <p>core <a href=\"https://zapodaj.net/2c9929a99daed.png.html\" rel=\"nofollow noreferrer\">https://zapodaj.net/2c9929a99daed.png.html</a></p>\n  \n  <p>web <a href=\"https://zapodaj.net/db09241a806ad.png.html\" rel=\"nofollow noreferrer\">https://zapodaj.net/db09241a806ad.png.html</a></p>\n</blockquote>\n\n<p>Importing these dependencies also will not work <a href=\"https://zapodaj.net/5659d080d6a95.png.html\" rel=\"nofollow noreferrer\">https://zapodaj.net/5659d080d6a95.png.html</a></p>\n\n<p>Dependencies are without a version and therefore cause an error. What is going on. After all, I have given repositories. How to fix it?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1653062234,"post_id":72321656,"comment_id":127767265,"body_markdown":"Please don&#39;t post code as images.  Copy the relevant parts of the code and paste them into the question.","body":"Please don&#39;t post code as images.  Copy the relevant parts of the code and paste them into the question."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1653062302,"post_id":72321656,"comment_id":127767287,"body_markdown":"Read [why you should not upload images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question).","body":"Read <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">why you should not upload images of code</a>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1653062399,"post_id":72321656,"comment_id":127767313,"body_markdown":"Yes, always explain what you are seeing (copy paste again) and explain what you wanted to see instead.  In your case it looks like you didn&#39;t override the `toString()` method.  https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()","body":"Yes, always explain what you are seeing (copy paste again) and explain what you wanted to see instead.  In your case it looks like you didn&#39;t override the <code>toString()</code> method.  <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":25285496,"reputation":3,"user_id":19112579,"display_name":"Metaa"},"score":0,"creation_date":1653063399,"post_id":72321656,"comment_id":127767680,"body_markdown":"Thank you everyone the toString is the answer!","body":"Thank you everyone the toString is the answer!"}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653062800,"creation_date":1653062439,"answer_id":72321781,"question_id":72321656,"body_markdown":"Don&#39;t post images. Post the code. If you want to print arrays, then you should use `Arrays.toString` method. Every element in the array should also have a `toString` method. Here is an example:\r\n\r\n    class Student{\r\n        int id;\r\n        String name;\r\n        public Student(int id, String name){\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n        @override\r\n        public String toString(){\r\n            return &quot;Student &quot; + name + &quot;, with id: &quot; + id;\r\n        }\r\n    }\r\n\r\nThen use something like this in the main method:\r\n\r\n    ArrayList&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n    studentList.add(new Student(134, &quot;Jake&quot;));\r\n    studentList.add(new Student(435, &quot;Mark&quot;));\r\n\r\n    System.out.println(Arrays.toString(studentList));","title":"ArrayList in Java Is Showing Weird Memory Result using get","body":"<p>Don't post images. Post the code. If you want to print arrays, then you should use <code>Arrays.toString</code> method. Every element in the array should also have a <code>toString</code> method. Here is an example:</p>\n<pre><code>class Student{\n    int id;\n    String name;\n    public Student(int id, String name){\n        this.id = id;\n        this.name = name;\n    }\n    @override\n    public String toString(){\n        return &quot;Student &quot; + name + &quot;, with id: &quot; + id;\n    }\n}\n</code></pre>\n<p>Then use something like this in the main method:</p>\n<pre><code>ArrayList&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\nstudentList.add(new Student(134, &quot;Jake&quot;));\nstudentList.add(new Student(435, &quot;Mark&quot;));\n\nSystem.out.println(Arrays.toString(studentList));\n</code></pre>\n"}],"owner":{"account_id":25285496,"reputation":3,"user_id":19112579,"display_name":"Metaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1653062611,"accepted_answer_id":72321781,"answer_count":1,"score":-3,"last_activity_date":1653062800,"creation_date":1653061874,"question_id":72321656,"body_markdown":"The expected output of my index 0 Array list is the name and the number. But its showing weird result why?\r\n\r\nfullcode here\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YBUoB.png","title":"ArrayList in Java Is Showing Weird Memory Result using get","body":"<p>The expected output of my index 0 Array list is the name and the number. But its showing weird result why?</p>\n<p>fullcode here\n<a href=\"https://i.stack.imgur.com/YBUoB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","maven","jar","gitlab"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1653062964,"post_id":72321789,"comment_id":127767534,"body_markdown":"This is not explained here: https://github.com/spring-projects-experimental/spring-boot-thin-launcher/blob/main/README.md#using-a-custom-repository-for-dependencies ? \nI use thin-jar, but never used libs outside maven central.","body":"This is not explained here: <a href=\"https://github.com/spring-projects-experimental/spring-boot-thin-launcher/blob/main/README.md#using-a-custom-repository-for-dependencies\" rel=\"nofollow noreferrer\">github.com/spring-projects-experimental/&hellip;</a> ?  I use thin-jar, but never used libs outside maven central."},{"owner":{"account_id":1154528,"reputation":531,"user_id":1135488,"accept_rate":60,"display_name":"Duane Allman"},"score":0,"creation_date":1653328939,"post_id":72321789,"comment_id":127820646,"body_markdown":"I couldn&#39;t get it to work in the end, resorted to running a separate `mvn dependency:get blabla` and copying it into the required place before running the thin jar. Not great but at least it&#39;s working. If you set transient=false it will only get the library in question rather than all its sub dependencies so still makes for a fairly light docker image if that&#39;s what you&#39;re after..","body":"I couldn&#39;t get it to work in the end, resorted to running a separate <code>mvn dependency:get blabla</code> and copying it into the required place before running the thin jar. Not great but at least it&#39;s working. If you set transient=false it will only get the library in question rather than all its sub dependencies so still makes for a fairly light docker image if that&#39;s what you&#39;re after.."}],"owner":{"account_id":1154528,"reputation":531,"user_id":1135488,"accept_rate":60,"display_name":"Duane Allman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653062474,"creation_date":1653062474,"question_id":72321789,"body_markdown":"I have a java Spring Boot app which is being packaged into a &quot;thin jar&quot; using the spring boot maven thin jar plugin. I followed instructions from here https://www.baeldung.com/spring-boot-thin-jar and it&#39;s all working great. I can deploy new versions of my app in lightweight jars while the production server running the app maintains its own .m2 repository, updating if the new thin jar lists any new dependencies.\r\n\r\nRecently I wanted to include my own external library. This is hosted in a gitlab-maven package repository and accessed via an access token. I set this up following instructions here: https://docs.gitlab.com/ee/user/packages/maven_repository/\r\nI&#39;ve written a `settings.xml` and saved to `home/user/.m2/settings.xml` which includes the access token. \r\n\r\nAfter that any `mvn ...` command is pulling the library into the repository as expected. So far so good.\r\n\r\nHowever when I create my thin jar and try to run with `java -jar thin-jar.jar` it fails to get the library. The error is as follows:\r\n\r\n```\r\n$ java -Dthin.trace=true -jar thin-jar.jar\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.ThinJarLauncher launch\r\nINFO: Version: 1.0.28.RELEASE\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver resolve\r\nINFO: Extracting dependencies from: jar:file:/home/user/thin-jar.jar!/, with profiles []\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\r\nINFO: Searching for properties in: jar:file:/home/user/thin-jar.jar!/\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\r\nINFO: Searching for properties in: classpath:/\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\r\nINFO: Searching for properties in: file:./\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver extract\r\nINFO: Extracting dependencies from: URL [jar:file:/home/user/thin-jar.jar!/META-INF/maven/my.group/thin-jar/pom.xml], with profiles []\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.MavenSettingsReader loadSettings\r\nINFO: Reading settings from: /home/user/.m2/settings.xml\r\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.DependencyResolver dependencies\r\nINFO: Computing dependencies from pom and properties\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.launch(ThinJarWrapper.java:139)\r\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.main(ThinJarWrapper.java:107)\r\nCaused by: java.lang.RuntimeException: Failed to read artifact descriptor for my.group:external-library:jar:0.0.1-dev\r\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:239)\r\n        at org.springframework.boot.loader.thin.PathResolver.extract(PathResolver.java:259)\r\n        at org.springframework.boot.loader.thin.PathResolver.resolve(PathResolver.java:105)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:369)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:352)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchivesIterator(ThinJarLauncher.java:200)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.launch(ThinJarLauncher.java:195)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.main(ThinJarLauncher.java:141)\r\n        ... 6 more\r\n```\r\nI&#39;m assuming this is because the repository is private and somewhere along the way the authentication is failing while trying to pull that library? Looking at the trace it appears to load the settings file properly, so where is it going wrong?","title":"Maven &quot;Thin Jar&quot; won&#39;t pull library from private gitlab repository","body":"<p>I have a java Spring Boot app which is being packaged into a &quot;thin jar&quot; using the spring boot maven thin jar plugin. I followed instructions from here <a href=\"https://www.baeldung.com/spring-boot-thin-jar\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-thin-jar</a> and it's all working great. I can deploy new versions of my app in lightweight jars while the production server running the app maintains its own .m2 repository, updating if the new thin jar lists any new dependencies.</p>\n<p>Recently I wanted to include my own external library. This is hosted in a gitlab-maven package repository and accessed via an access token. I set this up following instructions here: <a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/packages/maven_repository/</a>\nI've written a <code>settings.xml</code> and saved to <code>home/user/.m2/settings.xml</code> which includes the access token.</p>\n<p>After that any <code>mvn ...</code> command is pulling the library into the repository as expected. So far so good.</p>\n<p>However when I create my thin jar and try to run with <code>java -jar thin-jar.jar</code> it fails to get the library. The error is as follows:</p>\n<pre><code>$ java -Dthin.trace=true -jar thin-jar.jar\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.ThinJarLauncher launch\nINFO: Version: 1.0.28.RELEASE\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver resolve\nINFO: Extracting dependencies from: jar:file:/home/user/thin-jar.jar!/, with profiles []\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\nINFO: Searching for properties in: jar:file:/home/user/thin-jar.jar!/\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\nINFO: Searching for properties in: classpath:/\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver loadProperties\nINFO: Searching for properties in: file:./\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.PathResolver extract\nINFO: Extracting dependencies from: URL [jar:file:/home/user/thin-jar.jar!/META-INF/maven/my.group/thin-jar/pom.xml], with profiles []\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.MavenSettingsReader loadSettings\nINFO: Reading settings from: /home/user/.m2/settings.xml\nMay 20, 2022 4:49:24 PM org.springframework.boot.loader.thin.DependencyResolver dependencies\nINFO: Computing dependencies from pom and properties\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.launch(ThinJarWrapper.java:139)\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.main(ThinJarWrapper.java:107)\nCaused by: java.lang.RuntimeException: Failed to read artifact descriptor for my.group:external-library:jar:0.0.1-dev\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:239)\n        at org.springframework.boot.loader.thin.PathResolver.extract(PathResolver.java:259)\n        at org.springframework.boot.loader.thin.PathResolver.resolve(PathResolver.java:105)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:369)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:352)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchivesIterator(ThinJarLauncher.java:200)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.launch(ThinJarLauncher.java:195)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.main(ThinJarLauncher.java:141)\n        ... 6 more\n</code></pre>\n<p>I'm assuming this is because the repository is private and somewhere along the way the authentication is failing while trying to pull that library? Looking at the trace it appears to load the settings file properly, so where is it going wrong?</p>\n"},{"tags":["java","android","android-toolbar"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653062005,"post_id":72321570,"comment_id":127767173,"body_markdown":"Why not use [this](https://github.com/shua3343/Android-CenteredToolbar) library","body":"Why not use <a href=\"https://github.com/shua3343/Android-CenteredToolbar\" rel=\"nofollow noreferrer\">this</a> library"},{"owner":{"account_id":17592156,"reputation":696,"user_id":12763792,"display_name":"dazai"},"score":0,"creation_date":1653062437,"post_id":72321570,"comment_id":127767325,"body_markdown":"@Sambhav.K thank you, that actually gives me an idea how to go about it","body":"@Sambhav.K thank you, that actually gives me an idea how to go about it"}],"owner":{"account_id":17592156,"reputation":696,"user_id":12763792,"display_name":"dazai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653062374,"creation_date":1653061353,"question_id":72321570,"body_markdown":"I have a custom toolbar that&#39;s built without a xml, all the code is just written in java. I am using the `setLogo()` method to add a `drawable` but the image&#39;s default `gravity` is to the left. How can I change its position/gravity so that it&#39;s in the middle?\r\n\r\nI was trying to override the `setLogo()` method but I can&#39;t apply a `LayoutParams` to a `drawable`.\r\n\r\nThis is what I am talking about:\r\n ```java\r\n    @Override\r\n    public void setLogo(@DrawableRes int resId) {\r\n        LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\r\n        float factor = getContext().getResources().getDisplayMetrics().density;\r\n        int margin = (int) (16 * factor);\r\n        lp.setMargins(margin, 0, margin, 0);\r\n        lp.gravity = Gravity.CENTER;\r\n        resId.setLayoutParams(lp);  // this does not work\r\n\r\n        setLogo(AppCompatResources.getDrawable(getContext(), resId));\r\n    }\r\n\r\n ```\r\nWhat&#39;s the right way to achieve this without a xml to refer to?\r\nThanks!","title":"How to center setLogo drawable programatically in toolbar","body":"<p>I have a custom toolbar that's built without a xml, all the code is just written in java. I am using the <code>setLogo()</code> method to add a <code>drawable</code> but the image's default <code>gravity</code> is to the left. How can I change its position/gravity so that it's in the middle?</p>\n<p>I was trying to override the <code>setLogo()</code> method but I can't apply a <code>LayoutParams</code> to a <code>drawable</code>.</p>\n<p>This is what I am talking about:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Override\n   public void setLogo(@DrawableRes int resId) {\n       LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\n       float factor = getContext().getResources().getDisplayMetrics().density;\n       int margin = (int) (16 * factor);\n       lp.setMargins(margin, 0, margin, 0);\n       lp.gravity = Gravity.CENTER;\n       resId.setLayoutParams(lp);  // this does not work\n\n       setLogo(AppCompatResources.getDrawable(getContext(), resId));\n   }\n\n</code></pre>\n<p>What's the right way to achieve this without a xml to refer to?\nThanks!</p>\n"},{"tags":["java","netty","datadog","micrometer"],"answers":[{"tags":[],"owner":{"account_id":3028400,"reputation":835,"user_id":2567906,"accept_rate":83,"display_name":"Daniyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653062290,"creation_date":1653062290,"answer_id":72321750,"question_id":72234021,"body_markdown":"I updated micrometer version to 1.9.0 and netty-all version to 4.1.77 - and it solved the problem! All thanks to Shakuzen!\r\n\r\n[full details can be found there][1]\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/issues/3177#issuecomment-1127110695","title":"A fatal error has been detected libio_micrometer_shaded_netty_transport_native_epoll_x86_64","body":"<p>I updated micrometer version to 1.9.0 and netty-all version to 4.1.77 - and it solved the problem! All thanks to Shakuzen!</p>\n<p><a href=\"https://github.com/micrometer-metrics/micrometer/issues/3177#issuecomment-1127110695\" rel=\"nofollow noreferrer\">full details can be found there</a></p>\n"}],"owner":{"account_id":3028400,"reputation":835,"user_id":2567906,"accept_rate":83,"display_name":"Daniyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72321750,"answer_count":1,"score":0,"last_activity_date":1653062290,"creation_date":1652466581,"question_id":72234021,"body_markdown":"My app stops and become broken on the line Metrics.addRegistry(new StatsdMeterRegistry(configs, clock)\r\n\r\n**Environment**\r\n\r\n- Micrometer version 1.8.2\r\n- Micrometer registry DataDog\r\n- Docker\r\n- Host: Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz, 4 cores, 1G, Alpine Linux v3.14\r\n- JRE version: OpenJDK Runtime Environment (11.0.11+9) (build 11.0.11+9-alpine-r0)\r\n- Java VM: OpenJDK 64-Bit Server VM (11.0.11+9-alpine-r0, mixed mode, tiered, compressed oops, serial gc, linux-amd64)\r\n\r\nI guess some native libs are missing. Please help me how to fix the issue.\r\n\r\n**Part of the logs:**\r\n\r\n&gt; Stack: [0x00007f310b6ef000,0x00007f310b7efad8], sp=0x00007f310b7ea468,\r\n&gt; free space=1005k Native frames: (J=compiled Java code, A=aot compiled\r\n&gt; Java code, j=interpreted, Vv=VM code, C=native code) C\r\n&gt; 0x0000000000003fd6 C\r\n&gt; [libio_micrometer_shaded_netty_transport_native_epoll_x86_641883406040202622072.so+0xbd07]\r\n&gt; netty_jni_util_JNI_OnLoad+0x67 C [libjava.so+0xfc7a]\r\n&gt; Java_java_lang_ClassLoader_00024NativeLibrary_load0+0xba j\r\n&gt; java.lang.ClassLoader$NativeLibrary.load0(Ljava/lang/String;Z)Z+0\r\n&gt; java.base@11.0.11 j java.lang.ClassLoader$NativeLibrary.load()Z+53\r\n&gt; java.base@11.0.11 j\r\n&gt; java.lang.ClassLoader$NativeLibrary.loadLibrary(Ljava/lang/Class;Ljava/lang/String;Z)Z+216\r\n&gt; java.base@11.0.11 j\r\n&gt; java.lang.ClassLoader.loadLibrary0(Ljava/lang/Class;Ljava/io/File;)Z+46\r\n&gt; java.base@11.0.11 j\r\n&gt; java.lang.ClassLoader.loadLibrary(Ljava/lang/Class;Ljava/lang/String;Z)V+70\r\n&gt; java.base@11.0.11 j\r\n&gt; java.lang.Runtime.load0(Ljava/lang/Class;Ljava/lang/String;)V+57\r\n&gt; java.base@11.0.11 j java.lang.System.load(Ljava/lang/String;)V+7\r\n&gt; java.base@11.0.11 j\r\n&gt; io.micrometer.shaded.io.netty.util.internal.NativeLibraryUtil.loadLibrary(Ljava/lang/String;Z)V+5\r\n&gt; v ~StubRoutines::call_stub V [libjvm.so+0x817ee3]\r\n\r\n[errors full trace can be found here][1]\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/issues/3177","title":"A fatal error has been detected libio_micrometer_shaded_netty_transport_native_epoll_x86_64","body":"<p>My app stops and become broken on the line Metrics.addRegistry(new StatsdMeterRegistry(configs, clock)</p>\n<p><strong>Environment</strong></p>\n<ul>\n<li>Micrometer version 1.8.2</li>\n<li>Micrometer registry DataDog</li>\n<li>Docker</li>\n<li>Host: Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz, 4 cores, 1G, Alpine Linux v3.14</li>\n<li>JRE version: OpenJDK Runtime Environment (11.0.11+9) (build 11.0.11+9-alpine-r0)</li>\n<li>Java VM: OpenJDK 64-Bit Server VM (11.0.11+9-alpine-r0, mixed mode, tiered, compressed oops, serial gc, linux-amd64)</li>\n</ul>\n<p>I guess some native libs are missing. Please help me how to fix the issue.</p>\n<p><strong>Part of the logs:</strong></p>\n<blockquote>\n<p>Stack: [0x00007f310b6ef000,0x00007f310b7efad8], sp=0x00007f310b7ea468,\nfree space=1005k Native frames: (J=compiled Java code, A=aot compiled\nJava code, j=interpreted, Vv=VM code, C=native code) C\n0x0000000000003fd6 C\n[libio_micrometer_shaded_netty_transport_native_epoll_x86_641883406040202622072.so+0xbd07]\nnetty_jni_util_JNI_OnLoad+0x67 C [libjava.so+0xfc7a]\nJava_java_lang_ClassLoader_00024NativeLibrary_load0+0xba j\njava.lang.ClassLoader$NativeLibrary.load0(Ljava/lang/String;Z)Z+0\njava.base@11.0.11 j java.lang.ClassLoader$NativeLibrary.load()Z+53\njava.base@11.0.11 j\njava.lang.ClassLoader$NativeLibrary.loadLibrary(Ljava/lang/Class;Ljava/lang/String;Z)Z+216\njava.base@11.0.11 j\njava.lang.ClassLoader.loadLibrary0(Ljava/lang/Class;Ljava/io/File;)Z+46\njava.base@11.0.11 j\njava.lang.ClassLoader.loadLibrary(Ljava/lang/Class;Ljava/lang/String;Z)V+70\njava.base@11.0.11 j\njava.lang.Runtime.load0(Ljava/lang/Class;Ljava/lang/String;)V+57\njava.base@11.0.11 j java.lang.System.load(Ljava/lang/String;)V+7\njava.base@11.0.11 j\nio.micrometer.shaded.io.netty.util.internal.NativeLibraryUtil.loadLibrary(Ljava/lang/String;Z)V+5\nv ~StubRoutines::call_stub V [libjvm.so+0x817ee3]</p>\n</blockquote>\n<p><a href=\"https://github.com/micrometer-metrics/micrometer/issues/3177\" rel=\"nofollow noreferrer\">errors full trace can be found here</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":1,"creation_date":1551953046,"post_id":55040879,"comment_id":96832892,"body_markdown":"Use `spring.datasource.initialization-mode&#39;`","body":"Use <code>spring.datasource.initialization-mode&#39;</code>"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1551953151,"post_id":55040879,"comment_id":96832961,"body_markdown":"isn&#39;t initialization mode different from initialize?","body":"isn&#39;t initialization mode different from initialize?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":1,"creation_date":1551953386,"post_id":55040879,"comment_id":96833115,"body_markdown":"if you don&#39;t want you can still you use `spring.datasource.initialization-mode=never`","body":"if you don&#39;t want you can still you use <code>spring.datasource.initialization-mode=never</code>"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1551953719,"post_id":55040879,"comment_id":96833361,"body_markdown":"looks like lots of other propeties has been migrated during transition from springboot 1.x to 2.x.","body":"looks like lots of other propeties has been migrated during transition from springboot 1.x to 2.x."},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1551953768,"post_id":55040879,"comment_id":96833388,"body_markdown":"Yes . we have to check migration guide before migrating .","body":"Yes . we have to check migration guide before migrating ."}],"answers":[{"tags":[],"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1551954456,"creation_date":1551953209,"answer_id":55041049,"question_id":55040879,"body_markdown":"As per the [document][1]\r\n&gt; Spring Boot automatically creates the schema of an embedded\r\n&gt; DataSource. This behaviour can be customized by using the\r\n&gt; spring.datasource.initialization-mode property. For instance, if you\r\n&gt; want to always initialize the DataSource regardless of its type:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\n\r\nLook at [this][2]  migration guide \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-spring-jdbc\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide","title":"spring.datasource.initialize is deprecated","body":"<p>As per the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-spring-jdbc\" rel=\"noreferrer\">document</a></p>\n\n<blockquote>\n  <p>Spring Boot automatically creates the schema of an embedded\n  DataSource. This behaviour can be customized by using the\n  spring.datasource.initialization-mode property. For instance, if you\n  want to always initialize the DataSource regardless of its type:</p>\n</blockquote>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n\n<p>Look at <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide\" rel=\"noreferrer\">this</a>  migration guide </p>\n"},{"tags":[],"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551953380,"creation_date":1551953380,"answer_id":55041110,"question_id":55040879,"body_markdown":"As per Spring Boot Migration mentioned in [Github][1]\r\n\r\n&gt; Basic DataSource initialization is now only enabled for embedded data\r\n&gt; sources and will switch off as soon as youre using a production\r\n&gt; database. The new spring.datasource.initialization-mode (replacing\r\n&gt; spring.datasource.initialize) offers more control.\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide","title":"spring.datasource.initialize is deprecated","body":"<p>As per Spring Boot Migration mentioned in <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<blockquote>\n  <p>Basic DataSource initialization is now only enabled for embedded data\n  sources and will switch off as soon as youre using a production\n  database. The new spring.datasource.initialization-mode (replacing\n  spring.datasource.initialize) offers more control.</p>\n</blockquote>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1637743248,"creation_date":1622101149,"answer_id":67717704,"question_id":55040879,"body_markdown":"In Spring Boot 2.5,  &#39;spring.datasource.initialization-mode&#39; has been depracated as well:\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#SQL-Script-DataSource-Initialization  \r\n\r\nyou should use:\r\n\r\n    spring.sql.init.mode=always  \r\nor  \r\n\r\n    spring.sql.init.mode=never  \r\n\r\nYou can read more at:  \r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization","title":"spring.datasource.initialize is deprecated","body":"<p>In Spring Boot 2.5,  'spring.datasource.initialization-mode' has been depracated as well:\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#SQL-Script-DataSource-Initialization\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#SQL-Script-DataSource-Initialization</a></p>\n<p>you should use:</p>\n<pre><code>spring.sql.init.mode=always  \n</code></pre>\n<p>or</p>\n<pre><code>spring.sql.init.mode=never  \n</code></pre>\n<p>You can read more at:<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization</a></p>\n"},{"tags":[],"owner":{"account_id":11391254,"reputation":1,"user_id":8351227,"display_name":"Krzysztof Smyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622150883,"creation_date":1622150883,"answer_id":67730209,"question_id":55040879,"body_markdown":"spring.sql.init.enabled=true - to initialize database by data.sql script located in application resources\r\nspring.sql.init.enabled=false - to ","title":"spring.datasource.initialize is deprecated","body":"<p>spring.sql.init.enabled=true - to initialize database by data.sql script located in application resources\nspring.sql.init.enabled=false - to</p>\n"},{"tags":[],"owner":{"account_id":23006810,"reputation":185,"user_id":17129958,"display_name":"Subhrajit Sadhukhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636491219,"creation_date":1636491219,"answer_id":69904944,"question_id":55040879,"body_markdown":"You can use `spring.jpa.defer-datasource-initialization`. Refer to this Spring Documentation on how to  [Initialize a Database Using Basic SQL Scripts][1]:\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n  \r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts","title":"spring.datasource.initialize is deprecated","body":"<p>You can use <code>spring.jpa.defer-datasource-initialization</code>. Refer to this Spring Documentation on how to  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">Initialize a Database Using Basic SQL Scripts</a>:</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653062038,"creation_date":1653062038,"answer_id":72321702,"question_id":55040879,"body_markdown":"The property `spring.datasource.initialization-mode` from Spring boot verion 2.7 and onwards is not any more depracated.  **It has been completely removed!** \r\n\r\nSo the change into the replacement property `spring.sql.init.mode` is a must do from now on.\r\n\r\n[Spring Boot 2.7 changelog][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog","title":"spring.datasource.initialize is deprecated","body":"<p>The property <code>spring.datasource.initialization-mode</code> from Spring boot verion 2.7 and onwards is not any more depracated.  <strong>It has been completely removed!</strong></p>\n<p>So the change into the replacement property <code>spring.sql.init.mode</code> is a must do from now on.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog\" rel=\"nofollow noreferrer\">Spring Boot 2.7 changelog</a></p>\n"}],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23111,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":55041049,"answer_count":6,"score":21,"last_activity_date":1653062038,"creation_date":1551952747,"question_id":55040879,"body_markdown":"I have a springboot application where I am trying to add following to `application.properties` file\r\n\r\n&gt; spring.datasource.initialize=false\r\n\r\nWhen I add this I see a warning as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried finding out what&#39;s the new property that replaces this deprecated property but in vain.\r\n\r\nCan anybody help on this!\r\n\r\n  [1]: https://i.stack.imgur.com/RNBrK.png\r\n\r\n\r\nHaving a reference to a migration guide would be great.","title":"spring.datasource.initialize is deprecated","body":"<p>I have a springboot application where I am trying to add following to <code>application.properties</code> file</p>\n\n<blockquote>\n  <p>spring.datasource.initialize=false</p>\n</blockquote>\n\n<p>When I add this I see a warning as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RNBrK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RNBrK.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried finding out what's the new property that replaces this deprecated property but in vain.</p>\n\n<p>Can anybody help on this!</p>\n\n<p>Having a reference to a migration guide would be great.</p>\n"},{"tags":["java","metrics","micrometer","statsd"],"answers":[{"tags":[],"owner":{"account_id":3028400,"reputation":835,"user_id":2567906,"accept_rate":83,"display_name":"Daniyar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653062016,"creation_date":1653062016,"answer_id":72321698,"question_id":72290650,"body_markdown":"Finally I figured out it. It can be done using Metrics.counter or Metrics.timer or other methods of micrometer.io library. Metrics class should be used in applications which don&#39;t have DI.","title":"How to use micrometer @Timed in not spring application","body":"<p>Finally I figured out it. It can be done using Metrics.counter or Metrics.timer or other methods of micrometer.io library. Metrics class should be used in applications which don't have DI.</p>\n"}],"owner":{"account_id":3028400,"reputation":835,"user_id":2567906,"accept_rate":83,"display_name":"Daniyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72321698,"answer_count":1,"score":1,"last_activity_date":1653062016,"creation_date":1652882562,"question_id":72290650,"body_markdown":"I&#39;ve an app, which implemented in pure java + apache kafka streams (not spring app). I need to add micrometer and custom metrics. How to do that? Can I use @Timed annotation on the methods?\r\n\r\nWhat about TimedAspect class? how I can use it?\r\n\r\nI&#39;m using micrometer-registry-statsd.\r\n\r\nI&#39;ve registered meter registry as follow\r\n `Metrics.addRegistry(new StatsMeterRegistry(HereStatsdConfig))`","title":"How to use micrometer @Timed in not spring application","body":"<p>I've an app, which implemented in pure java + apache kafka streams (not spring app). I need to add micrometer and custom metrics. How to do that? Can I use @Timed annotation on the methods?</p>\n<p>What about TimedAspect class? how I can use it?</p>\n<p>I'm using micrometer-registry-statsd.</p>\n<p>I've registered meter registry as follow\n<code>Metrics.addRegistry(new StatsMeterRegistry(HereStatsdConfig))</code></p>\n"},{"tags":["java","session","session-variables"],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653061700,"creation_date":1653061700,"answer_id":72321630,"question_id":72321475,"body_markdown":"The HTTP Session is a temporary store in the backend, where you store something based on previous requests. As soon as you store something there, the backend will return a Set-Cookie header to the browser with a JSESSIONID that the browser stores for the user. For the next calls, the browser will send the same JSESSIONID cookie, and the backend will use it as a key to retrieve the previously saved data for that user&#39;s browser.\r\n\r\nIf you&#39;re migrating to a React JS application, I think there&#39;s no need to store tokens in the backend, and use cookies with only JSESSIONID in. Instead, the frontend can store all the necessary data client-side.\r\n\r\n\r\nI think there&#39;s multiple options:\r\n\r\n1. Keep it in React state (in the browser&#39;s memory)\r\n2. Keep it in a Cookie that you manage via the frontend\r\n3. Keep it in the browser&#39;s localStorage (less secure, I think)","title":"Replacement for the HttpServletRequest.GetSession() in JavaScript","body":"<p>The HTTP Session is a temporary store in the backend, where you store something based on previous requests. As soon as you store something there, the backend will return a Set-Cookie header to the browser with a JSESSIONID that the browser stores for the user. For the next calls, the browser will send the same JSESSIONID cookie, and the backend will use it as a key to retrieve the previously saved data for that user's browser.</p>\n<p>If you're migrating to a React JS application, I think there's no need to store tokens in the backend, and use cookies with only JSESSIONID in. Instead, the frontend can store all the necessary data client-side.</p>\n<p>I think there's multiple options:</p>\n<ol>\n<li>Keep it in React state (in the browser's memory)</li>\n<li>Keep it in a Cookie that you manage via the frontend</li>\n<li>Keep it in the browser's localStorage (less secure, I think)</li>\n</ol>\n"}],"owner":{"account_id":2647343,"reputation":3,"user_id":2289762,"display_name":"Arun Kumaar Mallesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72321630,"answer_count":1,"score":0,"last_activity_date":1653061700,"creation_date":1653060872,"question_id":72321475,"body_markdown":"Currently, we are using a legacy application where the Java HttpServletRequest.GetSession() function to get the session from the Client browser where the session is set from the Browser&#39;s parent tab.\r\n\r\nNow we need to access the same session information [example, we have Token in the session]\r\nusing our new application with decoupled Microservice architecture [ UI-React JS].\r\nWhether we can able to access the session from Front End?\r\n\r\nAppreciate your suggestion on this.\r\n\r\nThank you !\r\n","title":"Replacement for the HttpServletRequest.GetSession() in JavaScript","body":"<p>Currently, we are using a legacy application where the Java HttpServletRequest.GetSession() function to get the session from the Client browser where the session is set from the Browser's parent tab.</p>\n<p>Now we need to access the same session information [example, we have Token in the session]\nusing our new application with decoupled Microservice architecture [ UI-React JS].\nWhether we can able to access the session from Front End?</p>\n<p>Appreciate your suggestion on this.</p>\n<p>Thank you !</p>\n"},{"tags":["java","android","compression"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1395060708,"post_id":22454730,"comment_id":34152536,"body_markdown":"And what is the error?","body":"And what is the error?"},{"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"score":0,"creation_date":1395060722,"post_id":22454730,"comment_id":34152548,"body_markdown":"What do you get instead of the correct string?","body":"What do you get instead of the correct string?"},{"owner":{"account_id":3450359,"reputation":22086,"user_id":2890168,"accept_rate":56,"display_name":"Matteo Pacini"},"score":0,"creation_date":1395060821,"post_id":22454730,"comment_id":34152608,"body_markdown":"`1F 8B 08 00 etc (only zeroes after this point)`. It looks like a failed compression.","body":"<code>1F 8B 08 00 etc (only zeroes after this point)</code>. It looks like a failed compression."},{"owner":{"account_id":3450359,"reputation":22086,"user_id":2890168,"accept_rate":56,"display_name":"Matteo Pacini"},"score":0,"creation_date":1395060937,"post_id":22454730,"comment_id":34152680,"body_markdown":"It&#39;s Android, and I&#39;m using Java6","body":"It&#39;s Android, and I&#39;m using Java6"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395061068,"creation_date":1395061068,"answer_id":22454903,"question_id":22454730,"body_markdown":"Try this:\r\n\r\n    gzos = new GZIPOutputStream(baos, true);\r\n\r\nSee [here][1] for more details. Also, you should `.close()` your `GZIPOutputStream`.\r\n\r\n---\r\nIf you can afford using Guava 14+, use a `Closer`:\r\n\r\n    final Closer closer = Closer.create();\r\n    \r\n    ByteArrayOutputStream out;\r\n    GZIPOutputStream gz;\r\n    \r\n    try {\r\n        out = closer.register(new ByteArrayOutputStream());\r\n        gz = closer.register(new GZIPOutputStream(out, true));\r\n        gz.write(string.getBytes(&quot;UTF-8&quot;);\r\n        gz.flush();\r\n    } catch (IOException e) {\r\n        throw closer.rethrow(e);\r\n    } finally {\r\n        closer.close();\r\n    }\r\n    \r\n    return out.toByteArray();\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\r\n\r\n","title":"GZIP a String in Android","body":"<p>Try this:</p>\n\n<pre><code>gzos = new GZIPOutputStream(baos, true);\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\" rel=\"nofollow\">here</a> for more details. Also, you should <code>.close()</code> your <code>GZIPOutputStream</code>.</p>\n\n<hr>\n\n<p>If you can afford using Guava 14+, use a <code>Closer</code>:</p>\n\n<pre><code>final Closer closer = Closer.create();\n\nByteArrayOutputStream out;\nGZIPOutputStream gz;\n\ntry {\n    out = closer.register(new ByteArrayOutputStream());\n    gz = closer.register(new GZIPOutputStream(out, true));\n    gz.write(string.getBytes(\"UTF-8\");\n    gz.flush();\n} catch (IOException e) {\n    throw closer.rethrow(e);\n} finally {\n    closer.close();\n}\n\nreturn out.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395061166,"creation_date":1395061166,"answer_id":22454930,"question_id":22454730,"body_markdown":"You have to close the `GZIPOutputStream` before trying to fetch the `ByteArrayOutputStream`:\r\n\r\n\r\n        gzos = new GZIPOutputStream(baos);\r\n        gzos.write(string.getBytes(&quot;UTF-8&quot;));\r\n        gzos.flush();\r\n        gzos.close();\r\n\r\n        return baos.toByteArray();","title":"GZIP a String in Android","body":"<p>You have to close the <code>GZIPOutputStream</code> before trying to fetch the <code>ByteArrayOutputStream</code>:</p>\n\n<pre><code>    gzos = new GZIPOutputStream(baos);\n    gzos.write(string.getBytes(\"UTF-8\"));\n    gzos.flush();\n    gzos.close();\n\n    return baos.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12595953,"reputation":875,"user_id":9160591,"display_name":"kunal khedkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653061553,"creation_date":1653061553,"answer_id":72321607,"question_id":22454730,"body_markdown":"This is how you can send data from Android side (API level 10+) in GZIP compressed format\r\n\r\n    URL url = new URL(uri);\r\n    URLConnection urlConnection = url.openConnection();\r\n    urlConnection.setDoOutput(true);\r\n    urlConnection.setRequestProperty(&quot;Content-encoding&quot;, &quot;gzip&quot;);\r\n    urlConnection.setRequestProperty(&quot;Content-type&quot;, &quot;application/octet-stream&quot;);\r\n    GZIPOutputStream dos1 = new GZIPOutputStream(urlConnection.getOutputStream());\r\n    dos1.write(content.getBytes());\r\n    dos1.flush();\r\n    dos1.close();\r\n\r\n    BufferedReader in1 = new BufferedReader(new InputStreamReader(\r\n            urlConnection.getInputStream()));\r\n    String decodedString1 = &quot;&quot;;\r\n    while ((decodedString1 = in1.readLine()) != null) {\r\n      Log.e(&quot;!!!&quot;,decodedString1);\r\n    }\r\n    in1.close();\r\n","title":"GZIP a String in Android","body":"<p>This is how you can send data from Android side (API level 10+) in GZIP compressed format</p>\n<pre><code>URL url = new URL(uri);\nURLConnection urlConnection = url.openConnection();\nurlConnection.setDoOutput(true);\nurlConnection.setRequestProperty(&quot;Content-encoding&quot;, &quot;gzip&quot;);\nurlConnection.setRequestProperty(&quot;Content-type&quot;, &quot;application/octet-stream&quot;);\nGZIPOutputStream dos1 = new GZIPOutputStream(urlConnection.getOutputStream());\ndos1.write(content.getBytes());\ndos1.flush();\ndos1.close();\n\nBufferedReader in1 = new BufferedReader(new InputStreamReader(\n        urlConnection.getInputStream()));\nString decodedString1 = &quot;&quot;;\nwhile ((decodedString1 = in1.readLine()) != null) {\n  Log.e(&quot;!!!&quot;,decodedString1);\n}\nin1.close();\n</code></pre>\n"}],"owner":{"account_id":3450359,"reputation":22086,"user_id":2890168,"accept_rate":56,"display_name":"Matteo Pacini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22454930,"answer_count":3,"score":0,"last_activity_date":1653061553,"creation_date":1395060596,"question_id":22454730,"body_markdown":"I&#39;m experiencing a weird issue when compressing a String using GZIPOutputStream.&lt;br/&gt;\r\nThis is my method:\r\n\r\n    private byte[] gzippedDataFromString(String string)\r\n\t{\t\t\r\n\t\t\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tGZIPOutputStream gzos = null;\r\n\r\n\t\ttry \r\n\t\t{\t\r\n\t\t    gzos = new GZIPOutputStream(baos);\r\n\t\t    gzos.write(string.getBytes(&quot;UTF-8&quot;));\r\n\t\t    gzos.flush();\r\n\t\t    \t\t    \r\n\t\t\treturn baos.toByteArray();\r\n\t\t    \r\n\t\t}\r\n\t\tcatch (Exception ex)\r\n\t\t{\r\n\t\t\tthrow new BopplRESTfulClientException(ex);\r\n\t\t}\r\n\t\tfinally \r\n\t\t{\r\n\t\t    if (gzos != null) try { gzos.close(); } catch (IOException ignore) {};\r\n\t\t}\r\n\r\n\t}\r\n\r\nI&#39;ve tried to compress this JSON string:\r\n\r\n    {\r\n      &quot;facebook_ids&quot;: [\r\n    &quot;8586904507&quot;,\r\n    &quot;1000047662932846&quot;\r\n      ],\r\n      &quot;google_ids&quot;: [\r\n    &quot;1082138329001828286757&quot;\r\n      ]\r\n    }\r\n\r\nI get the right bytes using `getBytes(&quot;UTF-8&quot;)`, so I think the issue is in:\r\n\r\n    gzos.write(string.getBytes(&quot;UTF-8&quot;));\r\n    gzos.flush();\r\n\r\nWhen I print gzipped data (in hex), I get:\r\n\r\n    1F 8B 08 00 etc (only zeroes after this point)\r\n\r\nAny idea?\r\n\r\nThanks in advance for your time.","title":"GZIP a String in Android","body":"<p>I'm experiencing a weird issue when compressing a String using GZIPOutputStream.<br/>\nThis is my method:</p>\n\n<pre><code>private byte[] gzippedDataFromString(String string)\n{       \n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    GZIPOutputStream gzos = null;\n\n    try \n    {   \n        gzos = new GZIPOutputStream(baos);\n        gzos.write(string.getBytes(\"UTF-8\"));\n        gzos.flush();\n\n        return baos.toByteArray();\n\n    }\n    catch (Exception ex)\n    {\n        throw new BopplRESTfulClientException(ex);\n    }\n    finally \n    {\n        if (gzos != null) try { gzos.close(); } catch (IOException ignore) {};\n    }\n\n}\n</code></pre>\n\n<p>I've tried to compress this JSON string:</p>\n\n<pre><code>{\n  \"facebook_ids\": [\n\"8586904507\",\n\"1000047662932846\"\n  ],\n  \"google_ids\": [\n\"1082138329001828286757\"\n  ]\n}\n</code></pre>\n\n<p>I get the right bytes using <code>getBytes(\"UTF-8\")</code>, so I think the issue is in:</p>\n\n<pre><code>gzos.write(string.getBytes(\"UTF-8\"));\ngzos.flush();\n</code></pre>\n\n<p>When I print gzipped data (in hex), I get:</p>\n\n<pre><code>1F 8B 08 00 etc (only zeroes after this point)\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>Thanks in advance for your time.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1652987192,"post_id":72309612,"comment_id":127747240,"body_markdown":"How is it &quot;not working correctly&quot; ? Do you have any errors or stack traces ?","body":"How is it &quot;not working correctly&quot; ? Do you have any errors or stack traces ?"},{"owner":{"account_id":6516919,"reputation":341,"user_id":5042426,"accept_rate":75,"display_name":"Vinci"},"score":0,"creation_date":1652988315,"post_id":72309612,"comment_id":127747570,"body_markdown":"Yea, exactly the same as the topic title","body":"Yea, exactly the same as the topic title"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653060947,"creation_date":1653000991,"answer_id":72311896,"question_id":72309612,"body_markdown":"You have choosen `@GeneratedValue(strategy = GenerationType.IDENTITY)` - which means that you leave id-generation to database identity column (i.e. auto-incremented column in the database).\r\nSo you can:\r\n1. Update database: make `id` field in the `studenttab` table auto-incremented on database level.\r\n2. **Or** update Hibernate id-generation strategy to `AUTO` or remove it at all which is the same (as AUTO is the default strategy). In that case Hibernate will create id&#39;s on its own based on the id java-type.\r\n\r\n    @Id \r\n    @GeneratedValue\r\n    private Long id;\r\n\r\nNote: since Hibernate 5.x in AUTO-mode, by default, uses db-sequences to generate the new ids, the 2nd approach will work only in the databases which support sequences. \r\n\r\nIf DB does not support sequences, Hibernate will use `Table-generator` for id-generation. So it will look for `hibernate_sequence` table, which you should either create by yourself or Hibernate can create it for you, if you set `spring.jpa.hibernate.ddl-auto` property to `update` or `create`.\r\n\r\nIf you are using Hibernate earlier than 5.x, or using 5.x and `spring.jpa.hibernate.use-new-id-generator-mappings= false`, it will use again IDENTITY by default and you will see the same error.\r\n\r\nFor more details read here (all answers, not the accepted one): https://stackoverflow.com/questions/49813666/table-dbname-hibernate-sequence-doesnt-exist\r\n  \r\n\r\n\r\n\r\n\r\n\r\n","title":"JpaSystemException: ids for this class must be manually assigned before calling save()","body":"<p>You have choosen <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> - which means that you leave id-generation to database identity column (i.e. auto-incremented column in the database).\nSo you can:</p>\n<ol>\n<li><p>Update database: make <code>id</code> field in the <code>studenttab</code> table auto-incremented on database level.</p>\n</li>\n<li><p><strong>Or</strong> update Hibernate id-generation strategy to <code>AUTO</code> or remove it at all which is the same (as AUTO is the default strategy). In that case Hibernate will create id's on its own based on the id java-type.</p>\n<p>@Id\n@GeneratedValue\nprivate Long id;</p>\n</li>\n</ol>\n<p>Note: since Hibernate 5.x in AUTO-mode, by default, uses db-sequences to generate the new ids, the 2nd approach will work only in the databases which support sequences.</p>\n<p>If DB does not support sequences, Hibernate will use <code>Table-generator</code> for id-generation. So it will look for <code>hibernate_sequence</code> table, which you should either create by yourself or Hibernate can create it for you, if you set <code>spring.jpa.hibernate.ddl-auto</code> property to <code>update</code> or <code>create</code>.</p>\n<p>If you are using Hibernate earlier than 5.x, or using 5.x and <code>spring.jpa.hibernate.use-new-id-generator-mappings= false</code>, it will use again IDENTITY by default and you will see the same error.</p>\n<p>For more details read here (all answers, not the accepted one): <a href=\"https://stackoverflow.com/questions/49813666/table-dbname-hibernate-sequence-doesnt-exist\">Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist</a></p>\n"}],"owner":{"account_id":6516919,"reputation":341,"user_id":5042426,"accept_rate":75,"display_name":"Vinci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2313,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653060947,"creation_date":1652985695,"question_id":72309612,"body_markdown":"I&#39;ve been trying to create a new Student field that could be added into my MySQL database.\r\n\r\nI&#39;m using Spring Boot, MySQL Workbench and from my understanding everything is just as it should be - yet - it&#39;s still not working correctly.\r\n\r\nThis is how my Student class look like:\r\n\r\n    @Entity\r\n    @Table(name = &quot;studenttab&quot;)\r\n    public class Student {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;sname&quot;)\r\n        private String name;\r\n        @Column(name = &quot;scourse&quot;)\r\n        private String course;\r\n        @Column(name = &quot;sfee&quot;)\r\n        private Double fee;\r\n\r\nAnd this is how my test method looks like:\r\n\r\n   \r\n\r\n     @Test\r\n        void testCreateStudent() {\r\n            Student student = new Student();\r\n            student.setName(&quot;ukasz&quot;);\r\n            student.setCourse(&quot;WoW-Best-Gold-Guide&quot;);\r\n            student.setFee(100.00);\r\n            studentRepository.save(student);\r\n        }\r\n\r\nStudentRepository is just extending a CrudRepository.\r\n\r\nIt seems like Hibernate is not able to create Ids automatically, which should be done by @GeneratedValue annotation.\r\nNot sure what&#39;s wrong and what I can do to repair it.\r\n\r\n&#175;\\_(  )_/&#175;\r\n","title":"JpaSystemException: ids for this class must be manually assigned before calling save()","body":"<p>I've been trying to create a new Student field that could be added into my MySQL database.</p>\n<p>I'm using Spring Boot, MySQL Workbench and from my understanding everything is just as it should be - yet - it's still not working correctly.</p>\n<p>This is how my Student class look like:</p>\n<pre><code>@Entity\n@Table(name = &quot;studenttab&quot;)\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;sname&quot;)\n    private String name;\n    @Column(name = &quot;scourse&quot;)\n    private String course;\n    @Column(name = &quot;sfee&quot;)\n    private Double fee;\n</code></pre>\n<p>And this is how my test method looks like:</p>\n<pre><code> @Test\n    void testCreateStudent() {\n        Student student = new Student();\n        student.setName(&quot;ukasz&quot;);\n        student.setCourse(&quot;WoW-Best-Gold-Guide&quot;);\n        student.setFee(100.00);\n        studentRepository.save(student);\n    }\n</code></pre>\n<p>StudentRepository is just extending a CrudRepository.</p>\n<p>It seems like Hibernate is not able to create Ids automatically, which should be done by @GeneratedValue annotation.\nNot sure what's wrong and what I can do to repair it.</p>\n<p>_(  )_/</p>\n"},{"tags":["java","import","package","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":16258099,"reputation":153,"user_id":11740260,"display_name":"user11740260"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1653060912,"creation_date":1602079683,"answer_id":64245842,"question_id":64244261,"body_markdown":"Deleted `module-info.java`. Now it works.","title":"&quot;The type java.sql.Connection is not accessible&quot; Eclipse IDE Error","body":"<p>Deleted <code>module-info.java</code>. Now it works.</p>\n"},{"tags":[],"owner":{"account_id":3419884,"reputation":11,"user_id":2867849,"display_name":"user2867849"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653060921,"creation_date":1633704328,"answer_id":69497718,"question_id":64244261,"body_markdown":"A better solution is just to add `requires java.sql;` to `module-info.java`. That way any other build dependencies are included as well. ","title":"&quot;The type java.sql.Connection is not accessible&quot; Eclipse IDE Error","body":"<p>A better solution is just to add <code>requires java.sql;</code> to <code>module-info.java</code>. That way any other build dependencies are included as well.</p>\n"}],"owner":{"account_id":16258099,"reputation":153,"user_id":11740260,"display_name":"user11740260"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9812,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1653060937,"creation_date":1602074526,"question_id":64244261,"body_markdown":"I searched stack overflow for similar errors, but didn&#39;t find quite the same.\r\nI use the actual OpenJDK and imported the actual MySQL J connector.\r\n\r\nIf I try to import any `java.sql.*` package, it gets a red underline and won&#39;t do it.\r\n\r\nWhat could be the cause?","title":"&quot;The type java.sql.Connection is not accessible&quot; Eclipse IDE Error","body":"<p>I searched stack overflow for similar errors, but didn't find quite the same.\nI use the actual OpenJDK and imported the actual MySQL J connector.</p>\n<p>If I try to import any <code>java.sql.*</code> package, it gets a red underline and won't do it.</p>\n<p>What could be the cause?</p>\n"},{"tags":["java","oop","design-patterns","naming-conventions"],"comments":[{"owner":{"account_id":134778,"reputation":11033,"user_id":337149,"accept_rate":83,"display_name":"August Karlstrom"},"score":0,"creation_date":1653207484,"post_id":72317302,"comment_id":127791105,"body_markdown":"Why do you need a separate class for requirements rather than storing them directly in the Party class?","body":"Why do you need a separate class for requirements rather than storing them directly in the Party class?"}],"answers":[{"tags":[],"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653042890,"creation_date":1653042890,"answer_id":72317455,"question_id":72317302,"body_markdown":"Requirement is not a subclass, since you are not inheriting it from the superclass Party. I would name it Requirements, as there is not one requirement but many more because you have four variables.\r\n\r\nkind regards","title":"Naming a subclass to store requirements of the parent class","body":"<p>Requirement is not a subclass, since you are not inheriting it from the superclass Party. I would name it Requirements, as there is not one requirement but many more because you have four variables.</p>\n<p>kind regards</p>\n"},{"tags":[],"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653043263,"creation_date":1653043263,"answer_id":72317544,"question_id":72317302,"body_markdown":"Perfectly acceptable to have plurals. \r\n\r\nRequirements is not a subclass but here an embedded type. Requirements &quot;is not&quot; a party(inheritance). A party &quot;has&quot; requirements (composition).","title":"Naming a subclass to store requirements of the parent class","body":"<p>Perfectly acceptable to have plurals.</p>\n<p>Requirements is not a subclass but here an embedded type. Requirements &quot;is not&quot; a party(inheritance). A party &quot;has&quot; requirements (composition).</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653060899,"creation_date":1653044683,"answer_id":72317891,"question_id":72317302,"body_markdown":"In my view, you should use singular name as there is no collection of them. \r\nWhat I mean is to pluralize when you have collection of requirements:\r\n\r\n\tclass Party {\r\n\t\tString id;\r\n\t\tString name;\r\n\t\tInstant date;\r\n\t\tArray&lt;Requirement&gt; requirements; // &#39;s&#39; is to indicate that it \r\n            // is a collection of requirements\r\n\t}\r\n\t\r\nHowever, class should have singular name:\r\n\r\n\tclass Requirement {\r\n\t\t// ... the code is omitted for the brevity\r\n\t\tString dressCode; // this is just property which describes requirement\r\n\t}\r\n\t\r\n\r\nWe can look at simple example with `Person`:\r\n\r\n\tclass Person {\r\n\t\tString id;\r\n\t\tString name;\t\r\n\t}\r\n\r\nand it is not really cool when we pluralize name: \r\n\r\n\tclass Persons {\r\n\t\tString id;\r\n\t\tString name;\t\r\n\t}\r\n\r\nRead more about [lasses naming: singular or plural][1]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/103720/classes-naming-singular-or-plural#:~:text=Definitely%20singular.,a%20namespace%20than%20anything%20else.","title":"Naming a subclass to store requirements of the parent class","body":"<p>In my view, you should use singular name as there is no collection of them.\nWhat I mean is to pluralize when you have collection of requirements:</p>\n<pre><code>class Party {\n    String id;\n    String name;\n    Instant date;\n    Array&lt;Requirement&gt; requirements; // 's' is to indicate that it \n        // is a collection of requirements\n}\n</code></pre>\n<p>However, class should have singular name:</p>\n<pre><code>class Requirement {\n    // ... the code is omitted for the brevity\n    String dressCode; // this is just property which describes requirement\n}\n</code></pre>\n<p>We can look at simple example with <code>Person</code>:</p>\n<pre><code>class Person {\n    String id;\n    String name;    \n}\n</code></pre>\n<p>and it is not really cool when we pluralize name:</p>\n<pre><code>class Persons {\n    String id;\n    String name;    \n}\n</code></pre>\n<p>Read more about <a href=\"https://softwareengineering.stackexchange.com/questions/103720/classes-naming-singular-or-plural#:%7E:text=Definitely%20singular.,a%20namespace%20than%20anything%20else.\">lasses naming: singular or plural</a></p>\n"}],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72317544,"answer_count":3,"score":3,"last_activity_date":1653060899,"creation_date":1653042138,"question_id":72317302,"body_markdown":"I have the class Party and inside i have some restrictions to join that party.\r\n\r\nLooking like this:\r\n\r\n    class Party {\r\n        String id;\r\n        String name;\r\n        Instant date;\r\n        Requirement requirement;\r\n    }\r\n\r\n    class Requirement {\r\n        int age;\r\n        String dressCode;\r\n        boolean drinkIncluded;\r\n        ....\r\n    }\r\n\r\nMy question is: How should i name the subclass `Requirement`? I came up with three options but i cannot tell what is the best naming convention.\r\n\r\n 1. Requirements (in plural)\r\n\r\n 2. Requirement (in singular)\r\n\r\n 4. Requirements_configuration\r\n\r\nIs there some design pattern that i am missing to solve this or i just can name it in plural in this scenario?","title":"Naming a subclass to store requirements of the parent class","body":"<p>I have the class Party and inside i have some restrictions to join that party.</p>\n<p>Looking like this:</p>\n<pre><code>class Party {\n    String id;\n    String name;\n    Instant date;\n    Requirement requirement;\n}\n\nclass Requirement {\n    int age;\n    String dressCode;\n    boolean drinkIncluded;\n    ....\n}\n</code></pre>\n<p>My question is: How should i name the subclass <code>Requirement</code>? I came up with three options but i cannot tell what is the best naming convention.</p>\n<ol>\n<li><p>Requirements (in plural)</p>\n</li>\n<li><p>Requirement (in singular)</p>\n</li>\n<li><p>Requirements_configuration</p>\n</li>\n</ol>\n<p>Is there some design pattern that i am missing to solve this or i just can name it in plural in this scenario?</p>\n"},{"tags":["java","jdbc","quarkus"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1652982167,"post_id":72308886,"comment_id":127745643,"body_markdown":"you should check if the field has returns also UTC when you call `createAt.getZoneOffset()`. If this is not UTC (offset of 0 hours) the problem is in the output - you have to adjust it there. If it is not UTC, you should check the value in the database with another tool to see if it occurs on writing to the DB or reading from it.","body":"you should check if the field has returns also UTC when you call <code>createAt.getZoneOffset()</code>. If this is not UTC (offset of 0 hours) the problem is in the output - you have to adjust it there. If it is not UTC, you should check the value in the database with another tool to see if it occurs on writing to the DB or reading from it."},{"owner":{"account_id":13893316,"reputation":45,"user_id":10030759,"display_name":"Abhijeet"},"score":0,"creation_date":1653023053,"post_id":72308886,"comment_id":127753852,"body_markdown":"@cyberbrain createAt.getZoneOffset() is returning -0.07 which is my local time zone. Offset should be 0 as the timestamp stored on DB is in UTC and ZonedDataTime should set it&#39;s timezone, is it correct understanding?","body":"@cyberbrain createAt.getZoneOffset() is returning -0.07 which is my local time zone. Offset should be 0 as the timestamp stored on DB is in UTC and ZonedDataTime should set it&#39;s timezone, is it correct understanding?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653032244,"post_id":72308886,"comment_id":127756172,"body_markdown":"What is the datatype of the underlying database column? TIMESTAMP or TIMESTAMP WITH TIME ZONE (a.k.a. TIMESTAMPTZ)?","body":"What is the datatype of the underlying database column? TIMESTAMP or TIMESTAMP WITH TIME ZONE (a.k.a. TIMESTAMPTZ)?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652985505,"creation_date":1652985101,"answer_id":72309511,"question_id":72308886,"body_markdown":"# tl;dr\r\n\r\n[`ZonedDateTime`][1] is not mapped to SQL in JDBC. Use [`OffsetDateTime`][2], with offset of zero. \r\n\r\n    myResultSet.getObject(  , OffsetDateTime.class )\r\n\r\n# `OffsetDateTime`\r\n\r\nCaveat: I do not use Quarkus nor Jakarta Persistence (formerly JPA). \r\n\r\nIll guess that the issue is due to  your use of `ZonedDateTime`. That type does not map to any standard SQL data type. (`TIMESTAMP WITH TIME ZONE` is a misnomer, SQL is actually ignorant of time zones.). \r\n\r\nSo I imagine somewhere along your tool chain, your JVMs current default time zone is being applied implicitly while instantiating a `ZonedDateTime` object. \r\n\r\nTo fix this, retrieve date-time values from the database using only the types officially mapped in the JDBC specification, versions 4.2 and later. \r\n\r\nFor a column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`, retrieve as a `OffsetDateTime`. Since Postgres stores values in that column in UTC (an offset of zero hours-minutes-seconds), your resulting `OffsetDateTime` will carry an offset of zero too. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\r\n\r\n# `ZonedDateTime` \r\n\r\n*After* retrieval, assign your desired time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html","title":"Database column time is getting converted to local timezone","body":"<h1>tl;dr</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> is not mapped to SQL in JDBC. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>, with offset of zero.</p>\n<pre><code>myResultSet.getObject(  , OffsetDateTime.class )\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p>Caveat: I do not use Quarkus nor Jakarta Persistence (formerly JPA).</p>\n<p>Ill guess that the issue is due to  your use of <code>ZonedDateTime</code>. That type does not map to any standard SQL data type. (<code>TIMESTAMP WITH TIME ZONE</code> is a misnomer, SQL is actually ignorant of time zones.).</p>\n<p>So I imagine somewhere along your tool chain, your JVMs current default time zone is being applied implicitly while instantiating a <code>ZonedDateTime</code> object.</p>\n<p>To fix this, retrieve date-time values from the database using only the types officially mapped in the JDBC specification, versions 4.2 and later.</p>\n<p>For a column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, retrieve as a <code>OffsetDateTime</code>. Since Postgres stores values in that column in UTC (an offset of zero hours-minutes-seconds), your resulting <code>OffsetDateTime</code> will carry an offset of zero too.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p><em>After</em> retrieval, assign your desired time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n"}],"owner":{"account_id":13893316,"reputation":45,"user_id":10030759,"display_name":"Abhijeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653060869,"creation_date":1652981734,"question_id":72308886,"body_markdown":"I&#39;ve a Postgres SQL database with one column storing the time with timezone in UTC. In my Quarkus app I&#39;ve defined the Entity as following: \r\n\r\n```\r\npublic class Data {\r\n    @Column(name = &quot;created_at&quot;)\r\n    public java.time.ZonedDateTime createAt;\r\n}\r\n```\r\nColumn as seen in PG SQL Client:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSQL definition I used to create the table:\r\n```\r\nCREATE TABLE IF NOT EXISTS my_table (\r\n\tcreated_at TIMESTAMPTZ NOT NULL DEFAULT now()\r\n);\r\n```\r\n\r\nWhen I&#39;m printing the createAt field, I see the time in my local time zone. \r\n\r\nCan anyone please clarify where the conversion from UTC to my local time zone happening - while reading the database or while printing it?\r\n\r\nIs there anyway I can enforce UTC timezone through out my Quarkus app?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oHlop.png","title":"Database column time is getting converted to local timezone","body":"<p>I've a Postgres SQL database with one column storing the time with timezone in UTC. In my Quarkus app I've defined the Entity as following:</p>\n<pre><code>public class Data {\n    @Column(name = &quot;created_at&quot;)\n    public java.time.ZonedDateTime createAt;\n}\n</code></pre>\n<p>Column as seen in PG SQL Client:</p>\n<p><a href=\"https://i.stack.imgur.com/oHlop.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHlop.png\" alt=\"enter image description here\" /></a></p>\n<p>SQL definition I used to create the table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS my_table (\n    created_at TIMESTAMPTZ NOT NULL DEFAULT now()\n);\n</code></pre>\n<p>When I'm printing the createAt field, I see the time in my local time zone.</p>\n<p>Can anyone please clarify where the conversion from UTC to my local time zone happening - while reading the database or while printing it?</p>\n<p>Is there anyway I can enforce UTC timezone through out my Quarkus app?</p>\n"},{"tags":["java","spring-boot","rest","put","http-status-code-415"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1628428511,"post_id":68701122,"comment_id":121412273,"body_markdown":"where is your request, what does it look like","body":"where is your request, what does it look like"},{"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"score":0,"creation_date":1628428794,"post_id":68701122,"comment_id":121412352,"body_markdown":"@Toerktumlare sorry, I have added the request","body":"@Toerktumlare sorry, I have added the request"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1628436505,"post_id":68701122,"comment_id":121414209,"body_markdown":"What do you mean by in intellij. That is not a complete request, and not reproducible. Use curl or screenshot postman etc.","body":"What do you mean by in intellij. That is not a complete request, and not reproducible. Use curl or screenshot postman etc."},{"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"score":0,"creation_date":1628445298,"post_id":68701122,"comment_id":121416540,"body_markdown":"@Toerktumlare I added a postman screenshot. Hope, this helps. I am really desperate ...","body":"@Toerktumlare I added a postman screenshot. Hope, this helps. I am really desperate ..."},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1628445826,"post_id":68701122,"comment_id":121416648,"body_markdown":"Can you show the HTTP headers of the request you sent from Postman?","body":"Can you show the HTTP headers of the request you sent from Postman?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1628447963,"post_id":68701122,"comment_id":121417133,"body_markdown":"can you please post your full debug logs, instead of just the exception.","body":"can you please post your full debug logs, instead of just the exception."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1628448019,"post_id":68701122,"comment_id":121417150,"body_markdown":"have you tried removing things one by one to see if it works then. Start out with a clean entity without annotations.","body":"have you tried removing things one by one to see if it works then. Start out with a clean entity without annotations."},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1628458414,"post_id":68701122,"comment_id":121419442,"body_markdown":"At the end of the error trace says &quot;path: /untadresse/save&quot;. Your call was supposed to execute /source/update. Do a debug setting a breakpoint in every public method of your controller, to make sure in which of them the error happens.","body":"At the end of the error trace says &quot;path: /untadresse/save&quot;. Your call was supposed to execute /source/update. Do a debug setting a breakpoint in every public method of your controller, to make sure in which of them the error happens."},{"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"score":0,"creation_date":1628487172,"post_id":68701122,"comment_id":121423569,"body_markdown":"@LittleSanti Sorry, copy &amp; paste error. I tried it with severals entities/ put requests.","body":"@LittleSanti Sorry, copy &amp; paste error. I tried it with severals entities/ put requests."},{"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"score":0,"creation_date":1628487740,"post_id":68701122,"comment_id":121423686,"body_markdown":"@Toerktumlare Nothing shows in the run console when sending the put request. This is the only error I have. I tried to debug, but did not succeed. I think the error occured while Spring tries with `@ResponseBody` to convert  the return value to HTTP response body with HTTP Message converters.","body":"@Toerktumlare Nothing shows in the run console when sending the put request. This is the only error I have. I tried to debug, but did not succeed. I think the error occured while Spring tries with <code>@ResponseBody</code> to convert  the return value to HTTP response body with HTTP Message converters."}],"answers":[{"tags":[],"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629437412,"creation_date":1629437412,"answer_id":68857390,"question_id":68701122,"body_markdown":"Solved! I accidentally had two setters defined with different data types. ","title":"Spring boot: Getting 415 unsupported Media type","body":"<p>Solved! I accidentally had two setters defined with different data types.</p>\n"}],"owner":{"account_id":22408747,"reputation":29,"user_id":16617849,"display_name":"Barbara"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5415,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":68857390,"answer_count":1,"score":-1,"last_activity_date":1653060764,"creation_date":1628428362,"question_id":68701122,"body_markdown":"I am currently writing a spring boot backend with Rest-API and trying to write data against my database.\r\nWhen doing a put ot post request, some strange things happen. Most of the time I get a `415 unsupported media type` error, but sometimes (for some of the entities) the put/ post request works fine and the data is written correctly against the datatbase. \r\n\r\nBut in most of the cases a 415-error occurs. If I understand the error stack trace correctly, the 415 error occurs because the body of my request cannot be read. I cannot figure out why!!\r\n\r\n\r\nI tried out serveral things: \r\n- Using `consumes = MediaType.APPLICATION_JSON_VALUE`, `consumes = &quot;application/json&quot;` in the `@PutMapping`-Annotation, \r\n- checking for loose `@JsonManagedReference` / `@JsonBackReference`, \r\n- checking for standard constructor in entites, \r\n- checking for getter/setter. \r\n- adding `Content-Type: application/json` to the request in e.g.  Postman\r\n\r\nBut I cannot figure out, what the problem is. \r\n\r\nBtw, I am using spring security and `@JsonView`-Annotation, not knowing if this is part of the problem.\r\n\r\nHas anybody any idea??? \r\n\r\nHere is my Controller: `\r\n```\r\n@RestController\r\n@RequestMapping(value=&quot;/source&quot;)\r\npublic class SourceController {\r\n\r\n    private final SourceServiceImpl sourceServiceImpl;\r\n\r\n    @Autowired\r\n    public SourceController(SourceServiceImpl sourceServiceImpl) {\r\n        this.sourceServiceImpl = sourceServiceImpl;\r\n    }\r\n\r\n   \r\n    @PostMapping(value = &quot;/save&quot;)\r\n    public void saveSource(@RequestBody SourceEntity sourceEntity){\r\n        sourceServiceImpl.save(sourceEntity);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/update&quot;)\r\n    public void updateSourcee(@RequestBody SourceEntity sourceEntity) {\r\n        sourceServiceImpl.update(sourceEntity);\r\n    }\r\n}\r\n\r\n```\r\nHere is my Entity:\r\n```\r\n@Entity\r\n@Table(schema = &quot;OWNER&quot;, name = &quot;SOURCE&quot;)\r\npublic class SourceEntity {\r\n\r\n    @JsonView(UntDataView.Basic.class)\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private int id;\r\n\r\n    @OneToMany(mappedBy = &quot;sourceEntity&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;FirmEntity&gt; firmEntity;\r\n\r\n    @JsonView(UntDataView.Basic.class)\r\n    @Column(name = &quot;desc&quot;)\r\n    private String desc;\r\n\r\n    @Column(name = &quot;create_id&quot;, insertable = false, updatable = false)\r\n    private Integer createId;\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;create_id&quot;, nullable = false)\r\n    private UserEntity userEntityCreate;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;create_dat&quot;, nullable = false)\r\n    private Date createDat;\r\n\r\n    @Column(name = &quot;corr_id&quot;, insertable = false, updatable = false)\r\n    private Integer corrId;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;corr_id&quot;)\r\n    private UserEntity userEntityCorr;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;corr_dat&quot;)\r\n    private Date corrDat;\r\n\r\n\r\n    public SourceEntity() {\r\n    }\r\n\r\n    \r\n//getter/ setter\r\n\r\n```\r\n\r\nHere is my request:&lt;br&gt;\r\n[Postman][1] &lt;br&gt; \r\n[PostmanHeader][2]\r\n\r\n\r\nHere is the error:\r\n```\r\n&quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json;charset=UTF-8&#39; not supported\r\norg.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:225)\r\norg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)\r\norg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)\r\norg.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\norg.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)\r\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\r\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\norg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\norg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\norg.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\r\norg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\norg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\norg.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\norg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\norg.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\norg.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\norg.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\norg.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\njava.base/java.lang.Thread.run(Thread.java:834)\r\n&quot;,\r\n &quot;message&quot;: &quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot;,\r\n &quot;path&quot;: &quot;/source/update&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KMnBT.png\r\n  [2]: https://i.stack.imgur.com/yVXUQ.png","title":"Spring boot: Getting 415 unsupported Media type","body":"<p>I am currently writing a spring boot backend with Rest-API and trying to write data against my database.\nWhen doing a put ot post request, some strange things happen. Most of the time I get a <code>415 unsupported media type</code> error, but sometimes (for some of the entities) the put/ post request works fine and the data is written correctly against the datatbase.</p>\n<p>But in most of the cases a 415-error occurs. If I understand the error stack trace correctly, the 415 error occurs because the body of my request cannot be read. I cannot figure out why!!</p>\n<p>I tried out serveral things:</p>\n<ul>\n<li>Using <code>consumes = MediaType.APPLICATION_JSON_VALUE</code>, <code>consumes = &quot;application/json&quot;</code> in the <code>@PutMapping</code>-Annotation,</li>\n<li>checking for loose <code>@JsonManagedReference</code> / <code>@JsonBackReference</code>,</li>\n<li>checking for standard constructor in entites,</li>\n<li>checking for getter/setter.</li>\n<li>adding <code>Content-Type: application/json</code> to the request in e.g.  Postman</li>\n</ul>\n<p>But I cannot figure out, what the problem is.</p>\n<p>Btw, I am using spring security and <code>@JsonView</code>-Annotation, not knowing if this is part of the problem.</p>\n<p>Has anybody any idea???</p>\n<p>Here is my Controller: `</p>\n<pre><code>@RestController\n@RequestMapping(value=&quot;/source&quot;)\npublic class SourceController {\n\n    private final SourceServiceImpl sourceServiceImpl;\n\n    @Autowired\n    public SourceController(SourceServiceImpl sourceServiceImpl) {\n        this.sourceServiceImpl = sourceServiceImpl;\n    }\n\n   \n    @PostMapping(value = &quot;/save&quot;)\n    public void saveSource(@RequestBody SourceEntity sourceEntity){\n        sourceServiceImpl.save(sourceEntity);\n    }\n\n    @PutMapping(value = &quot;/update&quot;)\n    public void updateSourcee(@RequestBody SourceEntity sourceEntity) {\n        sourceServiceImpl.update(sourceEntity);\n    }\n}\n\n</code></pre>\n<p>Here is my Entity:</p>\n<pre><code>@Entity\n@Table(schema = &quot;OWNER&quot;, name = &quot;SOURCE&quot;)\npublic class SourceEntity {\n\n    @JsonView(UntDataView.Basic.class)\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private int id;\n\n    @OneToMany(mappedBy = &quot;sourceEntity&quot;, cascade = CascadeType.ALL)\n    private List&lt;FirmEntity&gt; firmEntity;\n\n    @JsonView(UntDataView.Basic.class)\n    @Column(name = &quot;desc&quot;)\n    private String desc;\n\n    @Column(name = &quot;create_id&quot;, insertable = false, updatable = false)\n    private Integer createId;\n\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;create_id&quot;, nullable = false)\n    private UserEntity userEntityCreate;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;create_dat&quot;, nullable = false)\n    private Date createDat;\n\n    @Column(name = &quot;corr_id&quot;, insertable = false, updatable = false)\n    private Integer corrId;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;corr_id&quot;)\n    private UserEntity userEntityCorr;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;corr_dat&quot;)\n    private Date corrDat;\n\n\n    public SourceEntity() {\n    }\n\n    \n//getter/ setter\n\n</code></pre>\n<p>Here is my request:<br>\n<a href=\"https://i.stack.imgur.com/KMnBT.png\" rel=\"nofollow noreferrer\">Postman</a> <br>\n<a href=\"https://i.stack.imgur.com/yVXUQ.png\" rel=\"nofollow noreferrer\">PostmanHeader</a></p>\n<p>Here is the error:</p>\n<pre><code>&quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json;charset=UTF-8' not supported\norg.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:225)\norg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)\norg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)\norg.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\norg.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\norg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:652)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\norg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\norg.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\norg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\norg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\norg.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\norg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\norg.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\norg.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\norg.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\norg.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:834)\n&quot;,\n &quot;message&quot;: &quot;Content type 'application/json;charset=UTF-8' not supported&quot;,\n &quot;path&quot;: &quot;/source/update&quot;\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","state","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":1119808,"reputation":9752,"user_id":1108397,"accept_rate":65,"display_name":"rupps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487636120,"creation_date":1487636120,"answer_id":42356468,"question_id":42355730,"body_markdown":"&gt; My question is, where do i set up these other fragments? in the same activity that connects the fragments that are connected to the navigation bar or in a different activity. \r\n\r\nIt&#39;s really up to you and how you want to display the fragments. You can display them in the same activity or open another activity. However bear in mind that if you open another activity, you will lose the navigation bar of the previous activity (an activity always uses the whole screen)\r\n\r\nhttps://stackoverflow.com/questions/29782808/what-does-fragmentmanager-and-fragmenttransaction-exactly-do\r\n\r\n\r\n&gt; How do I save the current state of the displayed fragment so that when\r\n&gt; I move to a different tab and then move back it will be in the same\r\n&gt; state as when i left it?\r\n\r\nRead about the fragment lifecycle at https://developer.android.com/guide/components/fragments.html#Lifecycle\r\n\r\nSpecifically, you want to save your state in `onSaveInstanceState`, and the stuff you save will be sent back to you when the fragment is recreated in `onCreate`","title":"How many activities should I use with a bottom navigation bar?","body":"<blockquote>\n  <p>My question is, where do i set up these other fragments? in the same activity that connects the fragments that are connected to the navigation bar or in a different activity. </p>\n</blockquote>\n\n<p>It's really up to you and how you want to display the fragments. You can display them in the same activity or open another activity. However bear in mind that if you open another activity, you will lose the navigation bar of the previous activity (an activity always uses the whole screen)</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29782808/what-does-fragmentmanager-and-fragmenttransaction-exactly-do\">What does FragmentManager and FragmentTransaction exactly do?</a></p>\n\n<blockquote>\n  <p>How do I save the current state of the displayed fragment so that when\n  I move to a different tab and then move back it will be in the same\n  state as when i left it?</p>\n</blockquote>\n\n<p>Read about the fragment lifecycle at <a href=\"https://developer.android.com/guide/components/fragments.html#Lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/fragments.html#Lifecycle</a></p>\n\n<p>Specifically, you want to save your state in <code>onSaveInstanceState</code>, and the stuff you save will be sent back to you when the fragment is recreated in <code>onCreate</code></p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487650981,"creation_date":1487650981,"answer_id":42358662,"question_id":42355730,"body_markdown":"I&#39;d like to expand on what @rupps said, because I feel like the part about what do FragmentManager/Transaction do is not approached from where you are expecting. \r\n\r\nI assume you&#39;re using a [BottomNavigationView][1].\r\n\r\nRegardless of the (important) lifecycle of Fragments, you have to understand that a Fragment is *always* attached to an activity (note: this is not true, but let&#39;s not talk about headless fragments for now). \r\n\r\nThe approach you can take is that the Activity layout looks like this: (in pseudo code)\r\n\r\n    &lt;RelativeLayout width=match_parent height=match_parent&gt;\r\n      &lt;FrameLayout \r\n         id=&quot;@+id/your_fragment_container&quot; \r\n         width=match_parent \r\n         height=match_parent\r\n         layout_above=&quot;@+id/navbar&quot; /&gt;\r\n      &lt;BottomNavigationView \r\n         id=&quot;@id/navbar&quot;\r\n         width=match_parent \r\n         height=wrap_content \r\n         align_parent_bottom=true /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nThis way the BottomNavBar will always be present at the bottom of your layouts. \r\n\r\nNow you have to deal with putting the fragments there Let&#39;s say that you need to attach a [Listener][2] to that bar, and when you receive a callback that a new menu item has been selected you can proceed to change the fragment (you will always get one event upon startup or you can force it during onCreate I suppose). \r\n\r\nYou will literally add a switch/if statement to the `onNavigationItemSelected(MenuItem item)` method.\r\n\r\nand call `addFragment(TAG);` depending which `case` it is. \r\n\r\nPseudo-Code for you to get the idea:\r\n\r\n    private void addFragment(final String tag) {\r\n            final Fragment existing = getSupportFragmentManager().findFragmentByTag(tag);\r\n    \r\n            if (existing == null) {\r\n                final Fragment newInstance = getNewFragmentInstanceWithTag(tag);\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .replace(getFragmentContainerLayout(), newInstance, tag)\r\n                        .commit();\r\n            }\r\n    }\r\n\r\n\r\nYou&#39;ll also need to provide: \r\n\r\n    private int getFragmentContainerLayout() {\r\n        return R.id.your_fragment_container;\r\n    }\r\n\r\nand\r\n\r\n    public static final String TAB1_TAG = &quot;TAB1_TAG&quot;;\r\n    public static final String TAB2_TAG = &quot;TAB2_TAG&quot;;\r\n    public static final String TAB3_TAG = &quot;TAB3_TAG&quot;;\r\n\r\n    protected Fragment getNewFragmentInstanceWithTag(String tag) {\r\n        switch (tag) {\r\n            case TAB1_TAG:\r\n                return Tab1Fragment.newInstance();\r\n            case TAB2_TAG:\r\n                return Tab2Fragment.newInstance();\r\n            case TAB3_TAG:\r\n                return Tab3Fragment.newInstance();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n**So what the frog is the FragmentManager/Transaction?**\r\n\r\nThink of the Manager as a singleton object (one per app) that keeps a reference to your Fragments and can retrieve them for you (if they existed before). It handles Transactions (add/remove/hide/show, etc.) so you can later roll back them (say you add a fragment in a transaction, if you also `addToBackStack()` then you can simply tell the Manager: pop the last transaction, effectively rolling it back. \r\n\r\nIt&#39;s a monster. It had bugs for over 9000 years and it&#39;s not very intuitive; but once you get used to it, you just &quot;use it&quot;.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.html\r\n  [2]: https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.OnNavigationItemSelectedListener.html","title":"How many activities should I use with a bottom navigation bar?","body":"<p>I'd like to expand on what @rupps said, because I feel like the part about what do FragmentManager/Transaction do is not approached from where you are expecting. </p>\n\n<p>I assume you're using a <a href=\"https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.html\" rel=\"nofollow noreferrer\">BottomNavigationView</a>.</p>\n\n<p>Regardless of the (important) lifecycle of Fragments, you have to understand that a Fragment is <em>always</em> attached to an activity (note: this is not true, but let's not talk about headless fragments for now). </p>\n\n<p>The approach you can take is that the Activity layout looks like this: (in pseudo code)</p>\n\n<pre><code>&lt;RelativeLayout width=match_parent height=match_parent&gt;\n  &lt;FrameLayout \n     id=\"@+id/your_fragment_container\" \n     width=match_parent \n     height=match_parent\n     layout_above=\"@+id/navbar\" /&gt;\n  &lt;BottomNavigationView \n     id=\"@id/navbar\"\n     width=match_parent \n     height=wrap_content \n     align_parent_bottom=true /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>This way the BottomNavBar will always be present at the bottom of your layouts. </p>\n\n<p>Now you have to deal with putting the fragments there Let's say that you need to attach a <a href=\"https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.OnNavigationItemSelectedListener.html\" rel=\"nofollow noreferrer\">Listener</a> to that bar, and when you receive a callback that a new menu item has been selected you can proceed to change the fragment (you will always get one event upon startup or you can force it during onCreate I suppose). </p>\n\n<p>You will literally add a switch/if statement to the <code>onNavigationItemSelected(MenuItem item)</code> method.</p>\n\n<p>and call <code>addFragment(TAG);</code> depending which <code>case</code> it is. </p>\n\n<p>Pseudo-Code for you to get the idea:</p>\n\n<pre><code>private void addFragment(final String tag) {\n        final Fragment existing = getSupportFragmentManager().findFragmentByTag(tag);\n\n        if (existing == null) {\n            final Fragment newInstance = getNewFragmentInstanceWithTag(tag);\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(getFragmentContainerLayout(), newInstance, tag)\n                    .commit();\n        }\n}\n</code></pre>\n\n<p>You'll also need to provide: </p>\n\n<pre><code>private int getFragmentContainerLayout() {\n    return R.id.your_fragment_container;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static final String TAB1_TAG = \"TAB1_TAG\";\npublic static final String TAB2_TAG = \"TAB2_TAG\";\npublic static final String TAB3_TAG = \"TAB3_TAG\";\n\nprotected Fragment getNewFragmentInstanceWithTag(String tag) {\n    switch (tag) {\n        case TAB1_TAG:\n            return Tab1Fragment.newInstance();\n        case TAB2_TAG:\n            return Tab2Fragment.newInstance();\n        case TAB3_TAG:\n            return Tab3Fragment.newInstance();\n        default:\n            return null;\n    }\n}\n</code></pre>\n\n<p><strong>So what the frog is the FragmentManager/Transaction?</strong></p>\n\n<p>Think of the Manager as a singleton object (one per app) that keeps a reference to your Fragments and can retrieve them for you (if they existed before). It handles Transactions (add/remove/hide/show, etc.) so you can later roll back them (say you add a fragment in a transaction, if you also <code>addToBackStack()</code> then you can simply tell the Manager: pop the last transaction, effectively rolling it back. </p>\n\n<p>It's a monster. It had bugs for over 9000 years and it's not very intuitive; but once you get used to it, you just \"use it\".</p>\n"}],"owner":{"account_id":10295055,"reputation":43,"user_id":7595539,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653060470,"creation_date":1487631574,"question_id":42355730,"body_markdown":"I&#39;m fairly new to android studio, any help would be appreciated.\r\n\r\nI have set up a bottom navigation bar programatically in my MainActivity - what&#39;s the best way to set this up with other fragments. I have three fragments, one for each tab in the navigation bar and other fragments which can be opened when buttons are pressed from the navigation bar fragments.\r\nWhere do I set up these other fragments? in the same activity that connects the fragments that are connected to the navigation bar or in a different activity.\r\n\r\nHow do I save the current state of the displayed fragment so that when I move to a different tab and then move back it will be in the same state as when I left it?\r\n\r\n","title":"How many activities should I use with a bottom navigation bar?","body":"<p>I'm fairly new to android studio, any help would be appreciated.</p>\n<p>I have set up a bottom navigation bar programatically in my MainActivity - what's the best way to set this up with other fragments. I have three fragments, one for each tab in the navigation bar and other fragments which can be opened when buttons are pressed from the navigation bar fragments.\nWhere do I set up these other fragments? in the same activity that connects the fragments that are connected to the navigation bar or in a different activity.</p>\n<p>How do I save the current state of the displayed fragment so that when I move to a different tab and then move back it will be in the same state as when I left it?</p>\n"},{"tags":["java","php","sockets","tcp"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1628625803,"post_id":68732703,"comment_id":121470392,"body_markdown":"I&#39;m not certain, but I noticed that you&#39;re using `out.println()` on the Java side.  This will append a newline character after the data, which could be tripping you up.  Are you certain you meant to include a newline there?  And can you try it with just `out.print()` and see if the problem goes away?","body":"I&#39;m not certain, but I noticed that you&#39;re using <code>out.println()</code> on the Java side.  This will append a newline character after the data, which could be tripping you up.  Are you certain you meant to include a newline there?  And can you try it with just <code>out.print()</code> and see if the problem goes away?"},{"owner":{"account_id":22429133,"reputation":1,"user_id":16635266,"display_name":"My-ThrowAwayAccount"},"score":0,"creation_date":1628626355,"post_id":68732703,"comment_id":121470577,"body_markdown":"Yeah, unfortunately I have tried out.print() but then the PHP server doesn&#39;t seem to understand that the packet has been received - basically it sends the authentication packet, doesn&#39;t recognize that it&#39;s received a packet and never sends the next one\nEDIT: Which is because I&#39;m using  PHP_NORMAL_READ, which reads until new lines (https://www.php.net/manual/en/function.socket-read.php)","body":"Yeah, unfortunately I have tried out.print() but then the PHP server doesn&#39;t seem to understand that the packet has been received - basically it sends the authentication packet, doesn&#39;t recognize that it&#39;s received a packet and never sends the next one EDIT: Which is because I&#39;m using  PHP_NORMAL_READ, which reads until new lines (<a href=\"https://www.php.net/manual/en/function.socket-read.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.socket-read.php</a>)"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1628627129,"post_id":68732703,"comment_id":121470830,"body_markdown":"What is the OS of the Java server?","body":"What is the OS of the Java server?"},{"owner":{"account_id":22429133,"reputation":1,"user_id":16635266,"display_name":"My-ThrowAwayAccount"},"score":0,"creation_date":1628627189,"post_id":68732703,"comment_id":121470846,"body_markdown":"You lead me to the right way. I replaced PHP_NORMAL_READ with PHP_BINARY_READ (which is like Java&#39;s InputStream#ready) and replaced out.println() with out.print(), now everything works flawlessly","body":"You lead me to the right way. I replaced PHP_NORMAL_READ with PHP_BINARY_READ (which is like Java&#39;s InputStream#ready) and replaced out.println() with out.print(), now everything works flawlessly"},{"owner":{"account_id":22429133,"reputation":1,"user_id":16635266,"display_name":"My-ThrowAwayAccount"},"score":0,"creation_date":1628627732,"post_id":68732703,"comment_id":121470988,"body_markdown":"I have fixed the issue, but both PHP and Java are running on PHP. I have also posted an answer describing how I fixed my issue","body":"I have fixed the issue, but both PHP and Java are running on PHP. I have also posted an answer describing how I fixed my issue"}],"answers":[{"tags":[],"owner":{"account_id":22429133,"reputation":1,"user_id":16635266,"display_name":"My-ThrowAwayAccount"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1628627685,"creation_date":1628627685,"answer_id":68733189,"question_id":68732703,"body_markdown":"I have fixed my issue also thanks to markspace&#39;s [comment](https://stackoverflow.com/questions/68732703/php-java-socket-random-empty-packet?noredirect=1#comment121470392_68732703).\r\n\r\nThey suggested trying to replace `out.println()` with `out.print()`, which I had already tried but, unfortunately, lead to nothing but PHP hanging.\r\n\r\nBut then, reading more into PHP&#39;s `socket_read`&#39;s parameters I understood that `PHP_BINARY_READ` (which is also the default mode) does the same as Java&#39;s `InputStream.ready()`, basically reading until it figures there is no input left (which was exactly what I needed, actually), whereas `PHP_NORMAL_MODE` reads until it finds a new line character (`\\r` or `\\n`).\r\nSo, replacing `out.println()` with `out.print()` in Java and `$line = socket_read($this-&gt;socket, $length, PHP_NORMAL_READ);` with `$line = socket_read($this-&gt;socket, $length, PHP_BINARY_READ);` in PHP completely fixed the issue.\r\n\r\nI did also uncomment out.flush(), but I&#39;m not sure whether that makes any difference.\r\n\r\nThanks again, markspace, for helping me figure this out!","title":"PHP &lt;-&gt; Java Socket random empty packet","body":"<p>I have fixed my issue also thanks to markspace's <a href=\"https://stackoverflow.com/questions/68732703/php-java-socket-random-empty-packet?noredirect=1#comment121470392_68732703\">comment</a>.</p>\n<p>They suggested trying to replace <code>out.println()</code> with <code>out.print()</code>, which I had already tried but, unfortunately, lead to nothing but PHP hanging.</p>\n<p>But then, reading more into PHP's <code>socket_read</code>'s parameters I understood that <code>PHP_BINARY_READ</code> (which is also the default mode) does the same as Java's <code>InputStream.ready()</code>, basically reading until it figures there is no input left (which was exactly what I needed, actually), whereas <code>PHP_NORMAL_MODE</code> reads until it finds a new line character (<code>\\r</code> or <code>\\n</code>).\nSo, replacing <code>out.println()</code> with <code>out.print()</code> in Java and <code>$line = socket_read($this-&gt;socket, $length, PHP_NORMAL_READ);</code> with <code>$line = socket_read($this-&gt;socket, $length, PHP_BINARY_READ);</code> in PHP completely fixed the issue.</p>\n<p>I did also uncomment out.flush(), but I'm not sure whether that makes any difference.</p>\n<p>Thanks again, markspace, for helping me figure this out!</p>\n"}],"owner":{"account_id":22429133,"reputation":1,"user_id":16635266,"display_name":"My-ThrowAwayAccount"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68733189,"answer_count":1,"score":0,"last_activity_date":1653060298,"creation_date":1628624568,"question_id":68732703,"body_markdown":"I am working on a project that requires a PHP web application to reach a Java server through TCP sockets. Everything seems to be working fine, besides one small detail: there is always an empty packet if specific steps are taken (which are listed below the code)\r\n\r\nI&#39;m not sure what the cause is and it&#39;s the first time I make sockets between two different languages talk to each other and the first time to use them in PHP in general as well, so my code is probably not ideal.\r\n\r\nHere&#39;s the code:\r\n\r\nThese are the functions to send and read packets in PHP\r\n```php\r\nfunction sendPacket($message) : void {\r\n\tif (!$this-&gt;connected &amp;&amp; Config::get(&#39;debugging&#39;)) {\r\n\t\techo(&quot;Cancelled packet send as we are not connected.&quot;);\r\n\t\tconnectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\r\n\t}\r\n\tsocket_write($this-&gt;socket, $message.&quot;\\nend\\n&quot;) or\r\n\t\tconnectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\r\n}\r\n\r\nfunction readPacket($length = 15) : string {\r\n\tif(!$this-&gt;connected) {\r\n\t\tif (Config::get(&#39;debugging&#39;))\r\n\t\t\techo(&quot;Cancelled read as we are not connected.&quot;);\r\n\t\tconnectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\r\n\t}\r\n\r\n    $line = socket_read($this-&gt;socket, $length, PHP_NORMAL_READ);\r\n    if (substr($line, -1) === &quot;\\r&quot;)\r\n        socket_read($this-&gt;socket, 1, PHP_BINARY_READ);\r\n\r\n    if (str_ends_with($line, &quot;\\n&quot;))\r\n    \t$line = substr($line, 0, strlen($line) - 1);\r\n\r\n\treturn $line;\r\n}\r\n\r\n```\r\n\r\nThis is what I then use to send the server a token and retrieve a response\r\n```php\r\npublic function isUserTokenValid(string $userToken) : string {\r\n\t$this-&gt;sendPacket(&quot;user:validate-token:$userToken&quot;);\r\n\tusleep(500 * 1000); // I&#39;ve tried to put this here in case it was a delay issue, but it wasn&#39;t\r\n\t$response = $this-&gt;readPacket();\r\n\treturn $response;\r\n}\r\n```\r\n\r\nHere&#39;s the Java code I use to read packets\r\n\r\n```java\r\nprivate String readPacket() throws IOException {\r\n\tStringBuilder packet = new StringBuilder();\r\n\tString line = null;\r\n\twhile ((line = in.readLine()) != null &amp;&amp; !line.equals(&quot;end&quot;)) // in is a BufferedReader\r\n\t\tpacket.append(line);\r\n\r\n\treturn packet.toString();\r\n}\r\n```\r\n\r\nAnd here is what I use to send packets\r\n```java\r\nprivate void sendPacket(String content) throws IOException {\r\n\tif ((!isConnected()) || out == null)\r\n\t\treturn;\r\n\r\n\tSystem.out.println(&quot;OUT&gt; &quot; + content); // This is for debugging and proves that a value is being sent.\r\n\tout.println(content); // Out is a PrintStream\r\n\tout.flush(); // I&#39;ve tried both flushing and not flushing, it doesn&#39;t change much\r\n}\r\n```\r\n\r\nAfter reading the packet I split it and then parse it.\r\nThis is what is going on behind the scenes before I send the `user:validate-token:$userToken` packet:\r\n1) PHP sends a packet telling the Java server to authenticate and gives it a token\r\n2) The Java server checks the token and tells the PHP server whether it&#39;s valid or not (dropping the connection if the latter)\r\n3) PHP then sends a packet with username and hashed password to the Java server\r\n4) The Java server checks whether the information is valid and if it is returns a token\r\n5) Finally PHP sends the packet to validate the token\r\n6) The Java server sends back 1 if the token is valid, 200 if it isn&#39;t\r\n\r\nEvery single step before the token validation (5) goes fine.\r\n\r\nA var_dump of the result, though, shows `string(0) &quot;&quot;`, consistently.\r\n\r\nSkipping step 3 and 4 results in everything working fine.\r\n\r\nBut if step 3 and 4 are executed reading the packet twice (so using $response = $this-&gt;readPacket() twice) does indeed work and read the number correctly.\r\nAlthough reading twice when step 3 and 4 are not executed makes the Java server hang.\r\n\r\nIf I haven&#39;t been clear enough or more code is needed, please let me know","title":"PHP &lt;-&gt; Java Socket random empty packet","body":"<p>I am working on a project that requires a PHP web application to reach a Java server through TCP sockets. Everything seems to be working fine, besides one small detail: there is always an empty packet if specific steps are taken (which are listed below the code)</p>\n<p>I'm not sure what the cause is and it's the first time I make sockets between two different languages talk to each other and the first time to use them in PHP in general as well, so my code is probably not ideal.</p>\n<p>Here's the code:</p>\n<p>These are the functions to send and read packets in PHP</p>\n<pre class=\"lang-php prettyprint-override\"><code>function sendPacket($message) : void {\n    if (!$this-&gt;connected &amp;&amp; Config::get('debugging')) {\n        echo(&quot;Cancelled packet send as we are not connected.&quot;);\n        connectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\n    }\n    socket_write($this-&gt;socket, $message.&quot;\\nend\\n&quot;) or\n        connectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\n}\n\nfunction readPacket($length = 15) : string {\n    if(!$this-&gt;connected) {\n        if (Config::get('debugging'))\n            echo(&quot;Cancelled read as we are not connected.&quot;);\n        connectionFailed(&quot;There has been an error. Please, contact the administrators.&quot;);\n    }\n\n    $line = socket_read($this-&gt;socket, $length, PHP_NORMAL_READ);\n    if (substr($line, -1) === &quot;\\r&quot;)\n        socket_read($this-&gt;socket, 1, PHP_BINARY_READ);\n\n    if (str_ends_with($line, &quot;\\n&quot;))\n        $line = substr($line, 0, strlen($line) - 1);\n\n    return $line;\n}\n\n</code></pre>\n<p>This is what I then use to send the server a token and retrieve a response</p>\n<pre class=\"lang-php prettyprint-override\"><code>public function isUserTokenValid(string $userToken) : string {\n    $this-&gt;sendPacket(&quot;user:validate-token:$userToken&quot;);\n    usleep(500 * 1000); // I've tried to put this here in case it was a delay issue, but it wasn't\n    $response = $this-&gt;readPacket();\n    return $response;\n}\n</code></pre>\n<p>Here's the Java code I use to read packets</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String readPacket() throws IOException {\n    StringBuilder packet = new StringBuilder();\n    String line = null;\n    while ((line = in.readLine()) != null &amp;&amp; !line.equals(&quot;end&quot;)) // in is a BufferedReader\n        packet.append(line);\n\n    return packet.toString();\n}\n</code></pre>\n<p>And here is what I use to send packets</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void sendPacket(String content) throws IOException {\n    if ((!isConnected()) || out == null)\n        return;\n\n    System.out.println(&quot;OUT&gt; &quot; + content); // This is for debugging and proves that a value is being sent.\n    out.println(content); // Out is a PrintStream\n    out.flush(); // I've tried both flushing and not flushing, it doesn't change much\n}\n</code></pre>\n<p>After reading the packet I split it and then parse it.\nThis is what is going on behind the scenes before I send the <code>user:validate-token:$userToken</code> packet:</p>\n<ol>\n<li>PHP sends a packet telling the Java server to authenticate and gives it a token</li>\n<li>The Java server checks the token and tells the PHP server whether it's valid or not (dropping the connection if the latter)</li>\n<li>PHP then sends a packet with username and hashed password to the Java server</li>\n<li>The Java server checks whether the information is valid and if it is returns a token</li>\n<li>Finally PHP sends the packet to validate the token</li>\n<li>The Java server sends back 1 if the token is valid, 200 if it isn't</li>\n</ol>\n<p>Every single step before the token validation (5) goes fine.</p>\n<p>A var_dump of the result, though, shows <code>string(0) &quot;&quot;</code>, consistently.</p>\n<p>Skipping step 3 and 4 results in everything working fine.</p>\n<p>But if step 3 and 4 are executed reading the packet twice (so using $response = $this-&gt;readPacket() twice) does indeed work and read the number correctly.\nAlthough reading twice when step 3 and 4 are not executed makes the Java server hang.</p>\n<p>If I haven't been clear enough or more code is needed, please let me know</p>\n"},{"tags":["java","hibernate","jpa","transactions","rollback"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653062399,"post_id":72321360,"comment_id":127767314,"body_markdown":"I&#39;m not clear on your &#39;proxy&#39; vs &#39;new&#39; terminology, as JPA/Hibernate are returning &#39;the&#39; managed instance for your entity data. But it seems you not maintaining the order with your updates - that is a requirement to avoid issues like this, and the overhead involved in having JPA query the database to fix it. Fix though is simply to force the object to be refreshed after flushing the context (or committing the transaction) by calling entityManager.refresh(entity). You might create your own &#39;findAndRefreshById(id)&#39; method to accomplish it and avoid the overhead when necessary","body":"I&#39;m not clear on your &#39;proxy&#39; vs &#39;new&#39; terminology, as JPA/Hibernate are returning &#39;the&#39; managed instance for your entity data. But it seems you not maintaining the order with your updates - that is a requirement to avoid issues like this, and the overhead involved in having JPA query the database to fix it. Fix though is simply to force the object to be refreshed after flushing the context (or committing the transaction) by calling entityManager.refresh(entity). You might create your own &#39;findAndRefreshById(id)&#39; method to accomplish it and avoid the overhead when necessary"},{"owner":{"account_id":15043220,"reputation":195,"user_id":10857151,"display_name":"Michael Cauduro"},"score":0,"creation_date":1653291838,"post_id":72321360,"comment_id":127806475,"body_markdown":"i mean that the update returns a value that is &quot;cached&quot; in the session and if you try to retrieve that entity after it will return the cached value (in this case not ordered).","body":"i mean that the update returns a value that is &quot;cached&quot; in the session and if you try to retrieve that entity after it will return the cached value (in this case not ordered)."}],"owner":{"account_id":15043220,"reputation":195,"user_id":10857151,"display_name":"Michael Cauduro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653060221,"creation_date":1653060221,"question_id":72321360,"body_markdown":"## **Retrieve NEW (not proxied) entity inside a transaction in Java with Hibernate** ##\r\n\r\nIn java, it&#39;s possible to retrieve a new instance of a specific entity without retrieving the ones that hibernate proxies ?\r\n\r\nSuppose that we have a method like this\r\n\r\n    @Transaction \r\n    public void parentMethod(String id){\r\n        childMethod(id); //perform operation on entity associated with id\r\n        repository.findById(id);//this needs to retrieve entity from new session\r\n    }\r\n\r\nAnd the child nested method like this:\r\n\r\n    public void childMethod(String id){\r\n        //retrieves and perform save operation on entity associated with the id\r\n        EntityTest test=repository.findById(id);\r\n        .........update operations..............\r\n        repository.save(test);\r\n    }\r\n\r\n*Consider that i NEED to perform the findById, at the end of the **parentMethod**, to order the collections inside the entity (annotated with @OrderBy)*\r\n\r\nIf i&#39;m not wrong, when childMethod perform (for example) save operation on the entity, also proxies the result in the session, and if we (in the parentMethod) perform the findById it retrieves that entity and not a new one, so:\r\n\r\n 1. childMethod retrieve entity with findById (nested collections are ordered)--&gt; proxies result\r\n 2. childMethod update entity with save (nested collections are not ordered)--&gt; update the proxy with the result\r\n 3. parentMethod perform a findById (nested collections are not ordered)--&gt; retireves the proxy entity\r\n\r\nHow can i retrieve a new instance outside the session to ensure the collections order? considering that we are inside a transaction and if something goes wrong with the last findById i need the save operations to be rollback?\r\n\r\nThanks!","title":"Retrieve new entity (not proxied) inside a transaction in java","body":"<h2><strong>Retrieve NEW (not proxied) entity inside a transaction in Java with Hibernate</strong></h2>\n<p>In java, it's possible to retrieve a new instance of a specific entity without retrieving the ones that hibernate proxies ?</p>\n<p>Suppose that we have a method like this</p>\n<pre><code>@Transaction \npublic void parentMethod(String id){\n    childMethod(id); //perform operation on entity associated with id\n    repository.findById(id);//this needs to retrieve entity from new session\n}\n</code></pre>\n<p>And the child nested method like this:</p>\n<pre><code>public void childMethod(String id){\n    //retrieves and perform save operation on entity associated with the id\n    EntityTest test=repository.findById(id);\n    .........update operations..............\n    repository.save(test);\n}\n</code></pre>\n<p><em>Consider that i NEED to perform the findById, at the end of the <strong>parentMethod</strong>, to order the collections inside the entity (annotated with @OrderBy)</em></p>\n<p>If i'm not wrong, when childMethod perform (for example) save operation on the entity, also proxies the result in the session, and if we (in the parentMethod) perform the findById it retrieves that entity and not a new one, so:</p>\n<ol>\n<li>childMethod retrieve entity with findById (nested collections are ordered)--&gt; proxies result</li>\n<li>childMethod update entity with save (nested collections are not ordered)--&gt; update the proxy with the result</li>\n<li>parentMethod perform a findById (nested collections are not ordered)--&gt; retireves the proxy entity</li>\n</ol>\n<p>How can i retrieve a new instance outside the session to ensure the collections order? considering that we are inside a transaction and if something goes wrong with the last findById i need the save operations to be rollback?</p>\n<p>Thanks!</p>\n"},{"tags":["java","multithreading","concurrency","reentrantlock"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":2,"creation_date":1653059208,"post_id":72321022,"comment_id":127766054,"body_markdown":"According to the docs, a park call may return without any reason, and it is up to the caller to check the conditions for parking.","body":"According to the docs, a park call may return without any reason, and it is up to the caller to check the conditions for parking."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1653060675,"post_id":72321022,"comment_id":127766665,"body_markdown":"I am not aware of any condition in the JVM that is immune to spurious wake-ups. Use things like `Object.wait()`, `Condition.await()`, and `LockSupport.park()` inside a loop, and re-check the condition after awaking.","body":"I am not aware of any condition in the JVM that is immune to spurious wake-ups. Use things like <code>Object.wait()</code>, <code>Condition.await()</code>, and <code>LockSupport.park()</code> inside a loop, and re-check the condition after awaking."},{"owner":{"account_id":25344372,"reputation":1,"user_id":19162302,"display_name":"sdcyst"},"score":0,"creation_date":1653061484,"post_id":72321022,"comment_id":127766989,"body_markdown":"thanks for your reply. If a park can may return without any reason, I think this is a big problem because the park will not always pause my thread, this may cause some business error, how can i prevent this?","body":"thanks for your reply. If a park can may return without any reason, I think this is a big problem because the park will not always pause my thread, this may cause some business error, how can i prevent this?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1653322957,"post_id":72321022,"comment_id":127818578,"body_markdown":"As I alluded, this is prevented by putting the call to `park()` inside a `while` loop instead of an `if` statement. Whatever condition leads you to park the thread the first time should be tested when the thread resumes; if the condition still holds, park again. This is a common idiom for pausing due to spurious wakeups.","body":"As I alluded, this is prevented by putting the call to <code>park()</code> inside a <code>while</code> loop instead of an <code>if</code> statement. Whatever condition leads you to park the thread the first time should be tested when the thread resumes; if the condition still holds, park again. This is a common idiom for pausing due to spurious wakeups."}],"owner":{"account_id":25344372,"reputation":1,"user_id":19162302,"display_name":"sdcyst"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653060100,"creation_date":1653058642,"question_id":72321022,"body_markdown":"I have a program which have multiple threads share the same lock, just like below:\r\n```\r\nimport java.util.concurrent.locks.LockSupport;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class LockTest {\r\n\tprivate static final ReentrantLock lock = new ReentrantLock(false);\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10000; i++) {\r\n\t\t\tnew Thread(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tlock.lock();\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;-start&quot;);\r\n\t\t\t\t\tlock.unlock();\r\n\t\t\t\t\tLockSupport.park();\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;-end&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIn my opinion, the &quot;-end&quot; should never been printed because the call to `LockSupport.park` will pause the thread. In my testing it occasionally prints the &quot;-end&quot; to the console, and I don&#39;t understand why.  \r\n\r\nthe output looks like below:\r\n```\r\nThread-7978-start\r\nThread-7976-end\r\nThread-7979-start\r\nThread-7980-start\r\n```\r\n\r\nWhy might this be happening?","title":"ReentrantLock unlock wake up LockSupport park","body":"<p>I have a program which have multiple threads share the same lock, just like below:</p>\n<pre><code>import java.util.concurrent.locks.LockSupport;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class LockTest {\n    private static final ReentrantLock lock = new ReentrantLock(false);\n    \n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10000; i++) {\n            new Thread(new Runnable() {\n                public void run() {\n                    lock.lock();\n                    System.out.println(Thread.currentThread().getName() + &quot;-start&quot;);\n                    lock.unlock();\n                    LockSupport.park();\n                    System.out.println(Thread.currentThread().getName() + &quot;-end&quot;);\n                }\n                \n            }).start();\n        }\n    }\n}\n</code></pre>\n<p>In my opinion, the &quot;-end&quot; should never been printed because the call to <code>LockSupport.park</code> will pause the thread. In my testing it occasionally prints the &quot;-end&quot; to the console, and I don't understand why.</p>\n<p>the output looks like below:</p>\n<pre><code>Thread-7978-start\nThread-7976-end\nThread-7979-start\nThread-7980-start\n</code></pre>\n<p>Why might this be happening?</p>\n"},{"tags":["java","android","jfugue"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653054849,"post_id":72320072,"comment_id":127764266,"body_markdown":"The real answer here: pick any decent tutorial on Android that discuses the usage of 3rd party libraries.","body":"The real answer here: pick any decent tutorial on Android that discuses the usage of 3rd party libraries."},{"owner":{"account_id":13995207,"reputation":494,"user_id":10108192,"display_name":"Yang Hanlin"},"score":0,"creation_date":1653054992,"post_id":72320072,"comment_id":127764325,"body_markdown":"Welcome to Stack Overflow! Can you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and the specific error message to help others better understand what the problem is?","body":"Welcome to Stack Overflow! Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the specific error message to help others better understand what the problem is?"}],"answers":[{"tags":[],"owner":{"account_id":7330986,"reputation":790,"user_id":5583881,"display_name":"Stoica Mircea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653060095,"creation_date":1653060095,"answer_id":72321330,"question_id":72320072,"body_markdown":"You should add it in `MyApp/app/build.gradle` like this :\r\n\r\n    dependencies {\r\n        ....\r\n        implementation &#39;com.github.billthefarmer:mididriver:v1.24&#39;\r\n        ....\r\n    }\r\n","title":"How do you import a package in Android Studio?","body":"<p>You should add it in <code>MyApp/app/build.gradle</code> like this :</p>\n<pre><code>dependencies {\n    ....\n    implementation 'com.github.billthefarmer:mididriver:v1.24'\n    ....\n}\n</code></pre>\n"}],"owner":{"account_id":21062876,"reputation":3,"user_id":19161879,"display_name":"fantabulousgoldfun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72321330,"answer_count":1,"score":0,"last_activity_date":1653060095,"creation_date":1653054712,"question_id":72320072,"body_markdown":"I am extremely inexperienced with Android Studio - and am having an issue with my imports. I&#39;m trying to build an app that creates music from an `ArrayList` of &quot;note&quot; objects (I&#39;ve made this class - it has info on). I am trying to import midi driver (https://github.com/billthefarmer/mididriver) to play my music, but I keep getting an error when I try to write this:\r\n\r\n    import org.billthefarmer.mididriver;\r\n\r\nin my code (specifically the Analyzer object I&#39;ve made - you&#39;ll see it in the pic). Here is a pic of my project structure. I&#39;ve added Midi Driver as a dependency to my build.gradle\r\n\r\n    implementation project(path: &#39;:org.billthefarmer.mididriver&#39;)\r\n\r\n in my app folder. I&#39;m not sure what I&#39;m doing wrong. I&#39;m sorry to bother! \r\n\r\nHere is the pic of my project structure\r\n![Here is the pic of my project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ol2Qc.png","title":"How do you import a package in Android Studio?","body":"<p>I am extremely inexperienced with Android Studio - and am having an issue with my imports. I'm trying to build an app that creates music from an <code>ArrayList</code> of &quot;note&quot; objects (I've made this class - it has info on). I am trying to import midi driver (<a href=\"https://github.com/billthefarmer/mididriver\" rel=\"nofollow noreferrer\">https://github.com/billthefarmer/mididriver</a>) to play my music, but I keep getting an error when I try to write this:</p>\n<pre><code>import org.billthefarmer.mididriver;\n</code></pre>\n<p>in my code (specifically the Analyzer object I've made - you'll see it in the pic). Here is a pic of my project structure. I've added Midi Driver as a dependency to my build.gradle</p>\n<pre><code>implementation project(path: ':org.billthefarmer.mididriver')\n</code></pre>\n<p>in my app folder. I'm not sure what I'm doing wrong. I'm sorry to bother!</p>\n<p>Here is the pic of my project structure\n<img src=\"https://i.stack.imgur.com/Ol2Qc.png\" alt=\"Here is the pic of my project structure\" /></p>\n"},{"tags":["java","spring","spring-boot","web","httpwebresponse"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653047755,"post_id":72317659,"comment_id":127761489,"body_markdown":"maybe [List of HTTP status codes](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) on Wikipedia (or similar pages on the internet)","body":"maybe <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\" rel=\"nofollow noreferrer\">List of HTTP status codes</a> on Wikipedia (or similar pages on the internet)"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653045477,"creation_date":1653045477,"answer_id":72318074,"question_id":72317659,"body_markdown":"In case of Http Status codes, the general practice is\r\n - 4XX: In case the processing failed as a result of some validation/condition is not satisfied by the client (calling service)\r\n - 5XX: when some error occurred on server side\r\n\r\nIf there is any database exception which is not due to parameters sent by Client then you can return 500. If the data sent by client is causing some database constraint violation like Unique constraint etc. then you can return appropriate 4XX status code&lt;br&gt;\r\n\r\nThere is also unconventional way where people send 2XX response but in the response data, they mention ERROR:TRUE etc. to indicate failure. But this way is not recommended.","title":"What is the Http Status Error code return for user trying failure data from Db?","body":"<p>In case of Http Status codes, the general practice is</p>\n<ul>\n<li>4XX: In case the processing failed as a result of some validation/condition is not satisfied by the client (calling service)</li>\n<li>5XX: when some error occurred on server side</li>\n</ul>\n<p>If there is any database exception which is not due to parameters sent by Client then you can return 500. If the data sent by client is causing some database constraint violation like Unique constraint etc. then you can return appropriate 4XX status code<br></p>\n<p>There is also unconventional way where people send 2XX response but in the response data, they mention ERROR:TRUE etc. to indicate failure. But this way is not recommended.</p>\n"}],"owner":{"account_id":23763375,"reputation":1,"user_id":17778432,"display_name":"vignesh rabel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653059972,"creation_date":1653043736,"question_id":72317659,"body_markdown":"I have using oracle db. New data inserted in oracle using Java API and try to get the response from read end point using java API call. in DB one field name `TRAN_OUTCOME=&quot;Success&quot;` will get the response. If `TRAN_OUTCOME=&quot;Failure&quot;` will not get the response. failure case have throwing Exception. what was the Http Status error code want to return this scenario?\r\n\r\nThrowing message format:\r\n\r\n    [\r\n      {\r\n        &quot;Message&quot;: &quot;Process associated with the Process ID has ended in failure. Kindly re-initiate the process.&quot;;\r\n      }\r\n    ]","title":"What is the Http Status Error code return for user trying failure data from Db?","body":"<p>I have using oracle db. New data inserted in oracle using Java API and try to get the response from read end point using java API call. in DB one field name <code>TRAN_OUTCOME=&quot;Success&quot;</code> will get the response. If <code>TRAN_OUTCOME=&quot;Failure&quot;</code> will not get the response. failure case have throwing Exception. what was the Http Status error code want to return this scenario?</p>\n<p>Throwing message format:</p>\n<pre><code>[\n  {\n    &quot;Message&quot;: &quot;Process associated with the Process ID has ended in failure. Kindly re-initiate the process.&quot;;\n  }\n]\n</code></pre>\n"},{"tags":["java","swing","jframe","jlabel","jlayeredpane"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653040757,"post_id":72316933,"comment_id":127759021,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653047517,"post_id":72316933,"comment_id":127761408,"body_markdown":"A `JLayeredPane` is not a layer but the component containing layers. To add layers, use `getLayeredPane()` to get the `JFrame`s existing `JLayeredPane` and add your objects to it. Dont add more `JLayeredPane`s.","body":"A <code>JLayeredPane</code> is not a layer but the component containing layers. To add layers, use <code>getLayeredPane()</code> to get the <code>JFrame</code>s existing <code>JLayeredPane</code> and add your objects to it. Dont add more <code>JLayeredPane</code>s."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1653054396,"post_id":72316933,"comment_id":127764085,"body_markdown":"If you want transparency then you should be using `setOapaque(false)` on the top level component.","body":"If you want transparency then you should be using <code>setOapaque(false)</code> on the top level component."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1653063406,"post_id":72316933,"comment_id":127767682,"body_markdown":"[How to Use Layered Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\" rel=\"nofollow noreferrer\">How to Use Layered Panes</a>"}],"owner":{"account_id":25342060,"reputation":1,"user_id":19160330,"display_name":"Lydia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653059934,"creation_date":1653040513,"question_id":72316933,"body_markdown":"**My JLayeredPane&#39;s overlap the way I want them to, but I can&#39;t seem to create a transparent background for the top layer.\r\n\r\nI&#39;m trying to create a game, called Kamisado, where the board 8x8 has different color grids and figures on top of it.\r\n\r\nI created a board and figures in separated classes as `JLabels`, then added each of them to separate `JLayeredPanes`, which were later added to the main `JFrame` &quot;board&quot;.\r\n\r\nAlthough you can see layers, the front layer with figures isn&#39;t transparent to see the layer with the board behind it. \r\n\r\nHow can I make a front layer to be transparent to the board behind it?\r\n\r\n![enter image description here][1]\r\n\r\nIn separate classes, I create a `JLabel`, set `Bounds`, `Icon`, `Visibility(true)`, and `Opaque(true)`. For the tile class, I set the background color as well.\r\n\r\n```\r\n public class Board extends JFrame implements MouseListener {\r\n\r\n\tstatic Container cont;\r\n\tstatic Board board;\r\n\tstatic Tile[][] tile;\r\n\tstatic Monster[][] monster;\r\n\tstatic int height = 800;\r\n\tstatic int width = 900;\r\n\tint i = 8;\r\n\tint j = 8;\r\n\r\n\tstatic JLayeredPane pTile = new JLayeredPane();\r\n\tstatic JLayeredPane pMon = new JLayeredPane();\r\n\r\n\tBoard() {\r\n\t\tsuper(&quot;Kamisado&quot;);\r\n//\t\tpane = this.getLayeredPane();\r\n\t\tthis.setSize(new Dimension(height, width));\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\t\r\n\t\tpMon.setLayout(new GridLayout(8, 8));\r\n\t\tpTile.setLayout(new GridLayout(8, 8));\r\n\r\n\t\ttile = new Tile[8][8];\r\n\t\tmonster = new Monster[8][8];\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 8; j++) {\r\n\t\t\t\ttilePane(i,j);\r\n\t\t\t\tmonsterPane(i,j);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.add(pTile);\r\n\t\tthis.add(pMon);\r\n\t//\tthis.pack();\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tBoard.board = this;\r\n\t}\r\n\tstatic void monsterPane(int i, int j) {\r\n\t\tMonster m = addMonster(i, j);\r\n\t\tpMon.add(m);\r\n\t\tpMon.setVisible(true);\r\n\t\tpMon.setOpaque(true);\r\n\t\tpMon.repaint();\r\n\t}\r\n\r\n\tstatic public Monster addMonster(int i, int j) {\r\n\t\tmonster[i][j] = new Monster(i, j, board);\r\n\t\t\r\n\t\treturn monster[i][j];\r\n\r\n\t}\r\n\tstatic void tilePane(int i, int j) {\r\n\t\tTile m = addTile(i, j);\r\n\t\tpTile.add(m);\r\n\t\tpTile.setVisible(true);\r\n\t\tpTile.repaint();\r\n\t}\r\n\r\n\tstatic public Tile addTile(int i, int j) {\r\n\t\ttile[i][j] = new Tile(i, j, board);\r\n\t\t\r\n\t\treturn tile[i][j];\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4idvy.png","title":"How to make a JLayeredPane transparent with visible figures?","body":"<p>**My JLayeredPane's overlap the way I want them to, but I can't seem to create a transparent background for the top layer.</p>\n<p>I'm trying to create a game, called Kamisado, where the board 8x8 has different color grids and figures on top of it.</p>\n<p>I created a board and figures in separated classes as <code>JLabels</code>, then added each of them to separate <code>JLayeredPanes</code>, which were later added to the main <code>JFrame</code> &quot;board&quot;.</p>\n<p>Although you can see layers, the front layer with figures isn't transparent to see the layer with the board behind it.</p>\n<p>How can I make a front layer to be transparent to the board behind it?</p>\n<p><img src=\"https://i.stack.imgur.com/4idvy.png\" alt=\"enter image description here\" /></p>\n<p>In separate classes, I create a <code>JLabel</code>, set <code>Bounds</code>, <code>Icon</code>, <code>Visibility(true)</code>, and <code>Opaque(true)</code>. For the tile class, I set the background color as well.</p>\n<pre><code> public class Board extends JFrame implements MouseListener {\n\n    static Container cont;\n    static Board board;\n    static Tile[][] tile;\n    static Monster[][] monster;\n    static int height = 800;\n    static int width = 900;\n    int i = 8;\n    int j = 8;\n\n    static JLayeredPane pTile = new JLayeredPane();\n    static JLayeredPane pMon = new JLayeredPane();\n\n    Board() {\n        super(&quot;Kamisado&quot;);\n//      pane = this.getLayeredPane();\n        this.setSize(new Dimension(height, width));\n        this.setLocationRelativeTo(null);\n        \n        pMon.setLayout(new GridLayout(8, 8));\n        pTile.setLayout(new GridLayout(8, 8));\n\n        tile = new Tile[8][8];\n        monster = new Monster[8][8];\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                tilePane(i,j);\n                monsterPane(i,j);\n            }\n        }\n        this.add(pTile);\n        this.add(pMon);\n    //  this.pack();\n        this.setVisible(true);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Board.board = this;\n    }\n    static void monsterPane(int i, int j) {\n        Monster m = addMonster(i, j);\n        pMon.add(m);\n        pMon.setVisible(true);\n        pMon.setOpaque(true);\n        pMon.repaint();\n    }\n\n    static public Monster addMonster(int i, int j) {\n        monster[i][j] = new Monster(i, j, board);\n        \n        return monster[i][j];\n\n    }\n    static void tilePane(int i, int j) {\n        Tile m = addTile(i, j);\n        pTile.add(m);\n        pTile.setVisible(true);\n        pTile.repaint();\n    }\n\n    static public Tile addTile(int i, int j) {\n        tile[i][j] = new Tile(i, j, board);\n        \n        return tile[i][j];\n    }\n</code></pre>\n"},{"tags":["java","jsf","jakarta-ee","cdi","jsf-2.2"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653059803,"creation_date":1653055871,"answer_id":72320344,"question_id":72319425,"body_markdown":"Implement your own `HttpSessionListener` and annotate it with `@WebListener` The container should recognize this and will call the the `sessionDestroyed()` method in your implementation. Your class is eligible for CDI Injection so in `sessionDestroyed()`, you can fire an event and listen for it with a CDI Observer.\r\n\r\nRef: https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html\r\n\r\nEDIT:\r\n====\r\n\r\nTry this then: Scope your `HttpSessionListener` impl to `@ApplicationScoped`. Have a synchronized Map of sessionId/username. In `sessionCreated()` insert into the map,  and on `sessionDestroyed()` remove it in a `finally` block.\r\n\r\n\r\nThe container will also have several implicit `HttpSessionListener`s, so there&#39;s a chance yours is being called last long after the session is invalidated. If thats the case, there&#39;s another technique you can use to insert your `HttpSessionListener` impl first. Try the above technique first then we can dive into this.","title":"CDI/JSF How to handle session timeout","body":"<p>Implement your own <code>HttpSessionListener</code> and annotate it with <code>@WebListener</code> The container should recognize this and will call the the <code>sessionDestroyed()</code> method in your implementation. Your class is eligible for CDI Injection so in <code>sessionDestroyed()</code>, you can fire an event and listen for it with a CDI Observer.</p>\n<p>Ref: <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html</a></p>\n<h1>EDIT:</h1>\n<p>Try this then: Scope your <code>HttpSessionListener</code> impl to <code>@ApplicationScoped</code>. Have a synchronized Map of sessionId/username. In <code>sessionCreated()</code> insert into the map,  and on <code>sessionDestroyed()</code> remove it in a <code>finally</code> block.</p>\n<p>The container will also have several implicit <code>HttpSessionListener</code>s, so there's a chance yours is being called last long after the session is invalidated. If thats the case, there's another technique you can use to insert your <code>HttpSessionListener</code> impl first. Try the above technique first then we can dive into this.</p>\n"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320344,"answer_count":1,"score":0,"last_activity_date":1653059803,"creation_date":1653051994,"question_id":72319425,"body_markdown":"I have a Jakarta EE8 ( CDI 2 / Weld / JSF 2.3 / Wildfly ) app where I need to execute some cleanup code when the user logs out, manual logout are fine however I now need to fire an event when logout happens automatically due to session timeout, to handle this I have tried the following two methods already...\r\n\r\n    @Named\r\n    @SessionScoped\r\n    public class HttpSessionObservers implements Serializable {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Inject private Logger log;\r\n    \t@Inject SecurityContext securityContext;\r\n    \r\n    \t@PreDestroy\r\n    \tpublic void processSessionScopedDestroying() {\r\n    \t\t\r\n    \t\tlog.debug(&quot;Http Session predestroy&quot;);\t\r\n            Principal principal = securityContext.getCallerPrincipal(); //&lt;----is null\r\n    \t    //...do some cleanup/logging operations on user account\r\n        }\r\n\r\n    }\r\n\r\nThe above `@PreDestroy` callback fires when the session times out but the logged in user (principal) is always null so it seems they have already been logged out so I cannot obtain the user.\r\n\r\n    @Named\r\n    public class HttpSessionObservers implements Serializable {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Inject private Logger log;\r\n    \t@Inject private Event&lt;UserLogoutEvent&gt; userLogoutEvent;\r\n    \t\r\n    \tpublic void processSessionScopedInit(@Observes @Initialized(SessionScoped.class) HttpSession payload) {\r\n    \t\tlog.debug(&quot;Http Session initialised&quot;);\r\n    \t}\r\n    \r\n    \tpublic void processSessionScopedDestroying(@Observes @BeforeDestroyed(SessionScoped.class) HttpSession payload) {\r\n    \t\t//Never fires\r\n    \t\tlog.debug(&quot;Http Session predestroy&quot;);\t\r\n            Principal principal = securityContext.getCallerPrincipal();\r\n        \t//...do some cleanup/logging operations on user account\r\n    \t}\r\n    \r\n    \tpublic void processSessionScopedDestroyed(@Observes @Destroyed(SessionScoped.class) HttpSession payload) {\r\n    \t\tlog.debug(&quot;Http Session destroyed&quot;);\t\r\n    \t}\r\n    }\r\n\r\nHere, the @BeforeDestroyed event is never fired, cannot seem to find any examples of this working, it does work ok for other scopes.","title":"CDI/JSF How to handle session timeout","body":"<p>I have a Jakarta EE8 ( CDI 2 / Weld / JSF 2.3 / Wildfly ) app where I need to execute some cleanup code when the user logs out, manual logout are fine however I now need to fire an event when logout happens automatically due to session timeout, to handle this I have tried the following two methods already...</p>\n<pre><code>@Named\n@SessionScoped\npublic class HttpSessionObservers implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    \n    @Inject private Logger log;\n    @Inject SecurityContext securityContext;\n\n    @PreDestroy\n    public void processSessionScopedDestroying() {\n        \n        log.debug(&quot;Http Session predestroy&quot;);   \n        Principal principal = securityContext.getCallerPrincipal(); //&lt;----is null\n        //...do some cleanup/logging operations on user account\n    }\n\n}\n</code></pre>\n<p>The above <code>@PreDestroy</code> callback fires when the session times out but the logged in user (principal) is always null so it seems they have already been logged out so I cannot obtain the user.</p>\n<pre><code>@Named\npublic class HttpSessionObservers implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    \n    @Inject private Logger log;\n    @Inject private Event&lt;UserLogoutEvent&gt; userLogoutEvent;\n    \n    public void processSessionScopedInit(@Observes @Initialized(SessionScoped.class) HttpSession payload) {\n        log.debug(&quot;Http Session initialised&quot;);\n    }\n\n    public void processSessionScopedDestroying(@Observes @BeforeDestroyed(SessionScoped.class) HttpSession payload) {\n        //Never fires\n        log.debug(&quot;Http Session predestroy&quot;);   \n        Principal principal = securityContext.getCallerPrincipal();\n        //...do some cleanup/logging operations on user account\n    }\n\n    public void processSessionScopedDestroyed(@Observes @Destroyed(SessionScoped.class) HttpSession payload) {\n        log.debug(&quot;Http Session destroyed&quot;);    \n    }\n}\n</code></pre>\n<p>Here, the @BeforeDestroyed event is never fired, cannot seem to find any examples of this working, it does work ok for other scopes.</p>\n"},{"tags":["java","string","filter"],"comments":[{"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"score":0,"creation_date":1652972678,"post_id":72306085,"comment_id":127742175,"body_markdown":"Can you clarify the input format a bit? Is it always &quot;#Jay&lt;some numbers&gt;,&lt;some numbers&gt; &lt;some numbers&gt;,&quot;?","body":"Can you clarify the input format a bit? Is it always &quot;#Jay&lt;some numbers&gt;,&lt;some numbers&gt; &lt;some numbers&gt;,&quot;?"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652972910,"post_id":72306085,"comment_id":127742286,"body_markdown":"O i get jay125 and jay222 but I only want that part to get me 125 and 222,  for the second part I want both the numbers to be seperated to be added in two diff arraylists","body":"O i get jay125 and jay222 but I only want that part to get me 125 and 222,  for the second part I want both the numbers to be seperated to be added in two diff arraylists"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652972927,"post_id":72306085,"comment_id":127742298,"body_markdown":"Yes Eskapone that is always the format repeated","body":"Yes Eskapone that is always the format repeated"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652973155,"post_id":72306085,"comment_id":127742398,"body_markdown":"The fixed code is up there I just confusion on how to do it exactly they way I need","body":"The fixed code is up there I just confusion on how to do it exactly they way I need"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652973759,"post_id":72306085,"comment_id":127742654,"body_markdown":"O ya thanks wait so for splitting the numbers I have right now how would i split that because right now I filter out string using if it contains 15, I want both of them to be seperated into two diff arraylist problem we won&#39;t know the exact amount digit. It always start with 15 and have space in between second value","body":"O ya thanks wait so for splitting the numbers I have right now how would i split that because right now I filter out string using if it contains 15, I want both of them to be seperated into two diff arraylist problem we won&#39;t know the exact amount digit. It always start with 15 and have space in between second value"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652974097,"post_id":72306085,"comment_id":127742799,"body_markdown":"I know I can probably use str.split by &quot; &quot; tat would make it array string so tat would not work right?","body":"I know I can probably use str.split by &quot; &quot; tat would make it array string so tat would not work right?"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652974610,"post_id":72306085,"comment_id":127742985,"body_markdown":"Is there maybe way to use regex to replaceall before space and after space?","body":"Is there maybe way to use regex to replaceall before space and after space?"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652975278,"post_id":72306085,"comment_id":127743271,"body_markdown":"that works for me but just one thing when it maps it out the first string is automatically has space before it for some reason is there way that can be stopped","body":"that works for me but just one thing when it maps it out the first string is automatically has space before it for some reason is there way that can be stopped"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1652975637,"post_id":72306085,"comment_id":127743399,"body_markdown":"might be sth would my ide cause only the first one is acting like that but everything else works","body":"might be sth would my ide cause only the first one is acting like that but everything else works"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653059452,"creation_date":1652986614,"answer_id":72309784,"question_id":72306085,"body_markdown":"If I have understood correctly your case, you&#39;re having a `String` whose pattern is in the form `#Jay&lt;Number&gt;,&lt;Number&gt; &lt;Number&gt;` and then it keeps repeating itself. Also, you would like to have every bit of this pattern (jay bit, first number bit and second number bit) stored in three separate lists.\r\n\r\nAs suggested in the comments, you could achieve this with a regex using capturing groups to identify the three portions and retrieve them at every match.\r\n\r\n`#(Jay\\d+),(\\d+) (\\d+)`\r\n\r\nHere is a link to test the regex:\r\n\r\nhttps://regex101.com/r/ULtDTu/1\r\n\r\nHere is a code snippet with the implementation:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String s = &quot;#Jay125,150012 90,#Jay222,150043 00,&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;#(Jay\\\\d+),(\\\\d+) (\\\\d+)&quot;);\r\n        Matcher matcher = pattern.matcher(s);\r\n\r\n        List&lt;String&gt; listJay = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; listFirstSubNum = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; listSecSubNum = new ArrayList&lt;&gt;();\r\n\r\n        while (matcher.find()) {\r\n            listJay.add(matcher.group(1));\r\n            listFirstSubNum.add(matcher.group(2));\r\n            listSecSubNum.add(matcher.group(3));\r\n        }\r\n\r\n        System.out.println(listJay);\r\n        System.out.println(listFirstSubNum);\r\n        System.out.println(listSecSubNum);\r\n    }\r\n}\r\n```\r\n\r\nYou can also test the code here:\r\n\r\nhttps://ideone.com/0hwpyl","title":"Given string want to filter out certain part of string into an arraylist","body":"<p>If I have understood correctly your case, you're having a <code>String</code> whose pattern is in the form <code>#Jay&lt;Number&gt;,&lt;Number&gt; &lt;Number&gt;</code> and then it keeps repeating itself. Also, you would like to have every bit of this pattern (jay bit, first number bit and second number bit) stored in three separate lists.</p>\n<p>As suggested in the comments, you could achieve this with a regex using capturing groups to identify the three portions and retrieve them at every match.</p>\n<p><code>#(Jay\\d+),(\\d+) (\\d+)</code></p>\n<p>Here is a link to test the regex:</p>\n<p><a href=\"https://regex101.com/r/ULtDTu/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/ULtDTu/1</a></p>\n<p>Here is a code snippet with the implementation:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String s = &quot;#Jay125,150012 90,#Jay222,150043 00,&quot;;\n        Pattern pattern = Pattern.compile(&quot;#(Jay\\\\d+),(\\\\d+) (\\\\d+)&quot;);\n        Matcher matcher = pattern.matcher(s);\n\n        List&lt;String&gt; listJay = new ArrayList&lt;&gt;();\n        List&lt;String&gt; listFirstSubNum = new ArrayList&lt;&gt;();\n        List&lt;String&gt; listSecSubNum = new ArrayList&lt;&gt;();\n\n        while (matcher.find()) {\n            listJay.add(matcher.group(1));\n            listFirstSubNum.add(matcher.group(2));\n            listSecSubNum.add(matcher.group(3));\n        }\n\n        System.out.println(listJay);\n        System.out.println(listFirstSubNum);\n        System.out.println(listSecSubNum);\n    }\n}\n</code></pre>\n<p>You can also test the code here:</p>\n<p><a href=\"https://ideone.com/0hwpyl\" rel=\"nofollow noreferrer\">https://ideone.com/0hwpyl</a></p>\n"}],"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653059764,"creation_date":1652969291,"question_id":72306085,"body_markdown":"I have string:\r\n\r\n    String s = #Jay125,150012 90,#Jay222,150043 00,  \r\n\r\n- I want to filter out value after jay(125,222) and add that to separate `ArrayList`.\r\n- I want to filter out 150012, 151243 together add that to separate `ArrayList`.\r\n- I want to filter out 90,00 together add that to separate `ArrayList`.\r\n\r\nI tried by doing this but it doesn&#39;t quite do what I want\r\n\r\n    Pattern reg = Pattern.compile(&quot;,&quot;);\r\n    ArrayList&lt;String&gt; jay = reg.splitAsStream(s))    \r\n                               .filter(role -&gt; role.contains(&quot;Jay&quot;))\r\n                               .map(String::trim)\r\n                               .collect(Collectors.toCollection(ArrayList::new));\r\n","title":"Given string want to filter out certain part of string into an arraylist","body":"<p>I have string:</p>\n<pre><code>String s = #Jay125,150012 90,#Jay222,150043 00,  \n</code></pre>\n<ul>\n<li>I want to filter out value after jay(125,222) and add that to separate <code>ArrayList</code>.</li>\n<li>I want to filter out 150012, 151243 together add that to separate <code>ArrayList</code>.</li>\n<li>I want to filter out 90,00 together add that to separate <code>ArrayList</code>.</li>\n</ul>\n<p>I tried by doing this but it doesn't quite do what I want</p>\n<pre><code>Pattern reg = Pattern.compile(&quot;,&quot;);\nArrayList&lt;String&gt; jay = reg.splitAsStream(s))    \n                           .filter(role -&gt; role.contains(&quot;Jay&quot;))\n                           .map(String::trim)\n                           .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1600067422,"post_id":63878408,"comment_id":112959597,"body_markdown":"*&quot;it is not working&quot;* - in which way?","body":"<i>&quot;it is not working&quot;</i> - in which way?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1600101109,"post_id":63878408,"comment_id":112975290,"body_markdown":"Have you tried `new Paragraph(text.setFont(brushedScriptFont))`, i.e. applying the font to the text before adding it to the paragraph?","body":"Have you tried <code>new Paragraph(text.setFont(brushedScriptFont))</code>, i.e. applying the font to the text before adding it to the paragraph?"},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1600179747,"post_id":63878408,"comment_id":113002494,"body_markdown":"@mkl, There is no such way to set font in iText 7.","body":"@mkl, There is no such way to set font in iText 7."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1600183738,"post_id":63878408,"comment_id":113004650,"body_markdown":"Ah, sorry, I thought `text` was an iText `Text` instance but it is actually a Java `String`. In that case try `new Paragraph(new Text(text).setFont(brushedScriptFont))`, i.e. first create a `Text` instance from that `text` string, give it a font, and add it as such to the `Paragraph`.","body":"Ah, sorry, I thought <code>text</code> was an iText <code>Text</code> instance but it is actually a Java <code>String</code>. In that case try <code>new Paragraph(new Text(text).setFont(brushedScriptFont))</code>, i.e. first create a <code>Text</code> instance from that <code>text</code> string, give it a font, and add it as such to the <code>Paragraph</code>."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1600199549,"post_id":63878408,"comment_id":113011495,"body_markdown":"Still not working.","body":"Still not working."}],"answers":[{"tags":[],"owner":{"account_id":9466896,"reputation":61,"user_id":7038932,"display_name":"Michael M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653059693,"creation_date":1651784825,"answer_id":72133664,"question_id":63878408,"body_markdown":"Though I might be misunderstanding, this is something that I seem to have working in IText7.  \r\n\r\nI initially used this StackOverFlow reference:\r\n// https://stackoverflow.com/questions/52369060/how-to-use-custom-colors-and-custom-fonts-in-itext7\r\n\r\nI might have varied it some to get it working for me.\r\n\r\nIf this doesn&#39;t work for you, I&#39;ll try to monitor this page, and see if I can add anything.  Added Arial font in my case.  I also &#39;added&#39; &#39;fontawesome&#39;, but don&#39;t seem to have experimented with it.  About to do that.  Not expecting good results there, but... wouldn&#39;t mind being pleasantly surprised.  :)\r\n\r\nUpdate: got fontawesome working too.  Allows display of &#39;checkboxes&#39; and &#39;unchecked boxes&#39; (more true to the site than a simple &#39;Y&#39; &#39;N&#39; display).  There are other stackoverflow answers where this is discussed, but perhaps not specifically for IText7.  If you need details, I&#39;ll add my solution here.\r\n\r\nSincerely,\r\nMichael M.\r\nUT System developer","title":"Adding New font in IText 7","body":"<p>Though I might be misunderstanding, this is something that I seem to have working in IText7.</p>\n<p>I initially used this StackOverFlow reference:\n// <a href=\"https://stackoverflow.com/questions/52369060/how-to-use-custom-colors-and-custom-fonts-in-itext7\">How to use Custom colors and custom Fonts in Itext7</a></p>\n<p>I might have varied it some to get it working for me.</p>\n<p>If this doesn't work for you, I'll try to monitor this page, and see if I can add anything.  Added Arial font in my case.  I also 'added' 'fontawesome', but don't seem to have experimented with it.  About to do that.  Not expecting good results there, but... wouldn't mind being pleasantly surprised.  :)</p>\n<p>Update: got fontawesome working too.  Allows display of 'checkboxes' and 'unchecked boxes' (more true to the site than a simple 'Y' 'N' display).  There are other stackoverflow answers where this is discussed, but perhaps not specifically for IText7.  If you need details, I'll add my solution here.</p>\n<p>Sincerely,\nMichael M.\nUT System developer</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653059693,"creation_date":1600060222,"question_id":63878408,"body_markdown":"I am trying to setup a new font in Itext7 and it is not reflecting in the PDF.\r\n\r\nAdding the default font works but unable to set new fonts.\r\n\r\n    private static final String BRUSHED_SCRIPT = &quot;src/main/resources/fonts/LucyTheCatRegular-Bg9x.ttf&quot;;\r\n\r\n    private PdfFont brushedScriptFont = null;\r\n\r\n\tpublic PDFService() {\r\n\t\ttry {\r\n\t\t\tthis.brushedScriptFont = PdfFontFactory.createFont(BRUSHED_SCRIPT);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException();\r\n\t\t}\r\n\t}\r\n\r\n    private Cell getAddressCell(String text, TextAlignment alignment) throws IOException {\r\n\t\tCell cell = new Cell().add(new Paragraph(text).setFont(brushedScriptFont));\r\n\t\tcell.setPadding(0);\r\n\t\t//cell.setFont(this.brushedScriptFont);\r\n\t\tcell.setTextAlignment(alignment);\r\n\t\tcell.setBorder(Border.NO_BORDER);\r\n\t\tcell.setFontSize(14);\r\n\r\n\t\treturn cell;\r\n\t}","title":"Adding New font in IText 7","body":"<p>I am trying to setup a new font in Itext7 and it is not reflecting in the PDF.</p>\n<p>Adding the default font works but unable to set new fonts.</p>\n<pre><code>private static final String BRUSHED_SCRIPT = &quot;src/main/resources/fonts/LucyTheCatRegular-Bg9x.ttf&quot;;\n\nprivate PdfFont brushedScriptFont = null;\n\npublic PDFService() {\n    try {\n        this.brushedScriptFont = PdfFontFactory.createFont(BRUSHED_SCRIPT);\n    } catch (Exception e) {\n        throw new RuntimeException();\n    }\n}\n\nprivate Cell getAddressCell(String text, TextAlignment alignment) throws IOException {\n    Cell cell = new Cell().add(new Paragraph(text).setFont(brushedScriptFont));\n    cell.setPadding(0);\n    //cell.setFont(this.brushedScriptFont);\n    cell.setTextAlignment(alignment);\n    cell.setBorder(Border.NO_BORDER);\n    cell.setFontSize(14);\n\n    return cell;\n}\n</code></pre>\n"},{"tags":["java","sorting","set","leaderboard"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1652989764,"post_id":72310017,"comment_id":127748006,"body_markdown":"What is this data structure? Is it just a string that you need to process, or have you provided a representation of some other structure?","body":"What is this data structure? Is it just a string that you need to process, or have you provided a representation of some other structure?"},{"owner":{"account_id":21879747,"reputation":234,"user_id":16168260,"display_name":"S. C."},"score":0,"creation_date":1652992683,"post_id":72310017,"comment_id":127748893,"body_markdown":"@codebod I updated it to include code examples if that helps.","body":"@codebod I updated it to include code examples if that helps."}],"answers":[{"tags":[],"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652995424,"creation_date":1652995424,"answer_id":72311229,"question_id":72310017,"body_markdown":"Iterate over your Tiles. `for(Tile t : getTiles())`\r\n\r\nExtract the player ID. `String playerId = t.player_id()`\r\n\r\nCheck if the player ID exists in the HashMap. `if leaderboard.containsKey(playerId)`\r\n\r\nIf it does, increment the value for that key.\r\n\r\nIf not, add the map with a value of 1.","title":"Take records from set and count how many records for each player id","body":"<p>Iterate over your Tiles. <code>for(Tile t : getTiles())</code></p>\n<p>Extract the player ID. <code>String playerId = t.player_id()</code></p>\n<p>Check if the player ID exists in the HashMap. <code>if leaderboard.containsKey(playerId)</code></p>\n<p>If it does, increment the value for that key.</p>\n<p>If not, add the map with a value of 1.</p>\n"}],"owner":{"account_id":21879747,"reputation":234,"user_id":16168260,"display_name":"S. C."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72311229,"answer_count":1,"score":1,"last_activity_date":1653059388,"creation_date":1652987886,"question_id":72310017,"body_markdown":"I&#39;m making a leaderboard in my game and I have tiles with certain player ids assigned to them.\r\n\r\nI need to take the following data (which is a set containing my &#39;Tile&#39; records):\r\n```\r\n    [Tile[id=eeebeaa4e03c8910e5c17925439f1fa1abb,position=Vec[x=-11.0, y=6.0, z=73.0], player_id=1oyr8l], Tile[id=3c10969e83a61f44139d5dbeb8b41c9e,position=Vec[x=-12.0, y=6.0, z=73.0], player_id=1oyr8l], Tile[id=f51fd6f3eb407305a49bde1cb2cf44fe,position=Vec[x=-12.0, y=6.0, z=74.0], player_id=qX9Bh7]]\r\n```\r\n\r\nI want to format it into something like:\r\n```\r\n    1oyr8l: 2\r\n    qX9Bh7: 1\r\n```\r\n\r\nOr in code form:\r\n```\r\n    public record Tile(String id, Vec position, String owner) {\r\n    // irrelevant code here\r\n    }\r\n\r\n    private final Set&lt;Tile&gt; userTiles = getTiles() // dummy func but you get the idea\r\n```\r\n\r\nI want to take `userTiles`, which is a `Set&lt;Tile&gt;` and make it into the sorted &amp; counted format I showed above in text format, but in the form of a `HashMap`, such as:\r\n```\r\n    HashMap&lt;String,Integer&gt; leaderboard = new HashMap&lt;String,Integer&gt;();\r\n```","title":"Take records from set and count how many records for each player id","body":"<p>I'm making a leaderboard in my game and I have tiles with certain player ids assigned to them.</p>\n<p>I need to take the following data (which is a set containing my 'Tile' records):</p>\n<pre><code>    [Tile[id=eeebeaa4e03c8910e5c17925439f1fa1abb,position=Vec[x=-11.0, y=6.0, z=73.0], player_id=1oyr8l], Tile[id=3c10969e83a61f44139d5dbeb8b41c9e,position=Vec[x=-12.0, y=6.0, z=73.0], player_id=1oyr8l], Tile[id=f51fd6f3eb407305a49bde1cb2cf44fe,position=Vec[x=-12.0, y=6.0, z=74.0], player_id=qX9Bh7]]\n</code></pre>\n<p>I want to format it into something like:</p>\n<pre><code>    1oyr8l: 2\n    qX9Bh7: 1\n</code></pre>\n<p>Or in code form:</p>\n<pre><code>    public record Tile(String id, Vec position, String owner) {\n    // irrelevant code here\n    }\n\n    private final Set&lt;Tile&gt; userTiles = getTiles() // dummy func but you get the idea\n</code></pre>\n<p>I want to take <code>userTiles</code>, which is a <code>Set&lt;Tile&gt;</code> and make it into the sorted &amp; counted format I showed above in text format, but in the form of a <code>HashMap</code>, such as:</p>\n<pre><code>    HashMap&lt;String,Integer&gt; leaderboard = new HashMap&lt;String,Integer&gt;();\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653059341,"creation_date":1653059341,"answer_id":72321183,"question_id":72311597,"body_markdown":"The idea of a custom deserializer is correct, you can extends the [`StdDeserializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html) class and in its `deserialize` method convert the json to a `JsonNode` separating the two `String`and `Object` distinct values associated to the `magic` key in the json:\r\n\r\n~~~\r\npublic class MagicDeserializer extends StdDeserializer&lt;Magic&gt; {\r\n\r\n    public MagicDeserializer() {\r\n        super(Magic.class);\r\n    }\r\n\r\n    @Override\r\n    public Magic deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        final ObjectCodec codec = jp.getCodec();\r\n        JsonNode root = codec.readTree(jp);\r\n        Magic magic = new Magic();\r\n        if (root.isTextual()) { //&lt;- magic is a string\r\n            magic.setSpell(root.textValue());\r\n            return magic;\r\n        }\r\n        //ok, so magic is an Magic object\r\n        return codec.treeToValue(root, Magic.class);\r\n    }\r\n}\r\n~~~\r\n\r\nThen if you annotate your `Magic` field you can deserialize both the jsons:\r\n\r\n~~~\r\n@Data\r\npublic class Mage {\r\n\r\n    private String name;\r\n    @JsonDeserialize(using = MagicDeserializer.class)\r\n    private Magic magic;\r\n}\r\n\r\n@Data\r\npublic class Magic {\r\n\r\n    private String Spell;\r\n    private int strength;\r\n}\r\n\r\nMage sauron = mapper.readValue(json1, Mage.class);\r\nSystem.out.println(mapper.writeValueAsString(sauron));\r\nMage gandalf = mapper.readValue(json2, Mage.class);\r\nSystem.out.println(mapper.writeValueAsString(gandalf));\r\n\r\n~~~","title":"How deserialize plain String to Json using Jackson in Java?","body":"<p>The idea of a custom deserializer is correct, you can extends the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"nofollow noreferrer\"><code>StdDeserializer</code></a> class and in its <code>deserialize</code> method convert the json to a <code>JsonNode</code> separating the two <code>String</code>and <code>Object</code> distinct values associated to the <code>magic</code> key in the json:</p>\n<pre><code>public class MagicDeserializer extends StdDeserializer&lt;Magic&gt; {\n\n    public MagicDeserializer() {\n        super(Magic.class);\n    }\n\n    @Override\n    public Magic deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        final ObjectCodec codec = jp.getCodec();\n        JsonNode root = codec.readTree(jp);\n        Magic magic = new Magic();\n        if (root.isTextual()) { //&lt;- magic is a string\n            magic.setSpell(root.textValue());\n            return magic;\n        }\n        //ok, so magic is an Magic object\n        return codec.treeToValue(root, Magic.class);\n    }\n}\n</code></pre>\n<p>Then if you annotate your <code>Magic</code> field you can deserialize both the jsons:</p>\n<pre><code>@Data\npublic class Mage {\n\n    private String name;\n    @JsonDeserialize(using = MagicDeserializer.class)\n    private Magic magic;\n}\n\n@Data\npublic class Magic {\n\n    private String Spell;\n    private int strength;\n}\n\nMage sauron = mapper.readValue(json1, Mage.class);\nSystem.out.println(mapper.writeValueAsString(sauron));\nMage gandalf = mapper.readValue(json2, Mage.class);\nSystem.out.println(mapper.writeValueAsString(gandalf));\n\n</code></pre>\n"}],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72321183,"answer_count":1,"score":0,"last_activity_date":1653059341,"creation_date":1652998281,"question_id":72311597,"body_markdown":"I have a simple class as property of mage:\r\n\r\n```java\r\n// getter/setter omitted for brevity\r\npublic class Magic() {\r\n  String Spell;\r\n  int strength;\r\n}\r\n\r\npublic class Mage() {\r\n  String name;\r\n  Magic magic;\r\n}\r\n```\r\n\r\nI need to deserialize JSON from 2 different source strings:\r\n\r\n```json\r\n{\r\n  &quot;name&quot; : &quot;Sauron&quot;,\r\n  &quot;magic&quot; : {\r\n        &quot;spell&quot; : &quot;Tamador&quot;,\r\n        &quot;strenght&quot; : 10\r\n   }\r\n}\r\n```\r\n\r\nand \r\n\r\n```json\r\n{\r\n  &quot;name&quot; : &quot;Gandalf&quot;,\r\n  &quot;magic&quot; : &quot;You shall not pass&quot;\r\n}\r\n```\r\n\r\nor even &quot;You shall not pass&quot; -&gt; Magic object\r\n\r\nI thought going with `@JsonDeserialize(using = MagicDeserializer.class)` would be the way to go with Jackson, but the Parser barfs with &quot;Unrecognized token&quot;. Is there a way I can intercept the loading to do my own parsing?\r\n\r\n\r\n","title":"How deserialize plain String to Json using Jackson in Java?","body":"<p>I have a simple class as property of mage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// getter/setter omitted for brevity\npublic class Magic() {\n  String Spell;\n  int strength;\n}\n\npublic class Mage() {\n  String name;\n  Magic magic;\n}\n</code></pre>\n<p>I need to deserialize JSON from 2 different source strings:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; : &quot;Sauron&quot;,\n  &quot;magic&quot; : {\n        &quot;spell&quot; : &quot;Tamador&quot;,\n        &quot;strenght&quot; : 10\n   }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; : &quot;Gandalf&quot;,\n  &quot;magic&quot; : &quot;You shall not pass&quot;\n}\n</code></pre>\n<p>or even &quot;You shall not pass&quot; -&gt; Magic object</p>\n<p>I thought going with <code>@JsonDeserialize(using = MagicDeserializer.class)</code> would be the way to go with Jackson, but the Parser barfs with &quot;Unrecognized token&quot;. Is there a way I can intercept the loading to do my own parsing?</p>\n"},{"tags":["java","android","json","retrofit2"],"comments":[{"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"score":0,"creation_date":1653048429,"post_id":72318634,"comment_id":127761740,"body_markdown":"May be due to json covered in double quotes. try to remove that using trimIndent() if you are using  kotlin.","body":"May be due to json covered in double quotes. try to remove that using trimIndent() if you are using  kotlin."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653048552,"post_id":72318634,"comment_id":127761796,"body_markdown":"Why is there a quote at the beginning? It&#39;s not valid json.","body":"Why is there a quote at the beginning? It&#39;s not valid json."},{"owner":{"account_id":22958132,"reputation":11,"user_id":17088439,"display_name":"Deepika Singh"},"score":0,"creation_date":1653049129,"post_id":72318634,"comment_id":127762008,"body_markdown":"@JinalPatel I&#39;m doing that by creating a model class","body":"@JinalPatel I&#39;m doing that by creating a model class"},{"owner":{"account_id":22958132,"reputation":11,"user_id":17088439,"display_name":"Deepika Singh"},"score":0,"creation_date":1653049244,"post_id":72318634,"comment_id":127762066,"body_markdown":"@f1sh that&#39;s inserted by mistake in the post only","body":"@f1sh that&#39;s inserted by mistake in the post only"}],"owner":{"account_id":22958132,"reputation":11,"user_id":17088439,"display_name":"Deepika Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653059254,"creation_date":1653048259,"question_id":72318634,"body_markdown":"I&#39;m getting this exception below, but the data is POSTed successfully.\r\n\r\n```\r\nError: Expected BEGIN_OBJECT but was STRING at line 1 column 1\r\n```\r\n\r\nCan anybody tell me what the issue is in this format?\r\n\r\n```\r\n{\r\n   &quot;trip_id&quot;:&quot;9&quot;,\r\n   &quot;user&quot;:&quot;admin&quot;,\r\n   &quot;vehicle_no&quot;:&quot;Hr26Eu6341&quot;,\r\n   &quot;trip_action&quot;:&quot; Start&quot;,\r\n   &quot;tripdetails&quot;:[\r\n     {\r\n         &quot;item_name&quot;:&quot;Tyre&quot;,\r\n        &quot;item_position&quot;:&quot;Axel1-left&quot;,\r\n       &quot;tag_id&quot;:&quot;E123dervceEp32432425&quot;\r\n      },\r\n      {\r\n        &quot;item_name&quot;:&quot;Tyre&quot;,\r\n        &quot;item_position&quot;:&quot;Select position&quot;,\r\n     &quot;tag_id&quot;:&quot;E123dervceEp32432424&quot;\r\n      },\r\n       {\r\n         &quot;item_name&quot;:&quot;Battery&quot;,\r\n         &quot;item_position&quot;:&quot;&quot;,\r\n         &quot;tag_id&quot;:&quot;E123dervceEp32432424&quot;\r\n      },\r\n      {\r\n        &quot;item_name&quot;:&quot;Battery&quot;,\r\n         &quot;item_position&quot;:&quot;&quot;,\r\n         &quot;tag_id&quot;:&quot;E123dervceEp3243222&quot;\r\n      }\r\n   ]\r\n}\r\n```\r\n","title":"Error: Expected BEGIN_OBJECT but was STRING at line 1 column 1, but data posted to server","body":"<p>I'm getting this exception below, but the data is POSTed successfully.</p>\n<pre><code>Error: Expected BEGIN_OBJECT but was STRING at line 1 column 1\n</code></pre>\n<p>Can anybody tell me what the issue is in this format?</p>\n<pre><code>{\n   &quot;trip_id&quot;:&quot;9&quot;,\n   &quot;user&quot;:&quot;admin&quot;,\n   &quot;vehicle_no&quot;:&quot;Hr26Eu6341&quot;,\n   &quot;trip_action&quot;:&quot; Start&quot;,\n   &quot;tripdetails&quot;:[\n     {\n         &quot;item_name&quot;:&quot;Tyre&quot;,\n        &quot;item_position&quot;:&quot;Axel1-left&quot;,\n       &quot;tag_id&quot;:&quot;E123dervceEp32432425&quot;\n      },\n      {\n        &quot;item_name&quot;:&quot;Tyre&quot;,\n        &quot;item_position&quot;:&quot;Select position&quot;,\n     &quot;tag_id&quot;:&quot;E123dervceEp32432424&quot;\n      },\n       {\n         &quot;item_name&quot;:&quot;Battery&quot;,\n         &quot;item_position&quot;:&quot;&quot;,\n         &quot;tag_id&quot;:&quot;E123dervceEp32432424&quot;\n      },\n      {\n        &quot;item_name&quot;:&quot;Battery&quot;,\n         &quot;item_position&quot;:&quot;&quot;,\n         &quot;tag_id&quot;:&quot;E123dervceEp3243222&quot;\n      }\n   ]\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1651155624,"post_id":72045087,"comment_id":127300789,"body_markdown":"Are you asking more generally about [How to do database unit testing](https://stackoverflow.com/questions/3772093/how-to-do-database-unit-testing)?","body":"Are you asking more generally about <a href=\"https://stackoverflow.com/questions/3772093/how-to-do-database-unit-testing\">How to do database unit testing</a>?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1651155968,"post_id":72045087,"comment_id":127300924,"body_markdown":"removed javafx tag, looks unrelated - is it? If so, explain why exactly it&#39;s a fx problem, best with a [mcve] demonstrating what you tried and how it didn&#39;t work.","body":"removed javafx tag, looks unrelated - is it? If so, explain why exactly it&#39;s a fx problem, best with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what you tried and how it didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":12993243,"reputation":152,"user_id":9391811,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651157932,"creation_date":1651157932,"answer_id":72045958,"question_id":72045087,"body_markdown":"I think you are talking about an integration test here - if so then your test should 1) Add a record 2) Retrieve the same record 3) Assert that both are the same","title":"How can I test these two methods?","body":"<p>I think you are talking about an integration test here - if so then your test should 1) Add a record 2) Retrieve the same record 3) Assert that both are the same</p>\n"}],"owner":{"display_name":"user17229488"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651159988,"answer_count":1,"score":0,"last_activity_date":1653058875,"creation_date":1651154541,"question_id":72045087,"body_markdown":"I have some methods that delete, update and put some data to the database (MySQL).\r\nI can check by myself that the data was added, deleted, and updated but I want some tests on my project.\r\n\r\nHow can I do it?\r\n\r\nI use the code below to get the first and last names for the database \r\nusing the ID (Primary_Key).\r\n```java\r\npublic void checkId() {\r\n    int idNumber = 0;\r\n    try {\r\n        idNumber = Integer.parseInt(textFieldForId.getText());\r\n    } catch (NumberFormatException ex) {\r\n        messageLabel.setText(&quot;PLEASE ENTER A NUMERIC VALUE&quot;);\r\n    }\r\n    try {\r\n        Connection con = DataBaseConnecction.getDataBaseConnection();\r\n        Statement statement = con.createStatement();\r\n        String sql = &quot;select firstName , lastName from patients_info where id = &quot; + idNumber;\r\n        ResultSet result = statement.executeQuery(sql);\r\n        while (result.next())\r\n            patientFullName.setText(result.getString(&quot;firstName&quot;) + &quot; &quot; + result.getString(&quot;lastName&quot;));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    if (patientFullName.getText().isEmpty() &amp;&amp; messageLabel.getText().isEmpty())\r\n        messageLabel.setText(&quot;THERE IS NO PATIENT WITH THIS ID NUMBER&quot;);\r\n}\r\n\r\nvoid deletePatient() {\r\n    int idNumber;\r\n    idNumber = Integer.parseInt(textfieldforCin.getText());\r\n    try {\r\n        Connection con = DataBaseConnecction.getDataBaseConnection();\r\n        String sql = &quot;delete from patients_info where id = &quot; + &quot;&#39;&quot; + idNumber + &quot;&#39;&quot;;\r\n        int roweffected = con.createStatement().executeUpdate(sql);\r\n        messagelabel.setText(&quot;DELETED SUCCESS &quot;);\r\n    } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n    } catch (NumberFormatException E) {\r\n        messagelabel.setText(&quot;SET A CORRECT CIN NUMBER &quot;);\r\n    }\r\n}\r\n```\r\n","title":"How can I test these two methods?","body":"<p>I have some methods that delete, update and put some data to the database (MySQL).\nI can check by myself that the data was added, deleted, and updated but I want some tests on my project.</p>\n<p>How can I do it?</p>\n<p>I use the code below to get the first and last names for the database\nusing the ID (Primary_Key).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkId() {\n    int idNumber = 0;\n    try {\n        idNumber = Integer.parseInt(textFieldForId.getText());\n    } catch (NumberFormatException ex) {\n        messageLabel.setText(&quot;PLEASE ENTER A NUMERIC VALUE&quot;);\n    }\n    try {\n        Connection con = DataBaseConnecction.getDataBaseConnection();\n        Statement statement = con.createStatement();\n        String sql = &quot;select firstName , lastName from patients_info where id = &quot; + idNumber;\n        ResultSet result = statement.executeQuery(sql);\n        while (result.next())\n            patientFullName.setText(result.getString(&quot;firstName&quot;) + &quot; &quot; + result.getString(&quot;lastName&quot;));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    if (patientFullName.getText().isEmpty() &amp;&amp; messageLabel.getText().isEmpty())\n        messageLabel.setText(&quot;THERE IS NO PATIENT WITH THIS ID NUMBER&quot;);\n}\n\nvoid deletePatient() {\n    int idNumber;\n    idNumber = Integer.parseInt(textfieldforCin.getText());\n    try {\n        Connection con = DataBaseConnecction.getDataBaseConnection();\n        String sql = &quot;delete from patients_info where id = &quot; + &quot;'&quot; + idNumber + &quot;'&quot;;\n        int roweffected = con.createStatement().executeUpdate(sql);\n        messagelabel.setText(&quot;DELETED SUCCESS &quot;);\n    } catch (SQLException ex) {\n        ex.printStackTrace();\n    } catch (NumberFormatException E) {\n        messagelabel.setText(&quot;SET A CORRECT CIN NUMBER &quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","text","character"],"comments":[{"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"score":0,"creation_date":1653058253,"post_id":72320914,"comment_id":127765652,"body_markdown":"I forgot to paste the method Im using for generating the different colors. https://pastebin.com/LT5difPg","body":"I forgot to paste the method Im using for generating the different colors. <a href=\"https://pastebin.com/LT5difPg\" rel=\"nofollow noreferrer\">pastebin.com/LT5difPg</a>"},{"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"score":1,"creation_date":1653059018,"post_id":72320914,"comment_id":127765967,"body_markdown":"What is `ssb` ? You&#39;re adding the last characters to it...","body":"What is <code>ssb</code> ? You&#39;re adding the last characters to it..."},{"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"score":0,"creation_date":1653059102,"post_id":72320914,"comment_id":127766005,"body_markdown":"ssb is the name of the variable of type SpannableStringBuilder... are you suggesting no to add it ?","body":"ssb is the name of the variable of type SpannableStringBuilder... are you suggesting no to add it ?"},{"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"score":1,"creation_date":1653059331,"post_id":72320914,"comment_id":127766103,"body_markdown":"It&#39;s a guess : you&#39;re adding 2 characters to it but do you remove some ?","body":"It&#39;s a guess : you&#39;re adding 2 characters to it but do you remove some ?"},{"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"score":0,"creation_date":1653298212,"post_id":72320914,"comment_id":127808715,"body_markdown":"@Bruno I kept trying to modify the code but nothing is going on... can you give me some more hints","body":"@Bruno I kept trying to modify the code but nothing is going on... can you give me some more hints"}],"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653058868,"creation_date":1653058144,"question_id":72320914,"body_markdown":"The main goal is to make each character different color when typed in app. This is Edit Text View that im using. This works but when I try to delete a character or characters it just duplicates last two chars ?!?! Im using Android Studio Bumblebee. Any help would be much appreciated ! Here is the code: \r\n\r\n\r\n```\r\nnameField.addTextChangedListener(new TextWatcher() {\r\n    @Override\r\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n \r\n    }\r\n \r\n    @Override\r\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n \r\n    }\r\n \r\n    @Override\r\n    public void afterTextChanged(Editable s) {\r\n \r\n        if (s.length() &gt; 0) {\r\n            nameField.removeTextChangedListener(this);\r\n \r\n            int start = s.length() - 1;\r\n            String lastChar = s.toString().substring(start);\r\n \r\n            SpannableString lastSpannableChar = new SpannableString(lastChar);\r\n \r\n            int pickedColor = chooseColor(lastChar);\r\n \r\n            ForegroundColorSpan fcs = new ForegroundColorSpan(pickedColor);\r\n \r\n            lastSpannableChar.setSpan(fcs, 0, 1, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\r\n \r\n            ssb.append(lastSpannableChar);\r\n \r\n            nameField.setText(ssb);\r\n            nameField.setSelection(nameField.getText().length());\r\n            nameField.addTextChangedListener(this);\r\n        }\r\n    }\r\n});\r\n\r\npublic int chooseColor(String ch) {\r\n    Random rnd = new Random();\r\n    return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\r\n    }\r\n```\r\n","title":"Why my code is duplicating the last 2 characters when I run it and I try to delete?","body":"<p>The main goal is to make each character different color when typed in app. This is Edit Text View that im using. This works but when I try to delete a character or characters it just duplicates last two chars ?!?! Im using Android Studio Bumblebee. Any help would be much appreciated ! Here is the code:</p>\n<pre><code>nameField.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n \n    }\n \n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n \n    }\n \n    @Override\n    public void afterTextChanged(Editable s) {\n \n        if (s.length() &gt; 0) {\n            nameField.removeTextChangedListener(this);\n \n            int start = s.length() - 1;\n            String lastChar = s.toString().substring(start);\n \n            SpannableString lastSpannableChar = new SpannableString(lastChar);\n \n            int pickedColor = chooseColor(lastChar);\n \n            ForegroundColorSpan fcs = new ForegroundColorSpan(pickedColor);\n \n            lastSpannableChar.setSpan(fcs, 0, 1, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\n \n            ssb.append(lastSpannableChar);\n \n            nameField.setText(ssb);\n            nameField.setSelection(nameField.getText().length());\n            nameField.addTextChangedListener(this);\n        }\n    }\n});\n\npublic int chooseColor(String ch) {\n    Random rnd = new Random();\n    return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\n    }\n</code></pre>\n"},{"tags":["java","coldfusion","apple-sign-in"],"answers":[{"tags":[],"owner":{"account_id":8121224,"reputation":734,"user_id":6117921,"display_name":"CFMLBread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653058846,"creation_date":1653049590,"answer_id":72318924,"question_id":72315286,"body_markdown":"I used a jwt CFC found here:\r\nhttps://github.com/jcberquist/jwt-cfml\r\n\r\nAnd the documentation from Apple here:\r\nhttps://developer.apple.com/documentation/appstoreserverapi/generating_tokens_for_api_requests\r\n\r\nThis function works for me:\r\n\r\n    &lt;cffunction name=&quot;createAPIToken&quot; output=&quot;No&quot;&gt;\r\n    \t\r\n    \t&lt;cfset nonce = createUUID()&gt;\r\n    \r\n    \t&lt;!--- &#39;kid&#39; value is private key ID from App Store Connect ---&gt;\r\n    \t&lt;cfset tokenHeader = {\r\n    \t\t&quot;kid&quot;:&quot;YOURPRIVATEKEYID&quot;\r\n    \t}&gt;\r\n    \r\n    \t&lt;!--- iss value: issuer ID from the Keys page in App Store Connect ---&gt;\r\n    \t&lt;cfset tokenPayload = {\r\n    \t\t&quot;iss&quot;:&quot;issuer ID from the Keys page in App Store Connect&quot;,\r\n    \t\t&quot;iat&quot;:now(),\r\n    \t\t&quot;exp&quot;:dateAdd(&quot;n&quot;,60,now()),\r\n    \t\t&quot;aud&quot;:&quot;appstoreconnect-v1&quot;,\r\n    \t\t&quot;nonce&quot;:&quot;#nonce#&quot;,\r\n    \t\t&quot;bid&quot;:&quot;Your apps bundle ID&quot;\r\n    \t}&gt;\r\n    \r\n    \t&lt;cfset jwt = createobject(&quot;component&quot;,&quot;path.to.jwt&quot;).init()&gt;\r\n    \r\n    \t&lt;cfset token = jwt.encode(tokenPayload, YourAppStoreConnectPrivateKey, &#39;ES256&#39;,tokenHeader)&gt;\r\n    \r\n    \t&lt;cfreturn token&gt;\r\n    \r\n    &lt;/cffunction&gt;","title":"How to create an Apple Connect API JWT token by ColdFusion","body":"<p>I used a jwt CFC found here:\n<a href=\"https://github.com/jcberquist/jwt-cfml\" rel=\"nofollow noreferrer\">https://github.com/jcberquist/jwt-cfml</a></p>\n<p>And the documentation from Apple here:\n<a href=\"https://developer.apple.com/documentation/appstoreserverapi/generating_tokens_for_api_requests\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appstoreserverapi/generating_tokens_for_api_requests</a></p>\n<p>This function works for me:</p>\n<pre><code>&lt;cffunction name=&quot;createAPIToken&quot; output=&quot;No&quot;&gt;\n    \n    &lt;cfset nonce = createUUID()&gt;\n\n    &lt;!--- 'kid' value is private key ID from App Store Connect ---&gt;\n    &lt;cfset tokenHeader = {\n        &quot;kid&quot;:&quot;YOURPRIVATEKEYID&quot;\n    }&gt;\n\n    &lt;!--- iss value: issuer ID from the Keys page in App Store Connect ---&gt;\n    &lt;cfset tokenPayload = {\n        &quot;iss&quot;:&quot;issuer ID from the Keys page in App Store Connect&quot;,\n        &quot;iat&quot;:now(),\n        &quot;exp&quot;:dateAdd(&quot;n&quot;,60,now()),\n        &quot;aud&quot;:&quot;appstoreconnect-v1&quot;,\n        &quot;nonce&quot;:&quot;#nonce#&quot;,\n        &quot;bid&quot;:&quot;Your apps bundle ID&quot;\n    }&gt;\n\n    &lt;cfset jwt = createobject(&quot;component&quot;,&quot;path.to.jwt&quot;).init()&gt;\n\n    &lt;cfset token = jwt.encode(tokenPayload, YourAppStoreConnectPrivateKey, 'ES256',tokenHeader)&gt;\n\n    &lt;cfreturn token&gt;\n\n&lt;/cffunction&gt;\n</code></pre>\n"}],"owner":{"account_id":14337149,"reputation":197,"user_id":10356267,"display_name":"ONLAEG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653058846,"creation_date":1653032721,"question_id":72315286,"body_markdown":"I have to create an Apple Connect API JWT token by ColdFusion.\r\nI have found out jwt.io library and have used it:\r\n\r\n    variables.jwtTest = new BB.jwtio.jwt();\r\n\tvariables.token = variables.jwtTest.encode({\r\n\t\t&#39;aud&#39;: &#39;appstoreconnect-v1&#39;,\r\n\t\t&#39;iss&#39;: variables.appleConnectAPISetting.IssuerID,\r\n\t\t&#39;iat&#39;: variables.timestampNowUTC,\r\n\t\t&#39;exp&#39;: variables.timestampExpUTC\r\n\t},\r\n\tvariables.appleConnectAPISetting.PrivateKey,\r\n\t&#39;ES256&#39;,\r\n\t{\r\n        &#39;kid&#39;: variables.appleConnectAPISetting.KeyID\r\n    });\r\n    writeDump(variables.token);\r\n\r\nBut be created token did not working.\r\nI try some code like following:\r\n\r\n    variables.timestampNowUTC = dateDiff(&quot;s&quot;, CreateDate(1970,1,1), dateConvert(&#39;local2Utc&#39;, now()));\r\n\tvariables.timestampExpUTC = dateDiff(&quot;s&quot;, CreateDate(1970,1,1), dateConvert(&#39;local2Utc&#39;, dateAdd(&#39;n&#39;, 10, now())));\r\n\r\n\t//generate jwt \r\n\tvariables.jwt_header = {\r\n\t\t&#39;alg&#39;: &#39;ES256&#39;,\r\n\t\t&#39;typ&#39;: &#39;JWT&#39;,\r\n\t\t&#39;kid&#39;: variables.appleConnectAPISetting.KeyID\r\n\t};\r\n\tvariables.jwt_header = serializeJSON(variables.jwt_header);\r\n\tvariables.jwt_header = toBase64(variables.jwt_header);\r\n\r\n\tvariables.jwt_claim = {\r\n\t\t&#39;aud&#39;: &#39;appstoreconnect-v1&#39;,\r\n\t\t&#39;iss&#39;: variables.appleConnectAPISetting.IssuerID,\r\n\t\t&#39;iat&#39;: variables.timestampNowUTC,\r\n\t\t&#39;exp&#39;: variables.timestampExpUTC\r\n\t};\r\n\r\n\tvariables.jwt_claim = serializeJSON(variables.jwt_claim);\r\n\tvariables.jwt_claim = toBase64(variables.jwt_claim);\r\n\r\n\tvariables.jwt = variables.jwt_header &amp; &#39;.&#39; &amp; variables.jwt_claim;\r\n\r\n\t//sign jwt\r\n\tvariables.keyText = reReplace( variables.appleConnectAPISetting.PrivateKey, &quot;-----(BEGIN|END)[^\\r\\n]+&quot;, &quot;&quot;, &quot;all&quot; );\r\n\tvariables.keyText = trim( variables.keyText );\r\n\r\n\tvariables.privateKeySpec = createObject( &quot;java&quot;, &quot;java.security.spec.PKCS8EncodedKeySpec&quot; )\r\n\t\t.init(binaryDecode(variables.keyText, &quot;base64&quot;));\r\n\r\n\tvariables.privateKey = createObject( &quot;java&quot;, &quot;java.security.KeyFactory&quot; )\r\n\t\t.getInstance(&quot;EC&quot;)\r\n\t\t.generatePrivate(variables.privateKeySpec);\r\n\r\n\tvariables.signer = createObject( &quot;java&quot;, &quot;java.security.Signature&quot; )\r\n\t\t.getInstance(&quot;SHA256withECDSA&quot;);\r\n\r\n\tvariables.signer.initSign( variables.privateKey );\r\n\tvariables.signer.update( charsetDecode( variables.jwt, &quot;utf-8&quot; ) );\r\n\tvariables.signedBytes = signer.sign();\r\n\tvariables.signedBase64 = toBase64(signedBytes);\r\n\r\n\tvariables.token = variables.jwt &amp; &#39;.&#39; &amp; variables.signedBase64;\r\n\r\n\twriteDump(variables.token);\r\n\r\nI have tried these token to authentic apple connect api, but they did not working.\r\nDo you have any idea?","title":"How to create an Apple Connect API JWT token by ColdFusion","body":"<p>I have to create an Apple Connect API JWT token by ColdFusion.\nI have found out jwt.io library and have used it:</p>\n<pre><code>variables.jwtTest = new BB.jwtio.jwt();\nvariables.token = variables.jwtTest.encode({\n    'aud': 'appstoreconnect-v1',\n    'iss': variables.appleConnectAPISetting.IssuerID,\n    'iat': variables.timestampNowUTC,\n    'exp': variables.timestampExpUTC\n},\nvariables.appleConnectAPISetting.PrivateKey,\n'ES256',\n{\n    'kid': variables.appleConnectAPISetting.KeyID\n});\nwriteDump(variables.token);\n</code></pre>\n<p>But be created token did not working.\nI try some code like following:</p>\n<pre><code>variables.timestampNowUTC = dateDiff(&quot;s&quot;, CreateDate(1970,1,1), dateConvert('local2Utc', now()));\nvariables.timestampExpUTC = dateDiff(&quot;s&quot;, CreateDate(1970,1,1), dateConvert('local2Utc', dateAdd('n', 10, now())));\n\n//generate jwt \nvariables.jwt_header = {\n    'alg': 'ES256',\n    'typ': 'JWT',\n    'kid': variables.appleConnectAPISetting.KeyID\n};\nvariables.jwt_header = serializeJSON(variables.jwt_header);\nvariables.jwt_header = toBase64(variables.jwt_header);\n\nvariables.jwt_claim = {\n    'aud': 'appstoreconnect-v1',\n    'iss': variables.appleConnectAPISetting.IssuerID,\n    'iat': variables.timestampNowUTC,\n    'exp': variables.timestampExpUTC\n};\n\nvariables.jwt_claim = serializeJSON(variables.jwt_claim);\nvariables.jwt_claim = toBase64(variables.jwt_claim);\n\nvariables.jwt = variables.jwt_header &amp; '.' &amp; variables.jwt_claim;\n\n//sign jwt\nvariables.keyText = reReplace( variables.appleConnectAPISetting.PrivateKey, &quot;-----(BEGIN|END)[^\\r\\n]+&quot;, &quot;&quot;, &quot;all&quot; );\nvariables.keyText = trim( variables.keyText );\n\nvariables.privateKeySpec = createObject( &quot;java&quot;, &quot;java.security.spec.PKCS8EncodedKeySpec&quot; )\n    .init(binaryDecode(variables.keyText, &quot;base64&quot;));\n\nvariables.privateKey = createObject( &quot;java&quot;, &quot;java.security.KeyFactory&quot; )\n    .getInstance(&quot;EC&quot;)\n    .generatePrivate(variables.privateKeySpec);\n\nvariables.signer = createObject( &quot;java&quot;, &quot;java.security.Signature&quot; )\n    .getInstance(&quot;SHA256withECDSA&quot;);\n\nvariables.signer.initSign( variables.privateKey );\nvariables.signer.update( charsetDecode( variables.jwt, &quot;utf-8&quot; ) );\nvariables.signedBytes = signer.sign();\nvariables.signedBase64 = toBase64(signedBytes);\n\nvariables.token = variables.jwt &amp; '.' &amp; variables.signedBase64;\n\nwriteDump(variables.token);\n</code></pre>\n<p>I have tried these token to authentic apple connect api, but they did not working.\nDo you have any idea?</p>\n"},{"tags":["java","httpclient","apache-httpclient-4.x","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653058684,"creation_date":1653058684,"answer_id":72321028,"question_id":72310725,"body_markdown":"Referring to [HttpClient configuration][1] provided in [HttpClient Examples (Classic)][2], it can be configured, but with more steps:\r\n```\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\nimport org.apache.hc.client5.http.impl.classic.HttpClientBuilder;\r\nimport org.apache.hc.client5.http.impl.io.BasicHttpClientConnectionManager;\r\nimport org.apache.hc.client5.http.impl.io.ManagedHttpClientConnectionFactory;\r\nimport org.apache.hc.client5.http.io.ManagedHttpClientConnection;\r\nimport org.apache.hc.client5.http.socket.ConnectionSocketFactory;\r\nimport org.apache.hc.client5.http.socket.PlainConnectionSocketFactory;\r\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\r\nimport org.apache.hc.core5.http.URIScheme;\r\nimport org.apache.hc.core5.http.config.Http1Config;\r\nimport org.apache.hc.core5.http.config.Registry;\r\nimport org.apache.hc.core5.http.config.RegistryBuilder;\r\nimport org.apache.hc.core5.http.io.HttpConnectionFactory;\r\n\r\npublic class CustomClientConfig {\r\n    public static void main(String[] args) {\r\n        int bufferSize = 0;\r\n        Http1Config customHttpConfig = Http1Config.custom().setBufferSize(bufferSize).build();\r\n        HttpConnectionFactory&lt;ManagedHttpClientConnection&gt; connectionFactory =\r\n                ManagedHttpClientConnectionFactory.builder().\r\n                        http1Config(customHttpConfig).build();\r\n        BasicHttpClientConnectionManager connectionManager = new BasicHttpClientConnectionManager(\r\n                getDefaultRegistry(), connectionFactory);\r\n        CloseableHttpClient httpclient = HttpClientBuilder.create()\r\n                .setConnectionManager(connectionManager).build();\r\n    }\r\n\r\n    // copy from BasicHttpClientConnectionManager\r\n    private static Registry&lt;ConnectionSocketFactory&gt; getDefaultRegistry() {\r\n        return RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                .register(URIScheme.HTTP.id, PlainConnectionSocketFactory.getSocketFactory())\r\n                .register(URIScheme.HTTPS.id, SSLConnectionSocketFactory.getSocketFactory())\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\nYou may also want to take a look on the [migration guide][3]\r\n\r\n\r\n  [1]: https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientConfiguration.java\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.1.x/examples.html\r\n  [3]: https://hc.apache.org/httpcomponents-client-5.1.x/migration-guide/index.html","title":"How to set bufferSize with Apache HttpClient5?","body":"<p>Referring to <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientConfiguration.java\" rel=\"nofollow noreferrer\">HttpClient configuration</a> provided in <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/examples.html\" rel=\"nofollow noreferrer\">HttpClient Examples (Classic)</a>, it can be configured, but with more steps:</p>\n<pre><code>import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClientBuilder;\nimport org.apache.hc.client5.http.impl.io.BasicHttpClientConnectionManager;\nimport org.apache.hc.client5.http.impl.io.ManagedHttpClientConnectionFactory;\nimport org.apache.hc.client5.http.io.ManagedHttpClientConnection;\nimport org.apache.hc.client5.http.socket.ConnectionSocketFactory;\nimport org.apache.hc.client5.http.socket.PlainConnectionSocketFactory;\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.core5.http.URIScheme;\nimport org.apache.hc.core5.http.config.Http1Config;\nimport org.apache.hc.core5.http.config.Registry;\nimport org.apache.hc.core5.http.config.RegistryBuilder;\nimport org.apache.hc.core5.http.io.HttpConnectionFactory;\n\npublic class CustomClientConfig {\n    public static void main(String[] args) {\n        int bufferSize = 0;\n        Http1Config customHttpConfig = Http1Config.custom().setBufferSize(bufferSize).build();\n        HttpConnectionFactory&lt;ManagedHttpClientConnection&gt; connectionFactory =\n                ManagedHttpClientConnectionFactory.builder().\n                        http1Config(customHttpConfig).build();\n        BasicHttpClientConnectionManager connectionManager = new BasicHttpClientConnectionManager(\n                getDefaultRegistry(), connectionFactory);\n        CloseableHttpClient httpclient = HttpClientBuilder.create()\n                .setConnectionManager(connectionManager).build();\n    }\n\n    // copy from BasicHttpClientConnectionManager\n    private static Registry&lt;ConnectionSocketFactory&gt; getDefaultRegistry() {\n        return RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                .register(URIScheme.HTTP.id, PlainConnectionSocketFactory.getSocketFactory())\n                .register(URIScheme.HTTPS.id, SSLConnectionSocketFactory.getSocketFactory())\n                .build();\n    }\n\n}\n</code></pre>\n<p>You may also want to take a look on the <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/migration-guide/index.html\" rel=\"nofollow noreferrer\">migration guide</a></p>\n"}],"owner":{"account_id":4370435,"reputation":21,"user_id":3564987,"display_name":"sweet_popcorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653058684,"creation_date":1652992069,"question_id":72310725,"body_markdown":"I would like to migrate to Apache HttpClient 5 for one of the project I am working on. However I am facing a small issue:\r\n\r\nWith HttpClient 4 we were able to set the bufferSize by setting the defaultConnectionConfig:\r\n\r\n    HttpClientBuilder.create().setDefaultConnectionConfig(ConnectionConfig.custom().setBufferSize(myBufferSize).build());\r\n\r\nUnfortunately I am not able to find that option with HttpClient 5. Is it still possible with the new version or do I need to stick with HttpClient 4? Thanks !\r\n\r\n","title":"How to set bufferSize with Apache HttpClient5?","body":"<p>I would like to migrate to Apache HttpClient 5 for one of the project I am working on. However I am facing a small issue:</p>\n<p>With HttpClient 4 we were able to set the bufferSize by setting the defaultConnectionConfig:</p>\n<pre><code>HttpClientBuilder.create().setDefaultConnectionConfig(ConnectionConfig.custom().setBufferSize(myBufferSize).build());\n</code></pre>\n<p>Unfortunately I am not able to find that option with HttpClient 5. Is it still possible with the new version or do I need to stick with HttpClient 4? Thanks !</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":8,"creation_date":1652212448,"post_id":72192193,"comment_id":127551188,"body_markdown":"Use a do-while loop instead, that way you have to enter the loop every time, so you don&#39;t need the before-the-loop `scan.nextLine()` call. (You will then need to check whether the input is &quot;a&quot; or &quot;b&quot; before printing it to the console.)","body":"Use a do-while loop instead, that way you have to enter the loop every time, so you don&#39;t need the before-the-loop <code>scan.nextLine()</code> call. (You will then need to check whether the input is &quot;a&quot; or &quot;b&quot; before printing it to the console.)"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1652212519,"post_id":72192193,"comment_id":127551207,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html</a>"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652556677,"post_id":72192193,"comment_id":127636528,"body_markdown":"Do you expect the user to hit the enter after each input? If yes, it will append an &#39;\\n&#39; char. If no, the answer may include just reading each char by nextChar() method. My answer will change according to that. Also, do you expect the user to enter only one char at a time? Please give more details about the input.","body":"Do you expect the user to hit the enter after each input? If yes, it will append an &#39;\\n&#39; char. If no, the answer may include just reading each char by nextChar() method. My answer will change according to that. Also, do you expect the user to enter only one char at a time? Please give more details about the input."}],"answers":[{"tags":[],"owner":{"account_id":216101,"reputation":24294,"user_id":471129,"display_name":"Erik Eidt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1652556166,"creation_date":1652302463,"answer_id":72207490,"question_id":72192193,"body_markdown":"```\r\n    while (true) {\r\n        System.out.print(&quot;Enter a letter: &quot;);\r\n        String letter = scan.nextLine();\r\n        if (!letter.equals(&quot;a&quot;) &amp;&amp; !letter.equals(&quot;b&quot;))\r\n            break;\r\n        System.out.println(&quot;You entered: &quot; + letter);\r\n    }\r\n```\r\n\r\nThis is the classic example of a loop that is neither naturally while-do nor do-while &amp;#8212; it needs to exit from the middle, if you want the same behavior and also to reduce code duplication.\r\n\r\n(Notice also that the variable declaration `letter` has been moved to an inner scope since it is no longer needed in the outer scope.&amp;nbsp; This is a small positive indication.)\r\n\r\nAs an alternative to `while (true)` some languages allow degenerate for-loop as in `for(;;)`.\r\n\r\n---\r\n\r\nThe below reverses the logic of the conditional loop exit test, at the expense of more control flow logic.\r\n\r\n```\r\n    while (true) {\r\n        System.out.print(&quot;Enter a letter: &quot;);\r\n        String letter = scan.nextLine();\r\n        if (letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;)) {\r\n            System.out.println(&quot;You entered: &quot; + letter);\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n```\r\n\r\n(There is no difference between these in efficiency terms &amp;#8212; these are equivalent at the level of machine code.)\r\n","title":"How to re-write an input loop to not contain code repetition?","body":"<pre><code>    while (true) {\n        System.out.print(&quot;Enter a letter: &quot;);\n        String letter = scan.nextLine();\n        if (!letter.equals(&quot;a&quot;) &amp;&amp; !letter.equals(&quot;b&quot;))\n            break;\n        System.out.println(&quot;You entered: &quot; + letter);\n    }\n</code></pre>\n<p>This is the classic example of a loop that is neither naturally while-do nor do-while  it needs to exit from the middle, if you want the same behavior and also to reduce code duplication.</p>\n<p>(Notice also that the variable declaration <code>letter</code> has been moved to an inner scope since it is no longer needed in the outer scope. This is a small positive indication.)</p>\n<p>As an alternative to <code>while (true)</code> some languages allow degenerate for-loop as in <code>for(;;)</code>.</p>\n<hr />\n<p>The below reverses the logic of the conditional loop exit test, at the expense of more control flow logic.</p>\n<pre><code>    while (true) {\n        System.out.print(&quot;Enter a letter: &quot;);\n        String letter = scan.nextLine();\n        if (letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;)) {\n            System.out.println(&quot;You entered: &quot; + letter);\n            continue;\n        }\n        break;\n    }\n</code></pre>\n<p>(There is no difference between these in efficiency terms  these are equivalent at the level of machine code.)</p>\n"},{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652469408,"creation_date":1652469408,"answer_id":72234477,"question_id":72192193,"body_markdown":"Simply&lt;br&gt;\r\n\r\n    List&lt;Character&gt; expectedChars = new ArrayList&lt;&gt;();\r\n    expectedChars.add(&#39;a&#39;);\r\n    expectedChars.add(&#39;b&#39;);\r\n    while(!expectedChars.contains(line = scan.nextLine())) {\r\n    System.out.println(&quot;Not expected&quot;);\r\n    }\r\n\r\n    // Now has a expected char. Proceed.","title":"How to re-write an input loop to not contain code repetition?","body":"<p>Simply<br></p>\n<pre><code>List&lt;Character&gt; expectedChars = new ArrayList&lt;&gt;();\nexpectedChars.add('a');\nexpectedChars.add('b');\nwhile(!expectedChars.contains(line = scan.nextLine())) {\nSystem.out.println(&quot;Not expected&quot;);\n}\n\n// Now has a expected char. Proceed.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16761379,"reputation":184,"user_id":12116036,"display_name":"Michael Bugglin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652470605,"creation_date":1652470605,"answer_id":72234636,"question_id":72192193,"body_markdown":"As Bobulous mentioned, a do-while loop is another simple solution. If duplicating the conditional is still a deal-breaker for you, though, you can also create a function that returns a boolean, and, when true, prints the extra text.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        String letter;\r\n        \r\n        do\r\n        {\r\n            System.out.print(&quot;Enter a letter: &quot;);\r\n            letter = scan.nextLine();\r\n        } while(inputIsAOrB(letter));\r\n    }\r\n\r\n    public static boolean inputIsAOrB(String input) {\r\n        if (input.equals(&quot;a&quot;) || input.equals(&quot;b&quot;))\r\n        {\r\n            System.out.println(&quot;You entered: &quot; + input);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }","title":"How to re-write an input loop to not contain code repetition?","body":"<p>As Bobulous mentioned, a do-while loop is another simple solution. If duplicating the conditional is still a deal-breaker for you, though, you can also create a function that returns a boolean, and, when true, prints the extra text.</p>\n<pre><code>public static void main(String[] args)\n{\n    Scanner scan = new Scanner(System.in);\n    \n    String letter;\n    \n    do\n    {\n        System.out.print(&quot;Enter a letter: &quot;);\n        letter = scan.nextLine();\n    } while(inputIsAOrB(letter));\n}\n\npublic static boolean inputIsAOrB(String input) {\n    if (input.equals(&quot;a&quot;) || input.equals(&quot;b&quot;))\n    {\n        System.out.println(&quot;You entered: &quot; + input);\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652542572,"creation_date":1652536355,"answer_id":72240862,"question_id":72192193,"body_markdown":"You need to perform *three sequential actions* in a loop:\r\n* *read* the input entered by the user;\r\n* *validate* the input;\r\n* *print* the input, but only if it is valid.\r\n\r\nThat means that conditional logic must reside **inside** the *loop* before the statement that prints the input. And that makes the condition of the loop redundant. Instead, we can create an infinite loop with a `break` statement wrapped by a condition, that validates the input.\r\n\r\n&lt;h3&gt;While loop&lt;/h3&gt;\r\n\r\nThat&#39;s how it can be done using a `while` loop:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        String letter;\r\n        \r\n        while (true) {\r\n            System.out.print(&quot;Enter a letter: &quot;);\r\n            letter = scan.nextLine();\r\n            if (!letter.matches(&quot;[ab]&quot;)) break;\r\n            System.out.println(&quot;You entered: &quot; + letter);\r\n        }\r\n    }\r\n\r\nMethod [`matches()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)) that expects a regular expression as argument is used in the code above to simplify the termination condition.\r\n\r\n*For more information on regular expressions, take a look at this* [*tutorial*](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)\r\n\r\n_____________________________________________\r\n\r\n&lt;h3&gt;For loop&lt;/h3&gt;\r\n\r\nRegarding the advice of utilizing a `for` loop - that&#39;s doable, but by its nature the task of reading the user input fits better in the concept of `while` loop because we don&#39;t know the amount of data in advance, and the iteration can terminate at any point in time.\r\n\r\nAlso note syntax of the [`for` statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) consists of three parts separated with a semicolon:\r\n* *initialization expression* - allow to define and initialize variables that would be used in the loop;\r\n* *termination expression* - condition which terminates the execution of the loop;\r\n* *increment expression* - defines how variables would change at each iteration step.\r\n\r\nAll these parts are optional, but the two semicolons `;` inside the parentheses always have to be present.\r\n\r\nBecause as I&#39;ve said earlier, the input needs to be validated inside the loop, we can&#39;t take advantage from the *termination expression* and *increment expression*.\r\n\r\nFor the sake of completeness, below I&#39;ve provided the version of how it can be achieved using a `for` loop:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        for (String letter = &quot;a&quot;; ;) {\r\n            System.out.print(&quot;Enter a letter: &quot;);\r\n            letter = scan.nextLine();\r\n            if (!letter.matches(&quot;[ab]&quot;)) break;\r\n            System.out.println(&quot;You entered: &quot; + letter);\r\n        }\r\n    }\r\n\r\nThe only advantage is that the scope of the variable letter was reduced. But approach of utilizing `while` loop is more readable and expressive.\r\n\r\n&lt;h3&gt;Alternative approach&lt;/h3&gt;\r\n\r\nAnother option is to preserve your initial structure of the code:\r\n* initialize the variable `letter` before the loop, at the same line where it is defined;\r\n* enter the loop if `letter` holds a valid input;\r\n* print the input and reassign the variable.\r\n\r\nBut in order to avoid duplication of the code line responsible for printing the prompt and reading the input will be extracted into a separate method.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        String letter = readInput(scan);\r\n\r\n        while (letter.matches(&quot;[ab]&quot;)) {\r\n            System.out.println(&quot;You entered: &quot; + letter);            \r\n            letter = readInput(scan);\r\n        }\r\n    }\r\n\r\n    public static String readInput(Scanner scan) {\r\n        System.out.print(&quot;Enter a letter: &quot;);\r\n        return scan.nextLine();\r\n    }","title":"How to re-write an input loop to not contain code repetition?","body":"<p>You need to perform <em>three sequential actions</em> in a loop:</p>\n<ul>\n<li><em>read</em> the input entered by the user;</li>\n<li><em>validate</em> the input;</li>\n<li><em>print</em> the input, but only if it is valid.</li>\n</ul>\n<p>That means that conditional logic must reside <strong>inside</strong> the <em>loop</em> before the statement that prints the input. And that makes the condition of the loop redundant. Instead, we can create an infinite loop with a <code>break</code> statement wrapped by a condition, that validates the input.</p>\n<h3>While loop</h3>\n<p>That's how it can be done using a <code>while</code> loop:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    \n    String letter;\n    \n    while (true) {\n        System.out.print(&quot;Enter a letter: &quot;);\n        letter = scan.nextLine();\n        if (!letter.matches(&quot;[ab]&quot;)) break;\n        System.out.println(&quot;You entered: &quot; + letter);\n    }\n}\n</code></pre>\n<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>matches()</code></a> that expects a regular expression as argument is used in the code above to simplify the termination condition.</p>\n<p><em>For more information on regular expressions, take a look at this</em> <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\"><em>tutorial</em></a></p>\n<hr />\n<h3>For loop</h3>\n<p>Regarding the advice of utilizing a <code>for</code> loop - that's doable, but by its nature the task of reading the user input fits better in the concept of <code>while</code> loop because we don't know the amount of data in advance, and the iteration can terminate at any point in time.</p>\n<p>Also note syntax of the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\"><code>for</code> statement</a> consists of three parts separated with a semicolon:</p>\n<ul>\n<li><em>initialization expression</em> - allow to define and initialize variables that would be used in the loop;</li>\n<li><em>termination expression</em> - condition which terminates the execution of the loop;</li>\n<li><em>increment expression</em> - defines how variables would change at each iteration step.</li>\n</ul>\n<p>All these parts are optional, but the two semicolons <code>;</code> inside the parentheses always have to be present.</p>\n<p>Because as I've said earlier, the input needs to be validated inside the loop, we can't take advantage from the <em>termination expression</em> and <em>increment expression</em>.</p>\n<p>For the sake of completeness, below I've provided the version of how it can be achieved using a <code>for</code> loop:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    \n    for (String letter = &quot;a&quot;; ;) {\n        System.out.print(&quot;Enter a letter: &quot;);\n        letter = scan.nextLine();\n        if (!letter.matches(&quot;[ab]&quot;)) break;\n        System.out.println(&quot;You entered: &quot; + letter);\n    }\n}\n</code></pre>\n<p>The only advantage is that the scope of the variable letter was reduced. But approach of utilizing <code>while</code> loop is more readable and expressive.</p>\n<h3>Alternative approach</h3>\n<p>Another option is to preserve your initial structure of the code:</p>\n<ul>\n<li>initialize the variable <code>letter</code> before the loop, at the same line where it is defined;</li>\n<li>enter the loop if <code>letter</code> holds a valid input;</li>\n<li>print the input and reassign the variable.</li>\n</ul>\n<p>But in order to avoid duplication of the code line responsible for printing the prompt and reading the input will be extracted into a separate method.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n\n    String letter = readInput(scan);\n\n    while (letter.matches(&quot;[ab]&quot;)) {\n        System.out.println(&quot;You entered: &quot; + letter);            \n        letter = readInput(scan);\n    }\n}\n\npublic static String readInput(Scanner scan) {\n    System.out.print(&quot;Enter a letter: &quot;);\n    return scan.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653058457,"creation_date":1652703520,"answer_id":72259102,"question_id":72192193,"body_markdown":"You can also view the problem as generating and processing a stream of strings. The side effects in the generator may trigger some philosophical discussions, otherwise I think it is quite clean:\r\n\r\n    Stream.generate(() -&gt; {\r\n              System.out.print(&quot;Enter a letter: &quot;);\r\n              return scan.nextLine();\r\n          })\r\n          .takeWhile(str -&gt; str.equals(&quot;a&quot;) || str.equals(&quot;b&quot;))\r\n          .forEach(str -&gt; System.out.println(&quot;You entered: &quot; + str));\r\n\r\n... which will run like this:\r\n\r\n    Enter a letter: a\r\n    You entered: a\r\n    Enter a letter: b\r\n    You entered: b\r\n    Enter a letter: c\r\n\r\n    Process finished with exit code 0\r\n","title":"How to re-write an input loop to not contain code repetition?","body":"<p>You can also view the problem as generating and processing a stream of strings. The side effects in the generator may trigger some philosophical discussions, otherwise I think it is quite clean:</p>\n<pre><code>Stream.generate(() -&gt; {\n          System.out.print(&quot;Enter a letter: &quot;);\n          return scan.nextLine();\n      })\n      .takeWhile(str -&gt; str.equals(&quot;a&quot;) || str.equals(&quot;b&quot;))\n      .forEach(str -&gt; System.out.println(&quot;You entered: &quot; + str));\n</code></pre>\n<p>... which will run like this:</p>\n<pre><code>Enter a letter: a\nYou entered: a\nEnter a letter: b\nYou entered: b\nEnter a letter: c\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652720999,"creation_date":1652720999,"answer_id":72263063,"question_id":72192193,"body_markdown":"I without using any `break` or `if-else` externally (I am using ternary operator though) within control loop, you can also use below :\r\n   \r\n    Scanner scanner = new Scanner(System.in);\r\n    boolean flag=true;\r\n    \t\twhile (flag) {\r\n    \t\t\tSystem.out.println(&quot;enter letter&quot;);\r\n    \t\t\tString bv = scanner.nextLine();\r\n    \t\t\tflag=bv.matches(&quot;a|b&quot;);\r\n    \t\t\tSystem.out.println(flag?&quot;you entered&quot;+bv:&#39; &#39;);\r\n    }\r\n\r\nwith for loop, it can be even simpler :\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    \t\tfor (boolean flag = true; flag;) {\r\n    \t\t\tSystem.out.println(&quot;enter letter&quot;);\r\n    \t\t\tString bv = scanner.nextLine();\r\n    \t\t\tflag = bv.matches(&quot;a|b&quot;);\r\n    \t\t\tSystem.out.println(flag ? &quot;you entered&quot; + bv : &#39; &#39;);\r\n    \t\t}\r\n\r\n\r\nOr if you ok for having whitspace for first run:\r\n\r\n       Scanner scanner = new Scanner(System.in);\r\n       String aa=&quot; &quot;;\r\n       String bv=null;\r\n    \tfor (boolean flag = true; flag;aa=(flag?&quot;you entered: &quot;+bv:&quot; &quot;)) {\r\n    \t\t\tSystem.out.println(aa);\r\n    \t\t\tSystem.out.println(&quot;enter letter&quot;);\r\n    \t\t\tbv = scanner.nextLine();\r\n    \t\t\tflag = bv.matches(&quot;a|b&quot;);\r\n    \t\t}\r\n\r\n","title":"How to re-write an input loop to not contain code repetition?","body":"<p>I without using any <code>break</code> or <code>if-else</code> externally (I am using ternary operator though) within control loop, you can also use below :</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nboolean flag=true;\n        while (flag) {\n            System.out.println(&quot;enter letter&quot;);\n            String bv = scanner.nextLine();\n            flag=bv.matches(&quot;a|b&quot;);\n            System.out.println(flag?&quot;you entered&quot;+bv:' ');\n}\n</code></pre>\n<p>with for loop, it can be even simpler :</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n        for (boolean flag = true; flag;) {\n            System.out.println(&quot;enter letter&quot;);\n            String bv = scanner.nextLine();\n            flag = bv.matches(&quot;a|b&quot;);\n            System.out.println(flag ? &quot;you entered&quot; + bv : ' ');\n        }\n</code></pre>\n<p>Or if you ok for having whitspace for first run:</p>\n<pre><code>   Scanner scanner = new Scanner(System.in);\n   String aa=&quot; &quot;;\n   String bv=null;\n    for (boolean flag = true; flag;aa=(flag?&quot;you entered: &quot;+bv:&quot; &quot;)) {\n            System.out.println(aa);\n            System.out.println(&quot;enter letter&quot;);\n            bv = scanner.nextLine();\n            flag = bv.matches(&quot;a|b&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1652785633,"creation_date":1652785633,"answer_id":72272956,"question_id":72192193,"body_markdown":"## do while loop\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {   \r\n        public static void main(String[] args)\r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n\r\n            String letter;\r\n            \r\n            do{   \r\n                System.out.print(&quot;Enter a letter: &quot;);\r\n                letter = scan.nextLine();\r\n                System.out.println(&quot;You entered: &quot; + letter);\r\n    \r\n            }while(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;));\r\n        }\r\n    }\r\nIt will loop once first, and then continue again if the statment is true.","title":"How to re-write an input loop to not contain code repetition?","body":"<h2>do while loop</h2>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{   \n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n\n        String letter;\n        \n        do{   \n            System.out.print(&quot;Enter a letter: &quot;);\n            letter = scan.nextLine();\n            System.out.println(&quot;You entered: &quot; + letter);\n\n        }while(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;));\n    }\n}\n</code></pre>\n<p>It will loop once first, and then continue again if the statment is true.</p>\n"},{"tags":[],"owner":{"account_id":24349940,"reputation":101,"user_id":18285911,"display_name":"Tharindu Wickramasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652844719,"creation_date":1652844719,"answer_id":72282902,"question_id":72192193,"body_markdown":"You can easily run a while loop until letter = &quot;a&quot; or letter = &quot;b&quot;. Code will start the while loop with intial &quot;&quot; value of the letter and get the new value by scanner. Then it check the new value of the letter before starting the next round of the loop.\r\n\r\n    package com.company;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n    \r\n            String letter = &quot;&quot;;\r\n    \r\n            while(!(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;)))\r\n            {\r\n                System.out.print(&quot;Enter a letter: &quot;);\r\n                letter = scan.nextLine();\r\n                System.out.println(&quot;You entered: &quot; + letter);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n ","title":"How to re-write an input loop to not contain code repetition?","body":"<p>You can easily run a while loop until letter = &quot;a&quot; or letter = &quot;b&quot;. Code will start the while loop with intial &quot;&quot; value of the letter and get the new value by scanner. Then it check the new value of the letter before starting the next round of the loop.</p>\n<pre><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n\n        String letter = &quot;&quot;;\n\n        while(!(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;)))\n        {\n            System.out.print(&quot;Enter a letter: &quot;);\n            letter = scan.nextLine();\n            System.out.println(&quot;You entered: &quot; + letter);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25022790,"reputation":104,"user_id":18881310,"display_name":"Lemon891"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652884751,"creation_date":1652884751,"answer_id":72291246,"question_id":72192193,"body_markdown":"A while loop with a break after executing your second print command will limit the code to only asking for a single input.\r\n\r\n\r\n\r\n        Scanner ct = new Scanner(System.in);\r\n\r\n\t    String input;\r\n\r\n\t    System.out.print(&quot;Please enter either &#39;a&#39; or &#39;b&#39;: &quot;);\r\n\r\n\t    input = ct.nextLine();\r\n\r\n\t    while(input.equals(&quot;a&quot;) || input.equals(&quot;b&quot;)){\r\n\t        System.out.println(&quot;You entered: &quot; + input);\r\n\t        break;\r\n\t    }","title":"How to re-write an input loop to not contain code repetition?","body":"<p>A while loop with a break after executing your second print command will limit the code to only asking for a single input.</p>\n<pre><code>    Scanner ct = new Scanner(System.in);\n\n    String input;\n\n    System.out.print(&quot;Please enter either 'a' or 'b': &quot;);\n\n    input = ct.nextLine();\n\n    while(input.equals(&quot;a&quot;) || input.equals(&quot;b&quot;)){\n        System.out.println(&quot;You entered: &quot; + input);\n        break;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652946587,"creation_date":1652946587,"answer_id":72300624,"question_id":72192193,"body_markdown":"Similar as previous answer, but from a code readability perspective i would create an array of valid characters instead and use in condition. That results in the more &quot;text like&quot; condition below reading &quot;if not validCharacters contains letter&quot;:\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    List&lt;String&gt; validCharacters = List.of(&quot;a&quot;, &quot;b&quot;);\r\n\r\n    while (true) {\r\n      System.out.print(&quot;Enter a letter: &quot;);\r\n      String letter = scan.nextLine();\r\n      if (!validCharacters.contains(letter)) {\r\n        break;\r\n      }\r\n      System.out.println(&quot;You entered: &quot; + letter);\r\n    }\r\n  }\r\n```","title":"How to re-write an input loop to not contain code repetition?","body":"<p>Similar as previous answer, but from a code readability perspective i would create an array of valid characters instead and use in condition. That results in the more &quot;text like&quot; condition below reading &quot;if not validCharacters contains letter&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    List&lt;String&gt; validCharacters = List.of(&quot;a&quot;, &quot;b&quot;);\n\n    while (true) {\n      System.out.print(&quot;Enter a letter: &quot;);\n      String letter = scan.nextLine();\n      if (!validCharacters.contains(letter)) {\n        break;\n      }\n      System.out.println(&quot;You entered: &quot; + letter);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6245037,"reputation":30,"user_id":4857305,"display_name":"Arsal Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653028280,"creation_date":1653028280,"answer_id":72314486,"question_id":72192193,"body_markdown":"Your code just needed a little tweak to make it work, although you can use many more efficient approaches but here it is:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {   \r\n        public static void main(String[] args)\r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n            \r\n            String letter = &quot;a&quot;;\r\n            \r\n            while(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;))\r\n            {\r\n                \r\n                System.out.print(&quot;Enter a letter: &quot;);\r\n                letter = scan.nextLine();\r\n                System.out.println(&quot;You entered: &quot; + letter);\r\n                \r\n            }\r\n        }\r\n    }","title":"How to re-write an input loop to not contain code repetition?","body":"<p>Your code just needed a little tweak to make it work, although you can use many more efficient approaches but here it is:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{   \n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n        \n        String letter = &quot;a&quot;;\n        \n        while(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;))\n        {\n            \n            System.out.print(&quot;Enter a letter: &quot;);\n            letter = scan.nextLine();\n            System.out.println(&quot;You entered: &quot; + letter);\n            \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5796659,"reputation":211,"user_id":8041827,"accept_rate":50,"display_name":"user247763"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":11,"score":2,"last_activity_date":1653058457,"creation_date":1652212168,"question_id":72192193,"body_markdown":"I have the following code, which continues to ask the user to enter a letter as long as the letter is either &quot;a&quot; or &quot;b&quot;:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {\t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tString letter;\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter a letter: &quot;);\r\n    \t\tletter = scan.nextLine();\r\n    \t\t\r\n    \t\twhile(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;))\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;You entered: &quot; + letter);\r\n    \t\t\t\r\n    \t\t\tSystem.out.print(&quot;Enter a letter: &quot;);\r\n    \t\t\tletter = scan.nextLine();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBut the following code is repeated twice:\r\n\r\n    System.out.print(&quot;Enter a letter: &quot;);\r\n    letter = scan.nextLine();\r\n\r\nIs there a way to make the above code only appear one time?","title":"How to re-write an input loop to not contain code repetition?","body":"<p>I have the following code, which continues to ask the user to enter a letter as long as the letter is either &quot;a&quot; or &quot;b&quot;:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{   \n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n        \n        String letter;\n        \n        System.out.print(&quot;Enter a letter: &quot;);\n        letter = scan.nextLine();\n        \n        while(letter.equals(&quot;a&quot;) || letter.equals(&quot;b&quot;))\n        {\n            System.out.println(&quot;You entered: &quot; + letter);\n            \n            System.out.print(&quot;Enter a letter: &quot;);\n            letter = scan.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>But the following code is repeated twice:</p>\n<pre><code>System.out.print(&quot;Enter a letter: &quot;);\nletter = scan.nextLine();\n</code></pre>\n<p>Is there a way to make the above code only appear one time?</p>\n"},{"tags":["java","html","intellij-idea","spring-security","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653058405,"creation_date":1653058405,"answer_id":72320982,"question_id":72307014,"body_markdown":"OK, I found the answer to my question and checked that it works. So if anyone needs it here it is:\r\n\r\nWe upload the information once, in a session or Cookie (I used a session) and then use thymeleaf to get it from any page.","title":"How to display the user&#39;s nickname in the header","body":"<p>OK, I found the answer to my question and checked that it works. So if anyone needs it here it is:</p>\n<p>We upload the information once, in a session or Cookie (I used a session) and then use thymeleaf to get it from any page.</p>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653058405,"creation_date":1652973032,"question_id":72307014,"body_markdown":"Actually, a more general question is how to display dynamic information loaded from the outside in an embedded page such as header and Footer.\r\n\r\nI call a regular page using the controller and send information to this page through the model.\r\nAnd I include the header and footer in it in this way.\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;ru&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;3d_shop&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/static/css/common/styles.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;margin: 0&quot;&gt;\r\n        &lt;div class=&quot;page&quot;&gt;\r\n            &lt;header th:insert=&quot;~{other/fragments :: header}&quot;&gt;&lt;/header&gt;\r\n     \r\n                &lt;main style=&quot;margin-left: 10%; margin-right: 10%;&quot;&gt;\r\n                &lt;h2&gt; Welcome! &lt;/h2&gt;\r\n                &lt;button&gt;Text&lt;/button&gt;\r\n                &lt;div&gt;\r\n                    &lt;p&gt;\r\n                        ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                    &lt;/p&gt;\r\n                &lt;/div&gt;\r\n     \r\n                &lt;div class=&quot;center_frame&quot;&gt;&lt;/div&gt;\r\n            &lt;/main&gt;\r\n     \r\n            &lt;footer th:insert=&quot;~{other/fragments :: footer}&quot; style=&quot;margin-top: auto;&quot; &gt;&lt;/footer&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nSince the Header is embedded in all pages of the site, it turns out that it somehow has to download the necessary information from the server independently every time any page is loaded if the user is logged in. Since the Header is embedded in all pages of the site, it turns out that it somehow has to download the necessary information from the server independently every time any page is loaded if the user is logged in. Or somehow save it in the context or session so as not to receive it every time from the server. Thank you to all who answered.","title":"How to display the user&#39;s nickname in the header","body":"<p>Actually, a more general question is how to display dynamic information loaded from the outside in an embedded page such as header and Footer.</p>\n<p>I call a regular page using the controller and send information to this page through the model.\nAnd I include the header and footer in it in this way.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;ru&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;3d_shop&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/static/css/common/styles.css&quot;&gt;\n&lt;/head&gt;\n&lt;body style=&quot;margin: 0&quot;&gt;\n    &lt;div class=&quot;page&quot;&gt;\n        &lt;header th:insert=&quot;~{other/fragments :: header}&quot;&gt;&lt;/header&gt;\n \n            &lt;main style=&quot;margin-left: 10%; margin-right: 10%;&quot;&gt;\n            &lt;h2&gt; Welcome! &lt;/h2&gt;\n            &lt;button&gt;Text&lt;/button&gt;\n            &lt;div&gt;\n                &lt;p&gt;\n                    ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                &lt;/p&gt;\n            &lt;/div&gt;\n \n            &lt;div class=&quot;center_frame&quot;&gt;&lt;/div&gt;\n        &lt;/main&gt;\n \n        &lt;footer th:insert=&quot;~{other/fragments :: footer}&quot; style=&quot;margin-top: auto;&quot; &gt;&lt;/footer&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Since the Header is embedded in all pages of the site, it turns out that it somehow has to download the necessary information from the server independently every time any page is loaded if the user is logged in. Since the Header is embedded in all pages of the site, it turns out that it somehow has to download the necessary information from the server independently every time any page is loaded if the user is logged in. Or somehow save it in the context or session so as not to receive it every time from the server. Thank you to all who answered.</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"score":0,"creation_date":1652906664,"post_id":72293505,"comment_id":127723912,"body_markdown":"Your question is not clear, do you want to generate combinations from first two sets and store them in a Multimap, under what key?","body":"Your question is not clear, do you want to generate combinations from first two sets and store them in a Multimap, under what key?"},{"owner":{"account_id":464937,"reputation":824,"user_id":1459310,"accept_rate":91,"display_name":"kennethc"},"score":0,"creation_date":1653058407,"post_id":72293505,"comment_id":127765717,"body_markdown":"Sorry about the ambiguity. I posted an answer to clarify what I meant.","body":"Sorry about the ambiguity. I posted an answer to clarify what I meant."}],"answers":[{"tags":[],"owner":{"account_id":464937,"reputation":824,"user_id":1459310,"accept_rate":91,"display_name":"kennethc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653058388,"creation_date":1653058388,"answer_id":72320974,"question_id":72293505,"body_markdown":"Posting an answer to my question to clarify my question, and also suggest at least one way to do it.\r\n\r\n```\r\nList&lt;Set&lt;String&gt;&gt; groups = List.of(\r\n        ImmutableSet.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n        ImmutableSet.of(&quot;a&quot;, &quot;b&quot;)\r\n);\r\n\r\nvar meshMapBuilder = ImmutableMultimap.&lt;String, String&gt;builder();\r\n\r\ngroups.forEach(group -&gt; {\r\n    group.forEach(item -&gt; {\r\n        var groupExceptItem = group.stream()\r\n                .filter(x -&gt; !x.equals(item))\r\n                .collect(Collectors.toSet());\r\n        meshMapBuilder.putAll(item, groupExceptItem);\r\n    });\r\n});\r\n\r\nvar meshMap = meshMapBuilder.build();\r\n```","title":"How to create mesh map from list","body":"<p>Posting an answer to my question to clarify my question, and also suggest at least one way to do it.</p>\n<pre><code>List&lt;Set&lt;String&gt;&gt; groups = List.of(\n        ImmutableSet.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n        ImmutableSet.of(&quot;a&quot;, &quot;b&quot;)\n);\n\nvar meshMapBuilder = ImmutableMultimap.&lt;String, String&gt;builder();\n\ngroups.forEach(group -&gt; {\n    group.forEach(item -&gt; {\n        var groupExceptItem = group.stream()\n                .filter(x -&gt; !x.equals(item))\n                .collect(Collectors.toSet());\n        meshMapBuilder.putAll(item, groupExceptItem);\n    });\n});\n\nvar meshMap = meshMapBuilder.build();\n</code></pre>\n"}],"owner":{"account_id":464937,"reputation":824,"user_id":1459310,"accept_rate":91,"display_name":"kennethc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653058388,"creation_date":1652894598,"question_id":72293505,"body_markdown":"This is what I want at the end:\r\n```java\r\nMultimap&lt;String, String&gt; meshMap =\r\n    ImmutableMultimap.&lt;String, String&gt;builder()\r\n        .putAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)\r\n        .putAll(&quot;2&quot;, &quot;1&quot;, &quot;3&quot;)\r\n        .putAll(&quot;3&quot;, &quot;1&quot;, &quot;2&quot;)\r\n        .putAll(&quot;a&quot;, &quot;b&quot;)\r\n        .putAll(&quot;b&quot;, &quot;a&quot;)\r\n        .build();\r\n```\r\nIs there a way to do it more elegantly with stream() or another Guava helpers, using 2 lists?\r\n```java\r\nSet&lt;String&gt; group1 = ImmutableSet.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\nSet&lt;String&gt; group2 = ImmutableSet.of(&quot;a&quot;, &quot;b&quot;);\r\nMultimap&lt;String, String&gt; meshMap = // ???\r\n```\r\nI am using Java 8 but if better way is available only in newer version of Java, I would appreciate to learn that too.","title":"How to create mesh map from list","body":"<p>This is what I want at the end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, String&gt; meshMap =\n    ImmutableMultimap.&lt;String, String&gt;builder()\n        .putAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)\n        .putAll(&quot;2&quot;, &quot;1&quot;, &quot;3&quot;)\n        .putAll(&quot;3&quot;, &quot;1&quot;, &quot;2&quot;)\n        .putAll(&quot;a&quot;, &quot;b&quot;)\n        .putAll(&quot;b&quot;, &quot;a&quot;)\n        .build();\n</code></pre>\n<p>Is there a way to do it more elegantly with stream() or another Guava helpers, using 2 lists?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; group1 = ImmutableSet.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\nSet&lt;String&gt; group2 = ImmutableSet.of(&quot;a&quot;, &quot;b&quot;);\nMultimap&lt;String, String&gt; meshMap = // ???\n</code></pre>\n<p>I am using Java 8 but if better way is available only in newer version of Java, I would appreciate to learn that too.</p>\n"},{"tags":["java","string","parseint"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652981288,"post_id":72308775,"comment_id":127745360,"body_markdown":"&quot;if consider space/time thing&quot; what does that even means?","body":"&quot;if consider space/time thing&quot; what does that even means?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1652981355,"post_id":72308775,"comment_id":127745380,"body_markdown":"In the context of a network request, I think it&#39;s almost *certain* that this will be noise... but `String.valueOf(statusCode)` is the *cleanest* way to do it, IMO, because it says what you&#39;re trying to do: obtain the string representation of a value. You&#39;re not logically trying to perform any string concatenation.","body":"In the context of a network request, I think it&#39;s almost <i>certain</i> that this will be noise... but <code>String.valueOf(statusCode)</code> is the <i>cleanest</i> way to do it, IMO, because it says what you&#39;re trying to do: obtain the string representation of a value. You&#39;re not logically trying to perform any string concatenation."},{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1652981583,"post_id":72308775,"comment_id":127745461,"body_markdown":"There are lots of ways of converting an integer to a string, and no shared meaning for the word &quot;costly&quot;. Benchmark and decide which option works best for you: https://stackoverflow.com/questions/5071040/java-convert-integer-to-string","body":"There are lots of ways of converting an integer to a string, and no shared meaning for the word &quot;costly&quot;. Benchmark and decide which option works best for you: <a href=\"https://stackoverflow.com/questions/5071040/java-convert-integer-to-string\" title=\"java convert integer to string\">stackoverflow.com/questions/5071040/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652983751,"post_id":72308775,"comment_id":127746151,"body_markdown":"as Jon [wrote](https://stackoverflow.com/questions/72308775/is-converting-integer-to-string-by-appending-it-to-double-quotes-like-return#comment127745380_72308775), using `valueOf()` or, as I  prefer (for *reading*), `Integer.toString(statusCode)` is better to communicate what you want to accomplish. Concatenation is probably a little bit more *expensive* unless the compiler is smart enough to eliminate it (OPenJDK&#39;s does NOT), but I doubt the difference will be relevant compared to network performance","body":"as Jon <a href=\"https://stackoverflow.com/questions/72308775/is-converting-integer-to-string-by-appending-it-to-double-quotes-like-return#comment127745380_72308775\">wrote</a>, using <code>valueOf()</code> or, as I  prefer (for <i>reading</i>), <code>Integer.toString(statusCode)</code> is better to communicate what you want to accomplish. Concatenation is probably a little bit more <i>expensive</i> unless the compiler is smart enough to eliminate it (OPenJDK&#39;s does NOT), but I doubt the difference will be relevant compared to network performance"}],"answers":[{"tags":[],"owner":{"account_id":251690,"reputation":695,"user_id":1014752,"display_name":"Ramsay Domloge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652981430,"creation_date":1652981430,"answer_id":72308815,"question_id":72308775,"body_markdown":"No need - if you decompile the class file, you&#39;ll see that the compiler does this for you anyway. I think this makes the code very readable, however you might want to ask yourself why are you doing this anyway... if you are confident that returning a number as a string from a method is correct, this is a good way to do it, IMO.","title":"Is converting &quot;Integer to String&quot; by appending it to double quotes like &#39;return (&quot;&quot; + 2)&#39; costly operation? If yes, what is alternative?","body":"<p>No need - if you decompile the class file, you'll see that the compiler does this for you anyway. I think this makes the code very readable, however you might want to ask yourself why are you doing this anyway... if you are confident that returning a number as a string from a method is correct, this is a good way to do it, IMO.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652981455,"accepted_answer_id":72308815,"answer_count":1,"score":-1,"last_activity_date":1653058185,"creation_date":1652981244,"question_id":72308775,"body_markdown":"I have integer status response from a REST API. I need to return string, so I use it like\r\n\r\n    return &quot;&quot; + statusCode\r\n\r\nIs it fine way to do that or is it costly? Or should I use `String.valueOf()` or is there another alternative? ","title":"Is converting &quot;Integer to String&quot; by appending it to double quotes like &#39;return (&quot;&quot; + 2)&#39; costly operation? If yes, what is alternative?","body":"<p>I have integer status response from a REST API. I need to return string, so I use it like</p>\n<pre><code>return &quot;&quot; + statusCode\n</code></pre>\n<p>Is it fine way to do that or is it costly? Or should I use <code>String.valueOf()</code> or is there another alternative?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":8,"creation_date":1297711241,"post_id":4996280,"comment_id":5583110,"body_markdown":"can you explain what you mean a bit more?  Classes are objects, see http://download.oracle.com/javase/6/docs/api/java/lang/Class.html","body":"can you explain what you mean a bit more?  Classes are objects, see <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/lang/Class.html</a>"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":3,"creation_date":1297711259,"post_id":4996280,"comment_id":5583113,"body_markdown":"I don&#39;t really understand what you&#39;re saying. There is an object for every class... `ClassName.class`. The rest of your question is too vague to address.","body":"I don&#39;t really understand what you&#39;re saying. There is an object for every class... <code>ClassName.class</code>. The rest of your question is too vague to address."},{"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"score":2,"creation_date":1297711385,"post_id":4996280,"comment_id":5583129,"body_markdown":"They are first class objects.  What can you not do with them that you would like to?","body":"They are first class objects.  What can you not do with them that you would like to?"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1297712243,"post_id":4996280,"comment_id":5583296,"body_markdown":"What is the type variable T even giving you in the example above?  How would someone who has a parameterized reference to an `AsyncItemSearch` make use of T?  Why not pass an instance of the parser in directly, or less cleanly, an instance to the `Class` object for the parser so you can create one via Reflection?","body":"What is the type variable T even giving you in the example above?  How would someone who has a parameterized reference to an <code>AsyncItemSearch</code> make use of T?  Why not pass an instance of the parser in directly, or less cleanly, an instance to the <code>Class</code> object for the parser so you can create one via Reflection?"},{"owner":{"account_id":55184,"reputation":6213,"user_id":165198,"accept_rate":93,"display_name":"David K."},"score":0,"creation_date":1297712581,"post_id":4996280,"comment_id":5583366,"body_markdown":"@Mark Peters: This was the simplest example I could find. My point is that I don&#39;t want to add extra parameters to constructors of classes when they are not required. The logic of AsyncItemSearch has nothing to do with the instance of the parser and I&#39;m adding extra coupling for no reason, even the extra parameters to `BookSearch` are unnecessary but I have to pass them in to avoid thread affinity issues in android.","body":"@Mark Peters: This was the simplest example I could find. My point is that I don&#39;t want to add extra parameters to constructors of classes when they are not required. The logic of AsyncItemSearch has nothing to do with the instance of the parser and I&#39;m adding extra coupling for no reason, even the extra parameters to <code>BookSearch</code> are unnecessary but I have to pass them in to avoid thread affinity issues in android."},{"owner":{"account_id":226553,"reputation":3307,"user_id":487663,"accept_rate":69,"display_name":"Michael K"},"score":0,"creation_date":1297712765,"post_id":4996280,"comment_id":5583405,"body_markdown":"`public void doInBackground(Parser p, String ...);`","body":"<code>public void doInBackground(Parser p, String ...);</code>"}],"answers":[{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1297713446,"creation_date":1297711323,"answer_id":4996324,"question_id":4996280,"body_markdown":"Classes ARE first class objects in Java (of class Class). You can assign them to variables, pass around, return from function etc. I *think* you meant to ask some other question, but I am not sure what that question could be. Maybe something about erasure versus reification of generic types? An answer to that might be interesting. \r\n\r\nAn example of the cruft you keep writing could help.\r\n\r\nAlso, consider the difference between question like &#39;does X have a reason&#39; and &#39;does X have good uses&#39;.\r\n\r\n**EDIT:** (answering the comment: &quot;I have not seen a single example of classes being passed around&quot; (btw: I still thing it&#39;s a question about erasure versus reification, but this specific comment does not address it). I am surprised you have not. Passing classes in Java is very common. Few examples from really popular APIs that pop to my mind without thinking:\r\n\r\n - Hibernate / JPA entity manager looks up a mapped object on the basis of its class and its primary key; eg: &lt;code&gt;Invoice i = entityManager.find(Invoice.class, 12l)&lt;/code&gt;\r\n\r\n - GWT uses a special factory to inject classes that only exist in generated javascript (or otherwise parametrized); The method takes an instance of class to create; eg: &lt;code&gt;Resource res1 = GWT.create(MyResources.class);&lt;/code&gt;\r\n\r\n - Spring&#39;s ApplicationContext gives you beans based on the class you pass to getBean method; so you would do: &lt;code&gt;DataSource default = applicationContext.getBean(DataSource.class);&lt;/code&gt;\r\n\r\n - Class instances are used in the rare cases when C# would use reflection (and Java cannot, as it erases generic types at runtime); the pattern is sometimes called a &quot;class token&quot;\r\n\r\nIn most of cases above you will see class literal (as a first-class objects classes do have literals in Java) and not a dynamic call, but that is mostly because of the static nature of the language (and of programmers that use it). It is usually considered a good thing to know your types at compile-time.\r\n\r\nsince Java does not support generics at runtime, you cannot create a generic class on-the-fly. Which makes no difference, since you can create a non-generic class and use it as a generic one.\r\n\r\nAnswering the other comment: creating and modifying classes at runtime is used commonly, but mainly by Java infrastructure: application servers, libraries. Look at JMockit. You can actually modify an existing class or replace its methods on-the-fly for a duration of a method call.","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>Classes ARE first class objects in Java (of class Class). You can assign them to variables, pass around, return from function etc. I <em>think</em> you meant to ask some other question, but I am not sure what that question could be. Maybe something about erasure versus reification of generic types? An answer to that might be interesting. </p>\n\n<p>An example of the cruft you keep writing could help.</p>\n\n<p>Also, consider the difference between question like 'does X have a reason' and 'does X have good uses'.</p>\n\n<p><strong>EDIT:</strong> (answering the comment: \"I have not seen a single example of classes being passed around\" (btw: I still thing it's a question about erasure versus reification, but this specific comment does not address it). I am surprised you have not. Passing classes in Java is very common. Few examples from really popular APIs that pop to my mind without thinking:</p>\n\n<ul>\n<li><p>Hibernate / JPA entity manager looks up a mapped object on the basis of its class and its primary key; eg: <code>Invoice i = entityManager.find(Invoice.class, 12l)</code></p></li>\n<li><p>GWT uses a special factory to inject classes that only exist in generated javascript (or otherwise parametrized); The method takes an instance of class to create; eg: <code>Resource res1 = GWT.create(MyResources.class);</code></p></li>\n<li><p>Spring's ApplicationContext gives you beans based on the class you pass to getBean method; so you would do: <code>DataSource default = applicationContext.getBean(DataSource.class);</code></p></li>\n<li><p>Class instances are used in the rare cases when C# would use reflection (and Java cannot, as it erases generic types at runtime); the pattern is sometimes called a \"class token\"</p></li>\n</ul>\n\n<p>In most of cases above you will see class literal (as a first-class objects classes do have literals in Java) and not a dynamic call, but that is mostly because of the static nature of the language (and of programmers that use it). It is usually considered a good thing to know your types at compile-time.</p>\n\n<p>since Java does not support generics at runtime, you cannot create a generic class on-the-fly. Which makes no difference, since you can create a non-generic class and use it as a generic one.</p>\n\n<p>Answering the other comment: creating and modifying classes at runtime is used commonly, but mainly by Java infrastructure: application servers, libraries. Look at JMockit. You can actually modify an existing class or replace its methods on-the-fly for a duration of a method call.</p>\n"},{"tags":[],"owner":{"account_id":41095,"reputation":14067,"user_id":119365,"accept_rate":61,"display_name":"Peter Recore"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1297712524,"creation_date":1297712187,"answer_id":4996450,"question_id":4996280,"body_markdown":"I don&#39;t think your question is really about Classes being &quot;first class&quot; objects.  I suspect it really has to do with how java handles generics.\r\nI think you need to understand type erasure:  in your example you essentially want to write something like\r\n\r\n    void foo&lt;T&gt;{\r\n      T bar = new T();\r\n    }\r\n\r\nbut this is not possible, because at run time, there is no information about what class T actually is, due to [type erasure][1]:\r\n\r\n&gt; When a generic type is instantiated,\r\n&gt; the compiler translates those types by\r\n&gt; a technique called type erasure  a\r\n&gt; process where the compiler removes all\r\n&gt; information related to type parameters\r\n&gt; and type arguments within a class or\r\n&gt; method. Type erasure enables Java\r\n&gt; applications that use generics to\r\n&gt; maintain binary compatibility with\r\n&gt; Java libraries and applications that\r\n&gt; were created before generics.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>I don't think your question is really about Classes being \"first class\" objects.  I suspect it really has to do with how java handles generics.\nI think you need to understand type erasure:  in your example you essentially want to write something like</p>\n\n<pre><code>void foo&lt;T&gt;{\n  T bar = new T();\n}\n</code></pre>\n\n<p>but this is not possible, because at run time, there is no information about what class T actually is, due to <a href=\"http://download.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">type erasure</a>:</p>\n\n<blockquote>\n  <p>When a generic type is instantiated,\n  the compiler translates those types by\n  a technique called type erasure  a\n  process where the compiler removes all\n  information related to type parameters\n  and type arguments within a class or\n  method. Type erasure enables Java\n  applications that use generics to\n  maintain binary compatibility with\n  Java libraries and applications that\n  were created before generics.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297713078,"creation_date":1297713078,"answer_id":4996573,"question_id":4996280,"body_markdown":"Classes are first class. They are objects of the class Class&lt;T&gt;. They can be assigned to variables and fields, passed as arguments, and even created dynamically.\r\n\r\nThe problem you are having is generic types are not reified, they are only visible at compile time. Additionally, because constructors are not inherited, unless you know exactly which class you want to create, you can&#39;t know if the constructor with the desired arguments exists. One way to work around the problem you are having is to pass in a factory class.\r\n\r\n    public class AsyncItemSearch&lt;T extends GenericItemSearch&lt;S&gt;,S extends GenericItem&gt; extends AsyncTask&lt;String,T,Void&gt; {\r\n    \r\n        public ListView list;\r\n        public AmazonItemAdapter&lt;S&gt; adapter;\r\n        public GenericItemSearchFactory&lt;T&gt; factory;\r\n        public AsyncBookSearch(ListView l,AmazonItemAdapter&lt;S&gt; ad, GenericItemSearchFactory&lt;T&gt; factory) {\r\n            list = l;\r\n            adapter = ad;\r\n            this.factory = factory;\r\n        }\r\n    \r\n        @Override\r\n        protected Void doInBackground(String... keywords) {\r\n            this.factory.getInstance(keywords[0],list,adapter).parse();\r\n            return null;\r\n        }\r\n    }\r\n","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>Classes are first class. They are objects of the class Class. They can be assigned to variables and fields, passed as arguments, and even created dynamically.</p>\n\n<p>The problem you are having is generic types are not reified, they are only visible at compile time. Additionally, because constructors are not inherited, unless you know exactly which class you want to create, you can't know if the constructor with the desired arguments exists. One way to work around the problem you are having is to pass in a factory class.</p>\n\n<pre><code>public class AsyncItemSearch&lt;T extends GenericItemSearch&lt;S&gt;,S extends GenericItem&gt; extends AsyncTask&lt;String,T,Void&gt; {\n\n    public ListView list;\n    public AmazonItemAdapter&lt;S&gt; adapter;\n    public GenericItemSearchFactory&lt;T&gt; factory;\n    public AsyncBookSearch(ListView l,AmazonItemAdapter&lt;S&gt; ad, GenericItemSearchFactory&lt;T&gt; factory) {\n        list = l;\n        adapter = ad;\n        this.factory = factory;\n    }\n\n    @Override\n    protected Void doInBackground(String... keywords) {\n        this.factory.getInstance(keywords[0],list,adapter).parse();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297713945,"creation_date":1297713945,"answer_id":4996714,"question_id":4996280,"body_markdown":"I would not consider classes to be first class object, instead I would say that `Class` is a part of the reflection API, since you can not use it as freely as in other, more dynamic languages. I.e. you can&#39;t create new instances without reflection.\r\n\r\nThe main reason is the meta model of java. You can&#39;t overwrite static methods, and a constructor that exists in a class does not necessarily exist in its subclasses. This is also the reason why your code `new T(keywords[0],list,adapter)` would not work, subclasses may not have such a constructor. \r\n\r\nThus, in java, there is no use for class objects since you definitely need reflection to check if you code is valid at runtime.\r\n\r\nA different topic are generic type parameters. You can&#39;t do `T.class` because genrics are somehow a language hack in java (and nothing compared to C++ Templates). The main reason for this is compatibilty with older java versions. \r\n\r\nHowever, you can workaround this using the reflection API mentioned above:\r\n\r\n    public Foo&lt;T extends Bar&gt; {\r\n\r\n         private Class&lt;T&gt; barClass;\r\n\r\n         public Foo(Class&lt;T&gt; barClass) {\r\n             this.barClass = barClass;\r\n         }\r\n\r\n         public T createSomeBar(String arg) {\r\n             try {\r\n                 // the bar contract says that subclasses must have such a constructor\r\n                 return barClass.getConstructor(String.class).newInstance(arg);\r\n             } catch ... // the contract was violated, do proper handling\r\n         }\r\n    }","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>I would not consider classes to be first class object, instead I would say that <code>Class</code> is a part of the reflection API, since you can not use it as freely as in other, more dynamic languages. I.e. you can't create new instances without reflection.</p>\n\n<p>The main reason is the meta model of java. You can't overwrite static methods, and a constructor that exists in a class does not necessarily exist in its subclasses. This is also the reason why your code <code>new T(keywords[0],list,adapter)</code> would not work, subclasses may not have such a constructor. </p>\n\n<p>Thus, in java, there is no use for class objects since you definitely need reflection to check if you code is valid at runtime.</p>\n\n<p>A different topic are generic type parameters. You can't do <code>T.class</code> because genrics are somehow a language hack in java (and nothing compared to C++ Templates). The main reason for this is compatibilty with older java versions. </p>\n\n<p>However, you can workaround this using the reflection API mentioned above:</p>\n\n<pre><code>public Foo&lt;T extends Bar&gt; {\n\n     private Class&lt;T&gt; barClass;\n\n     public Foo(Class&lt;T&gt; barClass) {\n         this.barClass = barClass;\n     }\n\n     public T createSomeBar(String arg) {\n         try {\n             // the bar contract says that subclasses must have such a constructor\n             return barClass.getConstructor(String.class).newInstance(arg);\n         } catch ... // the contract was violated, do proper handling\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24765,"reputation":3353,"user_id":63189,"display_name":"paulmurray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297842265,"creation_date":1297842265,"answer_id":5013767,"question_id":4996280,"body_markdown":"Classes are first-class items. You can call the &quot;newinstance&quot; method on a class to create an instance, or you can ask for a constructor object and use that. Try this code:\r\n\r\n&lt;pre&gt;\r\npublic class AsyncItemSearch&amp;lt;T extends GenericItemSearch&amp;lt;S&amp;gt;,S extends GenericItem&amp;gt; extends AsyncTask&amp;lt;String,T,Void&amp;gt; {\r\n\r\n    private Constructor&amp;lt;T&amp;gt; searchConstructor;\r\n    public ListView list;\r\n    public AmazonItemAdapter&amp;lt;S&amp;gt; adapter;\r\n\r\n    public AsyncBookSearch(Class&amp;lt;T&amp;gt; theClass, ListView l,AmazonItemAdapter&amp;lt;S&amp;gt; ad) {\r\n        list = l;\r\n        adapter = ad;\r\n        searchConstructor = theClass.getConstructor(String.class, ListView.class, AmazonItemAdapter&amp;lt;S&amp;gt;.class);\r\n    }\r\n\r\n    @Override\r\n    protected Void doInBackground(String... keywords) {\r\n        // TODO Auto-generated method stub\r\n        searchConstructor.newInstance(keywords[0],list,adapter).parse();\r\n        return null;\r\n    }\r\n}&lt;/pre&gt;\r\n\r\nCall it like so:\r\n\r\n&lt;pre&gt;\r\nAmazonItemAdapter&amp;lt;Book&amp;gt; amazonAdapter = new AmazonBookAdapter();\r\nAsyncItemSearch&amp;lt;BookSearch,Book&amp;gt; s = \r\n    new AsyncItemSearch&amp;lt;BookSearch,Book&amp;gt;(\r\n        BookSearch.class, myListView, amazonAdapter\r\n    );\r\ns.doInBackground(&quot;have&quot;, &quot;at&quot;, &quot;thee&quot;, &quot;!&quot;);\r\n&lt;/pre&gt;\r\n ","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>Classes are first-class items. You can call the \"newinstance\" method on a class to create an instance, or you can ask for a constructor object and use that. Try this code:</p>\n\n<pre>\npublic class AsyncItemSearch&lt;T extends GenericItemSearch&lt;S&gt;,S extends GenericItem&gt; extends AsyncTask&lt;String,T,Void&gt; {\n\n    private Constructor&lt;T&gt; searchConstructor;\n    public ListView list;\n    public AmazonItemAdapter&lt;S&gt; adapter;\n\n    public AsyncBookSearch(Class&lt;T&gt; theClass, ListView l,AmazonItemAdapter&lt;S&gt; ad) {\n        list = l;\n        adapter = ad;\n        searchConstructor = theClass.getConstructor(String.class, ListView.class, AmazonItemAdapter&lt;S&gt;.class);\n    }\n\n    @Override\n    protected Void doInBackground(String... keywords) {\n        // TODO Auto-generated method stub\n        searchConstructor.newInstance(keywords[0],list,adapter).parse();\n        return null;\n    }\n}</pre>\n\n<p>Call it like so:</p>\n\n<pre>\nAmazonItemAdapter&lt;Book&gt; amazonAdapter = new AmazonBookAdapter();\nAsyncItemSearch&lt;BookSearch,Book&gt; s = \n    new AsyncItemSearch&lt;BookSearch,Book&gt;(\n        BookSearch.class, myListView, amazonAdapter\n    );\ns.doInBackground(\"have\", \"at\", \"thee\", \"!\");\n</pre>\n"},{"tags":[],"owner":{"account_id":25344329,"reputation":11,"user_id":19162263,"display_name":"user19162263"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653057666,"creation_date":1653057666,"answer_id":72320804,"question_id":4996280,"body_markdown":"I just noticed this reference to first class generics in Java.  Guy L. Steele and I wrote a paper in the 1998 OOPSLA Conference proposing a way to add support for first-class generics for Java that regrettably was not adopted by the committee at Sun Microsystems controlling the evolution of Java.  See https://dl.acm.org/doi/abs/10.1145/286936.286958.  My graduate students and I subsequently showed that this approach was comparable in efficiency to erasure (using Java JIT compiler technology that was not tuned to optimizing the idioms used in our implementation of Java generics).  See https://www.semanticscholar.org/paper/Efficient-Implementation-of-Run-time-Generic-Types-Allen-Cartwright/cb07594f5e070e54ff891d064430c41f2091e2b4 and https://www.cs.rice.edu/~javaplt/papers/sac2006.pdf.   ","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>I just noticed this reference to first class generics in Java.  Guy L. Steele and I wrote a paper in the 1998 OOPSLA Conference proposing a way to add support for first-class generics for Java that regrettably was not adopted by the committee at Sun Microsystems controlling the evolution of Java.  See <a href=\"https://dl.acm.org/doi/abs/10.1145/286936.286958\" rel=\"nofollow noreferrer\">https://dl.acm.org/doi/abs/10.1145/286936.286958</a>.  My graduate students and I subsequently showed that this approach was comparable in efficiency to erasure (using Java JIT compiler technology that was not tuned to optimizing the idioms used in our implementation of Java generics).  See <a href=\"https://www.semanticscholar.org/paper/Efficient-Implementation-of-Run-time-Generic-Types-Allen-Cartwright/cb07594f5e070e54ff891d064430c41f2091e2b4\" rel=\"nofollow noreferrer\">https://www.semanticscholar.org/paper/Efficient-Implementation-of-Run-time-Generic-Types-Allen-Cartwright/cb07594f5e070e54ff891d064430c41f2091e2b4</a> and <a href=\"https://www.cs.rice.edu/%7Ejavaplt/papers/sac2006.pdf\" rel=\"nofollow noreferrer\">https://www.cs.rice.edu/~javaplt/papers/sac2006.pdf</a>.</p>\n"}],"owner":{"account_id":55184,"reputation":6213,"user_id":165198,"accept_rate":93,"display_name":"David K."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4996450,"answer_count":6,"score":4,"last_activity_date":1653057666,"creation_date":1297710947,"question_id":4996280,"body_markdown":"Can somebody explain to me why classes are not first class objects in Java? There are certain patterns that would work really well if it did and I&#39;m constantly writing factory classes with getters and setters and just adding unnecessary cruft to classes just so I can get around to passing instances to methods instead of actual classes to factor out generic bits of code. For example:\r\n\r\n\tpublic class AsyncBookSearch extends AsyncTask&lt;String,BookItem,Void&gt; {\r\n\r\n\t\tpublic ListView list;\r\n\t\tpublic AmazonItemAdapter&lt;BookItem&gt; adapter;\r\n\t\tpublic AsyncBookSearch(ListView l,AmazonItemAdapter&lt;BookItem&gt; ad) {\r\n\t\t\tlist = l;\r\n\t\t\tadapter = ad;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected Void doInBackground(String... keywords) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tnew BookSearch(keywords[0],list,adapter).parse();\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\nI have several such classes and if I want to make the whole thing generic then the stuff in `doInBackground()` will lead to several extra methods and other kinds of duplication in argument passing which wouldn&#39;t be a problem if I could write the following:\r\n\r\n\tpublic class AsyncItemSearch&lt;T extends GenericItemSearch&lt;S&gt;,S extends GenericItem&gt; extends AsyncTask&lt;String,T,Void&gt; {\r\n\r\n\t\tpublic ListView list;\r\n\t\tpublic AmazonItemAdapter&lt;S&gt; adapter;\r\n\t\tpublic AsyncBookSearch(ListView l,AmazonItemAdapter&lt;S&gt; ad) {\r\n\t\t\tlist = l;\r\n\t\t\tadapter = ad;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected Void doInBackground(String... keywords) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tnew T(keywords[0],list,adapter).parse();\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\nCurrently I can&#39;t write code like that in Java. I have to introduce unnecessary coupling into pretty much every class involved and this just makes things more convoluted because now not only does each instance need to worry about it&#39;s own state but also about state in objects completely unrelated to it&#39;s task.","title":"Why aren&#39;t classes first class objects in Java?","body":"<p>Can somebody explain to me why classes are not first class objects in Java? There are certain patterns that would work really well if it did and I'm constantly writing factory classes with getters and setters and just adding unnecessary cruft to classes just so I can get around to passing instances to methods instead of actual classes to factor out generic bits of code. For example:</p>\n\n<pre><code>public class AsyncBookSearch extends AsyncTask&lt;String,BookItem,Void&gt; {\n\n    public ListView list;\n    public AmazonItemAdapter&lt;BookItem&gt; adapter;\n    public AsyncBookSearch(ListView l,AmazonItemAdapter&lt;BookItem&gt; ad) {\n        list = l;\n        adapter = ad;\n    }\n\n    @Override\n    protected Void doInBackground(String... keywords) {\n        // TODO Auto-generated method stub\n        new BookSearch(keywords[0],list,adapter).parse();\n        return null;\n    }\n}\n</code></pre>\n\n<p>I have several such classes and if I want to make the whole thing generic then the stuff in <code>doInBackground()</code> will lead to several extra methods and other kinds of duplication in argument passing which wouldn't be a problem if I could write the following:</p>\n\n<pre><code>public class AsyncItemSearch&lt;T extends GenericItemSearch&lt;S&gt;,S extends GenericItem&gt; extends AsyncTask&lt;String,T,Void&gt; {\n\n    public ListView list;\n    public AmazonItemAdapter&lt;S&gt; adapter;\n    public AsyncBookSearch(ListView l,AmazonItemAdapter&lt;S&gt; ad) {\n        list = l;\n        adapter = ad;\n    }\n\n    @Override\n    protected Void doInBackground(String... keywords) {\n        // TODO Auto-generated method stub\n        new T(keywords[0],list,adapter).parse();\n        return null;\n    }\n}\n</code></pre>\n\n<p>Currently I can't write code like that in Java. I have to introduce unnecessary coupling into pretty much every class involved and this just makes things more convoluted because now not only does each instance need to worry about it's own state but also about state in objects completely unrelated to it's task.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653057090,"post_id":72320561,"comment_id":127765174,"body_markdown":"Without knowing what the SP does this will be impossible to answer. Why a composite writer, does it operate on the same db? Or something else? All in all far too little information to answer this question.","body":"Without knowing what the SP does this will be impossible to answer. Why a composite writer, does it operate on the same db? Or something else? All in all far too little information to answer this question."},{"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"score":0,"creation_date":1653057740,"post_id":72320561,"comment_id":127765470,"body_markdown":"@M.Deinum I have added some more information.","body":"@M.Deinum I have added some more information."},{"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"score":0,"creation_date":1653058569,"post_id":72320561,"comment_id":127765792,"body_markdown":"I see couple of commit statements present in the stored procudure","body":"I see couple of commit statements present in the stored procudure"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1653060431,"post_id":72320561,"comment_id":127766577,"body_markdown":"The transaction will be around the composite, no matter what type of delegates you register. This post might help: https://stackoverflow.com/questions/51904498/how-does-spring-batch-compositeitemwriter-manage-transaction-for-delegate-writer","body":"The transaction will be around the composite, no matter what type of delegates you register. This post might help: <a href=\"https://stackoverflow.com/questions/51904498/how-does-spring-batch-compositeitemwriter-manage-transaction-for-delegate-writer\" title=\"how does spring batch compositeitemwriter manage transaction for delegate writer\">stackoverflow.com/questions/51904498/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653067493,"post_id":72320561,"comment_id":127768935,"body_markdown":"If your SP is managing its own transaction, instead of participating in the current one, you cannot rollback.","body":"If your SP is managing its own transaction, instead of participating in the current one, you cannot rollback."},{"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"score":0,"creation_date":1653574248,"post_id":72320561,"comment_id":127888476,"body_markdown":"Thank you @M.Deinum.  I removed the commits from the stored proc and tested it.  The rollback worked fine at that time.  It looks like the SP managing its own transaction.","body":"Thank you @M.Deinum.  I removed the commits from the stored proc and tested it.  The rollback worked fine at that time.  It looks like the SP managing its own transaction."}],"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653057644,"creation_date":1653056727,"question_id":72320561,"body_markdown":"I have a spring batch application which has a composite writer and both of the writers makes a call to stored procedure using simplejdbccall.  The stored procedures takes the input and doing some data validations and iterations and inserts into a table.  Both of the stored proc writes into same database but works on diff table. \r\n\r\nThe composite writer is used here because there are two different stored procedure needs to be called. \r\n\r\n\r\n I see the first writer writes into DB through stored procedure even though the second writer fails. I dont see the first writer rolls back if the second one fails. Is it because its a stored proc? Can we still make the composite writer transactional ? Any change is required from stored procedure ? any idea? Thank you ","title":"Rollback not working for Sping batch composite writer which calls stored procedure using simplejdbccall","body":"<p>I have a spring batch application which has a composite writer and both of the writers makes a call to stored procedure using simplejdbccall.  The stored procedures takes the input and doing some data validations and iterations and inserts into a table.  Both of the stored proc writes into same database but works on diff table.</p>\n<p>The composite writer is used here because there are two different stored procedure needs to be called.</p>\n<p>I see the first writer writes into DB through stored procedure even though the second writer fails. I dont see the first writer rolls back if the second one fails. Is it because its a stored proc? Can we still make the composite writer transactional ? Any change is required from stored procedure ? any idea? Thank you</p>\n"},{"tags":["javascript","java","android","frida"],"comments":[{"owner":{"account_id":22609424,"reputation":65,"user_id":16789842,"display_name":"Bogdan Mind"},"score":0,"creation_date":1653056273,"post_id":72316128,"comment_id":127764862,"body_markdown":"Robert, thanks a lot for pointing that out. Yes, i was afraid that recreating a class ok3hhtp.requestbody was the only option. Can you advise, how to create it via Frida, but with 2 string inputs?","body":"Robert, thanks a lot for pointing that out. Yes, i was afraid that recreating a class ok3hhtp.requestbody was the only option. Can you advise, how to create it via Frida, but with 2 string inputs?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653061746,"post_id":72316128,"comment_id":127767077,"body_markdown":"Not sure what you mean by &quot;2 strings input&quot;. You can always concat two strings to one, e.g. using the [concat(String)](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#concat-java.lang.String-) method. Or try `+` operator, not sure if it works in frida JavaScript code for Android String arguments.","body":"Not sure what you mean by &quot;2 strings input&quot;. You can always concat two strings to one, e.g. using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#concat-java.lang.String-\" rel=\"nofollow noreferrer\">concat(String)</a> method. Or try <code>+</code> operator, not sure if it works in frida JavaScript code for Android String arguments."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653057614,"creation_date":1653057614,"answer_id":72320785,"question_id":72316128,"body_markdown":"If there isn&#39;t an overloaded method that takes 4 String arguments you have to create and pass a RequestBody as fourth parameter, that is the way programming works. Why don&#39;t you try to create a RequestBody using [RequestBody.create(MediaType contentType, String content)][1]? For the MediaType [MediaType.get(String)][2] should be the correct method. \r\n\r\nTranslated to code it should be code like this (untested) code: \r\n\r\n    let requestBodyText = &quot;my text&quot;; // &lt;- define the request body text here\r\n\r\n    let requestBodyClass = Java.use(&quot;okhttp3.RequestBody&quot;);\r\n    let mediaTypeClass = Java.use(&quot;okhttp3.MediaType&quot;);\r\n    let mediaType = mediaTypeClass.get(&quot;text/plain&quot;);\r\n    let requestBody = requestBodyClass.create(mediaType, requestBodyText);\r\n    \r\n    instance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,requestBody,&quot;none&quot;))\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/RequestBody.html\r\n  [2]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/MediaType.html#get-java.lang.String-","title":"Frida. Pass different agrument type in class method. Error &quot;argument types do not match any of&quot;","body":"<p>If there isn't an overloaded method that takes 4 String arguments you have to create and pass a RequestBody as fourth parameter, that is the way programming works. Why don't you try to create a RequestBody using <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/RequestBody.html\" rel=\"nofollow noreferrer\">RequestBody.create(MediaType contentType, String content)</a>? For the MediaType <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/MediaType.html#get-java.lang.String-\" rel=\"nofollow noreferrer\">MediaType.get(String)</a> should be the correct method.</p>\n<p>Translated to code it should be code like this (untested) code:</p>\n<pre><code>let requestBodyText = &quot;my text&quot;; // &lt;- define the request body text here\n\nlet requestBodyClass = Java.use(&quot;okhttp3.RequestBody&quot;);\nlet mediaTypeClass = Java.use(&quot;okhttp3.MediaType&quot;);\nlet mediaType = mediaTypeClass.get(&quot;text/plain&quot;);\nlet requestBody = requestBodyClass.create(mediaType, requestBodyText);\n\ninstance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,requestBody,&quot;none&quot;))\n</code></pre>\n"}],"owner":{"account_id":22609424,"reputation":65,"user_id":16789842,"display_name":"Bogdan Mind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320785,"answer_count":1,"score":0,"last_activity_date":1653057614,"creation_date":1653036806,"question_id":72316128,"body_markdown":"I use frida to hook class. In my case HmacBuilder.\r\nIt has method hmacSha256Hex()\r\n\r\nHere what method wants..\r\n\r\n    hmacSha256Hex(&#39;java.lang.String&#39;, &#39;java.lang.String&#39;, &#39;java.lang.String&#39;, &#39;okhttp3.RequestBody&#39;, &#39;java.lang.String&#39;)\r\n\r\nIf i call it and just pass strings for all of them.. like   \r\n\r\n    instance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;))\r\n   \r\n\r\nfrida gives error \r\n\r\n    argument types do not match any of:\\n\\t.overload(&#39;java.lang.String&#39;, &#39;java.lang.String&#39;, &#39;java.lang.String&#39;, &#39;okhttp3.RequestBody&#39;, &#39;java.lang.String&#39;)&quot;\r\n\r\nPlease advise, how should i call this method properly?(Preferably passing string as okhttp3.RequestBody?\r\n\r\n\r\n\r\nMy full inject_code.js\r\n\r\n \r\n\r\n       console.log(&quot;Script loaded successfully &quot;);\r\n    Java.perform(function x() {\r\n    \r\n        //Find an instance of the class and call function.\r\n        Java.choose(&quot;com.testapp.HmacBuilder&quot;, {\r\n            onMatch: function (instance) {\r\n                console.log(&quot;Found instance: &quot; + instance);\r\n               console.log(&quot;Result of HMAC func: &quot; + instance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;));\r\n               \r\n            },\r\n            onComplete: function () { }\r\n        });\r\n    });\r\n    \r\n    \r\n        console.log(&quot;Script finished &quot;);\r\n\r\n","title":"Frida. Pass different agrument type in class method. Error &quot;argument types do not match any of&quot;","body":"<p>I use frida to hook class. In my case HmacBuilder.\nIt has method hmacSha256Hex()</p>\n<p>Here what method wants..</p>\n<pre><code>hmacSha256Hex('java.lang.String', 'java.lang.String', 'java.lang.String', 'okhttp3.RequestBody', 'java.lang.String')\n</code></pre>\n<p>If i call it and just pass strings for all of them.. like</p>\n<pre><code>instance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;))\n</code></pre>\n<p>frida gives error</p>\n<pre><code>argument types do not match any of:\\n\\t.overload('java.lang.String', 'java.lang.String', 'java.lang.String', 'okhttp3.RequestBody', 'java.lang.String')&quot;\n</code></pre>\n<p>Please advise, how should i call this method properly?(Preferably passing string as okhttp3.RequestBody?</p>\n<p>My full inject_code.js</p>\n<pre><code>   console.log(&quot;Script loaded successfully &quot;);\nJava.perform(function x() {\n\n    //Find an instance of the class and call function.\n    Java.choose(&quot;com.testapp.HmacBuilder&quot;, {\n        onMatch: function (instance) {\n            console.log(&quot;Found instance: &quot; + instance);\n           console.log(&quot;Result of HMAC func: &quot; + instance.hmacSha256Hex(&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;,&quot;none&quot;));\n           \n        },\n        onComplete: function () { }\n    });\n});\n\n\n    console.log(&quot;Script finished &quot;);\n</code></pre>\n"},{"tags":["java","macos","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653057127,"creation_date":1642109004,"answer_id":70703269,"question_id":70702494,"body_markdown":"# tl;dr\r\n\r\nUse an installer for *Intel* Macs rather than *Apple Silicon* Macs. \r\n\r\n# Obtain installer for Macs with Intel chips\r\n\r\nCertainly [Java 17][1] will run on your computer. \r\n\r\nI am not sure, but I would make this guess as to the root of your problem I suspect you downloaded an installer for the [Apple Silicon][2] Macs, rather than for Macs with Intel chips.\r\n\r\nGo to any of the several vendors providing JDK products. Some are free-of-cost, some require a fee. Be sure to understand their terms before downloading.\r\n\r\nThose vendors include, off the top of my head: Azul Systems, Adoptium (formerly AdoptOpenJDK), BellSoft, Amazon, Red Hat/IBM, Microsoft, Oracle, SAP, Pivotal, and likely more. \r\n\r\nOn their respective download page, be sure to opt for the edition labeled &quot;Intel&quot;, &quot;x86&quot;, &quot;AMD-64&quot;, or some such to indicate Macs with Intel chips. \r\n\r\nDo *not* download any edition labeled &quot;Apple Silicon&quot;, &quot;ARM&quot;, or &quot;AArch-64&quot;, as these indicate the Macs with M1 chips.\r\n\r\nHere is an example screenshot from [Adoptium][3] web site for their *Temurin* product, an installer of a [JDK][4] implementing Java 17 based on the source code at the [OpenJDK][5] project. \r\n\r\n[![Screenshot of Adoptium download page][6]][6]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [2]: https://en.wikipedia.org/wiki/Apple_silicon\r\n  [3]: https://adoptium.net/\r\n  [4]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [5]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [6]: https://i.stack.imgur.com/vuPEW.jpg","title":"Java error:JDK 17.0.1 cant be installed on this computer","body":"<h1>tl;dr</h1>\n<p>Use an installer for <em>Intel</em> Macs rather than <em>Apple Silicon</em> Macs.</p>\n<h1>Obtain installer for Macs with Intel chips</h1>\n<p>Certainly <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a> will run on your computer.</p>\n<p>I am not sure, but I would make this guess as to the root of your problem I suspect you downloaded an installer for the <a href=\"https://en.wikipedia.org/wiki/Apple_silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a> Macs, rather than for Macs with Intel chips.</p>\n<p>Go to any of the several vendors providing JDK products. Some are free-of-cost, some require a fee. Be sure to understand their terms before downloading.</p>\n<p>Those vendors include, off the top of my head: Azul Systems, Adoptium (formerly AdoptOpenJDK), BellSoft, Amazon, Red Hat/IBM, Microsoft, Oracle, SAP, Pivotal, and likely more.</p>\n<p>On their respective download page, be sure to opt for the edition labeled &quot;Intel&quot;, &quot;x86&quot;, &quot;AMD-64&quot;, or some such to indicate Macs with Intel chips.</p>\n<p>Do <em>not</em> download any edition labeled &quot;Apple Silicon&quot;, &quot;ARM&quot;, or &quot;AArch-64&quot;, as these indicate the Macs with M1 chips.</p>\n<p>Here is an example screenshot from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a> web site for their <em>Temurin</em> product, an installer of a <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> implementing Java 17 based on the source code at the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project.</p>\n<p><a href=\"https://i.stack.imgur.com/vuPEW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vuPEW.jpg\" alt=\"Screenshot of Adoptium download page\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4242479,"reputation":151,"user_id":3471992,"display_name":"Alexander Belokrylov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642263556,"creation_date":1642263556,"answer_id":70723211,"question_id":70702494,"body_markdown":"Using package managers simplifies your experience as you can get anything from one place. Moreover, vendors support packages at such systems. I prefer SDKMAN!\r\n\r\nTry to use SDKMAN https://sdkman.io. For example, you can install  Liberica JDK 17 on MacBook Pro with X86 or M1 processors, and you do not have to care SDKMAN will select the right package for you.\r\n\r\nDownload and install SDKMAN!:\r\n\r\n    $ curl -s &quot;https://get.sdkman.io&quot; | bash\r\n    $ source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n\r\nGet the list of available Java distributions to install:\r\n\r\n    $ sdk list java\r\n\r\nFor example, to install Liberica JDK 17:\r\n\r\n    $ sdk install java 17.0.1-librca\r\n\r\nor with Java FX\r\n\r\n    $ sdk install java 17.0.1.fx-librca \r\n\r\nCheck a short document about other package managers and how to use them for Liberica JDK installation.\r\n[https://bell-sw.com/pages/package-managers/#sdkman][1]\r\n\r\n\r\n  [1]: http://Using%20package%20managers%20simplifies%20your%20experience%20as%20you%20can%20get%20anything%20from%20one%20place.%20Moreover,%20vendors%20support%20packages%20at%20such%20systems.%20I%20prefer%20SDKMAN!%20%20Try%20to%20use%20SDKMAN%20https://sdkman.io.%20For%20example,%20you%20can%20install%20%20Liberica%20JDK%2017%20on%20MacBook%20Pro%20with%20X86%20or%20M1%20processors,%20and%20you%20do%20not%20have%20to%20care%20SDKMAN%20will%20select%20the%20right%20package%20for%20you.%20%20Download%20and%20install%20SDKMAN!:%20$%20curl%20-s%20%22https://get.sdkman.io%22%20%7C%20bash%20$%20source%20%22$HOME/.sdkman/bin/sdkman-init.sh%22%20%20Get%20the%20list%20of%20available%20Java%20distributions%20to%20install:%20$%20sdk%20list%20java%20%20For%20example,%20to%20install%20Liberica%20JDK%2017:%20$%20sdk%20install%20java%2017.0.1-librca%20or%20with%20Java%20FX%20$%20sdk%20install%20java%2017.0.1.fx-librca%20%20%20Check%20a%20short%20document%20about%20other%20package%20managers%20and%20how%20to%20use%20them%20for%20Liberica%20JDK%20installation.%20https://bell-sw.com/pages/package-managers/#sdkman\r\n","title":"Java error:JDK 17.0.1 cant be installed on this computer","body":"<p>Using package managers simplifies your experience as you can get anything from one place. Moreover, vendors support packages at such systems. I prefer SDKMAN!</p>\n<p>Try to use SDKMAN <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">https://sdkman.io</a>. For example, you can install  Liberica JDK 17 on MacBook Pro with X86 or M1 processors, and you do not have to care SDKMAN will select the right package for you.</p>\n<p>Download and install SDKMAN!:</p>\n<pre><code>$ curl -s &quot;https://get.sdkman.io&quot; | bash\n$ source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>Get the list of available Java distributions to install:</p>\n<pre><code>$ sdk list java\n</code></pre>\n<p>For example, to install Liberica JDK 17:</p>\n<pre><code>$ sdk install java 17.0.1-librca\n</code></pre>\n<p>or with Java FX</p>\n<pre><code>$ sdk install java 17.0.1.fx-librca \n</code></pre>\n<p>Check a short document about other package managers and how to use them for Liberica JDK installation.\n<a href=\"http://Using%20package%20managers%20simplifies%20your%20experience%20as%20you%20can%20get%20anything%20from%20one%20place.%20Moreover,%20vendors%20support%20packages%20at%20such%20systems.%20I%20prefer%20SDKMAN!%20%20Try%20to%20use%20SDKMAN%20https://sdkman.io.%20For%20example,%20you%20can%20install%20%20Liberica%20JDK%2017%20on%20MacBook%20Pro%20with%20X86%20or%20M1%20processors,%20and%20you%20do%20not%20have%20to%20care%20SDKMAN%20will%20select%20the%20right%20package%20for%20you.%20%20Download%20and%20install%20SDKMAN!:%20$%20curl%20-s%20%22https://get.sdkman.io%22%20%7C%20bash%20$%20source%20%22$HOME/.sdkman/bin/sdkman-init.sh%22%20%20Get%20the%20list%20of%20available%20Java%20distributions%20to%20install:%20$%20sdk%20list%20java%20%20For%20example,%20to%20install%20Liberica%20JDK%2017:%20$%20sdk%20install%20java%2017.0.1-librca%20or%20with%20Java%20FX%20$%20sdk%20install%20java%2017.0.1.fx-librca%20%20%20Check%20a%20short%20document%20about%20other%20package%20managers%20and%20how%20to%20use%20them%20for%20Liberica%20JDK%20installation.%20https://bell-sw.com/pages/package-managers/#sdkman\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/package-managers/#sdkman</a></p>\n"},{"tags":[],"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1644012688,"creation_date":1644012688,"answer_id":70993397,"question_id":70702494,"body_markdown":"In my case, I downloaded the Arm 64 DMG Installer, the architecture of which does not work on my mac. Downloading the x64 DMG Installer (the final option) was the right choice.","title":"Java error:JDK 17.0.1 cant be installed on this computer","body":"<p>In my case, I downloaded the Arm 64 DMG Installer, the architecture of which does not work on my mac. Downloading the x64 DMG Installer (the final option) was the right choice.</p>\n"}],"owner":{"account_id":23933516,"reputation":51,"user_id":17927615,"display_name":"Amirhossein Azhinehfar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15936,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":70703269,"answer_count":3,"score":3,"last_activity_date":1653057127,"creation_date":1642104338,"question_id":70702494,"body_markdown":"[enter image description here][1]im trying to install JDK 17.0.1 and I don&#39;t have any java installed in my computer like other versions of JDK and java runtime. Im using macOS [Monterey][2]. my CPU is I5 and I have a Mac book 2020 and 13 inches. \r\nmore info:\r\nMacBook Pro (13-inch, 2020, Four Thunderbolt 3 ports)\r\nprocesser: 2 GHz Quad-Core Intel Core i5\r\nmemory: 16 GB 3733 MHz LPDDR4X\r\nGraphics: Intel Iris Plus Graphics 1536 MB\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WP6mL.png\r\n  [2]: https://i.stack.imgur.com/TwTSz.png","title":"Java error:JDK 17.0.1 cant be installed on this computer","body":"<p><a href=\"https://i.stack.imgur.com/WP6mL.png\" rel=\"nofollow noreferrer\">enter image description here</a>im trying to install JDK 17.0.1 and I don't have any java installed in my computer like other versions of JDK and java runtime. Im using macOS <a href=\"https://i.stack.imgur.com/TwTSz.png\" rel=\"nofollow noreferrer\">Monterey</a>. my CPU is I5 and I have a Mac book 2020 and 13 inches.\nmore info:\nMacBook Pro (13-inch, 2020, Four Thunderbolt 3 ports)\nprocesser: 2 GHz Quad-Core Intel Core i5\nmemory: 16 GB 3733 MHz LPDDR4X\nGraphics: Intel Iris Plus Graphics 1536 MB</p>\n"},{"tags":["java","angular","spring-boot","websocket"],"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653057024,"creation_date":1653056956,"question_id":72320615,"body_markdown":"I am using Angular, Spring Boot, and WebSocket in my project. I&#39;m testing on my local machine socket connection is working fine but when I deployed my build on the production server it is not working properly. sometimes connection was established and sometimes not. I&#39;m new to this technology. \r\n\r\nI already configured the message broker and WebSocket application endpoints here is my code\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer, WebSocketConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/chat&quot;).setAllowedOrigins(&quot;http://localhost:4200&quot;, &quot;https://www.xxxxxx.com/&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.enableSimpleBroker(&quot;/chatparticipant&quot;, &quot;/messages&quot;, &quot;/unAssignedParticipant&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\r\n        ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\r\n        container.setMaxBinaryMessageBufferSize(1024000);\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n        registry.addHandler(new WebSocketHandler(), &quot;/socket&quot;).setAllowedOrigins(Pl4ChatConfig.ALLOWED_ORIGIN);\r\n    }\r\n}\r\n ```\r\nwe&#39;re getting error messages: \r\n\r\nWebSocket connection to &#39;wss://xxxxx.com/ws/709/2pjkwf4q/websocket&#39; failed:","title":"Spring boot Web Socket Connection loosing connection on production","body":"<p>I am using Angular, Spring Boot, and WebSocket in my project. I'm testing on my local machine socket connection is working fine but when I deployed my build on the production server it is not working properly. sometimes connection was established and sometimes not. I'm new to this technology.</p>\n<p>I already configured the message broker and WebSocket application endpoints here is my code</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer, WebSocketConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/chat&quot;).setAllowedOrigins(&quot;http://localhost:4200&quot;, &quot;https://www.xxxxxx.com/&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.enableSimpleBroker(&quot;/chatparticipant&quot;, &quot;/messages&quot;, &quot;/unAssignedParticipant&quot;);\n    }\n\n    @Bean\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\n        ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\n        container.setMaxBinaryMessageBufferSize(1024000);\n        return container;\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(new WebSocketHandler(), &quot;/socket&quot;).setAllowedOrigins(Pl4ChatConfig.ALLOWED_ORIGIN);\n    }\n}\n</code></pre>\n<p>we're getting error messages:</p>\n<p>WebSocket connection to 'wss://xxxxx.com/ws/709/2pjkwf4q/websocket' failed:</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1653055519,"post_id":72320208,"comment_id":127764550,"body_markdown":"Do you have an environment variable JAVA_HOME that points to the /bin directory where you installed the JDK?  Are you sure you have a JDK and not the JRE? \n https://code.visualstudio.com/docs/java/java-tutorial","body":"Do you have an environment variable JAVA_HOME that points to the /bin directory where you installed the JDK?  Are you sure you have a JDK and not the JRE?   <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-tutorial</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1653056339,"post_id":72320208,"comment_id":127764882,"body_markdown":"@duffymo JAVA_HOME should point to directory containing the `bin`, not the `bin` directory.","body":"@duffymo JAVA_HOME should point to directory containing the <code>bin</code>, not the <code>bin</code> directory."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1653056408,"post_id":72320208,"comment_id":127764909,"body_markdown":"Fair enough.  I knew I&#39;d remember it the wrong way.  It&#39;d be better to not require an environment variable.  I don&#39;t have JAVA_HOME set on any machine I work on.  It&#39;s better that way.","body":"Fair enough.  I knew I&#39;d remember it the wrong way.  It&#39;d be better to not require an environment variable.  I don&#39;t have JAVA_HOME set on any machine I work on.  It&#39;s better that way."}],"answers":[{"tags":[],"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653056875,"creation_date":1653056875,"answer_id":72320600,"question_id":72320208,"body_markdown":"1. Right click on the &quot;Start&quot; icon and go to &quot;System&quot;\r\n\r\n[![System][1]][1]\r\n\r\n2. On the page appeared, on the right side, click on &quot;Advanced system settings&quot;\r\n\r\n[![AdvancedSettings][2]][2]\r\n\r\n3. On the dialog that appears, click on &quot;Environment variables&quot;\r\n\r\n[![EnvironmentVariablesButton][3]][3]\r\n\r\n4. On the new dialog, in the &quot;System&quot; section click on &quot;New&quot; button\r\n\r\n[![NewButtonToClick][4]][4]\r\n\r\n5. In the appeared dialog add `JAVA_HOME` variable, and specify the folder, where you have JDK installed, for example: `C:\\Program Files\\java1.8.0\\`\r\nNote, that this value should not point to the `bin` folder.\r\n\r\n6. Accept this dialog.\r\n\r\n7. In the list of system environment variables find and open &quot;PATH&quot; environment variable dialog and add this value to the PATH values list: `%JAVA_HOME%\\bin`\r\n\r\n[![PathVariableElement][5]][5]\r\n\r\n[![listOfPathValues][6]][6]\r\n\r\n8. Restart Visual Studio for Code.\r\n\r\nThat&#39;s it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rb7CN.png\r\n  [2]: https://i.stack.imgur.com/OXrwe.png\r\n  [3]: https://i.stack.imgur.com/nsYZ3.png\r\n  [4]: https://i.stack.imgur.com/vWG6k.png\r\n  [5]: https://i.stack.imgur.com/18MpI.png\r\n  [6]: https://i.stack.imgur.com/i6bAm.png","title":"Is there any other way I can configure JDK","body":"<ol>\n<li>Right click on the &quot;Start&quot; icon and go to &quot;System&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Rb7CN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rb7CN.png\" alt=\"System\" /></a></p>\n<ol start=\"2\">\n<li>On the page appeared, on the right side, click on &quot;Advanced system settings&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/OXrwe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXrwe.png\" alt=\"AdvancedSettings\" /></a></p>\n<ol start=\"3\">\n<li>On the dialog that appears, click on &quot;Environment variables&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nsYZ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nsYZ3.png\" alt=\"EnvironmentVariablesButton\" /></a></p>\n<ol start=\"4\">\n<li>On the new dialog, in the &quot;System&quot; section click on &quot;New&quot; button</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/vWG6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWG6k.png\" alt=\"NewButtonToClick\" /></a></p>\n<ol start=\"5\">\n<li><p>In the appeared dialog add <code>JAVA_HOME</code> variable, and specify the folder, where you have JDK installed, for example: <code>C:\\Program Files\\java1.8.0\\</code>\nNote, that this value should not point to the <code>bin</code> folder.</p>\n</li>\n<li><p>Accept this dialog.</p>\n</li>\n<li><p>In the list of system environment variables find and open &quot;PATH&quot; environment variable dialog and add this value to the PATH values list: <code>%JAVA_HOME%\\bin</code></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/18MpI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/18MpI.png\" alt=\"PathVariableElement\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/i6bAm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6bAm.png\" alt=\"listOfPathValues\" /></a></p>\n<ol start=\"8\">\n<li>Restart Visual Studio for Code.</li>\n</ol>\n<p>That's it.</p>\n"}],"owner":{"account_id":25343886,"reputation":21,"user_id":19161901,"display_name":"Phila"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653056875,"creation_date":1653055310,"question_id":72320208,"body_markdown":"I am trying to run an app in Visual Studio Code, but I keep on getting this error:\r\n\r\n&gt; Your environment is not configured properly and you will not be able\r\n&gt; to execute local builds. Verify that your environment is configured\r\n&gt; according to the system requirements described at\r\n&gt; https://docs.nativescript.org/environment-setup.html#windows-android.\r\n\r\nI have installed JDK, but the error keeps on showing. Is there anything I am doing wrong? Please help.\r\n\r\nI am also getting these two warnings:\r\n\r\n 1.  &gt; Error executing command &#39;javac&#39;. Make sure you have installed The Java Development Kit (JDK) and set JAVA_HOME environment variable\r\n\r\n 2.  &gt; WARNING: The Java Development Kit (JDK) is not installed or is not configured properly\r\n\r\n \r\n","title":"Is there any other way I can configure JDK","body":"<p>I am trying to run an app in Visual Studio Code, but I keep on getting this error:</p>\n<blockquote>\n<p>Your environment is not configured properly and you will not be able\nto execute local builds. Verify that your environment is configured\naccording to the system requirements described at\n<a href=\"https://docs.nativescript.org/environment-setup.html#windows-android\" rel=\"nofollow noreferrer\">https://docs.nativescript.org/environment-setup.html#windows-android</a>.</p>\n</blockquote>\n<p>I have installed JDK, but the error keeps on showing. Is there anything I am doing wrong? Please help.</p>\n<p>I am also getting these two warnings:</p>\n<ol>\n<li>\n<blockquote>\n<p>Error executing command 'javac'. Make sure you have installed The Java Development Kit (JDK) and set JAVA_HOME environment variable</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>WARNING: The Java Development Kit (JDK) is not installed or is not configured properly</p>\n</blockquote>\n</li>\n</ol>\n"},{"tags":["java","class","switch-statement"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397010608,"post_id":22951702,"comment_id":35041545,"body_markdown":"An `if` condition has different properties than a `case` label.","body":"An <code>if</code> condition has different properties than a <code>case</code> label."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1397011171,"post_id":22951702,"comment_id":35041682,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html - first paragraph.","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.htm&zwnj;&#8203;l</a> - first paragraph."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397010695,"creation_date":1397010695,"answer_id":22951728,"question_id":22951702,"body_markdown":"You cannot use a `switch` statement for this. Only integer values, strings or enums can be used with `switch` `case` labels.","title":"How can I use class type with switch in java?","body":"<p>You cannot use a <code>switch</code> statement for this. Only integer values, strings or enums can be used with <code>switch</code> <code>case</code> labels.</p>\n"},{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397012873,"creation_date":1397010993,"answer_id":22951776,"question_id":22951702,"body_markdown":"The [Java Language Specification][1] states that, for a `switch` statement&#39;s *Expression*:\r\n\r\n&gt;The type of the Expression must be char, byte, short, int, Character, Byte,\r\n&gt;Short, Integer, String, or an enum type, or a compile-time error occurs.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11","title":"How can I use class type with switch in java?","body":"<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"nofollow\">Java Language Specification</a> states that, for a <code>switch</code> statement's <em>Expression</em>:</p>\n\n<blockquote>\n  <p>The type of the Expression must be char, byte, short, int, Character, Byte,\n  Short, Integer, String, or an enum type, or a compile-time error occurs.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1103578,"reputation":21525,"user_id":1095451,"accept_rate":58,"display_name":"Kashif Nazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397012415,"creation_date":1397012415,"answer_id":22951972,"question_id":22951702,"body_markdown":"You cannot use a `switch` statement to compare class type of an object. You would have to live with `if-else` statements.","title":"How can I use class type with switch in java?","body":"<p>You cannot use a <code>switch</code> statement to compare class type of an object. You would have to live with <code>if-else</code> statements.</p>\n"}],"owner":{"account_id":2822776,"reputation":463,"user_id":2426129,"accept_rate":100,"display_name":"guyfleeman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2305,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":22951776,"answer_count":3,"score":0,"last_activity_date":1653056824,"creation_date":1397010490,"question_id":22951702,"body_markdown":"I have the following code:\r\n\r\n    Variable var;\r\n    //var is initialized to an unknown class type, stored as a public variable named type.\r\n    //var = new Variable&lt;Integer&gt;(Integer.class, &lt;some integer value&gt;);\r\n    //var.type is equal to Integer.class\r\n\r\n    switch (var.type)\r\n    {\r\n    case Integer.class:\r\n        //do some class specific stuff \r\n        break;\r\n    case Float.class:\r\n        //do some class specific stuff\r\n        break;\r\n    etc...\r\n    }\r\n\r\nWhen I type the code out I get an error saying &quot;Integer.class constant expression expected&quot;. I would like to use a switch block because it is cleaner that typing out:\r\n\r\n    if (var.type == Integer.class) {}\r\n\r\nI am confused as to why the if block will compile without error while the switch block will not. I&#39;m not entirely against using if blocks but its more a matter of my curiosity at this point. Thanks.","title":"How can I use class type with switch in java?","body":"<p>I have the following code:</p>\n\n<pre><code>Variable var;\n//var is initialized to an unknown class type, stored as a public variable named type.\n//var = new Variable&lt;Integer&gt;(Integer.class, &lt;some integer value&gt;);\n//var.type is equal to Integer.class\n\nswitch (var.type)\n{\ncase Integer.class:\n    //do some class specific stuff \n    break;\ncase Float.class:\n    //do some class specific stuff\n    break;\netc...\n}\n</code></pre>\n\n<p>When I type the code out I get an error saying \"Integer.class constant expression expected\". I would like to use a switch block because it is cleaner that typing out:</p>\n\n<pre><code>if (var.type == Integer.class) {}\n</code></pre>\n\n<p>I am confused as to why the if block will compile without error while the switch block will not. I'm not entirely against using if blocks but its more a matter of my curiosity at this point. Thanks.</p>\n"},{"tags":["java","devops","teamcity","tls1.2","teamcity-9.0"],"answers":[{"tags":[],"owner":{"account_id":65936,"reputation":1899,"user_id":193717,"accept_rate":89,"display_name":"Calum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653056798,"creation_date":1653056798,"answer_id":72320577,"question_id":72285936,"body_markdown":"After updating the build agent&#39;s version of Java *and* the TeamCity service&#39;s version of Java to 1.8.0_333 (the latest version) the build could connect to the repository hosted in Azure DevOps.","title":"TeamCity VCS issue","body":"<p>After updating the build agent's version of Java <em>and</em> the TeamCity service's version of Java to 1.8.0_333 (the latest version) the build could connect to the repository hosted in Azure DevOps.</p>\n"}],"owner":{"account_id":65936,"reputation":1899,"user_id":193717,"accept_rate":89,"display_name":"Calum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72320577,"answer_count":1,"score":1,"last_activity_date":1653056798,"creation_date":1652863550,"question_id":72285936,"body_markdown":"We have an old version of TeamCity 9.0.2 (build 32195) that is running a build with a VCS root that has a fetch URL hosted in Azure DevOps. Without making changes we started seeing the following error when trying to run a build:\r\n\r\n\r\n[![TeamCityError][1]][1]\r\n\r\nMy suspicions are that TeamCity had been connecting via TLSv1.0 and this is no longer supported as described here:\r\nhttps://devblogs.microsoft.com/devops/deprecating-weak-cryptographic-standards-tls-1-0-and-1-1-in-azure-devops-services/\r\n\r\nI have updated the version of the JRE in the Agent&#39;s jre folder to version &quot;1.8.0_191&quot; as I understand that this version should connect via TLSv1.2 by default, I have also set the following environment variable to force connections to use TLSv1.2 from Java application:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter carrying out the above I am still seeing the error and I&#39;m wondering what else can be done.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w6GOJ.png\r\n  [2]: https://i.stack.imgur.com/crEdB.png","title":"TeamCity VCS issue","body":"<p>We have an old version of TeamCity 9.0.2 (build 32195) that is running a build with a VCS root that has a fetch URL hosted in Azure DevOps. Without making changes we started seeing the following error when trying to run a build:</p>\n<p><a href=\"https://i.stack.imgur.com/w6GOJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6GOJ.png\" alt=\"TeamCityError\" /></a></p>\n<p>My suspicions are that TeamCity had been connecting via TLSv1.0 and this is no longer supported as described here:\n<a href=\"https://devblogs.microsoft.com/devops/deprecating-weak-cryptographic-standards-tls-1-0-and-1-1-in-azure-devops-services/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/devops/deprecating-weak-cryptographic-standards-tls-1-0-and-1-1-in-azure-devops-services/</a></p>\n<p>I have updated the version of the JRE in the Agent's jre folder to version &quot;1.8.0_191&quot; as I understand that this version should connect via TLSv1.2 by default, I have also set the following environment variable to force connections to use TLSv1.2 from Java application:</p>\n<p><a href=\"https://i.stack.imgur.com/crEdB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crEdB.png\" alt=\"enter image description here\" /></a></p>\n<p>After carrying out the above I am still seeing the error and I'm wondering what else can be done.</p>\n"},{"tags":["java","linux","apache","centos","activemq"],"answers":[{"tags":[],"owner":{"account_id":2907036,"reputation":11,"user_id":2492066,"display_name":"user2492066"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653056494,"creation_date":1653056494,"answer_id":72320511,"question_id":35490511,"body_markdown":"I also faced same problem after installing maven , for workaround did uninstall maven and perform the below steps.\r\n\r\nTried to reinstall activemq .\r\n\r\nbrew reinstall activemq. \r\n\r\nafter this restart the system as well.","title":"Install ActiveMQ on CentOS cannot open admin and other webpages","body":"<p>I also faced same problem after installing maven , for workaround did uninstall maven and perform the below steps.</p>\n<p>Tried to reinstall activemq .</p>\n<p>brew reinstall activemq.</p>\n<p>after this restart the system as well.</p>\n"}],"owner":{"account_id":6198768,"reputation":737,"user_id":4829317,"accept_rate":58,"display_name":"Pingjiang Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653056494,"creation_date":1455823111,"question_id":35490511,"body_markdown":"I am installing ActiveMQ 5.13.1 on CentOS 6.7. I am fellowing this tutorial: https://rburnham.wordpress.com/2012/09/14/installing-and-managing-activemq-on-centos/.\r\n\r\nI almost fellow the steps, now I can access \r\nhttp://xxx.xxx.xx:8161/ from remote client, it shows &quot;Welcome to the Apache ActiveMQ!&quot; page, but once I open http://xxx.xxx.xx:8161/admin, error appears:\r\n\r\n    HTTP ERROR 500\r\n\r\n    Problem accessing /admin/. Reason:\r\n\r\n    Server Error\r\n\r\n    Caused by:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/activemq/web/filter/ApplicationContextFilter$2\r\n\tat org.apache.activemq.web.filter.ApplicationContextFilter.createRequestContextWrapper(ApplicationContextFilter.java:168)\r\n\tat org.apache.activemq.web.filter.ApplicationContextFilter.doFilter(ApplicationContextFilter.java:84)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\r\n\tat org.apache.activemq.web.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:47)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:542)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:542)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:499)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\r\n\tat org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Powered by Jetty://\r\n\r\nActually some steps I cannot achieve:\r\n\r\n    sudo /opt/activemq/bin/activemq-admin list\r\nIt said there is no activemq-admin. \r\n\r\nAfter I do :\r\n\r\n    sudo /opt/activemq/bin/activemq setup /etc/default/activemq\r\n/etc/default/activemq is not created. so I cannot do:\r\n\r\n    sudo chown root /etc/default/activemq \r\nand \r\n\r\n    sudo chmod 600 /etc/default/activemq\r\n\r\nI also fellow another answer( https://stackoverflow.com/questions/6947224/activemq-console-not-available ) change the config file from    \r\n\r\n    &lt;import resource=&quot;jetty.xml&quot;/&gt;\r\nto\r\n\r\n    &lt;import resource=&quot;${activemq.base}/conf/jetty.xml&quot;/&gt;","title":"Install ActiveMQ on CentOS cannot open admin and other webpages","body":"<p>I am installing ActiveMQ 5.13.1 on CentOS 6.7. I am fellowing this tutorial: <a href=\"https://rburnham.wordpress.com/2012/09/14/installing-and-managing-activemq-on-centos/\" rel=\"nofollow noreferrer\">https://rburnham.wordpress.com/2012/09/14/installing-and-managing-activemq-on-centos/</a>.</p>\n\n<p>I almost fellow the steps, now I can access \n<a href=\"http://xxx.xxx.xx:8161/\" rel=\"nofollow noreferrer\">http://xxx.xxx.xx:8161/</a> from remote client, it shows \"Welcome to the Apache ActiveMQ!\" page, but once I open <a href=\"http://xxx.xxx.xx:8161/admin\" rel=\"nofollow noreferrer\">http://xxx.xxx.xx:8161/admin</a>, error appears:</p>\n\n<pre><code>HTTP ERROR 500\n\nProblem accessing /admin/. Reason:\n\nServer Error\n\nCaused by:\n\njava.lang.NoClassDefFoundError: org/apache/activemq/web/filter/ApplicationContextFilter$2\nat org.apache.activemq.web.filter.ApplicationContextFilter.createRequestContextWrapper(ApplicationContextFilter.java:168)\nat org.apache.activemq.web.filter.ApplicationContextFilter.doFilter(ApplicationContextFilter.java:84)\nat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\nat org.apache.activemq.web.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:47)\nat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:542)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:542)\nat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\nat org.eclipse.jetty.server.Server.handle(Server.java:499)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\nat org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\nat java.lang.Thread.run(Thread.java:745)\n\nPowered by Jetty://\n</code></pre>\n\n<p>Actually some steps I cannot achieve:</p>\n\n<pre><code>sudo /opt/activemq/bin/activemq-admin list\n</code></pre>\n\n<p>It said there is no activemq-admin. </p>\n\n<p>After I do :</p>\n\n<pre><code>sudo /opt/activemq/bin/activemq setup /etc/default/activemq\n</code></pre>\n\n<p>/etc/default/activemq is not created. so I cannot do:</p>\n\n<pre><code>sudo chown root /etc/default/activemq \n</code></pre>\n\n<p>and </p>\n\n<pre><code>sudo chmod 600 /etc/default/activemq\n</code></pre>\n\n<p>I also fellow another answer( <a href=\"https://stackoverflow.com/questions/6947224/activemq-console-not-available\">ActiveMQ console not available</a> ) change the config file from    </p>\n\n<pre><code>&lt;import resource=\"jetty.xml\"/&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;import resource=\"${activemq.base}/conf/jetty.xml\"/&gt;\n</code></pre>\n"},{"tags":["java","string","memory","in-place"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1653056544,"post_id":72320433,"comment_id":127764978,"body_markdown":"No. The Java class `String` is immutable. There is no way to modify the content of an existing `String` object.","body":"No. The Java class <code>String</code> is immutable. There is no way to modify the content of an existing <code>String</code> object."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1653056656,"post_id":72320433,"comment_id":127765011,"body_markdown":"There&#39;s not even a way to do `new String(array)` given some byte array without causing a clone of that array? I&#39;d have to carry around all my primitive `char` or `byte` arrays instead then?","body":"There&#39;s not even a way to do <code>new String(array)</code> given some byte array without causing a clone of that array? I&#39;d have to carry around all my primitive <code>char</code> or <code>byte</code> arrays instead then?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1653056948,"post_id":72320433,"comment_id":127765120,"body_markdown":"Class `String` makes a defensive copy if you create a new `String` from an array, because users should of course not be able to modify the array after the `String` object has been created. If you need a modifiable container of characters, then you&#39;ll need to use something else than a `String`. For example, as you&#39;ve discovered yourself: a `StringBuilder`, or a `char[]`, or a `java.nio.CharBuffer`.","body":"Class <code>String</code> makes a defensive copy if you create a new <code>String</code> from an array, because users should of course not be able to modify the array after the <code>String</code> object has been created. If you need a modifiable container of characters, then you&#39;ll need to use something else than a <code>String</code>. For example, as you&#39;ve discovered yourself: a <code>StringBuilder</code>, or a <code>char[]</code>, or a <code>java.nio.CharBuffer</code>."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1653057102,"post_id":72320433,"comment_id":127765181,"body_markdown":"Ok thank you, guess it wouldn&#39;t be properly object-oriented otherwise.","body":"Ok thank you, guess it wouldn&#39;t be properly object-oriented otherwise."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1653057209,"post_id":72320433,"comment_id":127765230,"body_markdown":"`String` is not immutable to make it &quot;properly object-oriented&quot;. Here&#39;s an explanation: [Why String is Immutable in Java?](https://www.baeldung.com/java-string-immutable)","body":"<code>String</code> is not immutable to make it &quot;properly object-oriented&quot;. Here&#39;s an explanation: <a href=\"https://www.baeldung.com/java-string-immutable\" rel=\"nofollow noreferrer\">Why String is Immutable in Java?</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1653059099,"post_id":72320433,"comment_id":127765998,"body_markdown":"You could use [`String.intern()`](https://stackoverflow.com/questions/10578984/what-is-java-string-interning). Maybe that fits your needs.","body":"You could use <a href=\"https://stackoverflow.com/questions/10578984/what-is-java-string-interning\"><code>String.intern()</code></a>. Maybe that fits your needs."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1653059583,"post_id":72320433,"comment_id":127766220,"body_markdown":"Any of you feel free to provide an answer and I&#39;ll accept it. Currently I&#39;m going to carry around byte arrays and make my REST API endpoints run sequentially to help avoid OOMErrors (my service is slow and hence a series of calls easily ends up being ran concurrently).\n\n\n@Seelenvirtuose [couldn&#39;t that have a significant performance penalty?](https://stackoverflow.com/questions/10624232/performance-penalty-of-string-intern) I don&#39;t have many Strings, just a few but large ones since they represent files.","body":"Any of you feel free to provide an answer and I&#39;ll accept it. Currently I&#39;m going to carry around byte arrays and make my REST API endpoints run sequentially to help avoid OOMErrors (my service is slow and hence a series of calls easily ends up being ran concurrently).   @Seelenvirtuose <a href=\"https://stackoverflow.com/questions/10624232/performance-penalty-of-string-intern\">couldn&#39;t that have a significant performance penalty?</a> I don&#39;t have many Strings, just a few but large ones since they represent files."}],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653056197,"creation_date":1653056197,"question_id":72320433,"body_markdown":"I&#39;ve got an incoming bunch of `MultipartFile` objects that I need to send through by embedding them into an XML structure and base64-encoding that structure. Initially the code easily consumed 10-20x that of the size of the files. VisualVM showed that this was due to many copies of the files being present in the form of byte arrays and Strings.\r\n\r\nAn example cause, consider the following line of code to base64 encode `String filesXML` which represents the XML with the files embedded in it : \r\n\r\n    Base64.encoder().encodeAsString(filesXML.getBytes())\r\n\r\nThis easily consumes 5x the size of the XML in terms of memory. Because `getBytes()` does a copy and the `encodeAsString()` method uses a `StringBuilder` internally, which apparently easily uses up 4x the size of the byte array it is encoding.\r\n\r\nSo I adapted code to start working with byte arrays myself and filling them in chunk by chunk, e.g. to construct the XML or to encode it in base64 format. By initializing `StringBuffer`or `StringBuilder` objects with capacities I know beforehand, I avoid lots of duplication. However I cannot find a way to for example replace things within a `String` without causing copying.\r\n\r\nIs there a way to work with a `String` in-place? Replace parts of it without creating anything new? Create a String based on a byte array without actually copying that array? Etc.","title":"In-place operations for String objects","body":"<p>I've got an incoming bunch of <code>MultipartFile</code> objects that I need to send through by embedding them into an XML structure and base64-encoding that structure. Initially the code easily consumed 10-20x that of the size of the files. VisualVM showed that this was due to many copies of the files being present in the form of byte arrays and Strings.</p>\n<p>An example cause, consider the following line of code to base64 encode <code>String filesXML</code> which represents the XML with the files embedded in it :</p>\n<pre><code>Base64.encoder().encodeAsString(filesXML.getBytes())\n</code></pre>\n<p>This easily consumes 5x the size of the XML in terms of memory. Because <code>getBytes()</code> does a copy and the <code>encodeAsString()</code> method uses a <code>StringBuilder</code> internally, which apparently easily uses up 4x the size of the byte array it is encoding.</p>\n<p>So I adapted code to start working with byte arrays myself and filling them in chunk by chunk, e.g. to construct the XML or to encode it in base64 format. By initializing <code>StringBuffer</code>or <code>StringBuilder</code> objects with capacities I know beforehand, I avoid lots of duplication. However I cannot find a way to for example replace things within a <code>String</code> without causing copying.</p>\n<p>Is there a way to work with a <code>String</code> in-place? Replace parts of it without creating anything new? Create a String based on a byte array without actually copying that array? Etc.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1653055553,"post_id":72320212,"comment_id":127764561,"body_markdown":"To understand this right: Those two classes have very similar attributes, but _not_ a common superclass, is that correct?","body":"To understand this right: Those two classes have very similar attributes, but <i>not</i> a common superclass, is that correct?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1653055582,"post_id":72320212,"comment_id":127764572,"body_markdown":"It really depends on what you do with them. Is it reasonable to have them both extends some base type, User, or implement some common interface, CommercialUser?","body":"It really depends on what you do with them. Is it reasonable to have them both extends some base type, User, or implement some common interface, CommercialUser?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1653055805,"post_id":72320212,"comment_id":127764667,"body_markdown":"Why exactly do you need to know the type for json serialization? Most(maybe even all?) libraries for dealing with json are working with `Object` when serializing to json.","body":"Why exactly do you need to know the type for json serialization? Most(maybe even all?) libraries for dealing with json are working with <code>Object</code> when serializing to json."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1653056027,"post_id":72320212,"comment_id":127764764,"body_markdown":"Not sure of the efficiency, but you could loop over the HashSet and check the type inside the loop.","body":"Not sure of the efficiency, but you could loop over the HashSet and check the type inside the loop."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653055832,"creation_date":1653055832,"answer_id":72320331,"question_id":72320212,"body_markdown":"    if (users instanceof HashSet&lt;BuyerUser&gt;)\r\n\r\nYou cannot do this, as generics are erased at runtime when the instanceof call is run\r\n\r\nInstead, the better way to go would get to create either a parent class of BuyerUser and SellerUser or an interface that both BuyUser and SellerUser have that has a function like\r\n\r\n    public String toJSON ()\r\n","title":"How to design a method that can deal with two different object types","body":"<pre><code>if (users instanceof HashSet&lt;BuyerUser&gt;)\n</code></pre>\n<p>You cannot do this, as generics are erased at runtime when the instanceof call is run</p>\n<p>Instead, the better way to go would get to create either a parent class of BuyerUser and SellerUser or an interface that both BuyUser and SellerUser have that has a function like</p>\n<pre><code>public String toJSON ()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9556454,"reputation":3310,"user_id":7098758,"display_name":"Amir MB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653056185,"creation_date":1653056185,"answer_id":72320425,"question_id":72320212,"body_markdown":"Since the parameterized type is lost on runtime, you cannot do it.\r\nYou can either create a wrapper for each `HashSet` and add a method to it which returns the type:\r\n```\r\npublic class MySet&lt;T&gt; extends HashSet&lt;T&gt; {\r\n     private Class&lt;T&gt; type;\r\n\r\n     public MySet(Class&lt;T&gt; c) {\r\n          this.type = c;\r\n     }\r\n\r\n     public Class&lt;T&gt; getType() {\r\n          return type;\r\n     }\r\n}\r\n```\r\n\r\nOr you can get the first element of the set and check the type of that:\r\n```\r\nif(set instanceof HashSet &amp;&amp; !set.isEmpty() &amp;&amp; set.iterator().next() instanceof BuyerUser) {\r\n    // BuyerUser set\r\n}\r\n\r\n```\r\n\r\nBe aware the `set` may contain different types of objects like if it was defined as `HashSet&lt;Object&gt;`.","title":"How to design a method that can deal with two different object types","body":"<p>Since the parameterized type is lost on runtime, you cannot do it.\nYou can either create a wrapper for each <code>HashSet</code> and add a method to it which returns the type:</p>\n<pre><code>public class MySet&lt;T&gt; extends HashSet&lt;T&gt; {\n     private Class&lt;T&gt; type;\n\n     public MySet(Class&lt;T&gt; c) {\n          this.type = c;\n     }\n\n     public Class&lt;T&gt; getType() {\n          return type;\n     }\n}\n</code></pre>\n<p>Or you can get the first element of the set and check the type of that:</p>\n<pre><code>if(set instanceof HashSet &amp;&amp; !set.isEmpty() &amp;&amp; set.iterator().next() instanceof BuyerUser) {\n    // BuyerUser set\n}\n\n</code></pre>\n<p>Be aware the <code>set</code> may contain different types of objects like if it was defined as <code>HashSet&lt;Object&gt;</code>.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72320425,"answer_count":2,"score":2,"last_activity_date":1653056185,"creation_date":1653055318,"question_id":72320212,"body_markdown":"I have two collections, that have almost similar attributes: \r\n\r\n    HashSet&lt;BuyerUser&gt;\r\n    HashSet&lt;SellerUser&gt;\r\n\r\n \r\n\r\nI want to write a method that serializes the objects as JSON and sends it to a web API. My problem is, however, that i&#39;m not able to write a method that is generic enough so that I don&#39;t have to repeat the code twice. \r\n\r\n    public void addToMetadata (Object users) {\r\n    \r\n       if (users instanceof BuyerUser) {\r\n            // Do this\r\n    \r\n        }\r\n        if (users instanceof SellerUser) {\r\n            // Do that\r\n    \r\n        }\r\n    }\r\n\r\nMy problem is the instanceOf check that doesn&#39;t work the way I outlined it. I would have to do something like\r\n\r\n    if (users instanceof HashSet&lt;BuyerUser&gt;)\r\n\r\nbut that gives me an error:\r\n\r\n    llegal generic type for instanceof\r\n\r\nCan that be solved in any way?","title":"How to design a method that can deal with two different object types","body":"<p>I have two collections, that have almost similar attributes:</p>\n<pre><code>HashSet&lt;BuyerUser&gt;\nHashSet&lt;SellerUser&gt;\n</code></pre>\n<p>I want to write a method that serializes the objects as JSON and sends it to a web API. My problem is, however, that i'm not able to write a method that is generic enough so that I don't have to repeat the code twice.</p>\n<pre><code>public void addToMetadata (Object users) {\n\n   if (users instanceof BuyerUser) {\n        // Do this\n\n    }\n    if (users instanceof SellerUser) {\n        // Do that\n\n    }\n}\n</code></pre>\n<p>My problem is the instanceOf check that doesn't work the way I outlined it. I would have to do something like</p>\n<pre><code>if (users instanceof HashSet&lt;BuyerUser&gt;)\n</code></pre>\n<p>but that gives me an error:</p>\n<pre><code>llegal generic type for instanceof\n</code></pre>\n<p>Can that be solved in any way?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653056282,"post_id":72320406,"comment_id":127764863,"body_markdown":"No, that is not possible.","body":"No, that is not possible."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1653056321,"post_id":72320406,"comment_id":127764876,"body_markdown":"No, this is not possible. You have to understand that instances don&#39;t have a name. Variables, on the other hand, do so.","body":"No, this is not possible. You have to understand that instances don&#39;t have a name. Variables, on the other hand, do so."},{"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"score":0,"creation_date":1653070757,"post_id":72320406,"comment_id":127770014,"body_markdown":"Can this be done using custom annotations ? Something like this  - \n`@MyComp(name = &quot;userName&quot;)`\n`Comp username;`\nIf possible, how ?","body":"Can this be done using custom annotations ? Something like this  -  <code>@MyComp(name = &quot;userName&quot;)</code> <code>Comp username;</code> If possible, how ?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1653126419,"post_id":72320406,"comment_id":127778594,"body_markdown":"Yes, this could be a way. Simply asking for &quot;how&quot; is too broad for SO. Go and read about annotations - especially custom ones. There are a ton of articles about that topic. But the more important question is: Why do you need that? I guess that this is an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"Yes, this could be a way. Simply asking for &quot;how&quot; is too broad for SO. Go and read about annotations - especially custom ones. There are a ton of articles about that topic. But the more important question is: Why do you need that? I guess that this is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}],"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653056142,"creation_date":1653056142,"question_id":72320406,"body_markdown":"I have a class like this (which I am developing)-\r\n\r\n    public class Comp { private String name; }\r\n\r\nIt is used in some other classes(which will be used by others and not in my control), like this \r\n\r\n    Comp username; \r\n    Comp password;\r\n\r\nWhat I want is, to set the name of the Comp object automatically same as the name of the instance created. That is in my case, it should return like this -\r\n\r\n    username.getName() -&gt; &quot;username&quot;\r\n    password.getName() -&gt; &quot;password&quot;\r\n\r\nI need to do this on my side(that is, in the Comp class). Is this possible to achieve ?","title":"Set a property name based on instance name in java","body":"<p>I have a class like this (which I am developing)-</p>\n<pre><code>public class Comp { private String name; }\n</code></pre>\n<p>It is used in some other classes(which will be used by others and not in my control), like this</p>\n<pre><code>Comp username; \nComp password;\n</code></pre>\n<p>What I want is, to set the name of the Comp object automatically same as the name of the instance created. That is in my case, it should return like this -</p>\n<pre><code>username.getName() -&gt; &quot;username&quot;\npassword.getName() -&gt; &quot;password&quot;\n</code></pre>\n<p>I need to do this on my side(that is, in the Comp class). Is this possible to achieve ?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","jdbctemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653051457,"post_id":72319173,"comment_id":127762878,"body_markdown":"You will need to configure your own, the code, which you can check, will always create a `JdbcTemplate` as only the `DataSource` will be injected. This is due to the assumption that your batch metadata is stored in a different database then the regular database (and thus it assumes cannot use the normal `JdbcTemplate`).","body":"You will need to configure your own, the code, which you can check, will always create a <code>JdbcTemplate</code> as only the <code>DataSource</code> will be injected. This is due to the assumption that your batch metadata is stored in a different database then the regular database (and thus it assumes cannot use the normal <code>JdbcTemplate</code>)."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":2,"creation_date":1653056212,"post_id":72319173,"comment_id":127764836,"body_markdown":"I second what @M.Deinum said. I added an answer with a code example. HTH.","body":"I second what @M.Deinum said. I added an answer with a code example. HTH."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653056134,"creation_date":1653056134,"answer_id":72320404,"question_id":72319173,"body_markdown":"That is not possible. You need to provide a custom `BatchConfigurer` and use any bean auto-configured by Boot to configure your job repository. Here is a quick example:\r\n\r\n```\r\n@Bean\r\npublic BatchConfigurer batchConfigurer(DataSource dataSource, JdbcTemplate jdbcTemplate) {\r\n    return new DefaultBatchConfigurer(dataSource) {\r\n        @Override\r\n        protected JobRepository createJobRepository() throws Exception {\r\n            JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\r\n            factoryBean.setJdbcOperations(jdbcTemplate);\r\n            // set other properties on the factory bean\r\n            factoryBean.afterPropertiesSet();\r\n            return factoryBean.getObject();\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIn this snippet, the `dataSource` and `jdbcTemplate` passed as parameters to the `batchConfigurer` method will be those auto-configured by Boot (and autowired by Spring).","title":"How to use the JdbcTemplate that is configured and available through Spring-Boot in the JobRepository?","body":"<p>That is not possible. You need to provide a custom <code>BatchConfigurer</code> and use any bean auto-configured by Boot to configure your job repository. Here is a quick example:</p>\n<pre><code>@Bean\npublic BatchConfigurer batchConfigurer(DataSource dataSource, JdbcTemplate jdbcTemplate) {\n    return new DefaultBatchConfigurer(dataSource) {\n        @Override\n        protected JobRepository createJobRepository() throws Exception {\n            JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n            factoryBean.setJdbcOperations(jdbcTemplate);\n            // set other properties on the factory bean\n            factoryBean.afterPropertiesSet();\n            return factoryBean.getObject();\n        }\n    };\n}\n</code></pre>\n<p>In this snippet, the <code>dataSource</code> and <code>jdbcTemplate</code> passed as parameters to the <code>batchConfigurer</code> method will be those auto-configured by Boot (and autowired by Spring).</p>\n"}],"owner":{"account_id":4506847,"reputation":181,"user_id":3663953,"display_name":"Ingo Griebsch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320404,"answer_count":1,"score":0,"last_activity_date":1653056134,"creation_date":1653050786,"question_id":72319173,"body_markdown":"Hiho,\r\n\r\nwe use Spring-Batch 4.3.5 inside a Spring-Boot 2.6.7 service. All things work fine so far. While unit testing the use-cases, we realized that the BatchAutoConfiguration/BatchConfigurerConfiguration creates a JobRepository. This JobRepository needs and wants some JdbcOperations. Because no instance of JdbcOperations is taken from the Spring application context while initializing all the beans, the JobRepositoryFactoryBean decides to create a fresh instance of type JdbcTemplate and attach it to the JobRepository.\r\n\r\nTherefore I would like to ask if there is an &#39;easy&#39; possibility to attach the instance of the JdbcTemplate that is provided by Spring-Boot? Is there another possibility as overwriting the whole initialization mechanism? Do we need to provide our own BatchConfigurer?\r\n\r\nAny help is really appreciated! :)","title":"How to use the JdbcTemplate that is configured and available through Spring-Boot in the JobRepository?","body":"<p>Hiho,</p>\n<p>we use Spring-Batch 4.3.5 inside a Spring-Boot 2.6.7 service. All things work fine so far. While unit testing the use-cases, we realized that the BatchAutoConfiguration/BatchConfigurerConfiguration creates a JobRepository. This JobRepository needs and wants some JdbcOperations. Because no instance of JdbcOperations is taken from the Spring application context while initializing all the beans, the JobRepositoryFactoryBean decides to create a fresh instance of type JdbcTemplate and attach it to the JobRepository.</p>\n<p>Therefore I would like to ask if there is an 'easy' possibility to attach the instance of the JdbcTemplate that is provided by Spring-Boot? Is there another possibility as overwriting the whole initialization mechanism? Do we need to provide our own BatchConfigurer?</p>\n<p>Any help is really appreciated! :)</p>\n"},{"tags":["java","json","spring","resources"],"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1534805645,"post_id":51939424,"comment_id":90828927,"body_markdown":"Or return the resource directly (while setting the appropriate content type).","body":"Or return the resource directly (while setting the appropriate content type)."},{"owner":{"account_id":1466693,"reputation":1023,"user_id":1379329,"display_name":"Kevin Raoofi"},"score":0,"creation_date":1534806489,"post_id":51939424,"comment_id":90829153,"body_markdown":"Possible duplicate of [Spring MVC : read file from src/main/resources](https://stackoverflow.com/questions/22096983/spring-mvc-read-file-from-src-main-resources)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22096983/spring-mvc-read-file-from-src-main-resources\">Spring MVC : read file from src/main/resources</a>"}],"answers":[{"tags":[],"owner":{"account_id":10634197,"reputation":2037,"user_id":7831371,"accept_rate":86,"display_name":"xtra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534869230,"creation_date":1534869230,"answer_id":51953131,"question_id":51939424,"body_markdown":"Define a RestController that fetches the JSON from the resources directory and returns it through a REST endpoint.\r\nHere the JSON in resources is called `items.json` and the endpoint will be `localhost:8080/db` (assuming you did not change the server.port property).\r\n\r\n    @RestController\r\n    public class JSONController {\r\n    \r\n    private JSONObject jsonObject;\r\n    \r\n        @GetMapping(&quot;/db&quot;)\r\n        @CrossOrigin\r\n        public JSONObject getJSON(){\r\n    \r\n            try {\r\n                Resource resource = new ClassPathResource(&quot;/items.json&quot;);\r\n                InputStream resourceInputStream = resource.getInputStream();\r\n                JSONParser jsonParser = new JSONParser();\r\n                jsonObject = (JSONObject)jsonParser.parse(\r\n                        new InputStreamReader(resourceInputStream, &quot;UTF-8&quot;));\r\n    \r\n            } catch (IOException | ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return jsonObject;\r\n        }\r\n    }\r\n\r\n","title":"Spring RestController: Return JSON resource","body":"<p>Define a RestController that fetches the JSON from the resources directory and returns it through a REST endpoint.\nHere the JSON in resources is called <code>items.json</code> and the endpoint will be <code>localhost:8080/db</code> (assuming you did not change the server.port property).</p>\n\n<pre><code>@RestController\npublic class JSONController {\n\nprivate JSONObject jsonObject;\n\n    @GetMapping(\"/db\")\n    @CrossOrigin\n    public JSONObject getJSON(){\n\n        try {\n            Resource resource = new ClassPathResource(\"/items.json\");\n            InputStream resourceInputStream = resource.getInputStream();\n            JSONParser jsonParser = new JSONParser();\n            jsonObject = (JSONObject)jsonParser.parse(\n                    new InputStreamReader(resourceInputStream, \"UTF-8\"));\n\n        } catch (IOException | ParseException e) {\n            e.printStackTrace();\n        }\n\n        return jsonObject;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10634197,"reputation":2037,"user_id":7831371,"accept_rate":86,"display_name":"xtra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653056061,"creation_date":1534805101,"question_id":51939424,"body_markdown":"How can I server JSON on localhost with Spring? I want to serve a JSONFile from the project&#39;s resource directory through a RestController.\r\n\r\nSo far I have:\r\n\r\n    @RestController\r\n    public class JSONRestController {\r\n    \r\n        @GetMapping(&quot;/list&quot;)\r\n        public String listUsers(){\r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n            File file = new File(classLoader.getResource(&quot;fileName&quot;).getFile());\r\n            //or with an external library: org.springframework.util.StreamUtils\r\n            String msg = StreamUtils.copyToString( new ClassPathResource(&quot;list.json&quot;).getInputStream(), Charset.defaultCharset()  );\r\n\r\n            return file.toString() //not an existing method\r\n        }\r\n    }\r\n\r\nThe purpose is to have a Spring application that can serve a JSON file from the resources through a REST endpoint. I want to get the file from the resources directory and return it as a JSON from a ResController endpoint. Then I want to be able to access it with a GET request originating from another application which is also on localhost. \r\n","title":"Spring RestController: Return JSON resource","body":"<p>How can I server JSON on localhost with Spring? I want to serve a JSONFile from the project's resource directory through a RestController.</p>\n\n<p>So far I have:</p>\n\n<pre><code>@RestController\npublic class JSONRestController {\n\n    @GetMapping(\"/list\")\n    public String listUsers(){\n        ClassLoader classLoader = getClass().getClassLoader();\n        File file = new File(classLoader.getResource(\"fileName\").getFile());\n        //or with an external library: org.springframework.util.StreamUtils\n        String msg = StreamUtils.copyToString( new ClassPathResource(\"list.json\").getInputStream(), Charset.defaultCharset()  );\n\n        return file.toString() //not an existing method\n    }\n}\n</code></pre>\n\n<p>The purpose is to have a Spring application that can serve a JSON file from the resources through a REST endpoint. I want to get the file from the resources directory and return it as a JSON from a ResController endpoint. Then I want to be able to access it with a GET request originating from another application which is also on localhost. </p>\n"},{"tags":["java","scala","gatling","scala-gatling"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1653054448,"post_id":72319729,"comment_id":127764102,"body_markdown":"I&#39;ve never worked with gatling, but I think you&#39;re missing the else part in `doIfOrElse`. In your java code you have provided the code for `if` block, but the else is missing. something like `.then(...).orElse(...)`. [gatling docs](https://gatling.io/docs/gatling/reference/current/core/scenario/#doiforelse)","body":"I&#39;ve never worked with gatling, but I think you&#39;re missing the else part in <code>doIfOrElse</code>. In your java code you have provided the code for <code>if</code> block, but the else is missing. something like <code>.then(...).orElse(...)</code>. <a href=\"https://gatling.io/docs/gatling/reference/current/core/scenario/#doiforelse\" rel=\"nofollow noreferrer\">gatling docs</a>"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1653054783,"post_id":72319729,"comment_id":127764240,"body_markdown":"I&#39;ll paste the example here once I clean it up a bit, but if you&#39;d like to make this comment into an answer I can accept it as the solution for the problem.","body":"I&#39;ll paste the example here once I clean it up a bit, but if you&#39;d like to make this comment into an answer I can accept it as the solution for the problem."}],"answers":[{"tags":[],"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653055428,"creation_date":1653055428,"answer_id":72320234,"question_id":72319729,"body_markdown":"It turns out that the else block is missing in the java code. Since Java does not support curried functions, gatling provides some methods in order to chain the actions together. so based on [Gatling docs](https://gatling.io/docs/gatling/reference/current/core/scenario/#doiforelse), this will do the trick:\r\n```Java\r\n.doIfOrElse(session -&gt; session.contains(&quot;token&quot;)).then(\r\n                        exec(session -&gt; session)\r\n                ).orElse(session -&gt; {...});\r\n\r\n```","title":"How to chain doIfElse Scala Gatling","body":"<p>It turns out that the else block is missing in the java code. Since Java does not support curried functions, gatling provides some methods in order to chain the actions together. so based on <a href=\"https://gatling.io/docs/gatling/reference/current/core/scenario/#doiforelse\" rel=\"nofollow noreferrer\">Gatling docs</a>, this will do the trick:</p>\n<pre><code>.doIfOrElse(session -&gt; session.contains(&quot;token&quot;)).then(\n                        exec(session -&gt; session)\n                ).orElse(session -&gt; {...});\n\n</code></pre>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320234,"answer_count":1,"score":0,"last_activity_date":1653055428,"creation_date":1653053211,"question_id":72319729,"body_markdown":"We&#39;re trying to migrate our Gatling tests from Scala to Java. We have a function that chains some execs and has a doIfElse between then. Attempting to add the same on Java affects the return type for the method and being not very familiar with Scala we&#39;re not sure how to migrate our whole login function to the Java class.\r\n\r\nScala version\r\n```\r\ndef loginFlow() = group(&quot;Login Flow&quot;) {\r\n    {\r\n      login\r\n    }\r\n  }\r\n\r\n  def login(): ChainBuilder = exec { session =&gt;\r\n    // Need to construct dynamic urls here and store in session as they won&#39;t be evaluated while the scenario is running\r\n    session.set(&quot;authorize_url&quot;, s&quot;${getBaseUrl()}/authorize&quot;)\r\n      .set(&quot;redirect_uri&quot;, s&quot;${getRedirectURI(Config.TARGET_ENV)}&quot;)\r\n      .set(&quot;client_id&quot;, Config.getProperty(&quot;client_id&quot;, &quot;152ced50-1369-4b19-8b26-8f3d5d9bfd6a.hmhco.com&quot;))\r\n  }.doIfOrElse(session =&gt; session.contains(&quot;token&quot;)) {\r\n    // If a token is provided for the user, don&#39;t login\r\n    exec { session =&gt;\r\n      logger.debug(&quot;Using a provided token&quot;)\r\n      session\r\n    }\r\n  } {\r\n    exec { session =&gt;\r\n      val username = session(&quot;username&quot;).as[String]\r\n      val password = session(&quot;password&quot;).as[String]\r\n      logger.debug(s&quot;Logging In with user: ${username}/${password}&quot;)\r\n      session.set(&quot;nonce&quot;, &quot;99999&quot;)\r\n    }\r\n  }\r\n```\r\n\r\nJava\r\n\r\n```\r\npublic ChainBuilder loginFlow() {\r\n        return group(&quot;Login Flow&quot;).on(exec(login()));\r\n    }\r\n\r\n    public ChainBuilder login() {\r\n        return exec(session -&gt; {\r\n            Session newSession = session.set(&quot;authorize_url&quot;, getBaseUrl());\r\n            session.set(&quot;redirect_uri&quot;, getRedirectURI());\r\n            session.set(&quot;client_id&quot;, Config.getProperty(&quot;client_id&quot;, &quot;152ced50-1369-4b19-8b26-8f3d5d9bfd6a.hmhco.com&quot;)) // Missing semicolon. When it&#39;s added the return type for the method changes.\r\n            return newSession;\r\n        })\r\n                .doIfOrElse(session -&gt; session.contains(&quot;token&quot;)).then(\r\n                        exec(session -&gt; session)\r\n\r\n                );\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThank you.\r\n\r\n  [1]: https://i.stack.imgur.com/VLIKD.png","title":"How to chain doIfElse Scala Gatling","body":"<p>We're trying to migrate our Gatling tests from Scala to Java. We have a function that chains some execs and has a doIfElse between then. Attempting to add the same on Java affects the return type for the method and being not very familiar with Scala we're not sure how to migrate our whole login function to the Java class.</p>\n<p>Scala version</p>\n<pre><code>def loginFlow() = group(&quot;Login Flow&quot;) {\n    {\n      login\n    }\n  }\n\n  def login(): ChainBuilder = exec { session =&gt;\n    // Need to construct dynamic urls here and store in session as they won't be evaluated while the scenario is running\n    session.set(&quot;authorize_url&quot;, s&quot;${getBaseUrl()}/authorize&quot;)\n      .set(&quot;redirect_uri&quot;, s&quot;${getRedirectURI(Config.TARGET_ENV)}&quot;)\n      .set(&quot;client_id&quot;, Config.getProperty(&quot;client_id&quot;, &quot;152ced50-1369-4b19-8b26-8f3d5d9bfd6a.hmhco.com&quot;))\n  }.doIfOrElse(session =&gt; session.contains(&quot;token&quot;)) {\n    // If a token is provided for the user, don't login\n    exec { session =&gt;\n      logger.debug(&quot;Using a provided token&quot;)\n      session\n    }\n  } {\n    exec { session =&gt;\n      val username = session(&quot;username&quot;).as[String]\n      val password = session(&quot;password&quot;).as[String]\n      logger.debug(s&quot;Logging In with user: ${username}/${password}&quot;)\n      session.set(&quot;nonce&quot;, &quot;99999&quot;)\n    }\n  }\n</code></pre>\n<p>Java</p>\n<pre><code>public ChainBuilder loginFlow() {\n        return group(&quot;Login Flow&quot;).on(exec(login()));\n    }\n\n    public ChainBuilder login() {\n        return exec(session -&gt; {\n            Session newSession = session.set(&quot;authorize_url&quot;, getBaseUrl());\n            session.set(&quot;redirect_uri&quot;, getRedirectURI());\n            session.set(&quot;client_id&quot;, Config.getProperty(&quot;client_id&quot;, &quot;152ced50-1369-4b19-8b26-8f3d5d9bfd6a.hmhco.com&quot;)) // Missing semicolon. When it's added the return type for the method changes.\n            return newSession;\n        })\n                .doIfOrElse(session -&gt; session.contains(&quot;token&quot;)).then(\n                        exec(session -&gt; session)\n\n                );\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VLIKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VLIKD.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you.</p>\n"},{"tags":["java","sql-server","spring","hibernate","localtime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1651812992,"post_id":72135390,"comment_id":127457132,"body_markdown":"This is speculative: Are you in Asia/Shanghai time zone? On January 1 1901 Shanghai changed from GMT offset +08:05:43 (local mean time) to +08:00. If your database or database driver uses a time on that date to transfer the value, then a bug in the same driver or in Hibernate could cause a discrepancy of 5 minutes 43 seconds. And possibly only until 08:05:43 (which is close to the 08:15 that you mentioned).","body":"This is speculative: Are you in Asia/Shanghai time zone? On January 1 1901 Shanghai changed from GMT offset +08:05:43 (local mean time) to +08:00. If your database or database driver uses a time on that date to transfer the value, then a bug in the same driver or in Hibernate could cause a discrepancy of 5 minutes 43 seconds. And possibly only until 08:05:43 (which is close to the 08:15 that you mentioned)."},{"owner":{"account_id":25210785,"reputation":1,"user_id":19048489,"display_name":"dustinleong"},"score":0,"creation_date":1651826312,"post_id":72135390,"comment_id":127460729,"body_markdown":"yes, as you said, my value is added 00:05:43. when i check the sql server DB time zone and java.util.calendar time-zone that is showing &#39;China Standard Time&#39;","body":"yes, as you said, my value is added 00:05:43. when i check the sql server DB time zone and java.util.calendar time-zone that is showing &#39;China Standard Time&#39;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651826400,"post_id":72135390,"comment_id":127460757,"body_markdown":"That indeed seems to confirm that were on the right track. How to work around it, I am sorry, I dont know.","body":"That indeed seems to confirm that were on the right track. How to work around it, I am sorry, I dont know."},{"owner":{"account_id":25210785,"reputation":1,"user_id":19048489,"display_name":"dustinleong"},"score":0,"creation_date":1651829528,"post_id":72135390,"comment_id":127461950,"body_markdown":"is the root cause related with hibernate time zone ? when I set UTC in hibernate, it changed all the data.........","body":"is the root cause related with hibernate time zone ? when I set UTC in hibernate, it changed all the data........."},{"owner":{"account_id":25210785,"reputation":1,"user_id":19048489,"display_name":"dustinleong"},"score":0,"creation_date":1652864585,"post_id":72135390,"comment_id":127707369,"body_markdown":"I have tried changing hibernate jdbc timezone from asia/shanghai to Etc/GMT-8, it turn out all the result to be added 05:43","body":"I have tried changing hibernate jdbc timezone from asia/shanghai to Etc/GMT-8, it turn out all the result to be added 05:43"}],"answers":[{"tags":[],"owner":{"account_id":25210785,"reputation":1,"user_id":19048489,"display_name":"dustinleong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653055334,"creation_date":1652866527,"answer_id":72286646,"question_id":72135390,"body_markdown":"Finally, it seem to be jvm `System.setProperty(&quot;user.timezone&quot;, &quot;Asia/xxxx&quot;);` is not matched with hibernate jdbc timezone `hibernate.jdbc.time_zone=Asia/xxxx;` After align that, it seem to go back to normal, Thanks Ole V.V.","title":"Java LocalTime value is not correct, when query is using hibernate","body":"<p>Finally, it seem to be jvm <code>System.setProperty(&quot;user.timezone&quot;, &quot;Asia/xxxx&quot;);</code> is not matched with hibernate jdbc timezone <code>hibernate.jdbc.time_zone=Asia/xxxx;</code> After align that, it seem to go back to normal, Thanks Ole V.V.</p>\n"}],"owner":{"account_id":25210785,"reputation":1,"user_id":19048489,"display_name":"dustinleong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653055334,"creation_date":1651802557,"question_id":72135390,"body_markdown":"The question is when I save the value between &quot;12:00 AM&quot;~&quot;8:15 AM&quot; in DB, and query the data using hibernate, it will automatically adding 5 mins.   \r\nI have tried using hibernate nativeQuery, it is worked. The value is correct, but when I use Query, the value will be wrong (adding 5 mins when the time value is between &quot;12:00 AM&quot;~&quot;8:15 AM&quot;)\r\n\r\nMy environment is using spring boot 2, hibernate 5 and java1.8\r\n&#39;st1&#39; is the field of the DB(SQL server) saving the time value between &quot;12:00 AM&quot;~&quot;8:15 AM&quot;  in type &quot;time(7)&quot;  \r\n\r\n```\r\n\r\n@Entity\r\n@Table(name=&quot;class&quot;)\r\n@NamedQuery(name=&quot;Class.findAll&quot;, query=&quot;SELECT c FROM Class c&quot;)\r\n\r\npublic class Class extends BaseBean implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n...\r\n    private LocalTime st1;\r\n\r\n\tprivate LocalTime st2;\r\n\r\n\tprivate LocalTime st3;\r\n\r\n...\r\n}\r\n```\r\n\r\nDB part\r\n```\r\n    @Transactional\r\n\tpublic ClassInfoModel getClass(Integer classRef){\r\n    Session session = sessionFactory.getCurrentSession();\r\n\t\tQuery query = session.createQuery(&quot;select c from Class c &quot;\r\n\t\t\t\t+ &quot;join fetch c.subject s &quot;\r\n\t\t\t\t+ &quot;join fetch c.refCampus ca &quot;\r\n\t\t\t\t+ &quot;where c.classRef=:classRef&quot;);\r\n\t\tquery.setInteger(&quot;classRef&quot;, classRef);\r\n\t\tList&lt;com.bean.Class&gt; result=query.getResultList();\r\n\t\treturn (com.bean.Class) (result.size()==0?null:result.get(0));\r\n   }\r\n```","title":"Java LocalTime value is not correct, when query is using hibernate","body":"<p>The question is when I save the value between &quot;12:00 AM&quot;~&quot;8:15 AM&quot; in DB, and query the data using hibernate, it will automatically adding 5 mins.<br />\nI have tried using hibernate nativeQuery, it is worked. The value is correct, but when I use Query, the value will be wrong (adding 5 mins when the time value is between &quot;12:00 AM&quot;~&quot;8:15 AM&quot;)</p>\n<p>My environment is using spring boot 2, hibernate 5 and java1.8\n'st1' is the field of the DB(SQL server) saving the time value between &quot;12:00 AM&quot;~&quot;8:15 AM&quot;  in type &quot;time(7)&quot;</p>\n<pre><code>\n@Entity\n@Table(name=&quot;class&quot;)\n@NamedQuery(name=&quot;Class.findAll&quot;, query=&quot;SELECT c FROM Class c&quot;)\n\npublic class Class extends BaseBean implements Serializable {\n    private static final long serialVersionUID = 1L;\n...\n    private LocalTime st1;\n\n    private LocalTime st2;\n\n    private LocalTime st3;\n\n...\n}\n</code></pre>\n<p>DB part</p>\n<pre><code>    @Transactional\n    public ClassInfoModel getClass(Integer classRef){\n    Session session = sessionFactory.getCurrentSession();\n        Query query = session.createQuery(&quot;select c from Class c &quot;\n                + &quot;join fetch c.subject s &quot;\n                + &quot;join fetch c.refCampus ca &quot;\n                + &quot;where c.classRef=:classRef&quot;);\n        query.setInteger(&quot;classRef&quot;, classRef);\n        List&lt;com.bean.Class&gt; result=query.getResultList();\n        return (com.bean.Class) (result.size()==0?null:result.get(0));\n   }\n</code></pre>\n"},{"tags":["java","math","quadratic","quadratic-programming"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1653054970,"post_id":72320105,"comment_id":127764313,"body_markdown":"Why are you casting the results to `int`? I suggest you try without that *and* without the call to `Math.floor`, and you&#39;ll see what&#39;s going on...","body":"Why are you casting the results to <code>int</code>? I suggest you try without that <i>and</i> without the call to <code>Math.floor</code>, and you&#39;ll see what&#39;s going on..."},{"owner":{"account_id":7690932,"reputation":3584,"user_id":6268626,"display_name":"Jonathan Sudiaman"},"score":0,"creation_date":1653055083,"post_id":72320105,"comment_id":127764364,"body_markdown":"You&#39;re losing precision by returning ArrayList&lt;Integer&gt;, how about changing that to ArrayList&lt;Double&gt;?","body":"You&#39;re losing precision by returning ArrayList&lt;Integer&gt;, how about changing that to ArrayList&lt;Double&gt;?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653055244,"post_id":72320105,"comment_id":127764434,"body_markdown":"Your `root1` will be evaluated wrong for a negative `d`, as it will be equivalent to `((-b + sqrt(d)) * a) / 2`. Don&#39;t forget parenthesis","body":"Your <code>root1</code> will be evaluated wrong for a negative <code>d</code>, as it will be equivalent to <code>((-b + sqrt(d)) * a) &#47; 2</code>. Don&#39;t forget parenthesis"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653055256,"post_id":72320105,"comment_id":127764439,"body_markdown":"`ArrayList alist` : it is recommended not to use raw types! [JLS 4.8](https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.8-400): &quot;*The use of raw types is allowed only as a concession to compatibility of legacy code. The use of raw types in code written after the introduction of generics into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.*&quot;","body":"<code>ArrayList alist</code> : it is recommended not to use raw types! <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.8-400\" rel=\"nofollow noreferrer\">JLS 4.8</a>: &quot;<i>The use of raw types is allowed only as a concession to compatibility of legacy code. The use of raw types in code written after the introduction of generics into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.</i>&quot;"}],"owner":{"account_id":23945202,"reputation":13,"user_id":17937636,"display_name":"MohishKhadse55"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653055218,"creation_date":1653054831,"question_id":72320105,"body_markdown":"While I was doing the code to pass the roots of quadratic equation using an array list, I encountered the wrong answer for the given test case `752 904 164`. Its answer was `-1,-1`, but my answer was `0,0`, so I tried searching for the solution and found I have to use the `Math.floor()` function, and after using that function, my test case runs successfully.\r\n\r\n```java\r\npublic ArrayList&lt;Integer&gt; quadraticRoots(int a, int b, int c) {\r\n    // code here\r\n    ArrayList alist = new ArrayList();\r\n    double root1 ,root2 ;\r\n    double d = (b*b)-(4*a*c);\r\n    if (d&lt;0)\r\n    { \r\n        root1 = (-b+Math.sqrt(d))/2*a;\r\n        alist.add(-1);\r\n        return alist;\r\n        \r\n        \r\n    }\r\n    else\r\n    {\r\n        double srt= Math.sqrt(d);\r\n        root1 = (-b+srt)/(2*a);\r\n        root2 = (-b-srt)/(2*a);\r\n        alist.add((int)Math.floor(Math.max(root1,root2)));  // \r\n        alist.add((int)Math.floor(Math.min(root1,root2)));\r\n        return alist;\r\n    }\r\n}\r\n``` ","title":"Why do I need to use the Math.floor while adding the roots of the quadratic equation in Java","body":"<p>While I was doing the code to pass the roots of quadratic equation using an array list, I encountered the wrong answer for the given test case <code>752 904 164</code>. Its answer was <code>-1,-1</code>, but my answer was <code>0,0</code>, so I tried searching for the solution and found I have to use the <code>Math.floor()</code> function, and after using that function, my test case runs successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;Integer&gt; quadraticRoots(int a, int b, int c) {\n    // code here\n    ArrayList alist = new ArrayList();\n    double root1 ,root2 ;\n    double d = (b*b)-(4*a*c);\n    if (d&lt;0)\n    { \n        root1 = (-b+Math.sqrt(d))/2*a;\n        alist.add(-1);\n        return alist;\n        \n        \n    }\n    else\n    {\n        double srt= Math.sqrt(d);\n        root1 = (-b+srt)/(2*a);\n        root2 = (-b-srt)/(2*a);\n        alist.add((int)Math.floor(Math.max(root1,root2)));  // \n        alist.add((int)Math.floor(Math.min(root1,root2)));\n        return alist;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","jax-rs","apache-tomee"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653053658,"post_id":72319777,"comment_id":127763742,"body_markdown":"jax-rs is perfectly fine on regular tomcat, just include the proper jars in your application and deploy. The error you get is indicating that you have compiled with a higher version of Java then supported by TomEE (or which you use running TomEE). However as stated you don&#39;t need TomEE to build a Jax-RS Webservice.","body":"jax-rs is perfectly fine on regular tomcat, just include the proper jars in your application and deploy. The error you get is indicating that you have compiled with a higher version of Java then supported by TomEE (or which you use running TomEE). However as stated you don&#39;t need TomEE to build a Jax-RS Webservice."},{"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"score":0,"creation_date":1653054149,"post_id":72319777,"comment_id":127763953,"body_markdown":"@M.Deinum Then could you please explain why I get 404 response message for an existing jax-rs resource when I run it on a regular tomcat server?by the way,i&#39;m using jdk-16 and the tomee that I have downloaded supports java 8 or higher.are you sure that the error is related to java version?","body":"@M.Deinum Then could you please explain why I get 404 response message for an existing jax-rs resource when I run it on a regular tomcat server?by the way,i&#39;m using jdk-16 and the tomee that I have downloaded supports java 8 or higher.are you sure that the error is related to java version?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653054207,"post_id":72319777,"comment_id":127763993,"body_markdown":"Yes it is related to the java version. You get the error because you are deploying on Tomcat 10 and probably written the application using Java Servlet API and not the Jakarta Servlet API (tomcat 10 is the latter, Tomcat 9 the former).","body":"Yes it is related to the java version. You get the error because you are deploying on Tomcat 10 and probably written the application using Java Servlet API and not the Jakarta Servlet API (tomcat 10 is the latter, Tomcat 9 the former)."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653055222,"post_id":72319777,"comment_id":127764421,"body_markdown":"It is about the Java version, not JavaEE vs JakartaEE.","body":"It is about the Java version, not JavaEE vs JakartaEE."},{"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"score":0,"creation_date":1653055762,"post_id":72319777,"comment_id":127764644,"body_markdown":"@M.Deinum I haven&#39;t used any servlet. I have extended the application class and using jakarta packages instead of javax. and when I assign it&#39;s directory to the selected server type it says that the directory contains files of tomcat version 10.0.4 so it can&#39;t be assigned to tomcat 9.","body":"@M.Deinum I haven&#39;t used any servlet. I have extended the application class and using jakarta packages instead of javax. and when I assign it&#39;s directory to the selected server type it says that the directory contains files of tomcat version 10.0.4 so it can&#39;t be assigned to tomcat 9."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653056173,"post_id":72319777,"comment_id":127764820,"body_markdown":"Then add the proper Jax-RS jars to your application (so that they are included) and deploy to tomcat. TomEE is using an old ASM version that doesn&#39;t support the java version you are using. ASM7 supports upto Java11, anything higher will fail.","body":"Then add the proper Jax-RS jars to your application (so that they are included) and deploy to tomcat. TomEE is using an old ASM version that doesn&#39;t support the java version you are using. ASM7 supports upto Java11, anything higher will fail."},{"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"score":0,"creation_date":1653056714,"post_id":72319777,"comment_id":127765033,"body_markdown":"ok i have already added the jaxrs jars to my project.then what about the 404 message when I use the regular tomcat?could you please check out these two links?see the beginning of this [link](https://www.theserverside.com/video/Step-by-step-RESTful-web-service-example-in-Java-using-Eclipse) and the end of this [link](https://www.theserverside.com/video/Use-Tomcat-Eclipse-to-create-a-JAX-RS-REST-web-service)","body":"ok i have already added the jaxrs jars to my project.then what about the 404 message when I use the regular tomcat?could you please check out these two links?see the beginning of this <a href=\"https://www.theserverside.com/video/Step-by-step-RESTful-web-service-example-in-Java-using-Eclipse\" rel=\"nofollow noreferrer\">link</a> and the end of this <a href=\"https://www.theserverside.com/video/Use-Tomcat-Eclipse-to-create-a-JAX-RS-REST-web-service\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"score":0,"creation_date":1653063654,"post_id":72319777,"comment_id":127767777,"body_markdown":"@M.Deinum i forgot to mention you in previous comment","body":"@M.Deinum i forgot to mention you in previous comment"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653067671,"post_id":72319777,"comment_id":127768995,"body_markdown":"You need to add the jax-rs api and an implementation, without an implementation it will do nothing. I would also suggest to find another tutorial and if you do follow the tutorial (using the same versions etc. etc.) but you choose to use newer versions. As mentioned add next to the jax-rs api an implementation (like Jersey) and deploy on tomcat instead. The tutorial you link to even says so (not mentioning a concrete implementation, but still referencing that you need an implementation).,","body":"You need to add the jax-rs api and an implementation, without an implementation it will do nothing. I would also suggest to find another tutorial and if you do follow the tutorial (using the same versions etc. etc.) but you choose to use newer versions. As mentioned add next to the jax-rs api an implementation (like Jersey) and deploy on tomcat instead. The tutorial you link to even says so (not mentioning a concrete implementation, but still referencing that you need an implementation).,"},{"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"score":0,"creation_date":1653386946,"post_id":72319777,"comment_id":127834285,"body_markdown":"@M.Deinum hi again, I&#39;m really sorry that I&#39;m leaving another comment after days, I didn&#39;t have access to the internet for some days. I did as you said, added the resteasy implementation libraries to the web-inf-&gt;lib folder and used the standard tomcat v.10. the problems that I spoke of in this question are gone but when I run the app on the created server (tomcat 10) it doesn&#39;t recognize my project and returns 404 for the root address (http://localhost:9999/Form, form is the name of my project).what should I do now?","body":"@M.Deinum hi again, I&#39;m really sorry that I&#39;m leaving another comment after days, I didn&#39;t have access to the internet for some days. I did as you said, added the resteasy implementation libraries to the web-inf-&gt;lib folder and used the standard tomcat v.10. the problems that I spoke of in this question are gone but when I run the app on the created server (tomcat 10) it doesn&#39;t recognize my project and returns 404 for the root address (<a href=\"http://localhost:9999/Form\" rel=\"nofollow noreferrer\">localhost:9999/Form</a>, form is the name of my project).what should I do now?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653055141,"creation_date":1653055141,"answer_id":72320172,"question_id":72319777,"body_markdown":"I can see this in the logs: Unsupported class file major version 60\r\n\r\nIs it possible you compiled the code using Java 16 but are now trying to execute on something below?\r\n\r\nSee also\r\n- https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\r\n- https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.1-200-B.2","title":"Server Tomcat v10.0 Server at localhost failed to start","body":"<p>I can see this in the logs: Unsupported class file major version 60</p>\n<p>Is it possible you compiled the code using Java 16 but are now trying to execute on something below?</p>\n<p>See also</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">List of Java class file format major version numbers?</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.1-200-B.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.1-200-B.2</a></li>\n</ul>\n"}],"owner":{"account_id":21035823,"reputation":19,"user_id":15459285,"display_name":"Navid Nasro"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5794,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653055355,"accepted_answer_id":72320172,"answer_count":1,"score":0,"last_activity_date":1653055141,"creation_date":1653053433,"question_id":72319777,"body_markdown":"I&#39;m developing a web application in eclipse with Jax-rs framework and I run it on a TomEE plus server. The reason why I use TomEE Plus instead of standard tomcat is that I want to write my app with jax-rs and jax-rs is not supported by the standard tomcat and it will result in 404 every time the app is run. I have downloaded TomEE-Plus-9.0.0-M7 and added it to eclipse by setting the type as Tomcat v10.0 Server and set the installation directory to where i had unzipped the downloaded TomEE Plus files.i have also placed all needed jars for my app in web-inf/lib directory.the problem is that when i try to run the app on the created server i receive this error: \r\n\r\n&gt; Server Tomcat v10.0 Server at localhost failed to start\r\n\r\nLooking at the console I saw that there are some exceptions being thrown. this is the console :\r\n\r\n    May 20, 2022 5:10:00 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Server version name:   Apache Tomcat/10.0.4\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Server built:          Mar 5 2021 11:07:15 UTC\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Server version number: 10.0.4.0\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: OS Name:               Windows 10\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: OS Version:            10.0\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Architecture:          amd64\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Java Home:             C:\\Program Files\\Java\\jdk-16\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: JVM Version:           16+36-2231\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: CATALINA_BASE:         D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: CATALINA_HOME:         D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Command line argument: -Dcatalina.base=D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Command line argument: -Dcatalina.home=D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Command line argument: -Dwtp.deploy=D:\\apache-tomee-plus-9.0.0-M7\\wtpwebapps\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    INFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Command line argument: -Dfile.encoding=Cp1252\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\r\n    May 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [C:\\Program Files\\Java\\jdk-16\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\AMD\\ATI.ACE\\Core-Static;C:\\Program Files (x86)\\Microsoft SQL Server\\90\\Tools\\binn\\;D:\\matlab\\runtime\\win64;D:\\matlab\\bin;D:\\matlab\\polyspace\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\maxplus2\\bin;C:\\Program Files\\Java\\jdk-16;\\bin;C:\\Users\\LENOVO\\AppData\\Local\\Microsoft\\WindowsApps;;.]\r\n    May 20, 2022 5:10:02 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8888&quot;]\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.util.OptionsLog info\r\n    INFO: Using &#39;openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator&#39;\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: ********************************************************************************\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: OpenEJB http://tomee.apache.org/\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: Startup: Fri May 20 17:10:03 IRDT 2022\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: Copyright 1999-2021 (C) Apache TomEE Project, All Rights Reserved.\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: Version: 9.0.0-M7\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: Build date: 20210503\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: Build time: 02:36\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: ********************************************************************************\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: openejb.home = D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFO: openejb.base = D:\\apache-tomee-plus-9.0.0-M7\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.cdi.CdiBuilder initializeOWB\r\n    INFO: Created new singletonService org.apache.openejb.cdi.ThreadSingletonServiceImpl@47f9738\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.cdi.CdiBuilder initializeOWB\r\n    INFO: Succeeded in installing singleton service\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory init\r\n    INFO: TomEE configuration file is &#39;D:\\apache-tomee-plus-9.0.0-M7\\conf\\tomee.xml&#39;\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFO: Configuring Service(id=Tomcat Security Service, type=SecurityService, provider-id=Tomcat Security Service)\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFO: Configuring Service(id=Default Transaction Manager, type=TransactionManager, provider-id=Default Transaction Manager)\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.util.OptionsLog info\r\n    INFO: Using &#39;openejb.deployments.classpath=false&#39;\r\n    May 20, 2022 5:10:03 PM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFO: Creating TransactionManager(id=Default Transaction Manager)\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFO: Creating SecurityService(id=Tomcat Security Service)\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.ServiceManager initServer\r\n    INFO: Creating ServerService(id=cxf)\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.ServiceManager initServer\r\n    INFO: Creating ServerService(id=cxf-rs)\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\r\n    INFO:   ** Bound Services **\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager printRow\r\n    INFO:   NAME                 IP              PORT  \r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\r\n    INFO: -------\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\r\n    INFO: Ready!\r\n    May 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Server initialization in [4366] milliseconds\r\n    May 20, 2022 5:10:04 PM org.apache.tomee.catalina.OpenEJBNamingContextListener bindResource\r\n    INFO: Importing a Tomcat Resource with id &#39;UserDatabase&#39; of type &#39;org.apache.catalina.UserDatabase&#39;.\r\n    May 20, 2022 5:10:04 PM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFO: Creating Resource(id=UserDatabase)\r\n    May 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Starting service [Catalina]\r\n    May 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Starting Servlet engine: [Apache Tomcat/10.0.4]\r\n    May 20, 2022 5:10:04 PM org.apache.tomee.catalina.TomcatWebAppBuilder init\r\n    INFO: ------------------------- localhost -&gt; /Form\r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \t... 21 more\r\n    Caused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t... 27 more\r\n    Caused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\r\n    \tat org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\r\n    \t... 33 more\r\n    Caused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\r\n    \tat org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\r\n    \tat org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\r\n    \tat org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\r\n    \tat org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\r\n    \t... 35 more\r\n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\r\n    \t... 42 more\r\n    \r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \t... 13 more\r\n    Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \t... 21 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \t... 21 more\r\n    Caused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t... 27 more\r\n    Caused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\r\n    \tat org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\r\n    \t... 33 more\r\n    Caused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\r\n    \tat org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\r\n    \tat org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\r\n    \tat org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\r\n    \tat org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\r\n    \t... 35 more\r\n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\r\n    \t... 42 more\r\n    \r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n    Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \t... 13 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \t... 13 more\r\n    Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \t... 21 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\r\n    \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n    \t... 21 more\r\n    Caused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t... 27 more\r\n    Caused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\r\n    \tat org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\r\n    \t... 33 more\r\n    Caused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\r\n    \tat org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\r\n    \tat org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\r\n    \tat org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\r\n    \tat org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\r\n    \tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\r\n    \t... 35 more\r\n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\r\n    \tat org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\r\n    \tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\r\n    \t... 42 more\r\n    \r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Pausing ProtocolHandler [&quot;http-nio-8888&quot;]\r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Stopping service [Catalina]\r\n    May 20, 2022 5:10:05 PM org.apache.openejb.server.SimpleServiceManager stop\r\n    INFO: Stopping server services\r\n    May 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFO: Destroying ProtocolHandler [&quot;http-nio-8888&quot;]\r\n\r\nI have read many solutions including deleting .snap file, deleting the server and creating new one, removing the server from targeted runtimes and ... . i really have no idea what the problem is and it&#39;s been two days that i&#39;m stuck on this. I appreciate anyone who can help. thanks in advance.","title":"Server Tomcat v10.0 Server at localhost failed to start","body":"<p>I'm developing a web application in eclipse with Jax-rs framework and I run it on a TomEE plus server. The reason why I use TomEE Plus instead of standard tomcat is that I want to write my app with jax-rs and jax-rs is not supported by the standard tomcat and it will result in 404 every time the app is run. I have downloaded TomEE-Plus-9.0.0-M7 and added it to eclipse by setting the type as Tomcat v10.0 Server and set the installation directory to where i had unzipped the downloaded TomEE Plus files.i have also placed all needed jars for my app in web-inf/lib directory.the problem is that when i try to run the app on the created server i receive this error:</p>\n<blockquote>\n<p>Server Tomcat v10.0 Server at localhost failed to start</p>\n</blockquote>\n<p>Looking at the console I saw that there are some exceptions being thrown. this is the console :</p>\n<pre><code>May 20, 2022 5:10:00 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Server version name:   Apache Tomcat/10.0.4\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Server built:          Mar 5 2021 11:07:15 UTC\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Server version number: 10.0.4.0\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: OS Name:               Windows 10\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: OS Version:            10.0\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Architecture:          amd64\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Java Home:             C:\\Program Files\\Java\\jdk-16\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: JVM Version:           16+36-2231\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: JVM Vendor:            Oracle Corporation\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: CATALINA_BASE:         D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: CATALINA_HOME:         D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Command line argument: -Dcatalina.base=D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Command line argument: -Dcatalina.home=D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Command line argument: -Dwtp.deploy=D:\\apache-tomee-plus-9.0.0-M7\\wtpwebapps\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nINFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Command line argument: -Dfile.encoding=Cp1252\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\nMay 20, 2022 5:10:01 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [C:\\Program Files\\Java\\jdk-16\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\AMD\\ATI.ACE\\Core-Static;C:\\Program Files (x86)\\Microsoft SQL Server\\90\\Tools\\binn\\;D:\\matlab\\runtime\\win64;D:\\matlab\\bin;D:\\matlab\\polyspace\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\maxplus2\\bin;C:\\Program Files\\Java\\jdk-16;\\bin;C:\\Users\\LENOVO\\AppData\\Local\\Microsoft\\WindowsApps;;.]\nMay 20, 2022 5:10:02 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Initializing ProtocolHandler [&quot;http-nio-8888&quot;]\nMay 20, 2022 5:10:03 PM org.apache.openejb.util.OptionsLog info\nINFO: Using 'openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator'\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: ********************************************************************************\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: OpenEJB http://tomee.apache.org/\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: Startup: Fri May 20 17:10:03 IRDT 2022\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: Copyright 1999-2021 (C) Apache TomEE Project, All Rights Reserved.\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: Version: 9.0.0-M7\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: Build date: 20210503\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: Build time: 02:36\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: ********************************************************************************\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: openejb.home = D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:03 PM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFO: openejb.base = D:\\apache-tomee-plus-9.0.0-M7\nMay 20, 2022 5:10:03 PM org.apache.openejb.cdi.CdiBuilder initializeOWB\nINFO: Created new singletonService org.apache.openejb.cdi.ThreadSingletonServiceImpl@47f9738\nMay 20, 2022 5:10:03 PM org.apache.openejb.cdi.CdiBuilder initializeOWB\nINFO: Succeeded in installing singleton service\nMay 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory init\nINFO: TomEE configuration file is 'D:\\apache-tomee-plus-9.0.0-M7\\conf\\tomee.xml'\nMay 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory configureService\nINFO: Configuring Service(id=Tomcat Security Service, type=SecurityService, provider-id=Tomcat Security Service)\nMay 20, 2022 5:10:03 PM org.apache.openejb.config.ConfigurationFactory configureService\nINFO: Configuring Service(id=Default Transaction Manager, type=TransactionManager, provider-id=Default Transaction Manager)\nMay 20, 2022 5:10:03 PM org.apache.openejb.util.OptionsLog info\nINFO: Using 'openejb.deployments.classpath=false'\nMay 20, 2022 5:10:03 PM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFO: Creating TransactionManager(id=Default Transaction Manager)\nMay 20, 2022 5:10:04 PM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFO: Creating SecurityService(id=Tomcat Security Service)\nMay 20, 2022 5:10:04 PM org.apache.openejb.server.ServiceManager initServer\nINFO: Creating ServerService(id=cxf)\nMay 20, 2022 5:10:04 PM org.apache.openejb.server.ServiceManager initServer\nINFO: Creating ServerService(id=cxf-rs)\nMay 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\nINFO:   ** Bound Services **\nMay 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager printRow\nINFO:   NAME                 IP              PORT  \nMay 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\nINFO: -------\nMay 20, 2022 5:10:04 PM org.apache.openejb.server.SimpleServiceManager start\nINFO: Ready!\nMay 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Server initialization in [4366] milliseconds\nMay 20, 2022 5:10:04 PM org.apache.tomee.catalina.OpenEJBNamingContextListener bindResource\nINFO: Importing a Tomcat Resource with id 'UserDatabase' of type 'org.apache.catalina.UserDatabase'.\nMay 20, 2022 5:10:04 PM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFO: Creating Resource(id=UserDatabase)\nMay 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Starting service [Catalina]\nMay 20, 2022 5:10:04 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Starting Servlet engine: [Apache Tomcat/10.0.4]\nMay 20, 2022 5:10:04 PM org.apache.tomee.catalina.TomcatWebAppBuilder init\nINFO: ------------------------- localhost -&gt; /Form\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\nCaused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\nCaused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\n    at org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\n    ... 33 more\nCaused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\n    at org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\n    at org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\n    at org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\n    at org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\n    ... 35 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\n    ... 42 more\n\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\nCaused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\nCaused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\n    at org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\n    ... 33 more\nCaused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\n    at org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\n    at org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\n    at org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\n    at org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\n    ... 35 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\n    ... 42 more\n\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.NativeMethodAccessorImpl invoke\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 13 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:880)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Form]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\nCaused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2392)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5031)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\nCaused by: org.apache.openejb.OpenEJBException: Unable to create annotation scanner for web module Form: Unable to read class definition for api.AppTest\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:886)\n    at org.apache.openejb.config.DeploymentLoader.load(DeploymentLoader.java:233)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.loadApplication(TomcatWebAppBuilder.java:2390)\n    ... 33 more\nCaused by: java.lang.RuntimeException: Unable to read class definition for api.AppTest\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\n    at org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\n    at org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\n    at org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\n    at org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\n    ... 35 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:195)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:162)\n    at org.apache.xbean.asm7.ClassReader.&lt;init&gt;(ClassReader.java:283)\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\n    ... 42 more\n\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Pausing ProtocolHandler [&quot;http-nio-8888&quot;]\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Stopping service [Catalina]\nMay 20, 2022 5:10:05 PM org.apache.openejb.server.SimpleServiceManager stop\nINFO: Stopping server services\nMay 20, 2022 5:10:05 PM jdk.internal.reflect.DelegatingMethodAccessorImpl invoke\nINFO: Destroying ProtocolHandler [&quot;http-nio-8888&quot;]\n</code></pre>\n<p>I have read many solutions including deleting .snap file, deleting the server and creating new one, removing the server from targeted runtimes and ... . i really have no idea what the problem is and it's been two days that i'm stuck on this. I appreciate anyone who can help. thanks in advance.</p>\n"},{"tags":["java","spring-boot","routes","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":19940364,"reputation":245,"user_id":14612218,"display_name":"Numero 21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606317303,"creation_date":1606317303,"answer_id":65007522,"question_id":64961716,"body_markdown":"It is right that it works like this. the contextPath configuration in the RestConfiguration is for pure XML-API documentation. To activate the contextPath in your calls Get, Post, Put ... you need to specify it in the application.properties. Apache Camel&#39;s documentation on using the servlet may help you","title":"How to use the context Path in Camel routes?","body":"<p>It is right that it works like this. the contextPath configuration in the RestConfiguration is for pure XML-API documentation. To activate the contextPath in your calls Get, Post, Put ... you need to specify it in the application.properties. Apache Camel's documentation on using the servlet may help you</p>\n"},{"tags":[],"owner":{"account_id":13202705,"reputation":11,"user_id":10365586,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619482977,"creation_date":1619482977,"answer_id":67275350,"question_id":64961716,"body_markdown":"add property configuration on application.properties : \r\n\r\ncamel.component.servlet.mapping.context-path=/camel-rest-example/*\r\n\r\nand then call \r\n\r\nhttp://localhost:8080/camel-rest-example/${your-resource-here}","title":"How to use the context Path in Camel routes?","body":"<p>add property configuration on application.properties :</p>\n<p>camel.component.servlet.mapping.context-path=/camel-rest-example/*</p>\n<p>and then call</p>\n<p>http://localhost:8080/camel-rest-example/${your-resource-here}</p>\n"},{"tags":[],"owner":{"account_id":993261,"reputation":33,"user_id":1009902,"display_name":"Rocinante"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653055071,"creation_date":1653054575,"answer_id":72320035,"question_id":64961716,"body_markdown":"For those running into this post. In my case (3.11.6), the property was:\r\n\r\n*application.properties*\r\n\r\n    camel.servlet.mapping.context-path=/myservice/api/v1/*\r\n\r\n*application.yml*\r\n\r\n    camel:\r\n      servlet:\r\n        mapping:\r\n          context-path: /services/api/v1/* ","title":"How to use the context Path in Camel routes?","body":"<p>For those running into this post. In my case (3.11.6), the property was:</p>\n<p><em>application.properties</em></p>\n<pre><code>camel.servlet.mapping.context-path=/myservice/api/v1/*\n</code></pre>\n<p><em>application.yml</em></p>\n<pre><code>camel:\n  servlet:\n    mapping:\n      context-path: /services/api/v1/* \n</code></pre>\n"}],"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3626,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65007522,"answer_count":3,"score":6,"last_activity_date":1653055071,"creation_date":1606097257,"question_id":64961716,"body_markdown":"i am new to camel. i am doing a project in spring-boot using camel for routes. I noticed that when I go to SwaggerUi to see the correct functioning of my Post calls the contextPath of the routes does not work:\r\n```\r\npublic void configure() {\r\n\r\n        restConfiguration().component(&quot;servlet&quot;).contextPath(&quot;service/&quot;);\r\n\r\n        rest(&quot;/ocs&quot;)\r\n            .post(&quot;/homologation&quot;)\r\n                .id(camelRoutesIdConfig.getHomologationRequestRouteId())\r\n                .consumes(&quot;application/json&quot;)\r\n                .produces(&quot;application/json&quot;)\r\n                .param()\r\n                    .name(&quot;IntegrationRequestDto&quot;)\r\n                    .type(RestParamType.body)\r\n                    .required(true)\r\n                    .description(&quot;attivazione nuovo contratto sul portale&quot;)\r\n                .endParam()\r\n                .to(&quot;direct:homologation&quot;)\r\n\r\n}\r\n```\r\nThis problem does not occur if in the application.yml I specify the contextPath like this:\r\n```\r\ncamel:\r\n  rest:\r\n    component: servlet\r\n    binding-mode: json\r\n    enable-cors: true\r\n    data-format-property:\r\n      prettyPrint: false\r\n     component:\r\n    servlet:\r\n      mapping:\r\n        context-path: /service/*\r\n```\r\nWhen I make my call Post in one case it works, while in the case of ContextPath in routes it doesn&#39;t recognize the command and gives\r\n\r\n``` \r\n{\r\n  &quot;timestamp&quot;: &quot;2020-11-22T17:44:26.701+0000&quot;,\r\n  &quot;status&quot;: 404,\r\n  &quot;error&quot;: &quot;Not Found&quot;,\r\n  &quot;message&quot;: &quot;Not Found&quot;,\r\n  &quot;path&quot;: &quot;/service/ocs/homologation&quot;\r\n}\r\n``` \r\nWhy is there this problem? Why am I forced to also specify in the application.yml instead of using it only once in the routes? Thanks to everyone for a possible answer","title":"How to use the context Path in Camel routes?","body":"<p>i am new to camel. i am doing a project in spring-boot using camel for routes. I noticed that when I go to SwaggerUi to see the correct functioning of my Post calls the contextPath of the routes does not work:</p>\n<pre><code>public void configure() {\n\n        restConfiguration().component(&quot;servlet&quot;).contextPath(&quot;service/&quot;);\n\n        rest(&quot;/ocs&quot;)\n            .post(&quot;/homologation&quot;)\n                .id(camelRoutesIdConfig.getHomologationRequestRouteId())\n                .consumes(&quot;application/json&quot;)\n                .produces(&quot;application/json&quot;)\n                .param()\n                    .name(&quot;IntegrationRequestDto&quot;)\n                    .type(RestParamType.body)\n                    .required(true)\n                    .description(&quot;attivazione nuovo contratto sul portale&quot;)\n                .endParam()\n                .to(&quot;direct:homologation&quot;)\n\n}\n</code></pre>\n<p>This problem does not occur if in the application.yml I specify the contextPath like this:</p>\n<pre><code>camel:\n  rest:\n    component: servlet\n    binding-mode: json\n    enable-cors: true\n    data-format-property:\n      prettyPrint: false\n     component:\n    servlet:\n      mapping:\n        context-path: /service/*\n</code></pre>\n<p>When I make my call Post in one case it works, while in the case of ContextPath in routes it doesn't recognize the command and gives</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2020-11-22T17:44:26.701+0000&quot;,\n  &quot;status&quot;: 404,\n  &quot;error&quot;: &quot;Not Found&quot;,\n  &quot;message&quot;: &quot;Not Found&quot;,\n  &quot;path&quot;: &quot;/service/ocs/homologation&quot;\n}\n</code></pre>\n<p>Why is there this problem? Why am I forced to also specify in the application.yml instead of using it only once in the routes? Thanks to everyone for a possible answer</p>\n"},{"tags":["java","usb"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":3,"creation_date":1494184658,"post_id":43835608,"comment_id":74707867,"body_markdown":"What happened when you tried doing it?","body":"What happened when you tried doing it?"},{"owner":{"account_id":10842721,"reputation":55,"user_id":7973410,"display_name":"Nosai"},"score":0,"creation_date":1494185236,"post_id":43835608,"comment_id":74708080,"body_markdown":"I don&#39;t have my USB with me right now, and I haven&#39;t tried it","body":"I don&#39;t have my USB with me right now, and I haven&#39;t tried it"}],"answers":[{"tags":[],"owner":{"account_id":10839773,"reputation":61,"user_id":7971468,"display_name":"chris.acampos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494185358,"creation_date":1494185358,"answer_id":43835738,"question_id":43835608,"body_markdown":"It will not keep running unless you have the application itself downloaded onto the computer and if the files you are using are all at the same location.","title":"Java - Will the application still run after USB eject","body":"<p>It will not keep running unless you have the application itself downloaded onto the computer and if the files you are using are all at the same location.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494185991,"creation_date":1494185991,"answer_id":43835843,"question_id":43835608,"body_markdown":"This is not at all a simple question; as it depends on many factors.\r\n\r\nFirst of all, any decent operating system will **refuse** to eject &quot;removable media&quot; while that thing is still **in use**. \r\n\r\nMeaning: you can&#39;t *eject* it (as that is a process where the OS &quot;signs off&quot; a resource).\r\n\r\nIn that sense, your question doesn&#39;t make sense.\r\n\r\nIn case you are asking: what happens when I just rip out the USB media without properly ejecting; all kinds of things can happen - depending on the exact circumstances.\r\n\r\nExample: when you only have class files on the stick - chances are that the JVM will keep running until your application requires a class that wasn&#39;t previously loaded. Then the class loader will realize: that drive is gone, and the JVM will most likely crash.","title":"Java - Will the application still run after USB eject","body":"<p>This is not at all a simple question; as it depends on many factors.</p>\n\n<p>First of all, any decent operating system will <strong>refuse</strong> to eject \"removable media\" while that thing is still <strong>in use</strong>. </p>\n\n<p>Meaning: you can't <em>eject</em> it (as that is a process where the OS \"signs off\" a resource).</p>\n\n<p>In that sense, your question doesn't make sense.</p>\n\n<p>In case you are asking: what happens when I just rip out the USB media without properly ejecting; all kinds of things can happen - depending on the exact circumstances.</p>\n\n<p>Example: when you only have class files on the stick - chances are that the JVM will keep running until your application requires a class that wasn't previously loaded. Then the class loader will realize: that drive is gone, and the JVM will most likely crash.</p>\n"},{"tags":[],"owner":{"account_id":6100597,"reputation":11,"user_id":7157247,"display_name":"doodlemonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653054474,"creation_date":1653054474,"answer_id":72320010,"question_id":43835608,"body_markdown":"A possible annoying situation I&#39;ve seen is the system ejects/dismounts the USB drive (possibly as a response to the drive drawing too much power). \r\n\r\nI&#39;ve seen classloader exceptions even when the drive is subsequently remounted when the JVM tries to load a class it needs. Whilst the JVM won&#39;t have crashed it is unlikely your program will be able to do anything meaningful. ","title":"Java - Will the application still run after USB eject","body":"<p>A possible annoying situation I've seen is the system ejects/dismounts the USB drive (possibly as a response to the drive drawing too much power).</p>\n<p>I've seen classloader exceptions even when the drive is subsequently remounted when the JVM tries to load a class it needs. Whilst the JVM won't have crashed it is unlikely your program will be able to do anything meaningful.</p>\n"}],"owner":{"account_id":10842721,"reputation":55,"user_id":7973410,"display_name":"Nosai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43835843,"answer_count":3,"score":1,"last_activity_date":1653054474,"creation_date":1494184603,"question_id":43835608,"body_markdown":"Hello stackoverflow users,\r\n\r\nI am here with a very simple question. The title might say it all, but let me explain it again:\r\nI have an application that is on my USB flash drive. When I run the application from the USB flash drive will it keep running even when I eject the USB from my laptop?\r\n\r\nThanks!","title":"Java - Will the application still run after USB eject","body":"<p>Hello stackoverflow users,</p>\n\n<p>I am here with a very simple question. The title might say it all, but let me explain it again:\nI have an application that is on my USB flash drive. When I run the application from the USB flash drive will it keep running even when I eject the USB from my laptop?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","stream","hashmap","maps"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653050135,"post_id":72319012,"comment_id":127762392,"body_markdown":"The specific issue you describe in the title of the question happens because you&#39;re creating two streams (the return of both .map() operations) and passing them to an hypothetical constructor of HashMap taking these two arguments, which doesn&#39;t exist.","body":"The specific issue you describe in the title of the question happens because you&#39;re creating two streams (the return of both .map() operations) and passing them to an hypothetical constructor of HashMap taking these two arguments, which doesn&#39;t exist."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1653050139,"post_id":72319012,"comment_id":127762394,"body_markdown":"Which `HashMap` constructor are you trying to use there?","body":"Which <code>HashMap</code> constructor are you trying to use there?"},{"owner":{"account_id":25343239,"reputation":33,"user_id":19161354,"display_name":"Xyz Abc"},"score":0,"creation_date":1653050275,"post_id":72319012,"comment_id":127762443,"body_markdown":"Im trying to use the (K,V) constructor.","body":"Im trying to use the (K,V) constructor."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653050328,"post_id":72319012,"comment_id":127762459,"body_markdown":"Now of course, what you&#39;re asking is definitely possible using streams, but not like you&#39;re doing. I can&#39;t test it on an IDE but should look something like this: `Map&lt;String, Long&gt; nameAndInvertedMap = articles.entrySet().stream().collect(Collectors.toMap(k -&gt; k.getValue().getName(), Map.Entry::getKey));`","body":"Now of course, what you&#39;re asking is definitely possible using streams, but not like you&#39;re doing. I can&#39;t test it on an IDE but should look something like this: <code>Map&lt;String, Long&gt; nameAndInvertedMap = articles.entrySet().stream().collect(Collectors.toMap(k -&gt; k.getValue().getName(), Map.Entry::getKey));</code>"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1653054305,"creation_date":1653050308,"answer_id":72319074,"question_id":72319012,"body_markdown":"Your method is not actually doing what you hoped. As you can see from the compiler error, there is no `HashMap` constructor which accepts a `List` of keys and a `List` of values. Besides, even if it did, you&#39;re streaming the given `Map` (twice), then trying to swap the keys and the values in different streams and finally not even collecting the values of your streams. Streams are pipelines of operations lazily evaluated, if you do not add a terminal operation they are not even executed.\r\n\r\nHere there is an official Oracle&#39;s tutorial which sums up quite good the concept of streams and how they work:\r\n\r\nhttps://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#laziness\r\n\r\nYou can write what your method by streaming the entries of the given map and then collect them with the `collect(Collectors.toMap())` terminal operation where each `Ingredient`&#39;s name is mapped as the key while the long keys as their value. \r\n\r\n```\r\npublic static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\r\n    return articles.entrySet().stream()\r\n            .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), entry -&gt; entry.getKey()));\r\n}\r\n```\r\n\r\nNote that collecting the entries with the 2 parameters version of the method `toMap()` does not work if there are multiple keys, i.e. duplicate ingredient names in your case. The 3 parameters version of the method should be preferred as it allows handling the case of colliding keys (multiple same keys mapping different values). Possible implementations could be: discarding a value over the other, summing the values and so on.\r\n\r\nHere is a possible implementation where just one of the two values is maintained.\r\n\r\n```\r\npublic static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\r\n        return articles.entrySet().stream()\r\n                .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), entry -&gt; entry.getKey(), (longVal1, longVal2) -&gt; longVal1));\r\n    }\r\n```","title":"Hashmap - cannot infer arguments","body":"<p>Your method is not actually doing what you hoped. As you can see from the compiler error, there is no <code>HashMap</code> constructor which accepts a <code>List</code> of keys and a <code>List</code> of values. Besides, even if it did, you're streaming the given <code>Map</code> (twice), then trying to swap the keys and the values in different streams and finally not even collecting the values of your streams. Streams are pipelines of operations lazily evaluated, if you do not add a terminal operation they are not even executed.</p>\n<p>Here there is an official Oracle's tutorial which sums up quite good the concept of streams and how they work:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#laziness\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#laziness</a></p>\n<p>You can write what your method by streaming the entries of the given map and then collect them with the <code>collect(Collectors.toMap())</code> terminal operation where each <code>Ingredient</code>'s name is mapped as the key while the long keys as their value.</p>\n<pre><code>public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\n    return articles.entrySet().stream()\n            .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), entry -&gt; entry.getKey()));\n}\n</code></pre>\n<p>Note that collecting the entries with the 2 parameters version of the method <code>toMap()</code> does not work if there are multiple keys, i.e. duplicate ingredient names in your case. The 3 parameters version of the method should be preferred as it allows handling the case of colliding keys (multiple same keys mapping different values). Possible implementations could be: discarding a value over the other, summing the values and so on.</p>\n<p>Here is a possible implementation where just one of the two values is maintained.</p>\n<pre><code>public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\n        return articles.entrySet().stream()\n                .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), entry -&gt; entry.getKey(), (longVal1, longVal2) -&gt; longVal1));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653050429,"creation_date":1653050429,"answer_id":72319094,"question_id":72319012,"body_markdown":"Your stream is incorrect. Should be something like this:\r\n\r\n```java\r\npublic static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\r\n  return articles.entrySet().stream()\r\n      .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), Map.Entry::getKey));\r\n}\r\n```","title":"Hashmap - cannot infer arguments","body":"<p>Your stream is incorrect. Should be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\n  return articles.entrySet().stream()\n      .collect(Collectors.toMap(entry -&gt; entry.getValue().getName(), Map.Entry::getKey));\n}\n</code></pre>\n"}],"owner":{"account_id":25343239,"reputation":33,"user_id":19161354,"display_name":"Xyz Abc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72319074,"answer_count":2,"score":0,"last_activity_date":1653054305,"creation_date":1653049985,"question_id":72319012,"body_markdown":"Hey :) This is my first post and my first approach at streams! I am trying to learn it by myself, but since its a new style of programming Im having a tough time :D\r\n\r\n\r\n**So here&#39;s my problem:**\r\n=========================\r\n\r\nIn the following Method I have a Map of **&lt;Long, Ingredient&gt;** as parameter.\r\n(Ingredient has the String Attribute &quot;name&quot;.)\r\n\r\nI want to return an inverted Map of **&lt;String, Long&gt;**.\r\n(The string being the Attribute &quot;name&quot; of the class Ingredient.)\r\n\r\nHere is my solution using a for-loop (which worked)\r\n--------------------\r\n    public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\r\n        ArrayList&lt;String&gt; nameList = new ArrayList&lt;&gt;(articles.values().stream().map(Ingredient::getName).collect(Collectors.toList()));\r\n        ArrayList&lt;Long&gt; keyList = new ArrayList&lt;&gt;(articles.keySet());\r\n\r\n        Map&lt;String, Long&gt; nameAndInvertedMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i&lt;nameList.size(); i++){\r\n            nameAndInvertedMap.put(nameList.get(i), keyList.get(i));\r\n        }\r\n\r\n        return nameAndInvertedMap;\r\n    }\r\n\r\nHere is my approach on using streams (which I need help with)\r\n----------------------\r\nThe &quot;&lt;&gt;&quot; on the right side of initializing the HashMap is red underlined and says **&quot;Cannot infer arguments&quot;** (Using IntelliJ)\r\n\r\n    public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\r\n        Map&lt;String, Long&gt; nameAndInvertedMap =  new HashMap&lt;&gt;(\r\n                articles.values().stream().map(Ingredient::getName),\r\n                articles.keySet().stream().map(articles::get));\r\n\r\n\r\n        return nameAndInvertedMap;\r\n    }\r\n\r\nThank you for all input, tips, critique and especially for your time!\r\nWishing you all a nice day :-)\r\n\r\n","title":"Hashmap - cannot infer arguments","body":"<p>Hey :) This is my first post and my first approach at streams! I am trying to learn it by myself, but since its a new style of programming Im having a tough time :D</p>\n<h1><strong>So here's my problem:</strong></h1>\n<p>In the following Method I have a Map of <strong>&lt;Long, Ingredient&gt;</strong> as parameter.\n(Ingredient has the String Attribute &quot;name&quot;.)</p>\n<p>I want to return an inverted Map of <strong>&lt;String, Long&gt;</strong>.\n(The string being the Attribute &quot;name&quot; of the class Ingredient.)</p>\n<h2>Here is my solution using a for-loop (which worked)</h2>\n<pre><code>public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\n    ArrayList&lt;String&gt; nameList = new ArrayList&lt;&gt;(articles.values().stream().map(Ingredient::getName).collect(Collectors.toList()));\n    ArrayList&lt;Long&gt; keyList = new ArrayList&lt;&gt;(articles.keySet());\n\n    Map&lt;String, Long&gt; nameAndInvertedMap = new HashMap&lt;&gt;();\n    for (int i = 0; i&lt;nameList.size(); i++){\n        nameAndInvertedMap.put(nameList.get(i), keyList.get(i));\n    }\n\n    return nameAndInvertedMap;\n}\n</code></pre>\n<h2>Here is my approach on using streams (which I need help with)</h2>\n<p>The &quot;&lt;&gt;&quot; on the right side of initializing the HashMap is red underlined and says <strong>&quot;Cannot infer arguments&quot;</strong> (Using IntelliJ)</p>\n<pre><code>public static Map&lt;String, Long&gt; focusOnNameAndInvert(Map&lt;Long, Ingredient&gt; articles) {\n    Map&lt;String, Long&gt; nameAndInvertedMap =  new HashMap&lt;&gt;(\n            articles.values().stream().map(Ingredient::getName),\n            articles.keySet().stream().map(articles::get));\n\n\n    return nameAndInvertedMap;\n}\n</code></pre>\n<p>Thank you for all input, tips, critique and especially for your time!\nWishing you all a nice day :-)</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1652978010,"post_id":72307997,"comment_id":127744233,"body_markdown":"For clarification, you&#39;re wanting two arrays of X,Y values to be converted into an array of arrays of X,X and Y,Y?","body":"For clarification, you&#39;re wanting two arrays of X,Y values to be converted into an array of arrays of X,X and Y,Y?"},{"owner":{"account_id":19921645,"reputation":75,"user_id":14597343,"display_name":"n3x"},"score":0,"creation_date":1652978508,"post_id":72307997,"comment_id":127744378,"body_markdown":"No, for examle array of strings ABC, DEF and GHJ, KLM to be new array of objects with values of same indexes from arrays [{ABC, GHJ}, {DEF, KLM}]","body":"No, for examle array of strings ABC, DEF and GHJ, KLM to be new array of objects with values of same indexes from arrays [{ABC, GHJ}, {DEF, KLM}]"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":1,"creation_date":1652980619,"post_id":72307997,"comment_id":127745136,"body_markdown":"So, what @Ryan said","body":"So, what @Ryan said"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1652984477,"post_id":72307997,"comment_id":127746394,"body_markdown":"In you example an object is `{1,3}`, what kind of object is that? Is it a custom class? A map? another array? Do you have some code of what you&#39;re trying?","body":"In you example an object is <code>{1,3}</code>, what kind of object is that? Is it a custom class? A map? another array? Do you have some code of what you&#39;re trying?"}],"answers":[{"tags":[],"owner":{"account_id":9523169,"reputation":76,"user_id":7077305,"display_name":"Jibit George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653027293,"creation_date":1652980322,"answer_id":72308580,"question_id":72307997,"body_markdown":"You can do this by following code. \r\n\r\n\r\n\r\n\tint[] a = {1,2};\r\n\tint[] b = {1,2};\r\n\t\r\n\tObject[] arrayOfArrays = {a,b};\r\n\r\n\r\n\r\nlater say if you want to use it. You can down cast it like below\r\n\r\n\tint[] c = (int[]) arrayOfArrays[0];\r\n\tint[] d = (int[]) arrayOfArrays[1];\r\n\t\t\r\n\r\n\r\n","title":"How to merge 2 arrays in array of objects","body":"<p>You can do this by following code.</p>\n<pre><code>int[] a = {1,2};\nint[] b = {1,2};\n\nObject[] arrayOfArrays = {a,b};\n</code></pre>\n<p>later say if you want to use it. You can down cast it like below</p>\n<pre><code>int[] c = (int[]) arrayOfArrays[0];\nint[] d = (int[]) arrayOfArrays[1];\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652980501,"creation_date":1652980501,"answer_id":72308619,"question_id":72307997,"body_markdown":"```lang-java\r\nInteger[] arr1 = { 1, 3, 5, 7 };\r\nInteger[] arr2 = { 2, 4, 6, 8 };\r\nMap&lt;Integer, Integer&gt; arr_comb = new HashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; arr1.length &amp;&amp; i &lt; arr2.length; i++) {\r\n    arr_comb.put(arr1[i],arr2[i]);\r\n}\r\n```\r\n\r\nThere you go.  ","title":"How to merge 2 arrays in array of objects","body":"<pre class=\"lang-java prettyprint-override\"><code>Integer[] arr1 = { 1, 3, 5, 7 };\nInteger[] arr2 = { 2, 4, 6, 8 };\nMap&lt;Integer, Integer&gt; arr_comb = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; arr1.length &amp;&amp; i &lt; arr2.length; i++) {\n    arr_comb.put(arr1[i],arr2[i]);\n}\n</code></pre>\n<p>There you go.</p>\n"},{"tags":[],"owner":{"account_id":13872976,"reputation":313,"user_id":10015528,"display_name":"Heterocigoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652983849,"creation_date":1652983849,"answer_id":72309292,"question_id":72307997,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class MyClass {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tArrayList &lt;Object&gt; myArray = new ArrayList&lt;Object&gt;();\r\n    \t\t\r\n    \t\tint[] a = {1,2};\r\n    \t\tint[] b = {2,3};\r\n    \t\t\r\n    \t\tString[] c = {&quot;a&quot;, &quot;b&quot;};\r\n    \t\t\r\n    \t\tmyArray.add(a);\r\n    \t\tmyArray.add(b);\r\n    \t\tmyArray.add(c);\r\n    \t\tSystem.out.println(Arrays.deepToString(myArray.toArray()));\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\nWith ArrayList you can add easily different types of data, in this case using integers and Strings and you can have this result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9m55b.png","title":"How to merge 2 arrays in array of objects","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class MyClass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ArrayList &lt;Object&gt; myArray = new ArrayList&lt;Object&gt;();\n        \n        int[] a = {1,2};\n        int[] b = {2,3};\n        \n        String[] c = {&quot;a&quot;, &quot;b&quot;};\n        \n        myArray.add(a);\n        myArray.add(b);\n        myArray.add(c);\n        System.out.println(Arrays.deepToString(myArray.toArray()));\n    \n    }\n\n}\n</code></pre>\n<p>With ArrayList you can add easily different types of data, in this case using integers and Strings and you can have this result:</p>\n<p><a href=\"https://i.stack.imgur.com/9m55b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9m55b.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653054020,"creation_date":1652997804,"answer_id":72311529,"question_id":72307997,"body_markdown":"Is not clear what kind of objects OP wants in the array, but the following merges two arrays into an array of map objects, where first array provides the keys and the second the values:\r\n\r\n    int[] a = {1,2};\r\n    int[] b = {3,4};\r\n    int result = new Object[a.length];\r\n    for (int i = 0; i &lt; a.length; i++ ) {\r\n      result[i] = Map.of(a[i],b[i]);\r\n    }\r\n    System.out.println(Arrays.toString(result));\r\n\r\nThe output is slightly different, but that&#39;s just the representation \r\n\r\n    [{1=3}, {2=4}]","title":"How to merge 2 arrays in array of objects","body":"<p>Is not clear what kind of objects OP wants in the array, but the following merges two arrays into an array of map objects, where first array provides the keys and the second the values:</p>\n<pre><code>int[] a = {1,2};\nint[] b = {3,4};\nint result = new Object[a.length];\nfor (int i = 0; i &lt; a.length; i++ ) {\n  result[i] = Map.of(a[i],b[i]);\n}\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>The output is slightly different, but that's just the representation</p>\n<pre><code>[{1=3}, {2=4}]\n</code></pre>\n"}],"owner":{"account_id":19921645,"reputation":75,"user_id":14597343,"display_name":"n3x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1653054020,"creation_date":1652977448,"question_id":72307997,"body_markdown":"I have two arrays:\r\na=[1,2]\r\nb=[3,4]\r\nI want to merge them into one array of objects like this:\r\nc=[{1,3},{2,4}]","title":"How to merge 2 arrays in array of objects","body":"<p>I have two arrays:\na=[1,2]\nb=[3,4]\nI want to merge them into one array of objects like this:\nc=[{1,3},{2,4}]</p>\n"},{"tags":["java","android","chaquopy"],"comments":[{"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"score":0,"creation_date":1653073508,"post_id":72319724,"comment_id":127770838,"body_markdown":"Unfortunately speech-recognition-python requires pocketsphinx, which isn&#39;t currently supported by Chaquopy.","body":"Unfortunately speech-recognition-python requires pocketsphinx, which isn&#39;t currently supported by Chaquopy."},{"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"score":0,"creation_date":1653131591,"post_id":72319724,"comment_id":127779542,"body_markdown":"How can I solve this issue? is there anything else i can do?I s it only with pocketsphinx because I know there is a speech recognition library, can I not use it?","body":"How can I solve this issue? is there anything else i can do?I s it only with pocketsphinx because I know there is a speech recognition library, can I not use it?"},{"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"score":0,"creation_date":1653151446,"post_id":72319724,"comment_id":127783513,"body_markdown":"If you&#39;d like to try building pocketsphinx yourself, you can use the Chaquopy package build tool. For details, see [here](https://github.com/chaquo/chaquopy/issues/175#issuecomment-778543307).","body":"If you&#39;d like to try building pocketsphinx yourself, you can use the Chaquopy package build tool. For details, see <a href=\"https://github.com/chaquo/chaquopy/issues/175#issuecomment-778543307\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653053198,"creation_date":1653053198,"question_id":72319724,"body_markdown":"I&#39;m trying to make an application that detects sound from the microphone and converts it to text. \r\nI decided that the most suitable tool for this is chaquopy, because operations such as voice recognition and transcription are mostly done in python. Everything is ok but i can&#39;t install speech recognition library. Where could be the problem ? Can I download it in another way ?\r\n\r\n**build.gradle(app)**\r\n\r\n    plugins {\r\n    \r\n        //for chaquopy(python)\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.chaquo.python&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.talhakara.uzaktanegitimbitirmeprojesi&quot;\r\n            minSdk 16\r\n            targetSdk 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n           // for chaquopy(python)\r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;,&quot;x86&quot;\r\n            }\r\n            python {\r\n                buildPython &quot;C:/Users/enest/AppData/Local/Programs/Python/Python38&quot;\r\n    \r\n            }\r\n    \r\n            python{\r\n                pip{\r\n                    install &quot;speech-recognition-python&quot;  \r\n                }\r\n            }\r\n    \r\n            sourceSets {\r\n                main {\r\n                    python.srcDir &quot;src/main/python&quot;\r\n                }\r\n            }\r\n            //\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n            dataBinding true\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-tasks:18.0.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.4.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.4.2&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:29.0.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage&#39;\r\n    \r\n        implementation &#39;com.google.firebase:firebase-core:21.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-appindexing:20.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-invites:17.0.0&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.4.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        implementation &#39;com.google.firebase:firebase-firestore:24.1.2&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-auth:8.0.1&#39;\r\n    \r\n    \r\n        implementation &#39;com.google.firebase:firebase-analytics:21.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n    \r\n    \r\n        //implementation (&#39;org.jitsi.react:jitsi-meet-sdk:2.9.0&#39;) { transitive = true }\r\n    \r\n    \r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &quot;androidx.drawerlayout:drawerlayout:1.1.1&quot;\r\n    \r\n       // implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    }\r\n\r\n**build.gradle(project)**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            //chaquopy\r\n            maven { url &quot;https://chaquo.com/maven&quot; }\r\n    \r\n        }\r\n        dependencies {\r\n    \r\n            classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            //chaquopy\r\n            classpath &quot;com.chaquo.python:gradle:10.0.1&quot;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n**Android gradle plugin version**\r\n7.0.4\r\n\r\n**Gradle version**\r\n7.5-rc-1\r\n\r\n**my python version**\r\n3.8\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u2Z43.png\r\n\r\n","title":"How to install &quot;speech recognition&quot; module or another module on chaquopy in android","body":"<p>I'm trying to make an application that detects sound from the microphone and converts it to text.\nI decided that the most suitable tool for this is chaquopy, because operations such as voice recognition and transcription are mostly done in python. Everything is ok but i can't install speech recognition library. Where could be the problem ? Can I download it in another way ?</p>\n<p><strong>build.gradle(app)</strong></p>\n<pre><code>plugins {\n\n    //for chaquopy(python)\n    id 'com.android.application'\n    id 'com.chaquo.python'\n}\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.talhakara.uzaktanegitimbitirmeprojesi&quot;\n        minSdk 16\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n       // for chaquopy(python)\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;,&quot;x86&quot;\n        }\n        python {\n            buildPython &quot;C:/Users/enest/AppData/Local/Programs/Python/Python38&quot;\n\n        }\n\n        python{\n            pip{\n                install &quot;speech-recognition-python&quot;  \n            }\n        }\n\n        sourceSets {\n            main {\n                python.srcDir &quot;src/main/python&quot;\n            }\n        }\n        //\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n        dataBinding true\n    }\n}\n\n\n\n\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'\n    implementation 'com.google.android.gms:play-services-tasks:18.0.1'\n    implementation 'androidx.navigation:navigation-fragment:2.4.2'\n    implementation 'androidx.navigation:navigation-ui:2.4.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation platform('com.google.firebase:firebase-bom:29.0.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation 'com.google.firebase:firebase-storage'\n\n    implementation 'com.google.firebase:firebase-core:21.0.0'\n    implementation 'com.google.firebase:firebase-messaging:23.0.4'\n    implementation 'com.google.firebase:firebase-appindexing:20.0.0'\n    implementation 'com.google.firebase:firebase-invites:17.0.0'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.4.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.google.firebase:firebase-firestore:24.1.2'\n    implementation 'com.firebaseui:firebase-ui-auth:8.0.1'\n\n\n    implementation 'com.google.firebase:firebase-analytics:21.0.0'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n\n\n    //implementation ('org.jitsi.react:jitsi-meet-sdk:2.9.0') { transitive = true }\n\n\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.drawerlayout:drawerlayout:1.1.1&quot;\n\n   // implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n}\n</code></pre>\n<p><strong>build.gradle(project)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        //chaquopy\n        maven { url &quot;https://chaquo.com/maven&quot; }\n\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:7.0.4'\n        classpath 'com.google.gms:google-services:4.3.10'\n        //chaquopy\n        classpath &quot;com.chaquo.python:gradle:10.0.1&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Android gradle plugin version</strong>\n7.0.4</p>\n<p><strong>Gradle version</strong>\n7.5-rc-1</p>\n<p><strong>my python version</strong>\n3.8</p>\n<p><a href=\"https://i.stack.imgur.com/u2Z43.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2Z43.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652953294,"post_id":72301432,"comment_id":127734460,"body_markdown":"Is this a 32-bit application?","body":"Is this a 32-bit application?"},{"owner":{"account_id":2084987,"reputation":1147,"user_id":1856160,"accept_rate":0,"display_name":"Testuser"},"score":0,"creation_date":1652963872,"post_id":72301432,"comment_id":127738238,"body_markdown":"application is 64 bit I verified in the compatibility mode there are gray out options and shows windows 8. Also jre is embedded with my application. This tool is mainly used for workorder management, inventory management etc. Jre is old Java 6 embedded. ","body":"application is 64 bit I verified in the compatibility mode there are gray out options and shows windows 8. Also jre is embedded with my application. This tool is mainly used for workorder management, inventory management etc. Jre is old Java 6 embedded. "}],"answers":[{"tags":[],"owner":{"account_id":20908108,"reputation":21,"user_id":15359589,"display_name":"Natlink"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653053029,"creation_date":1652954246,"answer_id":72302489,"question_id":72301432,"body_markdown":"This depends on what is your application.\r\nIf you can&#39;t start your application with 1GiB of memory, but can with 512MiB, you probably have a problem with your JDK or the embedded JRE of your application.\r\n\r\nConventionally, we use multiple of 2 for heap size, so if 1024 didn&#39;t work, stay on 512. It&#39;s difficult to say more without knowing what&#39;s your application, and what&#39;s the need.\r\n\r\nFor your second question, if you start multiple thread on your application, they will just share the available memory between them. Nothing should specifically happen compared to single threaded application.\r\n\r\n***Edit:***\r\n\r\nI founded this, who can help you understand your problem maybe\r\nhttps://blog.openj9.org/2020/04/30/default-java-maximum-heap-size-is-changed-for-java-8/\r\nIt seems there is a limitation on heap size on specific jre version &lt;= 8\r\n\r\n&gt; The Xmx value is 25% of the available memory with a maximum of 25 GB. However, where there is 2 GB or less of physical memory, the value set is 50% of available memory with a minimum value of 16 MB and a maximum value of 512 MB.\r\nFor Java 8\r\nThe Xmx value is half the available memory with a minimum of 16 MB and a maximum of 512 MB.","title":"java -Xmx512m working fine but -Xmx1024m not working, what is the difference?","body":"<p>This depends on what is your application.\nIf you can't start your application with 1GiB of memory, but can with 512MiB, you probably have a problem with your JDK or the embedded JRE of your application.</p>\n<p>Conventionally, we use multiple of 2 for heap size, so if 1024 didn't work, stay on 512. It's difficult to say more without knowing what's your application, and what's the need.</p>\n<p>For your second question, if you start multiple thread on your application, they will just share the available memory between them. Nothing should specifically happen compared to single threaded application.</p>\n<p><em><strong>Edit:</strong></em></p>\n<p>I founded this, who can help you understand your problem maybe\n<a href=\"https://blog.openj9.org/2020/04/30/default-java-maximum-heap-size-is-changed-for-java-8/\" rel=\"nofollow noreferrer\">https://blog.openj9.org/2020/04/30/default-java-maximum-heap-size-is-changed-for-java-8/</a>\nIt seems there is a limitation on heap size on specific jre version &lt;= 8</p>\n<blockquote>\n<p>The Xmx value is 25% of the available memory with a maximum of 25 GB. However, where there is 2 GB or less of physical memory, the value set is 50% of available memory with a minimum value of 16 MB and a maximum value of 512 MB.\nFor Java 8\nThe Xmx value is half the available memory with a minimum of 16 MB and a maximum of 512 MB.</p>\n</blockquote>\n"}],"owner":{"account_id":2084987,"reputation":1147,"user_id":1856160,"accept_rate":0,"display_name":"Testuser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1653053029,"creation_date":1652950220,"question_id":72301432,"body_markdown":"I have a swing based application which runs as an &quot;Exe format&quot;.  Recently I faced issue when I tried to open exe it shows _&quot;could not create java virtual machine&quot;_. I went through all files and found one of the ini files mentioned as below\r\n\r\n    -Xms128m\r\n    -Xmx1024m\r\n\r\nI changed the maximum heap size to -Xmx512m, and then my application opened fine.\r\n\r\nWhy does my application works fine when I reduced the maximum heap size to 512m instead of 1024m?\r\n\r\nSecond question, what will happen if I keep the maximum heap as 512m and if I do multiple process in the application means will it through any error during when multiple activity is going on the application?\r\n\r\nPlease suggest what is the best maximum heap memory size to keep so that my application works fine.\r\n","title":"java -Xmx512m working fine but -Xmx1024m not working, what is the difference?","body":"<p>I have a swing based application which runs as an &quot;Exe format&quot;.  Recently I faced issue when I tried to open exe it shows <em>&quot;could not create java virtual machine&quot;</em>. I went through all files and found one of the ini files mentioned as below</p>\n<pre><code>-Xms128m\n-Xmx1024m\n</code></pre>\n<p>I changed the maximum heap size to -Xmx512m, and then my application opened fine.</p>\n<p>Why does my application works fine when I reduced the maximum heap size to 512m instead of 1024m?</p>\n<p>Second question, what will happen if I keep the maximum heap as 512m and if I do multiple process in the application means will it through any error during when multiple activity is going on the application?</p>\n<p>Please suggest what is the best maximum heap memory size to keep so that my application works fine.</p>\n"},{"tags":["java","spring-boot","react-native","push-notification","expo"],"comments":[{"owner":{"account_id":12026469,"reputation":17496,"user_id":8798220,"display_name":"Nisharg Shah"},"score":0,"creation_date":1646070629,"post_id":71298367,"comment_id":126028879,"body_markdown":"just use google fcm API to send the push notification, no need of SDK for that https://fcm.googleapis.com/fcm/send","body":"just use google fcm API to send the push notification, no need of SDK for that <a href=\"https://fcm.googleapis.com/fcm/send\" rel=\"nofollow noreferrer\">fcm.googleapis.com/fcm/send</a>"},{"owner":{"account_id":24407910,"reputation":13,"user_id":18335822,"display_name":"Anamaria Dragomir"},"score":0,"creation_date":1646071693,"post_id":71298367,"comment_id":126029193,"body_markdown":"I tried right now, but I got {\n  &quot;multicast_id&quot;: 6889325515579001000,\n  &quot;success&quot;: 0,\n  &quot;failure&quot;: 1,\n  &quot;canonical_ids&quot;: 0,\n  &quot;results&quot;: [\n    {\n      &quot;error&quot;: &quot;MismatchSenderId&quot;\n    }\n  ]\n}","body":"I tried right now, but I got {   &quot;multicast_id&quot;: 6889325515579001000,   &quot;success&quot;: 0,   &quot;failure&quot;: 1,   &quot;canonical_ids&quot;: 0,   &quot;results&quot;: [     {       &quot;error&quot;: &quot;MismatchSenderId&quot;     }   ] }"}],"answers":[{"tags":[],"owner":{"account_id":2570211,"reputation":67,"user_id":2229154,"display_name":"Maxi Aringoli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653052635,"creation_date":1653052635,"answer_id":72319590,"question_id":71298367,"body_markdown":"not sure if it&#39;s the best practice but it works fine for me.\r\n\r\nMy pom\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.jav&lt;/groupId&gt;\r\n            &lt;artifactId&gt;expo-server-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen in the java class\r\n\r\n    private static void sendPushNotification(String token, String titulo, String mensaje, Map&lt;String, Object&gt; data) throws PushClientException {\r\n        if (!PushClient.isExponentPushToken(token)) throw new Error(&quot;Token:&quot; + token + &quot; is not a valid token.&quot;);\r\n\r\n        ExpoPushMessage expoPushMessage = new ExpoPushMessage();\r\n        expoPushMessage.getTo().add(token);\r\n        expoPushMessage.setTitle(titulo);\r\n        expoPushMessage.setBody(mensaje);\r\n        expoPushMessage.setData(data);\r\n\r\n        List&lt;ExpoPushMessage&gt; expoPushMessages = new ArrayList&lt;&gt;();\r\n        expoPushMessages.add(expoPushMessage);\r\n\r\n        PushClient client = new PushClient();\r\n        List&lt;List&lt;ExpoPushMessage&gt;&gt; chunks = client.chunkPushNotifications(expoPushMessages);\r\n\r\n        List&lt;CompletableFuture&lt;List&lt;ExpoPushTicket&gt;&gt;&gt; messageRepliesFutures = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;ExpoPushMessage&gt; chunk : chunks) {\r\n            messageRepliesFutures.add(client.sendPushNotificationsAsync(chunk));\r\n        }\r\n\r\n        // Wait for each completable future to finish\r\n        List&lt;ExpoPushTicket&gt; allTickets = new ArrayList&lt;&gt;();\r\n        for (CompletableFuture&lt;List&lt;ExpoPushTicket&gt;&gt; messageReplyFuture : messageRepliesFutures) {\r\n            try {\r\n                allTickets.addAll(messageReplyFuture.get());\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; zippedMessagesTickets = client.zipMessagesTickets(expoPushMessages, allTickets);\r\n\r\n        List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; okTicketMessages = client.filterAllSuccessfulMessages(zippedMessagesTickets);\r\n        String okTicketMessagesString = okTicketMessages.stream().map(p -&gt; &quot;Title: &quot; + p.message.getTitle() + &quot;, Id:&quot; + p.ticket.getId()).collect(Collectors.joining(&quot;,&quot;));\r\n        LOGGER.info(&quot;Recieved OK ticket for &quot; + okTicketMessages.size() + &quot; messages: &quot; + okTicketMessagesString);\r\n\r\n        List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; errorTicketMessages = client.filterAllMessagesWithError(zippedMessagesTickets);\r\n        String errorTicketMessagesString = errorTicketMessages.stream().map(p -&gt; &quot;Title: &quot; + p.message.getTitle() + &quot;, Error: &quot; + p.ticket.getDetails().getError()).collect(Collectors.joining(&quot;,&quot;));\r\n        LOGGER.error(&quot;Recieved ERROR ticket for &quot; + errorTicketMessages.size() + &quot; messages: &quot; + errorTicketMessagesString);\r\n\r\n        /**\r\n         // Countdown 30s\r\n         int wait = 30;\r\n         for (int i = wait; i &gt;= 0; i--) {\r\n         System.out.print(&quot;Waiting for &quot; + wait + &quot; seconds. &quot; + i + &quot;s\\r&quot;);\r\n         Thread.sleep(1000);\r\n         }\r\n         System.out.println(&quot;Fetching reciepts...&quot;);\r\n\r\n         List&lt;String&gt; ticketIds = (client.getTicketIdsFromPairs(okTicketMessages));\r\n         CompletableFuture&lt;List&lt;ExpoPushReceipt&gt;&gt; receiptFutures = client.getPushNotificationReceiptsAsync(ticketIds);\r\n\r\n         List&lt;ExpoPushReceipt&gt; receipts = new ArrayList&lt;&gt;();\r\n         try {\r\n         receipts = receiptFutures.get();\r\n         } catch (ExecutionException | InterruptedException e) {\r\n         e.printStackTrace();\r\n         }\r\n\r\n         System.out.println(&quot;Recieved &quot; + receipts.size() + &quot; receipts:&quot;);\r\n\r\n         for (ExpoPushReceipt reciept : receipts) {\r\n         System.out.println(&quot;Receipt for id: &quot; + reciept.getId() + &quot; had status: &quot; + reciept.getStatus());\r\n         }\r\n         */\r\n    }\r\n\r\nIn the App.js from react native project with EXPO 44 i take expo token in this way\r\n\r\n```\r\nasync function registerForPushNotificationsAsync() {\r\n  let token;\r\n  if (isDevice) {\r\n    const { status: existingStatus } =\r\n      await Notifications.getPermissionsAsync();\r\n    let finalStatus = existingStatus;\r\n    if (existingStatus !== &quot;granted&quot;) {\r\n      const { status } = await Notifications.requestPermissionsAsync();\r\n      finalStatus = status;\r\n    }\r\n    if (finalStatus !== &quot;granted&quot;) {\r\n      alert(&quot;Failed to get push token for push notification!&quot;);\r\n      return;\r\n    }\r\n    token = (await Notifications.getExpoPushTokenAsync()).data;\r\n  }\r\n\r\n  if (Platform.OS === &quot;android&quot;) {\r\n    Notifications.setNotificationChannelAsync(&quot;default&quot;, {\r\n      name: &quot;default&quot;,\r\n      importance: Notifications.AndroidImportance.MAX,\r\n      vibrationPattern: [0, 250, 250, 250],\r\n      lightColor: &quot;#FF231F7C&quot;,\r\n    });\r\n  }\r\n\r\n  return token;\r\n}\r\n```\r\n\r\neffect from App.js\r\n\r\n```\r\n   useEffect(() =&gt; {\r\n    initFirebaseApp();\r\n    registerForPushNotificationsAsync().then(async (token) =&gt; {\r\n      //store in some place token\r\n    });\r\n    // This listener is fired whenever a notification is received while the app is foregrounded\r\n    notificationListener.current =\r\n      Notifications.addNotificationReceivedListener(handleNotification);\r\n\r\n    // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\r\n    responseListener.current =\r\n      Notifications.addNotificationResponseReceivedListener(\r\n        handleNotificationResponse\r\n      );\r\n\r\n    return () =&gt; {\r\n      Notifications.removeNotificationSubscription(\r\n        notificationListener.current\r\n      );\r\n      Notifications.removeNotificationSubscription(responseListener.current);\r\n    };\r\n  }, []);\r\n```\r\nnotification handlers in App.js\r\n```\r\n  const handleNotification = (response) =&gt; {\r\n    // console.log(response);\r\n  };\r\n\r\n  const handleNotificationResponse = (response) =&gt; {\r\n    // console.log(response)\r\n  };\r\n```\r\nI hope this helps you\r\n\r\nDocs\r\n\r\n[Expo SDK documentation][1]\r\n\r\n[Expo docs reference][2]\r\n\r\n\r\n  [1]: https://github.com/jav/expo-server-sdk-java\r\n  [2]: https://docs.expo.dev/push-notifications/sending-notifications/","title":"Send push notification using Java Springboot server and Expo React native client","body":"<p>not sure if it's the best practice but it works fine for me.</p>\n<p>My pom</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.jav&lt;/groupId&gt;\n        &lt;artifactId&gt;expo-server-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then in the java class</p>\n<pre><code>private static void sendPushNotification(String token, String titulo, String mensaje, Map&lt;String, Object&gt; data) throws PushClientException {\n    if (!PushClient.isExponentPushToken(token)) throw new Error(&quot;Token:&quot; + token + &quot; is not a valid token.&quot;);\n\n    ExpoPushMessage expoPushMessage = new ExpoPushMessage();\n    expoPushMessage.getTo().add(token);\n    expoPushMessage.setTitle(titulo);\n    expoPushMessage.setBody(mensaje);\n    expoPushMessage.setData(data);\n\n    List&lt;ExpoPushMessage&gt; expoPushMessages = new ArrayList&lt;&gt;();\n    expoPushMessages.add(expoPushMessage);\n\n    PushClient client = new PushClient();\n    List&lt;List&lt;ExpoPushMessage&gt;&gt; chunks = client.chunkPushNotifications(expoPushMessages);\n\n    List&lt;CompletableFuture&lt;List&lt;ExpoPushTicket&gt;&gt;&gt; messageRepliesFutures = new ArrayList&lt;&gt;();\n\n    for (List&lt;ExpoPushMessage&gt; chunk : chunks) {\n        messageRepliesFutures.add(client.sendPushNotificationsAsync(chunk));\n    }\n\n    // Wait for each completable future to finish\n    List&lt;ExpoPushTicket&gt; allTickets = new ArrayList&lt;&gt;();\n    for (CompletableFuture&lt;List&lt;ExpoPushTicket&gt;&gt; messageReplyFuture : messageRepliesFutures) {\n        try {\n            allTickets.addAll(messageReplyFuture.get());\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n\n    List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; zippedMessagesTickets = client.zipMessagesTickets(expoPushMessages, allTickets);\n\n    List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; okTicketMessages = client.filterAllSuccessfulMessages(zippedMessagesTickets);\n    String okTicketMessagesString = okTicketMessages.stream().map(p -&gt; &quot;Title: &quot; + p.message.getTitle() + &quot;, Id:&quot; + p.ticket.getId()).collect(Collectors.joining(&quot;,&quot;));\n    LOGGER.info(&quot;Recieved OK ticket for &quot; + okTicketMessages.size() + &quot; messages: &quot; + okTicketMessagesString);\n\n    List&lt;ExpoPushMessageTicketPair&lt;ExpoPushMessage&gt;&gt; errorTicketMessages = client.filterAllMessagesWithError(zippedMessagesTickets);\n    String errorTicketMessagesString = errorTicketMessages.stream().map(p -&gt; &quot;Title: &quot; + p.message.getTitle() + &quot;, Error: &quot; + p.ticket.getDetails().getError()).collect(Collectors.joining(&quot;,&quot;));\n    LOGGER.error(&quot;Recieved ERROR ticket for &quot; + errorTicketMessages.size() + &quot; messages: &quot; + errorTicketMessagesString);\n\n    /**\n     // Countdown 30s\n     int wait = 30;\n     for (int i = wait; i &gt;= 0; i--) {\n     System.out.print(&quot;Waiting for &quot; + wait + &quot; seconds. &quot; + i + &quot;s\\r&quot;);\n     Thread.sleep(1000);\n     }\n     System.out.println(&quot;Fetching reciepts...&quot;);\n\n     List&lt;String&gt; ticketIds = (client.getTicketIdsFromPairs(okTicketMessages));\n     CompletableFuture&lt;List&lt;ExpoPushReceipt&gt;&gt; receiptFutures = client.getPushNotificationReceiptsAsync(ticketIds);\n\n     List&lt;ExpoPushReceipt&gt; receipts = new ArrayList&lt;&gt;();\n     try {\n     receipts = receiptFutures.get();\n     } catch (ExecutionException | InterruptedException e) {\n     e.printStackTrace();\n     }\n\n     System.out.println(&quot;Recieved &quot; + receipts.size() + &quot; receipts:&quot;);\n\n     for (ExpoPushReceipt reciept : receipts) {\n     System.out.println(&quot;Receipt for id: &quot; + reciept.getId() + &quot; had status: &quot; + reciept.getStatus());\n     }\n     */\n}\n</code></pre>\n<p>In the App.js from react native project with EXPO 44 i take expo token in this way</p>\n<pre><code>async function registerForPushNotificationsAsync() {\n  let token;\n  if (isDevice) {\n    const { status: existingStatus } =\n      await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== &quot;granted&quot;) {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== &quot;granted&quot;) {\n      alert(&quot;Failed to get push token for push notification!&quot;);\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n  }\n\n  if (Platform.OS === &quot;android&quot;) {\n    Notifications.setNotificationChannelAsync(&quot;default&quot;, {\n      name: &quot;default&quot;,\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: &quot;#FF231F7C&quot;,\n    });\n  }\n\n  return token;\n}\n</code></pre>\n<p>effect from App.js</p>\n<pre><code>   useEffect(() =&gt; {\n    initFirebaseApp();\n    registerForPushNotificationsAsync().then(async (token) =&gt; {\n      //store in some place token\n    });\n    // This listener is fired whenever a notification is received while the app is foregrounded\n    notificationListener.current =\n      Notifications.addNotificationReceivedListener(handleNotification);\n\n    // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\n    responseListener.current =\n      Notifications.addNotificationResponseReceivedListener(\n        handleNotificationResponse\n      );\n\n    return () =&gt; {\n      Notifications.removeNotificationSubscription(\n        notificationListener.current\n      );\n      Notifications.removeNotificationSubscription(responseListener.current);\n    };\n  }, []);\n</code></pre>\n<p>notification handlers in App.js</p>\n<pre><code>  const handleNotification = (response) =&gt; {\n    // console.log(response);\n  };\n\n  const handleNotificationResponse = (response) =&gt; {\n    // console.log(response)\n  };\n</code></pre>\n<p>I hope this helps you</p>\n<p>Docs</p>\n<p><a href=\"https://github.com/jav/expo-server-sdk-java\" rel=\"nofollow noreferrer\">Expo SDK documentation</a></p>\n<p><a href=\"https://docs.expo.dev/push-notifications/sending-notifications/\" rel=\"nofollow noreferrer\">Expo docs reference</a></p>\n"}],"owner":{"account_id":24407910,"reputation":13,"user_id":18335822,"display_name":"Anamaria Dragomir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653052635,"creation_date":1646066970,"question_id":71298367,"body_markdown":"My serser uses Java with SpringBoot and my client is an expo react native app which uses typescript.\r\nI am really blocked by this feature: **I want to sens push notifications**. I tried a lot of methods, but I didn&#39;t succeed.\r\n\r\nOn the client side I am using the method described in expo documentation: https://docs.expo.dev/push-notifications/overview/.\r\nWhen I use their tool to send test notifications(https://expo.dev/notifications), I receive them on my device.\r\n\r\nI didn&#39;t manage to send notifications from my client app. I tried all I found on the Inthernet. When I used FirebaseMessagingService  and I used the server key from the firebase project as token, I received the SENDER_ID_MISMATCH error.\r\n\r\n```\r\n@Service\r\npublic class FirebaseMessagingService {\r\n\r\n    private final FirebaseMessaging firebaseMessaging;\r\n\r\n    public FirebaseMessagingService(FirebaseMessaging firebaseMessaging) {\r\n        this.firebaseMessaging = firebaseMessaging;\r\n    }\r\n\r\n\r\n    public String sendNotification(Note note, String topic) throws FirebaseMessagingException {\r\n\r\n        Notification notification = Notification\r\n                .builder()\r\n                .setTitle(note.getSubject())\r\n                .setBody(note.getContent())\r\n                .setImage(note.getImage())\r\n                .build();\r\n\r\n        Message message = Message\r\n                .builder()\r\n                .setNotification(notification)\r\n                .putAllData(note.getData())\r\n                .setToken(topic)\r\n                .build();\r\n\r\n        return firebaseMessaging.send(message);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI also found the **expo-server-sdk-java** but I couldn&#39;t manage to integrate it.\r\n\r\nAny heeeeelp, pleaseeee?","title":"Send push notification using Java Springboot server and Expo React native client","body":"<p>My serser uses Java with SpringBoot and my client is an expo react native app which uses typescript.\nI am really blocked by this feature: <strong>I want to sens push notifications</strong>. I tried a lot of methods, but I didn't succeed.</p>\n<p>On the client side I am using the method described in expo documentation: <a href=\"https://docs.expo.dev/push-notifications/overview/\" rel=\"nofollow noreferrer\">https://docs.expo.dev/push-notifications/overview/</a>.\nWhen I use their tool to send test notifications(<a href=\"https://expo.dev/notifications\" rel=\"nofollow noreferrer\">https://expo.dev/notifications</a>), I receive them on my device.</p>\n<p>I didn't manage to send notifications from my client app. I tried all I found on the Inthernet. When I used FirebaseMessagingService  and I used the server key from the firebase project as token, I received the SENDER_ID_MISMATCH error.</p>\n<pre><code>@Service\npublic class FirebaseMessagingService {\n\n    private final FirebaseMessaging firebaseMessaging;\n\n    public FirebaseMessagingService(FirebaseMessaging firebaseMessaging) {\n        this.firebaseMessaging = firebaseMessaging;\n    }\n\n\n    public String sendNotification(Note note, String topic) throws FirebaseMessagingException {\n\n        Notification notification = Notification\n                .builder()\n                .setTitle(note.getSubject())\n                .setBody(note.getContent())\n                .setImage(note.getImage())\n                .build();\n\n        Message message = Message\n                .builder()\n                .setNotification(notification)\n                .putAllData(note.getData())\n                .setToken(topic)\n                .build();\n\n        return firebaseMessaging.send(message);\n    }\n}\n</code></pre>\n<p>I also found the <strong>expo-server-sdk-java</strong> but I couldn't manage to integrate it.</p>\n<p>Any heeeeelp, pleaseeee?</p>\n"},{"tags":["java","gradle","system-properties"],"answers":[{"tags":[],"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653052542,"creation_date":1653052198,"answer_id":72319481,"question_id":72319446,"body_markdown":"Your screenshot presents list of `PATH` variable values. Close this dialog.\r\n\r\nOn the parent dialog window, add new variable, name it `JAVA_HOME`.\r\n\r\nPut the following value to it: `C:\\Program Files\\jdk-18.0.1`\r\n\r\nClick OK to accept your changes\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wf252.png","title":"Java Home not set","body":"<p>Your screenshot presents list of <code>PATH</code> variable values. Close this dialog.</p>\n<p>On the parent dialog window, add new variable, name it <code>JAVA_HOME</code>.</p>\n<p>Put the following value to it: <code>C:\\Program Files\\jdk-18.0.1</code></p>\n<p>Click OK to accept your changes</p>\n<p><a href=\"https://i.stack.imgur.com/Wf252.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wf252.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11818604,"reputation":26,"user_id":8648267,"display_name":"Rudah Reis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653052427,"creation_date":1653052427,"answer_id":72319539,"question_id":72319446,"body_markdown":"Click on &#39;new&#39;. Type &quot;JAVA_HOME&quot; inside variable name and type path for the java bin folder on variable value.\r\n\r\nThe result will be as below\r\n\r\n\r\n[System variables][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zDYrt.png","title":"Java Home not set","body":"<p>Click on 'new'. Type &quot;JAVA_HOME&quot; inside variable name and type path for the java bin folder on variable value.</p>\n<p>The result will be as below</p>\n<p><a href=\"https://i.stack.imgur.com/zDYrt.png\" rel=\"nofollow noreferrer\">System variables</a></p>\n"}],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72319481,"answer_count":2,"score":1,"last_activity_date":1653052542,"creation_date":1653052062,"question_id":72319446,"body_markdown":"I downloaded gradle and in the instruction it told me to add it to system variables so i did but i accidentally removed one of the paths. So when i tried to see what version of gradle i use it was saying error java home is not set(you can see in the image in the mingv terminal). My question is how can i set up my java home here is an image where is showing the paths that i have and on the right what its saying on terminal.\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Zbeq.png","title":"Java Home not set","body":"<p>I downloaded gradle and in the instruction it told me to add it to system variables so i did but i accidentally removed one of the paths. So when i tried to see what version of gradle i use it was saying error java home is not set(you can see in the image in the mingv terminal). My question is how can i set up my java home here is an image where is showing the paths that i have and on the right what its saying on terminal.\n<a href=\"https://i.stack.imgur.com/5Zbeq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Zbeq.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android-studio","import"],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653030210,"creation_date":1653030210,"answer_id":72314842,"question_id":72314516,"body_markdown":"Use **File-&gt;New-&gt;Import Module** ","title":"How can I import an entire project in Android Studio","body":"<p>Use <strong>File-&gt;New-&gt;Import Module</strong></p>\n"},{"tags":[],"owner":{"account_id":20826982,"reputation":31,"user_id":15297229,"display_name":"Himanshu Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653030937,"creation_date":1653030937,"answer_id":72314954,"question_id":72314516,"body_markdown":"Just open the project in which you want to import the existing project and then go to\r\n\r\n**File-&gt;New-&gt;Import Module**\r\n\r\nAnd then just configure the project","title":"How can I import an entire project in Android Studio","body":"<p>Just open the project in which you want to import the existing project and then go to</p>\n<p><strong>File-&gt;New-&gt;Import Module</strong></p>\n<p>And then just configure the project</p>\n"}],"owner":{"account_id":3498253,"reputation":977,"user_id":2925716,"display_name":"user2925716"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653052321,"creation_date":1653028428,"question_id":72314516,"body_markdown":"I&#39;m trying to import an entire project in Android Studio to my actual one.\r\nHowever, when I choose File-&gt;Import Project, it just opens new window with this \r\nproject I need import,\r\nwithout anything importing in. What&#39;s wrong ?\r\n\r\nAlso I do not know how to reference to the imported project.\r\n\r\n**EDIT**\r\n\r\n**I have now imported my old module, but I do not know how to use it:** (I have added my module via `project structure`) but its functions are still invisible.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xmKXH.jpg\r\n\r\n\r\n    $ grep -ri click4 .\r\n    grep: ./app8/build/intermediates/dex/debug/mergeProjectDexDebug/classes.dex: binary file matches\r\n    grep: ./app8/build/intermediates/javac/debug/classes/com/exampleC/layouttable24/MainActivity$1.class: binary file matches\r\n    grep: ./app8/build/intermediates/javac/debug/classes/com/exampleC/layouttable24/MainActivity.class: binary file matches\r\n    grep: ./app8/build/intermediates/project_dex_archive/debug/out/com/exampleC/layouttable24/MainActivity$1.dex: binary file matches\r\n    grep: ./app8/build/intermediates/project_dex_archive/debug/out/com/exampleC/layouttable24/MainActivity.dex: binary file matches\r\n    ./app8/src/main/java/com/exampleC/layouttable24/M:                        click4(view);\r\n    ./app8/src/main/java/com/exampleC/layouttable24/M:    public void click4(View view) {\r\n    ./app8/src/main/java/com/exampleC/layouttable24/MainActivity.java:                        click4(view);\r\n    ./app8/src/main/java/com/exampleC/layouttable24/MainActivity.java:    public void click4(View view) {\r\n\r\n","title":"How can I import an entire project in Android Studio","body":"<p>I'm trying to import an entire project in Android Studio to my actual one.\nHowever, when I choose File-&gt;Import Project, it just opens new window with this\nproject I need import,\nwithout anything importing in. What's wrong ?</p>\n<p>Also I do not know how to reference to the imported project.</p>\n<p><strong>EDIT</strong></p>\n<p><strong>I have now imported my old module, but I do not know how to use it:</strong> (I have added my module via <code>project structure</code>) but its functions are still invisible.</p>\n<p><a href=\"https://i.stack.imgur.com/xmKXH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xmKXH.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>$ grep -ri click4 .\ngrep: ./app8/build/intermediates/dex/debug/mergeProjectDexDebug/classes.dex: binary file matches\ngrep: ./app8/build/intermediates/javac/debug/classes/com/exampleC/layouttable24/MainActivity$1.class: binary file matches\ngrep: ./app8/build/intermediates/javac/debug/classes/com/exampleC/layouttable24/MainActivity.class: binary file matches\ngrep: ./app8/build/intermediates/project_dex_archive/debug/out/com/exampleC/layouttable24/MainActivity$1.dex: binary file matches\ngrep: ./app8/build/intermediates/project_dex_archive/debug/out/com/exampleC/layouttable24/MainActivity.dex: binary file matches\n./app8/src/main/java/com/exampleC/layouttable24/M:                        click4(view);\n./app8/src/main/java/com/exampleC/layouttable24/M:    public void click4(View view) {\n./app8/src/main/java/com/exampleC/layouttable24/MainActivity.java:                        click4(view);\n./app8/src/main/java/com/exampleC/layouttable24/MainActivity.java:    public void click4(View view) {\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1597922400,"post_id":63503891,"comment_id":112293348,"body_markdown":"Just get the server time, get the local time, discard the timezone or convert the server time to the local timezone and then check if the two times differ by no more than e.g. 5 seconds (to account for *some* delay / drift)","body":"Just get the server time, get the local time, discard the timezone or convert the server time to the local timezone and then check if the two times differ by no more than e.g. 5 seconds (to account for <i>some</i> delay / drift)"}],"answers":[{"tags":[],"owner":{"account_id":17598440,"reputation":841,"user_id":12768925,"display_name":"I Am The Blu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598283077,"creation_date":1597923139,"answer_id":63504122,"question_id":63503891,"body_markdown":"Get an extra UTC DateTimeOffset parameter as a response from the uploaded API &amp; then convert it into your local timezone.\r\n\r\nCons - \r\n\r\n&gt; If time is set wrong in the device, you have to create a localization method for it which can convert the timestamp to proper time without interfering with the local timezone. \r\n\r\nYou can use static timezoneid for conversion or get it by internal API calls, I uses Xamarin soo for me it&#39;s like - \r\n\r\n``` \r\nvar timeZoneId = &quot;Asia/Calcutta&quot;;  // use it for worldwide application usage TimeZoneInfo.Local.ToString();\r\nDateTime localizedDateTime = TimeZoneInfo.ConvertTimeFromUtc(incomingDATE.ToUniversalTime(), TimeZoneInfo.FindSystemTimeZoneById(timeZoneId));\r\n````\r\n\r\nSoo convert the received UTC DateTimeOffset to Localized time.","title":"how to show error if on device time does not match with internet time in android studio like WhatsApp","body":"<p>Get an extra UTC DateTimeOffset parameter as a response from the uploaded API &amp; then convert it into your local timezone.</p>\n<p>Cons -</p>\n<blockquote>\n<p>If time is set wrong in the device, you have to create a localization method for it which can convert the timestamp to proper time without interfering with the local timezone.</p>\n</blockquote>\n<p>You can use static timezoneid for conversion or get it by internal API calls, I uses Xamarin soo for me it's like -</p>\n<pre><code>var timeZoneId = &quot;Asia/Calcutta&quot;;  // use it for worldwide application usage TimeZoneInfo.Local.ToString();\nDateTime localizedDateTime = TimeZoneInfo.ConvertTimeFromUtc(incomingDATE.ToUniversalTime(), TimeZoneInfo.FindSystemTimeZoneById(timeZoneId));\n</code></pre>\n<p>Soo convert the received UTC DateTimeOffset to Localized time.</p>\n"},{"tags":[],"owner":{"account_id":25343346,"reputation":1,"user_id":19161447,"display_name":"Robin Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653052158,"creation_date":1653052158,"answer_id":72319466,"question_id":63503891,"body_markdown":"This thing works best for my apps. I use jsoup to  search the google time and gets current time and then I compare the phone time with google time. So if these time are different you can stop user using a dialogbox or alertbox to tell them the times have changed. You can implement in MainActivity to check this condition.\r\nHere is a snippet so you get the idea more clearly.\r\n\r\n    public class HomeActivity extends AppCompatActivity {\r\n        //phoneDate and phoneTime to get current phone date and time\r\n        String phoneDate = new SimpleDateFormat(&quot;dd MMM yyyy &quot;).format(clnd.getTime()).trim();\r\n    \tString phoneTime = new SimpleDateFormat(&quot;hh:mm a&quot;).format(clnd.getTime()).trim();\r\n    \tString googleDate;\r\n    \tString googleTime ;\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle _savedInstanceState) {\r\n    \tsuper.onCreate(_savedInstanceState);\r\n    \tsetContentView(R.layout.home);\r\n    \tThread thread = new Thread(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry  {\r\n    \t\t\t\t\t\t//URL to search time\r\n    \t\t\t\t\t\tString url = &quot;https://www.google.co.in/search?q=time&quot;;\r\n    \r\n    \t\t\t\t\t\tDocument document  = Jsoup.connect(url).get();\r\n    \t\t\t\t\t\torg.jsoup.select.Elements time = document.getElementsByClass(&quot;gsrt vk_bk FzvWSb YwPhnf&quot;);\r\n    \t\t\t\t\t\torg.jsoup.select.Elements date = document.getElementsByClass(&quot;KfQeJ&quot;);\r\n    \r\n    \t\t\t\t\t\tLog.d(&quot;HTML&quot;, &quot;google date&quot; + String.format(date.text()));\r\n    \t\t\t\t\t\tLog.d(&quot;HTML&quot;, &quot;google time&quot; + time.text());\r\n    \r\n    \t\t\t\t\t\tgoogleDate = date.text().trim();\r\n    \t\t\t\t\t\tgoogleTime = time.text().trim();\r\n    \t\t\t\t\t\t//&#39;0&#39;is not present when hour is single digit \r\n    \t\t\t\t\t\tchar second = googleTime.charAt(1);\r\n    \t\t\t\t\t\tif(second == &#39;:&#39;){\r\n    \t\t\t\t\t\tgoogleTime = &quot;0&quot; + googleTime;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tLog.d(&quot;Proper format&quot;, &quot;google time&quot; + googleTime);\r\n    \r\n    \t\t\t\t\tLog.d(&quot;Date&quot;, &quot;your current url when webpage loading..&quot; + phoneDate);\r\n    \t\t\t\t\tLog.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + phoneTime);\r\n    \r\n    \t\t\t\t\tif(googleDate.contains(phoneDate) &amp;&amp; googleTime.equals(phoneTime)){\r\n    \t\t\t\t\t\tLog.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + &quot; true&quot;);\r\n    \t\t\t\t\t}else{\r\n    \t\t\t\t\t\tLog.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + &quot; false&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tthread.start();\r\n    \t}\t\r\n    }","title":"how to show error if on device time does not match with internet time in android studio like WhatsApp","body":"<p>This thing works best for my apps. I use jsoup to  search the google time and gets current time and then I compare the phone time with google time. So if these time are different you can stop user using a dialogbox or alertbox to tell them the times have changed. You can implement in MainActivity to check this condition.\nHere is a snippet so you get the idea more clearly.</p>\n<pre><code>public class HomeActivity extends AppCompatActivity {\n    //phoneDate and phoneTime to get current phone date and time\n    String phoneDate = new SimpleDateFormat(&quot;dd MMM yyyy &quot;).format(clnd.getTime()).trim();\n    String phoneTime = new SimpleDateFormat(&quot;hh:mm a&quot;).format(clnd.getTime()).trim();\n    String googleDate;\n    String googleTime ;\n    @Override\n    protected void onCreate(Bundle _savedInstanceState) {\n    super.onCreate(_savedInstanceState);\n    setContentView(R.layout.home);\n    Thread thread = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try  {\n                        //URL to search time\n                        String url = &quot;https://www.google.co.in/search?q=time&quot;;\n\n                        Document document  = Jsoup.connect(url).get();\n                        org.jsoup.select.Elements time = document.getElementsByClass(&quot;gsrt vk_bk FzvWSb YwPhnf&quot;);\n                        org.jsoup.select.Elements date = document.getElementsByClass(&quot;KfQeJ&quot;);\n\n                        Log.d(&quot;HTML&quot;, &quot;google date&quot; + String.format(date.text()));\n                        Log.d(&quot;HTML&quot;, &quot;google time&quot; + time.text());\n\n                        googleDate = date.text().trim();\n                        googleTime = time.text().trim();\n                        //'0'is not present when hour is single digit \n                        char second = googleTime.charAt(1);\n                        if(second == ':'){\n                        googleTime = &quot;0&quot; + googleTime;\n                    }\n                    Log.d(&quot;Proper format&quot;, &quot;google time&quot; + googleTime);\n\n                    Log.d(&quot;Date&quot;, &quot;your current url when webpage loading..&quot; + phoneDate);\n                    Log.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + phoneTime);\n\n                    if(googleDate.contains(phoneDate) &amp;&amp; googleTime.equals(phoneTime)){\n                        Log.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + &quot; true&quot;);\n                    }else{\n                        Log.d(&quot;Time&quot;, &quot;your current url when webpage loading..&quot; + &quot; false&quot;);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        thread.start();\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":15899446,"reputation":17,"user_id":11472262,"display_name":"Anukul Narkhede"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63504122,"answer_count":2,"score":0,"last_activity_date":1653052158,"creation_date":1597922293,"question_id":63503891,"body_markdown":"im making an android app which shows time of upload relative to the device time, but if the device time and date is not set correct then I do not get the desired result. so how to show warning or error if the device time and date is not correct or matches to the internet time. the app should not work unless the user set the date and time correct.","title":"how to show error if on device time does not match with internet time in android studio like WhatsApp","body":"<p>im making an android app which shows time of upload relative to the device time, but if the device time and date is not set correct then I do not get the desired result. so how to show warning or error if the device time and date is not correct or matches to the internet time. the app should not work unless the user set the date and time correct.</p>\n"},{"tags":["java","spring-boot","pdf","utf-8","flying-saucer"],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652884986,"creation_date":1652884986,"answer_id":72291312,"question_id":72202157,"body_markdown":"The problem is that the font you use doesn&#39;t contain emojis, so they can&#39;t be rendered in the PDF. Unfortunately, I could not find a font that would cover all emojis. The best I could find is DejaVu, which cover some of the emojis in your example.\r\n\r\nTo use it, \r\n- you have to download the DejaVu font (you will find it easily on the internet).\r\n- include it in the rendering process (make sure you match the exact path of the file):\r\n```java\r\nITextRenderer renderer = new ITextRenderer();\r\nrenderer.getFontResolver().addFont(&quot;font/dejavu-sans/DejaVuSans.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.NOT_EMBEDDED);\r\n````\r\n- set the font in the HTML:\r\n```html\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\r\n    &lt;style&gt;\r\n        body{font-family:&quot;DejaVu Sans&quot;, sans-serif;}\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;p&gt;This is descript&#128557;ion section&#128546;&#128548;&#128544;&#128545;&#129324;.&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is the result in the PDF:\r\n[![Pdf result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DjYVC.png","title":"UTF-8 emoji problem in PDF for Spring Boot","body":"<p>The problem is that the font you use doesn't contain emojis, so they can't be rendered in the PDF. Unfortunately, I could not find a font that would cover all emojis. The best I could find is DejaVu, which cover some of the emojis in your example.</p>\n<p>To use it,</p>\n<ul>\n<li>you have to download the DejaVu font (you will find it easily on the internet).</li>\n<li>include it in the rendering process (make sure you match the exact path of the file):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ITextRenderer renderer = new ITextRenderer();\nrenderer.getFontResolver().addFont(&quot;font/dejavu-sans/DejaVuSans.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.NOT_EMBEDDED);\n</code></pre>\n<ul>\n<li>set the font in the HTML:</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\n    &lt;style&gt;\n        body{font-family:&quot;DejaVu Sans&quot;, sans-serif;}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;This is description section.&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is the result in the PDF:\n<a href=\"https://i.stack.imgur.com/DjYVC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DjYVC.png\" alt=\"Pdf result\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8882,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653052089,"creation_date":1652994546,"answer_id":72311102,"question_id":72202157,"body_markdown":"Emoji symbols are problematic as symbols we can see that if we use one font with two styles (upper left) even in one font the symbols are not matched well so in upper style there is one missing and in lower style two look identical.\r\n\r\nConverted to PDF (upper middle) they look reasonable on the surface graphic image however we see that when extracted text (upper right) the font styling was lost and there is only one glyph possible for each valid font character.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo the lower row is on left also as shown in modern notepad however the same system font is now applying the other style and if we extract those we get\r\n\r\n`&#128557;&#128546;&#128548;&#128544;&#128545;&#129324;` as [![enter image description here][2]][2]\r\n\r\nThus the way a font and its style of emoji symbols is generally not well supported by a font system but if we traverse via html it is much more consistent however the text is not text.\r\n[![enter image description here][3]][3]\r\n\r\nThe best we might get is a poor hybrid of images of undefined CID characters which  can be confusing as the characters are all the same.\r\n```\r\n\r\n\r\n```\r\n[![enter image description here][5]][5]\r\n\r\nSo if you export the pdf as symbols with an image overlay there is no visual equivalence\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5d0yx.png\r\n  [2]: https://i.stack.imgur.com/PWv0U.png\r\n  [3]: https://i.stack.imgur.com/osIam.png\r\n  [4]: https://i.stack.imgur.com/frQiA.png\r\n  [5]: https://i.stack.imgur.com/2Yh9g.png","title":"UTF-8 emoji problem in PDF for Spring Boot","body":"<p>Emoji symbols are problematic as symbols we can see that if we use one font with two styles (upper left) even in one font the symbols are not matched well so in upper style there is one missing and in lower style two look identical.</p>\n<p>Converted to PDF (upper middle) they look reasonable on the surface graphic image however we see that when extracted text (upper right) the font styling was lost and there is only one glyph possible for each valid font character.</p>\n<p><a href=\"https://i.stack.imgur.com/5d0yx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5d0yx.png\" alt=\"enter image description here\" /></a></p>\n<p>So the lower row is on left also as shown in modern notepad however the same system font is now applying the other style and if we extract those we get</p>\n<p><code></code> as <a href=\"https://i.stack.imgur.com/PWv0U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWv0U.png\" alt=\"enter image description here\" /></a></p>\n<p>Thus the way a font and its style of emoji symbols is generally not well supported by a font system but if we traverse via html it is much more consistent however the text is not text.\n<a href=\"https://i.stack.imgur.com/osIam.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osIam.png\" alt=\"enter image description here\" /></a></p>\n<p>The best we might get is a poor hybrid of images of undefined CID characters which  can be confusing as the characters are all the same.</p>\n<pre><code>\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2Yh9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Yh9g.png\" alt=\"enter image description here\" /></a></p>\n<p>So if you export the pdf as symbols with an image overlay there is no visual equivalence</p>\n<p><a href=\"https://i.stack.imgur.com/frQiA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frQiA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653052089,"creation_date":1652276551,"question_id":72202157,"body_markdown":"I am using Spring Boot to create and return PDF. There is an issue when my string content contains emoji and Unicode characters like `&quot;This is d&#163;escript&#128557;ion section&#128546;&#128548;&#128544;&#128545;&#129324;&quot;`, then in downloaded PDF they are skipped. Can someone please help me to resolve this issue.\r\n\r\nMy code is like below\r\n   ```\r\n   ITextRenderer renderer = new ITextRenderer();\r\n   ResourceLoaderUserAgent callback = new ResourceLoaderUserAgent(renderer.getOutputDevice());\r\n   callback.setSharedContext(renderer.getSharedContext());\r\n   renderer.getSharedContext().setUserAgentCallback(callback);\r\n\r\n   renderer.setDocumentFromString(pdfContent(templateId, pdfData));\r\n   renderer.layout();\r\n   renderer.createPDF(outputStream);\r\n    }\r\n\r\n pdfContent(TemplateId templateId, Map&lt;String, Object&gt; pdfData) throws TemplateException,\r\n            IOException {\r\n        return FreeMarkerTemplateUtils\r\n                .processTemplateIntoString(freemarkerMailConfiguration.getTemplate(templateId.getValue()), pdfData);\r\n    }\r\n\r\n","title":"UTF-8 emoji problem in PDF for Spring Boot","body":"<p>I am using Spring Boot to create and return PDF. There is an issue when my string content contains emoji and Unicode characters like <code>&quot;This is description section&quot;</code>, then in downloaded PDF they are skipped. Can someone please help me to resolve this issue.</p>\n<p>My code is like below</p>\n<pre><code>ITextRenderer renderer = new ITextRenderer();\nResourceLoaderUserAgent callback = new ResourceLoaderUserAgent(renderer.getOutputDevice());\ncallback.setSharedContext(renderer.getSharedContext());\nrenderer.getSharedContext().setUserAgentCallback(callback);\n\nrenderer.setDocumentFromString(pdfContent(templateId, pdfData));\nrenderer.layout();\nrenderer.createPDF(outputStream);\n }\n\npdfContent(TemplateId templateId, Map&lt;String, Object&gt; pdfData) throws TemplateException,\n         IOException {\n     return FreeMarkerTemplateUtils\n             .processTemplateIntoString(freemarkerMailConfiguration.getTemplate(templateId.getValue()), pdfData);\n }\n\n</code></pre>\n"},{"tags":["java","asynchronous"],"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653052041,"creation_date":1653052041,"question_id":72319442,"body_markdown":"What is the correct way to handle `CompletableFuture` exception in this situation?\r\n\r\nI have a piece of code that return a `CompletableFuture`, but it has a potential of `completeExceptionally`.\r\n\r\nI want to chain `CompletableFuture`, but I don&#39;t want it to execute the next method if it receive an error.\r\n\r\nAnd I do not want to recover from the error either.\r\n\r\nSo my solution is `throw new CompletionException(error)`.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tcalculateThings()\r\n\t\t\t.handle((number, error) -&gt; {\r\n\t\t\t\tif(error != null) {\r\n                    throw new CompletionException(error);\r\n                }\r\n                // ...\r\n\t\t\t})\r\n\t\t\t.thenApply(number -&gt; {\r\n                // i don&#39;t want this part to execute when error happen!\r\n\t\t\t\tSystem.out.println(&quot;should not execute&quot;);\r\n\t\t\t\treturn 100;\r\n\t\t\t})\r\n\t\t\t.whenComplete((result, error) -&gt; {\r\n\t\t\t\tif(error != null) {\r\n\t\t\t\t\tSystem.out.println(&quot;output this line!&quot;); // &lt;-- output\r\n\t\t\t\t}\r\n\t\t\t});\r\n}\r\n\r\npublic static CompletableFuture&lt;Integer&gt; calculateThings() {\r\n\tCompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;&gt;();\r\n\tCompletableFuture.runAsync(() -&gt; {\r\n\t\tfuture.completeExceptionally(new IllegalStateException());\r\n\t});\r\n\treturn future;\r\n}\r\n```\r\n\r\nIs this correct? I feel like this isn&#39;t a right thing to do.\r\n\r\nI see a couple of example return `failedStage` or `completedStage` but I don&#39;t know how to unwrap the object.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8pgcJ.png\r\n\r\nThanks!","title":"What is the correct way to handle CompletableFuture exception?","body":"<p>What is the correct way to handle <code>CompletableFuture</code> exception in this situation?</p>\n<p>I have a piece of code that return a <code>CompletableFuture</code>, but it has a potential of <code>completeExceptionally</code>.</p>\n<p>I want to chain <code>CompletableFuture</code>, but I don't want it to execute the next method if it receive an error.</p>\n<p>And I do not want to recover from the error either.</p>\n<p>So my solution is <code>throw new CompletionException(error)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    calculateThings()\n            .handle((number, error) -&gt; {\n                if(error != null) {\n                    throw new CompletionException(error);\n                }\n                // ...\n            })\n            .thenApply(number -&gt; {\n                // i don't want this part to execute when error happen!\n                System.out.println(&quot;should not execute&quot;);\n                return 100;\n            })\n            .whenComplete((result, error) -&gt; {\n                if(error != null) {\n                    System.out.println(&quot;output this line!&quot;); // &lt;-- output\n                }\n            });\n}\n\npublic static CompletableFuture&lt;Integer&gt; calculateThings() {\n    CompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;&gt;();\n    CompletableFuture.runAsync(() -&gt; {\n        future.completeExceptionally(new IllegalStateException());\n    });\n    return future;\n}\n</code></pre>\n<p>Is this correct? I feel like this isn't a right thing to do.</p>\n<p>I see a couple of example return <code>failedStage</code> or <code>completedStage</code> but I don't know how to unwrap the object.</p>\n<p><a href=\"https://i.stack.imgur.com/8pgcJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8pgcJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1653051742,"post_id":72319310,"comment_id":127762981,"body_markdown":"What benefit does the &quot;toIndex&quot; offer? It finds the first occurance, so the &quot;fromIndex&quot; is the only relevant one. Unless you have a long string and you want to stop searching at some point.","body":"What benefit does the &quot;toIndex&quot; offer? It finds the first occurance, so the &quot;fromIndex&quot; is the only relevant one. Unless you have a long string and you want to stop searching at some point."},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1653051922,"post_id":72319310,"comment_id":127763042,"body_markdown":"@matt exactly, the *you have a long string and you want to stop searching at some point* is the point i wanted to make","body":"@matt exactly, the <i>you have a long string and you want to stop searching at some point</i> is the point i wanted to make"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653052224,"post_id":72319310,"comment_id":127763159,"body_markdown":"In that case you split on the delimiter","body":"In that case you split on the delimiter"},{"owner":{"account_id":215206,"reputation":1447,"user_id":469679,"accept_rate":67,"display_name":"Federico Nafria"},"score":0,"creation_date":1653053104,"post_id":72319310,"comment_id":127763503,"body_markdown":"It might make sense to implement `indexOf(char, fromIndex, toIndex)` if you are dealing with long Strings.\n\nBTW, there is `indexOf(char` and `indexOf(String`.","body":"It might make sense to implement <code>indexOf(char, fromIndex, toIndex)</code> if you are dealing with long Strings.  BTW, there is <code>indexOf(char</code> and <code>indexOf(String</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1653054286,"post_id":72319310,"comment_id":127764021,"body_markdown":"We do not know the actual reasons for the decision, or even if such a method was ever considered.  However, the decision to include a method in an API is a judgment that balances &quot;utility&quot; versus the cost of writing and maintaining extra methods and corresponding test code for the lifetime of Java.  And also, a decision to add a method for a Java SE API is hard to reverse if the (future) consensus is that it was a mistake.","body":"We do not know the actual reasons for the decision, or even if such a method was ever considered.  However, the decision to include a method in an API is a judgment that balances &quot;utility&quot; versus the cost of writing and maintaining extra methods and corresponding test code for the lifetime of Java.  And also, a decision to add a method for a Java SE API is hard to reverse if the (future) consensus is that it was a mistake."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1653055638,"post_id":72319310,"comment_id":127764587,"body_markdown":"&quot;since it is guaranteed that the delimiter is in a particular range.&quot; So you&#39;re saying this isn&#39;t necessarily true now?","body":"&quot;since it is guaranteed that the delimiter is in a particular range.&quot; So you&#39;re saying this isn&#39;t necessarily true now?"}],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653052021,"creation_date":1653051437,"question_id":72319310,"body_markdown":"I am trying to parse and deconstruct a `String` like `abc_value1` into its prefix and remaining content. Each part is separated by a delimiter, in this case the char `_`.\r\n\r\nThe prefix is always of a known type:\r\n```\r\nenum Type {\r\n    ABC,\r\n    ABCD,\r\n    ABCDE\r\n}\r\n```\r\n\r\nWhen trying to extract the type, `String` offers `indexOf(str, fromIndex)`, however, since all types are comple-time constant, the _minimum_ and _maximum_ length are also known in advance. Hence, i would prefer to use something `indexOf(str, fromIndex, toIndex)`, since it is guaranteed that the delimiter is in a particular range.\r\n\r\nInternally, Java uses something like (`StringLatin1`)\r\n```\r\n@IntrinsicCandidate\r\npublic static int indexOf(byte[] value, int valueCount, \r\n                          byte[] str, int strCount, \r\n                          int fromIndex) {\r\n\r\n        byte first = str[0];\r\n        int max = (valueCount - strCount);\r\n        for (int i = fromIndex; i &lt;= max; i++) {\r\n            // ...\r\n        }\r\n        return -1;\r\n    }\r\n```\r\n\r\nSo it&#180;s probably not faster than to code it by hand. An alternative, to create a separate `#substring` also allocates a new object. Is there another way to implement this or would a proposal for `indexOf(str, fromIndex, toIndex)` make sense?\r\n\r\n(Ignore the type lookup in a `Map` and casing for my example)\r\n\r\n**Edit 1:** Some clarification, the primary use case is if _you have a long string and you want to stop searching at some point_.","title":"What is the reason for missing String#indexOf(str, fromIndex, toIndex)","body":"<p>I am trying to parse and deconstruct a <code>String</code> like <code>abc_value1</code> into its prefix and remaining content. Each part is separated by a delimiter, in this case the char <code>_</code>.</p>\n<p>The prefix is always of a known type:</p>\n<pre><code>enum Type {\n    ABC,\n    ABCD,\n    ABCDE\n}\n</code></pre>\n<p>When trying to extract the type, <code>String</code> offers <code>indexOf(str, fromIndex)</code>, however, since all types are comple-time constant, the <em>minimum</em> and <em>maximum</em> length are also known in advance. Hence, i would prefer to use something <code>indexOf(str, fromIndex, toIndex)</code>, since it is guaranteed that the delimiter is in a particular range.</p>\n<p>Internally, Java uses something like (<code>StringLatin1</code>)</p>\n<pre><code>@IntrinsicCandidate\npublic static int indexOf(byte[] value, int valueCount, \n                          byte[] str, int strCount, \n                          int fromIndex) {\n\n        byte first = str[0];\n        int max = (valueCount - strCount);\n        for (int i = fromIndex; i &lt;= max; i++) {\n            // ...\n        }\n        return -1;\n    }\n</code></pre>\n<p>So its probably not faster than to code it by hand. An alternative, to create a separate <code>#substring</code> also allocates a new object. Is there another way to implement this or would a proposal for <code>indexOf(str, fromIndex, toIndex)</code> make sense?</p>\n<p>(Ignore the type lookup in a <code>Map</code> and casing for my example)</p>\n<p><strong>Edit 1:</strong> Some clarification, the primary use case is if <em>you have a long string and you want to stop searching at some point</em>.</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-autoconfiguration"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1653052595,"post_id":72319395,"comment_id":127763314,"body_markdown":"CloudAutoConfiguration is not in boot anymore and you have mixed versions of spring boot","body":"CloudAutoConfiguration is not in boot anymore and you have mixed versions of spring boot"},{"owner":{"account_id":25300245,"reputation":3,"user_id":19124598,"display_name":"Kapil"},"score":0,"creation_date":1653055113,"post_id":72319395,"comment_id":127764380,"body_markdown":"I have checked the dependency tree using mvn dependency:tree and I can only see 2.6.7 version. is there any other way to figure out other versions of spring boot which is there in my project","body":"I have checked the dependency tree using mvn dependency:tree and I can only see 2.6.7 version. is there any other way to figure out other versions of spring boot which is there in my project"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1653066497,"post_id":72319395,"comment_id":127768666,"body_markdown":"Did you also upgrade Spring Cloud when you upgraded Spring Boot? Check the [Spring Boot compatibility](https://spring.io/projects/spring-cloud) for Spring Cloud.","body":"Did you also upgrade Spring Cloud when you upgraded Spring Boot? Check the <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">Spring Boot compatibility</a> for Spring Cloud."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1653068325,"post_id":72319395,"comment_id":127769199,"body_markdown":"can you add the dependency tree and provide the spring cloud version","body":"can you add the dependency tree and provide the spring cloud version"}],"owner":{"account_id":25300245,"reputation":3,"user_id":19124598,"display_name":"Kapil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653051845,"creation_date":1653051845,"question_id":72319395,"body_markdown":"I have updated spring boot version to 2.6.7 from version 2.0.5.RELEASE, After this change when I run my application i am getting ``Unable to read meta-data for class org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration``. Package cloud does not exist under org.springframework.boot.autoconfigure in version 2.6.7. I checked in older version 2.0.5.RELEASE, it is present there. Someone also mentioned that this class has been renamed to ``CloudServiceConnectorsAutoConfiguration``.\r\n\r\nWhat can i do to fix this? Also how to know from where is this class CloudAutoConfiguration is being called?\r\n\r\nBelow is the stack trace for more info:\r\n```\r\njava.lang.IllegalStateException: Unable to read meta-data for class org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:237) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getOrder(AutoConfigurationSorter.java:208) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.access$000(AutoConfigurationSorter.java:154) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter.lambda$getInPriorityOrder$0(AutoConfigurationSorter.java:63) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat java.util.TimSort.countRunAndMakeAscending(TimSort.java:360) ~[?:1.8.0_202]\r\n\tat java.util.TimSort.sort(TimSort.java:234) ~[?:1.8.0_202]\r\n\tat java.util.Arrays.sort(Arrays.java:1512) ~[?:1.8.0_202]\r\n\tat java.util.ArrayList.sort(ArrayList.java:1462) ~[?:1.8.0_202]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter.getInPriorityOrder(AutoConfigurationSorter.java:62) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.sortAutoConfigurations(AutoConfigurationImportSelector.java:468) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.selectImports(AutoConfigurationImportSelector.java:453) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:882) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat com.myorg.services.runner.Application.main(Application.java:11) [classes/:?]\r\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/cloud/CloudAutoConfiguration.class] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.19.jar:5.3.19]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55) ~[spring-core-5.3.19.jar:5.3.19]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.3.19.jar:5.3.19]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.19.jar:5.3.19]\r\n\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-5.3.19.jar:5.3.19]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:233) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\t... 27 more\r\n\r\n\r\nProcess finished with exit code 1\r\n```","title":"Error upgrading to Spring boot version 2.6.7, Unable to read meta-data for class org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration","body":"<p>I have updated spring boot version to 2.6.7 from version 2.0.5.RELEASE, After this change when I run my application i am getting <code>Unable to read meta-data for class org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration</code>. Package cloud does not exist under org.springframework.boot.autoconfigure in version 2.6.7. I checked in older version 2.0.5.RELEASE, it is present there. Someone also mentioned that this class has been renamed to <code>CloudServiceConnectorsAutoConfiguration</code>.</p>\n<p>What can i do to fix this? Also how to know from where is this class CloudAutoConfiguration is being called?</p>\n<p>Below is the stack trace for more info:</p>\n<pre><code>java.lang.IllegalStateException: Unable to read meta-data for class org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:237) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getOrder(AutoConfigurationSorter.java:208) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.access$000(AutoConfigurationSorter.java:154) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter.lambda$getInPriorityOrder$0(AutoConfigurationSorter.java:63) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at java.util.TimSort.countRunAndMakeAscending(TimSort.java:360) ~[?:1.8.0_202]\n    at java.util.TimSort.sort(TimSort.java:234) ~[?:1.8.0_202]\n    at java.util.Arrays.sort(Arrays.java:1512) ~[?:1.8.0_202]\n    at java.util.ArrayList.sort(ArrayList.java:1462) ~[?:1.8.0_202]\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter.getInPriorityOrder(AutoConfigurationSorter.java:62) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.sortAutoConfigurations(AutoConfigurationImportSelector.java:468) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.selectImports(AutoConfigurationImportSelector.java:453) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:882) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar:2.6.7]\n    at com.myorg.services.runner.Application.main(Application.java:11) [classes/:?]\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/cloud/CloudAutoConfiguration.class] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:233) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    ... 27 more\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","android","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":2080201,"reputation":3440,"user_id":1852343,"accept_rate":65,"display_name":"Sandip Fichadiya"},"score":1,"creation_date":1568382612,"post_id":57916966,"comment_id":102267266,"body_markdown":"As far as I know, Dagger creates `create()` method only when none of your `Module` takes constructor parameter. The moment you add `DatabaseModule` in your graph, dagger will ask you to `build()` the component yourself as DatebaseModule expects `Application` parameter in constructor.","body":"As far as I know, Dagger creates <code>create()</code> method only when none of your <code>Module</code> takes constructor parameter. The moment you add <code>DatabaseModule</code> in your graph, dagger will ask you to <code>build()</code> the component yourself as DatebaseModule expects <code>Application</code> parameter in constructor."},{"owner":{"account_id":16687773,"reputation":13,"user_id":12061150,"display_name":"Muhammad Faisal"},"score":0,"creation_date":1568599175,"post_id":57916966,"comment_id":102311882,"body_markdown":"@SandipSoni So if i have one constructor with parameter i have to change all of the create() method with build() instead?","body":"@SandipSoni So if i have one constructor with parameter i have to change all of the create() method with build() instead?"}],"answers":[{"tags":[],"owner":{"account_id":4140184,"reputation":816,"user_id":3395760,"display_name":"Alessandro Muzzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653051423,"creation_date":1653051423,"answer_id":72319303,"question_id":57916966,"body_markdown":"As @Sandip Fichadiya correctly suggested, you can use\r\n\r\n    DaggerApiComponent.create()\r\nonly when none of your modules takes constructor parameter.\r\nIf even only one of them has parameters, you must use\r\n\r\n    AppComponent appComponent = DaggerAppComponent.builder()\r\n            .appModule(new AppModule(this))\r\n            .build();\r\n\r\nwhere `AppModule` is\r\n\r\n    @Module\r\n    public class AppModule {\r\n        private final Context context;\r\n\r\n        public AppModule(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        @Provides\r\n        public Context provideContext() {\r\n            return this.context;\r\n        }\r\n    }\r\n\r\nin case, for example, one or more of your modules need a `Context`","title":"DaggerComponent cannot find symbol method create() when i use DaggerComponent.builder()","body":"<p>As @Sandip Fichadiya correctly suggested, you can use</p>\n<pre><code>DaggerApiComponent.create()\n</code></pre>\n<p>only when none of your modules takes constructor parameter.\nIf even only one of them has parameters, you must use</p>\n<pre><code>AppComponent appComponent = DaggerAppComponent.builder()\n        .appModule(new AppModule(this))\n        .build();\n</code></pre>\n<p>where <code>AppModule</code> is</p>\n<pre><code>@Module\npublic class AppModule {\n    private final Context context;\n\n    public AppModule(Context context) {\n        this.context = context;\n    }\n\n    @Provides\n    public Context provideContext() {\n        return this.context;\n    }\n}\n</code></pre>\n<p>in case, for example, one or more of your modules need a <code>Context</code></p>\n"}],"owner":{"account_id":16687773,"reputation":13,"user_id":12061150,"display_name":"Muhammad Faisal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653051423,"creation_date":1568345548,"question_id":57916966,"body_markdown":"I&#39;m trying to implement a dagger to my Android Project with MVVM structure. I&#39;ve succeeded in injecting retrofit API service to my ViewModel using Module and Component with a field injection. But I keep getting an error when I try to inject my RoomDatabase with provision method (DaggerComponent.Builder).\r\n\r\nI&#39;m still completely unfamiliar with the dagger, is there something wrong with my code?\r\n\r\nDatabaseModule.java\r\n\r\n    import javax.inject.Singleton;\r\n    import dagger.Module;\r\n    import dagger.Provides;\r\n\r\n    @Module\r\n    public class DatabaseModule {\r\n\r\n       private AppDatabase database;\r\n\r\n       public DatabaseModule(Application application) {\r\n           database = Room.databaseBuilder(application, AppDatabase.class, \r\n                      &quot;pendingDb&quot;).build();\r\n       }\r\n\r\n       @Singleton\r\n       @Provides\r\n       AppDatabase provideDatabase(){\r\n          return database;\r\n       }\r\n\r\n       @Singleton\r\n       @Provides\r\n       PendingTodoListDao providePendingDao(AppDatabase database){\r\n          return database.pendingTodoListDao();\r\n       }\r\n    }\r\n\r\nComponent\r\n\r\n    import javax.inject.Singleton;\r\n    import dagger.Component;\r\n\r\n    @Singleton\r\n    @Component(modules = {ApiModule.class, ContextModule.class, \r\n                          DatabaseModule.class})\r\n    public interface ApiComponent {\r\n\r\n        void inject(ApiService service);\r\n\r\n        void inject(DeliveredViewModel viewModel);\r\n\r\n        void inject(ToDoViewModel viewModel);\r\n\r\n        void inject(DeliveredDetailsViewModel viewModel);\r\n\r\n        void inject(PendingViewModel viewModel);\r\n\r\n        AppDatabase appDatabase();\r\n    }\r\n\r\nPendingViewModel.java\r\n\r\n    public class PendingViewModel extends AndroidViewModel {\r\n        \r\n        @Inject\r\n        AppDatabase db;\r\n\r\n        public PendingViewModel(@NonNull Application application) {\r\n            super(application);\r\n            DaggerApiComponent.builder().databaseModule(\r\n                     new DatabaseModule(application)).build();\r\n        }\r\n    }","title":"DaggerComponent cannot find symbol method create() when i use DaggerComponent.builder()","body":"<p>I'm trying to implement a dagger to my Android Project with MVVM structure. I've succeeded in injecting retrofit API service to my ViewModel using Module and Component with a field injection. But I keep getting an error when I try to inject my RoomDatabase with provision method (DaggerComponent.Builder).</p>\n\n<p>I'm still completely unfamiliar with the dagger, is there something wrong with my code?</p>\n\n<p>DatabaseModule.java</p>\n\n<pre><code>import javax.inject.Singleton;\nimport dagger.Module;\nimport dagger.Provides;\n\n@Module\npublic class DatabaseModule {\n\n   private AppDatabase database;\n\n   public DatabaseModule(Application application) {\n       database = Room.databaseBuilder(application, AppDatabase.class, \n                  \"pendingDb\").build();\n   }\n\n   @Singleton\n   @Provides\n   AppDatabase provideDatabase(){\n      return database;\n   }\n\n   @Singleton\n   @Provides\n   PendingTodoListDao providePendingDao(AppDatabase database){\n      return database.pendingTodoListDao();\n   }\n}\n</code></pre>\n\n<p>Component</p>\n\n<pre><code>import javax.inject.Singleton;\nimport dagger.Component;\n\n@Singleton\n@Component(modules = {ApiModule.class, ContextModule.class, \n                      DatabaseModule.class})\npublic interface ApiComponent {\n\n    void inject(ApiService service);\n\n    void inject(DeliveredViewModel viewModel);\n\n    void inject(ToDoViewModel viewModel);\n\n    void inject(DeliveredDetailsViewModel viewModel);\n\n    void inject(PendingViewModel viewModel);\n\n    AppDatabase appDatabase();\n}\n</code></pre>\n\n<p>PendingViewModel.java</p>\n\n<pre><code>public class PendingViewModel extends AndroidViewModel {\n\n    @Inject\n    AppDatabase db;\n\n    public PendingViewModel(@NonNull Application application) {\n        super(application);\n        DaggerApiComponent.builder().databaseModule(\n                 new DatabaseModule(application)).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":249720,"reputation":9560,"user_id":525978,"display_name":"havexz"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1505165553,"creation_date":1322816766,"answer_id":8353978,"question_id":8353929,"body_markdown":"I am afraid that is not possible in `strings.xml`.\r\n\r\nWhat you can do is create the final string programmatically using [`getString`][1]:\r\n\r\n    String outStr = getString(R.string.your_android_says) + \r\n      &quot; &quot; + getString(R.string.hello);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Context.html#getString(int)","title":"Concatenate Strings in the strings.xml file for Android","body":"<p>I am afraid that is not possible in <code>strings.xml</code>.</p>\n\n<p>What you can do is create the final string programmatically using <a href=\"https://developer.android.com/reference/android/content/Context.html#getString(int)\" rel=\"noreferrer\"><code>getString</code></a>:</p>\n\n<pre><code>String outStr = getString(R.string.your_android_says) + \n  \" \" + getString(R.string.hello);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":224950,"reputation":7903,"user_id":485146,"accept_rate":90,"display_name":"Maggie"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1322816799,"creation_date":1322816799,"answer_id":8353985,"question_id":8353929,"body_markdown":"Not sure if this is what you want:\r\n\r\n    String s = &quot;Your android says&quot; + getResources().getString(R.id.name);\r\n\r\nWhat you could also do it like:\r\n\r\n    &lt;string name=&quot;hello&quot;&gt;%s hello&lt;/string&gt;\r\n    \r\n    String androidsays = &quot;Your android says&quot;;\r\n    String s = getString(R.id.name, androidsays);\r\n\r\n","title":"Concatenate Strings in the strings.xml file for Android","body":"<p>Not sure if this is what you want:</p>\n\n<pre><code>String s = \"Your android says\" + getResources().getString(R.id.name);\n</code></pre>\n\n<p>What you could also do it like:</p>\n\n<pre><code>&lt;string name=\"hello\"&gt;%s hello&lt;/string&gt;\n\nString androidsays = \"Your android says\";\nString s = getString(R.id.name, androidsays);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357708,"reputation":8192,"user_id":698040,"accept_rate":83,"display_name":"Shailendra Singh Rajawat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322816801,"creation_date":1322816801,"answer_id":8353986,"question_id":8353929,"body_markdown":"you can create any number of altered string , but bounded upto runTime memory only . you can&#39;t store persistently this new string like usually you do through `values/string.xml` .\r\n\r\nexample `String newString = &quot;something&quot; + getResources().getString(id);`\r\n\r\n`sharedPreferences` in the way you can achieve this . store newly generated string into sharedpreferences and access later .","title":"Concatenate Strings in the strings.xml file for Android","body":"<p>you can create any number of altered string , but bounded upto runTime memory only . you can't store persistently this new string like usually you do through <code>values/string.xml</code> .</p>\n\n<p>example <code>String newString = \"something\" + getResources().getString(id);</code></p>\n\n<p><code>sharedPreferences</code> in the way you can achieve this . store newly generated string into sharedpreferences and access later .</p>\n"},{"tags":[],"owner":{"account_id":9455893,"reputation":567,"user_id":7031224,"display_name":"C&#233;sar Mu&#241;oz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653051184,"creation_date":1572006035,"answer_id":58558445,"question_id":8353929,"body_markdown":"If you want to do so without having to add any Java/Kotlin code, you could use this small library I&#39;ve created: https://github.com/LikeTheSalad/android-stem\r\n\r\nIt allows you to do something like this:\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;world&lt;/string&gt;\r\n    &lt;string name=&quot;welcome_message&quot;&gt;hello ${app_name}&lt;/string&gt;\r\n\r\nAnd then the library does this at build time:\r\n\r\n    &lt;!-- Auto generated during compilation --&gt;\r\n    &lt;string name=&quot;welcome_message&quot;&gt;hello world&lt;/string&gt;","title":"Concatenate Strings in the strings.xml file for Android","body":"<p>If you want to do so without having to add any Java/Kotlin code, you could use this small library I've created: <a href=\"https://github.com/LikeTheSalad/android-stem\" rel=\"nofollow noreferrer\">https://github.com/LikeTheSalad/android-stem</a></p>\n<p>It allows you to do something like this:</p>\n<pre><code>&lt;string name=&quot;app_name&quot;&gt;world&lt;/string&gt;\n&lt;string name=&quot;welcome_message&quot;&gt;hello ${app_name}&lt;/string&gt;\n</code></pre>\n<p>And then the library does this at build time:</p>\n<pre><code>&lt;!-- Auto generated during compilation --&gt;\n&lt;string name=&quot;welcome_message&quot;&gt;hello world&lt;/string&gt;\n</code></pre>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16440,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8353978,"answer_count":4,"score":5,"last_activity_date":1653051184,"creation_date":1322816468,"question_id":8353929,"body_markdown":"Is possible to concatenate a String already existing in strings.xml with the current one.  \r\nThat is: If I have \r\n\r\n    &lt;string name=&quot;hello&quot;&gt;hello&lt;/string&gt;\r\n\r\nand I want to create a new string with the format   `&quot;Your android says &quot;+hello`\r\n","title":"Concatenate Strings in the strings.xml file for Android","body":"<p>Is possible to concatenate a String already existing in strings.xml with the current one.<br>\nThat is: If I have </p>\n\n<pre><code>&lt;string name=\"hello\"&gt;hello&lt;/string&gt;\n</code></pre>\n\n<p>and I want to create a new string with the format   <code>\"Your android says \"+hello</code></p>\n"},{"tags":["java","openxml"],"answers":[{"tags":[],"owner":{"account_id":8346376,"reputation":389,"user_id":6269962,"display_name":"Alexandr Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600145362,"creation_date":1599976789,"answer_id":63867644,"question_id":63853207,"body_markdown":"It is because when your resource in in jar-file you can not treat it as file.&lt;br&gt;\r\nIf you need a file, write the resource content into a temporary file then use it.&lt;br&gt;\r\nSomething like this:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.StandardCopyOption;\r\n    import org.junit.Test;\r\n\r\n    public class FirstTest {\r\n\t    @Test\r\n\t    public void resourceTest() throws IOException {\r\n\t\t    final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\t\t    final InputStream resource = classLoader.getResourceAsStream(&quot;resource&quot;);\r\n\t\t    final File file = new File(&quot;d:/temp&quot;, &quot;fileName&quot;);\r\n\t\t    Files.copy(resource, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t    }\r\n    }\r\n","title":"Java : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream","body":"<p>It is because when your resource in in jar-file you can not treat it as file.<br>\nIf you need a file, write the resource content into a temporary file then use it.<br>\nSomething like this:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\nimport org.junit.Test;\n\npublic class FirstTest {\n    @Test\n    public void resourceTest() throws IOException {\n        final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        final InputStream resource = classLoader.getResourceAsStream(&quot;resource&quot;);\n        final File file = new File(&quot;d:/temp&quot;, &quot;fileName&quot;);\n        Files.copy(resource, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2851274,"reputation":1,"user_id":2448443,"display_name":"user2448443"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653050987,"creation_date":1653050987,"answer_id":72319217,"question_id":63853207,"body_markdown":"This is how I create and delete the temp file\r\n\r\n            File original, temp = null;\r\n            original = new File(filename);\r\n            try {\r\n                temp = File.createTempFile(&quot;XlsB&quot;, &quot;.xlsb&quot;, new File(PATH));\r\n                FileUtils.copyFile(original, temp, true);\r\n                ....\r\n                ....\r\n            } catch (IOException ex) {\r\n                ...                \r\n            }finally {                \r\n                if (temp != null) {\r\n                    try {\r\n                        FileUtils.delete(temp);\r\n                    } catch (IOException ex) {\r\n                     ...\r\n                    }\r\n                }\r\n            }","title":"Java : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream","body":"<p>This is how I create and delete the temp file</p>\n<pre><code>        File original, temp = null;\n        original = new File(filename);\n        try {\n            temp = File.createTempFile(&quot;XlsB&quot;, &quot;.xlsb&quot;, new File(PATH));\n            FileUtils.copyFile(original, temp, true);\n            ....\n            ....\n        } catch (IOException ex) {\n            ...                \n        }finally {                \n            if (temp != null) {\n                try {\n                    FileUtils.delete(temp);\n                } catch (IOException ex) {\n                 ...\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":19494918,"reputation":147,"user_id":14262363,"display_name":"justin1298"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4320,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1653050987,"creation_date":1599852392,"question_id":63853207,"body_markdown":" I woudlike to write some data on specific cell of my excel file but I have always the same error. \r\n I use Apache POI to write and read into the template file :\r\n\r\n    Exception in thread &quot;Thread-4&quot; org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException: Fail to save: an error occurs while saving the package : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream (org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream is in unnamed module of loader &#39;app&#39;; java.util.zip.ZipFile$ZipFileInputStream is in module java.base of loader &#39;bootstrap&#39;) \r\n      \r\nMain : \r\n\r\n    private final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    private final File pathTemplate = newFile(Objects.requireNonNull(classLoader.getResource(&quot;excel/template.xlsx&quot;)).toURI());\r\n            \r\n            \r\n             public void updateRapport(int indexSheet, int rowwnum, int cellnum, String value, File file) throws IOException, InvalidFormatException {\r\n            \r\n                    Workbook workbook = WorkbookFactory.create(new File(file.getPath()));\r\n                    // Get Sheet\r\n                    Sheet sheet = workbook.getSheetAt(indexSheet);\r\n            \r\n                    System.out.println(sheet.getSheetName());\r\n            \r\n                    // Get Row\r\n                    Row row = sheet.getRow(rowwnum);\r\n            \r\n                    // Get the Cell\r\n                    Cell cell = row.getCell(cellnum);\r\n            \r\n                    // Update the cell\r\n                    cell.setCellType(CellType.STRING);\r\n                    cell.setCellValue(value);\r\n            \r\n                    // Write the output to the file\r\n                    try(FileOutputStream fileOut = new FileOutputStream(file.getName()))\r\n                    {\r\n                        workbook.write(fileOut);\r\n                    }\r\n            \r\n                    // Closing the workbook\r\n                    workbook.close();\r\n                }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n                updateRapport(0,1,2,&quot;ok&quot;,pathTemplate);\r\n            }","title":"Java : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream","body":"<p>I woudlike to write some data on specific cell of my excel file but I have always the same error.\nI use Apache POI to write and read into the template file :</p>\n<pre><code>Exception in thread &quot;Thread-4&quot; org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException: Fail to save: an error occurs while saving the package : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream (org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream is in unnamed module of loader 'app'; java.util.zip.ZipFile$ZipFileInputStream is in module java.base of loader 'bootstrap') \n  \n</code></pre>\n<p>Main :</p>\n<pre><code>private final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\nprivate final File pathTemplate = newFile(Objects.requireNonNull(classLoader.getResource(&quot;excel/template.xlsx&quot;)).toURI());\n        \n        \n         public void updateRapport(int indexSheet, int rowwnum, int cellnum, String value, File file) throws IOException, InvalidFormatException {\n        \n                Workbook workbook = WorkbookFactory.create(new File(file.getPath()));\n                // Get Sheet\n                Sheet sheet = workbook.getSheetAt(indexSheet);\n        \n                System.out.println(sheet.getSheetName());\n        \n                // Get Row\n                Row row = sheet.getRow(rowwnum);\n        \n                // Get the Cell\n                Cell cell = row.getCell(cellnum);\n        \n                // Update the cell\n                cell.setCellType(CellType.STRING);\n                cell.setCellValue(value);\n        \n                // Write the output to the file\n                try(FileOutputStream fileOut = new FileOutputStream(file.getName()))\n                {\n                    workbook.write(fileOut);\n                }\n        \n                // Closing the workbook\n                workbook.close();\n            }\n    \n    \n    public static void main(String[] args) {\n            updateRapport(0,1,2,&quot;ok&quot;,pathTemplate);\n        }\n</code></pre>\n"},{"tags":["java","spring","validation","jackson","deserialization"],"comments":[{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":0,"creation_date":1653045866,"post_id":72315296,"comment_id":127760817,"body_markdown":"The solution may depend on Jackson version that you use. Have a look here for examples/discussion on different versions and alternative solutions: https://stackoverflow.com/questions/18320731/jackson-jsonpropertyrequired-true-doesnt-throw-an-exception","body":"The solution may depend on Jackson version that you use. Have a look here for examples/discussion on different versions and alternative solutions: <a href=\"https://stackoverflow.com/questions/18320731/jackson-jsonpropertyrequired-true-doesnt-throw-an-exception\" title=\"jackson jsonpropertyrequired true doesnt throw an exception\">stackoverflow.com/questions/18320731/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20607044,"reputation":1,"user_id":15127043,"display_name":"Wrynn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653033821,"creation_date":1653033821,"answer_id":72315511,"question_id":72315296,"body_markdown":"I always check if some fields is null after get Jackson deserialize api. But i think you can extends Jackson deserializer to rewrite deserialize method to achieve your purpose.","title":"Is it possible to make Jackson ObjectMapper deserialization fail when no property is mapped resulting an empty object?","body":"<p>I always check if some fields is null after get Jackson deserialize api. But i think you can extends Jackson deserializer to rewrite deserialize method to achieve your purpose.</p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653050047,"creation_date":1653036761,"answer_id":72316120,"question_id":72315296,"body_markdown":"### if _all_ from as set of fields are required: ###\r\n\r\nIf using the constructor for deserializing the object you can use `required` from `@JsonProperty` annotation.\r\n\r\nFor example, for a class `Foo`, a field `name` is required:\r\n```java\r\nclass Foo\r\n{\r\n    String name;\r\n    Integer number; \r\n    \r\n    @JsonCreator\r\n    public Foo(\r\n       @JsonProperty(value = &quot;name&quot;, required = true) String name,\r\n       @JsonProperty(value = &quot;number&quot;) Integer number)\r\n    {\r\n        this.name = name;\r\n        this.number = number;\r\n    }\r\n    // ... more methods ...\r\n}\r\n```\r\n\r\nWhen trying to deserialize from an JSON with no `name` property, it will fail with `MismatchedInputException`:\r\n```java\r\nobjectMapper.readValue(&quot;{}&quot;, Foo.class); // FAILURE\r\n```\r\n\r\nNote that if JSON object explicitly sets the field as `null`, it will succeed:\r\n```java\r\nobjectMapper.readValue(&quot;{\\&quot;name\\&quot;: null}&quot;, Foo.class); // SUCCESS\r\n```\r\n\r\n### if _any_ from a set of fields must be present: ###\r\n\r\nThis is a simple variation of the previous case, as we can put validation logic inside the `@JsonCreator`-annotated constructor.\r\n\r\nFor example:\r\n```java\r\nclass Foo\r\n{\r\n    String name;\r\n    Integer number;\r\n     \r\n    @JsonCreator\r\n    public Foo(\r\n       @JsonProperty(&quot;name&quot;) String name,\r\n       @JsonProperty(&quot;number&quot;) Integer number)\r\n    {\r\n       if (name == null &amp;&amp; number == null)\r\n            throw new IllegalArgumentException(&quot;at least one of (name, number) fields must be non-null&quot;);\r\n            \r\n       this.name = name;\r\n       this.number = number;\r\n    }\r\n    // ... more methods ...    \r\n}\r\n```\r\n","title":"Is it possible to make Jackson ObjectMapper deserialization fail when no property is mapped resulting an empty object?","body":"<h3>if <em>all</em> from as set of fields are required:</h3>\n<p>If using the constructor for deserializing the object you can use <code>required</code> from <code>@JsonProperty</code> annotation.</p>\n<p>For example, for a class <code>Foo</code>, a field <code>name</code> is required:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo\n{\n    String name;\n    Integer number; \n    \n    @JsonCreator\n    public Foo(\n       @JsonProperty(value = &quot;name&quot;, required = true) String name,\n       @JsonProperty(value = &quot;number&quot;) Integer number)\n    {\n        this.name = name;\n        this.number = number;\n    }\n    // ... more methods ...\n}\n</code></pre>\n<p>When trying to deserialize from an JSON with no <code>name</code> property, it will fail with <code>MismatchedInputException</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.readValue(&quot;{}&quot;, Foo.class); // FAILURE\n</code></pre>\n<p>Note that if JSON object explicitly sets the field as <code>null</code>, it will succeed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.readValue(&quot;{\\&quot;name\\&quot;: null}&quot;, Foo.class); // SUCCESS\n</code></pre>\n<h3>if <em>any</em> from a set of fields must be present:</h3>\n<p>This is a simple variation of the previous case, as we can put validation logic inside the <code>@JsonCreator</code>-annotated constructor.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo\n{\n    String name;\n    Integer number;\n     \n    @JsonCreator\n    public Foo(\n       @JsonProperty(&quot;name&quot;) String name,\n       @JsonProperty(&quot;number&quot;) Integer number)\n    {\n       if (name == null &amp;&amp; number == null)\n            throw new IllegalArgumentException(&quot;at least one of (name, number) fields must be non-null&quot;);\n            \n       this.name = name;\n       this.number = number;\n    }\n    // ... more methods ...    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653046841,"creation_date":1653046841,"answer_id":72318361,"question_id":72315296,"body_markdown":"#### Check if it equals to empty object:\r\n\r\n\r\n    \r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        @EqualsAndHashCode\r\n        @JsonIgnoreProperties\r\n        public class Foo {\r\n            private String a;\r\n            private String b;\r\n            private String c;\r\n            private String d;\r\n        }\r\n    \r\n    \r\n        public class FooMain {\r\n        private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n        private static final Foo EMPTY_FOO = new Foo();\r\n        \r\n        public static void main(String[] args) {\r\n            try {\r\n                // This attempt will throw an exception:        \r\n                Optional.ofNullable(OBJECT_MAPPER.readValue(&quot;{}&quot;, Foo.class))\r\n                        .filter(foo1 -&gt; !foo1.equals(EMPTY_FOO))\r\n                        .orElseThrow(IllegalArgumentException::new);\r\n                // This attempt will not throw an exception:\r\n                Optional.ofNullable(OBJECT_MAPPER.readValue(&quot;{a:\\&quot;123\\&quot;}&quot;, Foo.class))\r\n                        .filter(foo1 -&gt; !foo1.equals(EMPTY_FOO))\r\n                        .orElseThrow(IllegalArgumentException::new);\r\n    \r\n            } catch (JsonProcessingException e) {\r\n                // cannot deserialize json string to FOO  \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to make Jackson ObjectMapper deserialization fail when no property is mapped resulting an empty object?","body":"<h4>Check if it equals to empty object:</h4>\n<pre><code>    @NoArgsConstructor\n    @Getter\n    @Setter\n    @ToString\n    @EqualsAndHashCode\n    @JsonIgnoreProperties\n    public class Foo {\n        private String a;\n        private String b;\n        private String c;\n        private String d;\n    }\n\n\n    public class FooMain {\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n    private static final Foo EMPTY_FOO = new Foo();\n    \n    public static void main(String[] args) {\n        try {\n            // This attempt will throw an exception:        \n            Optional.ofNullable(OBJECT_MAPPER.readValue(&quot;{}&quot;, Foo.class))\n                    .filter(foo1 -&gt; !foo1.equals(EMPTY_FOO))\n                    .orElseThrow(IllegalArgumentException::new);\n            // This attempt will not throw an exception:\n            Optional.ofNullable(OBJECT_MAPPER.readValue(&quot;{a:\\&quot;123\\&quot;}&quot;, Foo.class))\n                    .filter(foo1 -&gt; !foo1.equals(EMPTY_FOO))\n                    .orElseThrow(IllegalArgumentException::new);\n\n        } catch (JsonProcessingException e) {\n            // cannot deserialize json string to FOO  \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25341098,"reputation":1,"user_id":19159468,"display_name":"Vlad Corjuc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653050047,"creation_date":1653032747,"question_id":72315296,"body_markdown":"I&#39;m struggling with a problem: is it possible to configure Jackson to throw an error if no field is mapped?  \r\n\r\nExample: deserializing an empty object(&quot;{}&quot;) or without any of the fields that the target object contains.","title":"Is it possible to make Jackson ObjectMapper deserialization fail when no property is mapped resulting an empty object?","body":"<p>I'm struggling with a problem: is it possible to configure Jackson to throw an error if no field is mapped?</p>\n<p>Example: deserializing an empty object(&quot;{}&quot;) or without any of the fields that the target object contains.</p>\n"},{"tags":["java","eclipse","maven","confluence"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1453473667,"post_id":34949082,"comment_id":57629935,"body_markdown":"Did you check [this answer](http://stackoverflow.com/a/13636584/243373) on [Setting JDK in Eclipse](http://stackoverflow.com/q/13635563/243373)?","body":"Did you check <a href=\"http://stackoverflow.com/a/13636584/243373\">this answer</a> on <a href=\"http://stackoverflow.com/q/13635563/243373\">Setting JDK in Eclipse</a>?"},{"owner":{"account_id":2649855,"reputation":405,"user_id":2291838,"accept_rate":10,"display_name":"Starfall Projects"},"score":0,"creation_date":1453474361,"post_id":34949082,"comment_id":57630420,"body_markdown":"Heya, yes - my eclipse settings are correct.","body":"Heya, yes - my eclipse settings are correct."},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":2,"creation_date":1453474505,"post_id":34949082,"comment_id":57630526,"body_markdown":"Do you have a `JDK_HOME` environment variable as well?","body":"Do you have a <code>JDK_HOME</code> environment variable as well?"},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1453474621,"post_id":34949082,"comment_id":57630595,"body_markdown":"Also check [this answer](http://stackoverflow.com/a/21279068/243373) on SO, and [another answer](http://stackoverflow.com/a/25632635/243373) from the same thread. Not sure how you run the atlas-run tbh (have no XP in it).","body":"Also check <a href=\"http://stackoverflow.com/a/21279068/243373\">this answer</a> on SO, and <a href=\"http://stackoverflow.com/a/25632635/243373\">another answer</a> from the same thread. Not sure how you run the atlas-run tbh (have no XP in it)."},{"owner":{"account_id":2649855,"reputation":405,"user_id":2291838,"accept_rate":10,"display_name":"Starfall Projects"},"score":1,"creation_date":1453474894,"post_id":34949082,"comment_id":57630791,"body_markdown":"Ah no I don&#39;t have a JDK_HOME, just JAVA_HOME","body":"Ah no I don&#39;t have a JDK_HOME, just JAVA_HOME"},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1453535185,"post_id":34949082,"comment_id":57652719,"body_markdown":"Were you able to solve this issue?","body":"Were you able to solve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":2629639,"reputation":467,"user_id":2275948,"accept_rate":73,"display_name":"webdev5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484177286,"creation_date":1484177286,"answer_id":41602677,"question_id":34949082,"body_markdown":"I had the same problem.\r\n\r\nGo to Control Panel --&gt; System --&gt; Advanced System Settings  \r\n\r\nClick Environment Variables  \r\nMy JAVA_HOME was set to c:\\program files (x86)\\java\\jre1.8.0_111  \r\nI changed it to:  \r\nC:\\Program Files\\Java\\jdk1.8.0_111  \r\nand it ran successfully.\r\n\r\n\r\n","title":"No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? - but jdk selected","body":"<p>I had the same problem.</p>\n\n<p>Go to Control Panel --> System --> Advanced System Settings  </p>\n\n<p>Click Environment Variables<br>\nMy JAVA_HOME was set to c:\\program files (x86)\\java\\jre1.8.0_111<br>\nI changed it to:<br>\nC:\\Program Files\\Java\\jdk1.8.0_111<br>\nand it ran successfully.</p>\n"},{"tags":[],"owner":{"account_id":5144604,"reputation":1,"user_id":4120941,"display_name":"naveen kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543305083,"creation_date":1543305083,"answer_id":53495004,"question_id":34949082,"body_markdown":"**Solution**: Go to project run configuration and select Execution enviourment : CDC-1.0/Foundation-1.0 (jdk1.8),\r\nAnd Click Run now.\r\n","title":"No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? - but jdk selected","body":"<p><strong>Solution</strong>: Go to project run configuration and select Execution enviourment : CDC-1.0/Foundation-1.0 (jdk1.8),\nAnd Click Run now.</p>\n"},{"tags":[],"owner":{"account_id":10550809,"reputation":1996,"user_id":7773585,"accept_rate":100,"display_name":"Adey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653050012,"creation_date":1653050012,"answer_id":72319022,"question_id":34949082,"body_markdown":"I had the same problem with maven-compiler-plugin\r\nAdding maven bin folder to PATH variable solved my problem","title":"No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? - but jdk selected","body":"<p>I had the same problem with maven-compiler-plugin\nAdding maven bin folder to PATH variable solved my problem</p>\n"}],"owner":{"account_id":2649855,"reputation":405,"user_id":2291838,"accept_rate":10,"display_name":"Starfall Projects"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2846,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1653050012,"creation_date":1453473034,"question_id":34949082,"body_markdown":"I am trying to do atlas-run (following a simple tutorial about building confluence themes) I am getting the following error:\r\n\r\n&gt; No compiler is provided in this environment. Perhaps you are running\r\n&gt; on a JRE rather than a JDK?\r\n\r\nHowever:\r\nI have gone to my eclipse settings (window - &gt; preferences - &gt; java) and checked that the jdk is both ticked as default and is also selected as the execution environment (to be safe, I removed the JRE). I also went to my system settings and made sure that PATH and JAVA_HOME were both pointing to the JDK not the JRE.","title":"No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? - but jdk selected","body":"<p>I am trying to do atlas-run (following a simple tutorial about building confluence themes) I am getting the following error:</p>\n\n<blockquote>\n  <p>No compiler is provided in this environment. Perhaps you are running\n  on a JRE rather than a JDK?</p>\n</blockquote>\n\n<p>However:\nI have gone to my eclipse settings (window - > preferences - > java) and checked that the jdk is both ticked as default and is also selected as the execution environment (to be safe, I removed the JRE). I also went to my system settings and made sure that PATH and JAVA_HOME were both pointing to the JDK not the JRE.</p>\n"},{"tags":["java","eclipse","maven","ejb-3.0"],"comments":[{"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1339679465,"post_id":11030422,"comment_id":14428125,"body_markdown":"Try `mvn dependency:tree` in the command line and check where the quartz dependency comes from. If it is included transitive can you find it in your local maven repository?","body":"Try <code>mvn dependency:tree</code> in the command line and check where the quartz dependency comes from. If it is included transitive can you find it in your local maven repository?"},{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":0,"creation_date":1339680067,"post_id":11030422,"comment_id":14428435,"body_markdown":"the required version is inside my m2 :/","body":"the required version is inside my m2 :/"},{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":0,"creation_date":1339682420,"post_id":11030422,"comment_id":14429783,"body_markdown":"Oh you are right, I did not noticed :o sorry.\nanyway, I did the maven dance^^ but in the end the problem was coming from the fact that m2e was using it&#39;s embeded version of maven and not mine.","body":"Oh you are right, I did not noticed :o sorry. anyway, I did the maven dance^^ but in the end the problem was coming from the fact that m2e was using it&#39;s embeded version of maven and not mine."},{"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1339682500,"post_id":11030422,"comment_id":14429833,"body_markdown":"I just noticed that you already found the reason and deleted my former comment about the different quartz versions.","body":"I just noticed that you already found the reason and deleted my former comment about the different quartz versions."},{"owner":{"account_id":4591468,"reputation":1026,"user_id":3724636,"display_name":"Ravinda Lakshan"},"score":0,"creation_date":1576146513,"post_id":11030422,"comment_id":104807750,"body_markdown":"faced the same problem and https://stackoverflow.com/a/35932455/3724636    saved me","body":"faced the same problem and <a href=\"https://stackoverflow.com/a/35932455/3724636\">stackoverflow.com/a/35932455/3724636</a>    saved me"}],"answers":[{"tags":[],"owner":{"account_id":982755,"reputation":168,"user_id":1002058,"display_name":"mb2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339667211,"creation_date":1339667211,"answer_id":11030549,"question_id":11030422,"body_markdown":"You&#39;ve a library (quartz-1.5.2.jar) that&#39;s reference to your m2 local repository which doesn&#39;t exist if you just remove the quartz from your build path and update your dependencies internally(in eclipse) that would solve the problem","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>You've a library (quartz-1.5.2.jar) that's reference to your m2 local repository which doesn't exist if you just remove the quartz from your build path and update your dependencies internally(in eclipse) that would solve the problem</p>\n"},{"tags":[],"owner":{"account_id":268991,"reputation":1120,"user_id":558079,"accept_rate":83,"display_name":"plucury"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1339667231,"creation_date":1339667231,"answer_id":11030556,"question_id":11030422,"body_markdown":"You should try `mvn eclipse:eclipse`\r\n\r\nAnd then make sure the `M2_REPO` variable is point to your local repository.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>You should try <code>mvn eclipse:eclipse</code></p>\n\n<p>And then make sure the <code>M2_REPO</code> variable is point to your local repository.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339667250,"creation_date":1339667250,"answer_id":11030565,"question_id":11030422,"body_markdown":"That often happens when the m2eclipse hasn&#39;t updated the build path to correspond to what a modified POM file says.  There&#39;s an entry in the Maven context menu to update the Configuration.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>That often happens when the m2eclipse hasn't updated the build path to correspond to what a modified POM file says.  There's an entry in the Maven context menu to update the Configuration.</p>\n"},{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339667718,"creation_date":1339667718,"answer_id":11030666,"question_id":11030422,"body_markdown":"Sometimes the m2e &quot;maintained&quot; eclipse project is out-of-sync with the actual project in POM (There are lots of reason for that).  Assume you have using m2e 0.8 or later, right click on the project, under Maven, there are two entries that are usually useful.  They are Update Dependencies and Update Project Configuration\r\n\r\nHave a try on them, wait a while after u clicked that for eclipse to update the project and build.  Normally it solves similar problems.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Sometimes the m2e \"maintained\" eclipse project is out-of-sync with the actual project in POM (There are lots of reason for that).  Assume you have using m2e 0.8 or later, right click on the project, under Maven, there are two entries that are usually useful.  They are Update Dependencies and Update Project Configuration</p>\n\n<p>Have a try on them, wait a while after u clicked that for eclipse to update the project and build.  Normally it solves similar problems.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1339679838,"creation_date":1339679838,"answer_id":11033920,"question_id":11030422,"body_markdown":"Sometimes I get these types of issues as well.\r\n\r\nGenerally, what worked best for me with Eclipse &amp; Maven:\r\n\r\n - Use the latest m2e Eclipse plugin\r\n - Use Maven 3\r\n - Make sure m2e uses the same Maven version as the one you&#39;re using on the command line (not the internal one)\r\n - Import projects as Maven projects to generate the Eclipse project files","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Sometimes I get these types of issues as well.</p>\n\n<p>Generally, what worked best for me with Eclipse &amp; Maven:</p>\n\n<ul>\n<li>Use the latest m2e Eclipse plugin</li>\n<li>Use Maven 3</li>\n<li>Make sure m2e uses the same Maven version as the one you're using on the command line (not the internal one)</li>\n<li>Import projects as Maven projects to generate the Eclipse project files</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4611315,"reputation":1,"user_id":3739342,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402700439,"creation_date":1402700439,"answer_id":24214870,"question_id":11030422,"body_markdown":"Try to use different/older version of JRE. In my case switching back to JRE7 from JRE8 eliminated the problem.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Try to use different/older version of JRE. In my case switching back to JRE7 from JRE8 eliminated the problem.</p>\n"},{"tags":[],"owner":{"account_id":5360671,"reputation":11,"user_id":4272028,"display_name":"espressoT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416435372,"creation_date":1416435372,"answer_id":27028114,"question_id":11030422,"body_markdown":"I found that my project was using a project specific Java Compiler setting set to Java 1.5.  Furthermore, the project facets were still referencing Java 1.5 when Maven, m2e, Eclipse general Java Compiler settings were all set to Java 1.8.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>I found that my project was using a project specific Java Compiler setting set to Java 1.5.  Furthermore, the project facets were still referencing Java 1.5 when Maven, m2e, Eclipse general Java Compiler settings were all set to Java 1.8.</p>\n"},{"tags":[],"owner":{"account_id":228708,"reputation":2873,"user_id":491196,"accept_rate":68,"display_name":"Rob McFeely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423151746,"creation_date":1423151746,"answer_id":28348394,"question_id":11030422,"body_markdown":"Delete and Re-Import the project in eclipse (without deleting files of course).  Unlike other answers I have not looked into why this happens but it works.  poof - compilations errors be-gone","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Delete and Re-Import the project in eclipse (without deleting files of course).  Unlike other answers I have not looked into why this happens but it works.  poof - compilations errors be-gone</p>\n"},{"tags":[],"owner":{"account_id":6834571,"reputation":1130,"user_id":5257091,"display_name":"Hasnaa Ibraheem"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1447242942,"creation_date":1447239869,"answer_id":33649212,"question_id":11030422,"body_markdown":"Updating maven project after importing it has fixed this issue for me:\r\n\r\nRight click on the project --&gt; Maven --&gt; Update project.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Updating maven project after importing it has fixed this issue for me:</p>\n\n<p>Right click on the project --> Maven --> Update project.</p>\n"},{"tags":[],"owner":{"account_id":1289402,"reputation":11379,"user_id":1241782,"accept_rate":83,"display_name":"Mike S"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1475163262,"creation_date":1475163262,"answer_id":39774508,"question_id":11030422,"body_markdown":"The other upvoted answers did not work for me using these versions:\r\n\r\n - Eclipse Neon\r\n - Maven 3\r\n - m2e 1.7\r\n\r\nThis is what I had to do:\r\n\r\n 1. Delete the Eclipse project from Eclipse interface (do not delete project contents on disk)\r\n 2. Go to the project&#39;s root directory in a file explorer or terminal\r\n 3. Delete these files: `.classpath`, `.project`, and `.settings` directory\r\n 4. Back to Eclipse, File -&gt; Import... -&gt; Maven -&gt; Existing Maven projects","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>The other upvoted answers did not work for me using these versions:</p>\n\n<ul>\n<li>Eclipse Neon</li>\n<li>Maven 3</li>\n<li>m2e 1.7</li>\n</ul>\n\n<p>This is what I had to do:</p>\n\n<ol>\n<li>Delete the Eclipse project from Eclipse interface (do not delete project contents on disk)</li>\n<li>Go to the project's root directory in a file explorer or terminal</li>\n<li>Delete these files: <code>.classpath</code>, <code>.project</code>, and <code>.settings</code> directory</li>\n<li>Back to Eclipse, File -> Import... -> Maven -> Existing Maven projects</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5709771,"reputation":151,"user_id":4512194,"display_name":"Shamanth Ramesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496141542,"creation_date":1496141542,"answer_id":44260237,"question_id":11030422,"body_markdown":"sometimes maven update nor all above works.\r\nso check which import statement gives you error, then go particular lib file which is usually in c:user/ur-PC-NAME/.m2 get into package delete that .jar file.\r\n\r\nthen in eclipse, right click on project &gt; maven &gt; update maven.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>sometimes maven update nor all above works.\nso check which import statement gives you error, then go particular lib file which is usually in c:user/ur-PC-NAME/.m2 get into package delete that .jar file.</p>\n\n<p>then in eclipse, right click on project > maven > update maven.</p>\n"},{"tags":[],"owner":{"account_id":2995755,"reputation":1183,"user_id":2542332,"accept_rate":100,"display_name":"sergeyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512772845,"creation_date":1512772845,"answer_id":47723197,"question_id":11030422,"body_markdown":"In my case there were also problems with Java build path like the following:\r\n&quot;Build path specifies execution environment J2SE-1.5. There are no JREs installed in the workspace that are strictly compatible with this environment.&quot; Fixing this resolved compilation errors.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>In my case there were also problems with Java build path like the following:\n\"Build path specifies execution environment J2SE-1.5. There are no JREs installed in the workspace that are strictly compatible with this environment.\" Fixing this resolved compilation errors.</p>\n"},{"tags":[],"owner":{"account_id":10558982,"reputation":81,"user_id":7779323,"display_name":"Vien Ng"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1521000291,"creation_date":1521000291,"answer_id":49269604,"question_id":11030422,"body_markdown":"If you don&#39;t see any error in Eclipse project but it keeps showing the red icon on your project name. Try `mvn eclipse:eclipse`.\r\n\r\nThen select all projects in Eclipse, Right click &gt; Maven &gt; Update projects\r\n\r\nHope it helps. ","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>If you don't see any error in Eclipse project but it keeps showing the red icon on your project name. Try <code>mvn eclipse:eclipse</code>.</p>\n\n<p>Then select all projects in Eclipse, Right click > Maven > Update projects</p>\n\n<p>Hope it helps. </p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551089199,"creation_date":1551089199,"answer_id":54863741,"question_id":11030422,"body_markdown":"It may help: After upgrading eclipse or changing it or something like, old eclipse specific files (.classpath, .project, and .settings) may not be compatible to the new version of eclipse. So you may have to re generate this eclipse specific files using Maven. So try this in your eclipse project root\r\n\r\n    mvn eclipse:eclipse\r\n","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>It may help: After upgrading eclipse or changing it or something like, old eclipse specific files (.classpath, .project, and .settings) may not be compatible to the new version of eclipse. So you may have to re generate this eclipse specific files using Maven. So try this in your eclipse project root</p>\n\n<pre><code>mvn eclipse:eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11915877,"reputation":185,"user_id":8719803,"display_name":"Angia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554324880,"creation_date":1554324880,"answer_id":55504100,"question_id":11030422,"body_markdown":"In my case, eclipse starts to show all errors after I changed some versions of dependencies in pom.xml, however the command line mvn clean install build successfully\r\n\r\n1. I deleted folders of the dependencies I changed manually from the .m2 repositories (in my case everything under org.apache.beam), because I also has corrupted dependency issues.\r\n2. mvn clean build the project, this downloaded the dependencies again\r\n3. right click project: maven -&gt; update project\r\n4. delete the project from eclipse (but not from disk) and reimport (this actually left me with 1 error still, then i delete and reimported again)","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>In my case, eclipse starts to show all errors after I changed some versions of dependencies in pom.xml, however the command line mvn clean install build successfully</p>\n\n<ol>\n<li>I deleted folders of the dependencies I changed manually from the .m2 repositories (in my case everything under org.apache.beam), because I also has corrupted dependency issues.</li>\n<li>mvn clean build the project, this downloaded the dependencies again</li>\n<li>right click project: maven -> update project</li>\n<li>delete the project from eclipse (but not from disk) and reimport (this actually left me with 1 error still, then i delete and reimported again)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571305922,"creation_date":1571305922,"answer_id":58429758,"question_id":11030422,"body_markdown":"In my case, \r\n\r\n 1. I just deleted project from Eclipse (not ticked checkbox to delete\r\n    from project location).\r\n        \r\n 2. Opened project as &quot;Existing Maven Project&quot; again.\r\n\r\nand it solved my issue.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>In my case, </p>\n\n<ol>\n<li><p>I just deleted project from Eclipse (not ticked checkbox to delete\nfrom project location).</p></li>\n<li><p>Opened project as \"Existing Maven Project\" again.</p></li>\n</ol>\n\n<p>and it solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587377181,"creation_date":1587377181,"answer_id":61319848,"question_id":11030422,"body_markdown":"Go to Eclipse&gt; Project (Menu) &gt; Clean... &gt; Select project to clean\r\n\r\nThis also removes invalid errors from Eclipse.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Go to Eclipse> Project (Menu) > Clean... > Select project to clean</p>\n\n<p>This also removes invalid errors from Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":4666504,"reputation":13,"user_id":5427219,"display_name":"marcel uitnederland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607349402,"creation_date":1607349402,"answer_id":65183083,"question_id":11030422,"body_markdown":"For me Right click on the project --&gt; Maven --&gt; Update project with the &quot;Force Update of Snapshots/Releases&quot; checkmarked worked.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>For me Right click on the project --&gt; Maven --&gt; Update project with the &quot;Force Update of Snapshots/Releases&quot; checkmarked worked.</p>\n"},{"tags":[],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611069280,"creation_date":1611069280,"answer_id":65794288,"question_id":11030422,"body_markdown":"Some times, eclipse&#39;s validation causing these errors.\r\nYou can disable them by going to Menu&gt;window&gt;preferences&gt;validation and uncheck suspend all validators or disable them one by one for builds.\r\nE.G, every time You build the project eclipse does not validate your files and does not show up those errors.","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Some times, eclipse's validation causing these errors.\nYou can disable them by going to Menu&gt;window&gt;preferences&gt;validation and uncheck suspend all validators or disable them one by one for builds.\nE.G, every time You build the project eclipse does not validate your files and does not show up those errors.</p>\n"},{"tags":[],"owner":{"account_id":21950108,"reputation":41,"user_id":16229397,"display_name":"Karthik Srinivasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639218692,"creation_date":1639218692,"answer_id":70314378,"question_id":11030422,"body_markdown":"This worked for me\r\n\r\n 1. Delete the Eclipse project from Eclipse interface (do not delete\r\n    project contents on disk) \r\n 2. Go to the project&#39;s root directory in a\r\n    file explorer or terminal \r\n 3. Delete these files: .classpath, .project,\r\n    and .settings directory \r\n 4. Back to Eclipse, File -&gt; Import... -&gt; Maven\r\n    -&gt; Existing Maven projects","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>This worked for me</p>\n<ol>\n<li>Delete the Eclipse project from Eclipse interface (do not delete\nproject contents on disk)</li>\n<li>Go to the project's root directory in a\nfile explorer or terminal</li>\n<li>Delete these files: .classpath, .project,\nand .settings directory</li>\n<li>Back to Eclipse, File -&gt; Import... -&gt; Maven\n-&gt; Existing Maven projects</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653049474,"creation_date":1653049474,"answer_id":72318896,"question_id":11030422,"body_markdown":"Got the same problem, I deleted the project from my workspace (not on disk), opened the project folder and deleted the files `.project`, `.classpath` and the folder named `.settings`.  \r\nNow goto eclipse again, import the same project again and viola my error is gone!","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>Got the same problem, I deleted the project from my workspace (not on disk), opened the project folder and deleted the files <code>.project</code>, <code>.classpath</code> and the folder named <code>.settings</code>.<br />\nNow goto eclipse again, import the same project again and viola my error is gone!</p>\n"}],"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102563,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":11033920,"answer_count":21,"score":44,"last_activity_date":1653049474,"creation_date":1339666756,"question_id":11030422,"body_markdown":"I&#39;m having something quite peculiar here, my build is successful in maven when I type &quot;mvn clean install&quot; however once imported into Eclipse it&#39;s showing errors.\r\n\r\nSee for yourself:\r\n\r\n![mvn clean install][1]\r\n\r\n![Eclipse][2]\r\n\r\nI guess exluding quartz from the `pom.xml solved the problem but I&#39;d like to know why.\r\n\r\n----\r\n\r\nPS: Here is the `pom.xml` in case you want to see it:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.nantes.mpclient&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MyClient&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;MyClient&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.nantes.mp&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;MyEjb&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jboss-as-client&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.0.GA&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n###EDIT\r\nAs you can see quartz is here:\r\n![quartz][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HLM8F.png\r\n  [2]: http://i.stack.imgur.com/avI1L.png\r\n  [3]: http://i.stack.imgur.com/fnfdb.png","title":"Successful build in Maven still showing errors in Eclipse","body":"<p>I'm having something quite peculiar here, my build is successful in maven when I type &quot;mvn clean install&quot; however once imported into Eclipse it's showing errors.</p>\n<p>See for yourself:</p>\n<p><img src=\"https://i.stack.imgur.com/HLM8F.png\" alt=\"mvn clean install\" /></p>\n<p><img src=\"https://i.stack.imgur.com/avI1L.png\" alt=\"Eclipse\" /></p>\n<p>I guess exluding quartz from the `pom.xml solved the problem but I'd like to know why.</p>\n<hr />\n<p>PS: Here is the <code>pom.xml</code> in case you want to see it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.nantes.mpclient&lt;/groupId&gt;\n  &lt;artifactId&gt;MyClient&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;MyClient&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.nantes.mp&lt;/groupId&gt;\n        &lt;artifactId&gt;MyEjb&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-as-client&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0.GA&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>###EDIT\nAs you can see quartz is here:\n<img src=\"https://i.stack.imgur.com/fnfdb.png\" alt=\"quartz\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653033567,"post_id":72315438,"comment_id":127756592,"body_markdown":"`Consumi::getBytes` does not expect a parameter. Don&#39;t pass a parameter.","body":"<code>Consumi::getBytes</code> does not expect a parameter. Don&#39;t pass a parameter."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653033645,"post_id":72315438,"comment_id":127756621,"body_markdown":"Look at `public byte[] getBytes()` - see no args","body":"Look at <code>public byte[] getBytes()</code> - see no args"},{"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"score":0,"creation_date":1653033795,"post_id":72315438,"comment_id":127756661,"body_markdown":"@FedericoklezCulloca I am sorry I don&#39;t understand","body":"@FedericoklezCulloca I am sorry I don&#39;t understand"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653033854,"post_id":72315438,"comment_id":127756685,"body_markdown":"Change in Consumi class: public byte[] getBytes(String encode){...","body":"Change in Consumi class: public byte[] getBytes(String encode){..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653033997,"post_id":72315438,"comment_id":127756743,"body_markdown":"@LucaGirotti here `message = c.getBytes(&quot;UTF-16&quot;);` you&#39;re passing a parameter to `getBytes`, but if you read the definition of `getBytes` inside of `Consumi` you&#39;ll notice it doesn&#39;t expect a parameter.","body":"@LucaGirotti here <code>message = c.getBytes(&quot;UTF-16&quot;);</code> you&#39;re passing a parameter to <code>getBytes</code>, but if you read the definition of <code>getBytes</code> inside of <code>Consumi</code> you&#39;ll notice it doesn&#39;t expect a parameter."},{"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"score":0,"creation_date":1653034033,"post_id":72315438,"comment_id":127756752,"body_markdown":"@pringi Ok ok, that seems to work, however the &quot;catch(UnsupportedEncodingException e){\n                e.printStackTrace();\n} &quot;\n\nis giving me &quot; Unable to catch block for UnsuporttedEncodingException. This exception is never thrown in the body statement&quot;","body":"@pringi Ok ok, that seems to work, however the &quot;catch(UnsupportedEncodingException e){                 e.printStackTrace(); } &quot;  is giving me &quot; Unable to catch block for UnsuporttedEncodingException. This exception is never thrown in the body statement&quot;"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653034211,"post_id":72315438,"comment_id":127756807,"body_markdown":"@LucaGirotti because the method getBytes() doesn&#39;t throw any exception. You can remove the try/catch block entirely.","body":"@LucaGirotti because the method getBytes() doesn&#39;t throw any exception. You can remove the try/catch block entirely."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653049433,"creation_date":1653049433,"answer_id":72318881,"question_id":72315438,"body_markdown":"Your call `getBytes(&quot;UTF-16&quot;)` suggests that you want the content in a specific character encoding, but the class `Consumi` only offers a parameterless method `getBytes()` which uses the platforms default encoding. Since its rather unlikely that your platforms default encoding is UTF-16 and you dont want to rely on likelihoods anyway, change `Consumi`s method\r\n\r\n```java\r\npublic byte[] getBytes(){\r\n    return String.valueOf(consumi).getBytes();\r\n}\r\n```\r\nto\r\n\r\n```java\r\npublic byte[] getBytes(String charsetName) throws UnsupportedEncodingException {\r\n    return String.valueOf(consumi).getBytes(charsetName);\r\n}\r\n```\r\n\r\nIn principle, you could keep both methods, but using the platforms default encoding can easily lead to errors. Mind that this applies to the other end too, when converting the bytes back into a `String`.\r\n","title":"The method getBytes() in the type &quot;x&quot; is not applicable for the arguments (String)","body":"<p>Your call <code>getBytes(&quot;UTF-16&quot;)</code> suggests that you want the content in a specific character encoding, but the class <code>Consumi</code> only offers a parameterless method <code>getBytes()</code> which uses the platforms default encoding. Since its rather unlikely that your platforms default encoding is UTF-16 and you dont want to rely on likelihoods anyway, change <code>Consumi</code>s method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] getBytes(){\n    return String.valueOf(consumi).getBytes();\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] getBytes(String charsetName) throws UnsupportedEncodingException {\n    return String.valueOf(consumi).getBytes(charsetName);\n}\n</code></pre>\n<p>In principle, you could keep both methods, but using the platforms default encoding can easily lead to errors. Mind that this applies to the other end too, when converting the bytes back into a <code>String</code>.</p>\n"}],"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653049433,"creation_date":1653033481,"question_id":72315438,"body_markdown":"In a program in Java I am trying to use the stream bytes and the pipelines for sharing informations among threads. However whenever I trying to use getBytes() I get the following error: \r\n*The method getBytes() in the type &quot;Consumi &quot; is not applicable for the arguments (String)*\r\n\r\nThe &quot;SimulaConsumi&quot; file where I am trying to use it (disclaimer: not finished) : \r\n\r\n    package tryout5_stream_bytes;\r\n    \r\n    import java.io.PipedOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    public class SimulaConsumi implements Runnable {\r\n        private AtomicBoolean isRunning = new AtomicBoolean(false);\r\n        private PipedOutputStream pos = null;\r\n    \r\n        public SimulaConsumi(PipedOutputStream pos){\r\n            this.pos = pos;\r\n        }\r\n    \r\n        @Override\r\n        public void run(){\r\n            isRunning.set(true);\r\n    \r\n            while(isRunning.get()){\r\n                Consumi c = new Consumi((float) (30 * Math.random()));\r\n    \r\n                byte[] message = null;\r\n    \r\n                try{\r\n                    message = c.getBytes(&quot;UTF-16&quot;);\r\n                } catch(UnsupportedEncodingException e){\r\n                    e.printStackTrace();\r\n                } \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand the file Consumi:\r\n\r\n    package tryout5_stream_bytes;\r\n    \r\n    import java.io.Serializable;\r\n\r\n    public class Consumi implements Serializable{\r\n    \r\n        private float consumi = 0.0F;\r\n    \r\n        public Consumi(float consumi){\r\n            this.consumi = consumi;\r\n        }\r\n    \r\n        public float getConsumi(){\r\n            return consumi;\r\n        }\r\n    \r\n        public byte[] getBytes(){\r\n            return String.valueOf(consumi).getBytes();\r\n        }\r\n    }\r\n\r\nI currently have no clue on how I can fix this.","title":"The method getBytes() in the type &quot;x&quot; is not applicable for the arguments (String)","body":"<p>In a program in Java I am trying to use the stream bytes and the pipelines for sharing informations among threads. However whenever I trying to use getBytes() I get the following error:\n<em>The method getBytes() in the type &quot;Consumi &quot; is not applicable for the arguments (String)</em></p>\n<p>The &quot;SimulaConsumi&quot; file where I am trying to use it (disclaimer: not finished) :</p>\n<pre><code>package tryout5_stream_bytes;\n\nimport java.io.PipedOutputStream;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class SimulaConsumi implements Runnable {\n    private AtomicBoolean isRunning = new AtomicBoolean(false);\n    private PipedOutputStream pos = null;\n\n    public SimulaConsumi(PipedOutputStream pos){\n        this.pos = pos;\n    }\n\n    @Override\n    public void run(){\n        isRunning.set(true);\n\n        while(isRunning.get()){\n            Consumi c = new Consumi((float) (30 * Math.random()));\n\n            byte[] message = null;\n\n            try{\n                message = c.getBytes(&quot;UTF-16&quot;);\n            } catch(UnsupportedEncodingException e){\n                e.printStackTrace();\n            } \n        }\n    }\n\n}\n</code></pre>\n<p>and the file Consumi:</p>\n<pre><code>package tryout5_stream_bytes;\n\nimport java.io.Serializable;\n\npublic class Consumi implements Serializable{\n\n    private float consumi = 0.0F;\n\n    public Consumi(float consumi){\n        this.consumi = consumi;\n    }\n\n    public float getConsumi(){\n        return consumi;\n    }\n\n    public byte[] getBytes(){\n        return String.valueOf(consumi).getBytes();\n    }\n}\n</code></pre>\n<p>I currently have no clue on how I can fix this.</p>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":25335278,"reputation":11,"user_id":19154515,"display_name":"Christo Konidaris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653049246,"creation_date":1653049246,"question_id":72318823,"body_markdown":"I am trying to make an android application where the user works in a warehouse and picks items according to each order. They can choose an order from the recycler view in the order screen, it then goes to another screen that populates another recycler view with all the items in that order. In the recycler view on the items screen, for each item, is the item uid, barcode, description, and quantity. Next to each item there are 2 buttons on the right, a green arrow and a red x, if you click the x it sets the amount picked to 0 (there is no stock of that item in the warehouse). If you click the arrow the idea is to check if the item has a barcode, if not, it displays a dialog where the user can edit the picked amount for that item. If it does have a barcode open the scanner and scan the product that the user suspects to be the correct product. It will then perform a check to see if the item scanned matches the barcode of the item in the recycler view. If it matches then display the dialog where the user can edit the picked amount, if it does not match display toast saying &quot;wrong product, try again.&quot; \r\n\r\nThe issue I&#39;m having is that when I click on the arrow and the scanner opens to perform the scan and once the scan is complete nothing happens until I click on the arrow again. Only then does it either display the dialog to change picked amount if its correct, or it opens the scanner again due to it being the incorrect product. I need it to open the dialog straight after the scan if its the correct product, or display toast saying its the incorrect product.\r\n\r\nPresumably, the reason why is only opening the dialog on correct product result after the second click is because on the first click it does the check at the same time as the scan, and therefore once the scan is completed and the user is returned to the items screen there is no dialog displaying.\r\n\r\nA solution I tried, is to do the check outside of the arrow button onclick and in the onbindview, and once the scan is complete set the items screen to recreate(). So in essence it refreshes the screen and does the check. However this still doesn&#39;t work properly as it checks for each item in the order instead of just the item you scanned.\r\n\r\nBelow is a diagram to help visualize the scenario:\r\n\r\n[Diagram of Scenario][1]\r\n\r\n\r\nOn arrow click:\r\n\r\n```\r\nholder.Next.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(Order.this);\r\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\r\n                    View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.customdialogview, viewGroup, false);\r\n                   \r\n                    QuantityRequired = dialogView.findViewById(R.id.QuantityRequiredTXT);\r\n                    QuantityPicked = dialogView.findViewById(R.id.QuantityPickedTXT);\r\n                    DialogBarcode = dialogView.findViewById(R.id.AddBarcodeTXT);\r\n                    Finish = dialogView.findViewById(R.id.FinishDialogBTN);\r\n                    DialogDescription = dialogView.findViewById(R.id.AddDescriptionTXT);\r\n\r\n                    ScannedBarcode = dialogView2.findViewById(R.id.ScanendBarcodeTXT);\r\n                    ItemBarcode = dialogView2.findViewById(R.id.ItemBarcodeTXT);\r\n                    Yes = dialogView2.findViewById(R.id.YesDialogBTN);\r\n                    No = dialogView2.findViewById(R.id.CancelDialogBTN);\r\n\r\n                    ScannedBarcode.setText(scanContent);\r\n                    ItemBarcode.setText(holder.BarcodeTXT.getText().toString());\r\n\r\n                    DialogBarcode.setText(holder.BarcodeTXT.getText().toString());\r\n                    DialogDescription.setText(holder.DescriptionTXT.getText());\r\n                    QuantityRequired.setText(holder.QuantityTXT.getText());\r\n                    ItemUid = slipDataModel.getUID();\r\n\r\n\r\n                    builder.setView(dialogView);\r\n                    AlertDialog alertDialog = builder.create();    \r\n\r\n                        if(holder.BarcodeTXT.getText().toString().equals(scanContent)){\r\n                            alertDialog.show();\r\n                            scan = true;\r\n                        }\r\n\r\n                        if(holder.BarcodeTXT.getText().toString().equals(&quot;&quot;)){\r\n\r\n                            alertDialog.show();\r\n                            scan = true;\r\n                        }\r\n\r\n                    if(!holder.BarcodeTXT.getText().toString().equals(scanContent) &amp;&amp; !holder.BarcodeTXT.getText().toString().equals(&quot;&quot;)){\r\n                        ScanCode();\r\n                        barcode = holder.BarcodeTXT.getText().toString();\r\n                        productDescription = holder.DescriptionTXT.getText().toString();\r\n                        productQuantity = holder.QuantityTXT.getText().toString();\r\n                        recreate();\r\n                        scan = false;\r\n\r\n                    } \r\n\r\n                    Finish.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n\r\n                            next = true;\r\n\r\n\r\n                            if(holder.QuantityTXT.getText().equals(slipDataModel.getQuantity() + &quot;(0)&quot;)){\r\n                                holder.QuantityTXT.setText(&quot;&quot;);\r\n                            }\r\n\r\n                            holder.QuantityTXT.setText(slipDataModel.getQuantity() + &quot;(&quot; + QuantityPicked.getText() + &quot;)&quot;);\r\n\r\n                            if(next){\r\n                                holder.Next.setBackgroundResource(R.drawable.ic_wand_icons_01);\r\n                            }else{\r\n                                holder.Next.setBackgroundResource(R.drawable.ic_greenarrowfoward);\r\n                            }\r\n\r\n\r\n                            Log.d(TAG, &quot;Quan: &quot; + holder.QuantityTXT.getText());\r\n\r\n                            Log.d(TAG, &quot;Quantity Picked: &quot; + QuantityPicked.getText());\r\n\r\n                            SyncData4 Data = new SyncData4();\r\n                            Data.execute();\r\n\r\n                            alertDialog.dismiss();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n```\r\n\r\nThe Check in the onBindView:\r\n\r\nChecks if the item has a barcode, if not dont do the check, if it does, check if the item&#39;s barcode matches the scanContent (scanned barcode). It then binds all the values for that item to the dialog and displays it, else its the wrong product. \r\n```\r\nif (barcode != null) {\r\n                if (barcode == scanContent) {\r\n\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(Order.this);\r\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\r\n                    View dialogView = LayoutInflater.from(context).inflate(R.layout.customdialogview, viewGroup, false);\r\n                    builder.setView(dialogView);\r\n                    AlertDialog alertDialog = builder.create();\r\n\r\n                    QuantityRequired = dialogView.findViewById(R.id.QuantityRequiredTXT);\r\n                    QuantityPicked = dialogView.findViewById(R.id.QuantityPickedTXT);\r\n                    DialogBarcode = dialogView.findViewById(R.id.AddBarcodeTXT);\r\n                    DialogDescription = dialogView.findViewById(R.id.AddDescriptionTXT);\r\n\r\n                    DialogBarcode.setText(barcode);\r\n                    DialogDescription.setText(productDescription);\r\n                    QuantityRequired.setText(productQuantity);\r\n                    //ItemUid = slipDataModel.getUID();\r\n                    Log.d(TAG, &quot;YES: &quot; + barcode + scanContent);\r\n                    alertDialog.show();\r\n\r\n                } else {\r\n                    Log.d(TAG, &quot;No: &quot; + barcode + scanContent);\r\n                    Toast.makeText(context, &quot;Wrong Product!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n```\r\n\r\n[Item Screen][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3UKp.png\r\n  [2]: https://i.stack.imgur.com/udsKo.png","title":"Mobile barcode scanner to check if the order item matches the scanned barcode in Android java","body":"<p>I am trying to make an android application where the user works in a warehouse and picks items according to each order. They can choose an order from the recycler view in the order screen, it then goes to another screen that populates another recycler view with all the items in that order. In the recycler view on the items screen, for each item, is the item uid, barcode, description, and quantity. Next to each item there are 2 buttons on the right, a green arrow and a red x, if you click the x it sets the amount picked to 0 (there is no stock of that item in the warehouse). If you click the arrow the idea is to check if the item has a barcode, if not, it displays a dialog where the user can edit the picked amount for that item. If it does have a barcode open the scanner and scan the product that the user suspects to be the correct product. It will then perform a check to see if the item scanned matches the barcode of the item in the recycler view. If it matches then display the dialog where the user can edit the picked amount, if it does not match display toast saying &quot;wrong product, try again.&quot;</p>\n<p>The issue I'm having is that when I click on the arrow and the scanner opens to perform the scan and once the scan is complete nothing happens until I click on the arrow again. Only then does it either display the dialog to change picked amount if its correct, or it opens the scanner again due to it being the incorrect product. I need it to open the dialog straight after the scan if its the correct product, or display toast saying its the incorrect product.</p>\n<p>Presumably, the reason why is only opening the dialog on correct product result after the second click is because on the first click it does the check at the same time as the scan, and therefore once the scan is completed and the user is returned to the items screen there is no dialog displaying.</p>\n<p>A solution I tried, is to do the check outside of the arrow button onclick and in the onbindview, and once the scan is complete set the items screen to recreate(). So in essence it refreshes the screen and does the check. However this still doesn't work properly as it checks for each item in the order instead of just the item you scanned.</p>\n<p>Below is a diagram to help visualize the scenario:</p>\n<p><a href=\"https://i.stack.imgur.com/s3UKp.png\" rel=\"nofollow noreferrer\">Diagram of Scenario</a></p>\n<p>On arrow click:</p>\n<pre><code>holder.Next.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    AlertDialog.Builder builder = new AlertDialog.Builder(Order.this);\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\n                    View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.customdialogview, viewGroup, false);\n                   \n                    QuantityRequired = dialogView.findViewById(R.id.QuantityRequiredTXT);\n                    QuantityPicked = dialogView.findViewById(R.id.QuantityPickedTXT);\n                    DialogBarcode = dialogView.findViewById(R.id.AddBarcodeTXT);\n                    Finish = dialogView.findViewById(R.id.FinishDialogBTN);\n                    DialogDescription = dialogView.findViewById(R.id.AddDescriptionTXT);\n\n                    ScannedBarcode = dialogView2.findViewById(R.id.ScanendBarcodeTXT);\n                    ItemBarcode = dialogView2.findViewById(R.id.ItemBarcodeTXT);\n                    Yes = dialogView2.findViewById(R.id.YesDialogBTN);\n                    No = dialogView2.findViewById(R.id.CancelDialogBTN);\n\n                    ScannedBarcode.setText(scanContent);\n                    ItemBarcode.setText(holder.BarcodeTXT.getText().toString());\n\n                    DialogBarcode.setText(holder.BarcodeTXT.getText().toString());\n                    DialogDescription.setText(holder.DescriptionTXT.getText());\n                    QuantityRequired.setText(holder.QuantityTXT.getText());\n                    ItemUid = slipDataModel.getUID();\n\n\n                    builder.setView(dialogView);\n                    AlertDialog alertDialog = builder.create();    \n\n                        if(holder.BarcodeTXT.getText().toString().equals(scanContent)){\n                            alertDialog.show();\n                            scan = true;\n                        }\n\n                        if(holder.BarcodeTXT.getText().toString().equals(&quot;&quot;)){\n\n                            alertDialog.show();\n                            scan = true;\n                        }\n\n                    if(!holder.BarcodeTXT.getText().toString().equals(scanContent) &amp;&amp; !holder.BarcodeTXT.getText().toString().equals(&quot;&quot;)){\n                        ScanCode();\n                        barcode = holder.BarcodeTXT.getText().toString();\n                        productDescription = holder.DescriptionTXT.getText().toString();\n                        productQuantity = holder.QuantityTXT.getText().toString();\n                        recreate();\n                        scan = false;\n\n                    } \n\n                    Finish.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n\n                            next = true;\n\n\n                            if(holder.QuantityTXT.getText().equals(slipDataModel.getQuantity() + &quot;(0)&quot;)){\n                                holder.QuantityTXT.setText(&quot;&quot;);\n                            }\n\n                            holder.QuantityTXT.setText(slipDataModel.getQuantity() + &quot;(&quot; + QuantityPicked.getText() + &quot;)&quot;);\n\n                            if(next){\n                                holder.Next.setBackgroundResource(R.drawable.ic_wand_icons_01);\n                            }else{\n                                holder.Next.setBackgroundResource(R.drawable.ic_greenarrowfoward);\n                            }\n\n\n                            Log.d(TAG, &quot;Quan: &quot; + holder.QuantityTXT.getText());\n\n                            Log.d(TAG, &quot;Quantity Picked: &quot; + QuantityPicked.getText());\n\n                            SyncData4 Data = new SyncData4();\n                            Data.execute();\n\n                            alertDialog.dismiss();\n                        }\n                    });\n                }\n            });\n</code></pre>\n<p>The Check in the onBindView:</p>\n<p>Checks if the item has a barcode, if not dont do the check, if it does, check if the item's barcode matches the scanContent (scanned barcode). It then binds all the values for that item to the dialog and displays it, else its the wrong product.</p>\n<pre><code>if (barcode != null) {\n                if (barcode == scanContent) {\n\n                    AlertDialog.Builder builder = new AlertDialog.Builder(Order.this);\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\n                    View dialogView = LayoutInflater.from(context).inflate(R.layout.customdialogview, viewGroup, false);\n                    builder.setView(dialogView);\n                    AlertDialog alertDialog = builder.create();\n\n                    QuantityRequired = dialogView.findViewById(R.id.QuantityRequiredTXT);\n                    QuantityPicked = dialogView.findViewById(R.id.QuantityPickedTXT);\n                    DialogBarcode = dialogView.findViewById(R.id.AddBarcodeTXT);\n                    DialogDescription = dialogView.findViewById(R.id.AddDescriptionTXT);\n\n                    DialogBarcode.setText(barcode);\n                    DialogDescription.setText(productDescription);\n                    QuantityRequired.setText(productQuantity);\n                    //ItemUid = slipDataModel.getUID();\n                    Log.d(TAG, &quot;YES: &quot; + barcode + scanContent);\n                    alertDialog.show();\n\n                } else {\n                    Log.d(TAG, &quot;No: &quot; + barcode + scanContent);\n                    Toast.makeText(context, &quot;Wrong Product!&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/udsKo.png\" rel=\"nofollow noreferrer\">Item Screen</a></p>\n"},{"tags":["java","arrays","cycle-sort"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1653049491,"post_id":72318811,"comment_id":127762172,"body_markdown":"Probably yes it does. Shouldn&#39;t Leetcode tell you if you fulfilled all conditions when you submit your solution? Apart from that getting around that requirement doesn&#39;t seem very hard, as you can just copy the array and work on that copy. That should be a quite small change to your code.","body":"Probably yes it does. Shouldn&#39;t Leetcode tell you if you fulfilled all conditions when you submit your solution? Apart from that getting around that requirement doesn&#39;t seem very hard, as you can just copy the array and work on that copy. That should be a quite small change to your code."},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653050053,"post_id":72318811,"comment_id":127762373,"body_markdown":"Of course.  The array has changed, i.e., been modified.","body":"Of course.  The array has changed, i.e., been modified."},{"owner":{"account_id":22100407,"reputation":1,"user_id":16356966,"display_name":"codingworld "},"score":0,"creation_date":1653052367,"post_id":72318811,"comment_id":127763220,"body_markdown":"class Solution {\n    public int findDuplicate(int[] arr) {\n        int i =0;\n        while(i&lt; arr.length){\n            if(arr[i] != i+1){\n                if(arr[i] != arr[arr[i]-1]){\n                    int temp = arr[i];\n                    arr[i] = arr[temp-1];\n                    arr[temp-1] = temp;\n                }\n                else{\n                    return arr[i];\n                }\n            }\n            else{\n                i++;\n            }\n            }\n         return -1;\n        }\n    }  //Better Solution","body":"class Solution {     public int findDuplicate(int[] arr) {         int i =0;         while(i&lt; arr.length){             if(arr[i] != i+1){                 if(arr[i] != arr[arr[i]-1]){                     int temp = arr[i];                     arr[i] = arr[temp-1];                     arr[temp-1] = temp;                 }                 else{                     return arr[i];                 }             }             else{                 i++;             }             }          return -1;         }     }  //Better Solution"}],"owner":{"account_id":22100407,"reputation":1,"user_id":16356966,"display_name":"codingworld "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653049177,"creation_date":1653049177,"question_id":72318811,"body_markdown":"    class Solution {\r\n        public int findDuplicate(int[] arr) {\r\n            List&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\r\n            int i =0;\r\n            while(i&lt; arr.length){\r\n                if(arr[i]&lt;= arr.length  &amp;&amp; arr[i] != arr[arr[i]-1]){\r\n                    int temp = arr[i];\r\n                    arr[i] = arr[temp-1];\r\n                    arr[temp-1] = temp;\r\n                }\r\n                else{\r\n                    i++;\r\n                }\r\n            }\r\n            for(int j =0; j&lt; arr.length; j++){\r\n                if(arr[j] !=j+1){\r\n                    return arr[j];\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n**Leetcode - 287 - You must solve the problem without modifying the array nums and uses only constant extra space.**","title":"does swapping an elements in an array, considered as modifying an array? LEETCODE - 287","body":"<pre><code>class Solution {\n    public int findDuplicate(int[] arr) {\n        List&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\n        int i =0;\n        while(i&lt; arr.length){\n            if(arr[i]&lt;= arr.length  &amp;&amp; arr[i] != arr[arr[i]-1]){\n                int temp = arr[i];\n                arr[i] = arr[temp-1];\n                arr[temp-1] = temp;\n            }\n            else{\n                i++;\n            }\n        }\n        for(int j =0; j&lt; arr.length; j++){\n            if(arr[j] !=j+1){\n                return arr[j];\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p><strong>Leetcode - 287 - You must solve the problem without modifying the array nums and uses only constant extra space.</strong></p>\n"},{"tags":["java","spring-boot","validation","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1653050154,"post_id":72318805,"comment_id":127762399,"body_markdown":"This would work (some minor improvements like picking a right overload of log.info to pass exception, or reading time format from the annotation) but consider using `java.time` classes in your model, and pushing date formatting to the presentation layer.","body":"This would work (some minor improvements like picking a right overload of log.info to pass exception, or reading time format from the annotation) but consider using <code>java.time</code> classes in your model, and pushing date formatting to the presentation layer."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653057626,"post_id":72318805,"comment_id":127765429,"body_markdown":"If your input includes a `Z`, offset, or time zone on the end, you should be parsing as an `Instant`, `OffsetDateTime`, or `ZonedDateTime`, respectively, *not* a `LocalDateTime`.","body":"If your input includes a <code>Z</code>, offset, or time zone on the end, you should be parsing as an <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>, respectively, <i>not</i> a <code>LocalDateTime</code>."}],"owner":{"account_id":17817942,"reputation":19,"user_id":12941031,"display_name":"Tobi "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653049131,"creation_date":1653049131,"question_id":72318805,"body_markdown":"I created my own custom annotation. It basically tries to parse a String into LocalDateTime while following a custom pattern. \r\n\r\nHere is the annotation: \r\n\r\n```\r\n@Documented\r\n@Constraint(validatedBy = ValidateDateStringImpl.class)\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ValidateDateString {\r\n    String message() default &quot;Invalid date-time format&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nHere is the Validation Logic:\r\n\r\n```\r\n@Slf4j\r\npublic class ValidateDateStringImpl implements ConstraintValidator&lt;ValidateDateString, String&gt; {\r\n\r\n    private  DateTimeFormatter dateTimeFormatter;\r\n\r\n    @Override\r\n    public void initialize(ValidateDateString constraintAnnotation) {\r\n        dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSz&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String dateString, ConstraintValidatorContext context) {\r\n        try{\r\n            LocalDateTime.parse(dateString,dateTimeFormatter);\r\n        }\r\n        catch (DateTimeParseException ex){\r\n            log.info(String.valueOf(ex));\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHere is where the annotation is being used: \r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Foo{\r\n\r\n    @NotBlank\r\n    @ValidateDateString\r\n    private String fooDateTime;\r\n\r\n}\r\n```\r\n\r\nIs this a good approach, or are there some better alternatives. Thanks in advance!\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is this a bad way to handle a String DateTime Constraint?","body":"<p>I created my own custom annotation. It basically tries to parse a String into LocalDateTime while following a custom pattern.</p>\n<p>Here is the annotation:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = ValidateDateStringImpl.class)\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidateDateString {\n    String message() default &quot;Invalid date-time format&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Here is the Validation Logic:</p>\n<pre><code>@Slf4j\npublic class ValidateDateStringImpl implements ConstraintValidator&lt;ValidateDateString, String&gt; {\n\n    private  DateTimeFormatter dateTimeFormatter;\n\n    @Override\n    public void initialize(ValidateDateString constraintAnnotation) {\n        dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSz&quot;);\n    }\n\n    @Override\n    public boolean isValid(String dateString, ConstraintValidatorContext context) {\n        try{\n            LocalDateTime.parse(dateString,dateTimeFormatter);\n        }\n        catch (DateTimeParseException ex){\n            log.info(String.valueOf(ex));\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Here is where the annotation is being used:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Foo{\n\n    @NotBlank\n    @ValidateDateString\n    private String fooDateTime;\n\n}\n</code></pre>\n<p>Is this a good approach, or are there some better alternatives. Thanks in advance!</p>\n"},{"tags":["java","jmeter","taurus"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651221149,"post_id":72054937,"comment_id":127317173,"body_markdown":"it would seem not everything you are trying to use is on your classpath","body":"it would seem not everything you are trying to use is on your classpath"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651221435,"creation_date":1651221435,"answer_id":72055103,"question_id":72054937,"body_markdown":" 1. You need to specify **all the dependencies** you&#39;re using via [`additional-classpath` entries][1] \r\n 2. You need to upgrade your Java to [OpenJDK 9][2] (or later) as one of your libraries is built with JDK 9 and you won&#39;t be able to use it with Java 8\r\n 3. There is no need to use Taurus, you can just configure your WebDriver instance to use a [proxy][3] and specify [BlazeMeter Proxy Recorder][4] as the proxy server, this way you will also get [automatic correlation][5]. \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://gettaurus.org/docs/Selenium/#Scenario-Examples\r\n  [2]: https://openjdk.java.net/projects/jdk9/\r\n  [3]: https://www.selenium.dev/documentation/webdriver/capabilities/shared/#proxy\r\n  [4]: https://guide.blazemeter.com/hc/en-us/articles/360000271458-Creating-the-Proxy-Recorder\r\n  [5]: https://www.blazemeter.com/blog/how-cut-your-jmeter-scripting-time-80/","title":"How to resloved -below errors","body":"<ol>\n<li>You need to specify <strong>all the dependencies</strong> you're using via <a href=\"https://gettaurus.org/docs/Selenium/#Scenario-Examples\" rel=\"nofollow noreferrer\"><code>additional-classpath</code> entries</a></li>\n<li>You need to upgrade your Java to <a href=\"https://openjdk.java.net/projects/jdk9/\" rel=\"nofollow noreferrer\">OpenJDK 9</a> (or later) as one of your libraries is built with JDK 9 and you won't be able to use it with Java 8</li>\n<li>There is no need to use Taurus, you can just configure your WebDriver instance to use a <a href=\"https://www.selenium.dev/documentation/webdriver/capabilities/shared/#proxy\" rel=\"nofollow noreferrer\">proxy</a> and specify <a href=\"https://guide.blazemeter.com/hc/en-us/articles/360000271458-Creating-the-Proxy-Recorder\" rel=\"nofollow noreferrer\">BlazeMeter Proxy Recorder</a> as the proxy server, this way you will also get <a href=\"https://www.blazemeter.com/blog/how-cut-your-jmeter-scripting-time-80/\" rel=\"nofollow noreferrer\">automatic correlation</a>.</li>\n</ol>\n"}],"owner":{"account_id":22560515,"reputation":23,"user_id":16748216,"display_name":"James P."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653048996,"creation_date":1651220725,"question_id":72054937,"body_markdown":"I pass config yml file as --&gt;\r\n\r\n    execution:\r\n    - executor: selenium\r\n      iterations: 1\r\n      scenario: sel\r\n    \r\n    scenarios:\r\n      sel:\r\n        script: F:\\Taurus\\Orange\\OrangeHRM_File\\AEDDE\\LoginPage_OrangeHRM.java\r\n        additional-classpath: F:\\Taurus\\junit-4.13.1.jar\r\n    services:\r\n     - module: proxy2jmx\r\n    modules:\r\n     blazemeter:\r\n      token: 707ab1011445rrtrtrt13827f:7e30d7ba25e39c53f1e1cf4ggg98975645gd97fb567139f\r\ngot error--&gt;\r\nSEVERE: Failed to process class: \r\n\r\n    sers\\sam\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.22.0.20211202-1200\\org\\eclipse\\epp\\common\\ContributeHandler\r\n    java.lang.ClassNotFoundException: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.22.0.20211202-1200\\org\\eclipse\\epp\\common\\ContributeHandler\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n\r\n&amp;\r\n\r\n    SEVERE: Failed to process class: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.m2e.maven.indexer_1.18.1.20211011-2139\\org\\apache\\maven\\index\\NexusArchetypeDataSource\r\n    java.lang.ClassNotFoundException: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.m2e.maven.indexer_1.18.1.20211011-2139\\org\\apache\\maven\\index\\NexusArchetypeDataSource\r\n&amp;\r\n\r\n    SEVERE: Failed to process class: org.seleniumhq.jetty9.util.log.Slf4jLog\r\n    java.lang.NoClassDefFoundError: org/slf4j/Logger\r\n&amp;\r\n\r\n    SEVERE: Failed to process class: META-INF.versions.9.org.junit.platform.commons.util.ModuleUtils$ModuleReferenceScanner\r\n    java.lang.UnsupportedClassVersionError: META-INF/versions/9/org/junit/platform/commons/util/ModuleUtils$ModuleReferenceScanner has been compiled by a more recent version of the Java Runtime (class file version 53.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nSo how is it resolved?","title":"How to resloved -below errors","body":"<p>I pass config yml file as --&gt;</p>\n<pre><code>execution:\n- executor: selenium\n  iterations: 1\n  scenario: sel\n\nscenarios:\n  sel:\n    script: F:\\Taurus\\Orange\\OrangeHRM_File\\AEDDE\\LoginPage_OrangeHRM.java\n    additional-classpath: F:\\Taurus\\junit-4.13.1.jar\nservices:\n - module: proxy2jmx\nmodules:\n blazemeter:\n  token: 707ab1011445rrtrtrt13827f:7e30d7ba25e39c53f1e1cf4ggg98975645gd97fb567139f\n</code></pre>\n<p>got error--&gt;\nSEVERE: Failed to process class:</p>\n<pre><code>sers\\sam\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.22.0.20211202-1200\\org\\eclipse\\epp\\common\\ContributeHandler\njava.lang.ClassNotFoundException: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.22.0.20211202-1200\\org\\eclipse\\epp\\common\\ContributeHandler\n        at java.net.URLClassLoader.findClass(Unknown Source)\n</code></pre>\n<p>&amp;</p>\n<pre><code>SEVERE: Failed to process class: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.m2e.maven.indexer_1.18.1.20211011-2139\\org\\apache\\maven\\index\\NexusArchetypeDataSource\njava.lang.ClassNotFoundException: sers\\sam\\.p2\\pool\\plugins\\org.eclipse.m2e.maven.indexer_1.18.1.20211011-2139\\org\\apache\\maven\\index\\NexusArchetypeDataSource\n</code></pre>\n<p>&amp;</p>\n<pre><code>SEVERE: Failed to process class: org.seleniumhq.jetty9.util.log.Slf4jLog\njava.lang.NoClassDefFoundError: org/slf4j/Logger\n</code></pre>\n<p>&amp;</p>\n<pre><code>SEVERE: Failed to process class: META-INF.versions.9.org.junit.platform.commons.util.ModuleUtils$ModuleReferenceScanner\njava.lang.UnsupportedClassVersionError: META-INF/versions/9/org/junit/platform/commons/util/ModuleUtils$ModuleReferenceScanner has been compiled by a more recent version of the Java Runtime (class file version 53.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>So how is it resolved?</p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641221040,"post_id":70567367,"comment_id":124743735,"body_markdown":"If you got writing the file right you should be able to reverse that process and read the file into a collection of objects. Displaying that collection is just a matter of iterating over it (you can use a traditional loop or a stream) and applying the correct format to each line (e.g. using `String.format(...)`). For the column widths to be correct you might have to either make an assumption or define a maximum or iterate over the data first and collect the maximum length for each element in each column.","body":"If you got writing the file right you should be able to reverse that process and read the file into a collection of objects. Displaying that collection is just a matter of iterating over it (you can use a traditional loop or a stream) and applying the correct format to each line (e.g. using <code>String.format(...)</code>). For the column widths to be correct you might have to either make an assumption or define a maximum or iterate over the data first and collect the maximum length for each element in each column."},{"owner":{"account_id":120502,"reputation":2412,"user_id":312990,"accept_rate":100,"display_name":"Nick DeFazio"},"score":0,"creation_date":1641221219,"post_id":70567367,"comment_id":124743803,"body_markdown":"What have you tried so far? Or are you struggling with where to start?","body":"What have you tried so far? Or are you struggling with where to start?"},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1641224604,"post_id":70567367,"comment_id":124745083,"body_markdown":"@Nick DeFazio most occuring problem i had was that only last &quot;line&quot; of data was read. Not entire thing. The other problem was when i tried to solve it with four seperate files it still read from the last one and only the last entry","body":"@Nick DeFazio most occuring problem i had was that only last &quot;line&quot; of data was read. Not entire thing. The other problem was when i tried to solve it with four seperate files it still read from the last one and only the last entry"},{"owner":{"account_id":120502,"reputation":2412,"user_id":312990,"accept_rate":100,"display_name":"Nick DeFazio"},"score":0,"creation_date":1641224752,"post_id":70567367,"comment_id":124745156,"body_markdown":"@Komin - Can you post the code you have written so far?","body":"@Komin - Can you post the code you have written so far?"},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1641225078,"post_id":70567367,"comment_id":124745280,"body_markdown":"@Nick DeFazio I will do so when i will have access to my computer, currently i am unable to","body":"@Nick DeFazio I will do so when i will have access to my computer, currently i am unable to"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641235434,"post_id":70567367,"comment_id":124748954,"body_markdown":"Where&#39;s your code to read from the file?","body":"Where&#39;s your code to read from the file?"},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1641287307,"post_id":70567367,"comment_id":124759853,"body_markdown":"@Alias Cartellano i am posting because i need a help with that part, because not only previous attempts were a failure but i don&#39;t know where to start now","body":"@Alias Cartellano i am posting because i need a help with that part, because not only previous attempts were a failure but i don&#39;t know where to start now"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641311770,"post_id":70567367,"comment_id":124769771,"body_markdown":"You have no loop to read until the end of the file. Insert a [`while`](https://www.w3schools.com/java/java_while_loop.asp) loop after your `DataInputStream` to read the items from the file.","body":"You have no loop to read until the end of the file. Insert a <a href=\"https://www.w3schools.com/java/java_while_loop.asp\" rel=\"nofollow noreferrer\"><code>while</code></a> loop after your <code>DataInputStream</code> to read the items from the file."},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1641376332,"post_id":70567367,"comment_id":124786399,"body_markdown":"@Alias Cartellano Could you write for me how this loop should look like?","body":"@Alias Cartellano Could you write for me how this loop should look like?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641411792,"post_id":70567367,"comment_id":124800876,"body_markdown":"Use `while(true){}` to encompass your code after the `DataInputStream`, this will exit when you hit the end of the file an throw a `EOFException`, which you will need to catch(`catch ( EOFException  eof ){}`).","body":"Use <code>while(true){}</code> to encompass your code after the <code>DataInputStream</code>, this will exit when you hit the end of the file an throw a <code>EOFException</code>, which you will need to catch(<code>catch ( EOFException  eof ){}</code>)."}],"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653048870,"creation_date":1641220718,"question_id":70567367,"body_markdown":"I&#39;ve encountered a problem that i am unable to solve so I came here.\r\nMy program has 2 tasks to do: take input from user and save to it to binary file and read the file and print the data in specific way. I am struggling with the 2nd part.\r\n\r\nMy example data is id, name, surname and birthdate:\r\n\r\n    1 john doe 12 01 2000\r\n    2 mark anderson 03 09 2001\r\n    3 julie cross 20 11 1999\r\nI got saving covered without issues.\r\nBut i don&#39;t know how to read that data and them display it like this:\r\n\r\n    ID |  NAME  |  SURNAME  |  BIRTHDATE\r\n    ---|--------|-----------|------------\r\n    1  | john   | doe       | 12-01-2000\r\n    2  | mark   | anderson  | 03-09-2001\r\n    3  | julie  | cross     | 20-11-1999\r\n\r\nI am using DataInputStream and DataOutputStream for saving and reading the file\r\n\r\n@Nick DeFazio as requested here is my code\r\n   \r\n\r\n    System.out.println(&quot;Please insert the data:&quot;);\r\n        Scanner data = new Scanner(System.in);\r\n\r\n        try {\r\n            DataOutputStream write= new DataOutputStream(new FileOutputStream(&quot;database.dat&quot;,true));\r\n\r\n\r\n            System.out.println(&quot;ID:&quot;);\r\n            write.writeInt(Integer.parseInt(data.nextLine()));\r\n            write.flush();\r\n            System.out.println(&quot;Name:&quot;);\r\n            write.writeUTF(data.nextLine());\r\n            write.flush();\r\n            System.out.println(&quot;Surname:&quot;);\r\n            write.writeUTF(data.nextLine());\r\n            write.flush();\r\n            System.out.println(&quot;Birthdate Day:&quot;);\r\n            write.writeInt(Integer.parseInt(data.nextLine()));\r\n            write.flush();\r\n            System.out.println(&quot;Birthdate Month:&quot;);\r\n            write.writeInt(Integer.parseInt(data.nextLine()));\r\n            write.flush();\r\n            System.out.println(&quot;Birthdate Year:&quot;);\r\n            write.writeInt(Integer.parseInt(data.nextLine()));\r\n            write.flush();\r\n\r\n            write.close();\r\n        }catch (FileNotFoundException ex){\r\n        }catch (IOException ex) {\r\n        }\r\nThe read part that only reads first line\r\n\r\n    try {\r\n            DataInputStream read = new DataInputStream(new FileInputStream(&quot;database.dat&quot;));\r\n            int id = read.readInt();\r\n            String name = read.readUTF();\r\n            String surname = read.readUTF();\r\n            int dd = read.readInt();\r\n            int mm = read.readInt();\r\n            int yy = read.readInt();\r\n\r\n            System.out.printf(&quot;%-4s|    %-7s|   %-10s|  %-13s%n &quot;,&quot;id&quot;,&quot;name&quot;, &quot;surname&quot;,&quot;birthdate&quot;);\r\n            System.out.printf(&quot;%-3d|    %-7s|   %-10s|  %d-%d-%d&quot;,id,name,surname,dd,mm,yy);\r\n\r\n        }catch (FileNotFoundException ex){\r\n        }catch (IOException ex){}enter code here","title":"Reading from binary file in java and formatting printed text","body":"<p>I've encountered a problem that i am unable to solve so I came here.\nMy program has 2 tasks to do: take input from user and save to it to binary file and read the file and print the data in specific way. I am struggling with the 2nd part.</p>\n<p>My example data is id, name, surname and birthdate:</p>\n<pre><code>1 john doe 12 01 2000\n2 mark anderson 03 09 2001\n3 julie cross 20 11 1999\n</code></pre>\n<p>I got saving covered without issues.\nBut i don't know how to read that data and them display it like this:</p>\n<pre><code>ID |  NAME  |  SURNAME  |  BIRTHDATE\n---|--------|-----------|------------\n1  | john   | doe       | 12-01-2000\n2  | mark   | anderson  | 03-09-2001\n3  | julie  | cross     | 20-11-1999\n</code></pre>\n<p>I am using DataInputStream and DataOutputStream for saving and reading the file</p>\n<p>@Nick DeFazio as requested here is my code</p>\n<pre><code>System.out.println(&quot;Please insert the data:&quot;);\n    Scanner data = new Scanner(System.in);\n\n    try {\n        DataOutputStream write= new DataOutputStream(new FileOutputStream(&quot;database.dat&quot;,true));\n\n\n        System.out.println(&quot;ID:&quot;);\n        write.writeInt(Integer.parseInt(data.nextLine()));\n        write.flush();\n        System.out.println(&quot;Name:&quot;);\n        write.writeUTF(data.nextLine());\n        write.flush();\n        System.out.println(&quot;Surname:&quot;);\n        write.writeUTF(data.nextLine());\n        write.flush();\n        System.out.println(&quot;Birthdate Day:&quot;);\n        write.writeInt(Integer.parseInt(data.nextLine()));\n        write.flush();\n        System.out.println(&quot;Birthdate Month:&quot;);\n        write.writeInt(Integer.parseInt(data.nextLine()));\n        write.flush();\n        System.out.println(&quot;Birthdate Year:&quot;);\n        write.writeInt(Integer.parseInt(data.nextLine()));\n        write.flush();\n\n        write.close();\n    }catch (FileNotFoundException ex){\n    }catch (IOException ex) {\n    }\n</code></pre>\n<p>The read part that only reads first line</p>\n<pre><code>try {\n        DataInputStream read = new DataInputStream(new FileInputStream(&quot;database.dat&quot;));\n        int id = read.readInt();\n        String name = read.readUTF();\n        String surname = read.readUTF();\n        int dd = read.readInt();\n        int mm = read.readInt();\n        int yy = read.readInt();\n\n        System.out.printf(&quot;%-4s|    %-7s|   %-10s|  %-13s%n &quot;,&quot;id&quot;,&quot;name&quot;, &quot;surname&quot;,&quot;birthdate&quot;);\n        System.out.printf(&quot;%-3d|    %-7s|   %-10s|  %d-%d-%d&quot;,id,name,surname,dd,mm,yy);\n\n    }catch (FileNotFoundException ex){\n    }catch (IOException ex){}enter code here\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15608654,"reputation":5870,"user_id":11260716,"display_name":"Daniel Junglas"},"score":1,"creation_date":1653049654,"post_id":72318678,"comment_id":127762241,"body_markdown":"It looks like your thread does nothing? Don&#39;t you have to construct it with `sc` as argument? `Thread tsc = new Thread(sc);`\nAlso, are you required to transfer things as strings? If not you could just use an `ObjectOutputStream` and `ObjectInputStream` on top of the pip streams and exchange instances of class `Float`. To convert the bytes to `float` in your case: first create a string (use constructor that takes a byte array) and then call `Float.parseFloat()`","body":"It looks like your thread does nothing? Don&#39;t you have to construct it with <code>sc</code> as argument? <code>Thread tsc = new Thread(sc);</code> Also, are you required to transfer things as strings? If not you could just use an <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> on top of the pip streams and exchange instances of class <code>Float</code>. To convert the bytes to <code>float</code> in your case: first create a string (use constructor that takes a byte array) and then call <code>Float.parseFloat()</code>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1653049940,"post_id":72318678,"comment_id":127762326,"body_markdown":"Well, in principle you &quot;just&quot; have to do the steps you did to write the bytes, in opposite direction - i.e. create a String from the bytes, and then convert that to float. I&#39;d recommend to implement your serialization/deserialization logic single-threaded first, and once you know you can convert to your binary format and back again, add things like multiple threads.","body":"Well, in principle you &quot;just&quot; have to do the steps you did to write the bytes, in opposite direction - i.e. create a String from the bytes, and then convert that to float. I&#39;d recommend to implement your serialization/deserialization logic single-threaded first, and once you know you can convert to your binary format and back again, add things like multiple threads."},{"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"score":0,"creation_date":1653050030,"post_id":72318678,"comment_id":127762359,"body_markdown":"@DanielJunglas I indeed forgot to add sc in the thread tsc, my mistake. I did not really understand how I would be able to use and implement the Float.parseFloat() methods?","body":"@DanielJunglas I indeed forgot to add sc in the thread tsc, my mistake. I did not really understand how I would be able to use and implement the Float.parseFloat() methods?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1653050314,"post_id":72318678,"comment_id":127762454,"body_markdown":"First of all, if you really want to read this from a byte array, make sure to use the return value of [`InputStream.read`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)) - this tells you how may bytes have been read, and you need this information to know which part of your buffer is filled with the bytes you need to convert to `String`. Then, you can build a String from that - https://stackoverflow.com/questions/1536054/how-to-convert-byte-array-to-string-and-vice-versa","body":"First of all, if you really want to read this from a byte array, make sure to use the return value of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>InputStream.read</code></a> - this tells you how may bytes have been read, and you need this information to know which part of your buffer is filled with the bytes you need to convert to <code>String</code>. Then, you can build a String from that - <a href=\"https://stackoverflow.com/questions/1536054/how-to-convert-byte-array-to-string-and-vice-versa\" title=\"how to convert byte array to string and vice versa\">stackoverflow.com/questions/1536054/&hellip;</a>"},{"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"score":0,"creation_date":1653050498,"post_id":72318678,"comment_id":127762518,"body_markdown":"@Hulk ok ok, I may have figured something out, I really much appreciate your help!","body":"@Hulk ok ok, I may have figured something out, I really much appreciate your help!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653072991,"post_id":72318678,"comment_id":127770689,"body_markdown":"I do not recommend using strings or serialization for this.  Just wrap your piped streams in [DataInputStream](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataInputStream.html) and [DataOutputStream](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataOutputStream.html).","body":"I do not recommend using strings or serialization for this.  Just wrap your piped streams in <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\">DataInputStream</a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataOutputStream.html\" rel=\"nofollow noreferrer\">DataOutputStream</a>."}],"owner":{"account_id":23879840,"reputation":55,"user_id":17880672,"display_name":"Luca Girotti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653048530,"creation_date":1653048530,"question_id":72318678,"body_markdown":"Currently working on making a pipeline among two files in java and I would to transmit a float via stream bytes. However I don&#39;t know how I can receive it and convert it into a float. Here is what I have done so far:\r\n\r\n(3 files)\r\n\r\n**Consumi.java:**\r\n\r\n    package tryout5_stream_bytes;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public class Consumi implements Serializable{\r\n    \r\n        private float consumi = 0.0F;\r\n    \r\n        public Consumi(float consumi){\r\n            this.consumi = consumi;\r\n        }\r\n    \r\n        public float getConsumi(){\r\n            return consumi;\r\n        }\r\n    \r\n        public byte[] getBytes(String encode){\r\n            return String.valueOf(consumi).getBytes();\r\n        }\r\n    }\r\n\r\n\r\n**SimulaConsumi.java**\r\n\r\n    package tryout5_stream_bytes;\r\n    \r\n    import java.io.PipedOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    public class SimulaConsumi implements Runnable {\r\n        private AtomicBoolean isRunning = new AtomicBoolean(false);\r\n        private PipedOutputStream pos = null;\r\n    \r\n        public SimulaConsumi(PipedOutputStream pos){\r\n            this.pos = pos;\r\n        }\r\n    \r\n        @Override\r\n        public void run(){\r\n            isRunning.set(true);\r\n    \r\n            while(isRunning.get()){\r\n                Consumi c = new Consumi((float) (30 * Math.random()));\r\n    \r\n                byte[] message = null;\r\n                message = c.getBytes(&quot;UTF-8&quot;);\r\n                \r\n                try{\r\n                    pos.write(message);\r\n                    pos.flush();\r\n                } catch(IOException e){\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                try{\r\n                    Thread.sleep(1000);\r\n                } catch(InterruptedException e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void terminaSimulaConsumi(){\r\n            isRunning.set(false);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Main.java**\r\n\r\n    package tryout5_stream_bytes;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PipedInputStream;\r\n    import java.io.PipedOutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.ByteOrder;\r\n    import java.nio.charset.Charset;\r\n    import java.io.*;\r\n    import java.lang.object;\r\n    import java.nio.ByteBuffer;\r\n    \r\n    public class Main {\r\n        \r\n        public static void main(String[] args){\r\n            PipedInputStream pis = new PipedInputStream();\r\n            PipedOutputStream pos = null;\r\n    \r\n            try{\r\n                pos = new PipedOutputStream(pis);\r\n            }catch(IOException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            SimulaConsumi sc = new SimulaConsumi(pos);\r\n            Thread tsc = new Thread();\r\n            tsc.start();\r\n    \r\n            while(true){\r\n                try{\r\n                    Thread.sleep(900);\r\n                }catch(InterruptedException e){\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                byte[] buffer = new byte[256];\r\n                try{\r\n                    pis.read(buffer);\r\n                }catch(IOException e){\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                float received = //Get a float from a stream bytes???\r\n                System.out.println(&quot;Value:&quot;+received);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI believe that the sending of the float in the file &quot;SimulaConsumi&quot; is done well (however I might still be wrong). On the other hand I really have no idea how I can receive it!\r\n\r\n","title":"Can you read a float from a stream bytes via pipelines?","body":"<p>Currently working on making a pipeline among two files in java and I would to transmit a float via stream bytes. However I don't know how I can receive it and convert it into a float. Here is what I have done so far:</p>\n<p>(3 files)</p>\n<p><strong>Consumi.java:</strong></p>\n<pre><code>package tryout5_stream_bytes;\n\nimport java.io.Serializable;\n\npublic class Consumi implements Serializable{\n\n    private float consumi = 0.0F;\n\n    public Consumi(float consumi){\n        this.consumi = consumi;\n    }\n\n    public float getConsumi(){\n        return consumi;\n    }\n\n    public byte[] getBytes(String encode){\n        return String.valueOf(consumi).getBytes();\n    }\n}\n</code></pre>\n<p><strong>SimulaConsumi.java</strong></p>\n<pre><code>package tryout5_stream_bytes;\n\nimport java.io.PipedOutputStream;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class SimulaConsumi implements Runnable {\n    private AtomicBoolean isRunning = new AtomicBoolean(false);\n    private PipedOutputStream pos = null;\n\n    public SimulaConsumi(PipedOutputStream pos){\n        this.pos = pos;\n    }\n\n    @Override\n    public void run(){\n        isRunning.set(true);\n\n        while(isRunning.get()){\n            Consumi c = new Consumi((float) (30 * Math.random()));\n\n            byte[] message = null;\n            message = c.getBytes(&quot;UTF-8&quot;);\n            \n            try{\n                pos.write(message);\n                pos.flush();\n            } catch(IOException e){\n                e.printStackTrace();\n            }\n\n            try{\n                Thread.sleep(1000);\n            } catch(InterruptedException e){\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void terminaSimulaConsumi(){\n        isRunning.set(false);\n    }\n\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package tryout5_stream_bytes;\n\nimport java.io.IOException;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.ByteOrder;\nimport java.nio.charset.Charset;\nimport java.io.*;\nimport java.lang.object;\nimport java.nio.ByteBuffer;\n\npublic class Main {\n    \n    public static void main(String[] args){\n        PipedInputStream pis = new PipedInputStream();\n        PipedOutputStream pos = null;\n\n        try{\n            pos = new PipedOutputStream(pis);\n        }catch(IOException e){\n            e.printStackTrace();\n        }\n\n        SimulaConsumi sc = new SimulaConsumi(pos);\n        Thread tsc = new Thread();\n        tsc.start();\n\n        while(true){\n            try{\n                Thread.sleep(900);\n            }catch(InterruptedException e){\n                e.printStackTrace();\n            }\n\n            byte[] buffer = new byte[256];\n            try{\n                pis.read(buffer);\n            }catch(IOException e){\n                e.printStackTrace();\n            }\n\n            float received = //Get a float from a stream bytes???\n            System.out.println(&quot;Value:&quot;+received);\n        }\n    }\n}\n</code></pre>\n<p>I believe that the sending of the float in the file &quot;SimulaConsumi&quot; is done well (however I might still be wrong). On the other hand I really have no idea how I can receive it!</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1653046690,"post_id":72316814,"comment_id":127761109,"body_markdown":"Have you verified that neither `/usr/` nor `/usr/sbin/` are symlinks?","body":"Have you verified that neither <code>&#47;usr&#47;</code> nor <code>&#47;usr&#47;sbin&#47;</code> are symlinks?"},{"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"score":1,"creation_date":1653047442,"post_id":72316814,"comment_id":127761390,"body_markdown":"They both are not symlinks, but I thought about something, I am running this code in IntelliJ that I have installed via Flatpak, maybe flatpak is limiting what can be seen. I am checking that.","body":"They both are not symlinks, but I thought about something, I am running this code in IntelliJ that I have installed via Flatpak, maybe flatpak is limiting what can be seen. I am checking that."},{"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"score":1,"creation_date":1653047632,"post_id":72316814,"comment_id":127761443,"body_markdown":"Ok, so in the flatpack environment, there are some blacklisted folder as explained here : https://docs.flatpak.org/en/latest/sandbox-permissions.html","body":"Ok, so in the flatpack environment, there are some blacklisted folder as explained here : <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html\" rel=\"nofollow noreferrer\">docs.flatpak.org/en/latest/sandbox-permissions.html</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1653047659,"post_id":72316814,"comment_id":127761452,"body_markdown":"You can answer your own question with this information. It will be helpful to future visitors","body":"You can answer your own question with this information. It will be helpful to future visitors"},{"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"score":0,"creation_date":1653047685,"post_id":72316814,"comment_id":127761465,"body_markdown":"Yes, that was the plan.","body":"Yes, that was the plan."}],"answers":[{"tags":[],"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653048019,"creation_date":1653048019,"answer_id":72318587,"question_id":72316814,"body_markdown":"I found the problem, in my Gentoo machine, I am using Flatpak for installing and using my IDE (IntelliJ in this case).\r\n\r\nAs stated here https://docs.flatpak.org/en/latest/sandbox-permissions.html, the sandbox environment used to run flakpak packaged applications some folders are blacklisted as the flakpak environment is already providing his own folders, these are : /lib, /lib32, /lib64, /bin, /sbin, /usr, /boot, /root, /tmp, /etc, /app, /run, /proc, /sys, /dev, /var\r\n\r\nIn the flapak environment, the host folders are accessible in the /var/run/host/ folder.\r\n\r\nMy code must be updated like so :\r\n\r\n```\r\nList&lt;String&gt; GLUSTER_EXE_PATHS = List.of(&quot;/usr/bin/gluster&quot;, &quot;/usr/sbin/gluster&quot;, &quot;/var/run/host/usr/sbin/gluster&quot;);\r\nGLUSTER_EXE_PATHS.stream().map(Paths::get).map(Path::toFile).anyMatch(File::exists)\r\n```\r\n\r\nAnd now it works, as the last path I have added is the host one from the flatpak environment.","title":"File.exists doesn&#39;t find the file in /usr/sbin folder","body":"<p>I found the problem, in my Gentoo machine, I am using Flatpak for installing and using my IDE (IntelliJ in this case).</p>\n<p>As stated here <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html\" rel=\"nofollow noreferrer\">https://docs.flatpak.org/en/latest/sandbox-permissions.html</a>, the sandbox environment used to run flakpak packaged applications some folders are blacklisted as the flakpak environment is already providing his own folders, these are : /lib, /lib32, /lib64, /bin, /sbin, /usr, /boot, /root, /tmp, /etc, /app, /run, /proc, /sys, /dev, /var</p>\n<p>In the flapak environment, the host folders are accessible in the /var/run/host/ folder.</p>\n<p>My code must be updated like so :</p>\n<pre><code>List&lt;String&gt; GLUSTER_EXE_PATHS = List.of(&quot;/usr/bin/gluster&quot;, &quot;/usr/sbin/gluster&quot;, &quot;/var/run/host/usr/sbin/gluster&quot;);\nGLUSTER_EXE_PATHS.stream().map(Paths::get).map(Path::toFile).anyMatch(File::exists)\n</code></pre>\n<p>And now it works, as the last path I have added is the host one from the flatpak environment.</p>\n"}],"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72318587,"answer_count":1,"score":0,"last_activity_date":1653048019,"creation_date":1653039900,"question_id":72316814,"body_markdown":"I have a very strange problem, I have a code that check if the gluster cli tool is installed, on a Manjaro distribution it works.\r\n\r\n```\r\nList&lt;String&gt; GLUSTER_EXE_PATHS = List.of(&quot;/usr/bin/gluster&quot;, &quot;/usr/sbin/gluster&quot;);\r\nGLUSTER_EXE_PATHS.stream().map(Paths::get).map(Path::toFile).anyMatch(File::exists)\r\n```\r\n\r\nBut the problem is that this code will return false on my Gentoo :\r\n\r\n&gt;ls -ailh /usr/sbin/gluster\r\n&gt;\r\n&gt;17555959 -rwxr-xr-x 1 root root 454K  1 avril 16:02 /usr/sbin/gluster\r\n\r\nI tried to find another way to find if this file exists like using this method :\r\n\r\n```\r\nstatic boolean exists(File link) {\r\n\t\tFile[] kids = link.getParentFile().listFiles();\r\n\t\treturn kids != null &amp;&amp; Arrays.asList(kids).contains(link);\r\n\t}\r\n```\r\n\r\nBut it doesn&#39;t find this file, and sure enough, if I print the content of the kids array :\r\n\r\n```\r\nSystem.out.println(Arrays.asList(kids));\r\n```\r\nI can&#39;t find it inside, for unknown reason, this file is not a symlink, and I don&#39;t understand why java can&#39;t find it, especially as it works for Centos 7, Manjaro, but not Gentoo, there must be something special for this file, but I can&#39;t find what.\r\n\r\n&gt;[/usr/sbin/2to3, /usr/sbin/2to3-3.9, /usr/sbin/[, /usr/sbin/accessdb, /usr/sbin/aclocal, /usr/sbin/aclocal-1.16, /usr/sbin/addftinfo, /usr/sbin/addgnupghome, /usr/sbin/addpart, /usr/sbin/addr2line, /usr/sbin/affixcompress, /usr/sbin/afmtodit, /usr/sbin/agetty, /usr/sbin/analyseplugin, /usr/sbin/analyze, /usr/sbin/aomdec, /usr/sbin/aomenc, /usr/sbin/applygnupgdefaults, /usr/sbin/applyplugin, /usr/sbin/appstream-builder, /usr/sbin/appstream-compose, /usr/sbin/appstream-util, /usr/sbin/apropos, /usr/sbin/ar, /usr/sbin/arch, /usr/sbin/as, /usr/sbin/aserver, /usr/sbin/asn1Coding, /usr/sbin/asn1Decoding, /usr/sbin/asn1Parser, /usr/sbin/aspell, /usr/sbin/aspell-import, /usr/sbin/attr, /usr/sbin/autoconf, /usr/sbin/autoconf2.69, /usr/sbin/autoheader, /usr/sbin/autoheader2.69, /usr/sbin/autom4te, /usr/sbin/autom4te2.69, /usr/sbin/automake, /usr/sbin/automake-1.16, /usr/sbin/autopoint, /usr/sbin/autoreconf, /usr/sbin/autoreconf2.69, /usr/sbin/autoscan, /usr/sbin/autoscan2.69, /usr/sbin/autoupdate, /usr/sbin/autoupdate2.69, /usr/sbin/avcstat, /usr/sbin/awk, /usr/sbin/b2sum, /usr/sbin/base32, /usr/sbin/base64, /usr/sbin/basename, /usr/sbin/basenc, /usr/sbin/bash, /usr/sbin/bashbug, /usr/sbin/bc, /usr/sbin/bison, /usr/sbin/blkdiscard, /usr/sbin/blkid, /usr/sbin/blkzone, /usr/sbin/blockdev, /usr/sbin/brotli, /usr/sbin/bsdcat, /usr/sbin/bsdcpio, /usr/sbin/bsdtar, /usr/sbin/bundle, /usr/sbin/bundler, /usr/sbin/bunzip2, /usr/sbin/bzcat, /usr/sbin/bzcmp, /usr/sbin/bzdiff, /usr/sbin/bzegrep, /usr/sbin/bzfgrep, /usr/sbin/bzfless, /usr/sbin/bzgrep, /usr/sbin/bzip2, /usr/sbin/bzip2recover, /usr/sbin/bzmore, /usr/sbin/c++, /usr/sbin/c++filt, /usr/sbin/c_rehash, /usr/sbin/ca-legacy, /usr/sbin/cairo-sphinx, /usr/sbin/cairo-trace, /usr/sbin/cal, /usr/sbin/callgrind_annotate, /usr/sbin/callgrind_control, /usr/sbin/capsh, /usr/sbin/captoinfo, /usr/sbin/cat, /usr/sbin/catchsegv, /usr/sbin/catman, /usr/sbin/cc, /usr/sbin/ccache, /usr/sbin/ccmake, /usr/sbin/cec-compliance, /usr/sbin/cec-ctl, /usr/sbin/cec-follower, /usr/sbin/certtool, /usr/sbin/certutil, /usr/sbin/cfdisk, /usr/sbin/cg_annotate, /usr/sbin/cg_diff, /usr/sbin/cg_merge, /usr/sbin/chacl, /usr/sbin/chcon, /usr/sbin/chcpu, /usr/sbin/chem, /usr/sbin/chgrp, /usr/sbin/chkcon, /usr/sbin/chmem, /usr/sbin/chmod, /usr/sbin/chmorph, /usr/sbin/choom, /usr/sbin/chown, /usr/sbin/chroot, /usr/sbin/chrt, /usr/sbin/cjpeg, /usr/sbin/cksum, /usr/sbin/clear, /usr/sbin/cmake, /usr/sbin/cmp, /usr/sbin/cmsutil, /usr/sbin/col, /usr/sbin/colcrt, /usr/sbin/colrm, /usr/sbin/column, /usr/sbin/comm, /usr/sbin/compute_av, /usr/sbin/compute_create, /usr/sbin/compute_member, /usr/sbin/compute_relabel, /usr/sbin/corelist, /usr/sbin/cp, /usr/sbin/cpack, /usr/sbin/cpan, /usr/sbin/cpio, /usr/sbin/cpp, /usr/sbin/cracklib-check, /usr/sbin/cracklib-format, /usr/sbin/cracklib-packer, /usr/sbin/cracklib-unpacker, /usr/sbin/create-cracklib-dict, /usr/sbin/createPYMB, /usr/sbin/crlutil, /usr/sbin/csplit, /usr/sbin/ctest, /usr/sbin/ctrlaltdel, /usr/sbin/cups-config, /usr/sbin/curl, /usr/sbin/curl-config, /usr/sbin/cut, /usr/sbin/cwebp, /usr/sbin/cx18-ctl, /usr/sbin/cxpm, /usr/sbin/cygdb, /usr/sbin/cython, /usr/sbin/cythonize, /usr/sbin/date, /usr/sbin/dav1d, /usr/sbin/dbus-send, /usr/sbin/dc, /usr/sbin/dd, /usr/sbin/debugedit, /usr/sbin/debuginfod, /usr/sbin/debuginfod-find, /usr/sbin/decode_tm6000, /usr/sbin/delpart, /usr/sbin/derb, /usr/sbin/desktop-file-edit, /usr/sbin/desktop-file-install, /usr/sbin/desktop-file-validate, /usr/sbin/df, /usr/sbin/diff, /usr/sbin/diff3, /usr/sbin/dir, /usr/sbin/dircolors, /usr/sbin/dirmngr, /usr/sbin/dirmngr-client, /usr/sbin/dirname, /usr/sbin/djpeg, /usr/sbin/dmesg, /usr/sbin/doxygen, /usr/sbin/du, /usr/sbin/dumpsexp, /usr/sbin/dvb-fe-tool, /usr/sbin/dvb-format-convert, /usr/sbin/dvbv5-daemon, /usr/sbin/dvbv5-scan, /usr/sbin/dvbv5-zap, /usr/sbin/dwebp, /usr/sbin/dwp, /usr/sbin/dwz, /usr/sbin/echo, /usr/sbin/ed, /usr/sbin/egrep, /usr/sbin/eject, /usr/sbin/elfedit, /usr/sbin/enc2xs, /usr/sbin/encguess, /usr/sbin/env, /usr/sbin/envsubst, /usr/sbin/eqn, /usr/sbin/eqn2graph, /usr/sbin/erb, /usr/sbin/escapesrc, /usr/sbin/eu-addr2line, /usr/sbin/eu-ar, /usr/sbin/eu-elfclassify, /usr/sbin/eu-elfcmp, /usr/sbin/eu-elfcompress, /usr/sbin/eu-elflint, /usr/sbin/eu-findtextrel, /usr/sbin/eu-make-debug-archive, /usr/sbin/eu-nm, /usr/sbin/eu-objdump, /usr/sbin/eu-ranlib, /usr/sbin/eu-readelf, /usr/sbin/eu-size, /usr/sbin/eu-stack, /usr/sbin/eu-strings, /usr/sbin/eu-strip, /usr/sbin/eu-unstrip, /usr/sbin/expand, /usr/sbin/expr, /usr/sbin/factor, /usr/sbin/fallocate, /usr/sbin/false, /usr/sbin/fax2ps, /usr/sbin/fax2tiff, /usr/sbin/fc-cache, /usr/sbin/fc-cat, /usr/sbin/fc-conflist, /usr/sbin/fc-list, /usr/sbin/fc-match, /usr/sbin/fc-pattern, /usr/sbin/fc-query, /usr/sbin/fc-scan, /usr/sbin/fc-validate, /usr/sbin/fcitx, /usr/sbin/fcitx-autostart, /usr/sbin/fcitx-configtool, /usr/sbin/fcitx-dbus-watcher, /usr/sbin/fcitx-diagnose, /usr/sbin/fcitx-remote, /usr/sbin/fcitx4-config, /usr/sbin/fdisk, /usr/sbin/ffmpeg, /usr/sbin/ffplay, /usr/sbin/ffprobe, /usr/sbin/fftw-wisdom, /usr/sbin/fftw-wisdom-to-conf, /usr/sbin/fgrep, /usr/sbin/file, /usr/sbin/fincore, /usr/sbin/find, /usr/sbin/find-debuginfo, /usr/sbin/findfs, /usr/sbin/findmnt, /usr/sbin/flac, /usr/sbin/flatpak-spawn, /usr/sbin/flex, /usr/sbin/flex++, /usr/sbin/flock, /usr/sbin/fmt, /usr/sbin/fold, /usr/sbin/free, /usr/sbin/freedesktop-sdk-stripper, /usr/sbin/fribidi, /usr/sbin/fsck, /usr/sbin/fsck.cramfs, /usr/sbin/fsck.minix, /usr/sbin/fsfreeze, /usr/sbin/fstrim, /usr/sbin/funzip, /usr/sbin/g++, /usr/sbin/g-ir-annotation-tool, /usr/sbin/g-ir-compiler, /usr/sbin/g-ir-doc-tool, /usr/sbin/g-ir-generate, /usr/sbin/g-ir-inspect, /usr/sbin/g-ir-scanner, /usr/sbin/gapplication, /usr/sbin/gawk, /usr/sbin/gcab, /usr/sbin/gcc, /usr/sbin/gcc-ar, /usr/sbin/gcc-nm, /usr/sbin/gcc-ranlib, /usr/sbin/gcore, /usr/sbin/gcov, /usr/sbin/gcov-dump, /usr/sbin/gcov-tool, /usr/sbin/gdb, /usr/sbin/gdb-add-index, /usr/sbin/gdbm_dump, /usr/sbin/gdbm_load, /usr/sbin/gdbmtool, /usr/sbin/gdbserver, /usr/sbin/gdbus, /usr/sbin/gdbus-codegen, /usr/sbin/gdialog, /usr/sbin/gdiffmk, /usr/sbin/gdk-pixbuf-csource, /usr/sbin/gdk-pixbuf-pixdata, /usr/sbin/gdk-pixbuf-query-loaders, /usr/sbin/gdk-pixbuf-thumbnailer, /usr/sbin/gem, /usr/sbin/genbrk, /usr/sbin/gencat, /usr/sbin/genccode, /usr/sbin/gencfu, /usr/sbin/gencmn, /usr/sbin/gencnval, /usr/sbin/gendict, /usr/sbin/gennorm2, /usr/sbin/genrb, /usr/sbin/gensprep, /usr/sbin/getcap, /usr/sbin/getconf, /usr/sbin/getconlist, /usr/sbin/getdefaultcon, /usr/sbin/getenforce, /usr/sbin/getent, /usr/sbin/getfacl, /usr/sbin/getfattr, /usr/sbin/getfilecon, /usr/sbin/getopt, /usr/sbin/getpcaps, /usr/sbin/getpidcon, /usr/sbin/getsebool, /usr/sbin/getseuser, /usr/sbin/gettext, /usr/sbin/gettext.sh, /usr/sbin/gettextize, /usr/sbin/gfortran, /usr/sbin/gif2rgb, /usr/sbin/gif2webp, /usr/sbin/gifbuild, /usr/sbin/gifclrmp, /usr/sbin/giffix, /usr/sbin/giftext, /usr/sbin/giftool, /usr/sbin/gio, /usr/sbin/gio-querymodules, /usr/sbin/git, /usr/sbin/git-cvsserver, /usr/sbin/git-receive-pack, /usr/sbin/git-shell, /usr/sbin/git-upload-archive, /usr/sbin/git-upload-pack, /usr/sbin/gitk, /usr/sbin/glib-compile-resources, /usr/sbin/glib-compile-schemas, /usr/sbin/glib-genmarshal, /usr/sbin/glib-gettextize, /usr/sbin/glib-mkenums, /usr/sbin/glilypond, /usr/sbin/glslangValidator, /usr/sbin/gnutls-cli, /usr/sbin/gnutls-cli-debug, /usr/sbin/gnutls-serv, /usr/sbin/gobject-query, /usr/sbin/gperf, /usr/sbin/gperl, /usr/sbin/gpg, /usr/sbin/gpg-agent, /usr/sbin/gpg-connect-agent, /usr/sbin/gpg-error, /usr/sbin/gpg-error-config, /usr/sbin/gpg-wks-server, /usr/sbin/gpgconf, /usr/sbin/gpgme-config, /usr/sbin/gpgme-json, /usr/sbin/gpgme-tool, /usr/sbin/gpgparsemail, /usr/sbin/gpgrt-config, /usr/sbin/gpgscm, /usr/sbin/gpgsm, /usr/sbin/gpgsplit, /usr/sbin/gpgtar, /usr/sbin/gpgv, /usr/sbin/gpinyin, /usr/sbin/gprof, /usr/sbin/gr2fonttest, /usr/sbin/grap2graph, /usr/sbin/grep, /usr/sbin/gresource, /usr/sbin/grn, /usr/sbin/grodvi, /usr/sbin/groff, /usr/sbin/groffer, /usr/sbin/grog, /usr/sbin/grolbp, /usr/sbin/grolj4, /usr/sbin/gropdf, /usr/sbin/grops, /usr/sbin/grotty, /usr/sbin/gsettings, /usr/sbin/gst-device-monitor-1.0, /usr/sbin/gst-discoverer-1.0, /usr/sbin/gst-inspect-1.0, /usr/sbin/gst-launch-1.0, /usr/sbin/gst-play-1.0, /usr/sbin/gst-stats-1.0, /usr/sbin/gst-tester-1.0, /usr/sbin/gst-transcoder-1.0, /usr/sbin/gst-typefind-1.0, /usr/sbin/gtester, /usr/sbin/gtester-report, /usr/sbin/gtk-builder-tool, /usr/sbin/gtk-encode-symbolic-svg, /usr/sbin/gtk-launch, /usr/sbin/gtk-query-immodules-3.0, /usr/sbin/gtk-query-settings, /usr/sbin/gtk-update-icon-cache, /usr/sbin/gtk3-demo, /usr/sbin/gtk3-demo-application, /usr/sbin/gtk3-icon-browser, /usr/sbin/gtk3-widget-factory, /usr/sbin/gtkdoc-check, /usr/sbin/gtkdoc-depscan, /usr/sbin/gtkdoc-fixxref, /usr/sbin/gtkdoc-mkdb, /usr/sbin/gtkdoc-mkhtml, /usr/sbin/gtkdoc-mkhtml2, /usr/sbin/gtkdoc-mkman, /usr/sbin/gtkdoc-mkpdf, /usr/sbin/gtkdoc-rebase, /usr/sbin/gtkdoc-scan, /usr/sbin/gtkdoc-scangobj, /usr/sbin/gtkdocize, /usr/sbin/gunzip, /usr/sbin/gzexe, /usr/sbin/gzip, /usr/sbin/h2ph, /usr/sbin/h2xs, /usr/sbin/hardlink, /usr/sbin/hb-ot-shape-closure, /usr/sbin/hb-shape, /usr/sbin/hb-subset, /usr/sbin/head, /usr/sbin/help2man, /usr/sbin/hexdump, /usr/sbin/hmac256, /usr/sbin/hostid, /usr/sbin/hostname, /usr/sbin/hpftodit, /usr/sbin/hunspell, /usr/sbin/hunzip, /usr/sbin/hw-support, /usr/sbin/hwclock, /usr/sbin/hzip, /usr/sbin/i386, /usr/sbin/iconv, /usr/sbin/iconvconfig, /usr/sbin/icu-config, /usr/sbin/icuinfo, /usr/sbin/icupkg, /usr/sbin/id, /usr/sbin/idn2, /usr/sbin/ifnames, /usr/sbin/ifnames2.69, /usr/sbin/img2webp, /usr/sbin/indxbib, /usr/sbin/info, /usr/sbin/infocmp, /usr/sbin/infotocap, /usr/sbin/install, /usr/sbin/install-info, /usr/sbin/instmodsh, /usr/sbin/ionice, /usr/sbin/ipcmk, /usr/sbin/ipcrm, /usr/sbin/ipcs, /usr/sbin/ir-ctl, /usr/sbin/ir-keytable, /usr/sbin/irb, /usr/sbin/irqtop, /usr/sbin/isosize, /usr/sbin/ispellaff2myspell, /usr/sbin/itstool, /usr/sbin/ivtv-ctl, /usr/sbin/join, /usr/sbin/jpegtran, /usr/sbin/jpgicc, /usr/sbin/jq, /usr/sbin/json-glib-format, /usr/sbin/json-glib-validate, /usr/sbin/json_pp, /usr/sbin/kbxutil, /usr/sbin/kill, /usr/sbin/ksba-config, /usr/sbin/lame, /usr/sbin/last, /usr/sbin/lastb, /usr/sbin/ld, /usr/sbin/ld.bfd, /usr/sbin/ld.gold, /usr/sbin/ldattach, /usr/sbin/ldconfig, /usr/sbin/ldd, /usr/sbin/less, /usr/sbin/lessecho, /usr/sbin/lesskey, /usr/sbin/lexgrog, /usr/sbin/libassuan-config, /usr/sbin/libgcrypt-config, /usr/sbin/libnetcfg, /usr/sbin/libpng-config, /usr/sbin/libpng16-config, /usr/sbin/libtool, /usr/sbin/libtoolize, /usr/sbin/link, /usr/sbin/linkicc, /usr/sbin/linux32, /usr/sbin/linux64, /usr/sbin/listplugins, /usr/sbin/lkbib, /usr/sbin/ln, /usr/sbin/locale, /usr/sbin/localedef, /usr/sbin/locate, /usr/sbin/logger, /usr/sbin/logname, /usr/sbin/look, /usr/sbin/lookbib, /usr/sbin/losetup, /usr/sbin/ls, /usr/sbin/lsblk, /usr/sbin/lscpu, /usr/sbin/lsipc, /usr/sbin/lsirq, /usr/sbin/lslocks, /usr/sbin/lslogins, /usr/sbin/lsmem, /usr/sbin/lsns, /usr/sbin/lspci, /usr/sbin/lto-dump, /usr/sbin/lz4, /usr/sbin/lz4c, /usr/sbin/lz4cat, /usr/sbin/lzcat, /usr/sbin/lzcmp, /usr/sbin/lzdiff, /usr/sbin/lzegrep, /usr/sbin/lzfgrep, /usr/sbin/lzgrep, /usr/sbin/lzip, /usr/sbin/lzless, /usr/sbin/lzma, /usr/sbin/lzmadec, /usr/sbin/lzmainfo, /usr/sbin/lzmore, /usr/sbin/m4, /usr/sbin/make, /usr/sbin/makealias, /usr/sbin/makeconv, /usr/sbin/makedb, /usr/sbin/makeinfo, /usr/sbin/mako-render, /usr/sbin/man, /usr/sbin/man-recode, /usr/sbin/mandb, /usr/sbin/manpath, /usr/sbin/markdown_py, /usr/sbin/matchpathcon, /usr/sbin/mb2org, /usr/sbin/mb2txt, /usr/sbin/mcookie, /usr/sbin/md5sum, /usr/sbin/media-ctl, /usr/sbin/mesg, /usr/sbin/meson, /usr/sbin/metaflac, /usr/sbin/mkdir, /usr/sbin/mkfifo, /usr/sbin/mkfs, /usr/sbin/mkfs.bfs, /usr/sbin/mkfs.cramfs, /usr/sbin/mkfs.minix, /usr/sbin/mknod, /usr/sbin/mkswap, /usr/sbin/mktemp, /usr/sbin/mmroff, /usr/sbin/modutil, /usr/sbin/more, /usr/sbin/mount, /usr/sbin/mountpoint, /usr/sbin/mpicalc, /usr/sbin/ms_print, /usr/sbin/msgattrib, /usr/sbin/msgcat, /usr/sbin/msgcmp, /usr/sbin/msgcomm, /usr/sbin/msgconv, /usr/sbin/msgen, /usr/sbin/msgexec, /usr/sbin/msgfilter, /usr/sbin/msgfmt, /usr/sbin/msggrep, /usr/sbin/msginit, /usr/sbin/msgmerge, /usr/sbin/msgunfmt, /usr/sbin/msguniq, /usr/sbin/mtrace, /usr/sbin/munch, /usr/sbin/mv, /usr/sbin/namei, /usr/sbin/nano, /usr/sbin/nasm, /usr/sbin/ncurses6-config, /usr/sbin/ncursesw6-config, /usr/sbin/ndisasm, /usr/sbin/neqn, /usr/sbin/nettle-hash, /usr/sbin/nettle-lfib-stream, /usr/sbin/nettle-pbkdf2, /usr/sbin/ngettext, /usr/sbin/nice, /usr/sbin/ninja, /usr/sbin/nl, /usr/sbin/nm, /usr/sbin/nohup, /usr/sbin/nproc, /usr/sbin/npth-config, /usr/sbin/nroff, /usr/sbin/nscd, /usr/sbin/nsenter, /usr/sbin/nspr-config, /usr/sbin/nss, /usr/sbin/nss-config, /usr/sbin/numfmt, /usr/sbin/objcopy, /usr/sbin/objdump, /usr/sbin/ocsptool, /usr/sbin/od, /usr/sbin/onig-config, /usr/sbin/openal-info, /usr/sbin/openssl, /usr/sbin/opj_compress, /usr/sbin/opj_decompress, /usr/sbin/opj_dump, /usr/sbin/orcc, /usr/sbin/p11-kit, /usr/sbin/p11tool, /usr/sbin/pa-info, /usr/sbin/pacat, /usr/sbin/pacmd, /usr/sbin/pactl, /usr/sbin/padsp, /usr/sbin/pal2rgb, /usr/sbin/pamon, /usr/sbin/pango-list, /usr/sbin/pango-segmentation, /usr/sbin/pango-view, /usr/sbin/paplay, /usr/sbin/parec, /usr/sbin/parecord, /usr/sbin/partx, /usr/sbin/paste, /usr/sbin/patch, /usr/sbin/pathchk, /usr/sbin/pax11publish, /usr/sbin/pcprofiledump, /usr/sbin/pcre-config, /usr/sbin/pcre2-config, /usr/sbin/pcre2grep, /usr/sbin/pcre2test, /usr/sbin/pcregrep, /usr/sbin/pcretest, /usr/sbin/pdfmom, /usr/sbin/pdfroff, /usr/sbin/pdftexi2dvi, /usr/sbin/perf, /usr/sbin/perl, /usr/sbin/perl5.34.0, /usr/sbin/perlbug, /usr/sbin/perldoc, /usr/sbin/perlivp, /usr/sbin/perlthanks, /usr/sbin/pfbtops, /usr/sbin/pgrep, /usr/sbin/pic, /usr/sbin/pic2graph, /usr/sbin/piconv, /usr/sbin/pidof, /usr/sbin/pinky, /usr/sbin/pip3, /usr/sbin/pip3.9, /usr/sbin/pivot_root, /usr/sbin/pk12util, /usr/sbin/pkcs1-conv, /usr/sbin/pkg-config, /usr/sbin/pkgconf, /usr/sbin/pkgdata, /usr/sbin/pkill, /usr/sbin/pl2pm, /usr/sbin/playout, /usr/sbin/pldd, /usr/sbin/pluginviewer, /usr/sbin/pmap, /usr/sbin/png-fix-itxt, /usr/sbin/pngfix, /usr/sbin/pod2html, /usr/sbin/pod2man, /usr/sbin/pod2texi, /usr/sbin/pod2text, /usr/sbin/pod2usage, /usr/sbin/podchecker, /usr/sbin/policyvers, /usr/sbin/post-grohtml, /usr/sbin/ppm2tiff, /usr/sbin/pr, /usr/sbin/pre-grohtml, /usr/sbin/precat, /usr/sbin/preconv, /usr/sbin/preunzip, /usr/sbin/prezip, /usr/sbin/prezip-bin, /usr/sbin/printenv, /usr/sbin/printf, /usr/sbin/prlimit, /usr/sbin/prove, /usr/sbin/proxy, /usr/sbin/ps, /usr/sbin/psicc, /usr/sbin/psktool, /usr/sbin/psl, /usr/sbin/pspell-config, /usr/sbin/ptar, /usr/sbin/ptardiff, /usr/sbin/ptargrep, /usr/sbin/ptx, /usr/sbin/pw-cat, /usr/sbin/pw-cli, /usr/sbin/pw-dot, /usr/sbin/pw-dump, /usr/sbin/pw-jack, /usr/sbin/pw-link, /usr/sbin/pw-loopback, /usr/sbin/pw-metadata, /usr/sbin/pw-mididump, /usr/sbin/pw-midiplay, /usr/sbin/pw-midirecord, /usr/sbin/pw-mon, /usr/sbin/pw-play, /usr/sbin/pw-profiler, /usr/sbin/pw-record, /usr/sbin/pw-reserve, /usr/sbin/pw-top, /usr/sbin/pwait, /usr/sbin/pwd, /usr/sbin/pwdecrypt, /usr/sbin/pwdx, /usr/sbin/pydoc3, /usr/sbin/pydoc3.9, /usr/sbin/pygmentize, /usr/sbin/python, /usr/sbin/python3, /usr/sbin/python3-config, /usr/sbin/python3.9, /usr/sbin/python3.9-config, /usr/sbin/racc, /usr/sbin/rake, /usr/sbin/ranlib, /usr/sbin/raw2tiff, /usr/sbin/rbs, /usr/sbin/rdjpgcom, /usr/sbin/rdoc, /usr/sbin/rds-ctl, /usr/sbin/readPYBase, /usr/sbin/readPYMB, /usr/sbin/readelf, /usr/sbin/readlink, /usr/sbin/readprofile, /usr/sbin/realpath, /usr/sbin/recode-sr-latin, /usr/sbin/red, /usr/sbin/refer, /usr/sbin/rename, /usr/sbin/renice, /usr/sbin/reset, /usr/sbin/resizepart, /usr/sbin/rev, /usr/sbin/rfkill, /usr/sbin/ri, /usr/sbin/rm, /usr/sbin/rmdir, /usr/sbin/rnano, /usr/sbin/roff2dvi, /usr/sbin/roff2html, /usr/sbin/roff2pdf, /usr/sbin/roff2ps, /usr/sbin/roff2text, /usr/sbin/roff2x, /usr/sbin/rsvg-convert, /usr/sbin/rtcwake, /usr/sbin/ruby, /usr/sbin/run-with-aspell, /usr/sbin/runcon, /usr/sbin/saslauthd, /usr/sbin/sasldblistusers2, /usr/sbin/saslpasswd2, /usr/sbin/scel2org, /usr/sbin/scmp_sys_resolver, /usr/sbin/scp, /usr/sbin/script, /usr/sbin/scriptlive, /usr/sbin/scriptreplay, /usr/sbin/sdiff, /usr/sbin/sdl2-config, /usr/sbin/sed, /usr/sbin/sefcontext_compile, /usr/sbin/selabel_digest, /usr/sbin/selabel_get_digests_all_partial_matches, /usr/sbin/selabel_lookup, /usr/sbin/selabel_lookup_best_match, /usr/sbin/selabel_partial_match, /usr/sbin/selinux_check_access, /usr/sbin/selinux_check_securetty_context, /usr/sbin/selinuxenabled, /usr/sbin/selinuxexeccon, /usr/sbin/sepdebugcrcfix, /usr/sbin/seq, /usr/sbin/setarch, /usr/sbin/setcap, /usr/sbin/setenforce, /usr/sbin/setfacl, /usr/sbin/setfattr, /usr/sbin/setfilecon, /usr/sbin/setpci, /usr/sbin/setsid, /usr/sbin/setterm, /usr/sbin/sexp-conv, /usr/sbin/sfdisk, /usr/sbin/sftp, /usr/sbin/sh, /usr/sbin/sha1sum, /usr/sbin/sha224sum, /usr/sbin/sha256sum, /usr/sbin/sha384sum, /usr/sbin/sha512sum, /usr/sbin/shasum, /usr/sbin/shlibsign, /usr/sbin/shred, /usr/sbin/shuf, /usr/sbin/signtool, /usr/sbin/signver, /usr/sbin/size, /usr/sbin/slabtop, /usr/sbin/sleep, /usr/sbin/sln, /usr/sbin/slsh, /usr/sbin/sndfile-cmp, /usr/sbin/sndfile-concat, /usr/sbin/sndfile-convert, /usr/sbin/sndfile-deinterleave, /usr/sbin/sndfile-info, /usr/sbin/sndfile-interleave, /usr/sbin/sndfile-metadata-get, /usr/sbin/sndfile-metadata-set, /usr/sbin/sndfile-play, /usr/sbin/sndfile-resample, /usr/sbin/sndfile-salvage, /usr/sbin/soelim, /usr/sbin/sort, /usr/sbin/sotruss, /usr/sbin/spa-acp-tool, /usr/sbin/spa-inspect, /usr/sbin/spa-json-dump, /usr/sbin/spa-monitor, /usr/sbin/spa-resample, /usr/sbin/speexdec, /usr/sbin/speexenc, /usr/sbin/spirv-as, /usr/sbin/spirv-cfg, /usr/sbin/spirv-dis, /usr/sbin/spirv-lesspipe.sh, /usr/sbin/spirv-link, /usr/sbin/spirv-lint, /usr/sbin/spirv-opt, /usr/sbin/spirv-reduce, /usr/sbin/spirv-remap, /usr/sbin/spirv-val, /usr/sbin/splain, /usr/sbin/split, /usr/sbin/sprof, /usr/sbin/sqlite3, /usr/sbin/srptool, /usr/sbin/ssh, /usr/sbin/ssh-add, /usr/sbin/ssh-agent, /usr/sbin/ssh-keygen, /usr/sbin/ssh-keyscan, /usr/sbin/ssltap, /usr/sbin/stat, /usr/sbin/stdbuf, /usr/sbin/strace, /usr/sbin/strace-log-merge, /usr/sbin/streamzip, /usr/sbin/strings, /usr/sbin/strip, /usr/sbin/stty, /usr/sbin/stunbdc, /usr/sbin/stund, /usr/sbin/substrings.pl, /usr/sbin/sulogin, /usr/sbin/sum, /usr/sbin/swaplabel, /usr/sbin/swapoff, /usr/sbin/swapon, /usr/sbin/switch_root, /usr/sbin/symkeyutil, /usr/sbin/sync, /usr/sbin/sysctl, /usr/sbin/tabs, /usr/sbin/tac, /usr/sbin/tail, /usr/sbin/tar, /usr/sbin/taskset, /usr/sbin/tbl, /usr/sbin/tee, /usr/sbin/test, /usr/sbin/testsaslauthd, /usr/sbin/texi2any, /usr/sbin/texi2dvi, /usr/sbin/texi2pdf, /usr/sbin/texindex, /usr/sbin/tfmtodit, /usr/sbin/th_gen_idx.pl, /usr/sbin/tic, /usr/sbin/tiff2bw, /usr/sbin/tiff2pdf, /usr/sbin/tiff2ps, /usr/sbin/tiff2rgba, /usr/sbin/tiffcmp, /usr/sbin/tiffcp, /usr/sbin/tiffcrop, /usr/sbin/tiffdither, /usr/sbin/tiffdump, /usr/sbin/tiffinfo, /usr/sbin/tiffmedian, /usr/sbin/tiffset, /usr/sbin/tiffsplit, /usr/sbin/tificc, /usr/sbin/timeout, /usr/sbin/tjbench, /usr/sbin/tload, /usr/sbin/toe, /usr/sbin/togglesebool, /usr/sbin/top, /usr/sbin/touch, /usr/sbin/tput, /usr/sbin/tr, /usr/sbin/trace, /usr/sbin/transicc, /usr/sbin/trietool, /usr/sbin/trietool-0.2, /usr/sbin/troff, /usr/sbin/true, /usr/sbin/truncate, /usr/sbin/trust, /usr/sbin/tset, /usr/sbin/tsort, /usr/sbin/tty, /usr/sbin/txt2mb, /usr/sbin/typeprof, /usr/sbin/tzselect, /usr/sbin/uclampset, /usr/sbin/uconv, /usr/sbin/ul, /usr/sbin/umount, /usr/sbin/uname, /usr/sbin/uname26, /usr/sbin/uncompress, /usr/sbin/unexpand, /usr/sbin/uniq, /usr/sbin/unlink, /usr/sbin/unlz4, /usr/sbin/unlzma, /usr/sbin/unmunch, /usr/sbin/unshare, /usr/sbin/unxz, /usr/sbin/unzip, /usr/sbin/unzipsfx, /usr/sbin/unzstd, /usr/sbin/update-ca-trust, /usr/sbin/update-desktop-database, /usr/sbin/update-mime-database, /usr/sbin/update-pciids, /usr/sbin/updatedb, /usr/sbin/uptime, /usr/sbin/users, /usr/sbin/utmpdump, /usr/sbin/uuidd, /usr/sbin/uuidgen, /usr/sbin/uuidparse, /usr/sbin/v4l2-compliance, /usr/sbin/v4l2-ctl, /usr/sbin/v4l2-dbg, /usr/sbin/v4l2-sysfs-path, /usr/sbin/valgrind, /usr/sbin/valgrind-di-server, /usr/sbin/valgrind-listener, /usr/sbin/validatetrans, /usr/sbin/vdir, /usr/sbin/vgdb, /usr/sbin/vmstat, /usr/sbin/vpxdec, /usr/sbin/vpxenc, /usr/sbin/w, /usr/sbin/watch, /usr/sbin/watchgnupg, /usr/sbin/wavpack, /usr/sbin/wayland-scanner, /usr/sbin/wc, /usr/sbin/wdctl, /usr/sbin/webpinfo, /usr/sbin/webpmux, /usr/sbin/wget, /usr/sbin/whatis, /usr/sbin/wheel, /usr/sbin/whereis, /usr/sbin/which, /usr/sbin/who, /usr/sbin/whoami, /usr/sbin/wipefs, /usr/sbin/word-list-compress, /usr/sbin/wordforms, /usr/sbin/wordlist2hunspell, /usr/sbin/wrjpgcom, /usr/sbin/wvgain, /usr/sbin/wvtag, /usr/sbin/wvunpack, /usr/sbin/x86_64, /usr/sbin/x86_64-unknown-linux-gnu-c++, /usr/sbin/x86_64-unknown-linux-gnu-g++, /usr/sbin/x86_64-unknown-linux-gnu-gcc, /usr/sbin/x86_64-unknown-linux-gnu-gcc-11.3.0, /usr/sbin/x86_64-unknown-linux-gnu-gcc-ar, /usr/sbin/x86_64-unknown-linux-gnu-gcc-nm, /usr/sbin/x86_64-unknown-linux-gnu-gcc-ranlib, /usr/sbin/x86_64-unknown-linux-gnu-gfortran, /usr/sbin/xargs, /usr/sbin/xdg-email, /usr/sbin/xdg-open, /usr/sbin/xdg-user-dir, /usr/sbin/xdg-user-dirs-update, /usr/sbin/xgettext, /usr/sbin/xkbcli, /usr/sbin/xkbcomp, /usr/sbin/xml2-config, /usr/sbin/xmlcatalog, /usr/sbin/xmllint, /usr/sbin/xmlwf, /usr/sbin/xslt-config, /usr/sbin/xsltproc, /usr/sbin/xsubpp, /usr/sbin/xtrace, /usr/sbin/xz, /usr/sbin/xzcat, /usr/sbin/xzcmp, /usr/sbin/xzdec, /usr/sbin/xzdiff, /usr/sbin/xzegrep, /usr/sbin/xzfgrep, /usr/sbin/xzgrep, /usr/sbin/xzless, /usr/sbin/xzmore, /usr/sbin/yacc, /usr/sbin/yes, /usr/sbin/zcat, /usr/sbin/zcmp, /usr/sbin/zdiff, /usr/sbin/zdump, /usr/sbin/zegrep, /usr/sbin/zenity, /usr/sbin/zfgrep, /usr/sbin/zforce, /usr/sbin/zgrep, /usr/sbin/zic, /usr/sbin/zip, /usr/sbin/zipcloak, /usr/sbin/zipdetails, /usr/sbin/zipgrep, /usr/sbin/zipinfo, /usr/sbin/zipnote, /usr/sbin/zipsplit, /usr/sbin/zless, /usr/sbin/zmore, /usr/sbin/znew, /usr/sbin/zramctl, /usr/sbin/zstd, /usr/sbin/zstdcat, /usr/sbin/zstdgrep, /usr/sbin/zstdless, /usr/sbin/zstdmt]","title":"File.exists doesn&#39;t find the file in /usr/sbin folder","body":"<p>I have a very strange problem, I have a code that check if the gluster cli tool is installed, on a Manjaro distribution it works.</p>\n<pre><code>List&lt;String&gt; GLUSTER_EXE_PATHS = List.of(&quot;/usr/bin/gluster&quot;, &quot;/usr/sbin/gluster&quot;);\nGLUSTER_EXE_PATHS.stream().map(Paths::get).map(Path::toFile).anyMatch(File::exists)\n</code></pre>\n<p>But the problem is that this code will return false on my Gentoo :</p>\n<blockquote>\n<p>ls -ailh /usr/sbin/gluster</p>\n<p>17555959 -rwxr-xr-x 1 root root 454K  1 avril 16:02 /usr/sbin/gluster</p>\n</blockquote>\n<p>I tried to find another way to find if this file exists like using this method :</p>\n<pre><code>static boolean exists(File link) {\n        File[] kids = link.getParentFile().listFiles();\n        return kids != null &amp;&amp; Arrays.asList(kids).contains(link);\n    }\n</code></pre>\n<p>But it doesn't find this file, and sure enough, if I print the content of the kids array :</p>\n<pre><code>System.out.println(Arrays.asList(kids));\n</code></pre>\n<p>I can't find it inside, for unknown reason, this file is not a symlink, and I don't understand why java can't find it, especially as it works for Centos 7, Manjaro, but not Gentoo, there must be something special for this file, but I can't find what.</p>\n<blockquote>\n<p>[/usr/sbin/2to3, /usr/sbin/2to3-3.9, /usr/sbin/[, /usr/sbin/accessdb, /usr/sbin/aclocal, /usr/sbin/aclocal-1.16, /usr/sbin/addftinfo, /usr/sbin/addgnupghome, /usr/sbin/addpart, /usr/sbin/addr2line, /usr/sbin/affixcompress, /usr/sbin/afmtodit, /usr/sbin/agetty, /usr/sbin/analyseplugin, /usr/sbin/analyze, /usr/sbin/aomdec, /usr/sbin/aomenc, /usr/sbin/applygnupgdefaults, /usr/sbin/applyplugin, /usr/sbin/appstream-builder, /usr/sbin/appstream-compose, /usr/sbin/appstream-util, /usr/sbin/apropos, /usr/sbin/ar, /usr/sbin/arch, /usr/sbin/as, /usr/sbin/aserver, /usr/sbin/asn1Coding, /usr/sbin/asn1Decoding, /usr/sbin/asn1Parser, /usr/sbin/aspell, /usr/sbin/aspell-import, /usr/sbin/attr, /usr/sbin/autoconf, /usr/sbin/autoconf2.69, /usr/sbin/autoheader, /usr/sbin/autoheader2.69, /usr/sbin/autom4te, /usr/sbin/autom4te2.69, /usr/sbin/automake, /usr/sbin/automake-1.16, /usr/sbin/autopoint, /usr/sbin/autoreconf, /usr/sbin/autoreconf2.69, /usr/sbin/autoscan, /usr/sbin/autoscan2.69, /usr/sbin/autoupdate, /usr/sbin/autoupdate2.69, /usr/sbin/avcstat, /usr/sbin/awk, /usr/sbin/b2sum, /usr/sbin/base32, /usr/sbin/base64, /usr/sbin/basename, /usr/sbin/basenc, /usr/sbin/bash, /usr/sbin/bashbug, /usr/sbin/bc, /usr/sbin/bison, /usr/sbin/blkdiscard, /usr/sbin/blkid, /usr/sbin/blkzone, /usr/sbin/blockdev, /usr/sbin/brotli, /usr/sbin/bsdcat, /usr/sbin/bsdcpio, /usr/sbin/bsdtar, /usr/sbin/bundle, /usr/sbin/bundler, /usr/sbin/bunzip2, /usr/sbin/bzcat, /usr/sbin/bzcmp, /usr/sbin/bzdiff, /usr/sbin/bzegrep, /usr/sbin/bzfgrep, /usr/sbin/bzfless, /usr/sbin/bzgrep, /usr/sbin/bzip2, /usr/sbin/bzip2recover, /usr/sbin/bzmore, /usr/sbin/c++, /usr/sbin/c++filt, /usr/sbin/c_rehash, /usr/sbin/ca-legacy, /usr/sbin/cairo-sphinx, /usr/sbin/cairo-trace, /usr/sbin/cal, /usr/sbin/callgrind_annotate, /usr/sbin/callgrind_control, /usr/sbin/capsh, /usr/sbin/captoinfo, /usr/sbin/cat, /usr/sbin/catchsegv, /usr/sbin/catman, /usr/sbin/cc, /usr/sbin/ccache, /usr/sbin/ccmake, /usr/sbin/cec-compliance, /usr/sbin/cec-ctl, /usr/sbin/cec-follower, /usr/sbin/certtool, /usr/sbin/certutil, /usr/sbin/cfdisk, /usr/sbin/cg_annotate, /usr/sbin/cg_diff, /usr/sbin/cg_merge, /usr/sbin/chacl, /usr/sbin/chcon, /usr/sbin/chcpu, /usr/sbin/chem, /usr/sbin/chgrp, /usr/sbin/chkcon, /usr/sbin/chmem, /usr/sbin/chmod, /usr/sbin/chmorph, /usr/sbin/choom, /usr/sbin/chown, /usr/sbin/chroot, /usr/sbin/chrt, /usr/sbin/cjpeg, /usr/sbin/cksum, /usr/sbin/clear, /usr/sbin/cmake, /usr/sbin/cmp, /usr/sbin/cmsutil, /usr/sbin/col, /usr/sbin/colcrt, /usr/sbin/colrm, /usr/sbin/column, /usr/sbin/comm, /usr/sbin/compute_av, /usr/sbin/compute_create, /usr/sbin/compute_member, /usr/sbin/compute_relabel, /usr/sbin/corelist, /usr/sbin/cp, /usr/sbin/cpack, /usr/sbin/cpan, /usr/sbin/cpio, /usr/sbin/cpp, /usr/sbin/cracklib-check, /usr/sbin/cracklib-format, /usr/sbin/cracklib-packer, /usr/sbin/cracklib-unpacker, /usr/sbin/create-cracklib-dict, /usr/sbin/createPYMB, /usr/sbin/crlutil, /usr/sbin/csplit, /usr/sbin/ctest, /usr/sbin/ctrlaltdel, /usr/sbin/cups-config, /usr/sbin/curl, /usr/sbin/curl-config, /usr/sbin/cut, /usr/sbin/cwebp, /usr/sbin/cx18-ctl, /usr/sbin/cxpm, /usr/sbin/cygdb, /usr/sbin/cython, /usr/sbin/cythonize, /usr/sbin/date, /usr/sbin/dav1d, /usr/sbin/dbus-send, /usr/sbin/dc, /usr/sbin/dd, /usr/sbin/debugedit, /usr/sbin/debuginfod, /usr/sbin/debuginfod-find, /usr/sbin/decode_tm6000, /usr/sbin/delpart, /usr/sbin/derb, /usr/sbin/desktop-file-edit, /usr/sbin/desktop-file-install, /usr/sbin/desktop-file-validate, /usr/sbin/df, /usr/sbin/diff, /usr/sbin/diff3, /usr/sbin/dir, /usr/sbin/dircolors, /usr/sbin/dirmngr, /usr/sbin/dirmngr-client, /usr/sbin/dirname, /usr/sbin/djpeg, /usr/sbin/dmesg, /usr/sbin/doxygen, /usr/sbin/du, /usr/sbin/dumpsexp, /usr/sbin/dvb-fe-tool, /usr/sbin/dvb-format-convert, /usr/sbin/dvbv5-daemon, /usr/sbin/dvbv5-scan, /usr/sbin/dvbv5-zap, /usr/sbin/dwebp, /usr/sbin/dwp, /usr/sbin/dwz, /usr/sbin/echo, /usr/sbin/ed, /usr/sbin/egrep, /usr/sbin/eject, /usr/sbin/elfedit, /usr/sbin/enc2xs, /usr/sbin/encguess, /usr/sbin/env, /usr/sbin/envsubst, /usr/sbin/eqn, /usr/sbin/eqn2graph, /usr/sbin/erb, /usr/sbin/escapesrc, /usr/sbin/eu-addr2line, /usr/sbin/eu-ar, /usr/sbin/eu-elfclassify, /usr/sbin/eu-elfcmp, /usr/sbin/eu-elfcompress, /usr/sbin/eu-elflint, /usr/sbin/eu-findtextrel, /usr/sbin/eu-make-debug-archive, /usr/sbin/eu-nm, /usr/sbin/eu-objdump, /usr/sbin/eu-ranlib, /usr/sbin/eu-readelf, /usr/sbin/eu-size, /usr/sbin/eu-stack, /usr/sbin/eu-strings, /usr/sbin/eu-strip, /usr/sbin/eu-unstrip, /usr/sbin/expand, /usr/sbin/expr, /usr/sbin/factor, /usr/sbin/fallocate, /usr/sbin/false, /usr/sbin/fax2ps, /usr/sbin/fax2tiff, /usr/sbin/fc-cache, /usr/sbin/fc-cat, /usr/sbin/fc-conflist, /usr/sbin/fc-list, /usr/sbin/fc-match, /usr/sbin/fc-pattern, /usr/sbin/fc-query, /usr/sbin/fc-scan, /usr/sbin/fc-validate, /usr/sbin/fcitx, /usr/sbin/fcitx-autostart, /usr/sbin/fcitx-configtool, /usr/sbin/fcitx-dbus-watcher, /usr/sbin/fcitx-diagnose, /usr/sbin/fcitx-remote, /usr/sbin/fcitx4-config, /usr/sbin/fdisk, /usr/sbin/ffmpeg, /usr/sbin/ffplay, /usr/sbin/ffprobe, /usr/sbin/fftw-wisdom, /usr/sbin/fftw-wisdom-to-conf, /usr/sbin/fgrep, /usr/sbin/file, /usr/sbin/fincore, /usr/sbin/find, /usr/sbin/find-debuginfo, /usr/sbin/findfs, /usr/sbin/findmnt, /usr/sbin/flac, /usr/sbin/flatpak-spawn, /usr/sbin/flex, /usr/sbin/flex++, /usr/sbin/flock, /usr/sbin/fmt, /usr/sbin/fold, /usr/sbin/free, /usr/sbin/freedesktop-sdk-stripper, /usr/sbin/fribidi, /usr/sbin/fsck, /usr/sbin/fsck.cramfs, /usr/sbin/fsck.minix, /usr/sbin/fsfreeze, /usr/sbin/fstrim, /usr/sbin/funzip, /usr/sbin/g++, /usr/sbin/g-ir-annotation-tool, /usr/sbin/g-ir-compiler, /usr/sbin/g-ir-doc-tool, /usr/sbin/g-ir-generate, /usr/sbin/g-ir-inspect, /usr/sbin/g-ir-scanner, /usr/sbin/gapplication, /usr/sbin/gawk, /usr/sbin/gcab, /usr/sbin/gcc, /usr/sbin/gcc-ar, /usr/sbin/gcc-nm, /usr/sbin/gcc-ranlib, /usr/sbin/gcore, /usr/sbin/gcov, /usr/sbin/gcov-dump, /usr/sbin/gcov-tool, /usr/sbin/gdb, /usr/sbin/gdb-add-index, /usr/sbin/gdbm_dump, /usr/sbin/gdbm_load, /usr/sbin/gdbmtool, /usr/sbin/gdbserver, /usr/sbin/gdbus, /usr/sbin/gdbus-codegen, /usr/sbin/gdialog, /usr/sbin/gdiffmk, /usr/sbin/gdk-pixbuf-csource, /usr/sbin/gdk-pixbuf-pixdata, /usr/sbin/gdk-pixbuf-query-loaders, /usr/sbin/gdk-pixbuf-thumbnailer, /usr/sbin/gem, /usr/sbin/genbrk, /usr/sbin/gencat, /usr/sbin/genccode, /usr/sbin/gencfu, /usr/sbin/gencmn, /usr/sbin/gencnval, /usr/sbin/gendict, /usr/sbin/gennorm2, /usr/sbin/genrb, /usr/sbin/gensprep, /usr/sbin/getcap, /usr/sbin/getconf, /usr/sbin/getconlist, /usr/sbin/getdefaultcon, /usr/sbin/getenforce, /usr/sbin/getent, /usr/sbin/getfacl, /usr/sbin/getfattr, /usr/sbin/getfilecon, /usr/sbin/getopt, /usr/sbin/getpcaps, /usr/sbin/getpidcon, /usr/sbin/getsebool, /usr/sbin/getseuser, /usr/sbin/gettext, /usr/sbin/gettext.sh, /usr/sbin/gettextize, /usr/sbin/gfortran, /usr/sbin/gif2rgb, /usr/sbin/gif2webp, /usr/sbin/gifbuild, /usr/sbin/gifclrmp, /usr/sbin/giffix, /usr/sbin/giftext, /usr/sbin/giftool, /usr/sbin/gio, /usr/sbin/gio-querymodules, /usr/sbin/git, /usr/sbin/git-cvsserver, /usr/sbin/git-receive-pack, /usr/sbin/git-shell, /usr/sbin/git-upload-archive, /usr/sbin/git-upload-pack, /usr/sbin/gitk, /usr/sbin/glib-compile-resources, /usr/sbin/glib-compile-schemas, /usr/sbin/glib-genmarshal, /usr/sbin/glib-gettextize, /usr/sbin/glib-mkenums, /usr/sbin/glilypond, /usr/sbin/glslangValidator, /usr/sbin/gnutls-cli, /usr/sbin/gnutls-cli-debug, /usr/sbin/gnutls-serv, /usr/sbin/gobject-query, /usr/sbin/gperf, /usr/sbin/gperl, /usr/sbin/gpg, /usr/sbin/gpg-agent, /usr/sbin/gpg-connect-agent, /usr/sbin/gpg-error, /usr/sbin/gpg-error-config, /usr/sbin/gpg-wks-server, /usr/sbin/gpgconf, /usr/sbin/gpgme-config, /usr/sbin/gpgme-json, /usr/sbin/gpgme-tool, /usr/sbin/gpgparsemail, /usr/sbin/gpgrt-config, /usr/sbin/gpgscm, /usr/sbin/gpgsm, /usr/sbin/gpgsplit, /usr/sbin/gpgtar, /usr/sbin/gpgv, /usr/sbin/gpinyin, /usr/sbin/gprof, /usr/sbin/gr2fonttest, /usr/sbin/grap2graph, /usr/sbin/grep, /usr/sbin/gresource, /usr/sbin/grn, /usr/sbin/grodvi, /usr/sbin/groff, /usr/sbin/groffer, /usr/sbin/grog, /usr/sbin/grolbp, /usr/sbin/grolj4, /usr/sbin/gropdf, /usr/sbin/grops, /usr/sbin/grotty, /usr/sbin/gsettings, /usr/sbin/gst-device-monitor-1.0, /usr/sbin/gst-discoverer-1.0, /usr/sbin/gst-inspect-1.0, /usr/sbin/gst-launch-1.0, /usr/sbin/gst-play-1.0, /usr/sbin/gst-stats-1.0, /usr/sbin/gst-tester-1.0, /usr/sbin/gst-transcoder-1.0, /usr/sbin/gst-typefind-1.0, /usr/sbin/gtester, /usr/sbin/gtester-report, /usr/sbin/gtk-builder-tool, /usr/sbin/gtk-encode-symbolic-svg, /usr/sbin/gtk-launch, /usr/sbin/gtk-query-immodules-3.0, /usr/sbin/gtk-query-settings, /usr/sbin/gtk-update-icon-cache, /usr/sbin/gtk3-demo, /usr/sbin/gtk3-demo-application, /usr/sbin/gtk3-icon-browser, /usr/sbin/gtk3-widget-factory, /usr/sbin/gtkdoc-check, /usr/sbin/gtkdoc-depscan, /usr/sbin/gtkdoc-fixxref, /usr/sbin/gtkdoc-mkdb, /usr/sbin/gtkdoc-mkhtml, /usr/sbin/gtkdoc-mkhtml2, /usr/sbin/gtkdoc-mkman, /usr/sbin/gtkdoc-mkpdf, /usr/sbin/gtkdoc-rebase, /usr/sbin/gtkdoc-scan, /usr/sbin/gtkdoc-scangobj, /usr/sbin/gtkdocize, /usr/sbin/gunzip, /usr/sbin/gzexe, /usr/sbin/gzip, /usr/sbin/h2ph, /usr/sbin/h2xs, /usr/sbin/hardlink, /usr/sbin/hb-ot-shape-closure, /usr/sbin/hb-shape, /usr/sbin/hb-subset, /usr/sbin/head, /usr/sbin/help2man, /usr/sbin/hexdump, /usr/sbin/hmac256, /usr/sbin/hostid, /usr/sbin/hostname, /usr/sbin/hpftodit, /usr/sbin/hunspell, /usr/sbin/hunzip, /usr/sbin/hw-support, /usr/sbin/hwclock, /usr/sbin/hzip, /usr/sbin/i386, /usr/sbin/iconv, /usr/sbin/iconvconfig, /usr/sbin/icu-config, /usr/sbin/icuinfo, /usr/sbin/icupkg, /usr/sbin/id, /usr/sbin/idn2, /usr/sbin/ifnames, /usr/sbin/ifnames2.69, /usr/sbin/img2webp, /usr/sbin/indxbib, /usr/sbin/info, /usr/sbin/infocmp, /usr/sbin/infotocap, /usr/sbin/install, /usr/sbin/install-info, /usr/sbin/instmodsh, /usr/sbin/ionice, /usr/sbin/ipcmk, /usr/sbin/ipcrm, /usr/sbin/ipcs, /usr/sbin/ir-ctl, /usr/sbin/ir-keytable, /usr/sbin/irb, /usr/sbin/irqtop, /usr/sbin/isosize, /usr/sbin/ispellaff2myspell, /usr/sbin/itstool, /usr/sbin/ivtv-ctl, /usr/sbin/join, /usr/sbin/jpegtran, /usr/sbin/jpgicc, /usr/sbin/jq, /usr/sbin/json-glib-format, /usr/sbin/json-glib-validate, /usr/sbin/json_pp, /usr/sbin/kbxutil, /usr/sbin/kill, /usr/sbin/ksba-config, /usr/sbin/lame, /usr/sbin/last, /usr/sbin/lastb, /usr/sbin/ld, /usr/sbin/ld.bfd, /usr/sbin/ld.gold, /usr/sbin/ldattach, /usr/sbin/ldconfig, /usr/sbin/ldd, /usr/sbin/less, /usr/sbin/lessecho, /usr/sbin/lesskey, /usr/sbin/lexgrog, /usr/sbin/libassuan-config, /usr/sbin/libgcrypt-config, /usr/sbin/libnetcfg, /usr/sbin/libpng-config, /usr/sbin/libpng16-config, /usr/sbin/libtool, /usr/sbin/libtoolize, /usr/sbin/link, /usr/sbin/linkicc, /usr/sbin/linux32, /usr/sbin/linux64, /usr/sbin/listplugins, /usr/sbin/lkbib, /usr/sbin/ln, /usr/sbin/locale, /usr/sbin/localedef, /usr/sbin/locate, /usr/sbin/logger, /usr/sbin/logname, /usr/sbin/look, /usr/sbin/lookbib, /usr/sbin/losetup, /usr/sbin/ls, /usr/sbin/lsblk, /usr/sbin/lscpu, /usr/sbin/lsipc, /usr/sbin/lsirq, /usr/sbin/lslocks, /usr/sbin/lslogins, /usr/sbin/lsmem, /usr/sbin/lsns, /usr/sbin/lspci, /usr/sbin/lto-dump, /usr/sbin/lz4, /usr/sbin/lz4c, /usr/sbin/lz4cat, /usr/sbin/lzcat, /usr/sbin/lzcmp, /usr/sbin/lzdiff, /usr/sbin/lzegrep, /usr/sbin/lzfgrep, /usr/sbin/lzgrep, /usr/sbin/lzip, /usr/sbin/lzless, /usr/sbin/lzma, /usr/sbin/lzmadec, /usr/sbin/lzmainfo, /usr/sbin/lzmore, /usr/sbin/m4, /usr/sbin/make, /usr/sbin/makealias, /usr/sbin/makeconv, /usr/sbin/makedb, /usr/sbin/makeinfo, /usr/sbin/mako-render, /usr/sbin/man, /usr/sbin/man-recode, /usr/sbin/mandb, /usr/sbin/manpath, /usr/sbin/markdown_py, /usr/sbin/matchpathcon, /usr/sbin/mb2org, /usr/sbin/mb2txt, /usr/sbin/mcookie, /usr/sbin/md5sum, /usr/sbin/media-ctl, /usr/sbin/mesg, /usr/sbin/meson, /usr/sbin/metaflac, /usr/sbin/mkdir, /usr/sbin/mkfifo, /usr/sbin/mkfs, /usr/sbin/mkfs.bfs, /usr/sbin/mkfs.cramfs, /usr/sbin/mkfs.minix, /usr/sbin/mknod, /usr/sbin/mkswap, /usr/sbin/mktemp, /usr/sbin/mmroff, /usr/sbin/modutil, /usr/sbin/more, /usr/sbin/mount, /usr/sbin/mountpoint, /usr/sbin/mpicalc, /usr/sbin/ms_print, /usr/sbin/msgattrib, /usr/sbin/msgcat, /usr/sbin/msgcmp, /usr/sbin/msgcomm, /usr/sbin/msgconv, /usr/sbin/msgen, /usr/sbin/msgexec, /usr/sbin/msgfilter, /usr/sbin/msgfmt, /usr/sbin/msggrep, /usr/sbin/msginit, /usr/sbin/msgmerge, /usr/sbin/msgunfmt, /usr/sbin/msguniq, /usr/sbin/mtrace, /usr/sbin/munch, /usr/sbin/mv, /usr/sbin/namei, /usr/sbin/nano, /usr/sbin/nasm, /usr/sbin/ncurses6-config, /usr/sbin/ncursesw6-config, /usr/sbin/ndisasm, /usr/sbin/neqn, /usr/sbin/nettle-hash, /usr/sbin/nettle-lfib-stream, /usr/sbin/nettle-pbkdf2, /usr/sbin/ngettext, /usr/sbin/nice, /usr/sbin/ninja, /usr/sbin/nl, /usr/sbin/nm, /usr/sbin/nohup, /usr/sbin/nproc, /usr/sbin/npth-config, /usr/sbin/nroff, /usr/sbin/nscd, /usr/sbin/nsenter, /usr/sbin/nspr-config, /usr/sbin/nss, /usr/sbin/nss-config, /usr/sbin/numfmt, /usr/sbin/objcopy, /usr/sbin/objdump, /usr/sbin/ocsptool, /usr/sbin/od, /usr/sbin/onig-config, /usr/sbin/openal-info, /usr/sbin/openssl, /usr/sbin/opj_compress, /usr/sbin/opj_decompress, /usr/sbin/opj_dump, /usr/sbin/orcc, /usr/sbin/p11-kit, /usr/sbin/p11tool, /usr/sbin/pa-info, /usr/sbin/pacat, /usr/sbin/pacmd, /usr/sbin/pactl, /usr/sbin/padsp, /usr/sbin/pal2rgb, /usr/sbin/pamon, /usr/sbin/pango-list, /usr/sbin/pango-segmentation, /usr/sbin/pango-view, /usr/sbin/paplay, /usr/sbin/parec, /usr/sbin/parecord, /usr/sbin/partx, /usr/sbin/paste, /usr/sbin/patch, /usr/sbin/pathchk, /usr/sbin/pax11publish, /usr/sbin/pcprofiledump, /usr/sbin/pcre-config, /usr/sbin/pcre2-config, /usr/sbin/pcre2grep, /usr/sbin/pcre2test, /usr/sbin/pcregrep, /usr/sbin/pcretest, /usr/sbin/pdfmom, /usr/sbin/pdfroff, /usr/sbin/pdftexi2dvi, /usr/sbin/perf, /usr/sbin/perl, /usr/sbin/perl5.34.0, /usr/sbin/perlbug, /usr/sbin/perldoc, /usr/sbin/perlivp, /usr/sbin/perlthanks, /usr/sbin/pfbtops, /usr/sbin/pgrep, /usr/sbin/pic, /usr/sbin/pic2graph, /usr/sbin/piconv, /usr/sbin/pidof, /usr/sbin/pinky, /usr/sbin/pip3, /usr/sbin/pip3.9, /usr/sbin/pivot_root, /usr/sbin/pk12util, /usr/sbin/pkcs1-conv, /usr/sbin/pkg-config, /usr/sbin/pkgconf, /usr/sbin/pkgdata, /usr/sbin/pkill, /usr/sbin/pl2pm, /usr/sbin/playout, /usr/sbin/pldd, /usr/sbin/pluginviewer, /usr/sbin/pmap, /usr/sbin/png-fix-itxt, /usr/sbin/pngfix, /usr/sbin/pod2html, /usr/sbin/pod2man, /usr/sbin/pod2texi, /usr/sbin/pod2text, /usr/sbin/pod2usage, /usr/sbin/podchecker, /usr/sbin/policyvers, /usr/sbin/post-grohtml, /usr/sbin/ppm2tiff, /usr/sbin/pr, /usr/sbin/pre-grohtml, /usr/sbin/precat, /usr/sbin/preconv, /usr/sbin/preunzip, /usr/sbin/prezip, /usr/sbin/prezip-bin, /usr/sbin/printenv, /usr/sbin/printf, /usr/sbin/prlimit, /usr/sbin/prove, /usr/sbin/proxy, /usr/sbin/ps, /usr/sbin/psicc, /usr/sbin/psktool, /usr/sbin/psl, /usr/sbin/pspell-config, /usr/sbin/ptar, /usr/sbin/ptardiff, /usr/sbin/ptargrep, /usr/sbin/ptx, /usr/sbin/pw-cat, /usr/sbin/pw-cli, /usr/sbin/pw-dot, /usr/sbin/pw-dump, /usr/sbin/pw-jack, /usr/sbin/pw-link, /usr/sbin/pw-loopback, /usr/sbin/pw-metadata, /usr/sbin/pw-mididump, /usr/sbin/pw-midiplay, /usr/sbin/pw-midirecord, /usr/sbin/pw-mon, /usr/sbin/pw-play, /usr/sbin/pw-profiler, /usr/sbin/pw-record, /usr/sbin/pw-reserve, /usr/sbin/pw-top, /usr/sbin/pwait, /usr/sbin/pwd, /usr/sbin/pwdecrypt, /usr/sbin/pwdx, /usr/sbin/pydoc3, /usr/sbin/pydoc3.9, /usr/sbin/pygmentize, /usr/sbin/python, /usr/sbin/python3, /usr/sbin/python3-config, /usr/sbin/python3.9, /usr/sbin/python3.9-config, /usr/sbin/racc, /usr/sbin/rake, /usr/sbin/ranlib, /usr/sbin/raw2tiff, /usr/sbin/rbs, /usr/sbin/rdjpgcom, /usr/sbin/rdoc, /usr/sbin/rds-ctl, /usr/sbin/readPYBase, /usr/sbin/readPYMB, /usr/sbin/readelf, /usr/sbin/readlink, /usr/sbin/readprofile, /usr/sbin/realpath, /usr/sbin/recode-sr-latin, /usr/sbin/red, /usr/sbin/refer, /usr/sbin/rename, /usr/sbin/renice, /usr/sbin/reset, /usr/sbin/resizepart, /usr/sbin/rev, /usr/sbin/rfkill, /usr/sbin/ri, /usr/sbin/rm, /usr/sbin/rmdir, /usr/sbin/rnano, /usr/sbin/roff2dvi, /usr/sbin/roff2html, /usr/sbin/roff2pdf, /usr/sbin/roff2ps, /usr/sbin/roff2text, /usr/sbin/roff2x, /usr/sbin/rsvg-convert, /usr/sbin/rtcwake, /usr/sbin/ruby, /usr/sbin/run-with-aspell, /usr/sbin/runcon, /usr/sbin/saslauthd, /usr/sbin/sasldblistusers2, /usr/sbin/saslpasswd2, /usr/sbin/scel2org, /usr/sbin/scmp_sys_resolver, /usr/sbin/scp, /usr/sbin/script, /usr/sbin/scriptlive, /usr/sbin/scriptreplay, /usr/sbin/sdiff, /usr/sbin/sdl2-config, /usr/sbin/sed, /usr/sbin/sefcontext_compile, /usr/sbin/selabel_digest, /usr/sbin/selabel_get_digests_all_partial_matches, /usr/sbin/selabel_lookup, /usr/sbin/selabel_lookup_best_match, /usr/sbin/selabel_partial_match, /usr/sbin/selinux_check_access, /usr/sbin/selinux_check_securetty_context, /usr/sbin/selinuxenabled, /usr/sbin/selinuxexeccon, /usr/sbin/sepdebugcrcfix, /usr/sbin/seq, /usr/sbin/setarch, /usr/sbin/setcap, /usr/sbin/setenforce, /usr/sbin/setfacl, /usr/sbin/setfattr, /usr/sbin/setfilecon, /usr/sbin/setpci, /usr/sbin/setsid, /usr/sbin/setterm, /usr/sbin/sexp-conv, /usr/sbin/sfdisk, /usr/sbin/sftp, /usr/sbin/sh, /usr/sbin/sha1sum, /usr/sbin/sha224sum, /usr/sbin/sha256sum, /usr/sbin/sha384sum, /usr/sbin/sha512sum, /usr/sbin/shasum, /usr/sbin/shlibsign, /usr/sbin/shred, /usr/sbin/shuf, /usr/sbin/signtool, /usr/sbin/signver, /usr/sbin/size, /usr/sbin/slabtop, /usr/sbin/sleep, /usr/sbin/sln, /usr/sbin/slsh, /usr/sbin/sndfile-cmp, /usr/sbin/sndfile-concat, /usr/sbin/sndfile-convert, /usr/sbin/sndfile-deinterleave, /usr/sbin/sndfile-info, /usr/sbin/sndfile-interleave, /usr/sbin/sndfile-metadata-get, /usr/sbin/sndfile-metadata-set, /usr/sbin/sndfile-play, /usr/sbin/sndfile-resample, /usr/sbin/sndfile-salvage, /usr/sbin/soelim, /usr/sbin/sort, /usr/sbin/sotruss, /usr/sbin/spa-acp-tool, /usr/sbin/spa-inspect, /usr/sbin/spa-json-dump, /usr/sbin/spa-monitor, /usr/sbin/spa-resample, /usr/sbin/speexdec, /usr/sbin/speexenc, /usr/sbin/spirv-as, /usr/sbin/spirv-cfg, /usr/sbin/spirv-dis, /usr/sbin/spirv-lesspipe.sh, /usr/sbin/spirv-link, /usr/sbin/spirv-lint, /usr/sbin/spirv-opt, /usr/sbin/spirv-reduce, /usr/sbin/spirv-remap, /usr/sbin/spirv-val, /usr/sbin/splain, /usr/sbin/split, /usr/sbin/sprof, /usr/sbin/sqlite3, /usr/sbin/srptool, /usr/sbin/ssh, /usr/sbin/ssh-add, /usr/sbin/ssh-agent, /usr/sbin/ssh-keygen, /usr/sbin/ssh-keyscan, /usr/sbin/ssltap, /usr/sbin/stat, /usr/sbin/stdbuf, /usr/sbin/strace, /usr/sbin/strace-log-merge, /usr/sbin/streamzip, /usr/sbin/strings, /usr/sbin/strip, /usr/sbin/stty, /usr/sbin/stunbdc, /usr/sbin/stund, /usr/sbin/substrings.pl, /usr/sbin/sulogin, /usr/sbin/sum, /usr/sbin/swaplabel, /usr/sbin/swapoff, /usr/sbin/swapon, /usr/sbin/switch_root, /usr/sbin/symkeyutil, /usr/sbin/sync, /usr/sbin/sysctl, /usr/sbin/tabs, /usr/sbin/tac, /usr/sbin/tail, /usr/sbin/tar, /usr/sbin/taskset, /usr/sbin/tbl, /usr/sbin/tee, /usr/sbin/test, /usr/sbin/testsaslauthd, /usr/sbin/texi2any, /usr/sbin/texi2dvi, /usr/sbin/texi2pdf, /usr/sbin/texindex, /usr/sbin/tfmtodit, /usr/sbin/th_gen_idx.pl, /usr/sbin/tic, /usr/sbin/tiff2bw, /usr/sbin/tiff2pdf, /usr/sbin/tiff2ps, /usr/sbin/tiff2rgba, /usr/sbin/tiffcmp, /usr/sbin/tiffcp, /usr/sbin/tiffcrop, /usr/sbin/tiffdither, /usr/sbin/tiffdump, /usr/sbin/tiffinfo, /usr/sbin/tiffmedian, /usr/sbin/tiffset, /usr/sbin/tiffsplit, /usr/sbin/tificc, /usr/sbin/timeout, /usr/sbin/tjbench, /usr/sbin/tload, /usr/sbin/toe, /usr/sbin/togglesebool, /usr/sbin/top, /usr/sbin/touch, /usr/sbin/tput, /usr/sbin/tr, /usr/sbin/trace, /usr/sbin/transicc, /usr/sbin/trietool, /usr/sbin/trietool-0.2, /usr/sbin/troff, /usr/sbin/true, /usr/sbin/truncate, /usr/sbin/trust, /usr/sbin/tset, /usr/sbin/tsort, /usr/sbin/tty, /usr/sbin/txt2mb, /usr/sbin/typeprof, /usr/sbin/tzselect, /usr/sbin/uclampset, /usr/sbin/uconv, /usr/sbin/ul, /usr/sbin/umount, /usr/sbin/uname, /usr/sbin/uname26, /usr/sbin/uncompress, /usr/sbin/unexpand, /usr/sbin/uniq, /usr/sbin/unlink, /usr/sbin/unlz4, /usr/sbin/unlzma, /usr/sbin/unmunch, /usr/sbin/unshare, /usr/sbin/unxz, /usr/sbin/unzip, /usr/sbin/unzipsfx, /usr/sbin/unzstd, /usr/sbin/update-ca-trust, /usr/sbin/update-desktop-database, /usr/sbin/update-mime-database, /usr/sbin/update-pciids, /usr/sbin/updatedb, /usr/sbin/uptime, /usr/sbin/users, /usr/sbin/utmpdump, /usr/sbin/uuidd, /usr/sbin/uuidgen, /usr/sbin/uuidparse, /usr/sbin/v4l2-compliance, /usr/sbin/v4l2-ctl, /usr/sbin/v4l2-dbg, /usr/sbin/v4l2-sysfs-path, /usr/sbin/valgrind, /usr/sbin/valgrind-di-server, /usr/sbin/valgrind-listener, /usr/sbin/validatetrans, /usr/sbin/vdir, /usr/sbin/vgdb, /usr/sbin/vmstat, /usr/sbin/vpxdec, /usr/sbin/vpxenc, /usr/sbin/w, /usr/sbin/watch, /usr/sbin/watchgnupg, /usr/sbin/wavpack, /usr/sbin/wayland-scanner, /usr/sbin/wc, /usr/sbin/wdctl, /usr/sbin/webpinfo, /usr/sbin/webpmux, /usr/sbin/wget, /usr/sbin/whatis, /usr/sbin/wheel, /usr/sbin/whereis, /usr/sbin/which, /usr/sbin/who, /usr/sbin/whoami, /usr/sbin/wipefs, /usr/sbin/word-list-compress, /usr/sbin/wordforms, /usr/sbin/wordlist2hunspell, /usr/sbin/wrjpgcom, /usr/sbin/wvgain, /usr/sbin/wvtag, /usr/sbin/wvunpack, /usr/sbin/x86_64, /usr/sbin/x86_64-unknown-linux-gnu-c++, /usr/sbin/x86_64-unknown-linux-gnu-g++, /usr/sbin/x86_64-unknown-linux-gnu-gcc, /usr/sbin/x86_64-unknown-linux-gnu-gcc-11.3.0, /usr/sbin/x86_64-unknown-linux-gnu-gcc-ar, /usr/sbin/x86_64-unknown-linux-gnu-gcc-nm, /usr/sbin/x86_64-unknown-linux-gnu-gcc-ranlib, /usr/sbin/x86_64-unknown-linux-gnu-gfortran, /usr/sbin/xargs, /usr/sbin/xdg-email, /usr/sbin/xdg-open, /usr/sbin/xdg-user-dir, /usr/sbin/xdg-user-dirs-update, /usr/sbin/xgettext, /usr/sbin/xkbcli, /usr/sbin/xkbcomp, /usr/sbin/xml2-config, /usr/sbin/xmlcatalog, /usr/sbin/xmllint, /usr/sbin/xmlwf, /usr/sbin/xslt-config, /usr/sbin/xsltproc, /usr/sbin/xsubpp, /usr/sbin/xtrace, /usr/sbin/xz, /usr/sbin/xzcat, /usr/sbin/xzcmp, /usr/sbin/xzdec, /usr/sbin/xzdiff, /usr/sbin/xzegrep, /usr/sbin/xzfgrep, /usr/sbin/xzgrep, /usr/sbin/xzless, /usr/sbin/xzmore, /usr/sbin/yacc, /usr/sbin/yes, /usr/sbin/zcat, /usr/sbin/zcmp, /usr/sbin/zdiff, /usr/sbin/zdump, /usr/sbin/zegrep, /usr/sbin/zenity, /usr/sbin/zfgrep, /usr/sbin/zforce, /usr/sbin/zgrep, /usr/sbin/zic, /usr/sbin/zip, /usr/sbin/zipcloak, /usr/sbin/zipdetails, /usr/sbin/zipgrep, /usr/sbin/zipinfo, /usr/sbin/zipnote, /usr/sbin/zipsplit, /usr/sbin/zless, /usr/sbin/zmore, /usr/sbin/znew, /usr/sbin/zramctl, /usr/sbin/zstd, /usr/sbin/zstdcat, /usr/sbin/zstdgrep, /usr/sbin/zstdless, /usr/sbin/zstdmt]</p>\n</blockquote>\n"},{"tags":["java","java-11","kettle","pentaho-spoon","pentaho-data-integration"],"comments":[{"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"score":0,"creation_date":1605550006,"post_id":63739704,"comment_id":114678576,"body_markdown":"any solutions to this? I still get an error when trying to run PDI 9.1 with Java 11, november 2020","body":"any solutions to this? I still get an error when trying to run PDI 9.1 with Java 11, november 2020"}],"answers":[{"tags":[],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653047981,"creation_date":1653047981,"answer_id":72318582,"question_id":63739704,"body_markdown":"As of May 20, the [README.md of the Pentaho Kettle repository](https://github.com/pentaho/pentaho-kettle) explicitly mentions Java 11, so it seems as if that is now officially supported.","title":"Pentaho Kettle Java 11 Roadmap","body":"<p>As of May 20, the <a href=\"https://github.com/pentaho/pentaho-kettle\" rel=\"nofollow noreferrer\">README.md of the Pentaho Kettle repository</a> explicitly mentions Java 11, so it seems as if that is now officially supported.</p>\n"}],"owner":{"account_id":8038887,"reputation":157,"user_id":6061205,"display_name":"Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3360,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1653047981,"creation_date":1599216609,"question_id":63739704,"body_markdown":"Currently Pentaho Kettle (v.9.1) officially only support Java 8. This is a problem for us, since we are maintaining a plugin that needs Java 11 because of a essential library that needs Java 11. Does anyone have details on the roadmap for the migration to Java 11. I could only find some older information that Java 11 is on the roadmap, but not when it will be available for Kettle.\r\n\r\nOur current solution is to use Java 11. You can get Spoon running when removing the JAVA_ENDORSED_DIRS from the bat/sh file. But this is not the best solution since the application is not fully compatible and we are experiencing more and more problems.\r\n\r\nAlso alternative ideas or solutions are welcome. ","title":"Pentaho Kettle Java 11 Roadmap","body":"<p>Currently Pentaho Kettle (v.9.1) officially only support Java 8. This is a problem for us, since we are maintaining a plugin that needs Java 11 because of a essential library that needs Java 11. Does anyone have details on the roadmap for the migration to Java 11. I could only find some older information that Java 11 is on the roadmap, but not when it will be available for Kettle.</p>\n<p>Our current solution is to use Java 11. You can get Spoon running when removing the JAVA_ENDORSED_DIRS from the bat/sh file. But this is not the best solution since the application is not fully compatible and we are experiencing more and more problems.</p>\n<p>Also alternative ideas or solutions are welcome.</p>\n"},{"tags":["java","multidimensional-array","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653046967,"post_id":72318149,"comment_id":127761228,"body_markdown":"Why don&#39;t you start by writing the interface that you&#39;d like your multidimensional array list to have -- the methods which get and set elements, and get the number of dimensions and the sizes of the array at particular points.","body":"Why don&#39;t you start by writing the interface that you&#39;d like your multidimensional array list to have -- the methods which get and set elements, and get the number of dimensions and the sizes of the array at particular points."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1653047005,"post_id":72318149,"comment_id":127761248,"body_markdown":"How would you expect to reference it?","body":"How would you expect to reference it?"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1653047296,"post_id":72318149,"comment_id":127761341,"body_markdown":"@matt, I expect it to be like a list as it is in python. something very much similar like that","body":"@matt, I expect it to be like a list as it is in python. something very much similar like that"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1653047881,"post_id":72318149,"comment_id":127761529,"body_markdown":"You could write a class that uses, .get(int... loc), and grab from your set of arraylists. I agree with tgdavies, you should make an interface you want. It might still be backed by ArrayList&lt;ArrayList&lt; .... &gt; but you wouldn&#39;t have to write it out.","body":"You could write a class that uses, .get(int... loc), and grab from your set of arraylists. I agree with tgdavies, you should make an interface you want. It might still be backed by ArrayList&lt;ArrayList&lt; .... &gt; but you wouldn&#39;t have to write it out."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653048682,"post_id":72318149,"comment_id":127761853,"body_markdown":"[What is the XY problem?](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378)","body":"<a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What is the XY problem?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25253824,"reputation":21,"user_id":19085909,"display_name":"Profingo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653046703,"creation_date":1653046703,"answer_id":72318326,"question_id":72318149,"body_markdown":"You could try something like this:\r\n\r\n    int dims = 3;\r\n    ArrayList&lt;Object&gt; root = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Object&gt; current = root;\r\n    ArrayList&lt;Object&gt; previous = null;\r\n    for(int i = 0; i &lt; dims; i++){\r\n        previous = current;\r\n        current=new ArrayList&lt;Object&gt;();\r\n        previous.add(current);\r\n    }\r\n","title":"How to create Multidimensional arraylist in Java dynamically?","body":"<p>You could try something like this:</p>\n<pre><code>int dims = 3;\nArrayList&lt;Object&gt; root = new ArrayList&lt;&gt;();\nArrayList&lt;Object&gt; current = root;\nArrayList&lt;Object&gt; previous = null;\nfor(int i = 0; i &lt; dims; i++){\n    previous = current;\n    current=new ArrayList&lt;Object&gt;();\n    previous.add(current);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653047853,"creation_date":1653047853,"answer_id":72318564,"question_id":72318149,"body_markdown":"I would create a wrapper like a `LinkedList` with its next dimension as a member as well as the data:\r\n```\r\npublic final class Dimension {\r\n\r\n    private final List&lt;Integer&gt; data = new ArrayList&lt;&gt;();\r\n    private final Dimension nextDimension;\r\n\r\n    public Dimension(Dimension next) {\r\n        this.nextDimension = next;\r\n    }\r\n\r\n    public static Dimension init(int depth) {\r\n        Dimension d = null;\r\n        for (int i = 0; i &lt; depth; i++) {\r\n            d = new Dimension(d);\r\n        }\r\n        return d;\r\n    }\r\n}\r\n```\r\nIt is also possible to make `nextDimension` mutable if needed.","title":"How to create Multidimensional arraylist in Java dynamically?","body":"<p>I would create a wrapper like a <code>LinkedList</code> with its next dimension as a member as well as the data:</p>\n<pre><code>public final class Dimension {\n\n    private final List&lt;Integer&gt; data = new ArrayList&lt;&gt;();\n    private final Dimension nextDimension;\n\n    public Dimension(Dimension next) {\n        this.nextDimension = next;\n    }\n\n    public static Dimension init(int depth) {\n        Dimension d = null;\n        for (int i = 0; i &lt; depth; i++) {\n            d = new Dimension(d);\n        }\n        return d;\n    }\n}\n</code></pre>\n<p>It is also possible to make <code>nextDimension</code> mutable if needed.</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653047853,"creation_date":1653045861,"question_id":72318149,"body_markdown":"&gt;***I know there is a [similar question.][1]&lt;br&gt;\r\nBut the question I have here is different.***\r\n\r\nMy problem I have is about on how to create a Multi-dimensional ArrayList.\r\nI know like for 2 dimensions I can do this\r\n```java\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; dim2 = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n```\r\n\r\nAnd I can keep on adding the dimensions like that. But for an array like that can be managable until 3 or 4 dimensions. (Readability will decrease if keep on doing that)\r\n\r\nIs there any way or any class such that I can declare the dimensions of the ArrayList dynamically. I mean that the dimensions of the array should be declared at run time.&lt;br&gt;\r\nThe above mentioned 2+ dimensional array is hard coded.\r\n\r\nHow can I achieve dynamic dimension declaration?\r\n\r\n  [1]: https://stackoverflow.com/questions/4401850/how-to-create-a-multidimensional-arraylist-in-java","title":"How to create Multidimensional arraylist in Java dynamically?","body":"<blockquote>\n<p><em><strong>I know there is a <a href=\"https://stackoverflow.com/questions/4401850/how-to-create-a-multidimensional-arraylist-in-java\">similar question.</a><br>\nBut the question I have here is different.</strong></em></p>\n</blockquote>\n<p>My problem I have is about on how to create a Multi-dimensional ArrayList.\nI know like for 2 dimensions I can do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dim2 = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n</code></pre>\n<p>And I can keep on adding the dimensions like that. But for an array like that can be managable until 3 or 4 dimensions. (Readability will decrease if keep on doing that)</p>\n<p>Is there any way or any class such that I can declare the dimensions of the ArrayList dynamically. I mean that the dimensions of the array should be declared at run time.<br>\nThe above mentioned 2+ dimensional array is hard coded.</p>\n<p>How can I achieve dynamic dimension declaration?</p>\n"},{"tags":["java","command","rmdir"],"comments":[{"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"score":1,"creation_date":1522168942,"post_id":49518275,"comment_id":86042084,"body_markdown":"Possible duplicate of [How to delete a folder with files using Java](https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java\">How to delete a folder with files using Java</a>"},{"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"score":0,"creation_date":1522169007,"post_id":49518275,"comment_id":86042126,"body_markdown":"You shouldn&#39; use commands for that, java already provides that funtionality (in a multiplatform way).","body":"You shouldn&#39; use commands for that, java already provides that funtionality (in a multiplatform way)."},{"owner":{"account_id":12273189,"reputation":115,"user_id":8957812,"display_name":"FX_Programmer"},"score":0,"creation_date":1522169071,"post_id":49518275,"comment_id":86042148,"body_markdown":"That doesn&#39;t serves my purpose I tried many thing but it does not delete a locked file!","body":"That doesn&#39;t serves my purpose I tried many thing but it does not delete a locked file!"},{"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"score":0,"creation_date":1522169222,"post_id":49518275,"comment_id":86042236,"body_markdown":"In you question you didn&#39;t even mention that you were trying to delete a locked file","body":"In you question you didn&#39;t even mention that you were trying to delete a locked file"},{"owner":{"account_id":12273189,"reputation":115,"user_id":8957812,"display_name":"FX_Programmer"},"score":0,"creation_date":1522169358,"post_id":49518275,"comment_id":86042319,"body_markdown":"but the exception does not care about whether the file is locked or not. It says &quot;The system cannot find the file specified&quot;","body":"but the exception does not care about whether the file is locked or not. It says &quot;The system cannot find the file specified&quot;"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1522171746,"post_id":49518275,"comment_id":86043584,"body_markdown":"The real issue is that `del`, `rd` and `rmdir` are shell commands implemented within `cmd.exe` and do not have executable counterparts in Windows.  They will also fail if the file is locked, although it&#39;s not exactly clear what you mean by &quot;locked&quot;.","body":"The real issue is that <code>del</code>, <code>rd</code> and <code>rmdir</code> are shell commands implemented within <code>cmd.exe</code> and do not have executable counterparts in Windows.  They will also fail if the file is locked, although it&#39;s not exactly clear what you mean by &quot;locked&quot;."}],"answers":[{"tags":[],"owner":{"account_id":15926709,"reputation":55,"user_id":11492153,"display_name":"Hodiya Eyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653047380,"creation_date":1653047380,"answer_id":72318478,"question_id":49518275,"body_markdown":"You can use: &quot;cmd /c rmdir &lt;folder-fukk-path&gt; /Q /S&quot;.\r\n\r\nThe system tries to run rmdir.exe and then you get this failure.","title":"Deleting a folder structure from java","body":"<p>You can use: &quot;cmd /c rmdir  /Q /S&quot;.</p>\n<p>The system tries to run rmdir.exe and then you get this failure.</p>\n"}],"owner":{"account_id":12273189,"reputation":115,"user_id":8957812,"display_name":"FX_Programmer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1653047380,"creation_date":1522168841,"question_id":49518275,"body_markdown":"I am finding an issue while deleting a folder from Java. I used following commands without luck. However, I am able to delete folder through command prompt using Windows 8.1:\r\n\r\n    String command1=&quot;rd /s /q&quot;+Path;\r\n    String command2=&quot;rmdir /s /q \\&quot;&quot;+Path+ &quot;\\&quot;&quot;;\r\n    String command3=&quot;del /q \\&quot;&quot;+Path+ &quot;/*\\&quot;&quot;;\r\n\r\nThe exception I get in all the three cases is:\r\n \r\n&gt; java.io.IOException: Cannot run program &quot;rmdir&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:620)\r\n\tat java.lang.Runtime.exec(Runtime.java:450)\r\n\tat java.lang.Runtime.exec(Runtime.java:388)\r\n\r\nUsing Code:\r\n        \r\n    try {\r\n        Process process = Runtime.getRuntime().exec(command);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nP.S.: Its a locked file ","title":"Deleting a folder structure from java","body":"<p>I am finding an issue while deleting a folder from Java. I used following commands without luck. However, I am able to delete folder through command prompt using Windows 8.1:</p>\n\n<pre><code>String command1=\"rd /s /q\"+Path;\nString command2=\"rmdir /s /q \\\"\"+Path+ \"\\\"\";\nString command3=\"del /q \\\"\"+Path+ \"/*\\\"\";\n</code></pre>\n\n<p>The exception I get in all the three cases is:</p>\n\n<blockquote>\n  <p>java.io.IOException: Cannot run program \"rmdir\": CreateProcess error=2, The system cannot find the file specified\n      at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n      at java.lang.Runtime.exec(Runtime.java:620)\n      at java.lang.Runtime.exec(Runtime.java:450)\n      at java.lang.Runtime.exec(Runtime.java:388)</p>\n</blockquote>\n\n<p>Using Code:</p>\n\n<pre><code>try {\n    Process process = Runtime.getRuntime().exec(command);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>P.S.: Its a locked file </p>\n"},{"tags":["java","spring","junit","integration-testing"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653045621,"post_id":72317965,"comment_id":127760724,"body_markdown":"Your tests are running in parallel, it might be difficult to remove data before this test as some other parallel running test can update table. Please give some more information like database &amp; what you exactly mean by running tests parallel,","body":"Your tests are running in parallel, it might be difficult to remove data before this test as some other parallel running test can update table. Please give some more information like database &amp; what you exactly mean by running tests parallel,"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1653045809,"post_id":72317965,"comment_id":127760788,"body_markdown":"Using a PostgreSQL database, and by parallel  I&#39;m using the option setMaxParallelForks on gradle to run multiple tests","body":"Using a PostgreSQL database, and by parallel  I&#39;m using the option setMaxParallelForks on gradle to run multiple tests"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653047294,"creation_date":1653047294,"answer_id":72318450,"question_id":72317965,"body_markdown":"You can use `BeforeEach` annotation within Junit class:\r\n\r\n\r\n    @BeforeEach\r\n    void foo() {\r\n        clearDBrows();\r\n    }\r\n\r\n    void clearDBrows(){\r\n    //clear db rows \r\n    ..\r\n    }\r\n\r\nThis is by considering, your other test&#39;s wont really care if db table rows get cleared before execution as `@BeforeEach` will get executed for every tests you run.","title":"Parallel integration tests handle database counts","body":"<p>You can use <code>BeforeEach</code> annotation within Junit class:</p>\n<pre><code>@BeforeEach\nvoid foo() {\n    clearDBrows();\n}\n\nvoid clearDBrows(){\n//clear db rows \n..\n}\n</code></pre>\n<p>This is by considering, your other test's wont really care if db table rows get cleared before execution as <code>@BeforeEach</code> will get executed for every tests you run.</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653047294,"creation_date":1653044989,"question_id":72317965,"body_markdown":"I&#39;m running my integration tests in parallel but I have one tests that counts the number of rows in one table but the number can vary depending on many tests have run before that tests runs.\r\n\r\nIs there any mechanism in Spring or Junit that would allow me to make sure that when that tests runs that table is clean so that the count would always be 1? \r\n\r\nThanks","title":"Parallel integration tests handle database counts","body":"<p>I'm running my integration tests in parallel but I have one tests that counts the number of rows in one table but the number can vary depending on many tests have run before that tests runs.</p>\n<p>Is there any mechanism in Spring or Junit that would allow me to make sure that when that tests runs that table is clean so that the count would always be 1?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql-server","hibernate","jdbc","nativequery"],"owner":{"account_id":8887590,"reputation":141,"user_id":6635386,"display_name":"LisekKL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653047064,"creation_date":1652949722,"question_id":72301309,"body_markdown":"After updating from JTDS to MSSQL JDBC driver (version 10.2.0.jre8 - hibernate 4.3.11.Final) I&#39;m encountering the following error when trying to pass a null value within a datetime2 parameter used within a native query:\r\n\r\n\r\n&gt; Root Exception stack trace:\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to datetime2 is not allowed. Use the CONVERT function to run this query. \r\n\r\n\r\nIn our app we&#39;re using a hell of a lot of native queries (lots of which invoke functions with parameters) and we use the following way of providing values for the parameters (example query):\r\n\r\n```\r\nString myQueryString = &quot;SELECT * FROM dbo.MY_STORED_FUNC( :str1, :date1, :date2)&quot;;\r\nQuery query = getEntityManager().createNativeQuery(myQueryString);\r\n\r\nquery.setParameter(&quot;str1&quot;, &quot;stringValue&quot;)\r\n\t .setParameter(&quot;date1&quot;, date1)\r\n\t .setParameter(&quot;date2&quot;, date2)\r\n     .getResultList();\r\n```\r\n\r\nThe problem now is that when date1 and/or date2 are null, the driver can&#39;t seem to handle this (which is quite suprising seeing an older driver handled this without issues :/ ). \r\nIt seems to be unable to infer the type of the parameter since the value is null, and somehow treats this as varbinary. The db allows null&#39;s for the parameters - we can invoke the function with passing null and all works fine - as long as we don&#39;t do it with the JDBC driver :) \r\n\r\nI&#39;ve been searching through this and found some potential solutions:\r\n\r\n1. Do the nullchecking before passing the parameter - in case of null pass empty string\r\n\r\nThis seems quite &#39;ugly&#39;, but in general it works:\r\n```\r\n.setParameter(&quot;date1&quot;, date1 == null ? &quot;&quot; : date1)\r\n```\r\nThe problem I have with this solution is that it provides a fix for that specific query invocation - but our app is riddled with this type of queries with potential null datetime2 parameters and it&#39;s almost impossible to go over all of them. Same goes for switching to JPA repo&#39;s - **I need to find a generic solution that will work globally for the app without the need to adjust queries or specific setParameter() invocations.** \r\n\r\n2. I also found a suggestion to use the TemporalType within the setParameter() method to tell the driver exactly which type should be used - this however didn&#39;t work at all. When using the following code I keep getting the following error - meaning it didn&#39;t do anything for the null handling: (Doesn&#39;t matter which temporalType we use - it&#39;s the same for all)\r\n\r\n```\r\n.setParameter(&quot;to&quot;, to, TemporalType.DATE)\r\n```\r\n\r\n```\r\nUnexpected type [null] passed with TemporalType; expecting Date or Calendar\r\n```\r\n\r\n3. Using a typed parameter directly\r\nI also found this solution but again - results in the same error :/\r\n```\r\nParameter&lt;Date&gt; paramDate1 = query.getParameter(&quot;date1&quot;, Date.class);\r\nParameter&lt;Date&gt; paramDate2 = query.getParameter(&quot;date2&quot;, Date.class);\r\n\r\n...\r\n\r\n.setParameter(paramFrom, from)\r\n.setParameter(paramTo, to)\r\n\r\n```\r\n\r\nError:\r\n\r\n&gt; Root Exception stack trace:\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to datetime2 is not allowed. Use the CONVERT function to run this query.\r\n\r\n\r\nSince we needed to use a custom dialect anyways to fix the NVARCHAR (-9) JDBC mapping, I was hoping I could maybe do it through here - but hardcore things like even forcing a VARBINARY to STRING/CHARACTER mapping didn&#39;t work and I&#39;m out of ideas... \r\n\r\n```\r\npublic class MSSQLDialect extends SQLServer2012Dialect {\r\n\r\n\tpublic MSSQLDialect() {\r\n\t\tsuper();\r\n\t\tregisterHibernateType(Types.NCHAR, StandardBasicTypes.CHARACTER.getName());\r\n\t\tregisterHibernateType(Types.NCHAR, 1, StandardBasicTypes.CHARACTER.getName());\r\n\t\tregisterHibernateType(Types.NCHAR, 255, StandardBasicTypes.STRING.getName());\r\n\t\tregisterHibernateType(Types.NVARCHAR, StandardBasicTypes.STRING.getName());\r\n\t\tregisterHibernateType(Types.LONGNVARCHAR, StandardBasicTypes.TEXT.getName());\r\n\t\tregisterHibernateType(Types.NCLOB, StandardBasicTypes.CLOB.getName());\r\n\t\tregisterHibernateType(Types.VARBINARY, StandardBasicTypes.CHARACTER.getName());\r\n\t\tregisterHibernateType(Types.NULL, StandardBasicTypes.STRING.getName());\r\n\t}\r\n}\r\n```\r\nHow is this not working in newer drivers but is handled well in older JTDS?","title":"JDBC Driver - how to pass null datetime2 value as parameter to native query?","body":"<p>After updating from JTDS to MSSQL JDBC driver (version 10.2.0.jre8 - hibernate 4.3.11.Final) I'm encountering the following error when trying to pass a null value within a datetime2 parameter used within a native query:</p>\n<blockquote>\n<p>Root Exception stack trace:\ncom.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to datetime2 is not allowed. Use the CONVERT function to run this query.</p>\n</blockquote>\n<p>In our app we're using a hell of a lot of native queries (lots of which invoke functions with parameters) and we use the following way of providing values for the parameters (example query):</p>\n<pre><code>String myQueryString = &quot;SELECT * FROM dbo.MY_STORED_FUNC( :str1, :date1, :date2)&quot;;\nQuery query = getEntityManager().createNativeQuery(myQueryString);\n\nquery.setParameter(&quot;str1&quot;, &quot;stringValue&quot;)\n     .setParameter(&quot;date1&quot;, date1)\n     .setParameter(&quot;date2&quot;, date2)\n     .getResultList();\n</code></pre>\n<p>The problem now is that when date1 and/or date2 are null, the driver can't seem to handle this (which is quite suprising seeing an older driver handled this without issues :/ ).\nIt seems to be unable to infer the type of the parameter since the value is null, and somehow treats this as varbinary. The db allows null's for the parameters - we can invoke the function with passing null and all works fine - as long as we don't do it with the JDBC driver :)</p>\n<p>I've been searching through this and found some potential solutions:</p>\n<ol>\n<li>Do the nullchecking before passing the parameter - in case of null pass empty string</li>\n</ol>\n<p>This seems quite 'ugly', but in general it works:</p>\n<pre><code>.setParameter(&quot;date1&quot;, date1 == null ? &quot;&quot; : date1)\n</code></pre>\n<p>The problem I have with this solution is that it provides a fix for that specific query invocation - but our app is riddled with this type of queries with potential null datetime2 parameters and it's almost impossible to go over all of them. Same goes for switching to JPA repo's - <strong>I need to find a generic solution that will work globally for the app without the need to adjust queries or specific setParameter() invocations.</strong></p>\n<ol start=\"2\">\n<li>I also found a suggestion to use the TemporalType within the setParameter() method to tell the driver exactly which type should be used - this however didn't work at all. When using the following code I keep getting the following error - meaning it didn't do anything for the null handling: (Doesn't matter which temporalType we use - it's the same for all)</li>\n</ol>\n<pre><code>.setParameter(&quot;to&quot;, to, TemporalType.DATE)\n</code></pre>\n<pre><code>Unexpected type [null] passed with TemporalType; expecting Date or Calendar\n</code></pre>\n<ol start=\"3\">\n<li>Using a typed parameter directly\nI also found this solution but again - results in the same error :/</li>\n</ol>\n<pre><code>Parameter&lt;Date&gt; paramDate1 = query.getParameter(&quot;date1&quot;, Date.class);\nParameter&lt;Date&gt; paramDate2 = query.getParameter(&quot;date2&quot;, Date.class);\n\n...\n\n.setParameter(paramFrom, from)\n.setParameter(paramTo, to)\n\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>Root Exception stack trace:\ncom.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to datetime2 is not allowed. Use the CONVERT function to run this query.</p>\n</blockquote>\n<p>Since we needed to use a custom dialect anyways to fix the NVARCHAR (-9) JDBC mapping, I was hoping I could maybe do it through here - but hardcore things like even forcing a VARBINARY to STRING/CHARACTER mapping didn't work and I'm out of ideas...</p>\n<pre><code>public class MSSQLDialect extends SQLServer2012Dialect {\n\n    public MSSQLDialect() {\n        super();\n        registerHibernateType(Types.NCHAR, StandardBasicTypes.CHARACTER.getName());\n        registerHibernateType(Types.NCHAR, 1, StandardBasicTypes.CHARACTER.getName());\n        registerHibernateType(Types.NCHAR, 255, StandardBasicTypes.STRING.getName());\n        registerHibernateType(Types.NVARCHAR, StandardBasicTypes.STRING.getName());\n        registerHibernateType(Types.LONGNVARCHAR, StandardBasicTypes.TEXT.getName());\n        registerHibernateType(Types.NCLOB, StandardBasicTypes.CLOB.getName());\n        registerHibernateType(Types.VARBINARY, StandardBasicTypes.CHARACTER.getName());\n        registerHibernateType(Types.NULL, StandardBasicTypes.STRING.getName());\n    }\n}\n</code></pre>\n<p>How is this not working in newer drivers but is handled well in older JTDS?</p>\n"},{"tags":["java","spring","mongodb","aggregation"],"answers":[{"tags":[],"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652846942,"creation_date":1652846942,"answer_id":72283097,"question_id":72280839,"body_markdown":"There is a problem with your annotation\r\n\r\nYou have used\r\n\r\n`&quot;user_id: ?2&quot; +`\r\n\r\nbut `user_id` is a 4th param then you need to use\r\n\r\n`&quot;user_id: ?3&quot; +`","title":"Aggregation Annotation Not Working It is Returning Empty","body":"<p>There is a problem with your annotation</p>\n<p>You have used</p>\n<p><code>&quot;user_id: ?2&quot; +</code></p>\n<p>but <code>user_id</code> is a 4th param then you need to use</p>\n<p><code>&quot;user_id: ?3&quot; +</code></p>\n"},{"tags":[],"owner":{"account_id":21170395,"reputation":77,"user_id":15566838,"display_name":"ricxk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653046689,"creation_date":1652877257,"answer_id":72289273,"question_id":72280839,"body_markdown":"After [Gibbs answer][1] I had an idea (to check if query was executing the correct variables) and I found the problem, but it was in my **@Document** collection name.\r\n\r\nFirst I added Query Logs on my console application to see if it was working well, and It was!\r\n\r\nTo check logs I Added this line on my *application.properties*\r\n`logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG`\r\n\r\nAnd I saw that Query was correct by log, but the collection name that the Query executing was incorrect, It was executing on **messagesUser** instead **messagesuser**, so I changed the collection name in my **Entity MessagesUser** and it worked.\r\n\r\n**After (It solved and It&#39;s Working)**\r\n\r\n    @Document(collection=&quot;messagesuser&quot;)\r\n    public class MessagesUser{\r\n    \r\n        public MessagesUser(String user_id, Long time) {\r\n            this.user_id = user_id;\r\n            this.time = time;\r\n        }\r\n    // [continuation of the entity code...]\r\n\r\n**Before (It wasn&#39;t working)**\r\n\r\n    @Document\r\n    public class MessagesUser{\r\n    \r\n        public MessagesUser(String user_id, Long time) {\r\n            this.user_id = user_id;\r\n            this.time = time;\r\n        }\r\n    // [continuation of the entity code...]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72283097","title":"Aggregation Annotation Not Working It is Returning Empty","body":"<p>After <a href=\"https://stackoverflow.com/a/72283097\">Gibbs answer</a> I had an idea (to check if query was executing the correct variables) and I found the problem, but it was in my <strong>@Document</strong> collection name.</p>\n<p>First I added Query Logs on my console application to see if it was working well, and It was!</p>\n<p>To check logs I Added this line on my <em>application.properties</em>\n<code>logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG</code></p>\n<p>And I saw that Query was correct by log, but the collection name that the Query executing was incorrect, It was executing on <strong>messagesUser</strong> instead <strong>messagesuser</strong>, so I changed the collection name in my <strong>Entity MessagesUser</strong> and it worked.</p>\n<p><strong>After (It solved and It's Working)</strong></p>\n<pre><code>@Document(collection=&quot;messagesuser&quot;)\npublic class MessagesUser{\n\n    public MessagesUser(String user_id, Long time) {\n        this.user_id = user_id;\n        this.time = time;\n    }\n// [continuation of the entity code...]\n</code></pre>\n<p><strong>Before (It wasn't working)</strong></p>\n<pre><code>@Document\npublic class MessagesUser{\n\n    public MessagesUser(String user_id, Long time) {\n        this.user_id = user_id;\n        this.time = time;\n    }\n// [continuation of the entity code...]\n</code></pre>\n"}],"owner":{"account_id":21170395,"reputation":77,"user_id":15566838,"display_name":"ricxk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72289273,"answer_count":2,"score":-1,"last_activity_date":1653046689,"creation_date":1652822751,"question_id":72280839,"body_markdown":"I am trying to make this Aggregation bellow using Spring Java, but it&#39;s returning an **Empty List** on my console. This is working on MongoDB, but not on my spring application.\r\n\r\nThis is my MongoDB Query:\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        $match: {\r\n          $and: [\r\n            {\r\n              user_id: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\r\n            },\r\n            {\r\n              time: {\r\n                $gte: 1622471890,\r\n                $lt: 1822471890\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        $sort: {\r\n          time: -1\r\n        }\r\n      }\r\n    ])\r\n\r\nIt&#39;s return me 2 results:\r\n\r\n    [\r\n      {\r\n        &quot;_id&quot;: ObjectId(&quot;5a934e000102030405000001&quot;),\r\n        &quot;message&quot;: &quot;This is an example of my db (1)&quot;,\r\n        &quot;time&quot;: 1.62247189e+09,\r\n        &quot;user_id&quot;: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\r\n      },\r\n      {\r\n        &quot;_id&quot;: ObjectId(&quot;5a934e000102030405000002&quot;),\r\n        &quot;message&quot;: &quot;This is an example of my db (2)&quot;,\r\n        &quot;time&quot;: 1.62247189e+09,\r\n        &quot;user_id&quot;: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\r\n      }\r\n    ]\r\n\r\nMy Problem is when I do this using Mongo with Spring Java:\r\n\r\n**My Repository**\r\n\r\n\t@Aggregation(pipeline = {\r\n\t\t&quot;{&quot; +\r\n\t\t    &quot;$match: {&quot; +\r\n\t\t      &quot;$and: [&quot; +\r\n\t\t        &quot;{&quot; +\r\n\t\t          &quot;user_id: ?2&quot; +\r\n\t\t        &quot;},&quot; +\r\n\t\t        &quot;{&quot; +\r\n\t\t          &quot;time: {&quot; +\r\n\t\t            &quot;$gte: ?0,&quot; +\r\n\t\t            &quot;$lt: ?1&quot; +\r\n\t\t          &quot;}&quot; +\r\n\t\t        &quot;}&quot; +\r\n\t\t      &quot;]&quot; +\r\n\t\t    &quot;}&quot; +\r\n\t\t  &quot;}&quot;,\r\n\t\t  &quot;{&quot; +\r\n\t\t    &quot;$sort: {&quot; +\r\n\t\t      &quot;time: -1&quot; +\r\n\t\t    &quot;}&quot; +\r\n\t\t&quot;}&quot;\r\n\t})\r\n    List&lt;MessagesUser&gt; findByPeriodAndUserIdPaginated(long from, long to, String user_id, Pageable pageable);\r\n\r\n**A part of My Service**\r\n\r\n    @Override\r\n    public Page&lt;MessagesUser&gt; findAllBetween(Date from, Date to, Pageable page, String user_id) {\r\n\r\n        List&lt;MessagesUser&gt; messagesUserList = messagesUserRepository.findByPeriodAndUserIdPaginated(from.getTime() / 1000, to.getTime() / 1000, user_id, page);\r\n        \r\n        System.out.println(&quot;messagesUserList: &quot;);\r\n        System.out.println(messagesUserList); // It is the empty list\r\n\r\nThis Java Query Repository is returning to me an empty array instead of my 2 values. You should see the **Dataset** and an example working well on MongoDB Query here: [Mongo playground][1]\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/fthIBgno_zi","title":"Aggregation Annotation Not Working It is Returning Empty","body":"<p>I am trying to make this Aggregation bellow using Spring Java, but it's returning an <strong>Empty List</strong> on my console. This is working on MongoDB, but not on my spring application.</p>\n<p>This is my MongoDB Query:</p>\n<pre><code>db.collection.aggregate([\n  {\n    $match: {\n      $and: [\n        {\n          user_id: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\n        },\n        {\n          time: {\n            $gte: 1622471890,\n            $lt: 1822471890\n          }\n        }\n      ]\n    }\n  },\n  {\n    $sort: {\n      time: -1\n    }\n  }\n])\n</code></pre>\n<p>It's return me 2 results:</p>\n<pre><code>[\n  {\n    &quot;_id&quot;: ObjectId(&quot;5a934e000102030405000001&quot;),\n    &quot;message&quot;: &quot;This is an example of my db (1)&quot;,\n    &quot;time&quot;: 1.62247189e+09,\n    &quot;user_id&quot;: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\n  },\n  {\n    &quot;_id&quot;: ObjectId(&quot;5a934e000102030405000002&quot;),\n    &quot;message&quot;: &quot;This is an example of my db (2)&quot;,\n    &quot;time&quot;: 1.62247189e+09,\n    &quot;user_id&quot;: &quot;256f5280-fb49-4ad6-b7f5-65c4329d46e0&quot;\n  }\n]\n</code></pre>\n<p>My Problem is when I do this using Mongo with Spring Java:</p>\n<p><strong>My Repository</strong></p>\n<pre><code>@Aggregation(pipeline = {\n    &quot;{&quot; +\n        &quot;$match: {&quot; +\n          &quot;$and: [&quot; +\n            &quot;{&quot; +\n              &quot;user_id: ?2&quot; +\n            &quot;},&quot; +\n            &quot;{&quot; +\n              &quot;time: {&quot; +\n                &quot;$gte: ?0,&quot; +\n                &quot;$lt: ?1&quot; +\n              &quot;}&quot; +\n            &quot;}&quot; +\n          &quot;]&quot; +\n        &quot;}&quot; +\n      &quot;}&quot;,\n      &quot;{&quot; +\n        &quot;$sort: {&quot; +\n          &quot;time: -1&quot; +\n        &quot;}&quot; +\n    &quot;}&quot;\n})\nList&lt;MessagesUser&gt; findByPeriodAndUserIdPaginated(long from, long to, String user_id, Pageable pageable);\n</code></pre>\n<p><strong>A part of My Service</strong></p>\n<pre><code>@Override\npublic Page&lt;MessagesUser&gt; findAllBetween(Date from, Date to, Pageable page, String user_id) {\n\n    List&lt;MessagesUser&gt; messagesUserList = messagesUserRepository.findByPeriodAndUserIdPaginated(from.getTime() / 1000, to.getTime() / 1000, user_id, page);\n    \n    System.out.println(&quot;messagesUserList: &quot;);\n    System.out.println(messagesUserList); // It is the empty list\n</code></pre>\n<p>This Java Query Repository is returning to me an empty array instead of my 2 values. You should see the <strong>Dataset</strong> and an example working well on MongoDB Query here: <a href=\"https://mongoplayground.net/p/fthIBgno_zi\" rel=\"nofollow noreferrer\">Mongo playground</a></p>\n"},{"tags":["java","spring-boot","tomcat","swagger-ui","openapi"],"comments":[{"owner":{"account_id":15621868,"reputation":211,"user_id":11270463,"display_name":"Mohamed Mamun"},"score":1,"creation_date":1652480964,"post_id":72235851,"comment_id":127625096,"body_markdown":"Could you share the POST endpoint and the request from swagger?","body":"Could you share the POST endpoint and the request from swagger?"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1652738890,"post_id":72235851,"comment_id":127674494,"body_markdown":"by default post are blocked due to CSRF. GET is allowed.","body":"by default post are blocked due to CSRF. GET is allowed."},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1652998344,"post_id":72235851,"comment_id":127750269,"body_markdown":"And how can I solve this CSRF issue  ? an example would be great","body":"And how can I solve this CSRF issue  ? an example would be great"}],"answers":[{"tags":[],"owner":{"account_id":7047349,"reputation":470,"user_id":5397752,"accept_rate":100,"display_name":"nicowi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653046662,"creation_date":1652737999,"answer_id":72266020,"question_id":72235851,"body_markdown":"Try to add a SecurityConfig which inherits from WebSecurityConfigurerAdapter. Example is [here][1].\r\n&lt;br&gt;\r\nWith the method configure you can set the access to specific url-endpoints and allow the call on them.\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate CustomAuthenticationProvider authProvider;\r\n    \r\n    \t@Autowired\r\n    \tpublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(authProvider).eraseCredentials(false);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.httpBasic().and().authorizeRequests().antMatchers(&quot;**apiEndpoint**&quot;).authenticated()\r\n    \t\t\t\t.and().csrf().disable().headers().frameOptions().disable().and().sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n    \t\t// Deactivate authorization for whole application\r\n    //        http.authorizeHttpRequests().antMatchers(&quot;/**&quot;).permitAll().and().csrf().disable();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-config-spring-security\r\n\r\n\r\nClass CustomAuthenticationProvider:\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\t@Autowired\r\n\tprivate ICustomerRepository customerRepository;\r\n\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n\t\tString id = authentication.getName().toString();\r\n\t\tString pin = authentication.getCredentials().toString();\r\n\r\n\t\ttry {\r\n\t\t\t// Check if the customer passed in Username exists\r\n\t\t\tCustomerDTO customer = customerRepository.findById(Long.parseLong(id)).orElseThrow();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tthrow new BadCredentialsException(id);\r\n\t\t}\r\n\r\n\t\tCollection&lt;? extends GrantedAuthority&gt; authorities = Collections\r\n\t\t\t\t.singleton(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n\r\n\t\treturn new UsernamePasswordAuthenticationToken(id, pin, authorities);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n\t\treturn authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n\t}\r\n\r\n    }","title":"java spring openApi : swagger request returns status code 403","body":"<p>Try to add a SecurityConfig which inherits from WebSecurityConfigurerAdapter. Example is <a href=\"https://www.baeldung.com/java-config-spring-security\" rel=\"nofollow noreferrer\">here</a>.\n<br>\nWith the method configure you can set the access to specific url-endpoints and allow the call on them.</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomAuthenticationProvider authProvider;\n\n    @Autowired\n    public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authProvider).eraseCredentials(false);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.httpBasic().and().authorizeRequests().antMatchers(&quot;**apiEndpoint**&quot;).authenticated()\n                .and().csrf().disable().headers().frameOptions().disable().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Deactivate authorization for whole application\n//        http.authorizeHttpRequests().antMatchers(&quot;/**&quot;).permitAll().and().csrf().disable();\n    }\n}\n</code></pre>\n<p>Class CustomAuthenticationProvider:</p>\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n@Autowired\nprivate ICustomerRepository customerRepository;\n\n@Override\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n    String id = authentication.getName().toString();\n    String pin = authentication.getCredentials().toString();\n\n    try {\n        // Check if the customer passed in Username exists\n        CustomerDTO customer = customerRepository.findById(Long.parseLong(id)).orElseThrow();\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        throw new BadCredentialsException(id);\n    }\n\n    Collection&lt;? extends GrantedAuthority&gt; authorities = Collections\n            .singleton(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n\n    return new UsernamePasswordAuthenticationToken(id, pin, authorities);\n}\n\n@Override\npublic boolean supports(Class&lt;?&gt; authentication) {\n    return authentication.equals(UsernamePasswordAuthenticationToken.class);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653046662,"creation_date":1652479942,"question_id":72235851,"body_markdown":"I&#39;ve a springboot/openapi application. No dependency on spring security. \r\nWhen launching a POST request via swagger, the returned status is 403.\r\nThe request doesn&#39;t arrive in the controller class.\r\nA Get request however does work and returns a status 200.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe following is configured\r\n\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n            @Bean\r\n            ForwardedHeaderFilter forwardedHeaderFilter() {\r\n                return new ForwardedHeaderFilter();\r\n            }\r\n        \r\n        }\r\n    }\r\n\r\n\r\napplication.yaml\r\n\r\n    server:\r\n      port: 50086\r\n      forward-headers-strategy: framework\r\n      use-forward-headers: true\r\n\r\n\r\nWhat could be the cause of the status 403 ?\r\n\r\n\r\nController\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    @RequestMapping(&quot;/ta&quot;)\r\n    public class TaController {\r\n    \r\n    \t@Operation(summary = &quot;Calculate&quot;)\r\n    \t@RequestMapping(value = &quot;/calculateWithPrices&quot;, method = RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;CaculationResponseDto&gt; calculateWithPrices(@RequestBody CaculationWithPricesRequestDto caculationWithPricesRequestDto) {\r\n    \r\n    \t\t// code ...\r\n    \t\t \r\n  \t}\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vRWlI.png\r\n  [2]: https://i.stack.imgur.com/USHfV.png","title":"java spring openApi : swagger request returns status code 403","body":"<p>I've a springboot/openapi application. No dependency on spring security.\nWhen launching a POST request via swagger, the returned status is 403.\nThe request doesn't arrive in the controller class.\nA Get request however does work and returns a status 200.</p>\n<p><a href=\"https://i.stack.imgur.com/vRWlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRWlI.png\" alt=\"enter image description here\" /></a></p>\n<p>The following is configured</p>\n<pre><code>@Configuration\npublic class Config {\n\n        @Bean\n        ForwardedHeaderFilter forwardedHeaderFilter() {\n            return new ForwardedHeaderFilter();\n        }\n    \n    }\n}\n</code></pre>\n<p>application.yaml</p>\n<pre><code>server:\n  port: 50086\n  forward-headers-strategy: framework\n  use-forward-headers: true\n</code></pre>\n<p>What could be the cause of the status 403 ?</p>\n<p>Controller</p>\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping(&quot;/ta&quot;)\npublic class TaController {\n\n    @Operation(summary = &quot;Calculate&quot;)\n    @RequestMapping(value = &quot;/calculateWithPrices&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;CaculationResponseDto&gt; calculateWithPrices(@RequestBody CaculationWithPricesRequestDto caculationWithPricesRequestDto) {\n\n        // code ...\n         \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/USHfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USHfV.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8662,"page":1330,"page_size":100}
