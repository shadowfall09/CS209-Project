{"items":[{"tags":["java","android","git","android-library","jitpack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674510309,"post_id":75213281,"comment_id":132725739,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"score":0,"creation_date":1674542411,"post_id":75213281,"comment_id":132730341,"body_markdown":"In the jitpack log which i shared above, it is saying build failed, can you please help me regarding the build failure issue?","body":"In the jitpack log which i shared above, it is saying build failed, can you please help me regarding the build failure issue?"},{"owner":{"account_id":2034274,"reputation":9434,"user_id":1817031,"accept_rate":76,"display_name":"Steve M"},"score":0,"creation_date":1674770586,"post_id":75213281,"comment_id":132790228,"body_markdown":"Any known fix for this? I have the same issue","body":"Any known fix for this? I have the same issue"},{"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"score":0,"creation_date":1674875107,"post_id":75213281,"comment_id":132812796,"body_markdown":"Yeah @SteveM fixed it, can you explain what issue you are facing?","body":"Yeah @SteveM fixed it, can you explain what issue you are facing?"},{"owner":{"account_id":11053980,"reputation":200,"user_id":8117352,"display_name":"Bawender Yandra"},"score":0,"creation_date":1676627028,"post_id":75213281,"comment_id":133179331,"body_markdown":"@Peppty Can you please add the fix that you discovered as an answer below, so its evident to others as well ? I am stuck with the same issue as well.","body":"@Peppty Can you please add the fix that you discovered as an answer below, so its evident to others as well ? I am stuck with the same issue as well."}],"answers":[{"tags":[],"owner":{"account_id":1526051,"reputation":11,"user_id":1424469,"display_name":"Juki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675245224,"creation_date":1675245224,"answer_id":75308344,"question_id":75213281,"body_markdown":"I have faced exactly the same problem. \r\n\r\nI suspect the JitPack is not currently supporting Android Gradle Plugin 7.4.0 (Gradle 7.5)\r\n\r\nMy solution is to step back to Android Gradle Plugin 7.3.1 (Gradle 7.4)","title":"Error while uploading my library into jitpack","body":"<p>I have faced exactly the same problem.</p>\n<p>I suspect the JitPack is not currently supporting Android Gradle Plugin 7.4.0 (Gradle 7.5)</p>\n<p>My solution is to step back to Android Gradle Plugin 7.3.1 (Gradle 7.4)</p>\n"},{"tags":[],"owner":{"account_id":11053980,"reputation":200,"user_id":8117352,"display_name":"Bawender Yandra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676628850,"creation_date":1676628850,"answer_id":75482898,"question_id":75213281,"body_markdown":"I recently faced this problem and looking at the error msg from the build logs of jitpack it seems there is a compatibility issue in the dependencies. My project was compiled using JAVA_8 and works fine when run on the local device. It&#39;s only when you publish it the jitpack that it gives this error. \r\n\r\nMy current hypothesis was that there is an internal dependency(I depend on another library and my library is a wrapper for it) and that might be dependent on JAVA_11. \r\n\r\nI upgraded to JAVA_11 and all my issues were resolved, my library is also building now. \r\n\r\n```groovy\r\n   compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    \r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n```","title":"Error while uploading my library into jitpack","body":"<p>I recently faced this problem and looking at the error msg from the build logs of jitpack it seems there is a compatibility issue in the dependencies. My project was compiled using JAVA_8 and works fine when run on the local device. It's only when you publish it the jitpack that it gives this error.</p>\n<p>My current hypothesis was that there is an internal dependency(I depend on another library and my library is a wrapper for it) and that might be dependent on JAVA_11.</p>\n<p>I upgraded to JAVA_11 and all my issues were resolved, my library is also building now.</p>\n<pre><code>   compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    \n    kotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7440627,"reputation":33,"user_id":5658506,"display_name":"Jubayar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677132108,"creation_date":1677132036,"answer_id":75541093,"question_id":75213281,"body_markdown":"Create a jitpack.yml file in project root folder.\r\nThen past the script on the file :-\r\n\r\n    jdk:\r\n      - openjdk11\r\n\r\n\r\nNow it will work. ","title":"Error while uploading my library into jitpack","body":"<p>Create a jitpack.yml file in project root folder.\nThen past the script on the file :-</p>\n<pre><code>jdk:\n  - openjdk11\n</code></pre>\n<p>Now it will work.</p>\n"},{"tags":[],"owner":{"account_id":15123026,"reputation":513,"user_id":10913282,"display_name":"D.A.C. Nupun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693642526,"creation_date":1693642526,"answer_id":77027488,"question_id":75213281,"body_markdown":"check is uploaded `gradle-wrapper.jar` in your repository ","title":"Error while uploading my library into jitpack","body":"<p>check is uploaded <code>gradle-wrapper.jar</code> in your repository</p>\n"}],"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1693642526,"creation_date":1674496645,"question_id":75213281,"body_markdown":"Am trying to publish my app into jitpack from git, the library working locally well in android java, but not working once uploaded to jitpack.\r\n\r\njipack log is in red color icon.\r\n\r\nAfter implementing the library dependency on a test app, the test app is not showing classes from the library\r\n\r\n*build.gradle(:app)\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.v.ad.vadenhancer&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.v.ad.vadenhancer&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation project(path: &#39;:vadenhancer&#39;)\r\n}\r\n```\r\n\r\n*build.gradle(:vadenhancer)\r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.v.ad.vadenhancer&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        minSdk 24\r\n        targetSdk 33\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n*build.gradle(vadenhancer)\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;maven-publish&#39;\r\n}\r\n```\r\n\r\n*ERROR FROM JITPACK LOG\r\n```\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n```\r\n\r\n\r\n\r\n*full log from jitpack\r\n\r\n```\r\nBuild starting...\r\nStart: Tue Jan 24 07:48:22 UTC 2023 90b06352ee1a\r\nGit:\r\n1.0.4-0-gdd26802\r\ncommit dd26802417a27cd909e295e139210ce5e6d3d71b\r\nAuthor: Peppty \r\nDate:   Tue Jan 24 13:16:56 2023 +0530\r\n\r\n    v1.0.4\r\n\r\n\r\nInit SDKMan\r\nSetting up auth\r\nFound Android manifest\r\nAndroid SDK version: . Build tools: \r\nFound gradle\r\nGradle build script\r\nFound gradle version: 7.5.\r\nUsing gradle wrapper\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nDownloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\r\n\r\n------------------------------------------------------------\r\nGradle 7.5\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-07-14 12:48:15 UTC\r\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\r\n\r\nKotlin:       1.6.21\r\nGroovy:       3.0.10\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_292 (Private Build 25.292-b10)\r\nOS:           Linux 4.14.63-xxxx-std-ipv6-64 amd64\r\n\r\n0m2.994s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\nGetting tasks: ./gradlew tasks --all\r\nTasks: \r\n\r\n ⚠️   WARNING:\r\n Gradle &#39;publishToMavenLocal&#39; task not found. Please add the &#39;maven-publish&#39; or &#39;maven&#39; plugin.\r\n See the documentation and examples: https://docs.jitpack.io\r\n\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 628ms\r\nRunning: ./gradlew -Pgroup=com.github.peppty-dev -Pversion=1.0.4 publishToMavenLocal\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 427ms\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 544ms\r\nBuild tool exit code: 0\r\nLooking for artifacts...\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nLooking for pom.xml in build directory and ~/.m2\r\n2023-01-24T07:48:38.150900695Z\r\nExit code: 0\r\n\r\n⚠️ ERROR: No build artifacts found\r\n```","title":"Error while uploading my library into jitpack","body":"<p>Am trying to publish my app into jitpack from git, the library working locally well in android java, but not working once uploaded to jitpack.</p>\n<p>jipack log is in red color icon.</p>\n<p>After implementing the library dependency on a test app, the test app is not showing classes from the library</p>\n<p>*build.gradle(:app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'com.v.ad.vadenhancer'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.v.ad.vadenhancer&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation project(path: ':vadenhancer')\n}\n</code></pre>\n<p>*build.gradle(:vadenhancer)</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'com.v.ad.vadenhancer'\n    compileSdk 33\n\n    defaultConfig {\n        minSdk 24\n        targetSdk 33\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>*build.gradle(vadenhancer)</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n    id 'maven-publish'\n}\n</code></pre>\n<p>*ERROR FROM JITPACK LOG</p>\n<pre><code>A problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n</code></pre>\n<p>*full log from jitpack</p>\n<pre><code>Build starting...\nStart: Tue Jan 24 07:48:22 UTC 2023 90b06352ee1a\nGit:\n1.0.4-0-gdd26802\ncommit dd26802417a27cd909e295e139210ce5e6d3d71b\nAuthor: Peppty \nDate:   Tue Jan 24 13:16:56 2023 +0530\n\n    v1.0.4\n\n\nInit SDKMan\nSetting up auth\nFound Android manifest\nAndroid SDK version: . Build tools: \nFound gradle\nGradle build script\nFound gradle version: 7.5.\nUsing gradle wrapper\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nDownloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\n\n------------------------------------------------------------\nGradle 7.5\n------------------------------------------------------------\n\nBuild time:   2022-07-14 12:48:15 UTC\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_292 (Private Build 25.292-b10)\nOS:           Linux 4.14.63-xxxx-std-ipv6-64 amd64\n\n0m2.994s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\nGetting tasks: ./gradlew tasks --all\nTasks: \n\n ⚠️   WARNING:\n Gradle 'publishToMavenLocal' task not found. Please add the 'maven-publish' or 'maven' plugin.\n See the documentation and examples: https://docs.jitpack.io\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 628ms\nRunning: ./gradlew -Pgroup=com.github.peppty-dev -Pversion=1.0.4 publishToMavenLocal\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 427ms\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 544ms\nBuild tool exit code: 0\nLooking for artifacts...\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nLooking for pom.xml in build directory and ~/.m2\n2023-01-24T07:48:38.150900695Z\nExit code: 0\n\n⚠️ ERROR: No build artifacts found\n</code></pre>\n"},{"tags":["java","excel"],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386546195,"creation_date":1386484850,"answer_id":20450642,"question_id":20450232,"body_markdown":"If your file `email.txt` Always has the format you said:\r\n\r\n    Name: John\r\n    phone: (xxx) xxx-xxxx\r\n\r\nI&#39;m not familiarized with the row and cell creation, so I will give you some pseudo code to you understand what you have to do on your code:\r\n\r\nOn this part of your code:\r\n\r\n    //create a count for rows here\r\n    inr rowNumber = 0;\r\n    //Here you are reading your list with all data readed\r\n    for(int i=0;i&lt;arr.size()-1;i+=2){ //the -1 is for the array to stop on the \r\n                                     //last but one row\r\n\r\n        row = spreadSheet.createRow((short) rowNumber); //external count\r\n        \r\n        //pseudocode from here\r\n        cell1 = row.createCell(0); \r\n        cell2 = row.createCell(1); \r\n                \r\n        cell1.setCellValue(  arr.get(i).substring(arr.get(i).indexOf(&quot;:&quot;)+1) );\r\n                                  // ^ this is for name\r\n        cell2.setCellValue(  arr.get(i+1).substring(arr.get(i+1).indexOf(&quot;:&quot;)+1) );\r\n                                   // ^ this is for phone\r\n\r\n        rowNumber++; //increment your rowNumber\r\n    }","title":"How do i get data from a txt file and send it to excel spreadsheet?(I only want everything after the &quot;:&quot; in the txt file)?","body":"<p>If your file <code>email.txt</code> Always has the format you said:</p>\n\n<pre><code>Name: John\nphone: (xxx) xxx-xxxx\n</code></pre>\n\n<p>I'm not familiarized with the row and cell creation, so I will give you some pseudo code to you understand what you have to do on your code:</p>\n\n<p>On this part of your code:</p>\n\n<pre><code>//create a count for rows here\ninr rowNumber = 0;\n//Here you are reading your list with all data readed\nfor(int i=0;i&lt;arr.size()-1;i+=2){ //the -1 is for the array to stop on the \n                                 //last but one row\n\n    row = spreadSheet.createRow((short) rowNumber); //external count\n\n    //pseudocode from here\n    cell1 = row.createCell(0); \n    cell2 = row.createCell(1); \n\n    cell1.setCellValue(  arr.get(i).substring(arr.get(i).indexOf(\":\")+1) );\n                              // ^ this is for name\n    cell2.setCellValue(  arr.get(i+1).substring(arr.get(i+1).indexOf(\":\")+1) );\n                               // ^ this is for phone\n\n    rowNumber++; //increment your rowNumber\n}\n</code></pre>\n"}],"owner":{"account_id":3503956,"reputation":3,"user_id":2929949,"display_name":"NILE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693641900,"creation_date":1386480435,"question_id":20450232,"body_markdown":"I have a program (below) that takes txt files and puts them into an excel spreadsheet. My goal is to extract the data from a text file but only text after the colon.\r\n\r\nExample txt file(No space between &quot;name:&quot; and &quot;phone:&quot; lines in the txt):\r\n\r\n   Name: John doe\r\n\r\n   phone: (xxx) xxx-xxxx\r\n\r\nI want my program to only save john doe in the excel sheet and title the column &quot;Name&quot;:\r\nI want my program to only save (xxx) xxx-xxxx in the excel sheet and title the column &quot;phone&quot; \r\nI want to be able to add multiple entrys to the spreadsheet.\r\n\r\nExample(in excel sheet generated):This is what i want it to look like!\r\n\r\n   ....A..............B\r\n\r\n1   name     | Phone\r\n\r\n2   john doe   (123) 123-1234\r\n\r\n3   jack dee   (123) 123-1231\r\n\r\nSo i looked at the string split to get only data after the &quot;:&quot; but cant find much documentation on it. Also getting the info to line up correctly in the excel. Any help is much appreciated.\r\n\r\nThanks,\r\nJames\r\n\r\n\r\n\r\n    package EREW;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n \r\n    \r\n    import org.apache.poi.hssf.usermodel.HSSFCell;\r\n    import org.apache.poi.hssf.usermodel.HSSFRichTextString;\r\n    import org.apache.poi.hssf.usermodel.HSSFRow;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n     \r\n     \r\n    public class ReadWriteXL\r\n    {\r\n    public static void main(String[] args) throws InvalidFormatException, IOException{\r\n        ArrayList arr=new ArrayList();\r\n    File f=new File(&quot;F:\\\\temp\\\\TEXT\\\\email.txt&quot;);\r\n    \r\n    Scanner in=new Scanner(f);\r\n    System.out.println(&quot;Read Data From The Txt file &quot;);\r\n    while(in.hasNext())\r\n    {    \r\n    \t\r\n    arr.add(in.nextLine());\r\n    }\r\n    System.out.println(&quot;Data From ArrayList&quot;);\r\n    System.out.println(arr);\r\n     \r\n     \r\n    System.out.println(&quot;Write data to an Excel Sheet&quot;);\r\n    FileOutputStream fos=new FileOutputStream(&quot;F:/temp/1.xls&quot;);\r\n    HSSFWorkbook workBook = new HSSFWorkbook();\r\n    HSSFSheet spreadSheet = workBook.createSheet(&quot;email&quot;);\r\n    HSSFRow row;\r\n    HSSFCell cell;\r\n    for(int i=0;i&lt;arr.size();i++){\r\n        row = spreadSheet.createRow((short) i);\r\n    cell = row.createCell(i);\r\n    System.out.println(arr.get(i));\r\n    cell.setCellValue(arr.get(i).toString());\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n    workBook.write(fos);\r\n    arr.clear();\r\n    System.out.println(&quot;ReadIng From Excel Sheet&quot;);\r\n     \r\n    FileInputStream fis = null;\r\n        fis = new FileInputStream(&quot;F:/temp/1.xls&quot;);\r\n     \r\n        HSSFWorkbook workbook = new HSSFWorkbook(fis);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n        Iterator rows = sheet.rowIterator();\r\n     \r\n        while (rows.hasNext()) {\r\n            HSSFRow row1 = (HSSFRow) rows.next();\r\n            Iterator cells = row1.cellIterator();\r\n            while (cells.hasNext()) {\r\n                HSSFCell cell1 = (HSSFCell) cells.next();\r\n                arr.add(cell1);\r\n            }\r\n    }\r\n    System.out.println(arr);\r\n     \r\n    }}\r\n     \r\n     ","title":"How do i get data from a txt file and send it to excel spreadsheet?(I only want everything after the &quot;:&quot; in the txt file)?","body":"<p>I have a program (below) that takes txt files and puts them into an excel spreadsheet. My goal is to extract the data from a text file but only text after the colon.</p>\n\n<p>Example txt file(No space between \"name:\" and \"phone:\" lines in the txt):</p>\n\n<p>Name: John doe</p>\n\n<p>phone: (xxx) xxx-xxxx</p>\n\n<p>I want my program to only save john doe in the excel sheet and title the column \"Name\":\nI want my program to only save (xxx) xxx-xxxx in the excel sheet and title the column \"phone\" \nI want to be able to add multiple entrys to the spreadsheet.</p>\n\n<p>Example(in excel sheet generated):This is what i want it to look like!</p>\n\n<p>....A..............B</p>\n\n<p>1   name     | Phone</p>\n\n<p>2   john doe   (123) 123-1234</p>\n\n<p>3   jack dee   (123) 123-1231</p>\n\n<p>So i looked at the string split to get only data after the \":\" but cant find much documentation on it. Also getting the info to line up correctly in the excel. Any help is much appreciated.</p>\n\n<p>Thanks,\nJames</p>\n\n<pre><code>package EREW;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner;\n\n\nimport org.apache.poi.hssf.usermodel.HSSFCell;\nimport org.apache.poi.hssf.usermodel.HSSFRichTextString;\nimport org.apache.poi.hssf.usermodel.HSSFRow;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\n\npublic class ReadWriteXL\n{\npublic static void main(String[] args) throws InvalidFormatException, IOException{\n    ArrayList arr=new ArrayList();\nFile f=new File(\"F:\\\\temp\\\\TEXT\\\\email.txt\");\n\nScanner in=new Scanner(f);\nSystem.out.println(\"Read Data From The Txt file \");\nwhile(in.hasNext())\n{    \n\narr.add(in.nextLine());\n}\nSystem.out.println(\"Data From ArrayList\");\nSystem.out.println(arr);\n\n\nSystem.out.println(\"Write data to an Excel Sheet\");\nFileOutputStream fos=new FileOutputStream(\"F:/temp/1.xls\");\nHSSFWorkbook workBook = new HSSFWorkbook();\nHSSFSheet spreadSheet = workBook.createSheet(\"email\");\nHSSFRow row;\nHSSFCell cell;\nfor(int i=0;i&lt;arr.size();i++){\n    row = spreadSheet.createRow((short) i);\ncell = row.createCell(i);\nSystem.out.println(arr.get(i));\ncell.setCellValue(arr.get(i).toString());\n}\nSystem.out.println(\"Done\");\nworkBook.write(fos);\narr.clear();\nSystem.out.println(\"ReadIng From Excel Sheet\");\n\nFileInputStream fis = null;\n    fis = new FileInputStream(\"F:/temp/1.xls\");\n\n    HSSFWorkbook workbook = new HSSFWorkbook(fis);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n    Iterator rows = sheet.rowIterator();\n\n    while (rows.hasNext()) {\n        HSSFRow row1 = (HSSFRow) rows.next();\n        Iterator cells = row1.cellIterator();\n        while (cells.hasNext()) {\n            HSSFCell cell1 = (HSSFCell) cells.next();\n            arr.add(cell1);\n        }\n}\nSystem.out.println(arr);\n\n}}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":1,"creation_date":1693586654,"post_id":77024664,"comment_id":135785427,"body_markdown":"I would bet it is the same problem as in this question: [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) -- that is, `nextLine()` is reading (up to) the newline from previous input (`next()` which does not *consume* the newline from the input) || Solution: add a `dummy* call to `nextLine()` before reading the string","body":"I would bet it is the same problem as in this question: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> -- that is, <code>nextLine()</code> is reading (up to) the newline from previous input (<code>next()</code> which does not <i>consume</i> the newline from the input) || Solution: add a <code>dummy* call to </code>nextLine()` before reading the string"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1693587922,"post_id":77024664,"comment_id":135785596,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":29330791,"reputation":3,"user_id":22472296,"display_name":"Blerdegerb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693597380,"creation_date":1693585952,"answer_id":77024717,"question_id":77024664,"body_markdown":"[Check out this answer](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nBasically, it boils down to the scanner can be a bit &quot;finicky&quot; when you use certain commands like &quot;next&quot; instead of &quot;nextline&quot; If I recall when I would use Java I would usually just scan with nextline and then cast after the fact\r\n","title":"Java String outputting as blank","body":"<p><a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Check out this answer</a></p>\n<p>Basically, it boils down to the scanner can be a bit &quot;finicky&quot; when you use certain commands like &quot;next&quot; instead of &quot;nextline&quot; If I recall when I would use Java I would usually just scan with nextline and then cast after the fact</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693586489,"creation_date":1693586089,"answer_id":77024736,"question_id":77024664,"body_markdown":"The following should work.\r\n\r\nYou can request the input on the same line using `System.out.print` and you can use `String.format` to output the variables. Don&#39;t forget to close the `Scanner`!\r\n\r\n**Note:** When grabbing partial string input, you need to call `scanner.nextLine()` to dump the buffer, before requesting more string values.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Inputs\r\n        int userInt;\r\n        double userDouble;\r\n        char myChar;\r\n        String myString;\r\n\r\n        System.out.print(&quot;Enter integer: &quot;);\r\n        userInt = scanner.nextInt();\r\n\r\n        System.out.print(&quot;Enter double: &quot;);\r\n        userDouble = scanner.nextDouble();\r\n\r\n        System.out.print(&quot;Enter character: &quot;);\r\n        myChar = scanner.next().charAt(0);\r\n\r\n        scanner.nextLine(); // Clear the buffer\r\n\r\n        System.out.print(&quot;Enter string: &quot;);\r\n        myString = scanner.nextLine();\r\n\r\n        // Output the four values in order\r\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\r\n\r\n        // Output the four values in reverse order\r\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\r\n\r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\nEnter integer: 99\r\nEnter double: 3.77\r\nEnter character: z\r\nEnter string: Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nIf you want to take all the inputs at once, you can do the following:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Inputs\r\n        int userInt;\r\n        double userDouble;\r\n        char myChar;\r\n        String myString;\r\n\r\n        System.out.print(&quot;Enter an integer, double, character, and a string: &quot;);\r\n\r\n        userInt = scanner.nextInt();\r\n        userDouble = scanner.nextDouble();\r\n        myChar = scanner.next(&quot;.&quot;).charAt(0); // See: https://stackoverflow.com/a/13942707/1762224\r\n        myString = scanner.nextLine().trim();\r\n\r\n        // Output the four values in order\r\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\r\n\r\n        // Output the four values in reverse order\r\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\r\n\r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\nEnter an integer, double, character, and a string: 99 3.77 z Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nIf you want to be strict about which charcter can be entered, you can use a pattern:\r\n\r\n```java\r\nmyChar = scanner.next(&quot;[A-Za-z]&quot;).charAt(0); // Only alpha\r\n```","title":"Java String outputting as blank","body":"<p>The following should work.</p>\n<p>You can request the input on the same line using <code>System.out.print</code> and you can use <code>String.format</code> to output the variables. Don't forget to close the <code>Scanner</code>!</p>\n<p><strong>Note:</strong> When grabbing partial string input, you need to call <code>scanner.nextLine()</code> to dump the buffer, before requesting more string values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // Inputs\n        int userInt;\n        double userDouble;\n        char myChar;\n        String myString;\n\n        System.out.print(&quot;Enter integer: &quot;);\n        userInt = scanner.nextInt();\n\n        System.out.print(&quot;Enter double: &quot;);\n        userDouble = scanner.nextDouble();\n\n        System.out.print(&quot;Enter character: &quot;);\n        myChar = scanner.next().charAt(0);\n\n        scanner.nextLine(); // Clear the buffer\n\n        System.out.print(&quot;Enter string: &quot;);\n        myString = scanner.nextLine();\n\n        // Output the four values in order\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\n\n        // Output the four values in reverse order\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\n\n        // Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter integer: 99\nEnter double: 3.77\nEnter character: z\nEnter string: Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>If you want to take all the inputs at once, you can do the following:</p>\n<pre><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // Inputs\n        int userInt;\n        double userDouble;\n        char myChar;\n        String myString;\n\n        System.out.print(&quot;Enter an integer, double, character, and a string: &quot;);\n\n        userInt = scanner.nextInt();\n        userDouble = scanner.nextDouble();\n        myChar = scanner.next(&quot;.&quot;).charAt(0); // See: https://stackoverflow.com/a/13942707/1762224\n        myString = scanner.nextLine().trim();\n\n        // Output the four values in order\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\n\n        // Output the four values in reverse order\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\n\n        // Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter an integer, double, character, and a string: 99 3.77 z Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>If you want to be strict about which charcter can be entered, you can use a pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myChar = scanner.next(&quot;[A-Za-z]&quot;).charAt(0); // Only alpha\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23213958,"reputation":92,"user_id":17307068,"display_name":"ldn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693587844,"creation_date":1693587844,"answer_id":77024895,"question_id":77024664,"body_markdown":"we should clear/flush the scanner to remove any residual buffer left in the input buffer. \r\n\r\nIn you case, you input a character for `myChar` and then you `ENTER` so it will suppose that `myString = scnr.nextLine();` will be an `ENTER` because the `ENTER` be know as the buffer after this input.\r\n```java\r\nmyChar = scnr.next().charAt(0);\r\n```\r\nFor example: when it&#39;s go to input for `myChar`, you type: &quot;c &lt;space&gt; Howdy&quot; and `ENTER`, so it will know that myChar = &#39;c&#39; and myString will be &quot;Howdy `ENTER`&quot;.\r\n\r\nTherefore, we have clear the Scanner to ensure that there are no extra characters/tokens left in the previous input.\r\nIn java, when you use Scanner next(), nextInt(), or nextLine() it after leaves the newline character &#39;\\n&#39;/&lt;space&gt;\r\n\r\nTo clear the Scanner buffer, you can use this\r\n```java\r\nScanner.nextLine();\r\n``` \r\nBased on your code, you should use this after input for myChar:\r\n```java\r\nscnr.nextLine();\r\n```\r\n\r\nYour full of code should like this\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int userInt = 0;\r\n        double userDouble = 0.0;\r\n        \r\n        // FIXME Define char and string variables similarly\r\n        char myChar;\r\n        String myString = &quot;&quot;;\r\n        \r\n        System.out.println(&quot;Enter integer: &quot;);\r\n        userInt = scnr.nextInt();\r\n        \r\n        // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\n        System.out.println(&quot;Enter double: &quot;);\r\n        userDouble = scnr.nextDouble();\r\n        \r\n        System.out.println(&quot;Enter character: &quot;);\r\n        myChar = scnr.next().charAt(0);\r\n        scnr.nextLine(); // clear buffer\r\n        \r\n        System.out.println(&quot;Enter string: &quot;);\r\n        myString = scnr.nextLine();\r\n        \r\n        \r\n        System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\r\n        \r\n        // FIXME (2): Output the four values in reverse\r\n        System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\r\n        \r\n        // FIXME (3): Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java String outputting as blank","body":"<p>we should clear/flush the scanner to remove any residual buffer left in the input buffer.</p>\n<p>In you case, you input a character for <code>myChar</code> and then you <code>ENTER</code> so it will suppose that <code>myString = scnr.nextLine();</code> will be an <code>ENTER</code> because the <code>ENTER</code> be know as the buffer after this input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myChar = scnr.next().charAt(0);\n</code></pre>\n<p>For example: when it's go to input for <code>myChar</code>, you type: &quot;c  Howdy&quot; and <code>ENTER</code>, so it will know that myChar = 'c' and myString will be &quot;Howdy <code>ENTER</code>&quot;.</p>\n<p>Therefore, we have clear the Scanner to ensure that there are no extra characters/tokens left in the previous input.\nIn java, when you use Scanner next(), nextInt(), or nextLine() it after leaves the newline character '\\n'/</p>\n<p>To clear the Scanner buffer, you can use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner.nextLine();\n</code></pre>\n<p>Based on your code, you should use this after input for myChar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>scnr.nextLine();\n</code></pre>\n<p>Your full of code should like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int userInt = 0;\n        double userDouble = 0.0;\n        \n        // FIXME Define char and string variables similarly\n        char myChar;\n        String myString = &quot;&quot;;\n        \n        System.out.println(&quot;Enter integer: &quot;);\n        userInt = scnr.nextInt();\n        \n        // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\n        System.out.println(&quot;Enter double: &quot;);\n        userDouble = scnr.nextDouble();\n        \n        System.out.println(&quot;Enter character: &quot;);\n        myChar = scnr.next().charAt(0);\n        scnr.nextLine(); // clear buffer\n        \n        System.out.println(&quot;Enter string: &quot;);\n        myString = scnr.nextLine();\n        \n        \n        System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\n        \n        // FIXME (2): Output the four values in reverse\n        System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\n        \n        // FIXME (3): Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\n        return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693613823,"creation_date":1693613823,"answer_id":77026497,"question_id":77024664,"body_markdown":"&gt; _&quot;... when they are outputted, the String is just blank ...&quot;_\r\n\r\n&gt; _&quot;... How do I get the String to show in the output? It is just displaying as an empty string. I&#39;ve even tried to initialize the ```myString``` variable to ```&quot;Hello&quot;```, but it still displays empty.&quot;_\r\n\r\nIf you&#39;re looking to read input one line at a time, use the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_ method.  \r\nThe _next_ methods, _nextInt_, _nextDouble_, etc., are used for obtaining values within a single-line.\r\n\r\n```java\r\nSystem.out.println(&quot;Enter integer: &quot;);\r\nuserInt = Integer.parseInt(scnr.nextLine());\r\n\r\n// FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\nSystem.out.println(&quot;Enter double: &quot;);\r\nuserDouble = Double.parseDouble(scnr.nextLine());\r\n\r\nSystem.out.println(&quot;Enter character: &quot;);\r\nmyChar = scnr.nextLine().charAt(0);\r\n\r\nSystem.out.println(&quot;Enter string: &quot;);\r\nmyString = scnr.nextLine();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter integer: \r\n99\r\nEnter double: \r\n3.77\r\nEnter character: \r\nz\r\nEnter string: \r\nHowdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nHere is an example demonstrating how to read the 4 values when written on one line.  \r\nI&#39;ve added the _[String#stripLeading](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#stripLeading())_ to remove any white-space characters.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nint a = scanner.nextInt();\r\ndouble b = scanner.nextDouble();\r\nchar c = scanner.next().charAt(0);\r\nString d = scanner.nextLine().stripLeading();\r\nSystem.out.printf(&quot;%s %s %s %s%n%4$s %3$s %2$s %1$s&quot;, a, b, c, d);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n99 3.77 z Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n```","title":"Java String outputting as blank","body":"<blockquote>\n<p><em>&quot;... when they are outputted, the String is just blank ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... How do I get the String to show in the output? It is just displaying as an empty string. I've even tried to initialize the <code>myString</code> variable to <code>&quot;Hello&quot;</code>, but it still displays empty.&quot;</em></p>\n</blockquote>\n<p>If you're looking to read input one line at a time, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em> method.<br />\nThe <em>next</em> methods, <em>nextInt</em>, <em>nextDouble</em>, etc., are used for obtaining values within a single-line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter integer: &quot;);\nuserInt = Integer.parseInt(scnr.nextLine());\n\n// FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\nSystem.out.println(&quot;Enter double: &quot;);\nuserDouble = Double.parseDouble(scnr.nextLine());\n\nSystem.out.println(&quot;Enter character: &quot;);\nmyChar = scnr.nextLine().charAt(0);\n\nSystem.out.println(&quot;Enter string: &quot;);\nmyString = scnr.nextLine();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter integer: \n99\nEnter double: \n3.77\nEnter character: \nz\nEnter string: \nHowdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Here is an example demonstrating how to read the 4 values when written on one line.<br />\nI've added the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#stripLeading()\" rel=\"nofollow noreferrer\">String#stripLeading</a></em> to remove any white-space characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nint a = scanner.nextInt();\ndouble b = scanner.nextDouble();\nchar c = scanner.next().charAt(0);\nString d = scanner.nextLine().stripLeading();\nSystem.out.printf(&quot;%s %s %s %s%n%4$s %3$s %2$s %1$s&quot;, a, b, c, d);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>99 3.77 z Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693640623,"creation_date":1693640623,"answer_id":77027401,"question_id":77024664,"body_markdown":"Just another alternative. It only utilizes the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method and makes use of the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method to carry out input validation for each prompt. If a prompt input validation fails, the User is permitted to try again. The User can also quit on any prompt. Be sure to read the comments in code:\r\n\r\n```\r\npublic class BasicInput {\r\n    \r\n    // OS related newline character sequence:\r\n    public final String LS = System.lineSeparator();\r\n    \r\n    // The JVM will automatically close this resource when the application ends.\r\n    private final java.util.Scanner scnr = new java.util.Scanner(System.in);\r\n    \r\n    private int userInt;\r\n    private double userDouble;\r\n    private char myChar;\r\n    private String myString = &quot;&quot;;\r\n        \r\n\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need \r\n           for statics (unless we want them):  */\r\n        new BasicInput().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        /* List Interface of Object - Will hold the values of the \r\n           above variables once they are filled.               */\r\n        java.util.List&lt;Object&gt; list = new java.util.ArrayList&lt;&gt;();\r\n        \r\n        System.out.println(&quot;Enter &#39;q&#39; to quit at any time:&quot; + LS);\r\n        \r\n        // PROMPT #1 - Enter Integer Value:\r\n        String intNum = &quot;&quot;;\r\n        while (intNum.isEmpty()) {\r\n            System.out.print(&quot;Enter an integer value: -&gt; &quot;);\r\n            intNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (intNum.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATE USER ENTRY:     \r\n               If the supplied string is NOT (!) a representation of a signed \r\n               or unsigned integer value which is within Integer.MIN_VALUE\r\n               and Integer.MAX_VALUE then, inform the User and allow him \r\n               or her to try again:                                   */\r\n            if (!intNum.matches(&quot;-?\\\\d+&quot;) || new java.math.BigInteger(intNum).longValue() &lt; Integer.MIN_VALUE \r\n                                          || new java.math.BigInteger(intNum).longValue() &gt; Integer.MAX_VALUE) {\r\n                System.out.println(&quot;Invalid Numerical Integer (int type) Entry! (&quot; + intNum + &quot;) Try again...&quot; + LS);\r\n                intNum = &quot;&quot;;\r\n            }\r\n        }\r\n        \r\n        // Fill `userInt` member variable - Convert String to int:\r\n        userInt = Integer.parseInt(intNum);\r\n        // Add to List\r\n        list.add(userInt);  \r\n        \r\n        \r\n        // PROMPT #2 - Enter Floating Point (double type) Value:\r\n        String dblNum = &quot;&quot;;\r\n        while (dblNum.isEmpty()) {\r\n            System.out.print(&quot;Enter a floating point value: -&gt; &quot;);\r\n            dblNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (dblNum.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATE USER ENTRY:     \r\n               If the supplied string is not a representation of a signed \r\n               or unsigned integer or floating point value then, inform\r\n               the User and allow him/her to try again:              */\r\n            if (!dblNum.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) {\r\n                System.out.println(&quot;Invalid Numerical Floating-Point Entry! (&quot; \r\n                                   + dblNum + &quot;) Try again...&quot; + LS);\r\n                dblNum = &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        // Fill `userDouble` member variable - Convert String to double:\r\n        userDouble = Double.parseDouble(dblNum);\r\n        // Add to List:\r\n        list.add(userDouble);\r\n        \r\n        \r\n        // PROMPT #3 - Enter A Specific Character:\r\n        String charVal = &quot;&quot;;\r\n        while (charVal.isEmpty()) {\r\n            System.out.print(&quot;Enter a specific character (one only and no spaces): -&gt; &quot;);\r\n            charVal = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (charVal.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \r\n               are supplied then re-loop:           */\r\n            if (charVal.isEmpty()) {\r\n                System.out.print(&quot;Invalid Entry! You must supply a keyboard character!&quot; + LS);\r\n            }\r\n        }\r\n        \r\n        // Fill `myChar` member variable - Get first character (only) from User&#39;s entry:\r\n        myChar = charVal.charAt(0);\r\n        // Add to List:\r\n        list.add(myChar);\r\n        \r\n\r\n        // PROMPT #4 - Enter A Specific String:\r\n        String strgVal = &quot;&quot;;\r\n        while (strgVal.isEmpty()) {\r\n            System.out.print(&quot;Enter any specific string (not just spaces): -&gt; &quot;);\r\n            strgVal = scnr.nextLine().trim();\r\n            \r\n            // Is quit desired?\r\n            if (strgVal.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \r\n               are supplied then re-loop:           */\r\n            if (strgVal.isEmpty()) {\r\n                System.out.print(&quot;Invalid Entry! Your string must contain something!&quot; + LS);\r\n            }\r\n        }\r\n\r\n        // Fill `myString` member variable:\r\n        myString = strgVal;\r\n        // Add to List:\r\n        list.add(myString);\r\n\r\n        \r\n        // Display Listed Values, Forward:\r\n        System.out.println(LS + &quot;Forward:  &quot; + list.stream().map(Object::toString)\r\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\r\n\r\n        // Display Listed values, Reversed\r\n        java.util.Collections.reverse(list); // Reverse the elements in List\r\n        System.out.println(&quot;Reverse:  &quot; + list.stream().map(Object::toString)\r\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\r\n\r\n        \r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(&quot;Double &quot; + userDouble + &quot; cast to an integer is: &quot; + (int) userDouble);\r\n    }\r\n\r\n    private void quit() {\r\n        System.out.println(LS + &quot;Quiting - Bye Bye&quot;);\r\n        System.exit(0);\r\n    }\r\n}\r\n```","title":"Java String outputting as blank","body":"<p>Just another alternative. It only utilizes the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method and makes use of the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method to carry out input validation for each prompt. If a prompt input validation fails, the User is permitted to try again. The User can also quit on any prompt. Be sure to read the comments in code:</p>\n<pre><code>public class BasicInput {\n    \n    // OS related newline character sequence:\n    public final String LS = System.lineSeparator();\n    \n    // The JVM will automatically close this resource when the application ends.\n    private final java.util.Scanner scnr = new java.util.Scanner(System.in);\n    \n    private int userInt;\n    private double userDouble;\n    private char myChar;\n    private String myString = &quot;&quot;;\n        \n\n    public static void main(String[] args) {\n        /* App started this way to avoid the need \n           for statics (unless we want them):  */\n        new BasicInput().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        /* List Interface of Object - Will hold the values of the \n           above variables once they are filled.               */\n        java.util.List&lt;Object&gt; list = new java.util.ArrayList&lt;&gt;();\n        \n        System.out.println(&quot;Enter 'q' to quit at any time:&quot; + LS);\n        \n        // PROMPT #1 - Enter Integer Value:\n        String intNum = &quot;&quot;;\n        while (intNum.isEmpty()) {\n            System.out.print(&quot;Enter an integer value: -&gt; &quot;);\n            intNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (intNum.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATE USER ENTRY:     \n               If the supplied string is NOT (!) a representation of a signed \n               or unsigned integer value which is within Integer.MIN_VALUE\n               and Integer.MAX_VALUE then, inform the User and allow him \n               or her to try again:                                   */\n            if (!intNum.matches(&quot;-?\\\\d+&quot;) || new java.math.BigInteger(intNum).longValue() &lt; Integer.MIN_VALUE \n                                          || new java.math.BigInteger(intNum).longValue() &gt; Integer.MAX_VALUE) {\n                System.out.println(&quot;Invalid Numerical Integer (int type) Entry! (&quot; + intNum + &quot;) Try again...&quot; + LS);\n                intNum = &quot;&quot;;\n            }\n        }\n        \n        // Fill `userInt` member variable - Convert String to int:\n        userInt = Integer.parseInt(intNum);\n        // Add to List\n        list.add(userInt);  \n        \n        \n        // PROMPT #2 - Enter Floating Point (double type) Value:\n        String dblNum = &quot;&quot;;\n        while (dblNum.isEmpty()) {\n            System.out.print(&quot;Enter a floating point value: -&gt; &quot;);\n            dblNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (dblNum.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATE USER ENTRY:     \n               If the supplied string is not a representation of a signed \n               or unsigned integer or floating point value then, inform\n               the User and allow him/her to try again:              */\n            if (!dblNum.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) {\n                System.out.println(&quot;Invalid Numerical Floating-Point Entry! (&quot; \n                                   + dblNum + &quot;) Try again...&quot; + LS);\n                dblNum = &quot;&quot;;\n            }\n        }\n\n        // Fill `userDouble` member variable - Convert String to double:\n        userDouble = Double.parseDouble(dblNum);\n        // Add to List:\n        list.add(userDouble);\n        \n        \n        // PROMPT #3 - Enter A Specific Character:\n        String charVal = &quot;&quot;;\n        while (charVal.isEmpty()) {\n            System.out.print(&quot;Enter a specific character (one only and no spaces): -&gt; &quot;);\n            charVal = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (charVal.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \n               are supplied then re-loop:           */\n            if (charVal.isEmpty()) {\n                System.out.print(&quot;Invalid Entry! You must supply a keyboard character!&quot; + LS);\n            }\n        }\n        \n        // Fill `myChar` member variable - Get first character (only) from User's entry:\n        myChar = charVal.charAt(0);\n        // Add to List:\n        list.add(myChar);\n        \n\n        // PROMPT #4 - Enter A Specific String:\n        String strgVal = &quot;&quot;;\n        while (strgVal.isEmpty()) {\n            System.out.print(&quot;Enter any specific string (not just spaces): -&gt; &quot;);\n            strgVal = scnr.nextLine().trim();\n            \n            // Is quit desired?\n            if (strgVal.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \n               are supplied then re-loop:           */\n            if (strgVal.isEmpty()) {\n                System.out.print(&quot;Invalid Entry! Your string must contain something!&quot; + LS);\n            }\n        }\n\n        // Fill `myString` member variable:\n        myString = strgVal;\n        // Add to List:\n        list.add(myString);\n\n        \n        // Display Listed Values, Forward:\n        System.out.println(LS + &quot;Forward:  &quot; + list.stream().map(Object::toString)\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\n\n        // Display Listed values, Reversed\n        java.util.Collections.reverse(list); // Reverse the elements in List\n        System.out.println(&quot;Reverse:  &quot; + list.stream().map(Object::toString)\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\n\n        \n        // Cast the double to an integer, and output that integer\n        System.out.println(&quot;Double &quot; + userDouble + &quot; cast to an integer is: &quot; + (int) userDouble);\n    }\n\n    private void quit() {\n        System.out.println(LS + &quot;Quiting - Bye Bye&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9653964,"reputation":89,"user_id":7164199,"display_name":"Matthew Jarrett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77024736,"answer_count":5,"score":1,"last_activity_date":1693640623,"creation_date":1693585406,"question_id":77024664,"body_markdown":"I have an assignment where we have to make a Java program that will read 4 inputs from the user:\r\n\r\n - Integer \r\n - Double\r\n - Character\r\n - String\r\n\r\nThen it outputs them in the above order in one line, and in reverse order in another line.\r\n\r\nThe inputs are\r\n - Integer: 99\r\n - Double: 3.77\r\n - Character: z\r\n - String: Howdy\r\n\r\nHowever when they are outputted, the String is just blank\r\n\r\nExpected results:\r\n```\r\nEnter integer: \r\nEnter double: \r\nEnter character: \r\nEnter string: \r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nActual results:\r\n```\r\nEnter integer: \r\nEnter double: \r\nEnter character: \r\nEnter string: \r\n99 3.77 z \r\n z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nHere is the code that I have\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int userInt = 0;\r\n      double userDouble = 0.0;\r\n      \r\n      // FIXME Define char and string variables similarly\r\n      char myChar;\r\n      String myString = &quot;&quot;;\r\n      \r\n      System.out.println(&quot;Enter integer: &quot;);\r\n      userInt = scnr.nextInt();\r\n      \r\n      // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\n      System.out.println(&quot;Enter double: &quot;);\r\n      userDouble = scnr.nextDouble();\r\n      \r\n      System.out.println(&quot;Enter character: &quot;);\r\n      myChar = scnr.next().charAt(0);\r\n      \r\n      System.out.println(&quot;Enter string: &quot;);\r\n      myString = scnr.nextLine();\r\n      \r\n      \r\n      System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\r\n   \r\n      // FIXME (2): Output the four values in reverse\r\n      System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\r\n      \r\n      // FIXME (3): Cast the double to an integer, and output that integer\r\n      System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\r\n      \r\n      return;\r\n   }\r\n}\r\n```\r\n\r\nHow do I get the String to show in the output? It is just displaying as an empty string. I&#39;ve even tried to initialize the ```myString``` variable to ```&quot;Hello&quot;```, but it still displays empty.","title":"Java String outputting as blank","body":"<p>I have an assignment where we have to make a Java program that will read 4 inputs from the user:</p>\n<ul>\n<li>Integer</li>\n<li>Double</li>\n<li>Character</li>\n<li>String</li>\n</ul>\n<p>Then it outputs them in the above order in one line, and in reverse order in another line.</p>\n<p>The inputs are</p>\n<ul>\n<li>Integer: 99</li>\n<li>Double: 3.77</li>\n<li>Character: z</li>\n<li>String: Howdy</li>\n</ul>\n<p>However when they are outputted, the String is just blank</p>\n<p>Expected results:</p>\n<pre><code>Enter integer: \nEnter double: \nEnter character: \nEnter string: \n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Actual results:</p>\n<pre><code>Enter integer: \nEnter double: \nEnter character: \nEnter string: \n99 3.77 z \n z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Here is the code that I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int userInt = 0;\n      double userDouble = 0.0;\n      \n      // FIXME Define char and string variables similarly\n      char myChar;\n      String myString = &quot;&quot;;\n      \n      System.out.println(&quot;Enter integer: &quot;);\n      userInt = scnr.nextInt();\n      \n      // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\n      System.out.println(&quot;Enter double: &quot;);\n      userDouble = scnr.nextDouble();\n      \n      System.out.println(&quot;Enter character: &quot;);\n      myChar = scnr.next().charAt(0);\n      \n      System.out.println(&quot;Enter string: &quot;);\n      myString = scnr.nextLine();\n      \n      \n      System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\n   \n      // FIXME (2): Output the four values in reverse\n      System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\n      \n      // FIXME (3): Cast the double to an integer, and output that integer\n      System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\n      \n      return;\n   }\n}\n</code></pre>\n<p>How do I get the String to show in the output? It is just displaying as an empty string. I've even tried to initialize the <code>myString</code> variable to <code>&quot;Hello&quot;</code>, but it still displays empty.</p>\n"},{"tags":["java","arrays","exception"],"comments":[{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693582987,"post_id":77024355,"comment_id":135784782,"body_markdown":"when I even move e.printStackTrace(); to front softassertFail still getting same exception.","body":"when I even move e.printStackTrace(); to front softassertFail still getting same exception."},{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693584007,"post_id":77024355,"comment_id":135784995,"body_markdown":"what if I replace getStackTrace with getMessage ?","body":"what if I replace getStackTrace with getMessage ?"},{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693584444,"post_id":77024355,"comment_id":135785075,"body_markdown":"P2Test line 167 is only doing assertAll","body":"P2Test line 167 is only doing assertAll"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693641285,"post_id":77024355,"comment_id":135789949,"body_markdown":"Why are you calling a TestNG method (`softAssertFail`) in non-testcase code?  That seems totally wrong.  Also `throws Throwable` and `catch Exception` and `e.printStackTrace()` in production code are a really bad idea.","body":"Why are you calling a TestNG method (<code>softAssertFail</code>) in non-testcase code?  That seems totally wrong.  Also <code>throws Throwable</code> and <code>catch Exception</code> and <code>e.printStackTrace()</code> in production code are a really bad idea."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693641814,"post_id":77024355,"comment_id":135789996,"body_markdown":"*Finally `&quot;How to handle StackTraceElement exception&quot; `.*  - That&#39;s not an exception and it cannot be handled.  And `softAssertError` doesn&#39;t throw an exception either.  Your question does not make any sense.   You should explain ... in clear English ... what your code is trying to do, and what it actually does.  What is &quot;this issue&quot;.","body":"<i>Finally <code>&quot;How to handle StackTraceElement exception&quot; </code>.</i>  - That&#39;s not an exception and it cannot be handled.  And <code>softAssertError</code> doesn&#39;t throw an exception either.  Your question does not make any sense.   You should explain ... in clear English ... what your code is trying to do, and what it actually does.  What is &quot;this issue&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3040935,"reputation":154,"user_id":2577987,"accept_rate":43,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693585363,"creation_date":1693585363,"answer_id":77024661,"question_id":77024355,"body_markdown":"You&#39;re asking several questions-\r\n 1. From the title- How to handle stack trace elements- I would say you don&#39;t- just let the exception bubble up, unless there&#39;s some logic you can fallback to when the exception happens.\r\n 2. &quot;But the thing is it is able to navigate next page&quot;- The way I read that is your users are not aware of a problem. That&#39;s because you&#39;re handling the exception and there is nothing to throw (that is assuming `softAssertFail` doesn&#39;t throw an exception)\r\n 3. &quot;How can I avoid getting this exception&quot; that we can&#39;t really tell- the root cause of your exception is all swalled up by that `Arrays.toString(e.getStackTrace())` - I can&#39;t think of any good reason to do that- What&#39;s the intent behind this?\r\n 4. Where I&#39;m confused a bit is the greater context of your question: It sounds like you&#39;re getting this as part of a unit test case? But you also mention user navigation.\r\n\r\nI think you may get a better idea of what is happening if you take a step back and do not handle the exception (ie remove the `try..catch`), and take it from there.\r\n\r\n\r\n","title":"How to handle StackTraceElement exception","body":"<p>You're asking several questions-</p>\n<ol>\n<li>From the title- How to handle stack trace elements- I would say you don't- just let the exception bubble up, unless there's some logic you can fallback to when the exception happens.</li>\n<li>&quot;But the thing is it is able to navigate next page&quot;- The way I read that is your users are not aware of a problem. That's because you're handling the exception and there is nothing to throw (that is assuming <code>softAssertFail</code> doesn't throw an exception)</li>\n<li>&quot;How can I avoid getting this exception&quot; that we can't really tell- the root cause of your exception is all swalled up by that <code>Arrays.toString(e.getStackTrace())</code> - I can't think of any good reason to do that- What's the intent behind this?</li>\n<li>Where I'm confused a bit is the greater context of your question: It sounds like you're getting this as part of a unit test case? But you also mention user navigation.</li>\n</ol>\n<p>I think you may get a better idea of what is happening if you take a step back and do not handle the exception (ie remove the <code>try..catch</code>), and take it from there.</p>\n"}],"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693640410,"creation_date":1693582004,"question_id":77024355,"body_markdown":"**I am getting UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@52e6b75 exception.** &lt;br/&gt;But the thing is it is able to navigate next page. Below you can find the code. How can I avoid getting this exception and how can I identify where exactly I am getting this issue and what is causing this issue? Any help?\r\n\r\n    private void clickNewPurchase() throws Throwable {\r\n\t\ttry {\r\n\t\t\tList&lt;WebElement&gt; listOfbuttons = createElements(newPurchase);\r\n\t\t\tfor (WebElement element : listOfbuttons) {\r\n\t\t\t\tString value = element.getAttribute(&quot;value&quot;);\r\n\t\t\t\tif (value.equals(&quot;New Purchase&quot;) || value.equals(&quot;RePurchase&quot;)) {\r\n\t\t\t\t\tJavascriptExecutor executor = (JavascriptExecutor)driver.get();\r\n\t\t\t\t\texecutor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\t\t\t\t\tbaseClass.logInfo(&quot;Clicked on New Purchase / RePurchase button on Start a Purchase page&quot;);\r\n\t\t\t\t\twaitforVisibilityOfElement(currentPage);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else if (value.equals(&quot;Retrieve&quot;)) {\r\n\t\t\t\t\tmasterData.get().put(&quot;IncompletePurchase&quot;, &quot;True&quot;);\r\n\t\t\t\t\tJavascriptExecutor executor = (JavascriptExecutor)driver.get();\r\n\t\t\t\t\texecutor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\t\t\t\t\tbaseClass.logInfo(&quot;Clicked on Retrieve button on Start a Purchase page&quot;);\r\n\t\t\t\t\twaitforVisibilityOfElement(currentPage);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tsoftAssertFail(&quot;Exception in clickNewQuote(): &quot; + Arrays.toString(e.getStackTrace()), ValidationType.UI);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    java.lang.AssertionError: The following asserts failed:\r\n\t&lt;br&gt; &lt;b&gt;&gt;&gt;&lt;/b&gt; UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@3bea26bc\r\n\tat org.testng.asserts.SoftAssert.assertAll(SoftAssert.java:43)\r\n\tat tests.P2Test.p2Test(P2Test.java:167)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nP2Test Line 167\r\n```java\r\ntry {\r\n    if (sam.getSoftAssert() != null)\r\n        sam.getSoftAssert().assertAll();\r\n} catch (Exception e) {\r\n    Assert.fail(&quot;Problem in Soft assert: &quot; + e.getCause());\r\n}\r\n```\r\n","title":"How to handle StackTraceElement exception","body":"<p><strong>I am getting UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@52e6b75 exception.</strong> <br/>But the thing is it is able to navigate next page. Below you can find the code. How can I avoid getting this exception and how can I identify where exactly I am getting this issue and what is causing this issue? Any help?</p>\n<pre><code>private void clickNewPurchase() throws Throwable {\n    try {\n        List&lt;WebElement&gt; listOfbuttons = createElements(newPurchase);\n        for (WebElement element : listOfbuttons) {\n            String value = element.getAttribute(&quot;value&quot;);\n            if (value.equals(&quot;New Purchase&quot;) || value.equals(&quot;RePurchase&quot;)) {\n                JavascriptExecutor executor = (JavascriptExecutor)driver.get();\n                executor.executeScript(&quot;arguments[0].click();&quot;, element);\n                baseClass.logInfo(&quot;Clicked on New Purchase / RePurchase button on Start a Purchase page&quot;);\n                waitforVisibilityOfElement(currentPage);\n                break;\n            }else if (value.equals(&quot;Retrieve&quot;)) {\n                masterData.get().put(&quot;IncompletePurchase&quot;, &quot;True&quot;);\n                JavascriptExecutor executor = (JavascriptExecutor)driver.get();\n                executor.executeScript(&quot;arguments[0].click();&quot;, element);\n                baseClass.logInfo(&quot;Clicked on Retrieve button on Start a Purchase page&quot;);\n                waitforVisibilityOfElement(currentPage);\n                break;\n            }\n        }\n    } catch (Exception e) {\n        softAssertFail(&quot;Exception in clickNewQuote(): &quot; + Arrays.toString(e.getStackTrace()), ValidationType.UI);\n        e.printStackTrace();\n    }\n}\n\njava.lang.AssertionError: The following asserts failed:\n&lt;br&gt; &lt;b&gt;&gt;&gt;&lt;/b&gt; UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@3bea26bc\nat org.testng.asserts.SoftAssert.assertAll(SoftAssert.java:43)\nat tests.P2Test.p2Test(P2Test.java:167)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>P2Test Line 167</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    if (sam.getSoftAssert() != null)\n        sam.getSoftAssert().assertAll();\n} catch (Exception e) {\n    Assert.fail(&quot;Problem in Soft assert: &quot; + e.getCause());\n}\n</code></pre>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1644242780,"post_id":71019876,"comment_id":125545679,"body_markdown":"I found this a while ago: https://junit-pioneer.org/docs/cartesian-product/. Is that what you&#39;re looking for?","body":"I found this a while ago: <a href=\"https://junit-pioneer.org/docs/cartesian-product/\" rel=\"nofollow noreferrer\">junit-pioneer.org/docs/cartesian-product</a>. Is that what you&#39;re looking for?"},{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1644243129,"post_id":71019876,"comment_id":125545850,"body_markdown":"@RobSpoor Wow! Thank you. Looks promising. Thought that JUnit have this out of the box.","body":"@RobSpoor Wow! Thank you. Looks promising. Thought that JUnit have this out of the box."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1644243202,"post_id":71019876,"comment_id":125545879,"body_markdown":"Not really an answer, but you already have static methods for defining your test parameters. Such an annotation would not remove the need for them. Therefore I would question wether it is usefull to have such an implementation when there is no escaping writing custom methods, and you could end up with `colors.flatMap(color -&gt; sizes.stream(size -&gt; arguments(color, size)))` Just a thought. Unless you have lots of places you really need this that is.","body":"Not really an answer, but you already have static methods for defining your test parameters. Such an annotation would not remove the need for them. Therefore I would question wether it is usefull to have such an implementation when there is no escaping writing custom methods, and you could end up with <code>colors.flatMap(color -&gt; sizes.stream(size -&gt; arguments(color, size)))</code> Just a thought. Unless you have lots of places you really need this that is."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644243409,"creation_date":1644243409,"answer_id":71020059,"question_id":71019876,"body_markdown":"You can specify a method as the source. In that method you can provide the cartesian product.\r\n\r\nSimple example:\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;provideStringsForIsBlank&quot;)\r\n    ...\r\n\r\n    private static Stream&lt;Arguments&gt; provideStringsForIsBlank() {\r\n        return Stream.of(\r\n          Arguments.of(null, true),\r\n          Arguments.of(&quot;&quot;, true),\r\n          Arguments.of(&quot;  &quot;, true),\r\n          Arguments.of(&quot;not blank&quot;, false)\r\n        );\r\n    }\r\n\r\nReference: https://www.baeldung.com/parameterized-tests-junit-5","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>You can specify a method as the source. In that method you can provide the cartesian product.</p>\n<p>Simple example:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;provideStringsForIsBlank&quot;)\n...\n\nprivate static Stream&lt;Arguments&gt; provideStringsForIsBlank() {\n    return Stream.of(\n      Arguments.of(null, true),\n      Arguments.of(&quot;&quot;, true),\n      Arguments.of(&quot;  &quot;, true),\n      Arguments.of(&quot;not blank&quot;, false)\n    );\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">https://www.baeldung.com/parameterized-tests-junit-5</a></p>\n"},{"tags":[],"owner":{"account_id":14093822,"reputation":153,"user_id":10181277,"display_name":"wokstym"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644490337,"creation_date":1644276835,"answer_id":71026770,"question_id":71019876,"body_markdown":"If you want to avoid using external library I wrote some code to do Cartesian product, not that much tested, but simple and works\r\n\r\nEdit: I have optimized the code to memorize recursive call \r\n\r\n```kt\r\nclass SomeTestClass {\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;SomeTestClassKt#provideSomeData&quot;)\r\n    fun someTest(first: String, second: Boolean, third: Int) {\r\n        println(&quot;first = $first, second = $second, third = $third&quot;)\r\n    }\r\n\r\n}\r\n\r\nprivate fun provideSomeData(): Stream&lt;Arguments&gt; {\r\n    return cartesianArguments(\r\n        listOf(&quot;Product1&quot;, &quot;Product2&quot;, &quot;Product3&quot;),\r\n        listOf(true, false),\r\n        listOf(1, 5, 12)\r\n    )\r\n}\r\n\r\ninline fun &lt;reified T&gt; cartesianArguments(vararg input: List&lt;T&gt;): Stream&lt;Arguments&gt; {\r\n    return cartesianRecurrence(input.toList())\r\n        .stream()\r\n        .map { Arguments.of(*it.toTypedArray()) }\r\n\r\n}\r\n\r\n\r\nfun &lt;T&gt; cartesianRecurrence(input: List&lt;List&lt;T&gt;&gt;): List&lt;List&lt;T&gt;&gt; {\r\n    if (input.size &lt; 2)\r\n        return input.flatten().map { listOf(it) }\r\n\r\n    val result = cartesianRecurrence(input.tail)\r\n    return input.head.flatMap { headElement -&gt;\r\n        result.map { headElement + it }\r\n    }\r\n}\r\n\r\noperator fun &lt;T&gt; T.plus(tail: List&lt;T&gt;): List&lt;T&gt; {\r\n    val list = ArrayList&lt;T&gt;(1 + tail.size)\r\n\r\n    list.add(this)\r\n    list.addAll(tail)\r\n\r\n    return list\r\n}\r\n\r\nval &lt;T&gt; List&lt;T&gt;.tail: List&lt;T&gt;\r\n    get() = drop(1)\r\n\r\nval &lt;T&gt; List&lt;T&gt;.head: T\r\n    get() = first()\r\n```\r\n\r\nThis produces result:\r\n\r\n```\r\nfirst = Product1, second = true, third = 1\r\nfirst = Product1, second = true, third = 5\r\nfirst = Product1, second = true, third = 12\r\nfirst = Product1, second = false, third = 1\r\nfirst = Product1, second = false, third = 5\r\nfirst = Product1, second = false, third = 12\r\nfirst = Product2, second = true, third = 1\r\nfirst = Product2, second = true, third = 5\r\nfirst = Product2, second = true, third = 12\r\nfirst = Product2, second = false, third = 1\r\nfirst = Product2, second = false, third = 5\r\nfirst = Product2, second = false, third = 12\r\nfirst = Product3, second = true, third = 1\r\nfirst = Product3, second = true, third = 5\r\nfirst = Product3, second = true, third = 12\r\nfirst = Product3, second = false, third = 1\r\nfirst = Product3, second = false, third = 5\r\nfirst = Product3, second = false, third = 12\r\n```\r\n\r\n","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>If you want to avoid using external library I wrote some code to do Cartesian product, not that much tested, but simple and works</p>\n<p>Edit: I have optimized the code to memorize recursive call</p>\n<pre><code>class SomeTestClass {\n\n    @ParameterizedTest\n    @MethodSource(&quot;SomeTestClassKt#provideSomeData&quot;)\n    fun someTest(first: String, second: Boolean, third: Int) {\n        println(&quot;first = $first, second = $second, third = $third&quot;)\n    }\n\n}\n\nprivate fun provideSomeData(): Stream&lt;Arguments&gt; {\n    return cartesianArguments(\n        listOf(&quot;Product1&quot;, &quot;Product2&quot;, &quot;Product3&quot;),\n        listOf(true, false),\n        listOf(1, 5, 12)\n    )\n}\n\ninline fun &lt;reified T&gt; cartesianArguments(vararg input: List&lt;T&gt;): Stream&lt;Arguments&gt; {\n    return cartesianRecurrence(input.toList())\n        .stream()\n        .map { Arguments.of(*it.toTypedArray()) }\n\n}\n\n\nfun &lt;T&gt; cartesianRecurrence(input: List&lt;List&lt;T&gt;&gt;): List&lt;List&lt;T&gt;&gt; {\n    if (input.size &lt; 2)\n        return input.flatten().map { listOf(it) }\n\n    val result = cartesianRecurrence(input.tail)\n    return input.head.flatMap { headElement -&gt;\n        result.map { headElement + it }\n    }\n}\n\noperator fun &lt;T&gt; T.plus(tail: List&lt;T&gt;): List&lt;T&gt; {\n    val list = ArrayList&lt;T&gt;(1 + tail.size)\n\n    list.add(this)\n    list.addAll(tail)\n\n    return list\n}\n\nval &lt;T&gt; List&lt;T&gt;.tail: List&lt;T&gt;\n    get() = drop(1)\n\nval &lt;T&gt; List&lt;T&gt;.head: T\n    get() = first()\n</code></pre>\n<p>This produces result:</p>\n<pre><code>first = Product1, second = true, third = 1\nfirst = Product1, second = true, third = 5\nfirst = Product1, second = true, third = 12\nfirst = Product1, second = false, third = 1\nfirst = Product1, second = false, third = 5\nfirst = Product1, second = false, third = 12\nfirst = Product2, second = true, third = 1\nfirst = Product2, second = true, third = 5\nfirst = Product2, second = true, third = 12\nfirst = Product2, second = false, third = 1\nfirst = Product2, second = false, third = 5\nfirst = Product2, second = false, third = 12\nfirst = Product3, second = true, third = 1\nfirst = Product3, second = true, third = 5\nfirst = Product3, second = true, third = 12\nfirst = Product3, second = false, third = 1\nfirst = Product3, second = false, third = 5\nfirst = Product3, second = false, third = 12\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693639295,"creation_date":1644242623,"question_id":71019876,"body_markdown":"Here is an example of Parameterized test in JUnit 5.\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;generalDataset&quot;)\r\n    fun shouldCreateItem(color: String, size: String) {\r\n        val item = Item(color, size)\r\n\r\n        assertThat(item.color).isEqualTo(color)\r\n    }\r\n \r\n    @JvmStatic\r\n    fun generalDataset() =\r\n        Stream.of(\r\n            arguments(&quot;blue&quot;, &quot;S&quot;),\r\n            arguments(&quot;red&quot;, &quot;S&quot;),\r\n            arguments(&quot;green&quot;, &quot;S&quot;),\r\n            arguments(&quot;blue&quot;, &quot;L&quot;),\r\n            arguments(&quot;red&quot;, &quot;L&quot;),\r\n            arguments(&quot;green&quot;, &quot;L&quot;)\r\n        )\r\n\r\nSee that `generalDataset` is a multiplcation of two sets `{&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;} x {&quot;S&quot;, &quot;L&quot;}`.\r\n\r\nTo avoid duplication it would be great to describe it explicitly like this **pseudocode**\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;colorDataset&quot;  %MULTIPLY%  &quot;sizeDataset&quot;)\r\n    fun shouldCreateItem(color: String, size: String) {\r\n        val item = Item(color, size)\r\n\r\n        assertThat(item.color).isEqualTo(color)\r\n    }\r\n \r\n    @JvmStatic\r\n    fun colorDataset() =\r\n        Stream.of(\r\n            arguments(&quot;blue&quot;),\r\n            arguments(&quot;red&quot;),\r\n            arguments(&quot;green&quot;) \r\n        ) \r\n\r\n    @JvmStatic\r\n    fun sizeDataset() =\r\n        Stream.of(\r\n            arguments(&quot;S&quot;),\r\n            arguments(&quot;L&quot;) \r\n        )\r\n\r\nIs it possible to implement something similar (Parameterized test with multiplied sources) in JUnit 5?","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>Here is an example of Parameterized test in JUnit 5.</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;generalDataset&quot;)\nfun shouldCreateItem(color: String, size: String) {\n    val item = Item(color, size)\n\n    assertThat(item.color).isEqualTo(color)\n}\n\n@JvmStatic\nfun generalDataset() =\n    Stream.of(\n        arguments(&quot;blue&quot;, &quot;S&quot;),\n        arguments(&quot;red&quot;, &quot;S&quot;),\n        arguments(&quot;green&quot;, &quot;S&quot;),\n        arguments(&quot;blue&quot;, &quot;L&quot;),\n        arguments(&quot;red&quot;, &quot;L&quot;),\n        arguments(&quot;green&quot;, &quot;L&quot;)\n    )\n</code></pre>\n<p>See that <code>generalDataset</code> is a multiplcation of two sets <code>{&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;} x {&quot;S&quot;, &quot;L&quot;}</code>.</p>\n<p>To avoid duplication it would be great to describe it explicitly like this <strong>pseudocode</strong></p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;colorDataset&quot;  %MULTIPLY%  &quot;sizeDataset&quot;)\nfun shouldCreateItem(color: String, size: String) {\n    val item = Item(color, size)\n\n    assertThat(item.color).isEqualTo(color)\n}\n\n@JvmStatic\nfun colorDataset() =\n    Stream.of(\n        arguments(&quot;blue&quot;),\n        arguments(&quot;red&quot;),\n        arguments(&quot;green&quot;) \n    ) \n\n@JvmStatic\nfun sizeDataset() =\n    Stream.of(\n        arguments(&quot;S&quot;),\n        arguments(&quot;L&quot;) \n    )\n</code></pre>\n<p>Is it possible to implement something similar (Parameterized test with multiplied sources) in JUnit 5?</p>\n"},{"tags":["java","system-variable"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1608221600,"post_id":65344301,"comment_id":115522728,"body_markdown":"You have both, some generic java (&quot;....Oracle\\Java\\javapath&quot;) and the JDK in your PATH variable. Try to use only the JDK.","body":"You have both, some generic java (&quot;....Oracle\\Java\\javapath&quot;) and the JDK in your PATH variable. Try to use only the JDK."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":2,"creation_date":1608221707,"post_id":65344301,"comment_id":115522784,"body_markdown":".. Or set the `bin` in `PATH` before the other one.","body":".. Or set the <code>bin</code> in <code>PATH</code> before the other one."},{"owner":{"account_id":12237869,"reputation":79,"user_id":8931728,"display_name":"Gesichtsfelsen"},"score":0,"creation_date":1608222231,"post_id":65344301,"comment_id":115523046,"body_markdown":"Damn both of that worked, Thanks!","body":"Damn both of that worked, Thanks!"},{"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"score":0,"creation_date":1639381941,"post_id":65344301,"comment_id":124325055,"body_markdown":"have similar issue RESOLVE IT by writing in cmd &quot;where java&quot; and realize been decelerated twice in environment variables –","body":"have similar issue RESOLVE IT by writing in cmd &quot;where java&quot; and realize been decelerated twice in environment variables –"},{"owner":{"account_id":6524993,"reputation":33917,"user_id":5047996,"accept_rate":74,"display_name":"aschipfl"},"score":0,"creation_date":1643194161,"post_id":65344301,"comment_id":125273084,"body_markdown":"Take also a look at [JAVA command shows nothing in a command prompt](https://stackoverflow.com/q/70138145)…","body":"Take also a look at <a href=\"https://stackoverflow.com/q/70138145\">JAVA command shows nothing in a command prompt</a>…"}],"answers":[{"tags":[],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1608222003,"creation_date":1608222003,"answer_id":65344458,"question_id":65344301,"body_markdown":"# Solution\r\n\r\nPlease first run the following command\r\n\r\n    &quot;c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java&quot; --version\r\n\r\nIf that returns a result remove the following entries from your `PATH`\r\n\r\n    c:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n    c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java\\bin\r\n\r\nThen create an environment variable called `JAVA` and set it to `%JAVA_HOME%\\bin`, then simply add `%JAVA%` to your `PATH` variable.\r\n\r\n&gt; You will need to close your command prompt window and reopen it before the change will take effect","title":"&quot;java -version&quot;in cmd gives no result","body":"<h1>Solution</h1>\n<p>Please first run the following command</p>\n<pre><code>&quot;c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java&quot; --version\n</code></pre>\n<p>If that returns a result remove the following entries from your <code>PATH</code></p>\n<pre><code>c:\\Program Files\\Common Files\\Oracle\\Java\\javapath\nc:\\Program Files\\Java\\jdk-14.0.2\\bin\\java\\bin\n</code></pre>\n<p>Then create an environment variable called <code>JAVA</code> and set it to <code>%JAVA_HOME%\\bin</code>, then simply add <code>%JAVA%</code> to your <code>PATH</code> variable.</p>\n<blockquote>\n<p>You will need to close your command prompt window and reopen it before the change will take effect</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1608222361,"creation_date":1608222361,"answer_id":65344551,"question_id":65344301,"body_markdown":" 1. Move `C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java` to the beginning in the `PATH` variable.\r\n 2. **Important** - Open a new `cmd` window and use the command `java -version`. Any already open `cmd` windows do not reflect the settings that you do in the environment variables form/window.","title":"&quot;java -version&quot;in cmd gives no result","body":"<ol>\n<li>Move <code>C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java</code> to the beginning in the <code>PATH</code> variable.</li>\n<li><strong>Important</strong> - Open a new <code>cmd</code> window and use the command <code>java -version</code>. Any already open <code>cmd</code> windows do not reflect the settings that you do in the environment variables form/window.</li>\n</ol>\n"}],"owner":{"account_id":12237869,"reputation":79,"user_id":8931728,"display_name":"Gesichtsfelsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13343,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":65344551,"answer_count":2,"score":6,"last_activity_date":1693637563,"creation_date":1608221397,"question_id":65344301,"body_markdown":"I tried to install java 14 manually on Windows 10. I set the System Variables as in [this picture][1].\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XeJxO.png\r\n\r\nBut when I use the command &quot;java -version&quot; literally nothing happens...\r\n\r\n    C:\\WINDOWS\\system32&gt;java -version\r\n    \r\n    C:\\WINDOWS\\system32&gt;\r\n\r\nSomething must be wrong, but I can&#39;t figure what...","title":"&quot;java -version&quot;in cmd gives no result","body":"<p>I tried to install java 14 manually on Windows 10. I set the System Variables as in <a href=\"https://i.stack.imgur.com/XeJxO.png\" rel=\"noreferrer\">this picture</a>.</p>\n<p>But when I use the command &quot;java -version&quot; literally nothing happens...</p>\n<pre><code>C:\\WINDOWS\\system32&gt;java -version\n\nC:\\WINDOWS\\system32&gt;\n</code></pre>\n<p>Something must be wrong, but I can't figure what...</p>\n"},{"tags":["java","spring","list","pagination","spring-data"],"comments":[{"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"score":2,"creation_date":1465565739,"post_id":37749559,"comment_id":62968891,"body_markdown":"Seems like you use it in a wrong way. You retrive all elements of the table, then wrap &#39;em into `PageImpl`. But you should pass `PageRequest` to the repository inside your service to make it work. Can you also post the code of your service method and repository?","body":"Seems like you use it in a wrong way. You retrive all elements of the table, then wrap &#39;em into <code>PageImpl</code>. But you should pass <code>PageRequest</code> to the repository inside your service to make it work. Can you also post the code of your service method and repository?"},{"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"score":0,"creation_date":1465566188,"post_id":37749559,"comment_id":62969188,"body_markdown":"Yes sure I will post them but they are quite length regarding the Impl method. But I will post the repository one","body":"Yes sure I will post them but they are quite length regarding the Impl method. But I will post the repository one"}],"answers":[{"tags":[],"owner":{"account_id":8405681,"reputation":2025,"user_id":6309238,"display_name":"shilaimuslm"},"down_vote_count":3,"up_vote_count":165,"is_accepted":false,"score":162,"last_activity_date":1614225517,"creation_date":1465718203,"answer_id":37771947,"question_id":37749559,"body_markdown":"I had the same problem. I used subList:\r\n\r\n    final int start = (int)pageable.getOffset();\r\n    final int end = Math.min((start + pageable.getPageSize()), users.size());\r\n    final Page&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), pageable, users.size());","title":"Conversion of List to Page in Spring","body":"<p>I had the same problem. I used subList:</p>\n<pre><code>final int start = (int)pageable.getOffset();\nfinal int end = Math.min((start + pageable.getPageSize()), users.size());\nfinal Page&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), pageable, users.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1481460459,"creation_date":1466690968,"answer_id":37994083,"question_id":37749559,"body_markdown":"As indicated in the [reference documentation][1], Spring Data repositories support pagination on query methods by simply declaring a parameter of type `Pageable` to make sure they&#39;re only reading the data necessary for the requested `Page`.\r\n\r\n    Page&lt;User&gt; page = findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\nThat would return a `Page` object with the page size/settings defined in your `Pageable` object. No need to get a list and then try to create a page out of it.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters","title":"Conversion of List to Page in Spring","body":"<p>As indicated in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"noreferrer\">reference documentation</a>, Spring Data repositories support pagination on query methods by simply declaring a parameter of type <code>Pageable</code> to make sure they're only reading the data necessary for the requested <code>Page</code>.</p>\n\n<pre><code>Page&lt;User&gt; page = findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p>That would return a <code>Page</code> object with the page size/settings defined in your <code>Pageable</code> object. No need to get a list and then try to create a page out of it.</p>\n"},{"tags":[],"owner":{"account_id":10551848,"reputation":21,"user_id":7774310,"display_name":"ram"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1490620334,"creation_date":1490620334,"answer_id":43047453,"question_id":37749559,"body_markdown":"Thanks guys below code is working in my case\r\n\r\n\t\r\n\t\tint start = pageble.getOffset();\r\n\t\tint end = (start + pageble.getPageSize()) &gt; vehicleModelsList.size() ? vehicleModelsList.size() : (start + pageble.getPageSize());\r\n","title":"Conversion of List to Page in Spring","body":"<p>Thanks guys below code is working in my case</p>\n\n<pre><code>    int start = pageble.getOffset();\n    int end = (start + pageble.getPageSize()) &gt; vehicleModelsList.size() ? vehicleModelsList.size() : (start + pageble.getPageSize());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318975,"reputation":1980,"user_id":4242934,"accept_rate":27,"display_name":"Borgy Manotoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520565096,"creation_date":1520565096,"answer_id":49186014,"question_id":37749559,"body_markdown":"Have you tried extending your repository to `PagingAndSortingRepository`?\r\n\r\n    public interface UserRepo extends PagingAndSortingRepository&lt;Ticket, Integer&gt; {\r\n        Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n    }\r\n\r\n\r\n**Service**  \r\n\r\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\n  \r\n*I assume you are using interface to the service:*  ","title":"Conversion of List to Page in Spring","body":"<p>Have you tried extending your repository to <code>PagingAndSortingRepository</code>?</p>\n\n<pre><code>public interface UserRepo extends PagingAndSortingRepository&lt;Ticket, Integer&gt; {\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n}\n</code></pre>\n\n<p><strong>Service</strong>  </p>\n\n<pre><code>Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p><em>I assume you are using interface to the service:</em>  </p>\n"},{"tags":[],"owner":{"account_id":3291308,"reputation":101,"user_id":2769569,"display_name":"RBuser2769569"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521090973,"creation_date":1521090973,"answer_id":49292059,"question_id":37749559,"body_markdown":"    //1) For a boot application create a paging repository interface\r\n    public interface PersonRepository extends PagingAndSortingRepository&lt;Person, \r\n    String&gt; {\r\n    // Common CURD method are automatically implemented\r\n    }\r\n    //2) create a service Interface\r\n    public interface PersonService {\r\n\t    Page&lt;Person&gt; listAllByPage(Pageable pageable); // Use common CURD findAll() method\r\n\t    Page&lt;Object&gt; listSpecByPage(Pageable pageable, String x);\r\n\t\r\n    }\r\n    //3) create a service Impl Class of service interface\r\n    @Service\r\n    public class PersonServiceImpl implements PersonService {\r\n\t\r\n        final PersonRepository personRepository;\r\n\t    \r\n\t    @Autowired\r\n\t    PersonServiceImpl(PersonRepository personRepository){\r\n\t\tthis.personRepository = personRepository;\r\n\t    }\r\n\t   \r\n        @Override\r\n\t    public Page&lt;Person&gt; listAllByPage(Pageable pageable) {\r\n\t\t      return personRepository.findAll(pageable);\r\n\t    }\r\n        @Override\r\n\t    public Page&lt;Object&gt; listSpecByPage(Pageable pageable, String path) {\r\n\t\t    List&lt;Object&gt; objectlist = new ArrayList&lt;Object&gt;();\r\n            // Do your process to get output in a list by using node.js run on a *js file defined in &#39;path&#39; varriable\r\n\t\t    Page&lt;Object&gt; pages1 = new PageImpl&lt;Object&gt;(objectlist, pageable, objectlist.size());\r\n\t\t    return pages1;\r\n\t    }\r\n\r\n    }\r\n    //4) write your controller\r\n    public class PersonController {\r\n\t\r\n        final PersonService personService;\r\n\t\r\n\t    @Autowired\r\n\t    PersonController( PersonService personService ){\r\n\t\t    this.personService = personService;\r\n\t    }\r\n\t    \r\n        @GetMapping(&quot;/get&quot;) // Use of findALL() function\r\n\t    Page&lt;Person&gt; listed( Pageable pageable){\r\n            Page&lt;Person&gt; persons = personService.listAllByPage(pageable);\r\n\t\t    return persons;\r\n\t    } \r\n\t    @GetMapping(&quot;/spec&quot;) // Use of defined function\r\n\t    Page&lt;Object&gt; listSpec( Pageable pageable, String path){\r\n\t\t    Page&lt;Object&gt; obj = personService.listSpecByPage(pageable, path);\r\n\t\t    return obj;\r\n\t   } \r\n\r\n    }","title":"Conversion of List to Page in Spring","body":"<pre><code>//1) For a boot application create a paging repository interface\npublic interface PersonRepository extends PagingAndSortingRepository&lt;Person, \nString&gt; {\n// Common CURD method are automatically implemented\n}\n//2) create a service Interface\npublic interface PersonService {\n    Page&lt;Person&gt; listAllByPage(Pageable pageable); // Use common CURD findAll() method\n    Page&lt;Object&gt; listSpecByPage(Pageable pageable, String x);\n\n}\n//3) create a service Impl Class of service interface\n@Service\npublic class PersonServiceImpl implements PersonService {\n\n    final PersonRepository personRepository;\n\n    @Autowired\n    PersonServiceImpl(PersonRepository personRepository){\n    this.personRepository = personRepository;\n    }\n\n    @Override\n    public Page&lt;Person&gt; listAllByPage(Pageable pageable) {\n          return personRepository.findAll(pageable);\n    }\n    @Override\n    public Page&lt;Object&gt; listSpecByPage(Pageable pageable, String path) {\n        List&lt;Object&gt; objectlist = new ArrayList&lt;Object&gt;();\n        // Do your process to get output in a list by using node.js run on a *js file defined in 'path' varriable\n        Page&lt;Object&gt; pages1 = new PageImpl&lt;Object&gt;(objectlist, pageable, objectlist.size());\n        return pages1;\n    }\n\n}\n//4) write your controller\npublic class PersonController {\n\n    final PersonService personService;\n\n    @Autowired\n    PersonController( PersonService personService ){\n        this.personService = personService;\n    }\n\n    @GetMapping(\"/get\") // Use of findALL() function\n    Page&lt;Person&gt; listed( Pageable pageable){\n        Page&lt;Person&gt; persons = personService.listAllByPage(pageable);\n        return persons;\n    } \n    @GetMapping(\"/spec\") // Use of defined function\n    Page&lt;Object&gt; listSpec( Pageable pageable, String path){\n        Page&lt;Object&gt; obj = personService.listSpecByPage(pageable, path);\n        return obj;\n   } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13333235,"reputation":81,"user_id":9623855,"display_name":"naveen kumar"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1523350958,"creation_date":1523350958,"answer_id":49749529,"question_id":37749559,"body_markdown":"    Try This:\r\n    \r\n    public Page&lt;Patient&gt; searchPatientPage(SearchPatientDto patient, int page, int size){\r\n    \t\tList&lt;Patient&gt; patientsList = new ArrayList&lt;Patient&gt;();\r\n    \t\tSet&lt;Patient&gt; list=searchPatient(patient);\r\n    \t\tpatientsList.addAll(list);\r\n    \t\tint start =  new PageRequest(page, size).getOffset();\r\n    \t\tint end = (start + new PageRequest(page, size).getPageSize()) &gt; patientsList.size() ? patientsList.size() : (start + new PageRequest(page, size).getPageSize());\r\n    \t\t\r\n    \t\treturn new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());\r\n    \t}","title":"Conversion of List to Page in Spring","body":"<pre><code>Try This:\n\npublic Page&lt;Patient&gt; searchPatientPage(SearchPatientDto patient, int page, int size){\n        List&lt;Patient&gt; patientsList = new ArrayList&lt;Patient&gt;();\n        Set&lt;Patient&gt; list=searchPatient(patient);\n        patientsList.addAll(list);\n        int start =  new PageRequest(page, size).getOffset();\n        int end = (start + new PageRequest(page, size).getPageSize()) &gt; patientsList.size() ? patientsList.size() : (start + new PageRequest(page, size).getPageSize());\n\n        return new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11649201,"reputation":689,"user_id":8530967,"display_name":"Sachin Gaur"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1539265280,"creation_date":1539265280,"answer_id":52761590,"question_id":37749559,"body_markdown":"There is a [`Page` implementation][1] for that:\r\n\r\n    Page&lt;Something&gt; page = new PageImpl&lt;&gt;(yourList);\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html","title":"Conversion of List to Page in Spring","body":"<p>There is a <a href=\"http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html\" rel=\"noreferrer\"><code>Page</code> implementation</a> for that:</p>\n\n<pre><code>Page&lt;Something&gt; page = new PageImpl&lt;&gt;(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12662498,"reputation":627,"user_id":9202894,"display_name":"Ashish Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539846910,"creation_date":1539697671,"answer_id":52837011,"question_id":37749559,"body_markdown":"This could be the solution. Sorting and pagination will work too this way:\r\n\r\nController:\r\n\r\n    public ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n       @RequestParam(name = &quot;programId&quot;, required = true) Integer programId Pageable pageable) {\r\n           Page&lt;User&gt; usersPage = userService.findAllByProgramId(programId, pageable);\r\n           Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(usersPage.getContent(), pageable, usersPage.getTotalElements());\r\n\r\n           return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n    }\r\n\r\nService:\r\n\r\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\nRepository:\r\n\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n           public Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n    }\r\n\r\nThis way, we can also return different page of entity too.\r\n","title":"Conversion of List to Page in Spring","body":"<p>This could be the solution. Sorting and pagination will work too this way:</p>\n\n<p>Controller:</p>\n\n<pre><code>public ResponseEntity&lt;User&gt; getUsersByProgramId(\n   @RequestParam(name = \"programId\", required = true) Integer programId Pageable pageable) {\n       Page&lt;User&gt; usersPage = userService.findAllByProgramId(programId, pageable);\n       Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(usersPage.getContent(), pageable, usersPage.getTotalElements());\n\n       return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n       public Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n}\n</code></pre>\n\n<p>This way, we can also return different page of entity too.</p>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1542731051,"creation_date":1542731051,"answer_id":53397309,"question_id":37749559,"body_markdown":"\r\nYou should do it like advised by the dubonzi&#39;s [answer][1].\r\n\r\nIf you still want to use pagination for a given `List` use [PagedListHolder][2]:\r\n\r\n    List&lt;String&gt; list = // ...\r\n    \r\n    // Creation\r\n    PagedListHolder page = new PagedListHolder(list);\r\n    page.setPageSize(10); // number of items per page\r\n    page.setPage(0);      // set to first page\r\n     \r\n    // Retrieval\r\n    page.getPageCount(); // number of pages \r\n    page.getPageList();  // a List which represents the current page\r\n       \r\nIf you need sorting, use another [PagedListHolder constructor][3] with a [MutableSortDefinition][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37994083/1788806\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html#PagedListHolder-java.util.List-org.springframework.beans.support.SortDefinition-\r\n  [4]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/MutableSortDefinition.html","title":"Conversion of List to Page in Spring","body":"<p>You should do it like advised by the dubonzi's <a href=\"https://stackoverflow.com/a/37994083/1788806\">answer</a>.</p>\n\n<p>If you still want to use pagination for a given <code>List</code> use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html\" rel=\"noreferrer\">PagedListHolder</a>:</p>\n\n<pre><code>List&lt;String&gt; list = // ...\n\n// Creation\nPagedListHolder page = new PagedListHolder(list);\npage.setPageSize(10); // number of items per page\npage.setPage(0);      // set to first page\n\n// Retrieval\npage.getPageCount(); // number of pages \npage.getPageList();  // a List which represents the current page\n</code></pre>\n\n<p>If you need sorting, use another <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html#PagedListHolder-java.util.List-org.springframework.beans.support.SortDefinition-\" rel=\"noreferrer\">PagedListHolder constructor</a> with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/MutableSortDefinition.html\" rel=\"noreferrer\">MutableSortDefinition</a>.</p>\n"},{"tags":[],"owner":{"account_id":9138389,"reputation":151,"user_id":6797228,"display_name":"sreerag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583312286,"creation_date":1583312286,"answer_id":60522317,"question_id":37749559,"body_markdown":"Instead of returing complete array list take subblist as per your requirement.\r\nYou will get &#39;offset&#39; and size from &#39;pageable&#39; object in request body. \r\n\r\n`\r\nnew PageImpl&lt;User&gt;(users.subList(start, end), pageable, users.size());`","title":"Conversion of List to Page in Spring","body":"<p>Instead of returing complete array list take subblist as per your requirement.\nYou will get 'offset' and size from 'pageable' object in request body. </p>\n\n<p><code>\nnew PageImpl&lt;User&gt;(users.subList(start, end), pageable, users.size());</code></p>\n"},{"tags":[],"owner":{"account_id":15040648,"reputation":71,"user_id":10855403,"display_name":"Paul Rozhkin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599993973,"creation_date":1599993973,"answer_id":63869850,"question_id":37749559,"body_markdown":"Implemented based on @shilaimuslm comment. In this case an exception will not be thrown if the start &gt; end in subList.\r\n```\r\nList&lt;User&gt; users = // ...\r\n\r\nPageable paging = PageRequest.of(pagePagination, sizePagination);\r\nint start = Math.min((int)paging.getOffset(), users.size());\r\nint end = Math.min((start + paging.getPageSize()), users.size());\r\n\r\nPage&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), paging, users.size());\r\n```","title":"Conversion of List to Page in Spring","body":"<p>Implemented based on @shilaimuslm comment. In this case an exception will not be thrown if the start &gt; end in subList.</p>\n<pre><code>List&lt;User&gt; users = // ...\n\nPageable paging = PageRequest.of(pagePagination, sizePagination);\nint start = Math.min((int)paging.getOffset(), users.size());\nint end = Math.min((start + paging.getPageSize()), users.size());\n\nPage&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), paging, users.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606852739,"creation_date":1606852739,"answer_id":65097660,"question_id":37749559,"body_markdown":"In the JHipster framework there is an interface for such things `PageUtil`:\r\n\r\n\r\n    static &lt;T&gt; Page&lt;T&gt; createPageFromList(List&lt;T&gt; list, Pageable pageable) {\r\n        if (list == null) {\r\n            throw new IllegalArgumentException(&quot;To create a Page, the list mustn&#39;t be null!&quot;);\r\n        }\r\n\r\n        int startOfPage = pageable.getPageNumber() * pageable.getPageSize();\r\n        if (startOfPage &gt; list.size()) {\r\n            return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, 0);\r\n        }\r\n\r\n        int endOfPage = Math.min(startOfPage + pageable.getPageSize(), list.size());\r\n        return new PageImpl&lt;&gt;(list.subList(startOfPage, endOfPage), pageable, list.size());\r\n    }\r\n \r\n\r\n","title":"Conversion of List to Page in Spring","body":"<p>In the JHipster framework there is an interface for such things <code>PageUtil</code>:</p>\n<pre><code>static &lt;T&gt; Page&lt;T&gt; createPageFromList(List&lt;T&gt; list, Pageable pageable) {\n    if (list == null) {\n        throw new IllegalArgumentException(&quot;To create a Page, the list mustn't be null!&quot;);\n    }\n\n    int startOfPage = pageable.getPageNumber() * pageable.getPageSize();\n    if (startOfPage &gt; list.size()) {\n        return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, 0);\n    }\n\n    int endOfPage = Math.min(startOfPage + pageable.getPageSize(), list.size());\n    return new PageImpl&lt;&gt;(list.subList(startOfPage, endOfPage), pageable, list.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18500740,"reputation":61,"user_id":13478131,"display_name":"Martin Alvarado Diaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639023515,"creation_date":1639023515,"answer_id":70284662,"question_id":37749559,"body_markdown":"This is the correct answer to pagging a list\r\n```\r\npublic ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n            @RequestParam(name = &quot;programId&quot;, required = true) Integer programId, Pageable pageable) {\r\n        List&lt;User&gt; users = userService.findAllByProgramId(programId);\r\n\r\n        final int toIndex = Math.min((pageable.getPageNumber() + 1) * pageable.getPageSize(),\r\n\t\t\t\t\tbidList.size());\r\n\t\tfinal int fromIndex = Math.max(toIndex - pageable.getPageSize(), 0);\r\n        Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users.subList(fromIndex, toIndex), pageable, users.size());\r\n    \r\n        return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n}\r\n```\r\n\r\n","title":"Conversion of List to Page in Spring","body":"<p>This is the correct answer to pagging a list</p>\n<pre><code>public ResponseEntity&lt;User&gt; getUsersByProgramId(\n            @RequestParam(name = &quot;programId&quot;, required = true) Integer programId, Pageable pageable) {\n        List&lt;User&gt; users = userService.findAllByProgramId(programId);\n\n        final int toIndex = Math.min((pageable.getPageNumber() + 1) * pageable.getPageSize(),\n                    bidList.size());\n        final int fromIndex = Math.max(toIndex - pageable.getPageSize(), 0);\n        Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users.subList(fromIndex, toIndex), pageable, users.size());\n    \n        return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659013954,"creation_date":1659013954,"answer_id":73153572,"question_id":37749559,"body_markdown":"You can use this generic function for converting List to page.\r\n\r\n    public static&lt;T&gt; Page&lt;T&gt; convertToPage(List&lt;T&gt; objectList, Pageable pageable){\r\n        int start = (int) pageable.getOffset();\r\n        int end = Math.min(start+pageable.getPageSize(),objectList.size());\r\n        List&lt;T&gt; subList = start&gt;=end?new ArrayList&lt;&gt;():objectList.subList(start,end);\r\n        return new PageImpl&lt;&gt;(subList,pageable,objectList.size());\r\n    }\r\n","title":"Conversion of List to Page in Spring","body":"<p>You can use this generic function for converting List to page.</p>\n<pre><code>public static&lt;T&gt; Page&lt;T&gt; convertToPage(List&lt;T&gt; objectList, Pageable pageable){\n    int start = (int) pageable.getOffset();\n    int end = Math.min(start+pageable.getPageSize(),objectList.size());\n    List&lt;T&gt; subList = start&gt;=end?new ArrayList&lt;&gt;():objectList.subList(start,end);\n    return new PageImpl&lt;&gt;(subList,pageable,objectList.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22739480,"reputation":343,"user_id":16901221,"display_name":"Implermine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675404095,"creation_date":1675404095,"answer_id":75332039,"question_id":37749559,"body_markdown":"u didn&#39;t made paged result \r\n\r\n`new PageImpl&lt;User&gt;(users, pageable, users.size());` does not make paged result implicitly,\r\n\r\nin this context, `pageable` argument just makes meta-data of Page object like page, offset, size... etc\r\n\r\nSo you have to use Repository method like \r\n\r\n`Page&lt;User&gt;findAllByProgramId(Integer programId, Pageable pageable);`","title":"Conversion of List to Page in Spring","body":"<p>u didn't made paged result</p>\n<p><code>new PageImpl&lt;User&gt;(users, pageable, users.size());</code> does not make paged result implicitly,</p>\n<p>in this context, <code>pageable</code> argument just makes meta-data of Page object like page, offset, size... etc</p>\n<p>So you have to use Repository method like</p>\n<p><code>Page&lt;User&gt;findAllByProgramId(Integer programId, Pageable pageable);</code></p>\n"},{"tags":[],"owner":{"account_id":27950965,"reputation":1,"user_id":21344829,"display_name":"Jonas Mota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680113192,"creation_date":1680113192,"answer_id":75880686,"question_id":37749559,"body_markdown":"I was facing the same problem. I solved it by first obtaining the total value, then setting PageImpl\r\n\r\n    Long total =  users.size();\r\n    Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, total );","title":"Conversion of List to Page in Spring","body":"<p>I was facing the same problem. I solved it by first obtaining the total value, then setting PageImpl</p>\n<pre><code>Long total =  users.size();\nPage&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, total );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693637417,"creation_date":1693637417,"answer_id":77027259,"question_id":37749559,"body_markdown":"From SpringBoot 2.4 you can use `PageableExecutionUtils` as below:\r\n\r\n```\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;ownedParkByOwner&quot;).ne(true));\r\n\r\n        List&lt;PlaceV2&gt; placeV2s = mongoTemplate.find(query, PlaceV2.class);\r\n\r\n        Page&lt;PlaceV2&gt; placeV2Page = PageableExecutionUtils.getPage(\r\n            placeV2s,\r\n            pageable,\r\n            placeV2s::size);\r\n\r\n```","title":"Conversion of List to Page in Spring","body":"<p>From SpringBoot 2.4 you can use <code>PageableExecutionUtils</code> as below:</p>\n<pre><code>        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;ownedParkByOwner&quot;).ne(true));\n\n        List&lt;PlaceV2&gt; placeV2s = mongoTemplate.find(query, PlaceV2.class);\n\n        Page&lt;PlaceV2&gt; placeV2Page = PageableExecutionUtils.getPage(\n            placeV2s,\n            pageable,\n            placeV2s::size);\n\n</code></pre>\n"}],"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212198,"favorite_count":0,"down_vote_count":1,"up_vote_count":108,"answer_count":17,"score":107,"last_activity_date":1693637417,"creation_date":1465565357,"question_id":37749559,"body_markdown":"I am trying to convert list to page in spring. I have converted it using \r\n\r\n&gt; new PageImpl&lt;User&gt;(users, pageable, users.size());\r\n\r\nBut now I having problem with sorting and pagination itself. When I try passing size and page, the pagination doesn&#39;t work.\r\n\r\nHere&#39;s the code I am using.\r\n\r\nMy Controller\r\n\r\n    \tpublic ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n\t\t\t@RequestParam(name = &quot;programId&quot;, required = true) Integer programId Pageable pageable) {\r\n\r\n\t\tList&lt;User&gt; users = userService.findAllByProgramId(programId);\r\n\t\tPage&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, users.size());\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n\t}\r\n\r\n\r\nHere is my user Repo\r\n\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n\r\n\tpublic List&lt;User&gt; findAllByProgramId(Integer programId);\r\n\r\nHere is my service\r\n\r\n    \tpublic List&lt;User&gt; findAllByProgramId(Integer programId);\r\n","title":"Conversion of List to Page in Spring","body":"<p>I am trying to convert list to page in spring. I have converted it using </p>\n\n<blockquote>\n  <p>new PageImpl(users, pageable, users.size());</p>\n</blockquote>\n\n<p>But now I having problem with sorting and pagination itself. When I try passing size and page, the pagination doesn't work.</p>\n\n<p>Here's the code I am using.</p>\n\n<p>My Controller</p>\n\n<pre><code>    public ResponseEntity&lt;User&gt; getUsersByProgramId(\n        @RequestParam(name = \"programId\", required = true) Integer programId Pageable pageable) {\n\n    List&lt;User&gt; users = userService.findAllByProgramId(programId);\n    Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, users.size());\n\n    return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n\n<p>Here is my user Repo</p>\n\n<pre><code>public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n\npublic List&lt;User&gt; findAllByProgramId(Integer programId);\n</code></pre>\n\n<p>Here is my service</p>\n\n<pre><code>    public List&lt;User&gt; findAllByProgramId(Integer programId);\n</code></pre>\n"},{"tags":["java","ssl","tomcat","keystore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1693434939,"post_id":77011856,"comment_id":135762463,"body_markdown":"&#39;True or false?&#39;: true. As long as you have any of the signer certificates in the truststore you don&#39;t need the server certificate, or any certificate below that signer certificate.","body":"&#39;True or false?&#39;: true. As long as you have any of the signer certificates in the truststore you don&#39;t need the server certificate, or any certificate below that signer certificate."}],"answers":[{"tags":[],"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693637233,"creation_date":1693637233,"answer_id":77027248,"question_id":77011856,"body_markdown":"You are correct. If it wasn&#39;t the case then everyone would need to install everyones certificate in order to establish SSL connections. The CA root cert is what makes it so we don&#39;t need to do this. Your understanding is correct.","title":"Outgoing Tomcat SSL Connection","body":"<p>You are correct. If it wasn't the case then everyone would need to install everyones certificate in order to establish SSL connections. The CA root cert is what makes it so we don't need to do this. Your understanding is correct.</p>\n"}],"owner":{"account_id":12651789,"reputation":43,"user_id":9195653,"display_name":"Durr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693637233,"creation_date":1693434054,"question_id":77011856,"body_markdown":"I have a Java application being served by Tomcat on Server A.  Server A needs to make an SSL connection to Server B.  As long as I have the root certificate in cacerts on Server A for the CA that issued Server B&#39;s server certificate I don&#39;t need to install Server B&#39;s certificate on Server A.\r\n\r\nTrue or false?  \r\n\r\nCurrently, Server B&#39;s certificate is installed on Server A.  I want to remove it because I don&#39;t think it needs to be there.  Will this disable the SSL connection between Server A and Server B?","title":"Outgoing Tomcat SSL Connection","body":"<p>I have a Java application being served by Tomcat on Server A.  Server A needs to make an SSL connection to Server B.  As long as I have the root certificate in cacerts on Server A for the CA that issued Server B's server certificate I don't need to install Server B's certificate on Server A.</p>\n<p>True or false?</p>\n<p>Currently, Server B's certificate is installed on Server A.  I want to remove it because I don't think it needs to be there.  Will this disable the SSL connection between Server A and Server B?</p>\n"},{"tags":["java","netbeans","javadoc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1693652743,"post_id":77027180,"comment_id":135790981,"body_markdown":"If you are using Maven as the build tool, the default location for generated javadocs is `${project.build.directory}/apidocs`.   If you are using Gradle it is `${project.docsDir}/javadoc`.   These can be changed in the respective build files. If you still can&#39;t find it, use the `find` shell command (or your OS&#39;s equivalent) to search the projects for `index.html` files.","body":"If you are using Maven as the build tool, the default location for generated javadocs is <code>${project.build.directory}&#47;apidocs</code>.   If you are using Gradle it is <code>${project.docsDir}&#47;javadoc</code>.   These can be changed in the respective build files. If you still can&#39;t find it, use the <code>find</code> shell command (or your OS&#39;s equivalent) to search the projects for <code>index.html</code> files."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693909240,"post_id":77027180,"comment_id":135818384,"body_markdown":"Assuming you are building a Maven project with no special configuration, and to elaborate on Stephen&#39;s comment: when you _Generate Javadoc_ then in the **Output** window that is opened the first line will detail the call to **mvn.cmd** that is triggered. At the end of that line you should see _javadoc:javadoc_. The [Maven documentation for _javadoc:javadoc_](https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html) specifies the default _&lt;outputDirectory&gt;_ for the javadocs. In my case that directory was **{project dir}/target/site/apidocs**. Do you not see that directory?","body":"Assuming you are building a Maven project with no special configuration, and to elaborate on Stephen&#39;s comment: when you <i>Generate Javadoc</i> then in the <b>Output</b> window that is opened the first line will detail the call to <b>mvn.cmd</b> that is triggered. At the end of that line you should see <i>javadoc:javadoc</i>. The <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html\" rel=\"nofollow noreferrer\">Maven documentation for <i>javadoc:javadoc</i></a> specifies the default <i>&lt;outputDirectory&gt;</i> for the javadocs. In my case that directory was <b>{project dir}/target/site/apidocs</b>. Do you not see that directory?"}],"owner":{"account_id":28937736,"reputation":1,"user_id":22164906,"display_name":"helpme82628"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693635608,"creation_date":1693635608,"question_id":77027180,"body_markdown":"I am able to generate the Javadoc on NetBeans by right clicking my project ad putting generate javadoc. This gives me a BUILD SUCCESS in the output. However, I can&#39;t see the html file.\r\n\r\nAll the answers I&#39;m finding say to go to properties and under build there should be an output directory, but I can&#39;t find it. Also attemped to look through my files for a dist/javadoc but can&#39;t find that either. ","title":"How to see the Javadoc after generating it in NetBeans","body":"<p>I am able to generate the Javadoc on NetBeans by right clicking my project ad putting generate javadoc. This gives me a BUILD SUCCESS in the output. However, I can't see the html file.</p>\n<p>All the answers I'm finding say to go to properties and under build there should be an output directory, but I can't find it. Also attemped to look through my files for a dist/javadoc but can't find that either.</p>\n"},{"tags":["java","classpath","classloader","aspectj","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692134684,"post_id":76889724,"comment_id":135582515,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692934718,"post_id":76889724,"comment_id":135694938,"body_markdown":"Your Maven project setup looks horrible. Why are you messing with the default directory layout regarding the target directory, moving the binaries (but not the sources) to `bin` on top level? Why do you think you need to copy dependencies to `lib`? Also, your test does nothing meaningful. I would first have to repair your whole Maven setup before fixing your dependency issue. Besides, `lib` and `bin` are not cleaned up properly by Maven Clean Plugin. There are other issues, these are just the  ones I want to mention here.","body":"Your Maven project setup looks horrible. Why are you messing with the default directory layout regarding the target directory, moving the binaries (but not the sources) to <code>bin</code> on top level? Why do you think you need to copy dependencies to <code>lib</code>? Also, your test does nothing meaningful. I would first have to repair your whole Maven setup before fixing your dependency issue. Besides, <code>lib</code> and <code>bin</code> are not cleaned up properly by Maven Clean Plugin. There are other issues, these are just the  ones I want to mention here."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692934934,"post_id":76889724,"comment_id":135694950,"body_markdown":"What stops you from using a Spring Boot plugin to create an uber JAR containing all dependencies? I know, that would not repair your duplicate class issue, but that one is secondary. First, I want to understand why you are working like this, making a simple matter more complicated and your own life harder than necessary,","body":"What stops you from using a Spring Boot plugin to create an uber JAR containing all dependencies? I know, that would not repair your duplicate class issue, but that one is secondary. First, I want to understand why you are working like this, making a simple matter more complicated and your own life harder than necessary,"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693271843,"post_id":76889724,"comment_id":135735731,"body_markdown":"I still have this on my radar and am 100% sure I can help you, but I still need your feedback first, before I suggest something that in the end you don&#39;t want. It is not difficult to solve this problem, but there are multiple ways to do it.","body":"I still have this on my radar and am 100% sure I can help you, but I still need your feedback first, before I suggest something that in the end you don&#39;t want. It is not difficult to solve this problem, but there are multiple ways to do it."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693400485,"post_id":76889724,"comment_id":135755625,"body_markdown":"Sir, thanks your answer. About the **bin** and **lib**. It&#39;s a just an coincidence. I have a project cooperated with a web developer. The html use http to communicate with my server. I rent a server which has a public ip from a cloud company. I use ftp to upload my jars to the server. To save uploading time, I move my project jar and my dependency jar to bin and lib.  With this approach, I don&#39;t need to select jar file from different target directories.","body":"Sir, thanks your answer. About the <b>bin</b> and <b>lib</b>. It&#39;s a just an coincidence. I have a project cooperated with a web developer. The html use http to communicate with my server. I rent a server which has a public ip from a cloud company. I use ftp to upload my jars to the server. To save uploading time, I move my project jar and my dependency jar to bin and lib.  With this approach, I don&#39;t need to select jar file from different target directories."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693402161,"post_id":76889724,"comment_id":135756037,"body_markdown":"I want to create a demo to show you how to reproduce the duplicate class problem.  So I  just copy a pom from my other project. That&#39;s all","body":"I want to create a demo to show you how to reproduce the duplicate class problem.  So I  just copy a pom from my other project. That&#39;s all"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693463729,"post_id":76889724,"comment_id":135764848,"body_markdown":"And what are you expecting now? That I spend time fixing your problem for a setup that is different from what you actually use, and in the end you tell me that it is not what you wanted? Besides, you still did not explain why the POMs look so weird. Your POMs are what you want me to fix, aren&#39;t they? Since I cannot read your mind, you need to be a little less lazy and explain better. Otherwise the effect will be &quot;garbage in, garbage out&quot;. As for &quot;coincidence&quot;: I doubt that any of this is coincidence. Programmers build projects deterministically. Cause and effect.","body":"And what are you expecting now? That I spend time fixing your problem for a setup that is different from what you actually use, and in the end you tell me that it is not what you wanted? Besides, you still did not explain why the POMs look so weird. Your POMs are what you want me to fix, aren&#39;t they? Since I cannot read your mind, you need to be a little less lazy and explain better. Otherwise the effect will be &quot;garbage in, garbage out&quot;. As for &quot;coincidence&quot;: I doubt that any of this is coincidence. Programmers build projects deterministically. Cause and effect."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693492090,"post_id":76889724,"comment_id":135770867,"body_markdown":"To explain myself clearly, I draw a picture.  https://github.com/chuanghou/lost/blob/main/Snipaste_2023-08-31_22-25-38.png, please ignore the ugly project.","body":"To explain myself clearly, I draw a picture.  <a href=\"https://github.com/chuanghou/lost/blob/main/Snipaste_2023-08-31_22-25-38.png\" rel=\"nofollow noreferrer\">github.com/chuanghou/lost/blob/main/&hellip;</a>, please ignore the ugly project."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693492350,"post_id":76889724,"comment_id":135770926,"body_markdown":"I am very sorry that I can not explain my self clearly. Follows is the only question I want to ask. If I use a aspectj-maven-plugin to weaven an aspect to A.class in a third-party jar. The third-party jar won&#39;t be changed and will stay in my classpath. ajc-plugin will make a new A.class file with same package and class name compare to the original A.class inside the third-party jar. Then the class loader will find two class file sharing same absolute path in classpath. So which class will be loaded？","body":"I am very sorry that I can not explain my self clearly. Follows is the only question I want to ask. If I use a aspectj-maven-plugin to weaven an aspect to A.class in a third-party jar. The third-party jar won&#39;t be changed and will stay in my classpath. ajc-plugin will make a new A.class file with same package and class name compare to the original A.class inside the third-party jar. Then the class loader will find two class file sharing same absolute path in classpath. So which class will be loaded？"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693634429,"creation_date":1693634429,"answer_id":77027139,"question_id":76889724,"body_markdown":"Instead of thinking classpath ordering, you should use the clean and obvious choice to not include the original JARs woven by your aspects in the classpath (or the fat JAR) at all, because everything on AspectJ&#39;s _inpath_ during compilation (`weaveDependencies` in AspectJ Maven) will be in the compilation result of the corresponding module, without regard if particular classes have been affected by aspects or not. Your other modules ought to depend on the woven modules, but not on their transitive unwoven dependencies.\r\n\r\nHow to achieve that, strongly depends on your situation. Some options include\r\n  * using dependency excludes,\r\n  * using Flatten Maven Plugin to create a dependency-reduced POM for each woven module,\r\n  * excluding weave dependencies from packaging when using Maven Assembly, Maven Shade or a Spring Boot applicaction packager plugin.\r\n\r\nAll of the above can help in Maven, depending on your situation, which is why I asked detail questions that you are unwilling to answer more clearly. Not my problem, you are shooting yourself into your own foot.\r\n\r\nIf you get it working in Maven, but somehow not in your IDE, because the IDE maybe does not understand what Flatten Maven does and still adds the weave dependencies on the classpath in a single multi-module project, you might have to use a separate project for Aspect weaving and creating an uber JAR or a module with dependency-reduced POM, `mvn install` it and then consume it in project B. But usually there are ways to avoid that, even though it is a clean and simple way, too.\r\n\r\nHere is a [PR for your project](https://github.com/chuanghou/lost/pull/1), showing how to adjust Maven Dependency Plugin to copy the correct dependencies to the _lib_ directory. If you run `starter` with that _lib_ directory on the classpath or put the two into a fat JAR together, it should work. No more duplicate classes on the classpath.","title":"aspecj-maven-plugin, weaving dependency feature, random load java class","body":"<p>Instead of thinking classpath ordering, you should use the clean and obvious choice to not include the original JARs woven by your aspects in the classpath (or the fat JAR) at all, because everything on AspectJ's <em>inpath</em> during compilation (<code>weaveDependencies</code> in AspectJ Maven) will be in the compilation result of the corresponding module, without regard if particular classes have been affected by aspects or not. Your other modules ought to depend on the woven modules, but not on their transitive unwoven dependencies.</p>\n<p>How to achieve that, strongly depends on your situation. Some options include</p>\n<ul>\n<li>using dependency excludes,</li>\n<li>using Flatten Maven Plugin to create a dependency-reduced POM for each woven module,</li>\n<li>excluding weave dependencies from packaging when using Maven Assembly, Maven Shade or a Spring Boot applicaction packager plugin.</li>\n</ul>\n<p>All of the above can help in Maven, depending on your situation, which is why I asked detail questions that you are unwilling to answer more clearly. Not my problem, you are shooting yourself into your own foot.</p>\n<p>If you get it working in Maven, but somehow not in your IDE, because the IDE maybe does not understand what Flatten Maven does and still adds the weave dependencies on the classpath in a single multi-module project, you might have to use a separate project for Aspect weaving and creating an uber JAR or a module with dependency-reduced POM, <code>mvn install</code> it and then consume it in project B. But usually there are ways to avoid that, even though it is a clean and simple way, too.</p>\n<p>Here is a <a href=\"https://github.com/chuanghou/lost/pull/1\" rel=\"nofollow noreferrer\">PR for your project</a>, showing how to adjust Maven Dependency Plugin to copy the correct dependencies to the <em>lib</em> directory. If you run <code>starter</code> with that <em>lib</em> directory on the classpath or put the two into a fat JAR together, it should work. No more duplicate classes on the classpath.</p>\n"}],"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77027139,"answer_count":1,"score":0,"last_activity_date":1693634429,"creation_date":1691850284,"question_id":76889724,"body_markdown":"I use maven-aspectj-plugin in a multi modules project using maven as a dependency tool. A simple demo project, you could find here [demo-project](https://github.com/chuanghou/lost).\r\n\r\nAt my real project, for the compatibiliy with lombok, I use an unusually dependency graph of modules;\r\n\r\nstarter ---&gt; ajc ----&gt; my business modules. \r\n\r\nThe starter is the program entrancem. The aspects are in ajc module which has only aspects. All the java class which will be weaved into are in business modules. Using this dependency, so I could use lombok in my business modules, and the weaving process appears in the compile of ajc module. At that time, the business module has been compiled to byte code with lombok. Of course, I need use the weaveDependency style.\r\n\r\nIt has been working well for a long time. But today I begin my another project. The proceeding point was not enter into. The most interesting part is the aspect work well when i use idea to run the application. But I deploy it with jars. The program do not enter aspect. I try to reproduce the bug using a simple project [demo](https://github.com/chuanghou/lost). But the aspect works well unexpectedly.\r\n\r\n\r\nSo I dig into target directory of ajc module. I found the class files which are same with the weaving goal java class in my bussiness modules. Interesting, it answer my another question. The weaving dependency feature didn&#39;t edit the target jar. How it works? Now, I know that, it add a new class with aspect in aspects directory. Jvm may choose one of java classes. \r\n\r\n[![Windows Explorer, showing identically named class files in two different directories][1]][1]\r\n\r\nI think my questions should comes from this random procedure. \r\n\r\nAnd the finally questions: If my guess is right. The weave dependency featue is that copy the original java class and edit it, then put it in a another directory or another jar, but shares same package name and class name with the orignal java class. But it will bring another problem, there are two java class file with same package name and same class name. The class loading will perform different in different OS thanks to file inode and it dependend on the os file system.\r\n\r\nAre there any mechanisms to prevent class loader random load one java class file of these two.\r\n\r\n\r\nI have give my guess in the details. Want to hear explain from plugin author about this question\r\n\r\n  [1]: https://i.stack.imgur.com/cCcit.png","title":"aspecj-maven-plugin, weaving dependency feature, random load java class","body":"<p>I use maven-aspectj-plugin in a multi modules project using maven as a dependency tool. A simple demo project, you could find here <a href=\"https://github.com/chuanghou/lost\" rel=\"nofollow noreferrer\">demo-project</a>.</p>\n<p>At my real project, for the compatibiliy with lombok, I use an unusually dependency graph of modules;</p>\n<p>starter ---&gt; ajc ----&gt; my business modules.</p>\n<p>The starter is the program entrancem. The aspects are in ajc module which has only aspects. All the java class which will be weaved into are in business modules. Using this dependency, so I could use lombok in my business modules, and the weaving process appears in the compile of ajc module. At that time, the business module has been compiled to byte code with lombok. Of course, I need use the weaveDependency style.</p>\n<p>It has been working well for a long time. But today I begin my another project. The proceeding point was not enter into. The most interesting part is the aspect work well when i use idea to run the application. But I deploy it with jars. The program do not enter aspect. I try to reproduce the bug using a simple project <a href=\"https://github.com/chuanghou/lost\" rel=\"nofollow noreferrer\">demo</a>. But the aspect works well unexpectedly.</p>\n<p>So I dig into target directory of ajc module. I found the class files which are same with the weaving goal java class in my bussiness modules. Interesting, it answer my another question. The weaving dependency feature didn't edit the target jar. How it works? Now, I know that, it add a new class with aspect in aspects directory. Jvm may choose one of java classes.</p>\n<p><a href=\"https://i.stack.imgur.com/cCcit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCcit.png\" alt=\"Windows Explorer, showing identically named class files in two different directories\" /></a></p>\n<p>I think my questions should comes from this random procedure.</p>\n<p>And the finally questions: If my guess is right. The weave dependency featue is that copy the original java class and edit it, then put it in a another directory or another jar, but shares same package name and class name with the orignal java class. But it will bring another problem, there are two java class file with same package name and same class name. The class loading will perform different in different OS thanks to file inode and it dependend on the os file system.</p>\n<p>Are there any mechanisms to prevent class loader random load one java class file of these two.</p>\n<p>I have give my guess in the details. Want to hear explain from plugin author about this question</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"score":0,"creation_date":1683820275,"post_id":76229423,"comment_id":134428388,"body_markdown":"Also this is the type of error that it gives me:\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\tCOURIER cannot be resolved or is not a field","body":"Also this is the type of error that it gives me: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tCOURIER cannot be resolved or is not a field"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1683824285,"post_id":76229423,"comment_id":134429342,"body_markdown":"What version are you using? Hopefully 2.0.28.","body":"What version are you using? Hopefully 2.0.28."},{"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"score":0,"creation_date":1683871171,"post_id":76229423,"comment_id":134435668,"body_markdown":"I&#39;m using the 3.0.0 alpha version","body":"I&#39;m using the 3.0.0 alpha version"},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":1,"creation_date":1683873627,"post_id":76229423,"comment_id":134436003,"body_markdown":"@DanieleZeraschi please add all the info like error and anything else people ask about into the question, not just in comments.","body":"@DanieleZeraschi please add all the info like error and anything else people ask about into the question, not just in comments."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1683881704,"post_id":76229423,"comment_id":134437560,"body_markdown":"You&#39;re likely a newbie in PDFBox. Use 2.0.28 because 3.0.0 has different classes.","body":"You&#39;re likely a newbie in PDFBox. Use 2.0.28 because 3.0.0 has different classes."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683882023,"creation_date":1683882023,"answer_id":76234713,"question_id":76229423,"body_markdown":"You are using PDFBox 2.x code with PDFBox 3.x in a context where these versions differ, see the [PDFBox 3.0 Migration Guide][1]:\r\n\r\n&gt;### Static instances for Standard 14 fonts removed\r\n&gt;The static instances of `PDType1Font` for the standard 14 fonts were removed as the underlying `COSDictionary` isn&#39;t supposed to be immutable which led to several issues.\r\n&gt;\r\n&gt;A new constructor for `PDType1Font` was introduced to create a standard 14 font. The new Enum `Standard14Fonts.FontName` is the one and only parameter and defines the name of the standard 14 font for which the instance of `PDType1Font` is created for. That instance isn&#39;t a singleton anymore and has to be recreated if necessary or cached by the user if suitable.\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/3.0/migration.html#static-instances-for-standard-14-fonts-removed","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p>You are using PDFBox 2.x code with PDFBox 3.x in a context where these versions differ, see the <a href=\"https://pdfbox.apache.org/3.0/migration.html#static-instances-for-standard-14-fonts-removed\" rel=\"nofollow noreferrer\">PDFBox 3.0 Migration Guide</a>:</p>\n<blockquote>\n<h3>Static instances for Standard 14 fonts removed</h3>\n<p>The static instances of <code>PDType1Font</code> for the standard 14 fonts were removed as the underlying <code>COSDictionary</code> isn't supposed to be immutable which led to several issues.</p>\n<p>A new constructor for <code>PDType1Font</code> was introduced to create a standard 14 font. The new Enum <code>Standard14Fonts.FontName</code> is the one and only parameter and defines the name of the standard 14 font for which the instance of <code>PDType1Font</code> is created for. That instance isn't a singleton anymore and has to be recreated if necessary or cached by the user if suitable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25824501,"reputation":71,"user_id":19562950,"display_name":"HS Nain."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693633821,"creation_date":1693633821,"answer_id":77027117,"question_id":76229423,"body_markdown":"Use this line of code instead.\r\n\r\n     contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.COURIER), 15);","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p>Use this line of code instead.</p>\n<pre><code> contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.COURIER), 15);\n</code></pre>\n"}],"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76234713,"answer_count":2,"score":1,"last_activity_date":1693633821,"creation_date":1683819914,"question_id":76229423,"body_markdown":"`contentStream.setFont(PDType1Font.COURIER, 15);`\r\n\r\nAfter that i added the . it shoud come up with many options of fonts, i also imported the library for the function setFont(); \r\n\r\n```\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;  \r\n```\r\n\r\n\r\nI tried to delete and add the library again, but it didnt work","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p><code>contentStream.setFont(PDType1Font.COURIER, 15);</code></p>\n<p>After that i added the . it shoud come up with many options of fonts, i also imported the library for the function setFont();</p>\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;  \n</code></pre>\n<p>I tried to delete and add the library again, but it didnt work</p>\n"},{"tags":["java","concurrenthashmap","multimap"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1693558243,"post_id":77021690,"comment_id":135779902,"body_markdown":"Had a bit similar problem, finally came up a pair of map. In your case it could be multimaps book-authors and author-books. Corollary, we have to change them synchronously","body":"Had a bit similar problem, finally came up a pair of map. In your case it could be multimaps book-authors and author-books. Corollary, we have to change them synchronously"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693558531,"post_id":77021690,"comment_id":135779953,"body_markdown":"All process must be thread safe, and book, author values must be removed from memory as they get unusable. This is the most difficult situation for me","body":"All process must be thread safe, and book, author values must be removed from memory as they get unusable. This is the most difficult situation for me"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1693558882,"post_id":77021690,"comment_id":135780006,"body_markdown":"Well, all the concurrency could be easily solved at least with simple synchronization. If you are looking for a lock-free (at least partially) solution, then its for sure more tough, but probably general synchronozation is ok","body":"Well, all the concurrency could be easily solved at least with simple synchronization. If you are looking for a lock-free (at least partially) solution, then its for sure more tough, but probably general synchronozation is ok"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693559062,"post_id":77021690,"comment_id":135780037,"body_markdown":"I hate lock based sync. It&#39;s about spring mvc proj, and lock free is the only way for me","body":"I hate lock based sync. It&#39;s about spring mvc proj, and lock free is the only way for me"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1693560552,"post_id":77021690,"comment_id":135780367,"body_markdown":"I can hardly imagine 100% lock free solution. All that stuff would be anyway enclosed in some managing class, so for you just a typical method would be available. It doesn&#39;t matter is it Spring or not, any method of any library could be synchronized under the hood. For example, basic `someMap.put()` could turn out to `someMap` be got as `Collections.synchronizedMap(new HashMap&lt;&gt;())`","body":"I can hardly imagine 100% lock free solution. All that stuff would be anyway enclosed in some managing class, so for you just a typical method would be available. It doesn&#39;t matter is it Spring or not, any method of any library could be synchronized under the hood. For example, basic <code>someMap.put()</code> could turn out to <code>someMap</code> be got as <code>Collections.synchronizedMap(new HashMap&lt;&gt;())</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693562572,"post_id":77021690,"comment_id":135780743,"body_markdown":"I think it can be done lock free if eventual consistency is acceptable. In other words, if it’s OK for a book to be temporarily indexed under one author and not the other right as it is being added or removed. Is that OK?","body":"I think it can be done lock free if eventual consistency is acceptable. In other words, if it’s OK for a book to be temporarily indexed under one author and not the other right as it is being added or removed. Is that OK?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1693562871,"post_id":77021690,"comment_id":135780787,"body_markdown":"By the way, why do you need the book to be in a queue? Would some other collection type (such as a set) also be ok? Is there something special about a book&#39;s position in a queue?","body":"By the way, why do you need the book to be in a queue? Would some other collection type (such as a set) also be ok? Is there something special about a book&#39;s position in a queue?"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693619289,"post_id":77021690,"comment_id":135788772,"body_markdown":"@k314159 a book is a type of attendance checking for the authors. and insertion rate of book is high. When processor get a book from queue, there is a something complicated routine must be processed","body":"@k314159 a book is a type of attendance checking for the authors. and insertion rate of book is high. When processor get a book from queue, there is a something complicated routine must be processed"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1693623665,"post_id":77021690,"comment_id":135788957,"body_markdown":"I think there’s not enough detail in the question to give an answer that will suit your needs","body":"I think there’s not enough detail in the question to give an answer that will suit your needs"}],"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693631390,"creation_date":1693557843,"question_id":77021690,"body_markdown":"Problem\r\n======\r\n\r\nMultiple indexed map :\r\n- A value has several key, that can be used to find the value in a short time (may be less than O(n)).\r\n- The key is NON-UNIQUE, which means `key1: val1`, `key1: val2`, `key1: val3` could be possible.\r\n- When the value is removed, all equal values must be removed from the map.\r\n\r\nExample\r\n=====\r\nStructure of `Book` queue.\r\n-----\r\n- A `Book` has multiple authors, and the `Authour`s can be searched in a short time.\r\n- `Book` is concurrently added or removed in that Queue.\r\n- `Author`s can write multiple `Book`s.\r\n\r\nProcess\r\n-----\r\n- Author is from input, then find anyone of the books in queue.\r\n- The book is removed from the queue.\r\n\r\n\r\nOne I thought is the map can be simillar to multimap, but removing the key-value pairs from the map while iterating the authors of the book is unsuitable solution. When the author and books total count is about millions, the elapsing time can get greater.\r\n\r\nCan anybody help me to decide the structure?\r\n\r\nUPDATE:\r\n=========\r\n As @gdomo suggested(book-author, author-book map), I wrote code as follows:\r\n``` java\r\n\tpublic class Book {\r\n\t\t...\r\n\t\tprivate List&lt;String&gt; authors;\r\n\t}\r\n\r\n\tSet&lt;Book&gt;&gt; pendingBooks = ConcurrentHashMap.newKeySet();\r\n\r\n\tConcurrentHashMap&lt;String, Set&lt;Book&gt;&gt; cacheMapBooksByAuthor = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tpublic static void processAuthorCheck(String author) {\r\n\t\tSet&lt;Book&gt; books = cacheMapBooksByAuthor.put(author, ConcurrentHashMap.newKeySet());\r\n\t\tif (books == null)\r\n\t\t\treturn;\r\n\r\n\t\tfor (Book book : books) {\r\n\t\t\tpendingBooks.remove(book);\t\t\t// REMOVE a BOOK from QUE\r\n\r\n\t\t\tthis.processBook(book); // TODO\r\n\r\n\t\t\tList&lt;String&gt; authors = book.getAuthors();\r\n\t\t\tif (authors == null)\r\n\t\t\t\tcontinue;\r\n\t\t\tfor (String author : authors) {\r\n\t\t\t\tSet&lt;Book&gt; tmpBooks = cacheMapBooksByAuthor.get(author).remove(book);\t\t// remove THAT BOOK for all other authors\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void pushBook(Book book) {\r\n\t\tList&lt;String&gt; authors = book.getAuthors();\r\n\t\tif (authors == null)\r\n\t\t\treturn;\r\n\r\n\t\tfor (String authors : authors) {\r\n\t\t\tSet&lt;Book&gt; books = cacheMapBooksByAuthor.get(authors);\r\n\t\t\tif (books == null) {\r\n\t\t\t\tSet&lt;Book&gt; oldBooks = cacheMapBooksByAuthor.putIfAbsent(authors, books = ConcurrentHashMap.newKeySet());\r\n\t\t\t\tif (oldBooks != null)\r\n\t\t\t\t\tbooks = oldBooks;\r\n\t\t\t}\r\n\t\t\tbooks.add(book);\r\n\t\t}\r\n\t}\r\n```\r\nI used `Set` instead of `Queue` to avoid conflicts of book.\r\n\r\nOne I&#39;m not satisfied with is release of book variable does&#39;t affect authors book variables, as i exprienced in C++. (Because of java object reference)\r\n\r\nIs there any better solution over this structure?\r\n","title":"Best structure of Multiple indexed map","body":"<h1>Problem</h1>\n<p>Multiple indexed map :</p>\n<ul>\n<li>A value has several key, that can be used to find the value in a short time (may be less than O(n)).</li>\n<li>The key is NON-UNIQUE, which means <code>key1: val1</code>, <code>key1: val2</code>, <code>key1: val3</code> could be possible.</li>\n<li>When the value is removed, all equal values must be removed from the map.</li>\n</ul>\n<h1>Example</h1>\n<h2>Structure of <code>Book</code> queue.</h2>\n<ul>\n<li>A <code>Book</code> has multiple authors, and the <code>Authour</code>s can be searched in a short time.</li>\n<li><code>Book</code> is concurrently added or removed in that Queue.</li>\n<li><code>Author</code>s can write multiple <code>Book</code>s.</li>\n</ul>\n<h2>Process</h2>\n<ul>\n<li>Author is from input, then find anyone of the books in queue.</li>\n<li>The book is removed from the queue.</li>\n</ul>\n<p>One I thought is the map can be simillar to multimap, but removing the key-value pairs from the map while iterating the authors of the book is unsuitable solution. When the author and books total count is about millions, the elapsing time can get greater.</p>\n<p>Can anybody help me to decide the structure?</p>\n<h1>UPDATE:</h1>\n<p>As @gdomo suggested(book-author, author-book map), I wrote code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Book {\n        ...\n        private List&lt;String&gt; authors;\n    }\n\n    Set&lt;Book&gt;&gt; pendingBooks = ConcurrentHashMap.newKeySet();\n\n    ConcurrentHashMap&lt;String, Set&lt;Book&gt;&gt; cacheMapBooksByAuthor = new ConcurrentHashMap&lt;&gt;();\n\n    public static void processAuthorCheck(String author) {\n        Set&lt;Book&gt; books = cacheMapBooksByAuthor.put(author, ConcurrentHashMap.newKeySet());\n        if (books == null)\n            return;\n\n        for (Book book : books) {\n            pendingBooks.remove(book);          // REMOVE a BOOK from QUE\n\n            this.processBook(book); // TODO\n\n            List&lt;String&gt; authors = book.getAuthors();\n            if (authors == null)\n                continue;\n            for (String author : authors) {\n                Set&lt;Book&gt; tmpBooks = cacheMapBooksByAuthor.get(author).remove(book);        // remove THAT BOOK for all other authors\n            }\n        }\n    }\n\n    public static void pushBook(Book book) {\n        List&lt;String&gt; authors = book.getAuthors();\n        if (authors == null)\n            return;\n\n        for (String authors : authors) {\n            Set&lt;Book&gt; books = cacheMapBooksByAuthor.get(authors);\n            if (books == null) {\n                Set&lt;Book&gt; oldBooks = cacheMapBooksByAuthor.putIfAbsent(authors, books = ConcurrentHashMap.newKeySet());\n                if (oldBooks != null)\n                    books = oldBooks;\n            }\n            books.add(book);\n        }\n    }\n</code></pre>\n<p>I used <code>Set</code> instead of <code>Queue</code> to avoid conflicts of book.</p>\n<p>One I'm not satisfied with is release of book variable does't affect authors book variables, as i exprienced in C++. (Because of java object reference)</p>\n<p>Is there any better solution over this structure?</p>\n"},{"tags":["java","spring-boot","asynchronous","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693027722,"creation_date":1693027722,"answer_id":76981679,"question_id":76980608,"body_markdown":"`@Async` is a Spring framework annotation - if the method call is performed within the Spring context (between Spring beans), the method may be intercepted and ran on a thread different than the thread of the original caller. If the method is called outside of the Spring context, the `@Async` annotation is ignored and the method is executed on the same thread as the caller.\r\n\r\nYou can write a test involving Spring and verify the behaviour like this:\r\n```java\r\n@SpringBootTest\r\nclass TestedClassSpringTest {\r\n\r\n    @MockBean\r\n    SomeService someService;\r\n    @Autowired\r\n    TestedClass testedClass;\r\n\r\n    @Test\r\n    void test() {\r\n        var exception = new RuntimeException(&quot;test error&quot;);\r\n        when(someService.doStuff())\r\n                .thenThrow(exception);\r\n\r\n        ThrowingCallable methodCall = () -&gt; testedClass.execute();\r\n\r\n        assertThatNoException()\r\n                .isThrownBy(methodCall);\r\n    }\r\n}\r\n```\r\n\r\nYou will see in the console that the exception is actually thrown and logged, but the original call is not interrupted because of the exception as it operates on another thread. If you wanted, you could also verify for example if the `AsyncUncaughtExceptionHandler` was called (using `Mockito.verify` method), but in such case you have to remember that the call is performed on a different thread than the main thread, so using a library such as [Awaitility][1] may be required to avoid flaky tests (main thread could finish running before the async thread).\r\nNote: `assertThatNoException` is a method from the [AssertJ library][2].\r\n\r\nAnother way to simulate the asynchronous execution in the test could be simply creating the new thread yourself, mimicking the Spring behaviour:\r\n```java\r\nclass TestedClassVanillaTest {\r\n\r\n    SomeService someService = mock(SomeService.class);\r\n    TestedClass testedClass = new TestedClass(someService);\r\n\r\n    @Test\r\n    void test() {\r\n        var exception = new RuntimeException(&quot;test error&quot;);\r\n        when(someService.doStuff())\r\n                .thenThrow(exception);\r\n\r\n        ThrowableAssert.ThrowingCallable methodCall = () -&gt; {\r\n            new Thread(() -&gt; testedClass.execute())\r\n                    .start();\r\n        };\r\n\r\n        assertThatNoException()\r\n                .isThrownBy(methodCall);\r\n    }\r\n}\r\n```\r\n\r\nThe disadvantage of this approach is the fact that the `@Async` annotation is not required for this to work - if it&#39;s removed in the future, the test would still pass. I would advise not to use this approach since it simply tests the fact that an exception thrown in a different thread is not caught by the main thread, which is a Java truism. Still - the tests helps to understand how Spring does what it does &quot;behind the curtains&quot;.\r\n\r\n---\r\n\r\nI have prepared [a GitHub repository][3] - I verified both tests and they pass.\r\n\r\n\r\n  [1]: https://www.baeldung.com/awaitility-testing\r\n  [2]: https://assertj.github.io/doc/\r\n  [3]: https://github.com/Jonarzz/stack-overflow/commit/7f3765353e4d476ba9d336812578d20188b0d454","title":"Spring Boot - How to test @Async method throwing an exception in Mockito","body":"<p><code>@Async</code> is a Spring framework annotation - if the method call is performed within the Spring context (between Spring beans), the method may be intercepted and ran on a thread different than the thread of the original caller. If the method is called outside of the Spring context, the <code>@Async</code> annotation is ignored and the method is executed on the same thread as the caller.</p>\n<p>You can write a test involving Spring and verify the behaviour like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass TestedClassSpringTest {\n\n    @MockBean\n    SomeService someService;\n    @Autowired\n    TestedClass testedClass;\n\n    @Test\n    void test() {\n        var exception = new RuntimeException(&quot;test error&quot;);\n        when(someService.doStuff())\n                .thenThrow(exception);\n\n        ThrowingCallable methodCall = () -&gt; testedClass.execute();\n\n        assertThatNoException()\n                .isThrownBy(methodCall);\n    }\n}\n</code></pre>\n<p>You will see in the console that the exception is actually thrown and logged, but the original call is not interrupted because of the exception as it operates on another thread. If you wanted, you could also verify for example if the <code>AsyncUncaughtExceptionHandler</code> was called (using <code>Mockito.verify</code> method), but in such case you have to remember that the call is performed on a different thread than the main thread, so using a library such as <a href=\"https://www.baeldung.com/awaitility-testing\" rel=\"nofollow noreferrer\">Awaitility</a> may be required to avoid flaky tests (main thread could finish running before the async thread).\nNote: <code>assertThatNoException</code> is a method from the <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ library</a>.</p>\n<p>Another way to simulate the asynchronous execution in the test could be simply creating the new thread yourself, mimicking the Spring behaviour:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestedClassVanillaTest {\n\n    SomeService someService = mock(SomeService.class);\n    TestedClass testedClass = new TestedClass(someService);\n\n    @Test\n    void test() {\n        var exception = new RuntimeException(&quot;test error&quot;);\n        when(someService.doStuff())\n                .thenThrow(exception);\n\n        ThrowableAssert.ThrowingCallable methodCall = () -&gt; {\n            new Thread(() -&gt; testedClass.execute())\n                    .start();\n        };\n\n        assertThatNoException()\n                .isThrownBy(methodCall);\n    }\n}\n</code></pre>\n<p>The disadvantage of this approach is the fact that the <code>@Async</code> annotation is not required for this to work - if it's removed in the future, the test would still pass. I would advise not to use this approach since it simply tests the fact that an exception thrown in a different thread is not caught by the main thread, which is a Java truism. Still - the tests helps to understand how Spring does what it does &quot;behind the curtains&quot;.</p>\n<hr />\n<p>I have prepared <a href=\"https://github.com/Jonarzz/stack-overflow/commit/7f3765353e4d476ba9d336812578d20188b0d454\" rel=\"nofollow noreferrer\">a GitHub repository</a> - I verified both tests and they pass.</p>\n"}],"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693630956,"creation_date":1692998470,"question_id":76980608,"body_markdown":"I am calling `@Async` method in one of my service methods, and now I am trying to simulate the situation when `@Async` method throws exception in the background, to assert that the caller method continues executing normally despite of asynchronously thrown exception.\r\n\r\nInitially inside the test, I tried mocking the exception being thrown:\r\n\r\n    when(myAsyncServiceMock.myAsyncMethod(...some arguments...).thenThrow(new RuntimeException(&quot;failed to complete asynchronous method&quot;));\r\n\r\nbut in that case, the caller method behaves as if the runtime exception was thrown in the main thread, not asynchronously. \r\n\r\nDoes Mockito have a way of specifying that the exception in `thenThrow(...)` is supposed to be thrown asynchronously, rather than in the main thread?\r\n\r\n\r\nUPD. This is the class in which the async method (from autowired bean) gets called:  \r\n\r\n\r\n    @Log4j2\r\n    @Service\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;spring.profiles&quot;)\r\n    public class MyService {\r\n    \r\n      @Autowired private MyAsyncUtil asyncUtil;\r\n    \r\n      public void myMethod1() {\r\n        myMethod2();    \r\n      }\r\n    \r\n      public void myMethod2() {\r\n        asyncUtil.myAsyncMethod();\r\n      }       \r\n    \r\n    }\r\n\r\n\r\nand this is `MyAsyncUtil` class with method annotated as `@Async`:\r\n\r\n    @Component\r\n    @Log4j2\r\n    public class MyAsyncUtil {\r\n    \r\n      @Async\r\n      public Void myAsyncMethod() {\r\n        // do something\r\n      } \r\n    \r\n    }\r\n\r\n","title":"Spring Boot - How to test @Async method throwing an exception in Mockito","body":"<p>I am calling <code>@Async</code> method in one of my service methods, and now I am trying to simulate the situation when <code>@Async</code> method throws exception in the background, to assert that the caller method continues executing normally despite of asynchronously thrown exception.</p>\n<p>Initially inside the test, I tried mocking the exception being thrown:</p>\n<pre><code>when(myAsyncServiceMock.myAsyncMethod(...some arguments...).thenThrow(new RuntimeException(&quot;failed to complete asynchronous method&quot;));\n</code></pre>\n<p>but in that case, the caller method behaves as if the runtime exception was thrown in the main thread, not asynchronously.</p>\n<p>Does Mockito have a way of specifying that the exception in <code>thenThrow(...)</code> is supposed to be thrown asynchronously, rather than in the main thread?</p>\n<p>UPD. This is the class in which the async method (from autowired bean) gets called:</p>\n<pre><code>@Log4j2\n@Service\n@Setter\n@ConfigurationProperties(prefix = &quot;spring.profiles&quot;)\npublic class MyService {\n\n  @Autowired private MyAsyncUtil asyncUtil;\n\n  public void myMethod1() {\n    myMethod2();    \n  }\n\n  public void myMethod2() {\n    asyncUtil.myAsyncMethod();\n  }       \n\n}\n</code></pre>\n<p>and this is <code>MyAsyncUtil</code> class with method annotated as <code>@Async</code>:</p>\n<pre><code>@Component\n@Log4j2\npublic class MyAsyncUtil {\n\n  @Async\n  public Void myAsyncMethod() {\n    // do something\n  } \n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693631075,"post_id":77026439,"comment_id":135789276,"body_markdown":"If you&#39;re building a &quot;standard&quot; JAR file, then the dependencies are not included. I suggest reading the various links under the &quot;Packaging&quot; header of the [JavaFX tag info](https://stackoverflow.com/tags/javafx/info) page. There&#39;s one about creating a &quot;fat&quot; JAR file (i.e., a JAR file with dependencies), but note that&#39;s not really a supported deployment strategy for JavaFX applications due to how modules work.","body":"If you&#39;re building a &quot;standard&quot; JAR file, then the dependencies are not included. I suggest reading the various links under the &quot;Packaging&quot; header of the <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag info</a> page. There&#39;s one about creating a &quot;fat&quot; JAR file (i.e., a JAR file with dependencies), but note that&#39;s not really a supported deployment strategy for JavaFX applications due to how modules work."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693631162,"post_id":77026439,"comment_id":135789282,"body_markdown":"As an aside, why are you using an early access version of JavaFX? I recommend you stick with general, stable releases. The current latest is `20.0.2` (though version `21.0.0` should be released some time this month).","body":"As an aside, why are you using an early access version of JavaFX? I recommend you stick with general, stable releases. The current latest is <code>20.0.2</code> (though version <code>21.0.0</code> should be released some time this month)."},{"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"score":0,"creation_date":1693649663,"post_id":77026439,"comment_id":135790714,"body_markdown":"I dont understand the fact that for example I am able to include the jdbc jar inside my server&#39;s jar but it seems to not be working no matter what. Exactly the &quot;fat&quot; jar method seems like a workaround and not like the correct way to do things.","body":"I dont understand the fact that for example I am able to include the jdbc jar inside my server&#39;s jar but it seems to not be working no matter what. Exactly the &quot;fat&quot; jar method seems like a workaround and not like the correct way to do things."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1693655574,"post_id":77026439,"comment_id":135791244,"body_markdown":"Do you understand the error message?","body":"Do you understand the error message?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693674171,"post_id":77026439,"comment_id":135792987,"body_markdown":"Nothing in your POM indicates you&#39;re including any JDBC _driver_ as a dependency, let alone including one in your JAR file.","body":"Nothing in your POM indicates you&#39;re including any JDBC <i>driver</i> as a dependency, let alone including one in your JAR file."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693674368,"post_id":77026439,"comment_id":135793003,"body_markdown":"Regarding so-called fat/uber/shadowed JAR files: That was a common deployment strategy for much of Java&#39;s history. Though that was also during the era of Java being preinstalled on many user machines. Nowadays, it seems the recommended way deploy Java applications to clients outside your control is as a self-contained application (e.g., via `jlink` / `jpackage`, GraalVM&#39;s native image, etc.). There are Q&amp;As  about this that you can find via the links I mentioned previously.","body":"Regarding so-called fat/uber/shadowed JAR files: That was a common deployment strategy for much of Java&#39;s history. Though that was also during the era of Java being preinstalled on many user machines. Nowadays, it seems the recommended way deploy Java applications to clients outside your control is as a self-contained application (e.g., via <code>jlink</code> / <code>jpackage</code>, GraalVM&#39;s native image, etc.). There are Q&amp;As  about this that you can find via the links I mentioned previously."},{"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"score":0,"creation_date":1693755294,"post_id":77026439,"comment_id":135799380,"body_markdown":"No jdbc was an example. In another project of mine the exact same pom file but instead of javafx it use the jdbc drivers and it creates the jar just fine with the jdbc driver inside. Also thanks for the clarification about the &quot;fat jar&quot;.","body":"No jdbc was an example. In another project of mine the exact same pom file but instead of javafx it use the jdbc drivers and it creates the jar just fine with the jdbc driver inside. Also thanks for the clarification about the &quot;fat jar&quot;."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693797240,"post_id":77026439,"comment_id":135803115,"body_markdown":"&quot;_and it creates the jar just fine with the jdbc driver inside_&quot; – Then I suspect you had a slightly different POM file. The `maven-jar-plugin` plugin does not create a fat JAR, which is what you had previously if the JDBC driver was included inside your JAR file. Typically, that&#39;s done via the `maven-shade-plugin` plugin.","body":"&quot;<i>and it creates the jar just fine with the jdbc driver inside</i>&quot; – Then I suspect you had a slightly different POM file. The <code>maven-jar-plugin</code> plugin does not create a fat JAR, which is what you had previously if the JDBC driver was included inside your JAR file. Typically, that&#39;s done via the <code>maven-shade-plugin</code> plugin."}],"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693629701,"creation_date":1693612212,"question_id":77026439,"body_markdown":"I am trying to export a jar from my project using Maven but it doesn&#39;t seem to be working correctly. On the pom file, you can see all the Javafx dependencies. Maven doesn&#39;t display any warnings after creating the jar, but when I try to run it says `&quot;Error: Could not find or load main class packagename.MAIN\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;`. \r\n\r\nIf I try to run it with VM arguments it works but it should also work without them. I don&#39;t understand why this isn&#39;t working. Thank you all in advance.\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;prova&lt;/groupId&gt;\r\n    &lt;artifactId&gt;name&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;name&gt;ClientS&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;javafx.maven.plugin.vertion&gt;0.0.8&lt;/javafx.maven.plugin.vertion&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Configure maven-jar-plugin to include the manifest file --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt; &lt;!-- Adjust the version if needed --&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;src/main/resources/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Configure javafx-maven-plugin for JavaFX --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;packagename.MAIN&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Exported jar problems with javafx","body":"<p>I am trying to export a jar from my project using Maven but it doesn't seem to be working correctly. On the pom file, you can see all the Javafx dependencies. Maven doesn't display any warnings after creating the jar, but when I try to run it says <code>&quot;Error: Could not find or load main class packagename.MAIN Caused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;</code>.</p>\n<p>If I try to run it with VM arguments it works but it should also work without them. I don't understand why this isn't working. Thank you all in advance.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;prova&lt;/groupId&gt;\n    &lt;artifactId&gt;name&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;ClientS&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;javafx.maven.plugin.vertion&gt;0.0.8&lt;/javafx.maven.plugin.vertion&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Configure maven-jar-plugin to include the manifest file --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt; &lt;!-- Adjust the version if needed --&gt;\n\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;src/main/resources/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Configure javafx-maven-plugin for JavaFX --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;packagename.MAIN&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681659296,"creation_date":1561498139,"answer_id":56762252,"question_id":56762121,"body_markdown":"This `PasswordEncoder` has been deprecated, because of this issue - [SEC-2564: Deprecate all salted digest password encoding #2776][1] (Spring Security at GitHub). It&#39;s not like it was secure or more reliable before deprecation (since it does nothing anyway), it was just deprecated as a part of something bigger.\r\n\r\nIf you want to use that `PasswordEncoder`, you can do that and ignore the deprecation, just know that it does completely nothing (maybe besides giving someone not familiar with the codebase a false sense of security) and as the docs says - should be used only for testing.\r\n\r\nIf you really want to avoid using this class, and you want to keep stuff in plaintext, and still for some reason declare `PasswordEncoder` as a bean (I don&#39;t really understand why would someone want combination of those 3 things) then you can implement your own `PasswordEncoder`, it&#39;s a simple interface.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/2776","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>This <code>PasswordEncoder</code> has been deprecated, because of this issue - <a href=\"https://github.com/spring-projects/spring-security/issues/2776\" rel=\"nofollow noreferrer\">SEC-2564: Deprecate all salted digest password encoding #2776</a> (Spring Security at GitHub). It's not like it was secure or more reliable before deprecation (since it does nothing anyway), it was just deprecated as a part of something bigger.</p>\n<p>If you want to use that <code>PasswordEncoder</code>, you can do that and ignore the deprecation, just know that it does completely nothing (maybe besides giving someone not familiar with the codebase a false sense of security) and as the docs says - should be used only for testing.</p>\n<p>If you really want to avoid using this class, and you want to keep stuff in plaintext, and still for some reason declare <code>PasswordEncoder</code> as a bean (I don't really understand why would someone want combination of those 3 things) then you can implement your own <code>PasswordEncoder</code>, it's a simple interface.</p>\n"},{"tags":[],"owner":{"account_id":19784719,"reputation":31,"user_id":14488945,"display_name":"Chr Isme"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1603237849,"creation_date":1603237849,"answer_id":64454775,"question_id":56762121,"body_markdown":"just copy the code to MyNoOpPasswordEncoder, done! :-)","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>just copy the code to MyNoOpPasswordEncoder, done! :-)</p>\n"},{"tags":[],"owner":{"account_id":4821634,"reputation":635,"user_id":3892166,"display_name":"Jenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607834166,"creation_date":1607834166,"answer_id":65272395,"question_id":56762121,"body_markdown":"Though a little late, here is what I found:\r\n\r\nIf you want to store the password as plaintext you will have to prefix it with `{noop}`. Default `PasswordEncoder` i.e `DelegatingPasswordEncoder` should take care of matching it. \r\nFor e.g. if your plaintext password is `abc123ABC` you will have to store it in database as `{noop}abc123ABC` \r\n\r\n(Valid for `Spring Security 5.x` onwards)","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>Though a little late, here is what I found:</p>\n<p>If you want to store the password as plaintext you will have to prefix it with <code>{noop}</code>. Default <code>PasswordEncoder</code> i.e <code>DelegatingPasswordEncoder</code> should take care of matching it.\nFor e.g. if your plaintext password is <code>abc123ABC</code> you will have to store it in database as <code>{noop}abc123ABC</code></p>\n<p>(Valid for <code>Spring Security 5.x</code> onwards)</p>\n"},{"tags":[],"owner":{"account_id":27702792,"reputation":1,"user_id":21147056,"display_name":"Aliyu Sahabo Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693628335,"creation_date":1693576054,"answer_id":77023652,"question_id":56762121,"body_markdown":"Just add `&quot;{noop}yourpasswordhere&quot;`\r\n\r\nExample \r\n```java\r\nvar user = User.withUsername(&quot;john&quot;)\r\n               .password(&quot;{noop}1234&quot;)\r\n               .build();\r\n```\r\n","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>Just add <code>&quot;{noop}yourpasswordhere&quot;</code></p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>var user = User.withUsername(&quot;john&quot;)\n               .password(&quot;{noop}1234&quot;)\n               .build();\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9588,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1693628335,"creation_date":1561497397,"question_id":56762121,"body_markdown":"I have this configuration in Spring for passwords.\r\n\r\n    @Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\r\nBut looks like it&#39;s deprecated, I don&#39;t need to encrypt rest keys. I need to store them in plain text. How I can configure this?","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>I have this configuration in Spring for passwords.</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return NoOpPasswordEncoder.getInstance();\n}\n</code></pre>\n\n<p>But looks like it's deprecated, I don't need to encrypt rest keys. I need to store them in plain text. How I can configure this?</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"score":2,"creation_date":1363271352,"post_id":15411696,"comment_id":21791212,"body_markdown":"1st - try upgrading selenium to 2.31.0 - always, always, ALWAYS do use the latest release...","body":"1st - try upgrading selenium to 2.31.0 - always, always, ALWAYS do use the latest release..."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520127845,"post_id":15411696,"comment_id":85187747,"body_markdown":"It is really important in Selenium that you find a Selenium version and a Browser version that are compatible. Especially with Firefox the support only is in beta stage. If you found such a combination it is best to first stick to exactly that combination. If you update the browser without Selenium it will probably break, same for vice versa. *&quot;Never change a running system&quot;* really applies here. If you plan to update you need to find a stable combination of Selenium and Browser again. Of course updating is important for brand new websites.","body":"It is really important in Selenium that you find a Selenium version and a Browser version that are compatible. Especially with Firefox the support only is in beta stage. If you found such a combination it is best to first stick to exactly that combination. If you update the browser without Selenium it will probably break, same for vice versa. <i>&quot;Never change a running system&quot;</i> really applies here. If you plan to update you need to find a stable combination of Selenium and Browser again. Of course updating is important for brand new websites."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520127919,"post_id":15411696,"comment_id":85187755,"body_markdown":"It also really depends on what webpages you are visiting. They may have fancy features that break Selenium. If the page is very simple it probably doesn&#39;t crash often.","body":"It also really depends on what webpages you are visiting. They may have fancy features that break Selenium. If the page is very simple it probably doesn&#39;t crash often."}],"answers":[{"tags":[],"owner":{"account_id":1313082,"reputation":469,"user_id":1260643,"accept_rate":32,"display_name":"Virendra Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363347068,"creation_date":1363347068,"answer_id":15431293,"question_id":15411696,"body_markdown":"If you have path variable at your environment variables not set..then set it to location of Firefox.exe....\r\nOr you can explicitly mention  path to firefox.exe a\r\n\r\n    File pathToFirefoxBinary = new File(browser);\r\n    FirefoxBinary firefoxbin = new FirefoxBinary(pathToFirefoxBinary);\r\n    driver = new FirefoxDriver(firefoxbin,null);\r\n\r\nThis should work..\r\nOr u can go for upgradation to 2.31.0\r\n","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>If you have path variable at your environment variables not set..then set it to location of Firefox.exe....\nOr you can explicitly mention  path to firefox.exe a</p>\n\n<pre><code>File pathToFirefoxBinary = new File(browser);\nFirefoxBinary firefoxbin = new FirefoxBinary(pathToFirefoxBinary);\ndriver = new FirefoxDriver(firefoxbin,null);\n</code></pre>\n\n<p>This should work..\nOr u can go for upgradation to 2.31.0</p>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395675662,"creation_date":1395675662,"answer_id":22613978,"question_id":15411696,"body_markdown":"I had exactly the same problem when i was using firefox 28.0, I solved it by downgrading Firefox version to 27.0.1","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>I had exactly the same problem when i was using firefox 28.0, I solved it by downgrading Firefox version to 27.0.1</p>\n"}],"owner":{"account_id":361003,"reputation":75,"user_id":2051155,"accept_rate":60,"display_name":"Taha Iqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693627550,"creation_date":1363270390,"question_id":15411696,"body_markdown":"I am using FireFox 18 with Selenium 2.29.0.\r\nWhile running test exception occurs \r\n\r\nFailed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null\r\n\r\nIt seems strange that this error seldom occurs. Let&#39;s say I have 20 tests in my class, the &quot;failed to connect&quot; error occurs in 2 tests sometimes 3 and sometimes it doesn&#39;t occur.\r\n\r\nCan&#39;t figure out why is it happening. If this is some how version problem or something else, none of the test case should run.","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>I am using FireFox 18 with Selenium 2.29.0.\nWhile running test exception occurs </p>\n\n<p>Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null</p>\n\n<p>It seems strange that this error seldom occurs. Let's say I have 20 tests in my class, the \"failed to connect\" error occurs in 2 tests sometimes 3 and sometimes it doesn't occur.</p>\n\n<p>Can't figure out why is it happening. If this is some how version problem or something else, none of the test case should run.</p>\n"},{"tags":["java","linux","swing","user-interface","x11"],"comments":[{"owner":{"account_id":1977055,"reputation":952,"user_id":1774618,"display_name":"dashrb"},"score":0,"creation_date":1353015476,"post_id":13406549,"comment_id":18317153,"body_markdown":"I would suspect the Xserver running on your Windows PC.  Can you run the same app from the GNU/Linux Java 1.6 machine, and remotely display it on a different (non-windows) machine?","body":"I would suspect the Xserver running on your Windows PC.  Can you run the same app from the GNU/Linux Java 1.6 machine, and remotely display it on a different (non-windows) machine?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1353032814,"post_id":13406549,"comment_id":18322153,"body_markdown":"1) The GUI should be started and updated on the EDT.  2) Always call `pack()` in order to cause the GUI to be laid out and validated. 3) `f.setSize(250, 250);` in counter-productive.  Set the size of the GUI according to the rows and columns needed for the text area.","body":"1) The GUI should be started and updated on the EDT.  2) Always call <code>pack()</code> in order to cause the GUI to be laid out and validated. 3) <code>f.setSize(250, 250);</code> in counter-productive.  Set the size of the GUI according to the rows and columns needed for the text area."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1353032972,"post_id":13406549,"comment_id":18322175,"body_markdown":"Also please check the text of tags carefully before applying them to a question.  This has ***nothing*** to do with [tag:export] as defined by SO.","body":"Also please check the text of tags carefully before applying them to a question.  This has <b><i>nothing</i></b> to do with <a href=\"https://stackoverflow.com/questions/tagged/export\">export</a> as defined by SO."},{"owner":{"account_id":1732279,"reputation":211,"user_id":1585643,"accept_rate":67,"display_name":"user1585643"},"score":0,"creation_date":1353074668,"post_id":13406549,"comment_id":18335917,"body_markdown":"@dasrb I have tried from other machines and get the same behavior however they are all Windows","body":"@dasrb I have tried from other machines and get the same behavior however they are all Windows"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353049770,"creation_date":1353049016,"answer_id":13411868,"question_id":13406549,"body_markdown":"Several problems are apparent:\r\n\r\n- Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread][1]. Failing to do so creates a race condition that may be obscure until a different platform or network latency exposes it.\r\n\r\n- Use `pack()`, which &quot;Causes this `Window` to be sized to fit the preferred size and layouts of its subcomponents.&quot; Failing to do so causes the invalid `Container` to be validated when moved or resized. When the prematurely visible components move to the defined positions, they appear to &quot;jump.&quot;\r\n\r\n- Make `setVisible()` the _last_ operation that affects the initial appearance.\r\n\r\nThe following example combines these suggestions:\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.*;\r\n    \r\n    public class JFrameTester {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    JFrame f = new JFrame(&quot;A JFrame&quot;);\r\n                    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    f.add(new JScrollPane(new JTextArea(10, 40)));\r\n                    f.pack();\r\n                    f.setLocationByPlatform(true);\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<p>Several problems are apparent:</p>\n\n<ul>\n<li><p>Construct and manipulate Swing GUI objects <em>only</em> on the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow\">event dispatch thread</a>. Failing to do so creates a race condition that may be obscure until a different platform or network latency exposes it.</p></li>\n<li><p>Use <code>pack()</code>, which \"Causes this <code>Window</code> to be sized to fit the preferred size and layouts of its subcomponents.\" Failing to do so causes the invalid <code>Container</code> to be validated when moved or resized. When the prematurely visible components move to the defined positions, they appear to \"jump.\"</p></li>\n<li><p>Make <code>setVisible()</code> the <em>last</em> operation that affects the initial appearance.</p></li>\n</ul>\n\n<p>The following example combines these suggestions:</p>\n\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.*;\n\npublic class JFrameTester {\n\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                JFrame f = new JFrame(\"A JFrame\");\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.add(new JScrollPane(new JTextArea(10, 40)));\n                f.pack();\n                f.setLocationByPlatform(true);\n                f.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3144597,"reputation":9476,"user_id":2659307,"display_name":"Scott McPeak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693627095,"creation_date":1693621594,"answer_id":77026748,"question_id":13406549,"body_markdown":"## Problem elaboration\r\n\r\nThis problem arises when using an AWT or Swing app under the Cygwin X11\r\nserver.  It only happens if you call `setLocation` or\r\n`setLocationRelativeTo` while constructing the window object.  (But if\r\nyou do not call `setLocation`, then the window appears in the top-left\r\ncorner, which is inconvenient.)\r\n\r\nThe main symptom is: when a window or dialog box is first shown, and\r\nthe user tries to move it by dragging the title bar, after the drag\r\nfinishes, the window jumps back to its original position.  After that,\r\nmoving the window works normally.\r\n\r\nAnother curious symptom is: after attempting to drag once, and getting &quot;rejected&quot;, the menu bar behaves differently, with each menu only remaining open while the mouse button is held down (like old X11 apps).  Additionally there is an &quot;offset&quot; to the mouse&#39;s effect, with the highlighted menu item not being the one under the cursor, but a distance away related to the attempted drag distance.  Moving the window a second time allows the menu to work normally, staying open after pressing and releasing the mouse button, and with no offset effect.\r\n\r\n## Solution\r\n\r\nThe solution I found is to programmatically adjust the window&#39;s position\r\nslightly just after it is first shown:\r\n\r\n```\r\n// Call this *before* &#39;setVisible(true)&#39;.\r\nf.addWindowListener(new java.awt.event.WindowAdapter() {\r\n  @Override\r\n  public void windowOpened(java.awt.event.WindowEvent e) {\r\n    final java.awt.Window w = e.getWindow();\r\n\r\n    javax.swing.Timer t = new javax.swing.Timer(100 /*ms*/,\r\n      new java.awt.event.ActionListener() {\r\n        @Override\r\n        public void actionPerformed(java.awt.event.ActionEvent e) {\r\n          // Slightly adjust the window position to work around a\r\n          // bug where the window manager &quot;rejects&quot; the first\r\n          // attempt to move the window.\r\n          int y = w.getLocation().y;\r\n          w.setLocation(w.getLocation().x, y+1);\r\n        }\r\n      });\r\n    t.setRepeats(false);\r\n    t.start();\r\n  }\r\n});\r\n```\r\n\r\nAs noted, this must be called before `setVisible(true)`, otherwise you\r\nmight miss the `windowOpened` event.  This is also important when using\r\na `JDialog` because, in that case, `setVisible(true)` blocks until the\r\ndialog is closed.\r\n\r\nMoving by 1 pixel is chosen to minimize disruption, since the adjustment\r\nis usually visible to the user.  I say usually because sometimes (maybe\r\n1 in 4 times) the adjustment does not happen, even though it\r\nsuccessfully disarms the underlying bug.  Moving by 0 pixels does not\r\ndisarm the bug.\r\n\r\nThe timer is unfortunately necessary to avoid losing a race condition\r\nwith the window manager.  In my testing, without the timer, the window\r\nwill still jump to its original position about 1 in 7 times when the\r\nuser first moves it.  With a 100 ms timer, I never observed it failing\r\n(after more than 100 tests), but 50 ms is not enough.  This will depend\r\non machine speed of course.\r\n\r\nVersions: Java 1.8.0_92 on Linux and cygwin 3.4.7 on Windows 10.\r\n","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<h2>Problem elaboration</h2>\n<p>This problem arises when using an AWT or Swing app under the Cygwin X11\nserver.  It only happens if you call <code>setLocation</code> or\n<code>setLocationRelativeTo</code> while constructing the window object.  (But if\nyou do not call <code>setLocation</code>, then the window appears in the top-left\ncorner, which is inconvenient.)</p>\n<p>The main symptom is: when a window or dialog box is first shown, and\nthe user tries to move it by dragging the title bar, after the drag\nfinishes, the window jumps back to its original position.  After that,\nmoving the window works normally.</p>\n<p>Another curious symptom is: after attempting to drag once, and getting &quot;rejected&quot;, the menu bar behaves differently, with each menu only remaining open while the mouse button is held down (like old X11 apps).  Additionally there is an &quot;offset&quot; to the mouse's effect, with the highlighted menu item not being the one under the cursor, but a distance away related to the attempted drag distance.  Moving the window a second time allows the menu to work normally, staying open after pressing and releasing the mouse button, and with no offset effect.</p>\n<h2>Solution</h2>\n<p>The solution I found is to programmatically adjust the window's position\nslightly just after it is first shown:</p>\n<pre><code>// Call this *before* 'setVisible(true)'.\nf.addWindowListener(new java.awt.event.WindowAdapter() {\n  @Override\n  public void windowOpened(java.awt.event.WindowEvent e) {\n    final java.awt.Window w = e.getWindow();\n\n    javax.swing.Timer t = new javax.swing.Timer(100 /*ms*/,\n      new java.awt.event.ActionListener() {\n        @Override\n        public void actionPerformed(java.awt.event.ActionEvent e) {\n          // Slightly adjust the window position to work around a\n          // bug where the window manager &quot;rejects&quot; the first\n          // attempt to move the window.\n          int y = w.getLocation().y;\n          w.setLocation(w.getLocation().x, y+1);\n        }\n      });\n    t.setRepeats(false);\n    t.start();\n  }\n});\n</code></pre>\n<p>As noted, this must be called before <code>setVisible(true)</code>, otherwise you\nmight miss the <code>windowOpened</code> event.  This is also important when using\na <code>JDialog</code> because, in that case, <code>setVisible(true)</code> blocks until the\ndialog is closed.</p>\n<p>Moving by 1 pixel is chosen to minimize disruption, since the adjustment\nis usually visible to the user.  I say usually because sometimes (maybe\n1 in 4 times) the adjustment does not happen, even though it\nsuccessfully disarms the underlying bug.  Moving by 0 pixels does not\ndisarm the bug.</p>\n<p>The timer is unfortunately necessary to avoid losing a race condition\nwith the window manager.  In my testing, without the timer, the window\nwill still jump to its original position about 1 in 7 times when the\nuser first moves it.  With a 100 ms timer, I never observed it failing\n(after more than 100 tests), but 50 ms is not enough.  This will depend\non machine speed of course.</p>\n<p>Versions: Java 1.8.0_92 on Linux and cygwin 3.4.7 on Windows 10.</p>\n"}],"owner":{"account_id":1732279,"reputation":211,"user_id":1585643,"accept_rate":67,"display_name":"user1585643"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693627095,"creation_date":1353014929,"question_id":13406549,"body_markdown":"I have a simple java gui (code below) which for some reason when displayed, will &quot;jump&quot; back to it&#39;s original position the first time I try to move or resize it.  So basically I will have to move the gui twice to get it to move once because as soon as I release the mouse the first time it snaps back to where it originally came up. \r\n\r\n    import javax.swing.*;\r\n    \r\n    public class JFrameTester {\r\n    \r\n      public static void main(String[] args) {\r\n        \r\n        JFrame f = new JFrame(&quot;A JFrame&quot;);\r\n        f.setSize(250, 250);\r\n        f.setLocation(300,200);\r\n        f.getContentPane().add(new JTextArea(10, 40));    \r\n        //f.pack();    \r\n        f.setVisible(true);\r\n        //f.validate();\r\n      }\r\n      \r\n    }\r\n\r\n \r\nI am running on **GNU Linux with java 1.6**.   I am exporting the display back to my Windows machine and wondering if it has something to do with the X11 forwarding because it does not show this behavior when I run the gui in Windows.   However, when I run this gui on a Fedora Linux box (with java 1.7) it does not show this behavior at all - whether exporting the display or not.  ","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<p>I have a simple java gui (code below) which for some reason when displayed, will \"jump\" back to it's original position the first time I try to move or resize it.  So basically I will have to move the gui twice to get it to move once because as soon as I release the mouse the first time it snaps back to where it originally came up. </p>\n\n<pre><code>import javax.swing.*;\n\npublic class JFrameTester {\n\n  public static void main(String[] args) {\n\n    JFrame f = new JFrame(\"A JFrame\");\n    f.setSize(250, 250);\n    f.setLocation(300,200);\n    f.getContentPane().add(new JTextArea(10, 40));    \n    //f.pack();    \n    f.setVisible(true);\n    //f.validate();\n  }\n\n}\n</code></pre>\n\n<p>I am running on <strong>GNU Linux with java 1.6</strong>.   I am exporting the display back to my Windows machine and wondering if it has something to do with the X11 forwarding because it does not show this behavior when I run the gui in Windows.   However, when I run this gui on a Fedora Linux box (with java 1.7) it does not show this behavior at all - whether exporting the display or not.  </p>\n"},{"tags":["java","intellij-idea","nullpointerexception","sonarlint"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1693548976,"post_id":77020404,"comment_id":135778242,"body_markdown":"dont know if this will even change anything, but do you want to try assigning wsr.getBody() to a variable, then using it in the checks and returning the variable.getWorkspace()?","body":"dont know if this will even change anything, but do you want to try assigning wsr.getBody() to a variable, then using it in the checks and returning the variable.getWorkspace()?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693550299,"post_id":77020404,"comment_id":135778438,"body_markdown":"One thing is that SonarQube is stupid. It will happily report false positives that even an average programmer sees are untrue. Suppress the warning unless you want to &quot;code dance&quot; to make SQ happy.","body":"One thing is that SonarQube is stupid. It will happily report false positives that even an average programmer sees are untrue. Suppress the warning unless you want to &quot;code dance&quot; to make SQ happy."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693554005,"post_id":77020404,"comment_id":135779115,"body_markdown":"@Kayaman I&#39;ve installed _Sonarlint_ in order to find troubles in my code. I won&#39;t desactivate its warnings.","body":"@Kayaman I&#39;ve installed <i>Sonarlint</i> in order to find troubles in my code. I won&#39;t desactivate its warnings."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693555681,"post_id":77020404,"comment_id":135779411,"body_markdown":"I&#39;d use the advice from @experimentunit1998X to assign it to a variable. Sonar probably can&#39;t infer that `wsr.getBody()` will always return the same result.","body":"I&#39;d use the advice from @experimentunit1998X to assign it to a variable. Sonar probably can&#39;t infer that <code>wsr.getBody()</code> will always return the same result."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693557730,"post_id":77020404,"comment_id":135779799,"body_markdown":"@Kayaman you can suppress a warning of a kind on a single line, but allow it to appear elsewhere on other sources you have? I know only how to disable a warning of sme kind entierely. In my mind, if I suppress the warning &quot;_NullPointerException could be thrown_&quot;, _Sonarlint_ won&#39;t attempt to do that detection elsewhere in my sources.","body":"@Kayaman you can suppress a warning of a kind on a single line, but allow it to appear elsewhere on other sources you have? I know only how to disable a warning of sme kind entierely. In my mind, if I suppress the warning &quot;<i>NullPointerException could be thrown</i>&quot;, <i>Sonarlint</i> won&#39;t attempt to do that detection elsewhere in my sources."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693558110,"post_id":77020404,"comment_id":135779877,"body_markdown":"[Of course](https://stackoverflow.com/q/47369526/2541560). It would be pretty useless if you couldn&#39;t suppress single warnings.","body":"<a href=\"https://stackoverflow.com/q/47369526/2541560\">Of course</a>. It would be pretty useless if you couldn&#39;t suppress single warnings."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693571095,"post_id":77020404,"comment_id":135782225,"body_markdown":"Thanks! It can be a solution, if everything else fails.","body":"Thanks! It can be a solution, if everything else fails."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693624812,"post_id":77020404,"comment_id":135789006,"body_markdown":"@experimentunit1998X I experienced it: it works and I&#39;ve wrote it for a workaround answer.","body":"@experimentunit1998X I experienced it: it works and I&#39;ve wrote it for a workaround answer."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693626757,"creation_date":1693624743,"answer_id":77026835,"question_id":77020404,"body_markdown":"The answer @oferskulsky gave can be applied the way @experimentunit1998X suggested, and it solves the warning. Great!\r\n\r\n```java\r\nResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\r\nGetWorkspaceResponse response = (wsr != null) ? wsr.getBody() : null;\r\n\r\nif (response == null) {\r\n   throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoy&#233; une r&#233;ponse nulle&quot;);\r\n}\r\n\r\nreturn response.getWorkspace();\r\n```","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>The answer @oferskulsky gave can be applied the way @experimentunit1998X suggested, and it solves the warning. Great!</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\nGetWorkspaceResponse response = (wsr != null) ? wsr.getBody() : null;\n\nif (response == null) {\n   throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoyé une réponse nulle&quot;);\n}\n\nreturn response.getWorkspace();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693626098,"creation_date":1693626098,"answer_id":77026886,"question_id":77020404,"body_markdown":"You assume that war.getBody() is consistent and always returns the same value.\r\nSonar looks at the code and sees that you are recalculating or refetching the value, so basically you didn’t validate the new value, so the value can be null.\r\nIf you save the value than there is no threat that the value will change.","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>You assume that war.getBody() is consistent and always returns the same value.\nSonar looks at the code and sees that you are recalculating or refetching the value, so basically you didn’t validate the new value, so the value can be null.\nIf you save the value than there is no threat that the value will change.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77026886,"answer_count":2,"score":2,"last_activity_date":1693626757,"creation_date":1693540227,"question_id":77020404,"body_markdown":"I&#39;ve wrote this code that is working properly, but _Sonarlint_ warns me against a `wsr.getBody().getWorkspace()` that could lead to a `NullPointerException` on `wsr.getBody()`, who could yield null, it says.\r\n\r\n```java\r\npublic WorkspaceSummary getWorkspace(String workspaceName) {\r\n   try {\r\n      ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\r\n\r\n      if (wsr == null || wsr.getBody() == null) {\r\n         throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoy&#233; une r&#233;ponse nulle&quot;);\r\n      }\r\n\r\n      return wsr.getBody().getWorkspace();\r\n   }\r\n   catch(HttpClientErrorException e) {\r\n      [...]\r\n   }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I believe not. In my mind, I did what was necessary to prevent it.\r\n\r\nSometimes obvious things that are in front of us we don&#39;t see them, this is why I am asking you if I missed something.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIhzD.png","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>I've wrote this code that is working properly, but <em>Sonarlint</em> warns me against a <code>wsr.getBody().getWorkspace()</code> that could lead to a <code>NullPointerException</code> on <code>wsr.getBody()</code>, who could yield null, it says.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public WorkspaceSummary getWorkspace(String workspaceName) {\n   try {\n      ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\n\n      if (wsr == null || wsr.getBody() == null) {\n         throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoyé une réponse nulle&quot;);\n      }\n\n      return wsr.getBody().getWorkspace();\n   }\n   catch(HttpClientErrorException e) {\n      [...]\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fIhzD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIhzD.png\" alt=\"enter image description here\" /></a></p>\n<p>But I believe not. In my mind, I did what was necessary to prevent it.</p>\n<p>Sometimes obvious things that are in front of us we don't see them, this is why I am asking you if I missed something.</p>\n"},{"tags":["java","eclipse","unit-testing","junit","eclemma"],"answers":[{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1349509187,"creation_date":1349509187,"answer_id":12757810,"question_id":12757559,"body_markdown":"No, there is no way to get EclEmma to notice the `expected` clause. They acknowledge this fact [here](http://www.eclemma.org/faq.html#trouble05).\n\n&gt; **Why are JUnit4 test cases with expected exceptions shown as not covered?**\n&gt;\n &gt;JUnit4 test cases with expected exceptions are shown as not covered even though they were executed. The reason for this is that underlying JaCoCo code coverage library only considers code as executed when certain probes are executed. For successful test cases marked with `@Test{expected=...}` this is not the case.\n\nPersonally, I wouldn&#39;t worry too much about it. Coverage of test cases is the least interesting thing EclEmma can tell you; I always completely ignore those metrics and focus on the coverage of my production code.","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>No, there is no way to get EclEmma to notice the <code>expected</code> clause. They acknowledge this fact <a href=\"http://www.eclemma.org/faq.html#trouble05\" rel=\"noreferrer\">here</a>.</p>\n<blockquote>\n<p><strong>Why are JUnit4 test cases with expected exceptions shown as not covered?</strong></p>\n<p>JUnit4 test cases with expected exceptions are shown as not covered even though they were executed. The reason for this is that underlying JaCoCo code coverage library only considers code as executed when certain probes are executed. For successful test cases marked with <code>@Test{expected=...}</code> this is not the case.</p>\n</blockquote>\n<p>Personally, I wouldn't worry too much about it. Coverage of test cases is the least interesting thing EclEmma can tell you; I always completely ignore those metrics and focus on the coverage of my production code.</p>\n"},{"tags":[],"owner":{"account_id":3141560,"reputation":785,"user_id":2656928,"display_name":"Andy Lowry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1693626433,"creation_date":1422625821,"answer_id":28237326,"question_id":12757559,"body_markdown":"Can&#39;t comment yet, but I wanted to point out, in relation to the accepted answer, that there&#39;s a very good reason to pay attention to coverage of your test code. \r\n\r\nIt&#39;s just way too easy with _JUnit_ to screw up the test method naming convention or forget the @Test annotation (depending on your _JUnit_ version). Do that, and you could easily be fooled into thinking that your solid green bar means that the nice test you just added passed, when in fact it never ran. Coverage coloring will show this very prominently. Except of course, as this thread points out, some of your tests that throw exceptions might look like they didn&#39;t run when they did.","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>Can't comment yet, but I wanted to point out, in relation to the accepted answer, that there's a very good reason to pay attention to coverage of your test code.</p>\n<p>It's just way too easy with <em>JUnit</em> to screw up the test method naming convention or forget the @Test annotation (depending on your <em>JUnit</em> version). Do that, and you could easily be fooled into thinking that your solid green bar means that the nice test you just added passed, when in fact it never ran. Coverage coloring will show this very prominently. Except of course, as this thread points out, some of your tests that throw exceptions might look like they didn't run when they did.</p>\n"}],"owner":{"account_id":237546,"reputation":20563,"user_id":505810,"accept_rate":95,"display_name":"Pacane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10081,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":12757810,"answer_count":2,"score":19,"last_activity_date":1693626433,"creation_date":1349506902,"question_id":12757559,"body_markdown":"I&#39;m trying to get my code coverage in java, using Eclipse and EclEmma.\r\n\r\nMy tests are using JUnit 4 and I&#39;ve got some tests looking like this :\r\n\r\n    \t@Test(expected = IllegalArgumentException.class)\r\n\t    public void createTime_withInvalidMinuteUnder0_throws(){\r\n\t\t//Arrange\r\n\t\t...\r\n\t\t//Act\r\n\t\tSomething triggering IllegalArgumentException Here       \r\n\t}\r\n\r\nAnd EclEmma says that the test fails because there&#39;s an IllegalArgumentException being thrown. So it drops my code coverage indicator even though it&#39;s supposed to throw something. Is there an option to make it see that JUnit expected exception tag ?\r\n\r\nedit: I&#39;ve found out that if you add the throw to the declaration of the test aswell, it works!","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>I'm trying to get my code coverage in java, using Eclipse and EclEmma.</p>\n\n<p>My tests are using JUnit 4 and I've got some tests looking like this :</p>\n\n<pre><code>    @Test(expected = IllegalArgumentException.class)\n    public void createTime_withInvalidMinuteUnder0_throws(){\n    //Arrange\n    ...\n    //Act\n    Something triggering IllegalArgumentException Here       \n}\n</code></pre>\n\n<p>And EclEmma says that the test fails because there's an IllegalArgumentException being thrown. So it drops my code coverage indicator even though it's supposed to throw something. Is there an option to make it see that JUnit expected exception tag ?</p>\n\n<p>edit: I've found out that if you add the throw to the declaration of the test aswell, it works!</p>\n"},{"tags":["java","pointers","winapi","jna"],"answers":[{"tags":[],"owner":{"account_id":29348785,"reputation":1,"user_id":22486437,"display_name":"Spicey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693624232,"creation_date":1693624232,"answer_id":77026823,"question_id":77026751,"body_markdown":"Nvm I solved it. There are a few problems with the above code but the main one is that the table ids are all off because I forgot to take into account that the IMMDeviceEnumerator interface inherits 3 methods from the IUnknown interface, so you have to add 3 to each table id argument.","title":"Invoking IMMDeviceEnumerator method with JNA returns S_FALSE and empty(?) pointer","body":"<p>Nvm I solved it. There are a few problems with the above code but the main one is that the table ids are all off because I forgot to take into account that the IMMDeviceEnumerator interface inherits 3 methods from the IUnknown interface, so you have to add 3 to each table id argument.</p>\n"}],"owner":{"account_id":29348785,"reputation":1,"user_id":22486437,"display_name":"Spicey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77026823,"answer_count":1,"score":0,"last_activity_date":1693624232,"creation_date":1693621717,"question_id":77026751,"body_markdown":"I don&#39;t really know how to phrase this question (sorry). But basically (using JNA and Windows API) i&#39;m trying to get an instance(?) of the mmDevice interface by calling GetDefaultAudioEndpoint on my MMDeviceEnumerator instance(?). The problem is that the call to GetDefaultAudioEndpoint returns what I think is an empty pointer `null@0x2bd70eebeb0`. Which I think causes later calls to it to produce this error during runtime:\r\n```\r\nCalling MMDeviceEnumerator.create()\r\nresponse: 0\r\nGot MMDeviceEnumerator\r\nPointer: native@0x2bd70f68590\r\nPointer.getPointer(): native@0x2bd70f68590\r\n\r\nCalling mmEnumerator.GetDefaultAudioEndpoint(args)\r\nresponse: 1\r\nGot mmDevice\r\nPointer: null@0x2bd70eebeb0\r\nPointer.getValue(): null\r\nPointer.getPointer(): allocated@0x2bd70eebeb0 (8 bytes)\r\nnull\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.jna.Pointer.getPointer(long)&quot; because &quot;vptr&quot; is null\r\n        at com.sun.jna.platform.win32.COM.COMInvoker._invokeNativeObject(COMInvoker.java:46)\r\n        at spicey.IAudioEndpointVolume.Activate(App.java:76)\r\n        at spicey.App.main(App.java:58)\r\n```\r\n\r\nThe call to GetDefaultAudioEndpoint also returns an HRESULT of S_FALSE or 1, if that is any help.\r\nAnyways, here is the program in its entirety. I&#39;ll also be happy to provide any extra info. Thanks in advance!\r\n\r\n```\r\npublic final class App extends Unknown {\r\n\r\n    public static final CLSID CLSID_IMMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n    public static final GUID IID_IAudioEndpointVolume = new GUID(&quot;5CDF2C82-841E-4546-9722-0CF74078229A&quot;);\r\n    public static final GUID IID_IAudioStreamVolume = new GUID(&quot;93014887-242D-4068-8A15-CF5E93B90FE3&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        Ole32.INSTANCE.CoInitializeEx(null, 0); // 0 is multi threaded\r\n        System.out.println(&quot;Calling MMDeviceEnumerator.create()&quot;);\r\n        MMDeviceEnumerator mmEnumerator = MMDeviceEnumerator.create();\r\n        System.out.println(&quot;Got MMDeviceEnumerator&quot;);\r\n        System.out.println(&quot;Pointer: &quot; + mmEnumerator.getPointer());\r\n        System.out.println(&quot;Pointer.getPointer(): &quot; + mmEnumerator.getPointer());\r\n        System.out.println();\r\n\r\n        PointerByReference ppEndpoint = new PointerByReference();\r\n        System.out.println(&quot;Calling mmEnumerator.GetDefaultAudioEndpoint(args)&quot;);\r\n        mmEnumerator.GetDefaultAudioEndpoint(0, 0, ppEndpoint);\r\n\r\n        System.out.println(&quot;Got mmDevice&quot;);\r\n        System.out.println(&quot;Pointer: &quot; + ppEndpoint);\r\n        System.out.println(&quot;Pointer.getValue(): &quot; + ppEndpoint.getValue());\r\n        System.out.println(&quot;Pointer.getPointer(): &quot; + ppEndpoint.getPointer());\r\n        System.out.println();\r\n\r\n        IAudioEndpointVolume iEndpoint = IAudioEndpointVolume.create(ppEndpoint.getPointer());\r\n        PointerByReference ppInterface = new PointerByReference();\r\n        iEndpoint.Activate(IID_IAudioEndpointVolume, WTypes.CLSCTX_ALL, ppInterface.getPointer());\r\n\r\n    }\r\n\r\n}\r\n\r\nclass IAudioEndpointVolume extends Unknown {\r\n\r\n    public IAudioEndpointVolume(Pointer p) {\r\n        super(p);\r\n\r\n    }\r\n\r\n    public static IAudioEndpointVolume create(Pointer p) {\r\n        return new IAudioEndpointVolume(p);\r\n    }\r\n\r\n    public void Activate(GUID iid, int dwClsCtx, Pointer ppInterface) {\r\n        HRESULT res = (HRESULT) _invokeNativeObject(1, new Object[] { getPointer(), iid, dwClsCtx, null, ppInterface },\r\n                HRESULT.class);\r\n        COMUtils.checkRC(res);\r\n\r\n    }\r\n\r\n}\r\n\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public static interface Ole32 extends Library {\r\n        Ole32 INSTANCE = (Ole32) Native.load(&quot;Ole32&quot;,\r\n                Ole32.class);\r\n\r\n        HRESULT CoCreateInstance(GUID rclsid, Pointer pUnkOuter, int dwClsContext, GUID riid, PointerByReference ppv);\r\n\r\n    }\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n                CLSID_MMDeviceEnumerator, null,\r\n                WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n                pEnumerator);\r\n        System.out.println(&quot;response: &quot; + hres);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    // functionz\r\n    public void GetDefaultAudioEndpoint(int dataFlow, int role, PointerByReference ppEndpoint) {\r\n        HRESULT res = (HRESULT) _invokeNativeObject(2,\r\n                new Object[] { getPointer(), dataFlow, role, ppEndpoint }, HRESULT.class);\r\n\r\n        COMUtils.checkRC(res);\r\n        System.out.println(&quot;response: &quot; + res);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also tried looking directly at the COMInvoker class with no luck\r\n\r\n```\r\npublic abstract class COMInvoker extends PointerType {\r\n\r\n    protected int _invokeNativeInt(int vtableId, Object[] args) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        return func.invokeInt(args);\r\n    }\r\n\r\n    protected Object _invokeNativeObject(int vtableId, Object[] args, Class&lt;?&gt; returnType) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        return func.invoke(returnType, args);\r\n    }\r\n\r\n    protected void _invokeNativeVoid(int vtableId, Object[] args) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        func.invokeVoid(args);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Invoking IMMDeviceEnumerator method with JNA returns S_FALSE and empty(?) pointer","body":"<p>I don't really know how to phrase this question (sorry). But basically (using JNA and Windows API) i'm trying to get an instance(?) of the mmDevice interface by calling GetDefaultAudioEndpoint on my MMDeviceEnumerator instance(?). The problem is that the call to GetDefaultAudioEndpoint returns what I think is an empty pointer <code>null@0x2bd70eebeb0</code>. Which I think causes later calls to it to produce this error during runtime:</p>\n<pre><code>Calling MMDeviceEnumerator.create()\nresponse: 0\nGot MMDeviceEnumerator\nPointer: native@0x2bd70f68590\nPointer.getPointer(): native@0x2bd70f68590\n\nCalling mmEnumerator.GetDefaultAudioEndpoint(args)\nresponse: 1\nGot mmDevice\nPointer: null@0x2bd70eebeb0\nPointer.getValue(): null\nPointer.getPointer(): allocated@0x2bd70eebeb0 (8 bytes)\nnull\n\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.jna.Pointer.getPointer(long)&quot; because &quot;vptr&quot; is null\n        at com.sun.jna.platform.win32.COM.COMInvoker._invokeNativeObject(COMInvoker.java:46)\n        at spicey.IAudioEndpointVolume.Activate(App.java:76)\n        at spicey.App.main(App.java:58)\n</code></pre>\n<p>The call to GetDefaultAudioEndpoint also returns an HRESULT of S_FALSE or 1, if that is any help.\nAnyways, here is the program in its entirety. I'll also be happy to provide any extra info. Thanks in advance!</p>\n<pre><code>public final class App extends Unknown {\n\n    public static final CLSID CLSID_IMMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n    public static final GUID IID_IAudioEndpointVolume = new GUID(&quot;5CDF2C82-841E-4546-9722-0CF74078229A&quot;);\n    public static final GUID IID_IAudioStreamVolume = new GUID(&quot;93014887-242D-4068-8A15-CF5E93B90FE3&quot;);\n\n    public static void main(String[] args) {\n        Ole32.INSTANCE.CoInitializeEx(null, 0); // 0 is multi threaded\n        System.out.println(&quot;Calling MMDeviceEnumerator.create()&quot;);\n        MMDeviceEnumerator mmEnumerator = MMDeviceEnumerator.create();\n        System.out.println(&quot;Got MMDeviceEnumerator&quot;);\n        System.out.println(&quot;Pointer: &quot; + mmEnumerator.getPointer());\n        System.out.println(&quot;Pointer.getPointer(): &quot; + mmEnumerator.getPointer());\n        System.out.println();\n\n        PointerByReference ppEndpoint = new PointerByReference();\n        System.out.println(&quot;Calling mmEnumerator.GetDefaultAudioEndpoint(args)&quot;);\n        mmEnumerator.GetDefaultAudioEndpoint(0, 0, ppEndpoint);\n\n        System.out.println(&quot;Got mmDevice&quot;);\n        System.out.println(&quot;Pointer: &quot; + ppEndpoint);\n        System.out.println(&quot;Pointer.getValue(): &quot; + ppEndpoint.getValue());\n        System.out.println(&quot;Pointer.getPointer(): &quot; + ppEndpoint.getPointer());\n        System.out.println();\n\n        IAudioEndpointVolume iEndpoint = IAudioEndpointVolume.create(ppEndpoint.getPointer());\n        PointerByReference ppInterface = new PointerByReference();\n        iEndpoint.Activate(IID_IAudioEndpointVolume, WTypes.CLSCTX_ALL, ppInterface.getPointer());\n\n    }\n\n}\n\nclass IAudioEndpointVolume extends Unknown {\n\n    public IAudioEndpointVolume(Pointer p) {\n        super(p);\n\n    }\n\n    public static IAudioEndpointVolume create(Pointer p) {\n        return new IAudioEndpointVolume(p);\n    }\n\n    public void Activate(GUID iid, int dwClsCtx, Pointer ppInterface) {\n        HRESULT res = (HRESULT) _invokeNativeObject(1, new Object[] { getPointer(), iid, dwClsCtx, null, ppInterface },\n                HRESULT.class);\n        COMUtils.checkRC(res);\n\n    }\n\n}\n\nclass MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public static interface Ole32 extends Library {\n        Ole32 INSTANCE = (Ole32) Native.load(&quot;Ole32&quot;,\n                Ole32.class);\n\n        HRESULT CoCreateInstance(GUID rclsid, Pointer pUnkOuter, int dwClsContext, GUID riid, PointerByReference ppv);\n\n    }\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n                CLSID_MMDeviceEnumerator, null,\n                WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\n                pEnumerator);\n        System.out.println(&quot;response: &quot; + hres);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    // functionz\n    public void GetDefaultAudioEndpoint(int dataFlow, int role, PointerByReference ppEndpoint) {\n        HRESULT res = (HRESULT) _invokeNativeObject(2,\n                new Object[] { getPointer(), dataFlow, role, ppEndpoint }, HRESULT.class);\n\n        COMUtils.checkRC(res);\n        System.out.println(&quot;response: &quot; + res);\n\n    }\n}\n\n</code></pre>\n<p>I also tried looking directly at the COMInvoker class with no luck</p>\n<pre><code>public abstract class COMInvoker extends PointerType {\n\n    protected int _invokeNativeInt(int vtableId, Object[] args) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        return func.invokeInt(args);\n    }\n\n    protected Object _invokeNativeObject(int vtableId, Object[] args, Class&lt;?&gt; returnType) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        return func.invoke(returnType, args);\n    }\n\n    protected void _invokeNativeVoid(int vtableId, Object[] args) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        func.invokeVoid(args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","collections"],"comments":[{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":0,"creation_date":1291208921,"post_id":4324633,"comment_id":4698645,"body_markdown":"Thats the way to convert an array to List. Just remember that the list is immutable. Try outputting the content of the list, and you will see that it contains the 1 and 2 value","body":"Thats the way to convert an array to List. Just remember that the list is immutable. Try outputting the content of the list, and you will see that it contains the 1 and 2 value"},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1291209116,"post_id":4324633,"comment_id":4698682,"body_markdown":"@Shervin: try it yourself and you&#39;ll see that it doesn&#39;t.","body":"@Shervin: try it yourself and you&#39;ll see that it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":242236,"reputation":2131,"user_id":513618,"accept_rate":44,"display_name":"Jinesh Parekh"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1291208763,"creation_date":1291208763,"answer_id":4324644,"question_id":4324633,"body_markdown":"I dont think there is a method call you could use. Try it like this\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n      for (int index = 0; index &lt; array.length; index++)\r\n      {\r\n        list.add(array[index]);\r\n      }\r\n","title":"How to convert an int[] array to a List?","body":"<p>I dont think there is a method call you could use. Try it like this</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n  for (int index = 0; index &lt; array.length; index++)\n  {\n    list.add(array[index]);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1291208824,"creation_date":1291208824,"answer_id":4324650,"question_id":4324633,"body_markdown":"The `Arrays.asList(array)` will result in a singleton list of an `int[]`.\r\n\r\nIt works as you expect if you change `int[]` to `Integer[]`. Don&#39;t know if that helps you though.","title":"How to convert an int[] array to a List?","body":"<p>The <code>Arrays.asList(array)</code> will result in a singleton list of an <code>int[]</code>.</p>\n\n<p>It works as you expect if you change <code>int[]</code> to <code>Integer[]</code>. Don't know if that helps you though.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1291209220,"creation_date":1291208866,"answer_id":4324652,"question_id":4324633,"body_markdown":"    Arrays.asList(ArrayUtils.toObjectArray(array))\r\n\r\n(`ArrayUtils` is from [commons-lang][1]) \r\n\r\nBut if you want to just call `contains` there is no need of that. Simply use `Arrays.binarySearch(..)` (sort the array first)\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/","title":"How to convert an int[] array to a List?","body":"<pre><code>Arrays.asList(ArrayUtils.toObjectArray(array))\n</code></pre>\n\n<p>(<code>ArrayUtils</code> is from <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">commons-lang</a>) </p>\n\n<p>But if you want to just call <code>contains</code> there is no need of that. Simply use <code>Arrays.binarySearch(..)</code> (sort the array first)</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291208900,"creation_date":1291208900,"answer_id":4324655,"question_id":4324633,"body_markdown":"This\r\n\r\n    System.out.println(Arrays.asList(array).contains(array));\r\n\r\nreturns `true`.","title":"How to convert an int[] array to a List?","body":"<p>This</p>\n\n<pre><code>System.out.println(Arrays.asList(array).contains(array));\n</code></pre>\n\n<p>returns <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1291284740,"creation_date":1291208926,"answer_id":4324662,"question_id":4324633,"body_markdown":"The method [`Arrays.asList(T ...)`][2] is, when generics are erased and varargs are transformed, actually equal to a method of type `Arrays.ofList(Object[])` (which is the, binary equivalent, JDK 1.4 version of the same Method).\r\n\r\nAn array of primitives is an `Object` (see also [this question][1]), but not an `Object[]`, so the compiler thinks you are using the varargs version and generates an Object array around your int array. You could illustrate what&#39;s happening by adding an extra step:\r\n\r\n    int[] array = {1, 2};\r\n    List&lt;int[]&gt; listOfArrays = Arrays.asList(array);\r\n    System.out.println(listOfArrays.contains(1));\r\n\r\nThis compiles and is equivalent to your code. It also obviously returns false.\r\n\r\nThe compiler translates varargs calls into calls with a single array, so calling a varargs  method that expects parameters `T ...` with parameters `T t1, T t2, T t3` is equivalent to calling it with `new T[]{t1, t2, t3}` but the special case here is that varargs with primitives will be autoboxed before the array is created if the method needs an object array. So the compiler thinks the int array is passed in as a single Object and creates a single element array of type `Object[]`, which it passes to `asList()`.\r\n\r\nSo here&#39;s the above code once again, the way the compiler implements it internally:\r\n\r\n    int[] array = {1, 2};\r\n    // no generics because of type erasure\r\n    List listOfArrays = Arrays.asList(new Object[]{array});\r\n    System.out.println(listOfArrays.contains(1));\r\n\r\nHere are some good and bad ways to call `Arrays.asList()` with int values:\r\n\r\n    // These versions use autoboxing (which is potentially evil),\r\n    // but they are simple and readable\r\n\r\n    // ints are boxed to Integers, then wrapped in an Object[]\r\n    List&lt;Integer&gt; good1 = Arrays.asList(1,2,3);\r\n    // here we create an Integer[] array, and fill it with boxed ints\r\n    List&lt;Integer&gt; good2 = Arrays.asList(new Integer[]{1,2,3});\r\n\r\n    // These versions don&#39;t use autoboxing,\r\n    // but they are very verbose and not at all readable:\r\n\r\n    // this is awful, don&#39;t use Integer constructors\r\n    List&lt;Integer&gt; ugly1 = Arrays.asList(\r\n        new Integer(1),new Integer(2),new Integer(3)\r\n    );\r\n    // this is slightly better (it uses the cached pool of Integers),\r\n    // but it&#39;s still much too verbose\r\n    List&lt;Integer&gt; ugly2 = Arrays.asList(\r\n        Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3)\r\n    );\r\n    \r\n    // And these versions produce compile errors:\r\n    // compile error, type is List&lt;int[]&gt;\r\n    List&lt;Integer&gt; bad1 = Arrays.asList(new int[]{1,2,3});\r\n    // compile error, type is List&lt;Object&gt;\r\n    List&lt;Integer&gt; bad2 = Arrays.asList(new Object[]{1,2,3});\r\n\r\n\r\n\r\n**Reference:**\r\n\r\n - [Java Tutorial][3] &gt; [Classes and Objects][4] &gt; [Passing Information to a Method or a Constructor][5]  &gt; [Varargs][6]\r\n - [`Arrays.asList(T ...)`][2]\r\n\r\n----------\r\n\r\nBut to actually solve your problem in a simple way:\r\n\r\nThere are some library solutions in Apache Commons / Lang (see [Bozho&#39;s answer][7]) and in [Google Guava][8]:\r\n\r\n - [`Ints.contains(int[], int)`][9] checks whether an array of ints contains a given int\r\n - [`Ints.asList(int ...)`][10] creates a List of Integers from an int array\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4146928/in-java-is-a-char-an-object/4146957#4146957\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [3]: http://download.oracle.com/javase/tutorial/index.html\r\n  [4]: http://download.oracle.com/javase/tutorial/java/javaOO/index.html\r\n  [5]: http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html\r\n  [6]: http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs\r\n  [7]: https://stackoverflow.com/questions/4324633/how-to-convert-an-int-array-to-a-list/4324652#4324652\r\n  [8]: http://code.google.com/p/guava-libraries/\r\n  [9]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#contains%28int%5B%5D%2C%20int%29\r\n  [10]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29","title":"How to convert an int[] array to a List?","body":"<p>The method <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList(T ...)</code></a> is, when generics are erased and varargs are transformed, actually equal to a method of type <code>Arrays.ofList(Object[])</code> (which is the, binary equivalent, JDK 1.4 version of the same Method).</p>\n\n<p>An array of primitives is an <code>Object</code> (see also <a href=\"https://stackoverflow.com/questions/4146928/in-java-is-a-char-an-object/4146957#4146957\">this question</a>), but not an <code>Object[]</code>, so the compiler thinks you are using the varargs version and generates an Object array around your int array. You could illustrate what's happening by adding an extra step:</p>\n\n<pre><code>int[] array = {1, 2};\nList&lt;int[]&gt; listOfArrays = Arrays.asList(array);\nSystem.out.println(listOfArrays.contains(1));\n</code></pre>\n\n<p>This compiles and is equivalent to your code. It also obviously returns false.</p>\n\n<p>The compiler translates varargs calls into calls with a single array, so calling a varargs  method that expects parameters <code>T ...</code> with parameters <code>T t1, T t2, T t3</code> is equivalent to calling it with <code>new T[]{t1, t2, t3}</code> but the special case here is that varargs with primitives will be autoboxed before the array is created if the method needs an object array. So the compiler thinks the int array is passed in as a single Object and creates a single element array of type <code>Object[]</code>, which it passes to <code>asList()</code>.</p>\n\n<p>So here's the above code once again, the way the compiler implements it internally:</p>\n\n<pre><code>int[] array = {1, 2};\n// no generics because of type erasure\nList listOfArrays = Arrays.asList(new Object[]{array});\nSystem.out.println(listOfArrays.contains(1));\n</code></pre>\n\n<p>Here are some good and bad ways to call <code>Arrays.asList()</code> with int values:</p>\n\n<pre><code>// These versions use autoboxing (which is potentially evil),\n// but they are simple and readable\n\n// ints are boxed to Integers, then wrapped in an Object[]\nList&lt;Integer&gt; good1 = Arrays.asList(1,2,3);\n// here we create an Integer[] array, and fill it with boxed ints\nList&lt;Integer&gt; good2 = Arrays.asList(new Integer[]{1,2,3});\n\n// These versions don't use autoboxing,\n// but they are very verbose and not at all readable:\n\n// this is awful, don't use Integer constructors\nList&lt;Integer&gt; ugly1 = Arrays.asList(\n    new Integer(1),new Integer(2),new Integer(3)\n);\n// this is slightly better (it uses the cached pool of Integers),\n// but it's still much too verbose\nList&lt;Integer&gt; ugly2 = Arrays.asList(\n    Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3)\n);\n\n// And these versions produce compile errors:\n// compile error, type is List&lt;int[]&gt;\nList&lt;Integer&gt; bad1 = Arrays.asList(new int[]{1,2,3});\n// compile error, type is List&lt;Object&gt;\nList&lt;Integer&gt; bad2 = Arrays.asList(new Object[]{1,2,3});\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorial</a> > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">Classes and Objects</a> > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>  > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs\" rel=\"nofollow noreferrer\">Varargs</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList(T ...)</code></a></li>\n</ul>\n\n<hr>\n\n<p>But to actually solve your problem in a simple way:</p>\n\n<p>There are some library solutions in Apache Commons / Lang (see <a href=\"https://stackoverflow.com/questions/4324633/how-to-convert-an-int-array-to-a-list/4324652#4324652\">Bozho's answer</a>) and in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>:</p>\n\n<ul>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#contains%28int%5B%5D%2C%20int%29\" rel=\"nofollow noreferrer\"><code>Ints.contains(int[], int)</code></a> checks whether an array of ints contains a given int</li>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29\" rel=\"nofollow noreferrer\"><code>Ints.asList(int ...)</code></a> creates a List of Integers from an int array</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291208974,"creation_date":1291208974,"answer_id":4324672,"question_id":4324633,"body_markdown":"When you call\r\n\r\n    Arrays.asList(array)\r\n\r\non your array of primitives, you get a List instance containing one object: an array of int values!  You have to first convert the array of primitives into an array of objects, as @Bozho suggests in his answer.","title":"How to convert an int[] array to a List?","body":"<p>When you call</p>\n\n<pre><code>Arrays.asList(array)\n</code></pre>\n\n<p>on your array of primitives, you get a List instance containing one object: an array of int values!  You have to first convert the array of primitives into an array of objects, as @Bozho suggests in his answer.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291209254,"creation_date":1291209254,"answer_id":4324696,"question_id":4324633,"body_markdown":"It seems like your understanding of `Arrays.asList(T... a)` is wrong. You wouldn&#39;t be the first person to make an assumption as to how it works.\r\n\r\nTry it with\r\n\r\n    System.out.println(Arrays.asList(1, 2).contains(1));\r\n","title":"How to convert an int[] array to a List?","body":"<p>It seems like your understanding of <code>Arrays.asList(T... a)</code> is wrong. You wouldn't be the first person to make an assumption as to how it works.</p>\n\n<p>Try it with</p>\n\n<pre><code>System.out.println(Arrays.asList(1, 2).contains(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291209402,"creation_date":1291209402,"answer_id":4324715,"question_id":4324633,"body_markdown":"Autoboxing just doesn&#39;t work the way you want it to in this case. The following code may be a bit verbose, but does the job of converting an int array to a list:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(array.length);\r\n    for (int value : array) {\r\n        list.add(value);\r\n    }\r\n","title":"How to convert an int[] array to a List?","body":"<p>Autoboxing just doesn't work the way you want it to in this case. The following code may be a bit verbose, but does the job of converting an int array to a list:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(array.length);\nfor (int value : array) {\n    list.add(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291209489,"creation_date":1291209489,"answer_id":4324724,"question_id":4324633,"body_markdown":"If you only want to check whether the array contains certain element just iterate over array and search for element. This will take o(n/2). All other solutions are less effective. Any method that copies array to list must iterate over array and therefore this operation only requires n atomic assignments. ","title":"How to convert an int[] array to a List?","body":"<p>If you only want to check whether the array contains certain element just iterate over array and search for element. This will take o(n/2). All other solutions are less effective. Any method that copies array to list must iterate over array and therefore this operation only requires n atomic assignments. </p>\n"},{"tags":[],"owner":{"account_id":106312,"reputation":9819,"user_id":283240,"accept_rate":83,"display_name":"HaskellElephant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291212506,"creation_date":1291212506,"answer_id":4325171,"question_id":4324633,"body_markdown":"The following code displays true:\r\n\r\n\tInteger[] array = {1, 2};\r\n\tSystem.out.println(Arrays.asList(array).contains(1));\r\n\r\n(Your version fails, since Int&#39;s not beeing objects, but Int[] is an object. Therefor you will call asList(T... a) with one element beeing a Collection&lt;Int[]&gt;, since it is not possible to have an Collection&lt;Int&gt; a.)","title":"How to convert an int[] array to a List?","body":"<p>The following code displays true:</p>\n\n<pre><code>Integer[] array = {1, 2};\nSystem.out.println(Arrays.asList(array).contains(1));\n</code></pre>\n\n<p>(Your version fails, since Int's not beeing objects, but Int[] is an object. Therefor you will call asList(T... a) with one element beeing a Collection, since it is not possible to have an Collection a.)</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693579332,"creation_date":1692565658,"answer_id":76941343,"question_id":4324633,"body_markdown":"&gt; How to convert an int[] array to a List?\r\n\r\nDirect answer using modern Java features:\r\n```\r\nint[] array = {1, 2};\r\nList&lt;Integer&gt; list = IntStream.of(array).boxed().toList();\r\nSystem.out.println(list.contains(1)); // true\r\n```\r\nNote: `toList()` is available since Java 16.\r\n\r\nAn alternative since Java 8 would be `collect(Collectors.toList())`.","title":"How to convert an int[] array to a List?","body":"<blockquote>\n<p>How to convert an int[] array to a List?</p>\n</blockquote>\n<p>Direct answer using modern Java features:</p>\n<pre><code>int[] array = {1, 2};\nList&lt;Integer&gt; list = IntStream.of(array).boxed().toList();\nSystem.out.println(list.contains(1)); // true\n</code></pre>\n<p>Note: <code>toList()</code> is available since Java 16.</p>\n<p>An alternative since Java 8 would be <code>collect(Collectors.toList())</code>.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693623814,"creation_date":1693623814,"answer_id":77026809,"question_id":4324633,"body_markdown":"If you&#39;re open to using a third-party library, the following options are possible using [Eclipse Collections][1]. Both primitive `IntList` and boxed `List&lt;Integer&gt;` can be used to solve the problem depending on what you require. The lists can also either be mutable or immutable, again based on your requirements.\r\n\r\n    @Test\r\n    public void intArrayToList()\r\n    {\r\n        int[] array = {1, 2};\r\n    \r\n        // Creates an Eclipse Collections MutableIntList from the int[]\r\n        MutableIntList mutableIntList = IntLists.mutable.with(array);\r\n\r\n        // Creates an Eclipse Collections ImmutableIntList from the int[]\r\n        ImmutableIntList immutableIntList = IntLists.immutable.with(array);\r\n    \r\n        IntList expectedIntList = IntLists.immutable.with(1, 2);\r\n        Assertions.assertTrue(mutableIntList.contains(1));\r\n        Assertions.assertEquals(expectedIntList, mutableIntList);\r\n        Assertions.assertTrue(immutableIntList.contains(1));\r\n        Assertions.assertEquals(expectedIntList, immutableIntList);\r\n    \r\n        // Converts the MutableIntList to a MutableList&lt;Integer&gt;\r\n        // Boxes the int values as Integer objects\r\n        MutableList&lt;Integer&gt; mutableList = mutableIntList.collect(i -&gt; i);\r\n\r\n        // Converts the ImmutableIntList to an ImmutableList&lt;Integer&gt;\r\n        // Boxes the int values as Integer objects\r\n        ImmutableList&lt;Integer&gt; immutableList = immutableIntList.collect(i -&gt; i);\r\n    \r\n        List&lt;Integer&gt; expectedList = List.of(1, 2);\r\n        Assertions.assertTrue(mutableList.contains(1));\r\n        Assertions.assertEquals(expectedList, mutableList);\r\n        Assertions.assertTrue(immutableList.contains(1));\r\n        Assertions.assertEquals(expectedList, immutableList);\r\n    }\r\n\r\n`MutableIntList` and `ImmutableIntList` will hold onto a primitive `int[]` so there will be no boxing of `int` values to `Integer`. `MutableList&lt;Integer&gt;` and `ImmutableList&lt;Integer&gt;` will hold onto boxed `Integer` values.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"How to convert an int[] array to a List?","body":"<p>If you're open to using a third-party library, the following options are possible using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>. Both primitive <code>IntList</code> and boxed <code>List&lt;Integer&gt;</code> can be used to solve the problem depending on what you require. The lists can also either be mutable or immutable, again based on your requirements.</p>\n<pre><code>@Test\npublic void intArrayToList()\n{\n    int[] array = {1, 2};\n\n    // Creates an Eclipse Collections MutableIntList from the int[]\n    MutableIntList mutableIntList = IntLists.mutable.with(array);\n\n    // Creates an Eclipse Collections ImmutableIntList from the int[]\n    ImmutableIntList immutableIntList = IntLists.immutable.with(array);\n\n    IntList expectedIntList = IntLists.immutable.with(1, 2);\n    Assertions.assertTrue(mutableIntList.contains(1));\n    Assertions.assertEquals(expectedIntList, mutableIntList);\n    Assertions.assertTrue(immutableIntList.contains(1));\n    Assertions.assertEquals(expectedIntList, immutableIntList);\n\n    // Converts the MutableIntList to a MutableList&lt;Integer&gt;\n    // Boxes the int values as Integer objects\n    MutableList&lt;Integer&gt; mutableList = mutableIntList.collect(i -&gt; i);\n\n    // Converts the ImmutableIntList to an ImmutableList&lt;Integer&gt;\n    // Boxes the int values as Integer objects\n    ImmutableList&lt;Integer&gt; immutableList = immutableIntList.collect(i -&gt; i);\n\n    List&lt;Integer&gt; expectedList = List.of(1, 2);\n    Assertions.assertTrue(mutableList.contains(1));\n    Assertions.assertEquals(expectedList, mutableList);\n    Assertions.assertTrue(immutableList.contains(1));\n    Assertions.assertEquals(expectedList, immutableList);\n}\n</code></pre>\n<p><code>MutableIntList</code> and <code>ImmutableIntList</code> will hold onto a primitive <code>int[]</code> so there will be no boxing of <code>int</code> values to <code>Integer</code>. <code>MutableList&lt;Integer&gt;</code> and <code>ImmutableList&lt;Integer&gt;</code> will hold onto boxed <code>Integer</code> values.</p>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":125744,"reputation":12169,"user_id":321731,"accept_rate":80,"display_name":"tshepang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11755,"favorite_count":0,"down_vote_count":5,"up_vote_count":25,"accepted_answer_id":4324650,"answer_count":12,"score":20,"last_activity_date":1693623814,"creation_date":1291208636,"question_id":4324633,"body_markdown":"I expected this code to display `true`:\r\n\r\n    int[] array = {1, 2};\r\n    System.out.println(Arrays.asList(array).contains(1));\r\n","title":"How to convert an int[] array to a List?","body":"<p>I expected this code to display <code>true</code>:</p>\n\n<pre><code>int[] array = {1, 2};\nSystem.out.println(Arrays.asList(array).contains(1));\n</code></pre>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1693602388,"post_id":77025904,"comment_id":135787608,"body_markdown":"For a quality answer, it would help if you were to present your code as a [Complete but Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).  Each class, and each method, should have enough code so that we can copy-and-paste the classes into an IDE, and have them compile and run without adding of otherwise repairing code.","body":"For a quality answer, it would help if you were to present your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Complete but Minimal Reproducible Example</a>.  Each class, and each method, should have enough code so that we can copy-and-paste the classes into an IDE, and have them compile and run without adding of otherwise repairing code."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1693603514,"post_id":77025904,"comment_id":135787709,"body_markdown":"Consider the concept of &quot;model-view-controller&quot;, where the model provides the information to the view and the view presents it in some way.  Couple that with the &quot;observer pattern&quot; and you have a way to monitor changes to the model, so A could make changes to the model and B would monitor for those changes and then be able to update itself when it changes","body":"Consider the concept of &quot;model-view-controller&quot;, where the model provides the information to the view and the view presents it in some way.  Couple that with the &quot;observer pattern&quot; and you have a way to monitor changes to the model, so A could make changes to the model and B would monitor for those changes and then be able to update itself when it changes"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693603643,"post_id":77025904,"comment_id":135787733,"body_markdown":"`to.setBounds(50, 190, 200, 30);` seems pointless since you&#39;re using a `GroupLayout` layout manager, although, to be honest, I wouldn&#39;t use `GroupLayout`, it&#39;s not really meant as a developer codable solution, I&#39;d use other layout managers","body":"<code>to.setBounds(50, 190, 200, 30);</code> seems pointless since you&#39;re using a <code>GroupLayout</code> layout manager, although, to be honest, I wouldn&#39;t use <code>GroupLayout</code>, it&#39;s not really meant as a developer codable solution, I&#39;d use other layout managers"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1693604105,"post_id":77025904,"comment_id":135787784,"body_markdown":"Off-topic: Consider following [Java naming conventions](https://www.javatpoint.com/java-naming-conventions)","body":"Off-topic: Consider following <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">Java naming conventions</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1693606070,"post_id":77025904,"comment_id":135787968,"body_markdown":"[For example](https://stackoverflow.com/a/51693892/)","body":"<a href=\"https://stackoverflow.com/a/51693892/\">For example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693623412,"creation_date":1693614465,"answer_id":77026516,"question_id":77025904,"body_markdown":"First, you want to decouple your code.  There should be no direct relationship between your &quot;input&quot; UI and your &quot;output&quot; UI.  This will make it much easier to re-use and maintain the code.\r\n\r\nTo this end you should be making use of the &quot;model-view-controller&quot; concept.  That is, the model provides the data and the views present the data in some meaningful way.\r\n\r\nAdd in the &quot;observer pattern&quot; and objects can monitor the model and take action when some state changes.\r\n\r\nFor example...\r\n\r\n    public interface Model {\r\n        public interface Observer {\r\n            public void modelDidChange(Model model);\r\n        }\r\n        \r\n        public void addObserver(Observer observer);\r\n        public void removeObserver(Observer observer);\r\n        public LocalDateTime getDate();\r\n    }\r\n\r\nThis is a very simple demonstration, but, the `Model` is a container for a `LocalDateTime` value.  It also provides &quot;observability&quot; through the use of the `Model.Observer` so interested parties can be informed when the model changes.\r\n\r\nAt some point, we&#39;re probably going to want to change the value of the model, in this case, we can make use of a specialised model...\r\n\r\n    public interface MutableModel extends Model {\r\n        public void setDate(LocalDateTime date);\r\n    }\r\n\r\nThis basically describes a model whose value can be changed.\r\n\r\nWhy is this important?  This isolates responsibility, not all consumers of the model will want to, or should be allowed to, modify the state of the model, here we support the &quot;separation of concerns/responsibility&quot; principle.\r\n\r\nI also, personally, like `interface`s, as they provide a description of the contract without exposing the implementation, making them incredibly flexible.\r\n\r\nNext we need an implementation of the models.  How you do it probably isn&#39;t important, but I started with an `AbstractModel`...\r\n    \r\n    public abstract class AbstractModel implements Model {\r\n        private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\r\n\r\n        protected List&lt;Observer&gt; getObservers() {\r\n            return observers;\r\n        }\r\n\r\n        @Override\r\n        public void addObserver(Observer observer) {\r\n            getObservers().add(observer);\r\n        }\r\n\r\n        @Override\r\n        public void removeObserver(Observer observer) {\r\n            getObservers().remove(observer);\r\n        }\r\n        \r\n        protected void fireModelDidChange() {\r\n            for (Observer observer : getObservers()) {\r\n                observer.modelDidChange(this);\r\n            }\r\n        }\r\n    }\r\n\r\nThis implements the core &quot;boiler plate&quot; functionality that all the other models will need.  Note, I did not implement the `getDate` method, this is deliberate, as how this value is managed should be down to the actual implementation.\r\n\r\nNext, I implemented a concept of a &quot;mutable&quot; model...\r\n    \r\n    public class DefaultMutableModel extends AbstractModel implements MutableModel {\r\n        private LocalDateTime date;\r\n\r\n        @Override\r\n        public LocalDateTime getDate() {\r\n            return date;\r\n        }\r\n        \r\n        public void setDate(LocalDateTime date) {\r\n            this.date = date;\r\n            fireModelDidChange();\r\n        }\r\n    }\r\n\r\nwhich I think is otherwise self-explanatory.\r\n\r\nThat&#39;s all nice and good, but how do we actually use it?\r\n\r\nWell, basically, we could create an instance of the model and pass it the various objects who need it, this is a concept of &quot;dependency injection&quot;, for example...\r\n\r\n### `ActionPane`\r\n\r\n    public class ActionPane extends JPanel {\r\n        private MutableModel model;\r\n\r\n        public ActionPane(MutableModel model) {\r\n            this.model = model;\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            \r\n            JButton btn = new JButton(&quot;Tick&quot;);\r\n            btn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    getModel().setDate(LocalDateTime.now());\r\n                }\r\n            });\r\n            add(btn);\r\n        }\r\n\r\n        public MutableModel getModel() {\r\n            return model;\r\n        }\r\n    }\r\n\r\n### `OutputPane`\r\n    \r\n    public class OutputPane extends JPanel {\r\n        private Model model;\r\n        private JLabel label;\r\n\r\n        public OutputPane(Model model) {\r\n            this.model = model;\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            \r\n            add(getLabel());\r\n            \r\n            model.addObserver(new Model.Observer() {\r\n                @Override\r\n                public void modelDidChange(Model model) {\r\n                    label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\r\n                }\r\n            });\r\n        }\r\n        \r\n        protected JLabel getLabel() {\r\n            if (label != null) {\r\n                return label;\r\n            }\r\n            label = new JLabel(&quot;------------&quot;);\r\n            return label;\r\n        }\r\n\r\n        public Model getModel() {\r\n            return model;\r\n        }\r\n    }\r\n\r\nThe two panels are seperate and have no idea of each other, yet, via the model, the can communicate.\r\n\r\nNow, we simple create a model and the UI...\r\n\r\n    MutableModel model = new DefaultMutableModel();\r\n\r\n    add(new ActionPane(model));\r\n    add(new OutputPane(model));\r\n\r\nAnd that&#39;s it.  When the model&#39;s state is changed, the UI will be updated.\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            public MainPane() {\r\n                MutableModel model = new DefaultMutableModel();\r\n                setLayout(new GridLayout(1, 2));\r\n\r\n                add(new ActionPane(model));\r\n                add(new OutputPane(model));\r\n            }\r\n        }\r\n\r\n        public interface Model {\r\n            public interface Observer {\r\n                public void modelDidChange(Model model);\r\n            }\r\n\r\n            public void addObserver(Observer observer);\r\n\r\n            public void removeObserver(Observer observer);\r\n\r\n            public LocalDateTime getDate();\r\n        }\r\n\r\n        public interface MutableModel extends Model {\r\n            public void setDate(LocalDateTime date);\r\n        }\r\n\r\n        public abstract class AbstractModel implements Model {\r\n            private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\r\n\r\n            protected List&lt;Observer&gt; getObservers() {\r\n                return observers;\r\n            }\r\n\r\n            @Override\r\n            public void addObserver(Observer observer) {\r\n                getObservers().add(observer);\r\n            }\r\n\r\n            @Override\r\n            public void removeObserver(Observer observer) {\r\n                getObservers().remove(observer);\r\n            }\r\n\r\n            protected void fireModelDidChange() {\r\n                for (Observer observer : getObservers()) {\r\n                    observer.modelDidChange(this);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class DefaultMutableModel extends AbstractModel implements MutableModel {\r\n            private LocalDateTime date;\r\n\r\n            @Override\r\n            public LocalDateTime getDate() {\r\n                return date;\r\n            }\r\n\r\n            public void setDate(LocalDateTime date) {\r\n                this.date = date;\r\n                fireModelDidChange();\r\n            }\r\n        }\r\n\r\n        public class ActionPane extends JPanel {\r\n            private MutableModel model;\r\n\r\n            public ActionPane(MutableModel model) {\r\n                this.model = model;\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Tick&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        getModel().setDate(LocalDateTime.now());\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n            public MutableModel getModel() {\r\n                return model;\r\n            }\r\n        }\r\n\r\n        public class OutputPane extends JPanel {\r\n            private Model model;\r\n            private JLabel label;\r\n\r\n            public OutputPane(Model model) {\r\n                this.model = model;\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                add(getLabel());\r\n\r\n                model.addObserver(new Model.Observer() {\r\n                    @Override\r\n                    public void modelDidChange(Model model) {\r\n                        label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected JLabel getLabel() {\r\n                if (label != null) {\r\n                    return label;\r\n                }\r\n                label = new JLabel(&quot;------------&quot;);\r\n                return label;\r\n            }\r\n\r\n            public Model getModel() {\r\n                return model;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUuL3.gif\r\n\r\nYou should note, that no where did I need to call `revalidate`, `invalidate` or `repaint` in order for the label to update.  Apart from setting the initial value to a &quot;reasonably&quot; long value, labels are (generally) self updating.\r\n\r\nI&#39;ve mentioned a lot of &quot;concepts&quot; and &quot;terms&quot;, I would strongly recommend that you take the time to research them further, as they will invaluable to you in solving your future issues.","title":"Make JButton update JLabel text in other class in Java","body":"<p>First, you want to decouple your code.  There should be no direct relationship between your &quot;input&quot; UI and your &quot;output&quot; UI.  This will make it much easier to re-use and maintain the code.</p>\n<p>To this end you should be making use of the &quot;model-view-controller&quot; concept.  That is, the model provides the data and the views present the data in some meaningful way.</p>\n<p>Add in the &quot;observer pattern&quot; and objects can monitor the model and take action when some state changes.</p>\n<p>For example...</p>\n<pre><code>public interface Model {\n    public interface Observer {\n        public void modelDidChange(Model model);\n    }\n    \n    public void addObserver(Observer observer);\n    public void removeObserver(Observer observer);\n    public LocalDateTime getDate();\n}\n</code></pre>\n<p>This is a very simple demonstration, but, the <code>Model</code> is a container for a <code>LocalDateTime</code> value.  It also provides &quot;observability&quot; through the use of the <code>Model.Observer</code> so interested parties can be informed when the model changes.</p>\n<p>At some point, we're probably going to want to change the value of the model, in this case, we can make use of a specialised model...</p>\n<pre><code>public interface MutableModel extends Model {\n    public void setDate(LocalDateTime date);\n}\n</code></pre>\n<p>This basically describes a model whose value can be changed.</p>\n<p>Why is this important?  This isolates responsibility, not all consumers of the model will want to, or should be allowed to, modify the state of the model, here we support the &quot;separation of concerns/responsibility&quot; principle.</p>\n<p>I also, personally, like <code>interface</code>s, as they provide a description of the contract without exposing the implementation, making them incredibly flexible.</p>\n<p>Next we need an implementation of the models.  How you do it probably isn't important, but I started with an <code>AbstractModel</code>...</p>\n<pre><code>public abstract class AbstractModel implements Model {\n    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n\n    protected List&lt;Observer&gt; getObservers() {\n        return observers;\n    }\n\n    @Override\n    public void addObserver(Observer observer) {\n        getObservers().add(observer);\n    }\n\n    @Override\n    public void removeObserver(Observer observer) {\n        getObservers().remove(observer);\n    }\n    \n    protected void fireModelDidChange() {\n        for (Observer observer : getObservers()) {\n            observer.modelDidChange(this);\n        }\n    }\n}\n</code></pre>\n<p>This implements the core &quot;boiler plate&quot; functionality that all the other models will need.  Note, I did not implement the <code>getDate</code> method, this is deliberate, as how this value is managed should be down to the actual implementation.</p>\n<p>Next, I implemented a concept of a &quot;mutable&quot; model...</p>\n<pre><code>public class DefaultMutableModel extends AbstractModel implements MutableModel {\n    private LocalDateTime date;\n\n    @Override\n    public LocalDateTime getDate() {\n        return date;\n    }\n    \n    public void setDate(LocalDateTime date) {\n        this.date = date;\n        fireModelDidChange();\n    }\n}\n</code></pre>\n<p>which I think is otherwise self-explanatory.</p>\n<p>That's all nice and good, but how do we actually use it?</p>\n<p>Well, basically, we could create an instance of the model and pass it the various objects who need it, this is a concept of &quot;dependency injection&quot;, for example...</p>\n<h3><code>ActionPane</code></h3>\n<pre><code>public class ActionPane extends JPanel {\n    private MutableModel model;\n\n    public ActionPane(MutableModel model) {\n        this.model = model;\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        JButton btn = new JButton(&quot;Tick&quot;);\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                getModel().setDate(LocalDateTime.now());\n            }\n        });\n        add(btn);\n    }\n\n    public MutableModel getModel() {\n        return model;\n    }\n}\n</code></pre>\n<h3><code>OutputPane</code></h3>\n<pre><code>public class OutputPane extends JPanel {\n    private Model model;\n    private JLabel label;\n\n    public OutputPane(Model model) {\n        this.model = model;\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        add(getLabel());\n        \n        model.addObserver(new Model.Observer() {\n            @Override\n            public void modelDidChange(Model model) {\n                label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\n            }\n        });\n    }\n    \n    protected JLabel getLabel() {\n        if (label != null) {\n            return label;\n        }\n        label = new JLabel(&quot;------------&quot;);\n        return label;\n    }\n\n    public Model getModel() {\n        return model;\n    }\n}\n</code></pre>\n<p>The two panels are seperate and have no idea of each other, yet, via the model, the can communicate.</p>\n<p>Now, we simple create a model and the UI...</p>\n<pre><code>MutableModel model = new DefaultMutableModel();\n\nadd(new ActionPane(model));\nadd(new OutputPane(model));\n</code></pre>\n<p>And that's it.  When the model's state is changed, the UI will be updated.</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/yUuL3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUuL3.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n        public MainPane() {\n            MutableModel model = new DefaultMutableModel();\n            setLayout(new GridLayout(1, 2));\n\n            add(new ActionPane(model));\n            add(new OutputPane(model));\n        }\n    }\n\n    public interface Model {\n        public interface Observer {\n            public void modelDidChange(Model model);\n        }\n\n        public void addObserver(Observer observer);\n\n        public void removeObserver(Observer observer);\n\n        public LocalDateTime getDate();\n    }\n\n    public interface MutableModel extends Model {\n        public void setDate(LocalDateTime date);\n    }\n\n    public abstract class AbstractModel implements Model {\n        private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n\n        protected List&lt;Observer&gt; getObservers() {\n            return observers;\n        }\n\n        @Override\n        public void addObserver(Observer observer) {\n            getObservers().add(observer);\n        }\n\n        @Override\n        public void removeObserver(Observer observer) {\n            getObservers().remove(observer);\n        }\n\n        protected void fireModelDidChange() {\n            for (Observer observer : getObservers()) {\n                observer.modelDidChange(this);\n            }\n        }\n    }\n\n    public class DefaultMutableModel extends AbstractModel implements MutableModel {\n        private LocalDateTime date;\n\n        @Override\n        public LocalDateTime getDate() {\n            return date;\n        }\n\n        public void setDate(LocalDateTime date) {\n            this.date = date;\n            fireModelDidChange();\n        }\n    }\n\n    public class ActionPane extends JPanel {\n        private MutableModel model;\n\n        public ActionPane(MutableModel model) {\n            this.model = model;\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Tick&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    getModel().setDate(LocalDateTime.now());\n                }\n            });\n            add(btn);\n        }\n\n        public MutableModel getModel() {\n            return model;\n        }\n    }\n\n    public class OutputPane extends JPanel {\n        private Model model;\n        private JLabel label;\n\n        public OutputPane(Model model) {\n            this.model = model;\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            add(getLabel());\n\n            model.addObserver(new Model.Observer() {\n                @Override\n                public void modelDidChange(Model model) {\n                    label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\n                }\n            });\n        }\n\n        protected JLabel getLabel() {\n            if (label != null) {\n                return label;\n            }\n            label = new JLabel(&quot;------------&quot;);\n            return label;\n        }\n\n        public Model getModel() {\n            return model;\n        }\n    }\n}\n</code></pre>\n<p>You should note, that no where did I need to call <code>revalidate</code>, <code>invalidate</code> or <code>repaint</code> in order for the label to update.  Apart from setting the initial value to a &quot;reasonably&quot; long value, labels are (generally) self updating.</p>\n<p>I've mentioned a lot of &quot;concepts&quot; and &quot;terms&quot;, I would strongly recommend that you take the time to research them further, as they will invaluable to you in solving your future issues.</p>\n"}],"owner":{"account_id":12063642,"reputation":1,"user_id":22485631,"display_name":"JarodH99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693623412,"creation_date":1693600918,"question_id":77025904,"body_markdown":"I&#39;m writing a program for my company that references an excel file for project information.\r\nI&#39;ve organized the program into 4 JPanels, each in it&#39;s own class. i.e. Panel_1, Panel_2, etc.\r\nI have a button in panel_1 that allows the user to select the project info file and that works just fine.\r\nwhat I want to do is have that button apply the info from the project to the JLabels in the other JPanels 2, 3, &amp; 4.\r\n\r\n\r\nUI class\r\n```\r\n\r\npublic class UI extends JFrame implements ActionListener {\r\n\t\r\n\t//Variables declared outside constructor, and to be used in multiple Panels\r\n\tstatic String JobNo = &quot;&quot;;\r\n\tstatic String JobName = &quot;&quot;;\r\n\tstatic String Attention = &quot;&quot;;\r\n\tstatic String Contractor = &quot;&quot;;\r\n\tpublic UI() {\r\n\t\t\r\n\t\t//Define JFrame\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.getContentPane().setLayout(new GroupLayout(this.getContentPane()));\r\n\t\tthis.setSize(FW + 36, FH);\r\n\t\tthis.getContentPane().setBackground(col1);\r\n\t\t\r\n\t\t//Add panels to JFrame\r\n\t\tPanel_1 panel1 = new Panel_1();\r\n\t\tthis.add(panel1);\r\n\t\tPanel_2 panel2 = new Panel_2();\r\n\t\tthis.add(panel2);\r\n\t\tPanel_3 panel3 = new Panel_3();\r\n\t\tthis.add(panel3);\r\n\t\tPanel_4 panel4 = new Panel_4();\r\n\t\tthis.add(panel4);\r\n\t\t\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\nPanel_1 class\r\n```\r\npublic class Panel_1 extends JPanel implements ActionListener{\r\n\t\r\n\t Panel_1() {\r\n\t\t\r\n\t\t//Define Panel_1\r\n\t\tthis.setBounds(UI.offSet, UI.offSet, UI.p1W, UI.p1H);\r\n\t\tthis.setBackground(UI.col2);\r\n\t\tthis.setLayout(new GroupLayout(this));\r\n\t\t\r\n\t\tJLabel title = new JLabel(&quot;Please select Project Folder:&quot;);\r\n\t\ttitle.setBounds(20, 10, 300, 15);\r\n\t\ttitle.setForeground(UI.colText);\r\n\t\tthis.add(title);\r\n\t\t\r\n\t\t//Text field to display project file location\r\n\t\tUI.field1 = new JTextField();\r\n\t\tUI.field1.setBounds(20, 35, 570, 20);\r\n\t\tUI.field1.setBackground(UI.colTF);\r\n\t\tUI.field1.setForeground(UI.colText);\r\n\t\tUI.field1.setText(UI.sDefPath);\r\n\t\tUI.field1.setCaretColor(UI.colText);\r\n\t\tUI.field1.setBorder(BorderFactory.createLoweredBevelBorder());\r\n\t\tUI.field1.addActionListener(this);\r\n\t\tthis.add(UI.field1);\r\n\t\t\r\n\t\t//Browse for project file\r\n\t\tUI.butBrowse1 = new JButton(&quot;Browse&quot;);\r\n\t\tUI.butBrowse1.setBounds(600, 35, 80, 20);\r\n\t\tUI.butBrowse1.setBackground(UI.colBut);\r\n\t\tUI.butBrowse1.setForeground(UI.colBT);\r\n\t\tUI.butBrowse1.setBorder(BorderFactory.createEmptyBorder());\r\n\t\tUI.butBrowse1.setFocusable(false);\r\n\t\tUI.butBrowse1.addActionListener(this);\r\n\t\tthis.add(UI.butBrowse1);\r\n\t}\r\n\t \r\n\t @Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tif (e.getSource()==UI.butBrowse1) {\r\n\t\t\t\t\r\n\t\t\t\t//Choose project file location\r\n\t\t\t\tJFileChooser fileChoose1 = new JFileChooser(UI.sDefPath);\r\n\t\t\t\tfileChoose1.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n\t\t\t\tAction details = fileChoose1.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n\t\t\t\tdetails.actionPerformed(null);\r\n\t\t\t\tfileChoose1.setPreferredSize(new Dimension(500, 600));\r\n\t\t\t\tfileChoose1.showOpenDialog(null);\r\n\t\t\t\tUI.sPath = fileChoose1.getSelectedFile().getAbsolutePath();\r\n\t\t\t\t\r\n\t\t\t\t//Assign file paths from selected folder\r\n\t\t\t\tUI.field1.setText(UI.sPath);\r\n\t\t\t\tUI.sPIPath = UI.sPath + UI.sPIadd;\r\n\t\t\t\tUI.sPDFPath = UI.sPath + UI.sPDFadd;\r\n\t\t\t\tUI.sSubPath = UI.sPath + UI.sSubadd;\r\n\t\t\t\t\r\n\t\t\t\t//Test assigned file paths\r\n\t\t\t\tSystem.out.println(UI.sPIPath);\r\n\t\t\t\tSystem.out.println(UI.sPDFPath);\r\n\t\t\t\tSystem.out.println(UI.sSubPath);\r\n\t\t\t\t\r\n\t\t\t\t//Assigning data from xlsx\r\n\t\t\t\t//These are the variable that I need to display in Panel_4\r\n\t\t\t\tUI.JobNo = XLSX_Reader.XLSX_Reader(UI.sPIPath, 0, 1);\r\n\t\t\t\tUI.JobName = XLSX_Reader.XLSX_Reader(UI.sPIPath, 1, 1) + &quot;\\n&quot; + XLSX_Reader.XLSX_Reader(UI.sPIPath, 2, 1);\r\n\t\t\t\tUI.Contractor = XLSX_Reader.XLSX_Reader(UI.sPIPath, 4, 1);\r\n\t\t\t\tUI.Attention = XLSX_Reader.XLSX_Reader(UI.sPIPath, 8, 1);\r\n\t\t\t\t\r\n\t\t\t\t//testing xlsx reader\r\n\t\t\t\tSystem.out.println(UI.JobNo);\r\n\t\t\t\tSystem.out.println(UI.JobName);\r\n\t\t\t\tSystem.out.println(UI.Contractor);\r\n\t\t\t\tSystem.out.println(UI.Attention);\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n```\r\nPanel_4 class\r\n\r\n```\r\npublic class Panel_4 extends JPanel implements ActionListener{\r\n\t\r\n\t Panel_4() {\r\n\t\t\r\n\t\t//Define Panel_4\r\n\t\tthis.setBounds((UI.offSet * 2) + UI.p1W, UI.offSet, UI.p4W, UI.p4H);\r\n\t\tthis.setBackground(UI.col2);\r\n\t\tthis.setLayout(new GroupLayout(this));\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.Contractor\r\n\t\tJLabel to = new JLabel(&quot;To: &quot; + UI.Contractor);\r\n\t\tto.setBounds(50, 190, 200, 30);\r\n\t\tto.setForeground(UI.colText);\r\n\t\tthis.add(to);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.JobNo\r\n\t\tJLabel Job = new JLabel(&quot;Job No. &quot; + UI.JobNo);\r\n\t\tJob.setBounds(500, 110, 100, 15);\r\n\t\tJob.setForeground(UI.colText);\r\n\t\tthis.add(Job);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.Attention\r\n\t\tJLabel Att = new JLabel(&quot;Attention &quot; + UI.Attention);\r\n\t\tAtt.setBounds(350, 150, 100, 15);\r\n\t\tAtt.setForeground(UI.colText);\r\n\t\tthis.add(Att);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.JobName\r\n\t\tJLabel Re = new JLabel(&quot;Re: &quot; + UI.JobName);\r\n\t\tRe.setBounds(350, 190, 100, 15);\r\n\t\tRe.setForeground(UI.colText);\r\n\t\tthis.add(Re);\r\n```\r\n\r\nIf they were in the same class, I would normally do something like:\r\n\r\n```\r\nString pName = &quot;Sam&quot;;\r\n\r\nJLabel name = new JLabel(pName);\r\nname.setBounds(...);\r\nthis.add(name);\r\n\r\nJButton button = new JButton();\r\nbutton.addActionListener(this);\r\nthis.add(button);\r\n}\r\n}\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n\tif (e.getSource()==UI.butBrowse1) {\r\n\t\tpName = &quot;Dave&quot;;\r\n\t\tname.setText(pName);\r\n\r\n```\r\nBut I don&#39;t know if that&#39;s possible across classes.\r\n","title":"Make JButton update JLabel text in other class in Java","body":"<p>I'm writing a program for my company that references an excel file for project information.\nI've organized the program into 4 JPanels, each in it's own class. i.e. Panel_1, Panel_2, etc.\nI have a button in panel_1 that allows the user to select the project info file and that works just fine.\nwhat I want to do is have that button apply the info from the project to the JLabels in the other JPanels 2, 3, &amp; 4.</p>\n<p>UI class</p>\n<pre><code>\npublic class UI extends JFrame implements ActionListener {\n    \n    //Variables declared outside constructor, and to be used in multiple Panels\n    static String JobNo = &quot;&quot;;\n    static String JobName = &quot;&quot;;\n    static String Attention = &quot;&quot;;\n    static String Contractor = &quot;&quot;;\n    public UI() {\n        \n        //Define JFrame\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.getContentPane().setLayout(new GroupLayout(this.getContentPane()));\n        this.setSize(FW + 36, FH);\n        this.getContentPane().setBackground(col1);\n        \n        //Add panels to JFrame\n        Panel_1 panel1 = new Panel_1();\n        this.add(panel1);\n        Panel_2 panel2 = new Panel_2();\n        this.add(panel2);\n        Panel_3 panel3 = new Panel_3();\n        this.add(panel3);\n        Panel_4 panel4 = new Panel_4();\n        this.add(panel4);\n        \n        this.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n</code></pre>\n<p>Panel_1 class</p>\n<pre><code>public class Panel_1 extends JPanel implements ActionListener{\n    \n     Panel_1() {\n        \n        //Define Panel_1\n        this.setBounds(UI.offSet, UI.offSet, UI.p1W, UI.p1H);\n        this.setBackground(UI.col2);\n        this.setLayout(new GroupLayout(this));\n        \n        JLabel title = new JLabel(&quot;Please select Project Folder:&quot;);\n        title.setBounds(20, 10, 300, 15);\n        title.setForeground(UI.colText);\n        this.add(title);\n        \n        //Text field to display project file location\n        UI.field1 = new JTextField();\n        UI.field1.setBounds(20, 35, 570, 20);\n        UI.field1.setBackground(UI.colTF);\n        UI.field1.setForeground(UI.colText);\n        UI.field1.setText(UI.sDefPath);\n        UI.field1.setCaretColor(UI.colText);\n        UI.field1.setBorder(BorderFactory.createLoweredBevelBorder());\n        UI.field1.addActionListener(this);\n        this.add(UI.field1);\n        \n        //Browse for project file\n        UI.butBrowse1 = new JButton(&quot;Browse&quot;);\n        UI.butBrowse1.setBounds(600, 35, 80, 20);\n        UI.butBrowse1.setBackground(UI.colBut);\n        UI.butBrowse1.setForeground(UI.colBT);\n        UI.butBrowse1.setBorder(BorderFactory.createEmptyBorder());\n        UI.butBrowse1.setFocusable(false);\n        UI.butBrowse1.addActionListener(this);\n        this.add(UI.butBrowse1);\n    }\n     \n     @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            if (e.getSource()==UI.butBrowse1) {\n                \n                //Choose project file location\n                JFileChooser fileChoose1 = new JFileChooser(UI.sDefPath);\n                fileChoose1.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n                Action details = fileChoose1.getActionMap().get(&quot;viewTypeDetails&quot;);\n                details.actionPerformed(null);\n                fileChoose1.setPreferredSize(new Dimension(500, 600));\n                fileChoose1.showOpenDialog(null);\n                UI.sPath = fileChoose1.getSelectedFile().getAbsolutePath();\n                \n                //Assign file paths from selected folder\n                UI.field1.setText(UI.sPath);\n                UI.sPIPath = UI.sPath + UI.sPIadd;\n                UI.sPDFPath = UI.sPath + UI.sPDFadd;\n                UI.sSubPath = UI.sPath + UI.sSubadd;\n                \n                //Test assigned file paths\n                System.out.println(UI.sPIPath);\n                System.out.println(UI.sPDFPath);\n                System.out.println(UI.sSubPath);\n                \n                //Assigning data from xlsx\n                //These are the variable that I need to display in Panel_4\n                UI.JobNo = XLSX_Reader.XLSX_Reader(UI.sPIPath, 0, 1);\n                UI.JobName = XLSX_Reader.XLSX_Reader(UI.sPIPath, 1, 1) + &quot;\\n&quot; + XLSX_Reader.XLSX_Reader(UI.sPIPath, 2, 1);\n                UI.Contractor = XLSX_Reader.XLSX_Reader(UI.sPIPath, 4, 1);\n                UI.Attention = XLSX_Reader.XLSX_Reader(UI.sPIPath, 8, 1);\n                \n                //testing xlsx reader\n                System.out.println(UI.JobNo);\n                System.out.println(UI.JobName);\n                System.out.println(UI.Contractor);\n                System.out.println(UI.Attention);\n\n                \n            }\n        }\n</code></pre>\n<p>Panel_4 class</p>\n<pre><code>public class Panel_4 extends JPanel implements ActionListener{\n    \n     Panel_4() {\n        \n        //Define Panel_4\n        this.setBounds((UI.offSet * 2) + UI.p1W, UI.offSet, UI.p4W, UI.p4H);\n        this.setBackground(UI.col2);\n        this.setLayout(new GroupLayout(this));\n        \n        //Doesn't update when Panel_1 assigns value to UI.Contractor\n        JLabel to = new JLabel(&quot;To: &quot; + UI.Contractor);\n        to.setBounds(50, 190, 200, 30);\n        to.setForeground(UI.colText);\n        this.add(to);\n        \n        //Doesn't update when Panel_1 assigns value to UI.JobNo\n        JLabel Job = new JLabel(&quot;Job No. &quot; + UI.JobNo);\n        Job.setBounds(500, 110, 100, 15);\n        Job.setForeground(UI.colText);\n        this.add(Job);\n        \n        //Doesn't update when Panel_1 assigns value to UI.Attention\n        JLabel Att = new JLabel(&quot;Attention &quot; + UI.Attention);\n        Att.setBounds(350, 150, 100, 15);\n        Att.setForeground(UI.colText);\n        this.add(Att);\n        \n        //Doesn't update when Panel_1 assigns value to UI.JobName\n        JLabel Re = new JLabel(&quot;Re: &quot; + UI.JobName);\n        Re.setBounds(350, 190, 100, 15);\n        Re.setForeground(UI.colText);\n        this.add(Re);\n</code></pre>\n<p>If they were in the same class, I would normally do something like:</p>\n<pre><code>String pName = &quot;Sam&quot;;\n\nJLabel name = new JLabel(pName);\nname.setBounds(...);\nthis.add(name);\n\nJButton button = new JButton();\nbutton.addActionListener(this);\nthis.add(button);\n}\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource()==UI.butBrowse1) {\n        pName = &quot;Dave&quot;;\n        name.setText(pName);\n\n</code></pre>\n<p>But I don't know if that's possible across classes.</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":4253033,"reputation":9728,"user_id":3479456,"accept_rate":79,"display_name":"pushkin"},"score":1,"creation_date":1485044898,"post_id":41786066,"comment_id":70761994,"body_markdown":"It&#39;s because of the braces. The second `if` statement is inside the first, so after failing the first `if` statement, you jump to the `else`.","body":"It&#39;s because of the braces. The second <code>if</code> statement is inside the first, so after failing the first <code>if</code> statement, you jump to the <code>else</code>."}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485044936,"creation_date":1485044936,"answer_id":41786083,"question_id":41786066,"body_markdown":"Because you&#39;ve nested your `if`s improperly, as is clear once properly indented.","title":"Boolean branching statement","body":"<p>Because you've nested your <code>if</code>s improperly, as is clear once properly indented.</p>\n"},{"tags":[],"owner":{"account_id":8489532,"reputation":37,"user_id":6366344,"accept_rate":50,"display_name":"Oliver Yasuna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485045029,"creation_date":1485045029,"answer_id":41786093,"question_id":41786066,"body_markdown":"The statements are improperly nested. Add braces `{}` and your IDE will format it, revealing the mistake.","title":"Boolean branching statement","body":"<p>The statements are improperly nested. Add braces <code>{}</code> and your IDE will format it, revealing the mistake.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485045150,"creation_date":1485045150,"answer_id":41786106,"question_id":41786066,"body_markdown":"Your indentation is off, and you missed a closing brace (and `else`). Based on your `print`(s) I think you wanted\r\n\r\n\tif (isBalloon) {\r\n\t\tif (isRed) {\r\n\t\t\tSystem.out.println(&quot;Red balloon&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Balloon&quot;);\r\n\t\t}\r\n\t} else {\r\n\t\tSystem.out.println(&quot;Not a balloon&quot;);\r\n\t}\r\n\r\n**or**\r\n\r\n\tif (isBalloon &amp;&amp; isRed) {\r\n\t\tSystem.out.println(&quot;Red balloon&quot;);\r\n\t} else if (isBalloon) {\r\n\t\tSystem.out.println(&quot;Balloon&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;Not a balloon&quot;);\r\n\t}\r\n\r\n","title":"Boolean branching statement","body":"<p>Your indentation is off, and you missed a closing brace (and <code>else</code>). Based on your <code>print</code>(s) I think you wanted</p>\n\n<pre><code>if (isBalloon) {\n    if (isRed) {\n        System.out.println(\"Red balloon\");\n    } else {\n        System.out.println(\"Balloon\");\n    }\n} else {\n    System.out.println(\"Not a balloon\");\n}\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>if (isBalloon &amp;&amp; isRed) {\n    System.out.println(\"Red balloon\");\n} else if (isBalloon) {\n    System.out.println(\"Balloon\");\n} else {\n    System.out.println(\"Not a balloon\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29349020,"reputation":1,"user_id":22486623,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693623142,"creation_date":1693623142,"answer_id":77026791,"question_id":41786066,"body_markdown":"In the second if statement you need to add else before the if. This worked for me","title":"Boolean branching statement","body":"<p>In the second if statement you need to add else before the if. This worked for me</p>\n"}],"owner":{"account_id":10035510,"reputation":19,"user_id":7420313,"display_name":"Brian Snyder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2755,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1693623142,"creation_date":1485044758,"question_id":41786066,"body_markdown":"my code will run, but if isBalloon and isRed are both true, it prints &quot;not balloon&quot; instead of &quot;red balloon&quot;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class RedBalloon {\r\n      public static void main (String [] args) {\r\n        boolean isRed = false;\r\n        boolean isBalloon = false;\r\n\r\n        if ((isBalloon == true) &amp;&amp; (isRed == false)){\r\n          System.out.println(&quot;Balloon&quot;);\r\n      \r\n          if ((isBalloon == true) &amp;&amp; (isRed == true)){\r\n            System.out.println(&quot;Red balloon&quot;);\r\n          }\r\n        }\r\n        else {\r\n          System.out.println(&quot;Not a balloon&quot;);\r\n        }\r\n        return;\r\n      }\r\n    }","title":"Boolean branching statement","body":"<p>my code will run, but if isBalloon and isRed are both true, it prints \"not balloon\" instead of \"red balloon\"</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class RedBalloon {\n  public static void main (String [] args) {\n    boolean isRed = false;\n    boolean isBalloon = false;\n\n    if ((isBalloon == true) &amp;&amp; (isRed == false)){\n      System.out.println(\"Balloon\");\n\n      if ((isBalloon == true) &amp;&amp; (isRed == true)){\n        System.out.println(\"Red balloon\");\n      }\n    }\n    else {\n      System.out.println(\"Not a balloon\");\n    }\n    return;\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","amazon-s3","freemarker"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693593294,"post_id":77023025,"comment_id":135786435,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":29344415,"reputation":1,"user_id":22483137,"display_name":"Erwin Ello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693622468,"creation_date":1693570504,"question_id":77023025,"body_markdown":"To display the image from the S3 bucket to the Freemarker PDF but I got an error.\r\n\r\nI created an API for generated PDFs using Freemarker and I need to display the images inside the PDF file and it should be get from the S3 bucket.\r\n\r\nI converted the file from the S3 bucket into byteArray and displayed it in the template.FTL \r\n\r\n\\&lt;img src=&quot;data:image/png;base64,${imageBase64}&quot;/\\&gt;\r\n\r\nAnyone could help me solve this issue? Thanks in advance.\r\n\r\nHere&#39;s the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    Code to generate PDF data.\r\n    \r\n    fun generatePdfData(templateName: String, data: Any?): ByteArray {\r\n        val html = StringWriter().use { stringWriter -&gt;\r\n            cfg.outputFormat = HTMLOutputFormat.INSTANCE\r\n            cfg.getTemplate(templateName).process(data, stringWriter)\r\n            stringWriter.toString()\r\n        }\r\n        return ByteArrayOutputStream().use { os -&gt;\r\n            rendererBuilder\r\n                .withProducer(CREATORS.random())\r\n                .withHtmlContent(html, &quot;&quot;)\r\n                .toStream(os)\r\n                .run()\r\n    \r\n            os.toByteArray()\r\n        }\r\n    }\r\n\r\n```\r\nConfiguration of template loader.\r\n\r\nprivate val cfg: Configuration = Configuration(\r\n        Configuration.VERSION_2_3_29\r\n    ).apply {\r\n        setClassForTemplateLoading(this.javaClass, RESOURCE_BASE_TEMPLATE_DIR)\r\n        isAPIBuiltinEnabled = true\r\n        timeZone = TimeZone.getTimeZone(MANILA_TIME_ZONE_ID)\r\n        sqlDateAndTimeTimeZone = TimeZone.getDefault() // Freemarker docs told me to do this.\r\n        defaultEncoding = &quot;UTF-8&quot;\r\n        templateExceptionHandler = TemplateExceptionHandler.RETHROW_HANDLER\r\n        logTemplateExceptions = false\r\n        wrapUncheckedExceptions = true\r\n        fallbackOnNullLoopVariable = false\r\n        setSharedVariable(&quot;moneyToWords&quot;, TradukistoDirective())\r\n    }\r\n```\r\n\r\n```\r\nFonts list.\r\n\r\nprivate val fonts = listOf(\r\n    &quot;NotoSans-Regular.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-Bold.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-BoldItalic.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-Italic.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSansTagalog-Regular.ttf&quot; to &quot;BodyTextBaybayin&quot;,\r\n    &quot;NotoSerif-Regular.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-Bold.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-BoldItalic.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-Italic.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;MPLUS1p-Regular.ttf&quot; to &quot;BodyTextJP&quot;,\r\n    &quot;MPLUS1p-Bold.ttf&quot; to &quot;BodyTextJP&quot;\r\n)\r\n```\r\n\r\n```\r\nrendering builder.\r\n\r\nprivate val rendererBuilder: PdfRendererBuilder = PdfRendererBuilder()\r\n    .useFastMode()\r\n    .usePdfUaAccessbility(true)\r\n    .usePdfVersion(1.7f)\r\n    .usePdfAConformance(PdfRendererBuilder.PdfAConformance.PDFA_3_A)\r\n    .useUriResolver { _, uri -&gt;\r\n        // We have a custom URI resolver because the built-in one doesn&#39;t work with resources or something.\r\n        val loader = Thread.currentThread().contextClassLoader\r\n        val path = loader.getResource(Paths.get(RESOURCE_BASE_TEMPLATE_DIR, uri).toString())?.toString()\r\n        path\r\n    }\r\n    .also { builder -&gt;\r\n        // We load in all of the fonts, loading bold and italic ones by-convention.\r\n        fonts.forEach { (resource, name) -&gt;\r\n            val fontPath = Paths.get(RESOURCE_BASE_FONT_DIR, resource).toString()\r\n            val style = when {\r\n                resource.lowercase().contains(&quot;italic&quot;) -&gt; BaseRendererBuilder.FontStyle.ITALIC\r\n                else -&gt; BaseRendererBuilder.FontStyle.NORMAL\r\n            }\r\n            val weight = when {\r\n                resource.lowercase().contains(&quot;bold&quot;) -&gt; 700\r\n                else -&gt; 400\r\n            }\r\n            builder.useFont(\r\n                {\r\n                    Thread.currentThread().contextClassLoader.getResourceAsStream(fontPath)\r\n                        ?: throw FileNotFoundException(CM0080 + resource)\r\n                },\r\n                name,\r\n                weight,\r\n                style,\r\n                true\r\n            )\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nclass TradukistoDirective : TemplateDirectiveModel {\r\n    override fun execute(\r\n        env: Environment?,\r\n        params: MutableMap&lt;Any?, Any?&gt;?,\r\n        loopVars: Array&lt;out TemplateModel&gt;?,\r\n        body: TemplateDirectiveBody?\r\n    ) {\r\n        if (loopVars?.isNotEmpty() != false) {\r\n            throw TemplateModelException(CM0090)\r\n        }\r\n        if (body != null) {\r\n            throw TemplateModelException(CM0100)\r\n        }\r\n\r\n        val value = params?.get(&quot;value&quot;)?.let { (it as SimpleNumber).asNumber as BigDecimal }\r\n            ?: throw TemplateModelException(CM0110)\r\n\r\n        val output = if (value &gt; Integer.MAX_VALUE.toBigDecimal()) {\r\n            &quot;NUMBER TOO LARGE&quot;\r\n        } else {\r\n            val converter: MoneyConverters = MoneyConverters.ENGLISH_BANKING_MONEY_VALUE\r\n            converter.asWords(value.setScale(2, RoundingMode.HALF_UP))\r\n                .replace(&quot;&#163;&quot;, &quot;and&quot;)\r\n                .plus(&quot; only&quot;)\r\n                .split(&quot; &quot;)\r\n                .joinToString(&quot; &quot;) { it -&gt;\r\n                    if (it !in setOf(&quot;and&quot;, &quot;only&quot;)) {\r\n                        it.replaceFirstChar { if (it.isLowerCase()) it.titlecase(Locale.getDefault()) else it.toString() }\r\n                    } else {\r\n                        it\r\n                    }\r\n                }\r\n        }\r\n\r\n        env!!.out.append(output)\r\n    }\r\n}\r\n```\r\n\r\n```\r\ndirectories.\r\n\r\ncompanion object {\r\n    const val RESOURCE_BASE_TEMPLATE_DIR = &quot;pdfTemplates&quot;\r\n    const val RESOURCE_BASE_FONT_DIR = &quot;pdfFonts&quot;\r\n    val CREATORS = listOf(\r\n        &quot;Nep&quot;, &quot;Yui&quot;, &quot;Mio&quot;, &quot;Mugi&quot;,\r\n        &quot;Asuza&quot;, &quot;Ritsu&quot;, &quot;Lalatina&quot;, &quot;Darkness&quot;,\r\n        &quot;Aqua&quot;, &quot;Megumin&quot;, &quot;Kazuma&quot;, &quot;Renge&quot;,\r\n        &quot;Hotarun&quot;, &quot;Senjyougahara&quot;, &quot;Hanekawa&quot;, &quot;Nadeko&quot;,\r\n        &quot;Hachikuji&quot;, &quot;Kizuna&quot;, &quot;Araragi&quot;, &quot;Arararagi&quot;,\r\n        &quot;Ararararagi&quot;, &quot;Kagyua Luna&quot;, &quot;KAGUYA LUNA!&quot;, &quot;Miku&quot;,\r\n        &quot;Luka&quot;, &quot;Madoka&quot;, &quot;Homura&quot;, &quot;Sayaka&quot;,\r\n        &quot;Kyoko&quot;, &quot;Llenn&quot;, &quot;002&quot;, &quot;Sinon&quot;,\r\n        &quot;Jibril&quot;, &quot;Sora&quot;, &quot;Shiro&quot;, &quot;Shuvi&quot;,\r\n        &quot;Riku&quot;, &quot;Regu&quot;, &quot;Nanachi&quot;, &quot;Mitty&quot;,\r\n        &quot;Yuri&quot;, &quot;Yuuri&quot;, &quot;Viktor&quot;, &quot;Honoka&quot;,\r\n        &quot;Kurisu&quot;, &quot;Kuristiiiina&quot;, &quot;Okabe&quot;, &quot;Okarin&quot;,\r\n        &quot;Hououin Kyoma&quot;, &quot;Leskinen&quot;, &quot;Mayuri&quot;, &quot;Mayushii&quot;,\r\n        &quot;Illya&quot;, &quot;Shining Finger&quot;, &quot;Daru&quot;, &quot;Mr Braun&quot;,\r\n        &quot;Suzuha&quot;, &quot;Rukako&quot;, &quot;Ruka&quot;, &quot;Faris&quot;,\r\n        &quot;Moeka&quot;, &quot;Noire&quot;, &quot;Pururut&quot;, &quot;Plutia&quot;,\r\n        &quot;Doggo&quot;, &quot;Subaru&quot;, &quot;Rem&quot;, &quot;Ram&quot;,\r\n        &quot;Emilia&quot;, &quot;Puck&quot;, &quot;Pack&quot;, &quot;Dogoo&quot;,\r\n        &quot;Shinobu&quot;, &quot;Kiss-Shot Acerola-Orion Heart-Under-Blade&quot;, &quot;Burg&quot;, &quot;Obi-Wan Kenobi&quot;,\r\n        &quot;Albedo&quot;, &quot;Shalltear&quot;, &quot;Momonga&quot;, &quot;Momon Saaa-aaan&quot;,\r\n        &quot;2B&quot;, &quot;9S&quot;, &quot;A2&quot;, &quot;Saber&quot;,\r\n        &quot;Rin Tohsaka&quot;, &quot;Mai Sakurajima&quot;, &quot;Sakuta&quot;, &quot;Tomoe&quot;,\r\n        &quot;Rio&quot;, &quot;Nodoka&quot;, &quot;Kaede&quot;, &quot;Snorlax&quot;,\r\n        &quot;Peroronccino&quot;, &quot;Alice-senpai&quot;, &quot;Blue Tundra&quot;, &quot;Holo&quot;,\r\n        &quot;Captain Falcon&quot;\r\n    ) // If nobody knows what we used to generate the pdf it&#39;s more secure, right?\r\n}\r\n```\r\n\r\nto determine why colon : is illegal and did not display the image from image.ftlh file \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tb4Lh.png","title":"To display the image from the S3 bucket to the Freemarker PDF but I got an error","body":"<p>To display the image from the S3 bucket to the Freemarker PDF but I got an error.</p>\n<p>I created an API for generated PDFs using Freemarker and I need to display the images inside the PDF file and it should be get from the S3 bucket.</p>\n<p>I converted the file from the S3 bucket into byteArray and displayed it in the template.FTL</p>\n<p>&lt;img src=&quot;data:image/png;base64,${imageBase64}&quot;/&gt;</p>\n<p>Anyone could help me solve this issue? Thanks in advance.</p>\n<p>Here's the error:</p>\n<p><a href=\"https://i.stack.imgur.com/tb4Lh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tb4Lh.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Code to generate PDF data.\n\nfun generatePdfData(templateName: String, data: Any?): ByteArray {\n    val html = StringWriter().use { stringWriter -&gt;\n        cfg.outputFormat = HTMLOutputFormat.INSTANCE\n        cfg.getTemplate(templateName).process(data, stringWriter)\n        stringWriter.toString()\n    }\n    return ByteArrayOutputStream().use { os -&gt;\n        rendererBuilder\n            .withProducer(CREATORS.random())\n            .withHtmlContent(html, &quot;&quot;)\n            .toStream(os)\n            .run()\n\n        os.toByteArray()\n    }\n}\n</code></pre>\n<pre><code>Configuration of template loader.\n\nprivate val cfg: Configuration = Configuration(\n        Configuration.VERSION_2_3_29\n    ).apply {\n        setClassForTemplateLoading(this.javaClass, RESOURCE_BASE_TEMPLATE_DIR)\n        isAPIBuiltinEnabled = true\n        timeZone = TimeZone.getTimeZone(MANILA_TIME_ZONE_ID)\n        sqlDateAndTimeTimeZone = TimeZone.getDefault() // Freemarker docs told me to do this.\n        defaultEncoding = &quot;UTF-8&quot;\n        templateExceptionHandler = TemplateExceptionHandler.RETHROW_HANDLER\n        logTemplateExceptions = false\n        wrapUncheckedExceptions = true\n        fallbackOnNullLoopVariable = false\n        setSharedVariable(&quot;moneyToWords&quot;, TradukistoDirective())\n    }\n</code></pre>\n<pre><code>Fonts list.\n\nprivate val fonts = listOf(\n    &quot;NotoSans-Regular.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-Bold.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-BoldItalic.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-Italic.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSansTagalog-Regular.ttf&quot; to &quot;BodyTextBaybayin&quot;,\n    &quot;NotoSerif-Regular.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-Bold.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-BoldItalic.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-Italic.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;MPLUS1p-Regular.ttf&quot; to &quot;BodyTextJP&quot;,\n    &quot;MPLUS1p-Bold.ttf&quot; to &quot;BodyTextJP&quot;\n)\n</code></pre>\n<pre><code>rendering builder.\n\nprivate val rendererBuilder: PdfRendererBuilder = PdfRendererBuilder()\n    .useFastMode()\n    .usePdfUaAccessbility(true)\n    .usePdfVersion(1.7f)\n    .usePdfAConformance(PdfRendererBuilder.PdfAConformance.PDFA_3_A)\n    .useUriResolver { _, uri -&gt;\n        // We have a custom URI resolver because the built-in one doesn't work with resources or something.\n        val loader = Thread.currentThread().contextClassLoader\n        val path = loader.getResource(Paths.get(RESOURCE_BASE_TEMPLATE_DIR, uri).toString())?.toString()\n        path\n    }\n    .also { builder -&gt;\n        // We load in all of the fonts, loading bold and italic ones by-convention.\n        fonts.forEach { (resource, name) -&gt;\n            val fontPath = Paths.get(RESOURCE_BASE_FONT_DIR, resource).toString()\n            val style = when {\n                resource.lowercase().contains(&quot;italic&quot;) -&gt; BaseRendererBuilder.FontStyle.ITALIC\n                else -&gt; BaseRendererBuilder.FontStyle.NORMAL\n            }\n            val weight = when {\n                resource.lowercase().contains(&quot;bold&quot;) -&gt; 700\n                else -&gt; 400\n            }\n            builder.useFont(\n                {\n                    Thread.currentThread().contextClassLoader.getResourceAsStream(fontPath)\n                        ?: throw FileNotFoundException(CM0080 + resource)\n                },\n                name,\n                weight,\n                style,\n                true\n            )\n        }\n    }\n</code></pre>\n<pre><code>class TradukistoDirective : TemplateDirectiveModel {\n    override fun execute(\n        env: Environment?,\n        params: MutableMap&lt;Any?, Any?&gt;?,\n        loopVars: Array&lt;out TemplateModel&gt;?,\n        body: TemplateDirectiveBody?\n    ) {\n        if (loopVars?.isNotEmpty() != false) {\n            throw TemplateModelException(CM0090)\n        }\n        if (body != null) {\n            throw TemplateModelException(CM0100)\n        }\n\n        val value = params?.get(&quot;value&quot;)?.let { (it as SimpleNumber).asNumber as BigDecimal }\n            ?: throw TemplateModelException(CM0110)\n\n        val output = if (value &gt; Integer.MAX_VALUE.toBigDecimal()) {\n            &quot;NUMBER TOO LARGE&quot;\n        } else {\n            val converter: MoneyConverters = MoneyConverters.ENGLISH_BANKING_MONEY_VALUE\n            converter.asWords(value.setScale(2, RoundingMode.HALF_UP))\n                .replace(&quot;£&quot;, &quot;and&quot;)\n                .plus(&quot; only&quot;)\n                .split(&quot; &quot;)\n                .joinToString(&quot; &quot;) { it -&gt;\n                    if (it !in setOf(&quot;and&quot;, &quot;only&quot;)) {\n                        it.replaceFirstChar { if (it.isLowerCase()) it.titlecase(Locale.getDefault()) else it.toString() }\n                    } else {\n                        it\n                    }\n                }\n        }\n\n        env!!.out.append(output)\n    }\n}\n</code></pre>\n<pre><code>directories.\n\ncompanion object {\n    const val RESOURCE_BASE_TEMPLATE_DIR = &quot;pdfTemplates&quot;\n    const val RESOURCE_BASE_FONT_DIR = &quot;pdfFonts&quot;\n    val CREATORS = listOf(\n        &quot;Nep&quot;, &quot;Yui&quot;, &quot;Mio&quot;, &quot;Mugi&quot;,\n        &quot;Asuza&quot;, &quot;Ritsu&quot;, &quot;Lalatina&quot;, &quot;Darkness&quot;,\n        &quot;Aqua&quot;, &quot;Megumin&quot;, &quot;Kazuma&quot;, &quot;Renge&quot;,\n        &quot;Hotarun&quot;, &quot;Senjyougahara&quot;, &quot;Hanekawa&quot;, &quot;Nadeko&quot;,\n        &quot;Hachikuji&quot;, &quot;Kizuna&quot;, &quot;Araragi&quot;, &quot;Arararagi&quot;,\n        &quot;Ararararagi&quot;, &quot;Kagyua Luna&quot;, &quot;KAGUYA LUNA!&quot;, &quot;Miku&quot;,\n        &quot;Luka&quot;, &quot;Madoka&quot;, &quot;Homura&quot;, &quot;Sayaka&quot;,\n        &quot;Kyoko&quot;, &quot;Llenn&quot;, &quot;002&quot;, &quot;Sinon&quot;,\n        &quot;Jibril&quot;, &quot;Sora&quot;, &quot;Shiro&quot;, &quot;Shuvi&quot;,\n        &quot;Riku&quot;, &quot;Regu&quot;, &quot;Nanachi&quot;, &quot;Mitty&quot;,\n        &quot;Yuri&quot;, &quot;Yuuri&quot;, &quot;Viktor&quot;, &quot;Honoka&quot;,\n        &quot;Kurisu&quot;, &quot;Kuristiiiina&quot;, &quot;Okabe&quot;, &quot;Okarin&quot;,\n        &quot;Hououin Kyoma&quot;, &quot;Leskinen&quot;, &quot;Mayuri&quot;, &quot;Mayushii&quot;,\n        &quot;Illya&quot;, &quot;Shining Finger&quot;, &quot;Daru&quot;, &quot;Mr Braun&quot;,\n        &quot;Suzuha&quot;, &quot;Rukako&quot;, &quot;Ruka&quot;, &quot;Faris&quot;,\n        &quot;Moeka&quot;, &quot;Noire&quot;, &quot;Pururut&quot;, &quot;Plutia&quot;,\n        &quot;Doggo&quot;, &quot;Subaru&quot;, &quot;Rem&quot;, &quot;Ram&quot;,\n        &quot;Emilia&quot;, &quot;Puck&quot;, &quot;Pack&quot;, &quot;Dogoo&quot;,\n        &quot;Shinobu&quot;, &quot;Kiss-Shot Acerola-Orion Heart-Under-Blade&quot;, &quot;Burg&quot;, &quot;Obi-Wan Kenobi&quot;,\n        &quot;Albedo&quot;, &quot;Shalltear&quot;, &quot;Momonga&quot;, &quot;Momon Saaa-aaan&quot;,\n        &quot;2B&quot;, &quot;9S&quot;, &quot;A2&quot;, &quot;Saber&quot;,\n        &quot;Rin Tohsaka&quot;, &quot;Mai Sakurajima&quot;, &quot;Sakuta&quot;, &quot;Tomoe&quot;,\n        &quot;Rio&quot;, &quot;Nodoka&quot;, &quot;Kaede&quot;, &quot;Snorlax&quot;,\n        &quot;Peroronccino&quot;, &quot;Alice-senpai&quot;, &quot;Blue Tundra&quot;, &quot;Holo&quot;,\n        &quot;Captain Falcon&quot;\n    ) // If nobody knows what we used to generate the pdf it's more secure, right?\n}\n</code></pre>\n<p>to determine why colon : is illegal and did not display the image from image.ftlh file</p>\n"},{"tags":["java","selenium-webdriver","junit"],"answers":[{"tags":[],"owner":{"account_id":29342138,"reputation":1,"user_id":22481307,"display_name":"Dark Soul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693622053,"creation_date":1693622053,"answer_id":77026764,"question_id":77026741,"body_markdown":"1.Use explicit waits to wait for the suggestions to appear before trying to select one. This ensures the DOM is ready before interacting with it.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul/li[contains(., &#39;Brussels (BRU)&#39;)]&quot;)));\r\n\r\n2.Use findElements() to get the list of suggested options, then use a loop with contains text check to select the desired option:\r\n\r\n    List&lt;WebElement&gt; options = driver.findElements(By.xpath(&quot;//ul/li&quot;));\r\n    \r\n    for(WebElement option : options) {\r\n      if(option.getText().contains(&quot;Brussels (BRU)&quot;)) {\r\n        option.click();\r\n        break;\r\n      } \r\n    }\r\n\r\n3.You can also use explicit indexing to select the first/second etc matching option:\r\n\r\n    driver.findElement(By.xpath(&quot;//ul/li[contains(., &#39;Brussels (BRU)&#39;)][1]&quot;)).click();\r\n\r\n4.Handling the drop down differently for one way vs round trip flight selection.\r\n5.Add assertions to validate correct option was selected.","title":"Why webelement list size shows 0","body":"<p>1.Use explicit waits to wait for the suggestions to appear before trying to select one. This ensures the DOM is ready before interacting with it.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul/li[contains(., 'Brussels (BRU)')]&quot;)));\n</code></pre>\n<p>2.Use findElements() to get the list of suggested options, then use a loop with contains text check to select the desired option:</p>\n<pre><code>List&lt;WebElement&gt; options = driver.findElements(By.xpath(&quot;//ul/li&quot;));\n\nfor(WebElement option : options) {\n  if(option.getText().contains(&quot;Brussels (BRU)&quot;)) {\n    option.click();\n    break;\n  } \n}\n</code></pre>\n<p>3.You can also use explicit indexing to select the first/second etc matching option:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//ul/li[contains(., 'Brussels (BRU)')][1]&quot;)).click();\n</code></pre>\n<p>4.Handling the drop down differently for one way vs round trip flight selection.\n5.Add assertions to validate correct option was selected.</p>\n"}],"owner":{"account_id":29054564,"reputation":1,"user_id":22256604,"display_name":"Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693622053,"creation_date":1693621440,"question_id":77026741,"body_markdown":"I would like to more about selenium webdriver java\r\n`\r\n```\r\npackage pkg;\r\nimport java.util.List;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n//import org.openqa.selenium.interactions.Actions;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\npublic class Booking {\r\n\t\r\n\tChromeDriver driver;\r\n\tString baseurl=&quot;https://www.expedia.co.in/Flights&quot;;\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\t\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tdriver = new ChromeDriver(); \r\n\t\t}\r\n\r\n\t@Test\r\n\tpublic void functions() throws InterruptedException  {\r\n\t\t  driver.get(baseurl); \r\n\t\t  driver.manage().window().maximize();\r\n\t\tWebElement dropdown=  driver.findElement(By.xpath(&quot;//span[text()=&#39;Economy&#39;]&quot;));\r\ndropdown.click();\r\nList &lt;WebElement&gt; drop=driver.findElements(By.xpath(&quot;//div[@class=&#39;uitk-list uitk-type-400&#39;]//span&quot;));\r\nfor(int i=0;i&lt;drop.size();i++) \r\n{\r\n\tSystem.out.println(drop.get(i).getText());\r\n\tif(drop.get(i).getText().contains(&quot;First class&quot;)) {\r\n\t\tdrop.get(i).click();\r\n\t\tbreak; }  }\r\nWebElement from=driver.findElement(By.xpath(&quot;//button[@aria-label=&#39;Leaving from&#39;]&quot;));\r\nfrom.sendKeys(&quot;Brussels (BRU - All Airports) Belgium&quot;);\r\nList&lt;WebElement&gt; lists=driver.findElements(By.xpath(&quot;//*[@id=&#39;origin_select-menu&#39;]/section/div/div[2]/div/ul/li[@data-stid=&#39;origin_select-result-item&#39;]&quot;));\r\nSystem.out.println(&quot;Size:&quot; +lists.size());\r\nThread.sleep(2000);\r\n//driver.quit();\r\n\r\n\r\n}\r\n}\r\n````\r\n\r\nI am trying to test the expedia.co.in website.where i want to test leaving from field and want to pass a value and also i want select that particular value from the auto suggestion list","title":"Why webelement list size shows 0","body":"<p>I would like to more about selenium webdriver java\n`</p>\n<pre><code>package pkg;\nimport java.util.List;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n//import org.openqa.selenium.interactions.Actions;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\npublic class Booking {\n    \n    ChromeDriver driver;\n    String baseurl=&quot;https://www.expedia.co.in/Flights&quot;;\n    @Before\n    public void setup() {\n        \n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver(); \n        }\n\n    @Test\n    public void functions() throws InterruptedException  {\n          driver.get(baseurl); \n          driver.manage().window().maximize();\n        WebElement dropdown=  driver.findElement(By.xpath(&quot;//span[text()='Economy']&quot;));\ndropdown.click();\nList &lt;WebElement&gt; drop=driver.findElements(By.xpath(&quot;//div[@class='uitk-list uitk-type-400']//span&quot;));\nfor(int i=0;i&lt;drop.size();i++) \n{\n    System.out.println(drop.get(i).getText());\n    if(drop.get(i).getText().contains(&quot;First class&quot;)) {\n        drop.get(i).click();\n        break; }  }\nWebElement from=driver.findElement(By.xpath(&quot;//button[@aria-label='Leaving from']&quot;));\nfrom.sendKeys(&quot;Brussels (BRU - All Airports) Belgium&quot;);\nList&lt;WebElement&gt; lists=driver.findElements(By.xpath(&quot;//*[@id='origin_select-menu']/section/div/div[2]/div/ul/li[@data-stid='origin_select-result-item']&quot;));\nSystem.out.println(&quot;Size:&quot; +lists.size());\nThread.sleep(2000);\n//driver.quit();\n\n\n}\n}\n</code></pre>\n<p>I am trying to test the expedia.co.in website.where i want to test leaving from field and want to pass a value and also i want select that particular value from the auto suggestion list</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1693621202,"post_id":77026683,"comment_id":135788850,"body_markdown":"One solution is &#39;don&#39;t do that&#39;.  Always acquire locks in  a specific order; this is manageable with a small, fixed number of locks (or at least, the case where you don&#39;t ever hold 2 locks of tthe same rank).","body":"One solution is &#39;don&#39;t do that&#39;.  Always acquire locks in  a specific order; this is manageable with a small, fixed number of locks (or at least, the case where you don&#39;t ever hold 2 locks of tthe same rank)."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1693622720,"post_id":77026683,"comment_id":135788915,"body_markdown":"Two phase locking is a well established protocol (see https://en.wikipedia.org/wiki/Two-phase_locking). Or you could consider the locks as a group to be a resource, and wrap them in an object to manage them - in practice, have a &quot;master lock&quot; that you need before you can lock or unlock any of the group, then release it.","body":"Two phase locking is a well established protocol (see <a href=\"https://en.wikipedia.org/wiki/Two-phase_locking\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Two-phase_locking</a>). Or you could consider the locks as a group to be a resource, and wrap them in an object to manage them - in practice, have a &quot;master lock&quot; that you need before you can lock or unlock any of the group, then release it."},{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":0,"creation_date":1693943872,"post_id":77026683,"comment_id":135825695,"body_markdown":"Short answer is &quot;no&quot;. At least I&#39;m not aware of anything comparable in the standard library.  When I implemented my own, the locks were expressed as strings. That way I could sort them and thus grab them consistently in the same order.  `Object::wait` and `Object::notifyAll` did the rest.","body":"Short answer is &quot;no&quot;. At least I&#39;m not aware of anything comparable in the standard library.  When I implemented my own, the locks were expressed as strings. That way I could sort them and thus grab them consistently in the same order.  <code>Object::wait</code> and <code>Object::notifyAll</code> did the rest."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693621541,"creation_date":1693620368,"answer_id":77026716,"question_id":77026683,"body_markdown":"&gt; Does Java have such a thing?\r\n\r\nYou cannot do this with Java primitive mutexes; i.e. `synchronized`.\r\nBut if you use `Lock` objects rather than primitive mutexes, you can implement that kind of behavior using `Lock.tryLock`.  For example.\r\n\r\n\r\n    Lock lock1 ...\r\n    Lock lock2 ...\r\n\r\n    lock1.lock();  // This blocks until the lock is acquired\r\n    try {\r\n        if (lock2.tryLock()) {  // NB: this does not block ... so no deadlock\r\n           try {\r\n              // Do stuff\r\n           } finally {\r\n              lock2.unlock();\r\n           } \r\n        } else {\r\n           System.out.println(&quot;Potential deadlock avoided!&quot;);\r\n        }\r\n    } finally {\r\n        lock1.unlock();\r\n    } \r\n\r\nNote that you must use *try ... finally* for this.  Since a `Lock` is not auto-closable, *try with resource* won&#39;t release the lock.\r\n\r\nFor more details, refer to the [javadocs][1] for the `Lock` interface.\r\n\r\n------------------\r\n\r\nIt is worth noting that while the above won&#39;t deadlock, there is still a (theoretical) risk of livelock where two threads loop the above code and repeatedly avoid the deadlock ... but make no actual progress.\r\n\r\nAs noted by a commenter, another way to avoid deadlock is to design the application so that pairs of locks are always acquired in the same order.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html","title":"How to acquire more than one lock atomically in Java?","body":"<blockquote>\n<p>Does Java have such a thing?</p>\n</blockquote>\n<p>You cannot do this with Java primitive mutexes; i.e. <code>synchronized</code>.\nBut if you use <code>Lock</code> objects rather than primitive mutexes, you can implement that kind of behavior using <code>Lock.tryLock</code>.  For example.</p>\n<pre><code>Lock lock1 ...\nLock lock2 ...\n\nlock1.lock();  // This blocks until the lock is acquired\ntry {\n    if (lock2.tryLock()) {  // NB: this does not block ... so no deadlock\n       try {\n          // Do stuff\n       } finally {\n          lock2.unlock();\n       } \n    } else {\n       System.out.println(&quot;Potential deadlock avoided!&quot;);\n    }\n} finally {\n    lock1.unlock();\n} \n</code></pre>\n<p>Note that you must use <em>try ... finally</em> for this.  Since a <code>Lock</code> is not auto-closable, <em>try with resource</em> won't release the lock.</p>\n<p>For more details, refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">javadocs</a> for the <code>Lock</code> interface.</p>\n<hr />\n<p>It is worth noting that while the above won't deadlock, there is still a (theoretical) risk of livelock where two threads loop the above code and repeatedly avoid the deadlock ... but make no actual progress.</p>\n<p>As noted by a commenter, another way to avoid deadlock is to design the application so that pairs of locks are always acquired in the same order.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693621541,"creation_date":1693619525,"question_id":77026683,"body_markdown":"A common pattern in Java to acquire more than one lock is like this:\r\n\r\n```\r\nsynchronized (lock1) {\r\n...\r\n   synchronized(lock2) {\r\n   }\r\n}\r\n```\r\n\r\nThis is a common cause of deadlocks, because if another thread has the order reversed i.e.:\r\n\r\n```\r\nsynchronized (lock2) {\r\n...\r\n   synchronized(lock1) {\r\n   }\r\n}\r\n```\r\n\r\nthen no thread will be able to proceed. Both are blocked indefinitely.\r\n\r\nC++ provides a [scoped_lock](https://en.cppreference.com/w/cpp/thread/scoped_lock) construct to acquire more than one lock atomically:\r\n\r\n&gt;When a scoped_lock object is created, it attempts to take ownership of the mutexes it is given. When control leaves the scope in which the scoped_lock object was created, the scoped_lock is destructed and the mutexes are released. If several mutexes are given, deadlock avoidance algorithm is used as if by std::lock.\r\n\r\nDoes Java have such a thing?\r\n","title":"How to acquire more than one lock atomically in Java?","body":"<p>A common pattern in Java to acquire more than one lock is like this:</p>\n<pre><code>synchronized (lock1) {\n...\n   synchronized(lock2) {\n   }\n}\n</code></pre>\n<p>This is a common cause of deadlocks, because if another thread has the order reversed i.e.:</p>\n<pre><code>synchronized (lock2) {\n...\n   synchronized(lock1) {\n   }\n}\n</code></pre>\n<p>then no thread will be able to proceed. Both are blocked indefinitely.</p>\n<p>C++ provides a <a href=\"https://en.cppreference.com/w/cpp/thread/scoped_lock\" rel=\"nofollow noreferrer\">scoped_lock</a> construct to acquire more than one lock atomically:</p>\n<blockquote>\n<p>When a scoped_lock object is created, it attempts to take ownership of the mutexes it is given. When control leaves the scope in which the scoped_lock object was created, the scoped_lock is destructed and the mutexes are released. If several mutexes are given, deadlock avoidance algorithm is used as if by std::lock.</p>\n</blockquote>\n<p>Does Java have such a thing?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":5551110,"reputation":542,"user_id":4404129,"accept_rate":100,"display_name":"Jeffin Manuel"},"score":3,"creation_date":1523337721,"post_id":49745848,"comment_id":86506024,"body_markdown":"Path file = Paths.get(&quot;myfile.txt&quot;);","body":"Path file = Paths.get(&quot;myfile.txt&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":12087894,"reputation":341,"user_id":8835677,"accept_rate":100,"display_name":"Night Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693619845,"creation_date":1523339096,"answer_id":49746141,"question_id":49745848,"body_markdown":"Use [`Paths.get`][1] produce a [`Path`][2] object.\r\n\r\n    Path path = Paths.get(&quot;src/main/resources/question.txt&quot;);\r\n\r\nOr:\r\n\r\n    Path path = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;question.txt&quot;);\r\n\r\n\r\nA [`Path`][2] object is a hierarchical representation of the path on a system to the file or directory. The `java.nio.file.Path` interface is the primary entry point for working with the NIO 2 API.\r\n\r\nThe easiest way to create a Path Object is to use the `java.nio.files.Paths` factory class. The class has a pair of static `get()` method which can be used to obtain a reference to a file or directory. The methods accept either a string, or a sequence of strings (which it will join to form a path) as parameters. A `java.nio.file.Path` , like a `File`, may refer to either an absolute or relative path within the file system.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.net.URI)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html","title":"Creating files using java.nio.file Functionality","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.net.URI)\" rel=\"nofollow noreferrer\"><code>Paths.get</code></a> produce a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> object.</p>\n<pre><code>Path path = Paths.get(&quot;src/main/resources/question.txt&quot;);\n</code></pre>\n<p>Or:</p>\n<pre><code>Path path = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;question.txt&quot;);\n</code></pre>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> object is a hierarchical representation of the path on a system to the file or directory. The <code>java.nio.file.Path</code> interface is the primary entry point for working with the NIO 2 API.</p>\n<p>The easiest way to create a Path Object is to use the <code>java.nio.files.Paths</code> factory class. The class has a pair of static <code>get()</code> method which can be used to obtain a reference to a file or directory. The methods accept either a string, or a sequence of strings (which it will join to form a path) as parameters. A <code>java.nio.file.Path</code> , like a <code>File</code>, may refer to either an absolute or relative path within the file system.</p>\n"}],"owner":{"account_id":13330542,"reputation":15,"user_id":9622015,"display_name":"mama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49746141,"answer_count":1,"score":1,"last_activity_date":1693619845,"creation_date":1523337565,"question_id":49745848,"body_markdown":"I was reading the oracle to understand how to create files using Path in  java.nio.file Functionality instead of java.io.File Functionality \r\nand this is the sample code:\r\n\r\n    Path file = ...;\r\n       try {\r\n       // Create the empty file with default permissions, etc.\r\n       Files.createFile(file);\r\n        } catch (FileAlreadyExistsException x) {\r\n        System.err.format(&quot;file named %s&quot; +\r\n        &quot; already exists%n&quot;, file);\r\n       } catch (IOException x) {\r\n        // Some other sort of failure, such as permissions.\r\n       System.err.format(&quot;createFile error: %s%n&quot;, x);\r\n      }\r\n\r\nBut what is in the ...; space? what should I type there?\r\n\r\n","title":"Creating files using java.nio.file Functionality","body":"<p>I was reading the oracle to understand how to create files using Path in  java.nio.file Functionality instead of java.io.File Functionality \nand this is the sample code:</p>\n\n<pre><code>Path file = ...;\n   try {\n   // Create the empty file with default permissions, etc.\n   Files.createFile(file);\n    } catch (FileAlreadyExistsException x) {\n    System.err.format(\"file named %s\" +\n    \" already exists%n\", file);\n   } catch (IOException x) {\n    // Some other sort of failure, such as permissions.\n   System.err.format(\"createFile error: %s%n\", x);\n  }\n</code></pre>\n\n<p>But what is in the ...; space? what should I type there?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse"],"answers":[{"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418298248,"creation_date":1418297592,"answer_id":27421886,"question_id":27421838,"body_markdown":"You just need to `import` them. Eclipse should help you with this: if you try to use the class names, it&#39;ll suggest where to import from.\r\n\r\nThe test classes are a separate package, so the classes will need to be declared `public`.","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>You just need to <code>import</code> them. Eclipse should help you with this: if you try to use the class names, it'll suggest where to import from.</p>\n\n<p>The test classes are a separate package, so the classes will need to be declared <code>public</code>.</p>\n"},{"tags":[],"owner":{"account_id":4988045,"reputation":1050,"user_id":4011077,"display_name":"Daniel Stanley"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1499876565,"creation_date":1418298518,"answer_id":27422188,"question_id":27421838,"body_markdown":"I have found that sometimes this error appears and by simply going `Project -&gt; Clean...` the error will stop.\r\n\r\nHowever if this does not work there is a blog with some more suggestions [here](http://blog.sherifmansour.com/?p=207)\r\n\r\n**Updated 11/07/2017**\r\n\r\nThe original link is no longer available, refer to web archive [here](http://web.archive.org/web/20160808194301/http://blog.sherifmansour.com/?p=207)\r\n\r\nOr just have them all here..\r\n\r\n- ‘Clean’ Your Eclipse Project: Go to Project &gt; Clean in Eclipse [This seems to work for me]\r\n- Refresh your project folder (right click on your project &gt; refresh)\r\n- Re-build your project\r\n- Clean your builds (If using Ant or Maven – clean your builds)\r\n- Recreate your project in Eclipse\r\n- ‘Switch’ Workspace – then Switch back (Eg Change to Debug, then switch back to Java)\r\n- Remove and re-add your JRE:\r\n1. Right Click on your project &gt; properties\r\n2. Click on the Libraries tab\r\n3. Click on the JRE\r\n4. Click remove, then OK\r\n5. Repeat 1-3 again, but add the JRE again\r\n\r\n","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>I have found that sometimes this error appears and by simply going <code>Project -&gt; Clean...</code> the error will stop.</p>\n\n<p>However if this does not work there is a blog with some more suggestions <a href=\"http://blog.sherifmansour.com/?p=207\" rel=\"noreferrer\">here</a></p>\n\n<p><strong>Updated 11/07/2017</strong></p>\n\n<p>The original link is no longer available, refer to web archive <a href=\"http://web.archive.org/web/20160808194301/http://blog.sherifmansour.com/?p=207\" rel=\"noreferrer\">here</a></p>\n\n<p>Or just have them all here..</p>\n\n<ul>\n<li>‘Clean’ Your Eclipse Project: Go to Project > Clean in Eclipse [This seems to work for me]</li>\n<li>Refresh your project folder (right click on your project > refresh)</li>\n<li>Re-build your project</li>\n<li>Clean your builds (If using Ant or Maven – clean your builds)</li>\n<li>Recreate your project in Eclipse</li>\n<li>‘Switch’ Workspace – then Switch back (Eg Change to Debug, then switch back to Java)</li>\n<li>Remove and re-add your JRE:\n\n<ol>\n<li>Right Click on your project > properties</li>\n<li>Click on the Libraries tab</li>\n<li>Click on the JRE</li>\n<li>Click remove, then OK</li>\n<li>Repeat 1-3 again, but add the JRE again</li>\n</ol></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11540170,"reputation":1,"user_id":8456178,"display_name":"Java by kiran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502571342,"creation_date":1502571342,"answer_id":45654863,"question_id":27421838,"body_markdown":"Project -&gt; Clean\r\n\r\nis enough for me to work","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>Project -> Clean</p>\n\n<p>is enough for me to work</p>\n"},{"tags":[],"owner":{"account_id":19050446,"reputation":81,"user_id":13908741,"display_name":"Rahul Barahate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594419817,"creation_date":1594419817,"answer_id":62843096,"question_id":27421838,"body_markdown":"Absolutely, one can do it..\r\n\r\nFirst You need to navigate to Build Path--&gt;Configure Build Path--&gt; Source tab\r\n\r\nthen in the Source tab search/check [your Project Name]/src/main/java and change\r\n\r\n&quot;contains test sources&quot; from No to Yes and save it.\r\n\r\nThis will resolved issue of import packages from &quot;src/test/java&quot; to &quot;src/main/java&quot; successfully","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>Absolutely, one can do it..</p>\n<p>First You need to navigate to Build Path--&gt;Configure Build Path--&gt; Source tab</p>\n<p>then in the Source tab search/check [your Project Name]/src/main/java and change</p>\n<p>&quot;contains test sources&quot; from No to Yes and save it.</p>\n<p>This will resolved issue of import packages from &quot;src/test/java&quot; to &quot;src/main/java&quot; successfully</p>\n"},{"tags":[],"owner":{"account_id":4596317,"reputation":902,"user_id":3728258,"display_name":"Vivek Vashistha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693619419,"creation_date":1693619419,"answer_id":77026676,"question_id":27421838,"body_markdown":"In my case, it was happening because my IntelliJ Idea was configured for a different JDK version and my terminal was referring to a different JDK version. Due to this whenever I run Maven clean from the terminal, and then try to run tests via IDE, it gives this error.","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>In my case, it was happening because my IntelliJ Idea was configured for a different JDK version and my terminal was referring to a different JDK version. Due to this whenever I run Maven clean from the terminal, and then try to run tests via IDE, it gives this error.</p>\n"}],"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17586,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27422188,"answer_count":5,"score":12,"last_activity_date":1693619419,"creation_date":1418297465,"question_id":27421838,"body_markdown":"I am using maven project in Eclipse, where I am not able to access classes under src/main/java in src/test/java class. I could use the classes in maven dependacies jars though. What am I missing ?","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>I am using maven project in Eclipse, where I am not able to access classes under src/main/java in src/test/java class. I could use the classes in maven dependacies jars though. What am I missing ?</p>\n"},{"tags":["java","spring-boot","transactions","rollback"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957332,"creation_date":1690957332,"answer_id":76817097,"question_id":76816896,"body_markdown":"It`s a normal case why your log is not saved because the Spring Framework&#39;s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions.\r\n\r\nI think you should use a Transactional parameter \r\n\r\n    @Transactional(noRollbackFor=&quot;YourException.class&quot;)\r\n\r\nAnd also i suggest you to check this [one][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27849968/transactional-norollbackfor-runtimeexception-class-does-not-prevent-rollback","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p>It`s a normal case why your log is not saved because the Spring Framework's transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions.</p>\n<p>I think you should use a Transactional parameter</p>\n<pre><code>@Transactional(noRollbackFor=&quot;YourException.class&quot;)\n</code></pre>\n<p>And also i suggest you to check this <a href=\"https://stackoverflow.com/questions/27849968/transactional-norollbackfor-runtimeexception-class-does-not-prevent-rollback\">one</a></p>\n"},{"tags":[],"owner":{"account_id":29141905,"reputation":1,"user_id":22324681,"display_name":"ziming zeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690963133,"creation_date":1690963133,"answer_id":76817755,"question_id":76816896,"body_markdown":"spring requires you to throw an exception to be caught by the spring framework in order to do automatic transaction rollback. If you catch an exception manually, it requires a manual rollback, which you can add to your exception handling\r\n\r\n    TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\r\n\r\nYou also need to add it to the transaction\r\n\r\n    @Transactional(rollbackFor = Exception.class);","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p>spring requires you to throw an exception to be caught by the spring framework in order to do automatic transaction rollback. If you catch an exception manually, it requires a manual rollback, which you can add to your exception handling</p>\n<pre><code>TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\n</code></pre>\n<p>You also need to add it to the transaction</p>\n<pre><code>@Transactional(rollbackFor = Exception.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11677965,"reputation":95,"user_id":8617930,"display_name":"vipul jadhav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693618843,"creation_date":1693617903,"answer_id":77026631,"question_id":76816896,"body_markdown":"**Why is a new transaction not getting created?**\r\n\r\nThe issue stems from the fact that transactional properties are applied only when a proxy bean is created. In this case, it appears that a proxy is not being created, leading to the absence of a new transaction.\r\n\r\nThe logs indicate that no proxy is created for the class containing the HelperC where logExceptionMethod is present. \r\n\r\n*(printed with the help of (ApplicationContext.getBean(className).getClass().getName()) )*\r\n\r\n    INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 ###classname: HelperC\r\n\r\nHowever, CGLIB proxies are created for classes MainClass and SecondClass, where mainMethod and methodA are present.\r\n\r\n    INFO 8CBCB131-A16B-4F0D-9C17-AED5E15303CE - ###classname: MainClass$$EnhancerBySpringCGLIB$$b32bbff5\r\n    INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 - ###classname: SecondClass$$EnhancerBySpringCGLIB$$4c237172\r\n\r\n\r\n**Why is the proxy not getting created?**\r\n\r\nThe logs suggest that the bean HelperC is not eligible for processing by all BeanPostProcessors, specifically, it is not eligible for auto-proxying. \r\n\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperA&#39; of type [HelperA] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperB&#39; of type [HelperB] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperC&#39; of type [HelperC] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\nThis may be due to several reasons:\r\nHelperC is considered an infrastructure bean, which is a low-level bean used by the Spring framework itself.\r\nThe count of registered bean post-processors (beanFactory.getBeanPostProcessorCount()) is less than a certain target count.\r\nHelperC is not an instance of BeanPostProcessor.\r\nThis is determined by the PostProcessorRegistrationDelegate$BeanPostProcessorChecker class.\r\n\r\nAdditionally, the methodSecurityConfig class extends below class, which Configuration does not allow to create a proxy and defines beans as low-level beans (infrastructure beans)\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n    public class GlobalMethodSecurityConfiguration\r\n\r\nwhich prevents the creation of proxies. The methodSecurityConfig class autowires HelperA, which in turn autowires HelperB, eventually leading to the class containing logExceptionMethod, HelperC, which doesn&#39;t get proxied due to these rules.\r\n\r\n**Why is HelperA used in methodSecurityConfig in my case?**\r\n\r\nHelperA is used in methodSecurityConfig due to some business logic requirements. As a result, methodA from HelperA is autowired, leading to the autowiring of HelperB and subsequently HelperC, which contains logExceptionMethod. However, Spring Security configuration prevents the creation of proxies for these classes.\r\n\r\n**Solution:**\r\n\r\nTo resolve this issue, I followed the below steps\r\n\r\n1) Remove Dependency on HelperA which has the logExceptionMethod:\r\n\r\nSince HelperA is causing the issue by triggering the auto-wiring chain that leads to logExceptionMethod, I tried removing the dependency on HelperA from methodSecurityConfig. This would break the chain and potentially allow the creation of proxies for the relevant classes. \r\n\r\n2) Instead of HelperA started using JPARepository classes to fulfill the requirement in security (this can vary according to the business use case). \r\n\r\nAlternatively, I can shift the logExceptionMethod to some other class as well, which is not getting used in the security context because by default beans used in the security context are not allowed to create proxies\r\n\r\n**In summary, the bean responsible for creating the transaction for logExceptionMethod is not being proxied. This is because it is being autowired in the security context, and the configuration in the parent class restricts the creation of proxies in this context.**\r\n\r\n[https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/][1]\r\n\r\n[https://www.baeldung.com/spring-not-eligible-for-auto-proxying][2]\r\n\r\n\r\n[https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412][3]\r\n\r\n\r\n  [1]: https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\r\n  [2]: https://www.baeldung.com/spring-not-eligible-for-auto-proxying\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p><strong>Why is a new transaction not getting created?</strong></p>\n<p>The issue stems from the fact that transactional properties are applied only when a proxy bean is created. In this case, it appears that a proxy is not being created, leading to the absence of a new transaction.</p>\n<p>The logs indicate that no proxy is created for the class containing the HelperC where logExceptionMethod is present.</p>\n<p><em>(printed with the help of (ApplicationContext.getBean(className).getClass().getName()) )</em></p>\n<pre><code>INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 ###classname: HelperC\n</code></pre>\n<p>However, CGLIB proxies are created for classes MainClass and SecondClass, where mainMethod and methodA are present.</p>\n<pre><code>INFO 8CBCB131-A16B-4F0D-9C17-AED5E15303CE - ###classname: MainClass$$EnhancerBySpringCGLIB$$b32bbff5\nINFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 - ###classname: SecondClass$$EnhancerBySpringCGLIB$$4c237172\n</code></pre>\n<p><strong>Why is the proxy not getting created?</strong></p>\n<p>The logs suggest that the bean HelperC is not eligible for processing by all BeanPostProcessors, specifically, it is not eligible for auto-proxying.</p>\n<pre><code>INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperA' of type [HelperA] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperB' of type [HelperB] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperC' of type [HelperC] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n</code></pre>\n<p>This may be due to several reasons:\nHelperC is considered an infrastructure bean, which is a low-level bean used by the Spring framework itself.\nThe count of registered bean post-processors (beanFactory.getBeanPostProcessorCount()) is less than a certain target count.\nHelperC is not an instance of BeanPostProcessor.\nThis is determined by the PostProcessorRegistrationDelegate$BeanPostProcessorChecker class.</p>\n<p>Additionally, the methodSecurityConfig class extends below class, which Configuration does not allow to create a proxy and defines beans as low-level beans (infrastructure beans)</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@Role(BeanDefinition.ROLE_INFRASTRUCTURE)\npublic class GlobalMethodSecurityConfiguration\n</code></pre>\n<p>which prevents the creation of proxies. The methodSecurityConfig class autowires HelperA, which in turn autowires HelperB, eventually leading to the class containing logExceptionMethod, HelperC, which doesn't get proxied due to these rules.</p>\n<p><strong>Why is HelperA used in methodSecurityConfig in my case?</strong></p>\n<p>HelperA is used in methodSecurityConfig due to some business logic requirements. As a result, methodA from HelperA is autowired, leading to the autowiring of HelperB and subsequently HelperC, which contains logExceptionMethod. However, Spring Security configuration prevents the creation of proxies for these classes.</p>\n<p><strong>Solution:</strong></p>\n<p>To resolve this issue, I followed the below steps</p>\n<ol>\n<li>Remove Dependency on HelperA which has the logExceptionMethod:</li>\n</ol>\n<p>Since HelperA is causing the issue by triggering the auto-wiring chain that leads to logExceptionMethod, I tried removing the dependency on HelperA from methodSecurityConfig. This would break the chain and potentially allow the creation of proxies for the relevant classes.</p>\n<ol start=\"2\">\n<li>Instead of HelperA started using JPARepository classes to fulfill the requirement in security (this can vary according to the business use case).</li>\n</ol>\n<p>Alternatively, I can shift the logExceptionMethod to some other class as well, which is not getting used in the security context because by default beans used in the security context are not allowed to create proxies</p>\n<p><strong>In summary, the bean responsible for creating the transaction for logExceptionMethod is not being proxied. This is because it is being autowired in the security context, and the configuration in the parent class restricts the creation of proxies in this context.</strong></p>\n<p><a href=\"https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\" rel=\"nofollow noreferrer\">https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/</a></p>\n<p><a href=\"https://www.baeldung.com/spring-not-eligible-for-auto-proxying\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-not-eligible-for-auto-proxying</a></p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412</a></p>\n"}],"owner":{"account_id":11677965,"reputation":95,"user_id":8617930,"display_name":"vipul jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77026631,"answer_count":3,"score":3,"last_activity_date":1693619092,"creation_date":1690954397,"question_id":76816896,"body_markdown":"**Spring always creates the new Transaction for REQUIRES_NEW, if an already existing transaction is present or not. but what is the situation where spring does not create new and instead participates in existing transactions?**\r\n\r\nBelow is the situation where new transaction is not getting created and instead participates in existing.\r\n\r\nAll the methods, mainMethod, methodA(), methodB() and logExceptionMethod() are in different beans,\r\nIdeally, When methodB() fails, exception will get caught in catch block, and logExceptionMethod() will audit the log by creating new transaction.\r\n\r\nBut here new transaction is not started for the logExceptionMethod() method even though, this method is annotated with requires_new\r\nand is Public and in different bean, instead it participates in existing transaction which result in rollback\r\n\r\nmainMethod -  Propagation.REQUIRES\r\nmethodA    -  Propagation.REQUIRES_NEW\r\nmethodB    -  not annotated\r\nlogExceptionMethod - Propagation.REQUIRES_NEW\r\n\r\nFlow\r\n```\r\n    @Transactional\r\n    mainMethod() {\r\n          try{\r\n                methodA();\r\n           } catch(Exception e) {\r\n                   throw e;\r\n           }\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    methodA(){\r\n         try{\r\n               methodB()\r\n              }\r\n         catch(Exception e) {\r\n              throw e;\r\n          }\r\n    }\r\n    \r\n    methodB(){\r\n          try {\r\n                 // api call gives exception\r\n                }\r\n           catch(Exception e) {\r\n                logExceptionMethod();\r\n                throw e;\r\n            }\r\n    }\r\n    \r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    logExceptionMethod() {\r\n          // create log entity\r\n          // store entity in db\r\n    }\r\n\r\n```\r\n\r\nLogs\r\n```\r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Creating new transaction with name [mainMethod]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53f498b2]\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [mainMethod]\r\n        \r\nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 2023-08-11 03:04:13 [qtp1482177069-1382] \r\n        \r\nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean &#39;transactionManager&#39;\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\r\n        \r\nINFO - 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : mainMethod\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Suspending current transaction, creating new transaction with name [methodA]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Opened new EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\r\n        \r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54c9937c]\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [methodA]\r\n        \r\nINFO- 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : methodA\r\n        \r\nERROR - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exception Occured \r\n        \r\nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method &#39;org.springframework.data.jpa.repository.support.SimpleJpaRepository.save&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n        \r\nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean \r\n        &#39;transactionManager&#39;\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Participating in existing transaction\r\n        \r\nINFO  - 1F2EA187-C884-461C-8183-328A4B7621D0 - Added entry in log\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [methodA] after exception: \r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1186799888&lt;open&gt;)]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Closing JPA EntityManager [SessionImpl(1186799888&lt;open&gt;)] after transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Resuming suspended transaction after completion of inner transaction\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [mainMethod] after exception:\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1543398267&lt;open&gt;)]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Not closing pre-bound JPA EntityManager after transaction\r\n\r\n```\r\n\r\nNow I can use specific noRollbackFor property to prevent rollback the transaction, but still, the main question remains is \r\n1) why does Spring have not created new transaction?\r\n2) what is the situation where this scenario can happen?","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p><strong>Spring always creates the new Transaction for REQUIRES_NEW, if an already existing transaction is present or not. but what is the situation where spring does not create new and instead participates in existing transactions?</strong></p>\n<p>Below is the situation where new transaction is not getting created and instead participates in existing.</p>\n<p>All the methods, mainMethod, methodA(), methodB() and logExceptionMethod() are in different beans,\nIdeally, When methodB() fails, exception will get caught in catch block, and logExceptionMethod() will audit the log by creating new transaction.</p>\n<p>But here new transaction is not started for the logExceptionMethod() method even though, this method is annotated with requires_new\nand is Public and in different bean, instead it participates in existing transaction which result in rollback</p>\n<p>mainMethod -  Propagation.REQUIRES\nmethodA    -  Propagation.REQUIRES_NEW\nmethodB    -  not annotated\nlogExceptionMethod - Propagation.REQUIRES_NEW</p>\n<p>Flow</p>\n<pre><code>    @Transactional\n    mainMethod() {\n          try{\n                methodA();\n           } catch(Exception e) {\n                   throw e;\n           }\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    methodA(){\n         try{\n               methodB()\n              }\n         catch(Exception e) {\n              throw e;\n          }\n    }\n    \n    methodB(){\n          try {\n                 // api call gives exception\n                }\n           catch(Exception e) {\n                logExceptionMethod();\n                throw e;\n            }\n    }\n    \n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    logExceptionMethod() {\n          // create log entity\n          // store entity in db\n    }\n\n</code></pre>\n<p>Logs</p>\n<pre><code>DEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Creating new transaction with name [mainMethod]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53f498b2]\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [mainMethod]\n        \nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 2023-08-11 03:04:13 [qtp1482177069-1382] \n        \nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean 'transactionManager'\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\n        \nINFO - 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : mainMethod\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Suspending current transaction, creating new transaction with name [methodA]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Opened new EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\n        \n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54c9937c]\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [methodA]\n        \nINFO- 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : methodA\n        \nERROR - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exception Occured \n        \nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 'org.springframework.data.jpa.repository.support.SimpleJpaRepository.save' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n        \nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean \n        'transactionManager'\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Participating in existing transaction\n        \nINFO  - 1F2EA187-C884-461C-8183-328A4B7621D0 - Added entry in log\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [methodA] after exception: \n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1186799888&lt;open&gt;)]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Closing JPA EntityManager [SessionImpl(1186799888&lt;open&gt;)] after transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Resuming suspended transaction after completion of inner transaction\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [mainMethod] after exception:\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1543398267&lt;open&gt;)]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Not closing pre-bound JPA EntityManager after transaction\n\n</code></pre>\n<p>Now I can use specific noRollbackFor property to prevent rollback the transaction, but still, the main question remains is</p>\n<ol>\n<li>why does Spring have not created new transaction?</li>\n<li>what is the situation where this scenario can happen?</li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","servlets"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":3,"up_vote_count":117,"is_accepted":true,"score":114,"last_activity_date":1617139985,"creation_date":1484078009,"answer_id":41577235,"question_id":41577234,"body_markdown":"Your standard Spring MVC application will serve all requests through a [`DispatcherServlet`][1] that you&#39;ve registered with your Servlet container.\r\n\r\nThe `DispatcherServlet` looks at its `ApplicationContext` and, if available, the `ApplicationContext` registered with a `ContextLoaderListener` for special beans it needs to setup its request serving logic. [These beans are described in the documentation][2].\r\n\r\nArguably the most important, beans of type [`HandlerMapping`][3] map\r\n\r\n&gt; incoming requests to handlers and a list of pre- and post-processors\r\n&gt; (handler interceptors) based on some criteria the details of which\r\n&gt; vary by `HandlerMapping` implementation. The most popular implementation\r\n&gt; supports annotated controllers but other implementations exists as\r\n&gt; well.\r\n\r\n\r\nThe [javadoc of `HandlerMapping`][4] further describes how implementations must behave.\r\n\r\nThe `DispatcherServlet` finds all beans of this type and registers them in some order (can be customized). While serving a request, the `DispatcherServlet` loops through these `HandlerMapping` objects and tests each of them with [`getHandler`][5] to find one that can handle the incoming request, represented as the standard `HttpServletRequest`. As of 4.3.x, **if it doesn&#39;t find any**, it [logs the warning][6] that you see \r\n\r\n\r\n\r\n&gt; No mapping found for HTTP request with URI `[/some/path]` in `DispatcherServlet` with name SomeName\r\n\r\nand [either][7] throws a [`NoHandlerFoundException`][8] or immediately commits the response with a 404 Not Found status code.\r\n\r\nWhy didn&#39;t the `DispatcherServlet` find a `HandlerMapping` that could handle my request?\r\n===\r\n\r\nThe most common `HandlerMapping` implementation is [`RequestMappingHandlerMapping`][9], which handles registering `@Controller` beans as handlers (really their `@RequestMapping` annotated methods). You can either declare a bean of this type yourself (with `@Bean` or `&lt;bean&gt;` or other mechanism) or you can use [the built-in options][10]. These are: \r\n\r\n 1. Annotate your `@Configuration` class with `@EnableWebMvc`.\r\n 2. Declare a `&lt;mvc:annotation-driven /&gt;` member in your XML configuration.\r\n\r\nAs the link above describes, both of these will register a `RequestMappingHandlerMapping` bean (and a bunch of other stuff). However, a `HandlerMapping` isn&#39;t very useful without a handler. `RequestMappingHandlerMapping` expects some `@Controller` beans so you need to declare those too, through `@Bean` methods in a Java configuration or `&lt;bean&gt;` declarations in an XML configuration or through component scanning of `@Controller` annotated classes in either. **Make sure these beans are present.**\r\n\r\nIf you&#39;re getting the warning message and a 404 and you&#39;ve configured all of the above correctly, **then you&#39;re sending your request to the wrong URI**, one that isn&#39;t handled by a detected `@RequestMapping` annotated handler method.\r\n\r\nThe `spring-webmvc` library offers other built-in `HandlerMapping` implementations. For example, [`BeanNameUrlHandlerMapping`][11] maps \r\n\r\n&gt; from URLs to beans with names that start with a slash (&quot;/&quot;) \r\n\r\nand you can always write your own. Obviously, **you&#39;ll have to make sure the request you&#39;re sending matches at least one of the registered `HandlerMapping` object&#39;s handlers.**\r\n\r\nIf you don&#39;t implicitly or explicitly register any `HandlerMapping` beans (or if [`detectAllHandlerMappings`][12] is `true`), the `DispatcherServlet` registers some [defaults][13]. These are defined in [`DispatcherServlet.properties`][14] in the same package as the `DispatcherServlet` class. They are `BeanNameUrlHandlerMapping` and [`DefaultAnnotationHandlerMapping`][15] (which is similar to `RequestMappingHandlerMapping` but deprecated).\r\n\r\nDebugging\r\n===\r\n\r\nSpring MVC will log handlers registered through `RequestMappingHandlerMapping`. For example, a `@Controller` like\r\n\r\n    @Controller\r\n    public class ExampleController {\r\n        @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET, headers = &quot;X-Custom&quot;)\r\n        public String example() {\r\n            return &quot;example-view-name&quot;;\r\n        }\r\n    }\r\n\r\nwill log the following at INFO level\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Mapped &quot;{[/example],methods=[GET],headers=[X-Custom]}&quot; onto public java.lang.String com.spring.servlet.ExampleController.example()\r\n\r\nThis describes the mapping registered. When you see the warning that no handler was found, compare the URI in the message to the mapping listed here. All the restrictions specified in the [`@RequestMapping`][16] must match for Spring MVC to select the handler.\r\n\r\nOther `HandlerMapping` implementations log their own statements that should hint to their mappings and their corresponding handlers.\r\n\r\nSimilarly, enable Spring logging at DEBUG level to see which beans Spring registers. It should report which annotated classes it finds, which packages it scans, and which beans it initializes. If the ones you expected aren&#39;t present, then review your `ApplicationContext` configuration.\r\n\r\nOther common mistakes\r\n===\r\n\r\nA `DispatcherServlet` is just a typical Java EE [`Servlet`][17]. You register it with your typical `&lt;web.xml&gt;` `&lt;servlet-class&gt;` and `&lt;servlet-mapping&gt;` declaration, or directly through [`ServletContext#addServlet`][18] in a [`WebApplicationInitializer`][19], or with whatever mechanism Spring boot uses. As such, you must rely on the _url mapping_ logic specified in the [Servlet specification][20], see Chapter 12. See also\r\n\r\n- https://stackoverflow.com/questions/15385596/how-are-servlet-url-mappings-in-web-xml-used\r\n\r\nWith that in mind, a common mistake is to register the `DispatcherServlet` with a url mapping of `/*`, returning a view name from a `@RequestMapping` handler method, and expecting a JSP to be rendered. For example, consider a handler method like\r\n\r\n    @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET)\r\n    public String example() {\r\n        return &quot;example-view-name&quot;;\r\n    }\r\n\r\nwith an [`InternalResourceViewResolver`][21] \r\n\r\n    @Bean\r\n    public InternalResourceViewResolver resolver() {\r\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n        vr.setSuffix(&quot;.jsp&quot;);\r\n        return vr;\r\n    }\r\n\r\nyou might expect the request to be [forwarded][22] to a JSP resource at the path `/WEB-INF/jsps/example-view-name.jsp`. This won&#39;t happen. Instead, assuming a context name of `Example`, the `DisaptcherServlet` will report\r\n\r\n&gt; No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/example-view-name.jsp]` in `DispatcherServlet` with name &#39;dispatcher&#39;\r\n\r\nBecause the `DispatcherServlet` is mapped to `/*` and `/*` matches everything (except exact matches, which have higher priority), the `DispatcherServlet` would be chosen to handle the `forward` from the [`JstlView`][23] (returned by the `InternalResourceViewResolver`). **In almost every case, the `DispatcherServlet` will not be configured to handle such a request**.\r\n\r\nInstead, in this simplistic case, you should register the `DispatcherServlet` to `/`, marking it as the default servlet. The default servlet is the last match for a request. This will allow your typical servlet container to chose an internal Servlet implementation, mapped to `*.jsp`, to handle the JSP resource (for example, Tomcat has [`JspServlet`][24]), before trying with the default servlet.\r\n\r\nThat&#39;s what you&#39;re seeing in your example.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-special-bean-types\r\n  [3]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html#getHandler-javax.servlet.http.HttpServletRequest-\r\n  [6]: https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java#L1176\r\n  [7]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setThrowExceptionIfNoHandlerFound-boolean-\r\n  [8]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html\r\n  [10]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-enable\r\n  [11]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/handler/BeanNameUrlHandlerMapping.html\r\n  [12]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setDetectAllHandlerAdapters-boolean-\r\n  [13]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-config\r\n  [14]: https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/resources/org/springframework/web/servlet/DispatcherServlet.properties\r\n  [15]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html\r\n  [16]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\r\n  [17]: https://docs.oracle.com/javaee/7/api/javax/servlet/Servlet.html\r\n  [18]: http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#addServlet-java.lang.String-java.lang.Class-\r\n  [19]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\r\n  [20]: http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/\r\n  [21]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/view/InternalResourceViewResolver.html\r\n  [22]: http://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#forward-javax.servlet.ServletRequest-javax.servlet.ServletResponse-\r\n  [23]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/JstlView.html\r\n  [24]: https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/jasper/servlet/JspServlet.html","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Your standard Spring MVC application will serve all requests through a <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\" rel=\"noreferrer\"><code>DispatcherServlet</code></a> that you've registered with your Servlet container.</p>\n<p>The <code>DispatcherServlet</code> looks at its <code>ApplicationContext</code> and, if available, the <code>ApplicationContext</code> registered with a <code>ContextLoaderListener</code> for special beans it needs to setup its request serving logic. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-special-bean-types\" rel=\"noreferrer\">These beans are described in the documentation</a>.</p>\n<p>Arguably the most important, beans of type <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping\" rel=\"noreferrer\"><code>HandlerMapping</code></a> map</p>\n<blockquote>\n<p>incoming requests to handlers and a list of pre- and post-processors\n(handler interceptors) based on some criteria the details of which\nvary by <code>HandlerMapping</code> implementation. The most popular implementation\nsupports annotated controllers but other implementations exists as\nwell.</p>\n</blockquote>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html\" rel=\"noreferrer\">javadoc of <code>HandlerMapping</code></a> further describes how implementations must behave.</p>\n<p>The <code>DispatcherServlet</code> finds all beans of this type and registers them in some order (can be customized). While serving a request, the <code>DispatcherServlet</code> loops through these <code>HandlerMapping</code> objects and tests each of them with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html#getHandler-javax.servlet.http.HttpServletRequest-\" rel=\"noreferrer\"><code>getHandler</code></a> to find one that can handle the incoming request, represented as the standard <code>HttpServletRequest</code>. As of 4.3.x, <strong>if it doesn't find any</strong>, it <a href=\"https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java#L1176\" rel=\"noreferrer\">logs the warning</a> that you see</p>\n<blockquote>\n<p>No mapping found for HTTP request with URI <code>[/some/path]</code> in <code>DispatcherServlet</code> with name SomeName</p>\n</blockquote>\n<p>and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setThrowExceptionIfNoHandlerFound-boolean-\" rel=\"noreferrer\">either</a> throws a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html\" rel=\"noreferrer\"><code>NoHandlerFoundException</code></a> or immediately commits the response with a 404 Not Found status code.</p>\n<h1>Why didn't the <code>DispatcherServlet</code> find a <code>HandlerMapping</code> that could handle my request?</h1>\n<p>The most common <code>HandlerMapping</code> implementation is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html\" rel=\"noreferrer\"><code>RequestMappingHandlerMapping</code></a>, which handles registering <code>@Controller</code> beans as handlers (really their <code>@RequestMapping</code> annotated methods). You can either declare a bean of this type yourself (with <code>@Bean</code> or <code>&lt;bean&gt;</code> or other mechanism) or you can use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-enable\" rel=\"noreferrer\">the built-in options</a>. These are:</p>\n<ol>\n<li>Annotate your <code>@Configuration</code> class with <code>@EnableWebMvc</code>.</li>\n<li>Declare a <code>&lt;mvc:annotation-driven /&gt;</code> member in your XML configuration.</li>\n</ol>\n<p>As the link above describes, both of these will register a <code>RequestMappingHandlerMapping</code> bean (and a bunch of other stuff). However, a <code>HandlerMapping</code> isn't very useful without a handler. <code>RequestMappingHandlerMapping</code> expects some <code>@Controller</code> beans so you need to declare those too, through <code>@Bean</code> methods in a Java configuration or <code>&lt;bean&gt;</code> declarations in an XML configuration or through component scanning of <code>@Controller</code> annotated classes in either. <strong>Make sure these beans are present.</strong></p>\n<p>If you're getting the warning message and a 404 and you've configured all of the above correctly, <strong>then you're sending your request to the wrong URI</strong>, one that isn't handled by a detected <code>@RequestMapping</code> annotated handler method.</p>\n<p>The <code>spring-webmvc</code> library offers other built-in <code>HandlerMapping</code> implementations. For example, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/handler/BeanNameUrlHandlerMapping.html\" rel=\"noreferrer\"><code>BeanNameUrlHandlerMapping</code></a> maps</p>\n<blockquote>\n<p>from URLs to beans with names that start with a slash (&quot;/&quot;)</p>\n</blockquote>\n<p>and you can always write your own. Obviously, <strong>you'll have to make sure the request you're sending matches at least one of the registered <code>HandlerMapping</code> object's handlers.</strong></p>\n<p>If you don't implicitly or explicitly register any <code>HandlerMapping</code> beans (or if <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setDetectAllHandlerAdapters-boolean-\" rel=\"noreferrer\"><code>detectAllHandlerMappings</code></a> is <code>true</code>), the <code>DispatcherServlet</code> registers some <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-config\" rel=\"noreferrer\">defaults</a>. These are defined in <a href=\"https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/resources/org/springframework/web/servlet/DispatcherServlet.properties\" rel=\"noreferrer\"><code>DispatcherServlet.properties</code></a> in the same package as the <code>DispatcherServlet</code> class. They are <code>BeanNameUrlHandlerMapping</code> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html\" rel=\"noreferrer\"><code>DefaultAnnotationHandlerMapping</code></a> (which is similar to <code>RequestMappingHandlerMapping</code> but deprecated).</p>\n<h1>Debugging</h1>\n<p>Spring MVC will log handlers registered through <code>RequestMappingHandlerMapping</code>. For example, a <code>@Controller</code> like</p>\n<pre><code>@Controller\npublic class ExampleController {\n    @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET, headers = &quot;X-Custom&quot;)\n    public String example() {\n        return &quot;example-view-name&quot;;\n    }\n}\n</code></pre>\n<p>will log the following at INFO level</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mapped &quot;{[/example],methods=[GET],headers=[X-Custom]}&quot; onto public java.lang.String com.spring.servlet.ExampleController.example()\n</code></pre>\n<p>This describes the mapping registered. When you see the warning that no handler was found, compare the URI in the message to the mapping listed here. All the restrictions specified in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"noreferrer\"><code>@RequestMapping</code></a> must match for Spring MVC to select the handler.</p>\n<p>Other <code>HandlerMapping</code> implementations log their own statements that should hint to their mappings and their corresponding handlers.</p>\n<p>Similarly, enable Spring logging at DEBUG level to see which beans Spring registers. It should report which annotated classes it finds, which packages it scans, and which beans it initializes. If the ones you expected aren't present, then review your <code>ApplicationContext</code> configuration.</p>\n<h1>Other common mistakes</h1>\n<p>A <code>DispatcherServlet</code> is just a typical Java EE <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/Servlet.html\" rel=\"noreferrer\"><code>Servlet</code></a>. You register it with your typical <code>&lt;web.xml&gt;</code> <code>&lt;servlet-class&gt;</code> and <code>&lt;servlet-mapping&gt;</code> declaration, or directly through <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#addServlet-java.lang.String-java.lang.Class-\" rel=\"noreferrer\"><code>ServletContext#addServlet</code></a> in a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\" rel=\"noreferrer\"><code>WebApplicationInitializer</code></a>, or with whatever mechanism Spring boot uses. As such, you must rely on the <em>url mapping</em> logic specified in the <a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/\" rel=\"noreferrer\">Servlet specification</a>, see Chapter 12. See also</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15385596/how-are-servlet-url-mappings-in-web-xml-used\">How are Servlet url mappings in web.xml used?</a></li>\n</ul>\n<p>With that in mind, a common mistake is to register the <code>DispatcherServlet</code> with a url mapping of <code>/*</code>, returning a view name from a <code>@RequestMapping</code> handler method, and expecting a JSP to be rendered. For example, consider a handler method like</p>\n<pre><code>@RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET)\npublic String example() {\n    return &quot;example-view-name&quot;;\n}\n</code></pre>\n<p>with an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/view/InternalResourceViewResolver.html\" rel=\"noreferrer\"><code>InternalResourceViewResolver</code></a></p>\n<pre><code>@Bean\npublic InternalResourceViewResolver resolver() {\n    InternalResourceViewResolver vr = new InternalResourceViewResolver();\n    vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\n    vr.setSuffix(&quot;.jsp&quot;);\n    return vr;\n}\n</code></pre>\n<p>you might expect the request to be <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#forward-javax.servlet.ServletRequest-javax.servlet.ServletResponse-\" rel=\"noreferrer\">forwarded</a> to a JSP resource at the path <code>/WEB-INF/jsps/example-view-name.jsp</code>. This won't happen. Instead, assuming a context name of <code>Example</code>, the <code>DisaptcherServlet</code> will report</p>\n<blockquote>\n<p>No mapping found for HTTP request with URI <code>[/Example/WEB-INF/jsps/example-view-name.jsp]</code> in <code>DispatcherServlet</code> with name 'dispatcher'</p>\n</blockquote>\n<p>Because the <code>DispatcherServlet</code> is mapped to <code>/*</code> and <code>/*</code> matches everything (except exact matches, which have higher priority), the <code>DispatcherServlet</code> would be chosen to handle the <code>forward</code> from the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/JstlView.html\" rel=\"noreferrer\"><code>JstlView</code></a> (returned by the <code>InternalResourceViewResolver</code>). <strong>In almost every case, the <code>DispatcherServlet</code> will not be configured to handle such a request</strong>.</p>\n<p>Instead, in this simplistic case, you should register the <code>DispatcherServlet</code> to <code>/</code>, marking it as the default servlet. The default servlet is the last match for a request. This will allow your typical servlet container to chose an internal Servlet implementation, mapped to <code>*.jsp</code>, to handle the JSP resource (for example, Tomcat has <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/jasper/servlet/JspServlet.html\" rel=\"noreferrer\"><code>JspServlet</code></a>), before trying with the default servlet.</p>\n<p>That's what you're seeing in your example.</p>\n"},{"tags":[],"owner":{"account_id":6727705,"reputation":55,"user_id":5185121,"accept_rate":75,"display_name":"Anil N.P"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484568428,"creation_date":1484567683,"answer_id":41675870,"question_id":41577234,"body_markdown":"I came across another reason for the same error. This could also be due to the class files not generated for your controller.java file. As a result of which the  the dispatcher servlet mentioned in web.xml is unable to map it to the appropriate  method in the controller class.\r\n\r\n    @Controller\r\n    Class Controller{\r\n    @RequestMapping(value=&quot;/abc.html&quot;)//abc is the requesting page\r\n    public void method()\r\n    {.....}\r\n    }\r\n\r\n\r\nIn eclipse under Project-&gt;select clean -&gt;Build Project.Do give a check if the class file has been generated for the controller file under builds in your workspace.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I came across another reason for the same error. This could also be due to the class files not generated for your controller.java file. As a result of which the  the dispatcher servlet mentioned in web.xml is unable to map it to the appropriate  method in the controller class.</p>\n\n<pre><code>@Controller\nClass Controller{\n@RequestMapping(value=\"/abc.html\")//abc is the requesting page\npublic void method()\n{.....}\n}\n</code></pre>\n\n<p>In eclipse under Project->select clean ->Build Project.Do give a check if the class file has been generated for the controller file under builds in your workspace.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1489493087,"creation_date":1489493087,"answer_id":42785538,"question_id":41577234,"body_markdown":"I resolved my issue when in addition to described before:`\r\n\r\n    @Bean\r\n    public InternalResourceViewResolver resolver() {\r\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n        vr.setSuffix(&quot;.jsp&quot;);\r\n        return vr;\r\n    }\r\n\r\n`added tomcat-embed-jasper:`\r\n\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n`\r\nfrom: https://stackoverflow.com/questions/20602010/jsp-file-not-rendering-in-spring-boot-web-application/22552855#22552855\r\n","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I resolved my issue when in addition to described before:`</p>\n\n<pre><code>@Bean\npublic InternalResourceViewResolver resolver() {\n    InternalResourceViewResolver vr = new InternalResourceViewResolver();\n    vr.setPrefix(\"/WEB-INF/jsps/\");\n    vr.setSuffix(\".jsp\");\n    return vr;\n}\n</code></pre>\n\n<p><code>added tomcat-embed-jasper:</code></p>\n\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>`\nfrom: <a href=\"https://stackoverflow.com/questions/20602010/jsp-file-not-rendering-in-spring-boot-web-application/22552855#22552855\">JSP file not rendering in Spring Boot web application</a></p>\n"},{"tags":[],"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568743710,"creation_date":1542058946,"answer_id":53270519,"question_id":41577234,"body_markdown":"In my case, I was following the [Interceptors Spring documentation for version 5.1.2][1] (while using **Spring Boot v2.0.4.RELEASE**) and the `WebConfig` class had the annotation `@EnableWebMvc`, which seemed to be conflicting with something else in my application that was preventing my static assets from being resolved correctly (i.e. no CSS or JS files were being returned to the client).\r\n\r\nAfter trying a lot of different things, I tried *removing* the `@EnableWebMvc` and it worked!\r\n\r\nEdit: [Here&#39;s the reference documentation][2] that says you should remove the `@EnableWebMvc` annotation\r\n\r\nApparently in my case at least, I&#39;m already configuring my Spring application (although not by using `web.xml` or any other static file, it&#39;s definitely programmatically), so it was a conflict there.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web.html#mvc-config-interceptors\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I was following the <a href=\"https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web.html#mvc-config-interceptors\" rel=\"nofollow noreferrer\">Interceptors Spring documentation for version 5.1.2</a> (while using <strong>Spring Boot v2.0.4.RELEASE</strong>) and the <code>WebConfig</code> class had the annotation <code>@EnableWebMvc</code>, which seemed to be conflicting with something else in my application that was preventing my static assets from being resolved correctly (i.e. no CSS or JS files were being returned to the client).</p>\n\n<p>After trying a lot of different things, I tried <em>removing</em> the <code>@EnableWebMvc</code> and it worked!</p>\n\n<p>Edit: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">Here's the reference documentation</a> that says you should remove the <code>@EnableWebMvc</code> annotation</p>\n\n<p>Apparently in my case at least, I'm already configuring my Spring application (although not by using <code>web.xml</code> or any other static file, it's definitely programmatically), so it was a conflict there.</p>\n"},{"tags":[],"owner":{"account_id":15220484,"reputation":1,"user_id":10982516,"display_name":"Roy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550354731,"creation_date":1550354731,"answer_id":54728122,"question_id":41577234,"body_markdown":"For me, I found that my target classes were generated in a folder pattern not same as source. This is possibly in eclipse I add folders for containing my controllers and not add them as packages. So I ended up defining incorrect path in spring config.\r\n\r\nMy target class was generating classes under app and I was referring to com.happy.app\r\n\r\n\t&lt;context:annotation-config /&gt;\r\n\t&lt;context:component-scan\r\n\t\tbase-package=&quot;com.happy.app&quot;&gt;&lt;/context:component-scan&gt; \r\n\r\nI added packages (not folders) for com.happy.app and moved the files from folders to packages in eclipse and it resolved the issue.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>For me, I found that my target classes were generated in a folder pattern not same as source. This is possibly in eclipse I add folders for containing my controllers and not add them as packages. So I ended up defining incorrect path in spring config.</p>\n\n<p>My target class was generating classes under app and I was referring to com.happy.app</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;context:component-scan\n    base-package=\"com.happy.app\"&gt;&lt;/context:component-scan&gt; \n</code></pre>\n\n<p>I added packages (not folders) for com.happy.app and moved the files from folders to packages in eclipse and it resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13785294,"reputation":498,"user_id":9949370,"display_name":"2rahulsk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1550466746,"creation_date":1550466746,"answer_id":54740810,"question_id":41577234,"body_markdown":"Clean your server. Maybe delete the server and add the project once again and Run. \r\n\r\n1. Stop the Tomcat server\r\n\r\n2. Right click the server and select &quot;Clean&quot;\r\n\r\n3. Right click server again and select &quot;Clean Tomcat Work Directory&quot;","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Clean your server. Maybe delete the server and add the project once again and Run. </p>\n\n<ol>\n<li><p>Stop the Tomcat server</p></li>\n<li><p>Right click the server and select \"Clean\"</p></li>\n<li><p>Right click server again and select \"Clean Tomcat Work Directory\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573625297,"creation_date":1573624971,"answer_id":58831165,"question_id":41577234,"body_markdown":"In my case, I was playing around with import of secondary java config files into a main java config file.  While making secondary config files, I had changed the name of the main config class, but I had failed to update the name in web.xml.  So, every time that I had restarted my tomcat server, I was not seeing mapping handlers noted in the Eclipse IDE console, and when I tried to navigate to my home page I was seeing this error:\r\n\r\n&gt; Nov 1, 2019 11:00:01 PM org.springframework.web.servlet.PageNotFound\r\n&gt; noHandlerFound WARNING: No mapping found for HTTP request with URI\r\n&gt; [/webapp/home/index] in DispatcherServlet with name &#39;dispatcher&#39;\r\n\r\nThe fix was to update the web.xml file so that the old name &quot;WebConfig&quot; would be instead &quot;MainConfig&quot;, simply renaming it to reflect the latest name of the main java config file (where &quot;MainConfig&quot; is arbitrary and the words &quot;Web&quot; and &quot;Main&quot; used here are not a syntax requirement).  MainConfig was important, because it was the file that did the component scan for &quot;WebController&quot;, my spring mvc controller class that handles my web requests.\r\n\r\n    @ComponentScan(basePackageClasses={WebController.class})\r\n\r\nweb.xml had this:\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            com.lionheart.fourthed.config.WebConfig\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nweb.xml file now has:\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            com.lionheart.fourthed.config.MainConfig\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nNow I am seeing the mapping in the console window:\r\n\r\n&gt; INFO: Mapped &quot;{[/home/index],methods=[GET]}&quot; onto public\r\n&gt; org.springframework.web.servlet.ModelAndView\r\n&gt; com.lionheart.fourthed.controller.WebController.gotoIndex()\r\n\r\nAnd my web page is loading again.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I was playing around with import of secondary java config files into a main java config file.  While making secondary config files, I had changed the name of the main config class, but I had failed to update the name in web.xml.  So, every time that I had restarted my tomcat server, I was not seeing mapping handlers noted in the Eclipse IDE console, and when I tried to navigate to my home page I was seeing this error:</p>\n\n<blockquote>\n  <p>Nov 1, 2019 11:00:01 PM org.springframework.web.servlet.PageNotFound\n  noHandlerFound WARNING: No mapping found for HTTP request with URI\n  [/webapp/home/index] in DispatcherServlet with name 'dispatcher'</p>\n</blockquote>\n\n<p>The fix was to update the web.xml file so that the old name \"WebConfig\" would be instead \"MainConfig\", simply renaming it to reflect the latest name of the main java config file (where \"MainConfig\" is arbitrary and the words \"Web\" and \"Main\" used here are not a syntax requirement).  MainConfig was important, because it was the file that did the component scan for \"WebController\", my spring mvc controller class that handles my web requests.</p>\n\n<pre><code>@ComponentScan(basePackageClasses={WebController.class})\n</code></pre>\n\n<p>web.xml had this:</p>\n\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        com.lionheart.fourthed.config.WebConfig\n    &lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>web.xml file now has:</p>\n\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        com.lionheart.fourthed.config.MainConfig\n    &lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>Now I am seeing the mapping in the console window:</p>\n\n<blockquote>\n  <p>INFO: Mapped \"{[/home/index],methods=[GET]}\" onto public\n  org.springframework.web.servlet.ModelAndView\n  com.lionheart.fourthed.controller.WebController.gotoIndex()</p>\n</blockquote>\n\n<p>And my web page is loading again.</p>\n"},{"tags":[],"owner":{"account_id":13233942,"reputation":11,"user_id":9556624,"display_name":"Thanis Albert"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1577760723,"creation_date":1577760723,"answer_id":59539054,"question_id":41577234,"body_markdown":"I had same problem as `**No mapping found for HTTP request with URI [/some/path] in DispatcherServlet with name SomeName**`\r\n\r\nAfter I analyzed for 2 to 4 days I found out the root cause. Class files was not generated after I run the project. I clicked the project tab. \r\n\r\n&gt; Project--&gt;CloseProject--&gt;OpenProject--&gt;Clean--&gt;Build project\r\n\r\nClass files for source code have been generated. It solved my problem. To check whether class files have been generated or not, Please check the Build folder in your project folder.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I had same problem as <code>**No mapping found for HTTP request with URI [/some/path] in DispatcherServlet with name SomeName**</code></p>\n\n<p>After I analyzed for 2 to 4 days I found out the root cause. Class files was not generated after I run the project. I clicked the project tab. </p>\n\n<blockquote>\n  <p>Project-->CloseProject-->OpenProject-->Clean-->Build project</p>\n</blockquote>\n\n<p>Class files for source code have been generated. It solved my problem. To check whether class files have been generated or not, Please check the Build folder in your project folder.</p>\n"},{"tags":[],"owner":{"account_id":1248750,"reputation":6094,"user_id":1209628,"accept_rate":100,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590039958,"creation_date":1590039958,"answer_id":61928034,"question_id":41577234,"body_markdown":"Try to amend your code with the following change on your config file. Java config is used instead of `application.properties`.\r\nDo not forget to enable configuration in `configureDefaultServletHandling` method.\r\n\r\n&gt; `WebMvcConfigurerAdapter` class is deprecated, so we use `WebMvcConfigurer` interface.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configureViewResolvers(ViewResolverRegistry registry) {\r\n            registry.jsp(&quot;/WEB-INF/views/&quot;, &quot;.jsp&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n            configurer.enable();\r\n        }\r\n    }\r\n\r\nI use gradle, your should have the following dependencies in `pom.xml`:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    dependencies {\r\n\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.3.0.RELEASE&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-jasper&#39;, version: &#39;9.0.35&#39;\r\n    }\r\n\r\n\r\n","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Try to amend your code with the following change on your config file. Java config is used instead of <code>application.properties</code>.\nDo not forget to enable configuration in <code>configureDefaultServletHandling</code> method.</p>\n\n<blockquote>\n  <p><code>WebMvcConfigurerAdapter</code> class is deprecated, so we use <code>WebMvcConfigurer</code> interface.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@ComponentScan\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        registry.jsp(\"/WEB-INF/views/\", \".jsp\");\n    }\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n}\n</code></pre>\n\n<p>I use gradle, your should have the following dependencies in <code>pom.xml</code>:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>dependencies {\n\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.0.RELEASE'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-jasper', version: '9.0.35'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9575271,"reputation":37,"user_id":7111617,"display_name":"Akbar Kazimov"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1612360705,"creation_date":1612360705,"answer_id":66029011,"question_id":41577234,"body_markdown":"So the problem can be as simple as an additional space in the path of the project. Make sure that there is no space in the path which took me quite some time to solve. ","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>So the problem can be as simple as an additional space in the path of the project. Make sure that there is no space in the path which took me quite some time to solve.</p>\n"},{"tags":[],"owner":{"account_id":17567094,"reputation":89,"user_id":12743648,"display_name":"oshin pojta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612641574,"creation_date":1612641574,"answer_id":66081338,"question_id":41577234,"body_markdown":"In my case, I had created Config.java (class) and also config.xml and mapping was done partially in both of them. And since config.java uses @Configuration annotation , it was considered priority. And was not considering config.xml.\r\n If anyone gets in trouble like this , just delete config.java with annotation and try to keep config.xml , it works fine.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I had created Config.java (class) and also config.xml and mapping was done partially in both of them. And since config.java uses @Configuration annotation , it was considered priority. And was not considering config.xml.\nIf anyone gets in trouble like this , just delete config.java with annotation and try to keep config.xml , it works fine.</p>\n"},{"tags":[],"owner":{"account_id":19266106,"reputation":143,"user_id":14081018,"display_name":"Ensei_Tankado"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654003996,"creation_date":1654003996,"answer_id":72448776,"question_id":41577234,"body_markdown":"## For me, the issue was hidden in the *web.xml* file.\r\n\r\nInside the servlet tag, you&#39;ll find:\r\n\r\n\r\n    &lt;init-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/todo-servlet.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;  \r\n\r\n\r\nMake sure that in the `&lt;param-value&gt;` you have kept the correct location of the dispatcher servlet (aka Front Controller). \r\n\r\nI had kept an incorrect location, hence I was able to view the homepage but all other pages were giving HTTP 404 error. ","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<h2>For me, the issue was hidden in the <em>web.xml</em> file.</h2>\n<p>Inside the servlet tag, you'll find:</p>\n<pre><code>&lt;init-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/todo-servlet.xml&lt;/param-value&gt;\n&lt;/init-param&gt;  \n</code></pre>\n<p>Make sure that in the <code>&lt;param-value&gt;</code> you have kept the correct location of the dispatcher servlet (aka Front Controller).</p>\n<p>I had kept an incorrect location, hence I was able to view the homepage but all other pages were giving HTTP 404 error.</p>\n"},{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663694331,"creation_date":1663694331,"answer_id":73790430,"question_id":41577234,"body_markdown":"In my case using a tutorial for SpringBoot(2.7.3) RestController, startup failed with java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\r\n\r\nI thought that Spring REST does not use WebMvc so I removed &#39;spring-boot-starter-web&#39; and that resolved the startup problem.  However, POST requests failed with the &#39;404 Not Found&#39; issue described here and spent several hours experimenting with \r\n\r\n - server.servlet.context-path  \r\n - @RestController vs @Controller etc, and\r\n - SecurityConfig options\r\n\r\nI finally resolved the 404 issue by\r\n - restoring dependency &#39;spring-boot-starter-web&#39;\r\n - adding dependency\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\nand after undoing my 101 debug hacks it worked.  \r\n\r\nVery painful because even with root logger at DEBUG, there were no server-side logs to help.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case using a tutorial for SpringBoot(2.7.3) RestController, startup failed with java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider</p>\n<p>I thought that Spring REST does not use WebMvc so I removed 'spring-boot-starter-web' and that resolved the startup problem.  However, POST requests failed with the '404 Not Found' issue described here and spent several hours experimenting with</p>\n<ul>\n<li>server.servlet.context-path</li>\n<li>@RestController vs @Controller etc, and</li>\n<li>SecurityConfig options</li>\n</ul>\n<p>I finally resolved the 404 issue by</p>\n<ul>\n<li>restoring dependency 'spring-boot-starter-web'</li>\n<li>adding dependency\njavax.validation\nvalidation-api\nand after undoing my 101 debug hacks it worked.</li>\n</ul>\n<p>Very painful because even with root logger at DEBUG, there were no server-side logs to help.</p>\n"},{"tags":[],"owner":{"account_id":15296673,"reputation":305,"user_id":11036516,"display_name":"Vikas s kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693618741,"creation_date":1693618741,"answer_id":77026651,"question_id":41577234,"body_markdown":"In mapping URL if we are using **/*** (star after slash) we get this No mapping for Get message on console. Better to use only **/**. Instead of slash with start\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;employee&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In mapping URL if we are using <strong>/</strong>* (star after slash) we get this No mapping for Get message on console. Better to use only <strong>/</strong>. Instead of slash with start</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;employee&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104896,"favorite_count":0,"down_vote_count":5,"up_vote_count":114,"accepted_answer_id":41577235,"answer_count":14,"score":109,"last_activity_date":1693618741,"creation_date":1484078009,"question_id":41577234,"body_markdown":"I&#39;m writing a Spring MVC application deployed on Tomcat. See the following [minimal, complete, and verifiable example][1]\r\n\r\n    public class Application extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class&lt;?&gt;[] { };\r\n        }\r\n        protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n            return new Class&lt;?&gt;[] { SpringServletConfig.class };\r\n        }\r\n        protected String[] getServletMappings() {\r\n            return new String[] { &quot;/*&quot; };\r\n        }\r\n    }\r\n\r\nWhere `SpringServletConfig` is \r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.example.controllers&quot;)\r\n    @EnableWebMvc\r\n    public class SpringServletConfig {\r\n        @Bean\r\n        public InternalResourceViewResolver resolver() {\r\n            InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n            vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n            vr.setSuffix(&quot;.jsp&quot;);\r\n            return vr;\r\n        }\r\n    }\r\n\r\nFinally, I have a `@Controller` in the package `com.example.controllers`\r\n\r\n    @Controller\r\n    public class ExampleController {\r\n        @RequestMapping(path = &quot;/home&quot;, method = RequestMethod.GET)\r\n        public String example() {\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nMy application&#39;s context name is `Example`. When I send a request to\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\r\n    http://localhost:8080/Example/home\r\n\r\nthe application responds with an HTTP Status 404 and logs the following\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    WARN  o.s.web.servlet.PageNotFound - No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/index.jsp]` in `DispatcherServlet` with name &#39;dispatcher&#39;\r\n\r\nI have a JSP resource at `/WEB-INF/jsps/index.jsp` I expected Spring MVC to use my controller to handle the request and forward to the JSP, so why is it responding with a 404?\r\n\r\n----------\r\n\r\n_This is meant to be a canonical post for questions about this warning message._\r\n\r\n  [1]: https://stackoverflow.com/help/mcve","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I'm writing a Spring MVC application deployed on Tomcat. See the following <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a></p>\n<pre><code>public class Application extends AbstractAnnotationConfigDispatcherServletInitializer {\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[] { };\n    }\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] { SpringServletConfig.class };\n    }\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/*&quot; };\n    }\n}\n</code></pre>\n<p>Where <code>SpringServletConfig</code> is</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.example.controllers&quot;)\n@EnableWebMvc\npublic class SpringServletConfig {\n    @Bean\n    public InternalResourceViewResolver resolver() {\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\n        vr.setSuffix(&quot;.jsp&quot;);\n        return vr;\n    }\n}\n</code></pre>\n<p>Finally, I have a <code>@Controller</code> in the package <code>com.example.controllers</code></p>\n<pre><code>@Controller\npublic class ExampleController {\n    @RequestMapping(path = &quot;/home&quot;, method = RequestMethod.GET)\n    public String example() {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>My application's context name is <code>Example</code>. When I send a request to</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://localhost:8080/Example/home\n</code></pre>\n<p>the application responds with an HTTP Status 404 and logs the following</p>\n<pre class=\"lang-none prettyprint-override\"><code>WARN  o.s.web.servlet.PageNotFound - No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/index.jsp]` in `DispatcherServlet` with name 'dispatcher'\n</code></pre>\n<p>I have a JSP resource at <code>/WEB-INF/jsps/index.jsp</code> I expected Spring MVC to use my controller to handle the request and forward to the JSP, so why is it responding with a 404?</p>\n<hr />\n<p><em>This is meant to be a canonical post for questions about this warning message.</em></p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":2,"creation_date":1379365422,"post_id":18837017,"comment_id":27790223,"body_markdown":"Can you post the stack trace?","body":"Can you post the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379381778,"creation_date":1379376170,"answer_id":18839294,"question_id":18837017,"body_markdown":"There&#39;s nothing wrong with your code. There is something wrong with the file, as the message says. Are you sure it is zipped, and not GZipped for example? It would be more usual for a part to be GZipped. Try a `GZIPInputStream.`\r\n\r\nNB there&#39;s no need for the `ByteArrayInputStream.` It&#39;s a complete waste of time and space. Just pass the zip/gzip input stream directly to your `createCSVFile()` method.","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>There's nothing wrong with your code. There is something wrong with the file, as the message says. Are you sure it is zipped, and not GZipped for example? It would be more usual for a part to be GZipped. Try a <code>GZIPInputStream.</code></p>\n\n<p>NB there's no need for the <code>ByteArrayInputStream.</code> It's a complete waste of time and space. Just pass the zip/gzip input stream directly to your <code>createCSVFile()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6106427,"reputation":138,"user_id":4764034,"display_name":"tobiinformatik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428502784,"creation_date":1428498510,"answer_id":29515563,"question_id":18837017,"body_markdown":"I have this error too and I searched a little bit... I&#39;ve read that there must be `zis.closeEntry();` before `len = zis.read(buffer)` but I tried it and then the error appears at `zis.closeEntry();`\r\nI asked google and here is the answer:\r\n\r\n!Answer!\r\n\r\nI tried and wrote a little bit, then I switched the `throws IOException` in a `try/catch-block` and now there is all right. \r\nThe Exception is a well known bug. You have to put all in a `try/catch-block` and do nothing in the catch.\r\n\r\n    private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\r\n\r\n        FileItem fileItem = null;\r\n        byte[] buffer = new byte[1024];\r\n        try{\r\n            InputStream inputStream = part.getInputStream();\r\n            ZipInputStream zis = new ZipInputStream(inputStream);\r\n\r\n            ZipEntry entry;    \r\n            while ((entry = zis.getNextEntry()) != null) {\r\n\r\n                ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n\r\n                int len;\r\n                while ((len = zis.read(buffer)) &gt; 0) {\r\n                    fos.write(buffer, 0, len);\r\n                }\r\n\r\n                InputStream myByteArray = new   ByteArrayInputStream(fos.toByteArray());\r\n                fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\r\n            }       \r\n        }catch(IOException ex){\r\n            //Do nothing here\r\n        }\r\n        return fileItem;\r\n    }","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>I have this error too and I searched a little bit... I've read that there must be <code>zis.closeEntry();</code> before <code>len = zis.read(buffer)</code> but I tried it and then the error appears at <code>zis.closeEntry();</code>\nI asked google and here is the answer:</p>\n\n<p>!Answer!</p>\n\n<p>I tried and wrote a little bit, then I switched the <code>throws IOException</code> in a <code>try/catch-block</code> and now there is all right. \nThe Exception is a well known bug. You have to put all in a <code>try/catch-block</code> and do nothing in the catch.</p>\n\n<pre><code>private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\n\n    FileItem fileItem = null;\n    byte[] buffer = new byte[1024];\n    try{\n        InputStream inputStream = part.getInputStream();\n        ZipInputStream zis = new ZipInputStream(inputStream);\n\n        ZipEntry entry;    \n        while ((entry = zis.getNextEntry()) != null) {\n\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\n\n            int len;\n            while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n            }\n\n            InputStream myByteArray = new   ByteArrayInputStream(fos.toByteArray());\n            fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\n        }       \n    }catch(IOException ex){\n        //Do nothing here\n    }\n    return fileItem;\n}\n</code></pre>\n"}],"owner":{"account_id":2807004,"reputation":1,"user_id":2414051,"display_name":"Mukesh Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693616941,"creation_date":1379364411,"question_id":18837017,"body_markdown":"I am facing this issue while unzipping a file and writing it in to another file. Here is the code. Can any one please let me know what changes are required.\r\n\r\nI get this exception on the line with `while ((len = zis.read(buffer)) &gt; 0)` \r\n\r\n    private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\r\n\t\t\t\r\n        FileItem fileItem = null;\r\n        byte[] buffer = new byte[1024];\r\n\r\n        InputStream inputStream = part.getInputStream();\r\n        ZipInputStream zis = new ZipInputStream(inputStream);\r\n\r\n        ZipEntry entry;    \r\n        while ((entry = zis.getNextEntry()) != null) {\r\n\t\t\t\r\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n\r\n            int len;\r\n            while ((len = zis.read(buffer)) &gt; 0) {\r\n                fos.write(buffer, 0, len);\r\n            }\r\n\r\n            InputStream myByteArray = new ByteArrayInputStream(fos.toByteArray());\r\n            fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\r\n        }\t\t\r\n\t\t\r\n        return fileItem;\r\n    }\r\n","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>I am facing this issue while unzipping a file and writing it in to another file. Here is the code. Can any one please let me know what changes are required.</p>\n\n<p>I get this exception on the line with <code>while ((len = zis.read(buffer)) &gt; 0)</code> </p>\n\n<pre><code>private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\n\n    FileItem fileItem = null;\n    byte[] buffer = new byte[1024];\n\n    InputStream inputStream = part.getInputStream();\n    ZipInputStream zis = new ZipInputStream(inputStream);\n\n    ZipEntry entry;    \n    while ((entry = zis.getNextEntry()) != null) {\n\n        ByteArrayOutputStream fos = new ByteArrayOutputStream();\n\n        int len;\n        while ((len = zis.read(buffer)) &gt; 0) {\n            fos.write(buffer, 0, len);\n        }\n\n        InputStream myByteArray = new ByteArrayInputStream(fos.toByteArray());\n        fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\n    }       \n\n    return fileItem;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","lombok"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693609844,"creation_date":1693609844,"answer_id":77026354,"question_id":77026319,"body_markdown":"When you add the `@NoArgsConstructor`, it overrides the `@RequiredArgsConstructor` from `@Data`, which forces you to specify it.  If you have final fields, though, you do not want to use a NoArgsConstructor because, after construction, there is no way to set them so they can never have a value.\r\n\r\nAlso, just a note that you really DO NOT want to use @Data with @Entity, mainly because of the EqualsAndHashcode that come with it.","title":"How does @Data creates Constructor","body":"<p>When you add the <code>@NoArgsConstructor</code>, it overrides the <code>@RequiredArgsConstructor</code> from <code>@Data</code>, which forces you to specify it.  If you have final fields, though, you do not want to use a NoArgsConstructor because, after construction, there is no way to set them so they can never have a value.</p>\n<p>Also, just a note that you really DO NOT want to use @Data with @Entity, mainly because of the EqualsAndHashcode that come with it.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693615303,"creation_date":1693615303,"answer_id":77026542,"question_id":77026319,"body_markdown":"`@Data` isn&#39;t the same as `@RequiredArgsConstructor`. It will make the required args constructor for you __only if no constructor is written__. Here, you _did_ write a constructor - `@NoArgsConstructor` does this.\r\n\r\nBecause you have the no-args constructor. You can add `@RequiredArgsConstructor` and now lombok will also make that one.\r\n\r\nIt&#39;s bizarre to have the no-args constructor here, as it would just init all fields to `null`. JPA is confused about what entities represent and doesn&#39;t give clear answers. If you think a `User` instance represents a User, lombok&#39;s equals is mostly fine, but you should exclude the ID field, as that is an implementation detail for storing user objects in databases and not an inherent aspect of a user object&#39;s identity. Of course, that does mean one simple equals call queries your entire database out, but that&#39;s a natural shortcoming of JPA.\r\n\r\nAlternatively you could say that an instance of `User` represents _a row in the database_, in which case the only way to write an exactly correct equals implementation that fits both that meaning and the contract of `equals`, is this bizarroworld construction:\r\n\r\n* If `id` is `null` (i.e. you created a new instance and haven&#39;t saved it with JPA yet), then its equals impl is: `return this == o;` - as in, it can only be equal to itself, even if __every field is identical__ it cannot be equal to another. After all, if you `save()` both, you&#39;d get 2 rows.\r\n* If `id` isn&#39;t null, equality is defined __solely__ by `id` and not anything else, for the same reason - if you were to modify one, fail to modify the other, and then invoke some save() calls you still end up with only a single row.\r\n\r\nJPA tutorials and guidelines in my very limited experience (I do not use JPA) tend to just do whatever they please and it&#39;s rarely consistent with either pragmatism (don&#39;t cause &quot;query the world&quot; issues) or the equals spec. Lombok&#39;s equals may not be what you want for JPA stuff. Then again, there really isn&#39;t any equals implementation that &#39;works&#39; (it&#39;ll have some sort of highly surprising and undesired behaviour).\r\n\r\nNB: I&#39;m one of the core lombok developers.\r\n","title":"How does @Data creates Constructor","body":"<p><code>@Data</code> isn't the same as <code>@RequiredArgsConstructor</code>. It will make the required args constructor for you <strong>only if no constructor is written</strong>. Here, you <em>did</em> write a constructor - <code>@NoArgsConstructor</code> does this.</p>\n<p>Because you have the no-args constructor. You can add <code>@RequiredArgsConstructor</code> and now lombok will also make that one.</p>\n<p>It's bizarre to have the no-args constructor here, as it would just init all fields to <code>null</code>. JPA is confused about what entities represent and doesn't give clear answers. If you think a <code>User</code> instance represents a User, lombok's equals is mostly fine, but you should exclude the ID field, as that is an implementation detail for storing user objects in databases and not an inherent aspect of a user object's identity. Of course, that does mean one simple equals call queries your entire database out, but that's a natural shortcoming of JPA.</p>\n<p>Alternatively you could say that an instance of <code>User</code> represents <em>a row in the database</em>, in which case the only way to write an exactly correct equals implementation that fits both that meaning and the contract of <code>equals</code>, is this bizarroworld construction:</p>\n<ul>\n<li>If <code>id</code> is <code>null</code> (i.e. you created a new instance and haven't saved it with JPA yet), then its equals impl is: <code>return this == o;</code> - as in, it can only be equal to itself, even if <strong>every field is identical</strong> it cannot be equal to another. After all, if you <code>save()</code> both, you'd get 2 rows.</li>\n<li>If <code>id</code> isn't null, equality is defined <strong>solely</strong> by <code>id</code> and not anything else, for the same reason - if you were to modify one, fail to modify the other, and then invoke some save() calls you still end up with only a single row.</li>\n</ul>\n<p>JPA tutorials and guidelines in my very limited experience (I do not use JPA) tend to just do whatever they please and it's rarely consistent with either pragmatism (don't cause &quot;query the world&quot; issues) or the equals spec. Lombok's equals may not be what you want for JPA stuff. Then again, there really isn't any equals implementation that 'works' (it'll have some sort of highly surprising and undesired behaviour).</p>\n<p>NB: I'm one of the core lombok developers.</p>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693615303,"creation_date":1693609074,"question_id":77026319,"body_markdown":"ok so i read a lot of questions here and still couldn&#39;t understand how this works and gives no error. by my logic @Data creates a RequiredConstructor if it has final fields. @Entity needs a noArgConstructor so i made it too. \r\nthis is my User class:\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor(force = true)\r\npublic class User implements UserDetails {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private final String username;\r\n    private final String password;\r\n    private final String fullname;\r\n    private final String street;\r\n    private final String city;\r\n    private final String state;\r\n    private final String zip;\r\n    private final String phoneNumber;\r\n\r\n}\r\n```\r\nbut now in another class if i want to make a new User object like this below, i cant make it.\r\n```\r\npublic User toUser(PasswordEncoder passwordEncoder) {\r\n        return new User(username, passwordEncoder.encode(password),\r\n                fullname, street, city, state, zip, phone);\r\n    }\r\n```\r\nEdit: i added @RequiredArgConstructor to User class and now it doesnt give me errors. problem is fixed but i dont understand how does it even work.\r\n","title":"How does @Data creates Constructor","body":"<p>ok so i read a lot of questions here and still couldn't understand how this works and gives no error. by my logic @Data creates a RequiredConstructor if it has final fields. @Entity needs a noArgConstructor so i made it too.\nthis is my User class:</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor(force = true)\npublic class User implements UserDetails {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Long id;\n\n    private final String username;\n    private final String password;\n    private final String fullname;\n    private final String street;\n    private final String city;\n    private final String state;\n    private final String zip;\n    private final String phoneNumber;\n\n}\n</code></pre>\n<p>but now in another class if i want to make a new User object like this below, i cant make it.</p>\n<pre><code>public User toUser(PasswordEncoder passwordEncoder) {\n        return new User(username, passwordEncoder.encode(password),\n                fullname, street, city, state, zip, phone);\n    }\n</code></pre>\n<p>Edit: i added @RequiredArgConstructor to User class and now it doesnt give me errors. problem is fixed but i dont understand how does it even work.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":272446,"reputation":27058,"user_id":563532,"accept_rate":100,"display_name":"Rob"},"score":18,"creation_date":1462840523,"post_id":15826202,"comment_id":61795534,"body_markdown":"To close voters/reopeners - this question is [explicitly not off-topic (questions about tools commonly used by programmers)](http://stackoverflow.com/help/on-topic). Unfortunately, it got bandwagoned by [meta](http://meta.stackoverflow.com/questions/322704/beyond-confused-about-question-and-answer-reception).","body":"To close voters/reopeners - this question is <a href=\"http://stackoverflow.com/help/on-topic\">explicitly not off-topic (questions about tools commonly used by programmers)</a>. Unfortunately, it got bandwagoned by <a href=\"http://meta.stackoverflow.com/questions/322704/beyond-confused-about-question-and-answer-reception\">meta</a>."},{"owner":{"account_id":3285055,"reputation":719,"user_id":5804813,"accept_rate":88,"display_name":"Chaitanya"},"score":3,"creation_date":1613332285,"post_id":15826202,"comment_id":117036895,"body_markdown":"I found the JDK in **/Library/Java/JavaVirtualMachines/**. I&#39;m using macOS Big Sur(11.0.1). And installed jdk version is 1.8.0","body":"I found the JDK in <b>/Library/Java/JavaVirtualMachines/</b>. I&#39;m using macOS Big Sur(11.0.1). And installed jdk version is 1.8.0"}],"answers":[{"tags":[],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1365140677,"creation_date":1365137909,"answer_id":15826203,"question_id":15826202,"body_markdown":"Turns out that I actually had the Java 7 JRE installed, not the JDK. The correct download link is [here][1]. After installing it, `jdk1.7.0jdk` appears in the JavaVirtualMachines directory.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Where is Java Installed on Mac OS X?","body":"<p>Turns out that I actually had the Java 7 JRE installed, not the JDK. The correct download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">here</a>. After installing it, <code>jdk1.7.0jdk</code> appears in the JavaVirtualMachines directory.</p>\n"},{"tags":[],"owner":{"account_id":1639817,"reputation":162,"user_id":1512485,"display_name":"manny"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1386216369,"creation_date":1365138555,"answer_id":15826346,"question_id":15826202,"body_markdown":"Edited: Alias to current java version is `/Library/Java/Home`\r\n\r\nFor more information: [a link](http://developer.apple.com/library/mac/#qa/qa1170/_index.html)","title":"Where is Java Installed on Mac OS X?","body":"<p>Edited: Alias to current java version is <code>/Library/Java/Home</code></p>\n\n<p>For more information: <a href=\"http://developer.apple.com/library/mac/#qa/qa1170/_index.html\" rel=\"noreferrer\">a link</a></p>\n"},{"tags":[],"owner":{"account_id":2014616,"reputation":555,"user_id":1802213,"display_name":"serkan"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1365140271,"creation_date":1365140228,"answer_id":15826672,"question_id":15826202,"body_markdown":"Use unix find function to find javas installed...\r\n\r\n    sudo find / -name java\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Use unix find function to find javas installed...</p>\n\n<pre><code>sudo find / -name java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"down_vote_count":4,"up_vote_count":1642,"is_accepted":true,"score":1638,"last_activity_date":1587319553,"creation_date":1365140434,"answer_id":15826712,"question_id":15826202,"body_markdown":"Use `/usr/libexec/java_home -v 1.8` command on a terminal shell to figure out where is your **Java 1.8** home directory\r\n\r\nIf you just want to find out the home directory of your most recent version of Java, omit the version. e.g. `/usr/libexec/java_home`","title":"Where is Java Installed on Mac OS X?","body":"<p>Use <code>/usr/libexec/java_home -v 1.8</code> command on a terminal shell to figure out where is your <strong>Java 1.8</strong> home directory</p>\n\n<p>If you just want to find out the home directory of your most recent version of Java, omit the version. e.g. <code>/usr/libexec/java_home</code></p>\n"},{"tags":[],"owner":{"account_id":2697354,"reputation":87,"user_id":2329028,"display_name":"Tony Kroch"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1367151011,"creation_date":1367151011,"answer_id":16262707,"question_id":15826202,"body_markdown":"I have just installed the JDK for version 21 of Java SE 7 and found that it is installed in a different directory from Apple&#39;s Java 6. It is in /Library/Java... rather then in /System/Library/Java.... Running /usr/libexec/java_home -v 1.7 versus -v 1.6 will confirm this.","title":"Where is Java Installed on Mac OS X?","body":"<p>I have just installed the JDK for version 21 of Java SE 7 and found that it is installed in a different directory from Apple's Java 6. It is in /Library/Java... rather then in /System/Library/Java.... Running /usr/libexec/java_home -v 1.7 versus -v 1.6 will confirm this.</p>\n"},{"tags":[],"owner":{"account_id":3296671,"reputation":587,"user_id":2773783,"display_name":"Morrie"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1379008958,"creation_date":1379008958,"answer_id":18771311,"question_id":15826202,"body_markdown":"If you install just the JRE, it seems to be put at:\r\n\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>If you install just the JRE, it seems to be put at:</p>\n\n<pre><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293480,"reputation":4652,"user_id":596794,"accept_rate":28,"display_name":"Mehdi Ijadnazar"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1426147998,"creation_date":1391102029,"answer_id":21463054,"question_id":15826202,"body_markdown":"I tried serkan&#39;s solution, it found java 7&#39;s location on OS X Mavericks.\r\nit is resided in `&quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/&quot;`\r\nbut to make it the default JDK I had to set JAVA_HOME system variable in .bash_profile in home directory to `&quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/&quot;`\r\nso its up and running now thanks to serkan&#39;s idea","title":"Where is Java Installed on Mac OS X?","body":"<p>I tried serkan's solution, it found java 7's location on OS X Mavericks.\nit is resided in <code>\"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/\"</code>\nbut to make it the default JDK I had to set JAVA_HOME system variable in .bash_profile in home directory to <code>\"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/\"</code>\nso its up and running now thanks to serkan's idea</p>\n"},{"tags":[],"owner":{"account_id":4066546,"reputation":321,"user_id":3341255,"display_name":"Bimales Mandal"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1540779853,"creation_date":1393090022,"answer_id":21957723,"question_id":15826202,"body_markdown":"Java package structure of Mac OS is a bit different from Windows. Don&#39;t be upset for this as a developer just needs to set `PATH` and `JAVA_HOME`.\r\n\r\nSo in `.bash_profile` set `JAVA_HOME` and `PATH` as below. This example is for Java 6:\r\n\r\n    export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n    export PATH=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:$PATH\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Java package structure of Mac OS is a bit different from Windows. Don't be upset for this as a developer just needs to set <code>PATH</code> and <code>JAVA_HOME</code>.</p>\n\n<p>So in <code>.bash_profile</code> set <code>JAVA_HOME</code> and <code>PATH</code> as below. This example is for Java 6:</p>\n\n<pre><code>export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nexport PATH=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1430909087,"creation_date":1430909087,"answer_id":30074478,"question_id":15826202,"body_markdown":"The System Preferences then Java control panel then Java then View will show the exact location of the currently installed default JRE.","title":"Where is Java Installed on Mac OS X?","body":"<p>The System Preferences then Java control panel then Java then View will show the exact location of the currently installed default JRE.</p>\n"},{"tags":[],"owner":{"account_id":257306,"reputation":3952,"user_id":538636,"accept_rate":86,"display_name":"Pavithra Gunasekara"},"down_vote_count":1,"up_vote_count":189,"is_accepted":false,"score":188,"last_activity_date":1641210959,"creation_date":1438058902,"answer_id":31667558,"question_id":15826202,"body_markdown":"You could use \r\n\r\n    /usr/libexec/java_home\r\n\r\n command in your terminal to know the path where Java being installed. ","title":"Where is Java Installed on Mac OS X?","body":"<p>You could use</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>command in your terminal to know the path where Java being installed.</p>\n"},{"tags":[],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1466499485,"creation_date":1466499485,"answer_id":37939848,"question_id":15826202,"body_markdown":"just write `/Library/Java/JavaVirtualMachines/`  \r\nin Go to Folder --&gt; Go in Finder \r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>just write <code>/Library/Java/JavaVirtualMachines/</code><br>\nin Go to Folder --> Go in Finder </p>\n"},{"tags":[],"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588090178,"creation_date":1474245161,"answer_id":39563909,"question_id":15826202,"body_markdown":"\r\nFor : \r\n\r\n - OS X : 10.11.6\r\n\r\n - Java : 8 \r\n\r\n\r\nI confirm the answer of @Morrie . \r\n\r\n       export JAVA_HOME=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home;\r\n\r\nBut if you are running containers your life will be easier\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>For : </p>\n\n<ul>\n<li><p>OS X : 10.11.6</p></li>\n<li><p>Java : 8 </p></li>\n</ul>\n\n<p>I confirm the answer of @Morrie . </p>\n\n<pre><code>   export JAVA_HOME=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home;\n</code></pre>\n\n<p>But if you are running containers your life will be easier</p>\n"},{"tags":[],"owner":{"account_id":5732038,"reputation":5971,"user_id":4527240,"accept_rate":86,"display_name":"Jaywant Khedkar"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1519048692,"creation_date":1505813307,"answer_id":46296757,"question_id":15826202,"body_markdown":"Try This, It&#39;s easy way to find java installed path in Mac OS X,\r\n\r\nGoTO \r\n\r\n1 ) **/Library i.e Macintosh HD/Library**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2) **Click on Library in that we find Java folder.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7BNFT.png\r\n  [2]: https://i.stack.imgur.com/jUGhY.png\r\n\r\n3) **So final path is** \r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\r\n\r\nHope so this is help for someone .","title":"Where is Java Installed on Mac OS X?","body":"<p>Try This, It's easy way to find java installed path in Mac OS X,</p>\n\n<p>GoTO </p>\n\n<p>1 ) <strong>/Library i.e Macintosh HD/Library</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7BNFT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7BNFT.png\" alt=\"enter image description here\"></a></p>\n\n<p>2) <strong>Click on Library in that we find Java folder.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jUGhY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jUGhY.png\" alt=\"enter image description here\"></a></p>\n\n<p>3) <strong>So final path is</strong> </p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\n</code></pre>\n\n<p>Hope so this is help for someone .</p>\n"},{"tags":[],"owner":{"account_id":3924293,"reputation":5268,"user_id":3308533,"accept_rate":36,"display_name":"Pranay Aryal"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1520287926,"creation_date":1520287926,"answer_id":49120365,"question_id":15826202,"body_markdown":"type `which java` in terminal to show where it is installed.","title":"Where is Java Installed on Mac OS X?","body":"<p>type <code>which java</code> in terminal to show where it is installed.</p>\n"},{"tags":[],"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1545369197,"creation_date":1545369197,"answer_id":53879510,"question_id":15826202,"body_markdown":"If you type\r\n\r\n    java -verbose \r\n\r\nThis also gives the location from which the jars are loaded and hence also the java path.","title":"Where is Java Installed on Mac OS X?","body":"<p>If you type</p>\n\n<pre><code>java -verbose \n</code></pre>\n\n<p>This also gives the location from which the jars are loaded and hence also the java path.</p>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602101279,"creation_date":1598996703,"answer_id":63695856,"question_id":15826202,"body_markdown":"if you are using [sdkman][1]\r\n\r\nyou can check it with `sdk home java &lt;installed_java_version&gt;`\r\n\r\n    $  sdk home java 8.0.252.j9-adpt\r\n    /Users/admin/.sdkman/candidates/java/8.0.252.j9-adpt\r\n\r\nyou can get your installed java version with\r\n\r\n    $ sdk list java\r\n\r\n  [1]: https://sdkman.io/usage","title":"Where is Java Installed on Mac OS X?","body":"<p>if you are using <a href=\"https://sdkman.io/usage\" rel=\"nofollow noreferrer\">sdkman</a></p>\n<p>you can check it with <code>sdk home java &lt;installed_java_version&gt;</code></p>\n<pre><code>$  sdk home java 8.0.252.j9-adpt\n/Users/admin/.sdkman/candidates/java/8.0.252.j9-adpt\n</code></pre>\n<p>you can get your installed java version with</p>\n<pre><code>$ sdk list java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9885056,"reputation":917,"user_id":7319797,"display_name":"KR Akhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635746585,"creation_date":1635746430,"answer_id":69793129,"question_id":15826202,"body_markdown":"MacOS BigSur\r\n\r\nAdd following under .zshrc file. If .zshrc is not present, create and add.\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home`","title":"Where is Java Installed on Mac OS X?","body":"<p>MacOS BigSur</p>\n<p>Add following under .zshrc file. If .zshrc is not present, create and add.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1586317,"reputation":3532,"user_id":1470581,"display_name":"Derek Lee"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1687406409,"creation_date":1637633584,"answer_id":70074594,"question_id":15826202,"body_markdown":"You may not realize it, but you likely have multiple Java versions installed. \r\n\r\nTo list the version, architecture, and folder location of **all** installed JVMs on your Mac: \r\n\r\n`$ /usr/libexec/java_home --verbose`\r\n\r\nOr:\r\n\r\n`$ /usr/libexec/java_home -V` (That&#39;s an uppercase V!)\r\n\r\nSample output:\r\n\r\n```\r\n$ /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (4):\r\n    12.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 12.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\r\n    1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_282 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/username/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home\r\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\r\n```","title":"Where is Java Installed on Mac OS X?","body":"<p>You may not realize it, but you likely have multiple Java versions installed.</p>\n<p>To list the version, architecture, and folder location of <strong>all</strong> installed JVMs on your Mac:</p>\n<p><code>$ /usr/libexec/java_home --verbose</code></p>\n<p>Or:</p>\n<p><code>$ /usr/libexec/java_home -V</code> (That's an uppercase V!)</p>\n<p>Sample output:</p>\n<pre><code>$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (4):\n    12.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 12.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\n    1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_282 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/username/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14663522,"reputation":475,"user_id":10590001,"display_name":"Tal Hakmon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640618708,"creation_date":1640618708,"answer_id":70497362,"question_id":15826202,"body_markdown":"Try to check in here\\\r\n`/Library/Java/JavaVirtualMachines`\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Try to check in here<br />\n<code>/Library/Java/JavaVirtualMachines</code></p>\n"},{"tags":[],"owner":{"account_id":15282082,"reputation":704,"user_id":11026123,"display_name":"RusJaI"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690184647,"creation_date":1690184647,"answer_id":76752340,"question_id":15826202,"body_markdown":"Simply enter the following in your terminal : \r\n\r\n    where is java","title":"Where is Java Installed on Mac OS X?","body":"<p>Simply enter the following in your terminal :</p>\n<pre><code>where is java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4170163,"reputation":43,"user_id":3418130,"display_name":"psbox2021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693613553,"creation_date":1693613553,"answer_id":77026484,"question_id":15826202,"body_markdown":"If it&#39;s installed via IntelliJ IDEA. It&#39;s at ~/Library/Java/JavaVirtualMachines","title":"Where is Java Installed on Mac OS X?","body":"<p>If it's installed via IntelliJ IDEA. It's at ~/Library/Java/JavaVirtualMachines</p>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073153,"favorite_count":0,"down_vote_count":15,"up_vote_count":885,"accepted_answer_id":15826712,"answer_count":21,"score":870,"last_activity_date":1693613553,"creation_date":1365137909,"question_id":15826202,"body_markdown":"I downloaded Java 7u17 on Mac OS 10.7.5 from [here][1] and successfully installed it. To do some JNI programming, I need to know where Java is installed on my Mac. \r\n\r\nI thought that inside the `/Library/Java/JavaVirtualMachines/` folder, there would be a folder called `1.7.0.jdk` or something, but then I found the folder empty. This was confirmed by running `ls /Library/Java/JavaVirtualMachines/` in the Terminal. I&#39;ve tried searching for it to find out if it was installed somewhere, but that doesn&#39;t seem to be turning anything up.\r\n\r\nCould someone please tell me where Java is installed on my Mac?\r\n\r\n\r\n  [1]: http://www.java.com/en/download/mac_download.jsp?locale=en\r\n  [2]: http://solutions.weblite.ca/tutorials/jni_osx/","title":"Where is Java Installed on Mac OS X?","body":"<p>I downloaded Java 7u17 on Mac OS 10.7.5 from <a href=\"http://www.java.com/en/download/mac_download.jsp?locale=en\" rel=\"noreferrer\">here</a> and successfully installed it. To do some JNI programming, I need to know where Java is installed on my Mac.</p>\n<p>I thought that inside the <code>/Library/Java/JavaVirtualMachines/</code> folder, there would be a folder called <code>1.7.0.jdk</code> or something, but then I found the folder empty. This was confirmed by running <code>ls /Library/Java/JavaVirtualMachines/</code> in the Terminal. I've tried searching for it to find out if it was installed somewhere, but that doesn't seem to be turning anything up.</p>\n<p>Could someone please tell me where Java is installed on my Mac?</p>\n"},{"tags":["java","oop","input","arguments","dynamic-memory-allocation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693615316,"post_id":77026478,"comment_id":135788579,"body_markdown":"I don&#39;t understand what problem you are having. Those parameter names are just displayed by your IDE, they are not part of the Java language, and have absolutely **no** effect on what your program does.","body":"I don&#39;t understand what problem you are having. Those parameter names are just displayed by your IDE, they are not part of the Java language, and have absolutely <b>no</b> effect on what your program does."},{"owner":{"account_id":12430857,"reputation":1,"user_id":9053425,"display_name":"Josh Olson"},"score":0,"creation_date":1693695588,"post_id":77026478,"comment_id":135794978,"body_markdown":"my &quot;problem&quot; isn&#39;t necessarily a problem of syntax, but of understanding how the compiler knows that the minus sign &#39;-&#39; is implying that the double being taken in is a negative value. In my mind, it sees the minus sign as a non-numerical value.","body":"my &quot;problem&quot; isn&#39;t necessarily a problem of syntax, but of understanding how the compiler knows that the minus sign &#39;-&#39; is implying that the double being taken in is a negative value. In my mind, it sees the minus sign as a non-numerical value."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693702048,"post_id":77026478,"comment_id":135795347,"body_markdown":"&quot;In my mind, it sees the minus sign as a non-numerical value&quot;. I don&#39;t understand why you think this, but I can assure you that the compiler understands that the `-` indicates a negative value.","body":"&quot;In my mind, it sees the minus sign as a non-numerical value&quot;. I don&#39;t understand why you think this, but I can assure you that the compiler understands that the <code>-</code> indicates a negative value."}],"owner":{"account_id":12430857,"reputation":1,"user_id":9053425,"display_name":"Josh Olson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693613401,"creation_date":1693613401,"question_id":77026478,"body_markdown":"I have an allocated variable e3 from class Employee that accepts 2 strings (firstname, lastname), and a double. The challenge I have encountered is that I am inserting a &#39;-&#39; minus sign into the double argument, when it only expects doubles.\r\n\r\nI am using Visual Studio Code as my IDE and it labels the arguments of the dynamic memory to let you know what exactly the value of that argument is going to. \r\n\r\nWhen I run my code, it outputs just fine to the screen, but in more complicated projects I believe I will need to do some type of conversion. I am looking for any suggestion regarding input of non-integer/double data into an integer/double argument. An explanation on why the predictive prefix disappears will also work!\r\n\r\nBelow I have attached my code, the first block is main(), and the second block is my class.\r\n\r\n```\r\npublic class EmployeeTest {\r\n    public static void main(String args[]) {\r\n\r\n        Employee e1 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 2500.00);\r\n        Employee e2 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 3600.75);\r\n        Employee e3 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, -6000.00);\r\n        System.out.println(e1);\r\n        System.out.println(e2);\r\n        System.out.println(e3);\r\n    }\r\n}\r\n\r\n```\r\nIn this snippet, you can see on line 1-2 that in new Employee(), my IDE has labeled the arguments with a nameF:, nameL:, and monthlySalary:\r\n\r\non line 3, the monthlySalary: is omitted when I insert the &#39;-&#39; minus sign.\r\n\r\nbelow is my Employee class file\r\n```\r\npublic class Employee {\r\n\r\n    private String nameF;\r\n    private String nameL;\r\n    private double monthlySalary;\r\n\r\n    public void setFirstName(String firstName) {\r\n        firstName = nameF;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        lastName = nameL;\r\n    }\r\n\r\n    public void setMonthlySalary(double salary) {\r\n        salary = monthlySalary;\r\n    }\r\n\r\n    public int getFirstName() {\r\n        return nameF;\r\n    }\r\n\r\n    public int getLastName() {\r\n        return nameL;\r\n    }\r\n\r\n    public double getMonthlySalary() {\r\n        return monthlySalary;\r\n    }\r\n\r\n    //Here is the method I am having trouble with, specifically the double argument\r\n\r\n    Employee(String nameF, String nameL, double monthlySalary) {\r\n        this.nameF = nameF;\r\n        this.nameL = nameL;\r\n        this.monthlySalary = monthlySalary;\r\n    }\r\n\r\n```\r\n\r\n\r\n[Visual Studio Code interpretation of dynamic allocation](https://i.stack.imgur.com/wSFqy.png)","title":"Predictive prefix disappeared on Input of negative double in argument of dynamically allocated memory","body":"<p>I have an allocated variable e3 from class Employee that accepts 2 strings (firstname, lastname), and a double. The challenge I have encountered is that I am inserting a '-' minus sign into the double argument, when it only expects doubles.</p>\n<p>I am using Visual Studio Code as my IDE and it labels the arguments of the dynamic memory to let you know what exactly the value of that argument is going to.</p>\n<p>When I run my code, it outputs just fine to the screen, but in more complicated projects I believe I will need to do some type of conversion. I am looking for any suggestion regarding input of non-integer/double data into an integer/double argument. An explanation on why the predictive prefix disappears will also work!</p>\n<p>Below I have attached my code, the first block is main(), and the second block is my class.</p>\n<pre><code>public class EmployeeTest {\n    public static void main(String args[]) {\n\n        Employee e1 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 2500.00);\n        Employee e2 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 3600.75);\n        Employee e3 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, -6000.00);\n        System.out.println(e1);\n        System.out.println(e2);\n        System.out.println(e3);\n    }\n}\n\n</code></pre>\n<p>In this snippet, you can see on line 1-2 that in new Employee(), my IDE has labeled the arguments with a nameF:, nameL:, and monthlySalary:</p>\n<p>on line 3, the monthlySalary: is omitted when I insert the '-' minus sign.</p>\n<p>below is my Employee class file</p>\n<pre><code>public class Employee {\n\n    private String nameF;\n    private String nameL;\n    private double monthlySalary;\n\n    public void setFirstName(String firstName) {\n        firstName = nameF;\n    }\n\n    public void setLastName(String lastName) {\n        lastName = nameL;\n    }\n\n    public void setMonthlySalary(double salary) {\n        salary = monthlySalary;\n    }\n\n    public int getFirstName() {\n        return nameF;\n    }\n\n    public int getLastName() {\n        return nameL;\n    }\n\n    public double getMonthlySalary() {\n        return monthlySalary;\n    }\n\n    //Here is the method I am having trouble with, specifically the double argument\n\n    Employee(String nameF, String nameL, double monthlySalary) {\n        this.nameF = nameF;\n        this.nameL = nameL;\n        this.monthlySalary = monthlySalary;\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wSFqy.png\" rel=\"nofollow noreferrer\">Visual Studio Code interpretation of dynamic allocation</a></p>\n"},{"tags":["java","db2","websphere-7"],"answers":[{"tags":[],"owner":{"account_id":552904,"reputation":1780,"user_id":918176,"accept_rate":100,"display_name":"user918176"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362585327,"creation_date":1362585327,"answer_id":15252022,"question_id":15239249,"body_markdown":"Set resultSetHoldability either at [driver][1] level or when [preparing][2] your statement. This should fix what you are experiencing. \r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/rjvdsprp.htm\r\n  [2]: http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/tjvrsush.htm","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>Set resultSetHoldability either at <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/rjvdsprp.htm\" rel=\"nofollow\">driver</a> level or when <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/tjvrsush.htm\" rel=\"nofollow\">preparing</a> your statement. This should fix what you are experiencing. </p>\n"},{"tags":[],"owner":{"account_id":1045381,"reputation":491,"user_id":1050494,"display_name":"Joe Cotton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400784952,"creation_date":1400784952,"answer_id":23815032,"question_id":15239249,"body_markdown":"The reason that I got the same error was because I closed the db2 connection and then tried to read the result set.  Please put some emphasis on the fact that the db2 must remain connected while reading the result set.  ","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>The reason that I got the same error was because I closed the db2 connection and then tried to read the result set.  Please put some emphasis on the fact that the db2 must remain connected while reading the result set.  </p>\n"}],"owner":{"account_id":76721,"reputation":551,"user_id":219433,"accept_rate":83,"display_name":"Adilya Taimussova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693613025,"creation_date":1362545520,"question_id":15239249,"body_markdown":"I have rather a simple portlet which displays the number of visitors of portal (online, daily, weekly, monthly, annually). \r\n\r\nIn the portlet class in doView method firstly I call one method which do an insert to the table (info about a new visitor). After I call 5 methods one by one which do a count select on the same table. They are all pretty similar, only their queries differ. One of the methods implementation is the following:\r\n\r\n    public static Integer getOnline() {\r\n        Integer res = null;\r\n    \tStatement stmt = null;\r\n    \tResultSet rs = null;\r\n    \t\r\n        try {\r\n            stmt = getConnection().createStatement();\r\n            rs = stmt.executeQuery(query);\r\n            if (rs.next()) {\r\n               res = new Integer(rs.getString(&quot;1&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            log.error(&quot;Excepton: &quot; + e);\r\n        } finally {\r\n        \tif (rs != null) {\r\n        \t\ttry { rs.close(); } catch (SQLException e) { log.warn(&quot;Error closing result set: &quot;, e); }\r\n        \t    rs = null;\r\n        \t}\r\n        \t\r\n        \tif (stmt != null) {\r\n        \t\ttry { stmt.close(); } catch (SQLException e) { log.warn(&quot;Error closing statement: &quot;, e); }\r\n        \t\tstmt = null;\r\n        \t}\r\n        }\r\n        \r\n        return res;\r\n    }\r\n\r\n\r\nConnection is obtained:\r\n    \r\n    public static Connection getConnection() {\r\n    \ttry {\r\n    \t\tif (connection == null) {\r\n\t            if (dataSource == null) {\r\n\t\t\t\t\tdataSource = (DataSource) new InitialContext().lookup(dataSourceName);\r\n\t            }\r\n\t            \r\n\t\t\t\tconnection = dataSource.getConnection();\r\n    \t\t}\r\n    \t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error on opening a connection: &quot;, e);\r\n\t\t}\r\n    \t\r\n    \treturn connection;\r\n    }\r\n\r\nConnection is closed in the end of doView method. Occasionally I&#39;m getting that exception:\r\n\r\n    com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.88] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\r\n\r\nfrom one or few of the methods which do select. Also the following errors sometimes:\r\n\r\n    com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Connection is closed.\r\n\r\n    com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Statement is closed.\r\n\r\nAfter searching the internet I still haven&#39;t found/realized what is the cause of an error in my case and how I can fix it. Any help would be appreciated.","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>I have rather a simple portlet which displays the number of visitors of portal (online, daily, weekly, monthly, annually). </p>\n\n<p>In the portlet class in doView method firstly I call one method which do an insert to the table (info about a new visitor). After I call 5 methods one by one which do a count select on the same table. They are all pretty similar, only their queries differ. One of the methods implementation is the following:</p>\n\n<pre><code>public static Integer getOnline() {\n    Integer res = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n\n    try {\n        stmt = getConnection().createStatement();\n        rs = stmt.executeQuery(query);\n        if (rs.next()) {\n           res = new Integer(rs.getString(\"1\"));\n        }\n    } catch (SQLException e) {\n        log.error(\"Excepton: \" + e);\n    } finally {\n        if (rs != null) {\n            try { rs.close(); } catch (SQLException e) { log.warn(\"Error closing result set: \", e); }\n            rs = null;\n        }\n\n        if (stmt != null) {\n            try { stmt.close(); } catch (SQLException e) { log.warn(\"Error closing statement: \", e); }\n            stmt = null;\n        }\n    }\n\n    return res;\n}\n</code></pre>\n\n<p>Connection is obtained:</p>\n\n<pre><code>public static Connection getConnection() {\n    try {\n        if (connection == null) {\n            if (dataSource == null) {\n                dataSource = (DataSource) new InitialContext().lookup(dataSourceName);\n            }\n\n            connection = dataSource.getConnection();\n        }\n    } catch (Exception e) {\n        log.error(\"Error on opening a connection: \", e);\n    }\n\n    return connection;\n}\n</code></pre>\n\n<p>Connection is closed in the end of doView method. Occasionally I'm getting that exception:</p>\n\n<pre><code>com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.88] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\n</code></pre>\n\n<p>from one or few of the methods which do select. Also the following errors sometimes:</p>\n\n<pre><code>com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Connection is closed.\n\ncom.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Statement is closed.\n</code></pre>\n\n<p>After searching the internet I still haven't found/realized what is the cause of an error in my case and how I can fix it. Any help would be appreciated.</p>\n"},{"tags":["java","spring","scheduler","scheduling","quartz"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1693535642,"post_id":77019981,"comment_id":135777222,"body_markdown":"Hi there, please share some analytical part(DB table, data or etc) to reproduce your issue.","body":"Hi there, please share some analytical part(DB table, data or etc) to reproduce your issue."}],"answers":[{"tags":[],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693611039,"creation_date":1693611039,"answer_id":77026402,"question_id":77019981,"body_markdown":"You can learn the info from [there][1]. In two words, add `@EnableScheduling` onto your `main()` method&#39;s class, than create a new method in some controller and add `@Scheduled` annotation on the method.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"Scheduler Spring, Clustered Environment, Not Quartz","body":"<p>You can learn the info from <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">there</a>. In two words, add <code>@EnableScheduling</code> onto your <code>main()</code> method's class, than create a new method in some controller and add <code>@Scheduled</code> annotation on the method.</p>\n"}],"owner":{"account_id":29341501,"reputation":1,"user_id":22480801,"display_name":"Mano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693611039,"creation_date":1693529841,"question_id":77019981,"body_markdown":"I have a database with multiple rows having a date time column, i want to create a scheduler that runs every 5 minutes and reads the records from that table on the date time column and picks all records which have date lesser than current time, and executes some business logic on those records one by one in a clustered environment, and one record must be processed only once. I cannot use Quartz since that will need me to store the Job etc in another table which at present is not an option for me. PLease if you can guide me.\r\n\r\n","title":"Scheduler Spring, Clustered Environment, Not Quartz","body":"<p>I have a database with multiple rows having a date time column, i want to create a scheduler that runs every 5 minutes and reads the records from that table on the date time column and picks all records which have date lesser than current time, and executes some business logic on those records one by one in a clustered environment, and one record must be processed only once. I cannot use Quartz since that will need me to store the Job etc in another table which at present is not an option for me. PLease if you can guide me.</p>\n"},{"tags":["java","html","css"],"comments":[{"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"score":0,"creation_date":1693612597,"post_id":77026367,"comment_id":135788447,"body_markdown":"by adding this link the audio its working OK...&lt;script src =&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/script&gt;","body":"by adding this link the audio its working OK...&lt;script src =&quot;<a href=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/&hellip;</a>&gt;"},{"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"score":0,"creation_date":1693612781,"post_id":77026367,"comment_id":135788457,"body_markdown":"But now the chart is stuck at the top left corner, I added a css file and set it to top=200px; left{200px; I used the  div Id &quot;chart&quot; but it dint work, so how I get the chart to display at the center of the page?","body":"But now the chart is stuck at the top left corner, I added a css file and set it to top=200px; left{200px; I used the  div Id &quot;chart&quot; but it dint work, so how I get the chart to display at the center of the page?"}],"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693610076,"creation_date":1693610076,"question_id":77026367,"body_markdown":"I created a jsd3 project with the help of google bard, but the code does not work, can you guys please help me out? I need to attach an audio file to each text node, when hover on each text the audio should be played back, the audio files are in a local folder called :audio&gt;\r\n\r\nhere its the full code, thankyou in advance.\r\n\r\n`\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;JSD3 Chart with Audio&lt;/title&gt;\r\n&lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;\r\n&lt;script&gt;\r\nvar   w = 1000,\r\n      h =  1000,\r\n      circleWidth = 3; \r\n \r\n// Change the color to something more vrivant:\r\nvar palette = {\r\n      &quot;lightgray&quot;: &quot;#E5E8E8&quot;,\r\n      &quot;gray&quot;: &quot;#708284&quot;,\r\n      &quot;mediumgray&quot;: &quot;#536870&quot;,\r\n\t  &quot;black&quot;:&quot;#000000&quot;,\r\n      &quot;blue&quot;: &quot;#3B757F&quot;\r\n  }\r\n\r\nvar colors = d3.scale.category20();\r\n\r\nvar nodes = [\r\n      { name: &quot;Borg&quot;, audio: &quot;audio/borg.mp3&quot;},\r\n      { name: &quot;HTML5&quot;, target: [0], value:1, audio: &quot;audio/html5.mp3&quot;},\r\n      { name: &quot;CSS3&quot;, target: [0], value: 1, audio: &quot;audio/css3.mp3&quot; },  \r\n     \r\n];\r\n\r\nvar links = [];\r\n\r\nfor (var i = 0; i &lt; nodes.length; i++){\r\n      if (nodes[i].target !== undefined) { \r\n            for ( var x = 0; x &lt; nodes[i].target.length; x++ ) \r\n              links.push({\r\n                  source: nodes[i],\r\n                  target: nodes[nodes[i].target[x]]  \r\n              });\r\n      };\r\n};\r\n\r\n\r\nvar myChart = d3.select(&#39;#chart&#39;)\r\n      .append(&quot;div&quot;)\r\n        .classed(&quot;svg-container&quot;, true)\r\n      \r\n      .append(&#39;svg&#39;)\r\n        .attr(&quot;preserveAspectRatio&quot;, &quot;xMinYMin meet&quot;)\r\n        .attr(&quot;viewBox&quot;, &quot;0 0 1000 800&quot;)\r\n        .classed(&quot;svg-content-responsive&quot;, true)\r\n\r\n\r\nvar force = d3.layout.force()\r\n      .nodes(nodes)\r\n      .links([])\r\n      .gravity(0.1)\r\n      .charge(-1000)\r\n      .size([w,h]); \r\n\r\n      var link = myChart.selectAll(&#39;line&#39;) \r\n            .data(links).enter().append(&#39;line&#39;)\r\n            .attr(&#39;stroke&#39;, palette.black)\r\n            .attr(&#39;strokewidth&#39;, &#39;1&#39;);\r\n\r\n      var node =  myChart.selectAll(&#39;circle&#39;)  \r\n            .data(nodes).enter() \r\n            .append(&#39;g&#39;) \r\n            .call(force.drag); \r\n\r\n     \r\n     node.append(&#39;circle&#39;)\r\n            .attr(&#39;cx&#39;, function(d){return d.x; })\r\n            .attr(&#39;cy&#39;, function(d){return d.y; })\r\n            .attr(&#39;r&#39;, function(d,i){\r\n                  console.log(&quot;circle &quot;,d.value,d);\r\n                  if ( i &gt; 0 ) {\r\n                        return circleWidth + d.value; \r\n                  } else {\r\n                        return circleWidth + 60; \r\n                  }\r\n            })\r\n            .attr(&#39;fill&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return colors(i);\r\n                  } else {\r\n                        return &#39;#fff&#39;;\r\n                  }\r\n            })\r\n            .attr(&#39;strokewidth&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return &#39;0&#39;;\r\n                  } else {\r\n                        return &#39;2&#39;;\r\n                  }\r\n            })\r\n             .attr(&#39;stroke&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return &#39;&#39;;\r\n                  } else {\r\n                        return &#39;black&#39;;\r\n                  }\r\n            })\r\n            .on(&#39;mouseover&#39;, function(d){\r\n                if ( d.audio ) {\r\n                  var audio = new Audio(d.audio);\r\n                  audio.play();\r\n                }\r\n            })\r\n            .on(&#39;mouseout&#39;, function(d){\r\n                if ( d.audio ) {\r\n                  audio.pause();\r\n                }\r\n            });\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n`\r\n\r\nI try different ways to ask bard, i followed the code source links, i made several google search and could not find the answer.","title":"jsd3 audio playback on hover each text node","body":"<p>I created a jsd3 project with the help of google bard, but the code does not work, can you guys please help me out? I need to attach an audio file to each text node, when hover on each text the audio should be played back, the audio files are in a local folder called :audio&gt;</p>\n<p>here its the full code, thankyou in advance.</p>\n<p>`</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;JSD3 Chart with Audio&lt;/title&gt;\n&lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;\n&lt;script&gt;\nvar   w = 1000,\n      h =  1000,\n      circleWidth = 3; \n \n// Change the color to something more vrivant:\nvar palette = {\n      &quot;lightgray&quot;: &quot;#E5E8E8&quot;,\n      &quot;gray&quot;: &quot;#708284&quot;,\n      &quot;mediumgray&quot;: &quot;#536870&quot;,\n      &quot;black&quot;:&quot;#000000&quot;,\n      &quot;blue&quot;: &quot;#3B757F&quot;\n  }\n\nvar colors = d3.scale.category20();\n\nvar nodes = [\n      { name: &quot;Borg&quot;, audio: &quot;audio/borg.mp3&quot;},\n      { name: &quot;HTML5&quot;, target: [0], value:1, audio: &quot;audio/html5.mp3&quot;},\n      { name: &quot;CSS3&quot;, target: [0], value: 1, audio: &quot;audio/css3.mp3&quot; },  \n     \n];\n\nvar links = [];\n\nfor (var i = 0; i &lt; nodes.length; i++){\n      if (nodes[i].target !== undefined) { \n            for ( var x = 0; x &lt; nodes[i].target.length; x++ ) \n              links.push({\n                  source: nodes[i],\n                  target: nodes[nodes[i].target[x]]  \n              });\n      };\n};\n\n\nvar myChart = d3.select('#chart')\n      .append(&quot;div&quot;)\n        .classed(&quot;svg-container&quot;, true)\n      \n      .append('svg')\n        .attr(&quot;preserveAspectRatio&quot;, &quot;xMinYMin meet&quot;)\n        .attr(&quot;viewBox&quot;, &quot;0 0 1000 800&quot;)\n        .classed(&quot;svg-content-responsive&quot;, true)\n\n\nvar force = d3.layout.force()\n      .nodes(nodes)\n      .links([])\n      .gravity(0.1)\n      .charge(-1000)\n      .size([w,h]); \n\n      var link = myChart.selectAll('line') \n            .data(links).enter().append('line')\n            .attr('stroke', palette.black)\n            .attr('strokewidth', '1');\n\n      var node =  myChart.selectAll('circle')  \n            .data(nodes).enter() \n            .append('g') \n            .call(force.drag); \n\n     \n     node.append('circle')\n            .attr('cx', function(d){return d.x; })\n            .attr('cy', function(d){return d.y; })\n            .attr('r', function(d,i){\n                  console.log(&quot;circle &quot;,d.value,d);\n                  if ( i &gt; 0 ) {\n                        return circleWidth + d.value; \n                  } else {\n                        return circleWidth + 60; \n                  }\n            })\n            .attr('fill', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return colors(i);\n                  } else {\n                        return '#fff';\n                  }\n            })\n            .attr('strokewidth', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return '0';\n                  } else {\n                        return '2';\n                  }\n            })\n             .attr('stroke', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return '';\n                  } else {\n                        return 'black';\n                  }\n            })\n            .on('mouseover', function(d){\n                if ( d.audio ) {\n                  var audio = new Audio(d.audio);\n                  audio.play();\n                }\n            })\n            .on('mouseout', function(d){\n                if ( d.audio ) {\n                  audio.pause();\n                }\n            });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>`</p>\n<p>I try different ways to ask bard, i followed the code source links, i made several google search and could not find the answer.</p>\n"},{"tags":["java","spring","intellij-idea","dependency-injection","lombok"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1477579437,"post_id":40287592,"comment_id":67833462,"body_markdown":"Note that as of Spring 4.3, the constructor annotation is no longer required in the case of a singleton constructor.","body":"Note that as of Spring 4.3, the constructor annotation is no longer required in the case of a singleton constructor."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":1,"creation_date":1523113385,"post_id":40287592,"comment_id":86430822,"body_markdown":"Which kind of support is broken? Or rather, which did you expect? What do you mean by ‘the IDE shows my where the autowired arguments come from’? That dons not seem to be a feature that I am aware of.","body":"Which kind of support is broken? Or rather, which did you expect? What do you mean by ‘the IDE shows my where the autowired arguments come from’? That dons not seem to be a feature that I am aware of."},{"owner":{"account_id":103106,"reputation":150,"user_id":276342,"display_name":"Tommy"},"score":0,"creation_date":1571306603,"post_id":40287592,"comment_id":103200662,"body_markdown":"This is still an issue even without the requirement to use @Inject. You can see an example of the feature here: https://stackoverflow.com/questions/24454687/intellij-go-to-autowired-bean-definition Philipp, did you ever find a solution?","body":"This is still an issue even without the requirement to use @Inject. You can see an example of the feature here: <a href=\"https://stackoverflow.com/questions/24454687/intellij-go-to-autowired-bean-definition\" title=\"intellij go to autowired bean definition\">stackoverflow.com/questions/24454687/&hellip;</a> Philipp, did you ever find a solution?"},{"owner":{"account_id":103106,"reputation":150,"user_id":276342,"display_name":"Tommy"},"score":0,"creation_date":1571307237,"post_id":40287592,"comment_id":103201025,"body_markdown":"There are two open tickets with Jetbrains for this feature: \nhttps://youtrack.jetbrains.com/issue/IDEA-175127\nhttps://youtrack.jetbrains.com/issue/IDEA-215368","body":"There are two open tickets with Jetbrains for this feature:  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175127\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-175127</a> <a href=\"https://youtrack.jetbrains.com/issue/IDEA-215368\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-215368</a>"},{"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"score":0,"creation_date":1571311004,"post_id":40287592,"comment_id":103203242,"body_markdown":"@Tommy Unfortunately, I am not aware of a solution. Since middle of 2017, I am no longer working with Java in my day job, so I am not up-to-date with the recent developments of the tools.","body":"@Tommy Unfortunately, I am not aware of a solution. Since middle of 2017, I am no longer working with Java in my day job, so I am not up-to-date with the recent developments of the tools."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1637159949,"post_id":40287592,"comment_id":123751572,"body_markdown":"As already pointed out, [this is a requested feature](https://youtrack.jetbrains.com/issue/IDEA-175127). One can workaround by adding `@Autowired` at the field level to find the bean declaration and then revert back to the original. I know it&#39;s dirty but it works.","body":"As already pointed out, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175127\" rel=\"nofollow noreferrer\">this is a requested feature</a>. One can workaround by adding <code>@Autowired</code> at the field level to find the bean declaration and then revert back to the original. I know it&#39;s dirty but it works."}],"answers":[{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160265,"creation_date":1661160265,"answer_id":73442866,"question_id":40287592,"body_markdown":"The lombok annotation `@RequiredArgsConstructor` will do the constructor based dependency injection.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class FooService {\r\n        private final BarService barService;\r\n    }\r\n\r\nAfter Java 17 `record` will also do this like -\r\n\r\n    @Service\r\n    public record FooService(BarService barService) {\r\n    }","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>The lombok annotation <code>@RequiredArgsConstructor</code> will do the constructor based dependency injection.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class FooService {\n    private final BarService barService;\n}\n</code></pre>\n<p>After Java 17 <code>record</code> will also do this like -</p>\n<pre><code>@Service\npublic record FooService(BarService barService) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693609136,"creation_date":1693609136,"answer_id":77026324,"question_id":40287592,"body_markdown":"Use `@RequiredArgsConstructor` annotation instead. It will autowire all your `final` fields. `@Inject` annotation is not very useful.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class FooService {\r\n\r\n        private final BarService barService;\r\n    }","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>Use <code>@RequiredArgsConstructor</code> annotation instead. It will autowire all your <code>final</code> fields. <code>@Inject</code> annotation is not very useful.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class FooService {\n\n    private final BarService barService;\n}\n</code></pre>\n"}],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2459,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1693609136,"creation_date":1477579367,"question_id":40287592,"body_markdown":"Lombok supports to generate constructors with `@Inject` annotations:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n\r\nSo, instead of\r\n\r\n    @Service\r\n    public class FooService {\r\n    \r\n        private final BarService barService;\r\n\r\n        @Inject\r\n        public FooService(BarService barService) {\r\n            this.barService = barService;\r\n        }\r\n    }\r\n\r\nyou can write\r\n\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n    public class FooService {\r\n        private final BarService barService;\r\n    }\r\n\r\nMy problem with that feature is that it seems to break Spring IDE support in IntelliJ:\r\n\r\n* In the non-Lombok version, the IDE shows my where the autowired arguments come from and allows me to navigate to their locations (here, the implementation of the `BarService`).\r\n* In the Lombok version, I cannot get it to work. It  still shows the location of the spring bean declaration, but not to the location of the autowired dependencies.\r\n\r\nIf I was the only developer, I would just use the first version and be done with it. However, I see that more and more code in our codebase is migrated to the Lombok constructor style. So, I am curious:\r\n\r\n**Is it possible to use the full Spring support in IDEA in combination with Lombok `onConstructor = @__(@Inject)` constructors?**\r\n\r\n\r\n\r\n","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>Lombok supports to generate constructors with <code>@Inject</code> annotations:</p>\n\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\n</code></pre>\n\n<p>So, instead of</p>\n\n<pre><code>@Service\npublic class FooService {\n\n    private final BarService barService;\n\n    @Inject\n    public FooService(BarService barService) {\n        this.barService = barService;\n    }\n}\n</code></pre>\n\n<p>you can write</p>\n\n<pre><code>@Service\n@RequiredArgsConstructor(onConstructor = @__(@Inject))\npublic class FooService {\n    private final BarService barService;\n}\n</code></pre>\n\n<p>My problem with that feature is that it seems to break Spring IDE support in IntelliJ:</p>\n\n<ul>\n<li>In the non-Lombok version, the IDE shows my where the autowired arguments come from and allows me to navigate to their locations (here, the implementation of the <code>BarService</code>).</li>\n<li>In the Lombok version, I cannot get it to work. It  still shows the location of the spring bean declaration, but not to the location of the autowired dependencies.</li>\n</ul>\n\n<p>If I was the only developer, I would just use the first version and be done with it. However, I see that more and more code in our codebase is migrated to the Lombok constructor style. So, I am curious:</p>\n\n<p><strong>Is it possible to use the full Spring support in IDEA in combination with Lombok <code>onConstructor = @__(@Inject)</code> constructors?</strong></p>\n"},{"tags":["java","filter","collections","java-stream","output"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1693570773,"post_id":77023043,"comment_id":135782161,"body_markdown":"what point of your code do you think would cause a space to be printed between the elements?","body":"what point of your code do you think would cause a space to be printed between the elements?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693572498,"post_id":77023043,"comment_id":135782530,"body_markdown":"Side note: there’s no point in performing two regex match operations. Further, it’s more efficient to make the length test first: `.filter(s -&gt; s.length() &gt; 5 &amp;&amp; !s.matches(&quot;[0-9]+|[a-zA-Z]+&quot;))`. Further, there’s no need to collect into a `List` when all you’re doing, is a `forEach`. You can do a `forEach` on the Stream in the first place. But as the anwers say, for your actual task, `.collect(Collectors.joining(&quot; &quot;))` is the right tool.","body":"Side note: there’s no point in performing two regex match operations. Further, it’s more efficient to make the length test first: <code>.filter(s -&gt; s.length() &gt; 5 &amp;&amp; !s.matches(&quot;[0-9]+|[a-zA-Z]+&quot;))</code>. Further, there’s no need to collect into a <code>List</code> when all you’re doing, is a <code>forEach</code>. You can do a <code>forEach</code> on the Stream in the first place. But as the anwers say, for your actual task, <code>.collect(Collectors.joining(&quot; &quot;))</code> is the right tool."}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693571946,"creation_date":1693571946,"answer_id":77023193,"question_id":77023043,"body_markdown":"I suggest using `Collectors.joining`\r\n\r\nHere is some helpful Documentation, there are some other useful Collectors as well.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\r\n\r\nexample code\r\n\r\n    import java.util.Arrays;\r\n    import java.util.function.Predicate;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString ans = &quot;pass@123 jes@234 12345 human&quot;;\r\n    \r\n    \t\tfinal String space = &quot; &quot;;\r\n    \t\t\r\n    \t\tString line = Arrays.stream(ans.split(space))// you can use Arrays.stream directly, without calling Arrays.asList first\r\n    \t\t\t.filter(giveMeSomeMeaningFulName()) //separated into separate method to improve readability\r\n    \t\t\t.collect(Collectors.joining(space));//Collectors.joining join the strings with the provided string as separator\r\n    \r\n    \t\tSystem.out.println(line);\r\n    \t}\r\n    \r\n    \tprivate static Predicate&lt;? super String&gt; giveMeSomeMeaningFulName() {\r\n    \t\treturn s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5;\r\n    \t}\r\n    }\r\n\r\n","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>I suggest using <code>Collectors.joining</code></p>\n<p>Here is some helpful Documentation, there are some other useful Collectors as well.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html</a></p>\n<p>example code</p>\n<pre><code>import java.util.Arrays;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\n\n        final String space = &quot; &quot;;\n        \n        String line = Arrays.stream(ans.split(space))// you can use Arrays.stream directly, without calling Arrays.asList first\n            .filter(giveMeSomeMeaningFulName()) //separated into separate method to improve readability\n            .collect(Collectors.joining(space));//Collectors.joining join the strings with the provided string as separator\n\n        System.out.println(line);\n    }\n\n    private static Predicate&lt;? super String&gt; giveMeSomeMeaningFulName() {\n        return s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693571958,"creation_date":1693571958,"answer_id":77023195,"question_id":77023043,"body_markdown":"You can use the [`Collectors.joining(CharSequence delimiter)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-) method. For example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class JoiningExample {\r\n    public static void main(String[] args) {\r\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\r\n        List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\r\n\r\n\r\n        String result = splitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp;\r\n                        !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        System.out.println(result); // Output: &quot;pass@123 jes@234&quot;\r\n    }\r\n}\r\n```","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Collectors.joining(CharSequence delimiter)</code></a> method. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class JoiningExample {\n    public static void main(String[] args) {\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\n        List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\n\n\n        String result = splitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp;\n                        !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\n                .collect(Collectors.joining(&quot; &quot;));\n        System.out.println(result); // Output: &quot;pass@123 jes@234&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693608042,"creation_date":1693608042,"answer_id":77026271,"question_id":77023043,"body_markdown":"You can use the _[Collectors#joining](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence))_ method.\r\n\r\nAdditionally, I am using `\\\\w&amp;&amp;[^_]` in place of the other two patterns.  \r\nAnd, I figured checking the length before the pattern is more logical.\r\n\r\n```java\r\nString input = &quot;pass@123 jes@234 12345 human&quot;;\r\nString output\r\n    = Arrays.stream(input.split(&quot; +&quot;))\r\n            .filter(x -&gt; x.length() &gt; 5 &amp;&amp; !x.matches(&quot;\\\\w&amp;&amp;[^_]+&quot;))\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\npass@123 jes@234\r\n```","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Collectors#joining</a></em> method.</p>\n<p>Additionally, I am using <code>\\\\w&amp;&amp;[^_]</code> in place of the other two patterns.<br />\nAnd, I figured checking the length before the pattern is more logical.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;pass@123 jes@234 12345 human&quot;;\nString output\n    = Arrays.stream(input.split(&quot; +&quot;))\n            .filter(x -&gt; x.length() &gt; 5 &amp;&amp; !x.matches(&quot;\\\\w&amp;&amp;[^_]+&quot;))\n            .collect(Collectors.joining(&quot; &quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>pass@123 jes@234\n</code></pre>\n"}],"owner":{"account_id":13446048,"reputation":3,"user_id":9701958,"display_name":"Feba Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77023193,"answer_count":3,"score":0,"last_activity_date":1693608487,"creation_date":1693570699,"question_id":77023043,"body_markdown":"If I provide the input as `pass@123 jes@234 12345 human`.\r\nThe output should print as `pass@123 jes@234` in a single line with space in between. \r\nBut it is printing as `pass@123jes@234` without any space.\r\nBelow is my code.\t\r\n\t\t\r\n\t\t\r\n```java\r\nList&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\r\n\t\t\r\nsplitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; \r\n    !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\r\n.collect(Collectors.toList()).forEach(System.out::print);\r\n```\r\n\r\nI tried to provide `System.out.print` but the output is printed with no spaces in between.","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>If I provide the input as <code>pass@123 jes@234 12345 human</code>.\nThe output should print as <code>pass@123 jes@234</code> in a single line with space in between.\nBut it is printing as <code>pass@123jes@234</code> without any space.\nBelow is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\n        \nsplitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; \n    !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\n.collect(Collectors.toList()).forEach(System.out::print);\n</code></pre>\n<p>I tried to provide <code>System.out.print</code> but the output is printed with no spaces in between.</p>\n"},{"tags":["java","spring","spring-boot","jax-rs","graphql-java"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1693341228,"post_id":76955282,"comment_id":135747485,"body_markdown":"You don&#39;t mention what you&#39;re using right now to handle the communication with the client, either in the question or the tags. Do you have a custom controller, do you  use Spring GraphQL, or any of the other various starters for GraohQL. Also, why not handle filtering at the field level? Top level filter sounds like a very blunt approach with ad-hoc querying that GraphQL enables.","body":"You don&#39;t mention what you&#39;re using right now to handle the communication with the client, either in the question or the tags. Do you have a custom controller, do you  use Spring GraphQL, or any of the other various starters for GraohQL. Also, why not handle filtering at the field level? Top level filter sounds like a very blunt approach with ad-hoc querying that GraphQL enables."},{"owner":{"account_id":1430910,"reputation":2502,"user_id":1353361,"accept_rate":67,"display_name":"Vijay Shegokar"},"score":0,"creation_date":1693607455,"post_id":76955282,"comment_id":135788084,"body_markdown":"@kaqqao I have updated my question for better understanding, hope this time it is clear now.","body":"@kaqqao I have updated my question for better understanding, hope this time it is clear now."}],"owner":{"account_id":1430910,"reputation":2502,"user_id":1353361,"accept_rate":67,"display_name":"Vijay Shegokar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693607357,"creation_date":1692722245,"question_id":76955282,"body_markdown":"In REST API, we can create our custom Filter class by implementing `ContainerResponseFilter`\r\ninterface and override its \r\n\r\n&gt; public void filter(final ContainerRequestContext requestContext, final ContainerResponseContext responseContext))\r\n\r\nmethod. This `filter()` executes on every request before sending response to client. \r\n\r\nSimilar to this, do we have any way in GraphQL with Spring Boot to create our class and executes before sending response to client?\r\n\r\nPlease help.\r\n\r\nThanks\r\n","title":"Spring Boot GraphQL: Any class to extends/implements which executes before sending GraphQL response to client similar to ContainerResponseFilter REST","body":"<p>In REST API, we can create our custom Filter class by implementing <code>ContainerResponseFilter</code>\ninterface and override its</p>\n<blockquote>\n<p>public void filter(final ContainerRequestContext requestContext, final ContainerResponseContext responseContext))</p>\n</blockquote>\n<p>method. This <code>filter()</code> executes on every request before sending response to client.</p>\n<p>Similar to this, do we have any way in GraphQL with Spring Boot to create our class and executes before sending response to client?</p>\n<p>Please help.</p>\n<p>Thanks</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":78451,"reputation":22303,"user_id":223274,"accept_rate":60,"display_name":"Ian Henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1285908850,"creation_date":1285908850,"answer_id":3836634,"question_id":3836621,"body_markdown":"Loop through the elements, check their `id` values, and place them in a `Hashtable` with `id` as the key. That&#39;s O(N), which is as efficient as you&#39;re going to get.","title":"split a java collection into sub collections based on an object property","body":"<p>Loop through the elements, check their <code>id</code> values, and place them in a <code>Hashtable</code> with <code>id</code> as the key. That's O(N), which is as efficient as you're going to get.</p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285928724,"creation_date":1285909683,"answer_id":3836677,"question_id":3836621,"body_markdown":"\tArrayList&lt;MyObject&gt; list=new ArrayList&lt;MyObject&gt;();\r\n\t//fill Objects..\r\n\tHashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt; hash=new HashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt;();\r\n\tfor(MyObject elem:list)//iterate the list\r\n\t{\r\n\tArrayList&lt;MyObject&gt; tmp=null; //temporary variable \r\n\tif((tmp=hash.get(elem.getId()))==null) // check if id already present in map\r\n\t {\r\n      tmp=new ArrayList&lt;MyObject&gt;();   \r\n      hash.put(elem.getId(),tmp); //if not put a new array list\r\n\t }\r\n\tnames.add(elem); //if present add the name to arraylist\r\n\t}","title":"split a java collection into sub collections based on an object property","body":"<pre><code>ArrayList&lt;MyObject&gt; list=new ArrayList&lt;MyObject&gt;();\n//fill Objects..\nHashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt; hash=new HashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt;();\nfor(MyObject elem:list)//iterate the list\n{\nArrayList&lt;MyObject&gt; tmp=null; //temporary variable \nif((tmp=hash.get(elem.getId()))==null) // check if id already present in map\n {\n  tmp=new ArrayList&lt;MyObject&gt;();   \n  hash.put(elem.getId(),tmp); //if not put a new array list\n }\nnames.add(elem); //if present add the name to arraylist\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1285910030,"creation_date":1285910030,"answer_id":3836694,"question_id":3836621,"body_markdown":"    // create the thing to store the sub lists\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; subs = new HashMap&lt;Integer, List&lt;MyObject&gt;&gt;();\r\n    \r\n    // iterate through your objects\r\n    for(MyObject o : list){\r\n\r\n        // fetch the list for this object&#39;s id\r\n        List&lt;MyObject&gt; temp = subs.get(o.getId());\r\n\r\n        if(temp == null){\r\n            // if the list is null we haven&#39;t seen an\r\n            // object with this id before, so create \r\n            // a new list\r\n            temp = new ArrayList&lt;MyObject&gt;();\r\n\r\n            // and add it to the map\r\n            subs.put(o.getId(), temp);\r\n        }\r\n\r\n        // whether we got the list from the map\r\n        // or made a new one we need to add our\r\n        // object.\r\n        temp.add(o);\r\n    }","title":"split a java collection into sub collections based on an object property","body":"<pre><code>// create the thing to store the sub lists\nMap&lt;Integer, List&lt;MyObject&gt;&gt; subs = new HashMap&lt;Integer, List&lt;MyObject&gt;&gt;();\n\n// iterate through your objects\nfor(MyObject o : list){\n\n    // fetch the list for this object's id\n    List&lt;MyObject&gt; temp = subs.get(o.getId());\n\n    if(temp == null){\n        // if the list is null we haven't seen an\n        // object with this id before, so create \n        // a new list\n        temp = new ArrayList&lt;MyObject&gt;();\n\n        // and add it to the map\n        subs.put(o.getId(), temp);\n    }\n\n    // whether we got the list from the map\n    // or made a new one we need to add our\n    // object.\n    temp.add(o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1286200152,"creation_date":1286200152,"answer_id":3855831,"question_id":3836621,"body_markdown":"Using [Guava][1]:\r\n\r\n    ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects,\r\n        new Function&lt;MyObject, Integer&gt;() {\r\n          public Integer apply(MyObject myObject) {\r\n            return myObject.id;\r\n          }\r\n        });\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n","title":"split a java collection into sub collections based on an object property","body":"<p>Using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>:</p>\n\n<pre><code>ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects,\n    new Function&lt;MyObject, Integer&gt;() {\n      public Integer apply(MyObject myObject) {\n        return myObject.id;\n      }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4640223,"reputation":589,"user_id":3760289,"accept_rate":89,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456848160,"creation_date":1456848160,"answer_id":35727651,"question_id":3836621,"body_markdown":"Using JDK 1.8:\r\n\r\n    List&lt;MyObject&gt; objects= new ArrayList();\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; obejctMap = new HashMap();\r\n    objects.stream().map(MyObject::getId).distinct().forEach(id -&gt; obejctMap .put(id,\r\n                  objects.stream().filter(object -&gt; id.equals(object.getId())).collect(Collectors.toList())));","title":"split a java collection into sub collections based on an object property","body":"<p>Using JDK 1.8:</p>\n\n<pre><code>List&lt;MyObject&gt; objects= new ArrayList();\nMap&lt;Integer, List&lt;MyObject&gt;&gt; obejctMap = new HashMap();\nobjects.stream().map(MyObject::getId).distinct().forEach(id -&gt; obejctMap .put(id,\n              objects.stream().filter(object -&gt; id.equals(object.getId())).collect(Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4831406,"reputation":952,"user_id":3899529,"display_name":"Damien O&#39;Reilly"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1495903722,"creation_date":1495903722,"answer_id":44219369,"question_id":3836621,"body_markdown":"If you are using JDK 1.8, you can use an elegant solution like:\r\n\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; myObjectsPerId =\r\n        myObjects.stream().collect(Collectors.groupingBy(MyObject::getId));","title":"split a java collection into sub collections based on an object property","body":"<p>If you are using JDK 1.8, you can use an elegant solution like:</p>\n\n<pre><code>Map&lt;Integer, List&lt;MyObject&gt;&gt; myObjectsPerId =\n    myObjects.stream().collect(Collectors.groupingBy(MyObject::getId));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693606681,"creation_date":1693606681,"answer_id":77026214,"question_id":3836621,"body_markdown":"Alternative to `Collectors.groupingBy` solution using [`Map.computeIfAbsent`][1] method, which is also available starting from Java 8:\r\n```\r\nMap&lt;Integer, List&lt;MyObject&gt;&gt; res = new HashMap&lt;&gt;();\r\nfor (MyObject obj : myObjects) {\r\n  res.computeIfAbsent(obj.getId(), k -&gt; new ArrayList&lt;&gt;()).add(obj);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"split a java collection into sub collections based on an object property","body":"<p>Alternative to <code>Collectors.groupingBy</code> solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> method, which is also available starting from Java 8:</p>\n<pre><code>Map&lt;Integer, List&lt;MyObject&gt;&gt; res = new HashMap&lt;&gt;();\nfor (MyObject obj : myObjects) {\n  res.computeIfAbsent(obj.getId(), k -&gt; new ArrayList&lt;&gt;()).add(obj);\n}\n</code></pre>\n"}],"owner":{"account_id":655269,"reputation":103,"user_id":463533,"display_name":"james"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19714,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3836694,"answer_count":7,"score":10,"last_activity_date":1693606681,"creation_date":1285908714,"question_id":3836621,"body_markdown":"I have a List of MyObjects ... MyObject{ int id,String name}. Now I want to split the list into sublists that have identical &quot;id&quot; values. Can anyone suggest an efficient approach for doing this?\r\n","title":"split a java collection into sub collections based on an object property","body":"<p>I have a List of MyObjects ... MyObject{ int id,String name}. Now I want to split the list into sublists that have identical &quot;id&quot; values. Can anyone suggest an efficient approach for doing this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":12000960,"reputation":21,"user_id":8780923,"display_name":"Sergey Komarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675432523,"creation_date":1675432523,"answer_id":75336692,"question_id":75247300,"body_markdown":"It was happening because of frozen request which was in infinite loading and blocked Chrome. Blocking that request has solved my issue.","title":"Selenim 4.7.2 + ChromeDriver 108 for Java fail with timeout during switching to iframe","body":"<p>It was happening because of frozen request which was in infinite loading and blocked Chrome. Blocking that request has solved my issue.</p>\n"}],"owner":{"account_id":12000960,"reputation":21,"user_id":8780923,"display_name":"Sergey Komarov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693605810,"creation_date":1674742386,"question_id":75247300,"body_markdown":"**Prerequisites:**\r\n\r\nThere is an iframe on page with input fields which I need to get.\r\nBefore interacting with fields I must switch to iframe.\r\n\r\n**Versions**\r\n\r\n- Selenium has version 4.7.2 (I mean artifact with id = selenium-devtools-v108)\r\n- standalone-chrome:108.0.5359.124\r\n- chromedriver-108.0.5359.71\r\n\r\nI faced issue related to switching to iframe. ChromeDriver cannot do this operation and fails with error:\r\n\r\n&gt; org.openqa.selenium.WebDriverException: org.openqa.selenium.TimeoutException: timeout: Timed out receiving message from renderer: 60.000\r\n\r\n**Code which doesn&#39;t work:**\r\n\r\n```\r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\r\n    By.cssSelector(&quot;#loginFrame&quot;)\r\n));\r\n```\r\n\r\n**ChromeOptions**\r\n\r\n```\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, List.of(&quot;--enable-automation&quot;));\r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.addArguments(&quot;--disable-extensions&quot;);\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n            options.addArguments(&quot;--no-sandbox&quot;);\r\n```\r\n\r\nI&#39;ve already tried to downgrade ChromeDriver, Chrome, Selenium - nothing changed.\r\n\r\nThe most interesting is that tests are retried after fail 3 times and it doesn&#39;t work at first time, but it works as expected at second and third time at the same page.\r\n\r\nPreventing questions like &quot;Is there iframe?&quot;, I may say &quot;Yes, there is&quot;. I checked it by separating waiting for element and switching to it: element has been found, but switching couldn&#39;t be executed.\r\n\r\nAnd this code works fine on older version of page and *sometimes* - on current version. But the only difference between versions is changed styles of elements as I see in DOM (source code is external).\r\n\r\nAnd so I have no idea what it is.","title":"Selenim 4.7.2 + ChromeDriver 108 for Java fail with timeout during switching to iframe","body":"<p><strong>Prerequisites:</strong></p>\n<p>There is an iframe on page with input fields which I need to get.\nBefore interacting with fields I must switch to iframe.</p>\n<p><strong>Versions</strong></p>\n<ul>\n<li>Selenium has version 4.7.2 (I mean artifact with id = selenium-devtools-v108)</li>\n<li>standalone-chrome:108.0.5359.124</li>\n<li>chromedriver-108.0.5359.71</li>\n</ul>\n<p>I faced issue related to switching to iframe. ChromeDriver cannot do this operation and fails with error:</p>\n<blockquote>\n<p>org.openqa.selenium.WebDriverException: org.openqa.selenium.TimeoutException: timeout: Timed out receiving message from renderer: 60.000</p>\n</blockquote>\n<p><strong>Code which doesn't work:</strong></p>\n<pre><code>wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\n    By.cssSelector(&quot;#loginFrame&quot;)\n));\n</code></pre>\n<p><strong>ChromeOptions</strong></p>\n<pre><code>            options.setExperimentalOption(&quot;excludeSwitches&quot;, List.of(&quot;--enable-automation&quot;));\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n            options.addArguments(&quot;--disable-extensions&quot;);\n            options.addArguments(&quot;--disable-gpu&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n\n            options.addArguments(&quot;--no-sandbox&quot;);\n</code></pre>\n<p>I've already tried to downgrade ChromeDriver, Chrome, Selenium - nothing changed.</p>\n<p>The most interesting is that tests are retried after fail 3 times and it doesn't work at first time, but it works as expected at second and third time at the same page.</p>\n<p>Preventing questions like &quot;Is there iframe?&quot;, I may say &quot;Yes, there is&quot;. I checked it by separating waiting for element and switching to it: element has been found, but switching couldn't be executed.</p>\n<p>And this code works fine on older version of page and <em>sometimes</em> - on current version. But the only difference between versions is changed styles of elements as I see in DOM (source code is external).</p>\n<p>And so I have no idea what it is.</p>\n"},{"tags":["java","xml","sax"],"answers":[{"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693605705,"creation_date":1482204225,"answer_id":41234396,"question_id":41222047,"body_markdown":"I think this is along the lines of what you are asking for.  It creates a List of HashMap objects. Every time it starts a TermInfo, it creates a new HashMap.  Each endElement inside TermInfo puts a value into the Map.  When endElement is TermInfo, it sets fieldMap to null so no intermediate tags are added.  &quot;TermInfo&quot; represents A from your description.\r\n\r\n    public class TestHandler extends DefaultHandler\r\n    {\r\n        Map&lt;String, String&gt; fieldMap = null;\r\n        List&lt;Map&lt;String, String&gt;&gt; tags_Value = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n        String temp;\r\n\r\n        // ###startElement#######\r\n        public void startElement(String uri, String localName, String qName,\r\n                Attributes attributes) throws SAXException\r\n        {\r\n            if (localName.equals(&quot;TermInfo&quot;)) // A\r\n            {\r\n                fieldMap = new HashMap&lt;String, String&gt;();\r\n                tags_Value.add(fieldMap);\r\n            }\r\n        }\r\n\r\n        // ###########characters###########\r\n        public void characters(char ch[], int start, int length)\r\n            throws SAXException\r\n        {\r\n            temp = new String(ch, start, length);\r\n        }\r\n\r\n        // ###########endElement############\r\n        public void endElement(String uri, String localName, String qName)\r\n            throws SAXException\r\n        {\r\n            if (fieldMap != null)\r\n            {\r\n                if (!localName.equals(&quot;TermInfo&quot;)) // A\r\n                {\r\n                    fieldMap.put(localName, temp);\r\n                }\r\n                else\r\n                {\r\n                    // END of TermInfo\r\n                    fieldMap = null;\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"SAX parsing - mapping nested tags into the main tag","body":"<p>I think this is along the lines of what you are asking for.  It creates a List of HashMap objects. Every time it starts a TermInfo, it creates a new HashMap.  Each endElement inside TermInfo puts a value into the Map.  When endElement is TermInfo, it sets fieldMap to null so no intermediate tags are added.  &quot;TermInfo&quot; represents A from your description.</p>\n<pre><code>public class TestHandler extends DefaultHandler\n{\n    Map&lt;String, String&gt; fieldMap = null;\n    List&lt;Map&lt;String, String&gt;&gt; tags_Value = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n    String temp;\n\n    // ###startElement#######\n    public void startElement(String uri, String localName, String qName,\n            Attributes attributes) throws SAXException\n    {\n        if (localName.equals(&quot;TermInfo&quot;)) // A\n        {\n            fieldMap = new HashMap&lt;String, String&gt;();\n            tags_Value.add(fieldMap);\n        }\n    }\n\n    // ###########characters###########\n    public void characters(char ch[], int start, int length)\n        throws SAXException\n    {\n        temp = new String(ch, start, length);\n    }\n\n    // ###########endElement############\n    public void endElement(String uri, String localName, String qName)\n        throws SAXException\n    {\n        if (fieldMap != null)\n        {\n            if (!localName.equals(&quot;TermInfo&quot;)) // A\n            {\n                fieldMap.put(localName, temp);\n            }\n            else\n            {\n                // END of TermInfo\n                fieldMap = null;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6912457,"reputation":101,"user_id":5307811,"accept_rate":0,"display_name":"Naima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693605705,"creation_date":1482148479,"question_id":41222047,"body_markdown":"I want to use the SAX parser for a large XML file. The handler looks like this:\r\n\r\n```lang-java\r\nDefaultHandler handler = new DefaultHandler() {\r\n  String temp;\r\n  HashSet &lt; String &gt; xml_Elements = new LinkedHashSet &lt; String &gt; ();\r\n  HashMap &lt; String, Boolean &gt; xml_Tags = new LinkedHashMap &lt; String, Boolean &gt; ();\r\n  HashMap &lt; String, ArrayList &lt; String &gt;&gt; tags_Value = new LinkedHashMap &lt; String, ArrayList &lt; String &gt;&gt; ();\r\n\r\n  // ### startElement #######\r\n  public void startElement(String uri, String localName, String qName,\r\n    Attributes attributes) throws SAXException {\r\n    xml_Elements.add(qName);\r\n\r\n\r\n    for (String tag: xml_Elements) {\r\n      if (qName == tag) {\r\n        xml_Tags.put(qName, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  // ########### Characters ###########\r\n  public void characters(char ch[], int start, int length) throws SAXException {\r\n\r\n    temp = new String(ch, start, length);\r\n  }\r\n\r\n  // ########### endElement ############\r\n  public void endElement(String uri, String localName,\r\n    String qName) throws SAXException {\r\n\r\n    if (xml_Tags.get(qName) == true) {\r\n      if (tags_Value.containsKey(qName)) {\r\n        tags_Value.get(qName).add(temp);\r\n        tags_Value.put(qName, tags_Value.get(qName));\r\n      }\r\n      else {\r\n        ArrayList &lt; String &gt; tempList = new ArrayList &lt; String &gt; ();\r\n        tempList.add(temp);\r\n        //tags_Value.put(qName, new ArrayList&lt;String&gt;());\r\n        tags_Value.put(qName, tempList);\r\n      }\r\n      //documentWriter.write(qName + &quot;:&quot; + temp + &quot;\\t&quot;);\r\n      for (String a: tags_Value.keySet()) {\r\n        try {\r\n          documentWriter.write(tags_Value.get(a) + &quot;\\t&quot;);\r\n        }\r\n        catch (IOException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n      xml_Tags.put(qName, false);\r\n    }\r\n    tags_Value.clear();\r\n  }\r\n};\r\n```\r\n\r\nMy XML is like:\r\n\r\n```lang-xml\r\n&lt;TermInfo&gt;\r\n    &lt;A&gt;1/f noise&lt;/A&gt;\r\n    &lt;B&gt;Random noise&lt;/B&gt;\r\n    &lt;C&gt;Accepted&lt;/C&gt;\r\n    &lt;D&gt;Flicker noise&lt;/D&gt;\r\n    &lt;F&gt;Pink noise&lt;/F&gt;\r\n    &lt;I&gt;1-f&lt;/I&gt;\r\n    &lt;I&gt;1/f&lt;/I&gt;\r\n    &lt;I&gt;1/f noise&lt;/I&gt;\r\n    &lt;I&gt;1:f&lt;/I&gt;\r\n    &lt;I&gt;flicker noise&lt;/I&gt;\r\n    &lt;I&gt;noise&lt;/I&gt;\r\n    &lt;I&gt;pink noise&lt;/I&gt;\r\n    &lt;ID&gt;1&lt;/ID&gt;\r\n&lt;/TermInfo&gt;\r\n&lt;TermInfo&gt;\r\n    &lt;A&gt;3D printing&lt;/A&gt;\r\n    &lt;B&gt;Materials fabrication&lt;/B&gt;\r\n    &lt;C&gt;Accepted&lt;/C&gt;\r\n    &lt;D&gt;3d printing&lt;/D&gt;\r\n    &lt;F&gt;2&lt;/F&gt;\r\n    &lt;I&gt;three dimension*&lt;/I&gt;\r\n    &lt;I&gt;three-dimension*&lt;/I&gt;\r\n    &lt;I&gt;3d&lt;/I&gt;\r\n    &lt;I&gt;3-d&lt;/I&gt;\r\n    &lt;I&gt;3d*&lt;/I&gt;\r\n&lt;/TermInfo&gt;\r\n```\r\n\r\nI wanted to cluster all nested tags under Tag A.\r\nI.e., for each A, its B,C,D and I together, etc. But using the above handler the output is like *A-B-C-D-I-I-etc*. Can I make one object for each A and add other elements into it? How can I include this?\r\n\r\n\r\n\r\n\r\n","title":"SAX parsing - mapping nested tags into the main tag","body":"<p>I want to use the SAX parser for a large XML file. The handler looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultHandler handler = new DefaultHandler() {\n  String temp;\n  HashSet &lt; String &gt; xml_Elements = new LinkedHashSet &lt; String &gt; ();\n  HashMap &lt; String, Boolean &gt; xml_Tags = new LinkedHashMap &lt; String, Boolean &gt; ();\n  HashMap &lt; String, ArrayList &lt; String &gt;&gt; tags_Value = new LinkedHashMap &lt; String, ArrayList &lt; String &gt;&gt; ();\n\n  // ### startElement #######\n  public void startElement(String uri, String localName, String qName,\n    Attributes attributes) throws SAXException {\n    xml_Elements.add(qName);\n\n\n    for (String tag: xml_Elements) {\n      if (qName == tag) {\n        xml_Tags.put(qName, true);\n      }\n    }\n  }\n\n  // ########### Characters ###########\n  public void characters(char ch[], int start, int length) throws SAXException {\n\n    temp = new String(ch, start, length);\n  }\n\n  // ########### endElement ############\n  public void endElement(String uri, String localName,\n    String qName) throws SAXException {\n\n    if (xml_Tags.get(qName) == true) {\n      if (tags_Value.containsKey(qName)) {\n        tags_Value.get(qName).add(temp);\n        tags_Value.put(qName, tags_Value.get(qName));\n      }\n      else {\n        ArrayList &lt; String &gt; tempList = new ArrayList &lt; String &gt; ();\n        tempList.add(temp);\n        //tags_Value.put(qName, new ArrayList&lt;String&gt;());\n        tags_Value.put(qName, tempList);\n      }\n      //documentWriter.write(qName + &quot;:&quot; + temp + &quot;\\t&quot;);\n      for (String a: tags_Value.keySet()) {\n        try {\n          documentWriter.write(tags_Value.get(a) + &quot;\\t&quot;);\n        }\n        catch (IOException e) {\n          // TODO Auto-generated catch block\n          e.printStackTrace();\n        }\n      }\n      xml_Tags.put(qName, false);\n    }\n    tags_Value.clear();\n  }\n};\n</code></pre>\n<p>My XML is like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TermInfo&gt;\n    &lt;A&gt;1/f noise&lt;/A&gt;\n    &lt;B&gt;Random noise&lt;/B&gt;\n    &lt;C&gt;Accepted&lt;/C&gt;\n    &lt;D&gt;Flicker noise&lt;/D&gt;\n    &lt;F&gt;Pink noise&lt;/F&gt;\n    &lt;I&gt;1-f&lt;/I&gt;\n    &lt;I&gt;1/f&lt;/I&gt;\n    &lt;I&gt;1/f noise&lt;/I&gt;\n    &lt;I&gt;1:f&lt;/I&gt;\n    &lt;I&gt;flicker noise&lt;/I&gt;\n    &lt;I&gt;noise&lt;/I&gt;\n    &lt;I&gt;pink noise&lt;/I&gt;\n    &lt;ID&gt;1&lt;/ID&gt;\n&lt;/TermInfo&gt;\n&lt;TermInfo&gt;\n    &lt;A&gt;3D printing&lt;/A&gt;\n    &lt;B&gt;Materials fabrication&lt;/B&gt;\n    &lt;C&gt;Accepted&lt;/C&gt;\n    &lt;D&gt;3d printing&lt;/D&gt;\n    &lt;F&gt;2&lt;/F&gt;\n    &lt;I&gt;three dimension*&lt;/I&gt;\n    &lt;I&gt;three-dimension*&lt;/I&gt;\n    &lt;I&gt;3d&lt;/I&gt;\n    &lt;I&gt;3-d&lt;/I&gt;\n    &lt;I&gt;3d*&lt;/I&gt;\n&lt;/TermInfo&gt;\n</code></pre>\n<p>I wanted to cluster all nested tags under Tag A.\nI.e., for each A, its B,C,D and I together, etc. But using the above handler the output is like <em>A-B-C-D-I-I-etc</em>. Can I make one object for each A and add other elements into it? How can I include this?</p>\n"},{"tags":["java","mysql","spring","hibernate","enums"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580244796,"post_id":59956699,"comment_id":106032663,"body_markdown":"What if you don&#39;t use the @Column annotation at all?","body":"What if you don&#39;t use the @Column annotation at all?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580244897,"post_id":59956699,"comment_id":106032706,"body_markdown":"If you don&#39;t need the enum values as Strings in the database, you could use EnumType.ORDINAL instead of EnumType.STRING","body":"If you don&#39;t need the enum values as Strings in the database, you could use EnumType.ORDINAL instead of EnumType.STRING"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580245208,"post_id":59956699,"comment_id":106032846,"body_markdown":"If i don&#39;t use @Column notation at all this is the schema validation error: found [enum (Types#CHAR)], but expecting [varchar(255) (Types#VARCHAR)]","body":"If i don&#39;t use @Column notation at all this is the schema validation error: found [enum (Types#CHAR)], but expecting [varchar(255) (Types#VARCHAR)]"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580245350,"post_id":59956699,"comment_id":106032910,"body_markdown":"Right now, i dont want to change how the cloumn is defined in the DB.","body":"Right now, i dont want to change how the cloumn is defined in the DB."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1580248387,"post_id":59956699,"comment_id":106034005,"body_markdown":"Oh so the problem is the column is already created and it&#39;s mismatching with your code?","body":"Oh so the problem is the column is already created and it&#39;s mismatching with your code?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580248570,"post_id":59956699,"comment_id":106034057,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/4088400/how-to-tell-jpa-the-prefered-datatype ?","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4088400/how-to-tell-jpa-the-prefered-datatype\" title=\"how to tell jpa the prefered datatype\">stackoverflow.com/questions/4088400/&hellip;</a> ?"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580251202,"post_id":59956699,"comment_id":106034925,"body_markdown":"The DB column is already defined. The project was using eclipse link to connect to the already existing table. When i removed eclipse link and using spring data jpa this pops up as an issue of mapping the DB column to my entity.","body":"The DB column is already defined. The project was using eclipse link to connect to the already existing table. When i removed eclipse link and using spring data jpa this pops up as an issue of mapping the DB column to my entity."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580276756,"post_id":59956699,"comment_id":106039913,"body_markdown":"So have you tried @Column(columnDefinition=&quot;varchar(255)&quot;) as mentioned in the linked question?","body":"So have you tried @Column(columnDefinition=&quot;varchar(255)&quot;) as mentioned in the linked question?"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580418757,"post_id":59956699,"comment_id":106101649,"body_markdown":"Yeah, i tried varchar as the column definition. Again the found always complains of enum (Types#CHAR)] so varchar doesnt come up as a match either.","body":"Yeah, i tried varchar as the column definition. Again the found always complains of enum (Types#CHAR)] so varchar doesnt come up as a match either."},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580418998,"post_id":59956699,"comment_id":106101732,"body_markdown":"I tried using annotated Type hibernate annotations like this:\nType(type = &quot;org.hibernate.type.EnumType&quot;,\n         parameters = {\n               @Parameter(name  = &quot;enumClass&quot;, value = &quot;&lt;package structure&gt;.Gender&quot;),\n               @Parameter(name = &quot;type&quot;, value = &quot;1111&quot;),\n               @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)\n         })\n\nbut somehow the enum is type is not being picked up when i use Type. It defaults to type trying to match enum of Type#CHAR to integer","body":"I tried using annotated Type hibernate annotations like this: Type(type = &quot;org.hibernate.type.EnumType&quot;,          parameters = {                @Parameter(name  = &quot;enumClass&quot;, value = &quot;&lt;package structure&gt;.Gender&quot;),                @Parameter(name = &quot;type&quot;, value = &quot;1111&quot;),                @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)          })  but somehow the enum is type is not being picked up when i use Type. It defaults to type trying to match enum of Type#CHAR to integer"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1581376398,"post_id":59956699,"comment_id":106405019,"body_markdown":"Since the table/DB is already created i have right now disabled spring auto ddl in my config. This solves the problem temporarily.","body":"Since the table/DB is already created i have right now disabled spring auto ddl in my config. This solves the problem temporarily."}],"answers":[{"tags":[],"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693604599,"creation_date":1693604599,"answer_id":77026113,"question_id":59956699,"body_markdown":"We had the same issue, we just needed to add the column definition to the mapping:\r\n```\r\n@Basic\r\n    @Column(name = &quot;stripe_setup_intent_status&quot;, columnDefinition = &quot;enum(&#39;SUCCESS&#39;, &#39;FAILED&#39;, &#39;WAITING&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private SetupIntentStatus stripeSetupIntentStatus;\r\n```\r\n\r\nWe are using hibernate `5.6.15` and spring `2.7.9`","title":"Schema validation exception for mapping ENUM Type MySQL to Hibernate Entity Enum","body":"<p>We had the same issue, we just needed to add the column definition to the mapping:</p>\n<pre><code>@Basic\n    @Column(name = &quot;stripe_setup_intent_status&quot;, columnDefinition = &quot;enum('SUCCESS', 'FAILED', 'WAITING')&quot;)\n    @Enumerated(EnumType.STRING)\n    private SetupIntentStatus stripeSetupIntentStatus;\n</code></pre>\n<p>We are using hibernate <code>5.6.15</code> and spring <code>2.7.9</code></p>\n"}],"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693604599,"creation_date":1580244138,"question_id":59956699,"body_markdown":"I am currently facing issue while trying to map MYSQL ENUM type to my Hibernate JPA enum type. I get a schema validation error.\r\nI have a simple enum in Java:\r\n\r\n    public enum Gender {\r\n        MALE,\r\n        FEMALE\r\n    }\r\n\r\nThe corresponding column definition for this is in MySQL Table is:\r\n\r\n    `gender` enum(&#39;MALE&#39;,&#39;FEMALE&#39;) DEFAULT NULL,\r\n\r\nThe annotations in the Entity class for this particular attribute is:\r\n\r\n       @Enumerated(EnumType.STRING)\r\n       @Column(name = &quot;gender&quot;, columnDefinition=&quot;enum(&#39;MALE&#39;,&#39;FEMALE&#39;)&quot;)\r\n       private Gender gender;\r\n\r\nI get an error as :\r\n\r\n&gt;  Schema-validation: wrong column type encountered in column [gender]\r\n&gt; in table [`...`]; found [enum (Types#CHAR)], but expecting\r\n&gt; [`enum(&#39;MALE&#39;,&#39;FEMALE&#39;)` (Types#VARCHAR)]\r\n\r\nI have tried not using the columnDefinition in @Column annotation and the error is:\r\n\r\n&gt; Schema-validation: wrong column type encountered in column [gender] in\r\n&gt; table [`...`]; found [enum (Types#CHAR)], but expecting [varchar(255)\r\n&gt; (Types#VARCHAR)]\r\n\r\nI also tried writing my own converter by as per the instructions in:https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping\r\nbut that didnt help either.\r\n\r\nAny idea?\r\n\r\nNote: When i was using EclipseLink there were no issues with my entity for the same DB definition and without explicitly defining my columnDefinition in @Column. I started facing this issue when i removed EclipseLink. The project uses Spring Data JPA right now. Hibernate Core 5.3.14 being used.","title":"Schema validation exception for mapping ENUM Type MySQL to Hibernate Entity Enum","body":"<p>I am currently facing issue while trying to map MYSQL ENUM type to my Hibernate JPA enum type. I get a schema validation error.\nI have a simple enum in Java:</p>\n\n<pre><code>public enum Gender {\n    MALE,\n    FEMALE\n}\n</code></pre>\n\n<p>The corresponding column definition for this is in MySQL Table is:</p>\n\n<pre><code>`gender` enum('MALE','FEMALE') DEFAULT NULL,\n</code></pre>\n\n<p>The annotations in the Entity class for this particular attribute is:</p>\n\n<pre><code>   @Enumerated(EnumType.STRING)\n   @Column(name = \"gender\", columnDefinition=\"enum('MALE','FEMALE')\")\n   private Gender gender;\n</code></pre>\n\n<p>I get an error as :</p>\n\n<blockquote>\n  <p>Schema-validation: wrong column type encountered in column [gender]\n  in table [<code>...</code>]; found [enum (Types#CHAR)], but expecting\n  [<code>enum('MALE','FEMALE')</code> (Types#VARCHAR)]</p>\n</blockquote>\n\n<p>I have tried not using the columnDefinition in @Column annotation and the error is:</p>\n\n<blockquote>\n  <p>Schema-validation: wrong column type encountered in column [gender] in\n  table [<code>...</code>]; found [enum (Types#CHAR)], but expecting [varchar(255)\n  (Types#VARCHAR)]</p>\n</blockquote>\n\n<p>I also tried writing my own converter by as per the instructions in:<a href=\"https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping\" rel=\"nofollow noreferrer\">https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping</a>\nbut that didnt help either.</p>\n\n<p>Any idea?</p>\n\n<p>Note: When i was using EclipseLink there were no issues with my entity for the same DB definition and without explicitly defining my columnDefinition in @Column. I started facing this issue when i removed EclipseLink. The project uses Spring Data JPA right now. Hibernate Core 5.3.14 being used.</p>\n"},{"tags":["java","rest","jpa","spring-boot","spring-rest"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1501059941,"post_id":45322118,"comment_id":77606377,"body_markdown":"can you try --&gt; @GeneratedValue(strategy = GenerationType.TABLE), this uses sequence table id assignment","body":"can you try --&gt; @GeneratedValue(strategy = GenerationType.TABLE), this uses sequence table id assignment"},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1501059986,"post_id":45322118,"comment_id":77606414,"body_markdown":"No, it does not work.","body":"No, it does not work."},{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1501060330,"post_id":45322118,"comment_id":77606679,"body_markdown":"@GeneratedValue(strategy = GenerationType.AUTO) will work, Ref: https://stackoverflow.com/questions/4102449/how-to-annotate-mysql-autoincrement-field-with-jpa-annotations","body":"@GeneratedValue(strategy = GenerationType.AUTO) will work, Ref: <a href=\"https://stackoverflow.com/questions/4102449/how-to-annotate-mysql-autoincrement-field-with-jpa-annotations\" title=\"how to annotate mysql autoincrement field with jpa annotations\">stackoverflow.com/questions/4102449/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501060283,"creation_date":1501060283,"answer_id":45322420,"question_id":45322118,"body_markdown":"To generate string uuid&#39;s for primary keys (as I assume you are trying to do) you can try the following code:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>To generate string uuid's for primary keys (as I assume you are trying to do) you can try the following code:</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"uuid\")\n@GenericGenerator(name = \"uuid\", strategy = \"uuid2\")\nprivate String id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1638238809,"creation_date":1501065399,"answer_id":45324494,"question_id":45322118,"body_markdown":"It was my bad, I was calling `foo(user.getId())` before saving the `User` object into the database.\r\nTakeaways from this: `@GeneratedValue(strategy=GenerationType.IDENTITY)` is the correct code and generates identical ids while saving to database&lt;sup&gt;1&lt;/sup&gt;. And `Long` is not a problem. Thanks.\r\n\r\n[1]: I am saving the object into the database by, something like: `userRepository.save(user)`.","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>It was my bad, I was calling <code>foo(user.getId())</code> before saving the <code>User</code> object into the database.\nTakeaways from this: <code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code> is the correct code and generates identical ids while saving to database<sup>1</sup>. And <code>Long</code> is not a problem. Thanks.</p>\n<p>[1]: I am saving the object into the database by, something like: <code>userRepository.save(user)</code>.</p>\n"},{"tags":[],"owner":{"account_id":24878573,"reputation":11,"user_id":18752073,"display_name":"Axman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665038348,"creation_date":1664571834,"answer_id":73913932,"question_id":45322118,"body_markdown":"Nothing is wrong WHETHER you do `@GeneratedValue(strategy=GenerationType.IDENTITY)` or `@GeneratedValue(strategy=GenerationType.TABLE)` in this particular problem. Any strategy works. ALL you have make sure is `@PathVariable` is used or not when you are passing `id`. ","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>Nothing is wrong WHETHER you do <code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code> or <code>@GeneratedValue(strategy=GenerationType.TABLE)</code> in this particular problem. Any strategy works. ALL you have make sure is <code>@PathVariable</code> is used or not when you are passing <code>id</code>.</p>\n"},{"tags":[],"owner":{"account_id":19144335,"reputation":11,"user_id":13983672,"display_name":"Mukti Barakoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693604582,"creation_date":1693604582,"answer_id":77026112,"question_id":45322118,"body_markdown":"Same issue encountered with `findById()` method while I was missing `@PathVariable(value=&quot;id&quot;)` ID id in `getIdSpecificResult()` method. This was a minor missing piece on my code. Reasons could be any though.","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>Same issue encountered with <code>findById()</code> method while I was missing <code>@PathVariable(value=&quot;id&quot;)</code> ID id in <code>getIdSpecificResult()</code> method. This was a minor missing piece on my code. Reasons could be any though.</p>\n"}],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60842,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45324494,"answer_count":4,"score":7,"last_activity_date":1693604582,"creation_date":1501059475,"question_id":45322118,"body_markdown":"My object:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n    \t@Id\r\n    \t@Column(name=&quot;uid&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n      \r\n      //more code\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhen I `POST` `user` `JSON` without `uid`, I am getting error as _the given id must not be null_. Which should not be the case while `uid` should be generated by the database. Please point what am I missing.\r\n\r\nJSON:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n    &quot;email&quot;: &quot;john@mail.com&quot;,\r\n    &quot;name&quot;: &quot;John Doe&quot;,\r\n    &quot;phone&quot;: &quot;98-765-4445&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nError:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n    &quot;timestamp&quot;: 1501058952038,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;exception&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException&quot;,\r\n    &quot;message&quot;: &quot;The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!&quot;,\r\n    &quot;path&quot;: &quot;/api/user/&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>My object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=\"user\")\npublic class User {\n    @Id\n    @Column(name=\"uid\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n  //more code\n }\n</code></pre>\n\n\n\n<p>When I <code>POST</code> <code>user</code> <code>JSON</code> without <code>uid</code>, I am getting error as <em>the given id must not be null</em>. Which should not be the case while <code>uid</code> should be generated by the database. Please point what am I missing.</p>\n\n<p>JSON:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n\"email\": \"john@mail.com\",\n\"name\": \"John Doe\",\n\"phone\": \"98-765-4445\"\n}\n</code></pre>\n\n\n\n<p>Error:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n\"timestamp\": 1501058952038,\n\"status\": 500,\n\"error\": \"Internal Server Error\",\n\"exception\": \"org.springframework.dao.InvalidDataAccessApiUsageException\",\n\"message\": \"The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!\",\n\"path\": \"/api/user/\"\n}\n</code></pre>\n\n\n"},{"tags":["java","unit-testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":297672,"reputation":925,"user_id":603309,"accept_rate":100,"display_name":"Kjellski"},"score":7,"creation_date":1349365812,"post_id":4757800,"comment_id":17195322,"body_markdown":"you could accept one as the answer, and I would prefer the one from @CrazyCoder...","body":"you could accept one as the answer, and I would prefer the one from @CrazyCoder..."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1416571351,"post_id":4757800,"comment_id":42636220,"body_markdown":"In fact none of the answers actually answers the question *&quot;How do I add the junit.jar to my project?*&quot;, yet 71 and 104 votes... SO never stops amazing me.","body":"In fact none of the answers actually answers the question <i>&quot;How do I add the junit.jar to my project?</i>&quot;, yet 71 and 104 votes... SO never stops amazing me."}],"answers":[{"tags":[],"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"down_vote_count":21,"up_vote_count":158,"is_accepted":true,"score":137,"last_activity_date":1488989454,"creation_date":1295606795,"answer_id":4757863,"question_id":4757800,"body_markdown":"Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; in the code editor.\r\nIt will show you popup with suggestion to create a test. \r\n\r\nMac OS: &lt;kbd&gt;⌘ Cmd&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt;","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> in the code editor.\nIt will show you popup with suggestion to create a test. </p>\n\n<p>Mac OS: <kbd>⌘ Cmd</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd></p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":2,"up_vote_count":200,"is_accepted":false,"score":198,"last_activity_date":1374388013,"creation_date":1295607298,"answer_id":4757951,"question_id":4757800,"body_markdown":"If you already have a test class, but missing the JUnit library dependency, please refer to\r\n[Configuring Libraries for Unit Testing][1] documentation section. Pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; on the red code should give you an intention action to add the missing jar.\r\n\r\nHowever, IDEA offers much more. If you don&#39;t have a test class yet and want to create one for any of the source classes, see instructions below.\r\n\r\nYou can use the **Create Test** intention action by pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; while standing on the name of your class inside the editor or by using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; keyboard shortcut.\r\n\r\nA dialog appears where you select what testing framework to use and press **Fix** button for the first time to add the required library jars to the module dependencies. You can also select methods to create the test stubs for.\r\n\r\n![Create Test Intention][2]\r\n\r\n![Create Test Dialog][3]\r\n\r\nYou can find more details in the [Testing help section][4] of the on-line documentation.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html\r\n  [2]: http://i.stack.imgur.com/1pnVQ.png\r\n  [3]: http://i.stack.imgur.com/kWulJ.png\r\n  [4]: http://www.jetbrains.com/idea/webhelp/testing.html","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>If you already have a test class, but missing the JUnit library dependency, please refer to\n<a href=\"http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html\" rel=\"noreferrer\">Configuring Libraries for Unit Testing</a> documentation section. Pressing <kbd>Alt</kbd>+<kbd>Enter</kbd> on the red code should give you an intention action to add the missing jar.</p>\n\n<p>However, IDEA offers much more. If you don't have a test class yet and want to create one for any of the source classes, see instructions below.</p>\n\n<p>You can use the <strong>Create Test</strong> intention action by pressing <kbd>Alt</kbd>+<kbd>Enter</kbd> while standing on the name of your class inside the editor or by using <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> keyboard shortcut.</p>\n\n<p>A dialog appears where you select what testing framework to use and press <strong>Fix</strong> button for the first time to add the required library jars to the module dependencies. You can also select methods to create the test stubs for.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1pnVQ.png\" alt=\"Create Test Intention\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/kWulJ.png\" alt=\"Create Test Dialog\"></p>\n\n<p>You can find more details in the <a href=\"http://www.jetbrains.com/idea/webhelp/testing.html\" rel=\"noreferrer\">Testing help section</a> of the on-line documentation.</p>\n"},{"tags":[],"owner":{"account_id":2334871,"reputation":2281,"user_id":2047442,"display_name":"irudyak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424278464,"creation_date":1424278464,"answer_id":28589219,"question_id":4757800,"body_markdown":"If you **already** have test classes you may:\r\n\r\n1) Put a cursor on a class declaration and press `Alt` + `Enter`. In the dialogue choose JUnit and press `Fix`. This is a standard way to create test classes in IntelliJ.\r\n\r\n2) Alternatively you may add JUnit jars manually (download from site or take from IntelliJ files).\r\n\r\n","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>If you <strong>already</strong> have test classes you may:</p>\n\n<p>1) Put a cursor on a class declaration and press <code>Alt</code> + <code>Enter</code>. In the dialogue choose JUnit and press <code>Fix</code>. This is a standard way to create test classes in IntelliJ.</p>\n\n<p>2) Alternatively you may add JUnit jars manually (download from site or take from IntelliJ files).</p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1565712706,"creation_date":1520152181,"answer_id":49093466,"question_id":4757800,"body_markdown":"One way of doing this is to do add junit.jar to your `$CLASSPATH` as an external dependency.\r\n\r\n[![adding junit intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0UiY8.gif\r\n\r\nSo to do that, go to project structure, and then add JUnit as one of the libraries as shown in the gif.\r\n\r\nIn the &#39;Choose Modules&#39; prompt choose only the modules that you&#39;d need JUnit for.","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>One way of doing this is to do add junit.jar to your <code>$CLASSPATH</code> as an external dependency.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0UiY8.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0UiY8.gif\" alt=\"adding junit intellij\"></a></p>\n\n<p>So to do that, go to project structure, and then add JUnit as one of the libraries as shown in the gif.</p>\n\n<p>In the 'Choose Modules' prompt choose only the modules that you'd need JUnit for.</p>\n"},{"tags":[],"owner":{"account_id":273736,"reputation":15541,"user_id":565525,"display_name":"Robert Lujo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603134969,"creation_date":1603134574,"answer_id":64433728,"question_id":4757800,"body_markdown":"In my case (IntelliJ 2020-02, Kotlin dev) JUnit library was already included by Create project wizard. I needed to enable JUnit plugin: \r\n\r\n[![IntelliJ JUnit plugin][1]][1]\r\n\r\nto get green Run test icons next to each test class and method:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand CTRL+Shift+R will run test under caret, and CTRL+shift+D to debug.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1UzP.png\r\n  [2]: https://i.stack.imgur.com/5GQo9.png","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>In my case (IntelliJ 2020-02, Kotlin dev) JUnit library was already included by Create project wizard. I needed to enable JUnit plugin:</p>\n<p><a href=\"https://i.stack.imgur.com/r1UzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1UzP.png\" alt=\"IntelliJ JUnit plugin\" /></a></p>\n<p>to get green Run test icons next to each test class and method:</p>\n<p><a href=\"https://i.stack.imgur.com/5GQo9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5GQo9.png\" alt=\"enter image description here\" /></a></p>\n<p>and CTRL+Shift+R will run test under caret, and CTRL+shift+D to debug.</p>\n"}],"owner":{"account_id":158386,"reputation":3293,"user_id":376980,"accept_rate":60,"display_name":"Bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232212,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"accepted_answer_id":4757863,"answer_count":5,"score":185,"last_activity_date":1693603033,"creation_date":1295606347,"question_id":4757800,"body_markdown":"I decided to try out IntelliJ this morning via the trial version and installed the JUnit plugin. I made a new Java project and I want to write a test case for it.\r\n\r\nHow do I add the junit.jar file to my project? (I actually want to add it to every java project, now and forever more - is there a way of doing that?).\r\n","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>I decided to try out IntelliJ this morning via the trial version and installed the JUnit plugin. I made a new Java project and I want to write a test case for it.</p>\n\n<p>How do I add the junit.jar file to my project? (I actually want to add it to every java project, now and forever more - is there a way of doing that?).</p>\n"},{"tags":["java","junit","constructor","initialization"],"comments":[{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1424363621,"post_id":6094081,"comment_id":45527058,"body_markdown":"possible duplicate of [setUp/tearDown (@Before/@After) why we need them in JUnit?](http://stackoverflow.com/questions/3648712/setup-teardown-before-after-why-we-need-them-in-junit)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3648712/setup-teardown-before-after-why-we-need-them-in-junit\">setUp/tearDown (@Before/@After) why we need them in JUnit?</a>"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1458225619,"post_id":6094081,"comment_id":59773942,"body_markdown":"See also: http://stackoverflow.com/questions/512184/best-practice-initialize-junit-class-fields-in-setup-or-at-declaration","body":"See also: <a href=\"http://stackoverflow.com/questions/512184/best-practice-initialize-junit-class-fields-in-setup-or-at-declaration\" title=\"best practice initialize junit class fields in setup or at declaration\">stackoverflow.com/questions/512184/&hellip;</a>"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1550144402,"post_id":6094081,"comment_id":96166721,"body_markdown":"Are you sure you mean `@Before`, not `@BeforeClass`? Check the difference [here](https://stackoverflow.com/questions/20295578/difference-between-before-beforeclass-beforeeach-and-beforeall).","body":"Are you sure you mean <code>@Before</code>, not <code>@BeforeClass</code>? Check the difference <a href=\"https://stackoverflow.com/questions/20295578/difference-between-before-beforeclass-beforeeach-and-beforeall\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1516154119,"creation_date":1306135805,"answer_id":6094143,"question_id":6094081,"body_markdown":"No, using the constructor to initialize your JUnit test fixture is technically equal to using the `@Before` method (due to the fact that JUnit creates a new instance of the testing class for each `@Test`). The only (connotational) difference is that it breaks the symmetry between `@Before` and `@After`, which may be confusing for some. IMHO it is better to adhere to conventions (which is using `@Before`).\r\n\r\nNote also that prior to JUnit 4 and annotations, there were dedicated `setUp()` and `tearDown()` methods - the `@Before` and `@After` annotations replace these, but preserve the underlying logic. So using the annotations also makes life easier for someone migrating from JUnit 3 or earlier versions.\r\n\r\n## Notable differences\r\n\r\nMore details from comments:\r\n\r\n* `@Before` allows overriding parent class behavior, constructors force you to call parent class constructors\r\n* The constructor runs *before* subclass constructors and `@Rule` methods, `@Before` runs *after* all of those\r\n* Exceptions during `@Before` cause `@After` methods to be called, Exceptions in constructor don&#39;t","title":"JUnit: using constructor instead of @Before","body":"<p>No, using the constructor to initialize your JUnit test fixture is technically equal to using the <code>@Before</code> method (due to the fact that JUnit creates a new instance of the testing class for each <code>@Test</code>). The only (connotational) difference is that it breaks the symmetry between <code>@Before</code> and <code>@After</code>, which may be confusing for some. IMHO it is better to adhere to conventions (which is using <code>@Before</code>).</p>\n\n<p>Note also that prior to JUnit 4 and annotations, there were dedicated <code>setUp()</code> and <code>tearDown()</code> methods - the <code>@Before</code> and <code>@After</code> annotations replace these, but preserve the underlying logic. So using the annotations also makes life easier for someone migrating from JUnit 3 or earlier versions.</p>\n\n<h2>Notable differences</h2>\n\n<p>More details from comments:</p>\n\n<ul>\n<li><code>@Before</code> allows overriding parent class behavior, constructors force you to call parent class constructors</li>\n<li>The constructor runs <em>before</em> subclass constructors and <code>@Rule</code> methods, <code>@Before</code> runs <em>after</em> all of those</li>\n<li>Exceptions during <code>@Before</code> cause <code>@After</code> methods to be called, Exceptions in constructor don't</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306135854,"creation_date":1306135854,"answer_id":6094152,"question_id":6094081,"body_markdown":"`@Before` does make sense to use for several reasons. It makes your test code more readable. It matches `@After` annotation which is responsible for releasing used resources and is a counterpart of the `@BeforeClass` annotation.","title":"JUnit: using constructor instead of @Before","body":"<p><code>@Before</code> does make sense to use for several reasons. It makes your test code more readable. It matches <code>@After</code> annotation which is responsible for releasing used resources and is a counterpart of the <code>@BeforeClass</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313064109,"creation_date":1313064109,"answer_id":7025471,"question_id":6094081,"body_markdown":"I prefer to declare my fixtures as final and initialize them inline or in the constructor so I don&#39;t forget to initialize them! However, since exceptions thrown in @Before are handled in a more user-friendly way, I usually initialize the object under test in @Before.","title":"JUnit: using constructor instead of @Before","body":"<p>I prefer to declare my fixtures as final and initialize them inline or in the constructor so I don't forget to initialize them! However, since exceptions thrown in @Before are handled in a more user-friendly way, I usually initialize the object under test in @Before.</p>\n"},{"tags":[],"owner":{"account_id":1790954,"reputation":341,"user_id":1631381,"display_name":"HopefullyHelpful"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1347305048,"creation_date":1347305048,"answer_id":12358149,"question_id":6094081,"body_markdown":"@Before makes more sense to use in certain cases because it gets called AFTER the constructor for the class.  This difference is important when you&#39;re using a mock framework like Mockito with @Mock annotations, because your @Before method will be called after the mocks are initialized.  Then you can use your mocks to provide constructor arguments to the class under test.\r\n\r\nI find this to be a very common pattern in my unit tests when using collaborating beans.\r\n\r\nHere&#39;s an (admittedly contrived) example:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CalculatorTest {\r\n        @Mock Adder adder;\r\n        @Mock Subtractor subtractor;\r\n        @Mock Divider divider;\r\n        @Mock Multiplier multiplier;\r\n        \r\n        Calculator calculator;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            calculator = new Calculator(adder,subtractor,divider,multiplier);\r\n        }\r\n        \r\n        @Test\r\n        public void testAdd() {\r\n            BigDecimal value = calculator.add(2,2);\r\n            verify(adder).add(eq(2),eq(2));\r\n        }\r\n    }","title":"JUnit: using constructor instead of @Before","body":"<p>@Before makes more sense to use in certain cases because it gets called AFTER the constructor for the class.  This difference is important when you're using a mock framework like Mockito with @Mock annotations, because your @Before method will be called after the mocks are initialized.  Then you can use your mocks to provide constructor arguments to the class under test.</p>\n\n<p>I find this to be a very common pattern in my unit tests when using collaborating beans.</p>\n\n<p>Here's an (admittedly contrived) example:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CalculatorTest {\n    @Mock Adder adder;\n    @Mock Subtractor subtractor;\n    @Mock Divider divider;\n    @Mock Multiplier multiplier;\n\n    Calculator calculator;\n\n    @Before\n    public void setUp() {\n        calculator = new Calculator(adder,subtractor,divider,multiplier);\n    }\n\n    @Test\n    public void testAdd() {\n        BigDecimal value = calculator.add(2,2);\n        verify(adder).add(eq(2),eq(2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594829741,"creation_date":1412282993,"answer_id":26169440,"question_id":6094081,"body_markdown":"I prefer to use constructors to initialize my test objects because it allows me to make all the members `final` so that the IDE or compiler will tell me when the *constructor* forgot to initialize a member and prevent another method from setting them.\r\n\r\nIMHO, `@Before` violates one of the most important Java conventions, that of relying on the constructor to completely initalize objects!\r\n\r\nJUnit 5 also has better support for constructor injection.","title":"JUnit: using constructor instead of @Before","body":"<p>I prefer to use constructors to initialize my test objects because it allows me to make all the members <code>final</code> so that the IDE or compiler will tell me when the <em>constructor</em> forgot to initialize a member and prevent another method from setting them.</p>\n<p>IMHO, <code>@Before</code> violates one of the most important Java conventions, that of relying on the constructor to completely initalize objects!</p>\n<p>JUnit 5 also has better support for constructor injection.</p>\n"},{"tags":[],"owner":{"account_id":1721420,"reputation":489,"user_id":1577166,"display_name":"ayun12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479631503,"creation_date":1479631503,"answer_id":40702188,"question_id":6094081,"body_markdown":"There is no difference except that the constructor is the only method ehere can initialize the @Rule objects:\r\n\r\n    public class TestClass {\r\n\r\n        @Rule\r\n        public SomeRule rule;\r\n        \r\n        public TestClass() {\r\n            // code to initialize the rule field\r\n            conf = new RuleConf()\r\n            rule = new SomeRule(conf)\r\n        }\r\n    }\r\n","title":"JUnit: using constructor instead of @Before","body":"<p>There is no difference except that the constructor is the only method ehere can initialize the @Rule objects:</p>\n\n<pre><code>public class TestClass {\n\n    @Rule\n    public SomeRule rule;\n\n    public TestClass() {\n        // code to initialize the rule field\n        conf = new RuleConf()\n        rule = new SomeRule(conf)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514360388,"creation_date":1514360388,"answer_id":47988229,"question_id":6094081,"body_markdown":"There is one thing that *constructor* can archive but not *@Before*.\r\n\r\nYou have to use a constructor when you need to initial fields defined in parent class. For example:\r\n\r\n    abstract class AbstractIT {\r\n       int fieldAssignedInSubClass;\r\n       public AbstractIT(int fieldAssignedInSubClass) {\r\n          this.fieldAssignedInSubClass= fieldAssignedInSubClass;\r\n       }\r\n\r\n       @Before\r\n       void before() {\r\n          // comsume fieldAssignedInSubClass\r\n       } \r\n    }\r\n\r\n    public class ChildIT extends AbstractIT{\r\n       public ChildIT() {\r\n          // assign fieldAssignedInSubClass by constructor\r\n          super(5566); \r\n       }\r\n\r\n       @Before\r\n       void before() {\r\n          // you cannot assign fieldAssignedInSubClass by a @Before method\r\n       } \r\n    }\r\n\r\n","title":"JUnit: using constructor instead of @Before","body":"<p>There is one thing that <em>constructor</em> can archive but not <em>@Before</em>.</p>\n\n<p>You have to use a constructor when you need to initial fields defined in parent class. For example:</p>\n\n<pre><code>abstract class AbstractIT {\n   int fieldAssignedInSubClass;\n   public AbstractIT(int fieldAssignedInSubClass) {\n      this.fieldAssignedInSubClass= fieldAssignedInSubClass;\n   }\n\n   @Before\n   void before() {\n      // comsume fieldAssignedInSubClass\n   } \n}\n\npublic class ChildIT extends AbstractIT{\n   public ChildIT() {\n      // assign fieldAssignedInSubClass by constructor\n      super(5566); \n   }\n\n   @Before\n   void before() {\n      // you cannot assign fieldAssignedInSubClass by a @Before method\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2986790,"reputation":2364,"user_id":5618307,"display_name":"IqbalHamid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547477777,"creation_date":1547477777,"answer_id":54183846,"question_id":6094081,"body_markdown":"Quote from http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\r\n\r\n&gt; You may be wondering why you should write a setUp( ) method instead of\r\n&gt; simply initializing fields in a test case&#39;s constructor. After all,\r\n&gt; since a new instance of the test case is created for each of its test\r\n&gt; methods, the constructor is always called before setUp( ). In a vast\r\n&gt; majority of cases, you can use the constructor instead of setUp( )\r\n&gt; without any side effects.\r\n&gt; \r\n&gt; In cases where your test case is part of a deeper inheritance\r\n&gt; hierarchy, you may wish to postpone object initialization until\r\n&gt; instances of derived classes are fully constructed. This is a good\r\n&gt; technical reason why you might want to use setUp( ) instead of a\r\n&gt; constructor for initialization. Using setUp( ) and tearDown( ) is also\r\n&gt; good for documentation purposes, simply because it may make the code\r\n&gt; easier to read.","title":"JUnit: using constructor instead of @Before","body":"<p>Quote from <a href=\"http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\" rel=\"nofollow noreferrer\">http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/</a></p>\n\n<blockquote>\n  <p>You may be wondering why you should write a setUp( ) method instead of\n  simply initializing fields in a test case's constructor. After all,\n  since a new instance of the test case is created for each of its test\n  methods, the constructor is always called before setUp( ). In a vast\n  majority of cases, you can use the constructor instead of setUp( )\n  without any side effects.</p>\n  \n  <p>In cases where your test case is part of a deeper inheritance\n  hierarchy, you may wish to postpone object initialization until\n  instances of derived classes are fully constructed. This is a good\n  technical reason why you might want to use setUp( ) instead of a\n  constructor for initialization. Using setUp( ) and tearDown( ) is also\n  good for documentation purposes, simply because it may make the code\n  easier to read.</p>\n</blockquote>\n"}],"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59322,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":6094143,"answer_count":8,"score":100,"last_activity_date":1693602757,"creation_date":1306135346,"question_id":6094081,"body_markdown":"I&#39;m using JUnit 4. I can&#39;t see the difference between initializing in the constructor or using a dedicated init function annotated by `@Before`. Does this mean that I don&#39;t have to worry about it?\r\n\r\nIs there any case when `@Before` gives more than just initializing in the constructor?","title":"JUnit: using constructor instead of @Before","body":"<p>I'm using JUnit 4. I can't see the difference between initializing in the constructor or using a dedicated init function annotated by <code>@Before</code>. Does this mean that I don't have to worry about it?</p>\n\n<p>Is there any case when <code>@Before</code> gives more than just initializing in the constructor?</p>\n"},{"tags":["java","multithreading","x86","spinlock","happens-before"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1693614351,"post_id":77025559,"comment_id":135788534,"body_markdown":"x86 `lock cmpxchg` doesn&#39;t have spurious failures. It waits for exclusive ownership of the cache line.  (It doesn&#39;t need to lock the whole bus, though; that was only true in much older CPUs). There&#39;s no difference between CAS_weak and CAS_strong on x86, only on ISAs like ARMv7, and ARMv8 before ARMv8.1, where CAS_weak can be one LL/SC (`ldrex` / `stlex`) without a retry loop which CAS_strong needs.  https://en.wikipedia.org/wiki/Load-link/store-conditional","body":"x86 <code>lock cmpxchg</code> doesn&#39;t have spurious failures. It waits for exclusive ownership of the cache line.  (It doesn&#39;t need to lock the whole bus, though; that was only true in much older CPUs). There&#39;s no difference between CAS_weak and CAS_strong on x86, only on ISAs like ARMv7, and ARMv8 before ARMv8.1, where CAS_weak can be one LL/SC (<code>ldrex</code> / <code>stlex</code>) without a retry loop which CAS_strong needs.  <a href=\"https://en.wikipedia.org/wiki/Load-link/store-conditional\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Load-link/store-conditional</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1693615092,"post_id":77025559,"comment_id":135788573,"body_markdown":"Related: [c++11: how to produce &quot;spurious failures&quot; upon compare\\_exchange\\_weak?](https://stackoverflow.com/q/72766332) /  [std::atomic | compare\\_exchange\\_weak vs. compare\\_exchange\\_strong](https://stackoverflow.com/q/4944771) and [what&#39;s the difference between compareAndSet and weakCompareAndSet in AtomicReference?](https://stackoverflow.com/q/36428044)","body":"Related: <a href=\"https://stackoverflow.com/q/72766332\">c++11: how to produce &quot;spurious failures&quot; upon compare_exchange_weak?</a> /  <a href=\"https://stackoverflow.com/q/4944771\">std::atomic | compare_exchange_weak vs. compare_exchange_strong</a> and <a href=\"https://stackoverflow.com/q/36428044\">what&#39;s the difference between compareAndSet and weakCompareAndSet in AtomicReference?</a>"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693618100,"post_id":77025559,"comment_id":135788723,"body_markdown":"Thanks @PeterCordes, this is not the first time I&#39;ve been asking a variation of this question, which you&#39;ve answered yourself previously, so thanks. it has been difficult for me to finally do a good question; I think I finally found the perfect way to express the doubts I had about this.\nIMO it is really sad that processors seem to b getting rid of CAS_weak, it seems that CAS_weak has ten times the utility that strong has,at least for all the code I&#39;ve seen where programmers work with volatile updatable variables at least 80% of it would&#39;ve been benefited from the weak version... if they knew","body":"Thanks @PeterCordes, this is not the first time I&#39;ve been asking a variation of this question, which you&#39;ve answered yourself previously, so thanks. it has been difficult for me to finally do a good question; I think I finally found the perfect way to express the doubts I had about this. IMO it is really sad that processors seem to b getting rid of CAS_weak, it seems that CAS_weak has ten times the utility that strong has,at least for all the code I&#39;ve seen where programmers work with volatile updatable variables at least 80% of it would&#39;ve been benefited from the weak version... if they knew"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693619107,"post_id":77025559,"comment_id":135788766,"body_markdown":"Weirdly enough, the only one giving a concise reason for the failure, is your [answer](http://https://stackoverflow.com/questions/72766332/c11-how-to-produce-spurious-failures-upon-compare-exchange-weak) which states: &quot;not merely(failing) from competition for the cache line from other threads.&quot; which aling with my assumption that the strong implementation does an inner spin. Not even the LL/SC wikipedia page explicitly states the reason.","body":"Weirdly enough, the only one giving a concise reason for the failure, is your <a href=\"http://https://stackoverflow.com/questions/72766332/c11-how-to-produce-spurious-failures-upon-compare-exchange-weak\" rel=\"nofollow noreferrer\">answer</a> which states: &quot;not merely(failing) from competition for the cache line from other threads.&quot; which aling with my assumption that the strong implementation does an inner spin. Not even the LL/SC wikipedia page explicitly states the reason."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693619119,"post_id":77025559,"comment_id":135788768,"body_markdown":"Also this other [answer](https://stackoverflow.com/questions/36428044/whats-the-difference-between-compareandset-and-weakcompareandset-in-atomicrefer) you linked which states: &quot;a strong CAS implementation based on it has to loop internally&quot;.","body":"Also this other <a href=\"https://stackoverflow.com/questions/36428044/whats-the-difference-between-compareandset-and-weakcompareandset-in-atomicrefer\">answer</a> you linked which states: &quot;a strong CAS implementation based on it has to loop internally&quot;."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1693623434,"post_id":77025559,"comment_id":135788943,"body_markdown":"*it seems that CAS_weak has ten times the utility that strong has* - huh, How do you mean?  If you want to avoid dirtying the cache line on failure with a single-instruction CAS, check read-only with `.load(relaxed)` before trying the CAS at all.  (e.g. in the retry path for a spinlock).  [C optimization: conditional store to avoid dirtying a cache line](https://stackoverflow.com/q/22717010)  and discussion in comments on [Does cmpxchg write destination cache line on failure? If not, is it better than xchg for spinlock?](https://stackoverflow.com/q/63008857)","body":"<i>it seems that CAS_weak has ten times the utility that strong has</i> - huh, How do you mean?  If you want to avoid dirtying the cache line on failure with a single-instruction CAS, check read-only with <code>.load(relaxed)</code> before trying the CAS at all.  (e.g. in the retry path for a spinlock).  <a href=\"https://stackoverflow.com/q/22717010\">C optimization: conditional store to avoid dirtying a cache line</a>  and discussion in comments on <a href=\"https://stackoverflow.com/q/63008857\">Does cmpxchg write destination cache line on failure? If not, is it better than xchg for spinlock?</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1693623648,"post_id":77025559,"comment_id":135788956,"body_markdown":"It&#39;s not like hardware single-instruction CAS loops internally, though.  It&#39;s normally implemented by getting the cache to delay responding to MESI requests to share or invalidate the line until after the check and store of the new value happen.  This is very cheap.  LL/SC just reports failure of the transaction because as separate instructions, the hardware can&#39;t let sofware deadlock the machine.  But as a single instruction, the hardware knows the unlock is coming right away, so it can effectively make a transaction.","body":"It&#39;s not like hardware single-instruction CAS loops internally, though.  It&#39;s normally implemented by getting the cache to delay responding to MESI requests to share or invalidate the line until after the check and store of the new value happen.  This is very cheap.  LL/SC just reports failure of the transaction because as separate instructions, the hardware can&#39;t let sofware deadlock the machine.  But as a single instruction, the hardware knows the unlock is coming right away, so it can effectively make a transaction."}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693615119,"answer_count":0,"score":1,"last_activity_date":1693602403,"creation_date":1693596124,"question_id":77025559,"body_markdown":"I&#39;ve seen the argument that the reson why it is named &quot;weak&quot;, is because the &quot;strong&quot; version has happens-before &quot;orderings&quot; behavior.\r\n\r\nIn my understanding &quot;Happens before&quot; is a term that denotes memory consistency, NOT sequential execution OR strong memory ordering, it always confuses me since people talk interchangeably about these things.\r\n\r\nIf you think deeply about reordering and how such an interaction would relate to the LOCK prefix, it simply makes little sense.\r\n\r\nThere are degrees of reordering, one that happens at compile and the other at runtime. If some sort of mechanism would kick at the LOCK prefix... How would that look like?... a runtime inlining of the spinlock while fencing the entire while loop for each of the concurrent lines of code accessing it??\r\n\r\nMy understanding of what the Happens-Before behavior entails, is that it ENSURES to tell you what happened before your **current action**... BUT this *current action* MAY OR MAY NOT follow a **sequential consistency of execution** among other concurrent actions AND the code the actions is comprised of may have been reordered prior to such execution... meaning that race conditions still apply and... NONE OF THIS INVOLVES reordering.\r\n\r\nIf we Have 2 twin threads: same code, same shared memories, their code may been reordered FROM THE START, even before reaching the atomic pressure point, and a strong `compareAndSet` will not prevent this reordering(?), it will simply ensure the happens-before as in:\r\n\r\n**&quot;A losing Thread can ATTEST that this was the memory&#39;s state (witness) before it arrived&quot;-type of Happens-Before... the only type of happens-before.**\r\n\r\nThis is NOT reordering; this is NOT sequential consistency of execution.\r\n\r\nAccording to the LOCK prefix, once the instruction attempts a BUS entrance and sees it as being locked, it will NOT re-attempt to acquire it(?), it will simply escape with a failure(?).\r\n\r\nIf this is true, then **the retry-acquire behavior IS NOT INTRINSIC to the LOCK prefix**. and it becomes a responsibility of the higher level to attempt a retry.\r\n\r\nIf the `LOCK + cmpxchg` combo applied by the Java&#39;s strong `compareAndSet` ensures a &quot;happens-before&quot; it means that when the LOCK acquiring fails, a native spin will RETRY to acquire the lock, and only when acquired, it is able to stablish a mutually exclusive read and write coupling... the term ([LL/SC][1]) *seems* to be an abstraction describing the resulting behavior, but NOT the &quot;HOW ITS ACHIEVED&quot;, and I haven&#39;t seen literature explaining it at depth.\r\n\r\nBut the Happens Before is NOT intrinsic to the `cmpxchng` it is a consequence of the RETRY attempt spin that, without it, it would fail and escape to your side (the side of the programmer) with no witness, just a failure.\r\n\r\n**And so, could we say that &quot;strong&quot; CAS-sing **is contentious**, because it spins until the BUS is freed(??).**\r\n\r\nIf we analyze the implication that `weakCompareAndSet` may fail EVEN if the expected value matches, this would fit into this interpretation since, the instruction fails simply by encountering contention (a locked BUS), If the bus is locked it doesn&#39;t matter which state it&#39;s memory is or will be because it will not reattempt to acquire the lock, so if it&#39;s future memory state matches the expected value, it won&#39;t matter because what matters for the weak version is that it **ENCOUNTERED CONTENTION**.\r\n\r\n**And so, could we say that &quot;weak&quot; CASing is **non-contentious**, because it will return if the BUS is locked(??).**\r\n\r\nIMO the best evidence in favor of this argument is that EVERY part of the Java source code that uses the `weakCompareAdnSet` is ALWAYS done on superficial spinlock situations that DO NOT read a constant value, like a `true`, a `false`, an `enum` or constant... instead it is always done on a variable that is read via high-level volatile read, and which failure will always be followed up by a retry high-level spinlock.\r\n\r\nThis means that they ARE SURE that the value of the `expected` obtained via high-level volatile read, can surely be dismissed when **contention is met**, so they escape to the superficial level (programmer&#39;s side) as soon as possible and reattempt... instead of natively spinning to acquire a LOCK on a `cmpxchg` that will surely return a false on the comparison check.\r\n\r\nIs my interpretation of this true? If you have some literature that I could read, it would be greatly appreciated, thanks.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Load-link/store-conditional","title":"Is weakCompareAndSet&#39;s &quot;Spurious failure&quot; simply the presence of contention in the LOCK prefix?","body":"<p>I've seen the argument that the reson why it is named &quot;weak&quot;, is because the &quot;strong&quot; version has happens-before &quot;orderings&quot; behavior.</p>\n<p>In my understanding &quot;Happens before&quot; is a term that denotes memory consistency, NOT sequential execution OR strong memory ordering, it always confuses me since people talk interchangeably about these things.</p>\n<p>If you think deeply about reordering and how such an interaction would relate to the LOCK prefix, it simply makes little sense.</p>\n<p>There are degrees of reordering, one that happens at compile and the other at runtime. If some sort of mechanism would kick at the LOCK prefix... How would that look like?... a runtime inlining of the spinlock while fencing the entire while loop for each of the concurrent lines of code accessing it??</p>\n<p>My understanding of what the Happens-Before behavior entails, is that it ENSURES to tell you what happened before your <strong>current action</strong>... BUT this <em>current action</em> MAY OR MAY NOT follow a <strong>sequential consistency of execution</strong> among other concurrent actions AND the code the actions is comprised of may have been reordered prior to such execution... meaning that race conditions still apply and... NONE OF THIS INVOLVES reordering.</p>\n<p>If we Have 2 twin threads: same code, same shared memories, their code may been reordered FROM THE START, even before reaching the atomic pressure point, and a strong <code>compareAndSet</code> will not prevent this reordering(?), it will simply ensure the happens-before as in:</p>\n<p><strong>&quot;A losing Thread can ATTEST that this was the memory's state (witness) before it arrived&quot;-type of Happens-Before... the only type of happens-before.</strong></p>\n<p>This is NOT reordering; this is NOT sequential consistency of execution.</p>\n<p>According to the LOCK prefix, once the instruction attempts a BUS entrance and sees it as being locked, it will NOT re-attempt to acquire it(?), it will simply escape with a failure(?).</p>\n<p>If this is true, then <strong>the retry-acquire behavior IS NOT INTRINSIC to the LOCK prefix</strong>. and it becomes a responsibility of the higher level to attempt a retry.</p>\n<p>If the <code>LOCK + cmpxchg</code> combo applied by the Java's strong <code>compareAndSet</code> ensures a &quot;happens-before&quot; it means that when the LOCK acquiring fails, a native spin will RETRY to acquire the lock, and only when acquired, it is able to stablish a mutually exclusive read and write coupling... the term (<a href=\"https://en.wikipedia.org/wiki/Load-link/store-conditional\" rel=\"nofollow noreferrer\">LL/SC</a>) <em>seems</em> to be an abstraction describing the resulting behavior, but NOT the &quot;HOW ITS ACHIEVED&quot;, and I haven't seen literature explaining it at depth.</p>\n<p>But the Happens Before is NOT intrinsic to the <code>cmpxchng</code> it is a consequence of the RETRY attempt spin that, without it, it would fail and escape to your side (the side of the programmer) with no witness, just a failure.</p>\n<p><strong>And so, could we say that &quot;strong&quot; CAS-sing <strong>is contentious</strong>, because it spins until the BUS is freed(??).</strong></p>\n<p>If we analyze the implication that <code>weakCompareAndSet</code> may fail EVEN if the expected value matches, this would fit into this interpretation since, the instruction fails simply by encountering contention (a locked BUS), If the bus is locked it doesn't matter which state it's memory is or will be because it will not reattempt to acquire the lock, so if it's future memory state matches the expected value, it won't matter because what matters for the weak version is that it <strong>ENCOUNTERED CONTENTION</strong>.</p>\n<p><strong>And so, could we say that &quot;weak&quot; CASing is <strong>non-contentious</strong>, because it will return if the BUS is locked(??).</strong></p>\n<p>IMO the best evidence in favor of this argument is that EVERY part of the Java source code that uses the <code>weakCompareAdnSet</code> is ALWAYS done on superficial spinlock situations that DO NOT read a constant value, like a <code>true</code>, a <code>false</code>, an <code>enum</code> or constant... instead it is always done on a variable that is read via high-level volatile read, and which failure will always be followed up by a retry high-level spinlock.</p>\n<p>This means that they ARE SURE that the value of the <code>expected</code> obtained via high-level volatile read, can surely be dismissed when <strong>contention is met</strong>, so they escape to the superficial level (programmer's side) as soon as possible and reattempt... instead of natively spinning to acquire a LOCK on a <code>cmpxchg</code> that will surely return a false on the comparison check.</p>\n<p>Is my interpretation of this true? If you have some literature that I could read, it would be greatly appreciated, thanks.</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1520734551,"post_id":49215912,"comment_id":85436034,"body_markdown":"You&#39;ll probably need to write your own `Collector`. You also need to decide what result should be, if the objects of the stream are not all of the same type.","body":"You&#39;ll probably need to write your own <code>Collector</code>. You also need to decide what result should be, if the objects of the stream are not all of the same type."},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1520792064,"post_id":49215912,"comment_id":85450264,"body_markdown":"In the case of two fields (like name and age) you can write a simple solution using &#39;&#39;&#39;Collectors.toMap&#39;&#39;&#39; and &#39;&#39;&#39;Collectors.collectingandThen&#39;&#39;&#39;, but it gets more complicated in the more generic case and you probably need to write your custom Collector as  @Andreas has said.","body":"In the case of two fields (like name and age) you can write a simple solution using &#39;&#39;&#39;Collectors.toMap&#39;&#39;&#39; and &#39;&#39;&#39;Collectors.collectingandThen&#39;&#39;&#39;, but it gets more complicated in the more generic case and you probably need to write your custom Collector as  @Andreas has said."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1520792336,"post_id":49215912,"comment_id":85450359,"body_markdown":"@alainlompo Map could only be used if you&#39;re absolute sure that names are unique. Since there is more that one [Zhang Wei](https://www.quora.com/What-is-the-most-common-full-name-in-the-world) (or [James Smith](https://blogs.ancestry.com/cm/calling-james-smith-10-most-common-first-and-surname-combinations/)) in the world, you can&#39;t guarantee that, so Map is not a good choice.","body":"@alainlompo Map could only be used if you&#39;re absolute sure that names are unique. Since there is more that one <a href=\"https://www.quora.com/What-is-the-most-common-full-name-in-the-world\" rel=\"nofollow noreferrer\">Zhang Wei</a> (or <a href=\"https://blogs.ancestry.com/cm/calling-james-smith-10-most-common-first-and-surname-combinations/\" rel=\"nofollow noreferrer\">James Smith</a>) in the world, you can&#39;t guarantee that, so Map is not a good choice."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520775388,"creation_date":1520775388,"answer_id":49220584,"question_id":49215912,"body_markdown":"I guess having a class `Person` (as you describe), you would need a custom collector for this:\r\n\r\n\r\n     String result = List.of(new Person(1, &quot;david&quot;), new Person(33, &quot;eugene&quot;))\r\n                .stream()\r\n                .parallel()\r\n                .collect(Collector.of(\r\n                        () -&gt; new StringJoiner[]{new StringJoiner(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;), new StringJoiner(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;)},\r\n                        (sj, per) -&gt; {\r\n                            sj[0] = sj[0].add(&quot;&quot; + per.getAge());\r\n                            sj[1] = sj[1].add(per.getName());\r\n                        },\r\n                        (left, right) -&gt; {\r\n                            left[0] = left[0].merge(right[0]);\r\n                            left[1] = left[1].merge(right[1]);\r\n                            return left;\r\n                        },\r\n\r\n                        x -&gt; &quot;Names = &quot; + x[1].toString() + &quot;&amp;Ages = &quot; + x[0].toString()\r\n                ));","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>I guess having a class <code>Person</code> (as you describe), you would need a custom collector for this:</p>\n\n<pre><code> String result = List.of(new Person(1, \"david\"), new Person(33, \"eugene\"))\n            .stream()\n            .parallel()\n            .collect(Collector.of(\n                    () -&gt; new StringJoiner[]{new StringJoiner(\",\", \"[\", \"]\"), new StringJoiner(\",\", \"[\", \"]\")},\n                    (sj, per) -&gt; {\n                        sj[0] = sj[0].add(\"\" + per.getAge());\n                        sj[1] = sj[1].add(per.getName());\n                    },\n                    (left, right) -&gt; {\n                        left[0] = left[0].merge(right[0]);\n                        left[1] = left[1].merge(right[1]);\n                        return left;\n                    },\n\n                    x -&gt; \"Names = \" + x[1].toString() + \"&amp;Ages = \" + x[0].toString()\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520859743,"creation_date":1520859743,"answer_id":49235942,"question_id":49215912,"body_markdown":"You could use\r\n\r\n    String result = persons.stream()\r\n        .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(true, p.getName()),\r\n                                new AbstractMap.SimpleEntry&lt;&gt;(false, &quot;&quot;+p.getAge())))\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.partitioningBy(Map.Entry::getKey,\r\n                Collectors.mapping(Map.Entry::getValue, Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;))),\r\n            m -&gt; &quot;Names=&quot;+m.get(true)+&quot;&amp;Ages=&quot;+m.get(false)));\r\n\r\n`AbstractMap.SimpleEntry` is just a stand-in for the missing standard `Pair` type. If you have a `Pair` type in your project, you can use it instead; you just have to replace the `Map.Entry::getKey` and `Map.Entry::getValue` method references with the right ones to retrieve the first resp. second value of the pair.\r\n\r\nThe solution above is tailored to the case of two properties. An alternative which can be easily adapted to more than two properties would be\r\n\r\n    String result = persons.stream()\r\n        .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(&quot;Names&quot;, p.getName()),\r\n                                new AbstractMap.SimpleEntry&lt;&gt;(&quot;Ages&quot;, &quot;&quot;+p.getAge())))\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.groupingBy(Map.Entry::getKey,\r\n                Collectors.mapping(Map.Entry::getValue, Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;))),\r\n            m -&gt; m.entrySet().stream()\r\n                  .map(e -&gt; e.getKey()+&quot;=&quot;+e.getValue()).collect(Collectors.joining(&quot;&amp;&quot;))));\r\n","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>You could use</p>\n\n<pre><code>String result = persons.stream()\n    .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(true, p.getName()),\n                            new AbstractMap.SimpleEntry&lt;&gt;(false, \"\"+p.getAge())))\n    .collect(Collectors.collectingAndThen(\n        Collectors.partitioningBy(Map.Entry::getKey,\n            Collectors.mapping(Map.Entry::getValue, Collectors.joining(\",\", \"[\", \"]\"))),\n        m -&gt; \"Names=\"+m.get(true)+\"&amp;Ages=\"+m.get(false)));\n</code></pre>\n\n<p><code>AbstractMap.SimpleEntry</code> is just a stand-in for the missing standard <code>Pair</code> type. If you have a <code>Pair</code> type in your project, you can use it instead; you just have to replace the <code>Map.Entry::getKey</code> and <code>Map.Entry::getValue</code> method references with the right ones to retrieve the first resp. second value of the pair.</p>\n\n<p>The solution above is tailored to the case of two properties. An alternative which can be easily adapted to more than two properties would be</p>\n\n<pre><code>String result = persons.stream()\n    .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(\"Names\", p.getName()),\n                            new AbstractMap.SimpleEntry&lt;&gt;(\"Ages\", \"\"+p.getAge())))\n    .collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(Map.Entry::getKey,\n            Collectors.mapping(Map.Entry::getValue, Collectors.joining(\",\", \"[\", \"]\"))),\n        m -&gt; m.entrySet().stream()\n              .map(e -&gt; e.getKey()+\"=\"+e.getValue()).collect(Collectors.joining(\"&amp;\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693601398,"creation_date":1693601398,"answer_id":77025931,"question_id":49215912,"body_markdown":"Alternatively, this could be done with [`Collectors.teeing`][1], but it is available since Java 12:\r\n```\r\nString res =\r\n    Stream.of(new Person(34, &quot;joe&quot;), new Person(52, &quot;diana&quot;), new Person(19, &quot;thomas&quot;))\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.mapping(Person::getName, Collectors.joining(&quot;,&quot;)),\r\n                Collectors.mapping(p -&gt; &quot;&quot; + p.getAge(), Collectors.joining(&quot;,&quot;)),\r\n                (names, ages) -&gt; String.format(&quot;Names=[%s]&amp;Ages=[%s]&quot;, names, ages)));\r\n\r\nSystem.out.println(res); // Names=[joe,diana,thomas]&amp;Ages=[34,52,19]\r\n```\r\n`Collectors.teeing` takes 3 arguments, in this code snipped specifically:\r\n- Two Collector objects that are used to collect the names and ages of the people in the list.\r\n- A BiFunction that is used to combine the results of the two collectors into a single string.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>Alternatively, this could be done with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a>, but it is available since Java 12:</p>\n<pre><code>String res =\n    Stream.of(new Person(34, &quot;joe&quot;), new Person(52, &quot;diana&quot;), new Person(19, &quot;thomas&quot;))\n        .collect(\n            Collectors.teeing(\n                Collectors.mapping(Person::getName, Collectors.joining(&quot;,&quot;)),\n                Collectors.mapping(p -&gt; &quot;&quot; + p.getAge(), Collectors.joining(&quot;,&quot;)),\n                (names, ages) -&gt; String.format(&quot;Names=[%s]&amp;Ages=[%s]&quot;, names, ages)));\n\nSystem.out.println(res); // Names=[joe,diana,thomas]&amp;Ages=[34,52,19]\n</code></pre>\n<p><code>Collectors.teeing</code> takes 3 arguments, in this code snipped specifically:</p>\n<ul>\n<li>Two Collector objects that are used to collect the names and ages of the people in the list.</li>\n<li>A BiFunction that is used to combine the results of the two collectors into a single string.</li>\n</ul>\n"}],"owner":{"account_id":2120898,"reputation":3646,"user_id":1884155,"accept_rate":54,"display_name":"user1884155"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1693601398,"creation_date":1520733606,"question_id":49215912,"body_markdown":"I want to use Java 8&#39;s stream api  for the following exercise:\r\n\r\n - Given a `List&lt;Person&gt; persons`\r\n - `Person` is a simple POJO with a name (string) and age (int) property\r\n - Construct the following String `Names=[joe,diana,thomas]&amp;Ages=[34,52,19]`\r\n\r\nWhat I can easily do with streams is the following:\r\n\r\n    String result = persons.stream()\r\n        .map(p -&gt; &quot;(&quot; + p.getName() + &quot;,&quot; + p.getAge() + &quot;)&quot;)\r\n        .collectors(Collectors.joining(&quot;&amp;&quot;,&quot;persons=[&quot;,&quot;]&quot;);\r\n\r\nWhich will give `persons=[(joe,34)&amp;(diana,52)&amp;(thomas,19)]`, but I don&#39;t know how I can concatenate on the fields across mutiple person objects rather then on the properties of each person individually. It&#39;s like I need to flatmap the person to one property, and afterwards flatmap the list of persons a second time for the next property, and then combine these outputs. What would the syntax be for this?\r\n\r\nThe Person class is very simple. If possible, I would like a solution that is written in such a way that reflection is used to loop over ALL fields of a class instead of checking hardcoded only the &quot;name&quot; and &quot;age&quot; fields. Assume that all fields are simple properties like String or int (there are no nested classes or collections).","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>I want to use Java 8's stream api  for the following exercise:</p>\n\n<ul>\n<li>Given a <code>List&lt;Person&gt; persons</code></li>\n<li><code>Person</code> is a simple POJO with a name (string) and age (int) property</li>\n<li>Construct the following String <code>Names=[joe,diana,thomas]&amp;Ages=[34,52,19]</code></li>\n</ul>\n\n<p>What I can easily do with streams is the following:</p>\n\n<pre><code>String result = persons.stream()\n    .map(p -&gt; \"(\" + p.getName() + \",\" + p.getAge() + \")\")\n    .collectors(Collectors.joining(\"&amp;\",\"persons=[\",\"]\");\n</code></pre>\n\n<p>Which will give <code>persons=[(joe,34)&amp;(diana,52)&amp;(thomas,19)]</code>, but I don't know how I can concatenate on the fields across mutiple person objects rather then on the properties of each person individually. It's like I need to flatmap the person to one property, and afterwards flatmap the list of persons a second time for the next property, and then combine these outputs. What would the syntax be for this?</p>\n\n<p>The Person class is very simple. If possible, I would like a solution that is written in such a way that reflection is used to loop over ALL fields of a class instead of checking hardcoded only the \"name\" and \"age\" fields. Assume that all fields are simple properties like String or int (there are no nested classes or collections).</p>\n"},{"tags":["java","spring-boot","redis","jwt"],"comments":[{"owner":{"account_id":1823935,"reputation":69,"user_id":1657285,"display_name":"Radhakrishna"},"score":0,"creation_date":1658430908,"post_id":70907590,"comment_id":129056180,"body_markdown":"could you please share entire project?","body":"could you please share entire project?"},{"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"score":0,"creation_date":1660721366,"post_id":70907590,"comment_id":129596503,"body_markdown":"Not possible sry, but you can find some help on github with &quot;JWT Token filter&quot;","body":"Not possible sry, but you can find some help on github with &quot;JWT Token filter&quot;"}],"answers":[{"tags":[],"owner":{"account_id":26570769,"reputation":1,"user_id":20197023,"display_name":"zouhour kharrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693601148,"creation_date":1693399601,"answer_id":77008181,"question_id":70907590,"body_markdown":"I think you must add `@Autowired` before `private JwtUtil jwtUtil` in class `JwtTokenFilter` and also you can use `@RequiredArgsConstructor` to automatically create a constructor that takes the `autowired` fields as parameters.","title":"Springboot JWT Auth with Redis","body":"<p>I think you must add <code>@Autowired</code> before <code>private JwtUtil jwtUtil</code> in class <code>JwtTokenFilter</code> and also you can use <code>@RequiredArgsConstructor</code> to automatically create a constructor that takes the <code>autowired</code> fields as parameters.</p>\n"}],"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693601148,"creation_date":1643474660,"question_id":70907590,"body_markdown":"I have an application that was working with JWT auth (without Redis)\r\nActually I&#39;m implementing Redis but I&#39;m having some errors that I don&#39;t understand..\r\n\r\nWe I sign in, the jwt token is responded ( but not created in redis.. why ? )\r\nAnd another problem is that when i make a request, it throws \r\n`...common.security.specific.jwt.JwtUtil.extractToken(javax.servlet.http.HttpServletRequest)&quot; because &quot;this.jwtUtil&quot; is null\r\n`\r\n\r\nI added all the code in order to find any relevant information that can be responsible of these bug..\r\nThanks for any help !\r\n\r\nJwtUtil.java\r\n```\r\n@Service\r\npublic class JwtUtil {\r\n\r\n    /**\r\n     * Get the token from authorization header.\r\n     *\r\n     * @param request\r\n     * @return token\r\n     */\r\n    public String extractToken(HttpServletRequest request) {\r\n        String authHeader = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\r\n        if (authHeader.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\r\n            return authHeader.replace(JwtConstant.TOKEN_BEARER_PREFIX, &quot;&quot;);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n...\r\n```\r\n\r\nJwtTokenFilter.java\r\n```\r\n@Service\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n  private UserDetailsService userDetailsService;\r\n  private TokenService tokenService;\r\n  private JwtTokenProvider jwtTokenProvider;\r\n  private JwtUtil jwtUtil;\r\n\r\n  public JwtTokenFilter(UserDetailsService userDetailsService,\r\n                                  TokenService tokenService, JwtTokenProvider jwtTokenProvider, JwtUtil jwtUtil) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.tokenService = tokenService;\r\n        this.jwtTokenProvider = jwtTokenProvider;\r\n        this.jwtUtil = jwtUtil;\r\n    }\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n      FilterChain chain) {\r\n    try {\r\n      // Check for authorization header existence.\r\n      String header = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\r\n      if (header == null || !header.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\r\n        chain.doFilter(request, response);\r\n        return;\r\n      }\r\n      // Validate request..\r\n      UsernamePasswordAuthenticationToken authorization = authorizeRequest(request);\r\n      SecurityContextHolder.getContext().setAuthentication(authorization);\r\n      chain.doFilter(request, response);\r\n    } catch (Exception e) {\r\n      SecurityContextHolder.clearContext();\r\n      throw new InternalServerErrorException(e.toString());\r\n    }\r\n  }\r\n\r\n  private UsernamePasswordAuthenticationToken authorizeRequest(HttpServletRequest request) {\r\n    try {\r\n      // Get token.\r\n      String token = this.jwtUtil.extractToken(request);  // ***PROBLEM IS HERE***\r\n      if (token != null) {\r\n        // Get token key.\r\n        JwtModel model = (JwtModel) this.tokenService.getSecretKey(token);\r\n        // Validate token.\r\n        Claims claims = this.jwtTokenProvider.validateToken(model);\r\n        // Validate user authority/role if allowed to do the api dto.\r\n        String user = claims.getSubject();\r\n        System.out.println(&quot;user&quot; + user);\r\n        UserDetails userDetails = this.userDetailsService.loadUserByUsername(user);\r\n        if (userDetails != null) {\r\n          return new UsernamePasswordAuthenticationToken(\r\n              userDetails, null, userDetails.getAuthorities());\r\n        }\r\n      }\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n```\r\nJwtTokenFilterConfigurer.java\r\n```\r\npublic class JwtTokenFilterConfigurer extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private AuthenticationManager authManager;\r\n    private TokenService tokenService;\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n            throws AuthenticationException {\r\n        try {\r\n            // Map dto value.\r\n            UserDataDTO req = this.getCredentials(request);\r\n            // Authenticate user.\r\n            return this.authManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n                    req.getEmail(),\r\n                    req.getPassword()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\r\n            FilterChain chain, Authentication auth) {\r\n        try {\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n\r\n            // Create token.\r\n            System.out.println(&quot;Je passe&quot;);\r\n            JwtModel model = this.jwtTokenProvider.createToken(((User) auth.getPrincipal()).getUsername());\r\n            // Set token.\r\n            this.tokenService.setSecretKey(model.getToken(), model);\r\n            // Set key expiration on redis.\r\n            this.tokenService.setKeyExpiration(model.getToken(), model.getExpDate());\r\n            // Add token to authorization header.\r\n            response.addHeader(JwtConstant.AUTHORIZATION_HEADER_STRING,\r\n                    JwtConstant.TOKEN_BEARER_PREFIX + model.getToken());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private UserDataDTO getCredentials(HttpServletRequest request) {\r\n        // Map dto value.\r\n        UserDataDTO auth = null;\r\n        try {\r\n            auth = new ObjectMapper().readValue(request.getInputStream(), UserDataDTO.class);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return auth;\r\n    }\r\n}\r\n```\r\n\r\nJwtTokenProvider.java\r\n```\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    @Value(&quot;${security.jwt.token.secret-key&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${security.jwt.token.expire-length}&quot;)\r\n    private long validityInMilliseconds; // 1h\r\n\r\n    @Value(&quot;${security.jwt.token.issuer}&quot;)\r\n    private String issuer; // 1h\r\n\r\n    @Autowired\r\n    private MyUserDetails myUserDetails;\r\n\r\n    @Autowired\r\n    private UserJpaRepository userJpaRepository;\r\n\r\n    @PostConstruct\r\n    protected void init() {\r\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n    }\r\n\r\n    public JwtModel createToken(String email) {\r\n        AppUser user = userJpaRepository.findByEmail(email);\r\n        Claims claims = Jwts.claims().setSubject(email);\r\n        claims.put(&quot;auth&quot;, \r\n                user.getAppUserRoles().stream().map(s -&gt; new SimpleGrantedAuthority(s.getAuthority()))\r\n                .filter(Objects::nonNull).collect(Collectors.toList()));\r\n\r\n        Date current = new Date();\r\n        Date expiration = generateTokenExp(JwtConstant.ACCESS_TOKEN_EXPIRATION);\r\n\r\n        String token = Jwts.builder()\r\n                .setIssuer(issuer)\r\n                .setClaims(claims)\r\n                .setIssuedAt(current)\r\n                .setExpiration(expiration)\r\n                .signWith(SignatureAlgorithm.HS512, secretKey)\r\n                .compact();\r\n\r\n        return new JwtModel(token,\r\n                issuer, email,\r\n                current, expiration);\r\n    }\r\n\r\n    public Authentication getAuthentication(String token) {\r\n        UserDetails userDetails = myUserDetails.loadUserByUsername(getEmail(token));\r\n        return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\r\n    }\r\n\r\n    public String getEmail(String token) {\r\n        return Jwts.parser().setSigningKey(secretKey).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n\r\n    public String resolveToken(HttpServletRequest req) {\r\n        String bearerToken = req.getHeader(&quot;Authorization&quot;);\r\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return bearerToken.substring(7);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public Claims validateToken(JwtModel model) {\r\n        try {\r\n            Claims claims = Jwts.parser()\r\n                    .requireIssuer(model.getIssuer())\r\n                    .requireSubject(model.getSubject())\r\n                    .requireIssuedAt(model.getIssueDate())\r\n                    .requireExpiration(model.getExpDate())\r\n                    .setSigningKey(\r\n                            secretKey)\r\n                    .parseClaimsJws(model.getToken())\r\n                    .getBody();\r\n            return claims;\r\n        } catch (JwtException | IllegalArgumentException e) {\r\n            throw new InternalServerErrorException(&quot;Expired or invalid JWT token&quot;);\r\n        }\r\n    }\r\n\r\n    private Date generateTokenExp(Integer timeExpired) {\r\n        Date current = new Date();\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(current);\r\n        calendar.add(Calendar.MINUTE, timeExpired);\r\n        return calendar.getTime();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWebSecurityConfig.java\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private UserDetailsService userDetailsService;\r\n    private JwtTokenProvider jwtTokenProvider;\r\n    private JwtUtil jwtUtil;\r\n    private TokenService tokenService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        // Disable CSRF (cross site request forgery)\r\n        http.csrf().disable();\r\n\r\n        // No session will be created or used by spring security\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        \r\n        // Entry points\r\n        http.authorizeRequests()//\r\n                .antMatchers(&quot;/users/signin&quot;).permitAll()//\r\n                .antMatchers(&quot;/users/signup&quot;).permitAll()//\r\n                .antMatchers(&quot;/h2-console/**/**&quot;).permitAll()\r\n                // Disallow everything else..\r\n                .anyRequest().authenticated();\r\n\r\n        // If a user try to access a resource without having enough permissions\r\n        http.exceptionHandling().accessDeniedPage(&quot;/login&quot;);\r\n\r\n        // Apply JWT\r\n        http.addFilterBefore(new JwtTokenFilter(\r\n                userDetailsService, tokenService, jwtTokenProvider, jwtUtil),\r\n                UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        // Allow swagger to be accessed without authentication\r\n        web.ignoring().antMatchers(&quot;/v2/api-docs&quot;)//\r\n                .antMatchers(&quot;/swagger-resources/**&quot;)//\r\n                .antMatchers(&quot;/swagger-ui.html&quot;)//\r\n                .antMatchers(&quot;/configuration/**&quot;)//\r\n                .antMatchers(&quot;/webjars/**&quot;)//\r\n                .antMatchers(&quot;/public&quot;)\r\n\r\n                // Un-secure H2 Database (for testing purposes, H2 console shouldn&#39;t be\r\n                // unprotected in production)\r\n                .and()\r\n                .ignoring()\r\n                .antMatchers(&quot;/h2-console/**/**&quot;)\r\n                ;\r\n        ;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n}\r\n```","title":"Springboot JWT Auth with Redis","body":"<p>I have an application that was working with JWT auth (without Redis)\nActually I'm implementing Redis but I'm having some errors that I don't understand..</p>\n<p>We I sign in, the jwt token is responded ( but not created in redis.. why ? )\nAnd another problem is that when i make a request, it throws\n<code>...common.security.specific.jwt.JwtUtil.extractToken(javax.servlet.http.HttpServletRequest)&quot; because &quot;this.jwtUtil&quot; is null </code></p>\n<p>I added all the code in order to find any relevant information that can be responsible of these bug..\nThanks for any help !</p>\n<p>JwtUtil.java</p>\n<pre><code>@Service\npublic class JwtUtil {\n\n    /**\n     * Get the token from authorization header.\n     *\n     * @param request\n     * @return token\n     */\n    public String extractToken(HttpServletRequest request) {\n        String authHeader = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\n        if (authHeader.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\n            return authHeader.replace(JwtConstant.TOKEN_BEARER_PREFIX, &quot;&quot;);\n        }\n        return null;\n    }\n}\n...\n</code></pre>\n<p>JwtTokenFilter.java</p>\n<pre><code>@Service\npublic class JwtTokenFilter extends OncePerRequestFilter {\n\n  private UserDetailsService userDetailsService;\n  private TokenService tokenService;\n  private JwtTokenProvider jwtTokenProvider;\n  private JwtUtil jwtUtil;\n\n  public JwtTokenFilter(UserDetailsService userDetailsService,\n                                  TokenService tokenService, JwtTokenProvider jwtTokenProvider, JwtUtil jwtUtil) {\n        this.userDetailsService = userDetailsService;\n        this.tokenService = tokenService;\n        this.jwtTokenProvider = jwtTokenProvider;\n        this.jwtUtil = jwtUtil;\n    }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n      FilterChain chain) {\n    try {\n      // Check for authorization header existence.\n      String header = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\n      if (header == null || !header.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\n        chain.doFilter(request, response);\n        return;\n      }\n      // Validate request..\n      UsernamePasswordAuthenticationToken authorization = authorizeRequest(request);\n      SecurityContextHolder.getContext().setAuthentication(authorization);\n      chain.doFilter(request, response);\n    } catch (Exception e) {\n      SecurityContextHolder.clearContext();\n      throw new InternalServerErrorException(e.toString());\n    }\n  }\n\n  private UsernamePasswordAuthenticationToken authorizeRequest(HttpServletRequest request) {\n    try {\n      // Get token.\n      String token = this.jwtUtil.extractToken(request);  // ***PROBLEM IS HERE***\n      if (token != null) {\n        // Get token key.\n        JwtModel model = (JwtModel) this.tokenService.getSecretKey(token);\n        // Validate token.\n        Claims claims = this.jwtTokenProvider.validateToken(model);\n        // Validate user authority/role if allowed to do the api dto.\n        String user = claims.getSubject();\n        System.out.println(&quot;user&quot; + user);\n        UserDetails userDetails = this.userDetailsService.loadUserByUsername(user);\n        if (userDetails != null) {\n          return new UsernamePasswordAuthenticationToken(\n              userDetails, null, userDetails.getAuthorities());\n        }\n      }\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>JwtTokenFilterConfigurer.java</p>\n<pre><code>public class JwtTokenFilterConfigurer extends UsernamePasswordAuthenticationFilter {\n\n    private AuthenticationManager authManager;\n    private TokenService tokenService;\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        try {\n            // Map dto value.\n            UserDataDTO req = this.getCredentials(request);\n            // Authenticate user.\n            return this.authManager.authenticate(new UsernamePasswordAuthenticationToken(\n                    req.getEmail(),\n                    req.getPassword()));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\n            FilterChain chain, Authentication auth) {\n        try {\n            SecurityContextHolder.getContext().setAuthentication(auth);\n\n            // Create token.\n            System.out.println(&quot;Je passe&quot;);\n            JwtModel model = this.jwtTokenProvider.createToken(((User) auth.getPrincipal()).getUsername());\n            // Set token.\n            this.tokenService.setSecretKey(model.getToken(), model);\n            // Set key expiration on redis.\n            this.tokenService.setKeyExpiration(model.getToken(), model.getExpDate());\n            // Add token to authorization header.\n            response.addHeader(JwtConstant.AUTHORIZATION_HEADER_STRING,\n                    JwtConstant.TOKEN_BEARER_PREFIX + model.getToken());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private UserDataDTO getCredentials(HttpServletRequest request) {\n        // Map dto value.\n        UserDataDTO auth = null;\n        try {\n            auth = new ObjectMapper().readValue(request.getInputStream(), UserDataDTO.class);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return auth;\n    }\n}\n</code></pre>\n<p>JwtTokenProvider.java</p>\n<pre><code>@Component\npublic class JwtTokenProvider {\n\n    @Value(&quot;${security.jwt.token.secret-key&quot;)\n    private String secretKey;\n\n    @Value(&quot;${security.jwt.token.expire-length}&quot;)\n    private long validityInMilliseconds; // 1h\n\n    @Value(&quot;${security.jwt.token.issuer}&quot;)\n    private String issuer; // 1h\n\n    @Autowired\n    private MyUserDetails myUserDetails;\n\n    @Autowired\n    private UserJpaRepository userJpaRepository;\n\n    @PostConstruct\n    protected void init() {\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n    }\n\n    public JwtModel createToken(String email) {\n        AppUser user = userJpaRepository.findByEmail(email);\n        Claims claims = Jwts.claims().setSubject(email);\n        claims.put(&quot;auth&quot;, \n                user.getAppUserRoles().stream().map(s -&gt; new SimpleGrantedAuthority(s.getAuthority()))\n                .filter(Objects::nonNull).collect(Collectors.toList()));\n\n        Date current = new Date();\n        Date expiration = generateTokenExp(JwtConstant.ACCESS_TOKEN_EXPIRATION);\n\n        String token = Jwts.builder()\n                .setIssuer(issuer)\n                .setClaims(claims)\n                .setIssuedAt(current)\n                .setExpiration(expiration)\n                .signWith(SignatureAlgorithm.HS512, secretKey)\n                .compact();\n\n        return new JwtModel(token,\n                issuer, email,\n                current, expiration);\n    }\n\n    public Authentication getAuthentication(String token) {\n        UserDetails userDetails = myUserDetails.loadUserByUsername(getEmail(token));\n        return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\n    }\n\n    public String getEmail(String token) {\n        return Jwts.parser().setSigningKey(secretKey).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public String resolveToken(HttpServletRequest req) {\n        String bearerToken = req.getHeader(&quot;Authorization&quot;);\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            return bearerToken.substring(7);\n        }\n        return null;\n    }\n\n    public Claims validateToken(JwtModel model) {\n        try {\n            Claims claims = Jwts.parser()\n                    .requireIssuer(model.getIssuer())\n                    .requireSubject(model.getSubject())\n                    .requireIssuedAt(model.getIssueDate())\n                    .requireExpiration(model.getExpDate())\n                    .setSigningKey(\n                            secretKey)\n                    .parseClaimsJws(model.getToken())\n                    .getBody();\n            return claims;\n        } catch (JwtException | IllegalArgumentException e) {\n            throw new InternalServerErrorException(&quot;Expired or invalid JWT token&quot;);\n        }\n    }\n\n    private Date generateTokenExp(Integer timeExpired) {\n        Date current = new Date();\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(current);\n        calendar.add(Calendar.MINUTE, timeExpired);\n        return calendar.getTime();\n    }\n\n}\n</code></pre>\n<p>WebSecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private JwtTokenProvider jwtTokenProvider;\n    private JwtUtil jwtUtil;\n    private TokenService tokenService;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        // Disable CSRF (cross site request forgery)\n        http.csrf().disable();\n\n        // No session will be created or used by spring security\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        \n        // Entry points\n        http.authorizeRequests()//\n                .antMatchers(&quot;/users/signin&quot;).permitAll()//\n                .antMatchers(&quot;/users/signup&quot;).permitAll()//\n                .antMatchers(&quot;/h2-console/**/**&quot;).permitAll()\n                // Disallow everything else..\n                .anyRequest().authenticated();\n\n        // If a user try to access a resource without having enough permissions\n        http.exceptionHandling().accessDeniedPage(&quot;/login&quot;);\n\n        // Apply JWT\n        http.addFilterBefore(new JwtTokenFilter(\n                userDetailsService, tokenService, jwtTokenProvider, jwtUtil),\n                UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        // Allow swagger to be accessed without authentication\n        web.ignoring().antMatchers(&quot;/v2/api-docs&quot;)//\n                .antMatchers(&quot;/swagger-resources/**&quot;)//\n                .antMatchers(&quot;/swagger-ui.html&quot;)//\n                .antMatchers(&quot;/configuration/**&quot;)//\n                .antMatchers(&quot;/webjars/**&quot;)//\n                .antMatchers(&quot;/public&quot;)\n\n                // Un-secure H2 Database (for testing purposes, H2 console shouldn't be\n                // unprotected in production)\n                .and()\n                .ignoring()\n                .antMatchers(&quot;/h2-console/**/**&quot;)\n                ;\n        ;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","while-loop","try-catch"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693489816,"post_id":77016348,"comment_id":135770285,"body_markdown":"Do you want to program to exit if the input is invalid?","body":"Do you want to program to exit if the input is invalid?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1693489998,"post_id":77016348,"comment_id":135770323,"body_markdown":"Don&#39;t you want the user to try again in case of error as it happens @RileyGT?","body":"Don&#39;t you want the user to try again in case of error as it happens @RileyGT?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693501970,"creation_date":1693491056,"answer_id":77016657,"question_id":77016348,"body_markdown":"It works for anything except when you enter a non number. It loops because you still have a value in the input buffer so the error keeps repeating.  So you need to remove that input in the catch block as follows:\r\n```\r\ncatch (Exception e) {\r\n                    System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n                    error = true;\r\n                    in.nextLine();  // &lt;-- Remove problem input\r\n                }\r\n```\r\nBTW, since you only want positive `ints` why are you prompting for doubles?  You may want to do:\r\n```\r\nint number;\r\n// then later\r\n\r\nnumber = in.nextInt();\r\n``` \r\nHere is a slight modification of what I think you may want.  I also included a friendly way to exit the program.\r\n```\r\nScanner in = new Scanner(System.in);\r\nSystem.out.println(\r\n        &quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\r\nint number = 0; //\r\nboolean error;\r\n\r\nfor (;;) { // loop forever (or until user enters &#39;quit`)\r\n    System.out.println(\r\n            &quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\r\n    try {\r\n        number = in.nextInt();\r\n    } catch (Exception e) {\r\n        // input problem, see if user wants to quit\r\n        String value = in.next();\r\n        if (value.equalsIgnoreCase(&quot;quit&quot;)) {\r\n            System.out.println(&quot;Bye!&quot;);\r\n            return;\r\n        }\r\n        // some other errored input so force error message\r\n        number = -1; \r\n    }\r\n    if (number &lt; 0) {\r\n        System.err.println(\r\n                &quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n    } else {\r\n        System.out.println(&quot;The Fibonacci Sequence is: &quot;);\r\n        int i = 0;\r\n        int f0 = 0;\r\n        int f1 = 1;\r\n        int fn;\r\n        double value = 0; // changed this to double which is redundant\r\n                          // since value is not used\r\n        do {\r\n            fn = f0 + f1;\r\n            System.out.print(f0 + &quot; &quot;);\r\n            f0 = f1;\r\n            f1 = fn;\r\n            value = number - f0;\r\n            i++;\r\n        } while (f0 &lt;= number);\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How to handle invalid input for Fibonacci Sequence","body":"<p>It works for anything except when you enter a non number. It loops because you still have a value in the input buffer so the error keeps repeating.  So you need to remove that input in the catch block as follows:</p>\n<pre><code>catch (Exception e) {\n                    System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n                    error = true;\n                    in.nextLine();  // &lt;-- Remove problem input\n                }\n</code></pre>\n<p>BTW, since you only want positive <code>ints</code> why are you prompting for doubles?  You may want to do:</p>\n<pre><code>int number;\n// then later\n\nnumber = in.nextInt();\n</code></pre>\n<p>Here is a slight modification of what I think you may want.  I also included a friendly way to exit the program.</p>\n<pre><code>Scanner in = new Scanner(System.in);\nSystem.out.println(\n        &quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\nint number = 0; //\nboolean error;\n\nfor (;;) { // loop forever (or until user enters 'quit`)\n    System.out.println(\n            &quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\n    try {\n        number = in.nextInt();\n    } catch (Exception e) {\n        // input problem, see if user wants to quit\n        String value = in.next();\n        if (value.equalsIgnoreCase(&quot;quit&quot;)) {\n            System.out.println(&quot;Bye!&quot;);\n            return;\n        }\n        // some other errored input so force error message\n        number = -1; \n    }\n    if (number &lt; 0) {\n        System.err.println(\n                &quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n    } else {\n        System.out.println(&quot;The Fibonacci Sequence is: &quot;);\n        int i = 0;\n        int f0 = 0;\n        int f1 = 1;\n        int fn;\n        double value = 0; // changed this to double which is redundant\n                          // since value is not used\n        do {\n            fn = f0 + f1;\n            System.out.print(f0 + &quot; &quot;);\n            f0 = f1;\n            f1 = fn;\n            value = number - f0;\n            i++;\n        } while (f0 &lt;= number);\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29337805,"reputation":1,"user_id":22477836,"display_name":"RileyGT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693601069,"creation_date":1693488853,"question_id":77016348,"body_markdown":"I am trying to create a Fibonacci Sequence generator where all invalid input cases have a response before asking the user to try again. \r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.println(&quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\r\n    double number = 0; //\r\n    boolean error;\r\n\r\n    do {\r\n\r\n        try {\r\n            error = false;\r\n            System.out.println(&quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\r\n            number = in.nextDouble();\r\n            if (number % 1 != 0 || number &lt; 0) {\r\n                System.err.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n            } else {\r\n                System.out.println(&quot;The Fibonacci Sequence is: &quot;);\r\n                int i = 0;\r\n                int f0 = 0;\r\n                int f1 = 1;\r\n                int fn;\r\n                double value = 0; // changed this to double which is redundant since value is not used\r\n                do {\r\n                    fn = f0 + f1;\r\n                    System.out.print(f0 + &quot; &quot;);\r\n                    f0 = f1;\r\n                    f1 = fn;\r\n                    value = number - f0;\r\n                    i++;\r\n                } while (f0 &lt;= number);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n            error = true;\r\n        }\r\n    } while (number &lt; 0 || number % 1 != 0 || error) ;\r\n}\r\n```\r\n\r\n\r\nHowever, when I use try/catch with my do-while loop, I get an infinite loop of the message within catch and the input prompt.\r\n \r\nThe Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.\r\nEnter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number........\r\n\r\nI am not super advanced in Java yet, so for now I&#39;d like to find a solution using this logic, just find a way to fix my code. Thank you!","title":"How to handle invalid input for Fibonacci Sequence","body":"<p>I am trying to create a Fibonacci Sequence generator where all invalid input cases have a response before asking the user to try again.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\n    double number = 0; //\n    boolean error;\n\n    do {\n\n        try {\n            error = false;\n            System.out.println(&quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\n            number = in.nextDouble();\n            if (number % 1 != 0 || number &lt; 0) {\n                System.err.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n            } else {\n                System.out.println(&quot;The Fibonacci Sequence is: &quot;);\n                int i = 0;\n                int f0 = 0;\n                int f1 = 1;\n                int fn;\n                double value = 0; // changed this to double which is redundant since value is not used\n                do {\n                    fn = f0 + f1;\n                    System.out.print(f0 + &quot; &quot;);\n                    f0 = f1;\n                    f1 = fn;\n                    value = number - f0;\n                    i++;\n                } while (f0 &lt;= number);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n            error = true;\n        }\n    } while (number &lt; 0 || number % 1 != 0 || error) ;\n}\n</code></pre>\n<p>However, when I use try/catch with my do-while loop, I get an infinite loop of the message within catch and the input prompt.</p>\n<p>The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.\nEnter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number........</p>\n<p>I am not super advanced in Java yet, so for now I'd like to find a solution using this logic, just find a way to fix my code. Thank you!</p>\n"},{"tags":["java","spring-boot","junit","mockito","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693600988,"creation_date":1693600988,"answer_id":77025909,"question_id":77025551,"body_markdown":"The actual method call is : \r\n\r\n``` java\r\nexchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType, Object... uriVariables)\r\n```\r\n\r\nBut now as you stub the first parameter as `NULL` , compiler does not knows its type. So it thinks you are stubbing the methods that has 4 parameters which is :\r\n\r\n``` \r\nexchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType)\r\n```\r\n\r\nSo the actual method call is never be stubbed and it should return NULL or `UnnecessaryStubbingException` to me. No ideas why you get `PotentialStubbingProblem` though...\r\n\r\nAnyway try to change to the following should let you stub the actual method that `ApiService` will call correctly :\r\n\r\n\r\n``` java\r\n when(restTemplate.exchange((String)eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n``` \r\n\r\nor better yet : \r\n``` java\r\n when(restTemplate.exchange((String)isNull(), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n``` \r\n\r\n\r\n\r\n\r\n","title":"Getting org.mockito.exceptions.misusing.PotentialStubbingProblem: Strict stubbing argument mismatch while using restTemplate","body":"<p>The actual method call is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType, Object... uriVariables)\n</code></pre>\n<p>But now as you stub the first parameter as <code>NULL</code> , compiler does not knows its type. So it thinks you are stubbing the methods that has 4 parameters which is :</p>\n<pre><code>exchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType)\n</code></pre>\n<p>So the actual method call is never be stubbed and it should return NULL or <code>UnnecessaryStubbingException</code> to me. No ideas why you get <code>PotentialStubbingProblem</code> though...</p>\n<p>Anyway try to change to the following should let you stub the actual method that <code>ApiService</code> will call correctly :</p>\n<pre class=\"lang-java prettyprint-override\"><code> when(restTemplate.exchange((String)eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n</code></pre>\n<p>or better yet :</p>\n<pre class=\"lang-java prettyprint-override\"><code> when(restTemplate.exchange((String)isNull(), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025909,"answer_count":1,"score":0,"last_activity_date":1693600988,"creation_date":1693595991,"question_id":77025551,"body_markdown":"**I call external API by using RestTemplate&#39;s exchange() in my application. And currently, I am writing junit and mockito test case for restTemplate call but I am getting stubbing argument mismatch exception.**\r\n\r\n**Here is my code** \r\n\r\n    @Service\r\n    public class ApiService {\r\n    \r\n      @Autowired\r\n      private RestTemplate restTemplate;\r\n      \r\n      @Value(&quot;{url}&quot;)\r\n      private String url;\r\n      \r\n      public TrackResponse getTpiValue(TrackRequest trackRequest){\r\n      \r\n        TrackResponse trackResponse = null;\r\n    \t\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \t\r\n    \tHttpEntity&lt;TrackRequest&gt; entity = new HttpEntity&lt;TrackRequest&gt;(trackRequest, headers);\r\n    \t\r\n    \tResponseEntity&lt;TrackResponse&gt; response = restTemplate.exchange(url, HttpMethod.Post, entity, TrackResponse.class);\r\n    \t\r\n    \tif(response.getStatusCode == HttpStatus.ok){\r\n    \t   trackResponse = response.getBody();\r\n    \t}\r\n      return trackResponse;\r\n      }\r\n    \r\n    }\r\n\r\n**Here is my test case**\r\n\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @ExtendWith(MocikotExtension.class)\r\n    public class ApiServiceTest {\r\n    \r\n      @Mock\r\n      private RestTemplate restTemplate;\r\n      \r\n      @InjectMocks\r\n      private ApiService apiService;\r\n        \r\n      public void getTpiValueTest(){\r\n      \r\n        TrackRequest trackRequest = new TrackRequest();\r\n    \ttrackRequest.setId(&quot;UTHL10&quot;);\r\n    \t\r\n    \tTrackResponse trackResponse = new TrackResponse();\r\n    \ttrackResponse.setTrackId(&quot;QWEDRTHFDS&quot;);\r\n    \t\r\n    \tResponseEntity&lt;TrackResponse&gt; response = new ResponseEntity&lt;&gt;(trackResponse, HttpStatus.ok);\r\n    \t\r\n    \twhen(restTemplate.exchange(eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n    \t\r\n    \tTrackResponse finalResponse = apiService.getTpiValue(trackRequest);\r\n    \t\r\n    \tassetEquals(response.getbody(), finalResponse.getTrackId());\r\n      }\r\n    \r\n    }\r\n\r\n**But when I run test cases then I am getting below error**\r\n\r\n    org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\n    Strict stubbing argument mismatch. Please check:\r\n     - this invocation of &#39;exchange&#39; method:\r\n        restTemplate.exchange(\r\n        null,\r\n        POST,\r\n        &lt;com.application.track.TrackRequest@3c486eb1,[]&gt;,\r\n        class com.application.track.TrackResponse\r\n    );\r\n        -&gt; at com.application.track.ApiService.getTpiValue(ApiService.java:18)\r\n     - has following stubbing(s) with different arguments:\r\n        1. restTemplate.exchange(\r\n        null,\r\n        null,\r\n        null,\r\n        null\r\n    );\r\n    -&gt; at com.application.track.ApiServiceTest.getTpiValueTest(ApiServiceTest.java:21)\r\n\r\nI also tried with lenient() but it did not work.","title":"Getting org.mockito.exceptions.misusing.PotentialStubbingProblem: Strict stubbing argument mismatch while using restTemplate","body":"<p><strong>I call external API by using RestTemplate's exchange() in my application. And currently, I am writing junit and mockito test case for restTemplate call but I am getting stubbing argument mismatch exception.</strong></p>\n<p><strong>Here is my code</strong></p>\n<pre><code>@Service\npublic class ApiService {\n\n  @Autowired\n  private RestTemplate restTemplate;\n  \n  @Value(&quot;{url}&quot;)\n  private String url;\n  \n  public TrackResponse getTpiValue(TrackRequest trackRequest){\n  \n    TrackResponse trackResponse = null;\n    \n    HttpHeaders headers = new HttpHeaders();\n    \n    HttpEntity&lt;TrackRequest&gt; entity = new HttpEntity&lt;TrackRequest&gt;(trackRequest, headers);\n    \n    ResponseEntity&lt;TrackResponse&gt; response = restTemplate.exchange(url, HttpMethod.Post, entity, TrackResponse.class);\n    \n    if(response.getStatusCode == HttpStatus.ok){\n       trackResponse = response.getBody();\n    }\n  return trackResponse;\n  }\n\n}\n</code></pre>\n<p><strong>Here is my test case</strong></p>\n<pre><code>@TestInstance(Lifecycle.PER_CLASS)\n@ExtendWith(MocikotExtension.class)\npublic class ApiServiceTest {\n\n  @Mock\n  private RestTemplate restTemplate;\n  \n  @InjectMocks\n  private ApiService apiService;\n    \n  public void getTpiValueTest(){\n  \n    TrackRequest trackRequest = new TrackRequest();\n    trackRequest.setId(&quot;UTHL10&quot;);\n    \n    TrackResponse trackResponse = new TrackResponse();\n    trackResponse.setTrackId(&quot;QWEDRTHFDS&quot;);\n    \n    ResponseEntity&lt;TrackResponse&gt; response = new ResponseEntity&lt;&gt;(trackResponse, HttpStatus.ok);\n    \n    when(restTemplate.exchange(eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n    \n    TrackResponse finalResponse = apiService.getTpiValue(trackRequest);\n    \n    assetEquals(response.getbody(), finalResponse.getTrackId());\n  }\n\n}\n</code></pre>\n<p><strong>But when I run test cases then I am getting below error</strong></p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'exchange' method:\n    restTemplate.exchange(\n    null,\n    POST,\n    &lt;com.application.track.TrackRequest@3c486eb1,[]&gt;,\n    class com.application.track.TrackResponse\n);\n    -&gt; at com.application.track.ApiService.getTpiValue(ApiService.java:18)\n - has following stubbing(s) with different arguments:\n    1. restTemplate.exchange(\n    null,\n    null,\n    null,\n    null\n);\n-&gt; at com.application.track.ApiServiceTest.getTpiValueTest(ApiServiceTest.java:21)\n</code></pre>\n<p>I also tried with lenient() but it did not work.</p>\n"},{"tags":["java","static","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1693461640,"post_id":77011697,"comment_id":135764532,"body_markdown":"Do you have to mock it, e.g. is `BBB` slow or performs IO? If not, why can&#39;t you use the real one? If it does, then change the design of your classes to be testable, e.g. by using dependency injection","body":"Do you have to mock it, e.g. is <code>BBB</code> slow or performs IO? If not, why can&#39;t you use the real one? If it does, then change the design of your classes to be testable, e.g. by using dependency injection"},{"owner":{"account_id":8337267,"reputation":107,"user_id":6263748,"display_name":"msProgram"},"score":0,"creation_date":1693494800,"post_id":77011697,"comment_id":135771475,"body_markdown":"hi knittl, could you provide example for &quot;use real one&quot;? Or you initialize exactly the same BBB bbb = new BBB(... in the test class?","body":"hi knittl, could you provide example for &quot;use real one&quot;? Or you initialize exactly the same BBB bbb = new BBB(... in the test class?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693495147,"post_id":77011697,"comment_id":135771556,"body_markdown":"There is no need to initialize a new one, your field initializer is already initializing the real one. Just do `new A()` in your class and write the tests (a new `BBB` is created automatically by A). My original question is: do you _have to_ mock it? _Why_ do you want to mock BBB? There must be a reason for it","body":"There is no need to initialize a new one, your field initializer is already initializing the real one. Just do <code>new A()</code> in your class and write the tests (a new <code>BBB</code> is created automatically by A). My original question is: do you <i>have to</i> mock it? <i>Why</i> do you want to mock BBB? There must be a reason for it"},{"owner":{"account_id":8337267,"reputation":107,"user_id":6263748,"display_name":"msProgram"},"score":0,"creation_date":1693513699,"post_id":77011697,"comment_id":135775113,"body_markdown":"without mocking it, i got error during unit test. Failed to load it.","body":"without mocking it, i got error during unit test. Failed to load it."}],"owner":{"account_id":8337267,"reputation":107,"user_id":6263748,"display_name":"msProgram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693600510,"creation_date":1693432009,"question_id":77011697,"body_markdown":"For example, i have a class:\r\n\r\n    Class A {\r\n\r\n        private final BBB bbb = new BBB(CCC.INSTANCE.getInstance(DDDUtils.getId()));\r\n\r\n    }\r\n\r\nbbb is being used in some functions of the class. How can we mock bbb in test functions? \r\ni am using Mockit.\r\n\r\nI tried:\r\n\r\n    @Mock\r\n    private BBB bbb;\r\n\r\nbut didn&#39;t work.\r\n\r\nThanks!","title":"how can we mock a private class filed which is used by functions","body":"<p>For example, i have a class:</p>\n<pre><code>Class A {\n\n    private final BBB bbb = new BBB(CCC.INSTANCE.getInstance(DDDUtils.getId()));\n\n}\n</code></pre>\n<p>bbb is being used in some functions of the class. How can we mock bbb in test functions?\ni am using Mockit.</p>\n<p>I tried:</p>\n<pre><code>@Mock\nprivate BBB bbb;\n</code></pre>\n<p>but didn't work.</p>\n<p>Thanks!</p>\n"},{"tags":["java","selenium-webdriver","desiredcapabilities"],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693600428,"creation_date":1693598535,"question_id":77025736,"body_markdown":"In my current project I use selenium 3 and I want to update to selenium 4. \r\n\r\nI have to convert the following code to selenium 4.\r\n\r\nOld code:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--incognito&quot;);\r\n    \r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    capabilities.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\r\n    capabilities.setJavascriptEnabled(true);\r\n    driver = new ChromeDriver(capabilities);\r\n\r\nNow selenium 4 code - Can you tell me if this code is correct ?\r\n\r\n   \r\n\r\n \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--incognito&quot;);\r\n    options.addArguments(&quot;--enable-javascript&quot;);\r\n    \r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    options.merge(capabilities);\r\n    driver = new ChromeDriver(options);\r\n\r\nIs the new code correct ?\r\nIs the &quot;merge&quot; function correct ?\r\nI see that &quot;`CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true`&quot; is depreciated in Selenium 4 and does not work - is there any replacement for this ? What was it doing ?\r\nWhat does actually do &quot;`capabilities.setJavascriptEnabled(true)`&quot; ?\r\n\r\nIs is possible that option &quot;`capabilities.setJavascriptEnabled(true);`&quot; may cause erros along with the following wait code ?\r\n\r\n    new WebDriverWait(driver, MyDefaultTimeout).Until(\r\n    d =&gt; ((IJavaScriptExecutor) d).ExecuteScript(&quot;return document.readyState&quot;).Equals(&quot;complete&quot;));\r\n\r\n","title":"Java Selenium 3 vs Selenium 4 - ChromeOptions and DesiredCapabilities","body":"<p>In my current project I use selenium 3 and I want to update to selenium 4.</p>\n<p>I have to convert the following code to selenium 4.</p>\n<p>Old code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\n\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\ncapabilities.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\ncapabilities.setJavascriptEnabled(true);\ndriver = new ChromeDriver(capabilities);\n</code></pre>\n<p>Now selenium 4 code - Can you tell me if this code is correct ?</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\noptions.addArguments(&quot;--enable-javascript&quot;);\n\nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\noptions.merge(capabilities);\ndriver = new ChromeDriver(options);\n</code></pre>\n<p>Is the new code correct ?\nIs the &quot;merge&quot; function correct ?\nI see that &quot;<code>CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true</code>&quot; is depreciated in Selenium 4 and does not work - is there any replacement for this ? What was it doing ?\nWhat does actually do &quot;<code>capabilities.setJavascriptEnabled(true)</code>&quot; ?</p>\n<p>Is is possible that option &quot;<code>capabilities.setJavascriptEnabled(true);</code>&quot; may cause erros along with the following wait code ?</p>\n<pre><code>new WebDriverWait(driver, MyDefaultTimeout).Until(\nd =&gt; ((IJavaScriptExecutor) d).ExecuteScript(&quot;return document.readyState&quot;).Equals(&quot;complete&quot;));\n</code></pre>\n"},{"tags":["java","xml","jackson","jaxb","xmlmapper"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1692818489,"post_id":76964263,"comment_id":135677466,"body_markdown":"That&#39;s not a valid XML. A valid XML requires a root element. Probably no XML library will read or write something like it.","body":"That&#39;s not a valid XML. A valid XML requires a root element. Probably no XML library will read or write something like it."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1692824909,"post_id":76964263,"comment_id":135678449,"body_markdown":"@aled : It is valid.  It may not be well formed, but still would meet XML Specficiation","body":"@aled : It is valid.  It may not be well formed, but still would meet XML Specficiation"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692826057,"post_id":76964263,"comment_id":135678590,"body_markdown":"Valid includes well-formed, and both require a root. It is in the spec https://www.w3.org/TR/REC-xml/.","body":"Valid includes well-formed, and both require a root. It is in the spec <a href=\"https://www.w3.org/TR/REC-xml/\" rel=\"nofollow noreferrer\">w3.org/TR/REC-xml</a>."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1692865940,"post_id":76964263,"comment_id":135682880,"body_markdown":"Let&#39;s be a bit more precise. It is a well-formed external parsed entity (often referred to as a fragment). It is not a well-formed XML document. It is not valid, because validity requires a DTD.","body":"Let&#39;s be a bit more precise. It is a well-formed external parsed entity (often referred to as a fragment). It is not a well-formed XML document. It is not valid, because validity requires a DTD."},{"owner":{"account_id":20921976,"reputation":1,"user_id":15370363,"display_name":"Code Breaker"},"score":0,"creation_date":1693051407,"post_id":76964263,"comment_id":135710617,"body_markdown":"@aled: See my use case is a bit different. I have to process large chunks of json lists into separate xml files like you see above, these files should just contain the list of individual XML elements. I then lift and shift these xml files to create a final xml file with all the relevant tags. So it doesnt matter if it &quot;valid&quot; xml or not.","body":"@aled: See my use case is a bit different. I have to process large chunks of json lists into separate xml files like you see above, these files should just contain the list of individual XML elements. I then lift and shift these xml files to create a final xml file with all the relevant tags. So it doesnt matter if it &quot;valid&quot; xml or not."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693055422,"post_id":76964263,"comment_id":135710986,"body_markdown":"I understand it is not relevant to your use case, but it is relevant to XML libraries that follow the standard, which is probably nearly 100% of them. You probably need to treat each individual XML as a string and concatenate them together.","body":"I understand it is not relevant to your use case, but it is relevant to XML libraries that follow the standard, which is probably nearly 100% of them. You probably need to treat each individual XML as a string and concatenate them together."}],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693600025,"creation_date":1693600025,"answer_id":77025850,"question_id":76964263,"body_markdown":"Although JAXB requires a top level XML element, it does not require the immediate, physical container to be a file. The message can be unmarshaled as an input stream from anywhere. We can use this observation to *contain* each XML message in its own `Base64` stream which can then be stored as a *list of streams* (line-by-line) in one *meta-container* file.\r\n\r\nThis example reads each line of an input file as a `Base64` encoded stream. Each encoded line contains one `Employee` XML element; thus, each line can be unmarshaled and put into a list of `Employee` objects. Also, the object list can be marshaled, encoded and stored as a single file.\r\n\r\n#### Execution\r\n\r\nThis is a stand-alone Maven project ([zip][7]). You can run the test using:\r\n\r\n~~~\r\nmvn -Ptest clean test\r\n~~~\r\n\r\nThe [output][6] shows the test results.\r\n\r\nThis Maven project includes:\r\n\r\n+ An XML Schema file [employee.xsd][2] for the `Employee` model\r\n+ A JAXB *binding* file [employee.xjb][3] for customizations\r\n+ A JUnit test class [EmployeeTest][4] to demonstrate (un)marshalling\r\n+ Sample XML files with `Employee` [data][5].\r\n+ The Maven [POM][1] file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nEmployees\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                employee.xjb\r\n                employee.xsd\r\n        test\r\n            java\r\n                org/example/employee/EmployeeTest.java\r\n            resources\r\n                simplelogger.properties\r\n            samples\r\n                Employee1.xml\r\n                Employee2.xml\r\n                Employees.b64\r\n    pom.xml\r\n~~~\r\n\r\nThe JAXB classes are generated by this plugin in this project&#39;s [pom.xml][1]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n    org.example.employee\r\n        Employee.java\r\n        ObjectFactory.java\r\n~~~\r\n\r\n#### Testing\r\n\r\nThe JUnit test class, [EmployeeTest][4], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][5] path is *unmarshaled* to an `employee` object. When successful, the `employee` object is *marshaled* for logging and your review.\r\n\r\nIn particular, the data file [Employees.b64][8] demonstrates how a list of XML streams can be stored in one file. The sample file contains two Base64 encoded streams, each on its own line; but, there can be any number of such lines, each representing an XML stream that JAXB can unmarshal.\r\n\r\nThis code fragment from [`EmployeeTest`][4] shows how a data source file can be read line-by-line to decode and unmarshal the `Employee` data. Then, in reverse, each `Employee` object is marshaled and encoded before writing the list to a target file.\r\n\r\n**EmployeeTest#testEmployees()**\r\n~~~\r\n...\r\n// Read Source\r\ntry ( FileReader fr = new FileReader(employeesB64Source) )\r\n{\r\n    LineNumberReader lnr = new LineNumberReader(fr);\r\n    String employeeB64 = null;\r\n    while ( (employeeB64 = lnr.readLine()) != null )\r\n    {\r\n        String employeeXml = new String(decoder.decode(employeeB64), UTF_8);\r\n        Object root = unmarshaller.unmarshal(new StringReader(employeeXml));\r\n        if ( root instanceof Employee )\r\n            employeeList.add((Employee) root);\r\n    }\r\n}\r\n...\r\n...\r\n// Write Target\r\ntry ( FileWriter fw = new FileWriter(employeesB64Target) )\r\n{\r\n    for ( Employee employee : employeeList )\r\n    {\r\n        String employeeXml = null;\r\n        employeeXml = marshalToString(employee, marshaller);\r\n        String employeeB64 = encoder.encodeToString(employeeXml.getBytes(UTF_8));\r\n        fw.write(employeeB64 + nl);\r\n    }\r\n}\r\n~~~\r\n\r\n#### Bash Bonus\r\n\r\nAs a bonus, the Linux Bash [`base64`][9] command can be used to quickly decode *all* lines in the [b64][8] file:\r\n\r\n**Bash Shell**\r\n~~~\r\n$ base64 --decode Employees.b64\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;employee&gt;\r\n    &lt;id&gt;1&lt;/id&gt;\r\n    &lt;firstName&gt;Lokesh&lt;/firstName&gt;\r\n    &lt;lastName&gt;Gupta&lt;/lastName&gt;\r\n    &lt;income&gt;100.0&lt;/income&gt;\r\n&lt;/employee&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;employee&gt;\r\n    &lt;id&gt;2&lt;/id&gt;\r\n    &lt;firstName&gt;John&lt;/firstName&gt;\r\n    &lt;lastName&gt;Mclane&lt;/lastName&gt;\r\n    &lt;income&gt;200.0&lt;/income&gt;\r\n&lt;/employee&gt;\r\n~~~\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/project-pom.xml\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/main/resources/employee.xsd\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/main/resources/employee.xjb\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/test/java/org/example/employee/EmployeeTest.java\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/OUTPUT.txt\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.1/hisrc-higherjaxb-sample-employees-2.1.1-mvn-src.zip\r\n[8]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples/Employees.b64\r\n[9]: https://linux.die.net/man/1/base64\r\n","title":"How would I marshal/ unmarshal a List of java objects to an XML without a root element?","body":"<p>Although JAXB requires a top level XML element, it does not require the immediate, physical container to be a file. The message can be unmarshaled as an input stream from anywhere. We can use this observation to <em>contain</em> each XML message in its own <code>Base64</code> stream which can then be stored as a <em>list of streams</em> (line-by-line) in one <em>meta-container</em> file.</p>\n<p>This example reads each line of an input file as a <code>Base64</code> encoded stream. Each encoded line contains one <code>Employee</code> XML element; thus, each line can be unmarshaled and put into a list of <code>Employee</code> objects. Also, the object list can be marshaled, encoded and stored as a single file.</p>\n<h4>Execution</h4>\n<p>This is a stand-alone Maven project (<a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.1/hisrc-higherjaxb-sample-employees-2.1.1-mvn-src.zip\" rel=\"nofollow noreferrer\">zip</a>). You can run the test using:</p>\n<pre><code>mvn -Ptest clean test\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/OUTPUT.txt\" rel=\"nofollow noreferrer\">output</a> shows the test results.</p>\n<p>This Maven project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/main/resources/employee.xsd\" rel=\"nofollow noreferrer\">employee.xsd</a> for the <code>Employee</code> model</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/main/resources/employee.xjb\" rel=\"nofollow noreferrer\">employee.xjb</a> for customizations</li>\n<li>A JUnit test class <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/test/java/org/example/employee/EmployeeTest.java\" rel=\"nofollow noreferrer\">EmployeeTest</a> to demonstrate (un)marshalling</li>\n<li>Sample XML files with <code>Employee</code> <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples\" rel=\"nofollow noreferrer\">data</a>.</li>\n<li>The Maven <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/project-pom.xml\" rel=\"nofollow noreferrer\">POM</a> file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Employees\n    src\n        main\n            java\n            resources\n                employee.xjb\n                employee.xsd\n        test\n            java\n                org/example/employee/EmployeeTest.java\n            resources\n                simplelogger.properties\n            samples\n                Employee1.xml\n                Employee2.xml\n                Employees.b64\n    pom.xml\n</code></pre>\n<p>The JAXB classes are generated by this plugin in this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n    org.example.employee\n        Employee.java\n        ObjectFactory.java\n</code></pre>\n<h4>Testing</h4>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/test/java/org/example/employee/EmployeeTest.java\" rel=\"nofollow noreferrer\">EmployeeTest</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to an <code>employee</code> object. When successful, the <code>employee</code> object is <em>marshaled</em> for logging and your review.</p>\n<p>In particular, the data file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples/Employees.b64\" rel=\"nofollow noreferrer\">Employees.b64</a> demonstrates how a list of XML streams can be stored in one file. The sample file contains two Base64 encoded streams, each on its own line; but, there can be any number of such lines, each representing an XML stream that JAXB can unmarshal.</p>\n<p>This code fragment from <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/employees/src/test/java/org/example/employee/EmployeeTest.java\" rel=\"nofollow noreferrer\"><code>EmployeeTest</code></a> shows how a data source file can be read line-by-line to decode and unmarshal the <code>Employee</code> data. Then, in reverse, each <code>Employee</code> object is marshaled and encoded before writing the list to a target file.</p>\n<p><strong>EmployeeTest#testEmployees()</strong></p>\n<pre><code>...\n// Read Source\ntry ( FileReader fr = new FileReader(employeesB64Source) )\n{\n    LineNumberReader lnr = new LineNumberReader(fr);\n    String employeeB64 = null;\n    while ( (employeeB64 = lnr.readLine()) != null )\n    {\n        String employeeXml = new String(decoder.decode(employeeB64), UTF_8);\n        Object root = unmarshaller.unmarshal(new StringReader(employeeXml));\n        if ( root instanceof Employee )\n            employeeList.add((Employee) root);\n    }\n}\n...\n...\n// Write Target\ntry ( FileWriter fw = new FileWriter(employeesB64Target) )\n{\n    for ( Employee employee : employeeList )\n    {\n        String employeeXml = null;\n        employeeXml = marshalToString(employee, marshaller);\n        String employeeB64 = encoder.encodeToString(employeeXml.getBytes(UTF_8));\n        fw.write(employeeB64 + nl);\n    }\n}\n</code></pre>\n<h4>Bash Bonus</h4>\n<p>As a bonus, the Linux Bash <a href=\"https://linux.die.net/man/1/base64\" rel=\"nofollow noreferrer\"><code>base64</code></a> command can be used to quickly decode <em>all</em> lines in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/employees/src/test/samples/Employees.b64\" rel=\"nofollow noreferrer\">b64</a> file:</p>\n<p><strong>Bash Shell</strong></p>\n<pre><code>$ base64 --decode Employees.b64\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;employee&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;firstName&gt;Lokesh&lt;/firstName&gt;\n    &lt;lastName&gt;Gupta&lt;/lastName&gt;\n    &lt;income&gt;100.0&lt;/income&gt;\n&lt;/employee&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;employee&gt;\n    &lt;id&gt;2&lt;/id&gt;\n    &lt;firstName&gt;John&lt;/firstName&gt;\n    &lt;lastName&gt;Mclane&lt;/lastName&gt;\n    &lt;income&gt;200.0&lt;/income&gt;\n&lt;/employee&gt;\n</code></pre>\n\n"}],"owner":{"account_id":20921976,"reputation":1,"user_id":15370363,"display_name":"Code Breaker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693600025,"creation_date":1692817687,"question_id":76964263,"body_markdown":"I have a List of java objects with structure as follows\r\n```\r\n@XmlRootElement(name = &quot;employee&quot;)\r\n@XmlAccessorType (XmlAccessType.FIELD)\r\npublic class Employee \r\n{\r\n  private Integer id;\r\n  private String firstName;\r\n  private String lastName;\r\n  private double income;\r\n   \r\n  //Getters and Setters\r\n}\r\n```\r\n\r\n\r\nI want to convert it to an XML file whose contents would just be the list without any root element.\r\n\r\nExpected Output:\r\n\r\n```\r\n&lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot; ?&gt;\r\n&lt;employee&gt;\r\n\t&lt;id&gt;l&lt;/id&gt;\r\n\t&lt;firstName&gt;Lokesh&lt;/firstName&gt;\r\n\t&lt;lastName&gt;Gupta&lt;/lastName&gt;\r\n\t&lt;income&gt;100. 0&lt;/income&gt;\r\n&lt;/employee&gt;\r\n&lt;employee&gt;\r\n\t&lt;id&gt;2&lt;/id&gt;\r\n\t&lt;firstName&gt;John&lt;/firstName&gt;\r\n\t&lt;lastName&gt;Mclane&lt;/lastName&gt;\r\n\t&lt;income&gt;200. 0&lt;/income&gt;\r\n&lt;/employee&gt;\r\n\r\n```\r\n\r\nIs there a way to achieve this with Jaxb classes or any other java to xml libraries ?\r\nAlso is there a way to unmarshall the same back to java POJO?\r\n\r\nI tried to marshall a list as is but it just gave out an &lt;/arrayList&gt;\r\n\r\nIf I tried to create a wrapper class and then marshall it, it would just add the wrapper \r\n\r\nCode: \r\n```\r\n@XmlRootElement(name = &quot;employees&quot;)\r\n@XmlAccessorType (XmlAccessType.FIELD)\r\npublic class Employees \r\n{\r\n  @XmlElement(name = &quot;employee&quot;)\r\n  private List&lt;Employee&gt; employees = null;\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n\r\n```\r\n&lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot; ?&gt;\r\n&lt;employees&gt;\r\n\t&lt;employee&gt;\r\n\t\t&lt;id&gt;l &lt;/id&gt;\r\n\t\t&lt;firstName&gt;Lokesh&lt;/firstName&gt;\r\n\t\t&lt;lastName&gt;Gupta&lt;/lastName&gt;\r\n\t\t&lt;income&gt;100. 0&lt;/income&gt;\r\n\t&lt;/employee&gt;\r\n\t&lt;employee&gt;\r\n\t\t&lt;id&gt;2&lt;/id&gt;\r\n\t\t&lt;firstName&gt;John&lt;/firstName&gt;\r\n\t\t&lt;lastName&gt;Mclane&lt;/lastName&gt;\r\n\t\t&lt;income&gt;200. 0&lt;/income&gt;\r\n\t&lt;/employee&gt;\r\n&lt;/employees&gt;\r\n```\r\n","title":"How would I marshal/ unmarshal a List of java objects to an XML without a root element?","body":"<p>I have a List of java objects with structure as follows</p>\n<pre><code>@XmlRootElement(name = &quot;employee&quot;)\n@XmlAccessorType (XmlAccessType.FIELD)\npublic class Employee \n{\n  private Integer id;\n  private String firstName;\n  private String lastName;\n  private double income;\n   \n  //Getters and Setters\n}\n</code></pre>\n<p>I want to convert it to an XML file whose contents would just be the list without any root element.</p>\n<p>Expected Output:</p>\n<pre><code>&lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot; ?&gt;\n&lt;employee&gt;\n    &lt;id&gt;l&lt;/id&gt;\n    &lt;firstName&gt;Lokesh&lt;/firstName&gt;\n    &lt;lastName&gt;Gupta&lt;/lastName&gt;\n    &lt;income&gt;100. 0&lt;/income&gt;\n&lt;/employee&gt;\n&lt;employee&gt;\n    &lt;id&gt;2&lt;/id&gt;\n    &lt;firstName&gt;John&lt;/firstName&gt;\n    &lt;lastName&gt;Mclane&lt;/lastName&gt;\n    &lt;income&gt;200. 0&lt;/income&gt;\n&lt;/employee&gt;\n\n</code></pre>\n<p>Is there a way to achieve this with Jaxb classes or any other java to xml libraries ?\nAlso is there a way to unmarshall the same back to java POJO?</p>\n<p>I tried to marshall a list as is but it just gave out an </p>\n<p>If I tried to create a wrapper class and then marshall it, it would just add the wrapper</p>\n<p>Code:</p>\n<pre><code>@XmlRootElement(name = &quot;employees&quot;)\n@XmlAccessorType (XmlAccessType.FIELD)\npublic class Employees \n{\n  @XmlElement(name = &quot;employee&quot;)\n  private List&lt;Employee&gt; employees = null;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot; ?&gt;\n&lt;employees&gt;\n    &lt;employee&gt;\n        &lt;id&gt;l &lt;/id&gt;\n        &lt;firstName&gt;Lokesh&lt;/firstName&gt;\n        &lt;lastName&gt;Gupta&lt;/lastName&gt;\n        &lt;income&gt;100. 0&lt;/income&gt;\n    &lt;/employee&gt;\n    &lt;employee&gt;\n        &lt;id&gt;2&lt;/id&gt;\n        &lt;firstName&gt;John&lt;/firstName&gt;\n        &lt;lastName&gt;Mclane&lt;/lastName&gt;\n        &lt;income&gt;200. 0&lt;/income&gt;\n    &lt;/employee&gt;\n&lt;/employees&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613546127,"creation_date":1613544712,"answer_id":66237016,"question_id":66236874,"body_markdown":"There is not context in your Question to be sure that this is the problem, but one issue with your code is that you are not waiting for the thread to finish before returning the value of `a`.  So, you are *probably* returning the contents of `a` *before* the thread has stored anything in it.\r\n\r\nIn fact, this code is all a bit wrong-headed.  If you want `request(String)` to return the value retrieved from the server, the `request` calll can&#39;t complete until the after you have retrieved the data.  This is unavoidably synchronous.  Using a `Thread` to do the retrieving is actually achieving nothing.  \r\n\r\n(Using `join()` as suggested &quot;fixes&quot; the symptom, but doesn&#39;t the pointless of using a thread here.)\r\n\r\nIf you want this to be asynchronous, you could change `request` to return a `Future&lt;String&gt;` that the caller can use to get hold of the retrieved value at a later time.\r\n\r\nAnd it would be simpler and (probably) more efficient if you used an `Executor` rather than creating once-time-use threads for each &quot;request&quot;.","title":"Java requests in thread","body":"<p>There is not context in your Question to be sure that this is the problem, but one issue with your code is that you are not waiting for the thread to finish before returning the value of <code>a</code>.  So, you are <em>probably</em> returning the contents of <code>a</code> <em>before</em> the thread has stored anything in it.</p>\n<p>In fact, this code is all a bit wrong-headed.  If you want <code>request(String)</code> to return the value retrieved from the server, the <code>request</code> calll can't complete until the after you have retrieved the data.  This is unavoidably synchronous.  Using a <code>Thread</code> to do the retrieving is actually achieving nothing.</p>\n<p>(Using <code>join()</code> as suggested &quot;fixes&quot; the symptom, but doesn't the pointless of using a thread here.)</p>\n<p>If you want this to be asynchronous, you could change <code>request</code> to return a <code>Future&lt;String&gt;</code> that the caller can use to get hold of the retrieved value at a later time.</p>\n<p>And it would be simpler and (probably) more efficient if you used an <code>Executor</code> rather than creating once-time-use threads for each &quot;request&quot;.</p>\n"},{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613546077,"creation_date":1613546077,"answer_id":66237283,"question_id":66236874,"body_markdown":"It is an asynchronous call, so your `return` statement wont wait until `thread` executes as it non blocking, you can use call back to get the `string` when and ever it is ready\r\n```Java\r\ninterface ResponseCallBack{\r\n   void onResponse(String a);\r\n   void onError(Exception e);\r\n}\r\n```\r\nthen pass this interface while calling your method\r\n```Java\r\npublic static void request(String request, ResponseCallBack responseCallBack) {\r\n    new Thread(() -&gt; {\r\n        try {\r\n            HttpURLConnection conn = (HttpURLConnection) new URL(request).openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setDoInput(true);\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n            String line, text = &quot;&quot;;\r\n            while((line = br.readLine()) != null) {\r\n                text = line;\r\n            }\r\n            br.close();\r\n            responseCallBack.onResponse(text);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            responseCallBack.onError(e);\r\n        }\r\n    }).start();\r\n}\r\n```\r\nThen you can consume it using \r\n```Java\r\nrequest(&quot;&quot;, new ResponseCallBack() {\r\n        @Override\r\n        public void onResponse(String a) {\r\n            //here string will be available\r\n        }\r\n\r\n        @Override\r\n        public void onError(Exception e) {\r\n            //error in case something failed\r\n        }\r\n});\r\n```","title":"Java requests in thread","body":"<p>It is an asynchronous call, so your <code>return</code> statement wont wait until <code>thread</code> executes as it non blocking, you can use call back to get the <code>string</code> when and ever it is ready</p>\n<pre><code>interface ResponseCallBack{\n   void onResponse(String a);\n   void onError(Exception e);\n}\n</code></pre>\n<p>then pass this interface while calling your method</p>\n<pre><code>public static void request(String request, ResponseCallBack responseCallBack) {\n    new Thread(() -&gt; {\n        try {\n            HttpURLConnection conn = (HttpURLConnection) new URL(request).openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setDoInput(true);\n            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n            String line, text = &quot;&quot;;\n            while((line = br.readLine()) != null) {\n                text = line;\n            }\n            br.close();\n            responseCallBack.onResponse(text);\n        } catch (IOException e) {\n            e.printStackTrace();\n            responseCallBack.onError(e);\n        }\n    }).start();\n}\n</code></pre>\n<p>Then you can consume it using</p>\n<pre><code>request(&quot;&quot;, new ResponseCallBack() {\n        @Override\n        public void onResponse(String a) {\n            //here string will be available\n        }\n\n        @Override\n        public void onError(Exception e) {\n            //error in case something failed\n        }\n});\n</code></pre>\n"}],"owner":{"account_id":20468283,"reputation":11,"user_id":15019302,"display_name":"IAmSoCool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66237283,"answer_count":2,"score":1,"last_activity_date":1693599085,"creation_date":1613543994,"question_id":66236874,"body_markdown":"I am stuck in this problem, I am using thread and http request to fetch data, but my method always returns either empty string or response of last request. Here is my code:\r\n\r\n    static String a = &quot;&quot;;\r\n\tpublic static String request(String request) {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tHttpURLConnection conn = (HttpURLConnection) new URL(request).openConnection();\r\n\t\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\tconn.setDoInput(true);\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n\t\t\t\tString line, text = &quot;&quot;;\r\n\t\t\t\twhile((line = br.readLine()) != null) {\r\n\t\t\t\t\ttext = line;\r\n\t\t\t\t}\r\n\t\t\t\tbr.close();\r\n\t\t\t\ta = text;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}).start();\r\n\t\treturn a;\r\n\t}","title":"Java requests in thread","body":"<p>I am stuck in this problem, I am using thread and http request to fetch data, but my method always returns either empty string or response of last request. Here is my code:</p>\n<pre><code>static String a = &quot;&quot;;\npublic static String request(String request) {\n    new Thread(() -&gt; {\n        try {\n            HttpURLConnection conn = (HttpURLConnection) new URL(request).openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setDoInput(true);\n            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n            String line, text = &quot;&quot;;\n            while((line = br.readLine()) != null) {\n                text = line;\n            }\n            br.close();\n            a = text;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }).start();\n    return a;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5519,"reputation":70063,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631902916,"creation_date":1631902916,"answer_id":69227961,"question_id":69227906,"body_markdown":"Your mistake is trying overly complicated formulas to calculate the coin amounts.\r\n\r\nJust do what you would do in the real world: grab full dollars until that&#39;s no longer possible. See how much is left. Grab quarters until that&#39;s no longer possible. See how much is left. And so on.","title":"Exact Change with Java","body":"<p>Your mistake is trying overly complicated formulas to calculate the coin amounts.</p>\n<p>Just do what you would do in the real world: grab full dollars until that's no longer possible. See how much is left. Grab quarters until that's no longer possible. See how much is left. And so on.</p>\n"},{"tags":[],"owner":{"account_id":23423410,"reputation":11,"user_id":17483246,"display_name":"Aly Mos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637620493,"creation_date":1637620493,"answer_id":70073194,"question_id":69227906,"body_markdown":"So in defining int&#39;s I would change the logic of your formula after the dollar, and first lines for singular use should be == not &gt;= but I would suggest this code:\r\n\r\n    import java.util.Scanner; \r\n    \r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          \r\n          int cents = scnr.nextInt();\r\n    \r\n          int numDollars = (cents / 100) % 100;\r\n          int numQuarters = (cents / 25) % 25;\r\n          int numDimes    = (cents / 10) % 10;\r\n          int numNickels  = ((cents / 5) % 5);\r\n          int numPennies  = ((cents / 1) % 1);\r\n    \r\n          // no change\r\n          if (cents == 0) {\r\n             System.out.println(&quot;No change&quot;);\r\n          }\r\n          \r\n          // dollars\r\n          if (numDollars &lt; 2 &amp;&amp; numDollars == 1) {\r\n             System.out.println(numDollars + &quot; Dollar&quot;);\r\n          }\r\n          \r\n          else if (numDollars &gt;= 2) {\r\n              System.out.println(numDollars + &quot; Dollars&quot;);\r\n          }\r\n          \r\n          // quarters\r\n          if (numQuarters &lt; 2 &amp;&amp; numQuarters == 1) {\r\n              System.out.println(numQuarters + &quot; Quarter&quot;);\r\n          }\r\n          \r\n          else if (numQuarters &gt;= 2) {\r\n              System.out.println(numQuarters + &quot; Quarters&quot;);\r\n          }\r\n          \r\n          // dimes      \r\n          if (numDimes &lt; 2 &amp;&amp; numDimes == 1) {\r\n              System.out.println(numDimes + &quot; Dime&quot;);\r\n          }\r\n          \r\n          else if (numDimes &gt;= 2) {\r\n              System.out.println(numDimes + &quot; Dimes&quot;);\r\n          }\r\n          \r\n          // nickels      \r\n          if (numNickels &lt; 2 &amp;&amp; numNickels == 1) {\r\n              System.out.println(numNickels + &quot; Nickel&quot;);\r\n          }\r\n          \r\n          else if (numNickels &gt;= 2) {\r\n              System.out.println(numNickels + &quot; Nickels&quot;);\r\n          }\r\n          \r\n          // pennies      \r\n          if (numPennies &lt; 2 &amp;&amp; numPennies == 1) {\r\n              System.out.println(numPennies + &quot; Penny&quot;);\r\n          }\r\n          \r\n          else if (numPennies &gt;= 2) {\r\n              System.out.println(numPennies + &quot; Pennies&quot;);\r\n          }\r\n          \r\n          \r\n       }\r\n    }\r\n\r\n","title":"Exact Change with Java","body":"<p>So in defining int's I would change the logic of your formula after the dollar, and first lines for singular use should be == not &gt;= but I would suggest this code:</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      \n      int cents = scnr.nextInt();\n\n      int numDollars = (cents / 100) % 100;\n      int numQuarters = (cents / 25) % 25;\n      int numDimes    = (cents / 10) % 10;\n      int numNickels  = ((cents / 5) % 5);\n      int numPennies  = ((cents / 1) % 1);\n\n      // no change\n      if (cents == 0) {\n         System.out.println(&quot;No change&quot;);\n      }\n      \n      // dollars\n      if (numDollars &lt; 2 &amp;&amp; numDollars == 1) {\n         System.out.println(numDollars + &quot; Dollar&quot;);\n      }\n      \n      else if (numDollars &gt;= 2) {\n          System.out.println(numDollars + &quot; Dollars&quot;);\n      }\n      \n      // quarters\n      if (numQuarters &lt; 2 &amp;&amp; numQuarters == 1) {\n          System.out.println(numQuarters + &quot; Quarter&quot;);\n      }\n      \n      else if (numQuarters &gt;= 2) {\n          System.out.println(numQuarters + &quot; Quarters&quot;);\n      }\n      \n      // dimes      \n      if (numDimes &lt; 2 &amp;&amp; numDimes == 1) {\n          System.out.println(numDimes + &quot; Dime&quot;);\n      }\n      \n      else if (numDimes &gt;= 2) {\n          System.out.println(numDimes + &quot; Dimes&quot;);\n      }\n      \n      // nickels      \n      if (numNickels &lt; 2 &amp;&amp; numNickels == 1) {\n          System.out.println(numNickels + &quot; Nickel&quot;);\n      }\n      \n      else if (numNickels &gt;= 2) {\n          System.out.println(numNickels + &quot; Nickels&quot;);\n      }\n      \n      // pennies      \n      if (numPennies &lt; 2 &amp;&amp; numPennies == 1) {\n          System.out.println(numPennies + &quot; Penny&quot;);\n      }\n      \n      else if (numPennies &gt;= 2) {\n          System.out.println(numPennies + &quot; Pennies&quot;);\n      }\n      \n      \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23423410,"reputation":11,"user_id":17483246,"display_name":"Aly Mos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637624402,"creation_date":1637624402,"answer_id":70073683,"question_id":69227906,"body_markdown":"So in defining int&#39;s I would change the logic of your formula after the dollar, and first lines for singular use should be == not &gt;= but I would suggest this code:\r\n\r\n    import java.util.Scanner; \r\n    \r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          \r\n          int cents = scnr.nextInt();\r\n    \r\n          int numDollars = (cents / 100) % 100;\r\n          int numQuarters = (cents % 100) / 25;\r\n          int numDimes    = (cents % 25) / 10;\r\n          int numNickels  = (((cents % 25) % 10) / 5);\r\n          int numPennies  = (((cents % 25) % 10) % 5);\r\n    \r\n          // no change\r\n          if (cents == 0) {\r\n             System.out.println(&quot;No change&quot;);\r\n          }\r\n          \r\n          // dollars\r\n          if (numDollars &lt; 2 &amp;&amp; numDollars == 1) {\r\n             System.out.println(numDollars + &quot; Dollar&quot;);\r\n          }\r\n          \r\n          else if (numDollars &gt;= 2) {\r\n              System.out.println(numDollars + &quot; Dollars&quot;);\r\n          }\r\n          \r\n          // quarters\r\n          if (numQuarters &lt; 2 &amp;&amp; numQuarters == 1) {\r\n              System.out.println(numQuarters + &quot; Quarter&quot;);\r\n          }\r\n          \r\n          else if (numQuarters &gt;= 2) {\r\n              System.out.println(numQuarters + &quot; Quarters&quot;);\r\n          }\r\n          \r\n          // dimes      \r\n          if (numDimes &lt; 2 &amp;&amp; numDimes == 1) {\r\n              System.out.println(numDimes + &quot; Dime&quot;);\r\n          }\r\n          \r\n          else if (numDimes &gt;= 2) {\r\n              System.out.println(numDimes + &quot; Dimes&quot;);\r\n          }\r\n          \r\n          // nickels      \r\n          if (numNickels &lt; 2 &amp;&amp; numNickels == 1) {\r\n              System.out.println(numNickels + &quot; Nickel&quot;);\r\n          }\r\n          \r\n          else if (numNickels &gt;= 2) {\r\n              System.out.println(numNickels + &quot; Nickels&quot;);\r\n          }\r\n          \r\n          // pennies      \r\n          if (numPennies &lt; 2 &amp;&amp; numPennies == 1) {\r\n              System.out.println(numPennies + &quot; Penny&quot;);\r\n          }\r\n          \r\n          else if (numPennies &gt;= 2) {\r\n              System.out.println(numPennies + &quot; Pennies&quot;);\r\n          }\r\n          \r\n          \r\n       }\r\n    }\r\n\r\n","title":"Exact Change with Java","body":"<p>So in defining int's I would change the logic of your formula after the dollar, and first lines for singular use should be == not &gt;= but I would suggest this code:</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      \n      int cents = scnr.nextInt();\n\n      int numDollars = (cents / 100) % 100;\n      int numQuarters = (cents % 100) / 25;\n      int numDimes    = (cents % 25) / 10;\n      int numNickels  = (((cents % 25) % 10) / 5);\n      int numPennies  = (((cents % 25) % 10) % 5);\n\n      // no change\n      if (cents == 0) {\n         System.out.println(&quot;No change&quot;);\n      }\n      \n      // dollars\n      if (numDollars &lt; 2 &amp;&amp; numDollars == 1) {\n         System.out.println(numDollars + &quot; Dollar&quot;);\n      }\n      \n      else if (numDollars &gt;= 2) {\n          System.out.println(numDollars + &quot; Dollars&quot;);\n      }\n      \n      // quarters\n      if (numQuarters &lt; 2 &amp;&amp; numQuarters == 1) {\n          System.out.println(numQuarters + &quot; Quarter&quot;);\n      }\n      \n      else if (numQuarters &gt;= 2) {\n          System.out.println(numQuarters + &quot; Quarters&quot;);\n      }\n      \n      // dimes      \n      if (numDimes &lt; 2 &amp;&amp; numDimes == 1) {\n          System.out.println(numDimes + &quot; Dime&quot;);\n      }\n      \n      else if (numDimes &gt;= 2) {\n          System.out.println(numDimes + &quot; Dimes&quot;);\n      }\n      \n      // nickels      \n      if (numNickels &lt; 2 &amp;&amp; numNickels == 1) {\n          System.out.println(numNickels + &quot; Nickel&quot;);\n      }\n      \n      else if (numNickels &gt;= 2) {\n          System.out.println(numNickels + &quot; Nickels&quot;);\n      }\n      \n      // pennies      \n      if (numPennies &lt; 2 &amp;&amp; numPennies == 1) {\n          System.out.println(numPennies + &quot; Penny&quot;);\n      }\n      \n      else if (numPennies &gt;= 2) {\n          System.out.println(numPennies + &quot; Pennies&quot;);\n      }\n      \n      \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27912885,"reputation":1,"user_id":21314674,"display_name":"Gage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677705040,"creation_date":1677705040,"answer_id":75609043,"question_id":69227906,"body_markdown":"I was thinking something like this. But for some reason i am getting only answers in dollars and pennies. It is skipping the other 3 if statements. \r\n\r\n    import java.util.Scanner; \r\n\r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          int pennies;\r\n          int dollars;\r\n          int quarters;\r\n          int nickels;\r\n          int dimes;\r\n          int userInput;\r\n      \r\n          Scanner scnr = new Scanner(System.in); \r\n          userInput = scnr.nextInt();\r\n      \r\n          if(userInput != 0){\r\n         \r\n      \r\n             dollars = userInput/100;\r\n             userInput = userInput - dollars*100;\r\n         \r\n             quarters = userInput/100;\r\n             userInput = userInput - quarters*25;\r\n         \r\n             dimes = userInput/100;\r\n             userInput = userInput - dimes*10;\r\n         \r\n             nickels = userInput/100;\r\n             userInput = userInput - nickels*5;\r\n         \r\n             pennies = userInput;\r\n         \r\n         \r\n             if ( dollars == 1){\r\n                System.out.println (&quot;1 Dollar&quot;);\r\n             }\r\n             else if ( dollars &gt; 1){\r\n                System.out.println (dollars+&quot; Dollars&quot;);\r\n             }\r\n         \r\n             if ( quarters == 1){\r\n                System.out.println (&quot;1 Quarter&quot;);\r\n             }\r\n             else if ( quarters &gt; 1){\r\n                System.out.println (quarters+&quot; Quarters&quot;);\r\n             }\r\n         \r\n             if ( dimes == 1){\r\n                System.out.println (&quot;1 Dime&quot;);\r\n             }\r\n             else if ( dimes &gt; 1){\r\n                System.out.println (dimes+&quot; Dimes&quot;);\r\n             }\r\n         \r\n             if ( nickels == 1){\r\n                System.out.println (&quot;1 Nickel&quot;);\r\n             }\r\n             else if ( nickels &gt; 1){\r\n                System.out.println (nickels+&quot; Nickels&quot;);\r\n             }\r\n             if ( pennies == 1){\r\n                System.out.println (&quot;1 Penny&quot;);\r\n             }\r\n             else if ( pennies &gt; 1){\r\n                System.out.println (pennies+&quot; Pennies&quot;);\r\n             }\r\n          }\r\n          else {\r\n           System.out.println(&quot;No change&quot;);  \r\n          }\r\n\r\n       }\r\n    }\r\n","title":"Exact Change with Java","body":"<p>I was thinking something like this. But for some reason i am getting only answers in dollars and pennies. It is skipping the other 3 if statements.</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      int pennies;\n      int dollars;\n      int quarters;\n      int nickels;\n      int dimes;\n      int userInput;\n  \n      Scanner scnr = new Scanner(System.in); \n      userInput = scnr.nextInt();\n  \n      if(userInput != 0){\n     \n  \n         dollars = userInput/100;\n         userInput = userInput - dollars*100;\n     \n         quarters = userInput/100;\n         userInput = userInput - quarters*25;\n     \n         dimes = userInput/100;\n         userInput = userInput - dimes*10;\n     \n         nickels = userInput/100;\n         userInput = userInput - nickels*5;\n     \n         pennies = userInput;\n     \n     \n         if ( dollars == 1){\n            System.out.println (&quot;1 Dollar&quot;);\n         }\n         else if ( dollars &gt; 1){\n            System.out.println (dollars+&quot; Dollars&quot;);\n         }\n     \n         if ( quarters == 1){\n            System.out.println (&quot;1 Quarter&quot;);\n         }\n         else if ( quarters &gt; 1){\n            System.out.println (quarters+&quot; Quarters&quot;);\n         }\n     \n         if ( dimes == 1){\n            System.out.println (&quot;1 Dime&quot;);\n         }\n         else if ( dimes &gt; 1){\n            System.out.println (dimes+&quot; Dimes&quot;);\n         }\n     \n         if ( nickels == 1){\n            System.out.println (&quot;1 Nickel&quot;);\n         }\n         else if ( nickels &gt; 1){\n            System.out.println (nickels+&quot; Nickels&quot;);\n         }\n         if ( pennies == 1){\n            System.out.println (&quot;1 Penny&quot;);\n         }\n         else if ( pennies &gt; 1){\n            System.out.println (pennies+&quot; Pennies&quot;);\n         }\n      }\n      else {\n       System.out.println(&quot;No change&quot;);  \n      }\n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27056230,"reputation":1,"user_id":20608901,"display_name":"Abraham Mendez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693598519,"creation_date":1693552543,"answer_id":77021193,"question_id":69227906,"body_markdown":"```java\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      \r\n      Scanner scnr = new Scanner(System.in);\r\n    \r\n      int userInput = scnr.nextInt();\r\n      \r\n      int change;\r\n     \r\n      int numDollars = (userInput / 100); \r\n      change = userInput % 100;\r\n      int numQuarters = (change / 25);\r\n      change = change % 25;\r\n      int numDimes = (change / 10);\r\n      change = change % 10;\r\n      int numNickels = (change / 5);\r\n      change = change % 5;\r\n      int numPennies = (change / 1);\r\n      change = change % 1;\r\n     \r\n      if (userInput &lt;= 0) {\r\n         System.out.println(&quot;No change&quot;);\r\n      }\r\n      else {\r\n         if (numDollars == 1) {\r\n            System.out.println(numDollars + &quot; Dollar&quot;);\r\n         }\r\n         else if (numDollars &gt; 1){\r\n            System.out.println(numDollars + &quot; Dollars&quot;);\r\n         }\r\n         \r\n         if (numQuarters == 1) {\r\n            System.out.println(numQuarters + &quot; Quarter&quot;);\r\n         }\r\n         else if (numQuarters &gt; 1) {\r\n            System.out.println(numQuarters + &quot; Quarters&quot;);\r\n         }\r\n         \r\n         if (numDimes == 1) {\r\n            System.out.println(numDimes + &quot; Dime&quot;);\r\n         }\r\n         else if (numDimes &gt; 1) {\r\n            System.out.println(numDimes + &quot; Dimes&quot;);\r\n         }\r\n         \r\n         if (numNickels == 1) {\r\n            System.out.println(numNickels + &quot; Nickel&quot;);\r\n         }\r\n         else if (numNickels &gt; 1) {\r\n            System.out.println(numNickels + &quot; Nickels&quot;);\r\n         }\r\n         \r\n         if (numPennies == 1) {\r\n            System.out.println(numPennies + &quot; Penny&quot;);\r\n         }\r\n         else if (numPennies &gt; 1) {\r\n            System.out.println(numPennies + &quot; Pennies&quot;);\r\n         }\r\n      }\r\n   }\r\n}\r\n```","title":"Exact Change with Java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      \n      Scanner scnr = new Scanner(System.in);\n    \n      int userInput = scnr.nextInt();\n      \n      int change;\n     \n      int numDollars = (userInput / 100); \n      change = userInput % 100;\n      int numQuarters = (change / 25);\n      change = change % 25;\n      int numDimes = (change / 10);\n      change = change % 10;\n      int numNickels = (change / 5);\n      change = change % 5;\n      int numPennies = (change / 1);\n      change = change % 1;\n     \n      if (userInput &lt;= 0) {\n         System.out.println(&quot;No change&quot;);\n      }\n      else {\n         if (numDollars == 1) {\n            System.out.println(numDollars + &quot; Dollar&quot;);\n         }\n         else if (numDollars &gt; 1){\n            System.out.println(numDollars + &quot; Dollars&quot;);\n         }\n         \n         if (numQuarters == 1) {\n            System.out.println(numQuarters + &quot; Quarter&quot;);\n         }\n         else if (numQuarters &gt; 1) {\n            System.out.println(numQuarters + &quot; Quarters&quot;);\n         }\n         \n         if (numDimes == 1) {\n            System.out.println(numDimes + &quot; Dime&quot;);\n         }\n         else if (numDimes &gt; 1) {\n            System.out.println(numDimes + &quot; Dimes&quot;);\n         }\n         \n         if (numNickels == 1) {\n            System.out.println(numNickels + &quot; Nickel&quot;);\n         }\n         else if (numNickels &gt; 1) {\n            System.out.println(numNickels + &quot; Nickels&quot;);\n         }\n         \n         if (numPennies == 1) {\n            System.out.println(numPennies + &quot; Penny&quot;);\n         }\n         else if (numPennies &gt; 1) {\n            System.out.println(numPennies + &quot; Pennies&quot;);\n         }\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":22783732,"reputation":27,"user_id":16939239,"display_name":"Tamara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69227961,"answer_count":5,"score":0,"last_activity_date":1693598519,"creation_date":1631902581,"question_id":69227906,"body_markdown":"I am struggling with a homework assignment for a Java class. My code is listed below.&lt;br&gt;\r\nI am having a problem with my dollars and quarters and outputting correctly, I am not sure what the mistake is, with the quarters or dollars? For example, I am getting the error from my lab - &lt;br&gt;\r\n&gt;*&quot; Output differs. See highlights below.&lt;br&gt;\r\nInput: 141&lt;br&gt;\r\nYour output&lt;br&gt;\r\n1 Dollar\r\n1 Dime\r\n1 Nickel\r\n1 Penny&lt;br&gt;\r\nExpected output&lt;br&gt;\r\n1 Dollar\r\n1 Quarter\r\n1 Dime\r\n1 Nickel\r\n1 Penny &quot;&lt;br&gt;*\r\n\r\n\r\n&gt;*Input: 45&lt;br&gt;\r\nYour output&lt;br&gt;\r\n2 Dimes&lt;br&gt;\r\nExpected output&lt;br&gt;\r\n1 Quarter\r\n2 Dimes*\r\n\r\nThe prompt is as follows;&lt;br&gt;\r\n\r\n&gt;*Write a program with total change amount in pennies as an integer input, and output the change using the fewest coins, one coin type per line. The coin types are Dollars, Quarters, Dimes, Nickels, and Pennies. Use singular and plural coin names as appropriate, like 1 Penny vs. 2 Pennies.&lt;br&gt;*\r\n*Ex: If the input is:\r\n0&lt;br&gt;\r\nthe output is:&lt;br&gt;\r\nNo change&lt;br&gt;*\r\n*Ex: If the input is:\r\n45\r\nthe output is:&lt;br&gt;\r\n1 Quarter&lt;br&gt;\r\n2 Dimes* \r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n    int cents = scnr.nextInt();\r\n\r\n    int numDollars = (cents / 100) % 100;\r\n    int numQuarters = (cents % 25) / 25;\r\n    int numDimes    = (cents % 25) / 10;\r\n    int numNickels  = ((cents % 25) % 10) / 5;\r\n    int numPennies  = ((cents % 25) % 10) % 5;\r\n\r\n// no change\r\n      if (cents == 0) {\r\n         System.out.println(&quot;No change&quot;);\r\n      }\r\n      \r\n// dollars\r\n      if (numDollars &lt; 2 &amp;&amp; numDollars &gt;=1) {\r\n      System.out.println(numDollars + &quot; Dollar&quot;);\r\n      }\r\n      \r\n      else if (numDollars &gt;=2) {\r\n      System.out.println(numDollars + &quot; Dollars&quot;);\r\n      }\r\n\r\n// quarters\r\n      if (numQuarters &lt; 2 &amp;&amp; numQuarters &gt;=1) {\r\n      System.out.println(numQuarters + &quot; Quarter&quot;);\r\n      }\r\n      \r\n      else if (numQuarters &gt;=2) {\r\n      System.out.println(numQuarters + &quot; Quarters&quot;);\r\n      }\r\n      \r\n// dimes      \r\n      if (numDimes &lt; 2 &amp;&amp; numDimes &gt;=1) {\r\n      System.out.println(numDimes + &quot; Dime&quot;);\r\n      }\r\n      \r\n      else if (numDimes &gt;=2) {\r\n      System.out.println(numDimes + &quot; Dimes&quot;);\r\n      }\r\n      \r\n// nickels      \r\n      if (numNickels &lt; 2 &amp;&amp; numNickels &gt;=1) {\r\n      System.out.println(numNickels + &quot; Nickel&quot;);\r\n      }\r\n      \r\n      else if (numNickels &gt;=2) {\r\n      System.out.println(numNickels + &quot; Nickels&quot;);\r\n      }\r\n\r\n// pennies      \r\n      if (numPennies &lt; 2 &amp;&amp; numPennies &gt;=1) {\r\n      System.out.println(numPennies + &quot; Penny&quot;);\r\n      }\r\n      \r\n      else if (numPennies &gt;=2) {\r\n      System.out.println(numPennies + &quot; Pennies&quot;);\r\n      }\r\n      \r\n      \r\n   }\r\n}\r\n```","title":"Exact Change with Java","body":"<p>I am struggling with a homework assignment for a Java class. My code is listed below.<br>\nI am having a problem with my dollars and quarters and outputting correctly, I am not sure what the mistake is, with the quarters or dollars? For example, I am getting the error from my lab - <br></p>\n<blockquote>\n<p><em>&quot; Output differs. See highlights below.<br>\nInput: 141<br>\nYour output<br>\n1 Dollar\n1 Dime\n1 Nickel\n1 Penny<br>\nExpected output<br>\n1 Dollar\n1 Quarter\n1 Dime\n1 Nickel\n1 Penny &quot;<br></em></p>\n</blockquote>\n<blockquote>\n<p><em>Input: 45<br>\nYour output<br>\n2 Dimes<br>\nExpected output<br>\n1 Quarter\n2 Dimes</em></p>\n</blockquote>\n<p>The prompt is as follows;<br></p>\n<blockquote>\n<p><em>Write a program with total change amount in pennies as an integer input, and output the change using the fewest coins, one coin type per line. The coin types are Dollars, Quarters, Dimes, Nickels, and Pennies. Use singular and plural coin names as appropriate, like 1 Penny vs. 2 Pennies.<br></em>\n<em>Ex: If the input is:\n0<br>\nthe output is:<br>\nNo change<br></em>\n<em>Ex: If the input is:\n45\nthe output is:<br>\n1 Quarter<br>\n2 Dimes</em></p>\n</blockquote>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      \n    int cents = scnr.nextInt();\n\n    int numDollars = (cents / 100) % 100;\n    int numQuarters = (cents % 25) / 25;\n    int numDimes    = (cents % 25) / 10;\n    int numNickels  = ((cents % 25) % 10) / 5;\n    int numPennies  = ((cents % 25) % 10) % 5;\n\n// no change\n      if (cents == 0) {\n         System.out.println(&quot;No change&quot;);\n      }\n      \n// dollars\n      if (numDollars &lt; 2 &amp;&amp; numDollars &gt;=1) {\n      System.out.println(numDollars + &quot; Dollar&quot;);\n      }\n      \n      else if (numDollars &gt;=2) {\n      System.out.println(numDollars + &quot; Dollars&quot;);\n      }\n\n// quarters\n      if (numQuarters &lt; 2 &amp;&amp; numQuarters &gt;=1) {\n      System.out.println(numQuarters + &quot; Quarter&quot;);\n      }\n      \n      else if (numQuarters &gt;=2) {\n      System.out.println(numQuarters + &quot; Quarters&quot;);\n      }\n      \n// dimes      \n      if (numDimes &lt; 2 &amp;&amp; numDimes &gt;=1) {\n      System.out.println(numDimes + &quot; Dime&quot;);\n      }\n      \n      else if (numDimes &gt;=2) {\n      System.out.println(numDimes + &quot; Dimes&quot;);\n      }\n      \n// nickels      \n      if (numNickels &lt; 2 &amp;&amp; numNickels &gt;=1) {\n      System.out.println(numNickels + &quot; Nickel&quot;);\n      }\n      \n      else if (numNickels &gt;=2) {\n      System.out.println(numNickels + &quot; Nickels&quot;);\n      }\n\n// pennies      \n      if (numPennies &lt; 2 &amp;&amp; numPennies &gt;=1) {\n      System.out.println(numPennies + &quot; Penny&quot;);\n      }\n      \n      else if (numPennies &gt;=2) {\n      System.out.println(numPennies + &quot; Pennies&quot;);\n      }\n      \n      \n   }\n}\n</code></pre>\n"},{"tags":["java","console","exit"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693592833,"post_id":77025294,"comment_id":135786362,"body_markdown":"You don&#39;t need to &quot;end the console&quot;. In fact don&#39;t call close on a `Scanner` opened on `System.in`. If you&#39;re talking about the &#39;black window&#39; your Java is running in, your app has no control over that","body":"You don&#39;t need to &quot;end the console&quot;. In fact don&#39;t call close on a <code>Scanner</code> opened on <code>System.in</code>. If you&#39;re talking about the &#39;black window&#39; your Java is running in, your app has no control over that"},{"owner":{"account_id":29347253,"reputation":13,"user_id":22485291,"display_name":"Burguel"},"score":0,"creation_date":1693593019,"post_id":77025294,"comment_id":135786388,"body_markdown":"@g00se\nNo I&#39;m using BlueJ for a school project and there we have the console that appears with ```System.out.println()```, this console I want to close...\nI know you can click on the `X` of the console window, but I want to do it automatically in the method when you click enter for example","body":"@g00se No I&#39;m using BlueJ for a school project and there we have the console that appears with <code>System.out.println()</code>, this console I want to close... I know you can click on the <code>X</code> of the console window, but I want to do it automatically in the method when you click enter for example"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693646428,"post_id":77025294,"comment_id":135790404,"body_markdown":"If you&#39;re using Windows you can create a shortcut to your app to use `javaw.exe` and the console *will* close with the code you have now. Other OS consoles can probably be made to close too.","body":"If you&#39;re using Windows you can create a shortcut to your app to use <code>javaw.exe</code> and the console <i>will</i> close with the code you have now. Other OS consoles can probably be made to close too."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693598438,"creation_date":1693596094,"answer_id":77025556,"question_id":77025294,"body_markdown":"## tl;dr\r\n\r\nNo, your Java app cannot control the outer shell app running in a console. Indeed, it makes no sense for your Java app to *want* to manipulate or kill that console.\r\n\r\n## Details\r\n\r\nThe console, where text appears and where the user types, is always under the control of another app, not your Java app. \r\n\r\nTo invoke a non-GUI Java app, you need to already be using a console. That console exists before your Java app runs. And that console exists after your Java app runs. Indeed, the console reports the ultimate result of your Java app — like any console app, your Java app reports an [exit code][1], an integer number generated as it exits. The exit code indicate whether the app ran successfully or not. For example:\r\n\r\n&gt;Process finished with exit code 0\r\n\r\nThe “outer” app providing the console can be:\r\n\r\n - A [shell][2] program within console software running via a [computer terminal][3] (in the old days)\r\n - A shell program within a console running within a [terminal emulator][4] app such as [*Terminal.app*][5] on macOS. \r\n - A shell program running within a console within a [window pane][6] of an [IDE][7]. \r\n\r\nThat last describes your situation in [BlueJ][8]. BlueJ is a specialized IDE that hides much of the elaborate ceremony involved in Java programming. \r\n\r\nBut the basic idea is the same: When you run your Java app, BlueJ constructs a console within its own application windowing, runs some kind of shell within that console, and executes your Java app. BlueJ is designed to hide the nitty-gritty details from you as a beginning student, but the actions underneath are essentially the same. \r\n\r\nYou can think of a computer as concentric circles: \r\n\r\n - In the core middle is the [CPU][9].\r\n - A ring outside that is the [operating system][10].\r\n - A further ring is a console app to interface with a human.\r\n - Next ring out is a shell app run by that console, such as [*zsh*][11], [*bash*][12], etc. The shell provides for convenient interactions with the human through a [command-line interface][13]. A shell is actually an app within the console; the human user can exit one shell and start another such as switching from *bash* to *zsh*. \r\n - Another ring outside that is any app invoked on the command-line interface of the shell. For example, the [*java*][14] [executable][15] (“command”) to run a [JVM][16], inside of which your Java code executes. Eventually your Java app ends, and the *java* command exits, returning an exit code to the shell app.\r\n - Optionally, a [GUI][17] can launch such as seen on a Mac, MS Windows, or Linux/BSD desktop computer. You can think of this as yet another outer ring. You can see GUI computers running the console during boot-up, showing console activity either by default or by alternate booting scenario.\r\n\r\n&#128073;&#127998; The point is: The console &amp; **shell app exist before, during, and after your Java app** execution. \r\n\r\nIn your case, BlueJ is constructing that console &amp; shell, and maintaining it before and after your Java app runs. So your Java app has no control over the creation/destruction of the console &amp; shell.\r\n\r\n\r\n----------\r\n\r\nBy the way, the Java team at Oracle, and the Java community, have been working on providing easier on-ramps for people new to Java.\r\n\r\n - [*JShell*][18] \r\n - [*JEP 330: Launch Single-File Source-Code Programs*][19]\r\n - [*JEP 445: Unnamed Classes and Instance Main Methods (Preview)*][20]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Exit_status\r\n  [2]: https://en.wikipedia.org/wiki/Shell_(computing)\r\n  [3]: https://en.wikipedia.org/wiki/Computer_terminal\r\n  [4]: https://en.wikipedia.org/wiki/Computer_terminal#Emulation\r\n  [5]: https://en.wikipedia.org/wiki/Terminal_(macOS)\r\n  [6]: https://en.wikipedia.org/wiki/Paned_window_(computing)\r\n  [7]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [8]: https://en.wikipedia.org/wiki/BlueJ\r\n  [9]: https://en.wikipedia.org/wiki/Central_processing_unit\r\n  [10]: https://en.wikipedia.org/wiki/Operating_system\r\n  [11]: https://en.wikipedia.org/wiki/Z_shell\r\n  [12]: https://en.wikipedia.org/wiki/Bash_(Unix_shell)\r\n  [13]: https://en.wikipedia.org/wiki/Command-line_interface\r\n  [14]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\r\n  [15]: https://en.wikipedia.org/wiki/Executable\r\n  [16]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [17]: https://en.wikipedia.org/wiki/Graphical_user_interface\r\n  [18]: https://en.wikipedia.org/wiki/JShell\r\n  [19]: https://openjdk.org/jeps/330\r\n  [20]: https://openjdk.org/jeps/445","title":"How to auto close the console in BlueJ","body":"<h2>tl;dr</h2>\n<p>No, your Java app cannot control the outer shell app running in a console. Indeed, it makes no sense for your Java app to <em>want</em> to manipulate or kill that console.</p>\n<h2>Details</h2>\n<p>The console, where text appears and where the user types, is always under the control of another app, not your Java app.</p>\n<p>To invoke a non-GUI Java app, you need to already be using a console. That console exists before your Java app runs. And that console exists after your Java app runs. Indeed, the console reports the ultimate result of your Java app — like any console app, your Java app reports an <a href=\"https://en.wikipedia.org/wiki/Exit_status\" rel=\"nofollow noreferrer\">exit code</a>, an integer number generated as it exits. The exit code indicate whether the app ran successfully or not. For example:</p>\n<blockquote>\n<p>Process finished with exit code 0</p>\n</blockquote>\n<p>The “outer” app providing the console can be:</p>\n<ul>\n<li>A <a href=\"https://en.wikipedia.org/wiki/Shell_(computing)\" rel=\"nofollow noreferrer\">shell</a> program within console software running via a <a href=\"https://en.wikipedia.org/wiki/Computer_terminal\" rel=\"nofollow noreferrer\">computer terminal</a> (in the old days)</li>\n<li>A shell program within a console running within a <a href=\"https://en.wikipedia.org/wiki/Computer_terminal#Emulation\" rel=\"nofollow noreferrer\">terminal emulator</a> app such as <a href=\"https://en.wikipedia.org/wiki/Terminal_(macOS)\" rel=\"nofollow noreferrer\"><em>Terminal.app</em></a> on macOS.</li>\n<li>A shell program running within a console within a <a href=\"https://en.wikipedia.org/wiki/Paned_window_(computing)\" rel=\"nofollow noreferrer\">window pane</a> of an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>.</li>\n</ul>\n<p>That last describes your situation in <a href=\"https://en.wikipedia.org/wiki/BlueJ\" rel=\"nofollow noreferrer\">BlueJ</a>. BlueJ is a specialized IDE that hides much of the elaborate ceremony involved in Java programming.</p>\n<p>But the basic idea is the same: When you run your Java app, BlueJ constructs a console within its own application windowing, runs some kind of shell within that console, and executes your Java app. BlueJ is designed to hide the nitty-gritty details from you as a beginning student, but the actions underneath are essentially the same.</p>\n<p>You can think of a computer as concentric circles:</p>\n<ul>\n<li>In the core middle is the <a href=\"https://en.wikipedia.org/wiki/Central_processing_unit\" rel=\"nofollow noreferrer\">CPU</a>.</li>\n<li>A ring outside that is the <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">operating system</a>.</li>\n<li>A further ring is a console app to interface with a human.</li>\n<li>Next ring out is a shell app run by that console, such as <a href=\"https://en.wikipedia.org/wiki/Z_shell\" rel=\"nofollow noreferrer\"><em>zsh</em></a>, <a href=\"https://en.wikipedia.org/wiki/Bash_(Unix_shell)\" rel=\"nofollow noreferrer\"><em>bash</em></a>, etc. The shell provides for convenient interactions with the human through a <a href=\"https://en.wikipedia.org/wiki/Command-line_interface\" rel=\"nofollow noreferrer\">command-line interface</a>. A shell is actually an app within the console; the human user can exit one shell and start another such as switching from <em>bash</em> to <em>zsh</em>.</li>\n<li>Another ring outside that is any app invoked on the command-line interface of the shell. For example, the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\"><em>java</em></a> <a href=\"https://en.wikipedia.org/wiki/Executable\" rel=\"nofollow noreferrer\">executable</a> (“command”) to run a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>, inside of which your Java code executes. Eventually your Java app ends, and the <em>java</em> command exits, returning an exit code to the shell app.</li>\n<li>Optionally, a <a href=\"https://en.wikipedia.org/wiki/Graphical_user_interface\" rel=\"nofollow noreferrer\">GUI</a> can launch such as seen on a Mac, MS Windows, or Linux/BSD desktop computer. You can think of this as yet another outer ring. You can see GUI computers running the console during boot-up, showing console activity either by default or by alternate booting scenario.</li>\n</ul>\n<p>👉🏾 The point is: The console &amp; <strong>shell app exist before, during, and after your Java app</strong> execution.</p>\n<p>In your case, BlueJ is constructing that console &amp; shell, and maintaining it before and after your Java app runs. So your Java app has no control over the creation/destruction of the console &amp; shell.</p>\n<hr />\n<p>By the way, the Java team at Oracle, and the Java community, have been working on providing easier on-ramps for people new to Java.</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/JShell\" rel=\"nofollow noreferrer\"><em>JShell</em></a></li>\n<li><a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\"><em>JEP 330: Launch Single-File Source-Code Programs</em></a></li>\n<li><a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\"><em>JEP 445: Unnamed Classes and Instance Main Methods (Preview)</em></a></li>\n</ul>\n"}],"owner":{"account_id":29347253,"reputation":13,"user_id":22485291,"display_name":"Burguel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77025556,"answer_count":1,"score":1,"last_activity_date":1693598438,"creation_date":1693592364,"question_id":77025294,"body_markdown":"I want to exit only the console in a method.\r\n\r\nI tried this:\r\n```\r\nimport java.util.Scanner;\r\n\r\nScanner input = new Scanner(System.in);\r\nSystem.out.print(&quot;Press Enter to quit...&quot;);\r\ninput.nextLine();\r\n```\r\nand now I want only to end the console, I tried `System.exit(0);`, but this only &quot;deletes&quot; the object and the console stays. Is there any other command I can use?\r\n\r\n*I&#39;m using BlueJ for a school project and there we have the console that appears with* `System.out.println()`*, this console I want to close... I know you can click on the* `X` *of the console window, but I want to do it automatically in the method when you click enter for example*","title":"How to auto close the console in BlueJ","body":"<p>I want to exit only the console in a method.</p>\n<p>I tried this:</p>\n<pre><code>import java.util.Scanner;\n\nScanner input = new Scanner(System.in);\nSystem.out.print(&quot;Press Enter to quit...&quot;);\ninput.nextLine();\n</code></pre>\n<p>and now I want only to end the console, I tried <code>System.exit(0);</code>, but this only &quot;deletes&quot; the object and the console stays. Is there any other command I can use?</p>\n<p><em>I'm using BlueJ for a school project and there we have the console that appears with</em> <code>System.out.println()</code><em>, this console I want to close... I know you can click on the</em> <code>X</code> <em>of the console window, but I want to do it automatically in the method when you click enter for example</em></p>\n"},{"tags":["java","android-studio","gradle"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1693580933,"post_id":77024210,"comment_id":135784357,"body_markdown":"`7.4.0` is actually _later_ than `7.4.0-alpha05` because release versions always come _after_ alpha/beta/preview versions.","body":"<code>7.4.0</code> is actually <i>later</i> than <code>7.4.0-alpha05</code> because release versions always come <i>after</i> alpha/beta/preview versions."}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693598014,"creation_date":1693598014,"answer_id":77025699,"question_id":77024210,"body_markdown":"2/3 of your question is your answer twice.  \r\nDepending on point of view, either your Android Studio is too old, or your Android Gradle plugin is too new.  \r\nA release version (7.4.0) is of course newer than a pre-release version (7.4.0-alpha05).","title":"&quot;The project is using an incompatible version (AGP 7.4.0) of the Android Gradle plugin. Latest supported version is AGP 7.4.0-alpha05 !:&amp;&#233;&quot;&#39;(q&#224;&#231;xxc;&quot;:","body":"<p>2/3 of your question is your answer twice.<br />\nDepending on point of view, either your Android Studio is too old, or your Android Gradle plugin is too new.<br />\nA release version (7.4.0) is of course newer than a pre-release version (7.4.0-alpha05).</p>\n"}],"owner":{"account_id":29346024,"reputation":1,"user_id":22484322,"display_name":"UvaxL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693598014,"creation_date":1693580705,"question_id":77024210,"body_markdown":"when i try to open a project\r\n\r\ni get this error in my android studio projct : \r\n\r\nThe project is using an incompatible version (AGP 7.4.0) of the Android Gradle plugin. Latest supported version is AGP 7.4.0-alpha05\r\n\r\nWhere exactly is the error ","title":"&quot;The project is using an incompatible version (AGP 7.4.0) of the Android Gradle plugin. Latest supported version is AGP 7.4.0-alpha05 !:&amp;&#233;&quot;&#39;(q&#224;&#231;xxc;&quot;:","body":"<p>when i try to open a project</p>\n<p>i get this error in my android studio projct :</p>\n<p>The project is using an incompatible version (AGP 7.4.0) of the Android Gradle plugin. Latest supported version is AGP 7.4.0-alpha05</p>\n<p>Where exactly is the error</p>\n"},{"tags":["java","calendar","timezone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435593237,"creation_date":1435593237,"answer_id":31120213,"question_id":31120039,"body_markdown":"You&#39;re calling `getTime()` to get a `Date` instance, and then calling `toString()` on that, implicitly - that will *always* use the system local time zone.\r\n\r\nYou want to use `SimpleDateFormat` so that you can control the time zone used for formatting. For example:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm z&quot;, Locale.US);\r\n    formatter.setTimeZone(depart.getTimeZone());\r\n    System.out.println(&quot;Depart: &quot; + formatter.format(depart.getTime()));\r\n    formatter.setTimeZone(arrive.getTimeZone());\r\n    System.out.println(&quot;Arrive: &quot; + formatter.format(arrive.getTime()));\r\n","title":"Using 2 Calendar class instances to get time difference","body":"<p>You're calling <code>getTime()</code> to get a <code>Date</code> instance, and then calling <code>toString()</code> on that, implicitly - that will <em>always</em> use the system local time zone.</p>\n\n<p>You want to use <code>SimpleDateFormat</code> so that you can control the time zone used for formatting. For example:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm z\", Locale.US);\nformatter.setTimeZone(depart.getTimeZone());\nSystem.out.println(\"Depart: \" + formatter.format(depart.getTime()));\nformatter.setTimeZone(arrive.getTimeZone());\nSystem.out.println(\"Arrive: \" + formatter.format(arrive.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435593504,"creation_date":1435593504,"answer_id":31120302,"question_id":31120039,"body_markdown":"You can use `DateFormat`s to present your dates as you wish:\r\n\r\n    DateFormat departDF = DateFormat.getDateTimeInstance(\r\n        DateFormat.LONG, DateFormat.LONG, Locale.US\r\n    );\r\n    departDF.setTimeZone(depart.getTimeZone());\r\n    System.out.println(departDF.format(depart.getTime()));\r\n    DateFormat arriveDF = DateFormat.getDateTimeInstance(\r\n        //                                change to US if you want them homologated\r\n        //                                it won&#39;t change the time zone info or date/time\r\n        DateFormat.LONG, DateFormat.LONG, Locale.GERMANY\r\n    );\r\n    arriveDF.setTimeZone(arrive.getTimeZone());\r\n    System.out.println(arriveDF.format(arrive.getTime()));\r\n\r\n**Output**\r\n\r\n    July 15, 2015 5:35:43 PM CDT\r\n    16. Juli 2015 09:50:43 CEST","title":"Using 2 Calendar class instances to get time difference","body":"<p>You can use <code>DateFormat</code>s to present your dates as you wish:</p>\n\n<pre><code>DateFormat departDF = DateFormat.getDateTimeInstance(\n    DateFormat.LONG, DateFormat.LONG, Locale.US\n);\ndepartDF.setTimeZone(depart.getTimeZone());\nSystem.out.println(departDF.format(depart.getTime()));\nDateFormat arriveDF = DateFormat.getDateTimeInstance(\n    //                                change to US if you want them homologated\n    //                                it won't change the time zone info or date/time\n    DateFormat.LONG, DateFormat.LONG, Locale.GERMANY\n);\narriveDF.setTimeZone(arrive.getTimeZone());\nSystem.out.println(arriveDF.format(arrive.getTime()));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>July 15, 2015 5:35:43 PM CDT\n16. Juli 2015 09:50:43 CEST\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693597346,"creation_date":1693589458,"answer_id":77025050,"question_id":31120039,"body_markdown":"&gt; I am using the Calendar library within Java to try and figure out a\r\n&gt; problem with my application\r\n\r\nYou should have used `java.time` API which had been already in use for more than a year when you posted your question.\r\n\r\njava.time\r\n--\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\n&gt; ... leaving at 5:35 pm on 7/15/2015 from Chicago, while arrive is\r\n&gt; landing at 9:50 am on 7/16/15 in Berlin, Germany ...\r\n&gt; ... to display the travel duration\r\n\r\nYou can create `ZonedDateTime` instances and find the `Duration` between them. \r\n\r\n**Demo:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZonedDateTime depart = ZonedDateTime.of(LocalDateTime.of(2015, 7, 15, 17, 35), ZoneId.of(&quot;America/Chicago&quot;));\r\n            ZonedDateTime arrive = ZonedDateTime.of(LocalDateTime.of(2015, 7, 16, 9, 50), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n            Duration duration = Duration.between(depart, arrive);\r\n            System.out.println(&quot;Depart: &quot; + depart);\r\n            System.out.println(&quot;Arrive: &quot; + arrive);\r\n            System.out.printf(&quot;Flight duration: %d hours %d minutes%n&quot;, duration.toHoursPart(), duration.toMinutesPart());\r\n    \r\n            //An example of a custom format\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\r\n            System.out.println(depart.format(formatter));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Depart: 2015-07-15T17:35-05:00[America/Chicago]\r\n    Arrive: 2015-07-16T09:50+02:00[Europe/Berlin]\r\n    Flight duration: 9 hours 15 minutes\r\n    Wed Jul 15 17:35:00 CDT 2015\r\n\r\n[Online Demo](https://ideone.com/OUyAcS)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**","title":"Using 2 Calendar class instances to get time difference","body":"<blockquote>\n<p>I am using the Calendar library within Java to try and figure out a\nproblem with my application</p>\n</blockquote>\n<p>You should have used <code>java.time</code> API which had been already in use for more than a year when you posted your question.</p>\n<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<blockquote>\n<p>... leaving at 5:35 pm on 7/15/2015 from Chicago, while arrive is\nlanding at 9:50 am on 7/16/15 in Berlin, Germany ...\n... to display the travel duration</p>\n</blockquote>\n<p>You can create <code>ZonedDateTime</code> instances and find the <code>Duration</code> between them.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        ZonedDateTime depart = ZonedDateTime.of(LocalDateTime.of(2015, 7, 15, 17, 35), ZoneId.of(&quot;America/Chicago&quot;));\n        ZonedDateTime arrive = ZonedDateTime.of(LocalDateTime.of(2015, 7, 16, 9, 50), ZoneId.of(&quot;Europe/Berlin&quot;));\n        Duration duration = Duration.between(depart, arrive);\n        System.out.println(&quot;Depart: &quot; + depart);\n        System.out.println(&quot;Arrive: &quot; + arrive);\n        System.out.printf(&quot;Flight duration: %d hours %d minutes%n&quot;, duration.toHoursPart(), duration.toMinutesPart());\n\n        //An example of a custom format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\n        System.out.println(depart.format(formatter));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Depart: 2015-07-15T17:35-05:00[America/Chicago]\nArrive: 2015-07-16T09:50+02:00[Europe/Berlin]\nFlight duration: 9 hours 15 minutes\nWed Jul 15 17:35:00 CDT 2015\n</code></pre>\n<p><a href=\"https://ideone.com/OUyAcS\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":5092537,"reputation":7,"user_id":4085116,"accept_rate":80,"display_name":"Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31120213,"answer_count":3,"score":0,"last_activity_date":1693597346,"creation_date":1435592753,"question_id":31120039,"body_markdown":"I am using the Calendar library within Java to try and figure out a problem with my application:\r\n\r\nI have two Calendar instances, `depart` and `arrive`. \r\n\r\n`depart` is leaving at **5:35 pm on 7/15/2015** from Chicago, while `arrive` is landing at **9:50 am on 7/16/15** in Berlin, Germany.\r\n\r\nMy current code to display the travel duration is:\r\n\r\n        Calendar depart = Calendar.getInstance();    \t\r\n    \tCalendar arrive = Calendar.getInstance();\r\n    \t\r\n    \tdepart.setTimeZone(TimeZone.getTimeZone(&quot;America/Chicago&quot;));\r\n    \tarrive.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n    \t\r\n    \tdepart.set(Calendar.MONTH, 6);\r\n    \tdepart.set(Calendar.DAY_OF_MONTH, 15);\r\n    \tdepart.set(Calendar.HOUR_OF_DAY, 17);\r\n    \tdepart.set(Calendar.MINUTE, 35);\r\n    \t\r\n    \tarrive.set(Calendar.MONTH, 6);\r\n    \tarrive.set(Calendar.DAY_OF_MONTH, 16);\r\n    \tarrive.set(Calendar.HOUR_OF_DAY, 9);\r\n    \tarrive.set(Calendar.MINUTE, 50);\r\n\r\n    System.out.println(&quot;Depart: &quot; + depart.getTime() + &quot;\\nArrive: &quot; + arrive.getTime());\r\n\t\t\r\n\tlong hours = (arrive.getTimeInMillis() - depart.getTimeInMillis()) / (1000*60*60);\r\n\tlong minutes = (arrive.getTimeInMillis() - depart.getTimeInMillis()) / (1000*60) - (hours*60);\r\n\t\t\r\n    System.out.println(&quot;Flight duration: &quot; + hours + &quot; hours&quot; + &quot; &quot; + minutes + &quot; minutes&quot;);`\r\n\r\nand the result is:\r\n \r\n`Depart: Wed Jul 15 17:35:53 CDT 2015\r\nArrive: Thu Jul 16 02:50:53 CDT 2015\r\nFlight duration: 9 hours 15 minutes`\r\n\r\n...But I need the result to be:\r\n\r\n`Depart: Wed Jul 15 17:35:53 CDT 2015\r\nArrive: Thu Jul 16 **09:50:53 Central European Timezone** 2015\r\nFlight duration: 9 hours 15 minutes`\r\n\r\n**I need to change both depart and arrive so they display their local time, but still report the correct travel duration of 9 hours and 15 minutes.**\r\n\r\n  ","title":"Using 2 Calendar class instances to get time difference","body":"<p>I am using the Calendar library within Java to try and figure out a problem with my application:</p>\n\n<p>I have two Calendar instances, <code>depart</code> and <code>arrive</code>. </p>\n\n<p><code>depart</code> is leaving at <strong>5:35 pm on 7/15/2015</strong> from Chicago, while <code>arrive</code> is landing at <strong>9:50 am on 7/16/15</strong> in Berlin, Germany.</p>\n\n<p>My current code to display the travel duration is:</p>\n\n<pre><code>    Calendar depart = Calendar.getInstance();       \n    Calendar arrive = Calendar.getInstance();\n\n    depart.setTimeZone(TimeZone.getTimeZone(\"America/Chicago\"));\n    arrive.setTimeZone(TimeZone.getTimeZone(\"Europe/Berlin\"));\n\n    depart.set(Calendar.MONTH, 6);\n    depart.set(Calendar.DAY_OF_MONTH, 15);\n    depart.set(Calendar.HOUR_OF_DAY, 17);\n    depart.set(Calendar.MINUTE, 35);\n\n    arrive.set(Calendar.MONTH, 6);\n    arrive.set(Calendar.DAY_OF_MONTH, 16);\n    arrive.set(Calendar.HOUR_OF_DAY, 9);\n    arrive.set(Calendar.MINUTE, 50);\n\nSystem.out.println(\"Depart: \" + depart.getTime() + \"\\nArrive: \" + arrive.getTime());\n\nlong hours = (arrive.getTimeInMillis() - depart.getTimeInMillis()) / (1000*60*60);\nlong minutes = (arrive.getTimeInMillis() - depart.getTimeInMillis()) / (1000*60) - (hours*60);\n\nSystem.out.println(\"Flight duration: \" + hours + \" hours\" + \" \" + minutes + \" minutes\");`\n</code></pre>\n\n<p>and the result is:</p>\n\n<p><code>Depart: Wed Jul 15 17:35:53 CDT 2015\nArrive: Thu Jul 16 02:50:53 CDT 2015\nFlight duration: 9 hours 15 minutes</code></p>\n\n<p>...But I need the result to be:</p>\n\n<p><code>Depart: Wed Jul 15 17:35:53 CDT 2015\nArrive: Thu Jul 16 **09:50:53 Central European Timezone** 2015\nFlight duration: 9 hours 15 minutes</code></p>\n\n<p><strong>I need to change both depart and arrive so they display their local time, but still report the correct travel duration of 9 hours and 15 minutes.</strong></p>\n"},{"tags":["java","hibernate","jpa","many-to-many","entity-relationship"],"comments":[{"owner":{"account_id":506013,"reputation":124,"user_id":1257295,"display_name":"Iuliana Cosmina"},"score":1,"creation_date":1559078262,"post_id":36803306,"comment_id":99305321,"body_markdown":"I hope this makes it clear for you: https://github.com/iuliana/many-to-many .  You are welcome. :)","body":"I hope this makes it clear for you: <a href=\"https://github.com/iuliana/many-to-many\" rel=\"nofollow noreferrer\">github.com/iuliana/many-to-many</a> .  You are welcome. :)"}],"answers":[{"tags":[],"owner":{"account_id":8265293,"reputation":3800,"user_id":6215069,"display_name":"Dean Clark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461359729,"creation_date":1461359729,"answer_id":36803427,"question_id":36803306,"body_markdown":"Nope. Both sides get `@ManyToMany`, but only one has the `@JoinTable`\r\n\r\n[More ManyToMany info here][1]\r\n\r\n\r\n  [1]: http://blog.jbaysolutions.com/2012/12/17/jpa-2-relationships-many-to-many/","title":"Should @JoinTable be specified in both sides of a @ManyToMany relationship?","body":"<p>Nope. Both sides get <code>@ManyToMany</code>, but only one has the <code>@JoinTable</code></p>\n\n<p><a href=\"http://blog.jbaysolutions.com/2012/12/17/jpa-2-relationships-many-to-many/\" rel=\"nofollow\">More ManyToMany info here</a></p>\n"},{"tags":[],"owner":{"account_id":5577435,"reputation":257,"user_id":4420444,"display_name":"unxn3rd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461360026,"creation_date":1461360026,"answer_id":36803491,"question_id":36803306,"body_markdown":"For `@ManyToMany` to work on an an existing schema (not made by Hibernate) you will have to use the @JoinTable annotation on both classes to specify the table and which columns map to Java member variables in the appropriate class. I think this example may help you with what properties should be passed to the annotation:\r\n\r\nhttps://dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-mapping-many-to-many-using-annotations-1.html\r\n","title":"Should @JoinTable be specified in both sides of a @ManyToMany relationship?","body":"<p>For <code>@ManyToMany</code> to work on an an existing schema (not made by Hibernate) you will have to use the @JoinTable annotation on both classes to specify the table and which columns map to Java member variables in the appropriate class. I think this example may help you with what properties should be passed to the annotation:</p>\n\n<p><a href=\"https://dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-mapping-many-to-many-using-annotations-1.html\" rel=\"nofollow\">https://dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-mapping-many-to-many-using-annotations-1.html</a></p>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1461904940,"creation_date":1461602875,"answer_id":36846479,"question_id":36803306,"body_markdown":"It&#39;s actually a good question, and it helps to understand the concept of an &quot;owning&quot; entity because neither side needs a `@JoinTable` annotation. If you want to prevent both sides from having `join tables`, a good idea, then you need to have a `mappedBy=` element on one side. The `@JoinTable` annotation is used to either specify the table name, or the columns that map the association.\r\n\r\nFirst look at the [Javadoc for @JoinTable](http://docs.oracle.com/javaee/7/api/javax/persistence/JoinTable.html):\r\n\r\n&gt; Specifies the mapping of associations. It is applied to the owning side of an association.\r\n\r\nWhether or not there is a `join table` is controlled by the `mappedBy=&quot;name&quot;` element of the `@ManyToMany` annotation. The [Javadoc for mappedBy for the `ManyToMany` annotation says](http://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#mappedBy--):\r\n&gt; The field that owns the relationship. Required unless the relationship is unidirectional.\r\n\r\nFor your (bidirectional) example in Hibernate (5.0.9.Final), if there were only two `@ManyToMany` annotations and no `mappedBy=` element, the default will have two `Entity` tables and two `Join Tables`:\r\n\r\n    Hibernate: create table Course (id bigint not null, primary key (id))\r\n    Hibernate: create table Course_Member (Course_id bigint not null, members_id bigint not null, primary key (Course_id, members_id))\r\n    Hibernate: create table Member (id bigint not null, primary key (id))\r\n    Hibernate: create table Member_Course (Member_id bigint not null, courses_id bigint not null, primary key (Member_id, courses_id))\r\n\r\nWhile this is saying that each Entity &quot;owns&quot; its `ManyToMany` relationship, the extra `join table` is redundant in the typical use case. However, if I decide to have the `Member` entity &quot;own&quot; the relationship, then I add the `mappedBy=` element to the `Course` entity to specify that it doesn&#39;t own the relationship:\r\n\r\n    @ManyToMany(mappedBy=&quot;courses&quot;)\r\n    Set&lt;Member&gt; members;\r\n\r\nAdding `@JoinTable(name=&quot;Member_Course&quot;)` to the `Member` entity doesn&#39;t change anything: it&#39;s only naming the table the same as it would have been named anyway. \r\n\r\nSince the `Course` entity no longer owns its `ManyToMany` relationship, the extra `JoinTable` will not be created:\r\n\r\n    Hibernate: create table Course (id bigint not null, primary key (id))\r\n    Hibernate: create table Member (id bigint not null, primary key (id))\r\n    Hibernate: create table Member_Course (members_id bigint not null, courses_id bigint not null, primary key (members_id, courses_id))\r\n\r\nThis is important to the developer because he or she must understand that no relationship is persisted unless it&#39;s added to the owning entity, in this case the `Member` entity. However, since this a bidirectional relationship, the developer should be adding **both** a `Course` to `Member.courses` and a `Member` to `Course.members` anyway. \r\n\r\nSo, if you have a `bidirectional` `ManyToMany` relationship, which means you have `ManyToMany` on both entities involved, then you should add a `mappedBy=&quot;name&quot;` on one of them to avoid having a redundant `join table`. Since it&#39;s bidirectional, I don&#39;t think it matters which side you make the `owning` entity. As always, it&#39;s always a good idea to enable the sql logs and see what&#39;s going on in the database:\r\n\r\nReferences: \r\n\r\n[What is the difference between Unidirectional and Bidirectional associations?](https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-associations).\r\n\r\n[What does relationship owner means in bidirectional relationship?](https://stackoverflow.com/questions/8931342/what-does-relationship-owner-means-in-bidirectional-relationship).\r\n\r\n[What is the “owning side” in an ORM mapping?](https://stackoverflow.com/questions/2749689/what-is-the-owning-side-in-an-orm-mapping).\r\n\r\n[Most efficient way to prevent an infinite recursion in toString()?](https://stackoverflow.com/questions/11300203/most-efficient-way-to-prevent-an-infinite-recursion-in-tostring).","title":"Should @JoinTable be specified in both sides of a @ManyToMany relationship?","body":"<p>It's actually a good question, and it helps to understand the concept of an \"owning\" entity because neither side needs a <code>@JoinTable</code> annotation. If you want to prevent both sides from having <code>join tables</code>, a good idea, then you need to have a <code>mappedBy=</code> element on one side. The <code>@JoinTable</code> annotation is used to either specify the table name, or the columns that map the association.</p>\n\n<p>First look at the <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/JoinTable.html\" rel=\"noreferrer\">Javadoc for @JoinTable</a>:</p>\n\n<blockquote>\n  <p>Specifies the mapping of associations. It is applied to the owning side of an association.</p>\n</blockquote>\n\n<p>Whether or not there is a <code>join table</code> is controlled by the <code>mappedBy=\"name\"</code> element of the <code>@ManyToMany</code> annotation. The <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#mappedBy--\" rel=\"noreferrer\">Javadoc for mappedBy for the <code>ManyToMany</code> annotation says</a>:</p>\n\n<blockquote>\n  <p>The field that owns the relationship. Required unless the relationship is unidirectional.</p>\n</blockquote>\n\n<p>For your (bidirectional) example in Hibernate (5.0.9.Final), if there were only two <code>@ManyToMany</code> annotations and no <code>mappedBy=</code> element, the default will have two <code>Entity</code> tables and two <code>Join Tables</code>:</p>\n\n<pre><code>Hibernate: create table Course (id bigint not null, primary key (id))\nHibernate: create table Course_Member (Course_id bigint not null, members_id bigint not null, primary key (Course_id, members_id))\nHibernate: create table Member (id bigint not null, primary key (id))\nHibernate: create table Member_Course (Member_id bigint not null, courses_id bigint not null, primary key (Member_id, courses_id))\n</code></pre>\n\n<p>While this is saying that each Entity \"owns\" its <code>ManyToMany</code> relationship, the extra <code>join table</code> is redundant in the typical use case. However, if I decide to have the <code>Member</code> entity \"own\" the relationship, then I add the <code>mappedBy=</code> element to the <code>Course</code> entity to specify that it doesn't own the relationship:</p>\n\n<pre><code>@ManyToMany(mappedBy=\"courses\")\nSet&lt;Member&gt; members;\n</code></pre>\n\n<p>Adding <code>@JoinTable(name=\"Member_Course\")</code> to the <code>Member</code> entity doesn't change anything: it's only naming the table the same as it would have been named anyway. </p>\n\n<p>Since the <code>Course</code> entity no longer owns its <code>ManyToMany</code> relationship, the extra <code>JoinTable</code> will not be created:</p>\n\n<pre><code>Hibernate: create table Course (id bigint not null, primary key (id))\nHibernate: create table Member (id bigint not null, primary key (id))\nHibernate: create table Member_Course (members_id bigint not null, courses_id bigint not null, primary key (members_id, courses_id))\n</code></pre>\n\n<p>This is important to the developer because he or she must understand that no relationship is persisted unless it's added to the owning entity, in this case the <code>Member</code> entity. However, since this a bidirectional relationship, the developer should be adding <strong>both</strong> a <code>Course</code> to <code>Member.courses</code> and a <code>Member</code> to <code>Course.members</code> anyway. </p>\n\n<p>So, if you have a <code>bidirectional</code> <code>ManyToMany</code> relationship, which means you have <code>ManyToMany</code> on both entities involved, then you should add a <code>mappedBy=\"name\"</code> on one of them to avoid having a redundant <code>join table</code>. Since it's bidirectional, I don't think it matters which side you make the <code>owning</code> entity. As always, it's always a good idea to enable the sql logs and see what's going on in the database:</p>\n\n<p>References: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-associations\">What is the difference between Unidirectional and Bidirectional associations?</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8931342/what-does-relationship-owner-means-in-bidirectional-relationship\">What does relationship owner means in bidirectional relationship?</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2749689/what-is-the-owning-side-in-an-orm-mapping\">What is the “owning side” in an ORM mapping?</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11300203/most-efficient-way-to-prevent-an-infinite-recursion-in-tostring\">Most efficient way to prevent an infinite recursion in toString()?</a>.</p>\n"},{"tags":[],"owner":{"account_id":14141125,"reputation":171,"user_id":10215887,"display_name":"Julia Hin&#223;en IT.NRW"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1559063831,"creation_date":1559061355,"answer_id":56346649,"question_id":36803306,"body_markdown":"**You actually CAN use @JoinTable on both sides** and often it makes perfect sense! I am talking out of experience after I had been looking for this solution for weeks.\r\n\r\nEven though all throughout the internet, blogs and articles tell a different story - and the Javadoc of JPA is easily misunderstood (or wrong) in this way. I tried it after seeing this uncommented example in a book for professionals - and it worked.\r\n\r\n**How to do it:**\r\n\r\nSinger-Instrument-Association:\r\n**Singer side**:\r\n\r\n    @ManyToMany \r\n    @JoinTable(name = &quot;singer_instrument&quot;, joinColumns =\r\n    @JoinColumn(name = &quot;SINGER_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;INSTRUMENT_ID&quot;)) \r\n    public Set&lt;Instrument&gt; instruments;\r\n\r\nAnd exactly the same on the other side!\r\n**Instrument side**:\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;singer_instrument&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;INSTRUMENT_ID&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;SINGER_ID&quot;))\r\n    public Set&lt;Singer&gt; singers;\r\n\r\nSo, if you address the same join table, &quot;singer_instrument&quot;, with the same name, it work&#39;s. \r\nIf you address one join table &quot;singer_instrument&quot; and one join table &quot;instrument-singer&quot; though, it will indead result in two different join tables in the database.\r\n\r\nThis makes a lot of sense, because a many-to-many relationship has **no** owning side - seen from the database perspective. Owning side means the side, that owns the **foreign key** of the relationship. But neither the table &quot;singer&quot; nor &quot;instrument&quot; have a foreign key referring to each other. The foreign keys are inside the neccessary **join table** between them.\r\n\r\nThe **advantage of @JoinTable on both sides** of the relation:\r\nLet&#39;s say, a singer starts to learn a new instrument: You can add the instrument to singer (and vise versa, as it is bidirectional) and update/merge the singer. The update will **update only the singer and the join table. It *won&#39;t touch* the instrument-table**.\r\n\r\nNow the other case - a guitar-course has ended, so you want to remove the connection between the guitar and the former course-participants/singers: After removing the instrument &quot;guitar&quot; from the singers (and vise versa!), you update/merge the instrument. The update will **update only the instrument *and the join table*. It *won&#39;t touch* the singer-table**.\r\n\r\nIf you had @JoinTable only on one side, you would always have to update/save/delete *this side* to safely handle the entries in the join table (the relationships between singers and instruments). In this case, you would have to update *each* singer, who ended the guitar course. That is **not reflecting the type of relationship properly** and can cause **performance issues** and **conflicts during data transaction**.","title":"Should @JoinTable be specified in both sides of a @ManyToMany relationship?","body":"<p><strong>You actually CAN use @JoinTable on both sides</strong> and often it makes perfect sense! I am talking out of experience after I had been looking for this solution for weeks.</p>\n\n<p>Even though all throughout the internet, blogs and articles tell a different story - and the Javadoc of JPA is easily misunderstood (or wrong) in this way. I tried it after seeing this uncommented example in a book for professionals - and it worked.</p>\n\n<p><strong>How to do it:</strong></p>\n\n<p>Singer-Instrument-Association:\n<strong>Singer side</strong>:</p>\n\n<pre><code>@ManyToMany \n@JoinTable(name = \"singer_instrument\", joinColumns =\n@JoinColumn(name = \"SINGER_ID\"), inverseJoinColumns = @JoinColumn(name = \"INSTRUMENT_ID\")) \npublic Set&lt;Instrument&gt; instruments;\n</code></pre>\n\n<p>And exactly the same on the other side!\n<strong>Instrument side</strong>:</p>\n\n<pre><code>@ManyToMany\n@JoinTable(name = \"singer_instrument\",\njoinColumns = @JoinColumn(name = \"INSTRUMENT_ID\"),\ninverseJoinColumns = @JoinColumn(name = \"SINGER_ID\"))\npublic Set&lt;Singer&gt; singers;\n</code></pre>\n\n<p>So, if you address the same join table, \"singer_instrument\", with the same name, it work's. \nIf you address one join table \"singer_instrument\" and one join table \"instrument-singer\" though, it will indead result in two different join tables in the database.</p>\n\n<p>This makes a lot of sense, because a many-to-many relationship has <strong>no</strong> owning side - seen from the database perspective. Owning side means the side, that owns the <strong>foreign key</strong> of the relationship. But neither the table \"singer\" nor \"instrument\" have a foreign key referring to each other. The foreign keys are inside the neccessary <strong>join table</strong> between them.</p>\n\n<p>The <strong>advantage of @JoinTable on both sides</strong> of the relation:\nLet's say, a singer starts to learn a new instrument: You can add the instrument to singer (and vise versa, as it is bidirectional) and update/merge the singer. The update will <strong>update only the singer and the join table. It <em>won't touch</em> the instrument-table</strong>.</p>\n\n<p>Now the other case - a guitar-course has ended, so you want to remove the connection between the guitar and the former course-participants/singers: After removing the instrument \"guitar\" from the singers (and vise versa!), you update/merge the instrument. The update will <strong>update only the instrument <em>and the join table</em>. It <em>won't touch</em> the singer-table</strong>.</p>\n\n<p>If you had @JoinTable only on one side, you would always have to update/save/delete <em>this side</em> to safely handle the entries in the join table (the relationships between singers and instruments). In this case, you would have to update <em>each</em> singer, who ended the guitar course. That is <strong>not reflecting the type of relationship properly</strong> and can cause <strong>performance issues</strong> and <strong>conflicts during data transaction</strong>.</p>\n"}],"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18326,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1693596995,"creation_date":1461359188,"question_id":36803306,"body_markdown":"I&#39;ve an entity `Course` and an entity `User`. There&#39;s a _many-to-many_ relationship between course and user, since a course can have many users and a user can be enrolled in many courses. In both entities I&#39;ve put the `@ManyToMany` annotation on the specific field, that is, in `Course` I have:\r\n\r\n\r\n\t@ManyToMany\r\n\tprivate List&lt;RegisteredUser&gt; members;\r\n\r\nand in `User` I have:\r\n\r\n\t@ManyToMany\r\n\tprivate List&lt;Course&gt; coursesTaken;\r\n\r\nNow, I know that this kind of many-to-many relationships are usually represented by a third table. I also know that there&#39;s the annotation `@JoinTable` which allows us to do that. What I don&#39;t know is if I should add this annotation `@JoinTable` over both fields in the two different entities or not. By the way, if I need to add to both, the names need to match right? \r\n\r\n","title":"Should @JoinTable be specified in both sides of a @ManyToMany relationship?","body":"<p>I've an entity <code>Course</code> and an entity <code>User</code>. There's a <em>many-to-many</em> relationship between course and user, since a course can have many users and a user can be enrolled in many courses. In both entities I've put the <code>@ManyToMany</code> annotation on the specific field, that is, in <code>Course</code> I have:</p>\n<pre><code>@ManyToMany\nprivate List&lt;RegisteredUser&gt; members;\n</code></pre>\n<p>and in <code>User</code> I have:</p>\n<pre><code>@ManyToMany\nprivate List&lt;Course&gt; coursesTaken;\n</code></pre>\n<p>Now, I know that this kind of many-to-many relationships are usually represented by a third table. I also know that there's the annotation <code>@JoinTable</code> which allows us to do that. What I don't know is if I should add this annotation <code>@JoinTable</code> over both fields in the two different entities or not. By the way, if I need to add to both, the names need to match right?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693553071,"post_id":77021120,"comment_id":135778947,"body_markdown":"Python is a higher level language than Java, whatever you know about Python probably won&#39;t help you with Java. As for the error, well it&#39;s a classpath issue. If you&#39;ve configured things randomly, it probably won&#39;t work (randomness doesn&#39;t work in software development, you need to understand what you&#39;re doing). Try running on the commandline with `javac / java` instead and set the classpath explicitly.","body":"Python is a higher level language than Java, whatever you know about Python probably won&#39;t help you with Java. As for the error, well it&#39;s a classpath issue. If you&#39;ve configured things randomly, it probably won&#39;t work (randomness doesn&#39;t work in software development, you need to understand what you&#39;re doing). Try running on the commandline with <code>javac &#47; java</code> instead and set the classpath explicitly."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1693553456,"post_id":77021120,"comment_id":135779005,"body_markdown":"Do you see WebDriver class in the selenium-java-4.12.0 lib? Please provide screenshots from `File | Project Structure | Modules | Dependencies` and `File | Project Structure | Libraries` and clarify from where did you download this JAR?","body":"Do you see WebDriver class in the selenium-java-4.12.0 lib? Please provide screenshots from <code>File | Project Structure | Modules | Dependencies</code> and <code>File | Project Structure | Libraries</code> and clarify from where did you download this JAR?"},{"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"score":0,"creation_date":1693553980,"post_id":77021120,"comment_id":135779105,"body_markdown":"@EgorKlepikov I&#39;ll have to get the screenshots tomorrow. As for the jar files they were downloaded directly from the official selenium site: https://github.com/SeleniumHQ/selenium/releases/download/selenium-4.12.0/selenium-java-4.12.0.zip","body":"@EgorKlepikov I&#39;ll have to get the screenshots tomorrow. As for the jar files they were downloaded directly from the official selenium site: <a href=\"https://github.com/SeleniumHQ/selenium/releases/download/selenium-4.12.0/selenium-java-4.12.0.zip\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/releases/download/&hellip;</a>"},{"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"score":0,"creation_date":1693582205,"post_id":77021120,"comment_id":135784606,"body_markdown":"@EgorKlepikov I see the WebDriver java file under selenium-api-4.12.0.jar&gt;org.openqa.selenium","body":"@EgorKlepikov I see the WebDriver java file under selenium-api-4.12.0.jar&gt;org.openqa.selenium"},{"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"score":0,"creation_date":1693583057,"post_id":77021120,"comment_id":135784799,"body_markdown":"@EgorKlepikov I&#39;ve added the screenshots you have requested as well.","body":"@EgorKlepikov I&#39;ve added the screenshots you have requested as well."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1693990698,"post_id":77021120,"comment_id":135831114,"body_markdown":"If you&#39;re building JAR manually from the command line you have to add dependencies to the classpath manually. See https://stackoverflow.com/a/2096298/12844632","body":"If you&#39;re building JAR manually from the command line you have to add dependencies to the classpath manually. See <a href=\"https://stackoverflow.com/a/2096298/12844632\">stackoverflow.com/a/2096298/12844632</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1693990823,"post_id":77021120,"comment_id":135831131,"body_markdown":"In IntelliJ IDEA, to build a JAR file you can configure an artifact under `File | Project Structure | Artifacts` and include Selenium dependency there. Then use `Build | Build Artifacts...` action from the IDE main menu. See https://www.jetbrains.com/help/idea/working-with-artifacts.html","body":"In IntelliJ IDEA, to build a JAR file you can configure an artifact under <code>File | Project Structure | Artifacts</code> and include Selenium dependency there. Then use <code>Build | Build Artifacts...</code> action from the IDE main menu. See <a href=\"https://www.jetbrains.com/help/idea/working-with-artifacts.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/working-with-artifacts.html</a>"},{"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"score":0,"creation_date":1694619674,"post_id":77021120,"comment_id":135915982,"body_markdown":"@EgorKlepikov I really appreciate it. Adding the classpath to my javac command resolved the issue: &quot;java -classpath &quot;C:\\Users\\Dr.Tautology\\Selenium\\jars\\*&quot; TestSelenium.java&quot;","body":"@EgorKlepikov I really appreciate it. Adding the classpath to my javac command resolved the issue: &quot;java -classpath &quot;C:\\Users\\Dr.Tautology\\Selenium\\jars*&quot; TestSelenium.java&quot;"}],"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693596936,"creation_date":1693551521,"question_id":77021120,"body_markdown":"I continue to get the following error when trying to compile a simple java application using selenium in IntelliJ in Windows 10:\r\n\r\n``` error: package org.openqa.selenium does not exist\r\nimport org.openqa.selenium.WebDriver;\r\n                          ^\r\n.\\SeleniumTest.java:2: error: package org.openqa.selenium.chrome does not exist\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n                                 ^\r\n.\\SeleniumTest.java:10: error: cannot find symbol\r\n        WebDriver driver = new ChromeDriver();\r\n        ^\r\n  symbol:   class WebDriver\r\n  location: class SeleniumTest\r\n.\\SeleniumTest.java:10: error: cannot find symbol\r\n        WebDriver driver = new ChromeDriver();\r\n                               ^\r\n  symbol:   class ChromeDriver\r\n  location: class SeleniumTest\r\n4 errors\r\n```\r\n\r\nI have tried everything suggested by gpt and various tutorials. This includes creating a lib folder in my project directory, right clicking and selecting &quot;Add as Library&quot;. \r\n\r\nI have also gone to \r\n&gt;Project Structure&gt;Modules&gt;Dependencies&gt;+&gt;Jars or Directories\r\nAnd added all the jar files in the selenium-java-4.12.0 and selenium-java-4.12.0/lib directories.\r\n\r\nThe only thing I haven&#39;t attempted is using a build manager like Maven or Gradle, simply because I&#39;ve been told that as a beginner it is better to start by managing your packages manually.\r\n\r\nI just can&#39;t figure out why IntelliJ is not finding the jar files. I created JAVA_HOME and added java to my environment variables. I have rebuilt the project and started from scratch probably a dozen times and I&#39;m still getting the same error.\r\n\r\nI&#39;m using JDK 17.0.8 and I have downloaded the most recent stable release of Selenium for Java 4.12.0 (August 31, 2023)\r\n\r\nI am coming from python and not an experienced Java programmer at all. I feel incredibly incompetent especially considering how quickly I&#39;m able to get a Selenium build running in python.\r\n\r\nHere&#39;s some screen shots of my project:\r\n\r\n[![enter image description here][1]][1]\r\n \r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\nSo I have discovered that there is no issue if I simply run the file from intelliJ. However the issue only occurs when I attempt to compile the java file through the IntelliJ terminal. I don&#39;t know why this is or how to resolve it. I assume it is related to the selenium jars not being in the PATH. But I have attempted to add them with no luck.\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WAMXs.png\r\n  [2]: https://i.stack.imgur.com/pWONF.png\r\n  [3]: https://i.stack.imgur.com/zCjpC.png\r\n  [4]: https://i.stack.imgur.com/jdgeW.png\r\n  [5]: https://i.stack.imgur.com/gaJsI.png\r\n  [6]: https://i.stack.imgur.com/ybdS3.png\r\n  [7]: https://i.stack.imgur.com/iOFc1.png","title":"Selenium for Intellij &quot;Package does not exist&quot;","body":"<p>I continue to get the following error when trying to compile a simple java application using selenium in IntelliJ in Windows 10:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\n                          ^\n.\\SeleniumTest.java:2: error: package org.openqa.selenium.chrome does not exist\nimport org.openqa.selenium.chrome.ChromeDriver;\n                                 ^\n.\\SeleniumTest.java:10: error: cannot find symbol\n        WebDriver driver = new ChromeDriver();\n        ^\n  symbol:   class WebDriver\n  location: class SeleniumTest\n.\\SeleniumTest.java:10: error: cannot find symbol\n        WebDriver driver = new ChromeDriver();\n                               ^\n  symbol:   class ChromeDriver\n  location: class SeleniumTest\n4 errors\n</code></pre>\n<p>I have tried everything suggested by gpt and various tutorials. This includes creating a lib folder in my project directory, right clicking and selecting &quot;Add as Library&quot;.</p>\n<p>I have also gone to</p>\n<blockquote>\n<p>Project Structure&gt;Modules&gt;Dependencies&gt;+&gt;Jars or Directories\nAnd added all the jar files in the selenium-java-4.12.0 and selenium-java-4.12.0/lib directories.</p>\n</blockquote>\n<p>The only thing I haven't attempted is using a build manager like Maven or Gradle, simply because I've been told that as a beginner it is better to start by managing your packages manually.</p>\n<p>I just can't figure out why IntelliJ is not finding the jar files. I created JAVA_HOME and added java to my environment variables. I have rebuilt the project and started from scratch probably a dozen times and I'm still getting the same error.</p>\n<p>I'm using JDK 17.0.8 and I have downloaded the most recent stable release of Selenium for Java 4.12.0 (August 31, 2023)</p>\n<p>I am coming from python and not an experienced Java programmer at all. I feel incredibly incompetent especially considering how quickly I'm able to get a Selenium build running in python.</p>\n<p>Here's some screen shots of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/WAMXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WAMXs.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pWONF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWONF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zCjpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zCjpC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jdgeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdgeW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gaJsI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gaJsI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ybdS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ybdS3.png\" alt=\"enter image description here\" /></a></p>\n<p>So I have discovered that there is no issue if I simply run the file from intelliJ. However the issue only occurs when I attempt to compile the java file through the IntelliJ terminal. I don't know why this is or how to resolve it. I assume it is related to the selenium jars not being in the PATH. But I have attempted to add them with no luck.\n<a href=\"https://i.stack.imgur.com/iOFc1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iOFc1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","web-services","wsdl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693838715,"post_id":77025381,"comment_id":135809499,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29347346,"reputation":1,"user_id":22485363,"display_name":"funkylimb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693596664,"creation_date":1693593541,"question_id":77025381,"body_markdown":"I am new to Web Service client development and have been tasked to create a client in Java to call an web service outside of our organization.\r\n\r\nI downloaded the WSDL and in the &lt;Policy&gt; section there is this:\r\n```\r\n&lt;AlgorithmnSuite&gt;\r\n    &lt;Policy&gt;\r\n       &lt;Basic128RSASha512/&gt;\r\n    &lt;/Policy&gt;\r\n&lt;/AlgorithmSuite&gt;\r\n```\r\n\r\nWhen I run the client I get the following exception:\r\n\r\nSOAPFaultException: Algorithmn suite Basic128RSASha512 is not registered\r\n\r\nAny insight on how to get past this error is greatly appreciated.\r\n\r\nI found:\r\nhttps://github.com/apache/cxf/blob/main/systests/ws-security/src/test/java/org/apache/cxf/systest/ws/x509/SHA512PolicyLoader.java\r\n\r\nBut I do not know if that will help solve the problem -- and if it will I do not know how to implement it.","title":"Java Web Service Client - SOAPFaultException: Algorithmn suite Basic128RSASha512 is not registered","body":"<p>I am new to Web Service client development and have been tasked to create a client in Java to call an web service outside of our organization.</p>\n<p>I downloaded the WSDL and in the  section there is this:</p>\n<pre><code>&lt;AlgorithmnSuite&gt;\n    &lt;Policy&gt;\n       &lt;Basic128RSASha512/&gt;\n    &lt;/Policy&gt;\n&lt;/AlgorithmSuite&gt;\n</code></pre>\n<p>When I run the client I get the following exception:</p>\n<p>SOAPFaultException: Algorithmn suite Basic128RSASha512 is not registered</p>\n<p>Any insight on how to get past this error is greatly appreciated.</p>\n<p>I found:\n<a href=\"https://github.com/apache/cxf/blob/main/systests/ws-security/src/test/java/org/apache/cxf/systest/ws/x509/SHA512PolicyLoader.java\" rel=\"nofollow noreferrer\">https://github.com/apache/cxf/blob/main/systests/ws-security/src/test/java/org/apache/cxf/systest/ws/x509/SHA512PolicyLoader.java</a></p>\n<p>But I do not know if that will help solve the problem -- and if it will I do not know how to implement it.</p>\n"},{"tags":["java","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":7664695,"reputation":6076,"user_id":5808727,"accept_rate":25,"display_name":"Pooya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693596174,"creation_date":1459456467,"answer_id":36343251,"question_id":36343037,"body_markdown":"If you use `VisualVM` you can use couple of `OQL` query to read the data in Java heap that you are looking for. One command that may suit your need is:\r\n\r\n     select {instance: s, content: s.toString()} from java.lang.String s\r\n        where /java/(s.toString())\r\n\r\nyou can find a lot more here: https://visualvm.github.io/documentation.html, section *Analyzing a Heap Dump Using OQL*","title":"How do I inspect specifically what Java strings are being kept around, causing memory leak?","body":"<p>If you use <code>VisualVM</code> you can use couple of <code>OQL</code> query to read the data in Java heap that you are looking for. One command that may suit your need is:</p>\n<pre><code> select {instance: s, content: s.toString()} from java.lang.String s\n    where /java/(s.toString())\n</code></pre>\n<p>you can find a lot more here: <a href=\"https://visualvm.github.io/documentation.html\" rel=\"nofollow noreferrer\">https://visualvm.github.io/documentation.html</a>, section <em>Analyzing a Heap Dump Using OQL</em></p>\n"},{"tags":[],"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693595983,"creation_date":1459460163,"answer_id":36344275,"question_id":36343037,"body_markdown":"I simulated this with a small Spring Boot application and [Eclipse Memory Analyzer][1]. The heap dump was created from inside MAT but you could also open the heap dump you already created.\r\n\r\nWhen you open the heap dump MAT automatically shows you suspects which are using a lot of memory:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen you open the details you can see the `String` instances and their values (marked in yellow in my screenshot) in the section called `Accumulated Objects in Dominator Tree`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nShort note: you can run OQL from within MAT too:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://eclipse.dev/mat/\r\n  [2]: https://i.stack.imgur.com/lIJZi.png\r\n  [3]: https://i.stack.imgur.com/XAL89.png\r\n  [4]: https://i.stack.imgur.com/2uMQ4.png","title":"How do I inspect specifically what Java strings are being kept around, causing memory leak?","body":"<p>I simulated this with a small Spring Boot application and <a href=\"https://eclipse.dev/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a>. The heap dump was created from inside MAT but you could also open the heap dump you already created.</p>\n<p>When you open the heap dump MAT automatically shows you suspects which are using a lot of memory:</p>\n<p><a href=\"https://i.stack.imgur.com/lIJZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lIJZi.png\" alt=\"enter image description here\" /></a></p>\n<p>When you open the details you can see the <code>String</code> instances and their values (marked in yellow in my screenshot) in the section called <code>Accumulated Objects in Dominator Tree</code></p>\n<p><a href=\"https://i.stack.imgur.com/XAL89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XAL89.png\" alt=\"enter image description here\" /></a></p>\n<p>Short note: you can run OQL from within MAT too:</p>\n<p><a href=\"https://i.stack.imgur.com/2uMQ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uMQ4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1355087,"reputation":22605,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36343251,"answer_count":2,"score":3,"last_activity_date":1693596174,"creation_date":1459455798,"question_id":36343037,"body_markdown":"I can see in the heapdump file that the String class exhausted memory, but how do I know specifically what those strings are?","title":"How do I inspect specifically what Java strings are being kept around, causing memory leak?","body":"<p>I can see in the heapdump file that the String class exhausted memory, but how do I know specifically what those strings are?</p>\n"},{"tags":["java","android","bitmap","libgdx"],"comments":[{"owner":{"account_id":6677355,"reputation":3705,"user_id":5151575,"accept_rate":83,"display_name":"Enigo"},"score":0,"creation_date":1454999880,"post_id":35284583,"comment_id":58281412,"body_markdown":"why would you need to convert something from LibGDX to Android specific? LibGDX is cross-platform game development engine, hence you should avoid such kind of practice.","body":"why would you need to convert something from LibGDX to Android specific? LibGDX is cross-platform game development engine, hence you should avoid such kind of practice."},{"owner":{"account_id":6810483,"reputation":519,"user_id":5244513,"accept_rate":44,"display_name":"Gtzzy"},"score":0,"creation_date":1455000326,"post_id":35284583,"comment_id":58281633,"body_markdown":"Cause I need to create a share button. And since I cannot do this in libgdx, I should just run platform specific code and create a new activity.","body":"Cause I need to create a share button. And since I cannot do this in libgdx, I should just run platform specific code and create a new activity."},{"owner":{"account_id":6677355,"reputation":3705,"user_id":5151575,"accept_rate":83,"display_name":"Enigo"},"score":0,"creation_date":1455000912,"post_id":35284583,"comment_id":58281901,"body_markdown":"what kind of share button? have you seen [this](http://stackoverflow.com/q/32673189/5151575) ?","body":"what kind of share button? have you seen <a href=\"http://stackoverflow.com/q/32673189/5151575\">this</a> ?"},{"owner":{"account_id":6810483,"reputation":519,"user_id":5244513,"accept_rate":44,"display_name":"Gtzzy"},"score":0,"creation_date":1455001218,"post_id":35284583,"comment_id":58282048,"body_markdown":"Yes, I have. But I need not only the Facebook sharing. With http://code.tutsplus.com/tutorials/android-sdk-implement-a-share-intent--mobile-8433/ this way I can access all the available share methods.","body":"Yes, I have. But I need not only the Facebook sharing. With <a href=\"http://code.tutsplus.com/tutorials/android-sdk-implement-a-share-intent--mobile-8433/\" rel=\"nofollow noreferrer\">code.tutsplus.com/tutorials/&hellip;</a> this way I can access all the available share methods."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1455030395,"post_id":35284583,"comment_id":58300468,"body_markdown":"Save the pixmap to a PNG with PixmapIO. Twitter (and Facebook I think) just want an image file URI anyway; no need to load it as a bitmap yourself.","body":"Save the pixmap to a PNG with PixmapIO. Twitter (and Facebook I think) just want an image file URI anyway; no need to load it as a bitmap yourself."},{"owner":{"account_id":6810483,"reputation":519,"user_id":5244513,"accept_rate":44,"display_name":"Gtzzy"},"score":0,"creation_date":1455098674,"post_id":35284583,"comment_id":58333283,"body_markdown":"I thought about that. Then I will try to save the image and give an already created image path to my method.","body":"I thought about that. Then I will try to save the image and give an already created image path to my method."}],"answers":[{"tags":[],"owner":{"account_id":6810483,"reputation":519,"user_id":5244513,"accept_rate":44,"display_name":"Gtzzy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1693596155,"creation_date":1455200964,"answer_id":35342038,"question_id":35284583,"body_markdown":"Okay. I just didn&#39;t find the solution exactly to my answer.\r\nBut I&#39;ve found another way to do what I needed. Thanks to Tenfour04.\r\n\r\nI did the following steps:\r\n\r\n 1. Created the pixmap.\r\n 2. Saved that with PixmapIO.writePNG();\r\n 3. And linked that to the Android method.\r\n\r\nThis way it works for a custom static pixmap.","title":"Convert LibGDX pixmap to Android bitmap","body":"<p>Okay. I just didn't find the solution exactly to my answer.\nBut I've found another way to do what I needed. Thanks to Tenfour04.</p>\n<p>I did the following steps:</p>\n<ol>\n<li>Created the pixmap.</li>\n<li>Saved that with PixmapIO.writePNG();</li>\n<li>And linked that to the Android method.</li>\n</ol>\n<p>This way it works for a custom static pixmap.</p>\n"},{"tags":[],"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505817645,"creation_date":1505806523,"answer_id":46294611,"question_id":35284583,"body_markdown":"Simple and fast\r\n\r\n    PNG writer = new PNG((int)(pixmap.getWidth() * pixmap.getHeight() * 1.5 f));\r\n    writer.setFlipY(false);\r\n    ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n    try {\r\n     writer.write(output, pixmap);\r\n    } finally {\r\n     StreamUtils.closeQuietly(output);\r\n     writer.dispose();\r\n     pixmap.dispose();\r\n    }\r\n    byte[] bytes = output.toByteArray();\r\n    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);","title":"Convert LibGDX pixmap to Android bitmap","body":"<p>Simple and fast</p>\n\n<pre><code>PNG writer = new PNG((int)(pixmap.getWidth() * pixmap.getHeight() * 1.5 f));\nwriter.setFlipY(false);\nByteArrayOutputStream output = new ByteArrayOutputStream();\ntry {\n writer.write(output, pixmap);\n} finally {\n StreamUtils.closeQuietly(output);\n writer.dispose();\n pixmap.dispose();\n}\nbyte[] bytes = output.toByteArray();\nBitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n</code></pre>\n"}],"owner":{"account_id":6810483,"reputation":519,"user_id":5244513,"accept_rate":44,"display_name":"Gtzzy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35342038,"answer_count":2,"score":2,"last_activity_date":1693596155,"creation_date":1454995816,"question_id":35284583,"body_markdown":"I&#39;m just trying to convert Pixmap to the Bitmap.\r\nHere is how I&#39;m creating the pixmap\r\n\r\n    screenShot = ScreenUtils.getFrameBufferTexture().getTexture().getTextureData().consumePixmap();\r\nAnd that&#39;s how I&#39;m trying to convert Pixmap to Bitmap.\r\n\r\n    Bitmap mBitmap = BitmapFactory.decodeByteArray(screenshot.getPixels().array(), 0, screenshot.getPixels().array().length);\r\n\r\nBut that&#39;s crashes on the second line I gave you there.\r\nI would really appreciate any help. Thanks.\r\n\r\n","title":"Convert LibGDX pixmap to Android bitmap","body":"<p>I'm just trying to convert Pixmap to the Bitmap.\nHere is how I'm creating the pixmap</p>\n\n<pre><code>screenShot = ScreenUtils.getFrameBufferTexture().getTexture().getTextureData().consumePixmap();\n</code></pre>\n\n<p>And that's how I'm trying to convert Pixmap to Bitmap.</p>\n\n<pre><code>Bitmap mBitmap = BitmapFactory.decodeByteArray(screenshot.getPixels().array(), 0, screenshot.getPixels().array().length);\n</code></pre>\n\n<p>But that's crashes on the second line I gave you there.\nI would really appreciate any help. Thanks.</p>\n"},{"tags":["java","android","kotlin","android-layout","viewbinding"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1693594835,"post_id":77024027,"comment_id":135786679,"body_markdown":"You can&#39;t fuse bindings because bindings are generated at compile time. Unfortunately, bindings do not generate interfaces, or we could easily fuse the two interfaces by delegation into one class. Also, something to consider regarding the base Activity concept: https://stackoverflow.com/a/72994918/506796 And consider that it is poor encapsulation for a child class to need to directly touch the views (binding) of the parent class. All the more reason to use composition instead of inheritance for this specific case.","body":"You can&#39;t fuse bindings because bindings are generated at compile time. Unfortunately, bindings do not generate interfaces, or we could easily fuse the two interfaces by delegation into one class. Also, something to consider regarding the base Activity concept: <a href=\"https://stackoverflow.com/a/72994918/506796\">stackoverflow.com/a/72994918/506796</a> And consider that it is poor encapsulation for a child class to need to directly touch the views (binding) of the parent class. All the more reason to use composition instead of inheritance for this specific case."}],"answers":[{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693595715,"creation_date":1693594883,"answer_id":77025473,"question_id":77024027,"body_markdown":"Looks like [that answer](https://stackoverflow.com/a/64461332/2474454) is close. I think all you need is a `ViewGroup.addView()`.\r\n\r\nHow about the following. (Not sure if you really need the `CoordinatorLayout` from your example; could replace it with a `FrameLayout` if you don&#39;t need the extra support)\r\n\r\n```kotlin\r\n// Copyright 2023 Google LLC.\r\n// SPDX-License-Identifier: Apache-2.0\r\n\r\nabstract class ParentActivity : AppCompatActivity() {\r\n    private lateinit var binding: ActivityParentBinding // for parent stuff\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        binding = ActivityParentBinding.inflate(layoutInflater)\r\n        binding.abstractViewContainer.addView(createContentView()) // add the child\r\n        setContentView(binding.root)\r\n\r\n        // ...\r\n    }\r\n\r\n    abstract fun createContentView(): View\r\n}\r\n\r\nclass ChildActivity: ParentActivity() {\r\n    private lateinit var binding: ActivityChildBinding // for child stuff\r\n\r\n    override fun createContentView(): View {\r\n        binding = ActivityChildBinding.inflate(layoutInflater)\r\n        return binding.root\r\n    }\r\n}\r\n```","title":"How to dynamically use ViewBinding with nested activities on Android?","body":"<p>Looks like <a href=\"https://stackoverflow.com/a/64461332/2474454\">that answer</a> is close. I think all you need is a <code>ViewGroup.addView()</code>.</p>\n<p>How about the following. (Not sure if you really need the <code>CoordinatorLayout</code> from your example; could replace it with a <code>FrameLayout</code> if you don't need the extra support)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Copyright 2023 Google LLC.\n// SPDX-License-Identifier: Apache-2.0\n\nabstract class ParentActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityParentBinding // for parent stuff\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = ActivityParentBinding.inflate(layoutInflater)\n        binding.abstractViewContainer.addView(createContentView()) // add the child\n        setContentView(binding.root)\n\n        // ...\n    }\n\n    abstract fun createContentView(): View\n}\n\nclass ChildActivity: ParentActivity() {\n    private lateinit var binding: ActivityChildBinding // for child stuff\n\n    override fun createContentView(): View {\n        binding = ActivityChildBinding.inflate(layoutInflater)\n        return binding.root\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2884204,"reputation":207,"user_id":2474454,"accept_rate":100,"display_name":"Akhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693595715,"creation_date":1693579147,"question_id":77024027,"body_markdown":"So I have this structure that I wanted to replace the working code with viewBinding instead of findViewById&lt;&gt;\r\n\r\n```kotlin\r\nabstract class ParentActivity: AppCompatActivity() \r\n\r\nclass ChildActivity: ParentActivity() \r\n\r\n```\r\n\r\n`activity_parent.xml` is a layout that contain a placeholder for a dynamically replaced child layout using `setContentView` override below:\r\n\r\nSo in `ParentActivity.kt`\r\n```kotlin\r\nabstract class ParentActivity : AppCompatActivity()\r\n    override fun setContentView(layoutResID: Int) {\r\n        val parent = LayoutInflater.from(this).inflate(R.layout.activity_parent, null)\r\n        LayoutInflater.from(this).inflate(layoutResID, parent.findViewById(R.id.abstractViewContainer) as androidx.coordinatorlayout.widget.CoordinatorLayout, true)\r\n        super.setContentView(parent)\r\n    }\r\n     \r\n    // ... Shared code\r\n\r\n}\r\n```\r\n\r\n`activity_parent.xml`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.nestedActivity.ParentActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/parentTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello I am Parent Activity&quot;\r\n        /&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/abstractViewContainer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@id/parentTextView&quot;&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\n`ChildActivity.kt`\r\n```kotlin\r\nclass ChildActivity : ParentActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_child)\r\n    }\r\n}\r\n```\r\n\r\nIs there a way to use `ViewBinding` instead of the old solution here?\r\n\r\n&gt; This code is more than 10 years ago, today I would just use `fragments` and `nav_graph` \r\n (or just compose) but here I need to keep the nested activites architecture because of legacy implication of parent activity over thousands of other activites.\r\n\r\nSolutions like this : https://stackoverflow.com/a/64461332/2474454 won&#39;t apply to my case, I want to fusion the ActivityParentBinding with ActivityChildBinding dynamically according to the child.","title":"How to dynamically use ViewBinding with nested activities on Android?","body":"<p>So I have this structure that I wanted to replace the working code with viewBinding instead of findViewById&lt;&gt;</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class ParentActivity: AppCompatActivity() \n\nclass ChildActivity: ParentActivity() \n\n</code></pre>\n<p><code>activity_parent.xml</code> is a layout that contain a placeholder for a dynamically replaced child layout using <code>setContentView</code> override below:</p>\n<p>So in <code>ParentActivity.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class ParentActivity : AppCompatActivity()\n    override fun setContentView(layoutResID: Int) {\n        val parent = LayoutInflater.from(this).inflate(R.layout.activity_parent, null)\n        LayoutInflater.from(this).inflate(layoutResID, parent.findViewById(R.id.abstractViewContainer) as androidx.coordinatorlayout.widget.CoordinatorLayout, true)\n        super.setContentView(parent)\n    }\n     \n    // ... Shared code\n\n}\n</code></pre>\n<p><code>activity_parent.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.nestedActivity.ParentActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/parentTextView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello I am Parent Activity&quot;\n        /&gt;\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/abstractViewContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@id/parentTextView&quot;&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p><code>ChildActivity.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ChildActivity : ParentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_child)\n    }\n}\n</code></pre>\n<p>Is there a way to use <code>ViewBinding</code> instead of the old solution here?</p>\n<blockquote>\n<p>This code is more than 10 years ago, today I would just use <code>fragments</code> and <code>nav_graph</code>\n(or just compose) but here I need to keep the nested activites architecture because of legacy implication of parent activity over thousands of other activites.</p>\n</blockquote>\n<p>Solutions like this : <a href=\"https://stackoverflow.com/a/64461332/2474454\">https://stackoverflow.com/a/64461332/2474454</a> won't apply to my case, I want to fusion the ActivityParentBinding with ActivityChildBinding dynamically according to the child.</p>\n"},{"tags":["java","date","datetime","java-8","difference"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1410274110,"post_id":25747499,"comment_id":40259336,"body_markdown":"Just a guess, but might `Period.between()` apply some rounding?","body":"Just a guess, but might <code>Period.between()</code> apply some rounding?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1410276632,"post_id":25747499,"comment_id":40261063,"body_markdown":"I just looked at the code once more and it seems the website is wrong (Try calculating yourself). If you omit the date, i.e. differences in year, month and day, you&#39;ll get the start time `7:45:55` and the end time `19:46:45` (or `7:46:45` PM). So the difference between those two times is 12 hours, 0 minutes and 50 seconds and _never_ 23 hours, 34 minutes and 12 seconds. So your calculation actualle seems to be correct, at least on the time part.","body":"I just looked at the code once more and it seems the website is wrong (Try calculating yourself). If you omit the date, i.e. differences in year, month and day, you&#39;ll get the start time <code>7:45:55</code> and the end time <code>19:46:45</code> (or <code>7:46:45</code> PM). So the difference between those two times is 12 hours, 0 minutes and 50 seconds and <i>never</i> 23 hours, 34 minutes and 12 seconds. So your calculation actualle seems to be correct, at least on the time part."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1410276883,"post_id":25747499,"comment_id":40261217,"body_markdown":"Interesting phenomenon on that website: add 10 years to starting date and the difference in hours changes from 23 to 8 - surely a sign of bug.","body":"Interesting phenomenon on that website: add 10 years to starting date and the difference in hours changes from 23 to 8 - surely a sign of bug."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1410285937,"post_id":25747499,"comment_id":40265791,"body_markdown":"added 1 year, 4 and 10 - no change in hours","body":"added 1 year, 4 and 10 - no change in hours"},{"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"score":0,"creation_date":1410287362,"post_id":25747499,"comment_id":40266464,"body_markdown":"@Thomas did you see the second link in my update?","body":"@Thomas did you see the second link in my update?"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":10,"creation_date":1410291590,"post_id":25747499,"comment_id":40268348,"body_markdown":"Note that since `LocalDateTime` has no time zone, there might not be a unique answer. Even if you assume the start and end time zones are the same, in certain zones dates like 2014-09-09 will be in Daylight Saving Time or Summer Time and in others it will not. This might throw things off by an hour. So computing the difference to the second is meaningless unless this is resolved.","body":"Note that since <code>LocalDateTime</code> has no time zone, there might not be a unique answer. Even if you assume the start and end time zones are the same, in certain zones dates like 2014-09-09 will be in Daylight Saving Time or Summer Time and in others it will not. This might throw things off by an hour. So computing the difference to the second is meaningless unless this is resolved."},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1410331630,"post_id":25747499,"comment_id":40280245,"body_markdown":"&quot;***I  have tested my result from another website and the result I got is different***&quot; &gt; So that matches your Java code. Seems like this question is now redundant - the other website is broken.","body":"&quot;<b><i>I  have tested my result from another website and the result I got is different</i></b>&quot; &gt; So that matches your Java code. Seems like this question is now redundant - the other website is broken."},{"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"score":0,"creation_date":1410334439,"post_id":25747499,"comment_id":40281603,"body_markdown":"@Duncan please see update, the question is not redundant.","body":"@Duncan please see update, the question is not redundant."},{"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"score":0,"creation_date":1410334737,"post_id":25747499,"comment_id":40281757,"body_markdown":"@StuartMarks then I need to use `ZonedDateTime`; right?","body":"@StuartMarks then I need to use <code>ZonedDateTime</code>; right?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1410337101,"post_id":25747499,"comment_id":40282965,"body_markdown":"@TapasBose if you look at your code for getting the date period you&#39;ll notice that the time part is stripped and thus only the date is considered. That&#39;s why you get 24 days instead of 23.","body":"@TapasBose if you look at your code for getting the date period you&#39;ll notice that the time part is stripped and thus only the date is considered. That&#39;s why you get 24 days instead of 23."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1410359178,"post_id":25747499,"comment_id":40296399,"body_markdown":"`ZonedDateTime` will help avoid the particular problem I mentioned.","body":"<code>ZonedDateTime</code> will help avoid the particular problem I mentioned."},{"owner":{"account_id":1042653,"reputation":71,"user_id":1048345,"display_name":"GeT"},"score":0,"creation_date":1462785612,"post_id":25747499,"comment_id":61765420,"body_markdown":"What about `java.time.Duration.between(Temporal a, Temporal b)` ?\n\nAccording to javadoc:\nObtains a Duration representing the duration between two temporal objects.\nThis calculates the duration between two temporal objects. If the objects are of different types, then the duration is calculated based on the type of the first object. For example, if the first argument is a LocalTime then the second argument is converted to a LocalTime.","body":"What about <code>java.time.Duration.between(Temporal a, Temporal b)</code> ?  According to javadoc: Obtains a Duration representing the duration between two temporal objects. This calculates the duration between two temporal objects. If the objects are of different types, then the duration is calculated based on the type of the first object. For example, if the first argument is a LocalTime then the second argument is converted to a LocalTime."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1511546095,"post_id":25747499,"comment_id":81910934,"body_markdown":"Do you understand that using `LocalDateTime` yields unrealistic results, as that class purposely lacks any concept of time zone or offset-from-UTC? For realistic values, assign a time zone via `ZoneId` to use `ZonedDateTime`.","body":"Do you understand that using <code>LocalDateTime</code> yields unrealistic results, as that class purposely lacks any concept of time zone or offset-from-UTC? For realistic values, assign a time zone via <code>ZoneId</code> to use <code>ZonedDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":8,"up_vote_count":235,"is_accepted":true,"score":227,"last_activity_date":1577700610,"creation_date":1410337883,"answer_id":25760725,"question_id":25747499,"body_markdown":"Unfortunately, there doesn&#39;t seem to be a period class that spans time as well, so you might have to do the calculations on your own.\r\n\r\nFortunately, the date and time classes have a lot of utility methods that simplify that to some degree. Here&#39;s a way to calculate the difference although not necessarily the fastest:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    LocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\r\n    LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 40, 45);\r\n\r\n    LocalDateTime tempDateTime = LocalDateTime.from( fromDateTime );\r\n    \r\n    long years = tempDateTime.until( toDateTime, ChronoUnit.YEARS );\r\n    tempDateTime = tempDateTime.plusYears( years );\r\n    \r\n    long months = tempDateTime.until( toDateTime, ChronoUnit.MONTHS );\r\n    tempDateTime = tempDateTime.plusMonths( months );\r\n    \r\n    long days = tempDateTime.until( toDateTime, ChronoUnit.DAYS );\r\n    tempDateTime = tempDateTime.plusDays( days );\r\n\r\n    \r\n    long hours = tempDateTime.until( toDateTime, ChronoUnit.HOURS );\r\n    tempDateTime = tempDateTime.plusHours( hours );\r\n    \r\n    long minutes = tempDateTime.until( toDateTime, ChronoUnit.MINUTES );\r\n    tempDateTime = tempDateTime.plusMinutes( minutes );\r\n    \r\n    long seconds = tempDateTime.until( toDateTime, ChronoUnit.SECONDS );\r\n    \r\n    System.out.println( years + &quot; years &quot; + \r\n            months + &quot; months &quot; + \r\n            days + &quot; days &quot; +\r\n            hours + &quot; hours &quot; +\r\n            minutes + &quot; minutes &quot; +\r\n            seconds + &quot; seconds.&quot;);\r\n\r\n    //prints: 29 years 8 months 24 days 22 hours 54 minutes 50 seconds.\r\n\r\n\r\nThe basic idea is this: create a temporary start date and get the full years to the end. Then adjust that date by the number of years so that the start date is less then a year from the end. Repeat that for each time unit in descending order.\r\n\r\n_Finally a disclaimer_: I didn&#39;t take different timezones into account (both dates should be in the same timezone) and I also didn&#39;t test/check how daylight saving time or other changes in a calendar (like the timezone changes in Samoa) affect this calculation. So use with care.","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>Unfortunately, there doesn't seem to be a period class that spans time as well, so you might have to do the calculations on your own.</p>\n\n<p>Fortunately, the date and time classes have a lot of utility methods that simplify that to some degree. Here's a way to calculate the difference although not necessarily the fastest:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\nLocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 40, 45);\n\nLocalDateTime tempDateTime = LocalDateTime.from( fromDateTime );\n\nlong years = tempDateTime.until( toDateTime, ChronoUnit.YEARS );\ntempDateTime = tempDateTime.plusYears( years );\n\nlong months = tempDateTime.until( toDateTime, ChronoUnit.MONTHS );\ntempDateTime = tempDateTime.plusMonths( months );\n\nlong days = tempDateTime.until( toDateTime, ChronoUnit.DAYS );\ntempDateTime = tempDateTime.plusDays( days );\n\n\nlong hours = tempDateTime.until( toDateTime, ChronoUnit.HOURS );\ntempDateTime = tempDateTime.plusHours( hours );\n\nlong minutes = tempDateTime.until( toDateTime, ChronoUnit.MINUTES );\ntempDateTime = tempDateTime.plusMinutes( minutes );\n\nlong seconds = tempDateTime.until( toDateTime, ChronoUnit.SECONDS );\n\nSystem.out.println( years + \" years \" + \n        months + \" months \" + \n        days + \" days \" +\n        hours + \" hours \" +\n        minutes + \" minutes \" +\n        seconds + \" seconds.\");\n\n//prints: 29 years 8 months 24 days 22 hours 54 minutes 50 seconds.\n</code></pre>\n\n<p>The basic idea is this: create a temporary start date and get the full years to the end. Then adjust that date by the number of years so that the start date is less then a year from the end. Repeat that for each time unit in descending order.</p>\n\n<p><em>Finally a disclaimer</em>: I didn't take different timezones into account (both dates should be in the same timezone) and I also didn't test/check how daylight saving time or other changes in a calendar (like the timezone changes in Samoa) affect this calculation. So use with care.</p>\n"},{"tags":[],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"down_vote_count":4,"up_vote_count":709,"is_accepted":false,"score":705,"last_activity_date":1687385869,"creation_date":1416123282,"answer_id":26954864,"question_id":25747499,"body_markdown":"I found the best way to do this is with **ChronoUnit.**\r\n\r\n    long minutes = ChronoUnit.MINUTES.between(fromDate, toDate);\r\n    long hours = ChronoUnit.HOURS.between(fromDate, toDate);\r\n\r\nAdditional documentation is here: [Period and Duration](https://docs.oracle.com/javase/tutorial/datetime/iso/period.html)","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>I found the best way to do this is with <strong>ChronoUnit.</strong></p>\n<pre><code>long minutes = ChronoUnit.MINUTES.between(fromDate, toDate);\nlong hours = ChronoUnit.HOURS.between(fromDate, toDate);\n</code></pre>\n<p>Additional documentation is here: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">Period and Duration</a></p>\n"},{"tags":[],"owner":{"account_id":6457596,"reputation":119,"user_id":5002447,"display_name":"Hennadii Kolomoiets"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1457852166,"creation_date":1434104462,"answer_id":30800672,"question_id":25747499,"body_markdown":"There is some problem for Tapas Bose code and Thomas code. If time differenсe is negative, array gets the negative values. For example if \r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n   \r\n    LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 46, 45);\r\n    LocalDateTime fromDateTime = LocalDateTime.of(2014, 9, 9, 7, 46, 45);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nit returns 0 years 0 months 1 days -1 hours 0 minutes 0 seconds.\r\n\r\nI think the right output is: 0 years 0 months 0 days 23 hours 0 minutes 0 seconds.\r\n\r\nI propose to separate the LocalDateTime instances on LocalDate and LocalTime instances. After that we can obtain the Java 8 Period and Duration instances. The Duration instance is separated on the number of days and throughout-the-day time value (&lt; 24h) with subsequent correction of the period value. When the second LocalTime value is before the firstLocalTime value, it is necessary to reduce the period for one day.\r\n\r\nHere&#39;s my way to calculate the LocalDateTime difference:\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n   \r\n    private void getChronoUnitForSecondAfterFirst(LocalDateTime firstLocalDateTime, LocalDateTime secondLocalDateTime, long[] chronoUnits) {\r\n        /*Separate LocaldateTime on LocalDate and LocalTime*/\r\n        LocalDate firstLocalDate = firstLocalDateTime.toLocalDate();\r\n        LocalTime firstLocalTime = firstLocalDateTime.toLocalTime();\r\n\r\n        LocalDate secondLocalDate = secondLocalDateTime.toLocalDate();\r\n        LocalTime secondLocalTime = secondLocalDateTime.toLocalTime();\r\n\r\n        /*Calculate the time difference*/\r\n        Duration duration = Duration.between(firstLocalDateTime, secondLocalDateTime);\r\n        long durationDays = duration.toDays();\r\n        Duration throughoutTheDayDuration = duration.minusDays(durationDays);\r\n        Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\r\n                &quot;Duration is: &quot; + duration + &quot; this is &quot; + durationDays\r\n                + &quot; days and &quot; + throughoutTheDayDuration + &quot; time.&quot;);\r\n\r\n        Period period = Period.between(firstLocalDate, secondLocalDate);\r\n\r\n        /*Correct the date difference*/\r\n        if (secondLocalTime.isBefore(firstLocalTime)) {\r\n            period = period.minusDays(1);\r\n            Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\r\n                    &quot;minus 1 day&quot;);\r\n        }\r\n\r\n        Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\r\n                &quot;Period between &quot; + firstLocalDateTime + &quot; and &quot;\r\n                + secondLocalDateTime + &quot; is: &quot; + period + &quot; and duration is: &quot;\r\n                + throughoutTheDayDuration\r\n                + &quot;\\n-----------------------------------------------------------------&quot;);\r\n\r\n        /*Calculate chrono unit values and  write it in array*/\r\n        chronoUnits[0] = period.getYears();\r\n        chronoUnits[1] = period.getMonths();\r\n        chronoUnits[2] = period.getDays();\r\n        chronoUnits[3] = throughoutTheDayDuration.toHours();\r\n        chronoUnits[4] = throughoutTheDayDuration.toMinutes() % 60;\r\n        chronoUnits[5] = throughoutTheDayDuration.getSeconds() % 60;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe above method can be used to calculate the difference of any local date and time values, for example:\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n   \r\n    public long[] getChronoUnits(String firstLocalDateTimeString, String secondLocalDateTimeString) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n        LocalDateTime firstLocalDateTime = LocalDateTime.parse(firstLocalDateTimeString, formatter);\r\n        LocalDateTime secondLocalDateTime = LocalDateTime.parse(secondLocalDateTimeString, formatter);\r\n\r\n        long[] chronoUnits = new long[6];\r\n        if (secondLocalDateTime.isAfter(firstLocalDateTime)) {\r\n            getChronoUnitForSecondAfterFirst(firstLocalDateTime, secondLocalDateTime, chronoUnits);\r\n        } else {\r\n            getChronoUnitForSecondAfterFirst(secondLocalDateTime, firstLocalDateTime, chronoUnits);\r\n        }\r\n        return chronoUnits;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt is convenient to write a unit test for the above method (both of them are PeriodDuration class members). Here&#39;s the code:\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n   \r\n    @RunWith(Parameterized.class)\r\n    public class PeriodDurationTest {\r\n\r\n    private final String firstLocalDateTimeString;\r\n    private final String secondLocalDateTimeString;\r\n    private final long[] chronoUnits;\r\n\r\n    public PeriodDurationTest(String firstLocalDateTimeString, String secondLocalDateTimeString, long[] chronoUnits) {\r\n        this.firstLocalDateTimeString = firstLocalDateTimeString;\r\n        this.secondLocalDateTimeString = secondLocalDateTimeString;\r\n        this.chronoUnits = chronoUnits;\r\n    }\r\n\r\n    @Parameters\r\n    public static Collection&lt;Object[]&gt; periodValues() {\r\n        long[] chronoUnits0 = {0, 0, 0, 0, 0, 0};\r\n        long[] chronoUnits1 = {0, 0, 0, 1, 0, 0};\r\n        long[] chronoUnits2 = {0, 0, 0, 23, 0, 0};\r\n        long[] chronoUnits3 = {0, 0, 0, 1, 0, 0};\r\n        long[] chronoUnits4 = {0, 0, 0, 23, 0, 0};\r\n        long[] chronoUnits5 = {0, 0, 1, 23, 0, 0};\r\n        long[] chronoUnits6 = {29, 8, 24, 12, 0, 50};\r\n        long[] chronoUnits7 = {29, 8, 24, 12, 0, 50};\r\n        return Arrays.asList(new Object[][]{\r\n            {&quot;2015-09-09 21:46:44&quot;, &quot;2015-09-09 21:46:44&quot;, chronoUnits0},\r\n            {&quot;2015-09-09 21:46:44&quot;, &quot;2015-09-09 22:46:44&quot;, chronoUnits1},\r\n            {&quot;2015-09-09 21:46:44&quot;, &quot;2015-09-10 20:46:44&quot;, chronoUnits2},\r\n            {&quot;2015-09-09 21:46:44&quot;, &quot;2015-09-09 20:46:44&quot;, chronoUnits3},\r\n            {&quot;2015-09-10 20:46:44&quot;, &quot;2015-09-09 21:46:44&quot;, chronoUnits4},\r\n            {&quot;2015-09-11 20:46:44&quot;, &quot;2015-09-09 21:46:44&quot;, chronoUnits5},\r\n            {&quot;1984-12-16 07:45:55&quot;, &quot;2014-09-09 19:46:45&quot;, chronoUnits6},\r\n            {&quot;2014-09-09 19:46:45&quot;, &quot;1984-12-16 07:45:55&quot;, chronoUnits6}\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void testGetChronoUnits() {\r\n        PeriodDuration instance = new PeriodDuration();\r\n        long[] expResult = this.chronoUnits;\r\n        long[] result = instance.getChronoUnits(this.firstLocalDateTimeString, this.secondLocalDateTimeString);\r\n        assertArrayEquals(expResult, result);\r\n    }\r\n}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAll tests are successful whether or not the value of the first LocalDateTime is before and for any LocalTime values.","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>There is some problem for Tapas Bose code and Thomas code. If time differenсe is negative, array gets the negative values. For example if </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 46, 45);\nLocalDateTime fromDateTime = LocalDateTime.of(2014, 9, 9, 7, 46, 45);\n</code></pre>\n\n<p>it returns 0 years 0 months 1 days -1 hours 0 minutes 0 seconds.</p>\n\n<p>I think the right output is: 0 years 0 months 0 days 23 hours 0 minutes 0 seconds.</p>\n\n<p>I propose to separate the LocalDateTime instances on LocalDate and LocalTime instances. After that we can obtain the Java 8 Period and Duration instances. The Duration instance is separated on the number of days and throughout-the-day time value (&lt; 24h) with subsequent correction of the period value. When the second LocalTime value is before the firstLocalTime value, it is necessary to reduce the period for one day.</p>\n\n<p>Here's my way to calculate the LocalDateTime difference:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void getChronoUnitForSecondAfterFirst(LocalDateTime firstLocalDateTime, LocalDateTime secondLocalDateTime, long[] chronoUnits) {\n    /*Separate LocaldateTime on LocalDate and LocalTime*/\n    LocalDate firstLocalDate = firstLocalDateTime.toLocalDate();\n    LocalTime firstLocalTime = firstLocalDateTime.toLocalTime();\n\n    LocalDate secondLocalDate = secondLocalDateTime.toLocalDate();\n    LocalTime secondLocalTime = secondLocalDateTime.toLocalTime();\n\n    /*Calculate the time difference*/\n    Duration duration = Duration.between(firstLocalDateTime, secondLocalDateTime);\n    long durationDays = duration.toDays();\n    Duration throughoutTheDayDuration = duration.minusDays(durationDays);\n    Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\n            \"Duration is: \" + duration + \" this is \" + durationDays\n            + \" days and \" + throughoutTheDayDuration + \" time.\");\n\n    Period period = Period.between(firstLocalDate, secondLocalDate);\n\n    /*Correct the date difference*/\n    if (secondLocalTime.isBefore(firstLocalTime)) {\n        period = period.minusDays(1);\n        Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\n                \"minus 1 day\");\n    }\n\n    Logger.getLogger(PeriodDuration.class.getName()).log(Level.INFO,\n            \"Period between \" + firstLocalDateTime + \" and \"\n            + secondLocalDateTime + \" is: \" + period + \" and duration is: \"\n            + throughoutTheDayDuration\n            + \"\\n-----------------------------------------------------------------\");\n\n    /*Calculate chrono unit values and  write it in array*/\n    chronoUnits[0] = period.getYears();\n    chronoUnits[1] = period.getMonths();\n    chronoUnits[2] = period.getDays();\n    chronoUnits[3] = throughoutTheDayDuration.toHours();\n    chronoUnits[4] = throughoutTheDayDuration.toMinutes() % 60;\n    chronoUnits[5] = throughoutTheDayDuration.getSeconds() % 60;\n}\n</code></pre>\n\n<p>The above method can be used to calculate the difference of any local date and time values, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public long[] getChronoUnits(String firstLocalDateTimeString, String secondLocalDateTimeString) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\n\n    LocalDateTime firstLocalDateTime = LocalDateTime.parse(firstLocalDateTimeString, formatter);\n    LocalDateTime secondLocalDateTime = LocalDateTime.parse(secondLocalDateTimeString, formatter);\n\n    long[] chronoUnits = new long[6];\n    if (secondLocalDateTime.isAfter(firstLocalDateTime)) {\n        getChronoUnitForSecondAfterFirst(firstLocalDateTime, secondLocalDateTime, chronoUnits);\n    } else {\n        getChronoUnitForSecondAfterFirst(secondLocalDateTime, firstLocalDateTime, chronoUnits);\n    }\n    return chronoUnits;\n}\n</code></pre>\n\n<p>It is convenient to write a unit test for the above method (both of them are PeriodDuration class members). Here's the code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Parameterized.class)\npublic class PeriodDurationTest {\n\nprivate final String firstLocalDateTimeString;\nprivate final String secondLocalDateTimeString;\nprivate final long[] chronoUnits;\n\npublic PeriodDurationTest(String firstLocalDateTimeString, String secondLocalDateTimeString, long[] chronoUnits) {\n    this.firstLocalDateTimeString = firstLocalDateTimeString;\n    this.secondLocalDateTimeString = secondLocalDateTimeString;\n    this.chronoUnits = chronoUnits;\n}\n\n@Parameters\npublic static Collection&lt;Object[]&gt; periodValues() {\n    long[] chronoUnits0 = {0, 0, 0, 0, 0, 0};\n    long[] chronoUnits1 = {0, 0, 0, 1, 0, 0};\n    long[] chronoUnits2 = {0, 0, 0, 23, 0, 0};\n    long[] chronoUnits3 = {0, 0, 0, 1, 0, 0};\n    long[] chronoUnits4 = {0, 0, 0, 23, 0, 0};\n    long[] chronoUnits5 = {0, 0, 1, 23, 0, 0};\n    long[] chronoUnits6 = {29, 8, 24, 12, 0, 50};\n    long[] chronoUnits7 = {29, 8, 24, 12, 0, 50};\n    return Arrays.asList(new Object[][]{\n        {\"2015-09-09 21:46:44\", \"2015-09-09 21:46:44\", chronoUnits0},\n        {\"2015-09-09 21:46:44\", \"2015-09-09 22:46:44\", chronoUnits1},\n        {\"2015-09-09 21:46:44\", \"2015-09-10 20:46:44\", chronoUnits2},\n        {\"2015-09-09 21:46:44\", \"2015-09-09 20:46:44\", chronoUnits3},\n        {\"2015-09-10 20:46:44\", \"2015-09-09 21:46:44\", chronoUnits4},\n        {\"2015-09-11 20:46:44\", \"2015-09-09 21:46:44\", chronoUnits5},\n        {\"1984-12-16 07:45:55\", \"2014-09-09 19:46:45\", chronoUnits6},\n        {\"2014-09-09 19:46:45\", \"1984-12-16 07:45:55\", chronoUnits6}\n    });\n}\n\n@Test\npublic void testGetChronoUnits() {\n    PeriodDuration instance = new PeriodDuration();\n    long[] expResult = this.chronoUnits;\n    long[] result = instance.getChronoUnits(this.firstLocalDateTimeString, this.secondLocalDateTimeString);\n    assertArrayEquals(expResult, result);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>All tests are successful whether or not the value of the first LocalDateTime is before and for any LocalTime values.</p>\n"},{"tags":[],"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1460356152,"creation_date":1456264091,"answer_id":35588906,"question_id":25747499,"body_markdown":"And the version of @Thomas in [Groovy](http://www.groovy-lang.org/) with takes the desired units in a list instead of hardcoding the values. This implementation (which can easily ported to Java - I made the function declaration explicit) makes Thomas approach more reuseable.\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    def fromDateTime = LocalDateTime.of(1968, 6, 14, 0, 13, 0)\r\n    def toDateTime = LocalDateTime.now()\r\n    def listOfUnits = [\r\n        ChronoUnit.YEARS, ChronoUnit.MONTHS, ChronoUnit.DAYS,\r\n        ChronoUnit.HOURS, ChronoUnit.MINUTES, ChronoUnit.SECONDS,\r\n        ChronoUnit.MILLIS]\r\n    \r\n    println calcDurationInTextualForm(listOfUnits, fromDateTime, toDateTime)    \r\n    \r\n    String calcDurationInTextualForm(List&lt;ChronoUnit&gt; listOfUnits, LocalDateTime ts, LocalDateTime to)\r\n    {\r\n        def result = []\r\n    \r\n        listOfUnits.each { chronoUnit -&gt;\r\n            long amount = ts.until(to, chronoUnit)\r\n            ts = ts.plus(amount, chronoUnit)\r\n    \r\n            if (amount) {\r\n                result &lt;&lt; &quot;$amount ${chronoUnit.toString()}&quot;\r\n            }\r\n        }\r\n    \r\n        result.join(&#39;, &#39;)\r\n    }\r\n\r\nAt the time of this writing,the code above returns `47 Years, 8 Months, 9 Days, 22 Hours, 52 Minutes, 7 Seconds, 140 Millis`. And, for @Gennady Kolomoets input, the code returns `23 Hours`.\r\n\r\nWhen you provide a list of units it must be sorted by size of the units (biggest first):\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    def listOfUnits = [ChronoUnit.WEEKS, ChronoUnit.DAYS, ChronoUnit.HOURS]\r\n    // returns 2495 Weeks, 3 Days, 8 Hours\r\n","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>And the version of @Thomas in <a href=\"http://www.groovy-lang.org/\" rel=\"noreferrer\">Groovy</a> with takes the desired units in a list instead of hardcoding the values. This implementation (which can easily ported to Java - I made the function declaration explicit) makes Thomas approach more reuseable.</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>def fromDateTime = LocalDateTime.of(1968, 6, 14, 0, 13, 0)\ndef toDateTime = LocalDateTime.now()\ndef listOfUnits = [\n    ChronoUnit.YEARS, ChronoUnit.MONTHS, ChronoUnit.DAYS,\n    ChronoUnit.HOURS, ChronoUnit.MINUTES, ChronoUnit.SECONDS,\n    ChronoUnit.MILLIS]\n\nprintln calcDurationInTextualForm(listOfUnits, fromDateTime, toDateTime)    \n\nString calcDurationInTextualForm(List&lt;ChronoUnit&gt; listOfUnits, LocalDateTime ts, LocalDateTime to)\n{\n    def result = []\n\n    listOfUnits.each { chronoUnit -&gt;\n        long amount = ts.until(to, chronoUnit)\n        ts = ts.plus(amount, chronoUnit)\n\n        if (amount) {\n            result &lt;&lt; \"$amount ${chronoUnit.toString()}\"\n        }\n    }\n\n    result.join(', ')\n}\n</code></pre>\n\n<p>At the time of this writing,the code above returns <code>47 Years, 8 Months, 9 Days, 22 Hours, 52 Minutes, 7 Seconds, 140 Millis</code>. And, for @Gennady Kolomoets input, the code returns <code>23 Hours</code>.</p>\n\n<p>When you provide a list of units it must be sorted by size of the units (biggest first):</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>def listOfUnits = [ChronoUnit.WEEKS, ChronoUnit.DAYS, ChronoUnit.HOURS]\n// returns 2495 Weeks, 3 Days, 8 Hours\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10962604,"reputation":587,"user_id":8055410,"display_name":"Junior Batista"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1546724247,"creation_date":1495565632,"answer_id":44142896,"question_id":25747499,"body_markdown":"Here a single example using Duration and TimeUnit to get &#39;hh:mm:ss&#39; format.\r\n\r\n    Duration dur = Duration.between(localDateTimeIni, localDateTimeEnd);\r\n    long millis = dur.toMillis();\r\n    \r\n    String.format(&quot;%02d:%02d:%02d&quot;, \r\n            TimeUnit.MILLISECONDS.toHours(millis),\r\n            TimeUnit.MILLISECONDS.toMinutes(millis) - \r\n            TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\r\n            TimeUnit.MILLISECONDS.toSeconds(millis) - \r\n            TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>Here a single example using Duration and TimeUnit to get 'hh:mm:ss' format.</p>\n\n<pre><code>Duration dur = Duration.between(localDateTimeIni, localDateTimeEnd);\nlong millis = dur.toMillis();\n\nString.format(\"%02d:%02d:%02d\", \n        TimeUnit.MILLISECONDS.toHours(millis),\n        TimeUnit.MILLISECONDS.toMinutes(millis) - \n        TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\n        TimeUnit.MILLISECONDS.toSeconds(millis) - \n        TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12241242,"reputation":1072,"user_id":8934265,"display_name":"Tinashe"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1588792141,"creation_date":1511486318,"answer_id":47465147,"question_id":25747499,"body_markdown":"Here is a very simple answer to your question. It works.\r\n\r\n    import java.time.*;\r\n    import java.util.*;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n\r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n        DateTimeFormatter T = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);\r\n        Scanner h = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter date of birth[dd/mm/yyyy hh:mm]: &quot;);\r\n        String b = h.nextLine();\r\n        \r\n        LocalDateTime bd = LocalDateTime.parse(b,T);\r\n        LocalDateTime cd = LocalDateTime.now();\r\n        \r\n        long minutes = ChronoUnit.MINUTES.between(bd, cd);\r\n        long hours = ChronoUnit.HOURS.between(bd, cd);\r\n        \r\n        System.out.print(&quot;Age is: &quot;+hours+ &quot; hours, or &quot; +minutes+ &quot; minutes old&quot;);\r\n    }\r\n    }\r\n","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>Here is a very simple answer to your question. It works.</p>\n\n<pre><code>import java.time.*;\nimport java.util.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\npublic class MyClass {\npublic static void main(String args[]) {\n    DateTimeFormatter T = DateTimeFormatter.ofPattern(\"dd/MM/yyyy HH:mm\");\n    Scanner h = new Scanner(System.in);\n\n    System.out.print(\"Enter date of birth[dd/mm/yyyy hh:mm]: \");\n    String b = h.nextLine();\n\n    LocalDateTime bd = LocalDateTime.parse(b,T);\n    LocalDateTime cd = LocalDateTime.now();\n\n    long minutes = ChronoUnit.MINUTES.between(bd, cd);\n    long hours = ChronoUnit.HOURS.between(bd, cd);\n\n    System.out.print(\"Age is: \"+hours+ \" hours, or \" +minutes+ \" minutes old\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":3,"up_vote_count":130,"is_accepted":false,"score":127,"last_activity_date":1599142478,"creation_date":1545923763,"answer_id":53947199,"question_id":25747499,"body_markdown":"It should be simpler!\r\n\r\n    Duration.between(startLocalDateTime, endLocalDateTime).toMillis();\r\n\r\nYou can convert millis to whatever unit you like:\r\n\r\n    String.format(&quot;%d minutes %d seconds&quot;, \r\n      TimeUnit.MILLISECONDS.toMinutes(millis),\r\n      TimeUnit.MILLISECONDS.toSeconds(millis) - \r\n      TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>It should be simpler!</p>\n<pre><code>Duration.between(startLocalDateTime, endLocalDateTime).toMillis();\n</code></pre>\n<p>You can convert millis to whatever unit you like:</p>\n<pre><code>String.format(&quot;%d minutes %d seconds&quot;, \n  TimeUnit.MILLISECONDS.toMinutes(millis),\n  TimeUnit.MILLISECONDS.toSeconds(millis) - \n  TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2266395,"reputation":8154,"user_id":1994950,"accept_rate":70,"display_name":"Kushal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575252014,"creation_date":1569337048,"answer_id":58083128,"question_id":25747499,"body_markdown":"# Joda-Time\r\n\r\nSince many of the answers required **API 26** support and my min API was 23, I solved it by below code : \r\n\r\n    import org.joda.time.Days\r\n    \r\n    LocalDate startDate = Something\r\n    LocalDate endDate = Something\r\n    // The difference would be exclusive of both dates, \r\n    // so in most of use cases we may need to increment it by 1\r\n    Days.daysBetween(startDate, endDate).days\r\n\r\n","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<h1>Joda-Time</h1>\n\n<p>Since many of the answers required <strong>API 26</strong> support and my min API was 23, I solved it by below code : </p>\n\n<pre><code>import org.joda.time.Days\n\nLocalDate startDate = Something\nLocalDate endDate = Something\n// The difference would be exclusive of both dates, \n// so in most of use cases we may need to increment it by 1\nDays.daysBetween(startDate, endDate).days\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120429,"reputation":2939,"user_id":6117426,"display_name":"Anakhand"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1671537447,"creation_date":1575139391,"answer_id":59119149,"question_id":25747499,"body_markdown":"*Keep in mind: **calendar months and years *do not* represent a fixed temporal length**. For example, if this code shows a difference of 1 month, it could mean anything from 28 days to 31 days (where 1 day = 24h). If that&#39;s not ok for your use case, I strongly recommend ditching months and years entirely (so you can just use the `Duration` class), or at most setting a fixed temporal value for months and years (e.g. 30 days for a month and 365 days for a year).*\r\n\r\n*If you still want to go ahead (for example because your users already expect months and years to mean calendar months and years), you will notice the code is not as straightforward as one would initially think it should be (this also means it&#39;s more error-prone; thanks to @Alex for noticing a bug, which has now been fixed), and that is precisely because Java library designers were smart enough not to mix calendar periods (`Period` class) and exact durations (`Duration` class) together.*\r\n\r\n---------\r\n\r\n## TL;DR\r\nPrecondition: `start &lt;= end`.\r\n\r\n```java\r\n// Closest start datetime with same time-of-day as the end datetime.\r\n// This is to make sure to only count full 24h days in the period.\r\nLocalDateTime closestFullDaysStart = LocalDateTime.of(\r\n    start.toLocalDate()\r\n         .plusDays(end.toLocalTime().compareTo(start.toLocalTime()) &lt; 0 ? 1 : 0),\r\n    end.toLocalTime()\r\n);\r\n\r\n// Get the calendar period between the dates (full years, months &amp; days).\r\nPeriod period = Period.between(closestFullDaysStart.toLocalDate(), end.toLocalDate());\r\n\r\n// Get the remainder as a duration (hours, minutes, etc.).\r\nDuration duration = Duration.between(start, closestFullDaysStart);\r\n```\r\nand then use the methods `period.getYears()`, `period.getMonths()`, `period.getDays()`, `duration.toHoursPart()`, `duration.toMinutesPart()`, `duration.toSecondsPart()`.\r\n\r\n\r\n[Try it online!](https://tio.run/##dVJNb9swDL37VxAFNtiDo7rZdti6YIcF2w4LUCC5DMUOqqXETm3JkOgWRtHfnlIfTusuNQSY4sfj4xP3/I7P9uL2ULedNgh7ujOsW8k@XCZJ0vU3TV1C2XBrYcVrBQ8J0Bf9FjnS707XAlqKpms0tdpd/wNudjaDh8MfXfJmyVFuCNPlU48FTLxMb9N5MS9yuBhPUWSXybRUKvF24cdQlcPnL1SYnJ/Dj0ZbaTF2FFThhoL7GiuwnCx3nentTPABuAWsQosxkzmQTVVboIOaprsl@r2R7qJVM0Cpe4Ww7ZsG5p8qKhwoV3mgTppaC/ZqgjJQ@kkVS0pev6WFF9jzZqiP0TTzfv@xrumtw0iJ8pjkytOMlbrtuJEbnU4gQjSDb1DAd7iAr1BkuUf8DyKJEv6S6KehAOVwE8eCG4n3UoZJnVwWUq/CILmxObRaYWXhvVckY8lVqIrFCwh3FlHSU6pM585fUgyuVwyNdMsnpHEvyUH0htZSK0gr3XtKteqJJwFhyYjSckw4Zi5g9B2Jefnyk6/m2q8Hi7JlukfW0c5jfLezd2IUgqyghTedGt6InFx0pEW2laVWwp6FN4kLtJP412E5DZ5dKw869flliA86DkWS/Xa9roixy37hX4XOJyLrwCNEaBMODvExeTw8AQ &quot;Java (JDK) – Try It Online&quot;)\r\n\r\n--------------\r\n\r\n## Expanded answer\r\n\r\nI&#39;ll answer the original question, i.e. how to get the time difference between two `LocalDateTimes` in years, months, days, hours &amp; minutes, such that the &quot;sum&quot; (see note below) of all the values for the different units equals the total temporal difference, and such that the value in each unit is smaller than the next bigger unit—i.e. `minutes &lt; 60`, `hours &lt; 24`, and so on.\r\n\r\nGiven two `LocalDateTimes` `start` and `end`, e.g.\r\n```java\r\nLocalDateTime start = LocalDateTime.of(2019, 11, 28, 17, 15);\r\nLocalDateTime end = LocalDateTime.of(2020, 11, 30, 16, 44);\r\n```\r\nwe can represent the absolute timespan between the two with a `Duration`—perhaps using `Duration.between(start, end)`. But the biggest unit we can extract out of a `Duration` is days (as a temporal unit equivalent to 24h)—see the note below for an explanation. To use larger units* (months, years) we can represent this `Duration` with a pair of (`Period`, `Duration`), where the `Period` measures the difference up to a precision of days and the `Duration` represents the remainder.\r\n\r\nWe need to be careful here, because a `Period` is really a *date* difference, not an amount of time, and all its calculations are based on calendar dates (see the section below). For example, from 1st January 2000 at 23:59 to 2nd January 2000 at 00:01, a `Period` would say there is a difference of **1 day**, because that&#39;s the difference between the two dates, even though the time delta is 2 minutes, much less than 24h. So, we need to start counting the calendar period at the next closest point in time which has the same time of day as the end point, so that any *calendar* days that we count actually correspond to full 24h *durations*:\r\n```java\r\nLocalDateTime closestFullDaysStart = LocalDateTime.of(\r\n    start.toLocalDate()\r\n         // if the end time-of-day is earlier than the start time-of-day,\r\n         // the next point in time with that time-of-day is one calendar day ahead\r\n         // (the clock &quot;wraps around&quot; at midnight while advancing to it)\r\n         .plusDays(end.toLocalTime().compareTo(start.toLocalTime()) &lt; 0 ? 1 : 0),\r\n    end.toLocalTime()\r\n);\r\n```\r\n\r\nNow we have effectively split the timespan between `start` and `end` into two parts: the span from `start` to the `closestFullDaysStart`, which by construction will be less than 24h, so we can measure it with a `Duration` object with no days part,\r\n```java\r\nDuration duration = Duration.between(start, closestFullDaysStart);\r\n```\r\nand the span from `closestFullDaysStart` and `end`, which we know we can now reliably* measure with a `Period`.\r\n```java\r\nPeriod period = Period.between(closestFullDaysStart.toLocalDate(), end.toLocalDate());\r\n```\r\n\r\nNow we can simply use the methods defined on `Period` and `Duration` to extract the individual units:\r\n\r\n```java\r\nSystem.out.printf(\r\n    &quot;%d years, %d months, %d days, %d hours, %d minutes, %d seconds&quot;,\r\n    period.getYears(), period.getMonths(), period.getDays(), \r\n    duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart()\r\n);\r\n```\r\n\r\n```none\r\n1 years, 0 months, 1 days, 23 hours, 29 minutes, 0 seconds\r\n```\r\n\r\nor, using the default format:\r\n\r\n```java\r\nSystem.out.println(period + &quot; + &quot; + duration);\r\n```\r\n\r\n```none\r\nP1Y1D + PT23H29M\r\n```\r\n\r\n-------\r\n## *Note on years, months &amp; days\r\n\r\nNote that, in `java.time`&#39;s conception, period &quot;units&quot; like &quot;month&quot; or &quot;year&quot; don&#39;t represent a fixed, absolute temporal value—they&#39;re date- and calendar-dependent, as the following example illustrates:\r\n\r\n```java\r\nLocalDateTime\r\n        start1 = LocalDateTime.of(2020, 1, 1, 0, 0),\r\n        end1 = LocalDateTime.of(2021, 1, 1, 0, 0),\r\n        start2 = LocalDateTime.of(2021, 1, 1, 0, 0),\r\n        end2 = LocalDateTime.of(2022, 1, 1, 0, 0);\r\nSystem.out.println(Period.between(start1.toLocalDate(), end1.toLocalDate()));\r\nSystem.out.println(Duration.between(start1, end1).toDays());\r\nSystem.out.println(Period.between(start2.toLocalDate(), end2.toLocalDate()));\r\nSystem.out.println(Duration.between(start2, end2).toDays());\r\n```\r\n\r\n```none\r\nP1Y\r\n366\r\nP1Y\r\n365\r\n```\r\n\r\nAs another example, from 1st January 2000 at 23:59 to 2nd January 2000 at 00:01, a `Period` would say there is a difference of **1 day**, because that&#39;s the difference between the two dates, even though the time delta is less than 24h.\r\n\r\n\r\n## Negative spans\r\n\r\nIf `start &gt; end`, the code above produces an answer which is technically correct if we sum all the units but is presented in an unexpected way.\r\n\r\nFor example, for\r\n```java\r\nLocalDateTime start = LocalDateTime.of(2020, 1, 1, 1, 00);\r\nLocalDateTime end = LocalDateTime.of(2020, 1, 1, 0, 0);\r\n```\r\nwe get:\r\n```\r\n0 years, 0 months, -1 days, 23 hours, 0 minutes, 0 seconds\r\n```\r\n-1 day plus 23 hours is -1 hour, which is correct. But we would expect the answer to be just -1 hour. \r\n\r\nCurrently durations shown are always positive, and this is because `closestFullDaysStart` is always in the future with respect to `start`.\r\n\r\nIf `start &gt; end`, however, the direction from start to end is &quot;back in time&quot;, and so we need to *retrocede* from `start` in order to find the closest datetime with the end time-of-day that lies between `start` and `end`.\r\nAlso, the wrap-around condition changes: since we are winding the clock *backwards*, we wrap around the clock (and thus need to subtract one calendar day) if the start time-of-day is *earlier* than the end time.\r\n\r\nCombining all of this yields:\r\n```java\r\nint endStartComparison = end.compareTo(start);\r\nint endStartTimeComparison = end.toLocalTime().compareTo(start.toLocalTime());\r\nLocalDateTime closestFullDaysStart = LocalDateTime.of(\r\n    start.toLocalDate()\r\n         .plusDays(\r\n             (\r\n                 (endStartComparison &gt; 0)\r\n                 ? (endStartTimeComparison &lt; 0)\r\n                 : (endStartTimeComparison &gt; 0)\r\n             )\r\n             ? (long) Math.signum(endStartComparison)  // advance one unit in the direction start-&gt;end \r\n             : 0\r\n         ),\r\n    end.toLocalTime()\r\n);\r\n```\r\n\r\nWe can rewrite that ugly nested conditional in a more compact but more hacky way:\r\n```java\r\n(endStartComparison * endStartTimeComparison &lt; 0)\r\n```\r\n\r\n[Try it online!](https://tio.run/##hVPda9swEH/XX3EUNuTiqF7Y07qwh4ZtDwsUkpcx9qDaSqzUlowlt4TSvz27k@wmTlImDD7dx@9@96GtfJKTbfG413VjWw9bvAuvayWubxljTfdQ6RzySjoHC6kNvDDA0@udlx5/T1YXUKOVL32rzebPX5DtxiXwsv9lc1nNpVcrxCR/zDGDkVbYNZ9m0yyFT8OXZcktG4cqU/wvMOsDGbu5gbvKOuV8n7LAEKoKnrUvwUmU6Dqx60khdyAd@DLmGDwFgaxK7QA/b7G8R@TftYou1lQ7yG1nPKy7qoLp5xIDd@hrAlCjWm0LwTQ6IOiSONzZupGtdtZgHagUeVColeWBIxI/dqcCz0K8DQ0gG09OAcbWswbmsSHfke8cqS7fG0WY7wiQrDwJ@nBEU3WOMPhBR4dfKPX6vYK@QpaMw78Br6zZJLhnvhROb0xXX4A8ifoC2UGRpEE@axWjrcB5/lA@zAcN6CPbflDwoPyzUnF2tAAOeJjrTsnWpVBb40sHH8OME8HuY1QfPIN4Fz0Kv9TpcS/TY4pRdcKwVfSeCtXSbkoouhZfGraNl7YLlLTpkCcC@Vwgpfng8OY5g0H3RixMNb24CZR@uXNe1cJ2XjT4jH2/C1cfiqERKMVeBJG6EYSeE1kHWig7lVtTuKs4k/5JbJT/TVjUg4NqEUDHurBg/UCHorBlPynXPTIm7yP9Ima@YFlGHtGCm7AnxFf2uv8H &quot;Java (JDK) – Try It Online&quot;)\r\n","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p><em>Keep in mind: <strong>calendar months and years <em>do not</em> represent a fixed temporal length</strong>. For example, if this code shows a difference of 1 month, it could mean anything from 28 days to 31 days (where 1 day = 24h). If that's not ok for your use case, I strongly recommend ditching months and years entirely (so you can just use the <code>Duration</code> class), or at most setting a fixed temporal value for months and years (e.g. 30 days for a month and 365 days for a year).</em></p>\n<p><em>If you still want to go ahead (for example because your users already expect months and years to mean calendar months and years), you will notice the code is not as straightforward as one would initially think it should be (this also means it's more error-prone; thanks to @Alex for noticing a bug, which has now been fixed), and that is precisely because Java library designers were smart enough not to mix calendar periods (<code>Period</code> class) and exact durations (<code>Duration</code> class) together.</em></p>\n<hr />\n<h2>TL;DR</h2>\n<p>Precondition: <code>start &lt;= end</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Closest start datetime with same time-of-day as the end datetime.\n// This is to make sure to only count full 24h days in the period.\nLocalDateTime closestFullDaysStart = LocalDateTime.of(\n    start.toLocalDate()\n         .plusDays(end.toLocalTime().compareTo(start.toLocalTime()) &lt; 0 ? 1 : 0),\n    end.toLocalTime()\n);\n\n// Get the calendar period between the dates (full years, months &amp; days).\nPeriod period = Period.between(closestFullDaysStart.toLocalDate(), end.toLocalDate());\n\n// Get the remainder as a duration (hours, minutes, etc.).\nDuration duration = Duration.between(start, closestFullDaysStart);\n</code></pre>\n<p>and then use the methods <code>period.getYears()</code>, <code>period.getMonths()</code>, <code>period.getDays()</code>, <code>duration.toHoursPart()</code>, <code>duration.toMinutesPart()</code>, <code>duration.toSecondsPart()</code>.</p>\n<p><a href=\"https://tio.run/##dVJNb9swDL37VxAFNtiDo7rZdti6YIcF2w4LUCC5DMUOqqXETm3JkOgWRtHfnlIfTusuNQSY4sfj4xP3/I7P9uL2ULedNgh7ujOsW8k@XCZJ0vU3TV1C2XBrYcVrBQ8J0Bf9FjnS707XAlqKpms0tdpd/wNudjaDh8MfXfJmyVFuCNPlU48FTLxMb9N5MS9yuBhPUWSXybRUKvF24cdQlcPnL1SYnJ/Dj0ZbaTF2FFThhoL7GiuwnCx3nentTPABuAWsQosxkzmQTVVboIOaprsl@r2R7qJVM0Cpe4Ww7ZsG5p8qKhwoV3mgTppaC/ZqgjJQ@kkVS0pev6WFF9jzZqiP0TTzfv@xrumtw0iJ8pjkytOMlbrtuJEbnU4gQjSDb1DAd7iAr1BkuUf8DyKJEv6S6KehAOVwE8eCG4n3UoZJnVwWUq/CILmxObRaYWXhvVckY8lVqIrFCwh3FlHSU6pM585fUgyuVwyNdMsnpHEvyUH0htZSK0gr3XtKteqJJwFhyYjSckw4Zi5g9B2Jefnyk6/m2q8Hi7JlukfW0c5jfLezd2IUgqyghTedGt6InFx0pEW2laVWwp6FN4kLtJP412E5DZ5dKw869flliA86DkWS/Xa9roixy37hX4XOJyLrwCNEaBMODvExeTw8AQ\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n<hr />\n<h2>Expanded answer</h2>\n<p>I'll answer the original question, i.e. how to get the time difference between two <code>LocalDateTimes</code> in years, months, days, hours &amp; minutes, such that the &quot;sum&quot; (see note below) of all the values for the different units equals the total temporal difference, and such that the value in each unit is smaller than the next bigger unit—i.e. <code>minutes &lt; 60</code>, <code>hours &lt; 24</code>, and so on.</p>\n<p>Given two <code>LocalDateTimes</code> <code>start</code> and <code>end</code>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime start = LocalDateTime.of(2019, 11, 28, 17, 15);\nLocalDateTime end = LocalDateTime.of(2020, 11, 30, 16, 44);\n</code></pre>\n<p>we can represent the absolute timespan between the two with a <code>Duration</code>—perhaps using <code>Duration.between(start, end)</code>. But the biggest unit we can extract out of a <code>Duration</code> is days (as a temporal unit equivalent to 24h)—see the note below for an explanation. To use larger units* (months, years) we can represent this <code>Duration</code> with a pair of (<code>Period</code>, <code>Duration</code>), where the <code>Period</code> measures the difference up to a precision of days and the <code>Duration</code> represents the remainder.</p>\n<p>We need to be careful here, because a <code>Period</code> is really a <em>date</em> difference, not an amount of time, and all its calculations are based on calendar dates (see the section below). For example, from 1st January 2000 at 23:59 to 2nd January 2000 at 00:01, a <code>Period</code> would say there is a difference of <strong>1 day</strong>, because that's the difference between the two dates, even though the time delta is 2 minutes, much less than 24h. So, we need to start counting the calendar period at the next closest point in time which has the same time of day as the end point, so that any <em>calendar</em> days that we count actually correspond to full 24h <em>durations</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime closestFullDaysStart = LocalDateTime.of(\n    start.toLocalDate()\n         // if the end time-of-day is earlier than the start time-of-day,\n         // the next point in time with that time-of-day is one calendar day ahead\n         // (the clock &quot;wraps around&quot; at midnight while advancing to it)\n         .plusDays(end.toLocalTime().compareTo(start.toLocalTime()) &lt; 0 ? 1 : 0),\n    end.toLocalTime()\n);\n</code></pre>\n<p>Now we have effectively split the timespan between <code>start</code> and <code>end</code> into two parts: the span from <code>start</code> to the <code>closestFullDaysStart</code>, which by construction will be less than 24h, so we can measure it with a <code>Duration</code> object with no days part,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration duration = Duration.between(start, closestFullDaysStart);\n</code></pre>\n<p>and the span from <code>closestFullDaysStart</code> and <code>end</code>, which we know we can now reliably* measure with a <code>Period</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Period period = Period.between(closestFullDaysStart.toLocalDate(), end.toLocalDate());\n</code></pre>\n<p>Now we can simply use the methods defined on <code>Period</code> and <code>Duration</code> to extract the individual units:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(\n    &quot;%d years, %d months, %d days, %d hours, %d minutes, %d seconds&quot;,\n    period.getYears(), period.getMonths(), period.getDays(), \n    duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart()\n);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1 years, 0 months, 1 days, 23 hours, 29 minutes, 0 seconds\n</code></pre>\n<p>or, using the default format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(period + &quot; + &quot; + duration);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>P1Y1D + PT23H29M\n</code></pre>\n<hr />\n<h2>*Note on years, months &amp; days</h2>\n<p>Note that, in <code>java.time</code>'s conception, period &quot;units&quot; like &quot;month&quot; or &quot;year&quot; don't represent a fixed, absolute temporal value—they're date- and calendar-dependent, as the following example illustrates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n        start1 = LocalDateTime.of(2020, 1, 1, 0, 0),\n        end1 = LocalDateTime.of(2021, 1, 1, 0, 0),\n        start2 = LocalDateTime.of(2021, 1, 1, 0, 0),\n        end2 = LocalDateTime.of(2022, 1, 1, 0, 0);\nSystem.out.println(Period.between(start1.toLocalDate(), end1.toLocalDate()));\nSystem.out.println(Duration.between(start1, end1).toDays());\nSystem.out.println(Period.between(start2.toLocalDate(), end2.toLocalDate()));\nSystem.out.println(Duration.between(start2, end2).toDays());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>P1Y\n366\nP1Y\n365\n</code></pre>\n<p>As another example, from 1st January 2000 at 23:59 to 2nd January 2000 at 00:01, a <code>Period</code> would say there is a difference of <strong>1 day</strong>, because that's the difference between the two dates, even though the time delta is less than 24h.</p>\n<h2>Negative spans</h2>\n<p>If <code>start &gt; end</code>, the code above produces an answer which is technically correct if we sum all the units but is presented in an unexpected way.</p>\n<p>For example, for</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime start = LocalDateTime.of(2020, 1, 1, 1, 00);\nLocalDateTime end = LocalDateTime.of(2020, 1, 1, 0, 0);\n</code></pre>\n<p>we get:</p>\n<pre><code>0 years, 0 months, -1 days, 23 hours, 0 minutes, 0 seconds\n</code></pre>\n<p>-1 day plus 23 hours is -1 hour, which is correct. But we would expect the answer to be just -1 hour.</p>\n<p>Currently durations shown are always positive, and this is because <code>closestFullDaysStart</code> is always in the future with respect to <code>start</code>.</p>\n<p>If <code>start &gt; end</code>, however, the direction from start to end is &quot;back in time&quot;, and so we need to <em>retrocede</em> from <code>start</code> in order to find the closest datetime with the end time-of-day that lies between <code>start</code> and <code>end</code>.\nAlso, the wrap-around condition changes: since we are winding the clock <em>backwards</em>, we wrap around the clock (and thus need to subtract one calendar day) if the start time-of-day is <em>earlier</em> than the end time.</p>\n<p>Combining all of this yields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int endStartComparison = end.compareTo(start);\nint endStartTimeComparison = end.toLocalTime().compareTo(start.toLocalTime());\nLocalDateTime closestFullDaysStart = LocalDateTime.of(\n    start.toLocalDate()\n         .plusDays(\n             (\n                 (endStartComparison &gt; 0)\n                 ? (endStartTimeComparison &lt; 0)\n                 : (endStartTimeComparison &gt; 0)\n             )\n             ? (long) Math.signum(endStartComparison)  // advance one unit in the direction start-&gt;end \n             : 0\n         ),\n    end.toLocalTime()\n);\n</code></pre>\n<p>We can rewrite that ugly nested conditional in a more compact but more hacky way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(endStartComparison * endStartTimeComparison &lt; 0)\n</code></pre>\n<p><a href=\"https://tio.run/##hVPda9swEH/XX3EUNuTiqF7Y07qwh4ZtDwsUkpcx9qDaSqzUlowlt4TSvz27k@wmTlImDD7dx@9@96GtfJKTbfG413VjWw9bvAuvayWubxljTfdQ6RzySjoHC6kNvDDA0@udlx5/T1YXUKOVL32rzebPX5DtxiXwsv9lc1nNpVcrxCR/zDGDkVbYNZ9m0yyFT8OXZcktG4cqU/wvMOsDGbu5gbvKOuV8n7LAEKoKnrUvwUmU6Dqx60khdyAd@DLmGDwFgaxK7QA/b7G8R@TftYou1lQ7yG1nPKy7qoLp5xIDd@hrAlCjWm0LwTQ6IOiSONzZupGtdtZgHagUeVColeWBIxI/dqcCz0K8DQ0gG09OAcbWswbmsSHfke8cqS7fG0WY7wiQrDwJ@nBEU3WOMPhBR4dfKPX6vYK@QpaMw78Br6zZJLhnvhROb0xXX4A8ifoC2UGRpEE@axWjrcB5/lA@zAcN6CPbflDwoPyzUnF2tAAOeJjrTsnWpVBb40sHH8OME8HuY1QfPIN4Fz0Kv9TpcS/TY4pRdcKwVfSeCtXSbkoouhZfGraNl7YLlLTpkCcC@Vwgpfng8OY5g0H3RixMNb24CZR@uXNe1cJ2XjT4jH2/C1cfiqERKMVeBJG6EYSeE1kHWig7lVtTuKs4k/5JbJT/TVjUg4NqEUDHurBg/UCHorBlPynXPTIm7yP9Ima@YFlGHtGCm7AnxFf2uv8H\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n"},{"tags":[],"owner":{"account_id":6457596,"reputation":119,"user_id":5002447,"display_name":"Hennadii Kolomoiets"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588404953,"creation_date":1588404953,"answer_id":61555919,"question_id":25747499,"body_markdown":"After more than five years I answer my question. I think that the problem with a negative duration can be solved by a simple correction:\r\n\r\n    LocalDateTime fromDateTime = LocalDateTime.of(2014, 9, 9, 7, 46, 45);\r\n    LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 46, 45);\r\n\r\n    Period period = Period.between(fromDateTime.toLocalDate(), toDateTime.toLocalDate());\r\n    Duration duration = Duration.between(fromDateTime.toLocalTime(), toDateTime.toLocalTime());\r\n\r\n    if (duration.isNegative()) {\r\n        period = period.minusDays(1);\r\n        duration = duration.plusDays(1);\r\n    }\r\n    long seconds = duration.getSeconds();\r\n    long hours = seconds / SECONDS_PER_HOUR;\r\n    long minutes = ((seconds % SECONDS_PER_HOUR) / SECONDS_PER_MINUTE);\r\n    long secs = (seconds % SECONDS_PER_MINUTE);\r\n    long time[] = {hours, minutes, secs};\r\n    System.out.println(period.getYears() + &quot; years &quot;\r\n                + period.getMonths() + &quot; months &quot;\r\n                + period.getDays() + &quot; days &quot;\r\n                + time[0] + &quot; hours &quot;\r\n                + time[1] + &quot; minutes &quot;\r\n                + time[2] + &quot; seconds.&quot;);\r\n\r\n**Note:** The site https://www.epochconverter.com/date-difference now correctly calculates the time difference.\r\n\r\nThank you all for your discussion and suggestions.","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>After more than five years I answer my question. I think that the problem with a negative duration can be solved by a simple correction:</p>\n\n<pre><code>LocalDateTime fromDateTime = LocalDateTime.of(2014, 9, 9, 7, 46, 45);\nLocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 46, 45);\n\nPeriod period = Period.between(fromDateTime.toLocalDate(), toDateTime.toLocalDate());\nDuration duration = Duration.between(fromDateTime.toLocalTime(), toDateTime.toLocalTime());\n\nif (duration.isNegative()) {\n    period = period.minusDays(1);\n    duration = duration.plusDays(1);\n}\nlong seconds = duration.getSeconds();\nlong hours = seconds / SECONDS_PER_HOUR;\nlong minutes = ((seconds % SECONDS_PER_HOUR) / SECONDS_PER_MINUTE);\nlong secs = (seconds % SECONDS_PER_MINUTE);\nlong time[] = {hours, minutes, secs};\nSystem.out.println(period.getYears() + \" years \"\n            + period.getMonths() + \" months \"\n            + period.getDays() + \" days \"\n            + time[0] + \" hours \"\n            + time[1] + \" minutes \"\n            + time[2] + \" seconds.\");\n</code></pre>\n\n<p><strong>Note:</strong> The site <a href=\"https://www.epochconverter.com/date-difference\" rel=\"nofollow noreferrer\">https://www.epochconverter.com/date-difference</a> now correctly calculates the time difference.</p>\n\n<p>Thank you all for your discussion and suggestions.</p>\n"},{"tags":[],"owner":{"account_id":10928209,"reputation":51,"user_id":8032275,"display_name":"excitedWithin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664142572,"creation_date":1664142572,"answer_id":73848053,"question_id":25747499,"body_markdown":"For anyone trying to count the minutes between two LocalTime objects, keep in mind that the result will be minus 1. \r\n\r\nFor example,\r\n\r\n    long countMins = MINUTES.between( LocalTime.of(8,00),LocalTime.of(9,59) );\r\n    System.out.println(&quot;countMins = &quot; + countMins );\r\n\r\nwill give the Output: `countMins = 119 ` instead of 120","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>For anyone trying to count the minutes between two LocalTime objects, keep in mind that the result will be minus 1.</p>\n<p>For example,</p>\n<pre><code>long countMins = MINUTES.between( LocalTime.of(8,00),LocalTime.of(9,59) );\nSystem.out.println(&quot;countMins = &quot; + countMins );\n</code></pre>\n<p>will give the Output: <code>countMins = 119 </code> instead of 120</p>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693595663,"creation_date":1693561560,"answer_id":77022078,"question_id":25747499,"body_markdown":"If you don&#39;t need years and months you can use [DurationFormatUtils][1] from [Apache Commons Lang 3][2]. It uses miliseconds as the duration. You can get the miliseconds from java.time Duration class. \r\n\r\n    LocalDateTime start = LocalDateTime.of(2023,10,1,7,14,3);\r\n    LocalDateTime end = LocalDateTime.of(2023,10,1,8,55,22);\r\n    Duration d = Duration.between(start, end);\r\n    DurationFormatUtils.formatDuration(d.toMillis(), &quot;d &#39;days&#39; H &#39;hours&#39; m &#39;minutes&#39; s &#39;seconds&#39;&quot;, true);\r\n\r\n     // &quot;0 days 1 hour 41 minutes 19 seconds&quot;\r\n\r\nFor other possiblities check out the JavaDoc.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DurationFormatUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>If you don't need years and months you can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DurationFormatUtils.html\" rel=\"nofollow noreferrer\">DurationFormatUtils</a> from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang 3</a>. It uses miliseconds as the duration. You can get the miliseconds from java.time Duration class.</p>\n<pre><code>LocalDateTime start = LocalDateTime.of(2023,10,1,7,14,3);\nLocalDateTime end = LocalDateTime.of(2023,10,1,8,55,22);\nDuration d = Duration.between(start, end);\nDurationFormatUtils.formatDuration(d.toMillis(), &quot;d 'days' H 'hours' m 'minutes' s 'seconds'&quot;, true);\n\n // &quot;0 days 1 hour 41 minutes 19 seconds&quot;\n</code></pre>\n<p>For other possiblities check out the JavaDoc.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482218,"favorite_count":0,"down_vote_count":0,"up_vote_count":390,"accepted_answer_id":25760725,"answer_count":12,"score":390,"last_activity_date":1693595663,"creation_date":1410273686,"question_id":25747499,"body_markdown":"I am trying to calculate the difference between two `LocalDateTime`. \r\n\r\nThe output needs to be of the format `y years m months d days h hours m minutes s seconds`. Here is what I have written:\r\n\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.Period;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \r\n    \tstatic final int MINUTES_PER_HOUR = 60;\r\n    \tstatic final int SECONDS_PER_MINUTE = 60;\r\n    \tstatic final int SECONDS_PER_HOUR = SECONDS_PER_MINUTE * MINUTES_PER_HOUR;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDateTime toDateTime = LocalDateTime.of(2014, 9, 9, 19, 46, 45);\r\n    \t\tLocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\r\n    \t\t\r\n    \t\tPeriod period = getPeriod(fromDateTime, toDateTime);\r\n    \t\tlong time[] = getTime(fromDateTime, toDateTime);\r\n    \t\t\r\n    \t\tSystem.out.println(period.getYears() + &quot; years &quot; + \r\n    \t\t\t\tperiod.getMonths() + &quot; months &quot; + \r\n    \t\t\t\tperiod.getDays() + &quot; days &quot; +\r\n    \t\t\t\ttime[0] + &quot; hours &quot; +\r\n    \t\t\t\ttime[1] + &quot; minutes &quot; +\r\n    \t\t\t\ttime[2] + &quot; seconds.&quot;);\r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static Period getPeriod(LocalDateTime dob, LocalDateTime now) {\r\n    \t\treturn Period.between(dob.toLocalDate(), now.toLocalDate());\r\n    \t}\r\n    \r\n    \tprivate static long[] getTime(LocalDateTime dob, LocalDateTime now) {\r\n    \t\tLocalDateTime today = LocalDateTime.of(now.getYear(),\r\n    \t\t\t\tnow.getMonthValue(), now.getDayOfMonth(), dob.getHour(), dob.getMinute(), dob.getSecond());\r\n    \t\tDuration duration = Duration.between(today, now);\r\n    \r\n    \t\tlong seconds = duration.getSeconds();\r\n    \r\n    \t\tlong hours = seconds / SECONDS_PER_HOUR;\r\n    \t\tlong minutes = ((seconds % SECONDS_PER_HOUR) / SECONDS_PER_MINUTE);\r\n    \t\tlong secs = (seconds % SECONDS_PER_MINUTE);\r\n    \r\n    \t\treturn new long[]{hours, minutes, secs};\r\n    \t}\r\n    }\r\n\r\nThe output that I am getting is `29 years 8 months 24 days 12 hours 0 minutes 50 seconds`. I have checked my result from this [website][1] (with values `12/16/1984 07:45:55` and `09/09/2014 19:46:45`). The following screenshot shows the output:\r\n\r\n![Epoch Converter][2]\r\n\r\nI am pretty sure that the fields after the month value is coming wrong from my code. Any suggestion would be very helpful.\r\n\r\nUpdate\r\n-\r\nI have tested my result from another website and the result I got is different. Here it is: [Calculate duration between two dates][3] (result: 29 years, 8 months, 24 days, 12 hours, 0 minutes and 50 seconds).\r\n\r\nUpdate\r\n-\r\nSince I got two different results from two different sites, I am wondering if the algorithm of my calculation is legitimate or not. If I use following two `LocalDateTime` objects:\r\n\r\n    LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 40, 45);\r\n    LocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\r\n\r\nThen the output is coming: `29 years 8 months 25 days -1 hours -5 minutes -10 seconds.`\r\n\r\nFrom this [link][4] it should be `29 years 8 months 24 days 22 hours, 54 minutes and 50 seconds`. So the algorithm needs to handle the negative numbers too.\r\n\r\n**Note the question is not about which site gave me what result, I need to know the right algorithm and need to have right results.**\r\n\r\n\r\n  [1]: http://www.epochconverter.com/epoch/date-difference.php\r\n  [2]: http://i.stack.imgur.com/SAJE4.png\r\n  [3]: http://www.timeanddate.com/date/durationresult.html?d1=16&amp;m1=12&amp;y1=1984&amp;d2=9&amp;m2=9&amp;y2=2014&amp;h1=7&amp;i1=45&amp;s1=55&amp;h2=19&amp;i2=46&amp;s2=45\r\n  [4]: http://www.timeanddate.com/date/durationresult.html?d1=16&amp;m1=12&amp;y1=1984&amp;d2=10&amp;m2=9&amp;y2=2014&amp;h1=7&amp;i1=45&amp;s1=55&amp;h2=6&amp;i2=40&amp;s2=45","title":"Java 8: Difference between two LocalDateTime in multiple units","body":"<p>I am trying to calculate the difference between two <code>LocalDateTime</code>. </p>\n\n<p>The output needs to be of the format <code>y years m months d days h hours m minutes s seconds</code>. Here is what I have written:</p>\n\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.Period;\nimport java.time.ZoneId;\n\npublic class Main {\n\n    static final int MINUTES_PER_HOUR = 60;\n    static final int SECONDS_PER_MINUTE = 60;\n    static final int SECONDS_PER_HOUR = SECONDS_PER_MINUTE * MINUTES_PER_HOUR;\n\n    public static void main(String[] args) {\n        LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 9, 19, 46, 45);\n        LocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\n\n        Period period = getPeriod(fromDateTime, toDateTime);\n        long time[] = getTime(fromDateTime, toDateTime);\n\n        System.out.println(period.getYears() + \" years \" + \n                period.getMonths() + \" months \" + \n                period.getDays() + \" days \" +\n                time[0] + \" hours \" +\n                time[1] + \" minutes \" +\n                time[2] + \" seconds.\");\n\n\n    }\n\n    private static Period getPeriod(LocalDateTime dob, LocalDateTime now) {\n        return Period.between(dob.toLocalDate(), now.toLocalDate());\n    }\n\n    private static long[] getTime(LocalDateTime dob, LocalDateTime now) {\n        LocalDateTime today = LocalDateTime.of(now.getYear(),\n                now.getMonthValue(), now.getDayOfMonth(), dob.getHour(), dob.getMinute(), dob.getSecond());\n        Duration duration = Duration.between(today, now);\n\n        long seconds = duration.getSeconds();\n\n        long hours = seconds / SECONDS_PER_HOUR;\n        long minutes = ((seconds % SECONDS_PER_HOUR) / SECONDS_PER_MINUTE);\n        long secs = (seconds % SECONDS_PER_MINUTE);\n\n        return new long[]{hours, minutes, secs};\n    }\n}\n</code></pre>\n\n<p>The output that I am getting is <code>29 years 8 months 24 days 12 hours 0 minutes 50 seconds</code>. I have checked my result from this <a href=\"http://www.epochconverter.com/epoch/date-difference.php\">website</a> (with values <code>12/16/1984 07:45:55</code> and <code>09/09/2014 19:46:45</code>). The following screenshot shows the output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SAJE4.png\" alt=\"Epoch Converter\"></p>\n\n<p>I am pretty sure that the fields after the month value is coming wrong from my code. Any suggestion would be very helpful.</p>\n\n<h2>Update</h2>\n\n<p>I have tested my result from another website and the result I got is different. Here it is: <a href=\"http://www.timeanddate.com/date/durationresult.html?d1=16&amp;m1=12&amp;y1=1984&amp;d2=9&amp;m2=9&amp;y2=2014&amp;h1=7&amp;i1=45&amp;s1=55&amp;h2=19&amp;i2=46&amp;s2=45\">Calculate duration between two dates</a> (result: 29 years, 8 months, 24 days, 12 hours, 0 minutes and 50 seconds).</p>\n\n<h2>Update</h2>\n\n<p>Since I got two different results from two different sites, I am wondering if the algorithm of my calculation is legitimate or not. If I use following two <code>LocalDateTime</code> objects:</p>\n\n<pre><code>LocalDateTime toDateTime = LocalDateTime.of(2014, 9, 10, 6, 40, 45);\nLocalDateTime fromDateTime = LocalDateTime.of(1984, 12, 16, 7, 45, 55);\n</code></pre>\n\n<p>Then the output is coming: <code>29 years 8 months 25 days -1 hours -5 minutes -10 seconds.</code></p>\n\n<p>From this <a href=\"http://www.timeanddate.com/date/durationresult.html?d1=16&amp;m1=12&amp;y1=1984&amp;d2=10&amp;m2=9&amp;y2=2014&amp;h1=7&amp;i1=45&amp;s1=55&amp;h2=6&amp;i2=40&amp;s2=45\">link</a> it should be <code>29 years 8 months 24 days 22 hours, 54 minutes and 50 seconds</code>. So the algorithm needs to handle the negative numbers too.</p>\n\n<p><strong>Note the question is not about which site gave me what result, I need to know the right algorithm and need to have right results.</strong></p>\n"},{"tags":["java","spreadsheet","odf"],"answers":[{"tags":[],"owner":{"account_id":18716,"reputation":1242,"user_id":43158,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1232352070,"creation_date":1232352070,"answer_id":456838,"question_id":456778,"body_markdown":"Take a look at jOpenDocument:\r\nhttp://www.jopendocument.org/documentation.html\r\n\r\nEspecially:\r\nhttp://www.jopendocument.org/start_spreadsheet_3.html","title":"How can I access spreadsheets in the open document format (.ods) with Java?","body":"<p>Take a look at jOpenDocument:\n<a href=\"http://www.jopendocument.org/documentation.html\" rel=\"noreferrer\">http://www.jopendocument.org/documentation.html</a></p>\n\n<p>Especially:\n<a href=\"http://www.jopendocument.org/start_spreadsheet_3.html\" rel=\"noreferrer\">http://www.jopendocument.org/start_spreadsheet_3.html</a></p>\n"},{"tags":[],"owner":{"account_id":881944,"reputation":19,"user_id":270491,"display_name":"user270491"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265823299,"creation_date":1265823299,"answer_id":2239000,"question_id":456778,"body_markdown":"jOpenDocument is all you need.","title":"How can I access spreadsheets in the open document format (.ods) with Java?","body":"<p>jOpenDocument is all you need.</p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693587973,"creation_date":1693587973,"answer_id":77024906,"question_id":456778,"body_markdown":"First import library \r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\r\n            &lt;artifactId&gt;SODS&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen this is an example on how to read the first column of the first sheet\r\n\r\n    public static List&lt;String&gt; readColumnA(String filePath) {\r\n        List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\r\n        try {\r\n            SpreadSheet spread = new SpreadSheet(new File(filePath));\r\n            //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\r\n            Sheet sheet = spread.getSheets().get(0);\r\n            //     System.out.println(&quot;In sheet &quot; + sheet.getName());\r\n            Range movies = sheet.getDataRange();\r\n            Object[][] movieColumn = movies.getValues();\r\n            for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\r\n                movieList.add(movieColumn[i][0].toString());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return movieList;\r\n    }","title":"How can I access spreadsheets in the open document format (.ods) with Java?","body":"<p>First import library</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\n        &lt;artifactId&gt;SODS&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then this is an example on how to read the first column of the first sheet</p>\n<pre><code>public static List&lt;String&gt; readColumnA(String filePath) {\n    List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\n    try {\n        SpreadSheet spread = new SpreadSheet(new File(filePath));\n        //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\n        Sheet sheet = spread.getSheets().get(0);\n        //     System.out.println(&quot;In sheet &quot; + sheet.getName());\n        Range movies = sheet.getDataRange();\n        Object[][] movieColumn = movies.getValues();\n        for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\n            movieList.add(movieColumn[i][0].toString());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return movieList;\n}\n</code></pre>\n"}],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12906,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":456838,"answer_count":3,"score":11,"last_activity_date":1693594957,"creation_date":1232349654,"question_id":456778,"body_markdown":"I want to read, write and create Spreadsheets in the Open Document Format with Java. And I want the resulting Java-program running on a computer without OpenOffice.org or other ODS-capable programs installed. Exists a library to access this format?","title":"How can I access spreadsheets in the open document format (.ods) with Java?","body":"<p>I want to read, write and create Spreadsheets in the Open Document Format with Java. And I want the resulting Java-program running on a computer without OpenOffice.org or other ODS-capable programs installed. Exists a library to access this format?</p>\n"},{"tags":["java","spring","spring-boot","validation","internationalization"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693594823,"creation_date":1677358555,"answer_id":75568376,"question_id":75568330,"body_markdown":"You can define properties in `messages.properties` for the validation errors. With Spring Boot, there is no need to register a `MessageSource` bean; it is done automatically and additional configuration can be done via `application.properties`.\r\n\r\n```\r\nname.size-error=min {min}, max {max} character length\r\nname.not-blank=name cannot be empty\r\nemail.error=email is not valid\r\n```\r\n\r\nThen, you can use those properties for the validation message in each annotation.\r\n\r\n```java\r\n@Size(min = 3, max = 50, message = &quot;{name.size-error}&quot;)\r\n@NotBlank(message = &quot;{name.not-blank}&quot;)\r\nprivate String name;\r\n\r\n@Email(message = &quot;{email.error}&quot;)\r\nprivate String email;","title":"Custom Validation Message in Spring Boot with internationalization?","body":"<p>You can define properties in <code>messages.properties</code> for the validation errors. With Spring Boot, there is no need to register a <code>MessageSource</code> bean; it is done automatically and additional configuration can be done via <code>application.properties</code>.</p>\n<pre><code>name.size-error=min {min}, max {max} character length\nname.not-blank=name cannot be empty\nemail.error=email is not valid\n</code></pre>\n<p>Then, you can use those properties for the validation message in each annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Size(min = 3, max = 50, message = &quot;{name.size-error}&quot;)\n@NotBlank(message = &quot;{name.not-blank}&quot;)\nprivate String name;\n\n@Email(message = &quot;{email.error}&quot;)\nprivate String email;\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693594823,"creation_date":1677358128,"question_id":75568330,"body_markdown":"I am trying to apply a proper approach for my validation annotations as shown below:\r\n\r\n```\r\npublic class UserRequest {\r\n\r\n    @Size(min = 3, max = 50)\r\n    @NotBlank(message = &quot;name cannot be empty and min 3, max 50 character length&quot;)\r\n    private String name;\r\n\r\n    @Email(message = &quot;email is not valid&quot;)\r\n    private String email;\r\n}\r\n```\r\n\r\nI need the following features:\r\n\r\n**1.** As shown for the `name` field, I need to get field name, and min-max parameter values in the validation message.\r\n\r\n**2.** I should be able to localize these messages in the future when I need. \r\n\r\nSo, how should I implement such kind of approach in Spring Boot apps? Is `MessageSource` usage mentioned on [Custom Validation MessageSource in Spring Boot](https://www.baeldung.com/spring-custom-validation-message-source) a proper approach for this? \r\n\r\n**Update:** When I try the approach below, I get the following response:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;26.02.2023 01:10:15&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\r\n    &quot;message&quot;: &quot;Validation failed for object=&#39;createPostRequest&#39;. Error count: 1&quot;,\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;codes&quot;: [\r\n                &quot;NotBlank.createPostRequest.name&quot;,\r\n                &quot;NotBlank.name&quot;,\r\n                &quot;NotBlank.java.lang.String&quot;,\r\n                &quot;NotBlank&quot;\r\n            ],\r\n            &quot;arguments&quot;: [\r\n                {\r\n                    &quot;codes&quot;: [\r\n                        &quot;createPostRequest.name&quot;,\r\n                        &quot;name&quot;\r\n                    ],\r\n                    &quot;arguments&quot;: null,\r\n                    &quot;defaultMessage&quot;: &quot;name&quot;,\r\n                    &quot;code&quot;: &quot;name&quot;\r\n                }\r\n            ],\r\n            &quot;defaultMessage&quot;: &quot;{name.not-blank}&quot;,\r\n            &quot;objectName&quot;: &quot;createPostRequest&quot;,\r\n            &quot;field&quot;: &quot;name&quot;,\r\n            &quot;rejectedValue&quot;: null,\r\n            &quot;bindingFailure&quot;: false,\r\n            &quot;code&quot;: &quot;NotBlank&quot;\r\n        }\r\n    ],\r\n    &quot;path&quot;: &quot;/api/v1/posts&quot;\r\n}\r\n```\r\n\r\nSo, it does not seem to convert messages provided by `message.properties` in the resources folder.","title":"Custom Validation Message in Spring Boot with internationalization?","body":"<p>I am trying to apply a proper approach for my validation annotations as shown below:</p>\n<pre><code>public class UserRequest {\n\n    @Size(min = 3, max = 50)\n    @NotBlank(message = &quot;name cannot be empty and min 3, max 50 character length&quot;)\n    private String name;\n\n    @Email(message = &quot;email is not valid&quot;)\n    private String email;\n}\n</code></pre>\n<p>I need the following features:</p>\n<p><strong>1.</strong> As shown for the <code>name</code> field, I need to get field name, and min-max parameter values in the validation message.</p>\n<p><strong>2.</strong> I should be able to localize these messages in the future when I need.</p>\n<p>So, how should I implement such kind of approach in Spring Boot apps? Is <code>MessageSource</code> usage mentioned on <a href=\"https://www.baeldung.com/spring-custom-validation-message-source\" rel=\"nofollow noreferrer\">Custom Validation MessageSource in Spring Boot</a> a proper approach for this?</p>\n<p><strong>Update:</strong> When I try the approach below, I get the following response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;26.02.2023 01:10:15&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\n    &quot;message&quot;: &quot;Validation failed for object='createPostRequest'. Error count: 1&quot;,\n    &quot;errors&quot;: [\n        {\n            &quot;codes&quot;: [\n                &quot;NotBlank.createPostRequest.name&quot;,\n                &quot;NotBlank.name&quot;,\n                &quot;NotBlank.java.lang.String&quot;,\n                &quot;NotBlank&quot;\n            ],\n            &quot;arguments&quot;: [\n                {\n                    &quot;codes&quot;: [\n                        &quot;createPostRequest.name&quot;,\n                        &quot;name&quot;\n                    ],\n                    &quot;arguments&quot;: null,\n                    &quot;defaultMessage&quot;: &quot;name&quot;,\n                    &quot;code&quot;: &quot;name&quot;\n                }\n            ],\n            &quot;defaultMessage&quot;: &quot;{name.not-blank}&quot;,\n            &quot;objectName&quot;: &quot;createPostRequest&quot;,\n            &quot;field&quot;: &quot;name&quot;,\n            &quot;rejectedValue&quot;: null,\n            &quot;bindingFailure&quot;: false,\n            &quot;code&quot;: &quot;NotBlank&quot;\n        }\n    ],\n    &quot;path&quot;: &quot;/api/v1/posts&quot;\n}\n</code></pre>\n<p>So, it does not seem to convert messages provided by <code>message.properties</code> in the resources folder.</p>\n"},{"tags":["java","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1637653385,"post_id":70076913,"comment_id":123877019,"body_markdown":"You have to wait for a compatible version, also if you are using the parent/bom why include the explicit version of the cloud parts? Those should come from the bom.","body":"You have to wait for a compatible version, also if you are using the parent/bom why include the explicit version of the cloud parts? Those should come from the bom."},{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1637654213,"post_id":70076913,"comment_id":123877288,"body_markdown":"@M.Deinum thanks. zuul using org.springframework.cloud 2.2.9 RELASE, I tried force use 3.0.4 (hope to solve the issue but not..)","body":"@M.Deinum thanks. zuul using org.springframework.cloud 2.2.9 RELASE, I tried force use 3.0.4 (hope to solve the issue but not..)"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1637812376,"post_id":70076913,"comment_id":123927575,"body_markdown":"@AsfK zuul is no longer part of Spring Cloud","body":"@AsfK zuul is no longer part of Spring Cloud"}],"answers":[{"tags":[],"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1637653521,"creation_date":1637653521,"answer_id":70077080,"question_id":70076913,"body_markdown":"It will be released on November 30 2021. See https://github.com/spring-cloud/spring-cloud-release/milestones?direction=asc&amp;sort=due_date&amp;state=open","title":"Spring Boot upgrade to 2.6.0 not compatible with Spring Cloud release train","body":"<p>It will be released on November 30 2021. See <a href=\"https://github.com/spring-cloud/spring-cloud-release/milestones?direction=asc&amp;sort=due_date&amp;state=open\" rel=\"noreferrer\">https://github.com/spring-cloud/spring-cloud-release/milestones?direction=asc&amp;sort=due_date&amp;state=open</a></p>\n"},{"tags":[],"owner":{"account_id":17074189,"reputation":163,"user_id":12354182,"display_name":"cherish sham"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638520917,"creation_date":1638520917,"answer_id":70211566,"question_id":70076913,"body_markdown":"You need spring cloud dependencies 2021.0.0 which is now available.","title":"Spring Boot upgrade to 2.6.0 not compatible with Spring Cloud release train","body":"<p>You need spring cloud dependencies 2021.0.0 which is now available.</p>\n"},{"tags":[],"owner":{"account_id":26541714,"reputation":1,"user_id":20172352,"display_name":"Pedro Vieira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693594469,"creation_date":1693591700,"answer_id":77025235,"question_id":70076913,"body_markdown":"You can add &quot;spring.cloud.compatibility-verifier.enabled=false&quot; in your src/test/resources/application.properties","title":"Spring Boot upgrade to 2.6.0 not compatible with Spring Cloud release train","body":"<p>You can add &quot;spring.cloud.compatibility-verifier.enabled=false&quot; in your src/test/resources/application.properties</p>\n"}],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20928,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70077080,"answer_count":3,"score":11,"last_activity_date":1693594469,"creation_date":1637652631,"question_id":70076913,"body_markdown":"We&#39;re trying to upgrade spring boot version to 2.6.0 and faced up with &quot;Spring Boot [2.6.0] is not compatible with this Spring Cloud release train&quot; (when running integration tests).\r\n\r\nIn additional\r\n - spring-cloud.version = 2020.0.4\r\n - We&#39;re using org.springframework.cloud (spring-cloud-context &amp; spring-cloud-commons) 3.0.4\r\n - And have (also) this block in the pom:\r\n\r\n\r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n           &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n           &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                 &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                 &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n              &lt;/exclusion&gt;\r\n              &lt;exclusion&gt;\r\n                 &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n                 &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n              &lt;/exclusion&gt;\r\n           &lt;/exclusions&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n           &lt;version&gt;3.0.4&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\nActually I didn&#39;t find in [Spring docs][1] compobility between Spring Cloud and Spring Boot 2.6.0, it&#39;s sound very odd but Have I wait for newest spring cloud version or I can beat it?\r\n\r\nP.S. :\r\n\r\nSDK: Java 8\r\n\r\nOther tries (each was tried separately):\r\n - `spring.profiles.active=native`\r\n - `spring.cloud.compatibility-verifier.enabled=false`\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud#overview","title":"Spring Boot upgrade to 2.6.0 not compatible with Spring Cloud release train","body":"<p>We're trying to upgrade spring boot version to 2.6.0 and faced up with &quot;Spring Boot [2.6.0] is not compatible with this Spring Cloud release train&quot; (when running integration tests).</p>\n<p>In additional</p>\n<ul>\n<li><p>spring-cloud.version = 2020.0.4</p>\n</li>\n<li><p>We're using org.springframework.cloud (spring-cloud-context &amp; spring-cloud-commons) 3.0.4</p>\n</li>\n<li><p>And have (also) this block in the pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n    &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;exclusions&gt;\n       &lt;exclusion&gt;\n          &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n       &lt;/exclusion&gt;\n       &lt;exclusion&gt;\n          &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n       &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>Actually I didn't find in <a href=\"https://spring.io/projects/spring-cloud#overview\" rel=\"noreferrer\">Spring docs</a> compobility between Spring Cloud and Spring Boot 2.6.0, it's sound very odd but Have I wait for newest spring cloud version or I can beat it?</p>\n<p>P.S. :</p>\n<p>SDK: Java 8</p>\n<p>Other tries (each was tried separately):</p>\n<ul>\n<li><code>spring.profiles.active=native</code></li>\n<li><code>spring.cloud.compatibility-verifier.enabled=false</code></li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3040935,"reputation":154,"user_id":2577987,"accept_rate":43,"display_name":"Eric"},"score":0,"creation_date":1693591938,"post_id":77025167,"comment_id":135786239,"body_markdown":"I don&#39;t have an answer to your original question, but a couple of comments:\n1 . it&#39;s not a very good practice to have hibernate generate your schema- that&#39;s ok for small poc type projects, but you would want to have your schema managed separately.\n2. why does it matter that the column names be prefixed with the table name?","body":"I don&#39;t have an answer to your original question, but a couple of comments: 1 . it&#39;s not a very good practice to have hibernate generate your schema- that&#39;s ok for small poc type projects, but you would want to have your schema managed separately. 2. why does it matter that the column names be prefixed with the table name?"},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1693594228,"post_id":77025167,"comment_id":135786592,"body_markdown":"@Eric 1. Thank you for advice. I think so too, but my project, as you said, is small. Just to practice. 2. Actually same reasons, just practising. Thank you for you advice","body":"@Eric 1. Thank you for advice. I think so too, but my project, as you said, is small. Just to practice. 2. Actually same reasons, just practising. Thank you for you advice"},{"owner":{"account_id":3040935,"reputation":154,"user_id":2577987,"accept_rate":43,"display_name":"Eric"},"score":0,"creation_date":1693616057,"post_id":77025167,"comment_id":135788619,"body_markdown":"ah yes I see-- make sense!!","body":"ah yes I see-- make sense!!"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693594304,"creation_date":1693592588,"answer_id":77025313,"question_id":77025167,"body_markdown":"It is because the `name` of the `@AttributeOverride` should refer to the name of the field of the `@Embeddable` class but not the database column name. Also, it is case-sensitive.\r\n\r\nSo change to the following should fix the problem : \r\n\r\n``` java\r\n@Embedded\r\n@AttributeOverrides({\r\n        @AttributeOverride(name = &quot;city&quot;,column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n        @AttributeOverride(name = &quot;zipCode&quot;,column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n        @AttributeOverride(name = &quot;street&quot;,column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n        @AttributeOverride(name = &quot;country&quot;,column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n})\r\nprivate Address companyBranchAddress;\r\n\r\n```","title":"@AttributeOverrides not working in spring boot project","body":"<p>It is because the <code>name</code> of the <code>@AttributeOverride</code> should refer to the name of the field of the <code>@Embeddable</code> class but not the database column name. Also, it is case-sensitive.</p>\n<p>So change to the following should fix the problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embedded\n@AttributeOverrides({\n        @AttributeOverride(name = &quot;city&quot;,column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n        @AttributeOverride(name = &quot;zipCode&quot;,column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n        @AttributeOverride(name = &quot;street&quot;,column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n        @AttributeOverride(name = &quot;country&quot;,column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n})\nprivate Address companyBranchAddress;\n\n</code></pre>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025313,"answer_count":1,"score":0,"last_activity_date":1693594304,"creation_date":1693590778,"question_id":77025167,"body_markdown":"I have got an embeddable class. The problem is that i want to override it attributes via @AttributeOverrides, but it is not working as i am expecting\r\n\r\n    @Embeddable\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Address {\r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;CITY&quot;)\r\n        private String city;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;ZIP_CODE&quot;)\r\n        private String zipCode;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;STREET&quot;)\r\n        private String street;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;COUNTRY&quot;)\r\n        private String country;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s, %s, %s, %s&quot;, country, city, street, zipCode);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Address)) return false;\r\n            Address address = (Address) o;\r\n            return city.equals(address.city) &amp;&amp; zipCode.equals(address.zipCode) &amp;&amp; street.equals(address.street)\r\n                    &amp;&amp; country.equals(address.country);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(city, zipCode, street, country);\r\n        }\r\n    }\r\n\r\nAnd i have this definition for this field in my entity class\r\n\r\n    @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;CITY&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zip_code&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;STREET&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;COUNTRY&quot;,\r\n                column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n        })\r\n        private Address companyBranchAddress;\r\n\r\nWhen hibernate generating my schema, it is wrong, attributes names are from embeddable class, they are not changed:\r\n\r\n    Hibernate: \r\n        create table company_branch (\r\n            id bigint generated by default as identity,\r\n            company_branch_budget varchar(63) not null,\r\n            city varchar(255),\r\n            company_branch_phone_number varchar(255) not null,\r\n            country varchar(255),\r\n            street varchar(255),\r\n            zip_code varchar(255),\r\n            primary key (id)\r\n        )\r\n\r\nWhat am I missing?","title":"@AttributeOverrides not working in spring boot project","body":"<p>I have got an embeddable class. The problem is that i want to override it attributes via @AttributeOverrides, but it is not working as i am expecting</p>\n<pre><code>@Embeddable\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address {\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;CITY&quot;)\n    private String city;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;ZIP_CODE&quot;)\n    private String zipCode;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;STREET&quot;)\n    private String street;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;COUNTRY&quot;)\n    private String country;\n\n    @Override\n    public String toString() {\n        return String.format(&quot;%s, %s, %s, %s&quot;, country, city, street, zipCode);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Address)) return false;\n        Address address = (Address) o;\n        return city.equals(address.city) &amp;&amp; zipCode.equals(address.zipCode) &amp;&amp; street.equals(address.street)\n                &amp;&amp; country.equals(address.country);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(city, zipCode, street, country);\n    }\n}\n</code></pre>\n<p>And i have this definition for this field in my entity class</p>\n<pre><code>@Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;CITY&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n            @AttributeOverride(name = &quot;zip_code&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;STREET&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n            @AttributeOverride(name = &quot;COUNTRY&quot;,\n            column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n    })\n    private Address companyBranchAddress;\n</code></pre>\n<p>When hibernate generating my schema, it is wrong, attributes names are from embeddable class, they are not changed:</p>\n<pre><code>Hibernate: \n    create table company_branch (\n        id bigint generated by default as identity,\n        company_branch_budget varchar(63) not null,\n        city varchar(255),\n        company_branch_phone_number varchar(255) not null,\n        country varchar(255),\n        street varchar(255),\n        zip_code varchar(255),\n        primary key (id)\n    )\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595093742,"creation_date":1595093742,"answer_id":62971694,"question_id":62971569,"body_markdown":"You have to import `com.sun.tools.attach.&lt;className&gt;` or `com.sun.tools.attach.spi.&lt;className&gt;`.\r\nThere are not that many resources, but this one from oracle seems like a good one: https://blogs.oracle.com/corejavatechtips/the-attach-api","title":"Using the attach api in Java","body":"<p>You have to import <code>com.sun.tools.attach.&lt;className&gt;</code> or <code>com.sun.tools.attach.spi.&lt;className&gt;</code>.\nThere are not that many resources, but this one from oracle seems like a good one: <a href=\"https://blogs.oracle.com/corejavatechtips/the-attach-api\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/corejavatechtips/the-attach-api</a></p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693593678,"creation_date":1595154892,"answer_id":62979134,"question_id":62971569,"body_markdown":"I use JDK14 with module definitions, this is all I needed to change to use with my module-info.java:\r\n\r\n    requires transitive jdk.attach;\r\n\r\nHere is a simple call to run it:\r\n\r\n    import com.sun.tools.attach.VirtualMachine;\r\n\r\n    public class AttachApi {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(&quot;BEGIN&quot;);\r\n            var vms = VirtualMachine.list();\r\n            for (var vm : vms) {\r\n                System.out.println(&quot;vm=&quot;+vm);\r\n            }\r\n\r\n            System.out.println(&quot;END&quot;);\r\n        }\r\n    }\r\n\r\nThe above code runs as-is with a non-module project in newer JDK if saved to a file and compiled then run, or compiled+run in one step with `java`:\r\n\r\n     %JAVA_HOME%\\bin\\java AttachApi.java","title":"Using the attach api in Java","body":"<p>I use JDK14 with module definitions, this is all I needed to change to use with my module-info.java:</p>\n<pre><code>requires transitive jdk.attach;\n</code></pre>\n<p>Here is a simple call to run it:</p>\n<pre><code>import com.sun.tools.attach.VirtualMachine;\n\npublic class AttachApi {\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;BEGIN&quot;);\n        var vms = VirtualMachine.list();\n        for (var vm : vms) {\n            System.out.println(&quot;vm=&quot;+vm);\n        }\n\n        System.out.println(&quot;END&quot;);\n    }\n}\n</code></pre>\n<p>The above code runs as-is with a non-module project in newer JDK if saved to a file and compiled then run, or compiled+run in one step with <code>java</code>:</p>\n<pre><code> %JAVA_HOME%\\bin\\java AttachApi.java\n</code></pre>\n"}],"owner":{"account_id":17898447,"reputation":378,"user_id":13003236,"display_name":"Simon Shkolnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62979134,"answer_count":2,"score":2,"last_activity_date":1693593678,"creation_date":1595093127,"question_id":62971569,"body_markdown":"I want to use the attach API in Java 14. To my knowledge, that was moved to jdk.attach in Java 9. I ran `java --list-modules` and I had the module installed. \r\n\r\nHow do I actually use the module in my project? I tried `import jdk.attach` but that threw an error.","title":"Using the attach api in Java","body":"<p>I want to use the attach API in Java 14. To my knowledge, that was moved to jdk.attach in Java 9. I ran <code>java --list-modules</code> and I had the module installed.</p>\n<p>How do I actually use the module in my project? I tried <code>import jdk.attach</code> but that threw an error.</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693587124,"post_id":77022233,"comment_id":135785482,"body_markdown":"That doesn&#39;t make sense. Your service will always call the same method on its dependencies, it doesn&#39;t make sense to stub different method calls for different test cases","body":"That doesn&#39;t make sense. Your service will always call the same method on its dependencies, it doesn&#39;t make sense to stub different method calls for different test cases"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693593102,"creation_date":1693591701,"answer_id":77025236,"question_id":77022233,"body_markdown":"As the methods you want to stub always return `List&lt;Element&gt;` , you can use  `Supplier&lt;List&lt;Element&gt;&gt;` to represent a method call. Also use `@MethodSource` to define the parameters is easier and cleaner than `ArgumentsProvider` IMO.\r\n\r\n ``` java\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;args&quot;)\r\nvoid findAllTest(Map&lt;String, String&gt; allParamaters, Supplier&lt;List&lt;Element&gt;&gt; methodCall) {\r\n\r\n  when(methodCall.get()).thenReturn(List.of(element));\r\n  var expectedResponse = myService.excute(allParamaters);\r\n\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; args() {\r\n\r\n    Supplier&lt;List&lt;Element&gt;&gt; find1 = () -&gt; myRepository.findComponentByKey_1(...);\r\n    Supplier&lt;List&lt;Element&gt;&gt; find2 = () -&gt; myRepository.findComponentByKey_2(...);\r\n\r\n    return Stream.of(\r\n            Arguments.of(Map.of(&quot;k1&quot;, &quot;v1&quot;), find1),\r\n            Arguments.of(Map.of(&quot;k2&quot;, &quot;v2&quot;), find2)\r\n    );\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mockito parametrize methodCall in mockito","body":"<p>As the methods you want to stub always return <code>List&lt;Element&gt;</code> , you can use  <code>Supplier&lt;List&lt;Element&gt;&gt;</code> to represent a method call. Also use <code>@MethodSource</code> to define the parameters is easier and cleaner than <code>ArgumentsProvider</code> IMO.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ParameterizedTest\n@MethodSource(&quot;args&quot;)\nvoid findAllTest(Map&lt;String, String&gt; allParamaters, Supplier&lt;List&lt;Element&gt;&gt; methodCall) {\n\n when(methodCall.get()).thenReturn(List.of(element));\n var expectedResponse = myService.excute(allParamaters);\n\n}\n\nprivate static Stream&lt;Arguments&gt; args() {\n\n   Supplier&lt;List&lt;Element&gt;&gt; find1 = () -&gt; myRepository.findComponentByKey_1(...);\n   Supplier&lt;List&lt;Element&gt;&gt; find2 = () -&gt; myRepository.findComponentByKey_2(...);\n\n   return Stream.of(\n           Arguments.of(Map.of(&quot;k1&quot;, &quot;v1&quot;), find1),\n           Arguments.of(Map.of(&quot;k2&quot;, &quot;v2&quot;), find2)\n   );\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025236,"answer_count":1,"score":0,"last_activity_date":1693593102,"creation_date":1693563032,"question_id":77022233,"body_markdown":"```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyServiceTest\r\n{\r\n   @Mock\r\n   private static MyRepository myRepository;\r\n   private MyService myService;\r\n\r\n   @BeforeEach\r\n   void setUp()\r\n   {\r\n      myService = new MyService(myRepository);\r\n   }\r\n\r\n@ParameterizedTest\r\n   @ArgumentsSource(TestParameter.class)\r\n   void findAllTest(Map&lt;String, String&gt; allParamaters, Object methodCall) throws JsonProcessingException\r\n   {\r\n\r\n      Element element = Element.builder().identification(&quot;id&quot;).build();\r\n\r\n      // how to pass different methodCall according to parametrized tests\r\n      when(methodCall).thenReturn(List.of(element));\r\n\r\n      var expectedResponse = myService.excute(allParamaters);\r\n\r\n      //assert....;\r\n   }\r\n\r\n   private static class TestParameter implements ArgumentsProvider\r\n   {\r\nprivate static final MyRepository myRepository = mock(MyRepository.class); \r\n      @Override\r\n      public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context)\r\n      {\r\n         return Stream.of(\r\n                  Arguments.of(Map.of(&quot;key_1&quot;, &quot;value_2&quot;, myRepository.findComponentByKey_1(....)),\r\n                  Arguments.of(Map.of(&quot;key_1&quot;, &quot;value_2&quot;, myRepository.findComponentByKey_2(....)),\r\n         );\r\n      }\r\n   }\r\n```\r\n\r\nhow to pass different methodCall according to parametrized tests to `when`. I always return the same list of elements","title":"Mockito parametrize methodCall in mockito","body":"<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyServiceTest\n{\n   @Mock\n   private static MyRepository myRepository;\n   private MyService myService;\n\n   @BeforeEach\n   void setUp()\n   {\n      myService = new MyService(myRepository);\n   }\n\n@ParameterizedTest\n   @ArgumentsSource(TestParameter.class)\n   void findAllTest(Map&lt;String, String&gt; allParamaters, Object methodCall) throws JsonProcessingException\n   {\n\n      Element element = Element.builder().identification(&quot;id&quot;).build();\n\n      // how to pass different methodCall according to parametrized tests\n      when(methodCall).thenReturn(List.of(element));\n\n      var expectedResponse = myService.excute(allParamaters);\n\n      //assert....;\n   }\n\n   private static class TestParameter implements ArgumentsProvider\n   {\nprivate static final MyRepository myRepository = mock(MyRepository.class); \n      @Override\n      public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context)\n      {\n         return Stream.of(\n                  Arguments.of(Map.of(&quot;key_1&quot;, &quot;value_2&quot;, myRepository.findComponentByKey_1(....)),\n                  Arguments.of(Map.of(&quot;key_1&quot;, &quot;value_2&quot;, myRepository.findComponentByKey_2(....)),\n         );\n      }\n   }\n</code></pre>\n<p>how to pass different methodCall according to parametrized tests to <code>when</code>. I always return the same list of elements</p>\n"},{"tags":["java","glsl","jogl","lighting"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1693686644,"post_id":77025345,"comment_id":135794227,"body_markdown":"At first, rather ask JOGL specific questions on our official JogAmp forum. Secondly, I advise you to compare your shaders and the rest of your code with our example using shaders: https://jogamp.org/cgit/jogl-demos.git/tree/src/demos/es2/RawGL2ES2demo.java?id=HEAD Finally, using indirect NIO buffers with JOGL works but is less efficient as it forces JOGL to convert them into direct NIO buffers anyway.","body":"At first, rather ask JOGL specific questions on our official JogAmp forum. Secondly, I advise you to compare your shaders and the rest of your code with our example using shaders: <a href=\"https://jogamp.org/cgit/jogl-demos.git/tree/src/demos/es2/RawGL2ES2demo.java?id=HEAD\" rel=\"nofollow noreferrer\">jogamp.org/cgit/jogl-demos.git/tree/src/demos/es2/&hellip;</a> Finally, using indirect NIO buffers with JOGL works but is less efficient as it forces JOGL to convert them into direct NIO buffers anyway."}],"owner":{"account_id":20468283,"reputation":11,"user_id":15019302,"display_name":"IAmSoCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693592956,"creation_date":1693592956,"question_id":77025345,"body_markdown":"I am currently working with lighting shaders in JOGL, and they are not working very well.\r\nI dont really know what i did wrong, but the light position is not applying (i think) and overall the light is dropping very weirdly, on the screenshot below you can see my cube render with lighting\r\n\r\n\r\nThe java code to render:\r\n\r\n```\r\n@Override\r\n    public void display(GLAutoDrawable drawable) {\r\n        float mod = 0.1f;\r\n        if(keys.contains(&quot;w&quot;)) player[2]+=mod;\r\n        if(keys.contains(&quot;s&quot;)) player[2]-=mod;\r\n        if(keys.contains(&quot;a&quot;)) player[0]+=mod;\r\n        if(keys.contains(&quot;d&quot;)) player[0]-=mod;\r\n\r\n        GL2 gl = drawable.getGL().getGL2();\r\n        gl.glClear(GL2.GL_COLOR_BUFFER_BIT | GL2.GL_DEPTH_BUFFER_BIT);\r\n\r\n        modelViewMatrix.loadIdentity();\r\n        modelViewMatrix.translate(player[0], player[1], player[2]-6);\r\n        modelViewMatrix.rotate((float) Math.toRadians(angle), 1, 1, 1);\r\n        modelViewMatrix.scale(1, 1, 1);\r\n\r\n        projectionMatrix.loadIdentity();\r\n        projectionMatrix.makePerspective(90f, (float) frame.getWidth()/frame.getHeight(), 1.5f, 20);\r\n\r\n        gl.glMatrixMode(GL2.GL_PROJECTION);\r\n        gl.glLoadIdentity();\r\n        gl.glMultMatrixf(FloatBuffer.wrap(projectionMatrix.getMatrix()));\r\n\r\n        // Vertices and colors for the cube&#39;s faces\r\n        float[][] vertices = {\r\n                {-1.000000f, -1.000000f, 1.000000f},\r\n                {-1.000000f, 1.000000f, 1.000000f},\r\n                {-1.000000f, -1.000000f, -1.000000f},\r\n                {-1.000000f, 1.000000f, -1.000000f},\r\n                {1.000000f, -1.000000f, 1.000000f},\r\n                {1.000000f, 1.000000f, 1.000000f},\r\n                {1.000000f, -1.000000f, -1.000000f},\r\n                {1.000000f, 1.000000f, -1.000000f}\r\n        };\r\n\r\n        float[][] normals = new float[][] {\r\n                {-1.0000f, 0.0000f, 0.0000f},\r\n                {0.0000f, 0.0000f, -1.0000f},\r\n                {1.0000f, 0.0000f, 0.0000f},\r\n                {0.0000f, 0.0000f, 1.0000f},\r\n                {0.0000f, -1.0000f, 0.0000f},\r\n                {0.0000f, 1.0000f, 0.0000f}\r\n        };\r\n        int[] indices = new int[] {\r\n               1, 2, 0,\r\n               3, 6, 2,\r\n               7, 4, 6,\r\n               5, 0, 4,\r\n               6, 0, 2,\r\n               3, 5, 7,\r\n               1, 3, 2,\r\n               3, 7, 6,\r\n               7, 5, 4,\r\n               5, 1, 0,\r\n               6, 4, 0,\r\n               3, 1, 5\r\n        };\r\n        int errorCode = 0;\r\n\r\n        int id = l.getProgramID(gl);\r\n        gl.glUseProgram(id);\r\n\r\n        gl.glUniformMatrix4fv(gl.glGetUniformLocation(id, &quot;modelViewMatrix&quot;), 1, false, modelViewMatrix.getMatrix(), 0);\r\n        gl.glUniformMatrix4fv(gl.glGetUniformLocation(id, &quot;projectionMatrix&quot;), 1, false, projectionMatrix.getMatrix(), 0);\r\n\r\n        gl.glUniform3f(gl.glGetUniformLocation(id, &quot;lightColor&quot;), 1, 1, 1);\r\n        gl.glUniform3f(gl.glGetUniformLocation(id, &quot;lightPosition&quot;), 1, 2, -1);\r\n        gl.glUniform1f(gl.glGetUniformLocation(id, &quot;shininess&quot;), .5f);\r\n\r\n        l.setPosition(Buffers.newDirectFloatBuffer(to1d(vertices)));\r\n        l.setNormal(Buffers.newDirectFloatBuffer(to1d(normals)));\r\n        l.setColor(Buffers.newDirectFloatBuffer(new float[] {1, 0, 1}));\r\n\r\n        l.bindBuffers(gl);\r\n\r\n        gl.glMatrixMode(GL2.GL_MODELVIEW);\r\n        gl.glLoadIdentity();\r\n        gl.glMultMatrixf(FloatBuffer.wrap(modelViewMatrix.getMatrix()));\r\n\r\n        gl.glDrawElements(GL2.GL_TRIANGLES, indices.length, GL2.GL_UNSIGNED_INT, Buffers.newDirectIntBuffer(indices));\r\n\r\n        errorCode = gl.glGetError();\r\n        if(errorCode != GL2.GL_NO_ERROR) {\r\n            String errorString = new GLU().gluErrorString(errorCode);\r\n            System.err.println(&quot;OpenGL error: 1 &quot; + errorString);\r\n        }\r\n\r\n        l.disable(gl);\r\n        l.unbindBuffers(gl);\r\n        gl.glUseProgram(0);\r\n\r\n        angle += 0.5f;\r\n    }\r\n```\r\n\r\nVertex shader:\r\n```\r\n#version 330 core\r\n\r\nlayout(location = 0) in vec3 inPosition;\r\nlayout(location = 1) in vec3 inNormal;\r\nlayout(location = 2) in vec3 inColor;\r\n\r\nout vec3 fragColor;\r\nout vec3 fragNormal;\r\nout vec3 lightVec;\r\n\r\nuniform mat4 modelViewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform vec3 lightPosition;\r\n\r\nvoid main() {\r\n    vec4 worldPos = modelViewMatrix * vec4(inPosition, 1.0);\r\n    gl_Position = projectionMatrix * worldPos;\r\n\r\n    fragNormal = (modelViewMatrix * vec4(inNormal, 0.0)).xyz;\r\n    lightVec = lightPosition;\r\n\r\n    fragColor = inColor;\r\n}\r\n```\r\nFragment shader:\r\n```\r\n#version 330 core\r\n\r\nin vec3 fragColor;\r\nin vec3 fragNormal;\r\nin vec3 lightVec;\r\n\r\nout vec4 outColor;\r\n\r\nuniform vec3 lightColor;\r\nuniform float shininess;\r\n\r\nvoid main() {\r\n    vec3 norm = normalize(fragNormal);\r\n    vec3 lightDir = normalize(lightVec);\r\n\r\n    float ndot = max(dot(norm, lightDir), 0.0);\r\n    vec3 diffuse = lightColor * fragColor * ndot;\r\n\r\n    outColor = vec4(diffuse, 1.0);\r\n}\r\n```\r\n\r\n\r\n[![The result i get:](https://i.stack.imgur.com/4ZObU.png)](https://i.stack.imgur.com/4ZObU.png)","title":"Why are my JOGL lighting shaders not working?","body":"<p>I am currently working with lighting shaders in JOGL, and they are not working very well.\nI dont really know what i did wrong, but the light position is not applying (i think) and overall the light is dropping very weirdly, on the screenshot below you can see my cube render with lighting</p>\n<p>The java code to render:</p>\n<pre><code>@Override\n    public void display(GLAutoDrawable drawable) {\n        float mod = 0.1f;\n        if(keys.contains(&quot;w&quot;)) player[2]+=mod;\n        if(keys.contains(&quot;s&quot;)) player[2]-=mod;\n        if(keys.contains(&quot;a&quot;)) player[0]+=mod;\n        if(keys.contains(&quot;d&quot;)) player[0]-=mod;\n\n        GL2 gl = drawable.getGL().getGL2();\n        gl.glClear(GL2.GL_COLOR_BUFFER_BIT | GL2.GL_DEPTH_BUFFER_BIT);\n\n        modelViewMatrix.loadIdentity();\n        modelViewMatrix.translate(player[0], player[1], player[2]-6);\n        modelViewMatrix.rotate((float) Math.toRadians(angle), 1, 1, 1);\n        modelViewMatrix.scale(1, 1, 1);\n\n        projectionMatrix.loadIdentity();\n        projectionMatrix.makePerspective(90f, (float) frame.getWidth()/frame.getHeight(), 1.5f, 20);\n\n        gl.glMatrixMode(GL2.GL_PROJECTION);\n        gl.glLoadIdentity();\n        gl.glMultMatrixf(FloatBuffer.wrap(projectionMatrix.getMatrix()));\n\n        // Vertices and colors for the cube's faces\n        float[][] vertices = {\n                {-1.000000f, -1.000000f, 1.000000f},\n                {-1.000000f, 1.000000f, 1.000000f},\n                {-1.000000f, -1.000000f, -1.000000f},\n                {-1.000000f, 1.000000f, -1.000000f},\n                {1.000000f, -1.000000f, 1.000000f},\n                {1.000000f, 1.000000f, 1.000000f},\n                {1.000000f, -1.000000f, -1.000000f},\n                {1.000000f, 1.000000f, -1.000000f}\n        };\n\n        float[][] normals = new float[][] {\n                {-1.0000f, 0.0000f, 0.0000f},\n                {0.0000f, 0.0000f, -1.0000f},\n                {1.0000f, 0.0000f, 0.0000f},\n                {0.0000f, 0.0000f, 1.0000f},\n                {0.0000f, -1.0000f, 0.0000f},\n                {0.0000f, 1.0000f, 0.0000f}\n        };\n        int[] indices = new int[] {\n               1, 2, 0,\n               3, 6, 2,\n               7, 4, 6,\n               5, 0, 4,\n               6, 0, 2,\n               3, 5, 7,\n               1, 3, 2,\n               3, 7, 6,\n               7, 5, 4,\n               5, 1, 0,\n               6, 4, 0,\n               3, 1, 5\n        };\n        int errorCode = 0;\n\n        int id = l.getProgramID(gl);\n        gl.glUseProgram(id);\n\n        gl.glUniformMatrix4fv(gl.glGetUniformLocation(id, &quot;modelViewMatrix&quot;), 1, false, modelViewMatrix.getMatrix(), 0);\n        gl.glUniformMatrix4fv(gl.glGetUniformLocation(id, &quot;projectionMatrix&quot;), 1, false, projectionMatrix.getMatrix(), 0);\n\n        gl.glUniform3f(gl.glGetUniformLocation(id, &quot;lightColor&quot;), 1, 1, 1);\n        gl.glUniform3f(gl.glGetUniformLocation(id, &quot;lightPosition&quot;), 1, 2, -1);\n        gl.glUniform1f(gl.glGetUniformLocation(id, &quot;shininess&quot;), .5f);\n\n        l.setPosition(Buffers.newDirectFloatBuffer(to1d(vertices)));\n        l.setNormal(Buffers.newDirectFloatBuffer(to1d(normals)));\n        l.setColor(Buffers.newDirectFloatBuffer(new float[] {1, 0, 1}));\n\n        l.bindBuffers(gl);\n\n        gl.glMatrixMode(GL2.GL_MODELVIEW);\n        gl.glLoadIdentity();\n        gl.glMultMatrixf(FloatBuffer.wrap(modelViewMatrix.getMatrix()));\n\n        gl.glDrawElements(GL2.GL_TRIANGLES, indices.length, GL2.GL_UNSIGNED_INT, Buffers.newDirectIntBuffer(indices));\n\n        errorCode = gl.glGetError();\n        if(errorCode != GL2.GL_NO_ERROR) {\n            String errorString = new GLU().gluErrorString(errorCode);\n            System.err.println(&quot;OpenGL error: 1 &quot; + errorString);\n        }\n\n        l.disable(gl);\n        l.unbindBuffers(gl);\n        gl.glUseProgram(0);\n\n        angle += 0.5f;\n    }\n</code></pre>\n<p>Vertex shader:</p>\n<pre><code>#version 330 core\n\nlayout(location = 0) in vec3 inPosition;\nlayout(location = 1) in vec3 inNormal;\nlayout(location = 2) in vec3 inColor;\n\nout vec3 fragColor;\nout vec3 fragNormal;\nout vec3 lightVec;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform vec3 lightPosition;\n\nvoid main() {\n    vec4 worldPos = modelViewMatrix * vec4(inPosition, 1.0);\n    gl_Position = projectionMatrix * worldPos;\n\n    fragNormal = (modelViewMatrix * vec4(inNormal, 0.0)).xyz;\n    lightVec = lightPosition;\n\n    fragColor = inColor;\n}\n</code></pre>\n<p>Fragment shader:</p>\n<pre><code>#version 330 core\n\nin vec3 fragColor;\nin vec3 fragNormal;\nin vec3 lightVec;\n\nout vec4 outColor;\n\nuniform vec3 lightColor;\nuniform float shininess;\n\nvoid main() {\n    vec3 norm = normalize(fragNormal);\n    vec3 lightDir = normalize(lightVec);\n\n    float ndot = max(dot(norm, lightDir), 0.0);\n    vec3 diffuse = lightColor * fragColor * ndot;\n\n    outColor = vec4(diffuse, 1.0);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4ZObU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ZObU.png\" alt=\"The result i get:\" /></a></p>\n"},{"tags":["java","macos","maven"],"comments":[{"owner":{"account_id":3015716,"reputation":758,"user_id":2557955,"accept_rate":100,"display_name":"dev-cyprium"},"score":0,"creation_date":1624399376,"post_id":68091021,"comment_id":120347645,"body_markdown":"Hello, welcome to the community. Unfortunately, we can&#39;t help you with the current state of your question, as we can&#39;t reproduce. Please check https://stackoverflow.com/help/minimal-reproducible-example to help us help you.","body":"Hello, welcome to the community. Unfortunately, we can&#39;t help you with the current state of your question, as we can&#39;t reproduce. Please check <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> to help us help you."}],"answers":[{"tags":[],"owner":{"account_id":22122434,"reputation":71,"user_id":16375408,"display_name":"Keerthanaa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625378603,"creation_date":1625378603,"answer_id":68242150,"question_id":68091021,"body_markdown":"You can delete the downloaded packages inside repository in your /.m2/repository/** folder where your maven dependency downloads(Take a backup for safer side). \r\n\r\nIn your IDE(sts or eclipse), try to do maven build(clean install).\r\n\r\nHope your issue resolved. ","title":"org.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding for MAC","body":"<p>You can delete the downloaded packages inside repository in your /.m2/repository/** folder where your maven dependency downloads(Take a backup for safer side).</p>\n<p>In your IDE(sts or eclipse), try to do maven build(clean install).</p>\n<p>Hope your issue resolved.</p>\n"},{"tags":[],"owner":{"account_id":25000009,"reputation":11,"user_id":18860492,"display_name":"Lorenzo Puglioli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667136211,"creation_date":1666772355,"answer_id":74204644,"question_id":68091021,"body_markdown":"Instead of deleting my entire local maven repository, I tried to add a &quot;Java exception breakpoint&quot; for the `IllegalArgumentException` exception in my eclipse IDE. \r\n\r\nSo I launched the maven launch configuration in debug mode, and the IDE stopped when the exception was launched. I navigated the stack watching at local variables and arguments, and I quickly found the corrupted file. \r\n\r\nIn my case was `resolver-status.properties` in `wagon-webdav` library, inside the maven repository. I deleted the folder and the problem has gone.","title":"org.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding for MAC","body":"<p>Instead of deleting my entire local maven repository, I tried to add a &quot;Java exception breakpoint&quot; for the <code>IllegalArgumentException</code> exception in my eclipse IDE.</p>\n<p>So I launched the maven launch configuration in debug mode, and the IDE stopped when the exception was launched. I navigated the stack watching at local variables and arguments, and I quickly found the corrupted file.</p>\n<p>In my case was <code>resolver-status.properties</code> in <code>wagon-webdav</code> library, inside the maven repository. I deleted the folder and the problem has gone.</p>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693592386,"creation_date":1693592386,"answer_id":77025295,"question_id":68091021,"body_markdown":"I had a similar issue.\r\n\r\nSomeone on SO suggested to check for &#39;\\u0000&#39; occurrences using command-line grep, but I needed to check for &#39;\\u000&#39; until I found the &quot;perpetrator&quot; file. \r\n\r\n    $ grep -rnw ~/.m2 -e &#39;\\u000&#39;\r\n    grep: /home/myusername/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8.jar: binary file matches\r\n    grep: /home/myusername/.m2/repository/com/nimbusds/lang-tag/resolver-status.properties: binary file matches\r\n\r\nI deleted this folder with the second search hit, `/home/myusername/.m2/repository/com/nimbusds`, now it works again.\r\n\r\n(Weird, I thought there was an answer like this here that I just wanted to update. But not finding it, I wrote this new one.)\r\n","title":"org.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding for MAC","body":"<p>I had a similar issue.</p>\n<p>Someone on SO suggested to check for '\\u0000' occurrences using command-line grep, but I needed to check for '\\u000' until I found the &quot;perpetrator&quot; file.</p>\n<pre><code>$ grep -rnw ~/.m2 -e '\\u000'\ngrep: /home/myusername/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8.jar: binary file matches\ngrep: /home/myusername/.m2/repository/com/nimbusds/lang-tag/resolver-status.properties: binary file matches\n</code></pre>\n<p>I deleted this folder with the second search hit, <code>/home/myusername/.m2/repository/com/nimbusds</code>, now it works again.</p>\n<p>(Weird, I thought there was an answer like this here that I just wanted to update. But not finding it, I wrote this new one.)</p>\n"}],"owner":{"account_id":22022771,"reputation":61,"user_id":16291317,"display_name":"BiuBiuBiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6871,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1693592386,"creation_date":1624398129,"question_id":68091021,"body_markdown":"I&#39;m running on MAC and I was running mvn install on my Java project and I got this error. I checked online for a whole day but most answers are about the / and \\, however I have no local changes and my team could build the repo fine, and I could build successfully before. Also I saw someone has faced the same issue but after they fixed the JAVA version it worked fine for them.https://stackoverflow.com/questions/68003423/java-lang-illegalargumentexception-malformed-uxxxx-encoding-while-mvn-install?newreg=96abc52a5b8e46d9a72155ef37f33c81. I have tried all the methods and they are not working:\r\nI have tried reinstalling JAVA, MAVEN, also updating JAVA/MAVEN version. I recall I faced similar issue before and when I switch JAVA/MAVEN to older version it worked fine, but this time it does not work anymore. Could anyone help with it? I really appreciate it.\r\nI tried with MAVEN 3.8, MAVEN 3.5, MAVEN 3.3 and they are all having this issue. I was using JAVA11 and having some issues then I switched to JAVA8 and uninstalled JAVA11.\r\n\r\nHere is the full stack trace:\r\n```\r\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T11:41:47-05:00)\r\nMaven home: /usr/local/Cellar/maven@3.3/3.3.9_1/libexec\r\nJava version: 1.8.0_292, vendor: AdoptOpenJDK\r\nJava home: /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre\r\nDefault locale: en_CA, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n[DEBUG] Created new class realm maven.api\r\n[DEBUG] Importing foreign packages into class realm maven.api\r\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\r\n[DEBUG] Populating class realm maven.api\r\n[INFO] Error stacktraces are turned on.\r\n[DEBUG] Reading global settings from /usr/local/Cellar/maven@3.3/3.3.9_1/libexec/conf/settings.xml\r\n[DEBUG] Reading global toolchains from /usr/local/Cellar/maven@3.3/3.3.9_1/libexec/conf/toolchains.xml\r\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /Users/bill.chen/.m2/repository\r\n[INFO] Scanning for projects...\r\n[DEBUG] Could not find metadata com.karauctionservices.itss.scm:parent:1.0-SNAPSHOT/maven-metadata.xml in local \r\n[ERROR] Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding. -&gt; [Help 1]\r\norg.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:121)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\nCaused by: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\r\n\tat java.util.Properties.loadConvert(Properties.java:574)\r\n\tat java.util.Properties.load0(Properties.java:391)\r\n\tat java.util.Properties.load(Properties.java:341)\r\n\tat org.eclipse.aether.internal.impl.TrackingFileManager.read(TrackingFileManager.java:61)\r\n\tat org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read(DefaultUpdateCheckManager.java:538)\r\n\tat org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata(DefaultUpdateCheckManager.java:272)\r\n\tat org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve(DefaultMetadataResolver.java:332)\r\n\tat org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata(DefaultMetadataResolver.java:205)\r\n\tat org.apache.maven.repository.internal.DefaultVersionResolver.resolveVersion(DefaultVersionResolver.java:237)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:302)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:246)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:223)\r\n\tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:294)\r\n\tat org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:193)\r\n\tat org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:246)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:1000)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.readParent(DefaultModelBuilder.java:800)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:329)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:469)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:438)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:401)\r\n\tat org.apache.maven.graph.DefaultGraphBuilder.collectProjects(DefaultGraphBuilder.java:419)\r\n\tat org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor(DefaultGraphBuilder.java:410)\r\n\tat org.apache.maven.graph.DefaultGraphBuilder.build(DefaultGraphBuilder.java:83)\r\n\tat org.apache.maven.DefaultMaven.buildGraph(DefaultMaven.java:491)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:219)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n\t... 11 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/InternalErrorException\r\n```","title":"org.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding for MAC","body":"<p>I'm running on MAC and I was running mvn install on my Java project and I got this error. I checked online for a whole day but most answers are about the / and , however I have no local changes and my team could build the repo fine, and I could build successfully before. Also I saw someone has faced the same issue but after they fixed the JAVA version it worked fine for them.https://stackoverflow.com/questions/68003423/java-lang-illegalargumentexception-malformed-uxxxx-encoding-while-mvn-install?newreg=96abc52a5b8e46d9a72155ef37f33c81. I have tried all the methods and they are not working:\nI have tried reinstalling JAVA, MAVEN, also updating JAVA/MAVEN version. I recall I faced similar issue before and when I switch JAVA/MAVEN to older version it worked fine, but this time it does not work anymore. Could anyone help with it? I really appreciate it.\nI tried with MAVEN 3.8, MAVEN 3.5, MAVEN 3.3 and they are all having this issue. I was using JAVA11 and having some issues then I switched to JAVA8 and uninstalled JAVA11.</p>\n<p>Here is the full stack trace:</p>\n<pre><code>Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T11:41:47-05:00)\nMaven home: /usr/local/Cellar/maven@3.3/3.3.9_1/libexec\nJava version: 1.8.0_292, vendor: AdoptOpenJDK\nJava home: /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre\nDefault locale: en_CA, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n[DEBUG] Created new class realm maven.api\n[DEBUG] Importing foreign packages into class realm maven.api\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\n[DEBUG] Populating class realm maven.api\n[INFO] Error stacktraces are turned on.\n[DEBUG] Reading global settings from /usr/local/Cellar/maven@3.3/3.3.9_1/libexec/conf/settings.xml\n[DEBUG] Reading global toolchains from /usr/local/Cellar/maven@3.3/3.3.9_1/libexec/conf/toolchains.xml\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /Users/bill.chen/.m2/repository\n[INFO] Scanning for projects...\n[DEBUG] Could not find metadata com.karauctionservices.itss.scm:parent:1.0-SNAPSHOT/maven-metadata.xml in local \n[ERROR] Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding. -&gt; [Help 1]\norg.apache.maven.InternalErrorException: Internal error: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:121)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\n    at java.util.Properties.loadConvert(Properties.java:574)\n    at java.util.Properties.load0(Properties.java:391)\n    at java.util.Properties.load(Properties.java:341)\n    at org.eclipse.aether.internal.impl.TrackingFileManager.read(TrackingFileManager.java:61)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read(DefaultUpdateCheckManager.java:538)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata(DefaultUpdateCheckManager.java:272)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve(DefaultMetadataResolver.java:332)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata(DefaultMetadataResolver.java:205)\n    at org.apache.maven.repository.internal.DefaultVersionResolver.resolveVersion(DefaultVersionResolver.java:237)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:302)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:246)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:223)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:294)\n    at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:193)\n    at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:246)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:1000)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParent(DefaultModelBuilder.java:800)\n    at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:329)\n    at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:469)\n    at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:438)\n    at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:401)\n    at org.apache.maven.graph.DefaultGraphBuilder.collectProjects(DefaultGraphBuilder.java:419)\n    at org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor(DefaultGraphBuilder.java:410)\n    at org.apache.maven.graph.DefaultGraphBuilder.build(DefaultGraphBuilder.java:83)\n    at org.apache.maven.DefaultMaven.buildGraph(DefaultMaven.java:491)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:219)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    ... 11 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/InternalErrorException\n</code></pre>\n"},{"tags":["java","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1560335449,"creation_date":1560335449,"answer_id":56560022,"question_id":56559579,"body_markdown":"It&#39;s simple as passing the fragment as id, and nest it below the `th:insert` tag from calling template:\r\n\r\n    &lt;div th:insert=&quot;~{tableview::tableview(~{:: #tbodyFragment})}&quot;&gt;\r\n       &lt;tbody id=&quot;tbodyFragment&quot;&gt;\r\n               ...content here...\r\n       &lt;/tbody&gt;\r\n    &lt;/div&gt;","title":"How to pass a thymeleaf fragment as paramter to another fragment?","body":"<p>It's simple as passing the fragment as id, and nest it below the <code>th:insert</code> tag from calling template:</p>\n\n<pre><code>&lt;div th:insert=\"~{tableview::tableview(~{:: #tbodyFragment})}\"&gt;\n   &lt;tbody id=\"tbodyFragment\"&gt;\n           ...content here...\n   &lt;/tbody&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14141125,"reputation":171,"user_id":10215887,"display_name":"Julia Hin&#223;en IT.NRW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693591831,"creation_date":1693591831,"answer_id":77025250,"question_id":56559579,"body_markdown":"See also:\r\n[Thymeleaf Documentation][1],\r\nchapter &quot;8.3 Flexible layouts: beyond mere fragment insertion&quot;.\r\n\r\nYou can hand over fragments as parameters to another fragment. More than shown in the examples of the Thymeleaf Documentation, you can also hand over fragments which have parameters themselves:\r\n\r\nDefining the main fragment:\r\n\r\n    &lt;div th:fragment = &quot;main_fragment (fragment_parameter, text_parameter)&quot;\r\n         th:remove = &quot;tag&quot;&gt;\r\n        some content here ...\r\n        &lt;!-- the handed over fragment is being embedded here: --&gt;\r\n        &lt;div th:replace=&quot;${fragment_parameter}&quot;&gt;\r\n        some more content ...\r\n    &lt;/div&gt;\r\n\r\nDefining the inner fragment:\r\n\r\n    &lt;div th:fragment = &quot;_inner_fragmentname(parameter1, parameter2)&quot;&gt;\r\n        here the inner_fragmentname content depending on the parameters ...\r\n    &lt;/div\r\n\r\nUsing the main fragment:\r\n\r\n    &lt;div th:replace=&quot;{one_filepath/one_filename :: main_fragment(\r\n                      fragment_parameter = ~{filepath/filename :: _inner_fragmentname(\r\n                                                  paramter1 = &#39;blablabla&#39;,\r\n                                                  parameter2= true)},\r\n                      text_parameter = &#39;blublublu&#39;}&quot;&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#fragment-local-variables-without-fragment-arguments\r\n","title":"How to pass a thymeleaf fragment as paramter to another fragment?","body":"<p>See also:\n<a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#fragment-local-variables-without-fragment-arguments\" rel=\"nofollow noreferrer\">Thymeleaf Documentation</a>,\nchapter &quot;8.3 Flexible layouts: beyond mere fragment insertion&quot;.</p>\n<p>You can hand over fragments as parameters to another fragment. More than shown in the examples of the Thymeleaf Documentation, you can also hand over fragments which have parameters themselves:</p>\n<p>Defining the main fragment:</p>\n<pre><code>&lt;div th:fragment = &quot;main_fragment (fragment_parameter, text_parameter)&quot;\n     th:remove = &quot;tag&quot;&gt;\n    some content here ...\n    &lt;!-- the handed over fragment is being embedded here: --&gt;\n    &lt;div th:replace=&quot;${fragment_parameter}&quot;&gt;\n    some more content ...\n&lt;/div&gt;\n</code></pre>\n<p>Defining the inner fragment:</p>\n<pre><code>&lt;div th:fragment = &quot;_inner_fragmentname(parameter1, parameter2)&quot;&gt;\n    here the inner_fragmentname content depending on the parameters ...\n&lt;/div\n</code></pre>\n<p>Using the main fragment:</p>\n<pre><code>&lt;div th:replace=&quot;{one_filepath/one_filename :: main_fragment(\n                  fragment_parameter = ~{filepath/filename :: _inner_fragmentname(\n                                              paramter1 = 'blablabla',\n                                              parameter2= true)},\n                  text_parameter = 'blublublu'}&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56560022,"answer_count":2,"score":0,"last_activity_date":1693591831,"creation_date":1560334028,"question_id":56559579,"body_markdown":"Is it possible to pass a tag/fragment to another template in `thymeleaf`?\r\n\r\nExample: I want to create a basic `tableview` layout, and the callers template should only provide the `&lt;tbody&gt;` content that then should get injected into the tableview template layout.\r\n\r\nThis could be the table layout:\r\n\r\n    &lt;div th:fragment=&quot;tableview (tbodyFragment)&quot;&gt;\r\n    \t&lt;table class=...&gt;\r\n    \t\t&lt;thead&gt;...&lt;/thead&gt;\r\n    \r\n    \t\t&lt;!-- the table body should be repaced --&gt;\r\n    \t\t&lt;tbody th:replace=&quot;${tbodyFragment}&quot;/&gt;\r\n    \t&lt;/table&gt;\r\n    &lt;/div&gt;\r\n\r\nCalling template:\r\n\r\n    &lt;tbody id=&quot;tbodyFragment&quot;&gt;\r\n    \t&lt;th:block th:each=&quot;row : ${rows}&quot;&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td th:text=&quot;${row.id}&quot;/&gt;\r\n    \t\t\t&lt;td th:text=&quot;${row.firstname}&quot;/&gt;\r\n    \t\t\t&lt;td th:text=&quot;${row.lastname}&quot;/&gt;\r\n    \t\t\t&lt;td th:text=&quot;${row.age}&quot; style=&quot;text-align:right&quot;/&gt;\r\n    \t\t&lt;/tr&gt;\t\r\n    \t&lt;th:block&gt;\r\n    &lt;/tbody&gt;\r\n    \r\n    &lt;div th:insert=&quot;~{tableview::tableview(tbodyFragment)}&quot;/&gt;\r\n\r\nOf course the syntax above is invalid, but you get the idea. How could I achieve this?\r\n","title":"How to pass a thymeleaf fragment as paramter to another fragment?","body":"<p>Is it possible to pass a tag/fragment to another template in <code>thymeleaf</code>?</p>\n\n<p>Example: I want to create a basic <code>tableview</code> layout, and the callers template should only provide the <code>&lt;tbody&gt;</code> content that then should get injected into the tableview template layout.</p>\n\n<p>This could be the table layout:</p>\n\n<pre><code>&lt;div th:fragment=\"tableview (tbodyFragment)\"&gt;\n    &lt;table class=...&gt;\n        &lt;thead&gt;...&lt;/thead&gt;\n\n        &lt;!-- the table body should be repaced --&gt;\n        &lt;tbody th:replace=\"${tbodyFragment}\"/&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Calling template:</p>\n\n<pre><code>&lt;tbody id=\"tbodyFragment\"&gt;\n    &lt;th:block th:each=\"row : ${rows}\"&gt;\n        &lt;tr&gt;\n            &lt;td th:text=\"${row.id}\"/&gt;\n            &lt;td th:text=\"${row.firstname}\"/&gt;\n            &lt;td th:text=\"${row.lastname}\"/&gt;\n            &lt;td th:text=\"${row.age}\" style=\"text-align:right\"/&gt;\n        &lt;/tr&gt;   \n    &lt;th:block&gt;\n&lt;/tbody&gt;\n\n&lt;div th:insert=\"~{tableview::tableview(tbodyFragment)}\"/&gt;\n</code></pre>\n\n<p>Of course the syntax above is invalid, but you get the idea. How could I achieve this?</p>\n"},{"tags":["java","deserialization","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":20867359,"reputation":101,"user_id":15328090,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693567347,"creation_date":1693567347,"answer_id":77022685,"question_id":77022398,"body_markdown":"You are right about the library not being able to deserialize object into String. You could solve the issue in the following ways:\r\n\r\n - If you expect an arbitrary object in `propertiesJson` property you\r\n   could make it of type `Map&lt;String, Object&gt;` in your\r\n   `ConfigurationProperties` class. \r\n   \r\n - If `propertiesJson` can be of any type(like number, string, array,\r\n   object) you could make it of type `Object`. In such case\r\n   `ObjectMapper` would deserialize the value into an object of the json\r\n   type&#39;s respective counterpart in Java.","title":"Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>You are right about the library not being able to deserialize object into String. You could solve the issue in the following ways:</p>\n<ul>\n<li><p>If you expect an arbitrary object in <code>propertiesJson</code> property you\ncould make it of type <code>Map&lt;String, Object&gt;</code> in your\n<code>ConfigurationProperties</code> class.</p>\n</li>\n<li><p>If <code>propertiesJson</code> can be of any type(like number, string, array,\nobject) you could make it of type <code>Object</code>. In such case\n<code>ObjectMapper</code> would deserialize the value into an object of the json\ntype's respective counterpart in Java.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":13651172,"reputation":804,"user_id":9849018,"display_name":"Shivanshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693591606,"creation_date":1693564583,"question_id":77022398,"body_markdown":"I have one class called `Configurations`\r\n\r\n    public class Configurations {\r\n    \r\n    private List&lt;Configuration&gt; configurations; \r\n    }\r\n\r\n    public class Configuration {\r\n        private String configurationClass;\r\n        private ConfigurationProperties configurationProperties;\r\n    }\r\n\r\n    public class ConfigurationProperties {\r\n        private String propertiesClass;\r\n        private String propertiesJson;\r\n    }\r\n\r\n    public class SchoolProperties {\r\n        @JsonProperty(&quot;serviceName&quot;)\r\n        String serviceName;\r\n    \r\n        @JsonProperty(&quot;operationName&quot;)\r\n        String operationName;\r\n    \r\n        @JsonProperty(&quot;latency&quot;)\r\n        Long latency;\r\n    \r\n        @JsonProperty(&quot;permittedTransactionsPerSecond&quot;)\r\n        int permittedTransactionsPerSecond;\r\n    \r\n        Class&lt;? extends Throwable&gt;[] possibleExceptions;\r\n    }\r\n\r\nthere is one more class called ConfigurationProperties like below :-\r\n\r\nNow i&#39;m passing a Json-Object like below:-\r\n\r\n\r\n      input =   &quot;{\r\n            &quot;configurations&quot;: [{\r\n                &quot;configurationClass&quot;: &quot;src.myProject.OperationHandler&quot;,\r\n                &quot;configurationProperties&quot;: {\r\n                    &quot;propertiesClass&quot;: &quot;src.myProjects.schoolProperties&quot;,\r\n                    &quot;propertiesJson&quot;: {\r\n                        &quot;serviceName&quot;: &quot;SchoolAdministerService&quot;,\r\n                        &quot;operationName&quot;: &quot;handleAdmission&quot;,\r\n                        &quot;latency&quot;: &quot;25&quot;,\r\n                        &quot;permittedTransactionsPerSecond&quot;: &quot;50&quot;,\r\n                        &quot;possibleExceptions&quot;: [&quot;java.io.IOException&quot;, &quot;java.net.SocketException&quot;, &quot;java.net.SocketTimeoutException&quot;]\r\n                    }\r\n                }\r\n            }]\r\n        }&quot;;\r\n\r\n      type = &quot;Configurations.class&quot;;\r\n\r\nWhen i&#39;m trying to deserialize it with below way, it&#39;s getting failed:- \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    objectMapper.readValue(input, type);\r\n\r\nAfter running this de-serialization logic, this is getting failed with below-error:- \r\n\r\n        Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n    at [Source: (String)&quot;{&quot;configurations&quot;:[{&quot;configurationClass&quot;:&quot;src.myProject.OperationHandler&quot;,&quot;configurationProperties&quot;:{&quot;propertiesClass&quot;:&quot;src.myProjects.schoolProperties&quot;,&quot;propertiesJson&quot;:{\r\n                    &quot;serviceName&quot;: &quot;SchoolAdministerService&quot;,\r\n                    &quot;operationName&quot;: &quot;handleAdmission&quot;,\r\n                    &quot;latency&quot;: &quot;25&quot;,\r\n                    &quot;permittedTransactionsPerSecond&quot;: &quot;50&quot;,\r\n                    &quot;possibleExceptions&quot;: [&quot;java.io.IOException&quot;, &quot;java.net.SocketException&quot;, &quot;java.net.SocketTimeoutException&quot;]\r\n                } (through reference chain: Configurations[&quot;configurations&quot;]-&gt;java.util.ArrayList[0]-&gt;Configuration[&quot;configurationProperties&quot;]-&gt;ConfigurationProperties[&quot;propertiesJson&quot;])\r\n\r\n\r\n\r\nI think the issue is because it&#39;s trying to capture propertiesJson as String, but this is not given as string, this is a object. Can someone help, how we should de-serialize it. \r\n\r\nThanks ! ","title":"Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>I have one class called <code>Configurations</code></p>\n<pre><code>public class Configurations {\n\nprivate List&lt;Configuration&gt; configurations; \n}\n\npublic class Configuration {\n    private String configurationClass;\n    private ConfigurationProperties configurationProperties;\n}\n\npublic class ConfigurationProperties {\n    private String propertiesClass;\n    private String propertiesJson;\n}\n\npublic class SchoolProperties {\n    @JsonProperty(&quot;serviceName&quot;)\n    String serviceName;\n\n    @JsonProperty(&quot;operationName&quot;)\n    String operationName;\n\n    @JsonProperty(&quot;latency&quot;)\n    Long latency;\n\n    @JsonProperty(&quot;permittedTransactionsPerSecond&quot;)\n    int permittedTransactionsPerSecond;\n\n    Class&lt;? extends Throwable&gt;[] possibleExceptions;\n}\n</code></pre>\n<p>there is one more class called ConfigurationProperties like below :-</p>\n<p>Now i'm passing a Json-Object like below:-</p>\n<pre><code>  input =   &quot;{\n        &quot;configurations&quot;: [{\n            &quot;configurationClass&quot;: &quot;src.myProject.OperationHandler&quot;,\n            &quot;configurationProperties&quot;: {\n                &quot;propertiesClass&quot;: &quot;src.myProjects.schoolProperties&quot;,\n                &quot;propertiesJson&quot;: {\n                    &quot;serviceName&quot;: &quot;SchoolAdministerService&quot;,\n                    &quot;operationName&quot;: &quot;handleAdmission&quot;,\n                    &quot;latency&quot;: &quot;25&quot;,\n                    &quot;permittedTransactionsPerSecond&quot;: &quot;50&quot;,\n                    &quot;possibleExceptions&quot;: [&quot;java.io.IOException&quot;, &quot;java.net.SocketException&quot;, &quot;java.net.SocketTimeoutException&quot;]\n                }\n            }\n        }]\n    }&quot;;\n\n  type = &quot;Configurations.class&quot;;\n</code></pre>\n<p>When i'm trying to deserialize it with below way, it's getting failed:-</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nobjectMapper.readValue(input, type);\n</code></pre>\n<p>After running this de-serialization logic, this is getting failed with below-error:-</p>\n<pre><code>    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\nat [Source: (String)&quot;{&quot;configurations&quot;:[{&quot;configurationClass&quot;:&quot;src.myProject.OperationHandler&quot;,&quot;configurationProperties&quot;:{&quot;propertiesClass&quot;:&quot;src.myProjects.schoolProperties&quot;,&quot;propertiesJson&quot;:{\n                &quot;serviceName&quot;: &quot;SchoolAdministerService&quot;,\n                &quot;operationName&quot;: &quot;handleAdmission&quot;,\n                &quot;latency&quot;: &quot;25&quot;,\n                &quot;permittedTransactionsPerSecond&quot;: &quot;50&quot;,\n                &quot;possibleExceptions&quot;: [&quot;java.io.IOException&quot;, &quot;java.net.SocketException&quot;, &quot;java.net.SocketTimeoutException&quot;]\n            } (through reference chain: Configurations[&quot;configurations&quot;]-&gt;java.util.ArrayList[0]-&gt;Configuration[&quot;configurationProperties&quot;]-&gt;ConfigurationProperties[&quot;propertiesJson&quot;])\n</code></pre>\n<p>I think the issue is because it's trying to capture propertiesJson as String, but this is not given as string, this is a object. Can someone help, how we should de-serialize it.</p>\n<p>Thanks !</p>\n"},{"tags":["java","aggregation-framework"],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693591344,"creation_date":1693591344,"question_id":77025208,"body_markdown":"I am trying to write the logic with MongoDB aggregate pipeline, but it is failing with the below error. Below is my syntax of code but it is working with find operator. Could anyone help me with the aggregate pipeline . I am okay with find operator.I need same syntax with Aggregate pipeline . Appreciate any help. \r\n\r\n    Find operator code :working \r\n\r\n    MongoDatabase mongoDatabase = this.mongoClient.getDatabase(database);\r\n            MongoCollection&lt;Document&gt; collectionList = mongoDatabase.getCollection(this.collection);\r\n          List  list = new ArrayList();\r\n            document.append(&quot;$or&quot;, Arrays.asList(\r\n                    new Document()\r\n                            .append(&quot;key&quot;, &quot;S&quot;),\r\n                    new Document()\r\n                            .append(&quot;key&quot;, &quot;P&quot;)\r\n                    ));\r\n           List results = collection.find(document).sort(Sorts.descending(&quot;Period&quot;)).sort(Sorts.descending(&quot;_id&quot;)).limit(1).into(list);\r\n            return results;\r\n    \t\r\n    \t  \r\n    \r\n        Error Description :&quot;message&quot;: &quot;Command failed with error 40324 (Location40324): &#39;Unrecognized pipeline stage name: &#39;$or&#39;&#39; on server pl-0-eu-central-1.fpopz.mongodb.net:1032. The full response is {\\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Unrecognized pipeline stage name: &#39;$or&#39;\\&quot;, \\&quot;code\\&quot;: 40324, \\&quot;codeName\\&quot;: \\&quot;Location40324\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1693589659, \\&quot;i\\&quot;: 16}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;PqoVuUAo66TfpZJYVGfnyHuBz9A=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7214365560476270596}}, \\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1693589659, \\&quot;i\\&quot;: 16}}}&quot;, \r\n    \r\n      \r\n    \r\n        Query searchQuery = new Query();\r\n               \r\n           Document documentMap =  new Document();\r\n                if (values != null &amp;&amp; !values.isEmpty())\r\n                    documentMap.put(&quot;sample.value&quot;, values);\r\n                if (color != null &amp;&amp; !color.isEmpty())\r\n                    documentMap.put(&quot;sample.color&quot;, color);\r\n                 BasicDBObject projectFields=new BasicDBObject();\r\n                projectFields.append(&quot;sample.value&quot;,&quot;$sample.value&quot;);\r\n                projectFields.append(&quot;sample.value&quot;,&quot;$sample.value&quot;);\r\n               List&lt;Document&gt; aggregate = new ArrayList&lt;&gt;();\r\n                List&lt;? extends Bson&gt; pipelines;\t\t\r\n        \t\tpipelines = getDetailsAggregate(queryLimit, projectFields, documentMap);\r\n        \t\tdatabase = collection.aggregate(pipelines).into(aggregate);\r\n        \t\tprivate List&lt;? extends Bson&gt; getDetailsAggregate(int queryLimit, BasicDBObject projectFields,Document documetMaps) {\r\n                return  Arrays.asList(\r\n                        new Document()\r\n                                .append(&quot;$match&quot;, documetMaps),\r\n                        new Document()\r\n                                .append(&quot;$or&quot;, Arrays.asList(\r\n                                        new Document()\r\n                                                .append(&quot;key&quot;, &quot;P&quot;),\r\n                                        new Document()\r\n                                                .append(&quot;key&quot;, &quot;S&quot;)\r\n                                )),\r\n                        new Document()\r\n                                .append(&quot;$project&quot;, projectFields),\r\n                        new Document()\r\n                                .append(&quot;$sort&quot;,Aggregates.sort(Sorts.descending(\r\n                                        &quot;Period&quot;))),\r\n                        new Document()\r\n                                .append(&quot;$sort&quot;,Aggregates.sort(Sorts.descending(\r\n                                        &quot;_id&quot;))),\r\n                        new Document()\r\n                                .append(&quot;$limit&quot;, queryLimit)\r\n                );\r\n        \r\n            }","title":"MongoError :Unrecognized pipeline stage name: &#39;$or with aggregate pipeline","body":"<p>I am trying to write the logic with MongoDB aggregate pipeline, but it is failing with the below error. Below is my syntax of code but it is working with find operator. Could anyone help me with the aggregate pipeline . I am okay with find operator.I need same syntax with Aggregate pipeline . Appreciate any help.</p>\n<pre><code>Find operator code :working \n\nMongoDatabase mongoDatabase = this.mongoClient.getDatabase(database);\n        MongoCollection&lt;Document&gt; collectionList = mongoDatabase.getCollection(this.collection);\n      List  list = new ArrayList();\n        document.append(&quot;$or&quot;, Arrays.asList(\n                new Document()\n                        .append(&quot;key&quot;, &quot;S&quot;),\n                new Document()\n                        .append(&quot;key&quot;, &quot;P&quot;)\n                ));\n       List results = collection.find(document).sort(Sorts.descending(&quot;Period&quot;)).sort(Sorts.descending(&quot;_id&quot;)).limit(1).into(list);\n        return results;\n    \n      \n\n    Error Description :&quot;message&quot;: &quot;Command failed with error 40324 (Location40324): 'Unrecognized pipeline stage name: '$or'' on server pl-0-eu-central-1.fpopz.mongodb.net:1032. The full response is {\\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Unrecognized pipeline stage name: '$or'\\&quot;, \\&quot;code\\&quot;: 40324, \\&quot;codeName\\&quot;: \\&quot;Location40324\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1693589659, \\&quot;i\\&quot;: 16}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;PqoVuUAo66TfpZJYVGfnyHuBz9A=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7214365560476270596}}, \\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1693589659, \\&quot;i\\&quot;: 16}}}&quot;, \n\n  \n\n    Query searchQuery = new Query();\n           \n       Document documentMap =  new Document();\n            if (values != null &amp;&amp; !values.isEmpty())\n                documentMap.put(&quot;sample.value&quot;, values);\n            if (color != null &amp;&amp; !color.isEmpty())\n                documentMap.put(&quot;sample.color&quot;, color);\n             BasicDBObject projectFields=new BasicDBObject();\n            projectFields.append(&quot;sample.value&quot;,&quot;$sample.value&quot;);\n            projectFields.append(&quot;sample.value&quot;,&quot;$sample.value&quot;);\n           List&lt;Document&gt; aggregate = new ArrayList&lt;&gt;();\n            List&lt;? extends Bson&gt; pipelines;     \n            pipelines = getDetailsAggregate(queryLimit, projectFields, documentMap);\n            database = collection.aggregate(pipelines).into(aggregate);\n            private List&lt;? extends Bson&gt; getDetailsAggregate(int queryLimit, BasicDBObject projectFields,Document documetMaps) {\n            return  Arrays.asList(\n                    new Document()\n                            .append(&quot;$match&quot;, documetMaps),\n                    new Document()\n                            .append(&quot;$or&quot;, Arrays.asList(\n                                    new Document()\n                                            .append(&quot;key&quot;, &quot;P&quot;),\n                                    new Document()\n                                            .append(&quot;key&quot;, &quot;S&quot;)\n                            )),\n                    new Document()\n                            .append(&quot;$project&quot;, projectFields),\n                    new Document()\n                            .append(&quot;$sort&quot;,Aggregates.sort(Sorts.descending(\n                                    &quot;Period&quot;))),\n                    new Document()\n                            .append(&quot;$sort&quot;,Aggregates.sort(Sorts.descending(\n                                    &quot;_id&quot;))),\n                    new Document()\n                            .append(&quot;$limit&quot;, queryLimit)\n            );\n    \n        }\n</code></pre>\n"},{"tags":["java","spring","mockito","spring-integration"],"comments":[{"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"score":0,"creation_date":1536252047,"post_id":52208554,"comment_id":91366678,"body_markdown":"What if you remove `Utilities.class` from the context config? Then if `@SpyBean` isn&#39;t working, you should see the application context fail to be created.","body":"What if you remove <code>Utilities.class</code> from the context config? Then if <code>@SpyBean</code> isn&#39;t working, you should see the application context fail to be created."},{"owner":{"account_id":5235408,"reputation":530,"user_id":4184155,"display_name":"spl"},"score":0,"creation_date":1536253020,"post_id":52208554,"comment_id":91367154,"body_markdown":"Because the utilities bean is requested in the spring integration flow, within an expression, I get this: org.springframework.messaging.MessageHandlingException: Expression evaluation failed","body":"Because the utilities bean is requested in the spring integration flow, within an expression, I get this: org.springframework.messaging.MessageHandlingException: Expression evaluation failed"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1536253624,"post_id":52208554,"comment_id":91367463,"body_markdown":"Show, please, how you use `Utilities` in the integration flow and share with us, please, the whole stack trace.","body":"Show, please, how you use <code>Utilities</code> in the integration flow and share with us, please, the whole stack trace."},{"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"score":0,"creation_date":1641809337,"post_id":52208554,"comment_id":124894609,"body_markdown":"I have the same problem and I think it is because beforeAll (should be static) fires when the instance is not yet created and spybean is instance field. I still dont know how to solve this if I want beforeAll annotation","body":"I have the same problem and I think it is because beforeAll (should be static) fires when the instance is not yet created and spybean is instance field. I still dont know how to solve this if I want beforeAll annotation"}],"answers":[{"tags":[],"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536261038,"creation_date":1536259501,"answer_id":52210404,"question_id":52208554,"body_markdown":"I attempted to recreate your problem with a minimal configuration:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {Ctx.class})\r\n    public class XTest {\r\n    \r\n      @SpyBean\r\n      private Random random1;\r\n    \r\n      @Autowired private Supplier&lt;Integer&gt; intSupplier;\r\n    \r\n      @Test\r\n      public void test() {\r\n        Mockito.when(random1.nextInt()).thenReturn(Integer.MAX_VALUE);\r\n        int i = intSupplier.get();\r\n        System.out.println(&quot;i=&quot; + i);\r\n      }\r\n    \r\n      @Configuration\r\n      public static class Ctx {\r\n    \r\n        @Bean\r\n        static Random random1() {\r\n          return ThreadLocalRandom.current();\r\n        }\r\n    \r\n        @Bean\r\n        static Supplier&lt;Integer&gt; intSupplier(Random random1) {\r\n          return random1::nextInt;\r\n        }\r\n      }\r\n    }\r\n\r\nAnd as expected it prints\r\n\r\n    i=2147483647\r\n\r\nSo, there must be an issue with your runtime configuration... Could you share that? I’m guessing spring-integration is using another ApplicationContext. I know this isn&#39;t an answer and I will delete it if it doesn&#39;t help.","title":"SpyBean not being injected everywhere","body":"<p>I attempted to recreate your problem with a minimal configuration:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {Ctx.class})\npublic class XTest {\n\n  @SpyBean\n  private Random random1;\n\n  @Autowired private Supplier&lt;Integer&gt; intSupplier;\n\n  @Test\n  public void test() {\n    Mockito.when(random1.nextInt()).thenReturn(Integer.MAX_VALUE);\n    int i = intSupplier.get();\n    System.out.println(\"i=\" + i);\n  }\n\n  @Configuration\n  public static class Ctx {\n\n    @Bean\n    static Random random1() {\n      return ThreadLocalRandom.current();\n    }\n\n    @Bean\n    static Supplier&lt;Integer&gt; intSupplier(Random random1) {\n      return random1::nextInt;\n    }\n  }\n}\n</code></pre>\n\n<p>And as expected it prints</p>\n\n<pre><code>i=2147483647\n</code></pre>\n\n<p>So, there must be an issue with your runtime configuration... Could you share that? I’m guessing spring-integration is using another ApplicationContext. I know this isn't an answer and I will delete it if it doesn't help.</p>\n"},{"tags":[],"owner":{"account_id":5235408,"reputation":530,"user_id":4184155,"display_name":"spl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536577775,"creation_date":1536577775,"answer_id":52256532,"question_id":52208554,"body_markdown":"Okay, Thank you all for attempts to help. Without meaning to frustrate, posting configuration and flow won&#39;t help I think, because of what I&#39;ve found below:\r\n\r\nThere was an exception on closer inspection:\r\n\r\n    org.springframework.expression.AccessException: Could not resolve bean reference against BeanFactory\r\n\r\nThe reference in question was to a method inside the utilities which I have used @SpyBean on:\r\n\r\n\t\t&lt;int:transformer\r\n\t\t\texpression=&quot;@utilities.asMap(&#39;licence_id&#39;, headers[licenceId], &#39;message&#39;, &#39;Delivered: &#39; + headers[confirmedMessage], &#39;secured_session_id&#39;, headers[visitorSession].getSecureSessionId())&quot; /&gt;\r\n\r\nIt&#39;s not a separate ApplicationContext but rather SpEL won&#39;t accept the spy bean because the reference has changed or similar.\r\n\r\nSo, I&#39;ve left the utilities alone and retrofitted another bean internal to that to generate the numbers, and used SpyBean on that. Now Spring Integration/SpEL is happy again because the utilities bean it&#39;s working with is correct and the mocking happens internal to that bean and transparently to SpEL.\r\n\r\n    @Component\r\n    public class RandomSupplier implements Supplier&lt;Double&gt; {\r\n    \r\n        @Override\r\n        public Double get() {\r\n            return Math.random();\r\n        }\r\n    }\r\n\r\n    public class FullIntegrationTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @SpyBean\r\n        private RandomSupplier randomSupplier;\r\n    \r\n        @Autowired // This is only necessary for the toy test below\r\n        private Utilities utilities;\r\n    \r\n        @BeforeEach\r\n        public void setupAfterInit() {\r\n    \r\n            Mockito.when(randomSupplier.get()).thenReturn(0.5);\r\n        }\r\n    \r\n        @Test\r\n        public void t0() throws IOException {\r\n          System.out.println(utilities.getRandom());\r\n        }\r\n    ...\r\n\r\nNow Spring Integration/SpEL is happy again because the utilities bean it&#39;s working is correct and the mocking happens internal to that bean.\r\n\r\nThree lessons: Don&#39;t spy beans directly referenced in SpEL inside a Spring Integration Flow; Read the logs; You can never have enough indirection :)\r\n","title":"SpyBean not being injected everywhere","body":"<p>Okay, Thank you all for attempts to help. Without meaning to frustrate, posting configuration and flow won't help I think, because of what I've found below:</p>\n\n<p>There was an exception on closer inspection:</p>\n\n<pre><code>org.springframework.expression.AccessException: Could not resolve bean reference against BeanFactory\n</code></pre>\n\n<p>The reference in question was to a method inside the utilities which I have used @SpyBean on:</p>\n\n<pre><code>    &lt;int:transformer\n        expression=\"@utilities.asMap('licence_id', headers[licenceId], 'message', 'Delivered: ' + headers[confirmedMessage], 'secured_session_id', headers[visitorSession].getSecureSessionId())\" /&gt;\n</code></pre>\n\n<p>It's not a separate ApplicationContext but rather SpEL won't accept the spy bean because the reference has changed or similar.</p>\n\n<p>So, I've left the utilities alone and retrofitted another bean internal to that to generate the numbers, and used SpyBean on that. Now Spring Integration/SpEL is happy again because the utilities bean it's working with is correct and the mocking happens internal to that bean and transparently to SpEL.</p>\n\n<pre><code>@Component\npublic class RandomSupplier implements Supplier&lt;Double&gt; {\n\n    @Override\n    public Double get() {\n        return Math.random();\n    }\n}\n\npublic class FullIntegrationTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @SpyBean\n    private RandomSupplier randomSupplier;\n\n    @Autowired // This is only necessary for the toy test below\n    private Utilities utilities;\n\n    @BeforeEach\n    public void setupAfterInit() {\n\n        Mockito.when(randomSupplier.get()).thenReturn(0.5);\n    }\n\n    @Test\n    public void t0() throws IOException {\n      System.out.println(utilities.getRandom());\n    }\n...\n</code></pre>\n\n<p>Now Spring Integration/SpEL is happy again because the utilities bean it's working is correct and the mocking happens internal to that bean.</p>\n\n<p>Three lessons: Don't spy beans directly referenced in SpEL inside a Spring Integration Flow; Read the logs; You can never have enough indirection :)</p>\n"}],"owner":{"account_id":5235408,"reputation":530,"user_id":4184155,"display_name":"spl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693591215,"creation_date":1536251368,"question_id":52208554,"body_markdown":"I&#39;m having difficulty getting a spy bean into my ApplicationContext. I have a bean called *utilities* of type *Utilities*:\r\n\r\n    @Component(&quot;utilities&quot;)\r\n    public class Utilities {\r\n    \r\n    &lt;snip&gt;\r\n    \r\n        /**\r\n         * Returns a random int. This is provided mostly for testing mock-ability\r\n         *\r\n         * @return a random integer\r\n         */\r\n        public int getRandom() {\r\n            return (int) (Math.random() * Integer.MAX_VALUE);\r\n        }\r\n    }\r\n\r\nAnd it&#39;s used from within a class indirectly referenced by my Spring Integration flow.\r\n\r\nThen I have this Jupiter test:\r\n\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration( classes = {\r\n        XmlLocations.class,\r\n        VisitorManager.class,\r\n        Utilities.class,\r\n        UnixTimeChannel.class\r\n    })\r\n    @WebMvcTest\r\n    //@TestExecutionListeners( { MockitoTestExecutionListener.class })\r\n    public class FullIntegrationTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @SpyBean\r\n        private Utilities utilities;\r\n    \r\n        private ClientAndServer mockServer;\r\n    \r\n        private static final int MOCK_SERVER_PORT = 9089;\r\n    \r\n        @BeforeAll\r\n        public void setUpBeforeClass() {\r\n    \r\n            Mockito.when(utilities.getRandom()).thenReturn(Integer.MAX_VALUE);\r\n    \r\n            mockServer = ClientAndServer.startClientAndServer(MOCK_SERVER_PORT);\r\n            RestAssuredMockMvc.mockMvc(mvc);\r\n            (new MockServerPingInit()).initializeExpectations(mockServer);\r\n            (new MockServerFullIntegrationInit()).initializeExpectations(mockServer);\r\n        }\r\n    \r\n        @Test\r\n        public void t00200_IncomingMessage() {\r\n    \r\n            RestAssuredMockMvc.given()\r\n                .queryParam(&quot;example&quot;, &quot;example&quot;)\r\n                .when()\r\n                .request(&quot;POST&quot;, &quot;/api/v1/incoming&quot;)\r\n                .then()\r\n                .statusCode(equalTo(200));\r\n        }\r\n    \r\n    &lt;snip&gt;\r\n\r\nBut even though I create the spy bean and use a when/thenReturn on it it doesn&#39;t float off into my application context waiting to be called and return its mocked random value.\r\n\r\nI know that the method utilities.getRandom() is getting called because I can place a breakpoint on it and debug the test, and it hits the getRandom method, but when I try to add a spy bean as shown above and mock out the getRandom to return a fixed value for testing the breakpoints still hits and so I can tell the real method not the mock is being called.\r\n\r\nI&#39;ve tried putting the when/thenReturn inside the test as well in case it&#39;s too early but it doesn&#39;t help.\r\n\r\nClearly I&#39;m doing something wrong, possibly conceptually wrong. Halp!\r\n\r\n\r\n\r\n","title":"SpyBean not being injected everywhere","body":"<p>I'm having difficulty getting a spy bean into my ApplicationContext. I have a bean called <em>utilities</em> of type <em>Utilities</em>:</p>\n<pre><code>@Component(&quot;utilities&quot;)\npublic class Utilities {\n\n&lt;snip&gt;\n\n    /**\n     * Returns a random int. This is provided mostly for testing mock-ability\n     *\n     * @return a random integer\n     */\n    public int getRandom() {\n        return (int) (Math.random() * Integer.MAX_VALUE);\n    }\n}\n</code></pre>\n<p>And it's used from within a class indirectly referenced by my Spring Integration flow.</p>\n<p>Then I have this Jupiter test:</p>\n<pre><code>@TestInstance(Lifecycle.PER_CLASS)\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration( classes = {\n    XmlLocations.class,\n    VisitorManager.class,\n    Utilities.class,\n    UnixTimeChannel.class\n})\n@WebMvcTest\n//@TestExecutionListeners( { MockitoTestExecutionListener.class })\npublic class FullIntegrationTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @SpyBean\n    private Utilities utilities;\n\n    private ClientAndServer mockServer;\n\n    private static final int MOCK_SERVER_PORT = 9089;\n\n    @BeforeAll\n    public void setUpBeforeClass() {\n\n        Mockito.when(utilities.getRandom()).thenReturn(Integer.MAX_VALUE);\n\n        mockServer = ClientAndServer.startClientAndServer(MOCK_SERVER_PORT);\n        RestAssuredMockMvc.mockMvc(mvc);\n        (new MockServerPingInit()).initializeExpectations(mockServer);\n        (new MockServerFullIntegrationInit()).initializeExpectations(mockServer);\n    }\n\n    @Test\n    public void t00200_IncomingMessage() {\n\n        RestAssuredMockMvc.given()\n            .queryParam(&quot;example&quot;, &quot;example&quot;)\n            .when()\n            .request(&quot;POST&quot;, &quot;/api/v1/incoming&quot;)\n            .then()\n            .statusCode(equalTo(200));\n    }\n\n&lt;snip&gt;\n</code></pre>\n<p>But even though I create the spy bean and use a when/thenReturn on it it doesn't float off into my application context waiting to be called and return its mocked random value.</p>\n<p>I know that the method utilities.getRandom() is getting called because I can place a breakpoint on it and debug the test, and it hits the getRandom method, but when I try to add a spy bean as shown above and mock out the getRandom to return a fixed value for testing the breakpoints still hits and so I can tell the real method not the mock is being called.</p>\n<p>I've tried putting the when/thenReturn inside the test as well in case it's too early but it doesn't help.</p>\n<p>Clearly I'm doing something wrong, possibly conceptually wrong. Halp!</p>\n"},{"tags":["java","multithreading","junit","deadlock","synchronized"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1592490085,"post_id":62441456,"comment_id":110449375,"body_markdown":"There is no reliable test for potential deadlocks. Instrumenting code to trigger a known deadlock at a certain location might be possible, but where’s the sense in that?","body":"There is no reliable test for potential deadlocks. Instrumenting code to trigger a known deadlock at a certain location might be possible, but where’s the sense in that?"},{"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"score":0,"creation_date":1631484195,"post_id":62441456,"comment_id":122227607,"body_markdown":"you can use a tool https://github.com/devexperts/dlcheck","body":"you can use a tool <a href=\"https://github.com/devexperts/dlcheck\" rel=\"nofollow noreferrer\">github.com/devexperts/dlcheck</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693591132,"creation_date":1592451206,"answer_id":62441885,"question_id":62441456,"body_markdown":"Essentially, you need `Thread (t1)` executing `method1` to wait inside `synchronized (monitor1)` but outside of`synchronized (monitor2)` until another `Thread (t2)` executing `method2` goes inside `synchronized (monitor2)` and releases `t1` and both threads try to proceed.\r\n\r\nOr vice versa, where `t2` waits until `t1` comes and releases\r\n\r\nYou can code this scenario yourself. But since you are focusing just on `Deadlock` testing, you can use a `java.util.concurrent.CyclicBarrier` between `2 parties` to orchestrate this, where `parties` indicate the number of threads that must invoke `CyclicBarrier.await()` before the barrier is tripped (in other words, all the threads previous awaiting proceeds).\r\n\r\n    class Deadlock {\r\n        final private CyclicBarrier cyclicBarrier = new CyclicBarrier(2);\r\n        final private Object monitor1;\r\n        final private Object monitor2;\r\n\r\n        public Deadlock(Object monitor1, Object monitor2) {\r\n            this.monitor1 = monitor1;\r\n            this.monitor2 = monitor2;\r\n        }\r\n\r\n        public void method1() throws BrokenBarrierException, InterruptedException {\r\n            synchronized (monitor1) {\r\n                cyclicBarrier.await();\r\n                synchronized (monitor2) {\r\n                }\r\n            }\r\n        }\r\n\r\n        public void method2() throws BrokenBarrierException, InterruptedException {\r\n            synchronized (monitor2) {\r\n                cyclicBarrier.await();\r\n                synchronized (monitor1) {\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void tryToSleep(long millis) {\r\n            try {\r\n                Thread.sleep(millis);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nYou will have to handle the checked Exceptions threw by `cyclicBarrier.await()`\r\n\r\n            Thread t1 = new Thread(() -&gt; {\r\n                try {\r\n                    deadlock.method1(); \r\n                } catch (BrokenBarrierException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            t1.start();\r\n\r\n            Thread t2 = new Thread(() -&gt; {\r\n                try {\r\n                    deadlock.method2();\r\n                } catch (BrokenBarrierException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            t2.start();\r\n\r\n            deadlock.tryToSleep(5000); // Wait till all threads have a chance to become alive\r\n\r\n            assertEquals(Thread.State.BLOCKED, t1.getState());\r\n            assertTrue(t1.isAlive());\r\n\r\n            assertEquals(Thread.State.BLOCKED, t2.getState());\r\n            assertTrue(t2.isAlive());\r\n","title":"Testing a potential deadlock without sleep in JUnit","body":"<p>Essentially, you need <code>Thread (t1)</code> executing <code>method1</code> to wait inside <code>synchronized (monitor1)</code> but outside of<code>synchronized (monitor2)</code> until another <code>Thread (t2)</code> executing <code>method2</code> goes inside <code>synchronized (monitor2)</code> and releases <code>t1</code> and both threads try to proceed.</p>\n<p>Or vice versa, where <code>t2</code> waits until <code>t1</code> comes and releases</p>\n<p>You can code this scenario yourself. But since you are focusing just on <code>Deadlock</code> testing, you can use a <code>java.util.concurrent.CyclicBarrier</code> between <code>2 parties</code> to orchestrate this, where <code>parties</code> indicate the number of threads that must invoke <code>CyclicBarrier.await()</code> before the barrier is tripped (in other words, all the threads previous awaiting proceeds).</p>\n<pre><code>class Deadlock {\n    final private CyclicBarrier cyclicBarrier = new CyclicBarrier(2);\n    final private Object monitor1;\n    final private Object monitor2;\n\n    public Deadlock(Object monitor1, Object monitor2) {\n        this.monitor1 = monitor1;\n        this.monitor2 = monitor2;\n    }\n\n    public void method1() throws BrokenBarrierException, InterruptedException {\n        synchronized (monitor1) {\n            cyclicBarrier.await();\n            synchronized (monitor2) {\n            }\n        }\n    }\n\n    public void method2() throws BrokenBarrierException, InterruptedException {\n        synchronized (monitor2) {\n            cyclicBarrier.await();\n            synchronized (monitor1) {\n            }\n        }\n    }\n\n    public static void tryToSleep(long millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>You will have to handle the checked Exceptions threw by <code>cyclicBarrier.await()</code></p>\n<pre><code>        Thread t1 = new Thread(() -&gt; {\n            try {\n                deadlock.method1(); \n            } catch (BrokenBarrierException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        t1.start();\n\n        Thread t2 = new Thread(() -&gt; {\n            try {\n                deadlock.method2();\n            } catch (BrokenBarrierException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        t2.start();\n\n        deadlock.tryToSleep(5000); // Wait till all threads have a chance to become alive\n\n        assertEquals(Thread.State.BLOCKED, t1.getState());\n        assertTrue(t1.isAlive());\n\n        assertEquals(Thread.State.BLOCKED, t2.getState());\n        assertTrue(t2.isAlive());\n</code></pre>\n"}],"owner":{"account_id":112618,"reputation":1131,"user_id":296988,"display_name":"Luke 10X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62441885,"answer_count":1,"score":0,"last_activity_date":1693591132,"creation_date":1592447998,"question_id":62441456,"body_markdown":"In classical Deadlock example, there are two paths in the code acquiring the same two synchronized locks, but in different order like here:\r\n```\r\n// Production code\r\npublic class Deadlock {\r\n    final private Object monitor1;\r\n    final private Object monitor2;\r\n\r\n    public Deadlock(Object monitor1, Object monitor2) {\r\n        this.monitor1 = monitor1;\r\n        this.monitor2 = monitor2;\r\n    }\r\n\r\n    public void method1() {\r\n        synchronized (monitor1) {\r\n            tryToSleep(1000);\r\n            synchronized (monitor2) {\r\n                tryToSleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void method2() {\r\n        synchronized (monitor2) {\r\n            tryToSleep(1000);\r\n            synchronized (monitor1) {\r\n                tryToSleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void tryToSleep(long millis) {\r\n        try {\r\n            Thread.sleep(millis);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis could potentially result in a deadlock. To increase the chance that it actually deadlocks, I am adding those ```tryToSleep(1000);```, just to ensure that method1 will acquire a lock on monitor1, and method2 will acquire the lock on monitor2, before even trying to acquire next lock. So using the sleep this Deadlock simulates &quot;unlucky&quot; timing. Say, there is a strange requirement, that our code should have the potential to result in a deadlock, and for that reason, we want to test it:\r\n\r\n```\r\n   // Test\r\n   @Test\r\n    void callingBothMethodsWillDeadlock() {\r\n        var deadlock = new Deadlock(Integer.class, String.class);\r\n\r\n        var t1 = new Thread(() -&gt; {\r\n            deadlock.method1(); // Executes for at least 1000ms\r\n        });\r\n        t1.start();\r\n\r\n        var t2 = new Thread(() -&gt; {\r\n            deadlock.method2(); // Executes for at least 1000ms\r\n        });\r\n        t2.start();\r\n\r\n        Deadlock.tryToSleep(5000); // We need to wait for 2s + 2s + some more to be sure...\r\n\r\n        assertEquals(Thread.State.BLOCKED, t1.getState());\r\n        assertTrue(t1.isAlive());\r\n\r\n        assertEquals(Thread.State.BLOCKED, t2.getState());\r\n        assertTrue(t2.isAlive());\r\n    }\r\n```\r\n\r\nThis passes, which is good. Which is not good is that I had to add sleep into the Deadlock class itself, and also in its test. I had to do this just in order to make the test consistently pass. Even though if I remove sleep from everywhere this code could sometimes produce a deadlock, but then there is no guarantee that it happens during the test. Now say having sleep is unacceptable here, then the question is:\r\nHow can I reliably test that this code, has a potential to cause a deadlock without any sleep neither in the test and in the actual code itself?\r\n\r\nedit: I just wanted to emphasize that I am asking for the class to have a potential for a deadlock, only in some &quot;unlucky&quot; timing (when two threads are calling `method1()` and `method2()` at the same time) this deadlock should happen. And in my test, I want to demonstrate deadlock on every run. I  want to remove sleep calls from the production code (hopefully from the test also). Maybe there is a way to use mocks instead of the injected monitors, so we could orchestrate them acquiring locks in a specific order during the test?","title":"Testing a potential deadlock without sleep in JUnit","body":"<p>In classical Deadlock example, there are two paths in the code acquiring the same two synchronized locks, but in different order like here:</p>\n\n<pre><code>// Production code\npublic class Deadlock {\n    final private Object monitor1;\n    final private Object monitor2;\n\n    public Deadlock(Object monitor1, Object monitor2) {\n        this.monitor1 = monitor1;\n        this.monitor2 = monitor2;\n    }\n\n    public void method1() {\n        synchronized (monitor1) {\n            tryToSleep(1000);\n            synchronized (monitor2) {\n                tryToSleep(1000);\n            }\n        }\n    }\n\n    public void method2() {\n        synchronized (monitor2) {\n            tryToSleep(1000);\n            synchronized (monitor1) {\n                tryToSleep(1000);\n            }\n        }\n    }\n\n    public static void tryToSleep(long millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>This could potentially result in a deadlock. To increase the chance that it actually deadlocks, I am adding those <code>tryToSleep(1000);</code>, just to ensure that method1 will acquire a lock on monitor1, and method2 will acquire the lock on monitor2, before even trying to acquire next lock. So using the sleep this Deadlock simulates \"unlucky\" timing. Say, there is a strange requirement, that our code should have the potential to result in a deadlock, and for that reason, we want to test it:</p>\n\n<pre><code>   // Test\n   @Test\n    void callingBothMethodsWillDeadlock() {\n        var deadlock = new Deadlock(Integer.class, String.class);\n\n        var t1 = new Thread(() -&gt; {\n            deadlock.method1(); // Executes for at least 1000ms\n        });\n        t1.start();\n\n        var t2 = new Thread(() -&gt; {\n            deadlock.method2(); // Executes for at least 1000ms\n        });\n        t2.start();\n\n        Deadlock.tryToSleep(5000); // We need to wait for 2s + 2s + some more to be sure...\n\n        assertEquals(Thread.State.BLOCKED, t1.getState());\n        assertTrue(t1.isAlive());\n\n        assertEquals(Thread.State.BLOCKED, t2.getState());\n        assertTrue(t2.isAlive());\n    }\n</code></pre>\n\n<p>This passes, which is good. Which is not good is that I had to add sleep into the Deadlock class itself, and also in its test. I had to do this just in order to make the test consistently pass. Even though if I remove sleep from everywhere this code could sometimes produce a deadlock, but then there is no guarantee that it happens during the test. Now say having sleep is unacceptable here, then the question is:\nHow can I reliably test that this code, has a potential to cause a deadlock without any sleep neither in the test and in the actual code itself?</p>\n\n<p>edit: I just wanted to emphasize that I am asking for the class to have a potential for a deadlock, only in some \"unlucky\" timing (when two threads are calling <code>method1()</code> and <code>method2()</code> at the same time) this deadlock should happen. And in my test, I want to demonstrate deadlock on every run. I  want to remove sleep calls from the production code (hopefully from the test also). Maybe there is a way to use mocks instead of the injected monitors, so we could orchestrate them acquiring locks in a specific order during the test?</p>\n"},{"tags":["java","spring-boot","spring-webflux","nonblocking"],"owner":{"account_id":1786908,"reputation":135,"user_id":1628191,"accept_rate":40,"display_name":"Libin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693590711,"creation_date":1693590711,"question_id":77025160,"body_markdown":"I&#39;m not sure if this is doable in reactive way.\r\nMy first query returns Flux&lt;String&gt; and I need to iterate it, to create a custom query which returns Flux&lt;Object&gt; and my method returns Flux&lt;Flux&lt;Object&gt;&gt; \r\n\r\n**First Query**\r\n\r\n    var tableNamesFlux = Mono.from(connectionFactory.create())\r\n                .flatMap((c) -&gt; Mono.from(c.createStatement(&quot;show tables&quot;).execute()).doFinally((st) -&gt; c.close()))\r\n                .flatMapMany(result -&gt; Flux.from(result.map((row, meta)-&gt;\r\n                        row.get(0, String.class)\r\n                )));\r\n\r\n**Second Query**\r\n\r\n\r\n         tableNamesFlux\r\n                .filter(name -&gt; tablesNames.contains(name.toLowerCase()))\r\n                .map(name -&gt; {\r\n                    sql.append(name).append(&quot; where &lt;&lt;conditions&gt;&gt;&quot;) \r\n                 Mono.from(connectionFactory.create())\r\n                                .flatMap((c) -&gt; Mono.from(c.createStatement( sql.toString() )\r\n                                                .execute())\r\n                                        .doFinally((st) -&gt; c.close()))\r\n                                .flatMapMany(result -&gt; Flux.from(result.map((row, meta) -&gt; Object Mapping\r\n\r\n**Response**\r\n\r\n\r\n    &quot;scanAvailable&quot;: true,\r\n            &quot;prefetch&quot;: -1\r\n\r\nCan someone tell me how to handle this is reactive way non blocking? I&#39;m still learning reactive way of doing things using spring.\r\n\r\nThanks","title":"Spring reactive r2dbc - how to loop first query which returns Flux&lt;String&gt; and call second query which returns Flux&lt;Object&gt; in non blocking way?","body":"<p>I'm not sure if this is doable in reactive way.\nMy first query returns Flux and I need to iterate it, to create a custom query which returns Flux and my method returns Flux&lt;Flux&gt;</p>\n<p><strong>First Query</strong></p>\n<pre><code>var tableNamesFlux = Mono.from(connectionFactory.create())\n            .flatMap((c) -&gt; Mono.from(c.createStatement(&quot;show tables&quot;).execute()).doFinally((st) -&gt; c.close()))\n            .flatMapMany(result -&gt; Flux.from(result.map((row, meta)-&gt;\n                    row.get(0, String.class)\n            )));\n</code></pre>\n<p><strong>Second Query</strong></p>\n<pre><code>     tableNamesFlux\n            .filter(name -&gt; tablesNames.contains(name.toLowerCase()))\n            .map(name -&gt; {\n                sql.append(name).append(&quot; where &lt;&lt;conditions&gt;&gt;&quot;) \n             Mono.from(connectionFactory.create())\n                            .flatMap((c) -&gt; Mono.from(c.createStatement( sql.toString() )\n                                            .execute())\n                                    .doFinally((st) -&gt; c.close()))\n                            .flatMapMany(result -&gt; Flux.from(result.map((row, meta) -&gt; Object Mapping\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>&quot;scanAvailable&quot;: true,\n        &quot;prefetch&quot;: -1\n</code></pre>\n<p>Can someone tell me how to handle this is reactive way non blocking? I'm still learning reactive way of doing things using spring.</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693588162,"post_id":77024648,"comment_id":135785642,"body_markdown":"dfFinalDir==null but you are not checking it before use hence the null pointer exception. Know what goes wrong first.","body":"dfFinalDir==null but you are not checking it before use hence the null pointer exception. Know what goes wrong first."},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1693592450,"post_id":77024648,"comment_id":135786300,"body_markdown":"If you analyze this code you know that it never should be null, because earlier everything is set straightforwardly. It is all about keeping access to this folder when onDestroy and later onCreate is called, then it will not be null.","body":"If you analyze this code you know that it never should be null, because earlier everything is set straightforwardly. It is all about keeping access to this folder when onDestroy and later onCreate is called, then it will not be null."}],"answers":[{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693590442,"creation_date":1693590442,"answer_id":77025140,"question_id":77024648,"body_markdown":"You need to `takePersistableUriPermission()` to keep access across runs without re-asking the user to choose the directory.\r\n\r\nSee [Persist permissions](https://developer.android.com/training/data-storage/shared/documents-files#persist-permissions) for details on how to do this.\r\n","title":"Android access to folder is only granted until app is closed","body":"<p>You need to <code>takePersistableUriPermission()</code> to keep access across runs without re-asking the user to choose the directory.</p>\n<p>See <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#persist-permissions\" rel=\"nofollow noreferrer\">Persist permissions</a> for details on how to do this.</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77025140,"answer_count":1,"score":4,"last_activity_date":1693590442,"creation_date":1693585188,"question_id":77024648,"body_markdown":"When my app is launched for the first time and the Intent.ACTION_OPEN_DOCUMENT_TREE is called then I choose my desired folder in file explorer, my code works fine until I do &quot;Force close app&quot;. After that I get an en exception (`dfFinalDir` is null): \r\n\r\n`java.lang.NullPointerException: Attempt to invoke virtual method &#39;androidx.documentfile.provider.DocumentFile androidx.documentfile.provider.DocumentFile.findFile(java.lang.String)&#39; on a null object reference`\r\n\r\nI guess it happens maybe because after closing the app I lose my access to folder, but shouldn&#39;t it be permanently? I hope so and this is what I want to achieve.\r\n\r\n    private void writeDataToFile(Intent intent) {\r\n\r\n        String uriString = sp.getString(&quot;auto_backup_uri&quot;, &quot;&quot;);\r\n\r\n        if (uriString.equals(&quot;&quot;)) {\r\n            Util.initConfirmDialog(this, getString(R.string.choose_folder_for_auto_backup) + getString(R.string.app_name_no_space) + &quot;/&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    Log.i(&quot;TAG&quot;, &quot;Trying to get access the desired folder&quot;);\r\n                    Intent intent2 = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n                    startActivityForResult(intent2, AppConstants.GRANT_ACCESS_TO_AUTO_BACKUP_FILE);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!uriString.equals(&quot;&quot;)) {\r\n            Log.i(&quot;TAG&quot;, &quot;Trying to write data to file &quot; + uriString);\r\n            Uri uri = Uri.parse(uriString);\r\n            DocumentFile dfBeforeFinalDir = DocumentFile.fromTreeUri(this, uri);\r\n            DocumentFile dfFinalDir = dfBeforeFinalDir.findFile(getString(R.string.app_name_no_space));\r\n\r\n            // HERE IS AN EXCEPTION\r\n            DocumentFile dfFinalAutoBackupFile = dfFinalDir.findFile(&quot;notatki_a&quot;);\r\n\r\n\r\n            if (dfFinalAutoBackupFile == null) {\r\n                Log.i(&quot;TAG&quot;, &quot;Auto backup file does not exist, creating new one&quot;);\r\n                dfFinalAutoBackupFile = dfFinalDir.createFile(&quot;application/*&quot;, &quot;notatki_a&quot;);\r\n            }\r\n\r\n            OutputStream fileOutputStream = null;\r\n            try {\r\n                fileOutputStream = getContentResolver().openOutputStream(dfFinalAutoBackupFile.getUri());\r\n            } catch (FileNotFoundException e) {\r\n                doWhenException(e, &quot;The provided URI could not be opened&quot;, intent);\r\n            }\r\n            try {\r\n                fileOutputStream.write(jsonNotes.getBytes(StandardCharsets.UTF_8));\r\n                fileOutputStream.close();\r\n                intent.putExtra(&quot;auto_save_status&quot;, AppConstants.SUCCESS);\r\n            } catch (IOException e) {\r\n                doWhenException(e, &quot;An IOException during writing data to newly created file&quot;, intent);\r\n            } finally {\r\n                if (extNoteOrder &gt; 0)\r\n                    intent.putExtra(&quot;ext_note_order&quot;, extNoteOrder);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent resultData) {\r\n        super.onActivityResult(requestCode, resultCode, resultData);\r\n        if (requestCode == AppConstants.GRANT_ACCESS_TO_AUTO_BACKUP_FILE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            if (resultData != null) {\r\n                Uri uri = resultData.getData();\r\n                spEditor.putString(&quot;auto_backup_uri&quot;, uri.toString()).apply();\r\n\r\n                DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\r\n\r\n                try {\r\n                    DocumentFile dfFinalDir = documentFile.findFile(getString(R.string.app_name_no_space));\r\n                    if (dfFinalDir == null) {\r\n                        dfFinalDir = documentFile.createDirectory(getString(R.string.app_name_no_space));\r\n                    }\r\n                    if (dfFinalDir != null) {\r\n                        Util.initConfirmDialogNoNegButton(this, getString(R.string.you_can_do_with_auto_backup));\r\n                    }\r\n\r\n\r\n                } catch (Exception e) {\r\n                    Util.doWhenException(this, e, &quot;The problem with /&quot; + getString(R.string.app_name_no_space) + &quot;/ folder: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void doWhenException(Exception e, String exCause, Intent intent) {\r\n        Log.e(&quot;TAG&quot;, exCause);\r\n        Toast.makeText(ActivityNewEditNote.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        e.printStackTrace();\r\n        intent.putExtra(&quot;auto_save_status&quot;, AppConstants.FAILURE);\r\n    }","title":"Android access to folder is only granted until app is closed","body":"<p>When my app is launched for the first time and the Intent.ACTION_OPEN_DOCUMENT_TREE is called then I choose my desired folder in file explorer, my code works fine until I do &quot;Force close app&quot;. After that I get an en exception (<code>dfFinalDir</code> is null):</p>\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'androidx.documentfile.provider.DocumentFile androidx.documentfile.provider.DocumentFile.findFile(java.lang.String)' on a null object reference</code></p>\n<p>I guess it happens maybe because after closing the app I lose my access to folder, but shouldn't it be permanently? I hope so and this is what I want to achieve.</p>\n<pre><code>private void writeDataToFile(Intent intent) {\n\n    String uriString = sp.getString(&quot;auto_backup_uri&quot;, &quot;&quot;);\n\n    if (uriString.equals(&quot;&quot;)) {\n        Util.initConfirmDialog(this, getString(R.string.choose_folder_for_auto_backup) + getString(R.string.app_name_no_space) + &quot;/&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                Log.i(&quot;TAG&quot;, &quot;Trying to get access the desired folder&quot;);\n                Intent intent2 = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n                startActivityForResult(intent2, AppConstants.GRANT_ACCESS_TO_AUTO_BACKUP_FILE);\n            }\n        });\n    }\n\n    if (!uriString.equals(&quot;&quot;)) {\n        Log.i(&quot;TAG&quot;, &quot;Trying to write data to file &quot; + uriString);\n        Uri uri = Uri.parse(uriString);\n        DocumentFile dfBeforeFinalDir = DocumentFile.fromTreeUri(this, uri);\n        DocumentFile dfFinalDir = dfBeforeFinalDir.findFile(getString(R.string.app_name_no_space));\n\n        // HERE IS AN EXCEPTION\n        DocumentFile dfFinalAutoBackupFile = dfFinalDir.findFile(&quot;notatki_a&quot;);\n\n\n        if (dfFinalAutoBackupFile == null) {\n            Log.i(&quot;TAG&quot;, &quot;Auto backup file does not exist, creating new one&quot;);\n            dfFinalAutoBackupFile = dfFinalDir.createFile(&quot;application/*&quot;, &quot;notatki_a&quot;);\n        }\n\n        OutputStream fileOutputStream = null;\n        try {\n            fileOutputStream = getContentResolver().openOutputStream(dfFinalAutoBackupFile.getUri());\n        } catch (FileNotFoundException e) {\n            doWhenException(e, &quot;The provided URI could not be opened&quot;, intent);\n        }\n        try {\n            fileOutputStream.write(jsonNotes.getBytes(StandardCharsets.UTF_8));\n            fileOutputStream.close();\n            intent.putExtra(&quot;auto_save_status&quot;, AppConstants.SUCCESS);\n        } catch (IOException e) {\n            doWhenException(e, &quot;An IOException during writing data to newly created file&quot;, intent);\n        } finally {\n            if (extNoteOrder &gt; 0)\n                intent.putExtra(&quot;ext_note_order&quot;, extNoteOrder);\n            startActivity(intent);\n        }\n    }\n}\n\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent resultData) {\n    super.onActivityResult(requestCode, resultCode, resultData);\n    if (requestCode == AppConstants.GRANT_ACCESS_TO_AUTO_BACKUP_FILE &amp;&amp; resultCode == Activity.RESULT_OK) {\n        if (resultData != null) {\n            Uri uri = resultData.getData();\n            spEditor.putString(&quot;auto_backup_uri&quot;, uri.toString()).apply();\n\n            DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\n\n            try {\n                DocumentFile dfFinalDir = documentFile.findFile(getString(R.string.app_name_no_space));\n                if (dfFinalDir == null) {\n                    dfFinalDir = documentFile.createDirectory(getString(R.string.app_name_no_space));\n                }\n                if (dfFinalDir != null) {\n                    Util.initConfirmDialogNoNegButton(this, getString(R.string.you_can_do_with_auto_backup));\n                }\n\n\n            } catch (Exception e) {\n                Util.doWhenException(this, e, &quot;The problem with /&quot; + getString(R.string.app_name_no_space) + &quot;/ folder: &quot; + e.getMessage());\n            }\n        }\n    }\n}\n\nprivate void doWhenException(Exception e, String exCause, Intent intent) {\n    Log.e(&quot;TAG&quot;, exCause);\n    Toast.makeText(ActivityNewEditNote.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n    e.printStackTrace();\n    intent.putExtra(&quot;auto_save_status&quot;, AppConstants.FAILURE);\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1693588844,"post_id":77024972,"comment_id":135785754,"body_markdown":"You should probably link your previous question for some more context: [_How do I use com.sun.tools with Java 11 without modules?_](https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules)","body":"You should probably link your previous question for some more context: <a href=\"https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules\"><i>How do I use com.sun.tools with Java 11 without modules?</i></a>"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1693588909,"post_id":77024972,"comment_id":135785761,"body_markdown":"It was closed (without my consent I might add).","body":"It was closed (without my consent I might add)."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693589726,"post_id":77024972,"comment_id":135785901,"body_markdown":"You should clarify what is exactly the question. I understand the frustration but it is not clear exactly what you are asking. And provide some code.","body":"You should clarify what is exactly the question. I understand the frustration but it is not clear exactly what you are asking. And provide some code."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693590759,"post_id":77024972,"comment_id":135786047,"body_markdown":"Does this answer your question? [Using the attach api in Java](https://stackoverflow.com/questions/62971569/using-the-attach-api-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62971569/using-the-attach-api-in-java\">Using the attach api in Java</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1693590761,"post_id":77024972,"comment_id":135786048,"body_markdown":"&quot;_without my consent I might add_&quot; – Note that&#39;s how this site works. People with 1000+ score in a specific tag can close a question (that has that tag) as a duplicate singlehandedly. Otherwise, closing (for any reason) requires 3 votes from people with 3000+ reputation.","body":"&quot;<i>without my consent I might add</i>&quot; – Note that&#39;s how this site works. People with 1000+ score in a specific tag can close a question (that has that tag) as a duplicate singlehandedly. Otherwise, closing (for any reason) requires 3 votes from people with 3000+ reputation."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693591322,"post_id":77024972,"comment_id":135786132,"body_markdown":"If you&#39;re new to modules, I recommend reading [Understanding Java 9 Modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html) for a quick overview. With the introduction of modules in Java 9, the `tools.jar` file was removed, and that code was moved into various `jdk.*` modules. Such modules should be part of the run-time image of most (all?) OpenJDK-based distributions, including Oracle JDKs. Using the `jdk.attach` module should &quot;just work&quot;. You don&#39;t even need to modularize your code; all you have to do is import the types from that module like normal.","body":"If you&#39;re new to modules, I recommend reading <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a> for a quick overview. With the introduction of modules in Java 9, the <code>tools.jar</code> file was removed, and that code was moved into various <code>jdk.*</code> modules. Such modules should be part of the run-time image of most (all?) OpenJDK-based distributions, including Oracle JDKs. Using the <code>jdk.attach</code> module should &quot;just work&quot;. You don&#39;t even need to modularize your code; all you have to do is import the types from that module like normal."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1693591834,"post_id":77024972,"comment_id":135786219,"body_markdown":"I read that article and a few others.","body":"I read that article and a few others."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693591845,"post_id":77024972,"comment_id":135786223,"body_markdown":"Is it only Eclipse that is having a problem? If you write the code manually, and then execute it, does it compile and run?","body":"Is it only Eclipse that is having a problem? If you write the code manually, and then execute it, does it compile and run?"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1693591861,"post_id":77024972,"comment_id":135786228,"body_markdown":"How do I do that? I tried letting eclipse do autocomplete, but it can&#39;t find a match for the `VirtualMachine` class. I then manually entered a new import line and tried `jdk.attach`. It doesn&#39;t see that either. What am I missing?","body":"How do I do that? I tried letting eclipse do autocomplete, but it can&#39;t find a match for the <code>VirtualMachine</code> class. I then manually entered a new import line and tried <code>jdk.attach</code>. It doesn&#39;t see that either. What am I missing?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693591916,"post_id":77024972,"comment_id":135786236,"body_markdown":"`jdk.attach` is the module name. Import statements work like they did in Java 8; you should have `import com.sun.tools.attach.VirtualMachine`.","body":"<code>jdk.attach</code> is the module name. Import statements work like they did in Java 8; you should have <code>import com.sun.tools.attach.VirtualMachine</code>."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1693591949,"post_id":77024972,"comment_id":135786241,"body_markdown":"I don&#39;t think so. I tried running the `mvn` commands directly on the command line and have problems there as well.","body":"I don&#39;t think so. I tried running the <code>mvn</code> commands directly on the command line and have problems there as well."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1693592249,"post_id":77024972,"comment_id":135786281,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255147/discussion-between-joseph-gagnon-and-slaw).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255147/discussion-between-joseph-gagnon-and-slaw\">continue this discussion in chat</a>."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1693593555,"post_id":77024972,"comment_id":135786480,"body_markdown":"@JosephGagnon The [example](https://stackoverflow.com/questions/62971569/using-the-attach-api-in-java/62979134#62979134) I showed in your [closed question](https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules) works regardless of whether you use modules or not. Save the code to a file and run it. If you use modules you need module-info.java with &quot;requires transitive jdk.attach;&quot;. If you don&#39;t use modules it will work too.","body":"@JosephGagnon The <a href=\"https://stackoverflow.com/questions/62971569/using-the-attach-api-in-java/62979134#62979134\">example</a> I showed in your <a href=\"https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules\">closed question</a> works regardless of whether you use modules or not. Save the code to a file and run it. If you use modules you need module-info.java with &quot;requires transitive jdk.attach;&quot;. If you don&#39;t use modules it will work too."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":1,"creation_date":1693608635,"post_id":77024972,"comment_id":135788180,"body_markdown":"have you tried `com.sun.tools.attach.VirtualMachine` ?  That is what Eclipse suggests when using auto-complete on `VirtMach` for example (non-module project), and confirmed by [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.attach/module-summary.html)","body":"have you tried <code>com.sun.tools.attach.VirtualMachine</code> ?  That is what Eclipse suggests when using auto-complete on <code>VirtMach</code> for example (non-module project), and confirmed by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.attach/module-summary.html\" rel=\"nofollow noreferrer\">documentation</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693610024,"post_id":77024972,"comment_id":135788279,"body_markdown":"Perhaps a duplicate of [*Using the attach api in Java*](https://stackoverflow.com/q/62971569/642706)","body":"Perhaps a duplicate of <a href=\"https://stackoverflow.com/q/62971569/642706\"><i>Using the attach api in Java</i></a>"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693590200,"creation_date":1693588697,"question_id":77024972,"body_markdown":"Note: This is related to an earlier question. See https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules for details.\r\n\r\nI was attempting to use the com.sun.tools package to use the `com.sun.tools.attach.VirtualMachine` class (and any others needed - I am trying to instrument my application to analyze memory usage). I cannot get it to build. I am using Oracle Java JDK 11 (11.0.17). The application also utilizes Spring Boot.\r\n\r\nBased on what I&#39;ve read so far, com.sun.tools used to be part of the JDK distribution prior to Java 9. I checked in the distribution and there is no tools.jar in $JAVA_HOME/lib. If it is no longer part of the JDK, from where do I get it? I tried adding it as a dependency in my pom.xml, but that doesn&#39;t work.\r\n\r\nAfter some more digging apparently this functionality is now part of the jdk.attach &quot;module&quot; (whatever that is - this is a new term to me). Is there a way to access/use this feature *without* modules?\r\n\r\nIn any case, I looked into this a little more (BTW not a lot of helpful info on **HOW** to use it) and did some experimentation. Created a `module-info.java` file in the default package (which is where it seems to want it) and quickly discovered that I now have to &quot;require&quot; a bunch of other stuff that was previously being taken care of by my pom.xml file. This seems a bit backwards.\r\n\r\n**What I tried - FAIL**\r\n\r\nEven so, I tried requiring jdk.attach, but it doesn&#39;t find it. I can&#39;t import the classes I need. So much for that, eh? I ran `java --list-modules` and it shows up in the list. Wonderful, but it doesn&#39;t seem to &quot;see&quot; it.\r\n\r\nI am also coming to the realization that I need to &quot;modularize&quot; other projects I have written so that they will all (theoretically) play together. This is turning into a pain. Why?\r\n\r\nmodule-info.java:\r\n\r\n    module app {\r\n      requires org.slf4j;\r\n      requires spring.context;\r\n      requires spring.beans;\r\n      requires spring.boot;\r\n      requires spring.boot.autoconfigure;\r\n      requires java.instrument;\r\n      requires javassist;\r\n      requires jdk.attach;\r\n    }\r\n\r\nOutput from running `java --list-modules`:\r\n\r\n    $ java --list-modules\r\n    java.base@11.0.17\r\n    java.compiler@11.0.17\r\n    java.datatransfer@11.0.17\r\n    java.desktop@11.0.17\r\n    java.instrument@11.0.17\r\n    java.logging@11.0.17\r\n    java.management@11.0.17\r\n    java.management.rmi@11.0.17\r\n    java.naming@11.0.17\r\n    java.net.http@11.0.17\r\n    java.prefs@11.0.17\r\n    java.rmi@11.0.17\r\n    java.scripting@11.0.17\r\n    java.se@11.0.17\r\n    java.security.jgss@11.0.17\r\n    java.security.sasl@11.0.17\r\n    java.smartcardio@11.0.17\r\n    java.sql@11.0.17\r\n    java.sql.rowset@11.0.17\r\n    java.transaction.xa@11.0.17\r\n    java.xml@11.0.17\r\n    java.xml.crypto@11.0.17\r\n    jdk.accessibility@11.0.17\r\n    jdk.attach@11.0.17\r\n    jdk.charsets@11.0.17\r\n    jdk.compiler@11.0.17\r\n    jdk.crypto.cryptoki@11.0.17\r\n    jdk.crypto.ec@11.0.17\r\n    jdk.crypto.mscapi@11.0.17\r\n    jdk.dynalink@11.0.17\r\n    jdk.editpad@11.0.17\r\n    jdk.hotspot.agent@11.0.17\r\n    jdk.httpserver@11.0.17\r\n    jdk.internal.ed@11.0.17\r\n    jdk.internal.jvmstat@11.0.17\r\n    jdk.internal.le@11.0.17\r\n    jdk.internal.opt@11.0.17\r\n    jdk.internal.vm.ci@11.0.17\r\n    jdk.internal.vm.compiler@11.0.17\r\n    jdk.internal.vm.compiler.management@11.0.17\r\n    jdk.jartool@11.0.17\r\n    jdk.javadoc@11.0.17\r\n    jdk.jcmd@11.0.17\r\n    jdk.jconsole@11.0.17\r\n    jdk.jdeps@11.0.17\r\n    jdk.jdi@11.0.17\r\n    jdk.jdwp.agent@11.0.17\r\n    jdk.jfr@11.0.17\r\n    jdk.jlink@11.0.17\r\n    jdk.jshell@11.0.17\r\n    jdk.jsobject@11.0.17\r\n    jdk.jstatd@11.0.17\r\n    jdk.localedata@11.0.17\r\n    jdk.management@11.0.17\r\n    jdk.management.agent@11.0.17\r\n    jdk.management.jfr@11.0.17\r\n    jdk.naming.dns@11.0.17\r\n    jdk.naming.ldap@11.0.17\r\n    jdk.naming.rmi@11.0.17\r\n    jdk.net@11.0.17\r\n    jdk.pack@11.0.17\r\n    jdk.rmic@11.0.17\r\n    jdk.scripting.nashorn@11.0.17\r\n    jdk.scripting.nashorn.shell@11.0.17\r\n    jdk.sctp@11.0.17\r\n    jdk.security.auth@11.0.17\r\n    jdk.security.jgss@11.0.17\r\n    jdk.unsupported@11.0.17\r\n    jdk.unsupported.desktop@11.0.17\r\n    jdk.xml.dom@11.0.17\r\n    jdk.zipfs@11.0.17\r\n\r\n","title":"How do I use the jdk.attach module?","body":"<p>Note: This is related to an earlier question. See <a href=\"https://stackoverflow.com/questions/77023967/how-do-i-use-com-sun-tools-with-java-11-without-modules\">How do I use com.sun.tools with Java 11 without modules?</a> for details.</p>\n<p>I was attempting to use the com.sun.tools package to use the <code>com.sun.tools.attach.VirtualMachine</code> class (and any others needed - I am trying to instrument my application to analyze memory usage). I cannot get it to build. I am using Oracle Java JDK 11 (11.0.17). The application also utilizes Spring Boot.</p>\n<p>Based on what I've read so far, com.sun.tools used to be part of the JDK distribution prior to Java 9. I checked in the distribution and there is no tools.jar in $JAVA_HOME/lib. If it is no longer part of the JDK, from where do I get it? I tried adding it as a dependency in my pom.xml, but that doesn't work.</p>\n<p>After some more digging apparently this functionality is now part of the jdk.attach &quot;module&quot; (whatever that is - this is a new term to me). Is there a way to access/use this feature <em>without</em> modules?</p>\n<p>In any case, I looked into this a little more (BTW not a lot of helpful info on <strong>HOW</strong> to use it) and did some experimentation. Created a <code>module-info.java</code> file in the default package (which is where it seems to want it) and quickly discovered that I now have to &quot;require&quot; a bunch of other stuff that was previously being taken care of by my pom.xml file. This seems a bit backwards.</p>\n<p><strong>What I tried - FAIL</strong></p>\n<p>Even so, I tried requiring jdk.attach, but it doesn't find it. I can't import the classes I need. So much for that, eh? I ran <code>java --list-modules</code> and it shows up in the list. Wonderful, but it doesn't seem to &quot;see&quot; it.</p>\n<p>I am also coming to the realization that I need to &quot;modularize&quot; other projects I have written so that they will all (theoretically) play together. This is turning into a pain. Why?</p>\n<p>module-info.java:</p>\n<pre><code>module app {\n  requires org.slf4j;\n  requires spring.context;\n  requires spring.beans;\n  requires spring.boot;\n  requires spring.boot.autoconfigure;\n  requires java.instrument;\n  requires javassist;\n  requires jdk.attach;\n}\n</code></pre>\n<p>Output from running <code>java --list-modules</code>:</p>\n<pre><code>$ java --list-modules\njava.base@11.0.17\njava.compiler@11.0.17\njava.datatransfer@11.0.17\njava.desktop@11.0.17\njava.instrument@11.0.17\njava.logging@11.0.17\njava.management@11.0.17\njava.management.rmi@11.0.17\njava.naming@11.0.17\njava.net.http@11.0.17\njava.prefs@11.0.17\njava.rmi@11.0.17\njava.scripting@11.0.17\njava.se@11.0.17\njava.security.jgss@11.0.17\njava.security.sasl@11.0.17\njava.smartcardio@11.0.17\njava.sql@11.0.17\njava.sql.rowset@11.0.17\njava.transaction.xa@11.0.17\njava.xml@11.0.17\njava.xml.crypto@11.0.17\njdk.accessibility@11.0.17\njdk.attach@11.0.17\njdk.charsets@11.0.17\njdk.compiler@11.0.17\njdk.crypto.cryptoki@11.0.17\njdk.crypto.ec@11.0.17\njdk.crypto.mscapi@11.0.17\njdk.dynalink@11.0.17\njdk.editpad@11.0.17\njdk.hotspot.agent@11.0.17\njdk.httpserver@11.0.17\njdk.internal.ed@11.0.17\njdk.internal.jvmstat@11.0.17\njdk.internal.le@11.0.17\njdk.internal.opt@11.0.17\njdk.internal.vm.ci@11.0.17\njdk.internal.vm.compiler@11.0.17\njdk.internal.vm.compiler.management@11.0.17\njdk.jartool@11.0.17\njdk.javadoc@11.0.17\njdk.jcmd@11.0.17\njdk.jconsole@11.0.17\njdk.jdeps@11.0.17\njdk.jdi@11.0.17\njdk.jdwp.agent@11.0.17\njdk.jfr@11.0.17\njdk.jlink@11.0.17\njdk.jshell@11.0.17\njdk.jsobject@11.0.17\njdk.jstatd@11.0.17\njdk.localedata@11.0.17\njdk.management@11.0.17\njdk.management.agent@11.0.17\njdk.management.jfr@11.0.17\njdk.naming.dns@11.0.17\njdk.naming.ldap@11.0.17\njdk.naming.rmi@11.0.17\njdk.net@11.0.17\njdk.pack@11.0.17\njdk.rmic@11.0.17\njdk.scripting.nashorn@11.0.17\njdk.scripting.nashorn.shell@11.0.17\njdk.sctp@11.0.17\njdk.security.auth@11.0.17\njdk.security.jgss@11.0.17\njdk.unsupported@11.0.17\njdk.unsupported.desktop@11.0.17\njdk.xml.dom@11.0.17\njdk.zipfs@11.0.17\n</code></pre>\n"},{"tags":["java","excel","apache-poi","xssf","sxssf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1693490127,"post_id":77011443,"comment_id":135770349,"body_markdown":"Bigger window size means more memory is required, but allows you to change your mind over a wider range of rows","body":"Bigger window size means more memory is required, but allows you to change your mind over a wider range of rows"},{"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"score":0,"creation_date":1693492434,"post_id":77011443,"comment_id":135770945,"body_markdown":"@Gagravarr but what would be the ideal value for it? I&#39;m wondering if allowing the developer to configure it is a good enough solution or if there are better ways to solve it. I don&#39;t have visibility from a future data standpoint","body":"@Gagravarr but what would be the ideal value for it? I&#39;m wondering if allowing the developer to configure it is a good enough solution or if there are better ways to solve it. I don&#39;t have visibility from a future data standpoint"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1693499484,"post_id":77011443,"comment_id":135772524,"body_markdown":"There is no ideal for everyone, it depends on how much memory you want to use, and how far back you need to modify rows","body":"There is no ideal for everyone, it depends on how much memory you want to use, and how far back you need to modify rows"}],"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693590134,"creation_date":1693428625,"question_id":77011443,"body_markdown":"I am trying to produce a large excel (~10 MB) with multiple sheets (5). The current implementation was using `XSSFWorkbook` but now we are running into `OutOfMemoryError` in the deployed environment so made the switch to use `SXSSFWorkbook`. The constructor takes in a window size as an argument. I tried with the default size but ran into this error:\r\n\r\n    java.lang.IllegalArgumentException: Attempting to write a row[4] in the range [0,8] that is already written to disk.\r\n\tat org.apache.poi.xssf.streaming.SXSSFSheet.createRow(SXSSFSheet.java:125)\r\n\tat org.apache.poi.xssf.streaming.SXSSFSheet.createRow(SXSSFSheet.java:61)\r\n\tat org.apache.poi.ss.util.CellUtil.getRow(CellUtil.java:126)\r\n\tat org.apache.poi.ss.util.RegionUtil.setBorderLeft(RegionUtil.java:75)\r\n\r\nUpdating the window size to 500 seems to have &#39;fixed&#39; the issue but I am still wondering if that is the ideal solution for this problem or should I be doing something else?  \r\n\r\n    SXSSFWorkbook workbook = new SXSSFWorkbook(null, 500);\r\n\r\nI saw the answers [here](https://stackoverflow.com/questions/30868325/apache-poi-getrow-returns-null-and-createrow-fails) but still wasn&#39;t clear. I am using JDK 11, poi-ooxml 5.2.2 and am running on a Mac.\r\n","title":"Apache POI SXSSFWorkbook ideal window size","body":"<p>I am trying to produce a large excel (~10 MB) with multiple sheets (5). The current implementation was using <code>XSSFWorkbook</code> but now we are running into <code>OutOfMemoryError</code> in the deployed environment so made the switch to use <code>SXSSFWorkbook</code>. The constructor takes in a window size as an argument. I tried with the default size but ran into this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Attempting to write a row[4] in the range [0,8] that is already written to disk.\nat org.apache.poi.xssf.streaming.SXSSFSheet.createRow(SXSSFSheet.java:125)\nat org.apache.poi.xssf.streaming.SXSSFSheet.createRow(SXSSFSheet.java:61)\nat org.apache.poi.ss.util.CellUtil.getRow(CellUtil.java:126)\nat org.apache.poi.ss.util.RegionUtil.setBorderLeft(RegionUtil.java:75)\n</code></pre>\n<p>Updating the window size to 500 seems to have 'fixed' the issue but I am still wondering if that is the ideal solution for this problem or should I be doing something else?</p>\n<pre><code>SXSSFWorkbook workbook = new SXSSFWorkbook(null, 500);\n</code></pre>\n<p>I saw the answers <a href=\"https://stackoverflow.com/questions/30868325/apache-poi-getrow-returns-null-and-createrow-fails\">here</a> but still wasn't clear. I am using JDK 11, poi-ooxml 5.2.2 and am running on a Mac.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693555926,"post_id":77010598,"comment_id":135779448,"body_markdown":"*&quot;I need to find the placement information of the images&quot;* - what kind of *placement information* do you need? Would the coordinates of the 4 corners suffice?","body":"<i>&quot;I need to find the placement information of the images&quot;</i> - what kind of <i>placement information</i> do you need? Would the coordinates of the 4 corners suffice?"},{"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"score":0,"creation_date":1693573127,"post_id":77010598,"comment_id":135782681,"body_markdown":"Yeah, that&#39;s really all I need. Everything works well until the image has been rotated via CM operations.","body":"Yeah, that&#39;s really all I need. Everything works well until the image has been rotated via CM operations."},{"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"score":0,"creation_date":1693579805,"post_id":77010598,"comment_id":135784080,"body_markdown":"I feel like I may have greatly over-complicated this because I missed something or I&#39;m doing something wrong.","body":"I feel like I may have greatly over-complicated this because I missed something or I&#39;m doing something wrong."},{"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"score":0,"creation_date":1693580418,"post_id":77010598,"comment_id":135784243,"body_markdown":"It&#39;s also a little hard to grok due to the inversion of the y axis and rotation degrees between Java and PDF.","body":"It&#39;s also a little hard to grok due to the inversion of the y axis and rotation degrees between Java and PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693584541,"post_id":77010598,"comment_id":135785089,"body_markdown":"Ah, right, in which coordinate system do you need those coordinates? The easiest to calculate coordinates would be the PDF user space coordinates.","body":"Ah, right, in which coordinate system do you need those coordinates? The easiest to calculate coordinates would be the PDF user space coordinates."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693589573,"creation_date":1693589573,"answer_id":77025058,"question_id":77010598,"body_markdown":"In a comment you mentioned that _the coordinates of the 4 corners_ would be _all you need_.\r\n\r\nYou can extract the default user space coordinates of the bitmap images used in a PDF by walking the page content stream instructions and, when finding a bitmap image drawing instruction, applying the then _current transformation matrix_ to the corners of the unit square, (0, 0), (0, 1), (1, 0), and (1, 1).\r\n\r\nYou can implement that using a specialized `PDFStreamEngine` like this:\r\n\r\n```lang-java\r\npublic class UserSpaceCoordinatesPrinter extends PrintImageLocations {\r\n    public UserSpaceCoordinatesPrinter() throws IOException {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    protected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\r\n        String operation = operator.getName();\r\n        if (OperatorName.DRAW_OBJECT.equals(operation)) {\r\n            COSName objectName = (COSName) operands.get(0);\r\n            PDXObject xobject = getResources().getXObject(objectName);\r\n            if (xobject instanceof PDImageXObject) {\r\n                System.out.println(&quot;\\nFound image [&quot; + objectName.getName() + &quot;]&quot;);\r\n                Matrix ctm = getGraphicsState().getCurrentTransformationMatrix();\r\n                System.out.print(&quot;Corner coordinates in user space:&quot;);\r\n                for (Vector corner : UNIT_SQUARE_CORNERS) {\r\n                    System.out.print(&quot; &quot; + ctm.transform(corner));\r\n                }\r\n                System.out.println();\r\n            } else if(xobject instanceof PDFormXObject) {\r\n                PDFormXObject form = (PDFormXObject)xobject;\r\n                showForm(form);\r\n            }\r\n        } else {\r\n            super.processOperator(operator, operands);\r\n        }\r\n    }\r\n\r\n    public static void print(PDDocument document) throws IOException {\r\n        UserSpaceCoordinatesPrinter printer = new UserSpaceCoordinatesPrinter();\r\n        int pageNum = 0;\r\n        for (PDPage page : document.getPages()) {\r\n            pageNum++;\r\n            System.out.println(&quot;\\n\\nProcessing page: &quot; + pageNum);\r\n            System.out.println(&quot;Media box: &quot; + page.getMediaBox());\r\n            System.out.println(&quot;Page rotation: &quot; + page.getRotation());\r\n            printer.processPage(page);\r\n        }\r\n    }\r\n\r\n    final static List&lt;Vector&gt; UNIT_SQUARE_CORNERS = List.of(\r\n            new Vector(0, 0), new Vector(0, 1), new Vector(1, 0), new Vector(1, 1));\r\n}\r\n```\r\n*([PrintImageCornerCoordinates][1] utility class)*\r\n\r\nYou can use it like this:\r\n\r\n```lang-java\r\ntry (PDDocument document = Loader.loadPDF(PDF_SOURCE)) {\r\n    UserSpaceCoordinatesPrinter.print(document);\r\n}\r\n```\r\n*([PrintImageCornerCoordinates][2] test `testUserCoordinatesInput`)*\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/extract/PrintImageCornerCoordinates.java#L31C1-L74C1\r\n  [2]: https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/extract/PrintImageCornerCoordinates.java#L85\r\n","title":"Problems determining image positioning using PDFBox","body":"<p>In a comment you mentioned that <em>the coordinates of the 4 corners</em> would be <em>all you need</em>.</p>\n<p>You can extract the default user space coordinates of the bitmap images used in a PDF by walking the page content stream instructions and, when finding a bitmap image drawing instruction, applying the then <em>current transformation matrix</em> to the corners of the unit square, (0, 0), (0, 1), (1, 0), and (1, 1).</p>\n<p>You can implement that using a specialized <code>PDFStreamEngine</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserSpaceCoordinatesPrinter extends PrintImageLocations {\n    public UserSpaceCoordinatesPrinter() throws IOException {\n        super();\n    }\n\n    @Override\n    protected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\n        String operation = operator.getName();\n        if (OperatorName.DRAW_OBJECT.equals(operation)) {\n            COSName objectName = (COSName) operands.get(0);\n            PDXObject xobject = getResources().getXObject(objectName);\n            if (xobject instanceof PDImageXObject) {\n                System.out.println(&quot;\\nFound image [&quot; + objectName.getName() + &quot;]&quot;);\n                Matrix ctm = getGraphicsState().getCurrentTransformationMatrix();\n                System.out.print(&quot;Corner coordinates in user space:&quot;);\n                for (Vector corner : UNIT_SQUARE_CORNERS) {\n                    System.out.print(&quot; &quot; + ctm.transform(corner));\n                }\n                System.out.println();\n            } else if(xobject instanceof PDFormXObject) {\n                PDFormXObject form = (PDFormXObject)xobject;\n                showForm(form);\n            }\n        } else {\n            super.processOperator(operator, operands);\n        }\n    }\n\n    public static void print(PDDocument document) throws IOException {\n        UserSpaceCoordinatesPrinter printer = new UserSpaceCoordinatesPrinter();\n        int pageNum = 0;\n        for (PDPage page : document.getPages()) {\n            pageNum++;\n            System.out.println(&quot;\\n\\nProcessing page: &quot; + pageNum);\n            System.out.println(&quot;Media box: &quot; + page.getMediaBox());\n            System.out.println(&quot;Page rotation: &quot; + page.getRotation());\n            printer.processPage(page);\n        }\n    }\n\n    final static List&lt;Vector&gt; UNIT_SQUARE_CORNERS = List.of(\n            new Vector(0, 0), new Vector(0, 1), new Vector(1, 0), new Vector(1, 1));\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/extract/PrintImageCornerCoordinates.java#L31C1-L74C1\" rel=\"nofollow noreferrer\">PrintImageCornerCoordinates</a> utility class)</em></p>\n<p>You can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (PDDocument document = Loader.loadPDF(PDF_SOURCE)) {\n    UserSpaceCoordinatesPrinter.print(document);\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/extract/PrintImageCornerCoordinates.java#L85\" rel=\"nofollow noreferrer\">PrintImageCornerCoordinates</a> test <code>testUserCoordinatesInput</code>)</em></p>\n"}],"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025058,"answer_count":1,"score":0,"last_activity_date":1693589573,"creation_date":1693419618,"question_id":77010598,"body_markdown":"**Context:** \r\n\r\nI have two images that I rotated 90 degrees (counterclockwise) and converted to PDF. I used two different tools to convert the images:\r\n\r\n - Document A: Mac Preview \r\n - Document B: ImageMagick\r\n\r\nVisually, the documents appear exactly the same using a PDF client.\r\n\r\n**Problem:**\r\n\r\nI need to find the placement information of the images relative to the PDF page. My code correctly identifies the positioning for one document but is wrong for the other:\r\n\r\n - Document A: Rectangle[x=792.0,y=0.0,w=614.4000244140625,h=792.0]\r\n - Document B: Rectangle[x=0.0,y=0.0,w=792.0,h=614.4000244140625]\r\n\r\nVisualizing the rectangle information, you can see that Document A (red) is not rotated and too far over on the x axis:\r\n\r\n[![Rectangle Positions][1]][1]\r\n\r\n\r\n**Details:**\r\n\r\nUsing the PDFBox debugger, I can see that Document A&#39;s image is rotated via CM operations:\r\n\r\n```\r\nq\r\nQ\r\nq\r\n  /Perceptual ri\r\n  q\r\n    0 614.4 -792 0 792 0 cm\r\n    /Im1 Do\r\n  Q\r\nQ\r\n```\r\n\r\nIt appears that I&#39;m not properly accounting for the rotation.\r\n\r\n**Code:**\r\n\r\n```\r\nMatrix matrix = getGraphicsState().getCurrentTransformationMatrix();\r\nRectangle2D.Double rectangle = new Rectangle2D.Double(\r\n        matrix.getTranslateX(),\r\n        matrix.getTranslateY(),\r\n        matrix.getScalingFactorX(),\r\n        matrix.getScalingFactorY()\r\n);\r\n```\r\n\r\n**Attempted Solution**\r\n\r\nNow I can get the rotation degrees from the matrix:\r\n\r\n```\r\n    protected int getRotation() {\r\n        Matrix matrix = getGraphicsState().getCurrentTransformationMatrix();\r\n        double rotationRadians = -Math.atan2(matrix.getShearY(), matrix.getScaleY());\r\n        return (int) Math.toDegrees(rotationRadians);\r\n    }\r\n```\r\n\r\nAnd then rotate the rectangle:\r\n\r\n```\r\n    public Rectangle2D.Double rotate(Rectangle2D rectangle, int rotationDegrees) {\r\n        double x = rectangle.getX() + rectangle.getWidth();\r\n        double y = rectangle.getY();\r\n        \r\n        AffineTransform rotationTransform = new AffineTransform();\r\n        rotationTransform.rotate(Math.toRadians(rotationDegrees), x, y);\r\n        Shape rotatedRectangle = rotationTransform.createTransformedShape(rectangle);\r\n        Rectangle2D bounds = rotatedRectangle.getBounds2D();\r\n        return (Rectangle2D.Double) bounds;\r\n    }\r\n```\r\n\r\nNow it&#39;s in the right orientation (green rectangle) but it needs to slide over:\r\n\r\n[![Rotated Rectangle Positions][2]][2]    \r\n\r\nI could adjust the new rectangle&#39;s x positioning by subtracting the sum of the original and rotated widths. It feels like maybe I might start getting into brittle territory here. I also feel like I&#39;m probably starting to re-invent a wheel. \r\n\r\nIs there a better way to solve this problem?\r\n\r\n\r\n**Update:**\r\n\r\nAfter further testing, this solution needs adjustments for other angles. I&#39;ve handled 90, 180, 270. Thankfully we don&#39;t usually run across odd angles but I&#39;m a bit concerned when we do.\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/C0eZE.png\r\n  [2]: https://i.stack.imgur.com/NBMBV.png","title":"Problems determining image positioning using PDFBox","body":"<p><strong>Context:</strong></p>\n<p>I have two images that I rotated 90 degrees (counterclockwise) and converted to PDF. I used two different tools to convert the images:</p>\n<ul>\n<li>Document A: Mac Preview</li>\n<li>Document B: ImageMagick</li>\n</ul>\n<p>Visually, the documents appear exactly the same using a PDF client.</p>\n<p><strong>Problem:</strong></p>\n<p>I need to find the placement information of the images relative to the PDF page. My code correctly identifies the positioning for one document but is wrong for the other:</p>\n<ul>\n<li>Document A: Rectangle[x=792.0,y=0.0,w=614.4000244140625,h=792.0]</li>\n<li>Document B: Rectangle[x=0.0,y=0.0,w=792.0,h=614.4000244140625]</li>\n</ul>\n<p>Visualizing the rectangle information, you can see that Document A (red) is not rotated and too far over on the x axis:</p>\n<p><a href=\"https://i.stack.imgur.com/C0eZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C0eZE.png\" alt=\"Rectangle Positions\" /></a></p>\n<p><strong>Details:</strong></p>\n<p>Using the PDFBox debugger, I can see that Document A's image is rotated via CM operations:</p>\n<pre><code>q\nQ\nq\n  /Perceptual ri\n  q\n    0 614.4 -792 0 792 0 cm\n    /Im1 Do\n  Q\nQ\n</code></pre>\n<p>It appears that I'm not properly accounting for the rotation.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Matrix matrix = getGraphicsState().getCurrentTransformationMatrix();\nRectangle2D.Double rectangle = new Rectangle2D.Double(\n        matrix.getTranslateX(),\n        matrix.getTranslateY(),\n        matrix.getScalingFactorX(),\n        matrix.getScalingFactorY()\n);\n</code></pre>\n<p><strong>Attempted Solution</strong></p>\n<p>Now I can get the rotation degrees from the matrix:</p>\n<pre><code>    protected int getRotation() {\n        Matrix matrix = getGraphicsState().getCurrentTransformationMatrix();\n        double rotationRadians = -Math.atan2(matrix.getShearY(), matrix.getScaleY());\n        return (int) Math.toDegrees(rotationRadians);\n    }\n</code></pre>\n<p>And then rotate the rectangle:</p>\n<pre><code>    public Rectangle2D.Double rotate(Rectangle2D rectangle, int rotationDegrees) {\n        double x = rectangle.getX() + rectangle.getWidth();\n        double y = rectangle.getY();\n        \n        AffineTransform rotationTransform = new AffineTransform();\n        rotationTransform.rotate(Math.toRadians(rotationDegrees), x, y);\n        Shape rotatedRectangle = rotationTransform.createTransformedShape(rectangle);\n        Rectangle2D bounds = rotatedRectangle.getBounds2D();\n        return (Rectangle2D.Double) bounds;\n    }\n</code></pre>\n<p>Now it's in the right orientation (green rectangle) but it needs to slide over:</p>\n<p><a href=\"https://i.stack.imgur.com/NBMBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBMBV.png\" alt=\"Rotated Rectangle Positions\" /></a></p>\n<p>I could adjust the new rectangle's x positioning by subtracting the sum of the original and rotated widths. It feels like maybe I might start getting into brittle territory here. I also feel like I'm probably starting to re-invent a wheel.</p>\n<p>Is there a better way to solve this problem?</p>\n<p><strong>Update:</strong></p>\n<p>After further testing, this solution needs adjustments for other angles. I've handled 90, 180, 270. Thankfully we don't usually run across odd angles but I'm a bit concerned when we do.</p>\n"},{"tags":["java","arrays","dynamic"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1693578440,"post_id":77023921,"comment_id":135783806,"body_markdown":"What is a `DynamicArray`? Since it isn&#39;t a class that is part of the standard java api you might want to add the code for that class to your question.","body":"What is a <code>DynamicArray</code>? Since it isn&#39;t a class that is part of the standard java api you might want to add the code for that class to your question."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1693580413,"post_id":77023921,"comment_id":135784239,"body_markdown":"What&#39;s wrong with the method you have right now? (Except `indexOf` is a misleading name.)","body":"What&#39;s wrong with the method you have right now? (Except <code>indexOf</code> is a misleading name.)"},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693581133,"post_id":77023921,"comment_id":135784396,"body_markdown":"Sorry, the DynamicArray is: public class DynamicArray &lt;E&gt;.","body":"Sorry, the DynamicArray is: public class DynamicArray &lt;E&gt;."},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693581208,"post_id":77023921,"comment_id":135784408,"body_markdown":"k314159 - It just is not giving an output that makes sense. *********\nThe largest number in the array is: 0","body":"k314159 - It just is not giving an output that makes sense. ********* The largest number in the array is: 0"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1693581209,"post_id":77023921,"comment_id":135784409,"body_markdown":"@AnyaDinger  That doesn&#39;t help much unless you include the class or a link to its documentation.  But it sounds like it could be similar to an ArrayList.","body":"@AnyaDinger  That doesn&#39;t help much unless you include the class or a link to its documentation.  But it sounds like it could be similar to an ArrayList."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693581507,"post_id":77023921,"comment_id":135784460,"body_markdown":"My guess is that `base += arr.indexOf(i);` is the problem.  Shouldn&#39;t you just be assigning the value and not adding to base?  And I would set `base` to `Integer.MIN_VALUE;`  But it would also help if you edit your question to explain your thought process.  That might help you understand what is going wrong.","body":"My guess is that <code>base += arr.indexOf(i);</code> is the problem.  Shouldn&#39;t you just be assigning the value and not adding to base?  And I would set <code>base</code> to <code>Integer.MIN_VALUE;</code>  But it would also help if you edit your question to explain your thought process.  That might help you understand what is going wrong."},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693581626,"post_id":77023921,"comment_id":135784491,"body_markdown":"https://docs.google.com/document/d/1dVdYv9OBk_cq5_Vo9_t0-TT4ALemlPQJqi_9O572iyM/edit?usp=sharing","body":"<a href=\"https://docs.google.com/document/d/1dVdYv9OBk_cq5_Vo9_t0-TT4ALemlPQJqi_9O572iyM/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693581850,"post_id":77023921,"comment_id":135784528,"body_markdown":"@AnyaDinger I modified my comment.  In essence you want to set base to a minimum.  e.g Integer.MIN_VALUE.  Then if each subsequent value is greater than base, set base to that value.","body":"@AnyaDinger I modified my comment.  In essence you want to set base to a minimum.  e.g Integer.MIN_VALUE.  Then if each subsequent value is greater than base, set base to that value."},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693582017,"post_id":77023921,"comment_id":135784555,"body_markdown":"@WJS I tried just assigning to the base but it also had the same result: largest number = 0.","body":"@WJS I tried just assigning to the base but it also had the same result: largest number = 0."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693582276,"post_id":77023921,"comment_id":135784623,"body_markdown":"@AnyaDinger  I think you want `get` instead of `indexOf`  Do you want to return the largest number or its location.  It isn&#39;t clear.","body":"@AnyaDinger  I think you want <code>get</code> instead of <code>indexOf</code>  Do you want to return the largest number or its location.  It isn&#39;t clear."},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693582422,"post_id":77023921,"comment_id":135784659,"body_markdown":"I want to get the largest number. Also I get an error when changing indexOf to get: Operator &#39;&lt;&#39; cannot be applied to &#39;int&#39;, &#39;java.lang.Object&#39;","body":"I want to get the largest number. Also I get an error when changing indexOf to get: Operator &#39;&lt;&#39; cannot be applied to &#39;int&#39;, &#39;java.lang.Object&#39;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693582616,"post_id":77023921,"comment_id":135784711,"body_markdown":"You have a type problem in the last analysis. `E` has no connection to &#39;largest.&#39; `E extends Comparable` would, or `E extends Number`. You might also use [reflection](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int))","body":"You have a type problem in the last analysis. <code>E</code> has no connection to &#39;largest.&#39; <code>E extends Comparable</code> would, or <code>E extends Number</code>. You might also use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int)\" rel=\"nofollow noreferrer\">reflection</a>"},{"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"score":0,"creation_date":1693582876,"post_id":77023921,"comment_id":135784759,"body_markdown":"@g00se The thing is this is for an assignment for school. That part of the code was given and can&#39;t be changed.","body":"@g00se The thing is this is for an assignment for school. That part of the code was given and can&#39;t be changed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693585031,"post_id":77023921,"comment_id":135785175,"body_markdown":"I see. You could stream it out: `public E max() {Object o = IntStream.range(0, size).mapToObj(i -&gt;(Comparable)data[i]).max(Comparator.naturalOrder()).orElseThrow();return (E)o;}`","body":"I see. You could stream it out: <code>public E max() {Object o = IntStream.range(0, size).mapToObj(i -&gt;(Comparable)data[i]).max(Comparator.naturalOrder()).orElse&zwnj;&#8203;Throw();return (E)o;}</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693589547,"creation_date":1693584358,"answer_id":77024573,"question_id":77023921,"body_markdown":"You have a couple of problems. Here are the basic ones.\r\n- `for (int i = 0; i == arr.size(); i++){`  - this will iterate zero times unless `arr.size() == 0` and then it will throw an `ArrayIndexOutOfBoundsException` because you are trying to get the `0th` item in an empty array. It should be `&lt; arr.size()`\r\n- `base += arr.indexOf(i)` - you said you wanted to get the number.  This gets the index for that number and adds it to base.  You want `base = arr.get(i)`\r\n\r\nNow for the more complicated problem.  You can&#39;t use `&lt;, ==, etc` when comparing objects.  You need to ensure your `max` routine only handles values that implement the `Comparable&lt;E&gt;` interface.  For example, we understand numbers and how they compare.  But what about Objects like picture frames?  Are they compared on the area, diagonal, frame thickness, or some combination of those?  Without knowing that we are helpless. So max ensures that the object under test has implemented that and we can use it. We don&#39;t have to understand it; just apply it and return the results.   Here is what it should look like.\r\n```\r\npublic static &lt;E extends Comparable&lt;? super E&gt;&gt; E max(DynamicArray&lt;E&gt; arr) {\r\n     //TODO Find and return the largest number in the array\r\n     E base = arr.get(0);\r\n     for (int i = 1; i &lt; arr.size(); i++){\r\n         // compare values\r\n         if (base.compareTo(arr.get(i)) &lt; 0){\r\n             // replace the base number with the highest number\r\n             base = arr.get(i);\r\n         }\r\n     }\r\n     // return highest number\r\n     return base; \r\n}\r\n```\r\n- It allows classes and subclasses of `E` to call this method to find the max of the array as long as they implement the `Comparable` interface.\r\n- First it sets the `base` to item at index `0`.\r\n- then it iterates starting at `1`.\r\n- for `a.compareTo(b)`, Comparators return `-1, 0, 1` if `a is &lt;, ==, or &gt; than b`, respectively.  So you want to check that base &lt; current value and if it is, assign the current value to base.\r\n- When the loop is finished, return `base`\r\n\r\nAll of the above is based on my assumptions and I recognize it may be advanced.  I also suggest you discuss this with your instructor.\r\nAlso, as you stated you wanted to return the actual maximum value.  If you wanted to return the **location** (i.e. indexOf) that value, then an entirely different approach will be required.\r\n","title":"How would you create a function to find the largest number in a Dynamic array?","body":"<p>You have a couple of problems. Here are the basic ones.</p>\n<ul>\n<li><code>for (int i = 0; i == arr.size(); i++){</code>  - this will iterate zero times unless <code>arr.size() == 0</code> and then it will throw an <code>ArrayIndexOutOfBoundsException</code> because you are trying to get the <code>0th</code> item in an empty array. It should be <code>&lt; arr.size()</code></li>\n<li><code>base += arr.indexOf(i)</code> - you said you wanted to get the number.  This gets the index for that number and adds it to base.  You want <code>base = arr.get(i)</code></li>\n</ul>\n<p>Now for the more complicated problem.  You can't use <code>&lt;, ==, etc</code> when comparing objects.  You need to ensure your <code>max</code> routine only handles values that implement the <code>Comparable&lt;E&gt;</code> interface.  For example, we understand numbers and how they compare.  But what about Objects like picture frames?  Are they compared on the area, diagonal, frame thickness, or some combination of those?  Without knowing that we are helpless. So max ensures that the object under test has implemented that and we can use it. We don't have to understand it; just apply it and return the results.   Here is what it should look like.</p>\n<pre><code>public static &lt;E extends Comparable&lt;? super E&gt;&gt; E max(DynamicArray&lt;E&gt; arr) {\n     //TODO Find and return the largest number in the array\n     E base = arr.get(0);\n     for (int i = 1; i &lt; arr.size(); i++){\n         // compare values\n         if (base.compareTo(arr.get(i)) &lt; 0){\n             // replace the base number with the highest number\n             base = arr.get(i);\n         }\n     }\n     // return highest number\n     return base; \n}\n</code></pre>\n<ul>\n<li>It allows classes and subclasses of <code>E</code> to call this method to find the max of the array as long as they implement the <code>Comparable</code> interface.</li>\n<li>First it sets the <code>base</code> to item at index <code>0</code>.</li>\n<li>then it iterates starting at <code>1</code>.</li>\n<li>for <code>a.compareTo(b)</code>, Comparators return <code>-1, 0, 1</code> if <code>a is &lt;, ==, or &gt; than b</code>, respectively.  So you want to check that base &lt; current value and if it is, assign the current value to base.</li>\n<li>When the loop is finished, return <code>base</code></li>\n</ul>\n<p>All of the above is based on my assumptions and I recognize it may be advanced.  I also suggest you discuss this with your instructor.\nAlso, as you stated you wanted to return the actual maximum value.  If you wanted to return the <strong>location</strong> (i.e. indexOf) that value, then an entirely different approach will be required.</p>\n"}],"owner":{"account_id":28404187,"reputation":11,"user_id":21728513,"display_name":"Anya Dinger"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693589547,"creation_date":1693578337,"question_id":77023921,"body_markdown":"`This is what I have so far and I am new to using a dynamic array instrad of a regular one. Any help would be much appriciated.\r\n\r\n```\r\npublic static int max(DynamicArray arr) {\r\n        //TODO Find and return the largest number in the array\r\n        int base = 0;\r\n        for (int i = 0; i == arr.size(); i++){\r\n            // compare values\r\n            if (base &lt; arr.indexOf(i)){\r\n                // replace the base number with the highest number\r\n                base += arr.indexOf(i);\r\n            }\r\n        }\r\n        // return highest number\r\n        return base; \r\n    }\r\n\r\nprivate int size = 0; // the size the user thinks it is\r\n\r\npublic int size(){ \r\n        return size;\r\n    }\r\n\r\npublic int indexOf(E element){ //TODO((3))\r\n        for(int i = 0; i &lt; size; i++){\r\n            if(data[i].equals(element)){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n````\r\n\r\nAnd this is the main ouput code.\r\n\r\n```\r\n//Code to call Find the High Number Assignment\r\n        DynamicArray&lt;Integer&gt; highNumberArray = new DynamicArray&lt;Integer&gt;();\r\n        Random randGen = new Random();\r\n        for(int i = 0; i &lt; 14; i++) {\r\n            highNumberArray.add(randGen.nextInt(100));\r\n        }\r\n        System.out.println(&quot;*********&quot;);\r\n        System.out.println(&quot;The largest number in the array is: &quot; + max(highNumberArray));\r\n        System.out.println(&quot;&quot;);\r\n```\r\n\r\n\r\n------------------------------------","title":"How would you create a function to find the largest number in a Dynamic array?","body":"<p>`This is what I have so far and I am new to using a dynamic array instrad of a regular one. Any help would be much appriciated.</p>\n<pre><code>public static int max(DynamicArray arr) {\n        //TODO Find and return the largest number in the array\n        int base = 0;\n        for (int i = 0; i == arr.size(); i++){\n            // compare values\n            if (base &lt; arr.indexOf(i)){\n                // replace the base number with the highest number\n                base += arr.indexOf(i);\n            }\n        }\n        // return highest number\n        return base; \n    }\n\nprivate int size = 0; // the size the user thinks it is\n\npublic int size(){ \n        return size;\n    }\n\npublic int indexOf(E element){ //TODO((3))\n        for(int i = 0; i &lt; size; i++){\n            if(data[i].equals(element)){\n                return i;\n            }\n        }\n        return -1;\n    }\n</code></pre>\n<p>And this is the main ouput code.</p>\n<pre><code>//Code to call Find the High Number Assignment\n        DynamicArray&lt;Integer&gt; highNumberArray = new DynamicArray&lt;Integer&gt;();\n        Random randGen = new Random();\n        for(int i = 0; i &lt; 14; i++) {\n            highNumberArray.add(randGen.nextInt(100));\n        }\n        System.out.println(&quot;*********&quot;);\n        System.out.println(&quot;The largest number in the array is: &quot; + max(highNumberArray));\n        System.out.println(&quot;&quot;);\n</code></pre>\n<hr />\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":4837467,"reputation":769,"user_id":3903593,"accept_rate":62,"display_name":"FiXiT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693589070,"creation_date":1693589070,"answer_id":77025004,"question_id":77017886,"body_markdown":"You can specify the JS path while creating AppiumDriverLocalService . Below is the code in kotlin.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n          val localAppiumServer = AppiumDriverLocalService.buildService(\r\n                AppiumServiceBuilder().usingAnyFreePort().usingDriverExecutable(\r\n                    File(PropertiesProvider.getNodePath())\r\n                ).withAppiumJS(File((APPIUM_JS_PATH))) // This will set the JS Path\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Appium looks for Main file in project path and fails","body":"<p>You can specify the JS path while creating AppiumDriverLocalService . Below is the code in kotlin.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>      val localAppiumServer = AppiumDriverLocalService.buildService(\n            AppiumServiceBuilder().usingAnyFreePort().usingDriverExecutable(\n                File(PropertiesProvider.getNodePath())\n            ).withAppiumJS(File((APPIUM_JS_PATH))) // This will set the JS Path</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8191273,"reputation":163,"user_id":7800452,"display_name":"Deepak Gopal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693589070,"creation_date":1693500969,"question_id":77017886,"body_markdown":"When I try to create an AndroidDriver, using Appium 2.0.1, I get  `InvalidServerInstanceException` (stacktrace below). \r\n\r\nI have run appium-doctor and that doesn&#39;t show any issues. \r\n\r\nI am not exclusively creating and starting an Appium server now, as I am told that Appium 2.0 will do that for me. It seems to be trying but is trying to find the `main` file in the project path, instead of the appium installation path. \r\n\r\nI have tried re-installing Appium. I have followed all the recommended procedure to install Appium and its depedencies from npm. Cleaning the entire project and rebuilding the dependencies and then the project.\r\n\r\nWhat should I do now to fix this issue? \r\n\r\nIs there a driver capability I can add or should I be exclusively starting the server by giving the JS path, like we used to earlier?\r\n\r\n\r\n```\r\nio.appium.java_client.service.local.InvalidServerInstanceException: The main Appium script does not exist at &#39;/&lt;project path&gt;/appium/build/lib/main.js&#39;\r\n\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.findMainScript(AppiumServiceBuilder.java:159)\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.loadPathToMainScript(AppiumServiceBuilder.java:304)\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.createArgs(AppiumServiceBuilder.java:360)\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.createArgs(AppiumServiceBuilder.java:57)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:490)\r\n\tat io.appium.java_client.service.local.AppiumDriverLocalService.buildService(AppiumDriverLocalService.java:92)\r\n\tat io.appium.java_client.service.local.AppiumDriverLocalService.buildDefaultService(AppiumDriverLocalService.java:88)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:137)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:236)\r\n```\r\n\r\nThis is the code that I am running to create and Android driver\r\n\r\n```\r\n    private AppiumDriver createAndroidDriver(int deviceIndex) {\r\n        this.capabilitiesFactory = new CapabilitiesFactory();\r\n        DesiredCapabilities capabilities = this.capabilitiesFactory.createCapabilities(this.currentTestPlatform);\r\n        return new AndroidDriver(capabilities);\r\n    }\r\n```\r\n","title":"Appium looks for Main file in project path and fails","body":"<p>When I try to create an AndroidDriver, using Appium 2.0.1, I get  <code>InvalidServerInstanceException</code> (stacktrace below).</p>\n<p>I have run appium-doctor and that doesn't show any issues.</p>\n<p>I am not exclusively creating and starting an Appium server now, as I am told that Appium 2.0 will do that for me. It seems to be trying but is trying to find the <code>main</code> file in the project path, instead of the appium installation path.</p>\n<p>I have tried re-installing Appium. I have followed all the recommended procedure to install Appium and its depedencies from npm. Cleaning the entire project and rebuilding the dependencies and then the project.</p>\n<p>What should I do now to fix this issue?</p>\n<p>Is there a driver capability I can add or should I be exclusively starting the server by giving the JS path, like we used to earlier?</p>\n<pre><code>io.appium.java_client.service.local.InvalidServerInstanceException: The main Appium script does not exist at '/&lt;project path&gt;/appium/build/lib/main.js'\n\n    at io.appium.java_client.service.local.AppiumServiceBuilder.findMainScript(AppiumServiceBuilder.java:159)\n    at io.appium.java_client.service.local.AppiumServiceBuilder.loadPathToMainScript(AppiumServiceBuilder.java:304)\n    at io.appium.java_client.service.local.AppiumServiceBuilder.createArgs(AppiumServiceBuilder.java:360)\n    at io.appium.java_client.service.local.AppiumServiceBuilder.createArgs(AppiumServiceBuilder.java:57)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:490)\n    at io.appium.java_client.service.local.AppiumDriverLocalService.buildService(AppiumDriverLocalService.java:92)\n    at io.appium.java_client.service.local.AppiumDriverLocalService.buildDefaultService(AppiumDriverLocalService.java:88)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:137)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:236)\n</code></pre>\n<p>This is the code that I am running to create and Android driver</p>\n<pre><code>    private AppiumDriver createAndroidDriver(int deviceIndex) {\n        this.capabilitiesFactory = new CapabilitiesFactory();\n        DesiredCapabilities capabilities = this.capabilitiesFactory.createCapabilities(this.currentTestPlatform);\n        return new AndroidDriver(capabilities);\n    }\n</code></pre>\n"},{"tags":["java","jopendocument"],"answers":[{"tags":[],"owner":{"account_id":8625009,"reputation":84,"user_id":6458479,"display_name":"Nusret &#214;zateş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522397306,"creation_date":1522397306,"answer_id":49570778,"question_id":46468272,"body_markdown":"    sheet.getRowCount()\r\n\r\nThis give you a maximum number of rows in a sheet it&#39;s like 19534667,so you should not use it for this.In my project i manually add row and column count.","title":"how to read .ods document by java and jopendocument package","body":"<pre><code>sheet.getRowCount()\n</code></pre>\n\n<p>This give you a maximum number of rows in a sheet it's like 19534667,so you should not use it for this.In my project i manually add row and column count.</p>\n"},{"tags":[],"owner":{"account_id":10078487,"reputation":2156,"user_id":7449706,"display_name":"Kevin Ng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544257092,"creation_date":1544257092,"answer_id":53680761,"question_id":46468272,"body_markdown":"I couldn&#39;t reproduce your error using your code. I think you should update to version 1.3 of jOpenDocument. I only made a spreadsheet of 5 lines to test your code. Nonetheless, it worked great.\r\n\r\nJust one thing in your code though, you don&#39;t need to bring nColIndex outside of the &quot;for&quot; loop declaration.\r\n\r\nYour code is great for ods files that only have 1 sheet but you may run into a problem if you have multiple sheets. I just modified your code a bit into a version that you could easily edit in the future to give the program the capability to work with spreadsheets that have multiple sheets that are similar in design.\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import org.jopendocument.dom.spreadsheet.MutableCell;\r\n    import org.jopendocument.dom.spreadsheet.Sheet;\r\n    import org.jopendocument.dom.spreadsheet.SpreadSheet;\r\n    \r\n    public class ODSReader {\r\n      public void readODS(File file)\r\n      {\r\n        SpreadSheet spreadsheet;\r\n        try {\r\n             //Getting the 0th sheet for manipulation| pass sheet name as string\r\n             \r\n             spreadsheet = SpreadSheet.createFromFile(file);\r\n    \r\n             //Get row count and column count\r\n             int nColCount = spreadsheet.getSheet(0).getColumnCount();\r\n             int nRowCount = spreadsheet.getSheet(0).getRowCount();\r\n    \r\n             System.out.println(&quot;Rows :&quot;+nRowCount);\r\n             System.out.println(&quot;Cols :&quot;+nColCount);\r\n             //Iterating through each row of the selected sheet\r\n             MutableCell cell = null;\r\n             for(int nRowIndex = 0; nRowIndex &lt; nRowCount; nRowIndex++)\r\n             {\r\n               //Iterating through each column\r\n               for(int nColIndex = 0; nColIndex &lt; nColCount; nColIndex++)\r\n               {\r\n                 cell = spreadsheet.getSheet(0).getCellAt(nColIndex, nRowIndex);\r\n                 System.out.print(cell.getValue()+ &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n              }\r\n    \r\n            } catch (IOException e) {\r\n              e.printStackTrace();\r\n            }\r\n      }\r\n      public static void main(String[] args) {\r\n            //Creating File object of .ods file\r\n            File file = new File(&quot;test.ods&quot;);\r\n            ODSReader objODSReader = new ODSReader();\r\n            objODSReader.readODS(file);\r\n      }\r\n    }","title":"how to read .ods document by java and jopendocument package","body":"<p>I couldn't reproduce your error using your code. I think you should update to version 1.3 of jOpenDocument. I only made a spreadsheet of 5 lines to test your code. Nonetheless, it worked great.</p>\n\n<p>Just one thing in your code though, you don't need to bring nColIndex outside of the \"for\" loop declaration.</p>\n\n<p>Your code is great for ods files that only have 1 sheet but you may run into a problem if you have multiple sheets. I just modified your code a bit into a version that you could easily edit in the future to give the program the capability to work with spreadsheets that have multiple sheets that are similar in design.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.jopendocument.dom.spreadsheet.MutableCell;\nimport org.jopendocument.dom.spreadsheet.Sheet;\nimport org.jopendocument.dom.spreadsheet.SpreadSheet;\n\npublic class ODSReader {\n  public void readODS(File file)\n  {\n    SpreadSheet spreadsheet;\n    try {\n         //Getting the 0th sheet for manipulation| pass sheet name as string\n\n         spreadsheet = SpreadSheet.createFromFile(file);\n\n         //Get row count and column count\n         int nColCount = spreadsheet.getSheet(0).getColumnCount();\n         int nRowCount = spreadsheet.getSheet(0).getRowCount();\n\n         System.out.println(\"Rows :\"+nRowCount);\n         System.out.println(\"Cols :\"+nColCount);\n         //Iterating through each row of the selected sheet\n         MutableCell cell = null;\n         for(int nRowIndex = 0; nRowIndex &lt; nRowCount; nRowIndex++)\n         {\n           //Iterating through each column\n           for(int nColIndex = 0; nColIndex &lt; nColCount; nColIndex++)\n           {\n             cell = spreadsheet.getSheet(0).getCellAt(nColIndex, nRowIndex);\n             System.out.print(cell.getValue()+ \" \");\n            }\n            System.out.println();\n          }\n\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n  }\n  public static void main(String[] args) {\n        //Creating File object of .ods file\n        File file = new File(\"test.ods\");\n        ODSReader objODSReader = new ODSReader();\n        objODSReader.readODS(file);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693588257,"creation_date":1693588257,"answer_id":77024929,"question_id":46468272,"body_markdown":"if someone is using a maven project you can import the com.github.miachm.sods, you can see complete documentation here : https://com.github.miachm.sods\r\n\r\nin this example i am reading a sample ods file with movie data in the first column \r\n\r\nfirst import the maven dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\r\n            &lt;artifactId&gt;SODS&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  take a look at this sample code to read the first column \r\n\r\n     public static List&lt;String&gt; readColumnA(String filePath) {\r\n        List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\r\n        try {\r\n            SpreadSheet spread = new SpreadSheet(new File(filePath));\r\n            //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\r\n            Sheet sheet = spread.getSheets().get(0);\r\n            //     System.out.println(&quot;In sheet &quot; + sheet.getName());\r\n            Range movies = sheet.getDataRange();\r\n            Object[][] movieColumn = movies.getValues();\r\n            for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\r\n            //optional    System.out.println(movieColumn[i][0].toString());\r\n                movieList.add(movieColumn[i][0].toString());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return movieList;\r\n    }","title":"how to read .ods document by java and jopendocument package","body":"<p>if someone is using a maven project you can import the com.github.miachm.sods, you can see complete documentation here : <a href=\"https://com.github.miachm.sods\" rel=\"nofollow noreferrer\">https://com.github.miachm.sods</a></p>\n<p>in this example i am reading a sample ods file with movie data in the first column</p>\n<p>first import the maven dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\n        &lt;artifactId&gt;SODS&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>take a look at this sample code to read the first column</p>\n<pre><code> public static List&lt;String&gt; readColumnA(String filePath) {\n    List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\n    try {\n        SpreadSheet spread = new SpreadSheet(new File(filePath));\n        //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\n        Sheet sheet = spread.getSheets().get(0);\n        //     System.out.println(&quot;In sheet &quot; + sheet.getName());\n        Range movies = sheet.getDataRange();\n        Object[][] movieColumn = movies.getValues();\n        for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\n        //optional    System.out.println(movieColumn[i][0].toString());\n            movieList.add(movieColumn[i][0].toString());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return movieList;\n}\n</code></pre>\n"}],"owner":{"account_id":5714653,"reputation":111,"user_id":4515354,"accept_rate":0,"display_name":"Eman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693588257,"creation_date":1506598953,"question_id":46468272,"body_markdown":"I have .ods file and I want to read and display it by java program \r\nI used this program :\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import org.jopendocument.dom.spreadsheet.MutableCell;\r\n    import org.jopendocument.dom.spreadsheet.Sheet;\r\n    import org.jopendocument.dom.spreadsheet.SpreadSheet;\r\n\r\n    public class ODSReader {\r\n      public void readODS(File file)\r\n      {\r\n        Sheet sheet;\r\n        try {\r\n             //Getting the 0th sheet for manipulation| pass sheet name as string\r\n             sheet = SpreadSheet.createFromFile(file).getSheet(0);\r\n              \r\n             //Get row count and column count\r\n             int nColCount = sheet.getColumnCount();\r\n             int nRowCount = sheet.getRowCount();\r\n\r\n             System.out.println(&quot;Rows :&quot;+nRowCount);\r\n             System.out.println(&quot;Cols :&quot;+nColCount);\r\n             //Iterating through each row of the selected sheet\r\n             MutableCell cell = null;\r\n             for(int nRowIndex = 0; nRowIndex &lt; nRowCount; nRowIndex++)\r\n             {\r\n               //Iterating through each column\r\n               int nColIndex = 0;\r\n               for( ;nColIndex &lt; nColCount; nColIndex++)\r\n               {\r\n                 cell = sheet.getCellAt(nColIndex, nRowIndex);\r\n                 System.out.print(cell.getValue()+ &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n              }\r\n\r\n            } catch (IOException e) {\r\n              e.printStackTrace();\r\n            }\r\n      }\r\n      public static void main(String[] args) {\r\n            //Creating File object of .ods file\r\n            File file = new File(&quot;D:\\\\TestData\\\\test.ods&quot;);\r\n            ODSReader objODSReader = new ODSReader();\r\n            objODSReader.readODS(file);\r\n      }\r\n    }\r\n\r\nand the .ods file is that:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W7AuT.png\r\n\r\nand the output appears like that:\r\n\r\n    &gt; Date \r\n      Volume \r\n      Open \r\n      Low \r\n      High \r\n      Close \r\n      Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 7\r\n    \tat org.jopendocument.dom.spreadsheet.Row.getCellAt(Unknown Source)\r\n    \tat org.jopendocument.dom.spreadsheet.Row.getValidCellAt(UnknownSource)\r\n    \tat org.jopendocument.dom.spreadsheet.Row.getMutableCellAt(Unknown\r\n    Source)\r\n    \tat org.jopendocument.dom.spreadsheet.Table.getCellAt(Unknown Source)\r\n    \tat com.spreadSheets.java.ODSReader.readODS(ODSReader.java:38)\r\n    \tat com.spreadSheets.java.Main.main(Main.java:20)\r\n\r\n**The QUESTION is how I could display the charachters,numbers,and Symbols\r\nusing this jopendocument package and avoid or solve these exceptions ?? **","title":"how to read .ods document by java and jopendocument package","body":"<p>I have .ods file and I want to read and display it by java program \nI used this program :</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.jopendocument.dom.spreadsheet.MutableCell;\nimport org.jopendocument.dom.spreadsheet.Sheet;\nimport org.jopendocument.dom.spreadsheet.SpreadSheet;\n\npublic class ODSReader {\n  public void readODS(File file)\n  {\n    Sheet sheet;\n    try {\n         //Getting the 0th sheet for manipulation| pass sheet name as string\n         sheet = SpreadSheet.createFromFile(file).getSheet(0);\n\n         //Get row count and column count\n         int nColCount = sheet.getColumnCount();\n         int nRowCount = sheet.getRowCount();\n\n         System.out.println(\"Rows :\"+nRowCount);\n         System.out.println(\"Cols :\"+nColCount);\n         //Iterating through each row of the selected sheet\n         MutableCell cell = null;\n         for(int nRowIndex = 0; nRowIndex &lt; nRowCount; nRowIndex++)\n         {\n           //Iterating through each column\n           int nColIndex = 0;\n           for( ;nColIndex &lt; nColCount; nColIndex++)\n           {\n             cell = sheet.getCellAt(nColIndex, nRowIndex);\n             System.out.print(cell.getValue()+ \" \");\n            }\n            System.out.println();\n          }\n\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n  }\n  public static void main(String[] args) {\n        //Creating File object of .ods file\n        File file = new File(\"D:\\\\TestData\\\\test.ods\");\n        ODSReader objODSReader = new ODSReader();\n        objODSReader.readODS(file);\n  }\n}\n</code></pre>\n\n<p>and the .ods file is that:\n<a href=\"https://i.stack.imgur.com/W7AuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W7AuT.png\" alt=\"enter image description here\"></a></p>\n\n<p>and the output appears like that:</p>\n\n<pre><code>&gt; Date \n  Volume \n  Open \n  Low \n  High \n  Close \n  Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 7\n    at org.jopendocument.dom.spreadsheet.Row.getCellAt(Unknown Source)\n    at org.jopendocument.dom.spreadsheet.Row.getValidCellAt(UnknownSource)\n    at org.jopendocument.dom.spreadsheet.Row.getMutableCellAt(Unknown\nSource)\n    at org.jopendocument.dom.spreadsheet.Table.getCellAt(Unknown Source)\n    at com.spreadSheets.java.ODSReader.readODS(ODSReader.java:38)\n    at com.spreadSheets.java.Main.main(Main.java:20)\n</code></pre>\n\n<p>**The QUESTION is how I could display the charachters,numbers,and Symbols\nusing this jopendocument package and avoid or solve these exceptions ?? **</p>\n"},{"tags":["java","html","freemarker","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":470281,"reputation":24726,"user_id":877391,"display_name":"Joshua Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389047192,"creation_date":1389046732,"answer_id":20960370,"question_id":20960069,"body_markdown":"Freemarker uses the currency formatting provided by the Java platform. \r\n\r\nIt requires a little tweaking of the DecimalFormat returned by NumberFormat.getCurrencyInstance() (which is what is called when you call .currency). You can see [examples of it here][1].\r\n\r\nHowever, that said it will likely be more effective for you to create a macro in freemarker to call which will handle your specific formatting.\r\n\r\nSorry for not having an example of what that macro would look like, but it&#39;s a good starter into macros in freemarker since you are just learning.\r\n\r\nYou might investigate if you can supply a custom format using the exposed configuration for [number formats][2] that will meet your needs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2056400/format-negative-amount-of-usd-with-a-minus-sign-not-brackets-java\r\n  [2]: http://freemarker.org/docs/ref_builtins_number.html","title":"How to customize number format in freemarker?","body":"<p>Freemarker uses the currency formatting provided by the Java platform. </p>\n\n<p>It requires a little tweaking of the DecimalFormat returned by NumberFormat.getCurrencyInstance() (which is what is called when you call .currency). You can see <a href=\"https://stackoverflow.com/questions/2056400/format-negative-amount-of-usd-with-a-minus-sign-not-brackets-java\">examples of it here</a>.</p>\n\n<p>However, that said it will likely be more effective for you to create a macro in freemarker to call which will handle your specific formatting.</p>\n\n<p>Sorry for not having an example of what that macro would look like, but it's a good starter into macros in freemarker since you are just learning.</p>\n\n<p>You might investigate if you can supply a custom format using the exposed configuration for <a href=\"http://freemarker.org/docs/ref_builtins_number.html\" rel=\"nofollow noreferrer\">number formats</a> that will meet your needs.</p>\n"},{"tags":[],"owner":{"account_id":2519473,"reputation":8288,"user_id":2190115,"accept_rate":79,"display_name":"msapkal"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1389077824,"creation_date":1389077824,"answer_id":20965694,"question_id":20960069,"body_markdown":"You can also try `?string(&quot;,##0.00&quot;)`. However in this case you need to explicitly add `$` and `-` sign would be after `$` in case of negative numbers.\r\n\r\n\r\n    &lt;#local total = 3343434/&gt;\r\n    $ ${total?string(&quot;,##0.00&quot;)}  //$ 3,343,434.00\r\n    \r\n    &lt;#local total = -3343434/&gt;\r\n    $ ${total?string(&quot;,##0.00&quot;)}  //$ -3,343,434.00\r\n\r\nOR in case if you want what was expected you can replace the strings.\r\n\r\n    &lt;#local total = -3343434/&gt;\r\n    &lt;#local total = &quot;$ &quot; + total?string(&quot;,##0.00&quot;)/&gt;\r\n    \r\n    ${total?replace(&#39;$ -&#39;,&#39;- $&#39;)}   //- $3,343,434.00","title":"How to customize number format in freemarker?","body":"<p>You can also try <code>?string(\",##0.00\")</code>. However in this case you need to explicitly add <code>$</code> and <code>-</code> sign would be after <code>$</code> in case of negative numbers.</p>\n\n<pre><code>&lt;#local total = 3343434/&gt;\n$ ${total?string(\",##0.00\")}  //$ 3,343,434.00\n\n&lt;#local total = -3343434/&gt;\n$ ${total?string(\",##0.00\")}  //$ -3,343,434.00\n</code></pre>\n\n<p>OR in case if you want what was expected you can replace the strings.</p>\n\n<pre><code>&lt;#local total = -3343434/&gt;\n&lt;#local total = \"$ \" + total?string(\",##0.00\")/&gt;\n\n${total?replace('$ -','- $')}   //- $3,343,434.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479066656,"creation_date":1389078001,"answer_id":20965738,"question_id":20960069,"body_markdown":"**Update**: Since FreeMarker 2.3.24 you can define named custom number formats, which can be an alias to a number format pattern (or even a formatter implemented in Java, but that level of flexibility isn&#39;t needed in this case). So add a custom number format called &quot;money&quot; as an alias to `&quot;&#164;,##0.00&quot;` to the FreeMarker configuration, and then you can write something like `${total?string.@money}`. See: http://freemarker.org/docs/pgui_config_custom_formats.html\r\n\r\nCurrently FreeMarker just uses the formatting facility of the Java platform, so it&#39;s only as configurable as that (assuming you want to use `?string` and `?string.somethingPredefiendHere`). Which is not much... but, in general, the formatting categories provided by the Java platform is not fine-gradient enough anyway, I mean, you don&#39;t have application-domain categories like, price-of-product, a salary, a price on the stock, etc. (This demand is more frequent with non-currency numbers though.) So I think, generally, you want to make a formatter function, that you can use like `${salary(someNumber)}`, `${price(someNumber)}`, etc. Those functions can be implemented in a commonly `#included`/`#imported` template like a `#function` or in Java by using `#assign salary = &#39;com.example.SalarayMethod&#39;?new()` in place of `#function`, where `com.example.SalarayMethod` is a `TemplateMethodModelEx`.","title":"How to customize number format in freemarker?","body":"<p><strong>Update</strong>: Since FreeMarker 2.3.24 you can define named custom number formats, which can be an alias to a number format pattern (or even a formatter implemented in Java, but that level of flexibility isn't needed in this case). So add a custom number format called \"money\" as an alias to <code>\"¤,##0.00\"</code> to the FreeMarker configuration, and then you can write something like <code>${total?string.@money}</code>. See: <a href=\"http://freemarker.org/docs/pgui_config_custom_formats.html\" rel=\"nofollow noreferrer\">http://freemarker.org/docs/pgui_config_custom_formats.html</a></p>\n\n<p>Currently FreeMarker just uses the formatting facility of the Java platform, so it's only as configurable as that (assuming you want to use <code>?string</code> and <code>?string.somethingPredefiendHere</code>). Which is not much... but, in general, the formatting categories provided by the Java platform is not fine-gradient enough anyway, I mean, you don't have application-domain categories like, price-of-product, a salary, a price on the stock, etc. (This demand is more frequent with non-currency numbers though.) So I think, generally, you want to make a formatter function, that you can use like <code>${salary(someNumber)}</code>, <code>${price(someNumber)}</code>, etc. Those functions can be implemented in a commonly <code>#included</code>/<code>#imported</code> template like a <code>#function</code> or in Java by using <code>#assign salary = 'com.example.SalarayMethod'?new()</code> in place of <code>#function</code>, where <code>com.example.SalarayMethod</code> is a <code>TemplateMethodModelEx</code>.</p>\n"},{"tags":[],"owner":{"account_id":3898055,"reputation":91,"user_id":3226530,"display_name":"scarecrow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409728483,"creation_date":1409728483,"answer_id":25638405,"question_id":20960069,"body_markdown":"How about taking a mod of your number, convert it to the required string format and finally add a &#39;-&#39; prefix to the final string. You can retain the default format in just two steps.","title":"How to customize number format in freemarker?","body":"<p>How about taking a mod of your number, convert it to the required string format and finally add a '-' prefix to the final string. You can retain the default format in just two steps.</p>\n"},{"tags":[],"owner":{"account_id":3996319,"reputation":2107,"user_id":3293742,"accept_rate":76,"display_name":"Gabriel Garrett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575386376,"creation_date":1575386376,"answer_id":59160233,"question_id":20960069,"body_markdown":"If you want to maintain the default currency formatting (in case you need to use a locale other than &#39;$&#39;), you can just replace the parentheses like so:\r\n\r\n    ${transaction.amount?string.currency?replace(&quot;(&quot;,&quot;-&quot;)?replace(&quot;)&quot;,&quot;&quot;)}\r\n\r\nThis will work without error regardless of if a number is negative or positive.\r\n\r\n**TIP: Make sure the number is actually a number with the `?number` directive before converting to a currency format**","title":"How to customize number format in freemarker?","body":"<p>If you want to maintain the default currency formatting (in case you need to use a locale other than '$'), you can just replace the parentheses like so:</p>\n\n<pre><code>${transaction.amount?string.currency?replace(\"(\",\"-\")?replace(\")\",\"\")}\n</code></pre>\n\n<p>This will work without error regardless of if a number is negative or positive.</p>\n\n<p><strong>TIP: Make sure the number is actually a number with the <code>?number</code> directive before converting to a currency format</strong></p>\n"},{"tags":[],"owner":{"account_id":10878966,"reputation":734,"user_id":8000120,"display_name":"J. Jerez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693588118,"creation_date":1693588118,"answer_id":77024918,"question_id":20960069,"body_markdown":"    ${amount?string(&quot;$,##0.00&quot;)}\r\nResult: -$100.00 or $100.00 regarding the sign.","title":"How to customize number format in freemarker?","body":"<pre><code>${amount?string(&quot;$,##0.00&quot;)}\n</code></pre>\n<p>Result: -$100.00 or $100.00 regarding the sign.</p>\n"}],"owner":{"account_id":448913,"reputation":3527,"user_id":843400,"accept_rate":64,"display_name":"CustardBun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47530,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20965694,"answer_count":6,"score":5,"last_activity_date":1693588118,"creation_date":1389045550,"question_id":20960069,"body_markdown":"I am using freemarker and trying to display numbers in this format: `$3,343,434.00` for example. This was easily taken care of by using `${total?string.currency}` (assuming &quot;total&quot; is some number). \r\n\r\nHowever, when I have negative numbers, it&#39;s showing them like this: `($343.34)` instead of this: `-$343.34`. I need the negative sign instead of the parenthesis. Is there a way I could customize the formatting so it does everything that the `string.currency` did but replace the negative value behavior? I am relatively new to freemarker, so detailed responses are appreciated!","title":"How to customize number format in freemarker?","body":"<p>I am using freemarker and trying to display numbers in this format: <code>$3,343,434.00</code> for example. This was easily taken care of by using <code>${total?string.currency}</code> (assuming \"total\" is some number). </p>\n\n<p>However, when I have negative numbers, it's showing them like this: <code>($343.34)</code> instead of this: <code>-$343.34</code>. I need the negative sign instead of the parenthesis. Is there a way I could customize the formatting so it does everything that the <code>string.currency</code> did but replace the negative value behavior? I am relatively new to freemarker, so detailed responses are appreciated!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499250585,"post_id":44923640,"comment_id":76822804,"body_markdown":"Can&#39;t you save your data in `.xls` file?","body":"Can&#39;t you save your data in <code>.xls</code> file?"},{"owner":{"account_id":9208364,"reputation":43,"user_id":6842700,"accept_rate":18,"display_name":"Kanagaraj"},"score":0,"creation_date":1499250627,"post_id":44923640,"comment_id":76822838,"body_markdown":"yes. My company have only open office","body":"yes. My company have only open office"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499250650,"post_id":44923640,"comment_id":76822847,"body_markdown":"Open office supports saving and loading from `.xls` extension.","body":"Open office supports saving and loading from <code>.xls</code> extension."},{"owner":{"account_id":9208364,"reputation":43,"user_id":6842700,"accept_rate":18,"display_name":"Kanagaraj"},"score":0,"creation_date":1499250825,"post_id":44923640,"comment_id":76822971,"body_markdown":"ok. thanks for your information","body":"ok. thanks for your information"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":1,"creation_date":1499252236,"post_id":44923640,"comment_id":76823983,"body_markdown":"And then, you can use `jxl` library to operate on `.xls` files","body":"And then, you can use <code>jxl</code> library to operate on <code>.xls</code> files"}],"answers":[{"tags":[],"owner":{"account_id":9573610,"reputation":1,"user_id":7110526,"display_name":"Mohanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543057606,"creation_date":1543049571,"answer_id":53456632,"question_id":44923640,"body_markdown":"    File file = new File(&quot;file location&quot;);\r\n    Sheet sheet = SpreadSheet.createFromFile(file).getSheet(0)MutableCell domain = null;\r\n    sheet.getCellAt(row index,column index).setValue(value you want to write in the cell) / getvalue()-fetches the value in the cell;\r\n    sheet.getSpreadSheet().saveAs(file);\r\n\r\n**Note**: \r\nFor using this, you need `openjdocument` jar file added to your project.","title":"Reading data from ods(Open office spreadsheet) for selenium in java","body":"<pre><code>File file = new File(\"file location\");\nSheet sheet = SpreadSheet.createFromFile(file).getSheet(0)MutableCell domain = null;\nsheet.getCellAt(row index,column index).setValue(value you want to write in the cell) / getvalue()-fetches the value in the cell;\nsheet.getSpreadSheet().saveAs(file);\n</code></pre>\n\n<p><strong>Note</strong>: \nFor using this, you need <code>openjdocument</code> jar file added to your project.</p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693587751,"creation_date":1693587751,"answer_id":77024886,"question_id":44923640,"body_markdown":"First import library \r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\r\n            &lt;artifactId&gt;SODS&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen this is an example on how to read the first column \r\n\r\n    public static List&lt;String&gt; readColumnA(String filePath) {\r\n        List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\r\n        try {\r\n            SpreadSheet spread = new SpreadSheet(new File(filePath));\r\n            //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\r\n            Sheet sheet = spread.getSheets().get(0);\r\n            //     System.out.println(&quot;In sheet &quot; + sheet.getName());\r\n            Range movies = sheet.getDataRange();\r\n            Object[][] movieColumn = movies.getValues();\r\n            for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\r\n                movieList.add(movieColumn[i][0].toString());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return movieList;\r\n    }","title":"Reading data from ods(Open office spreadsheet) for selenium in java","body":"<p>First import library</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;com.github.miachm.sods&lt;/groupId&gt;\n        &lt;artifactId&gt;SODS&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then this is an example on how to read the first column</p>\n<pre><code>public static List&lt;String&gt; readColumnA(String filePath) {\n    List&lt;String&gt; movieList = new ArrayList&lt;&gt;();\n    try {\n        SpreadSheet spread = new SpreadSheet(new File(filePath));\n        //     System.out.println(&quot;Number of sheets: &quot; + spread.getNumSheets());\n        Sheet sheet = spread.getSheets().get(0);\n        //     System.out.println(&quot;In sheet &quot; + sheet.getName());\n        Range movies = sheet.getDataRange();\n        Object[][] movieColumn = movies.getValues();\n        for (int i = 0; i &lt; sheet.getMaxRows(); i++) {\n            movieList.add(movieColumn[i][0].toString());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return movieList;\n}\n</code></pre>\n"}],"owner":{"account_id":9208364,"reputation":43,"user_id":6842700,"accept_rate":18,"display_name":"Kanagaraj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693587751,"creation_date":1499250447,"question_id":44923640,"body_markdown":"Is there any possibility of using ods(Open office spreadsheet) files for read and write data in selenium using java. I searched internet and i am not find any way. Pls anyone help me.","title":"Reading data from ods(Open office spreadsheet) for selenium in java","body":"<p>Is there any possibility of using ods(Open office spreadsheet) files for read and write data in selenium using java. I searched internet and i am not find any way. Pls anyone help me.</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693586096,"creation_date":1693586096,"answer_id":77024738,"question_id":77002615,"body_markdown":"i was able to do this by searching for the index field associated with it\r\n\r\n    String queryStringTagged = String.format(&quot;STTagged=false AND isDocument=true AND RefinableString09=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\r\n\r\n\r\n ","title":"Search for files using Yes/No Custom Column, using GraphApi in Java","body":"<p>i was able to do this by searching for the index field associated with it</p>\n<pre><code>String queryStringTagged = String.format(&quot;STTagged=false AND isDocument=true AND RefinableString09=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\n</code></pre>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77024738,"answer_count":1,"score":0,"last_activity_date":1693586096,"creation_date":1693331881,"question_id":77002615,"body_markdown":"Is there a way i can do a search for files in a sharepoint site using a Custom Yes/No Column named Tagged?\r\nI am working with Java GraphApi SDK\r\n\r\nIt tried this but i does not seem to work, this is my base code so far. when i add the search tearm for the tagged field everything stop working. You can see the query with the tagged field in the second query string\r\n\r\n    SiteRequestBuilder sitereq = graphClient.sites(siteid);\r\n    String webUrl = sitereq.buildRequest().get().webUrl;\r\n    String queryString = String.format(&quot;isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\r\n    String queryStringTagged = String.format(&quot;STTagged=false AND isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\r\n    \r\n    LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;&gt;();\r\n    SearchRequest requests = new SearchRequest();\r\n    \r\n    LinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;&gt;();\r\n    entityTypesList.add(EntityType.DRIVE_ITEM);\r\n    requests.entityTypes = entityTypesList;\r\n    \r\n    LinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\r\n    SortProperty sort = new SortProperty();\r\n    sort.name = &quot;LastModifiedTime&quot;;\r\n    sort.isDescending = false;\r\n    sortProperties.add(sort);\r\n    \r\n    SearchQuery query = new SearchQuery();\r\n    query.queryString = queryString;\r\n    requests.query = query;\r\n    requests.sortProperties = sortProperties;\r\n    requests.size = 500;\r\n    \r\n    requestsList.add(requests);\r\n    \r\n    SearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\r\n                    .newBuilder()\r\n                    .withRequests(requestsList)\r\n                    .build();\r\n    \r\n    SearchEntityQueryCollectionRequest searchRequest = graphClient.search().query(sqp).buildRequest();\r\n    SearchEntityQueryCollectionPage searchResult = searchRequest.post();","title":"Search for files using Yes/No Custom Column, using GraphApi in Java","body":"<p>Is there a way i can do a search for files in a sharepoint site using a Custom Yes/No Column named Tagged?\nI am working with Java GraphApi SDK</p>\n<p>It tried this but i does not seem to work, this is my base code so far. when i add the search tearm for the tagged field everything stop working. You can see the query with the tagged field in the second query string</p>\n<pre><code>SiteRequestBuilder sitereq = graphClient.sites(siteid);\nString webUrl = sitereq.buildRequest().get().webUrl;\nString queryString = String.format(&quot;isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\nString queryStringTagged = String.format(&quot;STTagged=false AND isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\n\nLinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;&gt;();\nSearchRequest requests = new SearchRequest();\n\nLinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;&gt;();\nentityTypesList.add(EntityType.DRIVE_ITEM);\nrequests.entityTypes = entityTypesList;\n\nLinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\nSortProperty sort = new SortProperty();\nsort.name = &quot;LastModifiedTime&quot;;\nsort.isDescending = false;\nsortProperties.add(sort);\n\nSearchQuery query = new SearchQuery();\nquery.queryString = queryString;\nrequests.query = query;\nrequests.sortProperties = sortProperties;\nrequests.size = 500;\n\nrequestsList.add(requests);\n\nSearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\n                .newBuilder()\n                .withRequests(requestsList)\n                .build();\n\nSearchEntityQueryCollectionRequest searchRequest = graphClient.search().query(sqp).buildRequest();\nSearchEntityQueryCollectionPage searchResult = searchRequest.post();\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1693575014,"post_id":77023476,"comment_id":135783086,"body_markdown":"Double check the seconds, milliseconds in the format string. You probably want `ss.SSSZ` at the end. Also: seriously think about ditching `Date`/`Calendar`/`SimpleDateFormat` and use the newer, saner APIs from `java.time`. And in the future: when something throws an exception **show us the exception**, don&#39;t keep it to yourself. It&#39;s useful information.","body":"Double check the seconds, milliseconds in the format string. You probably want <code>ss.SSSZ</code> at the end. Also: seriously think about ditching <code>Date</code>/<code>Calendar</code>/<code>SimpleDateFormat</code> and use the newer, saner APIs from <code>java.time</code>. And in the future: when something throws an exception <b>show us the exception</b>, don&#39;t keep it to yourself. It&#39;s useful information."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":5,"creation_date":1693575198,"post_id":77023476,"comment_id":135783122,"body_markdown":"Don&#39;t use `java.util.Date`. It&#39;s superseded by `java.time` classes. `java.time.ZonedDateTime.parse(&quot;2022-11-28T20:02:28.215Z&quot;);` works perfectly well","body":"Don&#39;t use <code>java.util.Date</code>. It&#39;s superseded by <code>java.time</code> classes. <code>java.time.ZonedDateTime.parse(&quot;2022-11-28T20:02:28.215Z&quot;);</code> works perfectly well"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693585415,"post_id":77023476,"comment_id":135785250,"body_markdown":"If I understand you correctly you are asking the impossible. A `Date` cannot have a time zone.","body":"If I understand you correctly you are asking the impossible. A <code>Date</code> cannot have a time zone."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1693585862,"post_id":77023476,"comment_id":135785329,"body_markdown":"If you need an old-fashioned `Date`  object for a legacy API that you cannot upgrade to java.time just yet, still stay away from `SimpleDateFormat` since it is a notorious troublemaker of a class. Use the simple `Date.from(Instant.parse(&quot;2022-11-28T20:02:28.215Z&quot;))`. On my computer the resulting `Date` prints as `Mon Nov 28 21:02:28 CET 2022`. It hasn’t got a time zone but prints in my default time zone (this confuses many). Since I am 1 hour ahead of UTC in November, the parsed object is correct.","body":"If you need an old-fashioned <code>Date</code>  object for a legacy API that you cannot upgrade to java.time just yet, still stay away from <code>SimpleDateFormat</code> since it is a notorious troublemaker of a class. Use the simple <code>Date.from(Instant.parse(&quot;2022-11-28T20:02:28.215Z&quot;))</code>. On my computer the resulting <code>Date</code> prints as <code>Mon Nov 28 21:02:28 CET 2022</code>. It hasn’t got a time zone but prints in my default time zone (this confuses many). Since I am 1 hour ahead of UTC in November, the parsed object is correct."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693605357,"post_id":77023476,"comment_id":135787900,"body_markdown":"`Instant.parse( &quot;2022-11-28T20:02:28.215Z&quot; ).atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )` to get a `ZonedDateTime` object. To generate text, call `.format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) )` as seen [on Ideone.com](https://ideone.com/YBWBJ9).","body":"<code>Instant.parse( &quot;2022-11-28T20:02:28.215Z&quot; ).atZone( ZoneId.of( &quot;Asia&#47;Tokyo&quot; ) )</code> to get a <code>ZonedDateTime</code> object. To generate text, call <code>.format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) )</code> as seen <a href=\"https://ideone.com/YBWBJ9\" rel=\"nofollow noreferrer\">on Ideone.com</a>."}],"owner":{"account_id":21410522,"reputation":1,"user_id":15770855,"display_name":"Yarik83Men"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693585238,"answer_count":0,"score":0,"last_activity_date":1693585980,"creation_date":1693574537,"question_id":77023476,"body_markdown":"Help me please convert string &quot;2022-11-28T20:02:28.215Z&quot; to Date with time zone jn java project. This variant throws exception\r\n\r\n    String DATE_FORMAT_WITH_TIME_ZONE = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:sssZ&quot;;\r\n    public static Date parseString(String date) throws ParseException {\r\n        return new SimpleDateFormat(DATE_FORMAT_WITH_TIME_ZONE).parse(date);\r\n    }\r\n\r\n","title":"Convert string &quot;2022-11-28T20:02:28.215Z&quot; to Date with time zone","body":"<p>Help me please convert string &quot;2022-11-28T20:02:28.215Z&quot; to Date with time zone jn java project. This variant throws exception</p>\n<pre><code>String DATE_FORMAT_WITH_TIME_ZONE = &quot;yyyy-MM-dd'T'HH:mm:sssZ&quot;;\npublic static Date parseString(String date) throws ParseException {\n    return new SimpleDateFormat(DATE_FORMAT_WITH_TIME_ZONE).parse(date);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693585699,"creation_date":1673609443,"answer_id":75108605,"question_id":75103990,"body_markdown":"There is no chance you get any info about current user from `AnonymousAuthenticationToken`: this implementation of `Authentication` is put in security-context when the request was not successfully authorized (user could not be identified). This means that either:\r\n- the wrong type of authorization (or no authorization at all) is attached to the request. This is the case for instance when an Bearer access token is provided but a session expected\r\n- `SecurityFilterChain` bean(s) is (or are) misconfigured. \r\n\r\nA quite common mistake lately is to write **client configuration** and then then send requests with `Bearer` header. When OAuth2 client conf (with `oauth2Login`) is used, incoming requests are authorized with session cookies, not access token. If you want the requests to your REST API be authorized with access tokens provided in a `Bearer` Authorization header, then you have to configure it as a **resource-server**.\r\n\r\nAnother common mistake relates to apps needing more than one authorization mechanism (OAuth2 client, OAuth2 resource server, Basic, etc.). In such cases, you should provide with a filter-chain bean for each. But if one of the first in `@Order`intercepts a request it shouldn&#39;t (misconfigured `securityMatcher`), then the security context initialization fails.\r\n\r\nFor basic info on how to configure Spring-boot 3 resource-server and client with Keycloak, see my answer to this question: [Use Keycloak Spring Adapter with Spring Boot 3][1]\r\n\r\nSpring-security default `Authentication` for successful OAuth2 authorization in resource-servers is `JwtAuthenticationToken` which return a `Jwt` instance as `principal`. You can get any access-token claim from this `Jwt` instance. Here is a sample with `preferred_username`. Open an access-token in a tool like https://jwt.io to find the name of the claim with the username value you are looking for (it could be as well `sub`, `email` or any private claim you configured in Keycloak)\r\n```java\r\n((Jwt) SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getClaims().get(StandardClaimNames.PREFERRED_USERNAME);\r\n```\r\n\r\nIf you want `getPrincipal()` to return the username instead of a `Jwt` instance, you&#39;ll have to provide your own `Authentication` implementation. You might use `JwtAuthenticationToken` as a base (but this not the best option, see the note below):\r\n```java\r\npublic class MyAuthentication extends JwtAuthenticationToken {\r\n\tpublic MyAuthentication(Jwt jwt, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\t\tsuper(jwt, authorities);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPrincipal() {\r\n\t\treturn getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\r\n\t}\t\r\n}\r\n```\r\n\r\nJust adapt the `Jwt2AuthenticationConverter` from the answer I linked above\r\n```java\r\n@Bean\r\npublic Jwt2AuthenticationConverter authenticationConverter(Jwt2AuthoritiesConverter authoritiesConverter) {\r\n    return jwt -&gt; new MyAuthentication(jwt, authoritiesConverter.convert(jwt));\r\n}\r\n```\r\n\r\n# Important note\r\nYou&#39;d better use `authentication.getName()` instead of `authentication.getPrincipal()` to access username. `principal` is typed as `Object` in `Authentication` which makes your expressions very fragile: you can get absolutely any type of data as principal (depending on the type of authentication in the security context) and there are cases where you don&#39;t really control it (for instance with the `AnonymousAuthenticationToken` instance you currently have because of unauthorized request).\r\n\r\nHowever, `JwtAuthenticationToken::getName` returns subject (`sub` claim), so you&#39;ll still have to provide your own `Authentication` implementation for successful authorizations to return `preferred_username` in a new @Override of `getName()`. `MyAuthentication` would then be:\r\n```java\r\npublic class MyAuthentication extends JwtAuthenticationToken {\r\n\tpublic MyAuthentication(Jwt jwt, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\t\tsuper(jwt, authorities);\r\n\t}\r\n\t\r\n\t//Note that this time getName() is overriden instead of getPrincipal()\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\r\n\t}\t\r\n}\r\n```\r\nUse the same `Jwt2AuthenticationConverter` bean to switch from default `JwtAuthenticationToken` to `MyAuthentication` in case of successful request authorization. \r\n\r\n  [1]: https://stackoverflow.com/a/74572732/619830","title":"Spring Boot with Spring Security and Keycloak only providing Anonymous Authentication Token","body":"<p>There is no chance you get any info about current user from <code>AnonymousAuthenticationToken</code>: this implementation of <code>Authentication</code> is put in security-context when the request was not successfully authorized (user could not be identified). This means that either:</p>\n<ul>\n<li>the wrong type of authorization (or no authorization at all) is attached to the request. This is the case for instance when an Bearer access token is provided but a session expected</li>\n<li><code>SecurityFilterChain</code> bean(s) is (or are) misconfigured.</li>\n</ul>\n<p>A quite common mistake lately is to write <strong>client configuration</strong> and then then send requests with <code>Bearer</code> header. When OAuth2 client conf (with <code>oauth2Login</code>) is used, incoming requests are authorized with session cookies, not access token. If you want the requests to your REST API be authorized with access tokens provided in a <code>Bearer</code> Authorization header, then you have to configure it as a <strong>resource-server</strong>.</p>\n<p>Another common mistake relates to apps needing more than one authorization mechanism (OAuth2 client, OAuth2 resource server, Basic, etc.). In such cases, you should provide with a filter-chain bean for each. But if one of the first in <code>@Order</code>intercepts a request it shouldn't (misconfigured <code>securityMatcher</code>), then the security context initialization fails.</p>\n<p>For basic info on how to configure Spring-boot 3 resource-server and client with Keycloak, see my answer to this question: <a href=\"https://stackoverflow.com/a/74572732/619830\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n<p>Spring-security default <code>Authentication</code> for successful OAuth2 authorization in resource-servers is <code>JwtAuthenticationToken</code> which return a <code>Jwt</code> instance as <code>principal</code>. You can get any access-token claim from this <code>Jwt</code> instance. Here is a sample with <code>preferred_username</code>. Open an access-token in a tool like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">https://jwt.io</a> to find the name of the claim with the username value you are looking for (it could be as well <code>sub</code>, <code>email</code> or any private claim you configured in Keycloak)</p>\n<pre class=\"lang-java prettyprint-override\"><code>((Jwt) SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getClaims().get(StandardClaimNames.PREFERRED_USERNAME);\n</code></pre>\n<p>If you want <code>getPrincipal()</code> to return the username instead of a <code>Jwt</code> instance, you'll have to provide your own <code>Authentication</code> implementation. You might use <code>JwtAuthenticationToken</code> as a base (but this not the best option, see the note below):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAuthentication extends JwtAuthenticationToken {\n    public MyAuthentication(Jwt jwt, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(jwt, authorities);\n    }\n    \n    @Override\n    public String getPrincipal() {\n        return getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\n    }   \n}\n</code></pre>\n<p>Just adapt the <code>Jwt2AuthenticationConverter</code> from the answer I linked above</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jwt2AuthenticationConverter authenticationConverter(Jwt2AuthoritiesConverter authoritiesConverter) {\n    return jwt -&gt; new MyAuthentication(jwt, authoritiesConverter.convert(jwt));\n}\n</code></pre>\n<h1>Important note</h1>\n<p>You'd better use <code>authentication.getName()</code> instead of <code>authentication.getPrincipal()</code> to access username. <code>principal</code> is typed as <code>Object</code> in <code>Authentication</code> which makes your expressions very fragile: you can get absolutely any type of data as principal (depending on the type of authentication in the security context) and there are cases where you don't really control it (for instance with the <code>AnonymousAuthenticationToken</code> instance you currently have because of unauthorized request).</p>\n<p>However, <code>JwtAuthenticationToken::getName</code> returns subject (<code>sub</code> claim), so you'll still have to provide your own <code>Authentication</code> implementation for successful authorizations to return <code>preferred_username</code> in a new @Override of <code>getName()</code>. <code>MyAuthentication</code> would then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAuthentication extends JwtAuthenticationToken {\n    public MyAuthentication(Jwt jwt, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(jwt, authorities);\n    }\n    \n    //Note that this time getName() is overriden instead of getPrincipal()\n    @Override\n    public String getName() {\n        return getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\n    }   \n}\n</code></pre>\n<p>Use the same <code>Jwt2AuthenticationConverter</code> bean to switch from default <code>JwtAuthenticationToken</code> to <code>MyAuthentication</code> in case of successful request authorization.</p>\n"}],"owner":{"account_id":16708758,"reputation":13,"user_id":12076548,"display_name":"jonathan-lee-devel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1989,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75108605,"answer_count":1,"score":0,"last_activity_date":1693585699,"creation_date":1673573355,"question_id":75103990,"body_markdown":"so I followed a guide which set up Keycloak to secure my Spring Boot REST API with Spring Security. Previously, my application relied on a standard user details service to authenticate users. My code relies on being able to access the currently logged-in user&#39;s username. However, now that I switched to Keycloak, I only receive the username &#39;anonymousUser&#39;.\r\n\r\nHow do I configure this correctly for the following code to return the preferred username:\r\n\r\n\r\n`public static String getCurrentUsername() { `\r\n\r\n`return (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal(); `\r\n\r\n`}`\r\n\r\nI tried to modify the configuration of the client and user on Keycloak, but even for example, adding roles has no effect. Spring Boot only returns the role of [ANONYMOUS_USER].","title":"Spring Boot with Spring Security and Keycloak only providing Anonymous Authentication Token","body":"<p>so I followed a guide which set up Keycloak to secure my Spring Boot REST API with Spring Security. Previously, my application relied on a standard user details service to authenticate users. My code relies on being able to access the currently logged-in user's username. However, now that I switched to Keycloak, I only receive the username 'anonymousUser'.</p>\n<p>How do I configure this correctly for the following code to return the preferred username:</p>\n<p><code>public static String getCurrentUsername() { </code></p>\n<p><code>return (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal(); </code></p>\n<p><code>}</code></p>\n<p>I tried to modify the configuration of the client and user on Keycloak, but even for example, adding roles has no effect. Spring Boot only returns the role of [ANONYMOUS_USER].</p>\n"},{"tags":["java","tree","xul","zk"],"answers":[{"tags":[],"owner":{"account_id":1994592,"reputation":3290,"user_id":1787809,"accept_rate":78,"display_name":"Nabil A."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1359445889,"creation_date":1359445889,"answer_id":14578045,"question_id":14577824,"body_markdown":"Use \r\n\r\n    setMultiple(true)\r\n\r\non the model instance returned by `vm.employeeTreeModel` not the tree it self.&lt;br&gt;\r\n\r\nIf you want just some to be checkable, change this\r\n\r\n    &lt;treeitem checkable=&quot;true&quot;&gt;\r\n\r\nto something like that\r\n\r\n    &lt;treeitem checkable=&quot;@load(node.checkable)&quot;&gt;","title":"I want to show checkboxes for selected tree nodes only but I am getting radiobuttons for every element in the tree","body":"<p>Use </p>\n\n<pre><code>setMultiple(true)\n</code></pre>\n\n<p>on the model instance returned by <code>vm.employeeTreeModel</code> not the tree it self.<br></p>\n\n<p>If you want just some to be checkable, change this</p>\n\n<pre><code>&lt;treeitem checkable=\"true\"&gt;\n</code></pre>\n\n<p>to something like that</p>\n\n<pre><code>&lt;treeitem checkable=\"@load(node.checkable)\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13091561,"reputation":962,"user_id":9458852,"display_name":"amarildo.xyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693585027,"creation_date":1693585027,"answer_id":77024636,"question_id":14577824,"body_markdown":"With the help of @Nabil A. answer, I found out that if you&#39;re using TreeitemRenderer, you need to set multiples like this:\r\n\r\n    public class MyItemRenderer implements TreeitemRenderer&lt;DefaultTreeNode&lt;MyObj&gt;&gt; {\r\n        public void render(final Treeitem item, DefaultTreeNode&lt;MyObj&gt; data, int index) {\r\n            data.getModel().setMultiple(true);\r\n            //rest of the code...\r\n        }\r\n    }","title":"I want to show checkboxes for selected tree nodes only but I am getting radiobuttons for every element in the tree","body":"<p>With the help of @Nabil A. answer, I found out that if you're using TreeitemRenderer, you need to set multiples like this:</p>\n<pre><code>public class MyItemRenderer implements TreeitemRenderer&lt;DefaultTreeNode&lt;MyObj&gt;&gt; {\n    public void render(final Treeitem item, DefaultTreeNode&lt;MyObj&gt; data, int index) {\n        data.getModel().setMultiple(true);\n        //rest of the code...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":302612,"reputation":956,"user_id":611077,"accept_rate":86,"display_name":"Jatin Sehgal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14578045,"answer_count":2,"score":0,"last_activity_date":1693585027,"creation_date":1359444831,"question_id":14577824,"body_markdown":"Here is my code \r\n\r\n\r\n    &lt;?page title=&quot;MVVM Tree POC&quot;?&gt;\r\n    &lt;zk&gt;\r\n    \t&lt;borderlayout height=&quot;800px&quot;&gt;\r\n    \t\t&lt;west size=&quot;25%&quot;&gt;&lt;/west&gt;\r\n    \t\t&lt;center&gt;\r\n    \t\t\t&lt;window apply=&quot;org.zkoss.bind.BindComposer&quot;\r\n    \t\t\t\tviewModel=&quot;@id(&#39;vm&#39;) @init(&#39;com.nagarro.controller.TreeController&#39;)&quot;\r\n    \t\t\t\ttitle=&quot;Dynamic Tree&quot; border=&quot;normal&quot;&gt;\r\n    \t\t\t\t&lt;tree multiple=&quot;true&quot; checkmark=&quot;true&quot; rows=&quot;5&quot;\r\n    \t\t\t\t\tmodel=&quot;@bind(vm.employeeTreeModel)&quot;&gt;\r\n    \t\t\t\t\t&lt;treecols&gt;\r\n    \t\t\t\t\t\t&lt;treecol label=&quot;First Name&quot; align=&quot;center&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;treecol label=&quot;Last Name&quot; align=&quot;center&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;treecol label=&quot;Age&quot; align=&quot;center&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;treecol label=&quot;Index&quot; align=&quot;center&quot; /&gt;\r\n    \t\t\t\t\t&lt;/treecols&gt;\r\n    \t\t\t\t\t&lt;template name=&quot;model&quot; var=&quot;node&quot; status=&quot;s&quot;&gt;\r\n    \t\t\t\t\t\t&lt;treeitem checkable=&quot;true&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;treerow style=&quot;text-align:center;&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;treecell\r\n    \t\t\t\t\t\t\t\t\tlabel=&quot;@bind(node.data.firstName)&quot; style=&quot;text-align:left;&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t&lt;treecell\r\n    \t\t\t\t\t\t\t\t\tlabel=&quot;@bind(node.data.lastName)&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t&lt;treecell label=&quot;@bind(node.data.age)&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t&lt;treecell label=&quot;@bind(s.index)&quot; /&gt;\r\n    \t\t\t\t\t\t\t&lt;/treerow&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;/treeitem&gt;\r\n    \t\t\t\t\t&lt;/template&gt;\r\n    \t\t\t\t&lt;/tree&gt;\r\n    \r\n    \t\t\t&lt;/window&gt;\r\n    \t\t&lt;/center&gt;\r\n    \t&lt;/borderlayout&gt;\r\n    &lt;/zk&gt;\r\n\r\nI checked the zkoss [reference][1] for the multiple selection property and made the necessary changes in the above zul file. Still it doesnt show checkboxes. Instead it shows only radiobuttons. \r\n\r\n**Also, I want to show checkboxes in front of some selected tree nodes and not all of them.** \r\n\r\n\r\n  [1]: http://books.zkoss.org/wiki/ZK_Component_Reference/Data/Tree","title":"I want to show checkboxes for selected tree nodes only but I am getting radiobuttons for every element in the tree","body":"<p>Here is my code </p>\n\n<pre><code>&lt;?page title=\"MVVM Tree POC\"?&gt;\n&lt;zk&gt;\n    &lt;borderlayout height=\"800px\"&gt;\n        &lt;west size=\"25%\"&gt;&lt;/west&gt;\n        &lt;center&gt;\n            &lt;window apply=\"org.zkoss.bind.BindComposer\"\n                viewModel=\"@id('vm') @init('com.nagarro.controller.TreeController')\"\n                title=\"Dynamic Tree\" border=\"normal\"&gt;\n                &lt;tree multiple=\"true\" checkmark=\"true\" rows=\"5\"\n                    model=\"@bind(vm.employeeTreeModel)\"&gt;\n                    &lt;treecols&gt;\n                        &lt;treecol label=\"First Name\" align=\"center\" /&gt;\n                        &lt;treecol label=\"Last Name\" align=\"center\" /&gt;\n                        &lt;treecol label=\"Age\" align=\"center\" /&gt;\n                        &lt;treecol label=\"Index\" align=\"center\" /&gt;\n                    &lt;/treecols&gt;\n                    &lt;template name=\"model\" var=\"node\" status=\"s\"&gt;\n                        &lt;treeitem checkable=\"true\"&gt;\n                            &lt;treerow style=\"text-align:center;\"&gt;\n                                &lt;treecell\n                                    label=\"@bind(node.data.firstName)\" style=\"text-align:left;\" /&gt;\n                                &lt;treecell\n                                    label=\"@bind(node.data.lastName)\" /&gt;\n                                &lt;treecell label=\"@bind(node.data.age)\" /&gt;\n                                &lt;treecell label=\"@bind(s.index)\" /&gt;\n                            &lt;/treerow&gt;\n\n                        &lt;/treeitem&gt;\n                    &lt;/template&gt;\n                &lt;/tree&gt;\n\n            &lt;/window&gt;\n        &lt;/center&gt;\n    &lt;/borderlayout&gt;\n&lt;/zk&gt;\n</code></pre>\n\n<p>I checked the zkoss <a href=\"http://books.zkoss.org/wiki/ZK_Component_Reference/Data/Tree\" rel=\"nofollow\">reference</a> for the multiple selection property and made the necessary changes in the above zul file. Still it doesnt show checkboxes. Instead it shows only radiobuttons. </p>\n\n<p><strong>Also, I want to show checkboxes in front of some selected tree nodes and not all of them.</strong> </p>\n"},{"tags":["java","docker","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1583928608,"creation_date":1583928608,"answer_id":60635732,"question_id":60635350,"body_markdown":"Elasticsearch does some bootstrap checks on startup. If you want to start it as a single node in Docker, you need to disable these, or it will not open the TCP/IP port.\r\n\r\nThis can be done by specifying an environment parameter: **discovery.type=single-node**.\r\n\r\n    services:\r\n      es:\r\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.6.1\r\n        ports:\r\n          - &quot;9200:9200&quot;\r\n          - &quot;9300:9300&quot;\r\n        environment:\r\n          - discovery.type=single-node","title":"Connection Refused connecting from docker to Elasticsearch docker container","body":"<p>Elasticsearch does some bootstrap checks on startup. If you want to start it as a single node in Docker, you need to disable these, or it will not open the TCP/IP port.</p>\n\n<p>This can be done by specifying an environment parameter: <strong>discovery.type=single-node</strong>.</p>\n\n<pre><code>services:\n  es:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.6.1\n    ports:\n      - \"9200:9200\"\n      - \"9300:9300\"\n    environment:\n      - discovery.type=single-node\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5151805,"reputation":53,"user_id":4126218,"display_name":"codediesel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693584076,"creation_date":1693584076,"answer_id":77024552,"question_id":60635350,"body_markdown":"On new version you need to disable the \r\nxpack.security.enabled=false\r\n\r\n    services:\r\n       elasticsearch:\r\n       image: docker.elastic.co/elasticsearch/elasticsearch:8.4.3\r\n       container_name: elasticsearch\r\n       environment:\r\n         - cluster.name=es\r\n         - discovery.type=single-node\r\n         - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;\r\n         - xpack.security.enabled=false\r\n      ports:\r\n        - 9200:9200\r\n        - 9300:9300\r\n      volumes:\r\n         - ./esdata-8:/var/lib/elasticsearch/data\r\n\r\n\r\n","title":"Connection Refused connecting from docker to Elasticsearch docker container","body":"<p>On new version you need to disable the\nxpack.security.enabled=false</p>\n<pre><code>services:\n   elasticsearch:\n   image: docker.elastic.co/elasticsearch/elasticsearch:8.4.3\n   container_name: elasticsearch\n   environment:\n     - cluster.name=es\n     - discovery.type=single-node\n     - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;\n     - xpack.security.enabled=false\n  ports:\n    - 9200:9200\n    - 9300:9300\n  volumes:\n     - ./esdata-8:/var/lib/elasticsearch/data\n</code></pre>\n"}],"owner":{"account_id":13369561,"reputation":181,"user_id":9648495,"display_name":"WhiteW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10782,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":60635732,"answer_count":2,"score":12,"last_activity_date":1693584076,"creation_date":1583927357,"question_id":60635350,"body_markdown":"I am trying to access Elasticsearch database inside a container from a Java application which is also inside a container.\r\n\r\nBoth of them are in the following docker-compose.yml:\r\n\r\n    version: &quot;3.7&quot;\r\n    services:\r\n      es:\r\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.6.1\r\n        ports:\r\n          - &quot;9200:9200&quot;\r\n          - &quot;9300:9300&quot;\r\n        networks:\r\n          - elastic\r\n    \r\n      java-app:\r\n        image: neileen/dockerhub_app:java-latest\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        depends_on:\r\n          - es\r\n        networks:\r\n          - elastic\r\n    \r\n    networks:\r\n      elastic:\r\n        driver: bridge\r\n\r\nAs you can see, I use a bridge network to make the containers visible and accessible to one another.\r\n\r\nIn my Java Application I use RestHighLevelClient:\r\n\r\n    RestHighLevelClient client = new RestHighLevelClient(\r\n                        RestClient.builder(\r\n                                new HttpHost(&quot;es&quot;, 9200, &quot;http&quot;)));\r\n\r\nI also tried using &quot;localhost&quot; and &quot;0.0.0.0&quot; as the hostname instead of &quot;es&quot; with no result.\r\n\r\nThe exception that I keep getting is:\r\n\r\n    java-app_1     | The cluster is unhealthy: Connection refused\r\n    java-app_1     | java.net.ConnectException: Connection refused\r\n    java-app_1     |        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:804)\r\n    java-app_1     |        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:225)\r\n    java-app_1     |        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:212)\r\n\r\nI am aware that this is a problem related to the port 9200 not being visible inside the java-app container but I do not know where the problem is as I already provided a custom network and used the container name as the hostname.\r\n\r\nNote\r\n\r\n&gt; ES is accessible through &quot;http://localhost:9200&quot;\r\n\r\nThank you in advance.\r\n\r\n","title":"Connection Refused connecting from docker to Elasticsearch docker container","body":"<p>I am trying to access Elasticsearch database inside a container from a Java application which is also inside a container.</p>\n\n<p>Both of them are in the following docker-compose.yml:</p>\n\n<pre><code>version: \"3.7\"\nservices:\n  es:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.6.1\n    ports:\n      - \"9200:9200\"\n      - \"9300:9300\"\n    networks:\n      - elastic\n\n  java-app:\n    image: neileen/dockerhub_app:java-latest\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - es\n    networks:\n      - elastic\n\nnetworks:\n  elastic:\n    driver: bridge\n</code></pre>\n\n<p>As you can see, I use a bridge network to make the containers visible and accessible to one another.</p>\n\n<p>In my Java Application I use RestHighLevelClient:</p>\n\n<pre><code>RestHighLevelClient client = new RestHighLevelClient(\n                    RestClient.builder(\n                            new HttpHost(\"es\", 9200, \"http\")));\n</code></pre>\n\n<p>I also tried using \"localhost\" and \"0.0.0.0\" as the hostname instead of \"es\" with no result.</p>\n\n<p>The exception that I keep getting is:</p>\n\n<pre><code>java-app_1     | The cluster is unhealthy: Connection refused\njava-app_1     | java.net.ConnectException: Connection refused\njava-app_1     |        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:804)\njava-app_1     |        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:225)\njava-app_1     |        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:212)\n</code></pre>\n\n<p>I am aware that this is a problem related to the port 9200 not being visible inside the java-app container but I do not know where the problem is as I already provided a custom network and used the container name as the hostname.</p>\n\n<p>Note</p>\n\n<blockquote>\n  <p>ES is accessible through \"<a href=\"http://localhost:9200\" rel=\"noreferrer\">http://localhost:9200</a>\"</p>\n</blockquote>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","mysql","hibernate","date","jpa"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1417527173,"post_id":27250720,"comment_id":42975510,"body_markdown":"Could you provide the `hotels` table schema (i.e. the `CREATE TABLE hotels...` query)?","body":"Could you provide the <code>hotels</code> table schema (i.e. the <code>CREATE TABLE hotels...</code> query)?"},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1417527418,"post_id":27250720,"comment_id":42975670,"body_markdown":"Could you provide the MySql table description?","body":"Could you provide the MySql table description?"},{"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"score":1,"creation_date":1417527532,"post_id":27250720,"comment_id":42975735,"body_markdown":"It could be about java.util.Date. Maybe this post helps you http://stackoverflow.com/questions/2305973/java-util-date-vs-java-sql-date","body":"It could be about java.util.Date. Maybe this post helps you <a href=\"http://stackoverflow.com/questions/2305973/java-util-date-vs-java-sql-date\" title=\"java util date vs java sql date\">stackoverflow.com/questions/2305973/&hellip;</a>"},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":2,"creation_date":1417527628,"post_id":27250720,"comment_id":42975799,"body_markdown":"try using java.sql.Date please and lemme know if it helped","body":"try using java.sql.Date please and lemme know if it helped"},{"owner":{"account_id":5046430,"reputation":309,"user_id":4052277,"accept_rate":50,"display_name":"Cooler"},"score":0,"creation_date":1417528061,"post_id":27250720,"comment_id":42976028,"body_markdown":"changed field in entity to java.sql.Date and added it to query, doesnt help :(  I guess Mysql gets date in another format, for instance: (dd-mm-yyyy)","body":"changed field in entity to java.sql.Date and added it to query, doesnt help :(  I guess Mysql gets date in another format, for instance: (dd-mm-yyyy)"},{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":0,"creation_date":1417528565,"post_id":27250720,"comment_id":42976361,"body_markdown":"The `@Id` annotation on many columns including the `Date` field? Did you decorate the `Date` field by the `@Temporal` annotation such as `@Temporal(TemporalType.Timestamp)` or `@Temporal(TemporalType.DATE)` in your real code?","body":"The <code>@Id</code> annotation on many columns including the <code>Date</code> field? Did you decorate the <code>Date</code> field by the <code>@Temporal</code> annotation such as <code>@Temporal(TemporalType.Timestamp)</code> or <code>@Temporal(TemporalType.DATE)</code> in your real code?"},{"owner":{"account_id":5046430,"reputation":309,"user_id":4052277,"accept_rate":50,"display_name":"Cooler"},"score":0,"creation_date":1417528843,"post_id":27250720,"comment_id":42976534,"body_markdown":"nope! Let me check it.","body":"nope! Let me check it."},{"owner":{"account_id":5046430,"reputation":309,"user_id":4052277,"accept_rate":50,"display_name":"Cooler"},"score":0,"creation_date":1417529781,"post_id":27250720,"comment_id":42977147,"body_markdown":"Should i write my field as String but add a @Temporal(TemporalType.DATE)?\n\nI changed my field to java.util.Date and add this annotation, still doesnt work","body":"Should i write my field as String but add a @Temporal(TemporalType.DATE)?  I changed my field to java.util.Date and add this annotation, still doesnt work"},{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":0,"creation_date":1417530257,"post_id":27250720,"comment_id":42977464,"body_markdown":"It is `Date` (not `String`). This should work unless other concerns (like some configurations) are involved. http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Temporal.2C_Dates.2C_Times.2C_Timestamps_and_Calendars","body":"It is <code>Date</code> (not <code>String</code>). This should work unless other concerns (like some configurations) are involved. <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Temporal.2C_Dates.2C_Times.2C_Timestamps_and_Calendars\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/&hellip;</a>"},{"owner":{"account_id":5046430,"reputation":309,"user_id":4052277,"accept_rate":50,"display_name":"Cooler"},"score":0,"creation_date":1417532353,"post_id":27250720,"comment_id":42978805,"body_markdown":"Ok, i checked it on another table, it works even with java.util.Date.\nI didnt mention, that im using 3 parameters in primary key, therefore i have three id annotation. I will add more details to my topic.","body":"Ok, i checked it on another table, it works even with java.util.Date. I didnt mention, that im using 3 parameters in primary key, therefore i have three id annotation. I will add more details to my topic."},{"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"score":0,"creation_date":1417532374,"post_id":27250720,"comment_id":42978820,"body_markdown":"Does your JDBC-URL contain `useServerPrepStmts=true`? Try changing it to `useServerPrepStmts=false` and if possible post the URL/Params. See http://stackoverflow.com/a/25135670/1266906","body":"Does your JDBC-URL contain <code>useServerPrepStmts=true</code>? Try changing it to <code>useServerPrepStmts=false</code> and if possible post the URL/Params. See <a href=\"http://stackoverflow.com/a/25135670/1266906\">stackoverflow.com/a/25135670/1266906</a>"},{"owner":{"account_id":2307160,"reputation":358,"user_id":2026214,"display_name":"Jama Djafarov"},"score":0,"creation_date":1417533137,"post_id":27250720,"comment_id":42979290,"body_markdown":"I think Tiny is right. 1) Keep java.utils.Date; 2) add @Temporal(TemporalType.DATE); 3) enable SQL trace to see the actual SQL statement.","body":"I think Tiny is right. 1) Keep java.utils.Date; 2) add @Temporal(TemporalType.DATE); 3) enable SQL trace to see the actual SQL statement."}],"answers":[{"tags":[],"owner":{"account_id":5025776,"reputation":1,"user_id":4037815,"display_name":"Kaushik Gopalakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417535041,"creation_date":1417535041,"answer_id":27253355,"question_id":27250720,"body_markdown":"If you are using Java date, your named parameter day  is set as Date with time stamp. So for confirming this, enable the hibernate logs to print sql parameters value\r\n\r\nlog4j.logger.org.hibernate.type=trace\r\n\r\nReference : https://stackoverflow.com/questions/1710476/print-query-string-in-hibernate-with-parameter-values\r\n\r\n\r\nYou can try to use the below query:\r\n&quot;Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=DATE_FORMAT(:day,format)&quot;\r\n\r\n\r\nThe disadvantage of using the DATE_FORMAT function will have performance hit in your records retrieval if you have millions of records in hotels table.\r\n\r\nSo converting to string in java level and setting the same in named parameter is better option.\r\n\r\n\r\n","title":"query with date using entity manager","body":"<p>If you are using Java date, your named parameter day  is set as Date with time stamp. So for confirming this, enable the hibernate logs to print sql parameters value</p>\n\n<p>log4j.logger.org.hibernate.type=trace</p>\n\n<p>Reference : <a href=\"https://stackoverflow.com/questions/1710476/print-query-string-in-hibernate-with-parameter-values\">How to print a query string with parameter values when using Hibernate</a></p>\n\n<p>You can try to use the below query:\n\"Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=DATE_FORMAT(:day,format)\"</p>\n\n<p>The disadvantage of using the DATE_FORMAT function will have performance hit in your records retrieval if you have millions of records in hotels table.</p>\n\n<p>So converting to string in java level and setting the same in named parameter is better option.</p>\n"}],"owner":{"account_id":5046430,"reputation":309,"user_id":4052277,"accept_rate":50,"display_name":"Cooler"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693584065,"creation_date":1417527065,"question_id":27250720,"body_markdown":"**Backgound: i use JPA (hibernate impl) + spring**\r\nI have two tables, the first one is ok, it has one primary key and it works even with java.Util.Date fields. Another one has 3 parameters in primary key(it is first time i work with it):\r\n\r\n    PRIMARY KEY (`id_room`,`id_hotel`,`day`),\r\n\r\nFull schema:\r\n\r\n    CREATE TABLE `hotels` (\r\n      `id_room` int(11) NOT NULL DEFAULT &#39;0&#39;,\r\n      `id_hotel` int(11) NOT NULL DEFAULT &#39;0&#39;,\r\n      `day` date NOT NULL,\r\n      PRIMARY KEY (`id_room`,`id_hotel`,`day`),\r\n      KEY `id_hotel` (`id_hotel`,`day`),\r\n      KEY `day` (`day`),\r\n      KEY `day-hotel` (`day`,`id_hotel`),\r\n      KEY `hotel` (`id_hotel`)\r\n    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;\r\n\r\nSo i added code to my Entity:\r\n\r\n    @Entity @IdClass(HotelId.class)\r\n    @Table(name=&quot;hotels&quot;)\r\n    public class Hotels implements Serializable {\r\n        private static final Long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Column(name=&quot;id_room&quot;)\r\n        private int roomId;\r\n        @Id\r\n        @Column(name=&quot;id_hotel&quot;)\r\n        private int hotelId;\r\n        @Id\r\n        @Temporal(TemporalType.DATE)\r\n        private Date day;\r\n    ....\r\n\r\n**HotelId.class**\r\n\r\n    public class HotelId implements Serializable {\r\n        private int roomId;\r\n        private int hotelId;\r\n        private Date day;\r\n    \r\n        public HotelId() {\r\n        }\r\n    \r\n        public HotelId(int roomId, int hotelId, Date day) {\r\n            this.roomId = roomId;\r\n            this.hotelId = hotelId;\r\n            this.day = day;\r\n        }\r\n    \r\n        public int getRoomId() {\r\n            return roomId;\r\n        }\r\n    \r\n        public int getHotelId() {\r\n            return hotelId;\r\n        }\r\n    \r\n        public Date getDay() {\r\n            return day;\r\n        }\r\n    }\r\n\r\nWith this entity i stuck for a long time:\r\n\r\nI spent almost all day today for this problem.\r\nI have database with date column in format(yyyy-mm-dd).\r\nI also have entity class in project with java.util.Date date field.\r\nNow i&#39;m trying to make a select:\r\n\r\n    TypedQuery query = em.createQuery(&quot;Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day&quot;, Hotels.class);\r\n    query.setParameter(&quot;roomId&quot;, roomId);\r\n    query.setParameter(&quot;hotelId&quot;, hotelId);\r\n    query.setParameter(&quot;day&quot;, date);\r\n\r\nIt says there is no data\r\n\r\nNow i change date field from java.util.Date to String and change my query:\r\n\r\n    TypedQuery query = em.createQuery(&quot;Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day&quot;, Hotels.class);\r\n    query.setParameter(&quot;roomId&quot;, roomId);\r\n    query.setParameter(&quot;hotelId&quot;, hotelId);\r\n    query.setParameter(&quot;day&quot;, new SimpleDateFormat(&quot;yyyy-mm-dd&quot;).format(date));\r\n\r\nIt finds data.\r\n\r\nThe question is how to send date(java.util.Date) to MySql DB and get back an information?\r\n\r\nUpdate:\r\n----\r\n\r\nIt doesnt work also\r\n\r\n    @Entity \r\n        @Table(name=&quot;hotels&quot;)\r\n        public class Hotels implements Serializable {\r\n            private static final Long serialVersionUID = 1L;\r\n        \r\n            @Id\r\n            private int id;\r\n            @Column(name=&quot;id_room&quot;)\r\n            private int roomId;\r\n           \r\n            @Column(name=&quot;id_hotel&quot;)\r\n            private int hotelId;\r\n       \r\n            private java.sql.Date day;\r\n            ....\r\n        }\r\n\r\nQuery:\r\n\r\n        java.sql.Date sqlDate = new java.sql.Date(day.getTime());\r\n        TypedQuery query = em.createQuery(&quot;Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day&quot;, Hotels.class);\r\n    query.setParameter(&quot;roomId&quot;, roomId);\r\n    query.setParameter(&quot;hotelId&quot;, hotelId);\r\n                query.setParameter(&quot;day&quot;, sqlDate);\r\n","title":"query with date using entity manager","body":"<p><strong>Backgound: i use JPA (hibernate impl) + spring</strong>\nI have two tables, the first one is ok, it has one primary key and it works even with java.Util.Date fields. Another one has 3 parameters in primary key(it is first time i work with it):</p>\n\n<pre><code>PRIMARY KEY (`id_room`,`id_hotel`,`day`),\n</code></pre>\n\n<p>Full schema:</p>\n\n<pre><code>CREATE TABLE `hotels` (\n  `id_room` int(11) NOT NULL DEFAULT '0',\n  `id_hotel` int(11) NOT NULL DEFAULT '0',\n  `day` date NOT NULL,\n  PRIMARY KEY (`id_room`,`id_hotel`,`day`),\n  KEY `id_hotel` (`id_hotel`,`day`),\n  KEY `day` (`day`),\n  KEY `day-hotel` (`day`,`id_hotel`),\n  KEY `hotel` (`id_hotel`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>So i added code to my Entity:</p>\n\n<pre><code>@Entity @IdClass(HotelId.class)\n@Table(name=\"hotels\")\npublic class Hotels implements Serializable {\n    private static final Long serialVersionUID = 1L;\n\n    @Id\n    @Column(name=\"id_room\")\n    private int roomId;\n    @Id\n    @Column(name=\"id_hotel\")\n    private int hotelId;\n    @Id\n    @Temporal(TemporalType.DATE)\n    private Date day;\n....\n</code></pre>\n\n<p><strong>HotelId.class</strong></p>\n\n<pre><code>public class HotelId implements Serializable {\n    private int roomId;\n    private int hotelId;\n    private Date day;\n\n    public HotelId() {\n    }\n\n    public HotelId(int roomId, int hotelId, Date day) {\n        this.roomId = roomId;\n        this.hotelId = hotelId;\n        this.day = day;\n    }\n\n    public int getRoomId() {\n        return roomId;\n    }\n\n    public int getHotelId() {\n        return hotelId;\n    }\n\n    public Date getDay() {\n        return day;\n    }\n}\n</code></pre>\n\n<p>With this entity i stuck for a long time:</p>\n\n<p>I spent almost all day today for this problem.\nI have database with date column in format(yyyy-mm-dd).\nI also have entity class in project with java.util.Date date field.\nNow i'm trying to make a select:</p>\n\n<pre><code>TypedQuery query = em.createQuery(\"Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day\", Hotels.class);\nquery.setParameter(\"roomId\", roomId);\nquery.setParameter(\"hotelId\", hotelId);\nquery.setParameter(\"day\", date);\n</code></pre>\n\n<p>It says there is no data</p>\n\n<p>Now i change date field from java.util.Date to String and change my query:</p>\n\n<pre><code>TypedQuery query = em.createQuery(\"Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day\", Hotels.class);\nquery.setParameter(\"roomId\", roomId);\nquery.setParameter(\"hotelId\", hotelId);\nquery.setParameter(\"day\", new SimpleDateFormat(\"yyyy-mm-dd\").format(date));\n</code></pre>\n\n<p>It finds data.</p>\n\n<p>The question is how to send date(java.util.Date) to MySql DB and get back an information?</p>\n\n<h2>Update:</h2>\n\n<p>It doesnt work also</p>\n\n<pre><code>@Entity \n    @Table(name=\"hotels\")\n    public class Hotels implements Serializable {\n        private static final Long serialVersionUID = 1L;\n\n        @Id\n        private int id;\n        @Column(name=\"id_room\")\n        private int roomId;\n\n        @Column(name=\"id_hotel\")\n        private int hotelId;\n\n        private java.sql.Date day;\n        ....\n    }\n</code></pre>\n\n<p>Query:</p>\n\n<pre><code>    java.sql.Date sqlDate = new java.sql.Date(day.getTime());\n    TypedQuery query = em.createQuery(\"Select h FROM Hotels h where h.roomId=:roomId and h.hotelId=:hotelId and h.day=:day\", Hotels.class);\nquery.setParameter(\"roomId\", roomId);\nquery.setParameter(\"hotelId\", hotelId);\n            query.setParameter(\"day\", sqlDate);\n</code></pre>\n"},{"tags":["java","ant","junit"],"comments":[{"owner":{"account_id":2093164,"reputation":1242,"user_id":1862502,"accept_rate":81,"display_name":"Vignesh Vino"},"score":0,"creation_date":1368878644,"post_id":16624022,"comment_id":23902907,"body_markdown":"this may be helpful :http://stackoverflow.com/a/1792686/1862502","body":"this may be helpful :<a href=\"http://stackoverflow.com/a/1792686/1862502\">stackoverflow.com/a/1792686/1862502</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368879341,"creation_date":1368879005,"answer_id":16624094,"question_id":16624022,"body_markdown":"You need to put &quot;junit.jar&quot; on the classpath when you compile and then when you run the class.\r\n\r\nPlease refer to the manual entries for the [`java`][1] and [`javac`][2] commands, and also to the page on [setting the classpath][3].\r\n\r\nIf you are building from the command line using Ant, then you need to make sure that your &quot;build.xml&quot; sets the compilation classpath correctly.\r\n\r\n--------------\r\n\r\nYou will also need to add `import` statements to import any Junit 4 annotations that you use.  But you need to address the &quot;package org.junit does not exist&quot; issue first.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html","title":"Cannot find package org.junit when compiling java file in command prompt","body":"<p>You need to put \"junit.jar\" on the classpath when you compile and then when you run the class.</p>\n\n<p>Please refer to the manual entries for the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow\"><code>java</code></a> and <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html\" rel=\"nofollow\"><code>javac</code></a> commands, and also to the page on <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow\">setting the classpath</a>.</p>\n\n<p>If you are building from the command line using Ant, then you need to make sure that your \"build.xml\" sets the compilation classpath correctly.</p>\n\n<hr>\n\n<p>You will also need to add <code>import</code> statements to import any Junit 4 annotations that you use.  But you need to address the \"package org.junit does not exist\" issue first.</p>\n"},{"tags":[],"owner":{"account_id":3139392,"reputation":179,"user_id":2655146,"accept_rate":100,"display_name":"ski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376652707,"creation_date":1376652707,"answer_id":18272375,"question_id":16624022,"body_markdown":"I faced the same problem and added the Junit file path to the classpath and that solved it. Be aware that User Environment variable takes precedence over the system environment variable when the EV exists in both. ","title":"Cannot find package org.junit when compiling java file in command prompt","body":"<p>I faced the same problem and added the Junit file path to the classpath and that solved it. Be aware that User Environment variable takes precedence over the system environment variable when the EV exists in both. </p>\n"}],"owner":{"account_id":1270379,"reputation":177,"user_id":2272399,"accept_rate":78,"display_name":"user11998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12617,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1693584065,"creation_date":1368878460,"question_id":16624022,"body_markdown":"Whenever I run my java file in command prompt, I keep getting errors saying:\r\n\r\n    error: package org.junit does not exist\r\n    import static org.junit.Assert.*;\r\n\r\nThis also gives errors on symbols like &quot;@Test&quot;.\r\n\r\nHere&#39;s my java file code:\r\n\r\n    package org.example.antbook.junit; \r\n    //import required JUnit4 classes:\r\n    import static org.junit.Assert.*;\r\n    import org.junit.Test;\r\n    \r\n    public class SimpleTest\r\n    {\r\n        @Test    \r\n    \tpublic void testSomething() \r\n        {\r\n            assertTrue(&quot;MULTIPLICATION???&quot;, 4 == (2 * 2));\r\n        }\r\n    }\r\n\r\nI believe it is something to do with importing junit-4.10.jar which I have already imported, but I may be missing something.\r\nIs there a solution to this?","title":"Cannot find package org.junit when compiling java file in command prompt","body":"<p>Whenever I run my java file in command prompt, I keep getting errors saying:</p>\n\n<pre><code>error: package org.junit does not exist\nimport static org.junit.Assert.*;\n</code></pre>\n\n<p>This also gives errors on symbols like \"@Test\".</p>\n\n<p>Here's my java file code:</p>\n\n<pre><code>package org.example.antbook.junit; \n//import required JUnit4 classes:\nimport static org.junit.Assert.*;\nimport org.junit.Test;\n\npublic class SimpleTest\n{\n    @Test    \n    public void testSomething() \n    {\n        assertTrue(\"MULTIPLICATION???\", 4 == (2 * 2));\n    }\n}\n</code></pre>\n\n<p>I believe it is something to do with importing junit-4.10.jar which I have already imported, but I may be missing something.\nIs there a solution to this?</p>\n"},{"tags":["java","string","char"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1693507468,"post_id":77018361,"comment_id":135774052,"body_markdown":"Have you taken a look at this [question](https://stackoverflow.com/questions/1327355/is-there-a-java-function-which-parses-escaped-characters)?  It seems to cover your case with an Apache Commons method, if you are able to use that. Just realized that question is really old though, so maybe out of date.","body":"Have you taken a look at this <a href=\"https://stackoverflow.com/questions/1327355/is-there-a-java-function-which-parses-escaped-characters\">question</a>?  It seems to cover your case with an Apache Commons method, if you are able to use that. Just realized that question is really old though, so maybe out of date."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693534867,"post_id":77018361,"comment_id":135777171,"body_markdown":"@Nexevis The Answers on [that Question](https://stackoverflow.com/q/1327355/642706) are outdated. None use the new functionality built into Java 15+. See [my Answer](https://stackoverflow.com/a/77019207/642706) here for details.","body":"@Nexevis The Answers on <a href=\"https://stackoverflow.com/q/1327355/642706\">that Question</a> are outdated. None use the new functionality built into Java 15+. See <a href=\"https://stackoverflow.com/a/77019207/642706\">my Answer</a> here for details."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693522198,"creation_date":1693509336,"answer_id":77018680,"question_id":77018361,"body_markdown":"You can utilize the [`StringEscapeUtils`][1] class from the [Apache Commons Text library][2] to achieve your goal, this way:\r\n\r\n```java\r\nString str = &quot;\\\\t&quot;;\r\nString unescapedStr = StringEscapeUtils.unescapeJava(str);\r\nchar c = unescapedStr.charAt(0);\r\n```\r\n\r\nThe `StringEscapeUtils.unescapeJava` method converts escape sequences in a string to their corresponding characters. In this case, it will convert `\\\\t` to the tab character `&#39;\\t&#39;`.\r\n\r\nRemember to include the Apache Commons Text library in your project&#39;s dependencies!\r\n\r\nBut, if for some reason you don&#39;t want/can&#39;t use a library, you can do the `toChar` method this way:\r\n\r\n```java\r\npublic static char toChar(String str) {\r\n\tswitch (str) {\r\n\tcase &quot;\\\\t&quot;:\r\n\t\treturn &#39;\\t&#39;;\r\n\tcase &quot;\\\\b&quot;:\r\n\t\treturn &#39;\\b&#39;;\r\n\tcase &quot;\\\\n&quot;:\r\n\t\treturn &#39;\\n&#39;;\r\n\tcase &quot;\\\\r&quot;:\r\n\t\treturn &#39;\\r&#39;;\r\n\tcase &quot;\\\\f&quot;:\r\n\t\treturn &#39;\\f&#39;;\r\n\tcase &quot;\\\\&#39;&quot;:\r\n\t\treturn &#39;\\&#39;&#39;;\r\n\tcase &quot;\\\\\\&quot;&quot;:\r\n\t\treturn &#39;\\&quot;&#39;;\r\n\tcase &quot;\\\\\\\\&quot;:\r\n\t\treturn &#39;\\\\&#39;;\r\n\tdefault:\r\n\t\tthrow new IllegalArgumentException();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/overview-summary.html","title":"How to transform strings representing &#39;special&#39; characters to their character representation","body":"<p>You can utilize the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\"><code>StringEscapeUtils</code></a> class from the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/overview-summary.html\" rel=\"nofollow noreferrer\">Apache Commons Text library</a> to achieve your goal, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;\\\\t&quot;;\nString unescapedStr = StringEscapeUtils.unescapeJava(str);\nchar c = unescapedStr.charAt(0);\n</code></pre>\n<p>The <code>StringEscapeUtils.unescapeJava</code> method converts escape sequences in a string to their corresponding characters. In this case, it will convert <code>\\\\t</code> to the tab character <code>'\\t'</code>.</p>\n<p>Remember to include the Apache Commons Text library in your project's dependencies!</p>\n<p>But, if for some reason you don't want/can't use a library, you can do the <code>toChar</code> method this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static char toChar(String str) {\n    switch (str) {\n    case &quot;\\\\t&quot;:\n        return '\\t';\n    case &quot;\\\\b&quot;:\n        return '\\b';\n    case &quot;\\\\n&quot;:\n        return '\\n';\n    case &quot;\\\\r&quot;:\n        return '\\r';\n    case &quot;\\\\f&quot;:\n        return '\\f';\n    case &quot;\\\\'&quot;:\n        return '\\'';\n    case &quot;\\\\\\&quot;&quot;:\n        return '\\&quot;';\n    case &quot;\\\\\\\\&quot;:\n        return '\\\\';\n    default:\n        throw new IllegalArgumentException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693512747,"creation_date":1693512747,"answer_id":77019018,"question_id":77018361,"body_markdown":"The String class itself has a [translateEscapes](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes()) method which does this:\r\n\r\n    String str = &quot;\\\\t&quot;;\r\n    char c = str.translateEscapes().charAt(0);\r\n","title":"How to transform strings representing &#39;special&#39; characters to their character representation","body":"<p>The String class itself has a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\">translateEscapes</a> method which does this:</p>\n<pre><code>String str = &quot;\\\\t&quot;;\nchar c = str.translateEscapes().charAt(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693583427,"creation_date":1693515238,"answer_id":77019207,"question_id":77018361,"body_markdown":"## tl;dr\r\n\r\nIn Java 15+:\r\n\r\n```none\r\n    ( &quot;\\\\&quot; + &quot;t&quot; ).translateEscapes()  --&gt;  TAB character\r\n    ( &quot;\\\\&quot; + &quot;n&quot; ).translateEscapes()  --&gt;  LINE FEED character\r\n    ( &quot;\\\\&quot; + &quot;s&quot; ).translateEscapes()  --&gt;  SPACE character\r\n    …\r\n```\r\n\r\n\r\n## `String#translateEscapes`\r\n\r\nIn Java 15+, use [`String#translateEscapes`][1] method.\r\n\r\nThe `char` type has been essentially broken since Java 2, legacy since Java 5. Make a habit of using [code point][2] integers and `String` objects instead.\r\n\r\n```java\r\nfinal String input = &quot;\\\\&quot; + &quot;t&quot;;\r\nfinal String TAB = input.translateEscapes ( );\r\n```\r\n\r\nDump to console. Use code points to inspect actual contents of each string.\r\n\r\n```java\r\nSystem.out.println ( &quot;input = &quot; + input );\r\nSystem.out.println ( &quot;input code points = &quot; + Arrays.toString ( input.codePoints ( ).toArray ( ) ) );\r\nSystem.out.println ( &quot;TAB code points = &quot; + Arrays.toString ( TAB.codePoints ( ).toArray ( ) ) );\r\n```\r\n\r\nWhen run, we verify that we indeed began with a two-character string, a back-slash and a &quot;t&quot;. After our call, we transformed that input into a single TAB character with a code point of nine.\r\n\r\n```none\r\ninput = \\t\r\ninput code points = [92, 116]\r\nTAB code points = [9]\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes()\r\n  [2]: https://en.wikipedia.org/wiki/Code_point","title":"How to transform strings representing &#39;special&#39; characters to their character representation","body":"<h2>tl;dr</h2>\n<p>In Java 15+:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    ( &quot;\\\\&quot; + &quot;t&quot; ).translateEscapes()  --&gt;  TAB character\n    ( &quot;\\\\&quot; + &quot;n&quot; ).translateEscapes()  --&gt;  LINE FEED character\n    ( &quot;\\\\&quot; + &quot;s&quot; ).translateEscapes()  --&gt;  SPACE character\n    …\n</code></pre>\n<h2><code>String#translateEscapes</code></h2>\n<p>In Java 15+, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\"><code>String#translateEscapes</code></a> method.</p>\n<p>The <code>char</code> type has been essentially broken since Java 2, legacy since Java 5. Make a habit of using <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integers and <code>String</code> objects instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String input = &quot;\\\\&quot; + &quot;t&quot;;\nfinal String TAB = input.translateEscapes ( );\n</code></pre>\n<p>Dump to console. Use code points to inspect actual contents of each string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;input = &quot; + input );\nSystem.out.println ( &quot;input code points = &quot; + Arrays.toString ( input.codePoints ( ).toArray ( ) ) );\nSystem.out.println ( &quot;TAB code points = &quot; + Arrays.toString ( TAB.codePoints ( ).toArray ( ) ) );\n</code></pre>\n<p>When run, we verify that we indeed began with a two-character string, a back-slash and a &quot;t&quot;. After our call, we transformed that input into a single TAB character with a code point of nine.</p>\n<pre class=\"lang-none prettyprint-override\"><code>input = \\t\ninput code points = [92, 116]\nTAB code points = [9]\n</code></pre>\n"}],"owner":{"account_id":15481877,"reputation":1067,"user_id":11173594,"display_name":"136"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77019207,"answer_count":3,"score":1,"last_activity_date":1693583427,"creation_date":1693505954,"question_id":77018361,"body_markdown":"I want to turn two-character strings representing special non-printing characters, such as &quot;\\t&quot;,&quot;\\n&quot;,&quot;\\a&quot;,... into their single character representations. Is there any general way to do it (with general, I mean an alternative to explicitly translating each string into each character)?\r\n\r\nIdeal behavior (my strings are being read from a file. This is just an example):\r\n```java\r\nString str = &quot;\\\\t&quot;;\r\nchar c = toChar(str); // c now represents the tab character &#39;\\t&#39;\r\n```","title":"How to transform strings representing &#39;special&#39; characters to their character representation","body":"<p>I want to turn two-character strings representing special non-printing characters, such as &quot;\\t&quot;,&quot;\\n&quot;,&quot;\\a&quot;,... into their single character representations. Is there any general way to do it (with general, I mean an alternative to explicitly translating each string into each character)?</p>\n<p>Ideal behavior (my strings are being read from a file. This is just an example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;\\\\t&quot;;\nchar c = toChar(str); // c now represents the tab character '\\t'\n</code></pre>\n"},{"tags":["java","json","gson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566222199,"creation_date":1566222199,"answer_id":57557997,"question_id":57554373,"body_markdown":"This is a feature of Gson, it is actually documented but the documentation is a bit buried. Refer: [Gson.java][1]. The JSON deserialization final call is \r\n\r\n`public &lt;T&gt; T fromJson(JsonReader reader, Type typeOfT) throws JsonIOException, JsonSyntaxException`\r\n\r\nIn the body of the code, refer:\r\n\r\n    reader.setLenient(true);\r\n\r\nNow refer to [JsonReader.java][2]\r\n\r\n     public final void setLenient(boolean lenient)\r\n\r\nThe javadoc on the method states as follows:\r\n\r\n&gt; /**\r\n   * Configure this parser to be liberal in what it accepts. By default,\r\n   * this parser is strict and only accepts JSON as specified by &lt;a\r\n   * href=&quot;http://www.ietf.org/rfc/rfc4627.txt&quot;&gt;RFC 4627&lt;/a&gt;. Setting the\r\n   * parser to lenient causes it to ignore the following syntax errors:\r\n   *\r\n   * &lt;ul&gt;\r\n   *   &lt;li&gt;Streams that start with the &lt;a href=&quot;#nonexecuteprefix&quot;&gt;non-execute\r\n   *       prefix&lt;/a&gt;, &lt;code&gt;&quot;)]}&#39;\\n&quot;&lt;/code&gt;.\r\n   *   &lt;li&gt;Streams that include multiple top-level values. With strict parsing,\r\n   *       each stream must contain exactly one top-level value.\r\n   *   &lt;li&gt;Top-level values of any type. With strict parsing, the top-level\r\n   *       value must be an object or an array.\r\n   *   &lt;li&gt;Numbers may be {@link Double#isNaN() NaNs} or {@link\r\n   *       Double#isInfinite() infinities}.\r\n   *   &lt;li&gt;End of line comments starting with {@code //} or {@code #} and\r\n   *       ending with a newline character.\r\n   *   &lt;li&gt;C-style comments starting with {@code /*} and ending with\r\n   *       {@code *}{@code /}. Such comments may not be nested.\r\n   *   &lt;li&gt;Names that are unquoted or {@code &#39;single quoted&#39;}.\r\n   *   &lt;li&gt;Strings that are unquoted or {@code &#39;single quoted&#39;}.\r\n   *   &lt;li&gt;Array elements separated by {@code ;} instead of {@code ,}.\r\n   *   &lt;li&gt;Unnecessary array separators. These are interpreted as if null\r\n   *       was the omitted value.\r\n   *   &lt;li&gt;Names and values separated by {@code =} or {@code =&gt;} instead of\r\n   *       {@code :}.\r\n   *   &lt;li&gt;Name/value pairs separated by {@code ;} instead of {@code ,}.\r\n   * &lt;/ul&gt;\r\n   */\r\n\r\nThe above is the reason why Gson parses your string and deserializes the same.\r\n\r\nThe above would not work if your name/value (unquoted) have any &#39;:&#39;, reason being Gson would interpret (in your case)as name=[value or anotherName???]:value (Gson is not that lenient).\r\n\r\nUse proper valid JSON and de-serialize.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/Gson.java\r\n  [2]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/stream/JsonReader.java","title":"Gson Parser accepting toString Representation instead of Json syntax","body":"<p>This is a feature of Gson, it is actually documented but the documentation is a bit buried. Refer: <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/Gson.java\" rel=\"nofollow noreferrer\">Gson.java</a>. The JSON deserialization final call is </p>\n\n<p><code>public &lt;T&gt; T fromJson(JsonReader reader, Type typeOfT) throws JsonIOException, JsonSyntaxException</code></p>\n\n<p>In the body of the code, refer:</p>\n\n<pre><code>reader.setLenient(true);\n</code></pre>\n\n<p>Now refer to <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/stream/JsonReader.java\" rel=\"nofollow noreferrer\">JsonReader.java</a></p>\n\n<pre><code> public final void setLenient(boolean lenient)\n</code></pre>\n\n<p>The javadoc on the method states as follows:</p>\n\n<blockquote>\n  <p>/**\n     * Configure this parser to be liberal in what it accepts. By default,\n     * this parser is strict and only accepts JSON as specified by RFC 4627. Setting the\n     * parser to lenient causes it to ignore the following syntax errors:\n     *\n     * <ul>\n     *   <li>Streams that start with the non-execute\n     *       prefix, <code>\")]}'\\n\"</code>.\n     *   <li>Streams that include multiple top-level values. With strict parsing,\n     *       each stream must contain exactly one top-level value.\n     *   <li>Top-level values of any type. With strict parsing, the top-level\n     *       value must be an object or an array.\n     *   <li>Numbers may be {@link Double#isNaN() NaNs} or {@link\n     *       Double#isInfinite() infinities}.\n     *   <li>End of line comments starting with {@code //} or {@code #} and\n     *       ending with a newline character.\n     *   <li>C-style comments starting with {@code /*} and ending with\n     *       {@code *}{@code /}. Such comments may not be nested.\n     *   <li>Names that are unquoted or {@code 'single quoted'}.\n     *   <li>Strings that are unquoted or {@code 'single quoted'}.\n     *   <li>Array elements separated by {@code ;} instead of {@code ,}.\n     *   <li>Unnecessary array separators. These are interpreted as if null\n     *       was the omitted value.\n     *   <li>Names and values separated by {@code =} or {@code =>} instead of\n     *       {@code :}.\n     *   <li>Name/value pairs separated by {@code ;} instead of {@code ,}.\n     * </ul>\n     */</p>\n</blockquote>\n\n<p>The above is the reason why Gson parses your string and deserializes the same.</p>\n\n<p>The above would not work if your name/value (unquoted) have any ':', reason being Gson would interpret (in your case)as name=[value or anotherName???]:value (Gson is not that lenient).</p>\n\n<p>Use proper valid JSON and de-serialize.</p>\n"},{"tags":[],"owner":{"account_id":26322370,"reputation":1,"user_id":19984207,"display_name":"Mirey Mackey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693583169,"creation_date":1693583169,"answer_id":77024467,"question_id":57554373,"body_markdown":"You need a Gson with an enabled complex map key serialization.\r\n\r\n    new Gson().newBuilder().enableComplexMapKeySerialization().create();\r\n\r\nhttps://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()","title":"Gson Parser accepting toString Representation instead of Json syntax","body":"<p>You need a Gson with an enabled complex map key serialization.</p>\n<pre><code>new Gson().newBuilder().enableComplexMapKeySerialization().create();\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()</a></p>\n"}],"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693583169,"creation_date":1566208497,"question_id":57554373,"body_markdown":"While debugging a piece of code which deserialized string to Object,  i realised the JSON Parsing there is working with toString representation rather than json representation of the object.\r\n\r\nPojo:\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class Pojo {\r\n    \r\n        int a;\r\n        String b;\r\n    }\r\n\r\nParse Logic:\r\n\r\n    Gson gsonInstance =\r\n            new GsonBuilder()\r\n                    .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)\r\n                    .setDateFormat(&quot;yyyy-MM-dd&quot;)\r\n                    .create();\r\n    String json2 = &quot;{a=5, b=field}&quot;;\r\n    Pojo obj = gsonInstance.fromJson(json2, Pojo.class);\r\n\r\n    System.out.println(obj);\r\n\r\n\r\n\r\nThis started breaking when i added fields containing &quot;:&quot; to the Pojo. Like dates. \r\n\r\nTwo questions around this :\r\n1)How is Gson even supporting this? I couldn&#39;t find any doc. of the same.\r\n2)How do I handle the date related issue i mentioned earlier with this toString kind of implementation? I tried escaping the string for Java, that didn&#39;t help.","title":"Gson Parser accepting toString Representation instead of Json syntax","body":"<p>While debugging a piece of code which deserialized string to Object,  i realised the JSON Parsing there is working with toString representation rather than json representation of the object.</p>\n\n<p>Pojo:</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.Data;\n\n@Data\n@Builder\npublic class Pojo {\n\n    int a;\n    String b;\n}\n</code></pre>\n\n<p>Parse Logic:</p>\n\n<pre><code>Gson gsonInstance =\n        new GsonBuilder()\n                .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)\n                .setDateFormat(\"yyyy-MM-dd\")\n                .create();\nString json2 = \"{a=5, b=field}\";\nPojo obj = gsonInstance.fromJson(json2, Pojo.class);\n\nSystem.out.println(obj);\n</code></pre>\n\n<p>This started breaking when i added fields containing \":\" to the Pojo. Like dates. </p>\n\n<p>Two questions around this :\n1)How is Gson even supporting this? I couldn't find any doc. of the same.\n2)How do I handle the date related issue i mentioned earlier with this toString kind of implementation? I tried escaping the string for Java, that didn't help.</p>\n"},{"tags":["java","graphql-codegen"],"owner":{"account_id":20035444,"reputation":15,"user_id":14687279,"display_name":"DunderPiper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693582292,"creation_date":1693582292,"question_id":77024377,"body_markdown":"I have this java&#39;s field :\r\n\r\n    Optional&lt;List&lt;String&gt;&gt; randomVar\r\n\r\nAnd when i run a codegen the Typescript&#39;s result is:\r\n\r\n    InputMaybe&lt;randomVar&gt;\r\n\r\nHow can I avoid the List deletion?","title":"Is there a way to avoid codegen List deletion when Optional type is used","body":"<p>I have this java's field :</p>\n<pre><code>Optional&lt;List&lt;String&gt;&gt; randomVar\n</code></pre>\n<p>And when i run a codegen the Typescript's result is:</p>\n<pre><code>InputMaybe&lt;randomVar&gt;\n</code></pre>\n<p>How can I avoid the List deletion?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9785,"page":207,"page_size":100}
