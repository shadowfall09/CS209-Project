{"items":[{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570776627,"creation_date":1570776627,"answer_id":58335695,"question_id":50945923,"body_markdown":"**NOTE**: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.\r\n\r\nThe class responsible for naming the health indicator is called `HealthIndicatorNameFactory` and looks like this in Spring Boot 2.0.5.RELEASE:\r\n\r\n    public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String apply(String name) {\r\n    \t\tint index = name.toLowerCase(Locale.ENGLISH).indexOf(&quot;healthindicator&quot;);\r\n    \t\tif (index &gt; 0) {\r\n    \t\t\treturn name.substring(0, index);\r\n    \t\t}\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis means that if you name your `@Component` to (say) `@Component(&quot;fooBarHealthIndicator&quot;)` you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.","title":"(Re) name Spring Boot HealthIndicator","body":"<p><strong>NOTE</strong>: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.</p>\n\n<p>The class responsible for naming the health indicator is called <code>HealthIndicatorNameFactory</code> and looks like this in Spring Boot 2.0.5.RELEASE:</p>\n\n<pre><code>public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\n\n    @Override\n    public String apply(String name) {\n        int index = name.toLowerCase(Locale.ENGLISH).indexOf(\"healthindicator\");\n        if (index &gt; 0) {\n            return name.substring(0, index);\n        }\n        return name;\n    }\n\n}\n</code></pre>\n\n<p>This means that if you name your <code>@Component</code> to (say) <code>@Component(\"fooBarHealthIndicator\")</code> you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.</p>\n"},{"tags":[],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675360341,"creation_date":1675360341,"answer_id":75327112,"question_id":50945923,"body_markdown":"You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the `@Bean` annotation, as shown  below.\r\n\r\n```java\r\n@Configuration\r\npublic class HealthIndicatorConfiguration {\r\n    @Bean(&quot;MyServiceIndicator&quot;)\r\n    public HealthIndicator healthIndicatorForMyService() {\r\n        return new MyHealthIndicator();\r\n    }\r\n}\r\n\r\n```","title":"(Re) name Spring Boot HealthIndicator","body":"<p>You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the <code>@Bean</code> annotation, as shown  below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class HealthIndicatorConfiguration {\n    @Bean(&quot;MyServiceIndicator&quot;)\n    public HealthIndicator healthIndicatorForMyService() {\n        return new MyHealthIndicator();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675360341,"creation_date":1529490169,"question_id":50945923,"body_markdown":"I&#39;ve got the following [HealthIndicator][1]:\r\n\r\n    @Component\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\nWhich, **on production**, results in a JSON like:\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nBut in my integration test the JSON looks like\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        com.acme.fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nNote the package path.\r\n\r\nSo my question is: Who&#39;s responsible for naming HealthIndicators within the `/health` JSON? And (how) can I configure this?\r\n\r\nPS: I already passed a name to `@Component`:\r\n\r\n    @Component(&quot;fooBar&quot;) // name clash!!\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\n which did the trick, but as `FooBarHealthIndicator` monitors a class `FooBar`, a bean of that name already is present. However, as it works in production without naming the `HealthIndicator`, there must be an additional way...\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html","title":"(Re) name Spring Boot HealthIndicator","body":"<p>I've got the following <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html\" rel=\"nofollow noreferrer\">HealthIndicator</a>:</p>\n\n<pre><code>@Component\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>Which, <strong>on production</strong>, results in a JSON like:</p>\n\n<pre><code>status \"DOWN\"\n  details\n    fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>But in my integration test the JSON looks like</p>\n\n<pre><code>status \"DOWN\"\n  details\n    com.acme.fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>Note the package path.</p>\n\n<p>So my question is: Who's responsible for naming HealthIndicators within the <code>/health</code> JSON? And (how) can I configure this?</p>\n\n<p>PS: I already passed a name to <code>@Component</code>:</p>\n\n<pre><code>@Component(\"fooBar\") // name clash!!\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>which did the trick, but as <code>FooBarHealthIndicator</code> monitors a class <code>FooBar</code>, a bean of that name already is present. However, as it works in production without naming the <code>HealthIndicator</code>, there must be an additional way...</p>\n"},{"tags":["java","guava"],"answers":[{"comments":[{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":1,"creation_date":1273089155,"post_id":2776245,"comment_id":2810574,"body_markdown":"Thanks for the answer - I forgot to mention that I need the key of the min value","body":"Thanks for the answer - I forgot to mention that I need the key of the min value"},{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090407,"post_id":2776245,"comment_id":2810724,"body_markdown":"Thanks a lot, by the way, I would also need to get ranks of a sorted map. I would like to use the index as rank (1,2,3...) What might be the best way to do this with maps as here its not possible to obtain the index. It is rather inconvinient to create a list from the map each time","body":"Thanks a lot, by the way, I would also need to get ranks of a sorted map. I would like to use the index as rank (1,2,3...) What might be the best way to do this with maps as here its not possible to obtain the index. It is rather inconvinient to create a list from the map each time"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1273090729,"post_id":2776245,"comment_id":2810764,"body_markdown":"If you want an index, you&#39;ll really need to use a `List&lt;SomeObject&gt;` instead in combination with a suitable `Comparator&lt;SomeObject&gt;` or maybe `Comparable&lt;SomeObject&gt;`. The `SomeObject` in turn can then hold the original map key and value. A `Set&lt;SomeObject&gt;` may also be suitable, you&#39;ll only count the index yourself.","body":"If you want an index, you&#39;ll really need to use a <code>List&lt;SomeObject&gt;</code> instead in combination with a suitable <code>Comparator&lt;SomeObject&gt;</code> or maybe <code>Comparable&lt;SomeObject&gt;</code>. The <code>SomeObject</code> in turn can then hold the original map key and value. A <code>Set&lt;SomeObject&gt;</code> may also be suitable, you&#39;ll only count the index yourself."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1273090662,"creation_date":1273088533,"answer_id":2776245,"question_id":2776176,"body_markdown":"You can use the standard [`Collections#min()`][1] for this.\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    \r\n    Double min = Collections.min(map.values());\r\n    System.out.println(min); // 0.1\r\n\r\n**Update**: since you need the key as well, well, I don&#39;t see ways in [`Collections`][2] or Google [`Collections2`][3] API since a `Map` is not a `Collection`. The [`Maps#filterEntries()`][4] is also not really useful, since you only know the actual result at *end* of iteration.\r\n\r\nMost straightforward solution would then be this:\r\n\r\n    Entry&lt;String, Double&gt; min = null;\r\n    for (Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n        if (min == null || min.getValue() &gt; entry.getValue()) {\r\n            min = entry;\r\n        }\r\n    }\r\n    \r\n    System.out.println(min.getKey()); // 0.1\r\n\r\n(nullcheck on `min` left aside)\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html\r\n  [3]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\r\n  [4]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29","title":"Get minvalue of a Map(Key,Double)","body":"<p>You can use the standard <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"noreferrer\"><code>Collections#min()</code></a> for this.</p>\n\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(\"1.1\", 1.1);\nmap.put(\"0.1\", 0.1);\nmap.put(\"2.1\", 2.1);\n\nDouble min = Collections.min(map.values());\nSystem.out.println(min); // 0.1\n</code></pre>\n\n<p><strong>Update</strong>: since you need the key as well, well, I don't see ways in <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>Collections</code></a> or Google <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\" rel=\"noreferrer\"><code>Collections2</code></a> API since a <code>Map</code> is not a <code>Collection</code>. The <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29\" rel=\"noreferrer\"><code>Maps#filterEntries()</code></a> is also not really useful, since you only know the actual result at <em>end</em> of iteration.</p>\n\n<p>Most straightforward solution would then be this:</p>\n\n<pre><code>Entry&lt;String, Double&gt; min = null;\nfor (Entry&lt;String, Double&gt; entry : map.entrySet()) {\n    if (min == null || min.getValue() &gt; entry.getValue()) {\n        min = entry;\n    }\n}\n\nSystem.out.println(min.getKey()); // 0.1\n</code></pre>\n\n<p>(nullcheck on <code>min</code> left aside)</p>\n"},{"comments":[{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090848,"post_id":2776274,"comment_id":2810778,"body_markdown":"If I sort the map according to the values, I get a new sorted Map, for example:\n(A,1),(B,2),(C,3)\nHere, I can take just the key of the first element.","body":"If I sort the map according to the values, I get a new sorted Map, for example: (A,1),(B,2),(C,3) Here, I can take just the key of the first element."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1273095696,"post_id":2776274,"comment_id":2811427,"body_markdown":"@chris-gr: it takes much longer and uses more memory than necessary.","body":"@chris-gr: it takes much longer and uses more memory than necessary."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273088762,"creation_date":1273088762,"answer_id":2776274,"question_id":2776176,"body_markdown":"&gt; In traditional way, I would have to\r\n&gt; sort the map according to the values,\r\n&gt; and take the first/last one. thanks\r\n\r\nNo, you wouldn&#39;t. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That&#39;s O(n), compared with O(n*log(n)) for sorting - a potentially *huge* difference.\r\n\r\nBTW, this is exactly how `Collections.min()` works.","title":"Get minvalue of a Map(Key,Double)","body":"<blockquote>\n  <p>In traditional way, I would have to\n  sort the map according to the values,\n  and take the first/last one. thanks</p>\n</blockquote>\n\n<p>No, you wouldn't. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That's O(n), compared with O(n*log(n)) for sorting - a potentially <em>huge</em> difference.</p>\n\n<p>BTW, this is exactly how <code>Collections.min()</code> works.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273097760,"creation_date":1273090125,"answer_id":2776409,"question_id":2776176,"body_markdown":"In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. \r\n\r\nThis can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.\r\n\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. </p>\n\n<p>This can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1273090839,"post_id":2776468,"comment_id":2810777,"body_markdown":"Nice oneliner, but not really efficient.","body":"Nice oneliner, but not really efficient."},{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090991,"post_id":2776468,"comment_id":2810814,"body_markdown":"But it can be that the values are of the same value (double) Which key do I get in this case?","body":"But it can be that the values are of the same value (double) Which key do I get in this case?"},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1273091559,"post_id":2776468,"comment_id":2810889,"body_markdown":"@chris, it has to do with what is the key and what is the value in the map, not their types. In the end, at runtime, they are all Object anyway.","body":"@chris, it has to do with what is the key and what is the value in the map, not their types. In the end, at runtime, they are all Object anyway."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1273091636,"post_id":2776468,"comment_id":2810902,"body_markdown":"@BalusC, Certainly not, but that may not matter. If the map is large and often used bidirectionally, it could be stored in a BiMap in the first place. inverse() is a cheap operation in that case.","body":"@BalusC, Certainly not, but that may not matter. If the map is large and often used bidirectionally, it could be stored in a BiMap in the first place. inverse() is a cheap operation in that case."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273090521,"creation_date":1273090521,"answer_id":2776468,"question_id":2776176,"body_markdown":"I&#39;d be inclined to use a Google Collections BiMap:\r\n\r\n         String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\r\n\r\nOr something like that (not tested).","title":"Get minvalue of a Map(Key,Double)","body":"<p>I'd be inclined to use a Google Collections BiMap:</p>\n\n<pre><code>     String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\n</code></pre>\n\n<p>Or something like that (not tested).</p>\n"},{"tags":[],"owner":{"account_id":30005,"reputation":1041,"user_id":81501,"display_name":"superfav"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1675360308,"creation_date":1273167991,"answer_id":2783216,"question_id":2776176,"body_markdown":"You still can use `Collections.min` with a custom `Comparator` to get the `Map.Entry` with the lower value:\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n    \tpublic int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\r\n    \t\treturn entry1.getValue().compareTo(entry2.getValue());\r\n    \t}\r\n    });\r\n    System.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\r\n\r\nWith Java 8+:\r\n\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\r\n                                                    Map.Entry.comparingByValue());","title":"Get minvalue of a Map(Key,Double)","body":"<p>You still can use <code>Collections.min</code> with a custom <code>Comparator</code> to get the <code>Map.Entry</code> with the lower value:</p>\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(&quot;1.1&quot;, 1.1);\nmap.put(&quot;0.1&quot;, 0.1);\nmap.put(&quot;2.1&quot;, 2.1);\nMap.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    public int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\n        return entry1.getValue().compareTo(entry2.getValue());\n    }\n});\nSystem.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\n</code></pre>\n<p>With Java 8+:</p>\n<pre><code>Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\n                                                Map.Entry.comparingByValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309150,"reputation":10269,"user_id":621449,"accept_rate":83,"display_name":"Tarrasch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474021466,"creation_date":1460433902,"answer_id":36563441,"question_id":2776176,"body_markdown":"Using java 8 (and static imports). We can make @superfav&#39;s solution much tidier:\r\n\r\n    Map&lt;String, Double&gt; myMap;\r\n    String theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using java 8 (and static imports). We can make @superfav's solution much tidier:</p>\n\n<pre><code>Map&lt;String, Double&gt; myMap;\nString theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515928592,"creation_date":1468832449,"answer_id":38432532,"question_id":2776176,"body_markdown":"Using Java 8 streams:\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .sorted(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .findFirst()\r\n                .map(Map.Entry::getValue);\r\n\r\nOr\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .min(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .map(Map.Entry::getValue);\r\n\r\nBut if you want to do it multiple times, then definitely give [heap](https://en.wikipedia.org/wiki/Heap_(data_structure)) a look.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using Java 8 streams:</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .sorted(Comparator.comparingDouble(Map.Entry::getValue))\n            .findFirst()\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .min(Comparator.comparingDouble(Map.Entry::getValue))\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>But if you want to do it multiple times, then definitely give <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">heap</a> a look.</p>\n"},{"comments":[{"owner":{"account_id":11357627,"reputation":397,"user_id":8326782,"display_name":"spectrum"},"score":1,"creation_date":1549129775,"post_id":54277886,"comment_id":95796923,"body_markdown":"nice, but can lead to errors using `.get()`.  These create an &#39;Optional.get()&#39; without &#39;isPresent()&#39; warning.  Check out [this page](https://stackoverflow.com/questions/30686215/avoid-nosuchelementexception-with-stream) for some safer alternatives","body":"nice, but can lead to errors using <code>.get()</code>.  These create an &#39;Optional.get()&#39; without &#39;isPresent()&#39; warning.  Check out <a href=\"https://stackoverflow.com/questions/30686215/avoid-nosuchelementexception-with-stream\">this page</a> for some safer alternatives"}],"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547997530,"creation_date":1547997530,"answer_id":54277886,"question_id":2776176,"body_markdown":"In Java 8 we can get easily:\r\n\r\n    Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\r\n    Double maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In Java 8 we can get easily:</p>\n\n<pre><code>Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\nDouble maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1574277623,"creation_date":1556894849,"answer_id":55972222,"question_id":2776176,"body_markdown":"Java8 One-Liner\r\n```java\r\nKey key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\r\n```","title":"Get minvalue of a Map(Key,Double)","body":"<p>Java8 One-Liner</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Key key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\n</code></pre>\n"}],"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109779,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":2776245,"answer_count":9,"score":37,"last_activity_date":1675360308,"creation_date":1273087725,"question_id":2776176,"body_markdown":"Is there a method (maybe with Google Collections) to obtain the min value of a `Map(Key, Double)`?\r\n\r\nIn the traditional way, I would have to sort the map according to the values, and take the first/last one.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Is there a method (maybe with Google Collections) to obtain the min value of a <code>Map(Key, Double)</code>?</p>\n\n<p>In the traditional way, I would have to sort the map according to the values, and take the first/last one.</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326815498,"creation_date":1326815498,"answer_id":8897599,"question_id":8897449,"body_markdown":"Simply using a boolean-flag should take care of this:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    boolean lockAcquired = false;\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n      lockAcquired = true;\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      if(lockAcquired)\r\n      {\r\n        lock.unlock();\r\n      }\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>Simply using a boolean-flag should take care of this:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\nboolean lockAcquired = false;\n\ntry\n{\n  lock.lockInterruptably();\n  lockAcquired = true;\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  if(lockAcquired)\n  {\n    lock.unlock();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1326870480,"post_id":8897601,"comment_id":11139539,"body_markdown":"I was first using `isHeldByCurrentThread`, but after reading all the comments, I think this version is the only one that is really correct.","body":"I was first using <code>isHeldByCurrentThread</code>, but after reading all the comments, I think this version is the only one that is really correct."},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1359481104,"post_id":8897601,"comment_id":20363854,"body_markdown":"@WimDeblauwe which comments are you referring to, and why do you think using `isHeldByCurrentThread` is not correct?","body":"@WimDeblauwe which comments are you referring to, and why do you think using <code>isHeldByCurrentThread</code> is not correct?"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1359535397,"post_id":8897601,"comment_id":20382888,"body_markdown":"@RobinGreen as it has been over 1 year, I don&#39;t exactly remember, but I have the feeling there used to be more/other answers on this question. Anyway, the proper way to do it is given in this answer, so that is all that is important in the end.","body":"@RobinGreen as it has been over 1 year, I don&#39;t exactly remember, but I have the feeling there used to be more/other answers on this question. Anyway, the proper way to do it is given in this answer, so that is all that is important in the end."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1359551059,"post_id":8897601,"comment_id":20390915,"body_markdown":"@RobinGreen - there is a deleted answer which attempted to use `isHeldByCurrentThread` to determine if the lock should be released, however it would not work correctly if the lock was held re-entrantly.","body":"@RobinGreen - there is a deleted answer which attempted to use <code>isHeldByCurrentThread</code> to determine if the lock should be released, however it would not work correctly if the lock was held re-entrantly."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":4,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1675359939,"creation_date":1326815505,"answer_id":8897601,"question_id":8897449,"body_markdown":"the `lockInterruptibly()` call should be _outside_ the finally block.  note, this is always true when using the `Lock` API (whether you use `lock()` or `lockInterruptibly()`), as you _don&#39;t_ want to do the &quot;unlock&quot; work unless you have acquired the lock.\r\n\r\n    try {\r\n      lock.lockInterruptibly();\r\n      try {\r\n        // do locked work here\r\n      } finally {\r\n        lock.unlock();\r\n      }\r\n    } catch( InterruptedException e ) {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>the <code>lockInterruptibly()</code> call should be <em>outside</em> the finally block.  note, this is always true when using the <code>Lock</code> API (whether you use <code>lock()</code> or <code>lockInterruptibly()</code>), as you <em>don't</em> want to do the &quot;unlock&quot; work unless you have acquired the lock.</p>\n<pre><code>try {\n  lock.lockInterruptibly();\n  try {\n    // do locked work here\n  } finally {\n    lock.unlock();\n  }\n} catch( InterruptedException e ) {\n  Thread.currentThread.interrupt();\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8897601,"answer_count":2,"score":7,"last_activity_date":1675359939,"creation_date":1326814927,"question_id":8897449,"body_markdown":"I want to replace a `syncronized` block with a `ReentrantLock` to support interruption of waiting for the lock. For this, I use the `lockInterruptibly()` method and the idiomatic try/finally block:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      lock.unlock();\r\n    }\r\n\r\nThe problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an `IllegalMonitorStateException`, because the lock is not held by the current thread.\r\n\r\nThis simple program proves this:\r\n\r\n    public class LockTest\r\n    {\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\t\r\n\t\tThread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\r\n\t\tinterruptThread.start();\r\n\t\tReentrantLock lock = new ReentrantLock();\r\n\t\t\r\n\t\tThread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\r\n\t\ttakeLockThread.start();\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep( 500 );\r\n\t\t\tSystem.out.println(&quot;Trying to take lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\tlock.lockInterruptibly();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\r\n\t\tSystem.out.println( &quot;DONE&quot;);\r\n\t}\r\n\r\n\tprivate static class MyRunnable implements Runnable\r\n\t{\r\n\t\tprivate Thread m_thread;\r\n\r\n\t\tprivate MyRunnable( Thread thread)\r\n\t\t{\r\n\t\t\tm_thread = thread;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tThread.sleep( 1000 );\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\tSystem.out.println( &quot;Interrupting thread &quot; + m_thread.getName() );\r\n\t\t\tm_thread.interrupt();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class TakeLockRunnable implements Runnable\r\n\t{\r\n\t\tprivate ReentrantLock m_lock;\r\n\r\n\t\tpublic TakeLockRunnable( ReentrantLock lock )\r\n\t\t{\r\n\t\t\tm_lock = lock;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Taking lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\t\tm_lock.lock();\r\n\t\t\t\tThread.sleep( 20000 );\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\tm_lock.unlock();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nIt prints this output:\r\n&lt;pre&gt;\r\nSTART\r\nTaking lock on thread Thread-1\r\nTrying to take lock on thread main\r\njava.lang.InterruptedException\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\r\n\tat java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\r\n\tat LockTest.main(LockTest.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nException in thread &quot;main&quot; java.lang.IllegalMonitorStateException\r\n\tat java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\r\n\tat java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\r\n\tat LockTest.main(LockTest.java:32)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nInterrupting thread main\r\n&lt;/pre&gt;\r\n\r\nAny idea on what the best way is to avoid this?","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>I want to replace a <code>syncronized</code> block with a <code>ReentrantLock</code> to support interruption of waiting for the lock. For this, I use the <code>lockInterruptibly()</code> method and the idiomatic try/finally block:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\ntry\n{\n  lock.lockInterruptably();\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  lock.unlock();\n}\n</code></pre>\n\n<p>The problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an <code>IllegalMonitorStateException</code>, because the lock is not held by the current thread.</p>\n\n<p>This simple program proves this:</p>\n\n<pre><code>public class LockTest\n{\npublic static void main( String[] args )\n{\n    System.out.println(\"START\");\n\n    Thread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\n    interruptThread.start();\n    ReentrantLock lock = new ReentrantLock();\n\n    Thread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\n    takeLockThread.start();\n\n    try\n    {\n        Thread.sleep( 500 );\n        System.out.println(\"Trying to take lock on thread \" + Thread.currentThread().getName());\n        lock.lockInterruptibly();\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n    finally {\n        lock.unlock();\n    }\n\n    System.out.println( \"DONE\");\n}\n\nprivate static class MyRunnable implements Runnable\n{\n    private Thread m_thread;\n\n    private MyRunnable( Thread thread)\n    {\n        m_thread = thread;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            Thread.sleep( 1000 );\n        }\n        catch (InterruptedException e)\n        {\n            // ignore\n        }\n        System.out.println( \"Interrupting thread \" + m_thread.getName() );\n        m_thread.interrupt();\n    }\n}\n\nprivate static class TakeLockRunnable implements Runnable\n{\n    private ReentrantLock m_lock;\n\n    public TakeLockRunnable( ReentrantLock lock )\n    {\n        m_lock = lock;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            System.out.println(\"Taking lock on thread \" + Thread.currentThread().getName());\n            m_lock.lock();\n            Thread.sleep( 20000 );\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally {\n            m_lock.unlock();\n        }\n    }\n}\n}\n</code></pre>\n\n<p>It prints this output:</p>\n\n<pre>\nSTART\nTaking lock on thread Thread-1\nTrying to take lock on thread main\njava.lang.InterruptedException\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\n    at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\n    at LockTest.main(LockTest.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nException in thread \"main\" java.lang.IllegalMonitorStateException\n    at java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\n    at java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\n    at LockTest.main(LockTest.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nInterrupting thread main\n</pre>\n\n<p>Any idea on what the best way is to avoid this?</p>\n"},{"tags":["java","gradle","maven-publish"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675359390,"post_id":75326910,"comment_id":132917173,"body_markdown":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed.","body":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed."},{"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"score":0,"creation_date":1675359493,"post_id":75326910,"comment_id":132917209,"body_markdown":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully","body":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675361660,"post_id":75326910,"comment_id":132917916,"body_markdown":"That&#39;s not how test jars work. `test` scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with `test` scope.","body":"That&#39;s not how test jars work. <code>test</code> scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with <code>test</code> scope."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1675395986,"post_id":75326910,"comment_id":132924671,"body_markdown":"If you want them published in the pom, despite it not being good practice, change `testImplementation` to just plain `implementation`.","body":"If you want them published in the pom, despite it not being good practice, change <code>testImplementation</code> to just plain <code>implementation</code>."}],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675359530,"creation_date":1675359270,"question_id":75326910,"body_markdown":"I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.\r\n\r\nI notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can&#39;t find a solution to get the dependencies added\r\n\r\ntried\r\n\r\n```      \r\nversionMapping {\r\n  allVariants {\r\n    fromResolutionOf(&#39;testRuntimeClasspath&#39;)\r\n  }\r\n}\r\n```\r\n\r\nbut see the test dependencies are still not found.\r\n\r\nThe buildSrc plugin defines the following dependencies\r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testImplementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n```\r\n\r\nHow do I get these dependencies to show up in the published pom?\r\n\r\nThanks!\r\n\r\n\r\nEdit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing","title":"How to get test dependencies to show up in maven pom when they are added via a plugin?","body":"<p>I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.</p>\n<p>I notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can't find a solution to get the dependencies added</p>\n<p>tried</p>\n<pre><code>versionMapping {\n  allVariants {\n    fromResolutionOf('testRuntimeClasspath')\n  }\n}\n</code></pre>\n<p>but see the test dependencies are still not found.</p>\n<p>The buildSrc plugin defines the following dependencies</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testImplementation 'ch.qos.logback:logback-classic:1.2.3'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n<p>How do I get these dependencies to show up in the published pom?</p>\n<p>Thanks!</p>\n<p>Edit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing</p>\n"},{"tags":["java","android","android-camera","android-camera2","usb-camera"],"comments":[{"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"score":0,"creation_date":1663434719,"post_id":73690460,"comment_id":130241127,"body_markdown":"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api check this thread","body":"<a href=\"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api\" title=\"accessing a usb camera using android camera2 api\">stackoverflow.com/questions/57846505/&hellip;</a> check this thread"}],"answers":[{"tags":[],"owner":{"account_id":27687868,"reputation":11,"user_id":21135244,"display_name":"Cyclops"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675359316,"creation_date":1675359316,"answer_id":75326923,"question_id":73690460,"body_markdown":"The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:\r\n1. Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.\r\n2. Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.\r\n3. Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.\r\n","title":"How can I implement function for usb camera for my application?","body":"<p>The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:</p>\n<ol>\n<li>Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.</li>\n<li>Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.</li>\n<li>Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.</li>\n</ol>\n"}],"owner":{"account_id":26314259,"reputation":1,"user_id":19977306,"display_name":"Roshni Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675359316,"creation_date":1662990896,"question_id":73690460,"body_markdown":"I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated. ","title":"How can I implement function for usb camera for my application?","body":"<p>I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated.</p>\n"},{"tags":["java","arrays","replaceall"],"owner":{"account_id":27687806,"reputation":1,"user_id":21135194,"display_name":"kanyshh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675359239,"answer_count":0,"score":0,"last_activity_date":1675359088,"creation_date":1675359088,"question_id":75326866,"body_markdown":" public static void main(String[] args)\r\n    {  \t\r\n     \r\n\t    String text = &quot;  5000 ,  - 7563 ,   - 30000 &quot;;\r\n\t    String[] arr = text.split(&quot;, &quot;);\r\n\t    for (int i = 0; i &lt; arr.length; i++) {\r\n\t    \tarr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\t    \tSystem.out.println(arr[i]);\r\n\t    };\r\n\r\ni want to replace all of the letters with empty space","title":"why it doesnt work out? i want it to change all three lines","body":"<p>public static void main(String[] args)\n{</p>\n<pre><code>    String text = &quot;  5000 ,  - 7563 ,   - 30000 &quot;;\n    String[] arr = text.split(&quot;, &quot;);\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n        System.out.println(arr[i]);\n    };\n</code></pre>\n<p>i want to replace all of the letters with empty space</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675334905,"post_id":75321780,"comment_id":132908307,"body_markdown":"So you want to compare the actual time they identify? Then convert them to `Instant` and compare those.","body":"So you want to compare the actual time they identify? Then convert them to <code>Instant</code> and compare those."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675357979,"post_id":75321780,"comment_id":132916679,"body_markdown":"Related: [IST mapped to wrong ZoneId in java.time library](https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library)","body":"Related: <a href=\"https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library\">IST mapped to wrong ZoneId in java.time library</a>"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675335078,"creation_date":1675335078,"answer_id":75322074,"question_id":75321780,"body_markdown":"The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See [this answer][1].\r\n\r\nI would convert the `ZonedDateTime` objects to `OffsetDateTime` before comparing them, or even to `Instant`, as Joachim suggested.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59386011/1374678","title":"Different timezone id for the same short timezone name","body":"<p>The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See <a href=\"https://stackoverflow.com/a/59386011/1374678\">this answer</a>.</p>\n<p>I would convert the <code>ZonedDateTime</code> objects to <code>OffsetDateTime</code> before comparing them, or even to <code>Instant</code>, as Joachim suggested.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675358243,"post_id":75326361,"comment_id":132916764,"body_markdown":"Actually, those pseudo zones can be 2-4 characters long, not just 3. Examples: [CT](https://www.timeanddate.com/time/zones/ct) and [AEST](https://www.timeanddate.com/time/zones/aest).","body":"Actually, those pseudo zones can be 2-4 characters long, not just 3. Examples: <a href=\"https://www.timeanddate.com/time/zones/ct\" rel=\"nofollow noreferrer\">CT</a> and <a href=\"https://www.timeanddate.com/time/zones/aest\" rel=\"nofollow noreferrer\">AEST</a>."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675358997,"creation_date":1675356360,"answer_id":75326361,"question_id":75321780,"body_markdown":"First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. [CT](https://www.timeanddate.com/time/zones/ct) and [AEST](https://www.timeanddate.com/time/zones/aest)) as commented by [Basil Bourque](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361). \r\n\r\nGiven below is a note from the Java 7 `Timezone` [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; ### Three-letter time zone IDs\r\n&gt;For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\r\n&gt; also supported. However, **their use is deprecated** because the same\r\n&gt; abbreviation is often used for multiple time zones (for example, &quot;CST&quot;\r\n&gt; could be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\r\n&gt; the Java platform can then only recognize one of them.\r\n\r\nThere is already a good [suggestion by Joachim Sauer](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780). Alternatively, you can retrieve the `ZoneId` from the parsed date-time and use it while constructing your `ZonedDateTime`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\r\n            String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\r\n            ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\r\n            ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\r\n            System.out.println(zdtNextPaymentDate);\r\n            System.out.println(zdtExpectedDate);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/bRYRBE)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Different timezone id for the same short timezone name","body":"<p>First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. <a href=\"https://www.timeanddate.com/time/zones/ct\" rel=\"nofollow noreferrer\">CT</a> and <a href=\"https://www.timeanddate.com/time/zones/aest\" rel=\"nofollow noreferrer\">AEST</a>) as commented by <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361\">Basil Bourque</a>.</p>\n<p>Given below is a note from the Java 7 <code>Timezone</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<h3>Three-letter time zone IDs</h3>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\nalso supported. However, <strong>their use is deprecated</strong> because the same\nabbreviation is often used for multiple time zones (for example, &quot;CST&quot;\ncould be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\nthe Java platform can then only recognize one of them.</p>\n</blockquote>\n<p>There is already a good <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780\">suggestion by Joachim Sauer</a>. Alternatively, you can retrieve the <code>ZoneId</code> from the parsed date-time and use it while constructing your <code>ZonedDateTime</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\n        String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\n        ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\n        ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\n        System.out.println(zdtNextPaymentDate);\n        System.out.println(zdtExpectedDate);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-02-05T02:00-08:00[America/Los_Angeles]\n2023-02-05T02:00-08:00[America/Los_Angeles]\n</code></pre>\n<p><a href=\"https://ideone.com/bRYRBE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":18534646,"reputation":303,"user_id":13504606,"display_name":"KarloSpacapan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75322074,"answer_count":2,"score":1,"last_activity_date":1675358997,"creation_date":1675333744,"question_id":75321780,"body_markdown":"I have a string `&quot;02:00:00 Feb 05, 2023 PST&quot;` which I parse:\r\n```java\r\nZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\r\n```\r\nComparing it a constructed date:\r\n```java\r\nZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\r\n```\r\nfails, because:\r\n```\r\nExpected :2023-02-05T02:00-08:00[America/Los_Angeles]\r\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\r\n```\r\n\r\nSetting exact timezone id (e.g. fixing `America/Tijuana`) does not work, as the timezone is parsed differently on another machine (as `America/Los_Angeles` instead of `America/Tijuana` like on my machine).\r\n\r\nHow can I assert the dates are equal in this case?","title":"Different timezone id for the same short timezone name","body":"<p>I have a string <code>&quot;02:00:00 Feb 05, 2023 PST&quot;</code> which I parse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\n</code></pre>\n<p>Comparing it a constructed date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\n</code></pre>\n<p>fails, because:</p>\n<pre><code>Expected :2023-02-05T02:00-08:00[America/Los_Angeles]\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\n</code></pre>\n<p>Setting exact timezone id (e.g. fixing <code>America/Tijuana</code>) does not work, as the timezone is parsed differently on another machine (as <code>America/Los_Angeles</code> instead of <code>America/Tijuana</code> like on my machine).</p>\n<p>How can I assert the dates are equal in this case?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673839727,"post_id":75126706,"comment_id":132579870,"body_markdown":"Have you tried using a batchsize annotation on the collection mappings? I dont know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved","body":"Have you tried using a batchsize annotation on the collection mappings? I dont know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673857224,"post_id":75126706,"comment_id":132582581,"body_markdown":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type","body":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673885942,"post_id":75126706,"comment_id":132591872,"body_markdown":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB","body":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.7/solutions/&hellip;</a>"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673941271,"post_id":75126706,"comment_id":132603075,"body_markdown":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy","body":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673970380,"post_id":75126706,"comment_id":132612612,"body_markdown":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query.","body":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358773,"creation_date":1675358773,"answer_id":75326814,"question_id":75126706,"body_markdown":"Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for [Blaze-Persistence Entity Views][1] though since it offers the [MULTISET fetch strategy][2] that represents the best of both worlds.\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(GrandFather.class)\r\n    public interface GrandFatherDto {\r\n        @IdMapping\r\n        Integer getId();\r\n        String getName();\r\n        Set&lt;FatherDto&gt; getFathers();\r\n\r\n        @EntityView(Father.class)\r\n        interface FatherDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child1Dto&gt; getTypeOneChildren();\r\n            //...\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\r\n        }\r\n        @EntityView(Child1.class)\r\n        interface Child1Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n\r\n        //...\r\n\r\n        @EntityView(Child25.class)\r\n        interface Child25Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> though since it offers the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy\" rel=\"nofollow noreferrer\">MULTISET fetch strategy</a> that represents the best of both worlds.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(GrandFather.class)\npublic interface GrandFatherDto {\n    @IdMapping\n    Integer getId();\n    String getName();\n    Set&lt;FatherDto&gt; getFathers();\n\n    @EntityView(Father.class)\n    interface FatherDto {\n        @IdMapping\n        Long getId();\n        String getName();\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child1Dto&gt; getTypeOneChildren();\n        //...\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\n    }\n    @EntityView(Child1.class)\n    interface Child1Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n\n    //...\n\n    @EntityView(Child25.class)\n    interface Child25Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675358773,"creation_date":1673801125,"question_id":75126706,"body_markdown":"Is there a way to use `@NamedEntityGraph` for eager fetch of multiple collections of entities? I&#39;m using Spring boot with Spring data and hibernate.\r\n\r\nI have 2 entities- grandfather and father who have `OneToMany` relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let&#39;s say `.toString()`)\r\n The problem is that the `Father` entity has 25 different type of children and each one is a collection with `FetchType.LAZY` and relations of `ManyToMany`, so calling `toString` loades all of the children collections and make the function very slow.\r\nThe entities looks like that:\r\n\r\n    public class GrandFather() {\r\n      private Integer id;\r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      private Set&lt;Father&gt; fathers;\r\n    }\r\n    \r\n    public class Father() {\r\n      private Integer id;\r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_one&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child1&gt; typeOneChildren;\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_twenty_five&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child25&gt; typeTwentyFiveChildren;\r\n\r\n      public void toString() {\r\n        typeOneChildren.stream().forEach(child -&gt; child.toString());\r\n        .\r\n        .\r\n        .\r\n        typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\r\n      }\r\n    }\r\n\r\nEach one of the children are a different Entity with different properties.\r\n\r\nI tried adding `@NamedEntityGraph` to `GrandFather` like this:\r\n\r\n    @NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\r\n    \t\tattributeNodes = {\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\r\n    \t\t},\r\n    \t\tsubgraphs = {\r\n    \t\t\t\t@NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeOneChildren&quot;),\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\r\n    \t\t\t\t})\r\n    \t\t})\r\nbut this EntityGraph only worked when I put it on `findById` (most of the app uses this function and doesn&#39;t need the graph) in `GrandFatherRepository`, every other name and it didn&#39;t work - either just kept on doing all the lazy fetching for each father on each child type or throwing `MultipleBagFetchException` (which make sense with all of the collections and Cartesian results).\r\n\r\n    public class GrandFatherService {\r\n        GrandFatherRepository grandFatherRepository;\r\n        public void toString(Integer grandfatherId) {\r\n          Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\r\n          fathers.stream().forEach(Father::toString);\r\n        }\r\n    }\r\n\r\nThe other solution I found was based on the answer for this [qestion][1]\r\nand it as follows (it works but very messy):\r\nin my `GrandFatherService` in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\r\n(`findWithFathersById` uses a basic entity graph)\r\n\r\n    public class GrandFatherService {\r\n      GrandFatherRepository grandFatherRepository;\r\n      FatherRepository fatherRepository;\r\n      public void toString(Integer grandfatherId) {\r\n        Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\r\n    \r\n        Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\r\n        .\r\n        .\r\n        .\r\n        Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\r\n    \r\n       fathers.stream().forEach(father -&gt; {\r\n         Integer fatherId = father.getId();\r\n         father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\r\n         .\r\n         .\r\n         .\r\n         father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\r\n         father.toString();\r\n       }\r\n      }\r\n    }\r\n\r\n    public interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\r\n      .\r\n      .\r\n      .\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\r\n    }\r\n\r\nFor conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?\r\n\r\n  [1]: https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Is there a way to use <code>@NamedEntityGraph</code> for eager fetch of multiple collections of entities? I'm using Spring boot with Spring data and hibernate.</p>\n<p>I have 2 entities- grandfather and father who have <code>OneToMany</code> relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let's say <code>.toString()</code>)\nThe problem is that the <code>Father</code> entity has 25 different type of children and each one is a collection with <code>FetchType.LAZY</code> and relations of <code>ManyToMany</code>, so calling <code>toString</code> loades all of the children collections and make the function very slow.\nThe entities looks like that:</p>\n<pre><code>public class GrandFather() {\n  private Integer id;\n  @OneToMany(fetch = FetchType.LAZY)\n  private Set&lt;Father&gt; fathers;\n}\n\npublic class Father() {\n  private Integer id;\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_one&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child1&gt; typeOneChildren;\n\n.\n.\n.\n\n@ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_twenty_five&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child25&gt; typeTwentyFiveChildren;\n\n  public void toString() {\n    typeOneChildren.stream().forEach(child -&gt; child.toString());\n    .\n    .\n    .\n    typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\n  }\n}\n</code></pre>\n<p>Each one of the children are a different Entity with different properties.</p>\n<p>I tried adding <code>@NamedEntityGraph</code> to <code>GrandFather</code> like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\n                        @NamedAttributeNode(&quot;typeOneChildren&quot;),\n                        .\n                        .\n                        .\n                        @NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\n                })\n        })\n</code></pre>\n<p>but this EntityGraph only worked when I put it on <code>findById</code> (most of the app uses this function and doesn't need the graph) in <code>GrandFatherRepository</code>, every other name and it didn't work - either just kept on doing all the lazy fetching for each father on each child type or throwing <code>MultipleBagFetchException</code> (which make sense with all of the collections and Cartesian results).</p>\n<pre><code>public class GrandFatherService {\n    GrandFatherRepository grandFatherRepository;\n    public void toString(Integer grandfatherId) {\n      Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\n      fathers.stream().forEach(Father::toString);\n    }\n}\n</code></pre>\n<p>The other solution I found was based on the answer for this <a href=\"https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels\">qestion</a>\nand it as follows (it works but very messy):\nin my <code>GrandFatherService</code> in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\n(<code>findWithFathersById</code> uses a basic entity graph)</p>\n<pre><code>public class GrandFatherService {\n  GrandFatherRepository grandFatherRepository;\n  FatherRepository fatherRepository;\n  public void toString(Integer grandfatherId) {\n    Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\n\n    Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\n    .\n    .\n    .\n    Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\n\n   fathers.stream().forEach(father -&gt; {\n     Integer fatherId = father.getId();\n     father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\n     .\n     .\n     .\n     father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\n     father.toString();\n   }\n  }\n}\n\npublic interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\n  .\n  .\n  .\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\n}\n</code></pre>\n<p>For conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?</p>\n"},{"tags":["java","iterator","iterable"],"comments":[{"owner":{"account_id":3327594,"reputation":1669,"user_id":2797254,"accept_rate":65,"display_name":"Weishi Z"},"score":0,"creation_date":1661990439,"post_id":6863182,"comment_id":129905281,"body_markdown":"`Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();`\nand \n`Iterator&lt;Integer&gt; iterator = iterable.iterator();`","body":"<code>Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();</code> and  <code>Iterator&lt;Integer&gt; iterator = iterable.iterator();</code>"}],"answers":[{"comments":[{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":2,"creation_date":1360190408,"post_id":6863238,"comment_id":20625996,"body_markdown":"FYI a java.util.Collection always implements java.util.Iterable.","body":"FYI a java.util.Collection always implements java.util.Iterable."},{"owner":{"account_id":3568325,"reputation":1079,"user_id":2979310,"accept_rate":87,"display_name":"ulab"},"score":2,"creation_date":1470043110,"post_id":6863238,"comment_id":64768899,"body_markdown":"Is it not `java.lang.Iterable` ?","body":"Is it not <code>java.lang.Iterable</code> ?"},{"owner":{"account_id":1958700,"reputation":17413,"user_id":1760984,"accept_rate":80,"display_name":"aldok"},"score":0,"creation_date":1517112657,"post_id":6863238,"comment_id":83959089,"body_markdown":"It&#39;s `java.lang.Iterable`","body":"It&#39;s <code>java.lang.Iterable</code>"}],"tags":[],"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1311874786,"creation_date":1311874786,"answer_id":6863238,"question_id":6863182,"body_markdown":"If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.</p>\n"},{"comments":[{"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":1,"creation_date":1435821630,"post_id":6863258,"comment_id":50362377,"body_markdown":"will that matter if `Iterable` has `interal` or `external` iterator or it is possible to have any of them ?","body":"will that matter if <code>Iterable</code> has <code>interal</code> or <code>external</code> iterator or it is possible to have any of them ?"}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":1,"down_vote_count":0,"up_vote_count":270,"is_accepted":true,"score":270,"last_activity_date":1311874900,"creation_date":1311874900,"answer_id":6863258,"question_id":6863182,"body_markdown":"An `Iterable` is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a &quot;current element&quot;. Instead, it has one method that produces an `Iterator`.\r\n\r\nAn `Iterator` is the object with iteration state. It lets you check if it has more elements using `hasNext()` and move to the next element (if any) using `next()`.\r\n\r\nTypically, an `Iterable` should be able to produce any number of valid `Iterator`s.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An <code>Iterable</code> is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a \"current element\". Instead, it has one method that produces an <code>Iterator</code>.</p>\n\n<p>An <code>Iterator</code> is the object with iteration state. It lets you check if it has more elements using <code>hasNext()</code> and move to the next element (if any) using <code>next()</code>.</p>\n\n<p>Typically, an <code>Iterable</code> should be able to produce any number of valid <code>Iterator</code>s.</p>\n"},{"tags":[],"owner":{"account_id":443137,"reputation":7855,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"comment_count":0,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1454079292,"creation_date":1311875019,"answer_id":6863299,"question_id":6863182,"body_markdown":"An implementation of `Iterable` is one that provides an `Iterator` of itself:\r\n\r\n    public interface Iterable&lt;T&gt;\r\n    {\r\n        Iterator&lt;T&gt; iterator();\r\n    }\r\n\r\nAn iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).\r\n\r\n    public interface Iterator&lt;E&gt;\r\n    {\r\n        boolean hasNext();\r\n        E next();\r\n        void remove();\r\n    }\r\n\r\nSee [Javadoc][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An implementation of <code>Iterable</code> is one that provides an <code>Iterator</code> of itself:</p>\n\n<pre><code>public interface Iterable&lt;T&gt;\n{\n    Iterator&lt;T&gt; iterator();\n}\n</code></pre>\n\n<p>An iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).</p>\n\n<pre><code>public interface Iterator&lt;E&gt;\n{\n    boolean hasNext();\n    E next();\n    void remove();\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\" rel=\"noreferrer\">Javadoc</a>.</p>\n"},{"comments":[{"owner":{"account_id":4562965,"reputation":415,"user_id":3734690,"accept_rate":67,"display_name":"Chinmaya B"},"score":1,"creation_date":1423640536,"post_id":24611768,"comment_id":45226098,"body_markdown":"If any class is implementing Iterable it should have a Iterator() method in it right??? Correct me if I am wrong.","body":"If any class is implementing Iterable it should have a Iterator() method in it right??? Correct me if I am wrong."},{"owner":{"account_id":357350,"reputation":9194,"user_id":697461,"accept_rate":59,"display_name":"agent.smith"},"score":0,"creation_date":1429024532,"post_id":24611768,"comment_id":47404862,"body_markdown":"yes. It should have interface&#39;s unimplemented method. In this case it is Iterator.","body":"yes. It should have interface&#39;s unimplemented method. In this case it is Iterator."},{"owner":{"account_id":3218249,"reputation":1098,"user_id":2716301,"accept_rate":75,"display_name":"EricGreg"},"score":0,"creation_date":1478102913,"post_id":24611768,"comment_id":68021092,"body_markdown":"Thanks for an intelligent answer. I came here to double check my understanding of Iterable vs Iterator. You confirmed it. All the other answers talk about the structure, which I guess is fine, but doesn&#39;t answer the question of WHY I&#39;d use one over the other.","body":"Thanks for an intelligent answer. I came here to double check my understanding of Iterable vs Iterator. You confirmed it. All the other answers talk about the structure, which I guess is fine, but doesn&#39;t answer the question of WHY I&#39;d use one over the other."},{"owner":{"account_id":5425697,"reputation":869,"user_id":4318036,"accept_rate":55,"display_name":"Sam"},"score":0,"creation_date":1486595970,"post_id":24611768,"comment_id":71419014,"body_markdown":"For me, this is the best answer.","body":"For me, this is the best answer."},{"owner":{"account_id":13876098,"reputation":171,"user_id":10017725,"display_name":"Neeraj"},"score":0,"creation_date":1563301671,"post_id":24611768,"comment_id":100652016,"body_markdown":"I wanted to know what is the benefit of  For each loop for String s: someClass. Since someClass is java class object and s String ref. Under what cirsumstances one should go with such sort of implementations.","body":"I wanted to know what is the benefit of  For each loop for String s: someClass. Since someClass is java class object and s String ref. Under what cirsumstances one should go with such sort of implementations."}],"tags":[],"owner":{"account_id":288369,"reputation":7565,"user_id":588747,"accept_rate":65,"display_name":"Nageswaran"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404739801,"creation_date":1404739801,"answer_id":24611768,"question_id":6863182,"body_markdown":"Implementing Iterable interface allows an object to be the target of the &quot;foreach&quot; statement.\r\n\r\n    class SomeClass implements Iterable&lt;String&gt; {}\r\n    \r\n    class Main \r\n    {\r\n      public void method()\r\n      {\r\n         SomeClass someClass = new SomeClass();\r\n         .....\r\n    \r\n        for(String s : someClass) {\r\n         //do something\r\n        }\r\n      }\r\n    }\r\n\r\nIterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Implementing Iterable interface allows an object to be the target of the \"foreach\" statement.</p>\n\n<pre><code>class SomeClass implements Iterable&lt;String&gt; {}\n\nclass Main \n{\n  public void method()\n  {\n     SomeClass someClass = new SomeClass();\n     .....\n\n    for(String s : someClass) {\n     //do something\n    }\n  }\n}\n</code></pre>\n\n<p>Iterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.</p>\n"},{"comments":[{"owner":{"account_id":1577535,"reputation":1048,"user_id":1463629,"accept_rate":50,"display_name":"Kanad"},"score":3,"creation_date":1556033775,"post_id":25518557,"comment_id":98296291,"body_markdown":"I was wondering why collection classes do not implement Iterator interface directly (instead of implementing Iterable and returning Iterator object). This answer made it clear that - in that case it wouldn&#39;t have been possible to traverse collection multiple times (and also simultaneously by multiple threads). This is very important answer.","body":"I was wondering why collection classes do not implement Iterator interface directly (instead of implementing Iterable and returning Iterator object). This answer made it clear that - in that case it wouldn&#39;t have been possible to traverse collection multiple times (and also simultaneously by multiple threads). This is very important answer."}],"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1409110674,"creation_date":1409110674,"answer_id":25518557,"question_id":6863182,"body_markdown":"The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.</p>\n"},{"tags":[],"owner":{"account_id":10790919,"reputation":11,"user_id":7938463,"display_name":"Rf Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493409771,"creation_date":1493409771,"answer_id":43688091,"question_id":6863182,"body_markdown":"Question:Difference between Iterable and Iterator? &lt;br&gt;\r\nAns:\r\n\r\niterable: It is related to forEach loop\t&lt;br&gt;\r\niterator: Is is related to Collection\r\n\r\nThe target element of the forEach loop shouble be iterable.\t&lt;br&gt;\r\nWe can use Iterator to get the object one by one from the Collection\r\n\r\nIterable present in java.ang package\t\r\nIterator present in java.util package\r\n\r\nContains only one method iterator()\t&lt;br&gt;\r\nContains three method hasNext(), next(), remove()\r\n\r\nIntroduced in 1.5 version &lt;br&gt;\r\nIntroduced in 1.2 version\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Question:Difference between Iterable and Iterator? <br>\nAns:</p>\n\n<p>iterable: It is related to forEach loop <br>\niterator: Is is related to Collection</p>\n\n<p>The target element of the forEach loop shouble be iterable. <br>\nWe can use Iterator to get the object one by one from the Collection</p>\n\n<p>Iterable present in java.ang package<br>\nIterator present in java.util package</p>\n\n<p>Contains only one method iterator() <br>\nContains three method hasNext(), next(), remove()</p>\n\n<p>Introduced in 1.5 version <br>\nIntroduced in 1.2 version</p>\n"},{"tags":[],"owner":{"account_id":4454871,"reputation":259,"user_id":3625510,"display_name":"shahrukhamd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496243101,"creation_date":1496243101,"answer_id":44288314,"question_id":6863182,"body_markdown":"***In addition to [ColinD][1] and [Seeker][2] answers.***\r\n\r\nIn simple terms, **Iterable** and **Iterator** are both interfaces provided in Java&#39;s Collection Framework. \r\n\r\n**Iterable**\r\n\r\nA class has to implement the Iterable interface if it wants to have a *for-each* loop to iterate over its collection. However, **the for-each loop can only be used to cycle through the collection in the forward direction and you won&#39;t be able to modify the elements in this collection**. But, if all you want is to read the elements data, then it&#39;s very simple and thanks to Java lambda expression it&#39;s often one liner. For example:\r\n\r\n    iterableElements.forEach (x -&gt; System.out.println(x) );\r\n\r\n**Iterator**\r\n\r\nThis interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a **iterator()** method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface **you can add, modify or remove elements in a collection**. But, accessing elements needs a little more code than iterable. For example:\r\n\r\n    for (Iterator i = c.iterator(); i.hasNext(); ) {\r\n           Element e = i.next();    //Get the element\r\n           System.out.println(e);    //access or modify the element\r\n    }\r\n\r\n\r\n----------\r\n**Sources:**\r\n\r\n 1. [Java Doc Iterable][3] \r\n 2. [Java Doc Iterator][4]\r\n\r\n  [1]: https://stackoverflow.com/users/13792/colind\r\n  [2]: https://stackoverflow.com/users/5053862/seeker\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><strong><em>In addition to <a href=\"https://stackoverflow.com/users/13792/colind\">ColinD</a> and <a href=\"https://stackoverflow.com/users/5053862/seeker\">Seeker</a> answers.</em></strong></p>\n\n<p>In simple terms, <strong>Iterable</strong> and <strong>Iterator</strong> are both interfaces provided in Java's Collection Framework. </p>\n\n<p><strong>Iterable</strong></p>\n\n<p>A class has to implement the Iterable interface if it wants to have a <em>for-each</em> loop to iterate over its collection. However, <strong>the for-each loop can only be used to cycle through the collection in the forward direction and you won't be able to modify the elements in this collection</strong>. But, if all you want is to read the elements data, then it's very simple and thanks to Java lambda expression it's often one liner. For example:</p>\n\n<pre><code>iterableElements.forEach (x -&gt; System.out.println(x) );\n</code></pre>\n\n<p><strong>Iterator</strong></p>\n\n<p>This interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a <strong>iterator()</strong> method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface <strong>you can add, modify or remove elements in a collection</strong>. But, accessing elements needs a little more code than iterable. For example:</p>\n\n<pre><code>for (Iterator i = c.iterator(); i.hasNext(); ) {\n       Element e = i.next();    //Get the element\n       System.out.println(e);    //access or modify the element\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Sources:</strong></p>\n\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Java Doc Iterable</a> </li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Java Doc Iterator</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10298445,"reputation":418,"user_id":7597849,"display_name":"Doomed93"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496848260,"creation_date":1496848260,"answer_id":44416512,"question_id":6863182,"body_markdown":"Basically speaking, both of them are very closely related to each other.\r\n\r\nConsider **Iterator** to be an interface which helps us in traversing through a collection with the help of some undefined methods like *hasNext(), next() and remove()*\r\n\r\nOn the flip side, **Iterable** is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\r\nIt has only one method named iterator() which comes from Iterator interface itself.\r\n\r\nWhen a collection is iterable, then it can be iterated using an iterator.\r\n\r\nFor understanding visit these:\r\n\r\n**ITERABLE:**  http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\r\n\r\n**ITERATOR** http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\r\n\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Basically speaking, both of them are very closely related to each other.</p>\n\n<p>Consider <strong>Iterator</strong> to be an interface which helps us in traversing through a collection with the help of some undefined methods like <em>hasNext(), next() and remove()</em></p>\n\n<p>On the flip side, <strong>Iterable</strong> is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\nIt has only one method named iterator() which comes from Iterator interface itself.</p>\n\n<p>When a collection is iterable, then it can be iterated using an iterator.</p>\n\n<p>For understanding visit these:</p>\n\n<p><strong>ITERABLE:</strong>  <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java</a></p>\n\n<p><strong>ITERATOR</strong> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java</a></p>\n"},{"tags":[],"owner":{"account_id":11568815,"reputation":21,"user_id":8476173,"display_name":"Abhishek Malviya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545639962,"creation_date":1502950093,"answer_id":45727709,"question_id":6863182,"body_markdown":"Consider an example having 10 apples.\r\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.\r\n\r\nBy implementing iterator, we can get any apple, apple in next boxes etc.\r\n\r\nSo implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Consider an example having 10 apples.\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.</p>\n\n<p>By implementing iterator, we can get any apple, apple in next boxes etc.</p>\n\n<p>So implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.</p>\n"},{"tags":[],"owner":{"account_id":11320264,"reputation":31,"user_id":8300785,"display_name":"Sangeeta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510642892,"creation_date":1510637271,"answer_id":47278293,"question_id":6863182,"body_markdown":"As explained [here][1], The *Iterable* was introduced to be able to use in the `foreach` loop. A class implementing the *Iterable* interface can be iterated over. \r\n\r\nIterator is class that manages iteration over an *Iterable*. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.\r\n\r\n\r\n  [1]: https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>As explained <a href=\"https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/\" rel=\"nofollow noreferrer\">here</a>, The <em>Iterable</em> was introduced to be able to use in the <code>foreach</code> loop. A class implementing the <em>Iterable</em> interface can be iterated over. </p>\n\n<p>Iterator is class that manages iteration over an <em>Iterable</em>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"comments":[{"owner":{"account_id":5137801,"reputation":1752,"user_id":4115996,"display_name":"Prasanna"},"score":0,"creation_date":1592148935,"post_id":47706549,"comment_id":110314717,"body_markdown":"I Understood this post, but what if I want to write a method whose return type is `Iterable&lt;T&gt;` then in this scenario what steps do we need to implement? Please suggest that example also.","body":"I Understood this post, but what if I want to write a method whose return type is <code>Iterable&lt;T&gt;</code> then in this scenario what steps do we need to implement? Please suggest that example also."}],"tags":[],"owner":{"account_id":3544068,"reputation":692,"user_id":2960480,"accept_rate":0,"display_name":"Jaemoon Hwang"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1571146277,"creation_date":1512697845,"answer_id":47706549,"question_id":6863182,"body_markdown":"I will answer the question especially about ArrayList as an example in order to help you understand better..\r\n\r\n\r\n1. Iterable interface forces its subclasses to implement abstract method &#39;iterator()&#39;.\r\n\r\n&gt;     public interface Iterable {\r\n&gt;     \t...\r\n&gt;     \tabstract Iterator&lt;T&gt; iterator(); //Returns an &#39;Iterator&#39;(not iterator) over elements of type T.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n2. Iterator interface forces its subclasses to implement abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n&gt;     public interface Iterator&#160;{\r\n&gt;     \t...\r\n&gt;     \tabstract boolean hasNext();\t//Returns&#160;true&#160;if the iteration has more elements.\r\n&gt;     \tabstract E next();\t        //Returns the next element in the iteration.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n\r\n3. ArrayList implements List, List extends Collection and Collection extends Iterable..\r\nThat is, you could see the relationship like \r\n&gt; &#39;Iterable &lt;- Collection &lt;- List &lt;- ArrayList&#39;\r\n\r\n. \r\nAnd Iterable, Collection and List just declare abstract method &#39;iterator()&#39; and ArrayList alone implements it.\r\n\r\n\r\n4. I am going to show ArrayList source code with &#39;iterator()&#39; method as follows for more detailed information.\r\n\r\n&#39;iterator()&#39; method returns an object of class &#39;Itr&#39; which implements &#39;Iterator&lt;E&gt;&#39;.\r\n\r\n\r\n&gt;     public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\r\n&gt;     {\r\n&gt;     \t...\r\n&gt;     \tpublic Iterator&lt;E&gt; iterator() {\r\n&gt;           \t\treturn new Itr();\r\n&gt;     \t}\r\n&gt;     \r\n&gt;     \r\n&gt;     \tprivate class Itr implements Iterator&lt;E&gt; {\r\n&gt;     \t        ...\r\n&gt;     \t        \r\n&gt;     \t        public boolean hasNext() {\r\n&gt;     \t            return cursor != size;\r\n&gt;     \t        }\r\n&gt;     \t        @SuppressWarnings(&quot;unchecked&quot;)\r\n&gt;     \t        public E next() {\r\n&gt;     \t            checkForComodification();\r\n&gt;     \t            int i = cursor;\r\n&gt;     \t            if (i &gt;= size)\r\n&gt;     \t                throw new NoSuchElementException();\r\n&gt;     \t            Object[] elementData = ArrayList.this.elementData;\r\n&gt;     \t            if (i &gt;= elementData.length)\r\n&gt;     \t                throw new ConcurrentModificationException();\r\n&gt;     \t            cursor = i + 1;\r\n&gt;     \t            return (E) elementData[lastRet = i];\r\n&gt;     \t        }\r\n&gt;     \t        ...\r\n&gt;     \t}\r\n&gt;     }\r\n\r\n5. Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator&lt;E&gt; (Itr).\r\n\r\n&gt; Here is a simple example.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;a&quot;);\r\n        list.add(&quot;b&quot;);\r\n        list.add(&quot;c&quot;);\r\n        list.add(&quot;d&quot;);\r\n        list.add(&quot;e&quot;);\r\n        list.add(&quot;f&quot;);\r\n\r\n        Iterator&lt;String&gt; iterator = list.iterator();\r\n        while (iterator.hasNext()) {\r\n            String string = iterator.next();\r\n            System.out.println(string);\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow, is it clear? :)\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I will answer the question especially about ArrayList as an example in order to help you understand better..</p>\n\n<ol>\n<li>Iterable interface forces its subclasses to implement abstract method 'iterator()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterable {\n  ...\n  abstract Iterator&lt;T&gt; iterator(); //Returns an 'Iterator'(not iterator) over elements of type T.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Iterator interface forces its subclasses to implement abstract method 'hasNext()' and 'next()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterator{\n  ...\n  abstract boolean hasNext(); //Returnstrueif the iteration has more elements.\n  abstract E next();          //Returns the next element in the iteration.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>ArrayList implements List, List extends Collection and Collection extends Iterable..\nThat is, you could see the relationship like \n\n<blockquote>\n  <p>'Iterable &lt;- Collection &lt;- List &lt;- ArrayList'</p>\n</blockquote></li>\n</ol>\n\n<p>. \nAnd Iterable, Collection and List just declare abstract method 'iterator()' and ArrayList alone implements it.</p>\n\n<ol start=\"4\">\n<li>I am going to show ArrayList source code with 'iterator()' method as follows for more detailed information.</li>\n</ol>\n\n<p>'iterator()' method returns an object of class 'Itr' which implements 'Iterator'.</p>\n\n<blockquote>\n<pre><code>public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\n{\n  ...\n  public Iterator&lt;E&gt; iterator() {\n              return new Itr();\n  }\n\n\n  private class Itr implements Iterator&lt;E&gt; {\n          ...\n\n          public boolean hasNext() {\n              return cursor != size;\n          }\n          @SuppressWarnings(\"unchecked\")\n          public E next() {\n              checkForComodification();\n              int i = cursor;\n              if (i &gt;= size)\n                  throw new NoSuchElementException();\n              Object[] elementData = ArrayList.this.elementData;\n              if (i &gt;= elementData.length)\n                  throw new ConcurrentModificationException();\n              cursor = i + 1;\n              return (E) elementData[lastRet = i];\n          }\n          ...\n  }\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator (Itr).</li>\n</ol>\n\n<blockquote>\n  <p>Here is a simple example.</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    list.add(\"d\");\n    list.add(\"e\");\n    list.add(\"f\");\n\n    Iterator&lt;String&gt; iterator = list.iterator();\n    while (iterator.hasNext()) {\n        String string = iterator.next();\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<p>Now, is it clear? :)</p>\n"},{"comments":[{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1549477407,"post_id":54559469,"comment_id":95919595,"body_markdown":"Welcome to SO, you could always take the tour [here](https://stackoverflow.com/tour), so that your answer would be more helpful and clean. In our case the question is asking for an explanation regarding the two classes, but your answer is quite confusing instead of clearing things out. Also try to keep a ref, while posting snippets from known/valid/certified sources, to make your answer more concrete.","body":"Welcome to SO, you could always take the tour <a href=\"https://stackoverflow.com/tour\">here</a>, so that your answer would be more helpful and clean. In our case the question is asking for an explanation regarding the two classes, but your answer is quite confusing instead of clearing things out. Also try to keep a ref, while posting snippets from known/valid/certified sources, to make your answer more concrete."}],"tags":[],"owner":{"account_id":15278730,"reputation":11,"user_id":11023747,"display_name":"Ranuj Mahajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549477965,"creation_date":1549474554,"answer_id":54559469,"question_id":6863182,"body_markdown":"`Iterable` were introduced to use in for each loop in java\r\n\r\n    public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \r\n\r\n`Iterator` is class that manages iteration over an `Iterable`. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><code>Iterable</code> were introduced to use in for each loop in java</p>\n\n<pre><code>public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \n</code></pre>\n\n<p><code>Iterator</code> is class that manages iteration over an <code>Iterable</code>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"comments":[{"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"score":0,"creation_date":1603802723,"post_id":62681180,"comment_id":114146763,"body_markdown":"very good example.. So cant we say... shelf of books is the thing and to go over it we have librarian. without librarian bookshelf has no value as we cant iterate over them","body":"very good example.. So cant we say... shelf of books is the thing and to go over it we have librarian. without librarian bookshelf has no value as we cant iterate over them"}],"tags":[],"owner":{"account_id":3805427,"reputation":381,"user_id":3157995,"display_name":"Edgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1593620585,"creation_date":1593620585,"answer_id":62681180,"question_id":6863182,"body_markdown":"I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here&#39;s a good, simple analogy to help you understand this distinction between iterables and iterators: \r\n\r\nThink of a public library. Old school. With paper books.  Yes, that kind of library.  \r\n\r\nA shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.  \r\n\r\nThe librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he&#39;s pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he&#39;ll say &quot;yes&quot;, to which you say &quot;next!&quot; and he&#39;ll point to the next book.  He also knows when he&#39;s reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he&#39;ll say &quot;no&quot;.  \r\n\r\nI know it&#39;s a bit silly, but I hope this helps.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here's a good, simple analogy to help you understand this distinction between iterables and iterators:</p>\n<p>Think of a public library. Old school. With paper books.  Yes, that kind of library.</p>\n<p>A shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.</p>\n<p>The librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he's pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he'll say &quot;yes&quot;, to which you say &quot;next!&quot; and he'll point to the next book.  He also knows when he's reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he'll say &quot;no&quot;.</p>\n<p>I know it's a bit silly, but I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643362364,"creation_date":1643354951,"answer_id":70890188,"question_id":6863182,"body_markdown":"An anonymous class easily converts an `Iterator` to an `Iterable` and lets you use the `Iterable` syntax (for loops, `forEach()`).\r\n\r\nExample: consider an `Iterator&lt;T&gt; it`\r\n\r\n```java\r\nfor (T element : new Iterable&lt;T&gt;() {\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return it;\r\n    }\r\n\r\n}) {\r\n    //do something with `T element`\r\n}\r\n```\r\n\r\nAbstracted in a function\r\n\r\n```java\r\nstatic &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\r\n    return new Iterable&lt;T&gt;() {\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return it;\r\n        }\r\n\r\n    };\r\n}\r\n```\r\nUsage \r\n```java\r\nfor (T element: toIterable(it) {\r\n...\r\n}\r\n```","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An anonymous class easily converts an <code>Iterator</code> to an <code>Iterable</code> and lets you use the <code>Iterable</code> syntax (for loops, <code>forEach()</code>).</p>\n<p>Example: consider an <code>Iterator&lt;T&gt; it</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element : new Iterable&lt;T&gt;() {\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return it;\n    }\n\n}) {\n    //do something with `T element`\n}\n</code></pre>\n<p>Abstracted in a function</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\n    return new Iterable&lt;T&gt;() {\n\n        @Override\n        public Iterator&lt;T&gt; iterator() {\n            return it;\n        }\n\n    };\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element: toIterable(it) {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358481,"creation_date":1675358481,"answer_id":75326759,"question_id":6863182,"body_markdown":"Most java interfaces ends with ***&#39;able&#39;***. examples are **Iterable**, **Cloneable**, **Serializable**, **Runnable**, etc. Therefore, **Iterable** is an interface that has an abstract method called iterator() which returns an Iterator object. \r\n\r\n    public interface Iterable {\r\n      abstract Iterator&lt;T&gt; iterator(); \r\n    }\r\n\r\nIterator interface has abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n    public interface Iterator {\r\n     abstract boolean hasNext();\r\n     abstract E next();          \r\n    }\r\n\r\nA clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\r\n[![enter image description here][1]][1]\r\n   \r\n    List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\r\n    list.add(&quot;US&quot;);\r\n    list.add(&quot;China&quot;);\r\n    list.add(&quot;Japan&quot;);\r\n    list.add(&quot;India&quot;);\r\n\r\n    Iterator&lt;String&gt; it = countrylist.iterator();\r\n    while (it.hasNext()) {\r\n        String string = it.next();\r\n        System.out.println(string);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JTV4g.jpg","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Most java interfaces ends with <em><strong>'able'</strong></em>. examples are <strong>Iterable</strong>, <strong>Cloneable</strong>, <strong>Serializable</strong>, <strong>Runnable</strong>, etc. Therefore, <strong>Iterable</strong> is an interface that has an abstract method called iterator() which returns an Iterator object.</p>\n<pre><code>public interface Iterable {\n  abstract Iterator&lt;T&gt; iterator(); \n}\n</code></pre>\n<p>Iterator interface has abstract method 'hasNext()' and 'next()'.</p>\n<pre><code>public interface Iterator {\n abstract boolean hasNext();\n abstract E next();          \n}\n</code></pre>\n<p>A clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\n<a href=\"https://i.stack.imgur.com/JTV4g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTV4g.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\nlist.add(&quot;US&quot;);\nlist.add(&quot;China&quot;);\nlist.add(&quot;Japan&quot;);\nlist.add(&quot;India&quot;);\n\nIterator&lt;String&gt; it = countrylist.iterator();\nwhile (it.hasNext()) {\n    String string = it.next();\n    System.out.println(string);\n}\n</code></pre>\n"}],"owner":{"account_id":251400,"reputation":2741,"user_id":528750,"accept_rate":33,"display_name":"Charles Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185406,"favorite_count":0,"down_vote_count":0,"up_vote_count":255,"accepted_answer_id":6863258,"answer_count":15,"score":255,"last_activity_date":1675358481,"creation_date":1311874507,"question_id":6863182,"body_markdown":"I am new in Java and I&#39;m really confused with iterator and iterable. Can anyone explain to me and give some examples?","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I am new in Java and I'm really confused with iterator and iterable. Can anyone explain to me and give some examples?</p>\n"},{"tags":["java","datetime","datetime-conversion"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1671074489,"post_id":74806407,"comment_id":132021133,"body_markdown":"`LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId.of(&quot;US/Eastern&quot;)).toInstant()`","body":"<code>LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId&zwnj;&#8203;.of(&quot;US&#47;Eastern&quot;)).t&zwnj;&#8203;oInstant()</code>"},{"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"score":0,"creation_date":1671086438,"post_id":74806407,"comment_id":132022880,"body_markdown":"@AndreyB.Panfilov This suits my needs well. thanks!","body":"@AndreyB.Panfilov This suits my needs well. thanks!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178535,"post_id":74806407,"comment_id":132047251,"body_markdown":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way.","body":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178617,"post_id":74806407,"comment_id":132047276,"body_markdown":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in *region/city* format.","body":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in <i>region/city</i> format."}],"answers":[{"comments":[{"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"score":0,"creation_date":1671086299,"post_id":74806822,"comment_id":132022850,"body_markdown":"Thanks, it worked :) The output converted to string in this case would be &quot;2022-12-22T23:20Z[UTC]&quot;. Using @AndreyB.Panfilov &#39;s answer we can get a string without the timezone &quot;2022-12-22T23:20:00Z&quot;.","body":"Thanks, it worked :) The output converted to string in this case would be &quot;2022-12-22T23:20Z[UTC]&quot;. Using @AndreyB.Panfilov &#39;s answer we can get a string without the timezone &quot;2022-12-22T23:20:00Z&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1671086370,"post_id":74806822,"comment_id":132022865,"body_markdown":"Good Answer, but I would make that second line an `OffsetDateTime` as there is no time zone, only an offset.","body":"Good Answer, but I would make that second line an <code>OffsetDateTime</code> as there is no time zone, only an offset."}],"tags":[],"owner":{"account_id":38390,"reputation":2635,"user_id":110156,"accept_rate":80,"display_name":"Jamie Bisotti"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675358157,"creation_date":1671078451,"answer_id":74806822,"question_id":74806407,"body_markdown":"** **Update** **\r\n\r\nA better version, thanks to Arvind&#39;s response below.\r\n\r\n```java\r\n    final ZonedDateTime americaNewYork =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\r\n    final Instant utc = americaNewYork.toInstant();\r\n```\r\n\r\n---\r\n**First Pass**\r\n\r\nI&#39;m not at a computer where I can test this but I think this might do the trick...\r\n\r\n```java\r\n    final ZonedDateTime usEastern =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\r\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\r\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\n```","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>** <strong>Update</strong> **</p>\n<p>A better version, thanks to Arvind's response below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime americaNewYork =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\n    final Instant utc = americaNewYork.toInstant();\n</code></pre>\n<hr />\n<p><strong>First Pass</strong></p>\n<p>I'm not at a computer where I can test this but I think this might do the trick...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime usEastern =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673521642,"creation_date":1673521642,"answer_id":75095380,"question_id":74806407,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/74806822/10819573) is correct but there are a few things that are important for future visitors to this page.\r\n\r\nYou do not need to specify a `DateTimeFormatter`\r\n--\r\n\r\n`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need to specify a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, `2015-03-21T11:08:14.859831`).\r\n\r\nGet an [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) out of the `ZonedDateTime`\r\n--\r\n\r\nOnce you convert the `LocalDateTime`, parsed from the given date-time string, into a `ZonedDateTime`, I recommend you get an `Instant` out of this `ZonedDateTime`. An `Instant` is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.\r\n\r\n*US/Eastern* is deprecated \r\n--\r\n\r\nAs you find at [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones), *US/Eastern* is deprecated. I recommend you avoid using *US/Eastern* and use *America/New_York* instead.\r\n\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.List;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                                             .atZone(zone);\r\n            // Alternatively\r\n            // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\r\n    \r\n            Instant instant = zdt.toInstant();\r\n            System.out.println(instant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-22T23:20:00Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wnrEqa)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/74806822/10819573\">accepted answer</a> is correct but there are a few things that are important for future visitors to this page.</p>\n<h2>You do not need to specify a <code>DateTimeFormatter</code></h2>\n<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need to specify a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, <code>2015-03-21T11:08:14.859831</code>).</p>\n<h2>Get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> out of the <code>ZonedDateTime</code></h2>\n<p>Once you convert the <code>LocalDateTime</code>, parsed from the given date-time string, into a <code>ZonedDateTime</code>, I recommend you get an <code>Instant</code> out of this <code>ZonedDateTime</code>. An <code>Instant</code> is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.</p>\n<h2><em>US/Eastern</em> is deprecated</h2>\n<p>As you find at <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a>, <em>US/Eastern</em> is deprecated. I recommend you avoid using <em>US/Eastern</em> and use <em>America/New_York</em> instead.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.List;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n        ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                                         .atZone(zone);\n        // Alternatively\n        // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\n\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-22T23:20:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/wnrEqa\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74806822,"answer_count":2,"score":0,"last_activity_date":1675358157,"creation_date":1671073556,"question_id":74806407,"body_markdown":"For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675357688,"creation_date":1675357688,"answer_id":75326629,"question_id":75114625,"body_markdown":"You marked the column as `insertable = false, updatable = false`, so there is nothing to audit here, because Hibernate can never change the value of that column.","title":"@ManyToOne relationship is not audited","body":"<p>You marked the column as <code>insertable = false, updatable = false</code>, so there is nothing to audit here, because Hibernate can never change the value of that column.</p>\n"}],"owner":{"account_id":4651858,"reputation":87,"user_id":3768526,"accept_rate":14,"display_name":"braab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357688,"creation_date":1673645324,"question_id":75114625,"body_markdown":"I have two entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity_a&quot;)\r\n    @Audited\r\n    public class EntityA {\r\n    \r\n        @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        /**\r\n         * @deprecated in favor of uuid\r\n         */\r\n        @Deprecated\r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;entity_a_id&quot;)\r\n        private Integer id;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\r\n        @BatchSize(size = 100)\r\n        @NotAudited\r\n        private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Audited\r\n    @Table(name = &quot;entity_b&quot;)\r\n    public class EntityB {\r\n    \r\n        @Id\r\n        @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\r\n        private EntityA entityA;\r\n    }\r\n\r\nEach is correctly audited into two tables `entity_a_audit` and `entity_b_audit`. However, the `entity_a_id` field in `entity_b_audit` is *always* null.\r\n\r\nSome details:\r\n\r\n 1. If I do not have the `@NotAudited` in `EntityA`, I will get an error that says something to the effect of: The table `EntityA_EntityB_audit` does not exist. This seems like it&#39;s trying to audit them as a single table, which I do not want.\r\n\r\n2. I have tried applying `@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)` to each side. If applied only in `EntityA`, I get the above error. If applied only in `EntityB`, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.\r\n\r\n3. I suspect the `entity_a_id` is null in `entity_b_audit` because the id isn&#39;t generated until EntityA hits the DB. `entity_a_id` is auto-incrementing in the `entity_a` table.\r\n\r\n4. Using `hibernate-envers-5.4.32.Final.jar`\r\n\r\nUltimately, I would like for `entity_a_id` to not be null in `entity_b_audit`. Alternatively, if I could somehow get `entity_a_uuid` to be captured instead, that would also suffice.\r\n\r\nAny help would be greatly appreciated! Thanks.","title":"@ManyToOne relationship is not audited","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;entity_a&quot;)\n@Audited\npublic class EntityA {\n\n    @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    /**\n     * @deprecated in favor of uuid\n     */\n    @Deprecated\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;entity_a_id&quot;)\n    private Integer id;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\n    @BatchSize(size = 100)\n    @NotAudited\n    private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Audited\n@Table(name = &quot;entity_b&quot;)\npublic class EntityB {\n\n    @Id\n    @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\n    private EntityA entityA;\n}\n</code></pre>\n<p>Each is correctly audited into two tables <code>entity_a_audit</code> and <code>entity_b_audit</code>. However, the <code>entity_a_id</code> field in <code>entity_b_audit</code> is <em>always</em> null.</p>\n<p>Some details:</p>\n<ol>\n<li><p>If I do not have the <code>@NotAudited</code> in <code>EntityA</code>, I will get an error that says something to the effect of: The table <code>EntityA_EntityB_audit</code> does not exist. This seems like it's trying to audit them as a single table, which I do not want.</p>\n</li>\n<li><p>I have tried applying <code>@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)</code> to each side. If applied only in <code>EntityA</code>, I get the above error. If applied only in <code>EntityB</code>, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.</p>\n</li>\n<li><p>I suspect the <code>entity_a_id</code> is null in <code>entity_b_audit</code> because the id isn't generated until EntityA hits the DB. <code>entity_a_id</code> is auto-incrementing in the <code>entity_a</code> table.</p>\n</li>\n<li><p>Using <code>hibernate-envers-5.4.32.Final.jar</code></p>\n</li>\n</ol>\n<p>Ultimately, I would like for <code>entity_a_id</code> to not be null in <code>entity_b_audit</code>. Alternatively, if I could somehow get <code>entity_a_uuid</code> to be captured instead, that would also suffice.</p>\n<p>Any help would be greatly appreciated! Thanks.</p>\n"},{"tags":["java","android","react-native","facebook"],"answers":[{"comments":[{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":0,"creation_date":1675355391,"post_id":75325354,"comment_id":132915764,"body_markdown":"I am running first npm start only.","body":"I am running first npm start only."},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675356091,"post_id":75325354,"comment_id":132915987,"body_markdown":"Ok. The problem here is pretty much clear. If you see the description of the error &quot;Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;)&quot;, it simply states that still, your app is looking to make a call to the metro server to get the javascript( debug apk and release apk should not do this). Could you try to clear the gradle cache and metro cache before running the above steps using below commands? command 1:  cd android &amp;&amp; ./gradlew clean 2: npm start --reset-cache.","body":"Ok. The problem here is pretty much clear. If you see the description of the error &quot;Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;)&quot;, it simply states that still, your app is looking to make a call to the metro server to get the javascript( debug apk and release apk should not do this). Could you try to clear the gradle cache and metro cache before running the above steps using below commands? command 1:  cd android &amp;&amp; ./gradlew clean 2: npm start --reset-cache."},{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":1,"creation_date":1675357112,"post_id":75325354,"comment_id":132916311,"body_markdown":"Have done it all. build is working fine on local machine. The release apk on bamboo throws this error on app launch","body":"Have done it all. build is working fine on local machine. The release apk on bamboo throws this error on app launch"},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675360933,"post_id":75325354,"comment_id":132917696,"body_markdown":"If it is the release build, i would suggest you the check this link. https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339","body":"If it is the release build, i would suggest you the check this link. <a href=\"https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339\" rel=\"nofollow noreferrer\">github.com/react-native-community/upgrade-support/issues/&hellip;</a>"},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675408593,"post_id":75325354,"comment_id":132926552,"body_markdown":"@Swetha., any luck with the above comment? I suspect the issue is with the release build","body":"@Swetha., any luck with the above comment? I suspect the issue is with the release build"},{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":0,"creation_date":1675409732,"post_id":75325354,"comment_id":132926786,"body_markdown":"Hi, Still no luck. No workaround is helping. The issue persists with release build.","body":"Hi, Still no luck. No workaround is helping. The issue persists with release build."},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675425191,"post_id":75325354,"comment_id":132931159,"body_markdown":"Ok. I thought the above link would solve the issue. But I have a question here. Are you still running npm start as the first step? I think this step would be needed only if you are building debug apk. But as you are building release one, you should not run that step I believe. This link mentions 4 steps that needs to be followed. https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339.","body":"Ok. I thought the above link would solve the issue. But I have a question here. Are you still running npm start as the first step? I think this step would be needed only if you are building debug apk. But as you are building release one, you should not run that step I believe. This link mentions 4 steps that needs to be followed. <a href=\"https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339\" rel=\"nofollow noreferrer\">github.com/react-native-community/upgrade-support/issues/&hellip;</a>."}],"tags":[],"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351602,"creation_date":1675351602,"answer_id":75325354,"question_id":75324373,"body_markdown":"Before doing the first step i.e., `mkdir android/app/src/main/assets`, you have to run the metro server using the `npm start` command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.\r\n\r\nhttps://stackoverflow.com/a/37965603/8988448","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>Before doing the first step i.e., <code>mkdir android/app/src/main/assets</code>, you have to run the metro server using the <code>npm start</code> command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.</p>\n<p><a href=\"https://stackoverflow.com/a/37965603/8988448\">https://stackoverflow.com/a/37965603/8988448</a></p>\n"}],"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357667,"creation_date":1675347019,"question_id":75324373,"body_markdown":"I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource \r\nhttps://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4 (followed every instruction in it).\r\n\r\nBut after generating the apk and I see the below error during the launch -&gt;\r\n\r\n```\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.s(ReactInstanceManager.java:39)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.c(ReactInstanceManager.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o$f.run(ReactInstanceManager.java:12)\r\n\r\n```\r\n\r\nMy index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:\r\n\r\n - $ mkdir android/app/src/main/assets\r\n\r\n   $ react-native bundle --platform android --dev false --entry-file index.android.js -- \r\n   bundle-output android/app/src/main/assets/index.android.bundle --assets-dest \r\n   android/app/src/main/res\r\n\r\n - In Project build.gradle =&gt; \r\n\r\n      project.ext.react=&#160;[\r\n\r\n     &#160;bundleInDebug:&#160;true,\r\n\r\n   &#160;bundleInRelease:&#160;true ]\r\n\r\n - In androidManifest.xml =&gt; \r\n\r\n   android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n   tools:ignore=&quot;GoogleAppIndexingWarning\r\n\r\n - In Project build.gradle =&gt;\r\n\r\n   project.ext.react=&#160;[\r\n\r\n   entryFile:&#160;&quot;index.js&quot;,\r\n\r\n   bundleAssetName:&#160;&quot;index.android.bundle&quot;,\r\n \r\n   devDisabledInAppDev:&#160;true,\r\n  \r\n   devDisabledInRelease:&#160;true ]\r\n\r\n - https://stackoverflow.com/a/49143330/18210851\r\n\r\n**Please suggest some solution.**","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource\n<a href=\"https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4\" rel=\"nofollow noreferrer\">https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4</a> (followed every instruction in it).</p>\n<p>But after generating the apk and I see the below error during the launch -&gt;</p>\n<pre><code>01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.s(ReactInstanceManager.java:39)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.c(ReactInstanceManager.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o$f.run(ReactInstanceManager.java:12)\n\n</code></pre>\n<p>My index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:</p>\n<ul>\n<li><p>$ mkdir android/app/src/main/assets</p>\n<p>$ react-native bundle --platform android --dev false --entry-file index.android.js --\nbundle-output android/app/src/main/assets/index.android.bundle --assets-dest\nandroid/app/src/main/res</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react=[</p>\n<p>bundleInDebug:true,</p>\n<p>bundleInRelease:true ]</p>\n</li>\n<li><p>In androidManifest.xml =&gt;</p>\n<p>android:usesCleartextTraffic=&quot;true&quot;</p>\n<p>tools:ignore=&quot;GoogleAppIndexingWarning</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react=[</p>\n<p>entryFile:&quot;index.js&quot;,</p>\n<p>bundleAssetName:&quot;index.android.bundle&quot;,</p>\n<p>devDisabledInAppDev:true,</p>\n<p>devDisabledInRelease:true ]</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/49143330/18210851\">https://stackoverflow.com/a/49143330/18210851</a></p>\n</li>\n</ul>\n<p><strong>Please suggest some solution.</strong></p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1675345950,"post_id":75324143,"comment_id":132912185,"body_markdown":"have you tried applying a dateformatter?","body":"have you tried applying a dateformatter?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675353751,"post_id":75324143,"comment_id":132915223,"body_markdown":"I believe that the standard format in [SQLite is YYYY-MM-DD](https://www.sqlite.org/lang_datefunc.html), also known as ISO 8601. I would certainly use it. It is also the default format for `LocalDate`, which makes it easy to format it for your user the way they prefer to see it, for example dd/mm/yyyy.","body":"I believe that the standard format in <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">SQLite is YYYY-MM-DD</a>, also known as ISO 8601. I would certainly use it. It is also the default format for <code>LocalDate</code>, which makes it easy to format it for your user the way they prefer to see it, for example dd/mm/yyyy."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675353536,"post_id":75324272,"comment_id":132915139,"body_markdown":"Way too manual. Use a formatter. See the other answer.","body":"Way too manual. Use a formatter. See the other answer."}],"tags":[],"owner":{"account_id":26794663,"reputation":89,"user_id":20387575,"display_name":"John Johnson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675346494,"creation_date":1675346494,"answer_id":75324272,"question_id":75324143,"body_markdown":"This is how i got it to work:\r\n\r\n\r\n            String sYear = String.valueOf(Year);\r\n            String sMonth = String.valueOf((Month + 1));\r\n            String sDay = String.valueOf(Day);\r\n\r\n            if (sDay.length() == 1)\r\n                sDay = &quot;0&quot; + sDay;\r\n\r\n            if (sMonth.length() == 1)\r\n                sMonth = &quot;0&quot; + sMonth;\r\n\r\n            if (sDay.length() == 1)\r\n                sDay = &quot;0&quot; + sDay;\r\n\r\n                date =   sDay + &quot;/&quot; + sMonth + &quot;/&quot; + sYear;","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>This is how i got it to work:</p>\n<pre><code>        String sYear = String.valueOf(Year);\n        String sMonth = String.valueOf((Month + 1));\n        String sDay = String.valueOf(Day);\n\n        if (sDay.length() == 1)\n            sDay = &quot;0&quot; + sDay;\n\n        if (sMonth.length() == 1)\n            sMonth = &quot;0&quot; + sMonth;\n\n        if (sDay.length() == 1)\n            sDay = &quot;0&quot; + sDay;\n\n            date =   sDay + &quot;/&quot; + sMonth + &quot;/&quot; + sYear;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1675353842,"post_id":75325498,"comment_id":132915262,"body_markdown":"Good answer. I suspect that the OPs date picker uses 0-based month numbers (0 = January through 11 = December), so they will probably need a simple conversion.","body":"Good answer. I suspect that the OPs date picker uses 0-based month numbers (0 = January through 11 = December), so they will probably need a simple conversion."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1678741281,"post_id":75325498,"comment_id":133589514,"body_markdown":"the demo is really helpful. other answers are also good, but I think this one is the most complete","body":"the demo is really helpful. other answers are also good, but I think this one is the most complete"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675352253,"creation_date":1675352253,"answer_id":75325498,"question_id":75324143,"body_markdown":"There is a better way (than what you have posted as an answer) to get the required formatted string:\r\n\r\n    String output = String.format(&quot;%02d/%02d/%d&quot;, day, month, year);\r\n\r\nwhere `day`, `month` and `year` are integers.\r\n\r\nUsing `java.time` API:\r\n--\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;);\r\n    \r\n            // Sample units\r\n            int year = 2023, month = 2, day = 1;\r\n            LocalDate date = LocalDate.of(year, month, day);\r\n            String output = date.format(formatter);\r\n            System.out.println(output);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    01/02/2023\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/2um1Dl)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>There is a better way (than what you have posted as an answer) to get the required formatted string:</p>\n<pre><code>String output = String.format(&quot;%02d/%02d/%d&quot;, day, month, year);\n</code></pre>\n<p>where <code>day</code>, <code>month</code> and <code>year</code> are integers.</p>\n<h2>Using <code>java.time</code> API:</h2>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;);\n\n        // Sample units\n        int year = 2023, month = 2, day = 1;\n        LocalDate date = LocalDate.of(year, month, day);\n        String output = date.format(formatter);\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>01/02/2023\n</code></pre>\n<p><a href=\"https://ideone.com/2um1Dl\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":26794663,"reputation":89,"user_id":20387575,"display_name":"John Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75325498,"answer_count":2,"score":3,"last_activity_date":1675357549,"creation_date":1675345888,"question_id":75324143,"body_markdown":"In my SQLite database I have my dates stored in this format 02/01/2023 but when I try to get the date from the calendarview it gives them to me as 2/1/2023 which causes me to have an error when trying to retrieve the data from the database that matches that date. \r\n\r\nHow do I format this into a String variable?\r\n\r\nMy attempt so far:\r\n\r\n\r\n\r\n        public void onSelectedDayChange(@NonNull CalendarView calendarview, int i, int i1,int i2) {\r\n            exercise_name = new ArrayList&lt;&gt;();\r\n            set_weight = new ArrayList&lt;&gt;();\r\n            set_reps = new ArrayList&lt;&gt;();\r\n            set_date= new ArrayList&lt;&gt;();\r\n        //formatting to dd/mm/yyyy\r\n                System.out.println(&quot;both are over 10&quot;);\r\n                date =    i2 + &quot;/&quot; + (i1+1) + &quot;/&quot; + i;\r\n\r\n            //month needs plus 1 because it starts at 0\r\n            tviewdate.setText(date);\r\n            storeDataDateinArrays();","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>In my SQLite database I have my dates stored in this format 02/01/2023 but when I try to get the date from the calendarview it gives them to me as 2/1/2023 which causes me to have an error when trying to retrieve the data from the database that matches that date.</p>\n<p>How do I format this into a String variable?</p>\n<p>My attempt so far:</p>\n<pre><code>    public void onSelectedDayChange(@NonNull CalendarView calendarview, int i, int i1,int i2) {\n        exercise_name = new ArrayList&lt;&gt;();\n        set_weight = new ArrayList&lt;&gt;();\n        set_reps = new ArrayList&lt;&gt;();\n        set_date= new ArrayList&lt;&gt;();\n    //formatting to dd/mm/yyyy\n            System.out.println(&quot;both are over 10&quot;);\n            date =    i2 + &quot;/&quot; + (i1+1) + &quot;/&quot; + i;\n\n        //month needs plus 1 because it starts at 0\n        tviewdate.setText(date);\n        storeDataDateinArrays();\n</code></pre>\n"},{"tags":["java","android","rx-java"],"answers":[{"comments":[{"owner":{"account_id":2023447,"reputation":2411,"user_id":1809096,"accept_rate":57,"display_name":"Sagar Trehan"},"score":0,"creation_date":1460697679,"post_id":30220301,"comment_id":60872126,"body_markdown":"I agree with your point that &quot;zip operator allow you to compose a result from results of two different observable&quot;. Now I want the observable 2 is dependent on observable 1, so observable 1 should execute before observable 2 and then I need to combine the result of both observable. Do we have any operator for this. Can zip do this job. I do not want to use flatMap because it converts one stream into another but here I need to set dependency and then zip the result. Please reply.","body":"I agree with your point that &quot;zip operator allow you to compose a result from results of two different observable&quot;. Now I want the observable 2 is dependent on observable 1, so observable 1 should execute before observable 2 and then I need to combine the result of both observable. Do we have any operator for this. Can zip do this job. I do not want to use flatMap because it converts one stream into another but here I need to set dependency and then zip the result. Please reply."}],"tags":[],"owner":{"account_id":219666,"reputation":11435,"user_id":476690,"display_name":"dwursteisen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431533952,"creation_date":1431533952,"answer_id":30220301,"question_id":30219877,"body_markdown":"`zip` operator allow you to compose a result from results of two different observable. \r\n\r\nYou &#39;ll have to give am lambda that will create a result from datas emitted by each observable.\r\n\r\n\r\n\r\n    Observable&lt;MovieResponse&gt; movies = ...\r\n    Observable&lt;PictureResponse&gt; picture = ...\r\n\r\n    Observable&lt;Response&gt; response = movies.zipWith(picture, (movie, pic) -&gt; {\r\n            return new Response(&quot;description&quot;, movie.getName(), pic.getUrl());\r\n        \r\n    });","title":"Rxjava Android how to use the Zip operator","body":"<p><code>zip</code> operator allow you to compose a result from results of two different observable. </p>\n\n<p>You 'll have to give am lambda that will create a result from datas emitted by each observable.</p>\n\n<pre><code>Observable&lt;MovieResponse&gt; movies = ...\nObservable&lt;PictureResponse&gt; picture = ...\n\nObservable&lt;Response&gt; response = movies.zipWith(picture, (movie, pic) -&gt; {\n        return new Response(\"description\", movie.getName(), pic.getUrl());\n\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4613279,"reputation":1564,"user_id":3740701,"accept_rate":75,"display_name":"feilong"},"score":0,"creation_date":1431539737,"post_id":30221196,"comment_id":48547904,"body_markdown":"The problem I have been running into is that I have a view that I fire off the tasks of the video observable and another that does the picture observable and yet another still that should take both of those results and use them for the final observable.. Will zip return to me the results of observables that have already been executed?","body":"The problem I have been running into is that I have a view that I fire off the tasks of the video observable and another that does the picture observable and yet another still that should take both of those results and use them for the final observable.. Will zip return to me the results of observables that have already been executed?"},{"owner":{"account_id":999177,"reputation":8970,"user_id":1014413,"accept_rate":60,"display_name":"inmyth"},"score":0,"creation_date":1431547369,"post_id":30221196,"comment_id":48552266,"body_markdown":"I don&#39;t think you can execute an observable but I think I understand your point. Observable won&#39;t run until a subsriber is attached to it. So the whole observable arrangement has to be done before you attach the subscriber.","body":"I don&#39;t think you can execute an observable but I think I understand your point. Observable won&#39;t run until a subsriber is attached to it. So the whole observable arrangement has to be done before you attach the subscriber."},{"owner":{"account_id":2023447,"reputation":2411,"user_id":1809096,"accept_rate":57,"display_name":"Sagar Trehan"},"score":1,"creation_date":1460697686,"post_id":30221196,"comment_id":60872128,"body_markdown":"I agree with your point that &quot;zip operator allow you to compose a result from results of two different observable&quot;. Now I want the observable 2 is dependent on observable 1, so observable 1 should execute before observable 2 and then I need to combine the result of both observable. Do we have any operator for this. Can zip do this job. I do not want to use flatMap because it converts one stream into another but here I need to set dependency and then zip the result. Please reply.","body":"I agree with your point that &quot;zip operator allow you to compose a result from results of two different observable&quot;. Now I want the observable 2 is dependent on observable 1, so observable 1 should execute before observable 2 and then I need to combine the result of both observable. Do we have any operator for this. Can zip do this job. I do not want to use flatMap because it converts one stream into another but here I need to set dependency and then zip the result. Please reply."}],"tags":[],"owner":{"account_id":999177,"reputation":8970,"user_id":1014413,"accept_rate":60,"display_name":"inmyth"},"comment_count":3,"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1582566506,"creation_date":1431536834,"answer_id":30221196,"question_id":30219877,"body_markdown":"Zip operator strictly pairs emitted items from observables. It waits for both (or more) items to arrive then merges them. So yes this would be suitable for your needs. \r\n\r\nI would use `Func2` to chain the result from the first two observables. \r\nNotice this approach would be simpler if you use Retrofit since its api interface may return an observable. Otherwise you would need to create your own observable. \r\n\r\n    // assuming each observable returns response in the form of String\r\n    Observable&lt;String&gt; movOb = Observable.create(...);\r\n    // if you use Retrofit\r\n    Observable&lt;String&gt; picOb = RetrofitApiManager.getService().uploadPic(...),\r\n    Observable.zip(movOb, picOb, new Func2&lt;String, String, MyResult&gt;() {\r\n          @Override\r\n          public MyResult call(String movieUploadResponse, String picUploadResponse) {\r\n              // analyze both responses, upload them to another server\r\n              // and return this method with a MyResult type\r\n              return myResult;\r\n          }\r\n       }\r\n    )\r\n    // continue chaining this observable with subscriber\r\n    // or use it for something else","title":"Rxjava Android how to use the Zip operator","body":"<p>Zip operator strictly pairs emitted items from observables. It waits for both (or more) items to arrive then merges them. So yes this would be suitable for your needs. </p>\n\n<p>I would use <code>Func2</code> to chain the result from the first two observables. \nNotice this approach would be simpler if you use Retrofit since its api interface may return an observable. Otherwise you would need to create your own observable. </p>\n\n<pre><code>// assuming each observable returns response in the form of String\nObservable&lt;String&gt; movOb = Observable.create(...);\n// if you use Retrofit\nObservable&lt;String&gt; picOb = RetrofitApiManager.getService().uploadPic(...),\nObservable.zip(movOb, picOb, new Func2&lt;String, String, MyResult&gt;() {\n      @Override\n      public MyResult call(String movieUploadResponse, String picUploadResponse) {\n          // analyze both responses, upload them to another server\n          // and return this method with a MyResult type\n          return myResult;\n      }\n   }\n)\n// continue chaining this observable with subscriber\n// or use it for something else\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4240427,"reputation":1015,"user_id":3470479,"display_name":"Prakhar Kulshreshtha"},"score":0,"creation_date":1644058810,"post_id":38093782,"comment_id":125507918,"body_markdown":"should have posted results too","body":"should have posted results too"}],"tags":[],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467187577,"creation_date":1467187577,"answer_id":38093782,"question_id":30219877,"body_markdown":"Here I have an example that I did using Zip in asynchronous way, just in case you&#180;re curious\r\n\r\n\r\n\r\n\r\n          /**\r\n     * Since every observable into the zip is created to subscribeOn a diferent thread, it&#180;s means all of them will run in parallel.\r\n     * By default Rx is not async, only if you explicitly use subscribeOn.\r\n      */\r\n    @Test\r\n    public void testAsyncZip() {\r\n        scheduler = Schedulers.newThread();\r\n        scheduler1 = Schedulers.newThread();\r\n        scheduler2 = Schedulers.newThread();\r\n        long start = System.currentTimeMillis();\r\n        Observable.zip(obAsyncString(), obAsyncString1(), obAsyncString2(), (s, s2, s3) -&gt; s.concat(s2)\r\n                                                                                            .concat(s3))\r\n                  .subscribe(result -&gt; showResult(&quot;Async in:&quot;, start, result));\r\n    }\r\n\r\n    /**\r\n     * In this example the the three observables will be emitted sequentially and the three items will be passed to the pipeline\r\n     */\r\n    @Test\r\n    public void testZip() {\r\n        long start = System.currentTimeMillis();\r\n        Observable.zip(obString(), obString1(), obString2(), (s, s2, s3) -&gt; s.concat(s2)\r\n                                                                             .concat(s3))\r\n                  .subscribe(result -&gt; showResult(&quot;Sync in:&quot;, start, result));\r\n    }\r\n\r\n\r\n    public void showResult(String transactionType, long start, String result) {\r\n        System.out.println(result + &quot; &quot; +\r\n                                   transactionType + String.valueOf(System.currentTimeMillis() - start));\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;Hello&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString1() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot; World&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString2() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;!&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;Hello&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString1() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler1)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot; World&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString2() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler2)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;!&quot;);\r\n    }\r\n\r\n\r\n\r\nYou can see more examples here https://github.com/politrons/reactive","title":"Rxjava Android how to use the Zip operator","body":"<p>Here I have an example that I did using Zip in asynchronous way, just in case youre curious</p>\n\n<pre><code>      /**\n * Since every observable into the zip is created to subscribeOn a diferent thread, its means all of them will run in parallel.\n * By default Rx is not async, only if you explicitly use subscribeOn.\n  */\n@Test\npublic void testAsyncZip() {\n    scheduler = Schedulers.newThread();\n    scheduler1 = Schedulers.newThread();\n    scheduler2 = Schedulers.newThread();\n    long start = System.currentTimeMillis();\n    Observable.zip(obAsyncString(), obAsyncString1(), obAsyncString2(), (s, s2, s3) -&gt; s.concat(s2)\n                                                                                        .concat(s3))\n              .subscribe(result -&gt; showResult(\"Async in:\", start, result));\n}\n\n/**\n * In this example the the three observables will be emitted sequentially and the three items will be passed to the pipeline\n */\n@Test\npublic void testZip() {\n    long start = System.currentTimeMillis();\n    Observable.zip(obString(), obString1(), obString2(), (s, s2, s3) -&gt; s.concat(s2)\n                                                                         .concat(s3))\n              .subscribe(result -&gt; showResult(\"Sync in:\", start, result));\n}\n\n\npublic void showResult(String transactionType, long start, String result) {\n    System.out.println(result + \" \" +\n                               transactionType + String.valueOf(System.currentTimeMillis() - start));\n}\n\npublic Observable&lt;String&gt; obString() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"Hello\");\n}\n\npublic Observable&lt;String&gt; obString1() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \" World\");\n}\n\npublic Observable&lt;String&gt; obString2() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"!\");\n}\n\npublic Observable&lt;String&gt; obAsyncString() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"Hello\");\n}\n\npublic Observable&lt;String&gt; obAsyncString1() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler1)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \" World\");\n}\n\npublic Observable&lt;String&gt; obAsyncString2() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler2)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"!\");\n}\n</code></pre>\n\n<p>You can see more examples here <a href=\"https://github.com/politrons/reactive\" rel=\"nofollow\">https://github.com/politrons/reactive</a></p>\n"},{"comments":[{"owner":{"account_id":990561,"reputation":2061,"user_id":1008011,"display_name":"chornge"},"score":0,"creation_date":1508274352,"post_id":40569634,"comment_id":80545343,"body_markdown":"nice, in the `Func2&lt;...&gt;`, what are the three strings? is it for the `s`, `-`, and `s2`?","body":"nice, in the <code>Func2&lt;...&gt;</code>, what are the three strings? is it for the <code>s</code>, <code>-</code>, and <code>s2</code>?"},{"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"score":1,"creation_date":1508278027,"post_id":40569634,"comment_id":80546804,"body_markdown":"I just updated the answer to handle RxJava2 methods, the first String in the BiFunction is the type of the first observable, the second String is type of the second observable and the third String is the type of the observable that it will generate!","body":"I just updated the answer to handle RxJava2 methods, the first String in the BiFunction is the type of the first observable, the second String is type of the second observable and the third String is the type of the observable that it will generate!"}],"tags":[],"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1656595673,"creation_date":1479000957,"answer_id":40569634,"question_id":30219877,"body_markdown":"A small example:\r\n\r\n    val observableOne = Observable.just(&quot;Hello&quot;, &quot;World&quot;)\r\n    val observableTwo = Observable.just(&quot;Bye&quot;, &quot;Friends&quot;)\r\n    val zipper = BiFunction&lt;String, String, String&gt; { first, second -&gt; &quot;$first - $second&quot; }\r\n    Observable.zip(observableOne, observableTwo, zipper)\r\n      .subscribe { println(it) }\r\n    \r\nThis will print:\r\n\r\n    Hello - Bye\r\n    World - Friends\r\n\r\n---\r\n\r\nIn `BiFunction&lt;String, String, String&gt;` the first `String` the type of the first observable, the second `String` is the type of the second observable, the third `String` represents the type of the return of your zipper function.\r\n\r\n---\r\n\r\nI made a small example that calls two real endpoints using zip in [this blog post][2]\r\n\r\n\r\n  [1]: https://github.com/Evin1-/w0d0-rxjava-samples/blob/master/app/src/main/java/com/example/rxjavasamples/ZipSample.java\r\n  [2]: https://loopcupcakes.com/blog/network-calls-parallel-rxjava-zip","title":"Rxjava Android how to use the Zip operator","body":"<p>A small example:</p>\n<pre><code>val observableOne = Observable.just(&quot;Hello&quot;, &quot;World&quot;)\nval observableTwo = Observable.just(&quot;Bye&quot;, &quot;Friends&quot;)\nval zipper = BiFunction&lt;String, String, String&gt; { first, second -&gt; &quot;$first - $second&quot; }\nObservable.zip(observableOne, observableTwo, zipper)\n  .subscribe { println(it) }\n</code></pre>\n<p>This will print:</p>\n<pre><code>Hello - Bye\nWorld - Friends\n</code></pre>\n<hr />\n<p>In <code>BiFunction&lt;String, String, String&gt;</code> the first <code>String</code> the type of the first observable, the second <code>String</code> is the type of the second observable, the third <code>String</code> represents the type of the return of your zipper function.</p>\n<hr />\n<p>I made a small example that calls two real endpoints using zip in <a href=\"https://loopcupcakes.com/blog/network-calls-parallel-rxjava-zip\" rel=\"nofollow noreferrer\">this blog post</a></p>\n"},{"comments":[{"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"score":0,"creation_date":1495199771,"post_id":42047613,"comment_id":75166149,"body_markdown":"I have two lists of Observables (http requests). The first list contains requests to create items, and the second list contains requests to update items. I want to execute &quot;something&quot; when all of the requests has ended. I was thinking to use zip, but with your example I see it is to group the requests by pairs, and I just want to get notified at the end (the lists have different sizes). Can you give me some idea? Thanks.","body":"I have two lists of Observables (http requests). The first list contains requests to create items, and the second list contains requests to update items. I want to execute &quot;something&quot; when all of the requests has ended. I was thinking to use zip, but with your example I see it is to group the requests by pairs, and I just want to get notified at the end (the lists have different sizes). Can you give me some idea? Thanks."},{"owner":{"account_id":2215206,"reputation":2164,"user_id":1956013,"accept_rate":56,"display_name":"Ahmed Adel Ismail"},"score":1,"creation_date":1495412180,"post_id":42047613,"comment_id":75226188,"body_markdown":"take a look at this : \n\nhttp://reactivex.io/documentation/operators/combinelatest.html","body":"take a look at this :   <a href=\"http://reactivex.io/documentation/operators/combinelatest.html\" rel=\"nofollow noreferrer\">reactivex.io/documentation/operators/combinelatest.html</a>"}],"tags":[],"owner":{"account_id":2215206,"reputation":2164,"user_id":1956013,"accept_rate":56,"display_name":"Ahmed Adel Ismail"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486261477,"creation_date":1486257976,"answer_id":42047613,"question_id":30219877,"body_markdown":"i have been searching for a simple answer on how to use the Zip operator, and what to do with the Observables i create to pass them to it, i was wondering if i should call subscribe() for every observable or not, non of these answers were simple to find, i had to figure it out by my self, so here is a simple example for using Zip operator on 2 Observables :\r\n\r\n    @Test\r\n    public void zipOperator() throws Exception {\r\n\r\n        List&lt;Integer&gt; indexes = Arrays.asList(0, 1, 2, 3, 4);\r\n        List&lt;String&gt; letters = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n\r\n        Observable&lt;Integer&gt; indexesObservable = Observable.fromIterable(indexes);\r\n\r\n        Observable&lt;String&gt; lettersObservable = Observable.fromIterable(letters);\r\n\r\n        Observable.zip(indexesObservable, lettersObservable, mergeEmittedItems())\r\n                .subscribe(printMergedItems());\r\n    }\r\n\r\n    @NonNull\r\n    private BiFunction&lt;Integer, String, String&gt; mergeEmittedItems() {\r\n        return new BiFunction&lt;Integer, String, String&gt;() {\r\n            @Override\r\n            public String apply(Integer index, String letter) throws Exception {\r\n                return &quot;[&quot; + index + &quot;] &quot; + letter;\r\n            }\r\n        };\r\n    }\r\n\r\n    @NonNull\r\n    private Consumer&lt;String&gt; printMergedItems() {\r\n        return new Consumer&lt;String&gt;() {\r\n            @Override\r\n            public void accept(String s) throws Exception {\r\n                System.out.println(s);\r\n            }\r\n        };\r\n    }\r\n\r\nthe printed result is :\r\n\r\n    [0] a\r\n    [1] b\r\n    [2] c\r\n    [3] d\r\n    [4] e\r\n\r\nthe final answers to the questions that where in my head were as follows\r\n\r\nthe Observables passed to the zip() method just need to be created only, they do not need to have any subscribers to them, only creating them is enough ... if you want any observable to run on a scheduler, you can specify this for that Observable ... i also tried the zip() operator on Observables where they should wait for there result, and the Consumable of the zip() was triggered only when both results where ready (which is the expected behavior)\r\n\r\n","title":"Rxjava Android how to use the Zip operator","body":"<p>i have been searching for a simple answer on how to use the Zip operator, and what to do with the Observables i create to pass them to it, i was wondering if i should call subscribe() for every observable or not, non of these answers were simple to find, i had to figure it out by my self, so here is a simple example for using Zip operator on 2 Observables :</p>\n\n<pre><code>@Test\npublic void zipOperator() throws Exception {\n\n    List&lt;Integer&gt; indexes = Arrays.asList(0, 1, 2, 3, 4);\n    List&lt;String&gt; letters = Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\");\n\n    Observable&lt;Integer&gt; indexesObservable = Observable.fromIterable(indexes);\n\n    Observable&lt;String&gt; lettersObservable = Observable.fromIterable(letters);\n\n    Observable.zip(indexesObservable, lettersObservable, mergeEmittedItems())\n            .subscribe(printMergedItems());\n}\n\n@NonNull\nprivate BiFunction&lt;Integer, String, String&gt; mergeEmittedItems() {\n    return new BiFunction&lt;Integer, String, String&gt;() {\n        @Override\n        public String apply(Integer index, String letter) throws Exception {\n            return \"[\" + index + \"] \" + letter;\n        }\n    };\n}\n\n@NonNull\nprivate Consumer&lt;String&gt; printMergedItems() {\n    return new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String s) throws Exception {\n            System.out.println(s);\n        }\n    };\n}\n</code></pre>\n\n<p>the printed result is :</p>\n\n<pre><code>[0] a\n[1] b\n[2] c\n[3] d\n[4] e\n</code></pre>\n\n<p>the final answers to the questions that where in my head were as follows</p>\n\n<p>the Observables passed to the zip() method just need to be created only, they do not need to have any subscribers to them, only creating them is enough ... if you want any observable to run on a scheduler, you can specify this for that Observable ... i also tried the zip() operator on Observables where they should wait for there result, and the Consumable of the zip() was triggered only when both results where ready (which is the expected behavior)</p>\n"},{"tags":[],"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531850292,"creation_date":1531850292,"answer_id":51387664,"question_id":30219877,"body_markdown":"This is my implementation using **Single.zip** and **rxJava2**\r\n\r\nI tried to make it as easy to understand as possible\r\n\r\n\t//\r\n\t// API Client Interface\r\n\t//\r\n\t@GET(ServicesConstants.API_PREFIX + &quot;questions/{id}/&quot;)\r\n\tSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt;&gt;&gt; getBaseQuestions(@Path(&quot;id&quot;) int personId);\r\n\r\n\t@GET(ServicesConstants.API_PREFIX + &quot;physician/{id}/&quot;)\r\n\tSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt;&gt;&gt; getPhysicianInfo(@Path(&quot;id&quot;) int personId);\r\n\r\n\t//\r\n\t// API middle layer - NOTE: I had feedback that the Single.create is not needed (but I haven&#39;t yet spent the time to improve it)\r\n\t//\r\n\tpublic Single&lt;List&lt;ResponsePhysician&gt;&gt; getPhysicianInfo(int personId) {\r\n\t\treturn Single.create(subscriber -&gt; {\r\n\t\t\tapiClient.getPhysicianInfo(appId)\r\n\t\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t\t.observeOn(Schedulers.io())\r\n\t\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\t\tResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt; responseBody = response.body();\r\n\t\t\t\t\t\tif(responseBody != null &amp;&amp; responseBody.statusCode == 1) {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onSuccess(responseBody.data);\r\n\t\t\t\t\t\t} else if(response.body() != null &amp;&amp; response.body().status != null ){\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, throwable -&gt; {\r\n\t\t\t\t\t\tthrowable.printStackTrace();\r\n\t\t\t\t\t\tif(!subscriber.isDisposed()) subscriber.onError(throwable);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Single&lt;List&lt;ResponseQuestion&gt;&gt; getHealthQuestions(int personId){\r\n\t\treturn Single.create(subscriber -&gt; {\r\n\t\t\tapiClient.getBaseQuestions(personId)\r\n\t\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t\t.observeOn(Schedulers.io())\r\n\t\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\t\tResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt; responseBody = response.body();\r\n\t\t\t\t\t\tif(responseBody != null &amp;&amp; responseBody.data != null) {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onSuccess(response.body().data);\r\n\t\t\t\t\t\t} else if(response.body() != null &amp;&amp; response.body().status != null ){\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, throwable -&gt; {\r\n\t\t\t\t\t\tthrowable.printStackTrace();\r\n\t\t\t\t\t\tif(!subscriber.isDisposed()) subscriber.onError(throwable);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t//please note that ResponseGeneric is just an outer wrapper of the returned data - common to all API&#39;s in this project\r\n\r\n\tpublic class ResponseGeneric&lt;T&gt; {\r\n\r\n\t\t@SerializedName(&quot;Status&quot;)\r\n\t\tpublic String status;\r\n\r\n\t\t@SerializedName(&quot;StatusCode&quot;)\r\n\t\tpublic float statusCode;\r\n\r\n\t\t@SerializedName(&quot;Data&quot;)\r\n\t\tpublic T data;\r\n\t}\r\n\r\n\t//\r\n\t// API end-use layer - this gets close to the UI so notice the oberver is set for main thread\r\n\t//\r\n\tprivate static class MergedResponse{// this is just a POJO to store all the responses in one object\r\n\t\tpublic List&lt;ResponseQuestion&gt; listQuestions;\r\n\t\tpublic List&lt;ResponsePhysician&gt; listPhysicians;\r\n\t\tpublic MergedResponse(List&lt;ResponseQuestion&gt; listQuestions, List&lt;ResponsePhysician&gt; listPhysicians){\r\n\t\t\tthis.listQuestions = listQuestions;\r\n\t\t\tthis.listPhysicians = listPhysicians;\r\n\t\t}\r\n\t}\r\n\r\n\t// example of Single.zip() - calls getHealthQuestions() and getPhysicianInfo() from API Middle Layer\r\n\tprivate void downloadHealthQuestions(int personId) {\r\n\t\taddRxSubscription(Single\r\n\t\t\t\t.zip(getHealthQuestions(personId), getPhysicianInfo(personId), MergedResponse::new)\r\n\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t.observeOn(AndroidSchedulers.mainThread())\r\n\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\tif(response != null) {\r\n\t\t\t\t\t\tTimber.i(&quot; - total health questions downloaded %d&quot;, response.listQuestions.size());\r\n\t\t\t\t\t\tTimber.i(&quot; - physicians downloaded %d&quot;, response.listPhysicians.size());\r\n\r\n\t\t\t\t\t\tif (response.listPhysicians != null &amp;&amp; response.listPhysicians.size()&gt;0) {\r\n\t\t\t\t\t\t\t// do your stuff to process response data\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (response.listQuestions != null &amp;&amp; response.listQuestions.size()&gt;0) {\r\n\r\n\t\t\t\t\t\t\t// do your stuff to process response data\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// process error - show message\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error -&gt; {\r\n\t\t\t\t\t// process error - show network error message\r\n\t\t\t\t}));\r\n\t}","title":"Rxjava Android how to use the Zip operator","body":"<p>This is my implementation using <strong>Single.zip</strong> and <strong>rxJava2</strong></p>\n\n<p>I tried to make it as easy to understand as possible</p>\n\n<pre><code>//\n// API Client Interface\n//\n@GET(ServicesConstants.API_PREFIX + \"questions/{id}/\")\nSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt;&gt;&gt; getBaseQuestions(@Path(\"id\") int personId);\n\n@GET(ServicesConstants.API_PREFIX + \"physician/{id}/\")\nSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt;&gt;&gt; getPhysicianInfo(@Path(\"id\") int personId);\n\n//\n// API middle layer - NOTE: I had feedback that the Single.create is not needed (but I haven't yet spent the time to improve it)\n//\npublic Single&lt;List&lt;ResponsePhysician&gt;&gt; getPhysicianInfo(int personId) {\n    return Single.create(subscriber -&gt; {\n        apiClient.getPhysicianInfo(appId)\n                .subscribeOn(Schedulers.io())\n                .observeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt; responseBody = response.body();\n                    if(responseBody != null &amp;&amp; responseBody.statusCode == 1) {\n                        if (!subscriber.isDisposed()) subscriber.onSuccess(responseBody.data);\n                    } else if(response.body() != null &amp;&amp; response.body().status != null ){\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\n                    } else {\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\n                    }\n                }, throwable -&gt; {\n                    throwable.printStackTrace();\n                    if(!subscriber.isDisposed()) subscriber.onError(throwable);\n                });\n    });\n}\n\npublic Single&lt;List&lt;ResponseQuestion&gt;&gt; getHealthQuestions(int personId){\n    return Single.create(subscriber -&gt; {\n        apiClient.getBaseQuestions(personId)\n                .subscribeOn(Schedulers.io())\n                .observeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt; responseBody = response.body();\n                    if(responseBody != null &amp;&amp; responseBody.data != null) {\n                        if (!subscriber.isDisposed()) subscriber.onSuccess(response.body().data);\n                    } else if(response.body() != null &amp;&amp; response.body().status != null ){\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\n                    } else {\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\n                    }\n                }, throwable -&gt; {\n                    throwable.printStackTrace();\n                    if(!subscriber.isDisposed()) subscriber.onError(throwable);\n                });\n    });\n}\n\n//please note that ResponseGeneric is just an outer wrapper of the returned data - common to all API's in this project\n\npublic class ResponseGeneric&lt;T&gt; {\n\n    @SerializedName(\"Status\")\n    public String status;\n\n    @SerializedName(\"StatusCode\")\n    public float statusCode;\n\n    @SerializedName(\"Data\")\n    public T data;\n}\n\n//\n// API end-use layer - this gets close to the UI so notice the oberver is set for main thread\n//\nprivate static class MergedResponse{// this is just a POJO to store all the responses in one object\n    public List&lt;ResponseQuestion&gt; listQuestions;\n    public List&lt;ResponsePhysician&gt; listPhysicians;\n    public MergedResponse(List&lt;ResponseQuestion&gt; listQuestions, List&lt;ResponsePhysician&gt; listPhysicians){\n        this.listQuestions = listQuestions;\n        this.listPhysicians = listPhysicians;\n    }\n}\n\n// example of Single.zip() - calls getHealthQuestions() and getPhysicianInfo() from API Middle Layer\nprivate void downloadHealthQuestions(int personId) {\n    addRxSubscription(Single\n            .zip(getHealthQuestions(personId), getPhysicianInfo(personId), MergedResponse::new)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(response -&gt; {\n                if(response != null) {\n                    Timber.i(\" - total health questions downloaded %d\", response.listQuestions.size());\n                    Timber.i(\" - physicians downloaded %d\", response.listPhysicians.size());\n\n                    if (response.listPhysicians != null &amp;&amp; response.listPhysicians.size()&gt;0) {\n                        // do your stuff to process response data\n                    }\n\n                    if (response.listQuestions != null &amp;&amp; response.listQuestions.size()&gt;0) {\n\n                        // do your stuff to process response data\n                    }\n\n\n                } else {\n                    // process error - show message\n                }\n            }, error -&gt; {\n                // process error - show network error message\n            }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9215655,"reputation":8763,"user_id":6846888,"display_name":"&#194;ngelo Polotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531938350,"creation_date":1531938350,"answer_id":51408708,"question_id":30219877,"body_markdown":"You use the `zip` from `rxjava` with `Java 8`:\r\n\r\n    Observable&lt;MovieResponse&gt; movies = ...\r\n    Observable&lt;PictureResponse&gt; picture = ...\r\n\r\n    Observable&lt;ZipResponse&gt; response = Observable.zip(movies, picture, ZipResponse::new);\r\n\r\n    class ZipResponse {\r\n            private MovieResponse movieResponse;\r\n            private PictureResponse pictureResponse;\r\n\r\n            ZipResponse(MovieResponse movieResponse, PictureResponse pictureResponse) {\r\n                 this.movieResponse = movieResponse;\r\n                 this.pictureResponse = pictureResponse;\r\n            }\r\n\r\n            public MovieResponse getMovieResponse() {\r\n                 return movieResponse;\r\n            }\r\n\r\n            public void setMovieResponse(MovieResponse movieResponse) {\r\n                this.movieResponse= movieResponse;\r\n            }\r\n\r\n            public PictureResponse getPictureResponse() {\r\n                 return pictureResponse;\r\n            }\r\n\r\n            public void setPictureResponse(PictureResponse pictureResponse) {\r\n                this.pictureResponse= pictureResponse;\r\n            }\r\n    }","title":"Rxjava Android how to use the Zip operator","body":"<p>You use the <code>zip</code> from <code>rxjava</code> with <code>Java 8</code>:</p>\n\n<pre><code>Observable&lt;MovieResponse&gt; movies = ...\nObservable&lt;PictureResponse&gt; picture = ...\n\nObservable&lt;ZipResponse&gt; response = Observable.zip(movies, picture, ZipResponse::new);\n\nclass ZipResponse {\n        private MovieResponse movieResponse;\n        private PictureResponse pictureResponse;\n\n        ZipResponse(MovieResponse movieResponse, PictureResponse pictureResponse) {\n             this.movieResponse = movieResponse;\n             this.pictureResponse = pictureResponse;\n        }\n\n        public MovieResponse getMovieResponse() {\n             return movieResponse;\n        }\n\n        public void setMovieResponse(MovieResponse movieResponse) {\n            this.movieResponse= movieResponse;\n        }\n\n        public PictureResponse getPictureResponse() {\n             return pictureResponse;\n        }\n\n        public void setPictureResponse(PictureResponse pictureResponse) {\n            this.pictureResponse= pictureResponse;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675357447,"creation_date":1675357447,"answer_id":75326580,"question_id":30219877,"body_markdown":"You can use `.zipWith` operator for Observable chains.\r\n\r\nIf `uploadMovies()` and `uploadPictures()` return Observable,\r\n\r\n    uploadMovies()\r\n        .zipWith(uploadPictures()) { m, p -&gt;\r\n            &quot;$m with $p were uploaded&quot;\r\n        }\r\n        .subscribe { print(it) }","title":"Rxjava Android how to use the Zip operator","body":"<p>You can use <code>.zipWith</code> operator for Observable chains.</p>\n<p>If <code>uploadMovies()</code> and <code>uploadPictures()</code> return Observable,</p>\n<pre><code>uploadMovies()\n    .zipWith(uploadPictures()) { m, p -&gt;\n        &quot;$m with $p were uploaded&quot;\n    }\n    .subscribe { print(it) }\n</code></pre>\n"}],"owner":{"account_id":4613279,"reputation":1564,"user_id":3740701,"accept_rate":75,"display_name":"feilong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91016,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":30221196,"answer_count":8,"score":62,"last_activity_date":1675357447,"creation_date":1431532613,"question_id":30219877,"body_markdown":"I am having a lot of trouble understanding the zip operator in RxJava for my android project. \r\nProblem\r\nI need to be able to send a network request to upload a video\r\nThen i need to send a network request to upload a picture to go with it\r\nfinally i need to add a description and use the responses from the previous two requests to upload the location urls of the video and picture along with the description to my server.\r\n\r\nI assumed that the zip operator would be perfect for this task as I understood we could take the response of two observables (video and picture requests) and use them for my final task.\r\nBut I cant seem to get this to occur how I envision it.\r\n\r\nI am looking for someone to answer how this can be done conceptually with a bit of psuedo code.\r\nThank you","title":"Rxjava Android how to use the Zip operator","body":"<p>I am having a lot of trouble understanding the zip operator in RxJava for my android project. \nProblem\nI need to be able to send a network request to upload a video\nThen i need to send a network request to upload a picture to go with it\nfinally i need to add a description and use the responses from the previous two requests to upload the location urls of the video and picture along with the description to my server.</p>\n\n<p>I assumed that the zip operator would be perfect for this task as I understood we could take the response of two observables (video and picture requests) and use them for my final task.\nBut I cant seem to get this to occur how I envision it.</p>\n\n<p>I am looking for someone to answer how this can be done conceptually with a bit of psuedo code.\nThank you</p>\n"},{"tags":["java","synchronization"],"answers":[{"comments":[{"owner":{"account_id":17162092,"reputation":71,"user_id":12421479,"display_name":"Ahmed Waleed"},"score":0,"creation_date":1619831318,"post_id":67342031,"comment_id":119031073,"body_markdown":"i got it. Thank you so much","body":"i got it. Thank you so much"}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619939066,"creation_date":1619830882,"answer_id":67342031,"question_id":67341949,"body_markdown":"You are confused with how `Object`s and object references work\r\n\r\n    public class Foo () {\r\n      Object bar;\r\n    \r\n      public Foo() {\r\n        bar = new Object();\r\n      }\r\n    }\r\n\r\nIn the example above, `bar` is an object reference. It is null until it is assigned in the constructor:\r\n\r\n`bar = new Object()`;\r\n\r\nbar now *points* to the object you created. When you pass an object into a constructor or method and then assign it to an object reference in the class, the reference takes on a value.\r\n\r\nSo back to your synchronization question. Since you are passing the same object into both `CounterRunnable`s, they are synchronizing on the same object.","title":"How synchronization works in Java when i use synchronized (this.local_datamember)?","body":"<p>You are confused with how <code>Object</code>s and object references work</p>\n<pre><code>public class Foo () {\n  Object bar;\n\n  public Foo() {\n    bar = new Object();\n  }\n}\n</code></pre>\n<p>In the example above, <code>bar</code> is an object reference. It is null until it is assigned in the constructor:</p>\n<p><code>bar = new Object()</code>;</p>\n<p>bar now <em>points</em> to the object you created. When you pass an object into a constructor or method and then assign it to an object reference in the class, the reference takes on a value.</p>\n<p>So back to your synchronization question. Since you are passing the same object into both <code>CounterRunnable</code>s, they are synchronizing on the same object.</p>\n"}],"owner":{"account_id":17162092,"reputation":71,"user_id":12421479,"display_name":"Ahmed Waleed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1619939189,"accepted_answer_id":67342031,"answer_count":1,"score":0,"last_activity_date":1675356997,"creation_date":1619829947,"question_id":67341949,"body_markdown":"Let&#39;s assume that I create 2 threads CounterRunnable and create one object of Mycounter.\r\n\r\nIn the code below, how does the synchronization work? I imagined that when I synchronize on counter, which is an object defined in the thread class, I now have 2 separate objects with two different counter objects with two different locks to each object.\r\n\r\nI thought that I am now locking on the counter object itself not the single referenced object.\r\n\r\n```java\r\npublic class example {\r\n\r\n\tclass CounterRunnable implements Runnable {\r\n\t\tprivate MyCounter counter;\r\n\r\n\t\tpublic CounterRunnable (MyCounter counter) {\r\n\t\t\tthis.counter = counter;\r\n\t\t}\r\n\r\n\t\tpublic void run () {\r\n\t\t\tfor (int i = 0 ; i &lt; 1000; i++)\r\n              synchronized(this.counter){\r\n\t\t\t\tcounter.increment();\r\n              }\r\n\t\t}\r\n\t}\r\n\r\n\tclass MyCounter  {\r\n\t\tprivate int c =0;\r\n\t\tpublic synchronized void increment () {\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tpublic int value () {return c;}\t\r\n\t}\r\n\r\n\tpublic static void main (String [] args) throws InterruptedException {\r\n\r\n\t\texample ex = new example();\r\n\t\tMyCounter counter = ex.new MyCounter();\r\n\r\n\t\tThread t1 = new Thread (ex.new CounterRunnable(counter));\r\n\t\tThread t2 = new Thread (ex.new CounterRunnable(counter));\r\n\r\n\t\tt1.start(); t2.start();\r\n\t\tt1.join(); t2.join();\r\n\r\n\t\tSystem.out.println(counter.value());\r\n\r\n\t}\r\n}\r\n\r\n\r\n```","title":"How synchronization works in Java when i use synchronized (this.local_datamember)?","body":"<p>Let's assume that I create 2 threads CounterRunnable and create one object of Mycounter.</p>\n<p>In the code below, how does the synchronization work? I imagined that when I synchronize on counter, which is an object defined in the thread class, I now have 2 separate objects with two different counter objects with two different locks to each object.</p>\n<p>I thought that I am now locking on the counter object itself not the single referenced object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class example {\n\n    class CounterRunnable implements Runnable {\n        private MyCounter counter;\n\n        public CounterRunnable (MyCounter counter) {\n            this.counter = counter;\n        }\n\n        public void run () {\n            for (int i = 0 ; i &lt; 1000; i++)\n              synchronized(this.counter){\n                counter.increment();\n              }\n        }\n    }\n\n    class MyCounter  {\n        private int c =0;\n        public synchronized void increment () {\n            c++;\n        }\n        public int value () {return c;} \n    }\n\n    public static void main (String [] args) throws InterruptedException {\n\n        example ex = new example();\n        MyCounter counter = ex.new MyCounter();\n\n        Thread t1 = new Thread (ex.new CounterRunnable(counter));\n        Thread t2 = new Thread (ex.new CounterRunnable(counter));\n\n        t1.start(); t2.start();\n        t1.join(); t2.join();\n\n        System.out.println(counter.value());\n\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1661368818,"post_id":73476360,"comment_id":129758834,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]. [Edit] your question and add a [mcve] instead.","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. <a href=\"https://stackoverflow.com/posts/73476360/edit\">Edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661409077,"creation_date":1661409077,"answer_id":73482868,"question_id":73476360,"body_markdown":"As you can see from the [following documentation][1], there is no &quot;`mail to`&quot; attribute for mail plugin.\r\n\r\nCan you try the same configuration with &quot;`to`&quot; attribute instead of &quot;`mail to`&quot;?\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#mail-mail","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>As you can see from the <a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#mail-mail\" rel=\"nofollow noreferrer\">following documentation</a>, there is no &quot;<code>mail to</code>&quot; attribute for mail plugin.</p>\n<p>Can you try the same configuration with &quot;<code>to</code>&quot; attribute instead of &quot;<code>mail to</code>&quot;?</p>\n"},{"tags":[],"owner":{"account_id":12968295,"reputation":114,"user_id":9375004,"display_name":"RonnieJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675356938,"creation_date":1675356938,"answer_id":75326479,"question_id":73476360,"body_markdown":"You probably have an updated version of **Mailer** and an older version of **Pipeline Basic Steps**.\r\n\r\nThe problem is in the call to **Mailer** from the **Pipeline Basic Steps** plugin.\r\n\r\n    org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\r\n\r\nIn this [commit][1], they migrate from *javax.mail* to *jakarta.mail*.\r\n\r\nSo, older versions of **Pipeline Basic Steps** make the call with the argument of type `javax.mail.Message$RecipientType` instead of `jakarta.mail.Message$RecipientType`.\r\n\r\n\r\nHere a recent version of the class [MimeMessageBuilder][2] with the method `addRecipients(java.lang.String, jakarta.mail.Message$RecipientType)`.\r\n\r\nI updated the **Pipeline** plugin that has the **Pipeline Basic Steps** dependency, to make it work.\r\n\r\n\r\n  [1]: https://github.com/jenkinsci/workflow-basic-steps-plugin/commit/d2ef6c4f16d6d7b430e9edb162b93de1f6ad6b46\r\n  [2]: https://github.com/jenkinsci/mailer-plugin/blob/448.v5b_97805e3767/src/main/java/jenkins/plugins/mailer/tasks/MimeMessageBuilder.java","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>You probably have an updated version of <strong>Mailer</strong> and an older version of <strong>Pipeline Basic Steps</strong>.</p>\n<p>The problem is in the call to <strong>Mailer</strong> from the <strong>Pipeline Basic Steps</strong> plugin.</p>\n<pre><code>org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\n</code></pre>\n<p>In this <a href=\"https://github.com/jenkinsci/workflow-basic-steps-plugin/commit/d2ef6c4f16d6d7b430e9edb162b93de1f6ad6b46\" rel=\"nofollow noreferrer\">commit</a>, they migrate from <em>javax.mail</em> to <em>jakarta.mail</em>.</p>\n<p>So, older versions of <strong>Pipeline Basic Steps</strong> make the call with the argument of type <code>javax.mail.Message$RecipientType</code> instead of <code>jakarta.mail.Message$RecipientType</code>.</p>\n<p>Here a recent version of the class <a href=\"https://github.com/jenkinsci/mailer-plugin/blob/448.v5b_97805e3767/src/main/java/jenkins/plugins/mailer/tasks/MimeMessageBuilder.java\" rel=\"nofollow noreferrer\">MimeMessageBuilder</a> with the method <code>addRecipients(java.lang.String, jakarta.mail.Message$RecipientType)</code>.</p>\n<p>I updated the <strong>Pipeline</strong> plugin that has the <strong>Pipeline Basic Steps</strong> dependency, to make it work.</p>\n"}],"owner":{"account_id":21873865,"reputation":56,"user_id":16163047,"display_name":"pipe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1906,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75326479,"answer_count":2,"score":0,"last_activity_date":1675356938,"creation_date":1661357044,"question_id":73476360,"body_markdown":"when i use pipeline to send email, the Jenkins Console Output **&quot;java.lang.NoSuchMethodError&quot;**,\r\nI think this may be caused by the mailer plugin or the Jenkins version ,But I&#39;m not sureso i How to do it?\r\n\r\npipeline\r\n\r\n      pipeline {\r\n            agent any\r\n            stages {\r\n                stage(&#39;Hello&#39;) {\r\n                    steps {\r\n                        echo &quot;Hello world&quot;\r\n                            }\r\n                    }\r\n                }\r\n            post{\r\n                always{\r\n                    mail to: &quot;15283666096@163.com&quot;,\r\n                    subject: &quot;Test Email&quot;,\r\n                    body: &quot;Test&quot;\r\n                }\r\n            }\r\n        }\r\n\r\n output\r\n\r\n    [Pipeline] { (Declarative: Post Actions)\r\n    [Pipeline] mail\r\n    Error when executing always post condition:\r\n    java.lang.NoSuchMethodError: &#39;jenkins.plugins.mailer.tasks.MimeMessageBuilder jenkins.plugins.mailer.tasks.MimeMessageBuilder.addRecipients(java.lang.String, javax.mail.Message$RecipientType)&#39;\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:142)\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:129)\r\n    \tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    \r\n    [Pipeline] }\r\n    [Pipeline] // stage\r\n    [Pipeline] }\r\n    [Pipeline] // node\r\n    [Pipeline] End of Pipeline\r\n\r\n  ","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>when i use pipeline to send email, the Jenkins Console Output <strong>&quot;java.lang.NoSuchMethodError&quot;</strong>,\nI think this may be caused by the mailer plugin or the Jenkins version ,But I'm not sureso i How to do it?</p>\n<p>pipeline</p>\n<pre><code>  pipeline {\n        agent any\n        stages {\n            stage('Hello') {\n                steps {\n                    echo &quot;Hello world&quot;\n                        }\n                }\n            }\n        post{\n            always{\n                mail to: &quot;15283666096@163.com&quot;,\n                subject: &quot;Test Email&quot;,\n                body: &quot;Test&quot;\n            }\n        }\n    }\n</code></pre>\n<p>output</p>\n<pre><code>[Pipeline] { (Declarative: Post Actions)\n[Pipeline] mail\nError when executing always post condition:\njava.lang.NoSuchMethodError: 'jenkins.plugins.mailer.tasks.MimeMessageBuilder jenkins.plugins.mailer.tasks.MimeMessageBuilder.addRecipients(java.lang.String, javax.mail.Message$RecipientType)'\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:142)\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:129)\n    at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\n</code></pre>\n"},{"tags":["java","spring-boot","cassandra"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675349416,"post_id":75324025,"comment_id":132913531,"body_markdown":"Simply don&#39;t use ORM, and you wouldn&#39;t have this problem","body":"Simply don&#39;t use ORM, and you wouldn&#39;t have this problem"},{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":1,"creation_date":1675350103,"post_id":75324025,"comment_id":132913802,"body_markdown":"Did you try a 1:1 relationship?\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;innerPojo_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate InnerPojo innerPojo;","body":"Did you try a 1:1 relationship? @OneToOne(cascade = CascadeType.ALL) @JoinColumn(name = &quot;innerPojo_id&quot;, referencedColumnName = &quot;id&quot;) private InnerPojo innerPojo;"}],"answers":[{"tags":[],"owner":{"account_id":5771551,"reputation":135,"user_id":4554863,"display_name":"Dinosaur-Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675356868,"creation_date":1675356868,"answer_id":75326470,"question_id":75324025,"body_markdown":"You can mark your `innerPojo` property as `@Transient` and have &quot;flattened&quot; private properties populated by `InnerPojo`when calling the constructor. You have to re-create `InnerPojo` in `@PostConstruct` from those &quot;flattened&quot; properties then when loading.","title":"How to &quot;flatten&quot; a data","body":"<p>You can mark your <code>innerPojo</code> property as <code>@Transient</code> and have &quot;flattened&quot; private properties populated by <code>InnerPojo</code>when calling the constructor. You have to re-create <code>InnerPojo</code> in <code>@PostConstruct</code> from those &quot;flattened&quot; properties then when loading.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675356868,"creation_date":1675345226,"question_id":75324025,"body_markdown":"I have a REST endpoint which takes a POJO and saves it.\r\n\r\n```\r\n@Service\r\npublic class CassandraService {\r\n\r\n    @Autowired MyReactiveCassandraRepository cassandraRepository;\r\n\r\n    public Mono&lt;String&gt; save(Pojo pojo) {\r\n        return cassandraRepository.save(pojo);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface MyReactiveCassandraRepository extends ReactiveCrudRepository&lt;Pojo, String&gt; {\r\n```\r\n\r\n```\r\n@Table\r\npublic class Pojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String foo;\r\n\r\n    private InnerPojo innerPojo;\r\n```\r\n\r\n```\r\npublic class InnerPojo {\r\n\r\n    String aaa;\r\n\r\n    String bbb;\r\n```\r\n\r\nIf you look at the data, you can see there are primitive types, but there is also an Object (InnerPojo in my example).\r\n\r\nInstead of storing the data with &quot;two levels&quot;, I would like to &quot;flatten&quot; the data, and save it that way:\r\n\r\n```\r\n| id | foo | aaa | bbb | \r\n|----|-----|-----|-----|\r\n|    |     |     |     | \r\n|    |     |     |     | \r\n|    |     |     |     | \r\n```\r\n\r\nCurrently, I am duplicating a POJO entirely:\r\n\r\n```\r\n@Table\r\npublic class FlattenPojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String foo;\r\n    \r\n    private String aaa;\r\n    \r\n    private String bbb;\r\n\r\n```\r\n\r\nAnd modify, create conversion code in my entire project to save this &quot;duplicate&quot; pojo in order to save the &quot;flatten&quot; version.\r\n\r\nIs there a smarter way to save this the flatten formed in Spring Boot?","title":"How to &quot;flatten&quot; a data","body":"<p>I have a REST endpoint which takes a POJO and saves it.</p>\n<pre><code>@Service\npublic class CassandraService {\n\n    @Autowired MyReactiveCassandraRepository cassandraRepository;\n\n    public Mono&lt;String&gt; save(Pojo pojo) {\n        return cassandraRepository.save(pojo);\n    }\n    \n}\n</code></pre>\n<pre><code>@Repository\npublic interface MyReactiveCassandraRepository extends ReactiveCrudRepository&lt;Pojo, String&gt; {\n</code></pre>\n<pre><code>@Table\npublic class Pojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String foo;\n\n    private InnerPojo innerPojo;\n</code></pre>\n<pre><code>public class InnerPojo {\n\n    String aaa;\n\n    String bbb;\n</code></pre>\n<p>If you look at the data, you can see there are primitive types, but there is also an Object (InnerPojo in my example).</p>\n<p>Instead of storing the data with &quot;two levels&quot;, I would like to &quot;flatten&quot; the data, and save it that way:</p>\n<pre><code>| id | foo | aaa | bbb | \n|----|-----|-----|-----|\n|    |     |     |     | \n|    |     |     |     | \n|    |     |     |     | \n</code></pre>\n<p>Currently, I am duplicating a POJO entirely:</p>\n<pre><code>@Table\npublic class FlattenPojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String foo;\n    \n    private String aaa;\n    \n    private String bbb;\n\n</code></pre>\n<p>And modify, create conversion code in my entire project to save this &quot;duplicate&quot; pojo in order to save the &quot;flatten&quot; version.</p>\n<p>Is there a smarter way to save this the flatten formed in Spring Boot?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","maven"],"comments":[{"owner":{"account_id":14148868,"reputation":1273,"user_id":10221416,"display_name":"Ethan Harris"},"score":0,"creation_date":1675359338,"post_id":75326325,"comment_id":132917156,"body_markdown":"Really difficult to tell what the issue is without seeing the ELB configuration. Are you trying to access the app through a load balancer or making the request directly to the ec2 instance?","body":"Really difficult to tell what the issue is without seeing the ELB configuration. Are you trying to access the app through a load balancer or making the request directly to the ec2 instance?"},{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1675359450,"post_id":75326325,"comment_id":132917193,"body_markdown":"Either your application is not deployed correctly or some configuration error. After deployment, do you see a default url that can be access?\nWhat you see in access logs?","body":"Either your application is not deployed correctly or some configuration error. After deployment, do you see a default url that can be access? What you see in access logs?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675361240,"post_id":75326325,"comment_id":132917800,"body_markdown":"How can I check the access logs?","body":"How can I check the access logs?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675361472,"post_id":75326325,"comment_id":132917864,"body_markdown":"@EthanHarris I am making the request directly. What configuration should I look at?","body":"@EthanHarris I am making the request directly. What configuration should I look at?"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675369200,"post_id":75326325,"comment_id":132920026,"body_markdown":"Nginx on EB runs on port 5000. You need to set your port to 5000 to make the application run.","body":"Nginx on EB runs on port 5000. You need to set your port to 5000 to make the application run."},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675369891,"post_id":75326325,"comment_id":132920231,"body_markdown":"@koushikmln I set the port to 5000 in the application.properties file, is there any other configuration I need to do?","body":"@koushikmln I set the port to 5000 in the application.properties file, is there any other configuration I need to do?"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675370515,"post_id":75326325,"comment_id":132920391,"body_markdown":"Did you redeploy the application and check if it is working?","body":"Did you redeploy the application and check if it is working?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675389477,"post_id":75326325,"comment_id":132923909,"body_markdown":"@koushikmln I tried that and It didn&#39;t work","body":"@koushikmln I tried that and It didn&#39;t work"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675390959,"post_id":75326325,"comment_id":132924073,"body_markdown":"You can ssh into the system and check if the application is running. Alternatively, you can also check which port it is running on. https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html","body":"You can ssh into the system and check if the application is running. Alternatively, you can also check which port it is running on. <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html</a>"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675394900,"post_id":75326325,"comment_id":132924525,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251584/discussion-between-koushikmln-and-doldrums).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251584/discussion-between-koushikmln-and-doldrums\">continue this discussion in chat</a>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675432786,"post_id":75326325,"comment_id":132933422,"body_markdown":"I&#39;m astonished that this project is even compiling because you are using Spring Boot 3.X which means your minimum reqirement for JDK ist JDK17 but you have configured `&lt;source&gt;8&lt;/source&gt;` etc. that does not make sense...","body":"I&#39;m astonished that this project is even compiling because you are using Spring Boot 3.X which means your minimum reqirement for JDK ist JDK17 but you have configured <code>&lt;source&gt;8&lt;&#47;source&gt;</code> etc. that does not make sense..."}],"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675356690,"creation_date":1675356166,"question_id":75326325,"body_markdown":"I&#39;m trying to deploy a very basic Spring Boot web app to AWS Elastic Beanstalk, It works fine locally, but each time I try to run it on elastic beanstalk I get a 404 error. \r\n\r\nHere is my Controller:\r\n```\r\npackage com.example.springhelloworld;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HelloWorldController {\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String returnHello(){\r\n        return &quot;helloworld&quot;;\r\n    }\r\n    \r\n}\r\n```\r\nHere is my main class:\r\n```\r\npackage com.example.springhelloworld;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class SpringHelloWorldApplication extends SpringBootServletInitializer{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringHelloWorldApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n\t\treturn builder.sources(SpringHelloWorldApplication.class);\r\n\t}\r\n}\r\n```\r\n\r\nHere is my html template:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Spring App&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h3&gt;Welcome to Spring Hello World!&lt;/h3&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringHelloWorld&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;SpringHelloWorld&lt;/name&gt;\r\n\t&lt;description&gt;SpringHelloWorld&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThis is my project structure:\r\n[![enter image description here][1]][1]\r\n\r\nI also set server port to 5000 in application.properties file. \r\nI generated the war file using maven and uploaded to Elastic Beantalk using a Tomcat 8.5 platform with Corretto 11. However when I try to access my application I get a 404 error. I&#39;m trying to figure out why this is happening. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GnTBP.png","title":"How to fix 404 Error when deploying SpringBoot App to AWS Elastic Beanstalk?","body":"<p>I'm trying to deploy a very basic Spring Boot web app to AWS Elastic Beanstalk, It works fine locally, but each time I try to run it on elastic beanstalk I get a 404 error.</p>\n<p>Here is my Controller:</p>\n<pre><code>package com.example.springhelloworld;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloWorldController {\n    @RequestMapping(&quot;/&quot;)\n    public String returnHello(){\n        return &quot;helloworld&quot;;\n    }\n    \n}\n</code></pre>\n<p>Here is my main class:</p>\n<pre><code>package com.example.springhelloworld;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringHelloWorldApplication extends SpringBootServletInitializer{\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringHelloWorldApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringHelloWorldApplication.class);\n    }\n}\n</code></pre>\n<p>Here is my html template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Spring App&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Welcome to Spring Hello World!&lt;/h3&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringHelloWorld&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;SpringHelloWorld&lt;/name&gt;\n    &lt;description&gt;SpringHelloWorld&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my project structure:\n<a href=\"https://i.stack.imgur.com/GnTBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GnTBP.png\" alt=\"enter image description here\" /></a></p>\n<p>I also set server port to 5000 in application.properties file.\nI generated the war file using maven and uploaded to Elastic Beantalk using a Tomcat 8.5 platform with Corretto 11. However when I try to access my application I get a 404 error. I'm trying to figure out why this is happening.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1674600288,"post_id":75226819,"comment_id":132748364,"body_markdown":"There is no such thing as running an unsigned APK-  Android won&#39;t run those.  Even debug APKs are signed, they&#39;re just signed by a key created by the IDE.  They&#39;re created only for users who want to separate the signing and compiling steps.","body":"There is no such thing as running an unsigned APK-  Android won&#39;t run those.  Even debug APKs are signed, they&#39;re just signed by a key created by the IDE.  They&#39;re created only for users who want to separate the signing and compiling steps."},{"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"score":0,"creation_date":1674694279,"post_id":75226819,"comment_id":132771726,"body_markdown":"You are correct, the debug APK works perfectly. The APK that I sign with my own key is the one that didn&#39;t work properly.","body":"You are correct, the debug APK works perfectly. The APK that I sign with my own key is the one that didn&#39;t work properly."},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1674767691,"post_id":75226819,"comment_id":132789590,"body_markdown":"What&#39;s in your app-level build.gradle, do you have minifyEnabled or something else interesting?","body":"What&#39;s in your app-level build.gradle, do you have minifyEnabled or something else interesting?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1674897480,"post_id":75226819,"comment_id":132814996,"body_markdown":"According to the error, you are not *opening* a PDF. You are *generating* one. You should debug to figure out why the generated document is empty.","body":"According to the error, you are not <i>opening</i> a PDF. You are <i>generating</i> one. You should debug to figure out why the generated document is empty."}],"answers":[{"comments":[{"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"score":0,"creation_date":1674872833,"post_id":75264677,"comment_id":132812613,"body_markdown":"If I use &quot;minifyEnabled false&quot;, is Proguard will be disabled ?","body":"If I use &quot;minifyEnabled false&quot;, is Proguard will be disabled ?"},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1674885831,"post_id":75264677,"comment_id":132813728,"body_markdown":"Yes, use `minifyEnabled false` or remove that line. (https://developer.android.com/studio/build/shrink-code)","body":"Yes, use <code>minifyEnabled false</code> or remove that line. (<a href=\"https://developer.android.com/studio/build/shrink-code\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/shrink-code</a>)"}],"tags":[],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1675023693,"creation_date":1674867225,"answer_id":75264677,"question_id":75226819,"body_markdown":"`Proguard` could be one issue like you&#39;re speculating. It&#39;s hard to know based on the information you provided. But, here are things you can try;\r\n\r\n1. Disable Proguard: You can disable Proguard in your build.gradle file by removing the following line: minifyEnabled true\r\n\r\n2. Configure Proguard: You can configure Proguard to keep the necessary code or resources by adding specific rules in the proguard-rules.pro file. For example, to keep the iText library that you are using to open the PDF file, you can add the following rule: -keep class com.itextpdf.** { *; }\r\n\r\n3. Check the PDF file: The error message &quot;The document has no pages&quot; suggests that the app is trying to open an empty or invalid PDF file. Make sure that the PDF file that you are trying to open is not empty and is not corrupted.\r\n\r\n4. Check the Permission: Make sure you have &quot;android.permission.INTERNET&quot; in your AndroidManifest.xml file.\r\n\r\n5. Check the PDF reader library: Make sure you are using the right version of iText library and it is compatible with your android version.\r\n\r\nThe summary is that it depends on the specifics of your app and the PDF file that you are trying to open.","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p><code>Proguard</code> could be one issue like you're speculating. It's hard to know based on the information you provided. But, here are things you can try;</p>\n<ol>\n<li><p>Disable Proguard: You can disable Proguard in your build.gradle file by removing the following line: minifyEnabled true</p>\n</li>\n<li><p>Configure Proguard: You can configure Proguard to keep the necessary code or resources by adding specific rules in the proguard-rules.pro file. For example, to keep the iText library that you are using to open the PDF file, you can add the following rule: -keep class com.itextpdf.** { *; }</p>\n</li>\n<li><p>Check the PDF file: The error message &quot;The document has no pages&quot; suggests that the app is trying to open an empty or invalid PDF file. Make sure that the PDF file that you are trying to open is not empty and is not corrupted.</p>\n</li>\n<li><p>Check the Permission: Make sure you have &quot;android.permission.INTERNET&quot; in your AndroidManifest.xml file.</p>\n</li>\n<li><p>Check the PDF reader library: Make sure you are using the right version of iText library and it is compatible with your android version.</p>\n</li>\n</ol>\n<p>The summary is that it depends on the specifics of your app and the PDF file that you are trying to open.</p>\n"},{"tags":[],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675356574,"creation_date":1675356574,"answer_id":75326410,"question_id":75226819,"body_markdown":"Check below things may help.\r\n1.INTERNET PERMISSION\r\n2.check READ PERMISSION or add below code in manifest.\r\n  \r\n\r\n    &lt;uses-permission\r\n    android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n    android:maxSdkVersion=&quot;32&quot; /&gt;\r\n\r\n","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p>Check below things may help.\n1.INTERNET PERMISSION\n2.check READ PERMISSION or add below code in manifest.</p>\n<pre><code>&lt;uses-permission\nandroid:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\nandroid:maxSdkVersion=&quot;32&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75264677,"answer_count":2,"score":2,"last_activity_date":1675356574,"creation_date":1674591246,"question_id":75226819,"body_markdown":"I use the code below to open a PDF file and it works perfectly if I distribute the APK file unsigned.\r\n\r\nCode: &lt;https://www.online-java.com/i5u7QPU9N4&gt;\r\n\r\nBut if I sign the APK that I created using my Android Studio, the app crash with the following message:\r\n\r\n    Caused by: ExceptionConverter: java.io.IOException: The document has no pages.\r\n    01-24 17:06:20.750 29758 29758 E AndroidRuntime: Caused by: java.io.IOException: The document has no pages.\r\n    01-24 17:06:20.750 29758 29758 E AndroidRuntime: \tat com.itextpdf.text.pdf.PdfPages.writePageTree(\r\n\r\nIs it possible that something like Proguard was affecting the signed APK ? Or it can be other problem ?\r\n\r\nEDIT\r\n\r\nThis is my app-level build.gradle file.\r\n\r\n&lt;https://codebeautify.org/alleditor/y2356950e&gt;\r\n\r\nI have minifyEnabled, but it is declared false.","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p>I use the code below to open a PDF file and it works perfectly if I distribute the APK file unsigned.</p>\n<p>Code: <a href=\"https://www.online-java.com/i5u7QPU9N4\" rel=\"nofollow noreferrer\">https://www.online-java.com/i5u7QPU9N4</a></p>\n<p>But if I sign the APK that I created using my Android Studio, the app crash with the following message:</p>\n<pre><code>Caused by: ExceptionConverter: java.io.IOException: The document has no pages.\n01-24 17:06:20.750 29758 29758 E AndroidRuntime: Caused by: java.io.IOException: The document has no pages.\n01-24 17:06:20.750 29758 29758 E AndroidRuntime:    at com.itextpdf.text.pdf.PdfPages.writePageTree(\n</code></pre>\n<p>Is it possible that something like Proguard was affecting the signed APK ? Or it can be other problem ?</p>\n<p>EDIT</p>\n<p>This is my app-level build.gradle file.</p>\n<p><a href=\"https://codebeautify.org/alleditor/y2356950e\" rel=\"nofollow noreferrer\">https://codebeautify.org/alleditor/y2356950e</a></p>\n<p>I have minifyEnabled, but it is declared false.</p>\n"},{"tags":["python","java","json","geopandas"],"comments":[{"owner":{"account_id":4382611,"reputation":14093,"user_id":3888719,"accept_rate":100,"display_name":"Michael Delgado"},"score":0,"creation_date":1675357805,"post_id":75326347,"comment_id":132916598,"body_markdown":"Welcome to stack overflow! Please read [ask]. We need more information before we can help you. Please provide an example of the data youre working with and the code you have tried, along with the complete error messages or an explanation of why the behavior isnt expected. Try as best you can to provide a full [mre]. Additionally, make sure your question is narrowly focused on one problem only - you can ask multiple questions in multiple posts but each one should be narrowly focused.","body":"Welcome to stack overflow! Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. We need more information before we can help you. Please provide an example of the data youre working with and the code you have tried, along with the complete error messages or an explanation of why the behavior isnt expected. Try as best you can to provide a full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Additionally, make sure your question is narrowly focused on one problem only - you can ask multiple questions in multiple posts but each one should be narrowly focused."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675358845,"post_id":75326347,"comment_id":132916994,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27679982,"reputation":1,"user_id":21128954,"display_name":"Brandon Ney Ccahua Yapo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675356359,"creation_date":1675356272,"question_id":75326347,"body_markdown":"My problem is that I can&#39;t find a code to automate the generation of another json as an output file to cut and join polygons, this Json file has dictionaries and within these it has coordinates (X,Y).\r\n\r\nWith the help of Geopandas I was trying to find a code that would cut the overlapping polygons, and with the other non-overlapping polygon just merge with the last polygon, i.e. first find the base of the overlapping polygon, then cut these overlapping ones and with the other non-overlapping polygon just join them, I know I should use geopandas overlap method, with how=&quot;union&quot; and &quot;difference&quot;.","title":"How should I slice geometries in a Json file with Geopandas?","body":"<p>My problem is that I can't find a code to automate the generation of another json as an output file to cut and join polygons, this Json file has dictionaries and within these it has coordinates (X,Y).</p>\n<p>With the help of Geopandas I was trying to find a code that would cut the overlapping polygons, and with the other non-overlapping polygon just merge with the last polygon, i.e. first find the base of the overlapping polygon, then cut these overlapping ones and with the other non-overlapping polygon just join them, I know I should use geopandas overlap method, with how=&quot;union&quot; and &quot;difference&quot;.</p>\n"},{"tags":["java","function","return"],"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1352966532,"post_id":13393490,"comment_id":18294727,"body_markdown":"What matters isn&#39;t &quot;Eclipse&quot; but the language (Java).","body":"What matters isn&#39;t &quot;Eclipse&quot; but the language (Java)."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":2,"creation_date":1352967069,"post_id":13393490,"comment_id":18294896,"body_markdown":"I realise your code is pseudo-Java, but ensure you name your variables with camelCase (e.g. `goodNameShow` or `goodUnitPriceShow`).","body":"I realise your code is pseudo-Java, but ensure you name your variables with camelCase (e.g. <code>goodNameShow</code> or <code>goodUnitPriceShow</code>)."}],"answers":[{"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1352988338,"post_id":13393524,"comment_id":18304180,"body_markdown":"@estiedi Do you mean that `Collection.sort` is bad style ? You can&#39;t make efficient code if you try to make it understandable by people who don&#39;t know the most basic facts of the language. If somebody doesn&#39;t know that a received object can be changed by a method, then he must learn before being involved in a professional team.","body":"@estiedi Do you mean that <code>Collection.sort</code> is bad style ? You can&#39;t make efficient code if you try to make it understandable by people who don&#39;t know the most basic facts of the language. If somebody doesn&#39;t know that a received object can be changed by a method, then he must learn before being involved in a professional team."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1437758577,"post_id":13393524,"comment_id":51182145,"body_markdown":"It&#39;s still regrettable that languages didn&#39;t learn from the CLU example.  CLU&#39;s related multiple assignment is of semi-dubious use (`x,y = y,x`), but multiple return values is **very** useful (`x,y = function(params)`).  Forcing a wrapping object to be returned (often by &quot;clean&quot; declarations similar to `class Pair&lt;A,B&gt;`)has a penalty under very many tight calls, and passing an object to hold return values is horribly messy with no compiler guarantee that the fields are filled.","body":"It&#39;s still regrettable that languages didn&#39;t learn from the CLU example.  CLU&#39;s related multiple assignment is of semi-dubious use (<code>x,y = y,x</code>), but multiple return values is <b>very</b> useful (<code>x,y = function(params)</code>).  Forcing a wrapping object to be returned (often by &quot;clean&quot; declarations similar to <code>class Pair&lt;A,B&gt;</code>)has a penalty under very many tight calls, and passing an object to hold return values is horribly messy with no compiler guarantee that the fields are filled."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1437760106,"post_id":13393524,"comment_id":51182981,"body_markdown":"@tgm1024 You should have a look at Go where bot returning multiple values and multiple assignements are very useful ;)","body":"@tgm1024 You should have a look at Go where bot returning multiple values and multiple assignements are very useful ;)"}],"tags":[],"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1352966662,"creation_date":1352966662,"answer_id":13393524,"question_id":13393490,"body_markdown":"In Java, when you want a function to return multiple values, you must\r\n\r\n * embed those values in an object you return\r\n * or change an object that is passed to your function\r\n\r\nIn your case, you clearly need to define a class `Show` which could have fields `name`, `quantity` and `price` :\r\n\r\n    public class Show {\r\n        private String name;\r\n        private int price;\r\n        // add other fields, constructor and accessors\r\n    }\r\n\r\nthen change your function to \r\n\r\n     public  Show  test(){\r\n          ...\r\n          return new Show(GoodNameShow,QuantityShow ,GoodUnitPriceShow) ;\r\n","title":"Return multiple values in Java","body":"<p>In Java, when you want a function to return multiple values, you must</p>\n\n<ul>\n<li>embed those values in an object you return</li>\n<li>or change an object that is passed to your function</li>\n</ul>\n\n<p>In your case, you clearly need to define a class <code>Show</code> which could have fields <code>name</code>, <code>quantity</code> and <code>price</code> :</p>\n\n<pre><code>public class Show {\n    private String name;\n    private int price;\n    // add other fields, constructor and accessors\n}\n</code></pre>\n\n<p>then change your function to </p>\n\n<pre><code> public  Show  test(){\n      ...\n      return new Show(GoodNameShow,QuantityShow ,GoodUnitPriceShow) ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3528351,"reputation":7733,"user_id":2948765,"display_name":"Tobias"},"score":1,"creation_date":1408971067,"post_id":21752889,"comment_id":39777230,"body_markdown":"Although this suggestion does not increase the number of classes, it is a horrible approach for many reasons: You create multiple unnecessary objects (`StringBuilder`, `String`s) which are far more expensive than a single instance of a utility class. The effort of retrieving the values is unjustifiable large, requires unnecessary code and has a noticeable impact on the performance. As you already noticed, the separator must not appear in the string and that is usally an unjustifiable assumption.","body":"Although this suggestion does not increase the number of classes, it is a horrible approach for many reasons: You create multiple unnecessary objects (<code>StringBuilder</code>, <code>String</code>s) which are far more expensive than a single instance of a utility class. The effort of retrieving the values is unjustifiable large, requires unnecessary code and has a noticeable impact on the performance. As you already noticed, the separator must not appear in the string and that is usally an unjustifiable assumption."},{"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"score":3,"creation_date":1416746044,"post_id":21752889,"comment_id":42685374,"body_markdown":"I downvoted just so people never actually uses this approach. It&#39;s bad for performance and readability, and the calee never know what to expect from a return like that.","body":"I downvoted just so people never actually uses this approach. It&#39;s bad for performance and readability, and the calee never know what to expect from a return like that."},{"owner":{"account_id":3522899,"reputation":659,"user_id":2944736,"accept_rate":100,"display_name":"Jay Dharmendra Solanki"},"score":1,"creation_date":1416838603,"post_id":21752889,"comment_id":42716991,"body_markdown":"@still_learning - I know that this approach is very bad as far as performance is concerned, but that was just a part of practice that I had done when I had started with programming.\nI mostly worked on julia and matlab where you can return multiple vals like, return var1,var2 etc... So when I started off with JAVA I had just done as a part of practising. I actually thought that it would work good but then I felt later that it gives very poor performance.","body":"@still_learning - I know that this approach is very bad as far as performance is concerned, but that was just a part of practice that I had done when I had started with programming. I mostly worked on julia and matlab where you can return multiple vals like, return var1,var2 etc... So when I started off with JAVA I had just done as a part of practising. I actually thought that it would work good but then I felt later that it gives very poor performance."}],"tags":[],"owner":{"account_id":3522899,"reputation":659,"user_id":2944736,"accept_rate":100,"display_name":"Jay Dharmendra Solanki"},"comment_count":3,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1392290839,"creation_date":1392290839,"answer_id":21752889,"question_id":13393490,"body_markdown":"I have developed a very basic approach to deal with this kind of situation.\r\n\r\nI have used a logic of **seperator** in Strings.\r\n\r\nFor example if you need to return in the same function\r\n1. int value\r\n2. double value\r\n3. String value\r\n\r\nyou could use a **separator string** \r\n\r\n**For example &quot;,.,&quot;** this kind of string would not generally appear anywhere.\r\n\r\nYou could return a String consisting of all values separated by this separator\r\n**&quot;&lt; int value &gt;,.,&lt; double value &gt;,.,&lt; String value &gt;&quot;**\r\n\r\nand convert into equivalent types where the function has been called by using  **String.split(separtor)[index]**\r\n\r\nRefer the following code for explanation - \r\n\r\nseparator used =&quot;,.,&quot;\r\n\r\n    public class TestMultipleReturns{\r\n     \r\n     public static void main(String args[]){\r\n       \r\n       String result =  getMultipleValues();\r\n       int intval = Integer.parseInt(result.split(&quot;,.,&quot;)[0]);\r\n       double doubleval = Double.parseDouble(result.split(&quot;,.,&quot;)[1]);     \r\n        String strval = result.split(&quot;,.,&quot;)[2];\r\n     }\r\n\r\n     public static String getMultipleValues(){\r\n\r\n       int intval = 231;//some int value      \r\n       double doubleval = 3.14;//some double val\r\n       String strval = &quot;hello&quot;;//some String val\r\n      \r\n       return(intval+&quot;,.,&quot;+doubleval+&quot;,.,&quot;+strval);\r\n\r\n     }\r\n    }\r\n\r\nThis approach can be used as a shortcut when you do not want to increase number of classes for only function returns\r\n\r\nIt depends on situation to situation which approach to take.","title":"Return multiple values in Java","body":"<p>I have developed a very basic approach to deal with this kind of situation.</p>\n\n<p>I have used a logic of <strong>seperator</strong> in Strings.</p>\n\n<p>For example if you need to return in the same function\n1. int value\n2. double value\n3. String value</p>\n\n<p>you could use a <strong>separator string</strong> </p>\n\n<p><strong>For example \",.,\"</strong> this kind of string would not generally appear anywhere.</p>\n\n<p>You could return a String consisting of all values separated by this separator\n<strong>\"&lt; int value >,.,&lt; double value >,.,&lt; String value >\"</strong></p>\n\n<p>and convert into equivalent types where the function has been called by using  <strong>String.split(separtor)[index]</strong></p>\n\n<p>Refer the following code for explanation - </p>\n\n<p>separator used =\",.,\"</p>\n\n<pre><code>public class TestMultipleReturns{\n\n public static void main(String args[]){\n\n   String result =  getMultipleValues();\n   int intval = Integer.parseInt(result.split(\",.,\")[0]);\n   double doubleval = Double.parseDouble(result.split(\",.,\")[1]);     \n    String strval = result.split(\",.,\")[2];\n }\n\n public static String getMultipleValues(){\n\n   int intval = 231;//some int value      \n   double doubleval = 3.14;//some double val\n   String strval = \"hello\";//some String val\n\n   return(intval+\",.,\"+doubleval+\",.,\"+strval);\n\n }\n}\n</code></pre>\n\n<p>This approach can be used as a shortcut when you do not want to increase number of classes for only function returns</p>\n\n<p>It depends on situation to situation which approach to take.</p>\n"},{"tags":[],"owner":{"account_id":6011679,"reputation":2795,"user_id":4721937,"accept_rate":45,"display_name":"warownia1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675355501,"creation_date":1632752655,"answer_id":69348347,"question_id":13393490,"body_markdown":"One quick and ugly approach I encountered a few times (even in java library itself) is to return your values as `Object[]` and then unpack using casting.\r\ne.g.\r\n```\r\npublic Object[] myfunc() {\r\n  String name = &quot;...&quot;;\r\n  Integer quantity = 5\r\n  Float price = 3.14\r\n  return new Object[] { name, quantity, price };\r\n```\r\nThen, it is used like this:\r\n```\r\nObject[] output = myfunc();\r\nString name = (String) output[0];\r\nInteger quantity = (Integer) output[1];\r\nFloat price = (Float) output[2];\r\n```\r\nEmbedding the values in a dedicated object is much cleaner, but I leave it here anyway.","title":"Return multiple values in Java","body":"<p>One quick and ugly approach I encountered a few times (even in java library itself) is to return your values as <code>Object[]</code> and then unpack using casting.\ne.g.</p>\n<pre><code>public Object[] myfunc() {\n  String name = &quot;...&quot;;\n  Integer quantity = 5\n  Float price = 3.14\n  return new Object[] { name, quantity, price };\n</code></pre>\n<p>Then, it is used like this:</p>\n<pre><code>Object[] output = myfunc();\nString name = (String) output[0];\nInteger quantity = (Integer) output[1];\nFloat price = (Float) output[2];\n</code></pre>\n<p>Embedding the values in a dedicated object is much cleaner, but I leave it here anyway.</p>\n"}],"owner":{"account_id":1959073,"reputation":441,"user_id":1761254,"accept_rate":44,"display_name":"shadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53429,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13393524,"answer_count":3,"score":10,"last_activity_date":1675355501,"creation_date":1352966493,"question_id":13393490,"body_markdown":"I wrote a function in Java and I want this function to return multiple values. Except use of array and structure, is there a way to return multiple values?\r\n\r\n\r\nMy code: \r\n\r\n\r\n    String query40 = &quot;SELECT Good_Name,Quantity,Price from Tbl1 where Good_ID=&quot;+x;\r\n    Cursor c = db.rawQuery(query, null);\r\n    if (c!= null &amp;&amp; c.moveToFirst()) \r\n    {\r\n      GoodNameShow = c.getString(0);\r\n      QuantityShow = c.getLong(1);\r\n      GoodUnitPriceShow = c.getLong(2);\r\n      return GoodNameShow,QuantityShow ,GoodUnitPriceShow ;\r\n    }","title":"Return multiple values in Java","body":"<p>I wrote a function in Java and I want this function to return multiple values. Except use of array and structure, is there a way to return multiple values?</p>\n\n<p>My code: </p>\n\n<pre><code>String query40 = \"SELECT Good_Name,Quantity,Price from Tbl1 where Good_ID=\"+x;\nCursor c = db.rawQuery(query, null);\nif (c!= null &amp;&amp; c.moveToFirst()) \n{\n  GoodNameShow = c.getString(0);\n  QuantityShow = c.getLong(1);\n  GoodUnitPriceShow = c.getLong(2);\n  return GoodNameShow,QuantityShow ,GoodUnitPriceShow ;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rsocket"],"comments":[{"owner":{"account_id":1167962,"reputation":507,"user_id":1145820,"accept_rate":53,"display_name":"fer.marino"},"score":0,"creation_date":1582276232,"post_id":60314504,"comment_id":106728846,"body_markdown":"The more I dig into this, the more awkward it gets. In my opinion RSocket should be integrated with spring webflow, not with spring messaging. Things like RabbitMQ and ActiveMQ have nothing in common with rsocket...","body":"The more I dig into this, the more awkward it gets. In my opinion RSocket should be integrated with spring webflow, not with spring messaging. Things like RabbitMQ and ActiveMQ have nothing in common with rsocket..."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1582730518,"post_id":60314504,"comment_id":106879433,"body_markdown":"would be nice to see a reproducer from github or gitlab ?","body":"would be nice to see a reproducer from github or gitlab ?"}],"answers":[{"comments":[{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":0,"creation_date":1657831708,"post_id":63695110,"comment_id":128910476,"body_markdown":"The answer may be in there somewhere, but I for one am not able to figure it out. A code sample showing what you have to do on the client side to pass any kind of value into a parameter that has a &#39;@Header&#39; annotation would be much more helpful than a link to the specification of low-level RSocket protocol details.","body":"The answer may be in there somewhere, but I for one am not able to figure it out. A code sample showing what you have to do on the client side to pass any kind of value into a parameter that has a &#39;@Header&#39; annotation would be much more helpful than a link to the specification of low-level RSocket protocol details."},{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":0,"creation_date":1657831854,"post_id":63695110,"comment_id":128910516,"body_markdown":"Since I couldn&#39;t figure out how to pass some extra data as a &#39;header&#39;, I just added this data directly to the &#39;payload&#39; instead. That works I guess but it is a bit unsatisfactory and seems like a &#39;ugly hack&#39;.","body":"Since I couldn&#39;t figure out how to pass some extra data as a &#39;header&#39;, I just added this data directly to the &#39;payload&#39; instead. That works I guess but it is a bit unsatisfactory and seems like a &#39;ugly hack&#39;."}],"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598992592,"creation_date":1598992592,"answer_id":63695110,"question_id":60314504,"body_markdown":"Instead of a bag of name-value pairs (i.e. headers), RSocket uses metadata which can be in any format (i.e. MIME type) and it can be [composite metadata](https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md) with multiple types of metadata each formatted differently. So you can have one section with routing metadata, another with security, yet another with tracing, and so on.\r\n\r\nTo achieve something similar to headers, you can send name-value pairs as JSON-formatted metadata. Now on the server side, you&#39;ll need to provide a hint to Spring for how to extract a Map (of headers) from the metadata of incoming requests. To do that you can configure a `MetadataExtractor` and that&#39;s described in [this section](https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md) of the docs. Once that&#39;s configured, the extracted Map becomes the headers of the message and can be accessed from `@MessageMapping` methods as usual (via `MessageHeaders`, `@Header`, etc).","title":"set header on rsocket messages with spring boot","body":"<p>Instead of a bag of name-value pairs (i.e. headers), RSocket uses metadata which can be in any format (i.e. MIME type) and it can be <a href=\"https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md\" rel=\"nofollow noreferrer\">composite metadata</a> with multiple types of metadata each formatted differently. So you can have one section with routing metadata, another with security, yet another with tracing, and so on.</p>\n<p>To achieve something similar to headers, you can send name-value pairs as JSON-formatted metadata. Now on the server side, you'll need to provide a hint to Spring for how to extract a Map (of headers) from the metadata of incoming requests. To do that you can configure a <code>MetadataExtractor</code> and that's described in <a href=\"https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md\" rel=\"nofollow noreferrer\">this section</a> of the docs. Once that's configured, the extracted Map becomes the headers of the message and can be accessed from <code>@MessageMapping</code> methods as usual (via <code>MessageHeaders</code>, <code>@Header</code>, etc).</p>\n"},{"tags":[],"owner":{"account_id":5801273,"reputation":545,"user_id":4575369,"display_name":"Andriy Koretskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675355041,"creation_date":1675355041,"answer_id":75326095,"question_id":60314504,"body_markdown":"Please see this question: https://stackoverflow.com/questions/66501888/rsocket-metadata-custom-object. \r\nI used it as a starting point for my solution.\r\n\r\nThe term &#39;header&#39; actually means some custom metadata. So, in order to get the correct value you need to configure metadataExtractorRegistry. For Spring Boot do it this way (code in kotlin):\r\n```\r\nval CUSTOM_MIMETYPE = MimeType.valueOf(&quot;&lt;some custom mime type&gt;&quot;)\r\nval CUSTOM_HEADER = &quot;&lt;the name of a header&gt;&quot;\r\n...\r\n@Bean\r\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\r\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\r\n            strategies.metadataExtractorRegistry {\r\n                it.metadataToExtract(CUSTOM_MIMETYPE, String::class.java, CUSTOM_HEADER)\r\n            }\r\n        }\r\n    }\r\n```\r\nThe type of the data object can be any, not necessarily a String. There is default String endcoder/decoder, so I didn&#39;t provide one in the code. For your own type you can provide one of existing encoders/decoders (Json for example) or create your own:\r\n```\r\n@Bean\r\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\r\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\r\n            strategies.metadataExtractorRegistry {\r\n                it.metadataToExtract(CUSTOM_MIMETYPE, YourType::class.java, CUSTOM_HEADER)\r\n            }.decoder(Jackson2JsonDecoder())\r\n             .encoder(Jackson2JsonEncoder())\r\n        }\r\n    }\r\n```\r\n After you&#39;ve configured registry as above, use the header name defined in the registry in your controller:\r\n```\r\n@MessageMapping(&quot;addGeolocation&quot;)\r\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(CUSTOM_HEADER) String metadata, @Payload String geolocation) { ... }\r\n```\r\nAnd in order to send that header, use next code:\r\n```\r\nboolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;)\r\n.metadata(&quot;value&quot;, CUSTOM_MIMETYPE)\r\n.data(geolocationWKT)\r\n.block();\r\n```\r\nHope this helps","title":"set header on rsocket messages with spring boot","body":"<p>Please see this question: <a href=\"https://stackoverflow.com/questions/66501888/rsocket-metadata-custom-object\">RSocket Metadata - custom object</a>.\nI used it as a starting point for my solution.</p>\n<p>The term 'header' actually means some custom metadata. So, in order to get the correct value you need to configure metadataExtractorRegistry. For Spring Boot do it this way (code in kotlin):</p>\n<pre><code>val CUSTOM_MIMETYPE = MimeType.valueOf(&quot;&lt;some custom mime type&gt;&quot;)\nval CUSTOM_HEADER = &quot;&lt;the name of a header&gt;&quot;\n...\n@Bean\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\n            strategies.metadataExtractorRegistry {\n                it.metadataToExtract(CUSTOM_MIMETYPE, String::class.java, CUSTOM_HEADER)\n            }\n        }\n    }\n</code></pre>\n<p>The type of the data object can be any, not necessarily a String. There is default String endcoder/decoder, so I didn't provide one in the code. For your own type you can provide one of existing encoders/decoders (Json for example) or create your own:</p>\n<pre><code>@Bean\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\n            strategies.metadataExtractorRegistry {\n                it.metadataToExtract(CUSTOM_MIMETYPE, YourType::class.java, CUSTOM_HEADER)\n            }.decoder(Jackson2JsonDecoder())\n             .encoder(Jackson2JsonEncoder())\n        }\n    }\n</code></pre>\n<p>After you've configured registry as above, use the header name defined in the registry in your controller:</p>\n<pre><code>@MessageMapping(&quot;addGeolocation&quot;)\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(CUSTOM_HEADER) String metadata, @Payload String geolocation) { ... }\n</code></pre>\n<p>And in order to send that header, use next code:</p>\n<pre><code>boolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;)\n.metadata(&quot;value&quot;, CUSTOM_MIMETYPE)\n.data(geolocationWKT)\n.block();\n</code></pre>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":1167962,"reputation":507,"user_id":1145820,"accept_rate":53,"display_name":"fer.marino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675355041,"creation_date":1582182302,"question_id":60314504,"body_markdown":"so I&#39;ve started playing with rsocket and spring boot 2.2 to see if I can use it in my projects, but I&#39;m facing a bit of troubles. \r\n\r\nNormally, with spring messaging I define a listener method like the following:\r\n\r\n    @MessageMapping(&quot;addGeolocation&quot;)\r\n    public Mono&lt;Boolean&gt; addGeolocation(@Header(&quot;metadata&quot;) MmeMetadata metadata, @Payload String geolocation) { ... }\r\n\r\nMy understanding is that with rsocket I should be able to use the same logic, but when I&#39;m defining the client I couldn&#39;t find an easy way to set message headers. \r\n\r\nCurrently I&#39;m stuck with this:\r\n\r\n    boolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;).metadata(...?).data(geolocationWKT).block();\r\n\r\nis the metadata a replacement for headers? that method signature seems a little too generic to be used like headers. If I put an Map in it will spring be able to decode headers out of it?\r\n\r\nThank you,\r\nFernando","title":"set header on rsocket messages with spring boot","body":"<p>so I've started playing with rsocket and spring boot 2.2 to see if I can use it in my projects, but I'm facing a bit of troubles. </p>\n\n<p>Normally, with spring messaging I define a listener method like the following:</p>\n\n<pre><code>@MessageMapping(\"addGeolocation\")\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(\"metadata\") MmeMetadata metadata, @Payload String geolocation) { ... }\n</code></pre>\n\n<p>My understanding is that with rsocket I should be able to use the same logic, but when I'm defining the client I couldn't find an easy way to set message headers. </p>\n\n<p>Currently I'm stuck with this:</p>\n\n<pre><code>boolean outcome = rSocketRequester.route(\"addGeolocation\").metadata(...?).data(geolocationWKT).block();\n</code></pre>\n\n<p>is the metadata a replacement for headers? that method signature seems a little too generic to be used like headers. If I put an Map in it will spring be able to decode headers out of it?</p>\n\n<p>Thank you,\nFernando</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1674767624,"post_id":75224190,"comment_id":132789570,"body_markdown":"So, your consume method is CPU intensive ? If it is, there&#39;s not much you can do, because it requires to use CPU full time to do the job. But, if you see that your CPU is not fully used, then it might be that your consume function is blocking, in one way or another. Can you provide some information about what *consume* do ?  For it to be non-blocking, it means that it only perform in-memory computation. Otherwise, if it sends data to a database or a webservice, it is blocking.","body":"So, your consume method is CPU intensive ? If it is, there&#39;s not much you can do, because it requires to use CPU full time to do the job. But, if you see that your CPU is not fully used, then it might be that your consume function is blocking, in one way or another. Can you provide some information about what <i>consume</i> do ?  For it to be non-blocking, it means that it only perform in-memory computation. Otherwise, if it sends data to a database or a webservice, it is blocking."}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1674779697,"post_id":75252545,"comment_id":132791785,"body_markdown":"Thank you @Vladen for your answer! the consume method is non-blocking already (blockhound tested). What would be the magic value for YOUR_CONCURRENCY_VALUE on a 2CPUs in order to maximize throughput please?","body":"Thank you @Vladen for your answer! the consume method is non-blocking already (blockhound tested). What would be the magic value for YOUR_CONCURRENCY_VALUE on a 2CPUs in order to maximize throughput please?"},{"owner":{"account_id":7591763,"reputation":1719,"user_id":5759211,"accept_rate":77,"display_name":"Vladlen Gladis"},"score":0,"creation_date":1674780166,"post_id":75252545,"comment_id":132791859,"body_markdown":"256 is the default value for the concurrency of flatMap, but the correct value for your use case can be found just by doing tests","body":"256 is the default value for the concurrency of flatMap, but the correct value for your use case can be found just by doing tests"}],"tags":[],"owner":{"account_id":7591763,"reputation":1719,"user_id":5759211,"accept_rate":77,"display_name":"Vladlen Gladis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674774357,"creation_date":1674774357,"answer_id":75252545,"question_id":75224190,"body_markdown":"If you want to process messages from a Flux publisher in a parallel manner you have to use `flatMap` operator, because `map` operator operates in a synchronous way by requesting items by 1.\r\n\r\nWhen you are using the `flatMap` operator you can rely on Reactor and let him control the concurrency or you can specify the desired concurrency via **concurrency** parameter (i.e. `flatMap(it -&gt; consume(), YOUR_CONCURRENCY_VALUE)`\r\n\r\n**If your `consume()` method is not a publisher:**\r\n\r\nYou can wrap it in a Mono by using `Mono.fromCallable()` and publish it on a scheduler that is designed of blocking tasks:\r\n```\r\n.publishOn(Schedulers.boundedElastic())\r\n```\r\nBut better rewrite all consumer code to the reactive types otherwise you lose the benefits of using the reactor.","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>If you want to process messages from a Flux publisher in a parallel manner you have to use <code>flatMap</code> operator, because <code>map</code> operator operates in a synchronous way by requesting items by 1.</p>\n<p>When you are using the <code>flatMap</code> operator you can rely on Reactor and let him control the concurrency or you can specify the desired concurrency via <strong>concurrency</strong> parameter (i.e. <code>flatMap(it -&gt; consume(), YOUR_CONCURRENCY_VALUE)</code></p>\n<p><strong>If your <code>consume()</code> method is not a publisher:</strong></p>\n<p>You can wrap it in a Mono by using <code>Mono.fromCallable()</code> and publish it on a scheduler that is designed of blocking tasks:</p>\n<pre><code>.publishOn(Schedulers.boundedElastic())\n</code></pre>\n<p>But better rewrite all consumer code to the reactive types otherwise you lose the benefits of using the reactor.</p>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675329633,"post_id":75319529,"comment_id":132906594,"body_markdown":"Very clear explanation, upvote","body":"Very clear explanation, upvote"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675330525,"post_id":75319529,"comment_id":132906886,"body_markdown":"Hey @Alex, based on what you said, &quot;To scale processing you need to decrease the latency or increase concurrency.&quot; and &quot;3 partitions you could have 3 consumers&quot;. Suppose I cannot decrease latency (please bear with me) and I am only able to have 1 consumer only (please bear with me), what can I do to further improve the processing please? Are you suggesting, (with supposition of the constraints), I can try to increase the variable ```concurrency``` in flatMap to a bigger number than 256? Will I gain any performance if I use a Scheduler (note, the consume method has been proven NON blocking).","body":"Hey @Alex, based on what you said, &quot;To scale processing you need to decrease the latency or increase concurrency.&quot; and &quot;3 partitions you could have 3 consumers&quot;. Suppose I cannot decrease latency (please bear with me) and I am only able to have 1 consumer only (please bear with me), what can I do to further improve the processing please? Are you suggesting, (with supposition of the constraints), I can try to increase the variable <code>concurrency</code> in flatMap to a bigger number than 256? Will I gain any performance if I use a Scheduler (note, the consume method has been proven NON blocking)."},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1675350021,"post_id":75319529,"comment_id":132913763,"body_markdown":"I believe that What Alex trying to say is that you have firstly to load test the concurency to discover your system max capabilities, theorically Yes, increasing the Concurency will result on more resolved messages. but you should first define you&#39;r system maximum concurency wich is set by default to minimal 256.","body":"I believe that What Alex trying to say is that you have firstly to load test the concurency to discover your system max capabilities, theorically Yes, increasing the Concurency will result on more resolved messages. but you should first define you&#39;r system maximum concurency wich is set by default to minimal 256."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1675352980,"post_id":75319529,"comment_id":132914933,"body_markdown":"What is your current producer rate? Ultimately your goal is to process more messages than you produce. If producer send 2 messages per second then you don&#39;t need high concurrency (2 * 60 = 120) that is not really high. Based on our experience 256 is not high number and you can increase it. There are other variable you need to consider - message size, throughput of the downstream system. For example, you need to make sure that your database could handle required writes per sec. Based on our experience 256 is not high number and some of our services process 1000+ messages concurrently.","body":"What is your current producer rate? Ultimately your goal is to process more messages than you produce. If producer send 2 messages per second then you don&#39;t need high concurrency (2 * 60 = 120) that is not really high. Based on our experience 256 is not high number and you can increase it. There are other variable you need to consider - message size, throughput of the downstream system. For example, you need to make sure that your database could handle required writes per sec. Based on our experience 256 is not high number and some of our services process 1000+ messages concurrently."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1675354383,"post_id":75319529,"comment_id":132915469,"body_markdown":"To reiterate, to find our you &quot;speed of light&quot;, increase concurrency and load tests until your service could not handle it (look at CPU usage and other metrics). Reactor should not be a concern here. Usually It&#39;s more about processing logic and downstream systems.","body":"To reiterate, to find our you &quot;speed of light&quot;, increase concurrency and load tests until your service could not handle it (look at CPU usage and other metrics). Reactor should not be a concern here. Usually It&#39;s more about processing logic and downstream systems."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675354985,"creation_date":1675320253,"answer_id":75319529,"question_id":75224190,"body_markdown":"We could apply [Little&#39;s Law](https://en.wikipedia.org/wiki/Little%27s_law) to calculate required concurrency for handling required throughput. \r\n\r\n`workers &gt;= throughput x latency`, in our case `workers` is a number of messages processed in parallel\r\n\r\nFor example, to handle 100 messages per sec with 60 sec latency we would need to process 100 x 60 = 6000 concurrently. In &quot;traditional&quot; blocking app we would need the same number of threads. In reactive app the same workload could be handled by several threads only and, as result, much less memory. Even if a message takes 30-60 sec to process, thread will not be blocked because all IO operations are async. To scale processing you need to decrease the latency or increase concurrency.\r\n\r\nIn our case we need to process 6000 in parallel. With 3 partitions you could have 3 consumers processing 2000 messages in parallel each.\r\n\r\nBy default, `flatMap` is processing `Queues.SMALL_BUFFER_SIZE = 256` messages in parallel but you can make this configurable.\r\n\r\n```\r\nkafkaReceiver.receive()\r\n    .flatMap(oneMessage -&gt; consume(oneMessage), concurrency)\r\n```\r\n\r\nIt&#39;s really hard to say how many messages one app can handle and you would need to run a load test to understand max throughput. Try to maximize this number to understand your limits looking at metrics. In case app could not handle such load, you would need to increase number of partitions and deploy more consumers.\r\n\r\nUltimately, your goal is to process more messages than you produce. If producers send 2 messages per second then you don&#39;t need high concurrency (2 * 60 = 120).\r\n\r\nThere are other variables to consider - message size, throughput of the downstream system, limits of other components. For example, WebClient/Netty has a default limit of 500 concurrent connections. Sometimes you even need to &quot;slow down&quot; consumers to don&#39;t overload downstream services.","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>We could apply <a href=\"https://en.wikipedia.org/wiki/Little%27s_law\" rel=\"nofollow noreferrer\">Little's Law</a> to calculate required concurrency for handling required throughput.</p>\n<p><code>workers &gt;= throughput x latency</code>, in our case <code>workers</code> is a number of messages processed in parallel</p>\n<p>For example, to handle 100 messages per sec with 60 sec latency we would need to process 100 x 60 = 6000 concurrently. In &quot;traditional&quot; blocking app we would need the same number of threads. In reactive app the same workload could be handled by several threads only and, as result, much less memory. Even if a message takes 30-60 sec to process, thread will not be blocked because all IO operations are async. To scale processing you need to decrease the latency or increase concurrency.</p>\n<p>In our case we need to process 6000 in parallel. With 3 partitions you could have 3 consumers processing 2000 messages in parallel each.</p>\n<p>By default, <code>flatMap</code> is processing <code>Queues.SMALL_BUFFER_SIZE = 256</code> messages in parallel but you can make this configurable.</p>\n<pre><code>kafkaReceiver.receive()\n    .flatMap(oneMessage -&gt; consume(oneMessage), concurrency)\n</code></pre>\n<p>It's really hard to say how many messages one app can handle and you would need to run a load test to understand max throughput. Try to maximize this number to understand your limits looking at metrics. In case app could not handle such load, you would need to increase number of partitions and deploy more consumers.</p>\n<p>Ultimately, your goal is to process more messages than you produce. If producers send 2 messages per second then you don't need high concurrency (2 * 60 = 120).</p>\n<p>There are other variables to consider - message size, throughput of the downstream system, limits of other components. For example, WebClient/Netty has a default limit of 500 concurrent connections. Sometimes you even need to &quot;slow down&quot; consumers to don't overload downstream services.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675354985,"creation_date":1674576528,"question_id":75224190,"body_markdown":"Small question regarding a SpringBoot 3 app with reactor kafka please.\r\n\r\nI have a small reactive kafka consumer app, which consumes messages from kafka and processes the message.\r\n\r\nThe app is consuming one topic ```the-topic``` which has **three partitions**.\r\n\r\nThe app is dockerized, and for resource consumption limit reason, the app can only use 2CPUs (please bear with me on that one). And to make things more difficult, I am allowed to only have **one unique instance** of this app running.\r\n\r\nThe app is very straightforward:\r\n\r\n```\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class MyKafkaConfiguration {\r\n\r\n    @Bean\r\n    public KafkaReceiver&lt;String, String&gt; reactiveKafkaConsumerTemplate(KafkaProperties kafkaProperties) {\r\n        kafkaProperties.setBootstrapServers(List.of(&quot;my-kafka.com:9092&quot;));\r\n        kafkaProperties.getConsumer().setGroupId(&quot;should-i-do-something-here&quot;);\r\n        final ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\r\n        basicReceiverOptions.subscription(Collections.singletonList(&quot;the-topic&quot;));\r\n        return new DefaultKafkaReceiver&lt;&gt;(ConsumerFactory.INSTANCE, basicReceiverOptions);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class MyConsumer implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        myConsumer().subscribe();\r\n    }\r\n\r\n    public Flux&lt;String&gt; myConsumer() {\r\n        return kafkaReceiver.receive()\r\n                .flatMap(oneMessage -&gt; consume(oneMessage))\r\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\r\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\r\n    }\r\n\r\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\r\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\r\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\r\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\r\n        //then, just saved the correct transformed data into any REACTIVE repository :)\r\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIf I understand project reactor correctly, and due to my resource limitation, I will have at most 2 reactor cores.\r\n\r\nThe **consume method here has been tested non-blocking**, but takes one second to deal with the message.\r\n\r\nTherefore, will I only be able to consume 2 messages per second? (hopefully not)\r\n\r\nThe messages can be consumed in any order, I wish to just maximize the throughput with this single app.\r\n\r\nMay I ask how could I maximize parallelism / throughput on this app with those constraints please?\r\n\r\nThank you","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>Small question regarding a SpringBoot 3 app with reactor kafka please.</p>\n<p>I have a small reactive kafka consumer app, which consumes messages from kafka and processes the message.</p>\n<p>The app is consuming one topic <code>the-topic</code> which has <strong>three partitions</strong>.</p>\n<p>The app is dockerized, and for resource consumption limit reason, the app can only use 2CPUs (please bear with me on that one). And to make things more difficult, I am allowed to only have <strong>one unique instance</strong> of this app running.</p>\n<p>The app is very straightforward:</p>\n<pre><code>     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<pre><code>@Configuration\npublic class MyKafkaConfiguration {\n\n    @Bean\n    public KafkaReceiver&lt;String, String&gt; reactiveKafkaConsumerTemplate(KafkaProperties kafkaProperties) {\n        kafkaProperties.setBootstrapServers(List.of(&quot;my-kafka.com:9092&quot;));\n        kafkaProperties.getConsumer().setGroupId(&quot;should-i-do-something-here&quot;);\n        final ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\n        basicReceiverOptions.subscription(Collections.singletonList(&quot;the-topic&quot;));\n        return new DefaultKafkaReceiver&lt;&gt;(ConsumerFactory.INSTANCE, basicReceiverOptions);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class MyConsumer implements CommandLineRunner {\n\n    @Autowired\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\n\n\n    @Override\n    public void run(String... args) {\n        myConsumer().subscribe();\n    }\n\n    public Flux&lt;String&gt; myConsumer() {\n        return kafkaReceiver.receive()\n                .flatMap(oneMessage -&gt; consume(oneMessage))\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\n    }\n\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\n        //then, just saved the correct transformed data into any REACTIVE repository :)\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\n    }\n\n}\n\n</code></pre>\n<p>If I understand project reactor correctly, and due to my resource limitation, I will have at most 2 reactor cores.</p>\n<p>The <strong>consume method here has been tested non-blocking</strong>, but takes one second to deal with the message.</p>\n<p>Therefore, will I only be able to consume 2 messages per second? (hopefully not)</p>\n<p>The messages can be consumed in any order, I wish to just maximize the throughput with this single app.</p>\n<p>May I ask how could I maximize parallelism / throughput on this app with those constraints please?</p>\n<p>Thank you</p>\n"},{"tags":["java","maven","apache-kafka","jira","classpath"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1675347879,"post_id":75323906,"comment_id":132912915,"body_markdown":"I do not know about your exact case but, when you add the dependency on org.slf4j:slf4j-api directly, you will still get the conflicting jars in your classpath. On the other hand you probably need the dependency for compiling and running in dev. So, I would keep the provided dependency to com.atlassian.jira:jira-api *without* the exclusions, *keep* the exclusions in org.apache.kafka:kafka-clients and any other place that transitively includes them and *drop the direct dependency on org.slf4j:slf4j-api*.","body":"I do not know about your exact case but, when you add the dependency on org.slf4j:slf4j-api directly, you will still get the conflicting jars in your classpath. On the other hand you probably need the dependency for compiling and running in dev. So, I would keep the provided dependency to com.atlassian.jira:jira-api <i>without</i> the exclusions, <i>keep</i> the exclusions in org.apache.kafka:kafka-clients and any other place that transitively includes them and <i>drop the direct dependency on org.slf4j:slf4j-api</i>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675350279,"post_id":75323906,"comment_id":132913876,"body_markdown":"Remove provided scope from a dependency if you&#39;re trying to override it","body":"Remove provided scope from a dependency if you&#39;re trying to override it"},{"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"score":0,"creation_date":1675350366,"post_id":75323906,"comment_id":132913907,"body_markdown":"@NikosParaskevopoulos i tried as you said. Drop the direct dependency and the exclusions in jira-api and keep the exclusions in kafka. Sadly, i still get the same error","body":"@NikosParaskevopoulos i tried as you said. Drop the direct dependency and the exclusions in jira-api and keep the exclusions in kafka. Sadly, i still get the same error"},{"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"score":0,"creation_date":1675350552,"post_id":75323906,"comment_id":132913993,"body_markdown":"@OneCricketeer do you mean i should delete &lt;scope&gt;provided&lt;/scope&gt; from the org.slf4j at the bottom of my pom.xml, or from the jira-api dependency with the exclusions?","body":"@OneCricketeer do you mean i should delete &lt;scope&gt;provided&lt;/scope&gt; from the org.slf4j at the bottom of my pom.xml, or from the jira-api dependency with the exclusions?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675354671,"post_id":75323906,"comment_id":132915548,"body_markdown":"From the bottom. Unless the server you deploy the JAR into already has `slf4j-api-1.7.30:jar:`, then don&#39;t use `provided`","body":"From the bottom. Unless the server you deploy the JAR into already has <code>slf4j-api-1.7.30:jar:</code>, then don&#39;t use <code>provided</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354766,"creation_date":1675354766,"answer_id":75326039,"question_id":75323906,"body_markdown":"Your error is coming from `org.apache.felix:org.apache.felix.framework`, so you should try adding that as a dependency with its own slf4j exclusion as well. \r\n\r\nThen, try again, and repeat as needed, based on each package name that is shown in the error. \r\n\r\nAlternatively, you could see if adding the maven-shade-plugin will help to rename the `kafka-clients` packages and not have conflicting classes. ","title":"Java / Maven Loader Constraint Violation with Apache Kafka with org.slf4j","body":"<p>Your error is coming from <code>org.apache.felix:org.apache.felix.framework</code>, so you should try adding that as a dependency with its own slf4j exclusion as well.</p>\n<p>Then, try again, and repeat as needed, based on each package name that is shown in the error.</p>\n<p>Alternatively, you could see if adding the maven-shade-plugin will help to rename the <code>kafka-clients</code> packages and not have conflicting classes.</p>\n"}],"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675354766,"creation_date":1675344616,"question_id":75323906,"body_markdown":"i&#39;m currently struggling with a java.lang.LinkageError: loader constraint violation.\r\nI&#39;m developing a Jira Server App with the Atlassian Jira SDK that will include a Apache Kafka Producer. I added a dependency for Kafka in my pom.xml but i receive this error:\r\n\r\n    java.lang.RuntimeException: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature. Listener: com.rse.atlassian.kafka.jira.eventlistener.MasterListener event: com.atlassian.jira.event.issue.IssueEvent\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:53)...\r\n\r\n\r\n    Caused by: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:423)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\r\n    \tat org.apache.kafka.common.utils.Utils.&lt;clinit&gt;(Utils.java:99)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:318)\r\n\r\nI read that this might originate from the org.slf4j dependency being both in Kafka and Atlassian Jira, so i used &lt;exclude&gt; statements in my pom.xml. See the relevant part here:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jira.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;!-- Kafka --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBy this point i think i tried two dozen different permutations of this... but no luck so far.\r\nHere is also my mvn dependency:tree\r\n\r\n    [INFO] +- com.atlassian.jira:jira-api:jar:8.20.1:provided\r\n    [INFO] |  +- com.atlassian.annotations:atlassian-annotations:jar:3.0.3:provided\r\n    [INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\r\n    [INFO] |  |  \\- org.checkerframework:checker-qual:jar:2.8.1:provided\r\n    [INFO] |  +- com.atlassian.ofbiz:entityengine-share:jar:1.5.0:provided\r\n    [INFO] |  |  \\- xerces:xercesImpl:jar:2.12.0:provided\r\n    [INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:provided\r\n    [INFO] |  +- com.atlassian.ofbiz:entityengine:jar:1.5.0:provided\r\n    [INFO] |  |  \\- jta:jta:jar:1.0.1:provided\r\n    [INFO] |  +- com.atlassian.collectors:atlassian-collectors-util:jar:1.1:provided\r\n    [INFO] |  +- opensymphony:webwork:jar:1.4-atlassian-30:provided\r\n    [INFO] |  |  \\- com.atlassian.html:atlassian-html-encoder:jar:1.4:provided\r\n    [INFO] |  +- webwork:pell-multipart-request:jar:1.31.0:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core:jar:7.0.4:provided\r\n    [INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:provided\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1-atlassian-2:provided\r\n    [INFO] |  |  \\- com.atlassian.image:atlassian-image-consumer:jar:1.0.1:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core-user:jar:7.0.4:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core-thumbnail:jar:7.0.4:provided\r\n    [INFO] |  |  +- com.twelvemonkeys.imageio:imageio-jpeg:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-core:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-metadata:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.common:common-lang:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.common:common-io:jar:3.4.1:provided\r\n    [INFO] |  |  |  \\- com.twelvemonkeys.common:common-image:jar:3.4.1:provided\r\n    [INFO] |  |  \\- com.twelvemonkeys.imageio:imageio-tiff:jar:3.4.1:provided\r\n    [INFO] |  +- com.atlassian.extras:atlassian-extras:jar:3.4.6:provided\r\n    [INFO] |  |  +- commons-codec:commons-codec:jar:1.11:provided\r\n    [INFO] |  |  \\- com.atlassian.extras:atlassian-extras-key-manager:jar:3.4.6:provided\r\n    [INFO] |  |     \\- com.atlassian.extras:atlassian-extras-common:jar:3.4.6:provided\r\n    [INFO] |  |        \\- com.atlassian.extras:atlassian-extras-api:jar:3.4.6:provided\r\n    [INFO] |  +- com.atlassian.velocity:atlassian-velocity:jar:1.3:provided\r\n    [INFO] |  |  +- opensymphony:oscore:jar:2.2.7:provided\r\n    [INFO] |  |  \\- org.apache.velocity:velocity:jar:1.6.4:provided\r\n    [INFO] |  +- osworkflow:osworkflow:jar:2.9.0-atlassian-1:provided\r\n    [INFO] |  +- opensymphony:propertyset:jar:1.5:provided\r\n    [INFO] |  +- com.atlassian.cache:atlassian-cache-api:jar:5.1.3:provided\r\n    [INFO] |  |  \\- com.atlassian.instrumentation:atlassian-instrumentation-core:jar:3.0.0:provided\r\n    [INFO] |  +- com.atlassian.beehive:beehive-api:jar:4.0.4:provided\r\n    [INFO] |  +- com.atlassian.tenancy:atlassian-tenancy-api:jar:3.0.1:provided\r\n    [INFO] |  |  \\- com.atlassian.event:atlassian-event:jar:4.0.0:provided\r\n    [INFO] |  +- com.atlassian.upgrade:upgrade-task-framework-api:jar:2.0.2:provided\r\n    [INFO] |  +- com.atlassian.crowd:embedded-crowd-api:jar:4.3.6-743967e012:provided\r\n    [INFO] |  +- com.google.guava:guava:jar:26.0-jre:provided\r\n    [INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.1.3:provided\r\n    [INFO] |  |  +- com.google.j2objc:j2objc-annotations:jar:1.1:provided\r\n    [INFO] |  |  \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:provided\r\n    [INFO] |  +- com.atlassian.fugue:fugue:jar:2.7.0:provided\r\n    [INFO] |  +- io.atlassian.fugue:fugue:jar:4.7.2:provided\r\n    [INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.13-atlassian-6:provided\r\n    [INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13-atlassian-6:provided\r\n    [INFO] |  +- com.sun.mail:jakarta.mail:jar:1.6.5-atlassian-2:provided\r\n    [INFO] |  |  \\- com.sun.activation:jakarta.activation:jar:1.2.1:provided\r\n    [INFO] |  +- com.atlassian.mail:atlassian-mail:jar:5.1.2:provided\r\n    [INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:provided\r\n    [INFO] |  |  \\- commons-digester:commons-digester:jar:1.8.1:provided\r\n    [INFO] |  +- oro:oro:jar:2.0.7:provided\r\n    [INFO] |  +- com.atlassian.threadlocal:atlassian-threadlocal:jar:1.3:provided\r\n    [INFO] |  +- com.google.javascript:closure-compiler-unshaded:jar:v20181008:provided\r\n    [INFO] |  |  +- com.google.javascript:closure-compiler-externs:jar:v20181008:provided\r\n    [INFO] |  |  +- args4j:args4j:jar:2.0.26:provided\r\n    [INFO] |  |  \\- com.google.jsinterop:jsinterop-annotations:jar:1.0.0:provided\r\n    [INFO] |  +- com.google.protobuf:protobuf-java:jar:3.4.0:provided\r\n    [INFO] |  +- com.atlassian.velocity.htmlsafe:velocity-htmlsafe:jar:3.2.0:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-api:jar:5.3.13:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment:jar:5.3.2:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment-api:jar:5.3.2:provided\r\n    [INFO] |  +- com.atlassian.ozymandias:atlassian-plugin-point-safety:jar:1.0.0:provided\r\n    [INFO] |  +- jfree:jfreechart:jar:1.0.13:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource:jar:4.3.6:provided\r\n    [INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-spi:jar:4.3.6:provided\r\n    [INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-api:jar:4.3.6:provided\r\n    [INFO] |  |  +- org.tuckey:urlrewritefilter:jar:4.0.4:provided\r\n    [INFO] |  |  \\- com.atlassian.sourcemap:sourcemap:jar:1.7.7:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource-compiler-gcc:jar:4.3.6:provided\r\n    [INFO] |  +- jfree:jcommon:jar:1.0.8:provided\r\n    [INFO] |  +- com.atlassian.gadgets:atlassian-gadgets-api:jar:7.0.3:provided\r\n    [INFO] |  +- com.atlassian.johnson:atlassian-johnson-core:jar:4.0.0:provided\r\n    [INFO] |  |  \\- com.atlassian.plugins:atlassian-plugins-servlet:jar:5.0.0:provided\r\n    [INFO] |  +- joda-time:joda-time:jar:2.10.5:provided\r\n    [INFO] |  +- commons-lang:commons-lang:jar:2.6:provided\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.9:provided\r\n    [INFO] |  +- commons-io:commons-io:jar:2.8.0:provided\r\n    [INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1-atlassian-2:provided\r\n    [INFO] |  +- com.atlassian.profiling:atlassian-profiling:jar:3.2.0:provided\r\n    [INFO] |  +- com.atlassian.scheduler:atlassian-scheduler-api:jar:3.0.1:provided\r\n    [INFO] |  +- com.atlassian.analytics:analytics-api:jar:6.1.12:provided\r\n    [INFO] |  +- com.atlassian.application:atlassian-application-api:jar:2.0.0:provided\r\n    [INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:provided\r\n    [INFO] |  +- javax.inject:javax.inject:jar:1:provided\r\n    [INFO] |  \\- com.atlassian:lucene-extras:jar:7.3.1-atlassian-4:provided\r\n    [INFO] +- junit:junit:jar:4.10:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\r\n    [INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0:compile\r\n    [INFO] +- org.apache.felix:org.apache.felix.framework:jar:4.0.0:provided\r\n    [INFO] +- org.springframework:spring-beans:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  \\- org.springframework:spring-core:jar:4.2.5.RELEASE:provided\r\n    [INFO] |     \\- commons-logging:commons-logging:jar:1.2:provided\r\n    [INFO] +- org.springframework:spring-context:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  +- org.springframework:spring-aop:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:provided\r\n    [INFO] |  \\- org.springframework:spring-expression:jar:4.2.5.RELEASE:provided\r\n    [INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2:test\r\n    [INFO] |  +- org.apache.wink:wink-client:jar:1.1.3-incubating:test\r\n    [INFO] |  |  +- org.apache.wink:wink-common:jar:1.1.3-incubating:test\r\n    [INFO] |  |  |  \\- org.apache.geronimo.specs:geronimo-annotation_1.1_spec:jar:1.0:test\r\n    [INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.2:test\r\n    [INFO] |  |  |  \\- javax.xml.stream:stax-api:jar:1.0-2:test\r\n    [INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.1.1:test\r\n    [INFO] |  |  \\- javax.activation:activation:jar:1.1:test\r\n    [INFO] |  \\- com.atlassian.upm:upm-api:jar:2.15:test\r\n    [INFO] +- javax.ws.rs:jsr311-api:jar:1.1.1:provided\r\n    [INFO] +- com.google.code.gson:gson:jar:2.2.2-atlassian-1:compile\r\n    [INFO] +- com.atlassian.applinks:applinks-api:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-spi:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-host:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-plugin:jar:8.0.7:provided\r\n    [INFO] |  +- com.atlassian.applinks:applinks-common:jar:8.0.7:provided\r\n    [INFO] |  |  +- com.atlassian.security:atlassian-secure-xml:jar:3.2.14:provided\r\n    [INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.24:provided\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:provided\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:provided\r\n    [INFO] |  |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:provided\r\n    [INFO] |  \\- com.atlassian.frontend:atlassian-frontend-runtime-plugin:jar:0.3.0:provided\r\n    [INFO] +- com.atlassian.templaterenderer:atlassian-template-renderer-api:jar:4.1.5:provided\r\n    [INFO] +- com.atlassian.servicedesk:jira-servicedesk-api:jar:4.13.3:provided\r\n    [INFO] |  +- jakarta.mail:jakarta.mail-api:jar:1.6.5:provided\r\n    [INFO] |  \\- io.atlassian.util.concurrent:atlassian-util-concurrent:jar:4.0.1:provided\r\n    [INFO] +- com.atlassian.plugin:atlassian-spring-scanner-annotation:jar:2.2.0:provided\r\n    [INFO] +- com.atlassian.sal:sal-api:jar:3.0.0:provided\r\n    [INFO] +- org.apache.kafka:kafka-clients:jar:2.8.0:compile\r\n    [INFO] |  +- com.github.luben:zstd-jni:jar:1.4.9-1:compile\r\n    [INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\r\n    [INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.1:compile\r\n    [INFO] \\- org.slf4j:slf4j-api:jar:1.7.30:provided\r\n\r\nThanks in advance for all answers!","title":"Java / Maven Loader Constraint Violation with Apache Kafka with org.slf4j","body":"<p>i'm currently struggling with a java.lang.LinkageError: loader constraint violation.\nI'm developing a Jira Server App with the Atlassian Jira SDK that will include a Apache Kafka Producer. I added a dependency for Kafka in my pom.xml but i receive this error:</p>\n<pre><code>java.lang.RuntimeException: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature. Listener: com.rse.atlassian.kafka.jira.eventlistener.MasterListener event: com.atlassian.jira.event.issue.IssueEvent\nat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:53)...\n\n\nCaused by: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:423)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\n    at org.apache.kafka.common.utils.Utils.&lt;clinit&gt;(Utils.java:99)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:318)\n</code></pre>\n<p>I read that this might originate from the org.slf4j dependency being both in Kafka and Atlassian Jira, so i used  statements in my pom.xml. See the relevant part here:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n        &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\n        &lt;version&gt;${jira.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n        &lt;!-- Kafka --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>By this point i think i tried two dozen different permutations of this... but no luck so far.\nHere is also my mvn dependency:tree</p>\n<pre><code>[INFO] +- com.atlassian.jira:jira-api:jar:8.20.1:provided\n[INFO] |  +- com.atlassian.annotations:atlassian-annotations:jar:3.0.3:provided\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\n[INFO] |  |  \\- org.checkerframework:checker-qual:jar:2.8.1:provided\n[INFO] |  +- com.atlassian.ofbiz:entityengine-share:jar:1.5.0:provided\n[INFO] |  |  \\- xerces:xercesImpl:jar:2.12.0:provided\n[INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:provided\n[INFO] |  +- com.atlassian.ofbiz:entityengine:jar:1.5.0:provided\n[INFO] |  |  \\- jta:jta:jar:1.0.1:provided\n[INFO] |  +- com.atlassian.collectors:atlassian-collectors-util:jar:1.1:provided\n[INFO] |  +- opensymphony:webwork:jar:1.4-atlassian-30:provided\n[INFO] |  |  \\- com.atlassian.html:atlassian-html-encoder:jar:1.4:provided\n[INFO] |  +- webwork:pell-multipart-request:jar:1.31.0:provided\n[INFO] |  +- com.atlassian.core:atlassian-core:jar:7.0.4:provided\n[INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:provided\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1-atlassian-2:provided\n[INFO] |  |  \\- com.atlassian.image:atlassian-image-consumer:jar:1.0.1:provided\n[INFO] |  +- com.atlassian.core:atlassian-core-user:jar:7.0.4:provided\n[INFO] |  +- com.atlassian.core:atlassian-core-thumbnail:jar:7.0.4:provided\n[INFO] |  |  +- com.twelvemonkeys.imageio:imageio-jpeg:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-core:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-metadata:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.common:common-lang:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.common:common-io:jar:3.4.1:provided\n[INFO] |  |  |  \\- com.twelvemonkeys.common:common-image:jar:3.4.1:provided\n[INFO] |  |  \\- com.twelvemonkeys.imageio:imageio-tiff:jar:3.4.1:provided\n[INFO] |  +- com.atlassian.extras:atlassian-extras:jar:3.4.6:provided\n[INFO] |  |  +- commons-codec:commons-codec:jar:1.11:provided\n[INFO] |  |  \\- com.atlassian.extras:atlassian-extras-key-manager:jar:3.4.6:provided\n[INFO] |  |     \\- com.atlassian.extras:atlassian-extras-common:jar:3.4.6:provided\n[INFO] |  |        \\- com.atlassian.extras:atlassian-extras-api:jar:3.4.6:provided\n[INFO] |  +- com.atlassian.velocity:atlassian-velocity:jar:1.3:provided\n[INFO] |  |  +- opensymphony:oscore:jar:2.2.7:provided\n[INFO] |  |  \\- org.apache.velocity:velocity:jar:1.6.4:provided\n[INFO] |  +- osworkflow:osworkflow:jar:2.9.0-atlassian-1:provided\n[INFO] |  +- opensymphony:propertyset:jar:1.5:provided\n[INFO] |  +- com.atlassian.cache:atlassian-cache-api:jar:5.1.3:provided\n[INFO] |  |  \\- com.atlassian.instrumentation:atlassian-instrumentation-core:jar:3.0.0:provided\n[INFO] |  +- com.atlassian.beehive:beehive-api:jar:4.0.4:provided\n[INFO] |  +- com.atlassian.tenancy:atlassian-tenancy-api:jar:3.0.1:provided\n[INFO] |  |  \\- com.atlassian.event:atlassian-event:jar:4.0.0:provided\n[INFO] |  +- com.atlassian.upgrade:upgrade-task-framework-api:jar:2.0.2:provided\n[INFO] |  +- com.atlassian.crowd:embedded-crowd-api:jar:4.3.6-743967e012:provided\n[INFO] |  +- com.google.guava:guava:jar:26.0-jre:provided\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.1.3:provided\n[INFO] |  |  +- com.google.j2objc:j2objc-annotations:jar:1.1:provided\n[INFO] |  |  \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:provided\n[INFO] |  +- com.atlassian.fugue:fugue:jar:2.7.0:provided\n[INFO] |  +- io.atlassian.fugue:fugue:jar:4.7.2:provided\n[INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.13-atlassian-6:provided\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13-atlassian-6:provided\n[INFO] |  +- com.sun.mail:jakarta.mail:jar:1.6.5-atlassian-2:provided\n[INFO] |  |  \\- com.sun.activation:jakarta.activation:jar:1.2.1:provided\n[INFO] |  +- com.atlassian.mail:atlassian-mail:jar:5.1.2:provided\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:provided\n[INFO] |  |  \\- commons-digester:commons-digester:jar:1.8.1:provided\n[INFO] |  +- oro:oro:jar:2.0.7:provided\n[INFO] |  +- com.atlassian.threadlocal:atlassian-threadlocal:jar:1.3:provided\n[INFO] |  +- com.google.javascript:closure-compiler-unshaded:jar:v20181008:provided\n[INFO] |  |  +- com.google.javascript:closure-compiler-externs:jar:v20181008:provided\n[INFO] |  |  +- args4j:args4j:jar:2.0.26:provided\n[INFO] |  |  \\- com.google.jsinterop:jsinterop-annotations:jar:1.0.0:provided\n[INFO] |  +- com.google.protobuf:protobuf-java:jar:3.4.0:provided\n[INFO] |  +- com.atlassian.velocity.htmlsafe:velocity-htmlsafe:jar:3.2.0:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-api:jar:5.3.13:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment:jar:5.3.2:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment-api:jar:5.3.2:provided\n[INFO] |  +- com.atlassian.ozymandias:atlassian-plugin-point-safety:jar:1.0.0:provided\n[INFO] |  +- jfree:jfreechart:jar:1.0.13:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource:jar:4.3.6:provided\n[INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-spi:jar:4.3.6:provided\n[INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-api:jar:4.3.6:provided\n[INFO] |  |  +- org.tuckey:urlrewritefilter:jar:4.0.4:provided\n[INFO] |  |  \\- com.atlassian.sourcemap:sourcemap:jar:1.7.7:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource-compiler-gcc:jar:4.3.6:provided\n[INFO] |  +- jfree:jcommon:jar:1.0.8:provided\n[INFO] |  +- com.atlassian.gadgets:atlassian-gadgets-api:jar:7.0.3:provided\n[INFO] |  +- com.atlassian.johnson:atlassian-johnson-core:jar:4.0.0:provided\n[INFO] |  |  \\- com.atlassian.plugins:atlassian-plugins-servlet:jar:5.0.0:provided\n[INFO] |  +- joda-time:joda-time:jar:2.10.5:provided\n[INFO] |  +- commons-lang:commons-lang:jar:2.6:provided\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.9:provided\n[INFO] |  +- commons-io:commons-io:jar:2.8.0:provided\n[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1-atlassian-2:provided\n[INFO] |  +- com.atlassian.profiling:atlassian-profiling:jar:3.2.0:provided\n[INFO] |  +- com.atlassian.scheduler:atlassian-scheduler-api:jar:3.0.1:provided\n[INFO] |  +- com.atlassian.analytics:analytics-api:jar:6.1.12:provided\n[INFO] |  +- com.atlassian.application:atlassian-application-api:jar:2.0.0:provided\n[INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:provided\n[INFO] |  +- javax.inject:javax.inject:jar:1:provided\n[INFO] |  \\- com.atlassian:lucene-extras:jar:7.3.1-atlassian-4:provided\n[INFO] +- junit:junit:jar:4.10:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\n[INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0:compile\n[INFO] +- org.apache.felix:org.apache.felix.framework:jar:4.0.0:provided\n[INFO] +- org.springframework:spring-beans:jar:4.2.5.RELEASE:provided\n[INFO] |  \\- org.springframework:spring-core:jar:4.2.5.RELEASE:provided\n[INFO] |     \\- commons-logging:commons-logging:jar:1.2:provided\n[INFO] +- org.springframework:spring-context:jar:4.2.5.RELEASE:provided\n[INFO] |  +- org.springframework:spring-aop:jar:4.2.5.RELEASE:provided\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:provided\n[INFO] |  \\- org.springframework:spring-expression:jar:4.2.5.RELEASE:provided\n[INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2:test\n[INFO] |  +- org.apache.wink:wink-client:jar:1.1.3-incubating:test\n[INFO] |  |  +- org.apache.wink:wink-common:jar:1.1.3-incubating:test\n[INFO] |  |  |  \\- org.apache.geronimo.specs:geronimo-annotation_1.1_spec:jar:1.0:test\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.2:test\n[INFO] |  |  |  \\- javax.xml.stream:stax-api:jar:1.0-2:test\n[INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.1.1:test\n[INFO] |  |  \\- javax.activation:activation:jar:1.1:test\n[INFO] |  \\- com.atlassian.upm:upm-api:jar:2.15:test\n[INFO] +- javax.ws.rs:jsr311-api:jar:1.1.1:provided\n[INFO] +- com.google.code.gson:gson:jar:2.2.2-atlassian-1:compile\n[INFO] +- com.atlassian.applinks:applinks-api:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-spi:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-host:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-plugin:jar:8.0.7:provided\n[INFO] |  +- com.atlassian.applinks:applinks-common:jar:8.0.7:provided\n[INFO] |  |  +- com.atlassian.security:atlassian-secure-xml:jar:3.2.14:provided\n[INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.24:provided\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:provided\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:provided\n[INFO] |  |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:provided\n[INFO] |  \\- com.atlassian.frontend:atlassian-frontend-runtime-plugin:jar:0.3.0:provided\n[INFO] +- com.atlassian.templaterenderer:atlassian-template-renderer-api:jar:4.1.5:provided\n[INFO] +- com.atlassian.servicedesk:jira-servicedesk-api:jar:4.13.3:provided\n[INFO] |  +- jakarta.mail:jakarta.mail-api:jar:1.6.5:provided\n[INFO] |  \\- io.atlassian.util.concurrent:atlassian-util-concurrent:jar:4.0.1:provided\n[INFO] +- com.atlassian.plugin:atlassian-spring-scanner-annotation:jar:2.2.0:provided\n[INFO] +- com.atlassian.sal:sal-api:jar:3.0.0:provided\n[INFO] +- org.apache.kafka:kafka-clients:jar:2.8.0:compile\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.4.9-1:compile\n[INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\n[INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.1:compile\n[INFO] \\- org.slf4j:slf4j-api:jar:1.7.30:provided\n</code></pre>\n<p>Thanks in advance for all answers!</p>\n"},{"tags":["java","windows","timeout","keep-alive"],"owner":{"account_id":18285048,"reputation":3,"user_id":13313148,"display_name":"Eduardo Sabaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354614,"creation_date":1675354614,"question_id":75326005,"body_markdown":"I&#39;m working in java (openjdk14) on a project that sends files to a webservice. The server takes its time to process this files so I need to set the TCP keepalive time in order to not lose the connection. Is there any way to set the TCP keepalive time in windows?\r\n\r\nI&#39;m using openjdk14 and Windows 10 Pro\r\n\r\nI will appreciate any help\r\n\r\n\r\n\r\nI found a way in linux using ExtendedSocketOptions but in Windows it seems that it&#39;s not supported:\r\n\r\n```\r\n`Socket sock = sf.createSocket(context);\r\n\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPIDLE, 60);\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPCOUNT, 75);\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPINTERVAL, 3); `\r\n```","title":"openjdk setting keepalive time in windows 10","body":"<p>I'm working in java (openjdk14) on a project that sends files to a webservice. The server takes its time to process this files so I need to set the TCP keepalive time in order to not lose the connection. Is there any way to set the TCP keepalive time in windows?</p>\n<p>I'm using openjdk14 and Windows 10 Pro</p>\n<p>I will appreciate any help</p>\n<p>I found a way in linux using ExtendedSocketOptions but in Windows it seems that it's not supported:</p>\n<pre><code>`Socket sock = sf.createSocket(context);\n\nsock.setOption(ExtendedSocketOptions.TCP_KEEPIDLE, 60);\nsock.setOption(ExtendedSocketOptions.TCP_KEEPCOUNT, 75);\nsock.setOption(ExtendedSocketOptions.TCP_KEEPINTERVAL, 3); `\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","webdriver","google-chrome-devtools"],"answers":[{"comments":[{"owner":{"display_name":"user18840347"},"score":1,"creation_date":1650923171,"post_id":71982123,"comment_id":127234105,"body_markdown":"Thanks! Actually inlining method works very well, compiler whines about RequestId being final or effectively final, but that have already been solved.","body":"Thanks! Actually inlining method works very well, compiler whines about RequestId being final or effectively final, but that have already been solved."},{"owner":{"account_id":10277112,"reputation":638,"user_id":7583640,"display_name":"Priyom saha"},"score":0,"creation_date":1651167120,"post_id":71982123,"comment_id":127305325,"body_markdown":"Can someone please provide the detailed code after you implemented the fix suggested by @Ahamed. I am also struggling in the same phase and the entire code would be really appreciated. Thanks in advance.","body":"Can someone please provide the detailed code after you implemented the fix suggested by @Ahamed. I am also struggling in the same phase and the entire code would be really appreciated. Thanks in advance."}],"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650735338,"creation_date":1650735338,"answer_id":71982123,"question_id":71905565,"body_markdown":"You may try custom function Explicit Wait. Something like this:\r\n\r\n    public String getResponseBody(WebDriver driver, DevTools devTools) {\r\n        return new WebDriverWait(driver,5)\r\n          .ignoring(NullPointerException.class)\r\n          .until(driver -&gt; \r\n          devTools.send(Network.getResponseBody(id[0])).getBody());\r\n    }\r\n\r\nSo, it won&#39;t wait for all 5 seconds. The moment it got the data, it would come of out of the until method. Also add whichever Exception that was coming up here.\r\n\r\nHas put these lines of code as separate method because, devTools object is locally defined. In order to use them inside this anonymous inner function, it has to be final or effectively final.","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>You may try custom function Explicit Wait. Something like this:</p>\n<pre><code>public String getResponseBody(WebDriver driver, DevTools devTools) {\n    return new WebDriverWait(driver,5)\n      .ignoring(NullPointerException.class)\n      .until(driver -&gt; \n      devTools.send(Network.getResponseBody(id[0])).getBody());\n}\n</code></pre>\n<p>So, it won't wait for all 5 seconds. The moment it got the data, it would come of out of the until method. Also add whichever Exception that was coming up here.</p>\n<p>Has put these lines of code as separate method because, devTools object is locally defined. In order to use them inside this anonymous inner function, it has to be final or effectively final.</p>\n"},{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354146,"creation_date":1675344957,"answer_id":75323977,"question_id":71905565,"body_markdown":"I seem to run into this issue when running tests in parallel (and headless) and trying to capture the requests and responses, I get:\r\n\r\n   {&quot;No data found for resource with given identifier&quot;},&quot;sessionId&quot; ...\r\n\r\nHowever, now .until seems to only take ExpectedCondition\r\n\r\n\r\nSo a similar solution (to the accepted answer), but without using &quot;WebDriverWait.until&quot; that I use is:\r\n\r\n\tpublic static String getResponseBody(DevTools devTools, RequestId id) {\r\n\t\tString requestPostData = &quot;&quot;;\r\n\t\tLocalDateTime then = LocalDateTime.now();\r\n\t\tString err = &quot;&quot;;\r\n\t\tInteger it = 0;\r\n\t\twhile (true) {\r\n\t\t\terr = &quot;&quot;;\r\n\t\t\ttry{requestPostData = devTools.send(Network.getResponseBody(id)).getBody();} catch( Exception e){err = e.getMessage();};\r\n\t\t\tif (requestPostData != null &amp;&amp; !requestPostData.equals(&quot;&quot;)) {break;}\r\n\t\t\tif (err.equals(&quot;&quot;)) {break;} // if we don&#39;t have an error message, its quite possible the responseBody really is an empty string\r\n\t\t\tlong timeTaken = ChronoUnit.SECONDS.between(then, LocalDateTime.now());\r\n\t\t\tif (timeTaken &gt;= 5) {requestPostData = err + &quot;, timeTaken:&quot; + timeTaken; break;}\r\n\t\t\tif(it &gt; 0) {TimeUnit.SECONDS.sleep(it);} // I prefer waiting longer and longer, avoiding stack overflows\r\n\t\t\tit++;\r\n\t\t}\r\n\t\treturn requestPostData;\r\n\t}\r\n\r\nIt just loops until it doesn&#39;t error, and returns the string back as soon as it can (but I actually set timeTaken &gt;= 60 due to many parallel requests)","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>I seem to run into this issue when running tests in parallel (and headless) and trying to capture the requests and responses, I get:</p>\n<p>{&quot;No data found for resource with given identifier&quot;},&quot;sessionId&quot; ...</p>\n<p>However, now .until seems to only take ExpectedCondition</p>\n<p>So a similar solution (to the accepted answer), but without using &quot;WebDriverWait.until&quot; that I use is:</p>\n<pre><code>public static String getResponseBody(DevTools devTools, RequestId id) {\n    String requestPostData = &quot;&quot;;\n    LocalDateTime then = LocalDateTime.now();\n    String err = &quot;&quot;;\n    Integer it = 0;\n    while (true) {\n        err = &quot;&quot;;\n        try{requestPostData = devTools.send(Network.getResponseBody(id)).getBody();} catch( Exception e){err = e.getMessage();};\n        if (requestPostData != null &amp;&amp; !requestPostData.equals(&quot;&quot;)) {break;}\n        if (err.equals(&quot;&quot;)) {break;} // if we don't have an error message, its quite possible the responseBody really is an empty string\n        long timeTaken = ChronoUnit.SECONDS.between(then, LocalDateTime.now());\n        if (timeTaken &gt;= 5) {requestPostData = err + &quot;, timeTaken:&quot; + timeTaken; break;}\n        if(it &gt; 0) {TimeUnit.SECONDS.sleep(it);} // I prefer waiting longer and longer, avoiding stack overflows\n        it++;\n    }\n    return requestPostData;\n}\n</code></pre>\n<p>It just loops until it doesn't error, and returns the string back as soon as it can (but I actually set timeTaken &gt;= 60 due to many parallel requests)</p>\n"}],"owner":{"display_name":"user18840347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71982123,"answer_count":2,"score":1,"last_activity_date":1675354146,"creation_date":1650230765,"question_id":71905565,"body_markdown":"I need to work on ajax response, that is one of responses received upon visiting a page. I use selenium dev tools and java. I create a listener, that intercepts a specific request and then I want to work on response it brings. However I need to setup static wait, or else selenium don&#39;t have time to save `RequestId`. I read Chrome Dev Tools documentation, but it&#39;s a new thing for me. I wonder if there is a method that would allow me to wait for this call to be completed, other than the static wait.\r\n\r\nHere is my code:\r\n```\r\n    @Test(groups = &quot;test&quot;)\r\n    public void x() throws InterruptedException, JsonProcessingException {\r\n        User user = User.builder();\r\n        ManageAccountStep manageAccountStep = new ManageAccountStep(getDriver());\r\n        DashboardPO dashboardPO = new DashboardPO(getDriver());\r\n        manageAccountStep.login(user);\r\n        DevTools devTools = ((HasDevTools) getDriver()).maybeGetDevTools().orElseThrow();\r\n        devTools.createSessionIfThereIsNotOne();\r\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\r\n        // end of boilerplate\r\n        final RequestId[] id = new RequestId[1];\r\n        devTools.addListener(Network.responseReceived(), response -&gt; {\r\n            log.info(response.getResponse().getUrl());\r\n            if (response.getResponse().getUrl().contains(DESIRED_URL)){\r\n                id[0] = response.getRequestId();\r\n            }\r\n        });\r\n        dashboardPO\r\n                .clickLink(); // here is when my DESIRED_URL happens \r\n        Utils.sleep(5000); // Something like Thread.sleep(5000)\r\n        String responseBody = devTools.send(Network.getResponseBody(id[0])).getBody();\r\n        // some operations on responseBody\r\n        devTools.clearListeners();\r\n        devTools.disconnectSession();\r\n    }\r\n```\r\nIf I don&#39;t use 5 seconds wait `id` variable gets never assigned and I null pointer exception `requestId is required`. During these 5 seconds `log.info` prints all api calls that are happening and it almost always finds my `id`. I would like to refrain from static wait though. I am thinking about something similiar to maybe `jQuery.active()==0`, but my page doesn&#39;t use jQuery.","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>I need to work on ajax response, that is one of responses received upon visiting a page. I use selenium dev tools and java. I create a listener, that intercepts a specific request and then I want to work on response it brings. However I need to setup static wait, or else selenium don't have time to save <code>RequestId</code>. I read Chrome Dev Tools documentation, but it's a new thing for me. I wonder if there is a method that would allow me to wait for this call to be completed, other than the static wait.</p>\n<p>Here is my code:</p>\n<pre><code>    @Test(groups = &quot;test&quot;)\n    public void x() throws InterruptedException, JsonProcessingException {\n        User user = User.builder();\n        ManageAccountStep manageAccountStep = new ManageAccountStep(getDriver());\n        DashboardPO dashboardPO = new DashboardPO(getDriver());\n        manageAccountStep.login(user);\n        DevTools devTools = ((HasDevTools) getDriver()).maybeGetDevTools().orElseThrow();\n        devTools.createSessionIfThereIsNotOne();\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\n        // end of boilerplate\n        final RequestId[] id = new RequestId[1];\n        devTools.addListener(Network.responseReceived(), response -&gt; {\n            log.info(response.getResponse().getUrl());\n            if (response.getResponse().getUrl().contains(DESIRED_URL)){\n                id[0] = response.getRequestId();\n            }\n        });\n        dashboardPO\n                .clickLink(); // here is when my DESIRED_URL happens \n        Utils.sleep(5000); // Something like Thread.sleep(5000)\n        String responseBody = devTools.send(Network.getResponseBody(id[0])).getBody();\n        // some operations on responseBody\n        devTools.clearListeners();\n        devTools.disconnectSession();\n    }\n</code></pre>\n<p>If I don't use 5 seconds wait <code>id</code> variable gets never assigned and I null pointer exception <code>requestId is required</code>. During these 5 seconds <code>log.info</code> prints all api calls that are happening and it almost always finds my <code>id</code>. I would like to refrain from static wait though. I am thinking about something similiar to maybe <code>jQuery.active()==0</code>, but my page doesn't use jQuery.</p>\n"},{"tags":["java","android","kotlin","mediarouter"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675180844,"post_id":75299759,"comment_id":132871070,"body_markdown":"Having a connected external display does not imply mirroring. The foreground app might be showing something using `Presentation` or similar techniques. Or, the device might be in some new UI mode, such as Samsung DeX.","body":"Having a connected external display does not imply mirroring. The foreground app might be showing something using <code>Presentation</code> or similar techniques. Or, the device might be in some new UI mode, such as Samsung DeX."},{"owner":{"account_id":18348513,"reputation":8726,"user_id":13363205,"display_name":"iknow"},"score":0,"creation_date":1675181286,"post_id":75299759,"comment_id":132871231,"body_markdown":"@CommonsWare Okay, do You know what is the best way to decide if a device is mirrored? And a reversed question, does mirroring imply that an external device is connected to the device? (so when a device is mirrored this function will always return true?)","body":"@CommonsWare Okay, do You know what is the best way to decide if a device is mirrored? And a reversed question, does mirroring imply that an external device is connected to the device? (so when a device is mirrored this function will always return true?)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675183747,"post_id":75299759,"comment_id":132872110,"body_markdown":"&quot;You know what is the best way to decide if a device is mirrored?&quot; -- I do not know of any way of doing it. &quot;does mirroring imply that an external device is connected to the device?&quot; -- no. At minimum, there is a developer option in Settings to simulate an external display, and by default, it mirrors.","body":"&quot;You know what is the best way to decide if a device is mirrored?&quot; -- I do not know of any way of doing it. &quot;does mirroring imply that an external device is connected to the device?&quot; -- no. At minimum, there is a developer option in Settings to simulate an external display, and by default, it mirrors."}],"owner":{"account_id":18348513,"reputation":8726,"user_id":13363205,"display_name":"iknow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354008,"creation_date":1675180678,"question_id":75299759,"body_markdown":"I am using [MediaRouter][1] from [androidx.mediarouter:mediarouter][2]\r\n\r\nCan someone confirm, suggest a better solution, or correct me if this code can properly detect mirroring:\r\n``` kotlin\r\nfun Activity.isExternalDisplayConnected(): Boolean {\r\n    return MediaRouter.getInstance(this).routes.any { route -&gt;\r\n        !route.isDefault &amp;&amp; route.playbackType == MediaRouter.RouteInfo.PLAYBACK_TYPE_REMOTE\r\n    }\r\n}\r\n```\r\n\r\nSo basically I am checking if there is any Route that is not default and `playbackType` is `PLAYBACK_TYPE_REMOTE`.\r\n\r\nIt works on my two test devices but I am curious if this will generally work every time. And if this function can return true on some devices that don&#39;t have mirroring turned on.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/mediarouter/media/MediaRouter\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/mediarouter","title":"Can MediaRouter be used to detect mirroring?","body":"<p>I am using <a href=\"https://developer.android.com/reference/androidx/mediarouter/media/MediaRouter\" rel=\"nofollow noreferrer\">MediaRouter</a> from <a href=\"https://developer.android.com/jetpack/androidx/releases/mediarouter\" rel=\"nofollow noreferrer\">androidx.mediarouter:mediarouter</a></p>\n<p>Can someone confirm, suggest a better solution, or correct me if this code can properly detect mirroring:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Activity.isExternalDisplayConnected(): Boolean {\n    return MediaRouter.getInstance(this).routes.any { route -&gt;\n        !route.isDefault &amp;&amp; route.playbackType == MediaRouter.RouteInfo.PLAYBACK_TYPE_REMOTE\n    }\n}\n</code></pre>\n<p>So basically I am checking if there is any Route that is not default and <code>playbackType</code> is <code>PLAYBACK_TYPE_REMOTE</code>.</p>\n<p>It works on my two test devices but I am curious if this will generally work every time. And if this function can return true on some devices that don't have mirroring turned on.</p>\n"},{"tags":["java","spring","spring-boot","multipartform-data","multipartfile"],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354005,"creation_date":1675353465,"question_id":75325769,"body_markdown":"I am new to resttemplate and trying to understand how to invoke below API using restTemplate\r\n\r\n    public ResponseEntity&lt;String&gt; upload(@ResquestPart(&quot;file&quot;) MultipartFIle file,\r\n    @RequestParam(&quot;path&quot;) String path){\r\n    \r\n    //businness logic\r\n    }\r\n\r\nI am trying to call above as below however it fails on &quot;java.io.filenotfoundexception multipartfile resource [ABC.txt]cannot be resolved to absolute file path&quot;\r\n\r\n    public void uploadFile() {\r\n    \r\n    Path path = Paths.get(&quot;C:/ABC.txt&quot;); \r\n    byte[] content = null;\r\n    \r\n    try{\r\n        content =  Files.readAllBytes(path);   // All file is read in content variable \r\n    } catch(final IOException e){\r\n    }\r\n    \r\n    MultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,content);\r\n        \r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    headers.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    headers.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    \r\n    MultiValueMap&lt;String, Object&gt; obj = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    obj.add(&quot;file&quot;, file);\r\n    obj.add9(&quot;path&quot;, &quot;/opt/apps&quot;);\r\n    \r\n    HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\r\n    \r\n    String result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\r\n    \r\n    }\r\n","title":"When trying to invoke rest api to upload a multipart file throws multipartfile resource [ABC.txt]cannot be resolved to absolute file path?","body":"<p>I am new to resttemplate and trying to understand how to invoke below API using restTemplate</p>\n<pre><code>public ResponseEntity&lt;String&gt; upload(@ResquestPart(&quot;file&quot;) MultipartFIle file,\n@RequestParam(&quot;path&quot;) String path){\n\n//businness logic\n}\n</code></pre>\n<p>I am trying to call above as below however it fails on &quot;java.io.filenotfoundexception multipartfile resource [ABC.txt]cannot be resolved to absolute file path&quot;</p>\n<pre><code>public void uploadFile() {\n\nPath path = Paths.get(&quot;C:/ABC.txt&quot;); \nbyte[] content = null;\n\ntry{\n    content =  Files.readAllBytes(path);   // All file is read in content variable \n} catch(final IOException e){\n}\n\nMultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,content);\n    \n\nHttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.MULTIPART_FORM_DATA);\nheaders.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\nheaders.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\n\nMultiValueMap&lt;String, Object&gt; obj = new LinkedMultiValueMap&lt;String, Object&gt;();\nobj.add(&quot;file&quot;, file);\nobj.add9(&quot;path&quot;, &quot;/opt/apps&quot;);\n\nHttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\n\nString result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\n\n}\n</code></pre>\n"},{"tags":["java","dns","udp"],"comments":[{"owner":{"account_id":6714936,"reputation":2896,"user_id":5177045,"accept_rate":75,"display_name":"amedina"},"score":0,"creation_date":1551100992,"post_id":54867087,"comment_id":96504645,"body_markdown":"What have you tried so far? Please show us some code.","body":"What have you tried so far? Please show us some code."},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102072,"post_id":54867087,"comment_id":96505305,"body_markdown":"@amedina I have edited my post. The main issue is that, I am not allowed to use the InetAddress library in this code. How to send the DatagramPacket without using InetAddress?","body":"@amedina I have edited my post. The main issue is that, I am not allowed to use the InetAddress library in this code. How to send the DatagramPacket without using InetAddress?"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102202,"post_id":54867087,"comment_id":96505389,"body_markdown":"Why can&#39;t you use the library?","body":"Why can&#39;t you use the library?"},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102346,"post_id":54867087,"comment_id":96505486,"body_markdown":"@Ctorres, to be honest, I am doing an academic project and the manual said, using InetAddress library is forbidden.","body":"@Ctorres, to be honest, I am doing an academic project and the manual said, using InetAddress library is forbidden."},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102471,"post_id":54867087,"comment_id":96505561,"body_markdown":"That explain a lot! Haha. Sorry, I can&#39;t help you, I though it was just a missing dependency problem. Goodluck!","body":"That explain a lot! Haha. Sorry, I can&#39;t help you, I though it was just a missing dependency problem. Goodluck!"},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102524,"post_id":54867087,"comment_id":96505596,"body_markdown":"Oh. No problem. Thanks anyways :D @Ctorres","body":"Oh. No problem. Thanks anyways :D @Ctorres"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102578,"post_id":54867087,"comment_id":96505629,"body_markdown":"If I was you, I would probably check what this function does exactly and tried to do something similar with my own function.","body":"If I was you, I would probably check what this function does exactly and tried to do something similar with my own function."},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102641,"post_id":54867087,"comment_id":96505667,"body_markdown":"Thanks for the suggestion :D @Ctorres","body":"Thanks for the suggestion :D @Ctorres"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102804,"post_id":54867087,"comment_id":96505783,"body_markdown":"Answer your own question if you finally do it, this could help someone! ;)","body":"Answer your own question if you finally do it, this could help someone! ;)"}],"answers":[{"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1551103517,"post_id":54867804,"comment_id":96506278,"body_markdown":"Reimplementing what was done in a library and probably debugged and optimised is not necessarily the best solution, except if the purpose is to learn things.","body":"Reimplementing what was done in a library and probably debugged and optimised is not necessarily the best solution, except if the purpose is to learn things."},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":1,"creation_date":1551109076,"post_id":54867804,"comment_id":96509887,"body_markdown":"Yes. It is solely for learning purpose @Patrick Mevzek I have edited my answer. Thanks :D","body":"Yes. It is solely for learning purpose @Patrick Mevzek I have edited my answer. Thanks :D"}],"tags":[],"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551109121,"creation_date":1551102917,"answer_id":54867804,"question_id":54867087,"body_markdown":"The simplest way is to figure out what the function really does and implement the method manually for learning purposes.","title":"Send DNS queries in Java without using InetAddress","body":"<p>The simplest way is to figure out what the function really does and implement the method manually for learning purposes.</p>\n"}],"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54867804,"answer_count":1,"score":1,"last_activity_date":1675353893,"creation_date":1551100527,"question_id":54867087,"body_markdown":"I am trying to send DNS queries to a DNS root server(eg. 192.58.128.30) using JAVA. But the thing is, I am not allowed to use library functions like InetAddress.getByName(), how to proceed?\r\n\r\nI have tried this so far:\r\n\r\n        public class Main{\r\n\t        public static void main(String[] args) {\r\n\t\t        DatagramSocket client = new DatagramSocket();\r\n\r\n\t\t        String rawMessage = &quot;example message&quot;;\r\n\t\t        byte[] message = rawMessage.getBytes(); //converting the message into a byte array\r\n\r\n\t\t        //creating datagram packet\r\n\t\t        DatagramPacket packet =\r\n\t\t\t\tnew DatagramPacket(rawMessage,rawMessage.length,InetAddress.getByName(&quot;192.58.128.30&quot;),53);\r\n\r\n\t\t        //sending packet using datagramSocket\r\n\t\t        client.send(packet);\r\n\r\n\t        }\r\n        }\r\n\r\nEDIT: The issue was solved.","title":"Send DNS queries in Java without using InetAddress","body":"<p>I am trying to send DNS queries to a DNS root server(eg. 192.58.128.30) using JAVA. But the thing is, I am not allowed to use library functions like InetAddress.getByName(), how to proceed?</p>\n<p>I have tried this so far:</p>\n<pre><code>    public class Main{\n        public static void main(String[] args) {\n            DatagramSocket client = new DatagramSocket();\n\n            String rawMessage = &quot;example message&quot;;\n            byte[] message = rawMessage.getBytes(); //converting the message into a byte array\n\n            //creating datagram packet\n            DatagramPacket packet =\n            new DatagramPacket(rawMessage,rawMessage.length,InetAddress.getByName(&quot;192.58.128.30&quot;),53);\n\n            //sending packet using datagramSocket\n            client.send(packet);\n\n        }\n    }\n</code></pre>\n<p>EDIT: The issue was solved.</p>\n"},{"tags":["java","spring-boot","annotations","aop","spring-cloud-config"],"answers":[{"comments":[{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1675591453,"post_id":75325050,"comment_id":132958846,"body_markdown":"Thank for response! Can you tell me how to implemet the method setEmbeddedValueResolver if I implement the interface EmbeddedValueResolverAware? I tried the first approach to create a bean manually, but I don&#39;t know how to create the bean ConfigurableBeanFactory, it has a lot of methods, and the value for url is null, I think I don&#39;t create the bean properly.","body":"Thank for response! Can you tell me how to implemet the method setEmbeddedValueResolver if I implement the interface EmbeddedValueResolverAware? I tried the first approach to create a bean manually, but I don&#39;t know how to create the bean ConfigurableBeanFactory, it has a lot of methods, and the value for url is null, I think I don&#39;t create the bean properly."},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1675596907,"post_id":75325050,"comment_id":132959676,"body_markdown":"With the code above you literally don&#39;t have to add anything else. Spring will inject the ConfigurableBeanFactory instance it already has in an application context. The EmbeddedValueResolverAware approach will look the same except that you also need an setEmbeddedValueResolver() method which Spring will call passing the same resolver from the context that you can then assign to your this.embeddedValueResolver . If you still have trouble with this I can share a test project later.","body":"With the code above you literally don&#39;t have to add anything else. Spring will inject the ConfigurableBeanFactory instance it already has in an application context. The EmbeddedValueResolverAware approach will look the same except that you also need an setEmbeddedValueResolver() method which Spring will call passing the same resolver from the context that you can then assign to your this.embeddedValueResolver . If you still have trouble with this I can share a test project later."},{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675670895,"post_id":75325050,"comment_id":132971430,"body_markdown":"You might have the wrong bean and you should use this bean `org.springframework.beans.factory.config.EmbeddedValueResolver`  @elvis","body":"You might have the wrong bean and you should use this bean <code>org.springframework.beans.factory.config.EmbeddedValueResolv&zwnj;&#8203;er</code>  @elvis"}],"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675351204,"creation_date":1675350063,"answer_id":75325050,"question_id":75297636,"body_markdown":"If your question is about evaluating a Spel variable reference programmatically in your aspect, here&#39;s what you can do:\r\n\r\n**Aspect**\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class TraceableAspect {\r\n    private final EmbeddedValueResolver embeddedValueResolver;\r\n\r\n    public TraceableAspect(ConfigurableBeanFactory beanFactory) {\r\n        this.embeddedValueResolver = new EmbeddedValueResolver(beanFactory);\r\n    }\r\n\r\n    // use your actual Traceable package name here\r\n    @Before(value = &quot;@annotation(your.package.Traceable)&quot;)\r\n    public void handleTraceable(JoinPoint joinPoint) {\r\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n        Method method = signature.getMethod();\r\n        Traceable traceable = method.getAnnotation(Traceable.class);\r\n        String urlExpression = traceable.url();\r\n        String url = embeddedValueResolver.resolveStringValue(urlExpression);\r\n\r\n        // your code that uses the resolved `url` ...\r\n    }\r\n}\r\n```\r\n\r\nAlso, you can just make your aspect implement a `EmbeddedValueResolverAware` interface and get the resolver injected by Spring for you instead of creating it manually.\r\n\r\nJust for completeness:\r\n\r\n**Traceable annotation**\r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Traceable {\r\n    String url();\r\n}\r\n```\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nurl.external: http://stackoverflow.com\r\n```\r\n\r\nMake sure to have the `org.springframework.boot:spring-boot-starter-aop` dependency in your project if you don&#39;t have it already.","title":"How to send a variable from yml as an attribute for custom annotation in Spring Boot projects?","body":"<p>If your question is about evaluating a Spel variable reference programmatically in your aspect, here's what you can do:</p>\n<p><strong>Aspect</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class TraceableAspect {\n    private final EmbeddedValueResolver embeddedValueResolver;\n\n    public TraceableAspect(ConfigurableBeanFactory beanFactory) {\n        this.embeddedValueResolver = new EmbeddedValueResolver(beanFactory);\n    }\n\n    // use your actual Traceable package name here\n    @Before(value = &quot;@annotation(your.package.Traceable)&quot;)\n    public void handleTraceable(JoinPoint joinPoint) {\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n        Method method = signature.getMethod();\n        Traceable traceable = method.getAnnotation(Traceable.class);\n        String urlExpression = traceable.url();\n        String url = embeddedValueResolver.resolveStringValue(urlExpression);\n\n        // your code that uses the resolved `url` ...\n    }\n}\n</code></pre>\n<p>Also, you can just make your aspect implement a <code>EmbeddedValueResolverAware</code> interface and get the resolver injected by Spring for you instead of creating it manually.</p>\n<p>Just for completeness:</p>\n<p><strong>Traceable annotation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Traceable {\n    String url();\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>url.external: http://stackoverflow.com\n</code></pre>\n<p>Make sure to have the <code>org.springframework.boot:spring-boot-starter-aop</code> dependency in your project if you don't have it already.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75325050,"answer_count":1,"score":0,"last_activity_date":1675353770,"creation_date":1675170402,"question_id":75297636,"body_markdown":"I want to create a custom annotation to use it in Spring Boot projects at methods from RestController. I&#39;ll use a Before Advice to create it and I want send information to the advice. I want to use a variable url and this variable can have 2 different values for 2 different environments, so I want to configure it inside cloud config on the application.yml of the service and send it as an attribute to the external library. The business logic for the annotation will be implemented in an outside library and I&#39;ll import the dependency in all the services. \r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n    @Traceable(url = &quot;${url.external}&quot;)\r\n    public Data test(@RequestBody Data data, HttpServletRequest servletRequest) {\r\n    \r\n        System.out.println(&quot;Inside controller, data = &quot; + data);\r\n    \r\n        return data;\r\n    }\r\n\r\nI know how to send a constant or how to send the variable `data` as attributes. But I don&#39;t know how to send a value from application.yml as an attribute. I want to send this variable from the application.yml of the microservice because the external library isn&#39;t a Spring Boot project and it doesn&#39;t have an application.yml. How can I do that? Thank you!   ","title":"How to send a variable from yml as an attribute for custom annotation in Spring Boot projects?","body":"<p>I want to create a custom annotation to use it in Spring Boot projects at methods from RestController. I'll use a Before Advice to create it and I want send information to the advice. I want to use a variable url and this variable can have 2 different values for 2 different environments, so I want to configure it inside cloud config on the application.yml of the service and send it as an attribute to the external library. The business logic for the annotation will be implemented in an outside library and I'll import the dependency in all the services.</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\n@Traceable(url = &quot;${url.external}&quot;)\npublic Data test(@RequestBody Data data, HttpServletRequest servletRequest) {\n\n    System.out.println(&quot;Inside controller, data = &quot; + data);\n\n    return data;\n}\n</code></pre>\n<p>I know how to send a constant or how to send the variable <code>data</code> as attributes. But I don't know how to send a value from application.yml as an attribute. I want to send this variable from the application.yml of the microservice because the external library isn't a Spring Boot project and it doesn't have an application.yml. How can I do that? Thank you!</p>\n"},{"tags":["java","android-studio","android-tiramisu"],"owner":{"account_id":16384215,"reputation":3,"user_id":11834491,"display_name":"Davit Tevzadze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675353717,"creation_date":1675353587,"question_id":75325792,"body_markdown":"```\r\nIntent intent = new Intent(&quot;android.intent.action.VIEW&quot;);\r\nintent.setComponent(ComponentName.unflattenFromString(&quot;com.google.android.apps.maps/com.google.android.maps.MapsActivity&quot;));                  \r\nintent.setData(Uri.parse(&quot;https://www.google.com/maps/...My Googl Map URL...&quot;));\r\nstartActivity(intent);\r\n```\r\n\r\nI have no idea what happened, but after upgrading to Android version 13 Tiramisu, my app stopped functioning as a result of the Google Maps app not opening and crashing.\r\n\r\nOn a previous version, the same app is perfect.","title":"On Android version 13 tiramisu, the Google Maps app won&#39;t launch and crashes. The same code is perfectly functional in the remaining versions","body":"<pre><code>Intent intent = new Intent(&quot;android.intent.action.VIEW&quot;);\nintent.setComponent(ComponentName.unflattenFromString(&quot;com.google.android.apps.maps/com.google.android.maps.MapsActivity&quot;));                  \nintent.setData(Uri.parse(&quot;https://www.google.com/maps/...My Googl Map URL...&quot;));\nstartActivity(intent);\n</code></pre>\n<p>I have no idea what happened, but after upgrading to Android version 13 Tiramisu, my app stopped functioning as a result of the Google Maps app not opening and crashing.</p>\n<p>On a previous version, the same app is perfect.</p>\n"},{"tags":["java","maven","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579737399,"creation_date":1579737399,"answer_id":59869883,"question_id":59863814,"body_markdown":"Your command is wrong:\r\n\r\n    mvn sonar : sonar   // WRONG\r\n\r\nRemove the spacers between sonar and sonar and add the Sonar server address:\r\n\r\n    mvn sonar:sonar -Dsonar.host.url=https://mysonarserver:9000\r\n\r\nThe sonar server configuration can also be configured in the pom.xml file (add in the properties section)\r\n\r\n    &lt;properties&gt;\r\n        ...\r\n        &lt;sonar.host.url&gt;https://mysonarserver:9000&lt;/sonar.host.url&gt;\r\n    &lt;/properties&gt;","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>Your command is wrong:</p>\n\n<pre><code>mvn sonar : sonar   // WRONG\n</code></pre>\n\n<p>Remove the spacers between sonar and sonar and add the Sonar server address:</p>\n\n<pre><code>mvn sonar:sonar -Dsonar.host.url=https://mysonarserver:9000\n</code></pre>\n\n<p>The sonar server configuration can also be configured in the pom.xml file (add in the properties section)</p>\n\n<pre><code>&lt;properties&gt;\n    ...\n    &lt;sonar.host.url&gt;https://mysonarserver:9000&lt;/sonar.host.url&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1073699,"reputation":133,"user_id":1073665,"display_name":"bilgin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675353562,"creation_date":1675353562,"answer_id":75325788,"question_id":59863814,"body_markdown":"Command mvn sonar scanner on windows\r\n````\r\nmvn sonar:sonar `\r\n  &quot;-Dsonar.projectKey=xxxxx&quot; `\r\n  &quot;-Dsonar.host.url=http://local:9000&quot; `\r\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\r\n\r\n````\r\nLinux\r\nAfter adding project on sonar console manualy,sonar will give you the next command. \r\n````\r\nmvn sonar:sonar \\\r\n  &quot;-Dsonar.projectKey=xxxxx&quot; \\\r\n  &quot;-Dsonar.host.url=http://localhost:9000&quot; \\\r\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\r\n\r\n````\r\n\r\nYou can also put url/host/login in pom file or env config.","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>Command mvn sonar scanner on windows</p>\n<pre><code>mvn sonar:sonar `\n  &quot;-Dsonar.projectKey=xxxxx&quot; `\n  &quot;-Dsonar.host.url=http://local:9000&quot; `\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\n\n</code></pre>\n<p>Linux\nAfter adding project on sonar console manualy,sonar will give you the next command.</p>\n<pre><code>mvn sonar:sonar \\\n  &quot;-Dsonar.projectKey=xxxxx&quot; \\\n  &quot;-Dsonar.host.url=http://localhost:9000&quot; \\\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\n\n</code></pre>\n<p>You can also put url/host/login in pom file or env config.</p>\n"}],"owner":{"account_id":16689579,"reputation":5,"user_id":12062538,"display_name":"jantje smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675353562,"creation_date":1579709170,"question_id":59863814,"body_markdown":"I have a project on SonarQube but when I try to update it with the follow command in the terminal it gets me the this error :\r\n\r\n&gt; [ERROR] NoSuchElementException\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n\r\nI have searched online but apparently nobody knows the answer, so I thought I&#39;d give it a try.\r\n\r\nI have the following project structure:\r\n\r\n - Project name\r\n  - Dal\r\n  - SharedModel\r\n  - WebsocketClient\r\n  - WebsocketServer\r\n\r\nSo in total I have 4 modules. My main pom.xml looks like this :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;myproject.nl&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;websocketserver&lt;/module&gt;\r\n    &lt;module&gt;websocketsclient&lt;/module&gt;\r\n    &lt;module&gt;sharedmodel&lt;/module&gt;\r\n    &lt;module&gt;Dal&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;name&gt;PartieKo&lt;/name&gt;\r\n\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- JUnit 5 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.5.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>I have a project on SonarQube but when I try to update it with the follow command in the terminal it gets me the this error :</p>\n\n<blockquote>\n  <p>[ERROR] NoSuchElementException\n  [ERROR]\n  [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n  [ERROR] Re-run Maven using the -X switch to enable full debug logging.</p>\n</blockquote>\n\n<p>I have searched online but apparently nobody knows the answer, so I thought I'd give it a try.</p>\n\n<p>I have the following project structure:</p>\n\n<ul>\n<li>Project name\n\n<ul>\n<li>Dal</li>\n<li>SharedModel</li>\n<li>WebsocketClient</li>\n<li>WebsocketServer</li>\n</ul></li>\n</ul>\n\n<p>So in total I have 4 modules. My main pom.xml looks like this :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;myproject.nl&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;modules&gt;\n    &lt;module&gt;websocketserver&lt;/module&gt;\n    &lt;module&gt;websocketsclient&lt;/module&gt;\n    &lt;module&gt;sharedmodel&lt;/module&gt;\n    &lt;module&gt;Dal&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;name&gt;PartieKo&lt;/name&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- JUnit 5 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.5.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":1,"creation_date":1465687999,"post_id":37769344,"comment_id":63007308,"body_markdown":"I parse this json string with standard:\n`new Gson().fromJson(jsonString, WholeObjectClass.class)`\nI think its weird situation while the same field can have different types.","body":"I parse this json string with standard: <code>new Gson().fromJson(jsonString, WholeObjectClass.class)</code> I think its weird situation while the same field can have different types."},{"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"score":2,"creation_date":1465688262,"post_id":37769344,"comment_id":63007352,"body_markdown":"Share your mapped object class code.","body":"Share your mapped object class code."},{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":0,"creation_date":1465726678,"post_id":37769344,"comment_id":63013937,"body_markdown":"I added java class code. The problem is that first object in json has string instead of array of string. Json is provided by external api.","body":"I added java class code. The problem is that first object in json has string instead of array of string. Json is provided by external api."}],"answers":[{"comments":[{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":0,"creation_date":1465727500,"post_id":37773112,"comment_id":63014167,"body_markdown":"Thanks for reply. I know that this format is weird but I receive it from external api. I&#39;m looking for some method to map this json as it is.","body":"Thanks for reply. I know that this format is weird but I receive it from external api. I&#39;m looking for some method to map this json as it is."},{"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"score":1,"creation_date":1465728469,"post_id":37773112,"comment_id":63014438,"body_markdown":"For this you can try your own deserializers, refer this link : http://stackoverflow.com/questions/28319473/gson-same-field-name-different-types\n\nLet me know if you still need my help","body":"For this you can try your own deserializers, refer this link : <a href=\"http://stackoverflow.com/questions/28319473/gson-same-field-name-different-types\" title=\"gson same field name different types\">stackoverflow.com/questions/28319473/&hellip;</a>  Let me know if you still need my help"},{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":0,"creation_date":1465731003,"post_id":37773112,"comment_id":63015089,"body_markdown":"I used own deserializer like in Sanjeev Saha answer. Thanks.","body":"I used own deserializer like in Sanjeev Saha answer. Thanks."}],"tags":[],"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465726833,"creation_date":1465726833,"answer_id":37773112,"question_id":37769344,"body_markdown":"The json is not in proper format, it should be :\r\n\r\n    [{\r\n      &quot;label&quot;: &quot;Check Digit&quot;,\r\n      &quot;value&quot;: [&quot;W&quot;]\r\n    },\r\n    {\r\n      &quot;label&quot;: &quot;Equipment&quot;,\r\n      &quot;value&quot;: [\r\n        &quot;With Standard Liftgate&quot;,\r\n        &quot;(-) Version Packages&quot;\r\n      ]\r\n    }]\r\n\r\nAgain your parser class should be : \r\n\r\n    public class Decode {\r\n    \r\n        private String label;\r\n        private String[] value;\r\n    \r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void setLabel(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        public String[] getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String[] value) {\r\n            this.value = value;\r\n        }\r\n    \r\n    }\r\n\r\nHope it will help :)\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>The json is not in proper format, it should be :</p>\n\n<pre><code>[{\n  \"label\": \"Check Digit\",\n  \"value\": [\"W\"]\n},\n{\n  \"label\": \"Equipment\",\n  \"value\": [\n    \"With Standard Liftgate\",\n    \"(-) Version Packages\"\n  ]\n}]\n</code></pre>\n\n<p>Again your parser class should be : </p>\n\n<pre><code>public class Decode {\n\n    private String label;\n    private String[] value;\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n    public String[] getValue() {\n        return value;\n    }\n\n    public void setValue(String[] value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n\n<p>Hope it will help :)</p>\n"},{"tags":[],"owner":{"account_id":7796007,"reputation":2642,"user_id":5897065,"display_name":"Sanjeev Saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1465729376,"creation_date":1465729376,"answer_id":37773463,"question_id":37769344,"body_markdown":"My suggestion is as follows:-\r\n\r\nStep 1: Please make following little changes to your `Decode` class.\r\n\r\nDecode.java\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Decode {\r\n\r\n\tprivate String label;\r\n\tprivate List&lt;String&gt; values = new ArrayList&lt;&gt;(); // in json it is &quot;value&quot;\r\n\r\n\tpublic String getLabel() {\r\n\t\treturn label;\r\n \t}\r\n\r\n\tpublic void setLabel(String label) {\r\n\t\tthis.label = label;\r\n \t}\r\n\r\n\tpublic List&lt;String&gt; getValues() {\r\n\t\treturn values;\r\n\t }\r\n\r\n\tpublic void setValues(List&lt;String&gt; values) {\r\n\t\tthis.values = values;\r\n\t }\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Decode [label=&quot; + label + &quot;, values=&quot; + values + &quot;]&quot;;\r\n\t }\r\n\r\n    }\r\n\r\n\r\nStep 2: Please create following `JsonDeserializer`.\r\n\r\nMyDeserializer.java\r\n\r\n    import java.lang.reflect.Type;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonDeserializationContext;\r\n    import com.google.gson.JsonDeserializer;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParseException;\r\n    import com.google.gson.reflect.TypeToken;\r\n\r\n    public class MyDeserializer implements JsonDeserializer&lt;Decode&gt; {\r\n\r\n\t@Override\r\n\tpublic Decode deserialize(JsonElement arg0, Type arg1, JsonDeserializationContext arg2) throws JsonParseException {\r\n\t\tJsonObject decodeObj = arg0.getAsJsonObject();\r\n\t\tGson gson = new Gson();\r\n\t\tDecode decode = gson.fromJson(arg0, Decode.class);\r\n\t\tList&lt;String&gt; values = null;\r\n\t\tif (decodeObj.get(&quot;value&quot;).isJsonArray()) {\r\n\t\t\tvalues = gson.fromJson(decodeObj.get(&quot;value&quot;), new TypeToken&lt;List&lt;String&gt;&gt;() {\r\n\t\t\t}.getType());\r\n\t\t} else {\r\n\t\t\tString single = gson.fromJson(decodeObj.get(&quot;value&quot;), String.class);\r\n\t\t\tvalues = new ArrayList&lt;String&gt;();\r\n\t\t\tvalues.add(single);\r\n\t\t}\r\n\t\tdecode.setValues(values);\r\n\t\treturn decode;\r\n\t }\r\n\r\n    }\r\n\r\n\r\nStep 3: Now its time to `deserialize` your json as follows:\r\n\r\nGsonMain.java\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.util.Arrays;\r\n\r\n    import com.google.gson.GsonBuilder;\r\n\r\n    public class GsonMain{\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString filename = &quot;d:/test.json&quot;; // contains the json\r\n\t\tString content = new String(Files.readAllBytes(new File(filename).toPath()));\r\n\r\n\t\tGsonBuilder b = new GsonBuilder();\r\n\t\tb.registerTypeAdapter(Decode.class, new MyDeserializer());\r\n\t\tDecode[] array = b.create().fromJson(content, Decode[].class);\r\n\t\tSystem.out.println(Arrays.toString(array));\r\n\t  }\r\n\r\n     }\r\n\r\n\r\n\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>My suggestion is as follows:-</p>\n\n<p>Step 1: Please make following little changes to your <code>Decode</code> class.</p>\n\n<p>Decode.java</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Decode {\n\nprivate String label;\nprivate List&lt;String&gt; values = new ArrayList&lt;&gt;(); // in json it is \"value\"\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic List&lt;String&gt; getValues() {\n    return values;\n }\n\npublic void setValues(List&lt;String&gt; values) {\n    this.values = values;\n }\n\n@Override\npublic String toString() {\n    return \"Decode [label=\" + label + \", values=\" + values + \"]\";\n }\n\n}\n</code></pre>\n\n<p>Step 2: Please create following <code>JsonDeserializer</code>.</p>\n\n<p>MyDeserializer.java</p>\n\n<pre><code>import java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonDeserializationContext;\nimport com.google.gson.JsonDeserializer;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParseException;\nimport com.google.gson.reflect.TypeToken;\n\npublic class MyDeserializer implements JsonDeserializer&lt;Decode&gt; {\n\n@Override\npublic Decode deserialize(JsonElement arg0, Type arg1, JsonDeserializationContext arg2) throws JsonParseException {\n    JsonObject decodeObj = arg0.getAsJsonObject();\n    Gson gson = new Gson();\n    Decode decode = gson.fromJson(arg0, Decode.class);\n    List&lt;String&gt; values = null;\n    if (decodeObj.get(\"value\").isJsonArray()) {\n        values = gson.fromJson(decodeObj.get(\"value\"), new TypeToken&lt;List&lt;String&gt;&gt;() {\n        }.getType());\n    } else {\n        String single = gson.fromJson(decodeObj.get(\"value\"), String.class);\n        values = new ArrayList&lt;String&gt;();\n        values.add(single);\n    }\n    decode.setValues(values);\n    return decode;\n }\n\n}\n</code></pre>\n\n<p>Step 3: Now its time to <code>deserialize</code> your json as follows:</p>\n\n<p>GsonMain.java</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.Arrays;\n\nimport com.google.gson.GsonBuilder;\n\npublic class GsonMain{\npublic static void main(String[] args) throws IOException {\n    String filename = \"d:/test.json\"; // contains the json\n    String content = new String(Files.readAllBytes(new File(filename).toPath()));\n\n    GsonBuilder b = new GsonBuilder();\n    b.registerTypeAdapter(Decode.class, new MyDeserializer());\n    Decode[] array = b.create().fromJson(content, Decode[].class);\n    System.out.println(Arrays.toString(array));\n  }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19603461,"reputation":189,"user_id":14347713,"display_name":"shopkeeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636266316,"creation_date":1636170216,"answer_id":69861291,"question_id":37769344,"body_markdown":"I had the same problem, but the returned json results were more complex.\r\nI just defined those fields with uncertain types as Object type, with a little processing in the getter method.\r\n```\r\npublic class POI {\r\n    @SerializedName(&quot;address&quot;)\r\n    private Object rawAddress;\r\n    @SerializedName(&quot;tel&quot;)\r\n    private Object rawTel;\r\n\r\n    //    these two variables are used, parsed from rawXXX\r\n    private ArrayList&lt;String&gt; addresses;\r\n    private ArrayList&lt;String&gt; tels;\r\n\r\n    public ArrayList&lt;String&gt; getAddresses() {\r\n        if (null == addresses) {\r\n            addresses = new ArrayList&lt;&gt;();\r\n            if (rawAddress instanceof ArrayList&lt;?&gt;) {\r\n                for (Object o : (ArrayList&lt;?&gt;) rawAddress) {\r\n                    if (o instanceof String) {\r\n                        addresses.add((String) o);\r\n                    }\r\n                }\r\n            } else if (rawAddress instanceof String) {\r\n                addresses.add((String) rawAddress);\r\n            }\r\n        }\r\n        return addresses;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getTels() {\r\n        if (null == tels) {\r\n            tels = new ArrayList&lt;&gt;();\r\n            if (rawTel instanceof ArrayList&lt;?&gt;) {\r\n                for (Object o : (ArrayList&lt;?&gt;) rawTel) {\r\n                    if (o instanceof String) {\r\n                        tels.add((String) o);\r\n                    }\r\n                }\r\n            } else if (rawTel instanceof String) {\r\n                tels.add((String) rawTel);\r\n            }\r\n        }\r\n        return tels;\r\n    }\r\n\r\n    public Object getRawAddress() {\r\n        return rawAddress;\r\n    }\r\n\r\n    public void setRawAddress(Object rawAddress) {\r\n        this.rawAddress = rawAddress;\r\n    }\r\n\r\n    public Object getRawTel() {\r\n        return rawTel;\r\n    }\r\n\r\n    public void setRawTel(Object rawTel) {\r\n        this.rawTel = rawTel;\r\n    }\r\n}\r\n```\r\nHope to help you.","title":"Gson - parsing json with field that is array or string","body":"<p>I had the same problem, but the returned json results were more complex.\nI just defined those fields with uncertain types as Object type, with a little processing in the getter method.</p>\n<pre><code>public class POI {\n    @SerializedName(&quot;address&quot;)\n    private Object rawAddress;\n    @SerializedName(&quot;tel&quot;)\n    private Object rawTel;\n\n    //    these two variables are used, parsed from rawXXX\n    private ArrayList&lt;String&gt; addresses;\n    private ArrayList&lt;String&gt; tels;\n\n    public ArrayList&lt;String&gt; getAddresses() {\n        if (null == addresses) {\n            addresses = new ArrayList&lt;&gt;();\n            if (rawAddress instanceof ArrayList&lt;?&gt;) {\n                for (Object o : (ArrayList&lt;?&gt;) rawAddress) {\n                    if (o instanceof String) {\n                        addresses.add((String) o);\n                    }\n                }\n            } else if (rawAddress instanceof String) {\n                addresses.add((String) rawAddress);\n            }\n        }\n        return addresses;\n    }\n\n    public ArrayList&lt;String&gt; getTels() {\n        if (null == tels) {\n            tels = new ArrayList&lt;&gt;();\n            if (rawTel instanceof ArrayList&lt;?&gt;) {\n                for (Object o : (ArrayList&lt;?&gt;) rawTel) {\n                    if (o instanceof String) {\n                        tels.add((String) o);\n                    }\n                }\n            } else if (rawTel instanceof String) {\n                tels.add((String) rawTel);\n            }\n        }\n        return tels;\n    }\n\n    public Object getRawAddress() {\n        return rawAddress;\n    }\n\n    public void setRawAddress(Object rawAddress) {\n        this.rawAddress = rawAddress;\n    }\n\n    public Object getRawTel() {\n        return rawTel;\n    }\n\n    public void setRawTel(Object rawTel) {\n        this.rawTel = rawTel;\n    }\n}\n</code></pre>\n<p>Hope to help you.</p>\n"},{"tags":[],"owner":{"account_id":2106041,"reputation":2316,"user_id":1872349,"display_name":"Raphael C"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675353091,"creation_date":1675353091,"answer_id":75325689,"question_id":37769344,"body_markdown":"the Decode solution is the cleanest, but if you don&#39;t plan on using the model for anything else than deserializing, you could just declare the field as\r\n```kotlin\r\nval myField: Any?\r\n```\r\n\r\nand then to read the value:\r\n```kotlin\r\nwhen (myField) {\r\n    is List&lt;*&gt; -&gt; {}\r\n    is String -&gt; {}\r\n}\r\n```","title":"Gson - parsing json with field that is array or string","body":"<p>the Decode solution is the cleanest, but if you don't plan on using the model for anything else than deserializing, you could just declare the field as</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myField: Any?\n</code></pre>\n<p>and then to read the value:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>when (myField) {\n    is List&lt;*&gt; -&gt; {}\n    is String -&gt; {}\n}\n</code></pre>\n"}],"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5644,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":37773463,"answer_count":4,"score":5,"last_activity_date":1675353091,"creation_date":1465687283,"question_id":37769344,"body_markdown":"I&#39;m trying to parse some json with Gson and I have following problem:\r\n\r\nThis is my json:\r\n\r\n    [{\r\n      &quot;label&quot;: &quot;Check Digit&quot;,\r\n      &quot;value&quot;: &quot;W&quot;\r\n    },\r\n    {\r\n      &quot;label&quot;: &quot;Equipment&quot;,\r\n      &quot;value&quot;: [\r\n        &quot;With Standard Liftgate&quot;,\r\n        &quot;(-) Version Packages&quot;\r\n      ]\r\n    }]\r\n    \r\n\r\nThis is my java class:\r\n\r\n    public class Decode {\r\n    \r\n        private String label;\r\n        private List&lt;String&gt; value = new ArrayList&lt;&gt;();\r\n    \r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void setLabel(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        public List&lt;String&gt; getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(List&lt;String&gt; value) {\r\n            this.value = value;\r\n        }\r\n    \r\n    }\r\n\r\nHow to make Gson to parse it and use `value` as Array of String always?\r\n\r\n\r\n\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>I'm trying to parse some json with Gson and I have following problem:</p>\n\n<p>This is my json:</p>\n\n<pre><code>[{\n  \"label\": \"Check Digit\",\n  \"value\": \"W\"\n},\n{\n  \"label\": \"Equipment\",\n  \"value\": [\n    \"With Standard Liftgate\",\n    \"(-) Version Packages\"\n  ]\n}]\n</code></pre>\n\n<p>This is my java class:</p>\n\n<pre><code>public class Decode {\n\n    private String label;\n    private List&lt;String&gt; value = new ArrayList&lt;&gt;();\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n    public List&lt;String&gt; getValue() {\n        return value;\n    }\n\n    public void setValue(List&lt;String&gt; value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n\n<p>How to make Gson to parse it and use <code>value</code> as Array of String always?</p>\n"},{"tags":["java","android-studio","datagridview"],"comments":[{"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"score":0,"creation_date":1675356686,"post_id":75325439,"comment_id":132916178,"body_markdown":"With sortable I mean the capability, for next implementations.","body":"With sortable I mean the capability, for next implementations."},{"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"score":0,"creation_date":1675356738,"post_id":75325439,"comment_id":132916199,"body_markdown":"Both ids are wrongly set to 1, obv I mean 1, 2","body":"Both ids are wrongly set to 1, obv I mean 1, 2"}],"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675351975,"creation_date":1675351975,"question_id":75325439,"body_markdown":"I&#39;m looking for a simple way to get a gridview with sortable headers (with captions) in Android Studio using Java. You know, like those in Visual Studio C# .Net, where you create a class, a List&lt;yourclass&gt;, you give the list to the gridview as a DataSource... nothing more verbose than this, something very simple to understand and clear to read, for people coming from VS.\r\n\r\nThanks for your precious time!\r\nM\r\n\r\nThis is the equivalent in VS2010 C# WinForms:\r\n\r\n\r\n```\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.ComponentModel;\r\nusing System.Data;\r\nusing System.Drawing;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Windows.Forms;\r\n\r\nnamespace WindowsFormsApplication1\r\n{\r\n    public partial class Form1 : Form\r\n    {\r\n        public Form1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        private void Form1_Shown(object sender, EventArgs e)\r\n        {\r\n            List&lt;Worker&gt; workers = new List&lt;Worker&gt;();\r\n\r\n            #region Fill the list\r\n            Worker w1 = new Worker();\r\n            w1.Id = 1;\r\n            w1.Nome = &quot;Mike&quot;;\r\n            w1.Dob = new DateTime(2000, 01, 01);\r\n\r\n            workers.Add(w1);\r\n\r\n            Worker w2 = new Worker();\r\n            w2.Id = 1;\r\n            w2.Nome = &quot;Jade&quot;;\r\n            w2.Dob = new DateTime(2002, 02, 02);\r\n\r\n            workers.Add(w2);\r\n            #endregion\r\n\r\n            dataGridView1.DataSource = workers.ToList();\r\n        }\r\n    }\r\n\r\n    public class Worker\r\n    {\r\n        private int _id;\r\n\r\n        public int Id\r\n        {\r\n            get { return _id; }\r\n            set { _id = value; }\r\n        }\r\n\r\n        private string _nome;\r\n\r\n        public string Nome\r\n        {\r\n            get { return _nome; }\r\n            set { _nome = value; }\r\n        }\r\n\r\n        private DateTime _dob;\r\n\r\n        public DateTime Dob\r\n        {\r\n            get { return _dob; }\r\n            set { _dob = value; }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the result:\r\n[![enter image description here](https://i.stack.imgur.com/7Q1kP.png)](https://i.stack.imgur.com/7Q1kP.png)\r\n\r\n\r\nI don&#39;t have idea, the know-how, everything I&#39;ve seen I understand it&#39;s not what I want, and I think it should be something easy to write, it&#39;s not a flying shuttle.","title":"Android Studio Java equivalent of C# .Net WinForms DataGridView Object List DataSource","body":"<p>I'm looking for a simple way to get a gridview with sortable headers (with captions) in Android Studio using Java. You know, like those in Visual Studio C# .Net, where you create a class, a List, you give the list to the gridview as a DataSource... nothing more verbose than this, something very simple to understand and clear to read, for people coming from VS.</p>\n<p>Thanks for your precious time!\nM</p>\n<p>This is the equivalent in VS2010 C# WinForms:</p>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApplication1\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Shown(object sender, EventArgs e)\n        {\n            List&lt;Worker&gt; workers = new List&lt;Worker&gt;();\n\n            #region Fill the list\n            Worker w1 = new Worker();\n            w1.Id = 1;\n            w1.Nome = &quot;Mike&quot;;\n            w1.Dob = new DateTime(2000, 01, 01);\n\n            workers.Add(w1);\n\n            Worker w2 = new Worker();\n            w2.Id = 1;\n            w2.Nome = &quot;Jade&quot;;\n            w2.Dob = new DateTime(2002, 02, 02);\n\n            workers.Add(w2);\n            #endregion\n\n            dataGridView1.DataSource = workers.ToList();\n        }\n    }\n\n    public class Worker\n    {\n        private int _id;\n\n        public int Id\n        {\n            get { return _id; }\n            set { _id = value; }\n        }\n\n        private string _nome;\n\n        public string Nome\n        {\n            get { return _nome; }\n            set { _nome = value; }\n        }\n\n        private DateTime _dob;\n\n        public DateTime Dob\n        {\n            get { return _dob; }\n            set { _dob = value; }\n        }\n    }\n\n\n}\n\n</code></pre>\n<p>This is the result:\n<a href=\"https://i.stack.imgur.com/7Q1kP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Q1kP.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't have idea, the know-how, everything I've seen I understand it's not what I want, and I think it should be something easy to write, it's not a flying shuttle.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":0,"creation_date":1572681562,"post_id":58669243,"comment_id":103640651,"body_markdown":"for some reason the question was truncated, i&#39;m trying to delete it and ask it again","body":"for some reason the question was truncated, i&#39;m trying to delete it and ask it again"},{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":0,"creation_date":1572682262,"post_id":58669243,"comment_id":103640759,"body_markdown":"WOW @Andreas ,It worked! Would you move your comment to answer so that i accept it.","body":"WOW @Andreas ,It worked! Would you move your comment to answer so that i accept it."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572682125,"creation_date":1572682125,"answer_id":58669331,"question_id":58669243,"body_markdown":"Try this:\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Map&lt;String, PeopleType&gt; peopleTypes, HttpSession session) {\r\n    Tickets tickets = new Tickets();\r\n    tickets.setPeopleTypes(peopleTypes);\r\n    ...\r\n}\r\n```\r\n\r\n**Or** try this:\r\n\r\n```\r\npublic class Tickets {\r\n    private Map&lt;String, PeopleType&gt; peopleTypes = new HashMap&lt;&gt;();\r\n\r\n    @JsonAnySetter\r\n    public void addPeopleType(String type, PeopleType peopleType) {\r\n        peopleTypes.put(type, peopleType);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\r\n    ...\r\n}\r\n```","title":"How to bind JSON HashMap to the @RequestBody in spring boot","body":"<p>Try this:</p>\n\n<pre><code>@PostMapping(\"/url\")\npublic ResponseEntity bookTickets(@RequestBody Map&lt;String, PeopleType&gt; peopleTypes, HttpSession session) {\n    Tickets tickets = new Tickets();\n    tickets.setPeopleTypes(peopleTypes);\n    ...\n}\n</code></pre>\n\n<p><strong>Or</strong> try this:</p>\n\n<pre><code>public class Tickets {\n    private Map&lt;String, PeopleType&gt; peopleTypes = new HashMap&lt;&gt;();\n\n    @JsonAnySetter\n    public void addPeopleType(String type, PeopleType peopleType) {\n        peopleTypes.put(type, peopleType);\n    }\n}\n</code></pre>\n\n<pre><code>@PostMapping(\"/url\")\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58669331,"answer_count":1,"score":1,"last_activity_date":1675351899,"creation_date":1572681213,"question_id":58669243,"body_markdown":"I want to bind this JSON structure\r\n\r\n    {\r\n    &quot;male&quot;: {\r\n        &quot;id&quot;: &quot;0001&quot;,\r\n        &quot;name&quot;: &quot;Emma&quot;,\r\n        &quot;pet&quot;: &quot;dog&quot;\r\n    },   \r\n    &quot;female&quot;: {\r\n        &quot;id&quot;: &quot;0001&quot;,\r\n        &quot;name&quot;: &quot;Cilia&quot;,\r\n        &quot;pet&quot;: &quot;cat&quot;\r\n    }\r\n    }\r\n\r\nTo java HashMap data structure using spring boot @RequestBody annotation. However, spring boot is not able to bind it, but if i receive the json as string and bind it manually to the HashMap it will succeed. Here is the HashMap \r\n```\r\npublic class Tickets {\r\n    \r\n    private HashMap&lt;String, PeopleType&gt; peopleTypes = new HashMap();\r\n}\r\n```\r\n\r\n```\r\npublic class PeopleType {\r\n\r\n    private String id;\r\n    \r\n    private String name;\r\n   \r\n    private String pet;\r\n}\r\n```\r\n\r\nHere is the controller\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\r\n...\r\n}\r\n```\r\n\r\nI removed all Getters and Setters for brevity","title":"How to bind JSON HashMap to the @RequestBody in spring boot","body":"<p>I want to bind this JSON structure</p>\n<pre><code>{\n&quot;male&quot;: {\n    &quot;id&quot;: &quot;0001&quot;,\n    &quot;name&quot;: &quot;Emma&quot;,\n    &quot;pet&quot;: &quot;dog&quot;\n},   \n&quot;female&quot;: {\n    &quot;id&quot;: &quot;0001&quot;,\n    &quot;name&quot;: &quot;Cilia&quot;,\n    &quot;pet&quot;: &quot;cat&quot;\n}\n}\n</code></pre>\n<p>To java HashMap data structure using spring boot @RequestBody annotation. However, spring boot is not able to bind it, but if i receive the json as string and bind it manually to the HashMap it will succeed. Here is the HashMap</p>\n<pre><code>public class Tickets {\n    \n    private HashMap&lt;String, PeopleType&gt; peopleTypes = new HashMap();\n}\n</code></pre>\n<pre><code>public class PeopleType {\n\n    private String id;\n    \n    private String name;\n   \n    private String pet;\n}\n</code></pre>\n<p>Here is the controller</p>\n<pre><code>@PostMapping(&quot;/url&quot;)\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\n...\n}\n</code></pre>\n<p>I removed all Getters and Setters for brevity</p>\n"},{"tags":["java","barcode-scanner","google-mlkit"],"answers":[{"comments":[{"owner":{"account_id":27674224,"reputation":1,"user_id":21124393,"display_name":"swemaz"},"score":0,"creation_date":1675596828,"post_id":75313689,"comment_id":132959663,"body_markdown":"I could not get your suggestion to work.","body":"I could not get your suggestion to work."},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1675602617,"post_id":75313689,"comment_id":132960625,"body_markdown":"I&#39;ve tested it (snippet) on AZTEC codes of different sizes but short text. It works well. What is the size of the posted aztecode? Can you read that aztecode anoher way?","body":"I&#39;ve tested it (snippet) on AZTEC codes of different sizes but short text. It works well. What is the size of the posted aztecode? Can you read that aztecode anoher way?"},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1675608844,"post_id":75313689,"comment_id":132961754,"body_markdown":"Check out this site for testing your app: https://products.aspose.app/barcode/generate/aztec.","body":"Check out this site for testing your app: <a href=\"https://products.aspose.app/barcode/generate/aztec\" rel=\"nofollow noreferrer\">products.aspose.app/barcode/generate/aztec</a>."},{"owner":{"account_id":27674224,"reputation":1,"user_id":21124393,"display_name":"swemaz"},"score":0,"creation_date":1675668826,"post_id":75313689,"comment_id":132970947,"body_markdown":"The content of my Aztecode is an encrypted text with ticket information. The aztec is read from a mobile device. I have no problem reading it on a computerscreen if a zoom up. But on a mobile device it is much smaller.","body":"The content of my Aztecode is an encrypted text with ticket information. The aztec is read from a mobile device. I have no problem reading it on a computerscreen if a zoom up. But on a mobile device it is much smaller."}],"tags":[],"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675270917,"creation_date":1675270917,"answer_id":75313689,"question_id":75313231,"body_markdown":"&gt; Try this. It works well on my Galaxy XCover 5 to read the format\r\n&gt; (4096), but not  the text (getRawValue()) for that format. Don&#39;t know\r\n&gt; why! No problem with QR-Code and Barcode EAN-13.\r\n\r\n\r\n    @ExperimentalGetImage //Notice: @ExperimentalGetImage.\r\n    public class BarCodeImageAnalyzer implements ImageAnalysis.Analyzer {\r\n    \r\n        private final BarcodeScanner scanner;\r\n    \r\n        public BarCodeImageAnalyzer() {\r\n    \r\n             scanner = BarcodeScanning.getClient();\r\n    \r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void analyze(@NonNull ImageProxy imageProxy) {\r\n    \r\n            Image mediaImage = imageProxy.getImage();\r\n    \r\n            if (mediaImage != null) {\r\n                InputImage image =\r\n                        InputImage.fromMediaImage(mediaImage, rotation);\r\n    // rotation coding in main class according to ML-Kit instructions.\r\n    // https://developers.google.com/ml-kit/vision/barcode-scanning/android.\r\n    \r\n                scanner.process(image)\r\n                        .addOnSuccessListener(barcodes -&gt; {\r\n                            for (Barcode barcode : barcodes) {\r\n                                 codebarres.setText(&quot;&quot;+barcode.getFormat());\r\n                                // codebarres.setText(barcode.getRawValue());\r\n    // codebarres is a TextView in the mainactivity layout.\r\n                            }\r\n                        })\r\n                        .addOnCompleteListener(results -&gt; imageProxy.close());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Slow detection of large Aztec using MLKit and CameraX","body":"<blockquote>\n<p>Try this. It works well on my Galaxy XCover 5 to read the format\n(4096), but not  the text (getRawValue()) for that format. Don't know\nwhy! No problem with QR-Code and Barcode EAN-13.</p>\n</blockquote>\n<pre><code>@ExperimentalGetImage //Notice: @ExperimentalGetImage.\npublic class BarCodeImageAnalyzer implements ImageAnalysis.Analyzer {\n\n    private final BarcodeScanner scanner;\n\n    public BarCodeImageAnalyzer() {\n\n         scanner = BarcodeScanning.getClient();\n\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void analyze(@NonNull ImageProxy imageProxy) {\n\n        Image mediaImage = imageProxy.getImage();\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, rotation);\n// rotation coding in main class according to ML-Kit instructions.\n// https://developers.google.com/ml-kit/vision/barcode-scanning/android.\n\n            scanner.process(image)\n                    .addOnSuccessListener(barcodes -&gt; {\n                        for (Barcode barcode : barcodes) {\n                             codebarres.setText(&quot;&quot;+barcode.getFormat());\n                            // codebarres.setText(barcode.getRawValue());\n// codebarres is a TextView in the mainactivity layout.\n                        }\n                    })\n                    .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27674224,"reputation":1,"user_id":21124393,"display_name":"swemaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351800,"creation_date":1675268724,"question_id":75313231,"body_markdown":"vision-quickstart detection of Aztec with high density is very slow. Read that increasing input image resolution should speed things up, but I don&#39;t know how to do that in the quickstart example.\r\nI&#39;m evaluating MLKit and some other frameworks for use in my scanner app.\r\n\r\nDoes any on know how to do that?\r\n\r\nTrying to read Aztec on a electronic train ticket from mobile phone screen with MLKit qiuckstart example. Eventually it manages to detect it, but it takes about 10 to 30 seconds. The app is used for scanning Aztec code on train tickets.\r\n\r\nPhones used to scan\r\nGalaxy XCover 5 Android version 13\r\nGalaxy A12 Android version 11\r\n\r\n![Aztec qr-code](https://i.stack.imgur.com/GJk6E.jpg)","title":"Slow detection of large Aztec using MLKit and CameraX","body":"<p>vision-quickstart detection of Aztec with high density is very slow. Read that increasing input image resolution should speed things up, but I don't know how to do that in the quickstart example.\nI'm evaluating MLKit and some other frameworks for use in my scanner app.</p>\n<p>Does any on know how to do that?</p>\n<p>Trying to read Aztec on a electronic train ticket from mobile phone screen with MLKit qiuckstart example. Eventually it manages to detect it, but it takes about 10 to 30 seconds. The app is used for scanning Aztec code on train tickets.</p>\n<p>Phones used to scan\nGalaxy XCover 5 Android version 13\nGalaxy A12 Android version 11</p>\n<p><img src=\"https://i.stack.imgur.com/GJk6E.jpg\" alt=\"Aztec qr-code\" /></p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675342521,"post_id":75322979,"comment_id":132910895,"body_markdown":"Your statement doesn&#39;t have parameters, it has string literals containing question marks.","body":"Your statement doesn&#39;t have parameters, it has string literals containing question marks."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1675345776,"post_id":75322979,"comment_id":132912114,"body_markdown":"The parameter index in SQL queries is counting from 1. The error is not related to JSP.","body":"The parameter index in SQL queries is counting from 1. The error is not related to JSP."}],"answers":[{"comments":[{"owner":{"account_id":20002509,"reputation":1,"user_id":14661212,"display_name":"Ronniel"},"score":0,"creation_date":1675341686,"post_id":75323158,"comment_id":132910604,"body_markdown":"I got this error after removing the quotes.\n\ncom.mysql.cj.jdbc.ClientPreparedStatement: SELECT * from myshop.userlogin WHERE username = ** BYTE ARRAY DATA ** and password = ** BYTE ARRAY DATA **","body":"I got this error after removing the quotes.  com.mysql.cj.jdbc.ClientPreparedStatement: SELECT * from myshop.userlogin WHERE username = ** BYTE ARRAY DATA ** and password = ** BYTE ARRAY DATA **"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1675342260,"post_id":75323158,"comment_id":132910803,"body_markdown":"Different issue. It _looks_ like youre passing a byte array into the query. Post a [mcve]","body":"Different issue. It <i>looks</i> like youre passing a byte array into the query. Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675340759,"creation_date":1675340759,"answer_id":75323158,"question_id":75322979,"body_markdown":"JDBC will take care of quotes in the query\r\n\r\n    PreparedStatement preparedStatement = \r\n      connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = ? and password = ? &quot;)) {","title":"Error: Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>JDBC will take care of quotes in the query</p>\n<pre><code>PreparedStatement preparedStatement = \n  connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = ? and password = ? &quot;)) {\n</code></pre>\n"}],"owner":{"account_id":20002509,"reputation":1,"user_id":14661212,"display_name":"Ronniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351727,"creation_date":1675339856,"question_id":75322979,"body_markdown":"I&#39;m making a Login form using JSP + JDBC + Servlet.\r\n\r\nWhenever I tried to login a username a username and password, I get this error:\r\n\r\nSQLState: S1009\r\nError Code: 0\r\nMessage: Parameter index out of range (1 &gt; number of parameters, which is 0) \r\n\r\n```\r\npublic class LoginDao {\r\n\r\n    public boolean validate(LoginBean loginBean) throws ClassNotFoundException {\r\n        boolean status = false;\r\n\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop?user=root&quot;, &quot;root&quot;, &quot;12301230&quot;);\r\n\r\n            // Step 2:Create a statement using connection object\r\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = &#39;?&#39; and password = &#39;?&#39; &quot;)) {\r\n            preparedStatement.setString(1, loginBean.getUsername());\r\n            preparedStatement.setString(2, loginBean.getPassword());\r\n\r\n            System.out.println(preparedStatement);\r\n            ResultSet rs = preparedStatement.executeQuery();\r\n            status = rs.next();\r\n\r\n        } catch (SQLException e) {\r\n            // process sql exception\r\n            printSQLException(e);\r\n        }\r\n        return status;\r\n    }\r\n\r\n    private void printSQLException(SQLException ex) {\r\n        for (Throwable e: ex) {\r\n            if (e instanceof SQLException) {\r\n                e.printStackTrace(System.err);\r\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\r\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\r\n                System.err.println(&quot;Message: &quot; + e.getMessage());\r\n                Throwable t = ex.getCause();\r\n                while (t != null) {\r\n                    System.out.println(&quot;Cause: &quot; + t);\r\n                    t = t.getCause();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI actually haven&#39;t tried that much other than restarting my database and creating a new table. I&#39;m actually new to this language and I only got this source code on a tutorial. ","title":"Error: Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>I'm making a Login form using JSP + JDBC + Servlet.</p>\n<p>Whenever I tried to login a username a username and password, I get this error:</p>\n<p>SQLState: S1009\nError Code: 0\nMessage: Parameter index out of range (1 &gt; number of parameters, which is 0)</p>\n<pre><code>public class LoginDao {\n\n    public boolean validate(LoginBean loginBean) throws ClassNotFoundException {\n        boolean status = false;\n\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop?user=root&quot;, &quot;root&quot;, &quot;12301230&quot;);\n\n            // Step 2:Create a statement using connection object\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = '?' and password = '?' &quot;)) {\n            preparedStatement.setString(1, loginBean.getUsername());\n            preparedStatement.setString(2, loginBean.getPassword());\n\n            System.out.println(preparedStatement);\n            ResultSet rs = preparedStatement.executeQuery();\n            status = rs.next();\n\n        } catch (SQLException e) {\n            // process sql exception\n            printSQLException(e);\n        }\n        return status;\n    }\n\n    private void printSQLException(SQLException ex) {\n        for (Throwable e: ex) {\n            if (e instanceof SQLException) {\n                e.printStackTrace(System.err);\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\n                System.err.println(&quot;Message: &quot; + e.getMessage());\n                Throwable t = ex.getCause();\n                while (t != null) {\n                    System.out.println(&quot;Cause: &quot; + t);\n                    t = t.getCause();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I actually haven't tried that much other than restarting my database and creating a new table. I'm actually new to this language and I only got this source code on a tutorial.</p>\n"},{"tags":["java","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675330820,"post_id":75321058,"comment_id":132906971,"body_markdown":"Your use of `-cp` is wrong if you want to compile code in normal-java-packages as it specifies the class path (i.e. already compiled code). Also, Java expects you to specify individual classes or wildcards to compile sources, not just a directory name.","body":"Your use of <code>-cp</code> is wrong if you want to compile code in normal-java-packages as it specifies the class path (i.e. already compiled code). Also, Java expects you to specify individual classes or wildcards to compile sources, not just a directory name."}],"answers":[{"tags":[],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675351721,"creation_date":1675351721,"answer_id":75325383,"question_id":75321058,"body_markdown":"Ok, so I will answer my own question as I found out what the issue is:\r\n\r\nthe command to use is:\r\n```\r\njavac -p simple-modules -d output --add-modules ALL-MODULE-PATH classpath_entry/com/myuser/modules/main/MainApp.java\r\n\r\n```\r\n\r\nI still find a bit redundant the `--add-modules ALL-MODULE-PATH`\r\nThe JRE modules are loaded fine without it, I don&#39;t see why we need it even when we are already specifying the user defined modules in the module path `-p` already.","title":"Compile non-modular code that depends on modules","body":"<p>Ok, so I will answer my own question as I found out what the issue is:</p>\n<p>the command to use is:</p>\n<pre><code>javac -p simple-modules -d output --add-modules ALL-MODULE-PATH classpath_entry/com/myuser/modules/main/MainApp.java\n\n</code></pre>\n<p>I still find a bit redundant the <code>--add-modules ALL-MODULE-PATH</code>\nThe JRE modules are loaded fine without it, I don't see why we need it even when we are already specifying the user defined modules in the module path <code>-p</code> already.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75325383,"answer_count":1,"score":0,"last_activity_date":1675351721,"creation_date":1675330146,"question_id":75321058,"body_markdown":"I have a folder with two compiled modules `simple-modules/module1` and  `simple-modules/module2` these contained exploded code, so not its jar and both modules contain a `module-info.java`\r\n\r\nI have other non-modular **source** code in folder `normal-java-packages` that uses the API exposed by the mentioned modules.\r\n\r\nSo, as a first step I would like to compile that.\r\n\r\nReading: https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts\r\n\r\nAs far as I understand, the code in `normal-java-packages` should be part of the classpath, so it will be included in the `unnamedmodule`, and it will able to access all JRE modules as well as my user-defined modules `simple-modules/module1` and `simple-modules/module2`.\r\n\r\nI am trying to run:\r\n```bash\r\njavac -p simple-modules -d output  -cp normal-java-packages\r\n```\r\n\r\nHowever, it looks like something is off as I get:\r\n`error: no source files`\r\n\r\nAny suggestions or pointers on what may be the issue here?\r\n\r\n**EDIT**:\r\n\r\nAlso tried this command as suggested:\r\n```\r\njavac -p simple-modules -d output classpath_entry/com/myuser/modules/main/MainApp.java\r\n```\r\n\r\nGetting these errors:\r\n```\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:3: error: package com.myuser.hello is not visible\r\nimport com.myuser.hello.HelloModules;\r\n                   ^\r\n  (package com.myuser.hello is declared in module hellomodule, which is not in the module graph)\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:4: error: package com.myuser.greetings is not visible\r\nimport com.myuser.greetings.EnglishGreeting;\r\n                   ^\r\n  (package com.myuser.greetings is declared in module hellomodule, which is not in the module graph)\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:5: error: package com.myuser.other is not visible\r\nimport com.myuser.other.Other;\r\n                   ^\r\n  (package com.myuser.other is declared in module greetings, which is not in the module graph)\r\n3 errors\r\n```\r\n\r\nSo it looks like the compiled exploded modules in `simple-modules` are not visible, any idea why ?\r\n\r\n","title":"Compile non-modular code that depends on modules","body":"<p>I have a folder with two compiled modules <code>simple-modules/module1</code> and  <code>simple-modules/module2</code> these contained exploded code, so not its jar and both modules contain a <code>module-info.java</code></p>\n<p>I have other non-modular <strong>source</strong> code in folder <code>normal-java-packages</code> that uses the API exposed by the mentioned modules.</p>\n<p>So, as a first step I would like to compile that.</p>\n<p>Reading: <a href=\"https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts</a></p>\n<p>As far as I understand, the code in <code>normal-java-packages</code> should be part of the classpath, so it will be included in the <code>unnamedmodule</code>, and it will able to access all JRE modules as well as my user-defined modules <code>simple-modules/module1</code> and <code>simple-modules/module2</code>.</p>\n<p>I am trying to run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p simple-modules -d output  -cp normal-java-packages\n</code></pre>\n<p>However, it looks like something is off as I get:\n<code>error: no source files</code></p>\n<p>Any suggestions or pointers on what may be the issue here?</p>\n<p><strong>EDIT</strong>:</p>\n<p>Also tried this command as suggested:</p>\n<pre><code>javac -p simple-modules -d output classpath_entry/com/myuser/modules/main/MainApp.java\n</code></pre>\n<p>Getting these errors:</p>\n<pre><code>classpath_entry/com/myuser/modules/main/MainApp.java:3: error: package com.myuser.hello is not visible\nimport com.myuser.hello.HelloModules;\n                   ^\n  (package com.myuser.hello is declared in module hellomodule, which is not in the module graph)\nclasspath_entry/com/myuser/modules/main/MainApp.java:4: error: package com.myuser.greetings is not visible\nimport com.myuser.greetings.EnglishGreeting;\n                   ^\n  (package com.myuser.greetings is declared in module hellomodule, which is not in the module graph)\nclasspath_entry/com/myuser/modules/main/MainApp.java:5: error: package com.myuser.other is not visible\nimport com.myuser.other.Other;\n                   ^\n  (package com.myuser.other is declared in module greetings, which is not in the module graph)\n3 errors\n</code></pre>\n<p>So it looks like the compiled exploded modules in <code>simple-modules</code> are not visible, any idea why ?</p>\n"},{"tags":["java","selenium","webdriver","compare"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1675351690,"post_id":75324922,"comment_id":132914487,"body_markdown":"Are you sure the XPath mentioned in your question locates the web elements `Element 1` and `Element 2`? It looks like an image to me. If its an image, you may not be able to achieve what you are trying to. You may have to use OCR tools to read the image.","body":"Are you sure the XPath mentioned in your question locates the web elements <code>Element 1</code> and <code>Element 2</code>? It looks like an image to me. If its an image, you may not be able to achieve what you are trying to. You may have to use OCR tools to read the image."},{"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"score":0,"creation_date":1675351964,"post_id":75324922,"comment_id":132914580,"body_markdown":"@Shawn Its webelements not image.","body":"@Shawn Its webelements not image."},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1675352020,"post_id":75324922,"comment_id":132914609,"body_markdown":"@Shawn\nHe is displaying to you what is on his website in picture style.","body":"@Shawn He is displaying to you what is on his website in picture style."}],"answers":[{"comments":[{"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"score":0,"creation_date":1675351576,"post_id":75325270,"comment_id":132914422,"body_markdown":"Second element width is same but **position** will be different after shrinking of first element. Can you modify your code?","body":"Second element width is same but <b>position</b> will be different after shrinking of first element. Can you modify your code?"},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1675351725,"post_id":75325270,"comment_id":132914503,"body_markdown":"But, in your example, the second element appears to have grown and taken over the first element&#39;s position, correct?","body":"But, in your example, the second element appears to have grown and taken over the first element&#39;s position, correct?"},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1675351798,"post_id":75325270,"comment_id":132914528,"body_markdown":"Oh you meant to say second move and occupies the first element without changing it&#39;s size?","body":"Oh you meant to say second move and occupies the first element without changing it&#39;s size?"},{"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"score":0,"creation_date":1675351851,"post_id":75325270,"comment_id":132914547,"body_markdown":"you meant to say second move and occupies the first element without changing it&#39;s size? **YES!** Still Element 1 is present but it got pressed by element 2.","body":"you meant to say second move and occupies the first element without changing it&#39;s size? <b>YES!</b> Still Element 1 is present but it got pressed by element 2."},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1675352376,"post_id":75325270,"comment_id":132914727,"body_markdown":"Okay, I don&#39;t know. May be some one else might help you.","body":"Okay, I don&#39;t know. May be some one else might help you."}],"tags":[],"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351183,"creation_date":1675351183,"answer_id":75325270,"question_id":75324922,"body_markdown":"First, you must determine the width of both elements. So, let&#39;s use this code to determine the width of both elements. \r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;your website URL&quot;);\r\n    \r\n    WebElement element1 = driver.findElement(By.xpath(&quot;(//div[@class=&#39;site&#39;])[1]&quot;));\r\n    int width1 = element1.getSize().getWidth();\r\n    \r\n    WebElement element2 = driver.findElement(By.xpath(&quot;(//div[@class=&#39;site&#39;])[2]&quot;));\r\n    int width2 = element2.getSize().getWidth();\r\n\r\nOnce you&#39;ve determined the width of both elements, you should perform the shrink operation here.\r\nYou must obtain the width of both elements again after the shirks operation. \r\n\r\nSo let us use this code\r\n\r\n    int newWidth1 = element1.getSize().getWidth();\r\n    int newWidth2 = element2.getSize().getWidth();\r\n\r\nUsing the formulas &quot;width1 &gt; newWidth1&quot; to determine whether the first element&#39;s new width is smaller than the original width and &quot;newWidth2 == width2 + (width1 - newWidth1)&quot; to determine whether the second element&#39;s new width has increased, we can determine that element 2 has taken up the space previously occupied by element 1.\r\nSo let&#39;s put the following in the if condition. \r\n\r\n    if (width1 &gt; newWidth1 &amp;&amp; newWidth2 == width2 + (width1 - newWidth1)) {\r\n      System.out.println(&quot;Element 2 occupied the space left by Element 1&quot;);\r\n    } else {\r\n      System.out.println(&quot;Element 2 did not occupy the space left by Element 1&quot;);\r\n    }","title":"How to validate whether Element 2 occupied space left by the Element 1 using Selenium JAVA?","body":"<p>First, you must determine the width of both elements. So, let's use this code to determine the width of both elements.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;your website URL&quot;);\n\nWebElement element1 = driver.findElement(By.xpath(&quot;(//div[@class='site'])[1]&quot;));\nint width1 = element1.getSize().getWidth();\n\nWebElement element2 = driver.findElement(By.xpath(&quot;(//div[@class='site'])[2]&quot;));\nint width2 = element2.getSize().getWidth();\n</code></pre>\n<p>Once you've determined the width of both elements, you should perform the shrink operation here.\nYou must obtain the width of both elements again after the shirks operation.</p>\n<p>So let us use this code</p>\n<pre><code>int newWidth1 = element1.getSize().getWidth();\nint newWidth2 = element2.getSize().getWidth();\n</code></pre>\n<p>Using the formulas &quot;width1 &gt; newWidth1&quot; to determine whether the first element's new width is smaller than the original width and &quot;newWidth2 == width2 + (width1 - newWidth1)&quot; to determine whether the second element's new width has increased, we can determine that element 2 has taken up the space previously occupied by element 1.\nSo let's put the following in the if condition.</p>\n<pre><code>if (width1 &gt; newWidth1 &amp;&amp; newWidth2 == width2 + (width1 - newWidth1)) {\n  System.out.println(&quot;Element 2 occupied the space left by Element 1&quot;);\n} else {\n  System.out.println(&quot;Element 2 did not occupy the space left by Element 1&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351655,"creation_date":1675349470,"question_id":75324922,"body_markdown":"I got two box type elements : Element 1 and Element 2.\r\n\r\nIf Element 1 gets shrink then following element i.e Element 2 should occupy \r\nleft over space. Here Element 2 length is constant.\r\n\r\nElement 1 xpath is `(//div[@class=&#39;site&#39;])[1]`\r\n\r\nElement 2 xpath is  `(//div[@class=&#39;site&#39;])[2]`\r\n\r\n\r\n\r\n\r\nHow to validate whether Element 2 occupied space left by the Element 1?\r\nNote: height is constant.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tonKM.jpg\r\n\r\nHere is the URL: https://i.stack.imgur.com/DAINR.jpg","title":"How to validate whether Element 2 occupied space left by the Element 1 using Selenium JAVA?","body":"<p>I got two box type elements : Element 1 and Element 2.</p>\n<p>If Element 1 gets shrink then following element i.e Element 2 should occupy\nleft over space. Here Element 2 length is constant.</p>\n<p>Element 1 xpath is <code>(//div[@class='site'])[1]</code></p>\n<p>Element 2 xpath is  <code>(//div[@class='site'])[2]</code></p>\n<p>How to validate whether Element 2 occupied space left by the Element 1?\nNote: height is constant.</p>\n<p><a href=\"https://i.stack.imgur.com/tonKM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tonKM.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the URL: <a href=\"https://i.stack.imgur.com/DAINR.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DAINR.jpg</a></p>\n"},{"tags":["java","linked-list","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":6387634,"reputation":36,"user_id":4955019,"display_name":"Drake3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523987390,"creation_date":1523987390,"answer_id":49884492,"question_id":49883919,"body_markdown":"I don&#39;t know if this is everything, but two things that I see that seem wrong are:\r\n\r\n 1. In the Roster.class: The roster.printCourse(courseId) call in displayStudents() only includes one parameter, the courseId, but the printCourse() method in BST.java has two parameters, a Node and a String.\r\n 2. In the Roster.class: The BST called roster is given a type `&lt;Student&gt;`, but the definition of BST in BST.java has it containing a Roster, not a Student. Note: You don&#39;t need to use &lt;&gt; with a type inside unless that type can change. If BST can only be applied to the type Student, then you don&#39;t need that in the definition or the creation of BST. On the other hand, if your BST should work for any type of data, you should define the BST as class BST `&lt;T extends Comparable&gt;` and make sure to use T wherever the type should go. (Look up Generic Types on Google for more examples.)","title":"Printing linked list from binary search tree","body":"<p>I don't know if this is everything, but two things that I see that seem wrong are:</p>\n\n<ol>\n<li>In the Roster.class: The roster.printCourse(courseId) call in displayStudents() only includes one parameter, the courseId, but the printCourse() method in BST.java has two parameters, a Node and a String.</li>\n<li>In the Roster.class: The BST called roster is given a type <code>&lt;Student&gt;</code>, but the definition of BST in BST.java has it containing a Roster, not a Student. Note: You don't need to use &lt;> with a type inside unless that type can change. If BST can only be applied to the type Student, then you don't need that in the definition or the creation of BST. On the other hand, if your BST should work for any type of data, you should define the BST as class BST <code>&lt;T extends Comparable&gt;</code> and make sure to use T wherever the type should go. (Look up Generic Types on Google for more examples.)</li>\n</ol>\n"}],"owner":{"account_id":9186840,"reputation":277,"user_id":6828698,"accept_rate":43,"display_name":"Devin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351399,"creation_date":1523985347,"question_id":49883919,"body_markdown":"I&#39;m writing a program that has a binary search tree (Roster) that Student objects are inserted to by their String Id. Each student has a linked list that their  courses are added to containing the String of the course and their grade. The binary search tree is my own version of an implementation. \r\n\r\nI&#39;m having trouble implementing my method to print the students that all  contain a specific course. I think my implementation is off in my printCourse method as I can&#39;t call to it from my displayStudent() method under my Roster class. This is a homework assignment and I have most of the other methods implemented, just struggling with this one, any help is greatly appreciated!\r\n\r\n&gt; displayStudents(&quot;Math161&quot;);\r\n\r\n is the method i&#39;m correctly struggling to implement. It calls from the method in my roster class, which i&#39;m trying to implement to search through my BST \r\n\r\nIn my BST the method printCourse() should check each students linked list and if it contains the course listed above and print each student that does. Here&#39;s what I have so far, which is not correct:\r\n\r\n    &gt; public void printCourse(Node n, String course) { \r\n    &gt;         if (n != null) {\r\n    &gt;             inOrder(n);\r\n    &gt;             if (n.element.getId().equals(course)) { \r\n    &gt;                 System.out.print(n.element.getId() + &quot; &quot;);\r\n    &gt;             }\r\n    &gt;         }\r\n    &gt;     }\r\n\r\n\r\n\r\nHomework5.class / Main:\r\n\r\n    public class Homework5 {\r\n    \r\n        static Roster rost = new Roster();\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            addStudent();\r\n            displayAllStudents();\r\n            lookupStudent(&quot;11114&quot;);\r\n            addCourse();\r\n            displayStudents(&quot;Math161&quot;);\r\n                \r\n        }\r\n    \r\n        // add students to the roster\r\n        static void addStudent() {\r\n            rost.addStudent(new Student(&quot;11111&quot;, &quot;Jon&quot;, &quot;Benson&quot;));\r\n            rost.addStudent(new Student(&quot;11112&quot;, &quot;Erick&quot;, &quot;Hooper&quot;));\r\n            rost.addStudent(new Student(&quot;11113&quot;, &quot;Sam&quot;, &quot;Shultz&quot;));\r\n            rost.addStudent(new Student(&quot;11114&quot;, &quot;Trent&quot;, &quot;Black&quot;));\r\n            rost.addStudent(new Student(&quot;11115&quot;, &quot;Michell&quot;, &quot;Waters&quot;));\r\n            rost.addStudent(new Student(&quot;11116&quot;, &quot;Kevin&quot;, &quot;Johnson&quot;));\r\n        }\r\n    \r\n        // display all students in the roster\r\n        static void displayAllStudents() {\r\n            rost.displayAllStudents();\r\n        }\r\n    \r\n        // lookup a student in the roster\r\n        static void lookupStudent(String id) {\r\n            if (rost.find(id) != null) {\r\n                System.out.println(id + &quot; found&quot;);\r\n            } else {\r\n                System.out.println(id + &quot; not found&quot;);\r\n            }\r\n        }\r\n    \r\n        // add courses to the roster\r\n        static void addCourse() {\r\n            rost.addCourse(&quot;11111&quot;, new Course(&quot;CS116&quot;, 80));\r\n            rost.addCourse(&quot;11111&quot;, new Course(&quot;Math161&quot;, 90));\r\n            rost.addCourse(&quot;11112&quot;, new Course(&quot;Math161&quot;, 70));\r\n            rost.addCourse(&quot;11112&quot;, new Course(&quot;CS146&quot;, 90));\r\n            rost.addCourse(&quot;11112&quot;, new Course(&quot;CS105&quot;, 85));\r\n            rost.addCourse(&quot;11113&quot;, new Course(&quot;CS216&quot;, 90));\r\n            rost.addCourse(&quot;11114&quot;, new Course(&quot;CIS255&quot;, 75));\r\n            rost.addCourse(&quot;11114&quot;, new Course(&quot;CS216&quot;, 80));\r\n            rost.addCourse(&quot;11114&quot;, new Course(&quot;Math161&quot;, 60));\r\n            rost.addCourse(&quot;11114&quot;, new Course(&quot;COMM105&quot;, 90));\r\n        }\r\n    \r\n        // display students enrolled in a given course id\r\n        static void displayStudents(String courseId) {\r\n            rost.displayStudents(courseId);\r\n        }\r\n    }\r\n\r\nStudent.class:\r\n\r\n    class Student implements Comparable&lt;Student&gt; {\r\n    \r\n        String id;\r\n        String firstName;\r\n        String lastName;\r\n        \r\n        LinkedList&lt;Course&gt; courses = new LinkedList&lt;&gt;();\r\n    \r\n        Student(String id, String fName, String lName) {\r\n            this.id = id;\r\n            this.firstName = fName;\r\n            this.lastName = lName;\r\n        }\r\n    \r\n        public String getName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setName(String lName) {\r\n            this.lastName = lName;\r\n        }\r\n        \r\n        public String getId() {\r\n            return id;\r\n        }\r\n        \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(Student other) {    \r\n            return this.getId().compareTo(other.getId());\r\n        }\r\n        \r\n        public void addCourse(Course course) {\r\n            courses.add(course);\r\n        }\r\n        \r\n    }\r\n\r\nCourse.class:\r\n\r\n    class Course {\r\n        \r\n        LinkedList&lt;Course&gt; course = new LinkedList&lt;&gt;();\r\n        \r\n        String id;  // course id\r\n        int grade;\r\n    \r\n        Course(String id, int grade) {\r\n            this.id = id;\r\n            this.grade = grade;\r\n        }\r\n        \r\n        public String getId() {\r\n            return id;\r\n        }\r\n        \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public int getGrade() {\r\n            return grade;\r\n        }\r\n        \r\n        public void setId(int grade) {\r\n            this.grade = grade;\r\n        }\r\n    \r\n    }\r\n\r\nRoster.class:\r\n\r\n    class Roster {\r\n    \r\n        Student root;\r\n        int numStudents;\r\n    \r\n        BST&lt;Student&gt; roster = new BST&lt;&gt;();\r\n        LinkedList&lt;Course&gt; courseList = new LinkedList&lt;&gt;();\r\n    \r\n        public Roster() {\r\n            root = null;\r\n            numStudents = 0;\r\n        }\r\n    \r\n        public void addStudent(Student st) {\r\n            roster.insert(st);\r\n            numStudents++;\r\n        }\r\n    \r\n        public void displayAllStudents() {\r\n            roster.traverse(2);\r\n        }\r\n        \r\n        public Student find(String id) {\r\n            return roster.find(id);\r\n        }\r\n    \r\n        public void addCourse(String id, Course course) {\r\n            Student student = roster.find(id);\r\n            student.addCourse(course);      \r\n        }\r\n    \r\n        public void displayStudents(String courseId) {\r\n            roster.printCourse(courseId);\r\n        }\r\n    }\r\n\r\nBST.java\r\n\r\n    class BST&lt;Roster extends Comparable&gt; {\r\n    \r\n        private Node root;\r\n    \r\n        public BST() {\r\n            root = null;\r\n        }\r\n    \r\n        // Generic find method\r\n        public Student find(String id) {\r\n            \r\n            Node current = root;\r\n    \r\n            while (id.compareTo(current.element.getId()) != 0) {\r\n                if (id.compareTo(current.element.getId()) &lt; 0) {\r\n                    current = current.left;\r\n                } \r\n                else {\r\n                    current = current.right;\r\n                }\r\n                if (current == null) {\r\n                    return null;\r\n                }\r\n            }\r\n            return current.element;\r\n            \r\n        }\r\n    \r\n        public void insert(Student st) {\r\n            Node newNode = new Node(st);\r\n    \r\n            if (root == null) {\r\n                root = newNode;\r\n            } else {\r\n                Node current = root;\r\n                Node parent = null;\r\n    \r\n                while (true) {\r\n                    parent = current;\r\n                    if (st.getId().compareTo(current.element.getId()) &lt; 0) {\r\n                        current = current.left;\r\n                        if (current == null) {\r\n                            parent.left = newNode;\r\n                            return;\r\n                        }\r\n                    } else {\r\n                        current = current.right;\r\n                        if (current == null) {\r\n                            parent.right = newNode;\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public void printCourse(Node n, String course) { \r\n            if (n != null) {\r\n                inOrder(n);\r\n                if (n.element.getId().equals(course)) { \r\n                    System.out.print(n.element.getId() + &quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void traverse(int traverseType) {\r\n            switch (traverseType) {\r\n                case 1:\r\n                    System.out.print(&quot;\\nPreorder traversal: &quot;);\r\n                    // call preOrder(root) and implement preOrder()\r\n                    preOrder(root);\r\n                    break;\r\n                case 2:\r\n                    System.out.print(&quot;\\nList of all students:  &quot;);\r\n                    inOrder(root);\r\n                    break;\r\n                case 3:\r\n                    System.out.print(&quot;\\nPostorder traversal: &quot;);\r\n                    // call postOrder(root) and implement postOrder()\r\n                    postOrder(root);\r\n                    break;\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        private void inOrder(Node localRoot) {\r\n            if (localRoot != null) {\r\n                inOrder(localRoot.left);\r\n                System.out.print(localRoot.element.getId() + &quot; &quot;);\r\n                inOrder(localRoot.right);\r\n            }\r\n        }\r\n    \r\n        private void preOrder(Node localRoot) {\r\n            if (localRoot != null) {\r\n                System.out.print(localRoot.element + &quot; &quot;);\r\n                preOrder(localRoot.left);\r\n                preOrder(localRoot.right);\r\n            }\r\n        }\r\n    \r\n        private void postOrder(Node localRoot) {\r\n            if (localRoot != null) {\r\n                postOrder(localRoot.left);\r\n                postOrder(localRoot.right);\r\n                System.out.print(localRoot.element + &quot; &quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    class Node {\r\n    \r\n        protected Student element;\r\n        protected Node left;\r\n        protected Node right;\r\n    \r\n        public Node(Student st) {\r\n            element = st;\r\n        }\r\n    \r\n    }","title":"Printing linked list from binary search tree","body":"<p>I'm writing a program that has a binary search tree (Roster) that Student objects are inserted to by their String Id. Each student has a linked list that their  courses are added to containing the String of the course and their grade. The binary search tree is my own version of an implementation. </p>\n\n<p>I'm having trouble implementing my method to print the students that all  contain a specific course. I think my implementation is off in my printCourse method as I can't call to it from my displayStudent() method under my Roster class. This is a homework assignment and I have most of the other methods implemented, just struggling with this one, any help is greatly appreciated!</p>\n\n<blockquote>\n  <p>displayStudents(\"Math161\");</p>\n</blockquote>\n\n<p>is the method i'm correctly struggling to implement. It calls from the method in my roster class, which i'm trying to implement to search through my BST </p>\n\n<p>In my BST the method printCourse() should check each students linked list and if it contains the course listed above and print each student that does. Here's what I have so far, which is not correct:</p>\n\n<pre><code>&gt; public void printCourse(Node n, String course) { \n&gt;         if (n != null) {\n&gt;             inOrder(n);\n&gt;             if (n.element.getId().equals(course)) { \n&gt;                 System.out.print(n.element.getId() + \" \");\n&gt;             }\n&gt;         }\n&gt;     }\n</code></pre>\n\n<p>Homework5.class / Main:</p>\n\n<pre><code>public class Homework5 {\n\n    static Roster rost = new Roster();\n\n    public static void main(String[] args) {\n\n        addStudent();\n        displayAllStudents();\n        lookupStudent(\"11114\");\n        addCourse();\n        displayStudents(\"Math161\");\n\n    }\n\n    // add students to the roster\n    static void addStudent() {\n        rost.addStudent(new Student(\"11111\", \"Jon\", \"Benson\"));\n        rost.addStudent(new Student(\"11112\", \"Erick\", \"Hooper\"));\n        rost.addStudent(new Student(\"11113\", \"Sam\", \"Shultz\"));\n        rost.addStudent(new Student(\"11114\", \"Trent\", \"Black\"));\n        rost.addStudent(new Student(\"11115\", \"Michell\", \"Waters\"));\n        rost.addStudent(new Student(\"11116\", \"Kevin\", \"Johnson\"));\n    }\n\n    // display all students in the roster\n    static void displayAllStudents() {\n        rost.displayAllStudents();\n    }\n\n    // lookup a student in the roster\n    static void lookupStudent(String id) {\n        if (rost.find(id) != null) {\n            System.out.println(id + \" found\");\n        } else {\n            System.out.println(id + \" not found\");\n        }\n    }\n\n    // add courses to the roster\n    static void addCourse() {\n        rost.addCourse(\"11111\", new Course(\"CS116\", 80));\n        rost.addCourse(\"11111\", new Course(\"Math161\", 90));\n        rost.addCourse(\"11112\", new Course(\"Math161\", 70));\n        rost.addCourse(\"11112\", new Course(\"CS146\", 90));\n        rost.addCourse(\"11112\", new Course(\"CS105\", 85));\n        rost.addCourse(\"11113\", new Course(\"CS216\", 90));\n        rost.addCourse(\"11114\", new Course(\"CIS255\", 75));\n        rost.addCourse(\"11114\", new Course(\"CS216\", 80));\n        rost.addCourse(\"11114\", new Course(\"Math161\", 60));\n        rost.addCourse(\"11114\", new Course(\"COMM105\", 90));\n    }\n\n    // display students enrolled in a given course id\n    static void displayStudents(String courseId) {\n        rost.displayStudents(courseId);\n    }\n}\n</code></pre>\n\n<p>Student.class:</p>\n\n<pre><code>class Student implements Comparable&lt;Student&gt; {\n\n    String id;\n    String firstName;\n    String lastName;\n\n    LinkedList&lt;Course&gt; courses = new LinkedList&lt;&gt;();\n\n    Student(String id, String fName, String lName) {\n        this.id = id;\n        this.firstName = fName;\n        this.lastName = lName;\n    }\n\n    public String getName() {\n        return lastName;\n    }\n\n    public void setName(String lName) {\n        this.lastName = lName;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @Override\n    public int compareTo(Student other) {    \n        return this.getId().compareTo(other.getId());\n    }\n\n    public void addCourse(Course course) {\n        courses.add(course);\n    }\n\n}\n</code></pre>\n\n<p>Course.class:</p>\n\n<pre><code>class Course {\n\n    LinkedList&lt;Course&gt; course = new LinkedList&lt;&gt;();\n\n    String id;  // course id\n    int grade;\n\n    Course(String id, int grade) {\n        this.id = id;\n        this.grade = grade;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public int getGrade() {\n        return grade;\n    }\n\n    public void setId(int grade) {\n        this.grade = grade;\n    }\n\n}\n</code></pre>\n\n<p>Roster.class:</p>\n\n<pre><code>class Roster {\n\n    Student root;\n    int numStudents;\n\n    BST&lt;Student&gt; roster = new BST&lt;&gt;();\n    LinkedList&lt;Course&gt; courseList = new LinkedList&lt;&gt;();\n\n    public Roster() {\n        root = null;\n        numStudents = 0;\n    }\n\n    public void addStudent(Student st) {\n        roster.insert(st);\n        numStudents++;\n    }\n\n    public void displayAllStudents() {\n        roster.traverse(2);\n    }\n\n    public Student find(String id) {\n        return roster.find(id);\n    }\n\n    public void addCourse(String id, Course course) {\n        Student student = roster.find(id);\n        student.addCourse(course);      \n    }\n\n    public void displayStudents(String courseId) {\n        roster.printCourse(courseId);\n    }\n}\n</code></pre>\n\n<p>BST.java</p>\n\n<pre><code>class BST&lt;Roster extends Comparable&gt; {\n\n    private Node root;\n\n    public BST() {\n        root = null;\n    }\n\n    // Generic find method\n    public Student find(String id) {\n\n        Node current = root;\n\n        while (id.compareTo(current.element.getId()) != 0) {\n            if (id.compareTo(current.element.getId()) &lt; 0) {\n                current = current.left;\n            } \n            else {\n                current = current.right;\n            }\n            if (current == null) {\n                return null;\n            }\n        }\n        return current.element;\n\n    }\n\n    public void insert(Student st) {\n        Node newNode = new Node(st);\n\n        if (root == null) {\n            root = newNode;\n        } else {\n            Node current = root;\n            Node parent = null;\n\n            while (true) {\n                parent = current;\n                if (st.getId().compareTo(current.element.getId()) &lt; 0) {\n                    current = current.left;\n                    if (current == null) {\n                        parent.left = newNode;\n                        return;\n                    }\n                } else {\n                    current = current.right;\n                    if (current == null) {\n                        parent.right = newNode;\n                        return;\n                    }\n                }\n            }\n        }\n    }\n\n    public void printCourse(Node n, String course) { \n        if (n != null) {\n            inOrder(n);\n            if (n.element.getId().equals(course)) { \n                System.out.print(n.element.getId() + \" \");\n            }\n        }\n    }\n\n    public void traverse(int traverseType) {\n        switch (traverseType) {\n            case 1:\n                System.out.print(\"\\nPreorder traversal: \");\n                // call preOrder(root) and implement preOrder()\n                preOrder(root);\n                break;\n            case 2:\n                System.out.print(\"\\nList of all students:  \");\n                inOrder(root);\n                break;\n            case 3:\n                System.out.print(\"\\nPostorder traversal: \");\n                // call postOrder(root) and implement postOrder()\n                postOrder(root);\n                break;\n        }\n        System.out.println();\n    }\n\n    private void inOrder(Node localRoot) {\n        if (localRoot != null) {\n            inOrder(localRoot.left);\n            System.out.print(localRoot.element.getId() + \" \");\n            inOrder(localRoot.right);\n        }\n    }\n\n    private void preOrder(Node localRoot) {\n        if (localRoot != null) {\n            System.out.print(localRoot.element + \" \");\n            preOrder(localRoot.left);\n            preOrder(localRoot.right);\n        }\n    }\n\n    private void postOrder(Node localRoot) {\n        if (localRoot != null) {\n            postOrder(localRoot.left);\n            postOrder(localRoot.right);\n            System.out.print(localRoot.element + \" \");\n        }\n    }\n\n}\n\nclass Node {\n\n    protected Student element;\n    protected Node left;\n    protected Node right;\n\n    public Node(Student st) {\n        element = st;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","batch-file"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1474099461,"post_id":39543744,"comment_id":66401536,"body_markdown":"have you ran **TIMEOUT** with the **/NOBREAK** option. This will rule out if there is some sort of continued interaction effectively pressing a key.","body":"have you ran <b>TIMEOUT</b> with the <b>/NOBREAK</b> option. This will rule out if there is some sort of continued interaction effectively pressing a key."}],"answers":[{"comments":[{"owner":{"account_id":1976453,"reputation":1234,"user_id":1774144,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1608908654,"post_id":39544579,"comment_id":115711161,"body_markdown":"Tested this on Windows 10 and it&#39;s working as expected!","body":"Tested this on Windows 10 and it&#39;s working as expected!"}],"tags":[],"owner":{"account_id":3411706,"reputation":69943,"user_id":2861476,"display_name":"MC ND"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1474100428,"creation_date":1474100428,"answer_id":39544579,"question_id":39543744,"body_markdown":"When you call `Runtime.getRuntime().exec()` the input and output streams of the started process are redirected. `timeout` being started from this process inherits the same handles. \r\n\r\nThe problem is that `timeout` [tries to get access to the console](https://stackoverflow.com/q/22726198/2861476), something it can not do because of the redirection.\r\n\r\nYou can test this behaviour running from a console \r\n\r\n&lt;!-- language: lang-dos --&gt;\r\n\r\n    &lt;nul timeout /t 10 \r\n\r\nWhen the input stream is redirected, `timeout` fails.\r\n\r\nOne workaround could be\r\n\r\n&lt;!-- language: lang-dos --&gt;\r\n\r\n    ( timeout /t 10 || &gt;nul ping -n 11 localhost ) 2&gt;nul\r\n\r\nIf the `timeout` fails, a `ping` command is executed to force the wait.","title":"timeout command not working in batch files","body":"<p>When you call <code>Runtime.getRuntime().exec()</code> the input and output streams of the started process are redirected. <code>timeout</code> being started from this process inherits the same handles. </p>\n\n<p>The problem is that <code>timeout</code> <a href=\"https://stackoverflow.com/q/22726198/2861476\">tries to get access to the console</a>, something it can not do because of the redirection.</p>\n\n<p>You can test this behaviour running from a console </p>\n\n<pre class=\"lang-dos prettyprint-override\"><code>&lt;nul timeout /t 10 \n</code></pre>\n\n<p>When the input stream is redirected, <code>timeout</code> fails.</p>\n\n<p>One workaround could be</p>\n\n<pre class=\"lang-dos prettyprint-override\"><code>( timeout /t 10 || &gt;nul ping -n 11 localhost ) 2&gt;nul\n</code></pre>\n\n<p>If the <code>timeout</code> fails, a <code>ping</code> command is executed to force the wait.</p>\n"},{"tags":[],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351182,"creation_date":1675351182,"answer_id":75325269,"question_id":39543744,"body_markdown":"A bit late, but maybe it helps someone. You can use a powershell command inside a .bat file and also use Java ProcessBuilder to keep the standard input but discard all outputs.\r\n\r\nIn the bat file:\r\n````\r\npowershell -noprofile -command &quot;&amp; {[system.threading.thread]::sleep(5000)}&quot;\r\n````\r\n\r\nJava:\r\n````\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, &quot;do.bat&quot;);\r\n            processBuilder.inheritIO();\r\n            processBuilder.redirectError(ProcessBuilder.Redirect.DISCARD);\r\n            processBuilder.redirectOutput(ProcessBuilder.Redirect.DISCARD);\r\n            processBuilder.start();\r\n````\r\nThis will silently execute the batch file, including the wait.","title":"timeout command not working in batch files","body":"<p>A bit late, but maybe it helps someone. You can use a powershell command inside a .bat file and also use Java ProcessBuilder to keep the standard input but discard all outputs.</p>\n<p>In the bat file:</p>\n<pre><code>powershell -noprofile -command &quot;&amp; {[system.threading.thread]::sleep(5000)}&quot;\n</code></pre>\n<p>Java:</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, &quot;do.bat&quot;);\n            processBuilder.inheritIO();\n            processBuilder.redirectError(ProcessBuilder.Redirect.DISCARD);\n            processBuilder.redirectOutput(ProcessBuilder.Redirect.DISCARD);\n            processBuilder.start();\n</code></pre>\n<p>This will silently execute the batch file, including the wait.</p>\n"}],"owner":{"account_id":3201818,"reputation":61,"user_id":2919783,"display_name":"pdg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3901,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1675351182,"creation_date":1474095081,"question_id":39543744,"body_markdown":"I am trying to invoke a batch file through a tomcat application. The batch is executed properly, but the timeout command in the batch does not pause the batch. When a batch is executed directly, the timeout does pause the process as expected.\r\n\r\nI am invoking batch as:\r\nRuntime.getRuntime().exec(&quot;test.bat&quot;);\r\n","title":"timeout command not working in batch files","body":"<p>I am trying to invoke a batch file through a tomcat application. The batch is executed properly, but the timeout command in the batch does not pause the batch. When a batch is executed directly, the timeout does pause the process as expected.</p>\n\n<p>I am invoking batch as:\nRuntime.getRuntime().exec(\"test.bat\");</p>\n"},{"tags":["java","dropwizard"],"owner":{"account_id":11559480,"reputation":1,"user_id":15850351,"display_name":"FranzWagner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675351156,"creation_date":1675350748,"question_id":75325187,"body_markdown":"I am trying to use `@auth` and `@valid` annotation together in one of the APIs in my resource class and it is not being intialized and gives following error at runtime : \r\n\r\n&gt; Caused by: org.glassfish.jersey.server.model.ModelValidationException:\r\n&gt; Validation of the application resource model has failed during\r\n&gt; application initialization. [[FATAL] No injection source found for a\r\n&gt; parameter of type public javax.ws.rs.core.Response\r\n\r\nthis is what my api declaration looks like : \r\n\r\n\r\n\r\n    @POST\r\n    @ApiOperation(value = &quot;Add feature&quot;\r\n    @Path(&quot;/add/&quot;)\r\n    @RolesAllowed({&quot;ADMINISTRATORS&quot;})\r\n    public Response addTransactionType(@ApiParam(hidden = true) @Auth User user, @Valid CreateRequest request) throws Exception {\r\n\r\n\r\n\r\nwhereas the other api method which doesn&#39;t have @auth and @valid annotation together works fine, for example : \r\n\r\n\r\n    @GET\r\n    @ApiOperation(value = &quot;get detail&quot;)\r\n    \r\n    @Path(&quot;/detail/{id}&quot;)\r\n    @RolesAllowed({&quot;USERS&quot;})\r\n    public Response get(@ApiParam(hidden = true) @Auth User user, @PathParam(&quot;id&quot;) int id) throws Exception {\r\n\r\n\r\nI am using java 17 with dropwizard 2.\r\n\r\n\r\nI tried changing the order of parameters being passed and removing `@valid` annotation but nothing worked. Checked if there are multiple apis sharing same path and that doesn&#39;t seem to be the case. also have registered the auth binder as well in the app, so that doesn&#39;t seem to be the issue as well.","title":"@Auth and @valid annotation not working together in java 17","body":"<p>I am trying to use <code>@auth</code> and <code>@valid</code> annotation together in one of the APIs in my resource class and it is not being intialized and gives following error at runtime :</p>\n<blockquote>\n<p>Caused by: org.glassfish.jersey.server.model.ModelValidationException:\nValidation of the application resource model has failed during\napplication initialization. [[FATAL] No injection source found for a\nparameter of type public javax.ws.rs.core.Response</p>\n</blockquote>\n<p>this is what my api declaration looks like :</p>\n<pre><code>@POST\n@ApiOperation(value = &quot;Add feature&quot;\n@Path(&quot;/add/&quot;)\n@RolesAllowed({&quot;ADMINISTRATORS&quot;})\npublic Response addTransactionType(@ApiParam(hidden = true) @Auth User user, @Valid CreateRequest request) throws Exception {\n</code></pre>\n<p>whereas the other api method which doesn't have @auth and @valid annotation together works fine, for example :</p>\n<pre><code>@GET\n@ApiOperation(value = &quot;get detail&quot;)\n\n@Path(&quot;/detail/{id}&quot;)\n@RolesAllowed({&quot;USERS&quot;})\npublic Response get(@ApiParam(hidden = true) @Auth User user, @PathParam(&quot;id&quot;) int id) throws Exception {\n</code></pre>\n<p>I am using java 17 with dropwizard 2.</p>\n<p>I tried changing the order of parameters being passed and removing <code>@valid</code> annotation but nothing worked. Checked if there are multiple apis sharing same path and that doesn't seem to be the case. also have registered the auth binder as well in the app, so that doesn't seem to be the issue as well.</p>\n"},{"tags":["java","oauth-2.0","microsoft-graph-api","clientcredential"],"comments":[{"owner":{"account_id":14610856,"reputation":407,"user_id":10552387,"display_name":"Optimal"},"score":1,"creation_date":1659689960,"post_id":73246816,"comment_id":129358959,"body_markdown":"Are you sure that this user has an active mailbox?","body":"Are you sure that this user has an active mailbox?"},{"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"score":0,"creation_date":1660203036,"post_id":73246816,"comment_id":129478462,"body_markdown":"Can you please share the query details client request id and timestamp","body":"Can you please share the query details client request id and timestamp"},{"owner":{"account_id":14341987,"reputation":57,"user_id":10359930,"display_name":"Saloni Agrawal"},"score":0,"creation_date":1671084272,"post_id":73246816,"comment_id":132022486,"body_markdown":"@bisi did you got answer to your question.I am also facing the same issue.","body":"@bisi did you got answer to your question.I am also facing the same issue."}],"answers":[{"tags":[],"owner":{"account_id":25984342,"reputation":31,"user_id":19697504,"display_name":"bisi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675351084,"creation_date":1675351084,"answer_id":75325248,"question_id":73246816,"body_markdown":"#### SOLVED ####\r\nAs Optimal said in the comments, the issue was that the user didn&#39;t have a licensed mailbox.\r\nWhen I assigned a &quot;Microsoft 365 Business Premium&quot; license to that user, my code worked fine.\r\nCheck the licenses both on portal.azure.com for assignments, and on admin.microsoft.com for the active mailbox\r\n\r\nKind regards","title":"Get 405/404 error when trying to send mails with Graph API (OAuth2 client credentials flow)","body":"<h4>SOLVED</h4>\n<p>As Optimal said in the comments, the issue was that the user didn't have a licensed mailbox.\nWhen I assigned a &quot;Microsoft 365 Business Premium&quot; license to that user, my code worked fine.\nCheck the licenses both on portal.azure.com for assignments, and on admin.microsoft.com for the active mailbox</p>\n<p>Kind regards</p>\n"}],"owner":{"account_id":25984342,"reputation":31,"user_id":19697504,"display_name":"bisi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675351084,"creation_date":1659688089,"question_id":73246816,"body_markdown":"I&#39;m making a Java application to send Mail as **any user** in a Microsoft tenant, with Graph APIs, so I&#39;m using the **client credentials flow** (no login, automatic send).\r\nI&#39;ve registered an app in Azure AD giving the following **application permissions (not delegated)**, checking out the admin consent for every item:\r\n\r\n - Mail.Send\r\n - Mail.ReadWrite\r\n - User.Read.All\r\n\r\nFor semplicity, I&#39;ve tried also with calls in Postman, but I have the same issue as in the Java app. I take for granted that I have got a valid access token (If I try with an invalid one, I get a `401: Unauthorized`). The following is the decoded access token that I get from https://jwt.ms/, **with all the scopes included**:\r\n\r\n    ...\r\n      &quot;roles&quot;: [\r\n        &quot;Mail.ReadWrite&quot;,\r\n        &quot;User.Read.All&quot;,\r\n        &quot;Mail.Send&quot;\r\n      ],\r\n    ...\r\n\r\nThis is my code in Java:\r\n\r\n    String user = &quot;/users/&lt;my user id or my user principal name&gt;&quot;;\r\n\t\t\r\n\t\tUserRequestBuilder defaultUser = new UserRequestBuilder(graphClient.getServiceRoot() + user, graphClient, null);\r\n\t\t\r\n\t\t//graphClient.me()\r\n\t\tdefaultUser\r\n\t\t\t.sendMail(UserSendMailParameterSet\r\n\t\t\t\t.newBuilder()\r\n\t\t\t\t.withMessage(message)\r\n\t\t\t\t.withSaveToSentItems(saveToSentItems)\r\n\t\t\t\t.build())\r\n\t\t\t.buildRequest()\r\n\t\t\t.post();\r\n\r\nI can&#39;t use the &quot;me&quot; target (`me()` method) because this is client credentials flow, so there isn&#39;t a logged user. I need to specify the sender in this way: `/users/{id | userPrincipalName}/sendMail`.\r\n\r\n\r\nThis is how the call in Postman is composed:\r\n\r\nMethod: POST\r\n\r\nURL: \r\n\r\n - .https://graph.microsoft.com/v1.0/users/`{my user id or my user principal name}`/sendMail\r\n\r\nAUTHORIZATION:\r\n\r\n - Bearer Token (my access token)\r\n\r\nHEADERS:\r\n\r\n - Content-Type: application/json\r\n\r\nBODY(JSON):\r\n\r\n    {\r\n        &quot;recipient&quot;:    &lt;recipient email&gt;,\r\n        &quot;subject&quot;:      &quot;This is a test mail&quot;,\r\n        &quot;from&quot;:         &lt;mail that created the tenant, app and access token&gt;,\r\n        &quot;text&quot;:         &quot;This is the messge body...&quot;\r\n    }\r\n\r\n\r\nThat&#39;s the response from the server (in both Postman and Java app):\r\n\r\nSTATUS: **405: Method Not Allowed**\r\n\r\nBODY:\r\n\r\n    {\r\n        &quot;error&quot;: {\r\n            &quot;code&quot;: &quot;Request_BadRequest&quot;,\r\n            &quot;message&quot;: &quot;Specified HTTP method is not allowed for the request target.&quot;,\r\n            &quot;innerError&quot;: {\r\n                &quot;date&quot;: &quot;2022-08-05T07:17:34&quot;,\r\n                &quot;request-id&quot;: &quot;XXXXXXXX-6075-4d13-83ed-XXXXXXXXXXXX&quot;,\r\n                &quot;client-request-id&quot;: &quot;XXXXXXXX-6075-4d13-83ed-XXXXXXXXXXXX&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n**Note 1:**\r\nI got my user id and my user principal name also with a Postman call using my access token,\r\nexploiting the `User.Read.All` permission, with the following call:\r\n\r\nhttps://graph.microsoft.com/v1.0/users\r\n\r\nThat&#39;s the response:\r\n\r\n    ...\r\n                &quot;userPrincipalName&quot;: &quot;XXXXXX_XXXXXX.XXX#EXT#@sendClientCredMail.onmicrosoft.com&quot;,\r\n                &quot;id&quot;: &quot;XXXXXXXX-4457-4944-bb22-XXXXXXXXXXXX&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n**Note 2:**\r\nNote that if I use the &quot;principal name&quot; in the call, I get a 405, if I use the &quot;id&quot; instead I get a **404: Not Found**\r\n\r\nThanks in advance for any help, I&#39;ve been trying for hours!\r\n\r\n","title":"Get 405/404 error when trying to send mails with Graph API (OAuth2 client credentials flow)","body":"<p>I'm making a Java application to send Mail as <strong>any user</strong> in a Microsoft tenant, with Graph APIs, so I'm using the <strong>client credentials flow</strong> (no login, automatic send).\nI've registered an app in Azure AD giving the following <strong>application permissions (not delegated)</strong>, checking out the admin consent for every item:</p>\n<ul>\n<li>Mail.Send</li>\n<li>Mail.ReadWrite</li>\n<li>User.Read.All</li>\n</ul>\n<p>For semplicity, I've tried also with calls in Postman, but I have the same issue as in the Java app. I take for granted that I have got a valid access token (If I try with an invalid one, I get a <code>401: Unauthorized</code>). The following is the decoded access token that I get from <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">https://jwt.ms/</a>, <strong>with all the scopes included</strong>:</p>\n<pre><code>...\n  &quot;roles&quot;: [\n    &quot;Mail.ReadWrite&quot;,\n    &quot;User.Read.All&quot;,\n    &quot;Mail.Send&quot;\n  ],\n...\n</code></pre>\n<p>This is my code in Java:</p>\n<pre><code>String user = &quot;/users/&lt;my user id or my user principal name&gt;&quot;;\n    \n    UserRequestBuilder defaultUser = new UserRequestBuilder(graphClient.getServiceRoot() + user, graphClient, null);\n    \n    //graphClient.me()\n    defaultUser\n        .sendMail(UserSendMailParameterSet\n            .newBuilder()\n            .withMessage(message)\n            .withSaveToSentItems(saveToSentItems)\n            .build())\n        .buildRequest()\n        .post();\n</code></pre>\n<p>I can't use the &quot;me&quot; target (<code>me()</code> method) because this is client credentials flow, so there isn't a logged user. I need to specify the sender in this way: <code>/users/{id | userPrincipalName}/sendMail</code>.</p>\n<p>This is how the call in Postman is composed:</p>\n<p>Method: POST</p>\n<p>URL:</p>\n<ul>\n<li>.https://graph.microsoft.com/v1.0/users/<code>{my user id or my user principal name}</code>/sendMail</li>\n</ul>\n<p>AUTHORIZATION:</p>\n<ul>\n<li>Bearer Token (my access token)</li>\n</ul>\n<p>HEADERS:</p>\n<ul>\n<li>Content-Type: application/json</li>\n</ul>\n<p>BODY(JSON):</p>\n<pre><code>{\n    &quot;recipient&quot;:    &lt;recipient email&gt;,\n    &quot;subject&quot;:      &quot;This is a test mail&quot;,\n    &quot;from&quot;:         &lt;mail that created the tenant, app and access token&gt;,\n    &quot;text&quot;:         &quot;This is the messge body...&quot;\n}\n</code></pre>\n<p>That's the response from the server (in both Postman and Java app):</p>\n<p>STATUS: <strong>405: Method Not Allowed</strong></p>\n<p>BODY:</p>\n<pre><code>{\n    &quot;error&quot;: {\n        &quot;code&quot;: &quot;Request_BadRequest&quot;,\n        &quot;message&quot;: &quot;Specified HTTP method is not allowed for the request target.&quot;,\n        &quot;innerError&quot;: {\n            &quot;date&quot;: &quot;2022-08-05T07:17:34&quot;,\n            &quot;request-id&quot;: &quot;XXXXXXXX-6075-4d13-83ed-XXXXXXXXXXXX&quot;,\n            &quot;client-request-id&quot;: &quot;XXXXXXXX-6075-4d13-83ed-XXXXXXXXXXXX&quot;\n        }\n    }\n}\n</code></pre>\n<p><strong>Note 1:</strong>\nI got my user id and my user principal name also with a Postman call using my access token,\nexploiting the <code>User.Read.All</code> permission, with the following call:</p>\n<p><a href=\"https://graph.microsoft.com/v1.0/users\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/users</a></p>\n<p>That's the response:</p>\n<pre><code>...\n            &quot;userPrincipalName&quot;: &quot;XXXXXX_XXXXXX.XXX#EXT#@sendClientCredMail.onmicrosoft.com&quot;,\n            &quot;id&quot;: &quot;XXXXXXXX-4457-4944-bb22-XXXXXXXXXXXX&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Note 2:</strong>\nNote that if I use the &quot;principal name&quot; in the call, I get a 405, if I use the &quot;id&quot; instead I get a <strong>404: Not Found</strong></p>\n<p>Thanks in advance for any help, I've been trying for hours!</p>\n"},{"tags":["java","json","parsing","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1675343398,"post_id":75321671,"comment_id":132911220,"body_markdown":"If I have understood well you want to extract the `String` list of `ProductID` from the files with different format, if you think it&#39;s helpful as an example I can extract the list from the first file with `jackson`.","body":"If I have understood well you want to extract the <code>String</code> list of <code>ProductID</code> from the files with different format, if you think it&#39;s helpful as an example I can extract the list from the first file with <code>jackson</code>."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1675344973,"post_id":75321671,"comment_id":132911800,"body_markdown":"@dariosicily, \nYes, exactly, you&#39;re right. I&#39;d really appreciate your help. I need to extract `ProductId` and then pass it to the custom method with directory.","body":"@dariosicily,  Yes, exactly, you&#39;re right. I&#39;d really appreciate your help. I need to extract <code>ProductId</code> and then pass it to the custom method with directory."}],"answers":[{"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1675349990,"post_id":75324672,"comment_id":132913757,"body_markdown":"Thank you a lot for your effort to help me. I&#39;ll play now with your code and mark your answer as a correct one after testing and applying it in one of my version of code.","body":"Thank you a lot for your effort to help me. I&#39;ll play now with your code and mark your answer as a correct one after testing and applying it in one of my version of code."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675348401,"creation_date":1675348401,"answer_id":75324672,"question_id":75321671,"body_markdown":"Taking the [JSON 1](https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55) you have included in your post basically it is an array of json objects with the same format like below (I have included just the first one element and deleted all the properties you are not interested to parse):\r\n\r\n~~~\r\n[{\r\n    &quot;products&quot;: [\r\n      {\r\n        &quot;colorWayID&quot;: &quot;IMP5002620012114&quot;,\r\n        &quot;productID&quot;: &quot;0001755256&quot;\r\n      },\r\n      {\r\n        &quot;colorWayID&quot;: &quot;IMP8473190012114&quot;,\r\n        &quot;productID&quot;: &quot;0001690510&quot;\r\n      },\r\n      {\r\n        &quot;colorWayID&quot;: &quot;IMP9100570012114&quot;,\r\n        &quot;productID&quot;: &quot;0001700877&quot;\r\n      }\r\n    ],\r\n    ...other properties excluded from parsing\r\n}]\r\n    \r\n~~~\r\n\r\nTo iterate over this array you can read your json file into a `ArrayNode` and iterate over every element:\r\n\r\n~~~\r\nArrayNode arrayNode = (ArrayNode) mapper.readTree(json);\r\nfor (int i = 0; i &lt; arrayNode.size(); ++i) {/*inspecting products property*/}\r\n~~~\r\n\r\nThe *products* property is an array of `JsonNode` containing the *productID* property you want to extract, you can use the [`JsonNode#get`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/JsonNode.html#get-java.lang.String-) method to extract both the *products* and *productID* properties:\r\n\r\n~~~\r\nList&lt;String&gt; productIds = new ArrayList&lt;&gt;();\r\nArrayNode arrayNode = (ArrayNode) mapper.readTree(json);\r\nfor (int i = 0; i &lt; arrayNode.size(); ++i) {\r\n    //products property is also an array\r\n    ArrayNode products =(ArrayNode) arrayNode.get(i).get(&quot;products&quot;);\r\n    for (int j = 0; j &lt; products.size(); ++j) {\r\n        //adding productId to your list\r\n        productIds.add(products.get(j).get(&quot;productID&quot;).asText());\r\n    }  \r\n}\r\n~~~\r\n\r\nThis process can be repeated for other json files with variations depending from the json structure contained in them, but substantially it remains the same.","title":"How can I read two JSON files with different data at the same time?","body":"<p>Taking the <a href=\"https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55\" rel=\"nofollow noreferrer\">JSON 1</a> you have included in your post basically it is an array of json objects with the same format like below (I have included just the first one element and deleted all the properties you are not interested to parse):</p>\n<pre><code>[{\n    &quot;products&quot;: [\n      {\n        &quot;colorWayID&quot;: &quot;IMP5002620012114&quot;,\n        &quot;productID&quot;: &quot;0001755256&quot;\n      },\n      {\n        &quot;colorWayID&quot;: &quot;IMP8473190012114&quot;,\n        &quot;productID&quot;: &quot;0001690510&quot;\n      },\n      {\n        &quot;colorWayID&quot;: &quot;IMP9100570012114&quot;,\n        &quot;productID&quot;: &quot;0001700877&quot;\n      }\n    ],\n    ...other properties excluded from parsing\n}]\n    \n</code></pre>\n<p>To iterate over this array you can read your json file into a <code>ArrayNode</code> and iterate over every element:</p>\n<pre><code>ArrayNode arrayNode = (ArrayNode) mapper.readTree(json);\nfor (int i = 0; i &lt; arrayNode.size(); ++i) {/*inspecting products property*/}\n</code></pre>\n<p>The <em>products</em> property is an array of <code>JsonNode</code> containing the <em>productID</em> property you want to extract, you can use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/JsonNode.html#get-java.lang.String-\" rel=\"nofollow noreferrer\"><code>JsonNode#get</code></a> method to extract both the <em>products</em> and <em>productID</em> properties:</p>\n<pre><code>List&lt;String&gt; productIds = new ArrayList&lt;&gt;();\nArrayNode arrayNode = (ArrayNode) mapper.readTree(json);\nfor (int i = 0; i &lt; arrayNode.size(); ++i) {\n    //products property is also an array\n    ArrayNode products =(ArrayNode) arrayNode.get(i).get(&quot;products&quot;);\n    for (int j = 0; j &lt; products.size(); ++j) {\n        //adding productId to your list\n        productIds.add(products.get(j).get(&quot;productID&quot;).asText());\n    }  \n}\n</code></pre>\n<p>This process can be repeated for other json files with variations depending from the json structure contained in them, but substantially it remains the same.</p>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75324672,"answer_count":1,"score":1,"last_activity_date":1675350537,"creation_date":1675333242,"question_id":75321671,"body_markdown":"**My *part* of the task is:**\r\n\r\n\r\n----------\r\n\r\n\r\nI need to collect `productId`-s into list from two `JSON` files with different data and pass it into the *custom method* with `directory` of `JSON` files.\r\n\r\nI have *two* `JSON` files with *different data* as the following:\r\n\r\n1. [JSON 1](https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55)\r\n2. [JSON 2](https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04)\r\n\r\nAnd my `code` is in the next format:\r\n\r\n```  \r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, ParseException {\r\n        JSONParser parser = new JSONParser();\r\n        InputStream isOne = JSONParser.class.getResourceAsStream(&quot;/test/java/resources/json/file/product_0001690510.json&quot;);\r\n        InputStream isTwo = JSONParser.class.getResourceAsStream(&quot;/test/java/resources/json/file/product_0001694109.json&quot;);\r\n\r\n        // ... need to use somehow InpuStream for reading two JSON files with different structure inside\r\n\r\n        JSONArray arr = obj.getJSONArray(&quot;products&quot;); // notice that `&quot;products&quot;: [...]` \r\n        String productId = null;\r\n        for (int i = 0; i &lt; arr.length(); i++) {\r\n            productId = arr.getJSONObject(i).getString(&quot;productID&quot;);\r\n        }\r\n\r\n        List&lt;String&gt; productIds = new ArrayList&lt;&gt;(Collections.singleton(productId));\r\n\r\n        for (var file : obj.keySet()) {\r\n            System.out.println(getAllExportsWithProductIds(file, productIds));\r\n        }\r\n    }\r\n\r\n    public static List&lt;String&gt; getAllExportsWithProductIds(String directory, List&lt;String&gt; productIds) throws IOException {\r\n        var matchingObjects = new ArrayList&lt;String&gt;();\r\n        try (var fileStream = Files.walk(Path.of(directory))) {\r\n            for (var file : fileStream.toList()) {\r\n                var json = Json.readString(Files.readString(file));\r\n                var objects = JsonDecoder.array(json);\r\n\r\n                for (var object : objects) {\r\n                    var objectProductIDs = JsonDecoder.field(\r\n                            object, &quot;products&quot;,\r\n                            JsonDecoder.array(JsonDecoder.field(&quot;productID&quot;, JsonDecoder::string))\r\n                    );\r\n                    for (var productId : objectProductIDs) {\r\n                        if (productIds.contains(productId)) {\r\n                            matchingObjects.add(Json.writeString(object));\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return matchingObjects;\r\n    }\r\n}\r\n```\r\n\r\n\r\n[Full code](https://gist.github.com/invzbl3/ff22dc4711578a06d83d0cde4e843d21)\r\n\r\nBased on it *my question* is:\r\n\r\nCan I read all provided `JSON` files at the same time to collect `productId`-s into list? If yes, how can I do that if I have the different data of two `JSON` files.\r\n\r\nTo *clarify* a bit:\r\n\r\n&gt; &quot;*By different data*, I mean, in general, the `number` of these fields\r\n&gt; (*for example*, `productId` fields in both of `JSON`-s: [1][1] and [2][2]\r\n&gt; accordingly), their order. That is, how an [array object][3] differs from\r\n&gt; [another][4].\r\n&gt; \r\n&gt; If these `JSON`-s have the same data, it&#39;d be easier to parse, but\r\n&gt; in this specific usecase I need to find the way how to handle both of\r\n&gt; them in different way as their data is not in the same format of representation.&quot;\r\n\r\nMy *detailed* explanation how I see it in abstract way:\r\n\r\n[How I see it abstractly in the lifecycle of developing.](https://gist.github.com/invzbl3/bdc0c3e743002fd332fb6b07eb4b8a8d)\r\n\r\nI&#39;ve already read different articles and checked libraries as:\r\n\r\n1) [java-jq](https://github.com/arakelian/java-jq)\r\n2) [Jackson object mapper tutorial](https://www.baeldung.com/jackson-object-mapper-tutorial)\r\n\r\nand so on,\r\n\r\nbut I&#39;m still struggling with understanding how to apply it correctly, for this reason, I&#39;m looking for a concrete solution.\r\n\r\nThank you in advance for any smart and helpful ideas. If you need some additional details, I&#39;m ready to provide without any problem.\r\n\r\n\r\n----------\r\n\r\n\r\n**UPD:**\r\n\r\nThere&#39;s I have another version of code, which is collecting `productID`-s, I need just to find the way how to combine with the first version of code and that&#39;s it:\r\n\r\n    public class ProductIdImporter {\r\n        public ProductIdImporter() {\r\n    // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n        public void importJson() {\r\n            List&lt;Path&gt; paths = Arrays.asList(Paths.get(&quot;C:\\\\Users\\\\pc\\\\IdeaProjects\\\\jsonapi\\\\src\\\\test\\\\java\\\\resources\\\\json\\\\product_0001690510.json&quot;),\r\n                                             Paths.get(&quot;C:\\\\Users\\\\pc\\\\IdeaProjects\\\\jsonapi\\\\src\\\\test\\\\java\\\\resources\\\\json\\\\product_0001694109.json&quot;));\r\n            ObjectMapper jsonMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            Set&lt;String&gt; productIds = paths.stream().map(path -&gt; {\r\n                        try {\r\n                            return jsonMapper.readValue(Files.newInputStream(path), ExportList[].class);\r\n                        } catch (Exception e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }).map(Arrays::asList)\r\n                    .flatMap(List::stream)\r\n                    .map(ExportList::productList)\r\n                    .flatMap(List::stream)\r\n                    .map(Product::getId)\r\n                    .collect(Collectors.toSet());\r\n            productIds.forEach(System.out::println);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ProductIdImporter importer = new ProductIdImporter();\r\n            importer.importJson();\r\n        }\r\n    \r\n        static class ExportList {\r\n            public List&lt;Product&gt; products;\r\n    \r\n            public ExportList() {\r\n            }\r\n    \r\n            public List&lt;Product&gt; productList() {\r\n                return products;\r\n            }\r\n        }\r\n    \r\n        static class Product {\r\n            public String productID;\r\n    \r\n            public Product() {\r\n            }\r\n    \r\n            public String getId() {\r\n                return productID;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55#file-json-1-L12\r\n  [2]: https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04#file-json-2-L10\r\n  [3]: https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55#file-json-1-L2\r\n  [4]: https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04#file-json-2-L2","title":"How can I read two JSON files with different data at the same time?","body":"<p><strong>My <em>part</em> of the task is:</strong></p>\n<hr />\n<p>I need to collect <code>productId</code>-s into list from two <code>JSON</code> files with different data and pass it into the <em>custom method</em> with <code>directory</code> of <code>JSON</code> files.</p>\n<p>I have <em>two</em> <code>JSON</code> files with <em>different data</em> as the following:</p>\n<ol>\n<li><a href=\"https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55\" rel=\"nofollow noreferrer\">JSON 1</a></li>\n<li><a href=\"https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04\" rel=\"nofollow noreferrer\">JSON 2</a></li>\n</ol>\n<p>And my <code>code</code> is in the next format:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException, ParseException {\n        JSONParser parser = new JSONParser();\n        InputStream isOne = JSONParser.class.getResourceAsStream(&quot;/test/java/resources/json/file/product_0001690510.json&quot;);\n        InputStream isTwo = JSONParser.class.getResourceAsStream(&quot;/test/java/resources/json/file/product_0001694109.json&quot;);\n\n        // ... need to use somehow InpuStream for reading two JSON files with different structure inside\n\n        JSONArray arr = obj.getJSONArray(&quot;products&quot;); // notice that `&quot;products&quot;: [...]` \n        String productId = null;\n        for (int i = 0; i &lt; arr.length(); i++) {\n            productId = arr.getJSONObject(i).getString(&quot;productID&quot;);\n        }\n\n        List&lt;String&gt; productIds = new ArrayList&lt;&gt;(Collections.singleton(productId));\n\n        for (var file : obj.keySet()) {\n            System.out.println(getAllExportsWithProductIds(file, productIds));\n        }\n    }\n\n    public static List&lt;String&gt; getAllExportsWithProductIds(String directory, List&lt;String&gt; productIds) throws IOException {\n        var matchingObjects = new ArrayList&lt;String&gt;();\n        try (var fileStream = Files.walk(Path.of(directory))) {\n            for (var file : fileStream.toList()) {\n                var json = Json.readString(Files.readString(file));\n                var objects = JsonDecoder.array(json);\n\n                for (var object : objects) {\n                    var objectProductIDs = JsonDecoder.field(\n                            object, &quot;products&quot;,\n                            JsonDecoder.array(JsonDecoder.field(&quot;productID&quot;, JsonDecoder::string))\n                    );\n                    for (var productId : objectProductIDs) {\n                        if (productIds.contains(productId)) {\n                            matchingObjects.add(Json.writeString(object));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return matchingObjects;\n    }\n}\n</code></pre>\n<p><a href=\"https://gist.github.com/invzbl3/ff22dc4711578a06d83d0cde4e843d21\" rel=\"nofollow noreferrer\">Full code</a></p>\n<p>Based on it <em>my question</em> is:</p>\n<p>Can I read all provided <code>JSON</code> files at the same time to collect <code>productId</code>-s into list? If yes, how can I do that if I have the different data of two <code>JSON</code> files.</p>\n<p>To <em>clarify</em> a bit:</p>\n<blockquote>\n<p>&quot;<em>By different data</em>, I mean, in general, the <code>number</code> of these fields\n(<em>for example</em>, <code>productId</code> fields in both of <code>JSON</code>-s: <a href=\"https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55#file-json-1-L12\" rel=\"nofollow noreferrer\">1</a> and <a href=\"https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04#file-json-2-L10\" rel=\"nofollow noreferrer\">2</a>\naccordingly), their order. That is, how an <a href=\"https://gist.github.com/invzbl3/29a298bc757dfaa4717901eaa3bc9a55#file-json-1-L2\" rel=\"nofollow noreferrer\">array object</a> differs from\n<a href=\"https://gist.github.com/invzbl3/98b6d8c8589f795ea6feafcea0fe9d04#file-json-2-L2\" rel=\"nofollow noreferrer\">another</a>.</p>\n<p>If these <code>JSON</code>-s have the same data, it'd be easier to parse, but\nin this specific usecase I need to find the way how to handle both of\nthem in different way as their data is not in the same format of representation.&quot;</p>\n</blockquote>\n<p>My <em>detailed</em> explanation how I see it in abstract way:</p>\n<p><a href=\"https://gist.github.com/invzbl3/bdc0c3e743002fd332fb6b07eb4b8a8d\" rel=\"nofollow noreferrer\">How I see it abstractly in the lifecycle of developing.</a></p>\n<p>I've already read different articles and checked libraries as:</p>\n<ol>\n<li><a href=\"https://github.com/arakelian/java-jq\" rel=\"nofollow noreferrer\">java-jq</a></li>\n<li><a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">Jackson object mapper tutorial</a></li>\n</ol>\n<p>and so on,</p>\n<p>but I'm still struggling with understanding how to apply it correctly, for this reason, I'm looking for a concrete solution.</p>\n<p>Thank you in advance for any smart and helpful ideas. If you need some additional details, I'm ready to provide without any problem.</p>\n<hr />\n<p><strong>UPD:</strong></p>\n<p>There's I have another version of code, which is collecting <code>productID</code>-s, I need just to find the way how to combine with the first version of code and that's it:</p>\n<pre><code>public class ProductIdImporter {\n    public ProductIdImporter() {\n// TODO Auto-generated constructor stub\n    }\n\n    public void importJson() {\n        List&lt;Path&gt; paths = Arrays.asList(Paths.get(&quot;C:\\\\Users\\\\pc\\\\IdeaProjects\\\\jsonapi\\\\src\\\\test\\\\java\\\\resources\\\\json\\\\product_0001690510.json&quot;),\n                                         Paths.get(&quot;C:\\\\Users\\\\pc\\\\IdeaProjects\\\\jsonapi\\\\src\\\\test\\\\java\\\\resources\\\\json\\\\product_0001694109.json&quot;));\n        ObjectMapper jsonMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        Set&lt;String&gt; productIds = paths.stream().map(path -&gt; {\n                    try {\n                        return jsonMapper.readValue(Files.newInputStream(path), ExportList[].class);\n                    } catch (Exception e) {\n                        throw new RuntimeException(e);\n                    }\n                }).map(Arrays::asList)\n                .flatMap(List::stream)\n                .map(ExportList::productList)\n                .flatMap(List::stream)\n                .map(Product::getId)\n                .collect(Collectors.toSet());\n        productIds.forEach(System.out::println);\n    }\n\n    public static void main(String[] args) {\n        ProductIdImporter importer = new ProductIdImporter();\n        importer.importJson();\n    }\n\n    static class ExportList {\n        public List&lt;Product&gt; products;\n\n        public ExportList() {\n        }\n\n        public List&lt;Product&gt; productList() {\n            return products;\n        }\n    }\n\n    static class Product {\n        public String productID;\n\n        public Product() {\n        }\n\n        public String getId() {\n            return productID;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675336233,"post_id":75321459,"comment_id":132908767,"body_markdown":"Are you sure you&#39;re using the correct path to upload the data?","body":"Are you sure you&#39;re using the correct path to upload the data?"},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1675431079,"post_id":75321459,"comment_id":132932859,"body_markdown":"@AlexMamo Yes, this is the path from the apps internal storage where the data I want to send to storage is saved. The data is not phone&#39;s/external data. It is saved inside the apps Android folder.","body":"@AlexMamo Yes, this is the path from the apps internal storage where the data I want to send to storage is saved. The data is not phone&#39;s/external data. It is saved inside the apps Android folder."}],"answers":[{"comments":[{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1675431453,"post_id":75325139,"comment_id":132932961,"body_markdown":"That is the apps internal storage folder, I am trying to send files from that path to storage.  I tried to use `Context.getFilesDir()` but it doesnt work  with \n`Uri file = Uri ***************`","body":"That is the apps internal storage folder, I am trying to send files from that path to storage.  I tried to use <code>Context.getFilesDir()</code> but it doesnt work  with  <code>Uri file = Uri ***************</code>"},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":1,"creation_date":1675445786,"post_id":75325139,"comment_id":132937902,"body_markdown":"You can get a URI from a File object like this: `URI.fromFile(File(context.getFilesDir(), &quot;my-file-name&quot;))` - note how I&#39;ve used `File(parent, child)` to point to a file inside of the app&#39;s internal storage folder","body":"You can get a URI from a File object like this: <code>URI.fromFile(File(context.getFilesDir(), &quot;my-file-name&quot;))</code> - note how I&#39;ve used <code>File(parent, child)</code> to point to a file inside of the app&#39;s internal storage folder"},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1675768119,"post_id":75325139,"comment_id":132995387,"body_markdown":"Thanks, it worked when I used `requireContext().getExternalFilesDir()`\nBut I only send the child file to storage.  e.g `Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;building1.xls&quot;))));`\n\ne.g. I have a path like this **files/building** my goal is to send the parent file to storage with the content. i get errors when I try this methods.","body":"Thanks, it worked when I used <code>requireContext().getExternalFilesDir()</code> But I only send the child file to storage.  e.g <code>Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;bu&zwnj;&#8203;ilding1.xls&quot;))));</code>  e.g. I have a path like this <b>files/building</b> my goal is to send the parent file to storage with the content. i get errors when I try this methods."},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1675768368,"post_id":75325139,"comment_id":132995463,"body_markdown":"`Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;com.example.app&quot;)), &quot;files&quot;))`\n\nor \n`Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;files&quot;))))`\nI want to point the URI path to the files folder. Thanks","body":"<code>Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;co&zwnj;&#8203;m.example.app&quot;)), &quot;files&quot;))</code>  or  <code>Uri fileUri = Uri.fromFile(new File(String.valueOf(requireContext().getExternalFilesDir(&quot;fi&zwnj;&#8203;les&quot;))))</code> I want to point the URI path to the files folder. Thanks"},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":0,"creation_date":1675882512,"post_id":75325139,"comment_id":133025683,"body_markdown":"OK, so as I understand it you have a document inside the &#39;files&#39; folder in your app&#39;s externalFilesDir. So &lt;external files dir&gt;/files/building1.xls. Right? In that case you want something like `Uri.fromFile(new File(new File(getExternalFilesDir(), &quot;files&quot;), &quot;building1.xls&quot;))`. You can next File objects to describe a tree like that.","body":"OK, so as I understand it you have a document inside the &#39;files&#39; folder in your app&#39;s externalFilesDir. So &lt;external files dir&gt;/files/building1.xls. Right? In that case you want something like <code>Uri.fromFile(new File(new File(getExternalFilesDir(), &quot;files&quot;), &quot;building1.xls&quot;))</code>. You can next File objects to describe a tree like that."},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1675991047,"post_id":75325139,"comment_id":133052144,"body_markdown":"I  have so many files in the **/files/** folder. I want to send the files folder to storage, not its child, but when I point the path to the **/files/** folder, I get an error. It only works when I point the path to a file in the folder. E.g **building1.xls** or **building2.xls** .\nI have tried `.getParent()` `.getParentDir()` `.getParentFile()`. When I check the debug logs, it points to the **files** dir but doesn&#39;t upload to the cloud.\n`could not locate file for uploading:file:///storage/emulated/0/Android/data/com.example.scanqrapp/files\n  StorageException has occurred.` @HughHughTeotl","body":"I  have so many files in the <b>/files/</b> folder. I want to send the files folder to storage, not its child, but when I point the path to the <b>/files/</b> folder, I get an error. It only works when I point the path to a file in the folder. E.g <b>building1.xls</b> or <b>building2.xls</b> . I have tried <code>.getParent()</code> <code>.getParentDir()</code> <code>.getParentFile()</code>. When I check the debug logs, it points to the <b>files</b> dir but doesn&#39;t upload to the cloud. <code>could not locate file for uploading:file:&#47;&#47;&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.exampl&zwnj;&#8203;e.scanqrapp&#47;files   StorageException has occurred.</code> @HughHughTeotl"},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1676012167,"post_id":75325139,"comment_id":133054890,"body_markdown":"let&#39;s say this is the path:      _&lt;external_dir&gt;/**files**/so many children_  .\nMy goal is to upload many children at once. But I can only point the path to one child.\nSo, when I point the path to **/files/** which has all the children. I get an error.","body":"let&#39;s say this is the path:      <i>&lt;external_dir&gt;/**files**/so many children</i>  . My goal is to upload many children at once. But I can only point the path to one child. So, when I point the path to <b>/files/</b> which has all the children. I get an error."},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":1,"creation_date":1676242693,"post_id":75325139,"comment_id":133093243,"body_markdown":"Correct, yes. You can only upload single files at a time.","body":"Correct, yes. You can only upload single files at a time."}],"tags":[],"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675350502,"creation_date":1675350502,"answer_id":75325139,"question_id":75321459,"body_markdown":"In the line\r\n\r\n    Uri file = Uri.fromFile(new File(&quot;Internal storage/Android/data/com.example.app/files&quot;));\r\n\r\n...you&#39;re trying to build the location to your app&#39;s internal data directory manually using hard-coded paths. You can&#39;t do it like that - the actual path will be very different on different devices. (And incidentally I don&#39;t know any Android device where the internal storage directory path is like the one you have).\r\n\r\nInstead use `Context.getFilesDir()`. That gives you the location of your app&#39;s scoped internal storage directory, and you can work from there.","title":"I want to upload excel files from Android app data to firebase cloud","body":"<p>In the line</p>\n<pre><code>Uri file = Uri.fromFile(new File(&quot;Internal storage/Android/data/com.example.app/files&quot;));\n</code></pre>\n<p>...you're trying to build the location to your app's internal data directory manually using hard-coded paths. You can't do it like that - the actual path will be very different on different devices. (And incidentally I don't know any Android device where the internal storage directory path is like the one you have).</p>\n<p>Instead use <code>Context.getFilesDir()</code>. That gives you the location of your app's scoped internal storage directory, and you can work from there.</p>\n"}],"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675350502,"creation_date":1675332203,"question_id":75321459,"body_markdown":"I have an App that reads data and inputs into Excel files stored in **/Internal storage/android/data/files**.\r\nI want to send the App file containing the excel docs to Firebase cloud. \r\n\r\nWhen executing the code below? I get the following errors.\r\ncould not retrieve file size is the main error. something to do with the app file path\r\n\r\n\r\n```java\r\npublic class MainFragment extends Fragment {\r\n    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\r\n       super.onViewCreated(view, savedInstanceState);\r\n       mViewModel = new ViewModelProvider(this).get(MainViewModel.class);\r\n\r\n       //save data to local storage\r\n       binding.ivQr.setOnClickListener(view1 -&gt; {\r\n           //initiate alertDiolog\r\n           new AlertDialog.Builder(requireContext())\r\n                   .setTitle(&quot;Save&quot;)\r\n                   .setMessage(&quot;Data has been saved in to local storage of the phone&quot;)\r\n                   .setPositiveButton(&quot;OK&quot;,(dialog, whichButton) -&gt; {\r\n                       // TODO: send or do something with data\r\n\r\n                   uploadDataToStorage();\r\n\r\n               }).show();\r\n       });\r\n   }\r\n   private void uploadDataToStorage(){\r\n       StorageReference storageRef = storage.getReference();\r\n       Uri file = Uri.fromFile(new File(&quot;Internal storage/Android/data/com.example.app/files&quot;));\r\n\r\n       StorageReference excelFiles = storageRef.child(&quot;com.example.app/&quot;+file.getLastPathSegment()); \r\n       excelFiles.putFile(file);\r\n\r\n       // handle uploadTask\r\n\r\n      }\r\n}\r\n```\r\nerror\r\n```\r\ncould not retrieve file size for upload file:///Internal storage/Android/data/com.example.app/files\r\n                                               java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)\r\n                                               \tat android.os.ParcelFileDescriptor.openInternal(ParcelFileDescriptor.java:342)\r\n                                               \tat android.os.ParcelFileDescriptor.open(ParcelFileDescriptor.java:229)\r\n                                               \tat android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1844)\r\n                                               \tat android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1682)\r\n                                               \tat android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1629)\r\n                                               \tat com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:139)\r\n                                               \tat com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\r\n                                               \tat com.example.scanqrapp.ui.main.MainFragment.uploadDataToStorage(MainFragment.java:165)\r\n                                               \tat com.example.scanqrapp.ui.main.MainFragment.lambda$onViewCreated$0$com-example-scanqrapp-ui-main-MainFragment(MainFragment.java:93)\r\n                                               \tat com.example.scanqrapp.ui.main.MainFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n                                               \tat com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:188)\r\n                                               \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                               \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                               \tat android.os.Looper.loop(Looper.java:313)\r\n                                               \tat android.app.ActivityThread.main(ActivityThread.java:8669)\r\n                                               \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                               \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n                                               \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\ncould not locate file for uploading:file:///Internal storage/Android/data/com.example.app/files\r\n```","title":"I want to upload excel files from Android app data to firebase cloud","body":"<p>I have an App that reads data and inputs into Excel files stored in <strong>/Internal storage/android/data/files</strong>.\nI want to send the App file containing the excel docs to Firebase cloud.</p>\n<p>When executing the code below? I get the following errors.\ncould not retrieve file size is the main error. something to do with the app file path</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainFragment extends Fragment {\n    FirebaseStorage storage = FirebaseStorage.getInstance();\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\n       super.onViewCreated(view, savedInstanceState);\n       mViewModel = new ViewModelProvider(this).get(MainViewModel.class);\n\n       //save data to local storage\n       binding.ivQr.setOnClickListener(view1 -&gt; {\n           //initiate alertDiolog\n           new AlertDialog.Builder(requireContext())\n                   .setTitle(&quot;Save&quot;)\n                   .setMessage(&quot;Data has been saved in to local storage of the phone&quot;)\n                   .setPositiveButton(&quot;OK&quot;,(dialog, whichButton) -&gt; {\n                       // TODO: send or do something with data\n\n                   uploadDataToStorage();\n\n               }).show();\n       });\n   }\n   private void uploadDataToStorage(){\n       StorageReference storageRef = storage.getReference();\n       Uri file = Uri.fromFile(new File(&quot;Internal storage/Android/data/com.example.app/files&quot;));\n\n       StorageReference excelFiles = storageRef.child(&quot;com.example.app/&quot;+file.getLastPathSegment()); \n       excelFiles.putFile(file);\n\n       // handle uploadTask\n\n      }\n}\n</code></pre>\n<p>error</p>\n<pre><code>could not retrieve file size for upload file:///Internal storage/Android/data/com.example.app/files\n                                               java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)\n                                                at android.os.ParcelFileDescriptor.openInternal(ParcelFileDescriptor.java:342)\n                                                at android.os.ParcelFileDescriptor.open(ParcelFileDescriptor.java:229)\n                                                at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1844)\n                                                at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1682)\n                                                at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1629)\n                                                at com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:139)\n                                                at com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\n                                                at com.example.scanqrapp.ui.main.MainFragment.uploadDataToStorage(MainFragment.java:165)\n                                                at com.example.scanqrapp.ui.main.MainFragment.lambda$onViewCreated$0$com-example-scanqrapp-ui-main-MainFragment(MainFragment.java:93)\n                                                at com.example.scanqrapp.ui.main.MainFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n                                                at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:188)\n                                                at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                at android.os.Looper.loopOnce(Looper.java:226)\n                                                at android.os.Looper.loop(Looper.java:313)\n                                                at android.app.ActivityThread.main(ActivityThread.java:8669)\n                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\ncould not locate file for uploading:file:///Internal storage/Android/data/com.example.app/files\n</code></pre>\n"},{"tags":["java","mysql","spring","testing","testcontainers"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1675345740,"post_id":75323234,"comment_id":132912098,"body_markdown":"`registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);` this is your problem. `getHost` doesn&#39;t return a URL but only the hostname (which is more or less also what the error is telling you). Instead you should be calling `getJdbcUrl` instead.","body":"<code>registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);</code> this is your problem. <code>getHost</code> doesn&#39;t return a URL but only the hostname (which is more or less also what the error is telling you). Instead you should be calling <code>getJdbcUrl</code> instead."},{"owner":{"account_id":26929754,"reputation":50,"user_id":20502425,"display_name":"Kau&#227; Pereira"},"score":0,"creation_date":1675349468,"post_id":75323234,"comment_id":132913548,"body_markdown":"@M.Deinum  there is no such method method","body":"@M.Deinum  there is no such method method"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1675350140,"post_id":75323234,"comment_id":132913817,"body_markdown":"@Kau&#227;Pereira the method `getJdbcUrl` is defined in JdbcDatabaseContainer, just use `MySQLContainer` instead of `GenericContainer`","body":"@Kau&#227;Pereira the method <code>getJdbcUrl</code> is defined in JdbcDatabaseContainer, just use <code>MySQLContainer</code> instead of <code>GenericContainer</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675351707,"post_id":75323234,"comment_id":132914495,"body_markdown":"You need to use the `MySQLContainer` then use the `getJdbcUrl`. The `url` property needs (maybe surprisingly) a URL not a basic hostname (which is only part of the URL).","body":"You need to use the <code>MySQLContainer</code> then use the <code>getJdbcUrl</code>. The <code>url</code> property needs (maybe surprisingly) a URL not a basic hostname (which is only part of the URL)."},{"owner":{"account_id":26929754,"reputation":50,"user_id":20502425,"display_name":"Kau&#227; Pereira"},"score":0,"creation_date":1675351831,"post_id":75323234,"comment_id":132914543,"body_markdown":"I made the changes and so far everything is working","body":"I made the changes and so far everything is working"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675349725,"creation_date":1675349725,"answer_id":75324975,"question_id":75323234,"body_markdown":"Your problem is Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: URL must start with &#39;jdbc&#39;.\r\n\r\nReplace these lines:\r\n\r\n    registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);\r\n    registry.add(&quot;spring.datasource.port&quot;, mysql::getFirstMappedPort);\r\n\r\nWith this:\r\n\r\n    registry.add(&quot;spring.datasource.url&quot;, &quot;jdbc:mysql://&quot; + mysql::getHost + &quot;:3306/adm_videos&quot;);\r\n    registry.add(&quot;spring.datasource.user&quot;, System.getEnv(&quot;FLYWAY_USER&quot;));\r\n    registry.add(&quot;spring.datasource.password &quot;, System.getEnv(&quot;FLYWAY_PASS&quot;));\r\n\r\n\r\n","title":"Error creating flyway bean with testcontainers","body":"<p>Your problem is Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: URL must start with 'jdbc'.</p>\n<p>Replace these lines:</p>\n<pre><code>registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);\nregistry.add(&quot;spring.datasource.port&quot;, mysql::getFirstMappedPort);\n</code></pre>\n<p>With this:</p>\n<pre><code>registry.add(&quot;spring.datasource.url&quot;, &quot;jdbc:mysql://&quot; + mysql::getHost + &quot;:3306/adm_videos&quot;);\nregistry.add(&quot;spring.datasource.user&quot;, System.getEnv(&quot;FLYWAY_USER&quot;));\nregistry.add(&quot;spring.datasource.password &quot;, System.getEnv(&quot;FLYWAY_PASS&quot;));\n</code></pre>\n"}],"owner":{"account_id":26929754,"reputation":50,"user_id":20502425,"display_name":"Kau&#227; Pereira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75324975,"answer_count":1,"score":2,"last_activity_date":1675350272,"creation_date":1675341058,"question_id":75323234,"body_markdown":"I have this code here that should create the container and the migrations, I&#39;ve already tested using MySQLContainer instead of generic and it also showed the error, with the generic I go what arrived in that last error\r\n\r\n\r\n```\r\n@ActiveProfiles(&quot;test-e2e&quot;)\r\n@SpringBootTest(classes = WebServerConfig.class)\r\n@ExtendWith(MySQLCleanUpExtension.class)\r\n@Testcontainers\r\npublic class teste {\r\n\r\n    @Container\r\n    private static final GenericContainer mysql = new GenericContainer(DockerImageName.parse(&quot;mysql:latest&quot;))\r\n            .withExposedPorts(3306);\r\n\r\n    @DynamicPropertySource\r\n    public static void setDatasourceProperties(final DynamicPropertyRegistry registry) {\r\n        mysql.start();\r\n\r\n        registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);\r\n        registry.add(&quot;spring.datasource.port&quot;, mysql::getFirstMappedPort);\r\n    }\r\n\r\n    @Test\r\n    public void testWorking() {\r\n        Assertions.assertTrue(mysql.isRunning());\r\n    }\r\n}\r\n```\r\n\r\napplication-test-e2e.yml\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://teste:3306/adm_videos\r\n```\r\n\r\nflyway config in gradle\r\n```\r\nflyway {\r\n    url = System.getenv(&#39;FLYWAY_DB&#39;) ?: &#39;jdbc:mysql://localhost:3306/adm_videos&#39;\r\n    user = System.getenv(&#39;FLYWAY_USER&#39;) ?: &#39;root&#39;\r\n    password = System.getenv(&#39;FLYWAY_PASS&#39;) ?: &#39;123456&#39;\r\n    cleanDisabled = false\r\n}\r\n```\r\n\r\nand when I run the test I get this error\r\n```\r\nFailed to load ApplicationContext for [WebMergedContextConfiguration@401ec794 testClass = com.kaua.clean.catalogo.e2e.teste, locations = [], classes = [com.kaua.clean.catalogo.infrastructure.configuration.WebServerConfig], contextInitializerClasses = [], activeProfiles = [&quot;test-e2e&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@d512252, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5dcd8c7a, [ImportsContextCustomizer@d76099a key = [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25bfcafd, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eda25e5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@614df0a4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@f4e03933, org.springframework.boot.test.context.SpringBootTestAnnotation@59090f1f], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@401ec794 testClass = com.kaua.clean.catalogo.e2e.teste, locations = [], classes = [com.kaua.clean.catalogo.infrastructure.configuration.WebServerConfig], contextInitializerClasses = [], activeProfiles = [&quot;test-e2e&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@d512252, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5dcd8c7a, [ImportsContextCustomizer@d76099a key = [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25bfcafd, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eda25e5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@614df0a4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@f4e03933, org.springframework.boot.test.context.SpringBootTestAnnotation@59090f1f], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flyway&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method &#39;flyway&#39; threw exception with message: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: URL must start with &#39;jdbc&#39;\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n\tat app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n\tat app//org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\t... 85 more\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method &#39;flyway&#39; threw exception with message: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: URL must start with &#39;jdbc&#39;\r\n\tat app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 111 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: URL must start with &#39;jdbc&#39;\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2086)\r\n\tat app//org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:138)\r\n\tat java.base@19.0.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base@19.0.1/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t... 112 more\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: URL must start with &#39;jdbc&#39;\r\n\tat app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 128 more\r\nCaused by: java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:122)\r\n\tat org.springframework.boot.jdbc.DatabaseDriver.fromJdbcUrl(DatabaseDriver.java:282)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:176)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t... 129 more\r\n```\r\n\r\nI hope to start the test and that it uploads the container, creates the migrations and I can do E2E tests","title":"Error creating flyway bean with testcontainers","body":"<p>I have this code here that should create the container and the migrations, I've already tested using MySQLContainer instead of generic and it also showed the error, with the generic I go what arrived in that last error</p>\n<pre><code>@ActiveProfiles(&quot;test-e2e&quot;)\n@SpringBootTest(classes = WebServerConfig.class)\n@ExtendWith(MySQLCleanUpExtension.class)\n@Testcontainers\npublic class teste {\n\n    @Container\n    private static final GenericContainer mysql = new GenericContainer(DockerImageName.parse(&quot;mysql:latest&quot;))\n            .withExposedPorts(3306);\n\n    @DynamicPropertySource\n    public static void setDatasourceProperties(final DynamicPropertyRegistry registry) {\n        mysql.start();\n\n        registry.add(&quot;spring.datasource.url&quot;, mysql::getHost);\n        registry.add(&quot;spring.datasource.port&quot;, mysql::getFirstMappedPort);\n    }\n\n    @Test\n    public void testWorking() {\n        Assertions.assertTrue(mysql.isRunning());\n    }\n}\n</code></pre>\n<p>application-test-e2e.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://teste:3306/adm_videos\n</code></pre>\n<p>flyway config in gradle</p>\n<pre><code>flyway {\n    url = System.getenv('FLYWAY_DB') ?: 'jdbc:mysql://localhost:3306/adm_videos'\n    user = System.getenv('FLYWAY_USER') ?: 'root'\n    password = System.getenv('FLYWAY_PASS') ?: '123456'\n    cleanDisabled = false\n}\n</code></pre>\n<p>and when I run the test I get this error</p>\n<pre><code>Failed to load ApplicationContext for [WebMergedContextConfiguration@401ec794 testClass = com.kaua.clean.catalogo.e2e.teste, locations = [], classes = [com.kaua.clean.catalogo.infrastructure.configuration.WebServerConfig], contextInitializerClasses = [], activeProfiles = [&quot;test-e2e&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@d512252, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5dcd8c7a, [ImportsContextCustomizer@d76099a key = [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25bfcafd, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eda25e5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@614df0a4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@f4e03933, org.springframework.boot.test.context.SpringBootTestAnnotation@59090f1f], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@401ec794 testClass = com.kaua.clean.catalogo.e2e.teste, locations = [], classes = [com.kaua.clean.catalogo.infrastructure.configuration.WebServerConfig], contextInitializerClasses = [], activeProfiles = [&quot;test-e2e&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@d512252, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5dcd8c7a, [ImportsContextCustomizer@d76099a key = [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25bfcafd, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eda25e5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@614df0a4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@f4e03933, org.springframework.boot.test.context.SpringBootTestAnnotation@59090f1f], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: URL must start with 'jdbc'\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at app//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n    at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at app//org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 85 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: URL must start with 'jdbc'\n    at app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 111 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: URL must start with 'jdbc'\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2086)\n    at app//org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:138)\n    at java.base@19.0.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base@19.0.1/java.lang.reflect.Method.invoke(Method.java:578)\n    at app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 112 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: URL must start with 'jdbc'\n    at app//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 128 more\nCaused by: java.lang.IllegalArgumentException: URL must start with 'jdbc'\n    at org.springframework.util.Assert.isTrue(Assert.java:122)\n    at org.springframework.boot.jdbc.DatabaseDriver.fromJdbcUrl(DatabaseDriver.java:282)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:176)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 129 more\n</code></pre>\n<p>I hope to start the test and that it uploads the container, creates the migrations and I can do E2E tests</p>\n"},{"tags":["java","axon","micrometer","axon-framework"],"answers":[{"comments":[{"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"score":1,"creation_date":1675780087,"post_id":75325079,"comment_id":132999334,"body_markdown":"Thanks for the reply Steven! I didn&#39;t think of taking advantage of the UnitOfWork to find the segmentId, that does open up some doors here. I see that the `tagsBuilder` in the `MessageMonitor`s is a deferred function evaluated when we have a `Message`, so that seems like the natural spot for this to be. I&#39;ll give that a go.","body":"Thanks for the reply Steven! I didn&#39;t think of taking advantage of the UnitOfWork to find the segmentId, that does open up some doors here. I see that the <code>tagsBuilder</code> in the <code>MessageMonitor</code>s is a deferred function evaluated when we have a <code>Message</code>, so that seems like the natural spot for this to be. I&#39;ll give that a go."}],"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675350179,"creation_date":1675350179,"answer_id":75325079,"question_id":74801259,"body_markdown":"I think I&#39;ve got a straightforward solution for you, @kagof.\r\n\r\nAxon Framework&#39;s `TrackingEventProcessor` and `PooledStreamingEventProcessor` add the `TrackingToken` and segment identifier to the resources of the `UnitOfWork`. They do so under the key `&quot;Processor[&quot; + builder.name + &quot;]/SegmentId&quot;`. The name field is the name you&#39;ve given to the Event Processor. Most likely, you use the `@ProcessingGroup` annotation to provide this name.\r\n\r\nAs the framework sets the current `UnitOfWork` as a thread local, you can retrieve it whenever one is active.\r\n\r\nKnowing this, you can do something like:\r\n```java\r\nif (CurrentUnitOfWork.isStarted()) {\r\n    String segmentIdString = (String) CurrentUnitOfWork.get()\r\n                                                       .resources()\r\n                                                       .entrySet()\r\n                                                       .stream()\r\n                                                       .filter(entry -&gt; entry.getKey().contains(&quot;/SegmentId&quot;))\r\n                                                       .map(Map.Entry::getValue)\r\n                                                       .findFirst()\r\n                                                       .orElse(&quot;No SegmentId found&quot;);\r\n}\r\n```\r\n\r\nI&#39;m doing a filter above, as I assume you want a generic solution for all your Event Processors.\r\n\r\nOn any note, I hope this helps you out!","title":"Tagging metrics from an Axon Framework MessageMonitor with the segment ID","body":"<p>I think I've got a straightforward solution for you, @kagof.</p>\n<p>Axon Framework's <code>TrackingEventProcessor</code> and <code>PooledStreamingEventProcessor</code> add the <code>TrackingToken</code> and segment identifier to the resources of the <code>UnitOfWork</code>. They do so under the key <code>&quot;Processor[&quot; + builder.name + &quot;]/SegmentId&quot;</code>. The name field is the name you've given to the Event Processor. Most likely, you use the <code>@ProcessingGroup</code> annotation to provide this name.</p>\n<p>As the framework sets the current <code>UnitOfWork</code> as a thread local, you can retrieve it whenever one is active.</p>\n<p>Knowing this, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (CurrentUnitOfWork.isStarted()) {\n    String segmentIdString = (String) CurrentUnitOfWork.get()\n                                                       .resources()\n                                                       .entrySet()\n                                                       .stream()\n                                                       .filter(entry -&gt; entry.getKey().contains(&quot;/SegmentId&quot;))\n                                                       .map(Map.Entry::getValue)\n                                                       .findFirst()\n                                                       .orElse(&quot;No SegmentId found&quot;);\n}\n</code></pre>\n<p>I'm doing a filter above, as I assume you want a generic solution for all your Event Processors.</p>\n<p>On any note, I hope this helps you out!</p>\n"}],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75325079,"answer_count":1,"score":1,"last_activity_date":1675350179,"creation_date":1671034846,"question_id":74801259,"body_markdown":"For some background, we have a custom message monitor that is very similar to the `EventProcessorLatencyMonitor` included with Axon Framework &gt;=4.1. \r\n\r\nMy understanding is that `onMessageIngested` would only ever be called if that processor has claimed a segment of the processing group. I&#39;d like to include this segment ID as a tag on the metric, similar to how the processor name is tagged. With the way the MessageMonitor is instantiated, I&#39;m not sure if this is possible.\r\n\r\nOur use case is that sometimes only one segment of the processing group will have a problem (becoming blocked, performance issue, etc), and this will help us identify it a lot more easily.\r\n\r\nOn a practical note, I&#39;d assume this tag can&#39;t be set at instantiation time, but would need to be set (and unset) at the time that a segment is claimed, since it is possible for different segments to be claimed by the processor over its lifetime. And in fact maybe that isn&#39;t even practical, as I believe the processor threadcount could mean that multiple segments are claimed at once by the same processor.\r\n\r\nWe&#39;re using Axon Framework 4.5.2 currently (although hoping to update to 4.6.x soon). This is with the non-Axon Server, JPA based tracking event processors.\r\n\r\n\r\nI&#39;m aware of `GlobalMetricRegistry`, and we have a class that extends it, overriding `registerComponentWithDefaultTags` and `registerEventProcessor` to use slightly different tags than usual. In here, we only have access to the `componentName` and `componentType`, which doesn&#39;t provide access to the segmentId.\r\n\r\nThe only way I can think of to make this possible is if the `Function&lt;Message&lt;?&gt;, Iterable&lt;Tag&gt;&gt; tagsBuilder` gets enhanced somehow to include more than just the `Message`, but also some information about the processor/token (ie, the segment). But this would require API changes from Axon themselves, maybe somebody else has a more feasible solution or something that can be done with existing functionality?","title":"Tagging metrics from an Axon Framework MessageMonitor with the segment ID","body":"<p>For some background, we have a custom message monitor that is very similar to the <code>EventProcessorLatencyMonitor</code> included with Axon Framework &gt;=4.1.</p>\n<p>My understanding is that <code>onMessageIngested</code> would only ever be called if that processor has claimed a segment of the processing group. I'd like to include this segment ID as a tag on the metric, similar to how the processor name is tagged. With the way the MessageMonitor is instantiated, I'm not sure if this is possible.</p>\n<p>Our use case is that sometimes only one segment of the processing group will have a problem (becoming blocked, performance issue, etc), and this will help us identify it a lot more easily.</p>\n<p>On a practical note, I'd assume this tag can't be set at instantiation time, but would need to be set (and unset) at the time that a segment is claimed, since it is possible for different segments to be claimed by the processor over its lifetime. And in fact maybe that isn't even practical, as I believe the processor threadcount could mean that multiple segments are claimed at once by the same processor.</p>\n<p>We're using Axon Framework 4.5.2 currently (although hoping to update to 4.6.x soon). This is with the non-Axon Server, JPA based tracking event processors.</p>\n<p>I'm aware of <code>GlobalMetricRegistry</code>, and we have a class that extends it, overriding <code>registerComponentWithDefaultTags</code> and <code>registerEventProcessor</code> to use slightly different tags than usual. In here, we only have access to the <code>componentName</code> and <code>componentType</code>, which doesn't provide access to the segmentId.</p>\n<p>The only way I can think of to make this possible is if the <code>Function&lt;Message&lt;?&gt;, Iterable&lt;Tag&gt;&gt; tagsBuilder</code> gets enhanced somehow to include more than just the <code>Message</code>, but also some information about the processor/token (ie, the segment). But this would require API changes from Axon themselves, maybe somebody else has a more feasible solution or something that can be done with existing functionality?</p>\n"},{"tags":["java","spring","spring-boot","applicationcontext","zipkin"],"comments":[{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":1,"creation_date":1675336784,"post_id":75322355,"comment_id":132908948,"body_markdown":"could you please provide full stacktrace? a could see that exception says that `appCtx` is null, but you have no such field or variable in your component code snippet, you have only `ctx`","body":"could you please provide full stacktrace? a could see that exception says that <code>appCtx</code> is null, but you have no such field or variable in your component code snippet, you have only <code>ctx</code>"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":1,"creation_date":1675336858,"post_id":75322355,"comment_id":132908986,"body_markdown":"probably the problem is that you are trying to access static getter before spring context is ready to go and not yes been set to this component","body":"probably the problem is that you are trying to access static getter before spring context is ready to go and not yes been set to this component"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":1,"creation_date":1675336922,"post_id":75322355,"comment_id":132909013,"body_markdown":"Don&#39;t use statics like this. It&#39;s evil! The dependency injection pattern is intended to remove the need for statics like this","body":"Don&#39;t use statics like this. It&#39;s evil! The dependency injection pattern is intended to remove the need for statics like this"}],"answers":[{"comments":[{"owner":{"account_id":25393197,"reputation":29,"user_id":19203833,"display_name":"Manju Mallesh"},"score":0,"creation_date":1675346730,"post_id":75322764,"comment_id":132912511,"body_markdown":"Thank for your help, I tried moving jar file inside main package.\nStill facing same issue","body":"Thank for your help, I tried moving jar file inside main package. Still facing same issue"}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675338690,"creation_date":1675338690,"answer_id":75322764,"question_id":75322355,"body_markdown":"You are getting the `NullPointerException` because the code in the other project is calling `getApplicationContext` before the `ApplicationContextUtils` has been loaded.\r\n\r\nIn fact, the `ApplicationContextUtils` component may not be loaded at all, as by default, Spring Boot only loads components that are in the same package (or subpackages) as the main class (the one annotated with `@SpringBootApplication`). If the other project uses different package names, `ApplicationContextUtils` is never loaded.","title":"ApplicationContextAware is not working in spring-boot","body":"<p>You are getting the <code>NullPointerException</code> because the code in the other project is calling <code>getApplicationContext</code> before the <code>ApplicationContextUtils</code> has been loaded.</p>\n<p>In fact, the <code>ApplicationContextUtils</code> component may not be loaded at all, as by default, Spring Boot only loads components that are in the same package (or subpackages) as the main class (the one annotated with <code>@SpringBootApplication</code>). If the other project uses different package names, <code>ApplicationContextUtils</code> is never loaded.</p>\n"}],"owner":{"account_id":25393197,"reputation":29,"user_id":19203833,"display_name":"Manju Mallesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675350094,"creation_date":1675336581,"question_id":75322355,"body_markdown":"\r\nI&#39;m trying to use Brave Tracer Inside the non component class.\r\nThis code is working fine in main project, setting context and getting context both are printing. But when I generate jar file and import it to different project 2 and run it, Only Getting context is printing and getting null error.\r\n\r\nI&#39;m new to spring-boot\r\nInitial problem was I wanted to Autowired Tracer to my non-component class, I google it to solve this problem, I got this result in google. If any one have any other solution for this kind of problem.\r\nOpen to suggestion\r\n\r\n\r\nThank you.\r\n\r\n\r\n```\r\n    // Project 1\r\n    // This is the main code, Generated a Jar file\r\n   \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ApplicationContextUtils implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext ctx;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext appContext) {\r\n            System.out.println(&quot;Setting context&quot;);\r\n            ctx = appContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n           System.out.println(&quot;Getting context&quot;);\r\n            return ctx;\r\n        }\r\n    }\r\n```\r\n```\r\n // Project 2\r\n // imported project 1 jar file to this project\r\n // Added jar file below main package\r\n // for simplicity i have used this in main class which is component class\r\n\r\n\r\n @SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    \r\n        // using this lines in non-component class\r\n    \r\n        ApplicationContext contextUtils = ApplicationContextUtils.getApplicationContext();\r\n\t\tcontextUtils.getApplicationName();\r\n    }\r\n}\r\n```\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.springframework.context.ApplicationContext.getApplicationName()&quot; because &quot;contextUtils&quot; is null\r\n\tat com.omniauth.omniauth.OmniAuthApplication.main(OmniAuthApplication.java:26)\r\n```\r\n\r\n","title":"ApplicationContextAware is not working in spring-boot","body":"<p>I'm trying to use Brave Tracer Inside the non component class.\nThis code is working fine in main project, setting context and getting context both are printing. But when I generate jar file and import it to different project 2 and run it, Only Getting context is printing and getting null error.</p>\n<p>I'm new to spring-boot\nInitial problem was I wanted to Autowired Tracer to my non-component class, I google it to solve this problem, I got this result in google. If any one have any other solution for this kind of problem.\nOpen to suggestion</p>\n<p>Thank you.</p>\n<pre><code>    // Project 1\n    // This is the main code, Generated a Jar file\n   \n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.ApplicationContextAware;\n    import org.springframework.stereotype.Component;\n    \n    @Component\n    public class ApplicationContextUtils implements ApplicationContextAware {\n    \n        private static ApplicationContext ctx;\n    \n        @Override\n        public void setApplicationContext(ApplicationContext appContext) {\n            System.out.println(&quot;Setting context&quot;);\n            ctx = appContext;\n        }\n    \n        public static ApplicationContext getApplicationContext() {\n           System.out.println(&quot;Getting context&quot;);\n            return ctx;\n        }\n    }\n</code></pre>\n<pre><code> // Project 2\n // imported project 1 jar file to this project\n // Added jar file below main package\n // for simplicity i have used this in main class which is component class\n\n\n @SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    \n        // using this lines in non-component class\n    \n        ApplicationContext contextUtils = ApplicationContextUtils.getApplicationContext();\n        contextUtils.getApplicationName();\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.springframework.context.ApplicationContext.getApplicationName()&quot; because &quot;contextUtils&quot; is null\n    at com.omniauth.omniauth.OmniAuthApplication.main(OmniAuthApplication.java:26)\n</code></pre>\n"},{"tags":["java","quarkus","vert.x","quarkus-reactive"],"answers":[{"comments":[{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1675346505,"post_id":75319977,"comment_id":132912396,"body_markdown":"would you mind to add any material explaining how that works?","body":"would you mind to add any material explaining how that works?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675350099,"post_id":75319977,"comment_id":132913799,"body_markdown":"I added a link to my answer","body":"I added a link to my answer"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675350091,"creation_date":1675323606,"answer_id":75319977,"question_id":75315174,"body_markdown":"The fact that Quarkus is reactive under the hood, does **not** force users to do any reactive programming.\r\n\r\nUsers are free (and in most cases encouraged) to use regular blocking APIs. When that is done, Quarkus will delegate the work to worker threads.\r\n\r\nSome details can be found [here][1].\r\n\r\n\r\n  [1]: https://quarkus.io/guides/quarkus-reactive-architecture","title":"What happens when I dont use reactive Quarkus extensions?","body":"<p>The fact that Quarkus is reactive under the hood, does <strong>not</strong> force users to do any reactive programming.</p>\n<p>Users are free (and in most cases encouraged) to use regular blocking APIs. When that is done, Quarkus will delegate the work to worker threads.</p>\n<p>Some details can be found <a href=\"https://quarkus.io/guides/quarkus-reactive-architecture\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319977,"answer_count":1,"score":0,"last_activity_date":1675350091,"creation_date":1675279256,"question_id":75315174,"body_markdown":"if I dont use the reactive extensions for Quarkus Is the I/O op going to be non-blocking or blocking? I am asking this because I didnt like the reactive programming style, I wish I could have something like c# async await for java","title":"What happens when I dont use reactive Quarkus extensions?","body":"<p>if I dont use the reactive extensions for Quarkus Is the I/O op going to be non-blocking or blocking? I am asking this because I didnt like the reactive programming style, I wish I could have something like c# async await for java</p>\n"},{"tags":["java","web","xmlhttprequest","genexus"],"comments":[{"owner":{"account_id":4605527,"reputation":429,"user_id":3735132,"display_name":"Guscarr"},"score":0,"creation_date":1675254739,"post_id":75309652,"comment_id":132888052,"body_markdown":"AddFile method has FullPath and FileName parameters (https://wiki.genexus.com/commwiki/servlet/wiki?7046,AddFile+method).\nI think you have them reversed (name, path).\n\nAnyway you could include more information about the error: it&#39;s an error when specifying the object within the IDE (Genexus Log could be useful) or it&#39;s a runtime error (Java log could be useful)","body":"AddFile method has FullPath and FileName parameters (<a href=\"https://wiki.genexus.com/commwiki/servlet/wiki?7046,AddFile+method\" rel=\"nofollow noreferrer\">wiki.genexus.com/commwiki/servlet/wiki?7046,AddFile+method</a>)&zwnj;&#8203;. I think you have them reversed (name, path).  Anyway you could include more information about the error: it&#39;s an error when specifying the object within the IDE (Genexus Log could be useful) or it&#39;s a runtime error (Java log could be useful)"},{"owner":{"account_id":27674998,"reputation":21,"user_id":21125011,"display_name":"Lucas Fraga"},"score":0,"creation_date":1675350033,"post_id":75309652,"comment_id":132913766,"body_markdown":"I change de parameters and works, Thank you!","body":"I change de parameters and works, Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":27674998,"reputation":21,"user_id":21125011,"display_name":"Lucas Fraga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675350065,"creation_date":1675350065,"answer_id":75325053,"question_id":75309652,"body_markdown":"&amp;HttpClient.AddFile(&#39;.\\dadosConciliadora_27-01-2023_09h24m09s697ms.xml&#39;,&#39;file&#39;)\r\n\r\nThis resolve the problem.","title":"Send XML File through httpRequest using Genexus 17","body":"<p>&amp;HttpClient.AddFile('.\\dadosConciliadora_27-01-2023_09h24m09s697ms.xml','file')</p>\n<p>This resolve the problem.</p>\n"}],"owner":{"account_id":27674998,"reputation":21,"user_id":21125011,"display_name":"Lucas Fraga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675350065,"creation_date":1675251659,"question_id":75309652,"body_markdown":"I am trying to send a XML path in a httprequest. \r\nI try in different ways and none works.\r\nMy last try was:\r\n\r\n\r\n```\r\n&amp;Httpclient.Addheader(&quot;Content-Type&quot;, !&quot;multipart/form-data&quot;)\r\n&amp;httpclient.AddVariable(&#39;idEmpresa&#39;, &#39;123&#39;)\r\n&amp;httpclient.AddVariable(&#39;senha&#39;,&#39;abcdfg&#39;)\r\n&amp;HttpClient.AddFile(&#39;file&#39;,&#39;.\\dadosConciliadora_27-01-2023_09h24m09s697ms.xml&#39;)\r\n&amp;HttpClient.Execute(httpmethod.Post, &amp;url)\r\n```\r\n\r\nThe message is always &quot;Object reference not set to an instance of an object.&quot;\r\nApplication is based in Java.\r\n\r\nI trying send a XML file to a API.","title":"Send XML File through httpRequest using Genexus 17","body":"<p>I am trying to send a XML path in a httprequest.\nI try in different ways and none works.\nMy last try was:</p>\n<pre><code>&amp;Httpclient.Addheader(&quot;Content-Type&quot;, !&quot;multipart/form-data&quot;)\n&amp;httpclient.AddVariable('idEmpresa', '123')\n&amp;httpclient.AddVariable('senha','abcdfg')\n&amp;HttpClient.AddFile('file','.\\dadosConciliadora_27-01-2023_09h24m09s697ms.xml')\n&amp;HttpClient.Execute(httpmethod.Post, &amp;url)\n</code></pre>\n<p>The message is always &quot;Object reference not set to an instance of an object.&quot;\nApplication is based in Java.</p>\n<p>I trying send a XML file to a API.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675372126,"post_id":75324988,"comment_id":132920828,"body_markdown":"How do you know what is the &quot;number&quot; of each consumer?  -&gt; through some kubernetes StatefulSet and custom logic, but please give me the benefice of the doubt I am able to know the &quot;number&quot; easily","body":"How do you know what is the &quot;number&quot; of each consumer?  -&gt; through some kubernetes StatefulSet and custom logic, but please give me the benefice of the doubt I am able to know the &quot;number&quot; easily"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675372197,"post_id":75324988,"comment_id":132920839,"body_markdown":"Plus, as you pointed out, there&#39;s downtime if one stops. -&gt; we do have a way to recreate the kubernetes pod (the consumer) very fast. Please give me the benefice of the doubt the downtime is very little","body":"Plus, as you pointed out, there&#39;s downtime if one stops. -&gt; we do have a way to recreate the kubernetes pod (the consumer) very fast. Please give me the benefice of the doubt the downtime is very little"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675395758,"post_id":75324988,"comment_id":132924641,"body_markdown":"@PatPanda The &quot;con&quot; is that it is an anti-pattern. Why do you want to do it at all? You will need some &quot;custom logic&quot; to say `if (record.partition == getPodNumber())`, etc. You said containers start fast, and previously said, they never stop at all, so why do you care about rebalancing that is avoided when using `assign` API? (which is the main &quot;pro&quot;, other than explicitly subscribing to certain event types, which realistically should be in their own topic, anyway, and consumed using `subscribe` API)","body":"@PatPanda The &quot;con&quot; is that it is an anti-pattern. Why do you want to do it at all? You will need some &quot;custom logic&quot; to say <code>if (record.partition == getPodNumber())</code>, etc. You said containers start fast, and previously said, they never stop at all, so why do you care about rebalancing that is avoided when using <code>assign</code> API? (which is the main &quot;pro&quot;, other than explicitly subscribing to certain event types, which realistically should be in their own topic, anyway, and consumed using <code>subscribe</code> API)"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675349762,"creation_date":1675349762,"answer_id":75324988,"question_id":75324642,"body_markdown":"\r\n\r\nHow do you know what is the &quot;number&quot; of each consumer? Based on your last questions, you&#39;ve either used kubernetes, or setting concurrency in Spring Kafka. In either case, pods/threads rebalance across partitions of the *same* executable application... Therefore, you cannot scale them *and assign* to specific partitions without extra external locking logic.\r\n\r\nIn my opinion, all executable consumers should be equally be able to handle any partition. \r\n\r\nPlus, as you pointed out, there&#39;s downtime if one stops. \r\n\r\nBut, the use case is to exactly match the producer. You&#39;ve produced data by some custom partitioner logic, therefore, you need exact consumers to read only a subset of that data. \r\n\r\nAlso, assignment doesn&#39;t use consumer groups, so while there would be no rebalancing, it makes it not possible to monitor lag using tools like Burrow or consumer groups cli. Lag would need gathered directly from the consumer metrics themselves. \r\n","title":"Advantage of &quot;forcing&quot; the partition","body":"<p>How do you know what is the &quot;number&quot; of each consumer? Based on your last questions, you've either used kubernetes, or setting concurrency in Spring Kafka. In either case, pods/threads rebalance across partitions of the <em>same</em> executable application... Therefore, you cannot scale them <em>and assign</em> to specific partitions without extra external locking logic.</p>\n<p>In my opinion, all executable consumers should be equally be able to handle any partition.</p>\n<p>Plus, as you pointed out, there's downtime if one stops.</p>\n<p>But, the use case is to exactly match the producer. You've produced data by some custom partitioner logic, therefore, you need exact consumers to read only a subset of that data.</p>\n<p>Also, assignment doesn't use consumer groups, so while there would be no rebalancing, it makes it not possible to monitor lag using tools like Burrow or consumer groups cli. Lag would need gathered directly from the consumer metrics themselves.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675349762,"creation_date":1675348299,"question_id":75324642,"body_markdown":"I have a topic ```theimportanttopic``` with three partitions.\r\n\r\nIs an advantage to &quot;forcing&quot; the partition assignment?\r\n\r\nFor instance, I have three consumers in one group. I want consumer1 to always and only consume from partition-0, consumer2 to always and only consume from partition-1 and consumer3 to always and only consume from partition-2.\r\n\r\nOne consumer should not touch any other partition at any point of time except the one that was assigned.\r\n\r\nA drawback I can think of is that when one of the consumers goes down, no one is consuming from the partition. \r\n\r\nLet&#39;s suppose a fancy self-healing architecture is in place, can bring back any of those lost consumer back very efficiently.\r\n\r\nWould it be an advantage, knowing there won&#39;t be any partition reassignment cost to the healthy consumers? The healthy consumers can focus on their own partition, etc.\r\n\r\nAre there any other pros and cons?\r\n\r\nhttps://docs.spring.io/spring-kafka/reference/html/#tip-assign-all-parts\r\nhttps://docs.spring.io/spring-kafka/reference/html/#manual-assignment\r\n\r\nIt seems the API allow possibility of forcing the partition, I was wondering if this use case was one of the purposes of this design.\r\n","title":"Advantage of &quot;forcing&quot; the partition","body":"<p>I have a topic <code>theimportanttopic</code> with three partitions.</p>\n<p>Is an advantage to &quot;forcing&quot; the partition assignment?</p>\n<p>For instance, I have three consumers in one group. I want consumer1 to always and only consume from partition-0, consumer2 to always and only consume from partition-1 and consumer3 to always and only consume from partition-2.</p>\n<p>One consumer should not touch any other partition at any point of time except the one that was assigned.</p>\n<p>A drawback I can think of is that when one of the consumers goes down, no one is consuming from the partition.</p>\n<p>Let's suppose a fancy self-healing architecture is in place, can bring back any of those lost consumer back very efficiently.</p>\n<p>Would it be an advantage, knowing there won't be any partition reassignment cost to the healthy consumers? The healthy consumers can focus on their own partition, etc.</p>\n<p>Are there any other pros and cons?</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/html/#tip-assign-all-parts\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#tip-assign-all-parts</a>\n<a href=\"https://docs.spring.io/spring-kafka/reference/html/#manual-assignment\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#manual-assignment</a></p>\n<p>It seems the API allow possibility of forcing the partition, I was wondering if this use case was one of the purposes of this design.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3634502,"reputation":481,"user_id":3029929,"accept_rate":64,"display_name":"user3029929"},"score":0,"creation_date":1393996871,"post_id":22184182,"comment_id":33682156,"body_markdown":"@PersistenceContext CANNOT become STATIC.","body":"@PersistenceContext CANNOT become STATIC."},{"owner":{"account_id":2526321,"reputation":3554,"user_id":2195638,"accept_rate":20,"display_name":"Martin Baumgartner"},"score":0,"creation_date":1394004763,"post_id":22184182,"comment_id":33685810,"body_markdown":"My example does not use @PersistenceContext anymore. Google also leads me to this [post](http://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener)","body":"My example does not use @PersistenceContext anymore. Google also leads me to this <a href=\"http://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener\">post</a>"}],"tags":[],"owner":{"account_id":2526321,"reputation":3554,"user_id":2195638,"accept_rate":20,"display_name":"Martin Baumgartner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579606402,"creation_date":1393970840,"answer_id":22184182,"question_id":22171221,"body_markdown":"Well, the first solution which came into my mind is a little &quot;hack&quot;, but should work. \r\n\r\n    \r\n        public class AuditInterceptor {\r\n        \r\n            static setEntityManager emf; \r\n\r\n            @Autowired\r\n            public void setEntityManagerFactory(EntityManager emf) {\r\n                AuditInterceptor.emf = emf;\r\n            }\r\n        \r\n            @PrePersist\r\n            public void prePersist(Object obj) { \r\n                EntityManager entityManager = emf.getEntityManager();\r\n                // Here I want to use ENTITY manager object so that I can perform CRUD operation\r\n                // with prePersist coming object.\r\n    \r\n                entityManager.unwrap(Session.class).save(obj);\r\n    \r\n                // But I am getting NULL POINTER EXCEPTION for entity manager object \r\n           }\r\n       }\r\n\r\nInside of your code use `EntityManager entityManager = emf.getEntityManager()`\r\n\r\nDeclare your `AuditInterceptor` as a spring bean (`@Component` with component-scan or define `AuditorInterceptor` as a bean)\r\n","title":"How to inject EntityManager in EntityListeners","body":"<p>Well, the first solution which came into my mind is a little \"hack\", but should work. </p>\n\n<pre><code>    public class AuditInterceptor {\n\n        static setEntityManager emf; \n\n        @Autowired\n        public void setEntityManagerFactory(EntityManager emf) {\n            AuditInterceptor.emf = emf;\n        }\n\n        @PrePersist\n        public void prePersist(Object obj) { \n            EntityManager entityManager = emf.getEntityManager();\n            // Here I want to use ENTITY manager object so that I can perform CRUD operation\n            // with prePersist coming object.\n\n            entityManager.unwrap(Session.class).save(obj);\n\n            // But I am getting NULL POINTER EXCEPTION for entity manager object \n       }\n   }\n</code></pre>\n\n<p>Inside of your code use <code>EntityManager entityManager = emf.getEntityManager()</code></p>\n\n<p>Declare your <code>AuditInterceptor</code> as a spring bean (<code>@Component</code> with component-scan or define <code>AuditorInterceptor</code> as a bean)</p>\n"},{"tags":[],"owner":{"account_id":3634502,"reputation":481,"user_id":3029929,"accept_rate":64,"display_name":"user3029929"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1579599753,"creation_date":1394006411,"answer_id":22191850,"question_id":22171221,"body_markdown":"Anyways, I got this done by getting entityManager reference from `EntityManagerFactory` bean which is configured in my `jdbc-config.xml`. But again this is not what I wanted. I wanted to work around with `@PersistenceContext`.\r\n\r\n      @Autowired\r\n      EntityManagerFactory entityManagerFactory;\r\n    \r\n      private static EntityManager entityManager;\r\n      \r\n      public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\r\n        entityManager=entityManagerFactory.createEntityManager();\r\n        this.entityManagerFactory = entityManagerFactory;\r\n      }\r\n\r\nHere are few notes that we need to keep in mind:\r\n \r\n\r\n \r\n\r\n 1. We can&#39;t inject an `EntityManager` into an `EntityListener` (through\r\n    `@PersistenceContext`). `EntityListener` is not managed by any of the\r\n    containers\r\n 2. `@PersistenceContext` class cannot be static. So we cant\r\n    attain the instance while class loading. \r\n 3. EntityListeners are\r\n    instantiated by JPA, so Spring does not have an opportunity to\r\n    inject `EntityManager`","title":"How to inject EntityManager in EntityListeners","body":"<p>Anyways, I got this done by getting entityManager reference from <code>EntityManagerFactory</code> bean which is configured in my <code>jdbc-config.xml</code>. But again this is not what I wanted. I wanted to work around with <code>@PersistenceContext</code>.</p>\n\n<pre><code>  @Autowired\n  EntityManagerFactory entityManagerFactory;\n\n  private static EntityManager entityManager;\n\n  public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\n    entityManager=entityManagerFactory.createEntityManager();\n    this.entityManagerFactory = entityManagerFactory;\n  }\n</code></pre>\n\n<p>Here are few notes that we need to keep in mind:</p>\n\n<ol>\n<li>We can't inject an <code>EntityManager</code> into an <code>EntityListener</code> (through\n<code>@PersistenceContext</code>). <code>EntityListener</code> is not managed by any of the\ncontainers</li>\n<li><code>@PersistenceContext</code> class cannot be static. So we cant\nattain the instance while class loading. </li>\n<li>EntityListeners are\ninstantiated by JPA, so Spring does not have an opportunity to\ninject <code>EntityManager</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1545144593,"creation_date":1487065249,"answer_id":42222592,"question_id":22171221,"body_markdown":"I have faced a similar problem where I was trying to create history records for an entity using EntityListeners.\r\n\r\nIn order to resolve this problem, I have created utility class `BeanUtil` with a static method to get the bean and used this util class to get bean inside my Entitylistener class\r\n\r\n    @Service\r\n    public class BeanUtil implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext;\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n            return context.getBean(beanClass);\r\n        }\r\n    \r\n    }\r\n\r\nNow we can call BeanUtil.getBean() to get the bean of any type\r\n\r\n    public class FileEntityListener {\r\n    \r\n        @PrePersist\r\n        public void prePersist(File target) {\r\n            perform(target, INSERTED);\r\n        }\r\n    \r\n        @Transactional(MANDATORY)\r\n        private void perform(File target, Action action) {\r\n            EntityManager entityManager = BeanUtil.getBean(EntityManager.class);\r\n            entityManager.persist(new FileHistory(target, action));\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWe can use this `BeanUtil` class to get any spring managed bean from anywhere, To know more you can read my article [JPA Auditing: Persisting Audit Logs Automatically using EntityListeners][1].\r\n\r\n\r\n  [1]: https://programmingmitra.com/2017/02/automatic-jpa-auditing-persisting-audit-logs-automatically-using-entityListeners.html","title":"How to inject EntityManager in EntityListeners","body":"<p>I have faced a similar problem where I was trying to create history records for an entity using EntityListeners.</p>\n\n<p>In order to resolve this problem, I have created utility class <code>BeanUtil</code> with a static method to get the bean and used this util class to get bean inside my Entitylistener class</p>\n\n<pre><code>@Service\npublic class BeanUtil implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\n        return context.getBean(beanClass);\n    }\n\n}\n</code></pre>\n\n<p>Now we can call BeanUtil.getBean() to get the bean of any type</p>\n\n<pre><code>public class FileEntityListener {\n\n    @PrePersist\n    public void prePersist(File target) {\n        perform(target, INSERTED);\n    }\n\n    @Transactional(MANDATORY)\n    private void perform(File target, Action action) {\n        EntityManager entityManager = BeanUtil.getBean(EntityManager.class);\n        entityManager.persist(new FileHistory(target, action));\n    }\n\n}\n</code></pre>\n\n<p>We can use this <code>BeanUtil</code> class to get any spring managed bean from anywhere, To know more you can read my article <a href=\"https://programmingmitra.com/2017/02/automatic-jpa-auditing-persisting-audit-logs-automatically-using-entityListeners.html\" rel=\"noreferrer\">JPA Auditing: Persisting Audit Logs Automatically using EntityListeners</a>.</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596944891,"creation_date":1596944891,"answer_id":63322274,"question_id":22171221,"body_markdown":"I used a ThreadLocal to pass the Spring Application Context which contains EntityManager around.  Though I am not sure if it is safe https://stackoverflow.com/questions/63321914/is-it-safe-to-pass-in-the-spring-application-context-into-a-threadlocal-associat?noredirect=1#comment111971158_63321914 but so far it is working for me.","title":"How to inject EntityManager in EntityListeners","body":"<p>I used a ThreadLocal to pass the Spring Application Context which contains EntityManager around.  Though I am not sure if it is safe <a href=\"https://stackoverflow.com/questions/63321914/is-it-safe-to-pass-in-the-spring-application-context-into-a-threadlocal-associat?noredirect=1#comment111971158_63321914\">Is it safe to pass in the Spring Application Context into a ThreadLocal associated with a request?</a> but so far it is working for me.</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675349732,"creation_date":1675349732,"answer_id":75324977,"question_id":22171221,"body_markdown":"The listener can be modified to have autowiring like this.  However this needs to be done on on the handlers and not the constructor (doing it on the constructor seems less predictable).  You are also not limited to the EntityManager but you have access to the whole context.\r\n\r\n```\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n\r\n@Autowired\r\nprivate MyDao myDao;\r\n\r\n@PrePersist\r\npublic void pre() {\r\n  SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n  Objects.requireNotNull(myDao);\r\n  myDao.doSomething();\r\n}\r\n```","title":"How to inject EntityManager in EntityListeners","body":"<p>The listener can be modified to have autowiring like this.  However this needs to be done on on the handlers and not the constructor (doing it on the constructor seems less predictable).  You are also not limited to the EntityManager but you have access to the whole context.</p>\n<pre><code>@Autowired\nprivate EntityManager entityManager;\n\n@Autowired\nprivate MyDao myDao;\n\n@PrePersist\npublic void pre() {\n  SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n  Objects.requireNotNull(myDao);\n  myDao.doSomething();\n}\n</code></pre>\n"}],"owner":{"account_id":3634502,"reputation":481,"user_id":3029929,"accept_rate":64,"display_name":"user3029929"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10038,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":22191850,"answer_count":5,"score":8,"last_activity_date":1675349732,"creation_date":1393934032,"question_id":22171221,"body_markdown":"I need to inject EntityManager in EntityListener class so that I can perform CRUD operation on it.\r\n\r\nPOJO:\r\n\r\n    @Entity\r\n    @EntityListner(AuditLogging.class)\r\n    class User\r\n    {\r\n          //Getter / setter of properties\r\n    }\r\n\r\nAuditLogging (Listner class)\r\n\r\n    public class AuditInterceptor\r\n    {\r\n    \r\n      @PersistenceContext\r\n      EntityManager entityManager;\r\n    \r\n      public void setEntityManager(EntityManager entityManager)\r\n      {\r\n        this.entityManager = entityManager;\r\n      }\r\n    \r\n      @PrePersist\r\n      public void prePersist(Object obj)\r\n      {\r\n         // Here I want to use ENTITY manager object so that I can perform CRUD operation\r\n         // with prePersist coming object.\r\n\r\n          entityManager.unwrap(Session.class).save(obj);\r\n   \r\n         // But I am getting NULL POINTER EXCEPTION for entity manager object \r\n       }\r\n } \r\n\r\nJDBC-CONFIg.xml\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\r\n            &lt;property name=&quot;packagesToScan&quot; value=&quot;com.XXXXX.entity&quot; /&gt;\r\n            &lt;property name=&quot;jpaProperties&quot;&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    &lt;!-- Datasource --&gt;\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n            destroy-method=&quot;close&quot;&gt;\r\n            &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver.classname}&quot; /&gt;\r\n            &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n    &lt;!-- transaction Manager --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n        &lt;/bean&gt;\r\n\r\n EntityListener is not managed by any of the container.EntityListeners are instanciated by JPA, so Spring does not have an opportunity to inject EntityManager.\r\nMy question is, how we can inject inject EntityManager in EntityListener class so that I can perform CRUD operation on it ???","title":"How to inject EntityManager in EntityListeners","body":"<p>I need to inject EntityManager in EntityListener class so that I can perform CRUD operation on it.</p>\n\n<p>POJO:</p>\n\n<pre><code>@Entity\n@EntityListner(AuditLogging.class)\nclass User\n{\n      //Getter / setter of properties\n}\n</code></pre>\n\n<p>AuditLogging (Listner class)</p>\n\n<pre><code>public class AuditInterceptor\n{\n\n  @PersistenceContext\n  EntityManager entityManager;\n\n  public void setEntityManager(EntityManager entityManager)\n  {\n    this.entityManager = entityManager;\n  }\n\n  @PrePersist\n  public void prePersist(Object obj)\n  {\n     // Here I want to use ENTITY manager object so that I can perform CRUD operation\n     // with prePersist coming object.\n\n      entityManager.unwrap(Session.class).save(obj);\n\n     // But I am getting NULL POINTER EXCEPTION for entity manager object \n   }\n</code></pre>\n\n<p>} </p>\n\n<p>JDBC-CONFIg.xml</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\" ref=\"hibernateJpaVendorAdapter\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.XXXXX.entity\" /&gt;\n        &lt;property name=\"jpaProperties\"&gt;\n    &lt;/bean&gt;\n\n&lt;!-- Datasource --&gt;\n&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClass\" value=\"${jdbc.driver.classname}\" /&gt;\n        &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\" /&gt;\n    &lt;/bean&gt;\n\n\n&lt;!-- transaction Manager --&gt;\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>EntityListener is not managed by any of the container.EntityListeners are instanciated by JPA, so Spring does not have an opportunity to inject EntityManager.\nMy question is, how we can inject inject EntityManager in EntityListener class so that I can perform CRUD operation on it ???</p>\n"},{"tags":["java","performance","regression","java-11","java-13"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675347871,"post_id":75324470,"comment_id":132912909,"body_markdown":"You&#39;re still using [raw types](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)? Interesting, but unrelated to your performance. I don&#39;t know anything about this regression. Since you plan to move to 17 anyway, did you check if maybe it&#39;s fixed again in 17?","body":"You&#39;re still using <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw types</a>? Interesting, but unrelated to your performance. I don&#39;t know anything about this regression. Since you plan to move to 17 anyway, did you check if maybe it&#39;s fixed again in 17?"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1675347990,"post_id":75324470,"comment_id":132912958,"body_markdown":"Is there any bench marking(e.g. jmh) to let us verify?","body":"Is there any bench marking(e.g. jmh) to let us verify?"},{"owner":{"account_id":1114053,"reputation":1371,"user_id":1103863,"accept_rate":77,"display_name":"sveri"},"score":1,"creation_date":1675348159,"post_id":75324470,"comment_id":132913023,"body_markdown":"@JoachimSauer We bought the library and it&#39;s code, we don&#39;t want to change it unless it&#39;s really necessary, so yea, it&#39;s still the old code from almost 2 decades ago.\nJava 17 has the same performance problems, unfortunately.","body":"@JoachimSauer We bought the library and it&#39;s code, we don&#39;t want to change it unless it&#39;s really necessary, so yea, it&#39;s still the old code from almost 2 decades ago. Java 17 has the same performance problems, unfortunately."},{"owner":{"account_id":1114053,"reputation":1371,"user_id":1103863,"accept_rate":77,"display_name":"sveri"},"score":0,"creation_date":1675348275,"post_id":75324470,"comment_id":132913082,"body_markdown":"@samabcde We only have raw numbers from our internal testing tools, not sure if that&#39;s of any help. \nI can setup a test project and bench with jmh if that helps in any way?","body":"@samabcde We only have raw numbers from our internal testing tools, not sure if that&#39;s of any help.  I can setup a test project and bench with jmh if that helps in any way?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675348370,"post_id":75324470,"comment_id":132913136,"body_markdown":"@sveri: I mean if you could boil it down to a reasonably small [mre] then that would of course help (both for this question and your own hunt for a solution), but if it&#39;s really as you said that it&#39;s just many small regressions, then this might be tricky. Personally I&#39;d still try it for a while to see if you find an &quot;easy&quot; culprit.","body":"@sveri: I mean if you could boil it down to a reasonably small <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> then that would of course help (both for this question and your own hunt for a solution), but if it&#39;s really as you said that it&#39;s just many small regressions, then this might be tricky. Personally I&#39;d still try it for a while to see if you find an &quot;easy&quot; culprit."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1675348500,"post_id":75324470,"comment_id":132913193,"body_markdown":"@sveri have you tried to [re-enable biased locking](https://openjdk.org/jeps/374)? I believe `&lt;=1.5` code is full of StringBuffers, Vectors, HashTables, etc","body":"@sveri have you tried to <a href=\"https://openjdk.org/jeps/374\" rel=\"nofollow noreferrer\">re-enable biased locking</a>? I believe <code>&lt;=1.5</code> code is full of StringBuffers, Vectors, HashTables, etc"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675348612,"post_id":75324470,"comment_id":132913238,"body_markdown":"@AndreyB.Panfilov: oh, that&#39;s a good hint. `Collections.synchronizedMap` probably produces lots of uncontested locking attempts. If re-enabling biased locking helps, then replacing those with `ConcurrentHashMap`s would probably help as well. (edit: oh, but &quot;Prior to JDK 15, biased locking is always enabled&quot;).","body":"@AndreyB.Panfilov: oh, that&#39;s a good hint. <code>Collections.synchronizedMap</code> probably produces lots of uncontested locking attempts. If re-enabling biased locking helps, then replacing those with <code>ConcurrentHashMap</code>s would probably help as well. (edit: oh, but &quot;Prior to JDK 15, biased locking is always enabled&quot;)."},{"owner":{"account_id":1114053,"reputation":1371,"user_id":1103863,"accept_rate":77,"display_name":"sveri"},"score":2,"creation_date":1675348901,"post_id":75324470,"comment_id":132913341,"body_markdown":"@AndreyB.Panfilov You are my man, I just ran the test code with reenabled biased locking and Java 17 and the numbers are even a bit better than with Java 11.\nAwesome, if you provide this as answer, I will accept it.","body":"@AndreyB.Panfilov You are my man, I just ran the test code with reenabled biased locking and Java 17 and the numbers are even a bit better than with Java 11. Awesome, if you provide this as answer, I will accept it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675764799,"post_id":75324470,"comment_id":132994268,"body_markdown":"Just because you paid for it, doesnt make it code worth keeping. Its poor code, even by the old standards 1.) pointless lazy initialization, far more expensive than its supposed savings 2) overuse of synchronization, 3) no-idiomatic test for the presence of a key; instead of `Value v = (Value) ht.get(key); if (v != null) return ht;`, you can just use `if(ht.containsKey(key)) return ht;` 4) non-idiomatic loop. What you have here, is a classical for loop: `for(Context c = this; c != null; c = c.m_parent) { Map ht = c.getVariables(); if(ht.containsKey(key)) return ht; } return null;`","body":"Just because you paid for it, doesnt make it code worth keeping. Its poor code, even by the old standards 1.) pointless lazy initialization, far more expensive than its supposed savings 2) overuse of synchronization, 3) no-idiomatic test for the presence of a key; instead of <code>Value v = (Value) ht.get(key); if (v != null) return ht;</code>, you can just use <code>if(ht.containsKey(key)) return ht;</code> 4) non-idiomatic loop. What you have here, is a classical for loop: <code>for(Context c = this; c != null; c = c.m_parent) { Map ht = c.getVariables(); if(ht.containsKey(key)) return ht; } return null;</code>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675349458,"creation_date":1675349458,"answer_id":75324918,"question_id":75324470,"body_markdown":"Based on the fact the library you are using was written for `Java 1.5`, that time we were primarily using `synchronized` keyword to write thread-safe code, I would say the root cause of performance degradation you are observing now is [JEP 374: Deprecate and Disable Biased Locking\r\n](https://openjdk.org/jeps/374)","title":"Jess - Performance regression from Java 11 to Java 13+","body":"<p>Based on the fact the library you are using was written for <code>Java 1.5</code>, that time we were primarily using <code>synchronized</code> keyword to write thread-safe code, I would say the root cause of performance degradation you are observing now is <a href=\"https://openjdk.org/jeps/374\" rel=\"noreferrer\">JEP 374: Deprecate and Disable Biased Locking\n</a></p>\n"}],"owner":{"account_id":1114053,"reputation":1371,"user_id":1103863,"accept_rate":77,"display_name":"sveri"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75324918,"answer_count":1,"score":5,"last_activity_date":1675349458,"creation_date":1675347485,"question_id":75324470,"body_markdown":"we are using Jess, which is a rules engine, written in Java. It has become pretty old and most of it is written using Java 1.5 and lower language features.\r\nNow, we are using this for many years and never noticed any problems during the Java upgrades, until now, when we plan to switch from Java 11 to Java 17.\r\n\r\nOur runtime has become 30-40% slower, just by switching the java version. We did a lot of testing already, but cannot really find the one culprit.  \r\nFor instance, we checked different Java versions and different vendors (eclipse, azul and orcacle), everything from 13+ was slower than Java 11.\r\n\r\nUsing VisualVM I was able to point down to a few methods, but there is nothing specific in there where I would say that this could be the problem.  \r\nLooking at it, it seems like there are multiple performance regressions that sum together to a big one, but that seems pretty unrealistic.\r\n\r\nSome of the functions look like this:\r\n\r\n```\r\n    private synchronized Map findVariable(String key) {\r\n        Context c = this;\r\n        while (c != null) {\r\n            Map ht = c.getVariables();\r\n            Value v = (Value) ht.get(key);\r\n            if (v != null)\r\n                return ht;\r\n            else\r\n                c = c.m_parent;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private synchronized Map getVariables() {\r\n        if (m_variables == null)\r\n            m_variables = Collections.synchronizedMap(new HashMap());\r\n\r\n        return m_variables;\r\n    }\r\n```\r\n\r\nDo you know if there are any know regressions going on from J13+, maybe regarding synchronized functions and variables for instances?\r\n\r\nAny other pointers what might be the problem?","title":"Jess - Performance regression from Java 11 to Java 13+","body":"<p>we are using Jess, which is a rules engine, written in Java. It has become pretty old and most of it is written using Java 1.5 and lower language features.\nNow, we are using this for many years and never noticed any problems during the Java upgrades, until now, when we plan to switch from Java 11 to Java 17.</p>\n<p>Our runtime has become 30-40% slower, just by switching the java version. We did a lot of testing already, but cannot really find the one culprit.<br />\nFor instance, we checked different Java versions and different vendors (eclipse, azul and orcacle), everything from 13+ was slower than Java 11.</p>\n<p>Using VisualVM I was able to point down to a few methods, but there is nothing specific in there where I would say that this could be the problem.<br />\nLooking at it, it seems like there are multiple performance regressions that sum together to a big one, but that seems pretty unrealistic.</p>\n<p>Some of the functions look like this:</p>\n<pre><code>    private synchronized Map findVariable(String key) {\n        Context c = this;\n        while (c != null) {\n            Map ht = c.getVariables();\n            Value v = (Value) ht.get(key);\n            if (v != null)\n                return ht;\n            else\n                c = c.m_parent;\n        }\n        return null;\n    }\n\n    private synchronized Map getVariables() {\n        if (m_variables == null)\n            m_variables = Collections.synchronizedMap(new HashMap());\n\n        return m_variables;\n    }\n</code></pre>\n<p>Do you know if there are any know regressions going on from J13+, maybe regarding synchronized functions and variables for instances?</p>\n<p>Any other pointers what might be the problem?</p>\n"},{"tags":["java","security","cryptography"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1475316114,"post_id":39797759,"comment_id":66902174,"body_markdown":"An internet search shows [this bug](https://bugs.openjdk.java.net/browse/JDK-8013493) could be related. Furthermore, I don&#39;t see the Bouncy Castle provider anywhere, maybe that will help?","body":"An internet search shows <a href=\"https://bugs.openjdk.java.net/browse/JDK-8013493\" rel=\"nofollow noreferrer\">this bug</a> could be related. Furthermore, I don&#39;t see the Bouncy Castle provider anywhere, maybe that will help?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1475321810,"post_id":39797759,"comment_id":66903698,"body_markdown":"Editing some code to replay the issue would be helpful.","body":"Editing some code to replay the issue would be helpful."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1475467763,"post_id":39797759,"comment_id":66938998,"body_markdown":"Adding the BC provider doesn&#39;t give it priority; your stacktrace confirms you are getting the SunJSSE provider&#39;s implementation. Try using `KeyStore.getInstance(&quot;PKCS12&quot;,&quot;BC&quot;)` or if you want to live dangerously **insert**ing the BC provider at or below position 4. Or just do the PB-MAC on the PKCS12 with SHA1 like everybody else -- you&#39;re already using it for the PBE. Plus it looks to me like you&#39;re strongly encryping the cert -- why??","body":"Adding the BC provider doesn&#39;t give it priority; your stacktrace confirms you are getting the SunJSSE provider&#39;s implementation. Try using <code>KeyStore.getInstance(&quot;PKCS12&quot;,&quot;BC&quot;)</code> or if you want to live dangerously <b>insert</b>ing the BC provider at or below position 4. Or just do the PB-MAC on the PKCS12 with SHA1 like everybody else -- you&#39;re already using it for the PBE. Plus it looks to me like you&#39;re strongly encryping the cert -- why??"},{"owner":{"account_id":2929630,"reputation":445,"user_id":2510229,"accept_rate":33,"display_name":"Adam Morgan"},"score":0,"creation_date":1475496498,"post_id":39797759,"comment_id":66951868,"body_markdown":"aaaaahhhhhhh that fixed it, thanks dave_thompson_085!!","body":"aaaaahhhhhhh that fixed it, thanks dave_thompson_085!!"},{"owner":{"account_id":2929630,"reputation":445,"user_id":2510229,"accept_rate":33,"display_name":"Adam Morgan"},"score":0,"creation_date":1475496651,"post_id":39797759,"comment_id":66951953,"body_markdown":"@dave_thompson_085, which code specifically are you referring to WRT &#39;strongly encrypting&#39;? the &#39;addEncryptedData()&#39; call?","body":"@dave_thompson_085, which code specifically are you referring to WRT &#39;strongly encrypting&#39;? the &#39;addEncryptedData()&#39; call?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1475546454,"post_id":39797759,"comment_id":66975656,"body_markdown":"Adam: exactly. &lt;! pad&gt;","body":"Adam: exactly. &lt;! pad&gt;"},{"owner":{"account_id":2929630,"reputation":445,"user_id":2510229,"accept_rate":33,"display_name":"Adam Morgan"},"score":0,"creation_date":1475669920,"post_id":39797759,"comment_id":67034060,"body_markdown":"I just took it from here\n\nhttps://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS12PfxPduBuilder.html","body":"I just took it from here  <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS12PfxPduBuilder.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2929630,"reputation":445,"user_id":2510229,"accept_rate":33,"display_name":"Adam Morgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1475670030,"creation_date":1475670030,"answer_id":39873795,"question_id":39797759,"body_markdown":"as dave_thompson_085 pointed out, I can specify which provider I want to be used for the keystore.  I didn&#39;t realize this initially as I missed the getInstance() overload.\r\n\r\nSo in summary, calling this fixed my issue:\r\n\r\n`KeyStore.getInstance(&quot;PKCS12&quot;,&quot;BC&quot;)`\r\n\r\ntoo easy.","title":"Algorithm HmacPBESHA256 not available","body":"<p>as dave_thompson_085 pointed out, I can specify which provider I want to be used for the keystore.  I didn't realize this initially as I missed the getInstance() overload.</p>\n\n<p>So in summary, calling this fixed my issue:</p>\n\n<p><code>KeyStore.getInstance(\"PKCS12\",\"BC\")</code></p>\n\n<p>too easy.</p>\n"},{"comments":[{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":0,"creation_date":1623828424,"post_id":59625191,"comment_id":120185849,"body_markdown":"I am using java version 16, But still getting error","body":"I am using java version 16, But still getting error"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1623857281,"post_id":59625191,"comment_id":120198986,"body_markdown":"But it is available if you look at the [documentation](https://docs.oracle.com/en/java/javase/16/security/oracle-providers.html#GUID-A47B1249-593C-4C38-A0D0-68FA7681E0A7) Did you correctly set the Provider?","body":"But it is available if you look at the <a href=\"https://docs.oracle.com/en/java/javase/16/security/oracle-providers.html#GUID-A47B1249-593C-4C38-A0D0-68FA7681E0A7\" rel=\"nofollow noreferrer\">documentation</a> Did you correctly set the Provider?"},{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":0,"creation_date":1623906327,"post_id":59625191,"comment_id":120211513,"body_markdown":"Yes it is mentioned there. But what is this provider and where to set it?","body":"Yes it is mentioned there. But what is this provider and where to set it?"}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623961609,"creation_date":1578388002,"answer_id":59625191,"question_id":39797759,"body_markdown":"Alternatively the `HmacPBESHA256` algorithm is supported by standard java (SunJCE Provider) [starting from Java 12][1].\r\nI would use it like this:\r\n\r\n    //run with Java 12!\r\n\tpublic void test() throws NoSuchAlgorithmException {\r\n\t\tProvider provider = java.security.Security.getProvider(&quot;SunJCE&quot;);\r\n\t\tSystem.out.println(provider.getName());\r\n\t\tMac m = Mac.getInstance(&quot;HmacPBESHA256&quot;,provider);\r\n\t\tSystem.out.println(m.getAlgorithm());\r\n\t}\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/security/oracle-providers.html#GUID-A47B1249-593C-4C38-A0D0-68FA7681E0A7","title":"Algorithm HmacPBESHA256 not available","body":"<p>Alternatively the <code>HmacPBESHA256</code> algorithm is supported by standard java (SunJCE Provider) <a href=\"https://docs.oracle.com/en/java/javase/12/security/oracle-providers.html#GUID-A47B1249-593C-4C38-A0D0-68FA7681E0A7\" rel=\"nofollow noreferrer\">starting from Java 12</a>.\nI would use it like this:</p>\n<pre><code>//run with Java 12!\npublic void test() throws NoSuchAlgorithmException {\n    Provider provider = java.security.Security.getProvider(&quot;SunJCE&quot;);\n    System.out.println(provider.getName());\n    Mac m = Mac.getInstance(&quot;HmacPBESHA256&quot;,provider);\n    System.out.println(m.getAlgorithm());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":1,"creation_date":1658728992,"post_id":66319335,"comment_id":129113760,"body_markdown":"Thank you so much for this fix.  Note, in my case, it wiped out my `alias` value (changed it to `1`) and had to re-apply the alias using these steps: https://stackoverflow.com/a/5707518/3196753.\n\nOddly, testing the offending file using `keytool -list -v -keystore` as a baseline with Java 11.0.4, the HmacPBESHA256 error shows, but when I switched to 11.0.16, the error went away.   For compatibility reasons, I still went the extra mile to use the above openssl steps and now the file works with both versions.","body":"Thank you so much for this fix.  Note, in my case, it wiped out my <code>alias</code> value (changed it to <code>1</code>) and had to re-apply the alias using these steps: <a href=\"https://stackoverflow.com/a/5707518/3196753\">stackoverflow.com/a/5707518/3196753</a>.  Oddly, testing the offending file using <code>keytool -list -v -keystore</code> as a baseline with Java 11.0.4, the HmacPBESHA256 error shows, but when I switched to 11.0.16, the error went away.   For compatibility reasons, I still went the extra mile to use the above openssl steps and now the file works with both versions."}],"tags":[],"owner":{"account_id":3650769,"reputation":913,"user_id":3043018,"accept_rate":50,"display_name":"Inkeliz"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614010514,"creation_date":1614010514,"answer_id":66319335,"question_id":39797759,"body_markdown":"The `HmacPBESHA256` sounds like the algorithm to verify the integrity after decrypting the file. You can decrypt your Keystore and encrypt again, which may doesn&#39;t use the `HmacPBESHA256`. \r\n\r\n----\r\n\r\nIn my case, I generate the key using the Windows tool (i.e &quot;Microsoft Strong Cryptographic Provider&quot;). By default, the `pfx` uses `HmacPBESHA256`, which Java 11 doesn&#39;t support. \r\n\r\nThe solution is to create a new Keystore, but using `openssl`. In order to do that, I run:\r\n\r\n    openssl pkcs12 -in &quot;your_keystore.pfx&quot; -nodes | openssl pkcs12 -export -out &quot;new_keystore.pfx&quot;\r\n\r\nThat works on `jarsign`/`apksign`, by providing the `new_keystore.pfx` into as the keystore.\r\n","title":"Algorithm HmacPBESHA256 not available","body":"<p>The <code>HmacPBESHA256</code> sounds like the algorithm to verify the integrity after decrypting the file. You can decrypt your Keystore and encrypt again, which may doesn't use the <code>HmacPBESHA256</code>.</p>\n<hr />\n<p>In my case, I generate the key using the Windows tool (i.e &quot;Microsoft Strong Cryptographic Provider&quot;). By default, the <code>pfx</code> uses <code>HmacPBESHA256</code>, which Java 11 doesn't support.</p>\n<p>The solution is to create a new Keystore, but using <code>openssl</code>. In order to do that, I run:</p>\n<pre><code>openssl pkcs12 -in &quot;your_keystore.pfx&quot; -nodes | openssl pkcs12 -export -out &quot;new_keystore.pfx&quot;\n</code></pre>\n<p>That works on <code>jarsign</code>/<code>apksign</code>, by providing the <code>new_keystore.pfx</code> into as the keystore.</p>\n"},{"comments":[{"owner":{"account_id":6793120,"reputation":2129,"user_id":5229463,"display_name":"Vidyesh Churi"},"score":0,"creation_date":1637333479,"post_id":68791916,"comment_id":123805800,"body_markdown":"Using JDK 15 in android studio solves the problem. JDK 16 throws errors for some dependencies.","body":"Using JDK 15 in android studio solves the problem. JDK 16 throws errors for some dependencies."},{"owner":{"account_id":9011380,"reputation":89,"user_id":6715818,"display_name":"Damian Jimenez"},"score":0,"creation_date":1642776011,"post_id":68791916,"comment_id":125169029,"body_markdown":"I&#39;m using JDK16 solves the problem. My React app React work now.","body":"I&#39;m using JDK16 solves the problem. My React app React work now."}],"tags":[],"owner":{"account_id":22471688,"reputation":221,"user_id":16672042,"display_name":"sadegh khanzadi"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1629073446,"creation_date":1629033560,"answer_id":68791916,"question_id":39797759,"body_markdown":"Open Android Studio and go to `File &gt; Settings &gt; Build, Execution, Development &gt; Build Tools &gt; Gradle`, then change Gradle JDK to jdk16, then click Sync Gradle.\r\n\r\nAnd you can go to the build project without any error.","title":"Algorithm HmacPBESHA256 not available","body":"<p>Open Android Studio and go to <code>File &gt; Settings &gt; Build, Execution, Development &gt; Build Tools &gt; Gradle</code>, then change Gradle JDK to jdk16, then click Sync Gradle.</p>\n<p>And you can go to the build project without any error.</p>\n"},{"comments":[{"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"score":0,"creation_date":1681979662,"post_id":75324896,"comment_id":134144652,"body_markdown":"Had same issue with 11.0.17 (from Oct/2022). A corretto 11.0.13_8 solved it for me. ( from Oct/2021)","body":"Had same issue with 11.0.17 (from Oct/2022). A corretto 11.0.13_8 solved it for me. ( from Oct/2021)"},{"owner":{"account_id":13667375,"reputation":227,"user_id":13008581,"display_name":"yalda mohasseli"},"score":0,"creation_date":1695061353,"post_id":75324896,"comment_id":135971086,"body_markdown":"I had this issue too. For me fixed with jdk 17","body":"I had this issue too. For me fixed with jdk 17"},{"owner":{"account_id":1677258,"reputation":1869,"user_id":1542490,"display_name":"mrtechmaker"},"score":0,"creation_date":1696829566,"post_id":75324896,"comment_id":136197985,"body_markdown":"11.0.20 fixed it for me .\n11.0.20 was shown as the version in android studio, so I used that","body":"11.0.20 fixed it for me . 11.0.20 was shown as the version in android studio, so I used that"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1699361116,"post_id":75324896,"comment_id":136519523,"body_markdown":"Thank you. I migrated to OpenJDK 17 and now it works","body":"Thank you. I migrated to OpenJDK 17 and now it works"}],"tags":[],"owner":{"account_id":2635164,"reputation":1119,"user_id":2280067,"display_name":"SJX"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675349395,"creation_date":1675349395,"answer_id":75324896,"question_id":39797759,"body_markdown":"This problem can be caused by older OpenJDK Java versions. (Keytool)\r\n&lt;br&gt;\r\nIn my case this version solved the problem: openjdk version &quot;11.0.17&quot; 2022-10-18","title":"Algorithm HmacPBESHA256 not available","body":"<p>This problem can be caused by older OpenJDK Java versions. (Keytool)\n<br>\nIn my case this version solved the problem: openjdk version &quot;11.0.17&quot; 2022-10-18</p>\n"}],"owner":{"account_id":2929630,"reputation":445,"user_id":2510229,"accept_rate":33,"display_name":"Adam Morgan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50612,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":39873795,"answer_count":5,"score":25,"last_activity_date":1675349395,"creation_date":1475259741,"question_id":39797759,"body_markdown":"So, I have written some code to take a PEM, add it to a PKCS keystore via bouncycastle, and then use java crypto to import the PKCS keystore value into a JKS keystore.\r\n\r\nI swear that yesterday I had a unit test pass successfully having executed these steps, but this morning I started hitting this\r\n\r\n    Caused by: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n    \tat javax.crypto.Mac.getInstance(Mac.java:181) ~[na:1.8.0_60]\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2039) ~[na:1.8.0_65]\r\n\r\n\r\nNow, it&#39;s always possible something changed underneath me but I cannot figure out what it was.  It seems whatever provider I *was* using for that algorithm has since disappeared. \r\n\r\n\r\nhere&#39;s my java.security file snippet:\r\n\r\n    security.provider.1=sun.security.provider.Sun\r\n    security.provider.2=sun.security.rsa.SunRsaSign\r\n    security.provider.3=sun.security.ec.SunEC\r\n    security.provider.4=com.sun.net.ssl.internal.ssl.Provider\r\n    security.provider.5=com.sun.crypto.provider.SunJCE\r\n    security.provider.6=sun.security.jgss.SunProvider\r\n    security.provider.7=com.sun.security.sasl.Provider\r\n    security.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\n    security.provider.9=sun.security.smartcardio.SunPCSC\r\n    security.provider.10=apple.security.AppleProvider\r\n\r\n\r\nThere&#39;s not a whole lot to the code.  First I create a PKCS keystore via bouncycastle, adding a pem and saving to disk as PKCS12. Then import via java crypto, saving back out as JKS.\r\n\r\n \r\n\r\n       public KeystoreBuilder createJksFromPem(String pemPrivate, String pemPublic, String alias) throws Exception\r\n        {\r\n            Preconditions.checkState(StringUtils.isNotEmpty(pemPrivate), &quot;pemPrivate must not be empty&quot;);\r\n            Preconditions.checkState(StringUtils.isNotEmpty(pemPublic), &quot;pemPublic must not be empty&quot;);\r\n            Preconditions.checkState(StringUtils.isNotEmpty(alias), &quot;alias must not be empty&quot;);\r\n    \r\n            String pkcsFilename = filename + &quot;.pkcs&quot;;\r\n            convertPemToPkcs(pemPrivate, pemPublic, pkcsFilename);\r\n    \r\n            importPkcsIntoJks(pkcsFilename);\r\n    \r\n            return this;\r\n        }\r\n    \r\n        private void importPkcsIntoJks(String pkcsFilename) throws Exception\r\n        {\r\n            KeyStore pkcs = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            File pkcsFile = new File(pkcsFilename);\r\n            try (FileInputStream fis = new FileInputStream(pkcsFile))\r\n            {\r\n                pkcs.load(fis, password.toCharArray());\r\n            }\r\n            pkcsFile.delete();\r\n    \r\n            KeyStore jks = KeyStore.getInstance(&quot;JKS&quot;);\r\n            jks.load(null);\r\n    \r\n            Enumeration&lt;String&gt; aliases = pkcs.aliases();\r\n            while (aliases.hasMoreElements())\r\n            {\r\n                String alias = aliases.nextElement();\r\n                if (!pkcs.isKeyEntry(alias))\r\n                {\r\n                    continue;\r\n                }\r\n                Key key = pkcs.getKey(alias, password.toCharArray());\r\n                Certificate[] chain = pkcs.getCertificateChain(alias);\r\n    \r\n                jks.setKeyEntry(alias, key, password.toCharArray(), chain);\r\n            }\r\n    \r\n            persist(jks);\r\n        }\r\n    \r\n        private void convertPemToPkcs(String pemPrivate, String pemPublic, String pkcsFilename) throws IOException, NoSuchAlgorithmException, OperatorCreationException, PKCSException, FileNotFoundException\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            X509CertificateHolder cert = (X509CertificateHolder) readObject(pemPublic);\r\n            PEMKeyPair keyPair = (PEMKeyPair) readObject(pemPrivate);\r\n    \r\n            JcaX509ExtensionUtils extUtils = new JcaX509ExtensionUtils();\r\n            PKCS12SafeBagBuilder pkcs12BagBuilder = new PKCS12SafeBagBuilder(cert);\r\n            pkcs12BagBuilder.addBagAttribute(PKCSObjectIdentifiers.pkcs_9_at_friendlyName, new DERBMPString(&quot;Kafka SSL Certificate&quot;));\r\n            pkcs12BagBuilder.addBagAttribute(PKCSObjectIdentifiers.pkcs_9_at_localKeyId, extUtils.createSubjectKeyIdentifier(keyPair.getPublicKeyInfo()));\r\n    \r\n            PKCS12PfxPduBuilder builder = new PKCS12PfxPduBuilder();\r\n    \r\n            builder.addData(pkcs12BagBuilder.build());\r\n    \r\n            builder.addEncryptedData(new JcePKCSPBEOutputEncryptorBuilder(PKCSObjectIdentifiers.pbeWithSHAAnd128BitRC2_CBC).setProvider(&quot;BC&quot;).build(password.toCharArray()), pkcs12BagBuilder.build());\r\n    \r\n            PKCS12PfxPdu pfx = builder.build(new JcePKCS12MacCalculatorBuilder(NISTObjectIdentifiers.id_sha256), password.toCharArray());\r\n    \r\n            try (FileOutputStream fos = new FileOutputStream(new File(pkcsFilename)))\r\n            {\r\n                fos.write(pfx.getEncoded(ASN1Encoding.DL));\r\n            }\r\n        }\r\n\r\nand boom it blows up on \r\n\r\n    pkcs.load(fis, password.toCharArray());\r\n\r\n\r\n\r\nAs you can see, the BouncyCastleProvider was added explicitly. Any suggestions? \r\n\r\n\r\nUPDATE: Thanks dave_thompson_085 for the suggestion.  Can&#39;t believe I didn&#39;t see that overloaded method, but the solution was to specify the provider in the call get Keystore.getInstance(&quot;PKCS12&quot;, &quot;BC&quot;).","title":"Algorithm HmacPBESHA256 not available","body":"<p>So, I have written some code to take a PEM, add it to a PKCS keystore via bouncycastle, and then use java crypto to import the PKCS keystore value into a JKS keystore.</p>\n\n<p>I swear that yesterday I had a unit test pass successfully having executed these steps, but this morning I started hitting this</p>\n\n<pre><code>Caused by: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\n    at javax.crypto.Mac.getInstance(Mac.java:181) ~[na:1.8.0_60]\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2039) ~[na:1.8.0_65]\n</code></pre>\n\n<p>Now, it's always possible something changed underneath me but I cannot figure out what it was.  It seems whatever provider I <em>was</em> using for that algorithm has since disappeared. </p>\n\n<p>here's my java.security file snippet:</p>\n\n<pre><code>security.provider.1=sun.security.provider.Sun\nsecurity.provider.2=sun.security.rsa.SunRsaSign\nsecurity.provider.3=sun.security.ec.SunEC\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider\nsecurity.provider.5=com.sun.crypto.provider.SunJCE\nsecurity.provider.6=sun.security.jgss.SunProvider\nsecurity.provider.7=com.sun.security.sasl.Provider\nsecurity.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRI\nsecurity.provider.9=sun.security.smartcardio.SunPCSC\nsecurity.provider.10=apple.security.AppleProvider\n</code></pre>\n\n<p>There's not a whole lot to the code.  First I create a PKCS keystore via bouncycastle, adding a pem and saving to disk as PKCS12. Then import via java crypto, saving back out as JKS.</p>\n\n<pre><code>   public KeystoreBuilder createJksFromPem(String pemPrivate, String pemPublic, String alias) throws Exception\n    {\n        Preconditions.checkState(StringUtils.isNotEmpty(pemPrivate), \"pemPrivate must not be empty\");\n        Preconditions.checkState(StringUtils.isNotEmpty(pemPublic), \"pemPublic must not be empty\");\n        Preconditions.checkState(StringUtils.isNotEmpty(alias), \"alias must not be empty\");\n\n        String pkcsFilename = filename + \".pkcs\";\n        convertPemToPkcs(pemPrivate, pemPublic, pkcsFilename);\n\n        importPkcsIntoJks(pkcsFilename);\n\n        return this;\n    }\n\n    private void importPkcsIntoJks(String pkcsFilename) throws Exception\n    {\n        KeyStore pkcs = KeyStore.getInstance(\"PKCS12\");\n        File pkcsFile = new File(pkcsFilename);\n        try (FileInputStream fis = new FileInputStream(pkcsFile))\n        {\n            pkcs.load(fis, password.toCharArray());\n        }\n        pkcsFile.delete();\n\n        KeyStore jks = KeyStore.getInstance(\"JKS\");\n        jks.load(null);\n\n        Enumeration&lt;String&gt; aliases = pkcs.aliases();\n        while (aliases.hasMoreElements())\n        {\n            String alias = aliases.nextElement();\n            if (!pkcs.isKeyEntry(alias))\n            {\n                continue;\n            }\n            Key key = pkcs.getKey(alias, password.toCharArray());\n            Certificate[] chain = pkcs.getCertificateChain(alias);\n\n            jks.setKeyEntry(alias, key, password.toCharArray(), chain);\n        }\n\n        persist(jks);\n    }\n\n    private void convertPemToPkcs(String pemPrivate, String pemPublic, String pkcsFilename) throws IOException, NoSuchAlgorithmException, OperatorCreationException, PKCSException, FileNotFoundException\n    {\n        Security.addProvider(new BouncyCastleProvider());\n\n        X509CertificateHolder cert = (X509CertificateHolder) readObject(pemPublic);\n        PEMKeyPair keyPair = (PEMKeyPair) readObject(pemPrivate);\n\n        JcaX509ExtensionUtils extUtils = new JcaX509ExtensionUtils();\n        PKCS12SafeBagBuilder pkcs12BagBuilder = new PKCS12SafeBagBuilder(cert);\n        pkcs12BagBuilder.addBagAttribute(PKCSObjectIdentifiers.pkcs_9_at_friendlyName, new DERBMPString(\"Kafka SSL Certificate\"));\n        pkcs12BagBuilder.addBagAttribute(PKCSObjectIdentifiers.pkcs_9_at_localKeyId, extUtils.createSubjectKeyIdentifier(keyPair.getPublicKeyInfo()));\n\n        PKCS12PfxPduBuilder builder = new PKCS12PfxPduBuilder();\n\n        builder.addData(pkcs12BagBuilder.build());\n\n        builder.addEncryptedData(new JcePKCSPBEOutputEncryptorBuilder(PKCSObjectIdentifiers.pbeWithSHAAnd128BitRC2_CBC).setProvider(\"BC\").build(password.toCharArray()), pkcs12BagBuilder.build());\n\n        PKCS12PfxPdu pfx = builder.build(new JcePKCS12MacCalculatorBuilder(NISTObjectIdentifiers.id_sha256), password.toCharArray());\n\n        try (FileOutputStream fos = new FileOutputStream(new File(pkcsFilename)))\n        {\n            fos.write(pfx.getEncoded(ASN1Encoding.DL));\n        }\n    }\n</code></pre>\n\n<p>and boom it blows up on </p>\n\n<pre><code>pkcs.load(fis, password.toCharArray());\n</code></pre>\n\n<p>As you can see, the BouncyCastleProvider was added explicitly. Any suggestions? </p>\n\n<p>UPDATE: Thanks dave_thompson_085 for the suggestion.  Can't believe I didn't see that overloaded method, but the solution was to specify the provider in the call get Keystore.getInstance(\"PKCS12\", \"BC\").</p>\n"},{"tags":["java","spring-boot","openapi","openapi-generator","springdoc"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1675707491,"post_id":75323201,"comment_id":132982751,"body_markdown":"Which version of `openapi-generator` are you using?","body":"Which version of <code>openapi-generator</code> are you using?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1677272760,"post_id":75323201,"comment_id":133312032,"body_markdown":"This issue is fixed now with version 6.4.0. Refers to: https://stackoverflow.com/questions/75477445/openapi-generator-duplicates-the-endpoint-in-swagger-ui","body":"This issue is fixed now with version 6.4.0. Refers to: <a href=\"https://stackoverflow.com/questions/75477445/openapi-generator-duplicates-the-endpoint-in-swagger-ui\" title=\"openapi generator duplicates the endpoint in swagger ui\">stackoverflow.com/questions/75477445/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675348168,"creation_date":1675348168,"answer_id":75324618,"question_id":75323201,"body_markdown":"Rather than using the multi-word tag &quot;academic degrees&quot; use a single word everywhere, eg &quot;AcademicDegrees&quot; or &quot;academic_decrees&quot;.","title":"How can I control tag name on API in OpenAPI Spring generator?","body":"<p>Rather than using the multi-word tag &quot;academic degrees&quot; use a single word everywhere, eg &quot;AcademicDegrees&quot; or &quot;academic_decrees&quot;.</p>\n"}],"owner":{"account_id":2402264,"reputation":177,"user_id":2099689,"display_name":"Frederik H&#248;jlund"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675348168,"creation_date":1675340936,"question_id":75323201,"body_markdown":"I have an openapi spec with multiple endpoints. I have included two in this example:\r\n\r\n\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n   ...\r\nservers:\r\n   ...\r\ntags:\r\n    - name: academic degrees\r\n      description: academic degrees description here\r\npaths:\r\n    /education/academicdegrees:\r\n        get:\r\n            tags:\r\n                - academic degrees\r\n            summary: Returns all the academic degrees\r\n            operationId: getAcademicDegrees\r\n            responses:\r\n                ...\r\n    /education/academicdegrees/{id}:\r\n        get:\r\n            tags:\r\n                - academic degrees\r\n            summary: Returns the academic degree with the requested id\r\n            operationId: getAcademicDegree\r\n            parameters:\r\n                ...\r\n            responses:\r\n                200:\r\n                    ...\r\n```\r\n\r\nI use the Openapi generator maven plugin to generate api classes. The generator is &quot;spring&quot; with these config options:\r\n\r\n\r\n```\r\n&lt;configOptions&gt;\r\n        &lt;verbose&gt;true&lt;/verbose&gt;\r\n        &lt;templateDirectory&gt;templates&lt;/templateDirectory&gt;\r\n        &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n        &lt;documentationProvider&gt;springdoc&lt;/documentationProvider&gt;\r\n        &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n        &lt;useTags&gt;true&lt;/useTags&gt;\r\n&lt;/configOptions&gt;\r\n```\r\n\r\nThis results in this Api file called AcademicDegreesApi. I have omitted the second endpoint.\r\n\r\n\r\n```\r\nGenerated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-02-02T11:47:50.034894501+01:00[Europe/Copenhagen]&quot;)\r\n@Validated\r\n@Tag(name = &quot;AcademicDegrees&quot;, description = &quot;academic degrees description here&quot;)\r\npublic interface AcademicDegreesApi {\r\n\r\n    ...\r\n\r\n    @Operation(\r\n        operationId = &quot;getAcademicDegree&quot;,\r\n        summary = &quot;Returns the academic degree with the requested id&quot;,\r\n        tags = { &quot;academic degrees&quot; },\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;successful operation&quot;, content = {\r\n                @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = AcademicDegreeDTO.class))\r\n            })\r\n        },\r\n        security = {\r\n            @SecurityRequirement(name = &quot;ApiKeyAuth&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.GET,\r\n        value = &quot;/uddbase/academicdegrees/{id}&quot;,\r\n        produces = { &quot;application/json&quot; }\r\n    )\r\n    default ResponseEntity&lt;AcademicDegreeDTO&gt; getAcademicDegree(\r\n        @Parameter(name = &quot;id&quot;, description = &quot;UUID of an academic degree&quot;, required = true) @PathVariable(&quot;id&quot;) UUID id\r\n    ) {\r\n        return getDelegate().getAcademicDegree(id);\r\n    }\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\nThe class has the decorator Tag with name = &quot;AcademicDegrees&quot; while the individual endpoints are tagged with &quot;academic degrees&quot; as in the spec file. This causes the swagger UI to display duplicate endpoints:\r\n\r\n[![duplicate swagger-ui endpoints](https://i.stack.imgur.com/iEK1G.png)](https://i.stack.imgur.com/iEK1G.png)\r\n\r\nI would like to have both the api tag name and the controller tag name to be &quot;academic degrees&quot;\r\n\r\nHow can I avoid these duplicates and how can I control the tag name defined in the api decorator?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have tried to remove the tags from the spec and this causes no tags on the individual endpoints but only on the api. The api class then takes the name &quot;EducationApi&quot; from the paths defined.\r\nI want to avoid this because I have many endpoints in this spec and want to group them with tags in order to have the swagger-ui nice and neat.","title":"How can I control tag name on API in OpenAPI Spring generator?","body":"<p>I have an openapi spec with multiple endpoints. I have included two in this example:</p>\n<pre><code>openapi: 3.0.1\ninfo:\n   ...\nservers:\n   ...\ntags:\n    - name: academic degrees\n      description: academic degrees description here\npaths:\n    /education/academicdegrees:\n        get:\n            tags:\n                - academic degrees\n            summary: Returns all the academic degrees\n            operationId: getAcademicDegrees\n            responses:\n                ...\n    /education/academicdegrees/{id}:\n        get:\n            tags:\n                - academic degrees\n            summary: Returns the academic degree with the requested id\n            operationId: getAcademicDegree\n            parameters:\n                ...\n            responses:\n                200:\n                    ...\n</code></pre>\n<p>I use the Openapi generator maven plugin to generate api classes. The generator is &quot;spring&quot; with these config options:</p>\n<pre><code>&lt;configOptions&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n        &lt;templateDirectory&gt;templates&lt;/templateDirectory&gt;\n        &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n        &lt;documentationProvider&gt;springdoc&lt;/documentationProvider&gt;\n        &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n        &lt;useTags&gt;true&lt;/useTags&gt;\n&lt;/configOptions&gt;\n</code></pre>\n<p>This results in this Api file called AcademicDegreesApi. I have omitted the second endpoint.</p>\n<pre><code>Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-02-02T11:47:50.034894501+01:00[Europe/Copenhagen]&quot;)\n@Validated\n@Tag(name = &quot;AcademicDegrees&quot;, description = &quot;academic degrees description here&quot;)\npublic interface AcademicDegreesApi {\n\n    ...\n\n    @Operation(\n        operationId = &quot;getAcademicDegree&quot;,\n        summary = &quot;Returns the academic degree with the requested id&quot;,\n        tags = { &quot;academic degrees&quot; },\n        responses = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;successful operation&quot;, content = {\n                @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = AcademicDegreeDTO.class))\n            })\n        },\n        security = {\n            @SecurityRequirement(name = &quot;ApiKeyAuth&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.GET,\n        value = &quot;/uddbase/academicdegrees/{id}&quot;,\n        produces = { &quot;application/json&quot; }\n    )\n    default ResponseEntity&lt;AcademicDegreeDTO&gt; getAcademicDegree(\n        @Parameter(name = &quot;id&quot;, description = &quot;UUID of an academic degree&quot;, required = true) @PathVariable(&quot;id&quot;) UUID id\n    ) {\n        return getDelegate().getAcademicDegree(id);\n    }\n\n    ...\n\n}\n</code></pre>\n<p>The class has the decorator Tag with name = &quot;AcademicDegrees&quot; while the individual endpoints are tagged with &quot;academic degrees&quot; as in the spec file. This causes the swagger UI to display duplicate endpoints:</p>\n<p><a href=\"https://i.stack.imgur.com/iEK1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iEK1G.png\" alt=\"duplicate swagger-ui endpoints\" /></a></p>\n<p>I would like to have both the api tag name and the controller tag name to be &quot;academic degrees&quot;</p>\n<p>How can I avoid these duplicates and how can I control the tag name defined in the api decorator?</p>\n<p>I have tried to remove the tags from the spec and this causes no tags on the individual endpoints but only on the api. The api class then takes the name &quot;EducationApi&quot; from the paths defined.\nI want to avoid this because I have many endpoints in this spec and want to group them with tags in order to have the swagger-ui nice and neat.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675336085,"post_id":75321757,"comment_id":132908716,"body_markdown":"Aside from my answer, since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444) will help. Here is the corresponding [repo](https://github.com/alexmamo/FilterFirestoreResults). It&#39;s for Firestore, but you can simply adapt it to the Realtime Database.","body":"Aside from my answer, since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FilterFirestoreResults\" rel=\"nofollow noreferrer\">repo</a>. It&#39;s for Firestore, but you can simply adapt it to the Realtime Database."}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675405430,"post_id":75322248,"comment_id":132925956,"body_markdown":"Hey Rahul. Did my answer help? Can I help you with other information?","body":"Hey Rahul. Did my answer help? Can I help you with other information?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675335965,"creation_date":1675335965,"answer_id":75322248,"question_id":75321757,"body_markdown":"&gt; only search from the starting not in between\r\n\r\nThat&#39;s expected behavior since you are performing a call to [Query#startAt()][1] which:\r\n\r\n&gt; Creates a query constrained to only return child nodes with a value greater than or equal to the given value, using the given orderBy directive or priority as default.\r\n\r\nHowever, if you need to search for a substring, please note that this is not possible. You can only perform queries that match a string that starts with a specific string or starts with a range of strings.\r\n\r\nIf you think to download an entire node to search for fields client-side, please note that this solution isn&#39;t practical at all. To enable a full-text search for your Firebase Realtime Database data, I recommend you use a third-party search service like [Algolia][2] or [Elasticsearch][3].\r\n\r\nIf you consider at some point in time to try using [Cloud Firestore](https://firebase.google.com/docs/firestore/), please see the following example:\r\n\r\n* https://stackoverflow.com/questions/49596610/is-it-possible-to-use-algolia-query-in-firestorerecycleroptions/49607796\r\n\r\nTo see how it works with Cloud Firestore but in the same way, you can use it with Firebase Realtime Database.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#startAt(java.lang.String)\r\n  [2]: https://www.algolia.com/\r\n  [3]: https://www.elastic.co/","title":"I want it to search anywhere between the text in firebase database","body":"<blockquote>\n<p>only search from the starting not in between</p>\n</blockquote>\n<p>That's expected behavior since you are performing a call to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#startAt(java.lang.String)\" rel=\"nofollow noreferrer\">Query#startAt()</a> which:</p>\n<blockquote>\n<p>Creates a query constrained to only return child nodes with a value greater than or equal to the given value, using the given orderBy directive or priority as default.</p>\n</blockquote>\n<p>However, if you need to search for a substring, please note that this is not possible. You can only perform queries that match a string that starts with a specific string or starts with a range of strings.</p>\n<p>If you think to download an entire node to search for fields client-side, please note that this solution isn't practical at all. To enable a full-text search for your Firebase Realtime Database data, I recommend you use a third-party search service like <a href=\"https://www.algolia.com/\" rel=\"nofollow noreferrer\">Algolia</a> or <a href=\"https://www.elastic.co/\" rel=\"nofollow noreferrer\">Elasticsearch</a>.</p>\n<p>If you consider at some point in time to try using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, please see the following example:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49596610/is-it-possible-to-use-algolia-query-in-firestorerecycleroptions/49607796\">Is it possible to use Algolia query in FirestoreRecyclerOptions?</a></li>\n</ul>\n<p>To see how it works with Cloud Firestore but in the same way, you can use it with Firebase Realtime Database.</p>\n"}],"owner":{"account_id":19757039,"reputation":11,"user_id":14467091,"display_name":"rahul verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675347857,"answer_count":1,"score":0,"last_activity_date":1675347928,"creation_date":1675333635,"question_id":75321757,"body_markdown":"This is my code to search in the firebase database but it only searches from the start not in between.\r\n\r\n ```java \r\nprivate void processSearch(String query) {\r\n        Query query1 = databaseReference.child(&quot;posts&quot;).orderByChild(&quot;bookName&quot;).startAt(query).endAt(query+&quot;\\uf8ff&quot;);\r\n        query1.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    AllPostItemHelper itemHelper = dataSnapshot.getValue(AllPostItemHelper.class);\r\n                    itemHelper.setPostId(dataSnapshot.getKey());\r\n                    allPostItemSearch.add(itemHelper);\r\n                }\r\n                AllPostItemAdapter allPostItemAdapter = new AllPostItemAdapter(allPostItemSearch,getContext());\r\n                postThings.setAdapter(allPostItemAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                \r\n            }\r\n        });\r\n    }\r\n\r\n} \r\n```\r\n\r\n","title":"I want it to search anywhere between the text in firebase database","body":"<p>This is my code to search in the firebase database but it only searches from the start not in between.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void processSearch(String query) {\n       Query query1 = databaseReference.child(&quot;posts&quot;).orderByChild(&quot;bookName&quot;).startAt(query).endAt(query+&quot;\\uf8ff&quot;);\n       query1.addValueEventListener(new ValueEventListener() {\n           @Override\n           public void onDataChange(@NonNull DataSnapshot snapshot) {\n               for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                   AllPostItemHelper itemHelper = dataSnapshot.getValue(AllPostItemHelper.class);\n                   itemHelper.setPostId(dataSnapshot.getKey());\n                   allPostItemSearch.add(itemHelper);\n               }\n               AllPostItemAdapter allPostItemAdapter = new AllPostItemAdapter(allPostItemSearch,getContext());\n               postThings.setAdapter(allPostItemAdapter);\n           }\n\n           @Override\n           public void onCancelled(@NonNull DatabaseError error) {\n               \n           }\n       });\n   }\n\n} \n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1675347857,"post_id":75324479,"comment_id":132912902,"body_markdown":"Does this answer your question? [fatal error compiling invalid flag --module-path](https://stackoverflow.com/questions/46118716/fatal-error-compiling-invalid-flag-module-path)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46118716/fatal-error-compiling-invalid-flag-module-path\">fatal error compiling invalid flag --module-path</a>"}],"owner":{"account_id":27685903,"reputation":1,"user_id":21133670,"display_name":"retreiver13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675347779,"creation_date":1675347535,"question_id":75324479,"body_markdown":"I am building a java project in IntelliJ and using maven to compile the java code .\r\n\r\nFollowing is the error message i get when I execute  \r\n`mvn clean compile -X`  \r\ncommand on the terminal .\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project testpipeline: Fatal error compiling: invalid flag: --module-path -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project testpipeline: `your text`Fatal error compiling \r\n```\r\nHow can this error be fixed ?\r\n\r\nI tried editing the settings.xml file to exclude the module-info.java file , but that did not work.","title":"How do I fix &quot;Fatal error compiling: invalid flag: --module-path&quot; build failure when compiling java code in IntelliJ using Maven","body":"<p>I am building a java project in IntelliJ and using maven to compile the java code .</p>\n<p>Following is the error message i get when I execute<br />\n<code>mvn clean compile -X</code><br />\ncommand on the terminal .</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project testpipeline: Fatal error compiling: invalid flag: --module-path -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project testpipeline: `your text`Fatal error compiling \n</code></pre>\n<p>How can this error be fixed ?</p>\n<p>I tried editing the settings.xml file to exclude the module-info.java file , but that did not work.</p>\n"},{"tags":["java","scala","synchronized"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":1,"creation_date":1675344378,"post_id":75321264,"comment_id":132911571,"body_markdown":"This is nether valid Java nor Scala so it&#39;s hard to tell what this code is supposed to do.","body":"This is nether valid Java nor Scala so it&#39;s hard to tell what this code is supposed to do."}],"answers":[{"tags":[],"owner":{"account_id":4301943,"reputation":1210,"user_id":3515470,"display_name":"Meir Maor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675347771,"creation_date":1675347771,"answer_id":75324533,"question_id":75321264,"body_markdown":"In the JVM any Object can be used as a lock, and often we want just a lock so we create an empty lock object. We can then synchronize on it, as opposed to other usage of synchronize without an explicit lock object which synchronize on &quot;this&quot; implicitly. \r\n\r\nyou can take any object let&#39;s call it &quot;lock&quot; as in your example and do\r\nlock.synchronized {\r\n...\r\n}\r\n\r\nin your example there is also use of scala infix notation which can confuse some to avoid the &quot;.&quot;","title":"Is there different scala lock synchronized usage?","body":"<p>In the JVM any Object can be used as a lock, and often we want just a lock so we create an empty lock object. We can then synchronize on it, as opposed to other usage of synchronize without an explicit lock object which synchronize on &quot;this&quot; implicitly.</p>\n<p>you can take any object let's call it &quot;lock&quot; as in your example and do\nlock.synchronized {\n...\n}</p>\n<p>in your example there is also use of scala infix notation which can confuse some to avoid the &quot;.&quot;</p>\n"}],"owner":{"account_id":19593399,"reputation":11,"user_id":14339942,"display_name":"anatmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675347771,"creation_date":1675331233,"question_id":75321264,"body_markdown":"I learned that in scala we can use synchronized like next\r\n\r\n1. synchronized(Object)\r\n2. function with synchronized\r\n\r\nHowever i found some codes\r\n\r\n```\r\nObject synchronized{\r\n....\r\n}\r\n\r\n\r\nlock = new Object\r\nlock synchronized{\r\n....\r\n}\r\n```\r\n\r\ndo they work same? or work differently?\r\n\r\nactually i tried to find special grammers but i couldn&#39;t find them\r\n\r\ni need docs or pages to check it","title":"Is there different scala lock synchronized usage?","body":"<p>I learned that in scala we can use synchronized like next</p>\n<ol>\n<li>synchronized(Object)</li>\n<li>function with synchronized</li>\n</ol>\n<p>However i found some codes</p>\n<pre><code>Object synchronized{\n....\n}\n\n\nlock = new Object\nlock synchronized{\n....\n}\n</code></pre>\n<p>do they work same? or work differently?</p>\n<p>actually i tried to find special grammers but i couldn't find them</p>\n<p>i need docs or pages to check it</p>\n"},{"tags":["java","vaadin","vaadin-fusion"],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675347578,"creation_date":1675345141,"answer_id":75324009,"question_id":75322982,"body_markdown":"`@ClientCallable` doesn&#39;t &quot;know&quot; how to deserialize the received JSON into some specific Java object. Only simple primitive values are supported.\r\n\r\nIf you want to send a complex object, then you can work around that by creating an explicit JSON string in the browser using `JSON.stringify(object)`, receiving that as a `String` argument to the `@ClientCallable` method and using a JSON library such as Jackson configured in an way that is appropriate for your Java types.","title":"why calling vaadin method @ClientCallable with object return error?","body":"<p><code>@ClientCallable</code> doesn't &quot;know&quot; how to deserialize the received JSON into some specific Java object. Only simple primitive values are supported.</p>\n<p>If you want to send a complex object, then you can work around that by creating an explicit JSON string in the browser using <code>JSON.stringify(object)</code>, receiving that as a <code>String</code> argument to the <code>@ClientCallable</code> method and using a JSON library such as Jackson configured in an way that is appropriate for your Java types.</p>\n"}],"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75324009,"answer_count":1,"score":0,"last_activity_date":1675347578,"creation_date":1675339902,"question_id":75322982,"body_markdown":"I use vaadin 23.\r\nI pass a list of book objects to the client via properties, and when I want to send back a book object by using @ClientCallable getting a type error.\r\n\r\n**Error:**\r\n```\r\n    java.lang.IllegalArgumentException: Class &#39;com.lib.web.business.book.BookDetailDesign&#39; has the method &#39;onClickBook&#39; whose parameter 0 refers to unsupported type &#39;com.lib.web.business.book.entities.Book&#39;\r\n```\r\n\r\n```\r\n    public class Book implements Serializable\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n        private int idBook;\r\n        private String name;\r\n    } \r\n    public void onBookClicking(Book b)\r\n        {\r\n            System.out.println(&quot;BookID: &quot;+q.getIdBook( ) );\r\n            System.out.println(&quot;Category: &quot;+q.getCategory( ) );\r\n            \r\n            getUI( ).ifPresent( ui -&gt; ui.navigate( BookDetailDesign.class, URLEncoder.encode( b.getName( ).replace( &quot;?&quot;, &quot;%3F&quot; ), StandardCharsets.UTF_8 ) ) );\r\n        }\r\n```","title":"why calling vaadin method @ClientCallable with object return error?","body":"<p>I use vaadin 23.\nI pass a list of book objects to the client via properties, and when I want to send back a book object by using @ClientCallable getting a type error.</p>\n<p><strong>Error:</strong></p>\n<pre><code>    java.lang.IllegalArgumentException: Class 'com.lib.web.business.book.BookDetailDesign' has the method 'onClickBook' whose parameter 0 refers to unsupported type 'com.lib.web.business.book.entities.Book'\n</code></pre>\n<pre><code>    public class Book implements Serializable\n    {\n        private static final long serialVersionUID = 1L;\n        private int idBook;\n        private String name;\n    } \n    public void onBookClicking(Book b)\n        {\n            System.out.println(&quot;BookID: &quot;+q.getIdBook( ) );\n            System.out.println(&quot;Category: &quot;+q.getCategory( ) );\n            \n            getUI( ).ifPresent( ui -&gt; ui.navigate( BookDetailDesign.class, URLEncoder.encode( b.getName( ).replace( &quot;?&quot;, &quot;%3F&quot; ), StandardCharsets.UTF_8 ) ) );\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","drools","kogito"],"answers":[{"comments":[{"owner":{"account_id":3535159,"reputation":185,"user_id":2953664,"display_name":"Eugene Shvartsman"},"score":0,"creation_date":1675358154,"post_id":75324467,"comment_id":132916734,"body_markdown":"I see, I didn&#39;t realize Spring Boot support was completely taken out of Drools and moved into Kogito. I&#39;m still having trouble figuring out where that line of separation is. Does this mean Drools no longer has Spring Boot support natively?     \n\nI started this project using Kogito and moved away b/c I was getting this error even when trying to run the rules in Unit Tests. I guess I&#39;ll try to go back to Kogito and see if I can resolve this issue there. \n\nThank you again for your help!","body":"I see, I didn&#39;t realize Spring Boot support was completely taken out of Drools and moved into Kogito. I&#39;m still having trouble figuring out where that line of separation is. Does this mean Drools no longer has Spring Boot support natively?       I started this project using Kogito and moved away b/c I was getting this error even when trying to run the rules in Unit Tests. I guess I&#39;ll try to go back to Kogito and see if I can resolve this issue there.   Thank you again for your help!"},{"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"score":0,"creation_date":1675410835,"post_id":75324467,"comment_id":132927033,"body_markdown":"No one said Drools does not support Spring Boot. What I&#39;ve affirmed that using Kogito is typicall better suited for most projects and should be easier for new projects to onboard for Rules, Decision and Workflow, especially in a cloud-native setting such as Kubernetes.","body":"No one said Drools does not support Spring Boot. What I&#39;ve affirmed that using Kogito is typicall better suited for most projects and should be easier for new projects to onboard for Rules, Decision and Workflow, especially in a cloud-native setting such as Kubernetes."},{"owner":{"account_id":3535159,"reputation":185,"user_id":2953664,"display_name":"Eugene Shvartsman"},"score":0,"creation_date":1675439358,"post_id":75324467,"comment_id":132935736,"body_markdown":"I see. I only mentioned this because Spring was removed from the Drools documentation in version 8.","body":"I see. I only mentioned this because Spring was removed from the Drools documentation in version 8."}],"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1675347462,"creation_date":1675347462,"answer_id":75324467,"question_id":75317939,"body_markdown":"For best integration of Drools with Spring Boot and per your StackOverflow question tags, you should consider using Kogito --and therefore using the Kogito API or [Kogito Incubation API][1] (rather than just directly the Drools API).\r\n\r\n\r\n  [1]: https://blog.kie.org/2021/09/kogito-api-incubation.html","title":"RuleUnitProvider.get() throws an error when called from a Spring Boot RequestController","body":"<p>For best integration of Drools with Spring Boot and per your StackOverflow question tags, you should consider using Kogito --and therefore using the Kogito API or <a href=\"https://blog.kie.org/2021/09/kogito-api-incubation.html\" rel=\"nofollow noreferrer\">Kogito Incubation API</a> (rather than just directly the Drools API).</p>\n"}],"owner":{"account_id":3535159,"reputation":185,"user_id":2953664,"display_name":"Eugene Shvartsman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75324467,"answer_count":1,"score":0,"last_activity_date":1675347462,"creation_date":1675302989,"question_id":75317939,"body_markdown":"I have a spring-boot project that uses \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-ruleunits-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;8.33.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI have rules set up using a RuleUnit and everything works correctly when running basic Unit Tests. In my Unit Tests I use this line: `RuleUnitProvider.get().createRuleUnitInstance(requestAccessUnit);` to create a RuleUnitInstance and it works w/o issue. \r\n\r\nHowever, when I try to instantiate the same RuleUnitInstance in my `@RequestController` I get the following error: \r\n```\r\njava.lang.RuntimeException: Cannot find any rule unit for RuleUnitData of class:yyyy.xxxx.zzzz.RuleUnit\r\n```\r\n\r\nThe previous log statement shows `KieProject - No files found for KieBase defaultKieBase` which leads me to believe that it&#39;s not able to load the rule files into the KieBase. \r\n\r\nDo I have to use the `kie-maven-plugin` and change my package to `kjar` in order for this to work? Is there a way to get this to work w/o using the `kjar` packaging? The way our build is set up makes it very problematic to use kjar.\r\n\r\nI didn&#39;t see a lot [in the documentation][1] regarding using RuleUnits in Spring Boot so I am not sure how to proceed. I tried doing this in Kogito as well and ran into the same issue. \r\n\r\n\r\n  [1]: https://docs.drools.org/8.29.0.Final/drools-docs/docs-website/drools/KIE/index.html#_client_code","title":"RuleUnitProvider.get() throws an error when called from a Spring Boot RequestController","body":"<p>I have a spring-boot project that uses</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-ruleunits-engine&lt;/artifactId&gt;\n            &lt;version&gt;8.33.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have rules set up using a RuleUnit and everything works correctly when running basic Unit Tests. In my Unit Tests I use this line: <code>RuleUnitProvider.get().createRuleUnitInstance(requestAccessUnit);</code> to create a RuleUnitInstance and it works w/o issue.</p>\n<p>However, when I try to instantiate the same RuleUnitInstance in my <code>@RequestController</code> I get the following error:</p>\n<pre><code>java.lang.RuntimeException: Cannot find any rule unit for RuleUnitData of class:yyyy.xxxx.zzzz.RuleUnit\n</code></pre>\n<p>The previous log statement shows <code>KieProject - No files found for KieBase defaultKieBase</code> which leads me to believe that it's not able to load the rule files into the KieBase.</p>\n<p>Do I have to use the <code>kie-maven-plugin</code> and change my package to <code>kjar</code> in order for this to work? Is there a way to get this to work w/o using the <code>kjar</code> packaging? The way our build is set up makes it very problematic to use kjar.</p>\n<p>I didn't see a lot <a href=\"https://docs.drools.org/8.29.0.Final/drools-docs/docs-website/drools/KIE/index.html#_client_code\" rel=\"nofollow noreferrer\">in the documentation</a> regarding using RuleUnits in Spring Boot so I am not sure how to proceed. I tried doing this in Kogito as well and ran into the same issue.</p>\n"},{"tags":["java","csv","exception","nullpointerexception","inputstream"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675347517,"post_id":75324451,"comment_id":132912796,"body_markdown":"If you want to use `getResourceAsStream` then the file you want to read should be in `resources/` (right next to `java/` where your source code lives). I mean technically it needs to be on the classpath, but what I said is how to *get it on* the classpath in your usual maven builds.","body":"If you want to use <code>getResourceAsStream</code> then the file you want to read should be in <code>resources&#47;</code> (right next to <code>java&#47;</code> where your source code lives). I mean technically it needs to be on the classpath, but what I said is how to <i>get it on</i> the classpath in your usual maven builds."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675348135,"post_id":75324451,"comment_id":132913015,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675348524,"post_id":75324451,"comment_id":132913204,"body_markdown":"Wait: I just realized that your packages are called `main.java.br....` which is ... bad, your `br` directory should be directly in `src` the way your project is set up (with a corresponding change to your `package` statements). And the `acoes.csv` should then be directly inside the `src/` directory (i.e. next to where the `Questoes.java` should go) as well.","body":"Wait: I just realized that your packages are called <code>main.java.br....</code> which is ... bad, your <code>br</code> directory should be directly in <code>src</code> the way your project is set up (with a corresponding change to your <code>package</code> statements). And the <code>acoes.csv</code> should then be directly inside the <code>src&#47;</code> directory (i.e. next to where the <code>Questoes.java</code> should go) as well."},{"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"score":0,"creation_date":1675350365,"post_id":75324451,"comment_id":132913905,"body_markdown":"I moved the file and the directory, but the project still don&#39;t running","body":"I moved the file and the directory, but the project still don&#39;t running"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675356738,"post_id":75324451,"comment_id":132916198,"body_markdown":"Please [edit] the question to show the current state of your code. Did you move `acoes.csv` into your `src` folder?","body":"Please <a href=\"https://stackoverflow.com/posts/75324451/edit\">edit</a> the question to show the current state of your code. Did you move <code>acoes.csv</code> into your <code>src</code> folder?"}],"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675347416,"creation_date":1675347416,"question_id":75324451,"body_markdown":"I have a csv file that my class with the code below is trying to read that data to use in my project, but when i run the project, I have a NullPointerException like the csv file is null, but he isn&#39;t. The path of the csv file is right and apparently I don&#39;t have any error in my class too, what I am missing?\r\n\r\n\r\n```\r\npackage main.java.br.com.quantumfinance.selecaoEstagio.leitor;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class LeitorDeArquivo {\r\n\r\n    public List&lt;String&gt; lerArquivo() {\r\n\r\n        try (InputStream resourceAsStream = LeitorDeArquivo.class.getResourceAsStream(&quot;/acoes.csv&quot;)) {\r\n            // Leitura do arquivo.\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(resourceAsStream));\r\n            // ignora a primeira linha\r\n            br.readLine();\r\n            List&lt;String&gt; cotacoes = new ArrayList&lt;&gt;();\r\n\r\n            String linha;\r\n            while ((linha = br.readLine()) != null) {\r\n                cotacoes.add(linha);\r\n            }\r\n            return cotacoes;\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Arquivo no encontrado.&quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Erro de IO.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        throw new RuntimeException(&quot;Erro na leitura do arquivo, consulte o console para maiores detalhes.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the error that I receive when trying to run the project\r\n\r\n\r\n```/usr/lib/jvm/java-17-oracle/bin/java -javaagent:/snap/intellij-idea-community/409/lib/idea_rt.jar=42881:/snap/intellij-idea-community/409/bin -Dfile.encoding=UTF-8 -classpath /home/marco/teste/out main.java.Questoes\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.base/java.io.Reader.&lt;init&gt;(Reader.java:168)\r\n\tat java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:76)\r\n\tat main.java.br.com.quantumfinance.selecaoEstagio.leitor.LeitorDeArquivo.lerArquivo(LeitorDeArquivo.java:17)\r\n\tat main.java.Questoes.main(Questoes.java:26)\r\n```\r\n\r\n\r\nThis is the project structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E0aOA.png","title":"Project java NullPointerException when trying to read a csv file","body":"<p>I have a csv file that my class with the code below is trying to read that data to use in my project, but when i run the project, I have a NullPointerException like the csv file is null, but he isn't. The path of the csv file is right and apparently I don't have any error in my class too, what I am missing?</p>\n<pre><code>package main.java.br.com.quantumfinance.selecaoEstagio.leitor;\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class LeitorDeArquivo {\n\n    public List&lt;String&gt; lerArquivo() {\n\n        try (InputStream resourceAsStream = LeitorDeArquivo.class.getResourceAsStream(&quot;/acoes.csv&quot;)) {\n            // Leitura do arquivo.\n            BufferedReader br = new BufferedReader(new InputStreamReader(resourceAsStream));\n            // ignora a primeira linha\n            br.readLine();\n            List&lt;String&gt; cotacoes = new ArrayList&lt;&gt;();\n\n            String linha;\n            while ((linha = br.readLine()) != null) {\n                cotacoes.add(linha);\n            }\n            return cotacoes;\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;Arquivo no encontrado.&quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(&quot;Erro de IO.&quot;);\n            e.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Erro na leitura do arquivo, consulte o console para maiores detalhes.&quot;);\n    }\n}\n</code></pre>\n<p>This is the error that I receive when trying to run the project</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.io.Reader.&lt;init&gt;(Reader.java:168)\n    at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:76)\n    at main.java.br.com.quantumfinance.selecaoEstagio.leitor.LeitorDeArquivo.lerArquivo(LeitorDeArquivo.java:17)\n    at main.java.Questoes.main(Questoes.java:26)\n</code></pre>\n<p>This is the project structure</p>\n<p><a href=\"https://i.stack.imgur.com/E0aOA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E0aOA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1675270372,"post_id":75313440,"comment_id":132893779,"body_markdown":"Consider sending the JSON in the request body instead, then you can use Spring&#39;s `@RequestBody` instead of `@RequestParam`.","body":"Consider sending the JSON in the request body instead, then you can use Spring&#39;s <code>@RequestBody</code> instead of <code>@RequestParam</code>."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675272872,"post_id":75313440,"comment_id":132894682,"body_markdown":"Is a `flatMap` what you are seeking?","body":"Is a <code>flatMap</code> what you are seeking?"},{"owner":{"account_id":26448032,"reputation":1,"user_id":20467268,"display_name":"Roman Volosiuk"},"score":0,"creation_date":1675282994,"post_id":75313440,"comment_id":132897740,"body_markdown":"@Unmitigated i will try. Tnx.","body":"@Unmitigated i will try. Tnx."},{"owner":{"account_id":26448032,"reputation":1,"user_id":20467268,"display_name":"Roman Volosiuk"},"score":0,"creation_date":1675284768,"post_id":75313440,"comment_id":132898250,"body_markdown":"@vphilipnyc i guess not. I need to pass an object List&lt;List&lt;Boolean&gt;&gt; without any modification from thymeleaf form directly to a method parameter. Tnx.","body":"@vphilipnyc i guess not. I need to pass an object List&lt;List&lt;Boolean&gt;&gt; without any modification from thymeleaf form directly to a method parameter. Tnx."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675293789,"post_id":75313440,"comment_id":132900509,"body_markdown":"your HTML is malformed in the first example.  I don&#39;t see the closing `&lt;/tr&gt;` tag","body":"your HTML is malformed in the first example.  I don&#39;t see the closing <code>&lt;&#47;tr&gt;</code> tag"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675294002,"post_id":75313440,"comment_id":132900548,"body_markdown":"But I&#39;d also rethink this design too depending on what you&#39;re trying to do","body":"But I&#39;d also rethink this design too depending on what you&#39;re trying to do"},{"owner":{"account_id":26448032,"reputation":1,"user_id":20467268,"display_name":"Roman Volosiuk"},"score":0,"creation_date":1675340281,"post_id":75313440,"comment_id":132910102,"body_markdown":"@vphilipnyc yes,  now I fixed  the tag. Thanx.  You right, i will try to do this via JSON and RequestBody as suggested by Unmitigated","body":"@vphilipnyc yes,  now I fixed  the tag. Thanx.  You right, i will try to do this via JSON and RequestBody as suggested by Unmitigated"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675341729,"post_id":75313440,"comment_id":132910621,"body_markdown":"Your first method should be annotated with something like `@GetMapping(&quot;something&quot;)` and not  `@PostMapping`","body":"Your first method should be annotated with something like <code>@GetMapping(&quot;something&quot;)</code> and not  <code>@PostMapping</code>"},{"owner":{"account_id":26448032,"reputation":1,"user_id":20467268,"display_name":"Roman Volosiuk"},"score":0,"creation_date":1675347165,"post_id":75313440,"comment_id":132912665,"body_markdown":"@vphilipnyc This is not the first method, but part of the code. Actually, my question is how to binding List&lt;List&lt;Boolean&gt;&gt; to Request Parameters without wrapper class","body":"@vphilipnyc This is not the first method, but part of the code. Actually, my question is how to binding List&lt;List&lt;Boolean&gt;&gt; to Request Parameters without wrapper class"}],"owner":{"account_id":26448032,"reputation":1,"user_id":20467268,"display_name":"Roman Volosiuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675347323,"creation_date":1675269778,"question_id":75313440,"body_markdown":"Actually, my question is how to binding List&lt;List&lt;Boolean&gt;&gt; to Request Parameters without wrapper class\r\n\r\ni have controller&#39;s method, that send List&lt;List&lt;Boolean&gt;&gt; to Thymeleaf form:\r\n\r\n\r\n```\r\n@PostMapping()\r\n    public String initField(@RequestParam int sideLength, Model model) {\r\n\r\n        List&lt;List&lt;Boolean&gt;&gt; values = gameService.initListList(sideLength);\r\n        model.addAttribute(&quot;values&quot;, values);\r\n\r\n        return &quot;render&quot;;\r\n    }\r\n```\r\n\r\nit goes to render page and works well.\r\n\r\n```\r\n&lt;div&gt;\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;row: ${values}&quot;&gt;\r\n            &lt;td th:each=&quot;cell: ${row}&quot; th:class=&quot;${cell ? &#39;red&#39; : &#39;green&#39;}&quot;&gt;&lt;/td&gt;\r\n    &lt;/table&gt;\r\n    &lt;form action=&quot;#&quot; method=&quot;POST&quot; th:action=&quot;@{/step}&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;values&quot; th:value=&quot;${values}&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n But when I pass the same List&lt;List&lt;Bolean&gt;&gt; to the next controller&#39;s method it comes like String.\r\n\r\n\r\nI solved this problem, but maybe there is a way to get List&lt;List&lt;Boolean&gt;&gt; directly in the method argument?\r\n\r\n```\r\n    @PostMapping(&quot;/step&quot;)\r\n    public String nextStep(@RequestParam(name = &quot;values&quot;) String valuesString, Model model) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        List&lt;List&lt;Boolean&gt;&gt; values = mapper.readValue(valuesString, PAYLOAD_TYPE);\r\n        values = gameService.nextStep(values);\r\n        model.addAttribute(&quot;values&quot;, values);\r\n        return &quot;render&quot;;\r\n    }\r\n```\r\n\r\nSorry for my level of english. I keep studying\r\nThanks for your help.","title":"How to get List&lt;List&lt;Boolean&gt;&gt; from Thymeleaf form in spring-boot-mvc","body":"<p>Actually, my question is how to binding List&lt;List&gt; to Request Parameters without wrapper class</p>\n<p>i have controller's method, that send List&lt;List&gt; to Thymeleaf form:</p>\n<pre><code>@PostMapping()\n    public String initField(@RequestParam int sideLength, Model model) {\n\n        List&lt;List&lt;Boolean&gt;&gt; values = gameService.initListList(sideLength);\n        model.addAttribute(&quot;values&quot;, values);\n\n        return &quot;render&quot;;\n    }\n</code></pre>\n<p>it goes to render page and works well.</p>\n<pre><code>&lt;div&gt;\n    &lt;table&gt;\n        &lt;tr th:each=&quot;row: ${values}&quot;&gt;\n            &lt;td th:each=&quot;cell: ${row}&quot; th:class=&quot;${cell ? 'red' : 'green'}&quot;&gt;&lt;/td&gt;\n    &lt;/table&gt;\n    &lt;form action=&quot;#&quot; method=&quot;POST&quot; th:action=&quot;@{/step}&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;values&quot; th:value=&quot;${values}&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>But when I pass the same List&lt;List&gt; to the next controller's method it comes like String.</p>\n<p>I solved this problem, but maybe there is a way to get List&lt;List&gt; directly in the method argument?</p>\n<pre><code>    @PostMapping(&quot;/step&quot;)\n    public String nextStep(@RequestParam(name = &quot;values&quot;) String valuesString, Model model) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;List&lt;Boolean&gt;&gt; values = mapper.readValue(valuesString, PAYLOAD_TYPE);\n        values = gameService.nextStep(values);\n        model.addAttribute(&quot;values&quot;, values);\n        return &quot;render&quot;;\n    }\n</code></pre>\n<p>Sorry for my level of english. I keep studying\nThanks for your help.</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675334099,"post_id":75321834,"comment_id":132908033,"body_markdown":"can you provide a minimal reproducable example? The way the question is now, it is pretty hard to figure out what exactly problem you are having","body":"can you provide a minimal reproducable example? The way the question is now, it is pretty hard to figure out what exactly problem you are having"}],"answers":[{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1675335382,"post_id":75321981,"comment_id":132908486,"body_markdown":"You can perhaps use `{1,}`?","body":"You can perhaps use <code>{1,}</code>?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1675335720,"post_id":75321981,"comment_id":132908603,"body_markdown":"Unfortunately no, that will make it non-fixed width.","body":"Unfortunately no, that will make it non-fixed width."},{"owner":{"account_id":13356630,"reputation":23,"user_id":9639932,"display_name":"Animesh Panigrahi"},"score":0,"creation_date":1675339535,"post_id":75321981,"comment_id":132909845,"body_markdown":"It does work if the query contains AS","body":"It does work if the query contains AS"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1675344886,"post_id":75321981,"comment_id":132911762,"body_markdown":"@anubhava I am still able to use `\\\\w{1,}` or even `\\\\w+` in Java (17.0.1), though it is said repetition is not allowed inside look-behind. Why?","body":"@anubhava I am still able to use <code>\\\\w{1,}</code> or even <code>\\\\w+</code> in Java (17.0.1), though it is said repetition is not allowed inside look-behind. Why?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1675347287,"post_id":75321981,"comment_id":132912712,"body_markdown":"@AnimeshPanigrahi: I have modified answer to handle `AS` or `as` or `As` or `aS`.","body":"@AnimeshPanigrahi: I have modified answer to handle <code>AS</code> or <code>as</code> or <code>As</code> or <code>aS</code>."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1675347374,"post_id":75321981,"comment_id":132912741,"body_markdown":"@NikolasCharalambidis: Java regex engine (and most of the regex engines) don&#39;t allow repetitions in lookbehind because that makes lookbehind condition of dynamic length.","body":"@NikolasCharalambidis: Java regex engine (and most of the regex engines) don&#39;t allow repetitions in lookbehind because that makes lookbehind condition of dynamic length."},{"owner":{"account_id":13356630,"reputation":23,"user_id":9639932,"display_name":"Animesh Panigrahi"},"score":0,"creation_date":1675358758,"post_id":75321981,"comment_id":132916961,"body_markdown":"@anubhava, I have another question. let&#39;s say my query is :\n`SELECT DISTINCT  openpsid ,   \nFIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid`\n\n\nWhat should be my regEx in order to have the following output:\n\n[0] = SELECT DISTINCT openpsid\n\n[1] =  FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid\n\nHow to handle the cases where there is no ALIASING i.e AS keyword? I want to store all the statements before a column name.","body":"@anubhava, I have another question. let&#39;s say my query is : <code>SELECT DISTINCT  openpsid ,    FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid</code>   What should be my regEx in order to have the following output:  [0] = SELECT DISTINCT openpsid  [1] =  FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid  How to handle the cases where there is no ALIASING i.e AS keyword? I want to store all the statements before a column name."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1675359833,"post_id":75321981,"comment_id":132917319,"body_markdown":"Complex query parsing with pure regex is not easy. I suggest you post a new question with this new question so that we understand it better and suggest your best approach.","body":"Complex query parsing with pure regex is not easy. I suggest you post a new question with this new question so that we understand it better and suggest your best approach."}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675347251,"creation_date":1675334678,"answer_id":75321981,"question_id":75321834,"body_markdown":"In Java you can use this regex for splitting:\r\n\r\n```sh\r\n(?&lt;=\\s{1,99}[aA][sS]\\s{1,99}\\w{1,99})\\s*,\\s*\r\n```\r\n\r\nWe are using finite range quantifiers `{1,99}` instead of just `+` here because Java regex engine doesn&#39;t allow dynamic length look behind assertions.\r\n\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/WpFIF3/2\r\n\r\n**Java Code:**\r\n\r\n```sh\r\nString[] queryArray = internalQuery.split(\r\n   &quot;(?&lt;=\\\\s{1,99}[aA][aS]\\\\s{1,99}\\\\w{1,99})\\\\s*,\\\\s*&quot;);\r\n```\r\n\r\n**RegEx Breakdown:**\r\n\r\n- `(?&lt;=\\s{1,99}[aA][sS]\\s{1,99}\\w{1,99})`: Lookbehind assertion that makes sure that we have word `AS` (ignore case) surrounded with 1 to 99 whitespaces on either side followed by a 1+ (upto 99) word characters as alias name\r\n- `\\s*,\\s*`: Match a comma surrounded with 0 or more whitespaces on either side","title":"Splitting a string by comma that is preceded by a specific word","body":"<p>In Java you can use this regex for splitting:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;=\\s{1,99}[aA][sS]\\s{1,99}\\w{1,99})\\s*,\\s*\n</code></pre>\n<p>We are using finite range quantifiers <code>{1,99}</code> instead of just <code>+</code> here because Java regex engine doesn't allow dynamic length look behind assertions.</p>\n<p><a href=\"https://regex101.com/r/WpFIF3/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>Java Code:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>String[] queryArray = internalQuery.split(\n   &quot;(?&lt;=\\\\s{1,99}[aA][aS]\\\\s{1,99}\\\\w{1,99})\\\\s*,\\\\s*&quot;);\n</code></pre>\n<p><strong>RegEx Breakdown:</strong></p>\n<ul>\n<li><code>(?&lt;=\\s{1,99}[aA][sS]\\s{1,99}\\w{1,99})</code>: Lookbehind assertion that makes sure that we have word <code>AS</code> (ignore case) surrounded with 1 to 99 whitespaces on either side followed by a 1+ (upto 99) word characters as alias name</li>\n<li><code>\\s*,\\s*</code>: Match a comma surrounded with 0 or more whitespaces on either side</li>\n</ul>\n"}],"owner":{"account_id":13356630,"reputation":23,"user_id":9639932,"display_name":"Animesh Panigrahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75321981,"answer_count":1,"score":2,"last_activity_date":1675347251,"creation_date":1675334001,"question_id":75321834,"body_markdown":"I want to split a query by comma only if it is preceded by `AS`.\r\n\r\nA small part of My Query:\r\n \r\n\r\n    DATE_TRUNC(&#39;month&#39;, timestamp) AS month_begin_dt\r\n            ,   FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid\r\n            ,   FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS vrr\r\n\r\n\r\nI tried to split the query in java using the split() method with the following regular expression.\r\n\r\n```\r\nString[] queryArray = internalQuery.split(&quot;,(?![^\\\\(]*\\\\))&quot;);\r\n```\r\n\r\nI want my split array to have elements as:\r\n\r\n    [0] = DATE_TRUNC(&#39;month&#39;, timestamp) AS month_begin_dt\r\n    \r\n    [1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid\r\n    \r\n    [2] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS vrr\r\n\r\n\r\n\r\n**The output I am getting in the queryArray is:**\r\n\r\n    [0] = DATE_TRUNC(&#39;month&#39;, timestamp) AS month_begin_dt\r\n    \r\n    [1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid\r\n    \r\n    [2] = DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid\r\n    \r\n    [3] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid\r\n    \r\n    [4] = DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS vrr\r\n\r\n**The Desired Output in the queryArray**\r\n\r\n    [0] = DATE_TRUNC(&#39;month&#39;, timestamp) AS month_begin_dt\r\n    \r\n    [1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY\r\n    openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS monitorsessionid\r\n    \r\n    [2] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC(&#39;month&#39;, timestamp) ORDER BY timestamp DESC) AS vrr\r\n\r\n","title":"Splitting a string by comma that is preceded by a specific word","body":"<p>I want to split a query by comma only if it is preceded by <code>AS</code>.</p>\n<p>A small part of My Query:</p>\n<pre><code>DATE_TRUNC('month', timestamp) AS month_begin_dt\n        ,   FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS monitorsessionid\n        ,   FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS vrr\n</code></pre>\n<p>I tried to split the query in java using the split() method with the following regular expression.</p>\n<pre><code>String[] queryArray = internalQuery.split(&quot;,(?![^\\\\(]*\\\\))&quot;);\n</code></pre>\n<p>I want my split array to have elements as:</p>\n<pre><code>[0] = DATE_TRUNC('month', timestamp) AS month_begin_dt\n\n[1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS monitorsessionid\n\n[2] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS vrr\n</code></pre>\n<p><strong>The output I am getting in the queryArray is:</strong></p>\n<pre><code>[0] = DATE_TRUNC('month', timestamp) AS month_begin_dt\n\n[1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY openpsid\n\n[2] = DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS monitorsessionid\n\n[3] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid\n\n[4] = DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS vrr\n</code></pre>\n<p><strong>The Desired Output in the queryArray</strong></p>\n<pre><code>[0] = DATE_TRUNC('month', timestamp) AS month_begin_dt\n\n[1] = FIRST_VALUE(monitorsessionid) OVER(PARTITION BY\nopenpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS monitorsessionid\n\n[2] = FIRST_VALUE(vrr) OVER(PARTITION BY openpsid,DATE_TRUNC('month', timestamp) ORDER BY timestamp DESC) AS vrr\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code","sonarlint"],"answers":[{"comments":[{"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"score":0,"creation_date":1675346869,"post_id":75293147,"comment_id":132912556,"body_markdown":"So the only way to run a report is to first find a warning or error in the code?","body":"So the only way to run a report is to first find a warning or error in the code?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1675388512,"post_id":75293147,"comment_id":132923795,"body_markdown":"You can turn on the yellow light bulb anywhere, but I&#39;m afraid the `Show all Locations` option only exists in *SonarLint issue*. I&#39;m not very clear about the working mechanism of **SonarLint**, I just answer the doubt in your question. `but I&#39;m unclear what &quot;Show All Locations Code Action&quot; means.`","body":"You can turn on the yellow light bulb anywhere, but I&#39;m afraid the <code>Show all Locations</code> option only exists in <i>SonarLint issue</i>. I&#39;m not very clear about the working mechanism of <b>SonarLint</b>, I just answer the doubt in your question. <code>but I&#39;m unclear what &quot;Show All Locations Code Action&quot; means.</code>"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675144265,"creation_date":1675144265,"answer_id":75293147,"question_id":75286342,"body_markdown":"&gt; ## [Code Action][1]\r\n&gt;\r\n&gt; Warnings and Errors can provide Code Actions (also known as Quick Fixes) to help fix issues. These will be displayed in the editor in the left margin as a lightbulb. Clicking on the lightbulb will either display the Code Action options or perform the action.\r\n\r\n\r\nOn your code editing page, find where there are errors or warnings, and click the yellow light bulb to expand the **Code Action** menu.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOpen this menu in a place where *SonarLint issue* exists, there should be `Show all locations` option, just click it.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/editingevolved#_code-action\r\n  [2]: https://i.stack.imgur.com/TCPoy.png","title":"When using SonarLint in VSCode, how do you generate a report of local project violations?","body":"<blockquote>\n<h2><a href=\"https://code.visualstudio.com/docs/editor/editingevolved#_code-action\" rel=\"nofollow noreferrer\">Code Action</a></h2>\n<p>Warnings and Errors can provide Code Actions (also known as Quick Fixes) to help fix issues. These will be displayed in the editor in the left margin as a lightbulb. Clicking on the lightbulb will either display the Code Action options or perform the action.</p>\n</blockquote>\n<p>On your code editing page, find where there are errors or warnings, and click the yellow light bulb to expand the <strong>Code Action</strong> menu.</p>\n<p><a href=\"https://i.stack.imgur.com/TCPoy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCPoy.png\" alt=\"enter image description here\" /></a></p>\n<p>Open this menu in a place where <em>SonarLint issue</em> exists, there should be <code>Show all locations</code> option, just click it.</p>\n"}],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3688,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1675346881,"creation_date":1675091598,"question_id":75286342,"body_markdown":"I just installed the SonarLint extension for VSCode (Windows 10).  When using my Java/Maven project, how do I generate a report of all violations in my project?  When I expand the &quot;Sonar Lint Iusse List&quot; on the left, there are no issues reported (even though I know, using Eclipse, that there are many SonarLint issues), only this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut I&#39;m unclear what &quot;Show All Locations Code Action&quot; means.\r\n\r\n  [1]: https://i.stack.imgur.com/EFRNI.png","title":"When using SonarLint in VSCode, how do you generate a report of local project violations?","body":"<p>I just installed the SonarLint extension for VSCode (Windows 10).  When using my Java/Maven project, how do I generate a report of all violations in my project?  When I expand the &quot;Sonar Lint Iusse List&quot; on the left, there are no issues reported (even though I know, using Eclipse, that there are many SonarLint issues), only this</p>\n<p><a href=\"https://i.stack.imgur.com/EFRNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFRNI.png\" alt=\"enter image description here\" /></a></p>\n<p>but I'm unclear what &quot;Show All Locations Code Action&quot; means.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":26953102,"reputation":41,"user_id":20521976,"display_name":"Sanjay Kumar"},"score":0,"creation_date":1675336023,"post_id":75322211,"comment_id":132908698,"body_markdown":"even exists() returns true","body":"even exists() returns true"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675336031,"post_id":75322211,"comment_id":132908700,"body_markdown":"Can&#39;t reproduce this (on Linux with JDK 17). Maybe on Windows the rules of the filesystem are different?","body":"Can&#39;t reproduce this (on Linux with JDK 17). Maybe on Windows the rules of the filesystem are different?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675336171,"post_id":75322211,"comment_id":132908744,"body_markdown":"According to [this MS blog post](https://learn.microsoft.com/en-us/archive/blogs/jeremykuhne/path-normalization) &quot;A segment of three periods (or more) doesn&#39;t hit any of these rules and is actually a valid file/directory name.&quot; That suggests that what you have is simply the name of a file and/or directory. A weird, but valid one. Did you by chance actually *create* that directory somehow?","body":"According to <a href=\"https://learn.microsoft.com/en-us/archive/blogs/jeremykuhne/path-normalization\" rel=\"nofollow noreferrer\">this MS blog post</a> &quot;A segment of three periods (or more) doesn&#39;t hit any of these rules and is actually a valid file/directory name.&quot; That suggests that what you have is simply the name of a file and/or directory. A weird, but valid one. Did you by chance actually <i>create</i> that directory somehow?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675337304,"post_id":75322211,"comment_id":132909156,"body_markdown":"`file.getCanonicalPath()` returns `c:\\users`. Might be that the canonical path is what it actually checks under the hood","body":"<code>file.getCanonicalPath()</code> returns <code>c:\\users</code>. Might be that the canonical path is what it actually checks under the hood"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675347087,"post_id":75322211,"comment_id":132912637,"body_markdown":"@JoachimSauer And the next paragraph says: If the path doesn&#39;t end in a separator, all trailing periods and spaces () will be removed.  So it would appear that a files base name cannot consist of only consecutive periods in Windows.","body":"@JoachimSauer And the next paragraph says: If the path doesn&#39;t end in a separator, all trailing periods and spaces () will be removed.  So it would appear that a files base name cannot consist of only consecutive periods in Windows."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675347374,"post_id":75322211,"comment_id":132912740,"body_markdown":"@VGR: but the previous paragraph starts with &quot;If a segment ends in a *single* period&quot; (emphasis theirs!). Also it would be weird that they call out three or more periods as valid if the next paragraph implied the opposite.","body":"@VGR: but the previous paragraph starts with &quot;If a segment ends in a <i>single</i> period&quot; (emphasis theirs!). Also it would be weird that they call out three or more periods as valid if the next paragraph implied the opposite."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675347426,"post_id":75322211,"comment_id":132912761,"body_markdown":"Also: since these rules are quite arcane, there is a non-zero chance that Java doesn&#39;t apply the exact same rules as Windows and/or that those rules are not immutable and have been changed. So I wouldn&#39;t rule out a Java bug or even some intentional deviation from the strict Windows rules.","body":"Also: since these rules are quite arcane, there is a non-zero chance that Java doesn&#39;t apply the exact same rules as Windows and/or that those rules are not immutable and have been changed. So I wouldn&#39;t rule out a Java bug or even some intentional deviation from the strict Windows rules."}],"owner":{"account_id":26953102,"reputation":41,"user_id":20521976,"display_name":"Sanjay Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675346876,"creation_date":1675335792,"question_id":75322211,"body_markdown":"I am using Java files in one of my application.\r\n\r\n```\r\nFile file = new File(&quot;c:\\\\users\\\\......&quot;);\r\nSystem.out.println(file.isDirectory());\r\n```\r\n\r\nI don&#39;t have a directory or file in the name of &quot;......&quot;  in my users directory, but still file.isDirectory returns true, why?\r\n\r\nWhy does this happen? And how can I avoid this?","title":"Why java accepts &quot;.....&quot; as a valid directory?","body":"<p>I am using Java files in one of my application.</p>\n<pre><code>File file = new File(&quot;c:\\\\users\\\\......&quot;);\nSystem.out.println(file.isDirectory());\n</code></pre>\n<p>I don't have a directory or file in the name of &quot;......&quot;  in my users directory, but still file.isDirectory returns true, why?</p>\n<p>Why does this happen? And how can I avoid this?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1382751,"reputation":4828,"user_id":1315419,"accept_rate":44,"display_name":"Vasan"},"score":0,"creation_date":1518720161,"post_id":48814129,"comment_id":84632044,"body_markdown":"Why are you incrementing `j` twice for each iteration in your second loop? One in the loop definition, other in the if/else. Also, your first loop would&#39;ve found a max of 4, and second loop would find that 4 hasn&#39;t occurred 4 times, so returns 0. You don&#39;t take 2 into account anywhere.","body":"Why are you incrementing <code>j</code> twice for each iteration in your second loop? One in the loop definition, other in the if/else. Also, your first loop would&#39;ve found a max of 4, and second loop would find that 4 hasn&#39;t occurred 4 times, so returns 0. You don&#39;t take 2 into account anywhere."},{"owner":{"account_id":12940160,"reputation":166,"user_id":9356240,"display_name":"Tim Han"},"score":1,"creation_date":1518720498,"post_id":48814129,"comment_id":84632220,"body_markdown":"Try using `Map` to store the the element as the key and the number of occurrences as the value. You can do this with one iteration over the array. Then after storing the necessary information. See if the key matches value (the number of occurrences) and just need to check if the number is bigger than the max number you are keeping track of","body":"Try using <code>Map</code> to store the the element as the key and the number of occurrences as the value. You can do this with one iteration over the array. Then after storing the necessary information. See if the key matches value (the number of occurrences) and just need to check if the number is bigger than the max number you are keeping track of"}],"answers":[{"comments":[{"owner":{"account_id":1382751,"reputation":4828,"user_id":1315419,"accept_rate":44,"display_name":"Vasan"},"score":0,"creation_date":1518724117,"post_id":48814780,"comment_id":84634075,"body_markdown":"Wouldn&#39;t this be a worst-case O(n^2) solution? I know OP doesn&#39;t say anything about complexity but worth adding I suppose. There are O(n) and O(n log n) solutions.","body":"Wouldn&#39;t this be a worst-case O(n^2) solution? I know OP doesn&#39;t say anything about complexity but worth adding I suppose. There are O(n) and O(n log n) solutions."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1518724295,"post_id":48814780,"comment_id":84634155,"body_markdown":"Yes, @Vasan, I deliberately ignored time complexity and just tried to show a way that wasnt too far from the OPs own code and that would work for arrays of 5 elements (and probably 500 elements). Maybe I should have mentioned that the solution isnt supposed to scale. On the other hand, theres something right about my approach: write simple and readable code that works, and only if performance turns out to be a bottleneck, consider smarter alternatives.","body":"Yes, @Vasan, I deliberately ignored time complexity and just tried to show a way that wasnt too far from the OPs own code and that would work for arrays of 5 elements (and probably 500 elements). Maybe I should have mentioned that the solution isnt supposed to scale. On the other hand, theres something right about my approach: write simple and readable code that works, and only if performance turns out to be a bottleneck, consider smarter alternatives."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1518725010,"post_id":48814780,"comment_id":84634543,"body_markdown":"@Vasan, my O(n) solution is [here](https://www.ideone.com/zk3F2Q), but thats not the one the OP wants.","body":"@Vasan, my O(n) solution is <a href=\"https://www.ideone.com/zk3F2Q\" rel=\"nofollow noreferrer\">here</a>, but thats not the one the OP wants."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518722544,"creation_date":1518722544,"answer_id":48814780,"question_id":48814129,"body_markdown":"As I read your code, you find the biggest number in the array, `max`. If that number occurs exactly `max` times, no more no less, you return it, otherwise you return 0. When 3 occurs only twice, you should probably try with 2, then with 1, etc. rather than just returning 0. Also think: is it OK if the number occurs more than `max` times?\r\n\r\nYour loop for finding `max` looks fine (though convention would place `i++` inside `for (int i=0; i&lt;arr.length; i++)` and not inside the loop). After that you need a `for` loop to count down from `max` to 0, for each number `n` in that range checking if it occurs at least `n` times. You way of counting is almost correct, but as Vasan said in a comment, you are doing `j++` both in `for(int j = 0; j&lt;arr.length; j++)` *and* in the loop, that is, twice, so remove the one inside the loop. Whenever you find that `counter &gt;= n`, return `n`. If not earlier, it will happen when `n` is 0, since 0 is always present 0 times.","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<p>As I read your code, you find the biggest number in the array, <code>max</code>. If that number occurs exactly <code>max</code> times, no more no less, you return it, otherwise you return 0. When 3 occurs only twice, you should probably try with 2, then with 1, etc. rather than just returning 0. Also think: is it OK if the number occurs more than <code>max</code> times?</p>\n\n<p>Your loop for finding <code>max</code> looks fine (though convention would place <code>i++</code> inside <code>for (int i=0; i&lt;arr.length; i++)</code> and not inside the loop). After that you need a <code>for</code> loop to count down from <code>max</code> to 0, for each number <code>n</code> in that range checking if it occurs at least <code>n</code> times. You way of counting is almost correct, but as Vasan said in a comment, you are doing <code>j++</code> both in <code>for(int j = 0; j&lt;arr.length; j++)</code> <em>and</em> in the loop, that is, twice, so remove the one inside the loop. Whenever you find that <code>counter &gt;= n</code>, return <code>n</code>. If not earlier, it will happen when <code>n</code> is 0, since 0 is always present 0 times.</p>\n"},{"tags":[],"owner":{"account_id":14878716,"reputation":133,"user_id":10744050,"display_name":"Rajan Domala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639764501,"creation_date":1639764501,"answer_id":70397211,"question_id":48814129,"body_markdown":"        \r\n        import java.util.Arrays;\r\n\r\n        public class find_Biggest_Num_N_In_Array_Occures_N_times {\r\n\t     public static int Solution(int[] ar){\r\n    \t int[] counter= new int[ar.length];\r\n\t     Arrays.fill(counter, 0);\r\n\r\n\t     for(int i=0; i&lt;ar.length;i++){\r\n\t\t int pos=ar[i];\r\n\t\t counter[pos]++;\r\n\t     }\r\n\t\r\n\t    for(int j=ar.length-1;j&gt;=1;j--){\r\n\t\t  if(counter[j]==j){\r\n\t\t \treturn j;\r\n\t\t  }\r\n\t    }\r\n\t    return -1;\r\n     }\r\n\r\n\tpublic static void main(String args[]){\r\n\t\tSystem.out.println(Solution(new int[]{1,2,2,3,4,4,4,4,3,5,5,5,5,5,1}));\r\n    }\r\n    }","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<pre><code>    import java.util.Arrays;\n\n    public class find_Biggest_Num_N_In_Array_Occures_N_times {\n     public static int Solution(int[] ar){\n     int[] counter= new int[ar.length];\n     Arrays.fill(counter, 0);\n\n     for(int i=0; i&lt;ar.length;i++){\n     int pos=ar[i];\n     counter[pos]++;\n     }\n\n    for(int j=ar.length-1;j&gt;=1;j--){\n      if(counter[j]==j){\n        return j;\n      }\n    }\n    return -1;\n }\n\npublic static void main(String args[]){\n    System.out.println(Solution(new int[]{1,2,2,3,4,4,4,4,3,5,5,5,5,5,1}));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10161043,"reputation":1,"user_id":7504502,"display_name":"Bala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648435500,"creation_date":1648435500,"answer_id":71641912,"question_id":48814129,"body_markdown":"    public static int solution(Integer[] intArray) {\r\n           int result = 0;\r\n           Arrays.sort(intArray, Collections.reverseOrder());\r\n           for (int i=0; i&lt;intArray.length;i++) {\r\n        \t   int count = 0;\r\n        \t   for(int j=0;j&lt;intArray.length;j++) {\r\n        \t\t   if(intArray[i]==intArray[j]) {\r\n        \t\t\t   count++;\r\n        \t\t   }\r\n        \t   }\r\n        \t   if(count == intArray[i]) {\r\n        \t\t   result = intArray[i];\r\n        \t\t   break;\r\n        \t   }\r\n           }\r\n           return result; \r\n       }","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<pre><code>public static int solution(Integer[] intArray) {\n       int result = 0;\n       Arrays.sort(intArray, Collections.reverseOrder());\n       for (int i=0; i&lt;intArray.length;i++) {\n           int count = 0;\n           for(int j=0;j&lt;intArray.length;j++) {\n               if(intArray[i]==intArray[j]) {\n                   count++;\n               }\n           }\n           if(count == intArray[i]) {\n               result = intArray[i];\n               break;\n           }\n       }\n       return result; \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17848689,"reputation":1,"user_id":12964849,"display_name":"AneeqaKhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725952,"creation_date":1674725952,"answer_id":75244386,"question_id":48814129,"body_markdown":"In javascript, it&#39;ll be like this\r\n\r\n```\r\nfunction getLargestFrequency(arr) {\r\n    let frequency = {};\r\n\r\n    // Count frequency of each number\r\n    for (let i = 0; i &lt; arr.length; i++) {\r\n        let num = arr[i];\r\n        if (frequency[num]) {\r\n            frequency[num]++;\r\n        } else {\r\n            frequency[num] = 1;\r\n        }\r\n    }\r\n\r\n    let maxFrequency = 0;\r\n    let maxNum;\r\n    for (let num in frequency) {\r\n        if (frequency[num] &gt; maxFrequency) {\r\n            maxFrequency = frequency[num];\r\n            maxNum = num;\r\n        }\r\n    }\r\n    // Initialize the maxFrequencyCount with maxFrequency\r\n    let maxFrequencyCount = maxFrequency;\r\n    // Iterate over the frequency object\r\n    for (let num in frequency) {\r\n        if (frequency[num] === maxFrequencyCount) {\r\n            // If the current number&#39;s frequency count is equal to maxFrequencyCount, return it\r\n            return num;\r\n        }\r\n    }\r\n    // If no number with the highest frequency count is found, return 0\r\n    return 0;\r\n}\r\n```\r\nand you can see the output\r\n```\r\nlet array1 = [2,3,3,3,1];\r\nlet result1 = getLargestFrequency(array1);\r\nconsole.log(result1); // should return 3\r\n\r\nlet array2 = [2,2,4,4,4];\r\nlet result2 = getLargestFrequency(array2);\r\nconsole.log(result2); // should return 2\r\n```\r\n\r\n","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<p>In javascript, it'll be like this</p>\n<pre><code>function getLargestFrequency(arr) {\n    let frequency = {};\n\n    // Count frequency of each number\n    for (let i = 0; i &lt; arr.length; i++) {\n        let num = arr[i];\n        if (frequency[num]) {\n            frequency[num]++;\n        } else {\n            frequency[num] = 1;\n        }\n    }\n\n    let maxFrequency = 0;\n    let maxNum;\n    for (let num in frequency) {\n        if (frequency[num] &gt; maxFrequency) {\n            maxFrequency = frequency[num];\n            maxNum = num;\n        }\n    }\n    // Initialize the maxFrequencyCount with maxFrequency\n    let maxFrequencyCount = maxFrequency;\n    // Iterate over the frequency object\n    for (let num in frequency) {\n        if (frequency[num] === maxFrequencyCount) {\n            // If the current number's frequency count is equal to maxFrequencyCount, return it\n            return num;\n        }\n    }\n    // If no number with the highest frequency count is found, return 0\n    return 0;\n}\n</code></pre>\n<p>and you can see the output</p>\n<pre><code>let array1 = [2,3,3,3,1];\nlet result1 = getLargestFrequency(array1);\nconsole.log(result1); // should return 3\n\nlet array2 = [2,2,4,4,4];\nlet result2 = getLargestFrequency(array2);\nconsole.log(result2); // should return 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4872254,"reputation":770,"user_id":3928327,"display_name":"Nex Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675346697,"creation_date":1675346697,"answer_id":75324313,"question_id":48814129,"body_markdown":"I think this should work\r\n`    import java.util.Arrays;\r\n\r\n    public class find_Biggest_Num_N_In_Array_Occures_N_times {\r\n     public static int Solution(int[] ar){\r\n     Arrays.sort(ar);\r\n     int maxElement = ar[ar.length -1];\r\n     int[] counter= new int[maxElement + 1];\r\n     Arrays.fill(counter, 0);\r\n\r\n     for(int i=0; i&lt;ar.length;i++){\r\n     int pos=ar[i];\r\n     counter[pos]++;\r\n     }\r\n\r\n    for(int j=ar.length-1;j&gt;=1;j--){\r\n      if(counter[j]==j){\r\n        return j;\r\n      }\r\n    }\r\n    return -1;\r\n}\r\n}`","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<p>I think this should work\n`    import java.util.Arrays;</p>\n<pre><code>public class find_Biggest_Num_N_In_Array_Occures_N_times {\n public static int Solution(int[] ar){\n Arrays.sort(ar);\n int maxElement = ar[ar.length -1];\n int[] counter= new int[maxElement + 1];\n Arrays.fill(counter, 0);\n\n for(int i=0; i&lt;ar.length;i++){\n int pos=ar[i];\n counter[pos]++;\n }\n\nfor(int j=ar.length-1;j&gt;=1;j--){\n  if(counter[j]==j){\n    return j;\n  }\n}\nreturn -1;\n</code></pre>\n<p>}\n}`</p>\n"}],"owner":{"account_id":12876414,"reputation":19,"user_id":9312975,"display_name":"Mohannad Webman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1675346697,"creation_date":1518719777,"question_id":48814129,"body_markdown":"Title sums it up.\r\nFor example `{2,3,3,3,1}` would return 3, `{2,2,4,4,4}` would return 2;\r\nIn my code I only get the biggest number that occurs n times. If 3 would occur 2 times and 2 would occur 2 times the program should return 2 but in my code it return 0.\r\n\r\n    public class arrays {\r\n\r\n\t   public static int NmalN(int[] arr) {\r\n\t\t   int max = 0;\r\n\t\t   int counter = 1;\r\n\t\t   for (int i=0; i&lt;arr.length;) {\r\n\t\t\t   if (arr[i]&gt;max) {\r\n\t\t\t\t   max = arr[i];\r\n\t\t\t\t   i++;\r\n\t\t\t   }\r\n\t\t\t   else i++;\r\n\t\t   }\r\n\t\t   for(int j = 0; j&lt;arr.length; j++) {\r\n\t\t\t   if (arr[j]==max) {\r\n\t\t\t\t   counter++;\r\n\t\t\t\t   j++;\r\n\t\t\t   }\r\n\t\t\t   else {\r\n\t\t\t\t   j++;\r\n\t\t\t   }\r\n\t\t   }\r\n\t\t\r\n\t\t   if(max == counter) { \r\n\t\t\t   return counter;\r\n\t\t   }\r\n\t\t   else return 0; \r\n\t   }\r\n\t\r\n\t\r\n\t   public static void main(String[] args) {\r\n\t\t   int [] arr = {1,2,3,3,2,};\r\n\t\t   System.out.println(&quot;answer: &quot;+ (NmalN(arr)));\r\n\r\n\t   }\r\n\r\n    }\r\n\r\n","title":"Get the biggest number &quot;n&quot; in an array that occurs &quot;n&quot; times","body":"<p>Title sums it up.\nFor example <code>{2,3,3,3,1}</code> would return 3, <code>{2,2,4,4,4}</code> would return 2;\nIn my code I only get the biggest number that occurs n times. If 3 would occur 2 times and 2 would occur 2 times the program should return 2 but in my code it return 0.</p>\n\n<pre><code>public class arrays {\n\n   public static int NmalN(int[] arr) {\n       int max = 0;\n       int counter = 1;\n       for (int i=0; i&lt;arr.length;) {\n           if (arr[i]&gt;max) {\n               max = arr[i];\n               i++;\n           }\n           else i++;\n       }\n       for(int j = 0; j&lt;arr.length; j++) {\n           if (arr[j]==max) {\n               counter++;\n               j++;\n           }\n           else {\n               j++;\n           }\n       }\n\n       if(max == counter) { \n           return counter;\n       }\n       else return 0; \n   }\n\n\n   public static void main(String[] args) {\n       int [] arr = {1,2,3,3,2,};\n       System.out.println(\"answer: \"+ (NmalN(arr)));\n\n   }\n\n}\n</code></pre>\n"},{"tags":["java","date","formatting"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675336230,"post_id":75322238,"comment_id":132908764,"body_markdown":"https://www.baeldung.com/java-datetimeformatter","body":"<a href=\"https://www.baeldung.com/java-datetimeformatter\" rel=\"nofollow noreferrer\">baeldung.com/java-datetimeformatter</a>"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675336836,"post_id":75322238,"comment_id":132908971,"body_markdown":"The thing is that it only tell me how to format a date in the dateformatter but I have a string. Could you tell me how to format that string to a date first? new Date(string) or (Date) string do not work.","body":"The thing is that it only tell me how to format a date in the dateformatter but I have a string. Could you tell me how to format that string to a date first? new Date(string) or (Date) string do not work."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1675337060,"post_id":75322238,"comment_id":132909070,"body_markdown":"You don&#39;t *format* a string to a date - you *parse* a string to a date. Hopefully that clue will help you in your research. But I&#39;d *strongly* recommend that you use java.time instead. And given that it looks like your data *actually* starts with a `long` value, not a string, it sounds like you don&#39;t really need to do that anyway... If you find yourself formatting a value and then parsing the result, try to find a way of going straight from the original value to the desired result *without* string conversions.","body":"You don&#39;t <i>format</i> a string to a date - you <i>parse</i> a string to a date. Hopefully that clue will help you in your research. But I&#39;d <i>strongly</i> recommend that you use java.time instead. And given that it looks like your data <i>actually</i> starts with a <code>long</code> value, not a string, it sounds like you don&#39;t really need to do that anyway... If you find yourself formatting a value and then parsing the result, try to find a way of going straight from the original value to the desired result <i>without</i> string conversions."},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675337632,"post_id":75322238,"comment_id":132909248,"body_markdown":"@JonSkeet well honestly I dont get it.. I tried to parse the date again but it just does not work :/ Edited my Question maybe someone knows whats going on.","body":"@JonSkeet well honestly I dont get it.. I tried to parse the date again but it just does not work :/ Edited my Question maybe someone knows whats going on."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675356223,"post_id":75322238,"comment_id":132916021,"body_markdown":"Since I understand from your code that `pair.getKey().get(3)` returns a *`String`*, I suggest looking at these similar questions: [Convert Timestamp in numerical format to LocalDateTime in Java](https://stackoverflow.com/questions/65199689/convert-timestamp-in-numerical-format-to-localdatetime-in-java) and [Trying to create a timestamp &quot;mm/dd/yyyy hh:mm a&quot; for a chat for android using java](https://stackoverflow.com/questions/59445645/trying-to-create-a-timestamp-mm-dd-yyyy-hhmm-a-for-a-chat-for-android-using-j).","body":"Since I understand from your code that <code>pair.getKey().get(3)</code> returns a <i><code>String</code></i>, I suggest looking at these similar questions: <a href=\"https://stackoverflow.com/questions/65199689/convert-timestamp-in-numerical-format-to-localdatetime-in-java\">Convert Timestamp in numerical format to LocalDateTime in Java</a> and <a href=\"https://stackoverflow.com/questions/59445645/trying-to-create-a-timestamp-mm-dd-yyyy-hhmm-a-for-a-chat-for-android-using-j\">Trying to create a timestamp &quot;mm/dd/yyyy hh:mm a&quot; for a chat for android using java</a>."}],"answers":[{"comments":[{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675338660,"post_id":75322616,"comment_id":132909576,"body_markdown":"Jesus Christ that actually works :D Thanks man I have no Idea how someone actually is able to know that this is the way to format in my case. Thanks. One more thing tho: this is a localdate how would you change it to a &quot;normal&quot; Date?","body":"Jesus Christ that actually works :D Thanks man I have no Idea how someone actually is able to know that this is the way to format in my case. Thanks. One more thing tho: this is a localdate how would you change it to a &quot;normal&quot; Date?"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675339177,"post_id":75322616,"comment_id":132909740,"body_markdown":"Ok I found a Function to convert it from LocalDate to Date.","body":"Ok I found a Function to convert it from LocalDate to Date."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675341177,"post_id":75322616,"comment_id":132910420,"body_markdown":"No - that&#39;s the wrong way around. You should be using the new date/time api as I showed. Why do you think you need `Date`?","body":"No - that&#39;s the wrong way around. You should be using the new date/time api as I showed. Why do you think you need <code>Date</code>?"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675341431,"post_id":75322616,"comment_id":132910509,"body_markdown":"Because I have functions that need the variable to be Date not LocalDate.","body":"Because I have functions that need the variable to be Date not LocalDate."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675341517,"post_id":75322616,"comment_id":132910547,"body_markdown":"That&#39;s a shame. But there&#39;s a further issue in that case. Presumably, you&#39;re aware that `Date` contains *time* info? Is that time info actually *used*?","body":"That&#39;s a shame. But there&#39;s a further issue in that case. Presumably, you&#39;re aware that <code>Date</code> contains <i>time</i> info? Is that time info actually <i>used</i>?"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675341770,"post_id":75322616,"comment_id":132910637,"body_markdown":"Mh yeah I see that beacuse actually I am getting this back: Thu Feb 02 00:00:00 CET 2023 so its not even the format I wanted but as it is a date it gets handled correctly by my following functions and calls. As of now everything works as expected for me ^^","body":"Mh yeah I see that beacuse actually I am getting this back: Thu Feb 02 00:00:00 CET 2023 so its not even the format I wanted but as it is a date it gets handled correctly by my following functions and calls. As of now everything works as expected for me ^^"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675342010,"post_id":75322616,"comment_id":132910707,"body_markdown":"Good. Keep an eye on that and see my edit above","body":"Good. Keep an eye on that and see my edit above"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1675342979,"post_id":75322616,"comment_id":132911068,"body_markdown":"Yeah thanks ended up using your Edit because it is shorter - ty.","body":"Yeah thanks ended up using your Edit because it is shorter - ty."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1675346506,"post_id":75322616,"comment_id":132912398,"body_markdown":"`Date.from(Instant.ofEpochMillis(x))` is still a very long-winded way of writing `new Date(x)` - see my answer, now that it&#39;s clearer that what&#39;s desired (a java.util.Date from a long) has nothing to do with text representations.","body":"<code>Date.from(Instant.ofEpochMillis(x))</code> is still a very long-winded way of writing <code>new Date(x)</code> - see my answer, now that it&#39;s clearer that what&#39;s desired (a java.util.Date from a long) has nothing to do with text representations."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675342005,"creation_date":1675337923,"answer_id":75322616,"question_id":75322238,"body_markdown":"You probably need something like:\r\n\r\n    LocalDate date = Instant.ofEpochMilli(Long.parseLong(pair.getKey().get(3))).atZone(ZoneId.systemDefault()).toLocalDate();\r\n    System.out.println(date);\r\n\r\nIf you have to have `Date`, you can do:\r\n\r\n    Date d = Date.from(Instant.ofEpochMilli(Long.parseLong(pair.getKey().get(3))));\r\n\r\n","title":"Java how to Format Date to yyyy-MM-dd?","body":"<p>You probably need something like:</p>\n<pre><code>LocalDate date = Instant.ofEpochMilli(Long.parseLong(pair.getKey().get(3))).atZone(ZoneId.systemDefault()).toLocalDate();\nSystem.out.println(date);\n</code></pre>\n<p>If you have to have <code>Date</code>, you can do:</p>\n<pre><code>Date d = Date.from(Instant.ofEpochMilli(Long.parseLong(pair.getKey().get(3))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1675346480,"creation_date":1675346480,"answer_id":75324265,"question_id":75322238,"body_markdown":"If you *just* need to get a `java.util.Date` from a `long` value which is the number of milliseconds since the Unix epoch, it really is trivial:\r\n\r\n```java\r\nlong millis = Long.parseLong(pair.getKey().get(3));\r\nDate date = new Date(millis);\r\n```\r\n\r\nOr inlined if you really want to:\r\n\r\n```java\r\nDate date = new Date(Long.parseLong(pair.getKey().get(3)));\r\n```\r\n\r\nI would *strongly* advise you to try to migrate all your code to `java.time` though. It&#39;s a *far* superior API.","title":"Java how to Format Date to yyyy-MM-dd?","body":"<p>If you <em>just</em> need to get a <code>java.util.Date</code> from a <code>long</code> value which is the number of milliseconds since the Unix epoch, it really is trivial:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long millis = Long.parseLong(pair.getKey().get(3));\nDate date = new Date(millis);\n</code></pre>\n<p>Or inlined if you really want to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date = new Date(Long.parseLong(pair.getKey().get(3)));\n</code></pre>\n<p>I would <em>strongly</em> advise you to try to migrate all your code to <code>java.time</code> though. It's a <em>far</em> superior API.</p>\n"}],"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75322616,"answer_count":2,"score":-2,"last_activity_date":1675346480,"creation_date":1675335936,"question_id":75322238,"body_markdown":"Hey there I have a question regarding the way that Java parses or formatts a Date. \r\n\r\nI have this code: \r\n\r\n\tprivate DateFormat dateFormatter = DateFormat.getDateInstance(DateFormat.FULL, Locale.GERMAN);\r\n\tprivate DateFormat dateFormatter2 = DateFormat.getDateInstance(DateFormat.MEDIUM, Locale.GERMAN);\r\n\r\n...\r\n\r\n\t\t\tString dateTest = dateFormatter.format(Long.parseLong(pair.getKey().get(3)));\r\n\t\t\tString dateTest2 = dateFormatter2.format(Long.parseLong(pair.getKey().get(3)));\r\n\r\n\t\t\t\tSystem.out.println(&quot;dateTest: &quot; + dateTest + &quot; || dateTest2: &quot; + dateTest2);\r\n\r\nThis gives me following result: \r\n\r\n    dateTest: Donnerstag, 2. Februar 2023 || dateTest2: 02.02.2023\r\n\r\nNow I want to convert the date to this Format: &quot;yyyy-MM-dd&quot;. I tried with simpledateformatter and the Parse function but always ended up in Errors like this: \r\n\r\n     java.text.ParseException: Unparseable date: &quot;02.02.2023&quot; \r\n\r\nHow can I simply change the date to my desired format? Would be cool if the result was of type Date. \r\n\r\nDateFormatter only shows me how to do it from a Date but I have a String. The Problem is that I dont know how to change the String into a Date.\r\n\r\n`new Date(string)` and `(Date) string` do not work. \r\n\r\nEdit: \r\n\r\n\t\t\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\r\n\t\t\t\tLocalDate date = LocalDate.parse(dateTest2, formatter);\r\n\t\t\t\tSystem.out.println(&quot;NewDate &quot; + date); \r\n\r\nresult is: \r\n\r\n    SEVERE: Uncaught Exception\r\n    java.time.format.DateTimeParseException: Text &#39;01.02.2023&#39; could not be parsed at index 0","title":"Java how to Format Date to yyyy-MM-dd?","body":"<p>Hey there I have a question regarding the way that Java parses or formatts a Date.</p>\n<p>I have this code:</p>\n<pre><code>private DateFormat dateFormatter = DateFormat.getDateInstance(DateFormat.FULL, Locale.GERMAN);\nprivate DateFormat dateFormatter2 = DateFormat.getDateInstance(DateFormat.MEDIUM, Locale.GERMAN);\n</code></pre>\n<p>...</p>\n<pre><code>        String dateTest = dateFormatter.format(Long.parseLong(pair.getKey().get(3)));\n        String dateTest2 = dateFormatter2.format(Long.parseLong(pair.getKey().get(3)));\n\n            System.out.println(&quot;dateTest: &quot; + dateTest + &quot; || dateTest2: &quot; + dateTest2);\n</code></pre>\n<p>This gives me following result:</p>\n<pre><code>dateTest: Donnerstag, 2. Februar 2023 || dateTest2: 02.02.2023\n</code></pre>\n<p>Now I want to convert the date to this Format: &quot;yyyy-MM-dd&quot;. I tried with simpledateformatter and the Parse function but always ended up in Errors like this:</p>\n<pre><code> java.text.ParseException: Unparseable date: &quot;02.02.2023&quot; \n</code></pre>\n<p>How can I simply change the date to my desired format? Would be cool if the result was of type Date.</p>\n<p>DateFormatter only shows me how to do it from a Date but I have a String. The Problem is that I dont know how to change the String into a Date.</p>\n<p><code>new Date(string)</code> and <code>(Date) string</code> do not work.</p>\n<p>Edit:</p>\n<pre><code>            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\n            LocalDate date = LocalDate.parse(dateTest2, formatter);\n            System.out.println(&quot;NewDate &quot; + date); \n</code></pre>\n<p>result is:</p>\n<pre><code>SEVERE: Uncaught Exception\njava.time.format.DateTimeParseException: Text '01.02.2023' could not be parsed at index 0\n</code></pre>\n"},{"tags":["java","jsp","spring-mvc"],"comments":[{"owner":{"account_id":3278785,"reputation":2285,"user_id":2759934,"display_name":"sunysen"},"score":0,"creation_date":1447486757,"post_id":33706180,"comment_id":55184493,"body_markdown":"show spring application.xml","body":"show spring application.xml"},{"owner":{"account_id":2100539,"reputation":93,"user_id":1868292,"display_name":"DTR_4_Life"},"score":0,"creation_date":1447563852,"post_id":33706180,"comment_id":55203778,"body_markdown":"I added my dispatcher-servlet.xml.  Is that what you were referring to?  I couldn&#39;t find a application.xml file.  My gut tells me that I need to add something in the dispatcher-servlet.xml file but not sure....","body":"I added my dispatcher-servlet.xml.  Is that what you were referring to?  I couldn&#39;t find a application.xml file.  My gut tells me that I need to add something in the dispatcher-servlet.xml file but not sure...."}],"answers":[{"comments":[{"owner":{"account_id":2100539,"reputation":93,"user_id":1868292,"display_name":"DTR_4_Life"},"score":0,"creation_date":1447563561,"post_id":33710345,"comment_id":55203729,"body_markdown":"Unfortunately that did not help.","body":"Unfortunately that did not help."}],"tags":[],"owner":{"account_id":4745800,"reputation":637,"user_id":3837208,"accept_rate":53,"display_name":"wilson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447516943,"creation_date":1447516943,"answer_id":33710345,"question_id":33706180,"body_markdown":"Try to use input tag instead of button tag:\r\n\r\n    &lt;form:form method=&quot;POST&quot; action=&quot;${pageContext.request.contextPath}/showPage&quot;&gt;\r\n         &lt;input type=&quot;submit&quot; value=&quot;Click here!&quot; name=&quot;button&quot; /&gt;\r\n    &lt;/form:form&gt;\r\n","title":"Having trouble using a form button with Spring MVC","body":"<p>Try to use input tag instead of button tag:</p>\n\n<pre><code>&lt;form:form method=\"POST\" action=\"${pageContext.request.contextPath}/showPage\"&gt;\n     &lt;input type=\"submit\" value=\"Click here!\" name=\"button\" /&gt;\n&lt;/form:form&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675601092,"post_id":75324192,"comment_id":132960349,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75324192/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":3834521,"reputation":1,"user_id":3179207,"display_name":"Ricardo PSilva"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675346110,"creation_date":1675346110,"answer_id":75324192,"question_id":33706180,"body_markdown":"your button may look like this:\r\n\r\n    &lt;form:button id=&quot;button&quot; name=&quot;button&quot; value=&quot;click&quot; &gt;Save&lt;/form:button&gt;\r\n\r\nand your mapping can have something like this:\r\n\r\n    @RequestMapping(method = RequestMethod.POST, params=&quot;click&quot;)","title":"Having trouble using a form button with Spring MVC","body":"<p>your button may look like this:</p>\n<pre><code>&lt;form:button id=&quot;button&quot; name=&quot;button&quot; value=&quot;click&quot; &gt;Save&lt;/form:button&gt;\n</code></pre>\n<p>and your mapping can have something like this:</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST, params=&quot;click&quot;)\n</code></pre>\n"}],"owner":{"account_id":2100539,"reputation":93,"user_id":1868292,"display_name":"DTR_4_Life"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675346110,"creation_date":1447486166,"question_id":33706180,"body_markdown":"I am trying to use a form button with spring MVC.  Once you click on the form button it will take you to another page (showData.jsp).  Unfortunately, when I click on the button nothing happens.  I&#39;ll provide my code below and thank you for any help.\r\n\r\n**JSP file with form code:**\r\n\r\n    &lt;form:form method=&quot;POST&quot; action=&quot;${pageContext.request.contextPath}/showPage&quot;&gt;\r\n\r\n\t    &lt;button type=&quot;button&quot; value=&quot;button&quot; name=&quot;button&quot;&gt; Click Here!&lt;/button&gt;\r\n\r\n    &lt;/form:form&gt;\r\n\r\n**Controller code:**\r\n\r\n    @RequestMapping(value = &quot;/showPage&quot;, method = RequestMethod.POST)\r\n    public String printWelcome() {\r\n\r\n\t    return &quot;showData&quot;;\r\n    }\r\n\r\n**Dispatcher-servlet**\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.springapp.mvc&quot;/&gt;\r\n    \r\n        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\n","title":"Having trouble using a form button with Spring MVC","body":"<p>I am trying to use a form button with spring MVC.  Once you click on the form button it will take you to another page (showData.jsp).  Unfortunately, when I click on the button nothing happens.  I'll provide my code below and thank you for any help.</p>\n\n<p><strong>JSP file with form code:</strong></p>\n\n<pre><code>&lt;form:form method=\"POST\" action=\"${pageContext.request.contextPath}/showPage\"&gt;\n\n    &lt;button type=\"button\" value=\"button\" name=\"button\"&gt; Click Here!&lt;/button&gt;\n\n&lt;/form:form&gt;\n</code></pre>\n\n<p><strong>Controller code:</strong></p>\n\n<pre><code>@RequestMapping(value = \"/showPage\", method = RequestMethod.POST)\npublic String printWelcome() {\n\n    return \"showData\";\n}\n</code></pre>\n\n<p><strong>Dispatcher-servlet</strong></p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.springapp.mvc\"/&gt;\n\n    &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/pages/\"/&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","oracle","internet-explorer","applet","microsoft-edge"],"comments":[{"owner":{"account_id":9572999,"reputation":5871,"user_id":7110099,"display_name":"EJ Egyed"},"score":0,"creation_date":1648220636,"post_id":71618405,"comment_id":126576797,"body_markdown":"Have you considered moving away from Applets? Oracle APEX is a modern and excellent\n web based solution if your data is already housed in Oracle databases. It does require Oracle Database to be version 12.1.0.2 or later.","body":"Have you considered moving away from Applets? Oracle APEX is a modern and excellent  web based solution if your data is already housed in Oracle databases. It does require Oracle Database to be version 12.1.0.2 or later."},{"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"score":0,"creation_date":1648437542,"post_id":71618405,"comment_id":126615411,"body_markdown":"Form [this doc](https://learn.microsoft.com/en-us/deployedge/faqs-edge-in-the-enterprise#does-microsoft-edge--chromium-based--support-activex-controls-or-bhos-like-silverlight-or-java), we can know that Edge doesn&#39;t support Java. If the Applet works in IE11, you can configure it to run in [IE mode](https://learn.microsoft.com/en-us/deployedge/edge-ie-mode) on Edge.","body":"Form <a href=\"https://learn.microsoft.com/en-us/deployedge/faqs-edge-in-the-enterprise#does-microsoft-edge--chromium-based--support-activex-controls-or-bhos-like-silverlight-or-java\" rel=\"nofollow noreferrer\">this doc</a>, we can know that Edge doesn&#39;t support Java. If the Applet works in IE11, you can configure it to run in <a href=\"https://learn.microsoft.com/en-us/deployedge/edge-ie-mode\" rel=\"nofollow noreferrer\">IE mode</a> on Edge."},{"owner":{"account_id":9806296,"reputation":88,"user_id":7265913,"display_name":"Jonny"},"score":0,"creation_date":1648451305,"post_id":71618405,"comment_id":126617769,"body_markdown":"@EJEgyed The app is third Party, so no way to change something on this side.","body":"@EJEgyed The app is third Party, so no way to change something on this side."},{"owner":{"account_id":9806296,"reputation":88,"user_id":7265913,"display_name":"Jonny"},"score":0,"creation_date":1648451395,"post_id":71618405,"comment_id":126617787,"body_markdown":"@YuZhou IE mode works fine but use the IE Java plugin, so the applet will still use the p2launcher.exe (oracle).","body":"@YuZhou IE mode works fine but use the IE Java plugin, so the applet will still use the p2launcher.exe (oracle)."},{"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"score":0,"creation_date":1648547635,"post_id":71618405,"comment_id":126646066,"body_markdown":"IE mode is the same as IE, so they should have the same behavior. And it is true that you cannot open Java Applets in Edge - they are not supported and won&#39;t be added in the future.","body":"IE mode is the same as IE, so they should have the same behavior. And it is true that you cannot open Java Applets in Edge - they are not supported and won&#39;t be added in the future."}],"answers":[{"tags":[],"owner":{"account_id":1643431,"reputation":851,"user_id":1515454,"display_name":"alexp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648218846,"creation_date":1648218846,"answer_id":71618682,"question_id":71618405,"body_markdown":"Please consider using our CheerpJ Applet Runner extension, available both for [Chrome][1] and [Edge][2].\r\n\r\nFull disclosure: I am CTO of the company maintaining the extension and lead dev of the CheerpJ technology.\r\n\r\nThe extension is free for non-commercial use on the public internet. For any internal website or enterprise use a license is required.\r\n\r\nPlease [get in touch][3] if interested.\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/cheerpj-applet-runner/bbmolahhldcbngedljfadjlognfaaein\r\n  [2]: https://microsoftedge.microsoft.com/addons/detail/cheerpj-applet-runner/ebfcpaoldmijengghefpohddmfpndmic\r\n  [3]: https://leaningtech.com/contact-us/?subject=CheerpJ%20Applet%20Runner%20Licensing#mailus","title":"JavaApplet under Java 11+ / Edge (without Oracle)","body":"<p>Please consider using our CheerpJ Applet Runner extension, available both for <a href=\"https://chrome.google.com/webstore/detail/cheerpj-applet-runner/bbmolahhldcbngedljfadjlognfaaein\" rel=\"nofollow noreferrer\">Chrome</a> and <a href=\"https://microsoftedge.microsoft.com/addons/detail/cheerpj-applet-runner/ebfcpaoldmijengghefpohddmfpndmic\" rel=\"nofollow noreferrer\">Edge</a>.</p>\n<p>Full disclosure: I am CTO of the company maintaining the extension and lead dev of the CheerpJ technology.</p>\n<p>The extension is free for non-commercial use on the public internet. For any internal website or enterprise use a license is required.</p>\n<p>Please <a href=\"https://leaningtech.com/contact-us/?subject=CheerpJ%20Applet%20Runner%20Licensing#mailus\" rel=\"nofollow noreferrer\">get in touch</a> if interested.</p>\n"},{"tags":[],"owner":{"account_id":9806296,"reputation":88,"user_id":7265913,"display_name":"Jonny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675345638,"creation_date":1675345638,"answer_id":75324087,"question_id":71618405,"body_markdown":" 1. Write a jnlp File\r\n 2. Install Azul IcedTeaWeb\r\n 3. Configure the deployment jre\r\n\r\n1.This is heavily based on the applet to be replaced. Here is an example:\r\n```\r\n\r\n    &lt;jnlp spec=&quot;1.5+&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; codebase=&quot;*applet origin*&quot; href=&quot;file:///C:/Program Files/JNLP/myJnlpFile.jnlp&quot;&gt;\r\n      &lt;information&gt;\r\n        &lt;title&gt;Some title&lt;/title&gt;\r\n    \t&lt;vendor&gt;some vendor&lt;/vendor&gt;\r\n        &lt;description&gt;some Description&lt;/description&gt;\r\n    \t&lt;homepage href=&quot;http://*applet url*&quot;&gt;&lt;/homepage&gt;\r\n        &lt;offline-allowed/&gt;\r\n      &lt;/information&gt;\r\n      &lt;security&gt;\r\n        &lt;all-permissions/&gt;\r\n      &lt;/security&gt;\r\n      &lt;resources&gt;\r\n        &lt;j2se version=&quot;1.3+&quot;&gt;&lt;/j2se&gt;\r\n    \t\t&lt;jar href=&quot;http://*applet URL*/some.jar&quot; download=&quot;eager&quot; main=&quot;true&quot;&gt;&lt;/jar&gt; &lt;!-- this can be found in the original applet / page code --&gt;\r\n    \t\t&lt;jar href=&quot;http://*applet URL*/another.jar&quot; download=&quot;eager&quot;&gt;&lt;/jar&gt;\r\n      &lt;/resources&gt;\r\n      &lt;applet-desc \r\n    \tname=&quot;Some name&quot; \r\n    \tmain-class=&quot;myAppletMainClass&quot; \r\n    \twidth=&quot;1000&quot; \r\n    \theight=&quot;800&quot;\r\n    \talign=&quot;baseline&quot;&gt;\r\n    \t\t\t&lt;!-- this is based on the Applets params, simply some name and value pairs --&gt;\r\n    \t\t\t&lt;param name=&quot;code&quot; value=&quot;myAppletMainClass&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;archive&quot; value=&quot;http://*applet URL*/some.jar&quot;&gt; \r\n      &lt;/applet-desc&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n```\r\n2. Download and install (nothing changed during installation): [Azul IcedTeaWeb Download][1]\r\n3. cmd &quot;C:\\Program Files\\IcedTeaWeb\\WebStart\\bin\\itweb-settings.exe&quot; -headless set deployment.jre.dir &quot;C:\\Program Files\\Java\\zulu8&quot;\r\n(yes thats not Java 11 like I mentioned in the question, but is still supported by Azul until 2030 and it is only used for this application and not the whole system)\r\n\r\nThats how it worked for me.\r\n\r\n  [1]: https://www.azul.com/products/components/icedtea-web/","title":"JavaApplet under Java 11+ / Edge (without Oracle)","body":"<ol>\n<li>Write a jnlp File</li>\n<li>Install Azul IcedTeaWeb</li>\n<li>Configure the deployment jre</li>\n</ol>\n<p>1.This is heavily based on the applet to be replaced. Here is an example:</p>\n<pre><code>\n    &lt;jnlp spec=&quot;1.5+&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; codebase=&quot;*applet origin*&quot; href=&quot;file:///C:/Program Files/JNLP/myJnlpFile.jnlp&quot;&gt;\n      &lt;information&gt;\n        &lt;title&gt;Some title&lt;/title&gt;\n        &lt;vendor&gt;some vendor&lt;/vendor&gt;\n        &lt;description&gt;some Description&lt;/description&gt;\n        &lt;homepage href=&quot;http://*applet url*&quot;&gt;&lt;/homepage&gt;\n        &lt;offline-allowed/&gt;\n      &lt;/information&gt;\n      &lt;security&gt;\n        &lt;all-permissions/&gt;\n      &lt;/security&gt;\n      &lt;resources&gt;\n        &lt;j2se version=&quot;1.3+&quot;&gt;&lt;/j2se&gt;\n            &lt;jar href=&quot;http://*applet URL*/some.jar&quot; download=&quot;eager&quot; main=&quot;true&quot;&gt;&lt;/jar&gt; &lt;!-- this can be found in the original applet / page code --&gt;\n            &lt;jar href=&quot;http://*applet URL*/another.jar&quot; download=&quot;eager&quot;&gt;&lt;/jar&gt;\n      &lt;/resources&gt;\n      &lt;applet-desc \n        name=&quot;Some name&quot; \n        main-class=&quot;myAppletMainClass&quot; \n        width=&quot;1000&quot; \n        height=&quot;800&quot;\n        align=&quot;baseline&quot;&gt;\n                &lt;!-- this is based on the Applets params, simply some name and value pairs --&gt;\n                &lt;param name=&quot;code&quot; value=&quot;myAppletMainClass&quot;&gt;\n                &lt;param name=&quot;archive&quot; value=&quot;http://*applet URL*/some.jar&quot;&gt; \n      &lt;/applet-desc&gt;\n    &lt;/jnlp&gt;\n\n</code></pre>\n<ol start=\"2\">\n<li>Download and install (nothing changed during installation): <a href=\"https://www.azul.com/products/components/icedtea-web/\" rel=\"nofollow noreferrer\">Azul IcedTeaWeb Download</a></li>\n<li>cmd &quot;C:\\Program Files\\IcedTeaWeb\\WebStart\\bin\\itweb-settings.exe&quot; -headless set deployment.jre.dir &quot;C:\\Program Files\\Java\\zulu8&quot;\n(yes thats not Java 11 like I mentioned in the question, but is still supported by Azul until 2030 and it is only used for this application and not the whole system)</li>\n</ol>\n<p>Thats how it worked for me.</p>\n"}],"owner":{"account_id":9806296,"reputation":88,"user_id":7265913,"display_name":"Jonny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75324087,"answer_count":2,"score":0,"last_activity_date":1675345638,"creation_date":1648217780,"question_id":71618405,"body_markdown":"Have to get some very old legacy Applet Running. The Applet original used JDK 1.4 and IE. The new system is Edge and OpenJDK 11 or higher.\r\nIn the old System, we used Oracle JDK 8 which implements an IE Plugin (Java Plug-in 11.321.2). On the Webpage (BlackBox) is a Link to start the &quot;App&quot;. The Task Manager shows p2launcher.exe (Java(TM) Web Launcher).\r\nI don&#39;t really know how to get rid of Oracle here.\r\n\r\nBy now I thought about OpenWebStart but there is no JNLP File. Or to build some Wrapper to load the Applet, but that&#39;s not so easy because the applet somehow interacts with the document from the webpage. \r\n\r\nSo is there someone with a good idea to get an old JavaApplet to run on Edge / Java 11+?","title":"JavaApplet under Java 11+ / Edge (without Oracle)","body":"<p>Have to get some very old legacy Applet Running. The Applet original used JDK 1.4 and IE. The new system is Edge and OpenJDK 11 or higher.\nIn the old System, we used Oracle JDK 8 which implements an IE Plugin (Java Plug-in 11.321.2). On the Webpage (BlackBox) is a Link to start the &quot;App&quot;. The Task Manager shows p2launcher.exe (Java(TM) Web Launcher).\nI don't really know how to get rid of Oracle here.</p>\n<p>By now I thought about OpenWebStart but there is no JNLP File. Or to build some Wrapper to load the Applet, but that's not so easy because the applet somehow interacts with the document from the webpage.</p>\n<p>So is there someone with a good idea to get an old JavaApplet to run on Edge / Java 11+?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674049564,"post_id":75160153,"comment_id":132631575,"body_markdown":"I don&#39;t quite get what you&#39;re asking. How does a constructor &quot;use&quot; generics if they&#39;re not used for parameters? `TestT&lt;T&gt;` defines a type on the class, so how and why would the constructor be adding different constraints like `Comparable&lt;T&gt;` etc.? Can you elaborate on what you&#39;re trying to achieve?","body":"I don&#39;t quite get what you&#39;re asking. How does a constructor &quot;use&quot; generics if they&#39;re not used for parameters? <code>TestT&lt;T&gt;</code> defines a type on the class, so how and why would the constructor be adding different constraints like <code>Comparable&lt;T&gt;</code> etc.? Can you elaborate on what you&#39;re trying to achieve?"},{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1674049914,"post_id":75160153,"comment_id":132631702,"body_markdown":"let&#39;s say someone will call TestT() =&gt; this one should be Comparable.\nbut if someone will call TestT(Comparator&lt;T&gt; c), then the constructor should not require T to be Comparable, as a dev sends specific Comparator.\nIn the end TestT() call needs to be Comparable, while TestT(Comparator&lt;T&gt; c) - not","body":"let&#39;s say someone will call TestT() =&gt; this one should be Comparable. but if someone will call TestT(Comparator&lt;T&gt; c), then the constructor should not require T to be Comparable, as a dev sends specific Comparator. In the end TestT() call needs to be Comparable, while TestT(Comparator&lt;T&gt; c) - not"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674050826,"post_id":75160153,"comment_id":132632055,"body_markdown":"This doesn&#39;t work as the restriction would need to be at the type level. Let&#39;s assume you have a variable of type `TestT&lt;Whatever&gt;`. How do you know whether `Whatever` needs to implement `Comparable&lt;Whatever&gt;` or not? Remember, you just have that type and no info on the constructor - much like the compiler can&#39;t rely on having that information. - To cut it short: this can&#39;t be implemented the way you want.","body":"This doesn&#39;t work as the restriction would need to be at the type level. Let&#39;s assume you have a variable of type <code>TestT&lt;Whatever&gt;</code>. How do you know whether <code>Whatever</code> needs to implement <code>Comparable&lt;Whatever&gt;</code> or not? Remember, you just have that type and no info on the constructor - much like the compiler can&#39;t rely on having that information. - To cut it short: this can&#39;t be implemented the way you want."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674051024,"post_id":75160153,"comment_id":132632144,"body_markdown":"Another hint: `TreeSet` is a standard class that has similar requirements but even that doesn&#39;t use generics to enforce `Comparable&lt;T&gt;` at compile time - instead it relies on runtime checks when trying to add elements, i.e. when there is no `Comparator` it _assumes_ that `T extends Comparable&lt;T&gt;` and attempts a cast. If what you&#39;re trying to do was possible, don&#39;t you think the Java devs themselves would use it?","body":"Another hint: <code>TreeSet</code> is a standard class that has similar requirements but even that doesn&#39;t use generics to enforce <code>Comparable&lt;T&gt;</code> at compile time - instead it relies on runtime checks when trying to add elements, i.e. when there is no <code>Comparator</code> it <i>assumes</i> that <code>T extends Comparable&lt;T&gt;</code> and attempts a cast. If what you&#39;re trying to do was possible, don&#39;t you think the Java devs themselves would use it?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1674051745,"post_id":75160153,"comment_id":132632421,"body_markdown":"One solution is to make your constructors private, and use factory methods to create instances. These can each have their own generic constraints as necessary.","body":"One solution is to make your constructors private, and use factory methods to create instances. These can each have their own generic constraints as necessary."}],"answers":[{"tags":[],"owner":{"account_id":27299040,"reputation":1,"user_id":20816194,"display_name":"Yef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675345621,"creation_date":1675324067,"answer_id":75320037,"question_id":75160153,"body_markdown":"Please see if the below code answers to your requirements:\r\n```\r\nclass TestT&lt;T&gt; {\r\n    private List&lt;T&gt; arr;\r\n    \r\n    // Constructor that receives Comparable\r\n    protected &lt;X extends Comparable&lt;? super X&gt;&gt; TestT(X comparableIn1, X comparableIn2) {\r\n    \t/* Locate here your logic that transforms the input Comparable to List&lt;T&gt; */\r\n        // some foolish example implementation\r\n    \tif (comparableIn1.compareTo(comparableIn2) &gt; 0) {\r\n    \t\tarr = new ArrayList&lt;&gt;();\r\n    \t}\r\n    \telse {\r\n    \t\tarr = new LinkedList&lt;&gt;();\r\n    \t}\r\n    }\r\n    \r\n    // Another Constructor that receives a Collection of Comparable\r\n    protected &lt;X extends Comparable&lt;? super X&gt;&gt; TestT(Collection&lt;X&gt; comparableCollection) {\r\n    \t/* Locate here your logic that transforms the input Comparable Set to List&lt;T&gt; */\r\n    }\r\n\r\n    // Another Constructor that receives something else\r\n    protected TestT(List&lt;T&gt; listOfrbitraries) {\r\n        arr = listOfrbitraries;\r\n    }\r\n\r\n    void push(T e){\r\n        arr.add(e);\r\n    }\r\n}\r\n\r\n// Create different instances by the above Constructor receiving Comparable\r\nTestT&lt;Integer&gt; arrayListOfIntegers = new TestT&lt;&gt;(&quot;1&quot;,&quot;0&quot;);\r\nTestT&lt;Object&gt; linkedListOfObjects = new TestT&lt;&gt;(&quot;1&quot;,&quot;2&quot;);\r\n```\r\nFrankly, the notation `&lt;X extends Comparable&lt;? super X&gt;&gt;` can be simplified to just `&lt;X extends Comparable&lt;X&gt;&gt;`. In this case your Constructor argument&#39;s type will need to implement `compareTo(X o)` method, while in a manner I wrote above, the Comparable Interface can be also implemented by a method `compareTo(&lt;? super X&gt; o)` and the method&#39;s definition can be also in one of X&#39;s super types.","title":"Generics more restricted type for constructor","body":"<p>Please see if the below code answers to your requirements:</p>\n<pre><code>class TestT&lt;T&gt; {\n    private List&lt;T&gt; arr;\n    \n    // Constructor that receives Comparable\n    protected &lt;X extends Comparable&lt;? super X&gt;&gt; TestT(X comparableIn1, X comparableIn2) {\n        /* Locate here your logic that transforms the input Comparable to List&lt;T&gt; */\n        // some foolish example implementation\n        if (comparableIn1.compareTo(comparableIn2) &gt; 0) {\n            arr = new ArrayList&lt;&gt;();\n        }\n        else {\n            arr = new LinkedList&lt;&gt;();\n        }\n    }\n    \n    // Another Constructor that receives a Collection of Comparable\n    protected &lt;X extends Comparable&lt;? super X&gt;&gt; TestT(Collection&lt;X&gt; comparableCollection) {\n        /* Locate here your logic that transforms the input Comparable Set to List&lt;T&gt; */\n    }\n\n    // Another Constructor that receives something else\n    protected TestT(List&lt;T&gt; listOfrbitraries) {\n        arr = listOfrbitraries;\n    }\n\n    void push(T e){\n        arr.add(e);\n    }\n}\n\n// Create different instances by the above Constructor receiving Comparable\nTestT&lt;Integer&gt; arrayListOfIntegers = new TestT&lt;&gt;(&quot;1&quot;,&quot;0&quot;);\nTestT&lt;Object&gt; linkedListOfObjects = new TestT&lt;&gt;(&quot;1&quot;,&quot;2&quot;);\n</code></pre>\n<p>Frankly, the notation <code>&lt;X extends Comparable&lt;? super X&gt;&gt;</code> can be simplified to just <code>&lt;X extends Comparable&lt;X&gt;&gt;</code>. In this case your Constructor argument's type will need to implement <code>compareTo(X o)</code> method, while in a manner I wrote above, the Comparable Interface can be also implemented by a method <code>compareTo(&lt;? super X&gt; o)</code> and the method's definition can be also in one of X's super types.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675326239,"creation_date":1675326239,"answer_id":75320359,"question_id":75160153,"body_markdown":"Your question doesn&#39;t make much sense since all constructor have the same name. Try using `static` methods instead:\r\n\r\n    public class TestT&lt;T&gt; {\r\n        private ArrayList&lt;T&gt; arr;\r\n    \r\n        public static &lt;X extends Comparable&lt;X&gt;&gt; TestT&lt;X&gt; comparable() {\r\n            return new TestT&lt;&gt;();\r\n        }\r\n    \r\n        private TestT() {\r\n            arr = new ArrayList&lt;&gt;();\r\n        }\r\n        \r\n        void push(T e){\r\n            arr.add(e);\r\n        }\r\n    }\r\n\r\n","title":"Generics more restricted type for constructor","body":"<p>Your question doesn't make much sense since all constructor have the same name. Try using <code>static</code> methods instead:</p>\n<pre><code>public class TestT&lt;T&gt; {\n    private ArrayList&lt;T&gt; arr;\n\n    public static &lt;X extends Comparable&lt;X&gt;&gt; TestT&lt;X&gt; comparable() {\n        return new TestT&lt;&gt;();\n    }\n\n    private TestT() {\n        arr = new ArrayList&lt;&gt;();\n    }\n    \n    void push(T e){\n        arr.add(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675345621,"creation_date":1674049308,"question_id":75160153,"body_markdown":"Let&#39;s say I will have multiple constructors, other can use `T`, but one constructor has to use `Comparable`\r\n\r\nI tried to use\r\n\r\n    public &lt;T extends Comparable&lt;T&gt;&gt;TestT() // does not help\r\n\r\nthe code\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class TestT&lt;T&gt; {\r\n    \tprivate ArrayList&lt;T&gt; arr;\r\n    \t\r\n    \tpublic TestT() {\r\n    \t\tarr = new ArrayList&lt;&gt;();\r\n    \t}\r\n    \t\r\n    \tvoid push(T e){\r\n    \t\tarr.add(e);\r\n    \t}\r\n    }\r\n\r\nHow to make it so TestT constructor will allow only Comparable? Assuming I have other constructors which do not require Comparable","title":"Generics more restricted type for constructor","body":"<p>Let's say I will have multiple constructors, other can use <code>T</code>, but one constructor has to use <code>Comparable</code></p>\n<p>I tried to use</p>\n<pre><code>public &lt;T extends Comparable&lt;T&gt;&gt;TestT() // does not help\n</code></pre>\n<p>the code</p>\n<pre><code>import java.util.ArrayList;\n\npublic class TestT&lt;T&gt; {\n    private ArrayList&lt;T&gt; arr;\n    \n    public TestT() {\n        arr = new ArrayList&lt;&gt;();\n    }\n    \n    void push(T e){\n        arr.add(e);\n    }\n}\n</code></pre>\n<p>How to make it so TestT constructor will allow only Comparable? Assuming I have other constructors which do not require Comparable</p>\n"},{"tags":["java","linux","docker","io"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675345615,"post_id":75324026,"comment_id":132912048,"body_markdown":"My suspicion is that this might depend on [which volume driver is used](https://docs.docker.com/storage/volumes/#use-a-volume-driver). But then again I&#39;d suspect most/all to correctly handle atomic file creation.","body":"My suspicion is that this might depend on <a href=\"https://docs.docker.com/storage/volumes/#use-a-volume-driver\" rel=\"nofollow noreferrer\">which volume driver is used</a>. But then again I&#39;d suspect most/all to correctly handle atomic file creation."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1675346264,"post_id":75324026,"comment_id":132912305,"body_markdown":"There are enough SO questions around bind-mounts not correctly synching to the container filesystem that I&#39;d be suspicious here.  It may also depend on the specific Docker implementation; a VM-based solution like Minikube or Docker Desktop might behave differently from Docker directly on native Linux.  If you just want some sort of distributed lock, can you use a database transaction or a system like Redis, rather than the filesystem?","body":"There are enough SO questions around bind-mounts not correctly synching to the container filesystem that I&#39;d be suspicious here.  It may also depend on the specific Docker implementation; a VM-based solution like Minikube or Docker Desktop might behave differently from Docker directly on native Linux.  If you just want some sort of distributed lock, can you use a database transaction or a system like Redis, rather than the filesystem?"},{"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"score":0,"creation_date":1675400375,"post_id":75324026,"comment_id":132925231,"body_markdown":"@DavidMaze we&#39;re still investigating the possibilities; do you have 1 or 2 links about the SO questions?","body":"@DavidMaze we&#39;re still investigating the possibilities; do you have 1 or 2 links about the SO questions?"}],"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675345258,"creation_date":1675345258,"question_id":75324026,"body_markdown":"I&#39;m using:\r\n\r\n    Files.createFile(&quot;/tmp/marker.txt&quot;) \r\n\r\nfrom within two different Docker that are mounting the same Docker volume. The Javadoc is mentioning that this operation is atomic and therefore only one of the attempt will succeed:\r\n\r\n&gt; Creates a new and empty file, failing if the file already exists. The\r\n&gt; check for the existence of the file and the creation of the new file\r\n&gt; if it does not exist are a single operation that is atomic with\r\n&gt; respect to all other filesystem activities that might affect the\r\n&gt; directory.\r\n\r\nIs this operation still behaving the same in this scenario? ","title":"Java Files.createFile Docker volume atomic?","body":"<p>I'm using:</p>\n<pre><code>Files.createFile(&quot;/tmp/marker.txt&quot;) \n</code></pre>\n<p>from within two different Docker that are mounting the same Docker volume. The Javadoc is mentioning that this operation is atomic and therefore only one of the attempt will succeed:</p>\n<blockquote>\n<p>Creates a new and empty file, failing if the file already exists. The\ncheck for the existence of the file and the creation of the new file\nif it does not exist are a single operation that is atomic with\nrespect to all other filesystem activities that might affect the\ndirectory.</p>\n</blockquote>\n<p>Is this operation still behaving the same in this scenario?</p>\n"},{"tags":["java","decimalformat","jformattedtextfield","numberformatter"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1675347618,"post_id":75319177,"comment_id":132912828,"body_markdown":"Maybe a `JSpinner` will solve your problem. `JSpinner spin = new JSpinner();\nspin.setModel(new SpinnerNumberModel(0d, -9999.9d, 9999.9d, 0.1d));\nspin.setEditor(new JSpinner.NumberEditor(spin, &quot;#0.0&quot;));`","body":"Maybe a <code>JSpinner</code> will solve your problem. <code>JSpinner spin = new JSpinner(); spin.setModel(new SpinnerNumberModel(0d, -9999.9d, 9999.9d, 0.1d)); spin.setEditor(new JSpinner.NumberEditor(spin, &quot;#0.0&quot;));</code>"},{"owner":{"account_id":27681861,"reputation":1,"user_id":21130439,"display_name":"kcswalter"},"score":0,"creation_date":1675533554,"post_id":75319177,"comment_id":132951368,"body_markdown":"It seems nice, however I see some problems. It doesn&#39;t really blocks any extra input, simply clears the extra text AFTER losing focus, It doesn&#39;t recognize the minus sign unless it is entered at the beginning of the field. And it doesn&#39;t allow overwriting the existing text, which is a feature that I really appreciate. I wonder whether there is a way to improve on this, the code is much smaller that the documentfilter proposed by  @DevilsHnd and I like less code whenever possible. Java is already too verbose...","body":"It seems nice, however I see some problems. It doesn&#39;t really blocks any extra input, simply clears the extra text AFTER losing focus, It doesn&#39;t recognize the minus sign unless it is entered at the beginning of the field. And it doesn&#39;t allow overwriting the existing text, which is a feature that I really appreciate. I wonder whether there is a way to improve on this, the code is much smaller that the documentfilter proposed by  @DevilsHnd and I like less code whenever possible. Java is already too verbose..."}],"owner":{"account_id":27681861,"reputation":1,"user_id":21130439,"display_name":"kcswalter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675344847,"creation_date":1675317256,"question_id":75319177,"body_markdown":"I&#39;m new here (I&#39;ve read a lot, nut never posted before).\r\n\r\nI&#39;m encountering a weird problem on a JFormattedTextField. I&#39;m trying to limit the input to numbers ranging from 9999.9 to -9999.9, but I can&#39;t seem to find a working solution. I tried using a DecimalFormat and a NumberFormatter, but it doesn&#39;t work as expected. I looked all over the net, but I can&#39;t seem to find an explanation of what I&#39;m seeing (maybe I&#39;m not searching for the right thing?).\r\n\r\nHere is a small code that shows the problem:\r\n\r\n    import java.awt.*;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n\r\n    import java.text.*;\r\n    \r\n    public class testwindow extends JPanel\r\n    {\r\n        private JFormattedTextField field1;\r\n        private JFormattedTextField field2;\r\n    \r\n        public testwindow()\r\n        {\r\n            try\r\n            {\r\n                //format text input fields (only numbers, dots and minus; overwrite; don&#39;t allow invalid chars)\r\n                DecimalFormat decimalFormat = new DecimalFormat(&quot;#0.0;-#0.0&quot;);\r\n                decimalFormat.setNegativePrefix(&quot;-&quot;);\r\n                decimalFormat.setMinimumIntegerDigits(1);\r\n                decimalFormat.setMaximumIntegerDigits(4);\r\n                decimalFormat.setMinimumFractionDigits(1);\r\n                decimalFormat.setMaximumFractionDigits(1);\r\n                NumberFormatter realFormatter = new NumberFormatter(decimalFormat);\r\n                realFormatter.setOverwriteMode(true);\r\n                realFormatter.setAllowsInvalid(false);\r\n                \r\n                field1 = new JFormattedTextField(realFormatter);\r\n                field1.setValue(0F);\r\n                field2 = new JFormattedTextField(decimalFormat);\r\n                field2.setValue(0F);\r\n                \r\n                setPreferredSize (new Dimension (215, 60));\r\n                setLayout(new GridLayout(2,1));\r\n\r\n                add (field1);\r\n                add (field2);\r\n            }\r\n            catch (Exception ex) \r\n            {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main (String[] args)\r\n        {\r\n            JFrame frame = new JFrame (&quot;MyPanel&quot;);\r\n            frame.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add (new testwindow());\r\n            frame.pack();\r\n            frame.setVisible (true);\r\n        }\r\n    }\r\n\r\nBasically, I type 123456, and I&#39;d expect the result to be 1234.5.\r\nHowever:\r\n- field1, with NumberFormatter applied, shows 4050.6 immediately\r\n- field2 shows 1234560.0 while typing, and changes to 4560.0 after focus is moved\r\n\r\nAlso, when pressing minus on field1, the sign changes correctly between positive and negative. In field2, unless the minus is written as first character, it disappears.\r\n\r\nLast but not least, typing 9 as last char on field1 multiple times just causes the number to increase of 0.1 each time, making all the behavior really puzzling.\r\n\r\nI like much more the field1 behavior regarding the number of digits enforcement, but I wonder whether there is a correct/better way to obtain what I need, that is (as example) &quot;1234.5&quot; and the number not increasing by typing anything else as last char?","title":"Weird behavior of JFormattedTextField with NumberFormatter and DecimalFormat","body":"<p>I'm new here (I've read a lot, nut never posted before).</p>\n<p>I'm encountering a weird problem on a JFormattedTextField. I'm trying to limit the input to numbers ranging from 9999.9 to -9999.9, but I can't seem to find a working solution. I tried using a DecimalFormat and a NumberFormatter, but it doesn't work as expected. I looked all over the net, but I can't seem to find an explanation of what I'm seeing (maybe I'm not searching for the right thing?).</p>\n<p>Here is a small code that shows the problem:</p>\n<pre><code>import java.awt.*;\n\nimport javax.swing.*;\nimport javax.swing.text.*;\n\nimport java.text.*;\n\npublic class testwindow extends JPanel\n{\n    private JFormattedTextField field1;\n    private JFormattedTextField field2;\n\n    public testwindow()\n    {\n        try\n        {\n            //format text input fields (only numbers, dots and minus; overwrite; don't allow invalid chars)\n            DecimalFormat decimalFormat = new DecimalFormat(&quot;#0.0;-#0.0&quot;);\n            decimalFormat.setNegativePrefix(&quot;-&quot;);\n            decimalFormat.setMinimumIntegerDigits(1);\n            decimalFormat.setMaximumIntegerDigits(4);\n            decimalFormat.setMinimumFractionDigits(1);\n            decimalFormat.setMaximumFractionDigits(1);\n            NumberFormatter realFormatter = new NumberFormatter(decimalFormat);\n            realFormatter.setOverwriteMode(true);\n            realFormatter.setAllowsInvalid(false);\n            \n            field1 = new JFormattedTextField(realFormatter);\n            field1.setValue(0F);\n            field2 = new JFormattedTextField(decimalFormat);\n            field2.setValue(0F);\n            \n            setPreferredSize (new Dimension (215, 60));\n            setLayout(new GridLayout(2,1));\n\n            add (field1);\n            add (field2);\n        }\n        catch (Exception ex) \n        {\n            ex.printStackTrace();\n        }\n    }\n\n\n    public static void main (String[] args)\n    {\n        JFrame frame = new JFrame (&quot;MyPanel&quot;);\n        frame.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add (new testwindow());\n        frame.pack();\n        frame.setVisible (true);\n    }\n}\n</code></pre>\n<p>Basically, I type 123456, and I'd expect the result to be 1234.5.\nHowever:</p>\n<ul>\n<li>field1, with NumberFormatter applied, shows 4050.6 immediately</li>\n<li>field2 shows 1234560.0 while typing, and changes to 4560.0 after focus is moved</li>\n</ul>\n<p>Also, when pressing minus on field1, the sign changes correctly between positive and negative. In field2, unless the minus is written as first character, it disappears.</p>\n<p>Last but not least, typing 9 as last char on field1 multiple times just causes the number to increase of 0.1 each time, making all the behavior really puzzling.</p>\n<p>I like much more the field1 behavior regarding the number of digits enforcement, but I wonder whether there is a correct/better way to obtain what I need, that is (as example) &quot;1234.5&quot; and the number not increasing by typing anything else as last char?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":261465,"reputation":2124,"user_id":545657,"accept_rate":85,"display_name":"pqsk"},"score":0,"creation_date":1317128377,"post_id":7569459,"comment_id":9177184,"body_markdown":"are you talking about the run method for threading? If that&#39;s what you mean, then no. I mean you could have overloaded run methods, but the interface only has one method. So you only implement that run method.","body":"are you talking about the run method for threading? If that&#39;s what you mean, then no. I mean you could have overloaded run methods, but the interface only has one method. So you only implement that run method."},{"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"score":0,"creation_date":1317128420,"post_id":7569459,"comment_id":9177199,"body_markdown":"What you mean with `run method`? A method with you can run from command-line?","body":"What you mean with <code>run method</code>? A method with you can run from command-line?"},{"owner":{"account_id":938386,"reputation":69,"user_id":966912,"display_name":"Stella Kim"},"score":0,"creation_date":1317128547,"post_id":7569459,"comment_id":9177246,"body_markdown":"yes @pqsk I meant a run method for threading. I forgot to indicate it. If that is so, thank you.","body":"yes @pqsk I meant a run method for threading. I forgot to indicate it. If that is so, thank you."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1317129511,"post_id":7569459,"comment_id":9177557,"body_markdown":"The `run` method is executed when the thread starts. If there are two run methods -- say `run1` and `run2` which one would you wanted to be executed?","body":"The <code>run</code> method is executed when the thread starts. If there are two run methods -- say <code>run1</code> and <code>run2</code> which one would you wanted to be executed?"},{"owner":{"account_id":938386,"reputation":69,"user_id":966912,"display_name":"Stella Kim"},"score":0,"creation_date":1317129976,"post_id":7569459,"comment_id":9177729,"body_markdown":"can&#39;t i execute both? what i need is more like a race of two cars. each car should have a name and a run() method in a class which extends Thread. I will have to call on the two cars in my main to see which will win. The first or the second. I need help in starting my program.","body":"can&#39;t i execute both? what i need is more like a race of two cars. each car should have a name and a run() method in a class which extends Thread. I will have to call on the two cars in my main to see which will win. The first or the second. I need help in starting my program."},{"owner":{"account_id":261465,"reputation":2124,"user_id":545657,"accept_rate":85,"display_name":"pqsk"},"score":2,"creation_date":1317132388,"post_id":7569459,"comment_id":9178597,"body_markdown":"@StellaKim You could just have each car run on a separate thread. If you have any code already post it, or are you just not understanding threading?","body":"@StellaKim You could just have each car run on a separate thread. If you have any code already post it, or are you just not understanding threading?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317131517,"creation_date":1317128334,"answer_id":7569518,"question_id":7569459,"body_markdown":"A class can&#39;t contain two methods with the same *signature*. The signature of a method is its name followed by its arguments.\r\n\r\nYou may thus have `run(int)` and `run(String)` and `run()` in the same class. This is called *method overloading*. You can&#39;t have two `run()` methods, because you (and the compiler) could not know which one to execute when calling `obj.run()`.","title":"Can I have multiple run methods in a class?","body":"<p>A class can't contain two methods with the same <em>signature</em>. The signature of a method is its name followed by its arguments.</p>\n\n<p>You may thus have <code>run(int)</code> and <code>run(String)</code> and <code>run()</code> in the same class. This is called <em>method overloading</em>. You can't have two <code>run()</code> methods, because you (and the compiler) could not know which one to execute when calling <code>obj.run()</code>.</p>\n"},{"tags":[],"owner":{"account_id":477853,"reputation":11601,"user_id":889583,"accept_rate":80,"display_name":"daiscog"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1317128460,"creation_date":1317128460,"answer_id":7569546,"question_id":7569459,"body_markdown":"What for?  I assume you&#39;re talking about implementing the runnable interface, so you want two methods with the signature: `public void run();`?  \r\n\r\nHaving two methods with the same signature makes no sense; how would you distinguish between them when calling the method from elsewhere in your code?\r\n\r\nIf you want two different things to happen based on a certain condition when `run()` is invoked, then you need to add a conditional statement at the start of the method:\r\n\r\n    public void run() {\r\n    \r\n        if (some_condition) {\r\n\r\n            // code for the first scenario\r\n\r\n        } else {\r\n\r\n            // code for the second\r\n\r\n        }\r\n    \r\n    }","title":"Can I have multiple run methods in a class?","body":"<p>What for?  I assume you're talking about implementing the runnable interface, so you want two methods with the signature: <code>public void run();</code>?  </p>\n\n<p>Having two methods with the same signature makes no sense; how would you distinguish between them when calling the method from elsewhere in your code?</p>\n\n<p>If you want two different things to happen based on a certain condition when <code>run()</code> is invoked, then you need to add a conditional statement at the start of the method:</p>\n\n<pre><code>public void run() {\n\n    if (some_condition) {\n\n        // code for the first scenario\n\n    } else {\n\n        // code for the second\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360193,"reputation":8012,"user_id":702048,"accept_rate":100,"display_name":"Alberto Solano"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1317134670,"creation_date":1317134315,"answer_id":7570970,"question_id":7569459,"body_markdown":"As you asked, you want to know if it&#39;s possible to have more than one `run()` method in a class that implements the [Runnable][1] interface, or extends the [Thread][2] class.\r\n\r\nYou can just think about the definition of a thread. A thread is a single instructions block, contained inside a process, that&#39;s why a thread is called as a **lightweight process**. Generally, a thread executes only a specific task.\r\n\r\nA new thread is created when the main process of a program needs to do multiple operations in background, such as autosaving or grammar check, if the main program is a word processor, for example. This is the concept of [multithreading][3]. \r\n\r\nNow, if you read the `Runnable` or `Thread` API, you can see that the class that extends `Thread` class or implements the `Runnable` class, overrides (in case you are extending `Thread` class) the run() method or implements the abstract method `run()` (in case you are implementing the `Runnable` class). \r\n\r\nAs other users said, you can use the overloading technique. You can implement another `run()` method in the class, with a different signature, because it&#39;s not a legal practice to have multiple methods with the same signature (it generates confusion for the compiler when you have to invoking one of them) and because it&#39;s non sense.\r\n\r\nBut, remember, at the moment of the starting of the thread, using, for example `Thread.start()`, then the method will invoke always the `run()` method you defined previously, with the empty signature. It&#39;s possible only to invoke another `run` method, with a different signature as `run(String s)`, in the main `run()` method of thread. \r\n\r\nFor example:\r\n\r\n    public class Thread implements Runnable{\r\n          \r\n       public void run(){\r\n             //instructions\r\n             Object o = new Object();\r\n             run(o);\r\n        }\r\n       \r\n       public void run(Object o){\r\n           //other instructions\r\n        }\r\n    } \r\n    \r\n    \r\n    public class OtherClass{\r\n        Thread t = new Thread();\r\n        t.start(); //this will invoke the main run() method!\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html\r\n  [3]: http://en.wikipedia.org/wiki/Thread_%28computer_science%29#Multithreading","title":"Can I have multiple run methods in a class?","body":"<p>As you asked, you want to know if it's possible to have more than one <code>run()</code> method in a class that implements the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html\" rel=\"nofollow\">Runnable</a> interface, or extends the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html\" rel=\"nofollow\">Thread</a> class.</p>\n\n<p>You can just think about the definition of a thread. A thread is a single instructions block, contained inside a process, that's why a thread is called as a <strong>lightweight process</strong>. Generally, a thread executes only a specific task.</p>\n\n<p>A new thread is created when the main process of a program needs to do multiple operations in background, such as autosaving or grammar check, if the main program is a word processor, for example. This is the concept of <a href=\"http://en.wikipedia.org/wiki/Thread_%28computer_science%29#Multithreading\" rel=\"nofollow\">multithreading</a>. </p>\n\n<p>Now, if you read the <code>Runnable</code> or <code>Thread</code> API, you can see that the class that extends <code>Thread</code> class or implements the <code>Runnable</code> class, overrides (in case you are extending <code>Thread</code> class) the run() method or implements the abstract method <code>run()</code> (in case you are implementing the <code>Runnable</code> class). </p>\n\n<p>As other users said, you can use the overloading technique. You can implement another <code>run()</code> method in the class, with a different signature, because it's not a legal practice to have multiple methods with the same signature (it generates confusion for the compiler when you have to invoking one of them) and because it's non sense.</p>\n\n<p>But, remember, at the moment of the starting of the thread, using, for example <code>Thread.start()</code>, then the method will invoke always the <code>run()</code> method you defined previously, with the empty signature. It's possible only to invoke another <code>run</code> method, with a different signature as <code>run(String s)</code>, in the main <code>run()</code> method of thread. </p>\n\n<p>For example:</p>\n\n<pre><code>public class Thread implements Runnable{\n\n   public void run(){\n         //instructions\n         Object o = new Object();\n         run(o);\n    }\n\n   public void run(Object o){\n       //other instructions\n    }\n} \n\n\npublic class OtherClass{\n    Thread t = new Thread();\n    t.start(); //this will invoke the main run() method!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261465,"reputation":2124,"user_id":545657,"accept_rate":85,"display_name":"pqsk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501085031,"creation_date":1317143806,"answer_id":7573103,"question_id":7569459,"body_markdown":"Try:\r\n\r\n     public class Car extends Thread\r\n     {\r\n          public String name;\r\n\r\n          public Car(String name)\r\n          {\r\n               this.name = name;\r\n          }\r\n          public void run()\r\n          {\r\n               //your code\r\n          }\r\n     }\r\n\r\n     public static void main(String[] args)\r\n     {\r\n          Thread car1 = new Car(&quot;car1&#39;s name&quot;);\r\n          Thread car2 = new Car(&quot;car2&#39;s name&quot;);\r\n          car1.start();\r\n          car2.start();\r\n          \r\n     }\r\n\r\nYou can add your logic into Car.run(), but basically that&#39;s how I would do that. In your logic determine when it starts and ends. When both threads finish, you can see which one is the winner. You could also add a while loop and have a field in Car that is a boolean type to determine if it&#39;s finished or not.","title":"Can I have multiple run methods in a class?","body":"<p>Try:</p>\n\n<pre><code> public class Car extends Thread\n {\n      public String name;\n\n      public Car(String name)\n      {\n           this.name = name;\n      }\n      public void run()\n      {\n           //your code\n      }\n }\n\n public static void main(String[] args)\n {\n      Thread car1 = new Car(\"car1's name\");\n      Thread car2 = new Car(\"car2's name\");\n      car1.start();\n      car2.start();\n\n }\n</code></pre>\n\n<p>You can add your logic into Car.run(), but basically that's how I would do that. In your logic determine when it starts and ends. When both threads finish, you can see which one is the winner. You could also add a while loop and have a field in Car that is a boolean type to determine if it's finished or not.</p>\n"},{"tags":[],"owner":{"account_id":3228622,"reputation":761,"user_id":2724374,"accept_rate":56,"display_name":"Aslam a"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487367943,"creation_date":1377802670,"answer_id":18518992,"question_id":7569459,"body_markdown":"    Thread t1 = new Thread(new Runnable(){public void run(){...}})\r\n    Thread t2 = new Thread(new Runnable(){public void run(){....}})\r\n    t1.start();\r\n    t2.start();\r\n\r\nBy using inner class you can achieve multiple run methods in a single class.","title":"Can I have multiple run methods in a class?","body":"<pre><code>Thread t1 = new Thread(new Runnable(){public void run(){...}})\nThread t2 = new Thread(new Runnable(){public void run(){....}})\nt1.start();\nt2.start();\n</code></pre>\n\n<p>By using inner class you can achieve multiple run methods in a single class.</p>\n"},{"tags":[],"owner":{"display_name":"user19921349"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675344819,"creation_date":1675344819,"answer_id":75323949,"question_id":7569459,"body_markdown":"you can create two classes and call start method(basic idia) look at the example!\r\n//class Second\r\n\r\n    public class Second extends Thread {\r\n    public void run() {\r\n    for (int c = 100; c &gt; 0; c--) {\r\n        System.out.println(c);\r\n      }\r\n     }\r\n    }\r\n//class Main\r\n\r\n    public class Main extends Thread {\r\n    public void run() {\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        System.out.println(i);\r\n     }\r\n   }\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n    Main thread_1 = new Main();\r\n    Second thread_2 = new Second();\r\n\r\n    // Let&#39;s fix concurrency problem\r\n    // method 1:\r\n    \r\n    thread_1.start();\r\n    thread_1.join();\r\n    thread_2.start();\r\n    thread_2.join();\r\n    \r\n    //method 2:\r\n    //or you can use  is alive\r\n    /* thread_1.start();\r\n    while (thread_1.isAlive()){\r\n        System.out.print(&quot;&quot;);\r\n    }thread_2.start();*/\r\n    \r\n\r\n    }\r\n  }","title":"Can I have multiple run methods in a class?","body":"<p>you can create two classes and call start method(basic idia) look at the example!\n//class Second</p>\n<pre><code>public class Second extends Thread {\npublic void run() {\nfor (int c = 100; c &gt; 0; c--) {\n    System.out.println(c);\n  }\n }\n}\n</code></pre>\n<p>//class Main</p>\n<pre><code>public class Main extends Thread {\npublic void run() {\nfor (int i = 0; i &lt; 100; i++) {\n    System.out.println(i);\n }\n</code></pre>\n<p>}</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\nMain thread_1 = new Main();\nSecond thread_2 = new Second();\n\n// Let's fix concurrency problem\n// method 1:\n\nthread_1.start();\nthread_1.join();\nthread_2.start();\nthread_2.join();\n\n//method 2:\n//or you can use  is alive\n/* thread_1.start();\nwhile (thread_1.isAlive()){\n    System.out.print(&quot;&quot;);\n}thread_2.start();*/\n\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":938386,"reputation":69,"user_id":966912,"display_name":"Stella Kim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29488,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":6,"score":6,"last_activity_date":1675344819,"creation_date":1317128106,"question_id":7569459,"body_markdown":"If so, how? I need to have 2 run methods in each object I will instantiate.\r\n\r\nI meant a run method for threading.\r\n\r\nWhat i need is more like a race of two cars. each car should have a name and a run() method in a class which extends Thread. I will have to call on the two cars in my main to see which will win. The first or the second. I need help in starting my program\r\n\r\n ","title":"Can I have multiple run methods in a class?","body":"<p>If so, how? I need to have 2 run methods in each object I will instantiate.</p>\n\n<p>I meant a run method for threading.</p>\n\n<p>What i need is more like a race of two cars. each car should have a name and a run() method in a class which extends Thread. I will have to call on the two cars in my main to see which will win. The first or the second. I need help in starting my program</p>\n"},{"tags":["java","android","dialog","android-alertdialog"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675343524,"post_id":75323634,"comment_id":132911260,"body_markdown":"I&#39;ve found a post from 2015 stating that that method was deprecated. Have a look at this, maybe it&#39;ll help you resolve your issues: https://stackoverflow.com/questions/30018587/alertdialog-setbutton-was-deprecated","body":"I&#39;ve found a post from 2015 stating that that method was deprecated. Have a look at this, maybe it&#39;ll help you resolve your issues: <a href=\"https://stackoverflow.com/questions/30018587/alertdialog-setbutton-was-deprecated\" title=\"alertdialog setbutton was deprecated\">stackoverflow.com/questions/30018587/&hellip;</a>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1675344038,"post_id":75323634,"comment_id":132911428,"body_markdown":"Have you looked at the [docs](https://developer.android.com/reference/androidx/appcompat/app/AlertDialog)? There is no method with the signature `setButton(int, OnClickListener)`. You can see what methods are available in the docs or in the error message","body":"Have you looked at the <a href=\"https://developer.android.com/reference/androidx/appcompat/app/AlertDialog\" rel=\"nofollow noreferrer\">docs</a>? There is no method with the signature <code>setButton(int, OnClickListener)</code>. You can see what methods are available in the docs or in the error message"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675343965,"creation_date":1675343965,"answer_id":75323790,"question_id":75323634,"body_markdown":"As per error , it looks like method with parameter types that you are using is not there . So basically you have three choice to use\r\n\r\n```\r\n 1. setButton(int,CharSequence,Message)\r\n 2. setButton(int,CharSequence,OnClickListener)\r\n 3. setButton(int,CharSequence,Drawable,OnClickListener)\r\n```","title":"why alertDialog.setButton onclickListner show error that no suitable method found","body":"<p>As per error , it looks like method with parameter types that you are using is not there . So basically you have three choice to use</p>\n<pre><code> 1. setButton(int,CharSequence,Message)\n 2. setButton(int,CharSequence,OnClickListener)\n 3. setButton(int,CharSequence,Drawable,OnClickListener)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675344548,"creation_date":1675344154,"answer_id":75323820,"question_id":75323634,"body_markdown":"don&#39;t build your dialog in first line (`create()` call), use `AlertDialog.Builder` instance, set &quot;possitive&quot; and &quot;negative&quot; buttons on this (also title, message etc.), then call `create()` or even simpler `show()`\r\n\r\ncheck out sample [HERE](https://www.javatpoint.com/android-alert-dialog-example)\r\n\r\n    // initial builder and msg setup\r\n\tAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\tbuilder.setMessage(&quot;Close app?&quot;).setTitle(&quot;Exit&quot;);\r\n\r\n    // can&#39;t close dialog with e.g. back button, must be picked on of buttons\r\n\tbuilder.setCancelable(false); \r\n\r\n    // buttons setup\r\n\tbuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {  \r\n\t\tpublic void onClick(DialogInterface dialog, int id) {  \r\n\t\t\tfinish(); // closing Activity\r\n\t\t}  \r\n\t});\r\n\tbuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {  \r\n\t\tpublic void onClick(DialogInterface dialog, int id) {\r\n\t\t\r\n\t\t}  \r\n\t});\r\n\tbuilder.show();\r\n\r\ndialog will close automatically when any button clicked, the one with &quot;Yes&quot; will close whole `Activity`, &quot;No&quot; is empty and you will stay in (looks like empty) `Activity`","title":"why alertDialog.setButton onclickListner show error that no suitable method found","body":"<p>don't build your dialog in first line (<code>create()</code> call), use <code>AlertDialog.Builder</code> instance, set &quot;possitive&quot; and &quot;negative&quot; buttons on this (also title, message etc.), then call <code>create()</code> or even simpler <code>show()</code></p>\n<p>check out sample <a href=\"https://www.javatpoint.com/android-alert-dialog-example\" rel=\"nofollow noreferrer\">HERE</a></p>\n<pre><code>// initial builder and msg setup\nAlertDialog.Builder builder = new AlertDialog.Builder(this);\nbuilder.setMessage(&quot;Close app?&quot;).setTitle(&quot;Exit&quot;);\n\n// can't close dialog with e.g. back button, must be picked on of buttons\nbuilder.setCancelable(false); \n\n// buttons setup\nbuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {  \n    public void onClick(DialogInterface dialog, int id) {  \n        finish(); // closing Activity\n    }  \n});\nbuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {  \n    public void onClick(DialogInterface dialog, int id) {\n    \n    }  \n});\nbuilder.show();\n</code></pre>\n<p>dialog will close automatically when any button clicked, the one with &quot;Yes&quot; will close whole <code>Activity</code>, &quot;No&quot; is empty and you will stay in (looks like empty) <code>Activity</code></p>\n"}],"owner":{"account_id":18471408,"reputation":5,"user_id":13456203,"display_name":"THE Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75323820,"answer_count":2,"score":0,"last_activity_date":1675344548,"creation_date":1675343181,"question_id":75323634,"body_markdown":"MainActivity\r\n```\r\npackage com.example.dialog;\r\n\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        AlertDialog alertDialog= new AlertDialog.Builder(this).create();\r\n        alertDialog.setTitle(&quot;Term and Conditons&quot;);\r\n        alertDialog.setIcon(R.drawable.baseline_info_24);\r\nalertDialog.setMessage(&quot;have you read all term and condition&quot;);\r\nalertDialog.setButton(&quot;yes, I&#39;ve read&quot;,new DialogInterface.OnClickListener(){\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n        Toast.makeText(MainActivity.this, &quot;Tes, you can proceed now..&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n});\r\nalertDialog.show();\r\n    }\r\n}\r\n```\r\nError\r\n\r\n    C:\\Users\\anonhake\\AndroidStudioProjects\\dialog\\app\\src\\main\\java\\com\\example\\dialog\\MainActivity.java:20: error: no suitable method found for setButton(String,&lt;anonymous OnClickListener&gt;)\r\n    alertDialog.setButton(&quot;yes, I&#39;ve read&quot;,new DialogInterface.OnClickListener(){\r\n               ^\r\n        method AlertDialog.setButton(int,CharSequence,Message) is not applicable\r\n          (actual and formal argument lists differ in length)\r\n        method AlertDialog.setButton(int,CharSequence,OnClickListener) is not applicable\r\n          (actual and formal argument lists differ in length)\r\n        method AlertDialog.setButton(int,CharSequence,Drawable,OnClickListener) is not applicable\r\n          (actual and formal argument lists differ in length)\r\n\r\n","title":"why alertDialog.setButton onclickListner show error that no suitable method found","body":"<p>MainActivity</p>\n<pre><code>package com.example.dialog;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        AlertDialog alertDialog= new AlertDialog.Builder(this).create();\n        alertDialog.setTitle(&quot;Term and Conditons&quot;);\n        alertDialog.setIcon(R.drawable.baseline_info_24);\nalertDialog.setMessage(&quot;have you read all term and condition&quot;);\nalertDialog.setButton(&quot;yes, I've read&quot;,new DialogInterface.OnClickListener(){\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        Toast.makeText(MainActivity.this, &quot;Tes, you can proceed now..&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n});\nalertDialog.show();\n    }\n}\n</code></pre>\n<p>Error</p>\n<pre><code>C:\\Users\\anonhake\\AndroidStudioProjects\\dialog\\app\\src\\main\\java\\com\\example\\dialog\\MainActivity.java:20: error: no suitable method found for setButton(String,&lt;anonymous OnClickListener&gt;)\nalertDialog.setButton(&quot;yes, I've read&quot;,new DialogInterface.OnClickListener(){\n           ^\n    method AlertDialog.setButton(int,CharSequence,Message) is not applicable\n      (actual and formal argument lists differ in length)\n    method AlertDialog.setButton(int,CharSequence,OnClickListener) is not applicable\n      (actual and formal argument lists differ in length)\n    method AlertDialog.setButton(int,CharSequence,Drawable,OnClickListener) is not applicable\n      (actual and formal argument lists differ in length)\n</code></pre>\n"},{"tags":["javascript","java","ajax","post","console"],"owner":{"account_id":21145960,"reputation":3,"user_id":15547295,"display_name":"accastell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675344107,"creation_date":1675344107,"question_id":75323815,"body_markdown":"I want to remove an error from the browser&#39;s console, in the back end I&#39;m treating my rules with an Exception class, so I return a &quot;throw new testException(msgError)&quot;, which in the action drops as an error, which is exactly what I I want to, but I want to disguise this error from the console, remove its presentation from the browser console,  I&#39;ll deal with it and then it will appear in the back end.\r\n\r\n### action ###\r\n```\r\n public String () {\r\n\r\n        try {\r\n            testeServiceImpl.insertTest();\r\n        } catch (TestException pe) {\r\n            writeErrorToJsonResponse(pe.getMessage());\r\n            LOGGER.error(pe.getMessage(), pe);\r\n            return Action.ERROR;\r\n        }  catch (Exception e) {\r\n            LOGGER.error(&quot;&quot;, e);\r\n            return Action.ERROR;\r\n        }\r\n        return Action.SUCCESS;\r\n    }\r\n```\r\n```\r\n public void insertTest()\r\n            throws TestException {\r\n\r\n        this.msgErro = &quot;&quot;;\r\n\r\n        if(example) {\r\n\r\n        } else {\r\n            this.msgErro = &quot;Test\\n&quot;;\r\n            throw new TestException(msgErro);\r\n        }\r\n    }\r\n```\r\n### js ###\r\n```\r\nfunction (){\r\n         jqry.ajax({\r\n            type: &quot;POST&quot;,\r\n            dataType: &#39;json&#39;,\r\n            url: globalContextPath + &quot;/test.do&quot;,\r\n            cache: false,\r\n            data: {\r\n                      &#39;test&#39;: test,  \r\n            },\r\n            success: function(result){\r\n                jqry.alertbox({&#39;label&#39;:  &#39;OK&#39;,\r\n                    &#39;buttons&#39; : {&#39;label&#39; : &#39;CLOSE&#39;,\r\n                        &#39;callback&#39; : function() {\r\n                            window.location.reload();\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            error: function(pe) {\r\n\r\n                jsonResponse = JSON.parse(pe.responseText);\r\n                jqry.alertbox({\r\n                     &#39;label&#39;: &#39;&lt;br&gt;&lt;br&gt;&#39; + jsonResponse.error + &#39;&lt;br&gt;&lt;br&gt;;&#39;\r\n                });\r\n                close();\r\n            },\r\n            complete: function(){\r\n                close();\r\n            }\r\n         });\r\n }\r\n}\r\n```\r\n\r\n\r\n\r\nthis is just a demo example, this model works as I would like, but I wanted to implement it in js, removing the presentation of the log in the browser console in the techo of &quot;error:function&quot;.\r\n\r\ncan someone help me? i tried with xhr but i couldn&#39;t","title":"I want to remove a 500 error from an ajax function from the browser console, why do I handle it in the back end","body":"<p>I want to remove an error from the browser's console, in the back end I'm treating my rules with an Exception class, so I return a &quot;throw new testException(msgError)&quot;, which in the action drops as an error, which is exactly what I I want to, but I want to disguise this error from the console, remove its presentation from the browser console,  I'll deal with it and then it will appear in the back end.</p>\n<h3>action</h3>\n<pre><code> public String () {\n\n        try {\n            testeServiceImpl.insertTest();\n        } catch (TestException pe) {\n            writeErrorToJsonResponse(pe.getMessage());\n            LOGGER.error(pe.getMessage(), pe);\n            return Action.ERROR;\n        }  catch (Exception e) {\n            LOGGER.error(&quot;&quot;, e);\n            return Action.ERROR;\n        }\n        return Action.SUCCESS;\n    }\n</code></pre>\n<pre><code> public void insertTest()\n            throws TestException {\n\n        this.msgErro = &quot;&quot;;\n\n        if(example) {\n\n        } else {\n            this.msgErro = &quot;Test\\n&quot;;\n            throw new TestException(msgErro);\n        }\n    }\n</code></pre>\n<h3>js</h3>\n<pre><code>function (){\n         jqry.ajax({\n            type: &quot;POST&quot;,\n            dataType: 'json',\n            url: globalContextPath + &quot;/test.do&quot;,\n            cache: false,\n            data: {\n                      'test': test,  \n            },\n            success: function(result){\n                jqry.alertbox({'label':  'OK',\n                    'buttons' : {'label' : 'CLOSE',\n                        'callback' : function() {\n                            window.location.reload();\n                        }\n                    }\n                });\n            },\n            error: function(pe) {\n\n                jsonResponse = JSON.parse(pe.responseText);\n                jqry.alertbox({\n                     'label': '&lt;br&gt;&lt;br&gt;' + jsonResponse.error + '&lt;br&gt;&lt;br&gt;;'\n                });\n                close();\n            },\n            complete: function(){\n                close();\n            }\n         });\n }\n}\n</code></pre>\n<p>this is just a demo example, this model works as I would like, but I wanted to implement it in js, removing the presentation of the log in the browser console in the techo of &quot;error:function&quot;.</p>\n<p>can someone help me? i tried with xhr but i couldn't</p>\n"},{"tags":["java","spring-security","single-sign-on","csrf","waffle"],"owner":{"account_id":9806296,"reputation":88,"user_id":7265913,"display_name":"Jonny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675344096,"creation_date":1675344096,"question_id":75323813,"body_markdown":"I have the following FilterChain (@EnableWebSecurity(debug = true) Logger:)\r\n\r\n    Security filter chain: [\r\n      DisableEncodeUrlFilter\r\n      WebAsyncManagerIntegrationFilter\r\n      SecurityContextHolderFilter\r\n      HeaderWriterFilter\r\n      CorsFilter\r\n      CsrfFilter\r\n      LogoutFilter\r\n      NegotiateSecurityFilter\r\n      BasicAuthenticationFilter\r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      ExceptionTranslationFilter\r\n      AuthorizationFilter\r\n    ]\r\n\r\nI encountered a problem with stateless Single Sign-On (SSO) and Cross-Site Request Forgery (CSRF). The SSO process causes the standard &quot;Ping Pong&quot; request to become three requests (as seen in Fiddler: 401, 401, 200/403). The third authenticated request results in an &quot;Invalid CSRF Token found&quot; error. My hypothesis is that the CSRF filter takes the token from the first request and marks it as &quot;used&quot; or deletes it from the repository. As a result, after the SSO negotiation is complete, the token is invalid and causes the error.\r\n\r\nI am currently attempting to move the CSRF filter down the chain, after the Basic Authentication Filter. However, it is proving to be more difficult than anticipated.\r\n\r\nHere is my SecurityConfig:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\n    import org.springframework.security.web.csrf.CookieCsrfTokenRepository;\r\n    \r\n    import jakarta.servlet.Filter;\r\n    import waffle.spring.NegotiateSecurityFilter;\r\n    import waffle.spring.NegotiateSecurityFilterEntryPoint;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    @EnableMethodSecurity(securedEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate NegotiateSecurityFilter negotiateSecurityFilter;\r\n    \r\n    \t@Autowired\r\n    \tprivate NegotiateSecurityFilterEntryPoint entryPoint;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors()\r\n            .and().authorizeHttpRequests().anyRequest().authenticated()\r\n    \t\t.and().httpBasic().authenticationEntryPoint(entryPoint)\r\n    \t\t.and().csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n    \t\t.and().addFilterAfter(negotiateSecurityFilter, BasicAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    }\r\n\r\nI have tried changing the HTTP configuration by moving the CSRF filter up or down and using &quot;addFilterBefore&quot; or &quot;addFilterAfter&quot;, but it did not alter the filter chain order. Since the CSRF filter is added automatically by Spring Security, I am not sure how to change its order. Any guess?","title":"Change Order of Spring Boot Security CRSFFilter","body":"<p>I have the following FilterChain (@EnableWebSecurity(debug = true) Logger:)</p>\n<pre><code>Security filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  CorsFilter\n  CsrfFilter\n  LogoutFilter\n  NegotiateSecurityFilter\n  BasicAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n</code></pre>\n<p>I encountered a problem with stateless Single Sign-On (SSO) and Cross-Site Request Forgery (CSRF). The SSO process causes the standard &quot;Ping Pong&quot; request to become three requests (as seen in Fiddler: 401, 401, 200/403). The third authenticated request results in an &quot;Invalid CSRF Token found&quot; error. My hypothesis is that the CSRF filter takes the token from the first request and marks it as &quot;used&quot; or deletes it from the repository. As a result, after the SSO negotiation is complete, the token is invalid and causes the error.</p>\n<p>I am currently attempting to move the CSRF filter down the chain, after the Basic Authentication Filter. However, it is proving to be more difficult than anticipated.</p>\n<p>Here is my SecurityConfig:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\n\nimport jakarta.servlet.Filter;\nimport waffle.spring.NegotiateSecurityFilter;\nimport waffle.spring.NegotiateSecurityFilterEntryPoint;\n\n@Configuration\n@EnableWebSecurity(debug = true)\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfig {\n\n    @Autowired\n    private NegotiateSecurityFilter negotiateSecurityFilter;\n\n    @Autowired\n    private NegotiateSecurityFilterEntryPoint entryPoint;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors()\n        .and().authorizeHttpRequests().anyRequest().authenticated()\n        .and().httpBasic().authenticationEntryPoint(entryPoint)\n        .and().csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n        .and().addFilterAfter(negotiateSecurityFilter, BasicAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p>I have tried changing the HTTP configuration by moving the CSRF filter up or down and using &quot;addFilterBefore&quot; or &quot;addFilterAfter&quot;, but it did not alter the filter chain order. Since the CSRF filter is added automatically by Spring Security, I am not sure how to change its order. Any guess?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1675341503,"post_id":75323144,"comment_id":132910537,"body_markdown":"yes, a list in JSON looks like an array. does your Candlestick class implement a toString() function? what do you see if you print out the response of the service method call?","body":"yes, a list in JSON looks like an array. does your Candlestick class implement a toString() function? what do you see if you print out the response of the service method call?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675341676,"post_id":75323144,"comment_id":132910602,"body_markdown":"Yes it should be an array but an array of JSON objects including their properties like close:number, high:number etc.\n\nWhen I system.out.println the service response inside the controller it is logged correctly including all properties\n\n139490.04905910], Candlestick[openTime=1675209000000,open=23134.49000000,high=23157.64000000,low=23122.79000000,close=23150.110000","body":"Yes it should be an array but an array of JSON objects including their properties like close:number, high:number etc.  When I system.out.println the service response inside the controller it is logged correctly including all properties  139490.04905910], Candlestick[openTime=1675209000000,open=23134.49000000,high=&zwnj;&#8203;23157.64000000,low=2&zwnj;&#8203;3122.79000000,close=&zwnj;&#8203;23150.110000"},{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1675344302,"post_id":75323144,"comment_id":132911537,"body_markdown":"Can you share code for Candlestick class?","body":"Can you share code for Candlestick class?"}],"answers":[{"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675345573,"post_id":75323812,"comment_id":132912033,"body_markdown":"I can not edit the Candlestick class, it comes from a 3rd party maven repo and my editor won&#39;t let me edit it.","body":"I can not edit the Candlestick class, it comes from a 3rd party maven repo and my editor won&#39;t let me edit it."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675345716,"post_id":75323812,"comment_id":132912088,"body_markdown":"it says can not edit in read-only mode. But also, if I would edit the 3rd party module files and deploy the app to a remote server, wouldnt it just download the dependencies default state a gain and the project fails to work anyway?","body":"it says can not edit in read-only mode. But also, if I would edit the 3rd party module files and deploy the app to a remote server, wouldnt it just download the dependencies default state a gain and the project fails to work anyway?"}],"tags":[],"owner":{"account_id":4738200,"reputation":92,"user_id":3831918,"display_name":"Danny M"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675344095,"creation_date":1675344095,"answer_id":75323812,"question_id":75323144,"body_markdown":"Try adding @JsonProperty on property name\r\n\r\n```\r\npublic class Candlestick {\r\n   @JsonProperty(&quot;open&quot;)\r\n   private String open;\r\n\r\n   @JsonProperty(&quot;high&quot;)\r\n   private String high;\r\n\r\n   @JsonProperty(&quot;low&quot;)\r\n   private String low;\r\n\r\n   @JsonProperty(&quot;close&quot;)\r\n   private String close;\r\n\r\n   // getters and setters\r\n}\r\n```","title":"Spring Boot Restcontroller JSON Response doesnt include any property names but only values","body":"<p>Try adding @JsonProperty on property name</p>\n<pre><code>public class Candlestick {\n   @JsonProperty(&quot;open&quot;)\n   private String open;\n\n   @JsonProperty(&quot;high&quot;)\n   private String high;\n\n   @JsonProperty(&quot;low&quot;)\n   private String low;\n\n   @JsonProperty(&quot;close&quot;)\n   private String close;\n\n   // getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675344095,"creation_date":1675340707,"question_id":75323144,"body_markdown":"I am trying to get familiar with  Java and Spring Boot and I have managed to set up a service and a controller as I needed but there is one minor issue I can not seem to solve.\r\n\r\nThe Get Mapping should return a List of Classes from a 3rd party library, which it does. The Issue is that it is not including the property names in the JSON response.\r\n\r\n        @GetMapping(&quot;/{symbol}/{timeframe}&quot;)\r\n    public List&lt;Candlestick&gt; getOHLCV(@PathVariable(&quot;symbol&quot;) String symbol,\r\n            @PathVariable(&quot;timeframe&quot;) String timeframe) {\r\n\r\n        return service.getOHLCV(symbol, IntervalConverter.fromString(timeframe));\r\n    }\r\n\r\nThe Candlestick Class holds properties like open, high,low,close but these property names are all missing in the response. Why is that the case and how to solve that?\r\n\r\nI get a response array like this:\r\n\r\n[[1675190700000,&quot;23143.08000000&quot;,&quot;23179.36000000&quot;,&quot;23141.26000000&quot;,&quot;23178.22000000&quot;,&quot;766.15847000&quot;,1675190999999,&quot;17746710.34454660&quot;,22165,&quot;453.83717000&quot;,&quot;10512390.22459520&quot;]]","title":"Spring Boot Restcontroller JSON Response doesnt include any property names but only values","body":"<p>I am trying to get familiar with  Java and Spring Boot and I have managed to set up a service and a controller as I needed but there is one minor issue I can not seem to solve.</p>\n<p>The Get Mapping should return a List of Classes from a 3rd party library, which it does. The Issue is that it is not including the property names in the JSON response.</p>\n<pre><code>    @GetMapping(&quot;/{symbol}/{timeframe}&quot;)\npublic List&lt;Candlestick&gt; getOHLCV(@PathVariable(&quot;symbol&quot;) String symbol,\n        @PathVariable(&quot;timeframe&quot;) String timeframe) {\n\n    return service.getOHLCV(symbol, IntervalConverter.fromString(timeframe));\n}\n</code></pre>\n<p>The Candlestick Class holds properties like open, high,low,close but these property names are all missing in the response. Why is that the case and how to solve that?</p>\n<p>I get a response array like this:</p>\n<p>[[1675190700000,&quot;23143.08000000&quot;,&quot;23179.36000000&quot;,&quot;23141.26000000&quot;,&quot;23178.22000000&quot;,&quot;766.15847000&quot;,1675190999999,&quot;17746710.34454660&quot;,22165,&quot;453.83717000&quot;,&quot;10512390.22459520&quot;]]</p>\n"},{"tags":["java","selenium","selenium-webdriver","nullpointerexception","cucumber"],"comments":[{"owner":{"account_id":11027271,"reputation":1938,"user_id":8099744,"display_name":"Sureshmani Kalirajan"},"score":0,"creation_date":1603073503,"post_id":64419768,"comment_id":113911343,"body_markdown":"I think @Before never got invoked. Did you see the browser open and navigate to the url ?  if you are using cucumber hooks, then you have to add those to the glue path on your runner file.","body":"I think @Before never got invoked. Did you see the browser open and navigate to the url ?  if you are using cucumber hooks, then you have to add those to the glue path on your runner file."},{"owner":{"account_id":4504140,"reputation":71,"user_id":3661963,"display_name":"shabnam"},"score":0,"creation_date":1603096472,"post_id":64419768,"comment_id":113917569,"body_markdown":"yes its opening and closing the browser. This is the problem why returning the null exception even the driver invoking. I debugged and got the LoginPage class execute before hook, dnt know why","body":"yes its opening and closing the browser. This is the problem why returning the null exception even the driver invoking. I debugged and got the LoginPage class execute before hook, dnt know why"}],"answers":[{"comments":[{"owner":{"account_id":4504140,"reputation":71,"user_id":3661963,"display_name":"shabnam"},"score":0,"creation_date":1603145619,"post_id":64426668,"comment_id":113938408,"body_markdown":"Thanks. How to use shared driver if not extended the class? Can you please let me know. Thanks","body":"Thanks. How to use shared driver if not extended the class? Can you please let me know. Thanks"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1603147161,"post_id":64426668,"comment_id":113938811,"body_markdown":"https://webelement.click/en/cucumber_java_8_selenium_pageobject_picocontainer_tutorial","body":"<a href=\"https://webelement.click/en/cucumber_java_8_selenium_pageobject_picocontainer_tutorial\" rel=\"nofollow noreferrer\">webelement.click/en/&hellip;</a>"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603107886,"creation_date":1603107886,"answer_id":64426668,"question_id":64419768,"body_markdown":"Do not extend your page class from test class. JUnit instantiate an object from test class where the driver field is then injected using code from `@Before`. \r\n\r\nThen when you initizlize you page object it creates **different** object where your webdriver is still null.","title":"selenium driver returns null when calling from base class","body":"<p>Do not extend your page class from test class. JUnit instantiate an object from test class where the driver field is then injected using code from <code>@Before</code>.</p>\n<p>Then when you initizlize you page object it creates <strong>different</strong> object where your webdriver is still null.</p>\n"},{"tags":[],"owner":{"account_id":27685601,"reputation":1,"user_id":21133426,"display_name":"devanshu kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675344029,"creation_date":1675343980,"answer_id":75323792,"question_id":64419768,"body_markdown":"     LoginPage loginObj=new LoginPage(driver);","title":"selenium driver returns null when calling from base class","body":"<pre><code> LoginPage loginObj=new LoginPage(driver);\n</code></pre>\n"}],"owner":{"account_id":4504140,"reputation":71,"user_id":3661963,"display_name":"shabnam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675344029,"creation_date":1603068315,"question_id":64419768,"body_markdown":"I have one base class with setup of webdriver using @Before and @After cucumber annotations. I extended my base class to other classes to share the webdriver.\r\nmy other class execute before my setup class and returns null exception.\r\nbelow code snippet \r\n**Base Class/parent class code**\r\n\r\n    package StepDef;\r\n\r\n    import Util.Constants;\r\n    import Util.GetConfigProp;\r\n    import cucumber.api.java.After;\r\n    import cucumber.api.java.Before;\r\n    import org.junit.AfterClass;\r\n    import org.junit.BeforeClass;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    public class BaseUtil {\r\n        public WebDriver driver;\r\n        GetConfigProp prop = new GetConfigProp();\r\n    \r\n        @Before\r\n        public void setUp() throws InterruptedException, IOException {\r\n            System.setProperty(Constants.CHROME_DRIVER_PROPERTY, &quot;src/test/resources/drivers/chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n            Thread.sleep(2000);\r\n            driver.manage().window().maximize();\r\n            driver.navigate().to(prop.readProp());\r\n    \r\n        }\r\n        @After\r\n         public void quitApplication(){\r\n             driver.quit();\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n  \r\n  **This is my **child class****\r\n    \r\n\r\n        package Pages;\r\n    \r\n    import StepDef.BaseUtil;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.How;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class LoginPage extends BaseUtil {\r\n        @FindBy(how = How.ID,using = &quot;user-name&quot;)\r\n        public WebElement txtUserNameBox;\r\n    \r\n        @FindBy(how = How.ID,using = &quot;password&quot;)\r\n        public WebElement txtPassword;\r\n    \r\n        public LoginPage() throws IOException, InterruptedException {\r\n    \r\n            PageFactory.initElements(driver,this);\r\n    \r\n        }\r\n    \r\n        public void login(String userName, String password)\r\n        {\r\n            txtUserNameBox.sendKeys(userName);\r\n            txtPassword.sendKeys(password);\r\n    \r\n        }\r\n    }\r\n    \r\n   \r\n **This is my step definition class if needed**\r\n    \r\n  \r\n     \r\n    \r\n        package StepDef;\r\n    \r\n    import Pages.LoginPage;\r\n    import cucumber.api.java8.En;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MyStepdefs implements En {\r\n        public MyStepdefs() throws IOException, InterruptedException {\r\n            LoginPage loginObj=new LoginPage();\r\n            Given(&quot;^the user is on home page$&quot;, () -&gt; {\r\n            });\r\n            When(&quot;^user enters ([^\\\\\\&quot;]*) and ([^\\\\\\&quot;]*) correctly$&quot;, (String username,String password) -&gt; {\r\n                loginObj.login(username,password);\r\n            });\r\n            Then(&quot;^user login successfully$&quot;, () -&gt; {\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n**This is **exception**** \r\n\r\n    java.lang.NullPointerException\r\n    \tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:69)\r\n    \tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\r\n    \tat com.sun.proxy.$Proxy7.sendKeys(Unknown Source)\r\n    \tat Pages.LoginPage.login(LoginPage.java:26)\r\n    \tat StepDef.MyStepdefs.lambda$new$1(MyStepdefs.java:14)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\nI am not sure where is the problem. \r\nThanks for help.\r\n","title":"selenium driver returns null when calling from base class","body":"<p>I have one base class with setup of webdriver using @Before and @After cucumber annotations. I extended my base class to other classes to share the webdriver.\nmy other class execute before my setup class and returns null exception.\nbelow code snippet\n<strong>Base Class/parent class code</strong></p>\n<pre><code>package StepDef;\n\nimport Util.Constants;\nimport Util.GetConfigProp;\nimport cucumber.api.java.After;\nimport cucumber.api.java.Before;\nimport org.junit.AfterClass;\nimport org.junit.BeforeClass;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class BaseUtil {\n    public WebDriver driver;\n    GetConfigProp prop = new GetConfigProp();\n\n    @Before\n    public void setUp() throws InterruptedException, IOException {\n        System.setProperty(Constants.CHROME_DRIVER_PROPERTY, &quot;src/test/resources/drivers/chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        Thread.sleep(2000);\n        driver.manage().window().maximize();\n        driver.navigate().to(prop.readProp());\n\n    }\n    @After\n     public void quitApplication(){\n         driver.quit();\n\n    }\n}\n</code></pre>\n<p><strong>This is my <strong>child class</strong></strong></p>\n<pre><code>    package Pages;\n\nimport StepDef.BaseUtil;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.How;\nimport org.openqa.selenium.support.PageFactory;\n\nimport java.io.IOException;\n\npublic class LoginPage extends BaseUtil {\n    @FindBy(how = How.ID,using = &quot;user-name&quot;)\n    public WebElement txtUserNameBox;\n\n    @FindBy(how = How.ID,using = &quot;password&quot;)\n    public WebElement txtPassword;\n\n    public LoginPage() throws IOException, InterruptedException {\n\n        PageFactory.initElements(driver,this);\n\n    }\n\n    public void login(String userName, String password)\n    {\n        txtUserNameBox.sendKeys(userName);\n        txtPassword.sendKeys(password);\n\n    }\n}\n</code></pre>\n<p><strong>This is my step definition class if needed</strong></p>\n<pre><code>    package StepDef;\n\nimport Pages.LoginPage;\nimport cucumber.api.java8.En;\n\nimport java.io.IOException;\n\npublic class MyStepdefs implements En {\n    public MyStepdefs() throws IOException, InterruptedException {\n        LoginPage loginObj=new LoginPage();\n        Given(&quot;^the user is on home page$&quot;, () -&gt; {\n        });\n        When(&quot;^user enters ([^\\\\\\&quot;]*) and ([^\\\\\\&quot;]*) correctly$&quot;, (String username,String password) -&gt; {\n            loginObj.login(username,password);\n        });\n        Then(&quot;^user login successfully$&quot;, () -&gt; {\n        });\n    }\n}\n</code></pre>\n<p><strong>This is <strong>exception</strong></strong></p>\n<pre><code>java.lang.NullPointerException\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:69)\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\n    at com.sun.proxy.$Proxy7.sendKeys(Unknown Source)\n    at Pages.LoginPage.login(LoginPage.java:26)\n    at StepDef.MyStepdefs.lambda$new$1(MyStepdefs.java:14)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n</code></pre>\n<p>I am not sure where is the problem.\nThanks for help.</p>\n"},{"tags":["java","email","jenkins"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675342002,"post_id":75323354,"comment_id":132910705,"body_markdown":"It means that the SMTP service prematurely broke the connection.  So start by looking at the service&#39;s logs.","body":"It means that the SMTP service prematurely broke the connection.  So start by looking at the service&#39;s logs."}],"owner":{"account_id":27685068,"reputation":1,"user_id":21132984,"display_name":"Josh U."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675344028,"creation_date":1675341664,"question_id":75323354,"body_markdown":"Cannot send email on Jenkins, sometimes it works, but most times I am getting below error\r\n\r\nThis is the screenshot settings for Extended Email Notification on Jenkins\r\n[Jenkins-extended-notification-settings](https://i.stack.imgur.com/19cR4.png)\r\n\r\nI enabled the debug mode, error says: got bad greeting from host &quot;192.168.xx.xx&quot;, port: 25, response: [EOF]\r\nMessagingException message: Got bad greeting from SMTP host: 192.168.xx.xx, port: 25, response: [EOF]\r\n\r\nThe SMTP host allows for submission on port 25, no authentication needed. Don&#39;t know what EOF means.  \r\n\r\nHere is the full DEBUG logs:\r\n\r\n```\r\nStarted by user josh\r\nRunning as SYSTEM\r\nBuilding in workspace /var/lib/jenkins/workspace/Email\r\nChecking for pre-build\r\nExecuting pre-build step\r\nChecking if email needs to be generated\r\nNo emails were triggered.\r\n[Email] $ /bin/sh -xe /tmp/jenkins17399327384892407114.sh\r\n+ echo Hallo\r\nHallo\r\nChecking for post-build\r\nPerforming post-build step\r\nChecking if email needs to be generated\r\nEmail was triggered for: Always\r\nSending email for trigger: Always\r\nSending mail from default account using System Admin e-mail address\r\nmessageContentType = text/plain; charset=UTF-8\r\n  Collecting change authors...\r\n    build: 10\r\nAdding recipients from project recipient list\r\nAnalyzing: josh@domain\r\nLooking for: josh@domain.com\r\n    starting at: 0\r\n    firstFoundIdx: 0\r\n    firstFoundIdx-substring: josh@domain.com\r\n    =&gt; found type: 0\r\nAnalyzing: josh@domain.com\r\nLooking for: josh@domain.com\r\n    starting at: 0\r\n    firstFoundIdx: 0\r\n    firstFoundIdx-substring: josh@domain.com\r\n    =&gt; found type: 0\r\nAnalyzing: josh@domain.com\r\nLooking for: josh@domain.com\r\n    starting at: 0\r\n    firstFoundIdx: 0\r\n    firstFoundIdx-substring: josh@domain.com\r\n    =&gt; found type: 0\r\nAdding recipients from trigger recipient list\r\nSuccessfully created MimeMessage\r\nSending email to: josh@domain.com\r\nDEBUG: getProvider() returning jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\nDEBUG SMTP: useEhlo true, useAuth false\r\nDEBUG SMTP: trying to connect to host &quot;192.168.xx.xx&quot;, port 25, isSSL false\r\nDEBUG SMTP: EOF: [EOF]\r\nDEBUG SMTP: got bad greeting from host &quot;192.168.xx.xx&quot;, port: 25, response: [EOF]\r\nMessagingException message: Got bad greeting from SMTP host: 192.168.xx.xx, port: 25, response: [EOF]\r\n\r\n```\r\n\r\nNothing I tried seems to work. Not sure what EOF means. ","title":"Got bad greeting from SMTP host: 192.168.xx.xx, port: 25, response: [EOF] - JENKINS EMAIL NOTIFICATION","body":"<p>Cannot send email on Jenkins, sometimes it works, but most times I am getting below error</p>\n<p>This is the screenshot settings for Extended Email Notification on Jenkins\n<a href=\"https://i.stack.imgur.com/19cR4.png\" rel=\"nofollow noreferrer\">Jenkins-extended-notification-settings</a></p>\n<p>I enabled the debug mode, error says: got bad greeting from host &quot;192.168.xx.xx&quot;, port: 25, response: [EOF]\nMessagingException message: Got bad greeting from SMTP host: 192.168.xx.xx, port: 25, response: [EOF]</p>\n<p>The SMTP host allows for submission on port 25, no authentication needed. Don't know what EOF means.</p>\n<p>Here is the full DEBUG logs:</p>\n<pre><code>Started by user josh\nRunning as SYSTEM\nBuilding in workspace /var/lib/jenkins/workspace/Email\nChecking for pre-build\nExecuting pre-build step\nChecking if email needs to be generated\nNo emails were triggered.\n[Email] $ /bin/sh -xe /tmp/jenkins17399327384892407114.sh\n+ echo Hallo\nHallo\nChecking for post-build\nPerforming post-build step\nChecking if email needs to be generated\nEmail was triggered for: Always\nSending email for trigger: Always\nSending mail from default account using System Admin e-mail address\nmessageContentType = text/plain; charset=UTF-8\n  Collecting change authors...\n    build: 10\nAdding recipients from project recipient list\nAnalyzing: josh@domain\nLooking for: josh@domain.com\n    starting at: 0\n    firstFoundIdx: 0\n    firstFoundIdx-substring: josh@domain.com\n    =&gt; found type: 0\nAnalyzing: josh@domain.com\nLooking for: josh@domain.com\n    starting at: 0\n    firstFoundIdx: 0\n    firstFoundIdx-substring: josh@domain.com\n    =&gt; found type: 0\nAnalyzing: josh@domain.com\nLooking for: josh@domain.com\n    starting at: 0\n    firstFoundIdx: 0\n    firstFoundIdx-substring: josh@domain.com\n    =&gt; found type: 0\nAdding recipients from trigger recipient list\nSuccessfully created MimeMessage\nSending email to: josh@domain.com\nDEBUG: getProvider() returning jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: useEhlo true, useAuth false\nDEBUG SMTP: trying to connect to host &quot;192.168.xx.xx&quot;, port 25, isSSL false\nDEBUG SMTP: EOF: [EOF]\nDEBUG SMTP: got bad greeting from host &quot;192.168.xx.xx&quot;, port: 25, response: [EOF]\nMessagingException message: Got bad greeting from SMTP host: 192.168.xx.xx, port: 25, response: [EOF]\n\n</code></pre>\n<p>Nothing I tried seems to work. Not sure what EOF means.</p>\n"},{"tags":["java","visual-studio"],"answers":[{"tags":[],"owner":{"account_id":27638200,"reputation":1,"user_id":21095706,"display_name":"ShortCake_cafe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675343482,"creation_date":1675343482,"answer_id":75323695,"question_id":75322065,"body_markdown":"The run code button isn&#39;t there by default (or at least it did not show up for me by default). It is actually an extension called &quot;Code Runner&quot;, you can find it in the extensions:marketplace tab.","title":"Visual Studio Run Code Button shifted in the three dots","body":"<p>The run code button isn't there by default (or at least it did not show up for me by default). It is actually an extension called &quot;Code Runner&quot;, you can find it in the extensions:marketplace tab.</p>\n"}],"owner":{"account_id":24543104,"reputation":1,"user_id":18453308,"display_name":"Shreyash Jagtap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675343482,"creation_date":1675335040,"question_id":75322065,"body_markdown":"The visual studio run code is should as default like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut, I don&#39;t know why this is showing for me in the .JAVA files.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UWFae.png\r\n  [2]: https://i.stack.imgur.com/fSYk5.png","title":"Visual Studio Run Code Button shifted in the three dots","body":"<p>The visual studio run code is should as default like this</p>\n<p><a href=\"https://i.stack.imgur.com/UWFae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UWFae.png\" alt=\"enter image description here\" /></a></p>\n<p>But, I don't know why this is showing for me in the .JAVA files.</p>\n<p><a href=\"https://i.stack.imgur.com/fSYk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSYk5.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix this?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1674723833,"post_id":75243987,"comment_id":132775913,"body_markdown":"In `public CardStack`, `List&lt;Card&gt; CardStack` is a local variable. You&#39;re not adding things to something visible after the constructor finishes.","body":"In <code>public CardStack</code>, <code>List&lt;Card&gt; CardStack</code> is a local variable. You&#39;re not adding things to something visible after the constructor finishes."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1674723902,"post_id":75243987,"comment_id":132775942,"body_markdown":"(Aside: `new ArrayList&lt;Card&gt;(cards)` is a more efficient way to copy the list)","body":"(Aside: <code>new ArrayList&lt;Card&gt;(cards)</code> is a more efficient way to copy the list)"},{"owner":{"account_id":27625122,"reputation":9,"user_id":21085266,"display_name":"Zachral"},"score":0,"creation_date":1674730016,"post_id":75243987,"comment_id":132777884,"body_markdown":"@AndyTurner, True and what would be your suggestion to fix this?","body":"@AndyTurner, True and what would be your suggestion to fix this?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1674817539,"post_id":75243987,"comment_id":132798669,"body_markdown":"@Zachral you need to do something which lives longer than the lifetime of the execution of the constructor. You don&#39;t have a `List&lt;Card&gt;` field anywhere; you could add one and assign the copied list to that. Alternatively, you could add things to your `Card[] cards` field using `cards = CardStack.toArray(new Card[0]);`. Or... anything else. It depends on what you&#39;re trying to do.","body":"@Zachral you need to do something which lives longer than the lifetime of the execution of the constructor. You don&#39;t have a <code>List&lt;Card&gt;</code> field anywhere; you could add one and assign the copied list to that. Alternatively, you could add things to your <code>Card[] cards</code> field using <code>cards = CardStack.toArray(new Card[0]);</code>. Or... anything else. It depends on what you&#39;re trying to do."}],"owner":{"account_id":27625122,"reputation":9,"user_id":21085266,"display_name":"Zachral"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674724596,"answer_count":0,"score":0,"last_activity_date":1675342987,"creation_date":1674723626,"question_id":75243987,"body_markdown":"I am self taught and for practice I am trying do build a card management app for a board game. I want to have an array of cards where I can remove and add cards when needed. So I opted for making it an ArrayList.  However, when I want to make a copy of the cards Arraylist to a new one called CardStack in a different class, it prints as &quot;null&quot;. My idea for the copy is to have the original array intact and having a copy I can manipulate. \r\n\r\n\r\nThe code I have now:\r\n\r\nIn Main: \r\n```java\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    static Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args){\r\n        List &lt;Card&gt; cards = new ArrayList&lt;Card&gt;();\r\n        cards.add(new Card(&quot;Cloth Making&quot;, &quot;Orange&quot;, 50, 50, 0, 5, 0, 10, 0,\r\n                  &quot;Naval Warfare&quot;, 10, 1));\r\n        // ..and ten more cards.add\r\n\r\n        //Create a cardstack that can be manipulated\r\n        CardStack CardStack = new CardStack(cards);\r\n        \r\n        while (true) {\r\n            System.out.println(CardStack.toString());\r\n            int index = scan.nextInt(); \r\n            CardStack.buy(index);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd in the CardStack class:\r\n```java\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\n\r\npublic class CardStack{\r\n\r\n    private Card[] cards; \r\n    Hand hand = new Hand();\r\n\r\n\t//Creates a copy of the ArrayLisy cards\r\n    public CardStack(List&lt;Card&gt; cards){\r\n        List&lt;Card&gt; CardStack = new ArrayList&lt;Card&gt;()\r\n        CardStack.addAll(cards);\r\n    }; \r\n    \r\n    // Adds discounts to colors, points and moves card.\r\n    public void buy (int index){\r\n        hand.redDiscountTotal += this.cards[index].getRedDiscount();\r\n        hand.blueDiscountTotal += this.cards[index].getBlueDiscount(); \r\n        hand.greenDiscountTotal += this.cards[index].getGreenDiscount();\r\n        hand.orangeDiscountTotal += this.cards[index].getOrangeDiscount();\r\n        hand.yellowDiscountTotal += this.cards[index].getYellowDiscount();  \r\n        hand.pointsTotal += this.cards[index].getPoints();\r\n\r\n        //Loop checks if CardDiscount name matches an unbought card and subtracts the discount from cost.\r\n        for (int i = 0; i &lt; cards.length; i++){\r\n            if (this.cards[index].getCardDiscount().equals(this.cards[i].getName())){\r\n                this.cards[i].setOriginalCost(this.cards[i].getOriginalCost() - this.cards[index].getAmountCardDiscount());\r\n                break; \r\n            }\r\n        }\r\n\r\n        //Loop updates the cost of cards with the new discountTotal \r\n        for (int i = 0; i &lt; cards.length; i++){\r\n            if (this.cards[i].getColor().equals(&quot;Red&quot;)){\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.redDiscountTotal);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Blue&quot;)){\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.blueDiscountTotal);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Green&quot;)){\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.greenDiscountTotal);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Orange&quot;)){\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.orangeDiscountTotal);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Yellow&quot;)){\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.yellowDiscountTotal);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Blue and Yellow&quot;)){\r\n                int highestDiscount = (hand.blueDiscountTotal &gt; hand.yellowDiscountTotal) ? hand.blueDiscountTotal : \r\n                     hand.yellowDiscountTotal;\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Yellow and Orange&quot;)){\r\n                int highestDiscount = (hand.yellowDiscountTotal &gt; hand.orangeDiscountTotal) ? hand.yellowDiscountTotal : \r\n                     hand.orangeDiscountTotal;\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\r\n            }\r\n            if (this.cards[i].getColor().equals(&quot;Blue and Orange&quot;)){\r\n                int highestDiscount = (hand.blueDiscountTotal &gt; hand.orangeDiscountTotal) ? hand.blueDiscountTotal : \r\n                     hand.orangeDiscountTotal;\r\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\r\n\r\n            }\r\n        }\r\n    }\r\n    public String toString() {\r\n        \r\n        return\r\n        Arrays.toString(this.cards); \r\n    }\r\n}\r\n```\r\n\r\nin Card class:\r\n```java\r\npublic class Card {\r\n\r\n    private String name;\r\n    private String color;\r\n    private int currentCost;\r\n    private int originalCost;  \r\n    private int redDiscount;\r\n    private int blueDiscount;\r\n    private int greenDiscount;\r\n    private int orangeDiscount;\r\n    private int yellowDiscount; \r\n    private String cardDiscount; \r\n    private int amountCardDiscount; \r\n    private int points;\r\n\r\n    public Card(String name, String color, int currentCost, int originalCost, int redDiscount, int blueDiscount, int greenDiscount, int \r\n                        orangeDiscount, int yellowDiscount, String cardDiscount, int amountCardDiscount, int points) {\r\n        this.name = name;\r\n        this.color = color;\r\n        this.currentCost = currentCost;\r\n        this.originalCost = originalCost;\r\n        this.redDiscount = redDiscount;\r\n        this.blueDiscount = blueDiscount;\r\n        this.greenDiscount = greenDiscount;\r\n        this.orangeDiscount = orangeDiscount;\r\n        this.yellowDiscount = yellowDiscount;\r\n        this.cardDiscount = cardDiscount;\r\n        this.amountCardDiscount = amountCardDiscount;\r\n        this.points = points; \r\n    }\r\n    //Followed by copy constructor, getters and setters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \r\n            &quot;Name=&#39;&quot; + getName() + &quot;&#39;\\n&quot; +\r\n            &quot;, Color=&#39;&quot; + getColor() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Cost=&#39;&quot; + getCurrentCost() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Red Discount=&#39;&quot; + getRedDiscount() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Blue Discount=&#39;&quot; + getBlueDiscount() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Green Discount=&#39;&quot; + getGreenDiscount() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Orange Discount=&#39;&quot; + getOrangeDiscount() + &quot;&#39;&#39;\\n&quot; +\r\n            &quot;, Yellow Discount=&#39;&quot; + getYellowDiscount() + &quot;&#39;&#39;\\n\\n&quot;;\r\n    }\r\n```\r\n\r\nin Hand class\r\n\r\n```\r\npublic class Hand {\r\n\r\n    int redDiscountTotal = 0;\r\n    int blueDiscountTotal = 0;\r\n    int greenDiscountTotal = 0;\r\n    int orangeDiscountTotal = 0;\r\n    int yellowDiscountTotal = 0;\r\n    int pointsTotal = 0; \r\n}\r\n```\r\n\r\nWhat I am trying to achieve is to make a copy of the ```ArrayList``` cards to one in the ```CardStack``` class. Then when you decide to ```Buy``` a card from the ```CardStack``` the program will updated discounts according to color and remove that card from the ```CardStack``` ```ArrayList``` and add it to another ```Arraylist``` that will be in the ```Hand``` class. However, when I print ```CardStack``` it returns ```Null```. If I move the declaration of the ```CardStack``` ```Arraylist``` outside of the constructor it still returns the same result.","title":"Making a copy of an Arraylist into a different object returning Null in java","body":"<p>I am self taught and for practice I am trying do build a card management app for a board game. I want to have an array of cards where I can remove and add cards when needed. So I opted for making it an ArrayList.  However, when I want to make a copy of the cards Arraylist to a new one called CardStack in a different class, it prints as &quot;null&quot;. My idea for the copy is to have the original array intact and having a copy I can manipulate.</p>\n<p>The code I have now:</p>\n<p>In Main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n    static Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args){\n        List &lt;Card&gt; cards = new ArrayList&lt;Card&gt;();\n        cards.add(new Card(&quot;Cloth Making&quot;, &quot;Orange&quot;, 50, 50, 0, 5, 0, 10, 0,\n                  &quot;Naval Warfare&quot;, 10, 1));\n        // ..and ten more cards.add\n\n        //Create a cardstack that can be manipulated\n        CardStack CardStack = new CardStack(cards);\n        \n        while (true) {\n            System.out.println(CardStack.toString());\n            int index = scan.nextInt(); \n            CardStack.buy(index);\n        }\n    }\n}\n</code></pre>\n<p>And in the CardStack class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Arrays;\nimport java.util.ArrayList;\n\npublic class CardStack{\n\n    private Card[] cards; \n    Hand hand = new Hand();\n\n    //Creates a copy of the ArrayLisy cards\n    public CardStack(List&lt;Card&gt; cards){\n        List&lt;Card&gt; CardStack = new ArrayList&lt;Card&gt;()\n        CardStack.addAll(cards);\n    }; \n    \n    // Adds discounts to colors, points and moves card.\n    public void buy (int index){\n        hand.redDiscountTotal += this.cards[index].getRedDiscount();\n        hand.blueDiscountTotal += this.cards[index].getBlueDiscount(); \n        hand.greenDiscountTotal += this.cards[index].getGreenDiscount();\n        hand.orangeDiscountTotal += this.cards[index].getOrangeDiscount();\n        hand.yellowDiscountTotal += this.cards[index].getYellowDiscount();  \n        hand.pointsTotal += this.cards[index].getPoints();\n\n        //Loop checks if CardDiscount name matches an unbought card and subtracts the discount from cost.\n        for (int i = 0; i &lt; cards.length; i++){\n            if (this.cards[index].getCardDiscount().equals(this.cards[i].getName())){\n                this.cards[i].setOriginalCost(this.cards[i].getOriginalCost() - this.cards[index].getAmountCardDiscount());\n                break; \n            }\n        }\n\n        //Loop updates the cost of cards with the new discountTotal \n        for (int i = 0; i &lt; cards.length; i++){\n            if (this.cards[i].getColor().equals(&quot;Red&quot;)){\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.redDiscountTotal);\n            }\n            if (this.cards[i].getColor().equals(&quot;Blue&quot;)){\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.blueDiscountTotal);\n            }\n            if (this.cards[i].getColor().equals(&quot;Green&quot;)){\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.greenDiscountTotal);\n            }\n            if (this.cards[i].getColor().equals(&quot;Orange&quot;)){\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.orangeDiscountTotal);\n            }\n            if (this.cards[i].getColor().equals(&quot;Yellow&quot;)){\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - hand.yellowDiscountTotal);\n            }\n            if (this.cards[i].getColor().equals(&quot;Blue and Yellow&quot;)){\n                int highestDiscount = (hand.blueDiscountTotal &gt; hand.yellowDiscountTotal) ? hand.blueDiscountTotal : \n                     hand.yellowDiscountTotal;\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\n            }\n            if (this.cards[i].getColor().equals(&quot;Yellow and Orange&quot;)){\n                int highestDiscount = (hand.yellowDiscountTotal &gt; hand.orangeDiscountTotal) ? hand.yellowDiscountTotal : \n                     hand.orangeDiscountTotal;\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\n            }\n            if (this.cards[i].getColor().equals(&quot;Blue and Orange&quot;)){\n                int highestDiscount = (hand.blueDiscountTotal &gt; hand.orangeDiscountTotal) ? hand.blueDiscountTotal : \n                     hand.orangeDiscountTotal;\n                this.cards[i].setCurrentCost(this.cards[i].getOriginalCost() - highestDiscount);\n\n            }\n        }\n    }\n    public String toString() {\n        \n        return\n        Arrays.toString(this.cards); \n    }\n}\n</code></pre>\n<p>in Card class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Card {\n\n    private String name;\n    private String color;\n    private int currentCost;\n    private int originalCost;  \n    private int redDiscount;\n    private int blueDiscount;\n    private int greenDiscount;\n    private int orangeDiscount;\n    private int yellowDiscount; \n    private String cardDiscount; \n    private int amountCardDiscount; \n    private int points;\n\n    public Card(String name, String color, int currentCost, int originalCost, int redDiscount, int blueDiscount, int greenDiscount, int \n                        orangeDiscount, int yellowDiscount, String cardDiscount, int amountCardDiscount, int points) {\n        this.name = name;\n        this.color = color;\n        this.currentCost = currentCost;\n        this.originalCost = originalCost;\n        this.redDiscount = redDiscount;\n        this.blueDiscount = blueDiscount;\n        this.greenDiscount = greenDiscount;\n        this.orangeDiscount = orangeDiscount;\n        this.yellowDiscount = yellowDiscount;\n        this.cardDiscount = cardDiscount;\n        this.amountCardDiscount = amountCardDiscount;\n        this.points = points; \n    }\n    //Followed by copy constructor, getters and setters\n\n    @Override\n    public String toString() {\n        return \n            &quot;Name='&quot; + getName() + &quot;'\\n&quot; +\n            &quot;, Color='&quot; + getColor() + &quot;''\\n&quot; +\n            &quot;, Cost='&quot; + getCurrentCost() + &quot;''\\n&quot; +\n            &quot;, Red Discount='&quot; + getRedDiscount() + &quot;''\\n&quot; +\n            &quot;, Blue Discount='&quot; + getBlueDiscount() + &quot;''\\n&quot; +\n            &quot;, Green Discount='&quot; + getGreenDiscount() + &quot;''\\n&quot; +\n            &quot;, Orange Discount='&quot; + getOrangeDiscount() + &quot;''\\n&quot; +\n            &quot;, Yellow Discount='&quot; + getYellowDiscount() + &quot;''\\n\\n&quot;;\n    }\n</code></pre>\n<p>in Hand class</p>\n<pre><code>public class Hand {\n\n    int redDiscountTotal = 0;\n    int blueDiscountTotal = 0;\n    int greenDiscountTotal = 0;\n    int orangeDiscountTotal = 0;\n    int yellowDiscountTotal = 0;\n    int pointsTotal = 0; \n}\n</code></pre>\n<p>What I am trying to achieve is to make a copy of the <code>ArrayList</code> cards to one in the <code>CardStack</code> class. Then when you decide to <code>Buy</code> a card from the <code>CardStack</code> the program will updated discounts according to color and remove that card from the <code>CardStack</code> <code>ArrayList</code> and add it to another <code>Arraylist</code> that will be in the <code>Hand</code> class. However, when I print <code>CardStack</code> it returns <code>Null</code>. If I move the declaration of the <code>CardStack</code> <code>Arraylist</code> outside of the constructor it still returns the same result.</p>\n"},{"tags":["java","java-8","completable-future"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1464016261,"creation_date":1449780298,"answer_id":34211387,"question_id":34211080,"body_markdown":"The [`CompletableFuture#allOf`][1] method does not expose the collection of completed `CompletableFuture` instances that were passed to it. \r\n\r\n&gt; Returns a new `CompletableFuture` that is completed when all of the\r\n&gt; given `CompletableFuture`s complete. If any of the given\r\n&gt; `CompletableFuture`s complete exceptionally, then the returned\r\n&gt; `CompletableFuture` also does so, with a `CompletionException` holding\r\n&gt; this exception as its cause. **Otherwise, the results, if any, of the\r\n&gt; given `CompletableFuture`s are not reflected in the returned\r\n&gt; `CompletableFuture`, but may be obtained by inspecting them\r\n&gt; individually**. If no `CompletableFuture`s are provided, returns a\r\n&gt; `CompletableFuture` completed with the value `null`.\r\n\r\nNote that `allOf` also considers futures that were completed exceptionally as completed. So you won&#39;t always have a `Person` to work with. You might actually have an exception/throwable.\r\n\r\nIf you know the amount of `CompletableFuture`s you&#39;re working with, use them directly\r\n\r\n    CompletableFuture.allOf(p1, p2).thenAccept(it -&gt; {\r\n        Person person1 = p1.join();\r\n        Person person2 = p2.join();\r\n    });\r\n\r\nIf you don&#39;t know how many you have (you&#39;re working with an array or list), just capture the array you pass to `allOf`\r\n\r\n    // make sure not to change the contents of this array\r\n    CompletableFuture&lt;Person&gt;[] persons = new CompletableFuture[] { p1, p2 };\r\n    CompletableFuture.allOf(persons).thenAccept(ignore -&gt; {\r\n       for (int i = 0; i &lt; persons.length; i++ ) {\r\n           Person current = persons[i].join();\r\n       }\r\n    });\r\n\r\n\r\n----------\r\n\r\nIf you wanted your `combinePersons` method (ignoring it&#39;s a `@Test` for now) to return a `Person[]` containing all the `Person` objects from the completed futures, you could do\r\n\r\n    @Test\r\n    public Person[] combinePersons() throws Exception {\r\n        CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\r\n            return new Person(&quot;p1&quot;);\r\n        });\r\n\r\n        CompletableFuture&lt;Person&gt; p2 = CompletableFuture.supplyAsync(() -&gt; {\r\n            return new Person(&quot;p1&quot;);\r\n        });\r\n\r\n        // make sure not to change the contents of this array\r\n        CompletableFuture&lt;Person&gt;[] persons = new CompletableFuture[] { p1, p2 };\r\n        // this will throw an exception if any of the futures complete exceptionally\r\n        CompletableFuture.allOf(persons).join();\r\n        \r\n        return Arrays.stream(persons).map(CompletableFuture::join).toArray(Person[]::new);\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-","title":"How do you access completed futures passed to CompletableFuture allOf?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\" rel=\"noreferrer\"><code>CompletableFuture#allOf</code></a> method does not expose the collection of completed <code>CompletableFuture</code> instances that were passed to it. </p>\n\n<blockquote>\n  <p>Returns a new <code>CompletableFuture</code> that is completed when all of the\n  given <code>CompletableFuture</code>s complete. If any of the given\n  <code>CompletableFuture</code>s complete exceptionally, then the returned\n  <code>CompletableFuture</code> also does so, with a <code>CompletionException</code> holding\n  this exception as its cause. <strong>Otherwise, the results, if any, of the\n  given <code>CompletableFuture</code>s are not reflected in the returned\n  <code>CompletableFuture</code>, but may be obtained by inspecting them\n  individually</strong>. If no <code>CompletableFuture</code>s are provided, returns a\n  <code>CompletableFuture</code> completed with the value <code>null</code>.</p>\n</blockquote>\n\n<p>Note that <code>allOf</code> also considers futures that were completed exceptionally as completed. So you won't always have a <code>Person</code> to work with. You might actually have an exception/throwable.</p>\n\n<p>If you know the amount of <code>CompletableFuture</code>s you're working with, use them directly</p>\n\n<pre><code>CompletableFuture.allOf(p1, p2).thenAccept(it -&gt; {\n    Person person1 = p1.join();\n    Person person2 = p2.join();\n});\n</code></pre>\n\n<p>If you don't know how many you have (you're working with an array or list), just capture the array you pass to <code>allOf</code></p>\n\n<pre><code>// make sure not to change the contents of this array\nCompletableFuture&lt;Person&gt;[] persons = new CompletableFuture[] { p1, p2 };\nCompletableFuture.allOf(persons).thenAccept(ignore -&gt; {\n   for (int i = 0; i &lt; persons.length; i++ ) {\n       Person current = persons[i].join();\n   }\n});\n</code></pre>\n\n<hr>\n\n<p>If you wanted your <code>combinePersons</code> method (ignoring it's a <code>@Test</code> for now) to return a <code>Person[]</code> containing all the <code>Person</code> objects from the completed futures, you could do</p>\n\n<pre><code>@Test\npublic Person[] combinePersons() throws Exception {\n    CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\n        return new Person(\"p1\");\n    });\n\n    CompletableFuture&lt;Person&gt; p2 = CompletableFuture.supplyAsync(() -&gt; {\n        return new Person(\"p1\");\n    });\n\n    // make sure not to change the contents of this array\n    CompletableFuture&lt;Person&gt;[] persons = new CompletableFuture[] { p1, p2 };\n    // this will throw an exception if any of the futures complete exceptionally\n    CompletableFuture.allOf(persons).join();\n\n    return Arrays.stream(persons).map(CompletableFuture::join).toArray(Person[]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662482868,"creation_date":1662482868,"answer_id":73625369,"question_id":34211080,"body_markdown":"As pointed out in @Sotirios Delimanolis&#39;s answer, the CompletableFuture is not exception friendly, which means we cannot get the result of all futures easily when exceptions happen in one or several of the futures.\r\n\r\nAs OP&#39;s question is not limited to the successful situation, in this answer, I want to make an addition to this imperfect of CompletableFuture.\r\n\r\nIf we however want to know the results of all the futures, we can handle this separately when defining futures. For example:\r\n\r\n```java\r\n    CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\r\n      return new Person(&quot;p1&quot;);\r\n    });\r\n    \r\n    p1.thenAccept(person -&gt; {\r\n      // handle successful future\r\n      // for example:  add p1 to success operation list \r\n    });\r\n\r\n    p1.exceptionally((exception) -&gt; {\r\n      // handle fail future\r\n      // for example, log the parameter (not exist in this case) to create the person\r\n      System.out.println(&quot;Exception happen in creating p1&quot;);\r\n      return null;\r\n    });\r\n```\r\n\r\nand then after calling `CompletableFuture.allOf(persons).join()` (Please also pay attention to the exception handling here), we can figure out which future succeeds and which future fails.\r\n\r\nHope this simple tip can help newcomers write solid code in real-world business systems.","title":"How do you access completed futures passed to CompletableFuture allOf?","body":"<p>As pointed out in @Sotirios Delimanolis's answer, the CompletableFuture is not exception friendly, which means we cannot get the result of all futures easily when exceptions happen in one or several of the futures.</p>\n<p>As OP's question is not limited to the successful situation, in this answer, I want to make an addition to this imperfect of CompletableFuture.</p>\n<p>If we however want to know the results of all the futures, we can handle this separately when defining futures. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\n      return new Person(&quot;p1&quot;);\n    });\n    \n    p1.thenAccept(person -&gt; {\n      // handle successful future\n      // for example:  add p1 to success operation list \n    });\n\n    p1.exceptionally((exception) -&gt; {\n      // handle fail future\n      // for example, log the parameter (not exist in this case) to create the person\n      System.out.println(&quot;Exception happen in creating p1&quot;);\n      return null;\n    });\n</code></pre>\n<p>and then after calling <code>CompletableFuture.allOf(persons).join()</code> (Please also pay attention to the exception handling here), we can figure out which future succeeds and which future fails.</p>\n<p>Hope this simple tip can help newcomers write solid code in real-world business systems.</p>\n"},{"tags":[],"owner":{"account_id":7454270,"reputation":67,"user_id":5667980,"display_name":"Joy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675342914,"creation_date":1675342914,"answer_id":75323587,"question_id":34211080,"body_markdown":"    CompletableFuture.allOf(p1, p2); // .get can be ignored\r\n    List&lt;Person&gt; res =\r\n                List.of(p1, p2)  // list of futures\r\n                .stream()\r\n                .map(future -&gt; {\r\n                   System.out.println(&quot;future &quot; + future.join());\r\n                   return future.join();\r\n                })  \r\n                .collect(Collectors.toList());\r\n\r\nOr you can fetch the values individually, using p1.get() and p2.get()\r\n\r\n","title":"How do you access completed futures passed to CompletableFuture allOf?","body":"<pre><code>CompletableFuture.allOf(p1, p2); // .get can be ignored\nList&lt;Person&gt; res =\n            List.of(p1, p2)  // list of futures\n            .stream()\n            .map(future -&gt; {\n               System.out.println(&quot;future &quot; + future.join());\n               return future.join();\n            })  \n            .collect(Collectors.toList());\n</code></pre>\n<p>Or you can fetch the values individually, using p1.get() and p2.get()</p>\n"}],"owner":{"account_id":468653,"reputation":5437,"user_id":874774,"accept_rate":78,"display_name":"pethel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19000,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34211387,"answer_count":3,"score":15,"last_activity_date":1675342914,"creation_date":1449779143,"question_id":34211080,"body_markdown":"I am trying to get a grip of Java 8 CompletableFuture. How can I join these to person and return them after &quot;allOf&quot;. The code under is not working but gives you an idea of what I have tried. \r\n\r\nIn javascript ES6 i would do \r\n\r\n    Promise.all([p1, p2]).then(function(persons) {\r\n       console.log(persons[0]); // p1 return value     \r\n       console.log(persons[1]); // p2 return value     \r\n    });\r\n\r\n\r\nMy efforts in Java so far\r\n\r\n   \r\n\r\n    public class Person {\r\n    \r\n            private final String name;\r\n    \r\n            public Person(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n        }\r\n\r\n    @Test\r\n    public void combinePersons() throws ExecutionException, InterruptedException {\r\n        CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\r\n            return new Person(&quot;p1&quot;);\r\n        });\r\n\r\n        CompletableFuture&lt;Person&gt; p2 = CompletableFuture.supplyAsync(() -&gt; {\r\n            return new Person(&quot;p1&quot;);\r\n        });\r\n\r\n        CompletableFuture.allOf(p1, p2).thenAccept(it -&gt; System.out.println(it));\r\n\r\n    }","title":"How do you access completed futures passed to CompletableFuture allOf?","body":"<p>I am trying to get a grip of Java 8 CompletableFuture. How can I join these to person and return them after \"allOf\". The code under is not working but gives you an idea of what I have tried. </p>\n\n<p>In javascript ES6 i would do </p>\n\n<pre><code>Promise.all([p1, p2]).then(function(persons) {\n   console.log(persons[0]); // p1 return value     \n   console.log(persons[1]); // p2 return value     \n});\n</code></pre>\n\n<p>My efforts in Java so far</p>\n\n<pre><code>public class Person {\n\n        private final String name;\n\n        public Person(String name) {\n            this.name = name;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n    }\n\n@Test\npublic void combinePersons() throws ExecutionException, InterruptedException {\n    CompletableFuture&lt;Person&gt; p1 = CompletableFuture.supplyAsync(() -&gt; {\n        return new Person(\"p1\");\n    });\n\n    CompletableFuture&lt;Person&gt; p2 = CompletableFuture.supplyAsync(() -&gt; {\n        return new Person(\"p1\");\n    });\n\n    CompletableFuture.allOf(p1, p2).thenAccept(it -&gt; System.out.println(it));\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","cucumber","cucumber-jvm"],"answers":[{"comments":[{"owner":{"account_id":1649943,"reputation":568,"user_id":1520739,"accept_rate":73,"display_name":"Thibault"},"score":1,"creation_date":1392297441,"post_id":21754450,"comment_id":32906937,"body_markdown":"That works now. What option might have bring the solution, and could you explain why? Because I still don&#39;t get it! ;)","body":"That works now. What option might have bring the solution, and could you explain why? Because I still don&#39;t get it! ;)"},{"owner":{"account_id":242718,"reputation":11086,"user_id":514438,"accept_rate":78,"display_name":"Bala"},"score":3,"creation_date":1392297642,"post_id":21754450,"comment_id":32907051,"body_markdown":"Its very likely this option `glue = &quot;fr.tlasnier.cucumber&quot;`. Because it says `where to look for glue code (stepdefs and hooks)`","body":"Its very likely this option <code>glue = &quot;fr.tlasnier.cucumber&quot;</code>. Because it says <code>where to look for glue code (stepdefs and hooks)</code>"}],"tags":[],"owner":{"account_id":242718,"reputation":11086,"user_id":514438,"accept_rate":78,"display_name":"Bala"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1392294952,"creation_date":1392294952,"answer_id":21754450,"question_id":21753267,"body_markdown":"    @RunWith(Cucumber.class)\r\n    \r\n    @CucumberOptions(  monochrome = true,\r\n                             tags = &quot;@tags&quot;,\r\n                         features = &quot;src/test/resources/features/&quot;,\r\n                           format = { &quot;pretty&quot;,&quot;html: cucumber-html-reports&quot;,\r\n                                      &quot;json: cucumber-html-reports/cucumber.json&quot; },\r\n                            dryRun = false,\r\n                             glue = &quot;fr.tlasnier.cucumber&quot; )\r\n    \r\n    public class RunCucumber_Test {\r\n      //Run this\r\n    }","title":"Cucumber JVM undefined step","body":"<pre><code>@RunWith(Cucumber.class)\n\n@CucumberOptions(  monochrome = true,\n                         tags = \"@tags\",\n                     features = \"src/test/resources/features/\",\n                       format = { \"pretty\",\"html: cucumber-html-reports\",\n                                  \"json: cucumber-html-reports/cucumber.json\" },\n                        dryRun = false,\n                         glue = \"fr.tlasnier.cucumber\" )\n\npublic class RunCucumber_Test {\n  //Run this\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1649943,"reputation":568,"user_id":1520739,"accept_rate":73,"display_name":"Thibault"},"score":0,"creation_date":1479734887,"post_id":40700291,"comment_id":68669461,"body_markdown":"Very kind of you to share. Luckily, I moved on since :D","body":"Very kind of you to share. Luckily, I moved on since :D"}],"tags":[],"owner":{"account_id":4623279,"reputation":752,"user_id":3747762,"display_name":"david euler"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479611403,"creation_date":1479611403,"answer_id":40700291,"question_id":21753267,"body_markdown":"I&#39;ve met the same problem. And found that if the package where step definitions exists has not been created in the corresponding source folder.\r\nYou can try to create a class under fr.tlasnier.cucumber.step, then idea should be able to find the steps. I think it is a bug in Idea.","title":"Cucumber JVM undefined step","body":"<p>I've met the same problem. And found that if the package where step definitions exists has not been created in the corresponding source folder.\nYou can try to create a class under fr.tlasnier.cucumber.step, then idea should be able to find the steps. I think it is a bug in Idea.</p>\n"},{"tags":[],"owner":{"account_id":2635365,"reputation":537,"user_id":2280218,"accept_rate":85,"display_name":"Vel Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500014199,"creation_date":1500014199,"answer_id":45096261,"question_id":21753267,"body_markdown":"The class in which the steps are defined should be public. Anything else would throw the undefined step error.","title":"Cucumber JVM undefined step","body":"<p>The class in which the steps are defined should be public. Anything else would throw the undefined step error.</p>\n"},{"tags":[],"owner":{"account_id":5389968,"reputation":146,"user_id":4292798,"accept_rate":69,"display_name":"Gregorio Meraz Jr."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643386476,"creation_date":1643386476,"answer_id":70896760,"question_id":21753267,"body_markdown":"In my case, i was running with intellij cucumber for java plugin, it doesnt automatically detect the glue, so you need to add it.\r\n\r\nRun -&gt; Edit Configurations\r\nThen on the Glue section, put the steps folder path.","title":"Cucumber JVM undefined step","body":"<p>In my case, i was running with intellij cucumber for java plugin, it doesnt automatically detect the glue, so you need to add it.</p>\n<p>Run -&gt; Edit Configurations\nThen on the Glue section, put the steps folder path.</p>\n"}],"owner":{"account_id":1649943,"reputation":568,"user_id":1520739,"accept_rate":73,"display_name":"Thibault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57592,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":21754450,"answer_count":4,"score":21,"last_activity_date":1675342845,"creation_date":1392291864,"question_id":21753267,"body_markdown":"I can&#39;t execute a simple test with cucumber for a project. I am on Intellij 13 Community, with cucumber plugin.\r\n\r\nI wrote my feature file in my features directory, I have also implemented my steps, creating them with the help of the plugin. And my steps in the feature files are recognized by intellij, which can navigate and go to the step implementation.\r\n\r\nBut when I try to run my scenario, it always fails because for each step, it says &quot;Undefined step : &lt;name of the step&gt;&quot;.\r\n\r\nHere is how is organized my project :\r\n\r\n![file organization][1]\r\n\r\nAnd as I said before, you can see that my steps are recognized by Intellij :\r\n\r\n![feature file][2]\r\n\r\nHow is that possible, and how can I correct this?\r\n\r\nAny help would be great!\r\n\r\n\r\n##### EDIT #####\r\nNow that I added options to my runner :\r\n\r\n    @CucumberOptions(  monochrome = true,\r\n            features = &quot;src/test/resources/features/&quot;,\r\n            format = { &quot;pretty&quot;,&quot;html: cucumber-html-reports&quot;,\r\n                    &quot;json: cucumber-html-reports/cucumber.json&quot; },\r\n            dryRun = false,\r\n            glue = &quot;fr.tlasnier.cucumber&quot; )\r\n\r\nIt works!\r\n\r\nYet, I noticed that before that, I had two scenario outline. One worked perfectly, the other one could not find step definition!\r\n\r\nReally weird, since there were some steps in both scenario.\r\n\r\n  [1]: http://i.stack.imgur.com/tNZWp.png\r\n  [2]: http://i.stack.imgur.com/InHOD.png","title":"Cucumber JVM undefined step","body":"<p>I can't execute a simple test with cucumber for a project. I am on Intellij 13 Community, with cucumber plugin.</p>\n\n<p>I wrote my feature file in my features directory, I have also implemented my steps, creating them with the help of the plugin. And my steps in the feature files are recognized by intellij, which can navigate and go to the step implementation.</p>\n\n<p>But when I try to run my scenario, it always fails because for each step, it says \"Undefined step : \".</p>\n\n<p>Here is how is organized my project :</p>\n\n<p><img src=\"https://i.stack.imgur.com/tNZWp.png\" alt=\"file organization\"></p>\n\n<p>And as I said before, you can see that my steps are recognized by Intellij :</p>\n\n<p><img src=\"https://i.stack.imgur.com/InHOD.png\" alt=\"feature file\"></p>\n\n<p>How is that possible, and how can I correct this?</p>\n\n<p>Any help would be great!</p>\n\nEDIT\n\n<p>Now that I added options to my runner :</p>\n\n<pre><code>@CucumberOptions(  monochrome = true,\n        features = \"src/test/resources/features/\",\n        format = { \"pretty\",\"html: cucumber-html-reports\",\n                \"json: cucumber-html-reports/cucumber.json\" },\n        dryRun = false,\n        glue = \"fr.tlasnier.cucumber\" )\n</code></pre>\n\n<p>It works!</p>\n\n<p>Yet, I noticed that before that, I had two scenario outline. One worked perfectly, the other one could not find step definition!</p>\n\n<p>Really weird, since there were some steps in both scenario.</p>\n"},{"tags":["java","string","type-conversion","integer"],"comments":[{"owner":{"account_id":60318,"reputation":11439,"user_id":180239,"accept_rate":93,"display_name":"Bobby"},"score":3,"creation_date":1280154352,"post_id":3335737,"comment_id":3460344,"body_markdown":"Just for reference purposes: http://stackoverflow.com/questions/3335685/integer-tostring","body":"Just for reference purposes: <a href=\"http://stackoverflow.com/questions/3335685/integer-tostring\">stackoverflow.com/questions/3335685/integer-tostring</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683607410,"post_id":3335737,"comment_id":134388426,"body_markdown":"Largely so that the compiler can just generate `String.valueOf()` calls when concatenating primitive types to Strings, instead of having to know about all the `toString()` methods.","body":"Largely so that the compiler can just generate <code>String.valueOf()</code> calls when concatenating primitive types to Strings, instead of having to know about all the <code>toString()</code> methods."}],"answers":[{"comments":[{"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"score":1,"creation_date":1280154540,"post_id":3335766,"comment_id":3460384,"body_markdown":"Actually, such one-line calls get inlined pretty quickly.","body":"Actually, such one-line calls get inlined pretty quickly."},{"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"score":0,"creation_date":1280154568,"post_id":3335766,"comment_id":3460386,"body_markdown":"Even in a loop calling 1 000 000 time String.valueof() ??","body":"Even in a loop calling 1 000 000 time String.valueof() ??"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1280154654,"post_id":3335766,"comment_id":3460402,"body_markdown":"@Manuel: did you profile it? Have you identified that herein lies your performance problem? Are you sure you&#39;re not prematurely optimizing? @Tassos: yes, that is also very likely, but either way I wouldn&#39;t worry about it unless profiling says that there&#39;s a problem with this particular call.","body":"@Manuel: did you profile it? Have you identified that herein lies your performance problem? Are you sure you&#39;re not prematurely optimizing? @Tassos: yes, that is also very likely, but either way I wouldn&#39;t worry about it unless profiling says that there&#39;s a problem with this particular call."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1280154741,"post_id":3335766,"comment_id":3460417,"body_markdown":"Actually, Manuel, I&#39;d expect a loop going 1000000 times to get inlined more often than just going once or twice. Even so, it&#39;s going to be a small portion of the time no matter how many times it loops.","body":"Actually, Manuel, I&#39;d expect a loop going 1000000 times to get inlined more often than just going once or twice. Even so, it&#39;s going to be a small portion of the time no matter how many times it loops."},{"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"score":0,"creation_date":1280154831,"post_id":3335766,"comment_id":3460435,"body_markdown":"No but I am sure there is no bottle neck here in my app. I am just asking this because I can&#39;t see any readability concern here and thus I think I have to use the more optimum code even if the gain is 0. Don&#39;t you agree ?","body":"No but I am sure there is no bottle neck here in my app. I am just asking this because I can&#39;t see any readability concern here and thus I think I have to use the more optimum code even if the gain is 0. Don&#39;t you agree ?"}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280154403,"creation_date":1280154403,"answer_id":3335766,"question_id":3335737,"body_markdown":"You shouldn&#39;t worry about this extra call costing you efficiency problems. If there&#39;s any cost, it&#39;ll be minimal, and should be negligible in the bigger picture of things.\r\n\r\nPerhaps the reason why both exist is to offer readability. In the context of many types being converted to `String`, then various calls to `String.valueOf(SomeType)` may be more readable than various `SomeType.toString` calls.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>You shouldn't worry about this extra call costing you efficiency problems. If there's any cost, it'll be minimal, and should be negligible in the bigger picture of things.</p>\n\n<p>Perhaps the reason why both exist is to offer readability. In the context of many types being converted to <code>String</code>, then various calls to <code>String.valueOf(SomeType)</code> may be more readable than various <code>SomeType.toString</code> calls.</p>\n"},{"comments":[{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyski - Vash"},"score":25,"creation_date":1280158191,"post_id":3335767,"comment_id":3461025,"body_markdown":"Yes, but if something is doing the same, does not mean that are the same thing.","body":"Yes, but if something is doing the same, does not mean that are the same thing."},{"owner":{"account_id":3907258,"reputation":161,"user_id":3233628,"display_name":"djchapm"},"score":5,"creation_date":1558455711,"post_id":3335767,"comment_id":99103873,"body_markdown":"String.valueOf(int) just calls Integer.toString(i) directly.  So best to call Integer.toString(int).","body":"String.valueOf(int) just calls Integer.toString(i) directly.  So best to call Integer.toString(int)."}],"tags":[],"owner":{"account_id":14130,"reputation":401475,"user_id":28804,"accept_rate":74,"display_name":"mipadi"},"comment_count":2,"down_vote_count":12,"up_vote_count":62,"is_accepted":true,"score":50,"last_activity_date":1280154403,"creation_date":1280154403,"answer_id":3335767,"question_id":3335737,"body_markdown":"Just two different ways of doing the same thing. It may be a historical reason (can&#39;t remember if one came before the other).","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>Just two different ways of doing the same thing. It may be a historical reason (can't remember if one came before the other).</p>\n"},{"comments":[{"owner":{"account_id":218120,"reputation":52212,"user_id":474283,"display_name":"Cameron Skinner"},"score":7,"creation_date":1291953425,"post_id":3335878,"comment_id":4803955,"body_markdown":"Your profiling should really have a &quot;warm-up&quot; period, otherwise the results can be skewed by the JIT tinkering with things. That said, a 300ms difference over 10^8 operations is so small as to be completely negligible.","body":"Your profiling should really have a &quot;warm-up&quot; period, otherwise the results can be skewed by the JIT tinkering with things. That said, a 300ms difference over 10^8 operations is so small as to be completely negligible."},{"owner":{"account_id":1012150,"reputation":4027,"user_id":1024482,"accept_rate":65,"display_name":"Rakesh"},"score":1,"creation_date":1372054608,"post_id":3335878,"comment_id":25032726,"body_markdown":"@Kingo I don&#39;t think your test case is correct. Because you are assigning the value to `String j` but never use. The underlying compiler may have optimized this. It is better to pass j object in different method and do some dummy operation.","body":"@Kingo I don&#39;t think your test case is correct. Because you are assigning the value to <code>String j</code> but never use. The underlying compiler may have optimized this. It is better to pass j object in different method and do some dummy operation."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1430504027,"post_id":3335878,"comment_id":48104518,"body_markdown":"You really should not write home grown micro benchmarks this way. If you use [JMH](http://openjdk.java.net/projects/code-tools/jmh/). It will take care of warmup, time measurement, multiple independend tries (forks Java!) and makes the code small, it looks like (incl. results for different methods and values - runtime 7 minutes): https://gist.github.com/ecki/399136f4fd59c1d110c1   (spoiler: &quot;&quot;+n won).","body":"You really should not write home grown micro benchmarks this way. If you use <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>. It will take care of warmup, time measurement, multiple independend tries (forks Java!) and makes the code small, it looks like (incl. results for different methods and values - runtime 7 minutes): <a href=\"https://gist.github.com/ecki/399136f4fd59c1d110c1\" rel=\"nofollow noreferrer\">gist.github.com/ecki/399136f4fd59c1d110c1</a>   (spoiler: &quot;&quot;+n won)."},{"owner":{"account_id":173546,"reputation":440,"user_id":402301,"display_name":"Kingo"},"score":6,"creation_date":1439252960,"post_id":3335878,"comment_id":51774267,"body_markdown":"Thanks buddy, but my answer was 5 years ago! JMH was only released in 2013 :P","body":"Thanks buddy, but my answer was 5 years ago! JMH was only released in 2013 :P"}],"tags":[],"owner":{"account_id":173546,"reputation":440,"user_id":402301,"display_name":"Kingo"},"comment_count":4,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1280156875,"creation_date":1280155249,"answer_id":3335878,"question_id":3335737,"body_markdown":"The String class provides valueOf methods for all primitive types and Object type so I assume they are convenience methods that can all be accessed through the one class.\r\n\r\nNB Profiling results\r\n\r\nAverage intToString = 5368ms, Average stringValueOf = 5689ms (for 100,000,000 operations)\r\n\r\n\r\n    public class StringIntTest {\r\n    \t\r\n    \t\r\n    \tpublic static long intToString () {\r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; 100000000; i++) {\r\n    \t\t\tString j = Integer.toString(i);\r\n    \t\t}\r\n    \t\tlong finishTime = System.currentTimeMillis();\r\n    \t\t\r\n    \t\treturn finishTime - startTime;\r\n    \t}\r\n    \t\r\n    \tpublic static long stringValueOf () {\r\n    \t\t\r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; 100000000; i++) {\r\n    \t\t\tString j = String.valueOf(i);\r\n    \t\t}\r\n    \t\tlong finishTime = System.currentTimeMillis();\r\n    \t\t\r\n    \t\treturn finishTime - startTime;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong intToStringElapsed = 0;\r\n    \t\tlong stringValueOfElapsed = 0;\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tintToStringElapsed += intToString();\r\n    \t\t\tstringValueOfElapsed+= stringValueOf();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Average intToString = &quot;+ (intToStringElapsed /10));\r\n    \t\tSystem.out.println(&quot;Average stringValueOf = &quot; +(stringValueOfElapsed / 10));\r\n    \t}\r\n    }","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>The String class provides valueOf methods for all primitive types and Object type so I assume they are convenience methods that can all be accessed through the one class.</p>\n\n<p>NB Profiling results</p>\n\n<p>Average intToString = 5368ms, Average stringValueOf = 5689ms (for 100,000,000 operations)</p>\n\n<pre><code>public class StringIntTest {\n\n\n    public static long intToString () {\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 100000000; i++) {\n            String j = Integer.toString(i);\n        }\n        long finishTime = System.currentTimeMillis();\n\n        return finishTime - startTime;\n    }\n\n    public static long stringValueOf () {\n\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 100000000; i++) {\n            String j = String.valueOf(i);\n        }\n        long finishTime = System.currentTimeMillis();\n\n        return finishTime - startTime;\n    }\n\n    public static void main(String[] args) {\n        long intToStringElapsed = 0;\n        long stringValueOfElapsed = 0;\n        for (int i = 0; i &lt; 10; i++) {\n            intToStringElapsed += intToString();\n            stringValueOfElapsed+= stringValueOf();\n        }\n        System.out.println(\"Average intToString = \"+ (intToStringElapsed /10));\n        System.out.println(\"Average stringValueOf = \" +(stringValueOfElapsed / 10));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280155737,"creation_date":1280155737,"answer_id":3335958,"question_id":3335737,"body_markdown":"The implementation of [`String.valueOf()`][1] that you see is the simplest way to meet the contract specified in the API: &quot;The representation is exactly the one returned by the [`Integer.toString()`][2] method of one argument.&quot;\r\n\r\n[1]:http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/String.html#valueOf%28int%29\r\n[2]:http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#toString%28int%29","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>The implementation of <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/String.html#valueOf%28int%29\" rel=\"nofollow noreferrer\"><code>String.valueOf()</code></a> that you see is the simplest way to meet the contract specified in the API: \"The representation is exactly the one returned by the <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#toString%28int%29\" rel=\"nofollow noreferrer\"><code>Integer.toString()</code></a> method of one argument.\"</p>\n"},{"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":19,"creation_date":1285968963,"post_id":3336298,"comment_id":4082752,"body_markdown":"And don&#39;t forget `Integer.toString(int i, int radix)` that will convert to strings of bases other than 10.","body":"And don&#39;t forget <code>Integer.toString(int i, int radix)</code> that will convert to strings of bases other than 10."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1380000663,"post_id":3336298,"comment_id":28024889,"body_markdown":"@Vash Could you please also explain about using empty string to convert int into String compare to String.valueOf? e.g)  &quot;&quot; + int i = &quot;i&quot; ? Which is best ?","body":"@Vash Could you please also explain about using empty string to convert int into String compare to String.valueOf? e.g)  &quot;&quot; + int i = &quot;i&quot; ? Which is best ?"},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyski - Vash"},"score":1,"creation_date":1380008313,"post_id":3336298,"comment_id":28027968,"body_markdown":"To format int as string you should not use the &quot;&quot; + i. There do not exists big over head but generally because this is not elegant. Instead of using `String.valueOf(int)`, you can use `String.format(&quot;%d&quot;,i);` to read more please visit this web site http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html","body":"To format int as string you should not use the &quot;&quot; + i. There do not exists big over head but generally because this is not elegant. Instead of using <code>String.valueOf(int)</code>, you can use <code>String.format(&quot;%d&quot;,i);</code> to read more please visit this web site <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/Formatter.html</a>"},{"owner":{"account_id":24366,"reputation":7247,"user_id":61938,"accept_rate":71,"display_name":"Rob Grant"},"score":0,"creation_date":1381754314,"post_id":3336298,"comment_id":28686183,"body_markdown":"I wish autoboxing was cleverer and just added the conversion on compilation or something.","body":"I wish autoboxing was cleverer and just added the conversion on compilation or something."},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyski - Vash"},"score":1,"creation_date":1381848624,"post_id":3336298,"comment_id":28727772,"body_markdown":"@RobertGrant The autoboxing is not the case here. But to answer your concerns, it is clever as you can do this `int i = new Integer(&quot;1&quot;);` and vice versa.","body":"@RobertGrant The autoboxing is not the case here. But to answer your concerns, it is clever as you can do this <code>int i = new Integer(&quot;1&quot;);</code> and vice versa."},{"owner":{"account_id":599,"reputation":18901,"user_id":779,"accept_rate":61,"display_name":"naumcho"},"score":0,"creation_date":1403014199,"post_id":3336298,"comment_id":37487790,"body_markdown":"It&#39;s a trade off - you&#39;re limited by the arguments that String.valueOf takes - e.g. what if you switch to using an AtomicDouble or something like that","body":"It&#39;s a trade off - you&#39;re limited by the arguments that String.valueOf takes - e.g. what if you switch to using an AtomicDouble or something like that"},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyski - Vash"},"score":0,"creation_date":1403014690,"post_id":3336298,"comment_id":37488136,"body_markdown":"@naumcho, Nothing to be exact. Because `AtomicDouble` is derived from `Object` class. Then for an instance of it, the method `String#valueOf(Object)` will be used. And in case of `null` will result with &quot;null&quot; and if not then will invoke `ad.toString()`.","body":"@naumcho, Nothing to be exact. Because <code>AtomicDouble</code> is derived from <code>Object</code> class. Then for an instance of it, the method <code>String#valueOf(Object)</code> will be used. And in case of <code>null</code> will result with &quot;null&quot; and if not then will invoke <code>ad.toString()</code>."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1430502602,"post_id":3336298,"comment_id":48103762,"body_markdown":"As `&quot;&quot;+i` is the shortest method I think it is very ellegant. Especially as it also deals with (null) objects. The compiler does optimize it very good in all cases.","body":"As <code>&quot;&quot;+i</code> is the shortest method I think it is very ellegant. Especially as it also deals with (null) objects. The compiler does optimize it very good in all cases."},{"owner":{"account_id":3045943,"reputation":3646,"user_id":2581593,"accept_rate":80,"display_name":"zubergu"},"score":0,"creation_date":1432300595,"post_id":3336298,"comment_id":48883146,"body_markdown":"Why this answer isn&#39;t on top? It&#39;s the best and makes most sense.","body":"Why this answer isn&#39;t on top? It&#39;s the best and makes most sense."}],"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyski - Vash"},"comment_count":9,"down_vote_count":1,"up_vote_count":184,"is_accepted":false,"score":183,"last_activity_date":1635561826,"creation_date":1280157869,"answer_id":3336298,"question_id":3335737,"body_markdown":"In String type we have several method valueOf\r\n\r\n    static String\tvalueOf(boolean b) \r\n    static String\tvalueOf(char c) \r\n    static String\tvalueOf(char[] data) \r\n    static String\tvalueOf(char[] data, int offset, int count) \r\n    static String\tvalueOf(double d) \r\n    static String\tvalueOf(float f) \r\n    static String\tvalueOf(int i) \r\n    static String\tvalueOf(long l) \r\n    static String\tvalueOf(Object obj) \r\n\r\nAs we can see those method are capable to resolve all kind of numbers \r\n\r\nevery implementation of specific method like you have presented: So for integers we have \r\n\r\n    Integer.toString(int i)\r\n\r\nfor double \r\n\r\n    Double.toString(double d)\r\n\r\nand so on \r\n\r\nIn my opinion this is not some historical thing, but it is more useful for a developer to use the method `valueOf` from the String class than from the proper type, as it leads to fewer changes for us to make when we want to change the type that we are operating on. \r\n\r\n Sample 1:\r\n\r\n    public String doStuff(int num) {\r\n    \r\n      // Do something with num...\r\n    \r\n      return String.valueOf(num);\r\n    \r\n     }\r\n\r\n \r\n Sample2:\r\n\r\n    public String doStuff(int num) {\r\n      \r\n     // Do something with num...\r\n     \r\n     return Integer.toString(num);\r\n    \r\n     }\r\n\r\nAs we see in sample 2 we have to do two changes, in contrary to sample one. \r\n\r\nIn my conclusion, using the `valueOf` method from String class is more flexible and that&#39;s why it is available there.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>In String type we have several method valueOf</p>\n<pre><code>static String   valueOf(boolean b) \nstatic String   valueOf(char c) \nstatic String   valueOf(char[] data) \nstatic String   valueOf(char[] data, int offset, int count) \nstatic String   valueOf(double d) \nstatic String   valueOf(float f) \nstatic String   valueOf(int i) \nstatic String   valueOf(long l) \nstatic String   valueOf(Object obj) \n</code></pre>\n<p>As we can see those method are capable to resolve all kind of numbers</p>\n<p>every implementation of specific method like you have presented: So for integers we have</p>\n<pre><code>Integer.toString(int i)\n</code></pre>\n<p>for double</p>\n<pre><code>Double.toString(double d)\n</code></pre>\n<p>and so on</p>\n<p>In my opinion this is not some historical thing, but it is more useful for a developer to use the method <code>valueOf</code> from the String class than from the proper type, as it leads to fewer changes for us to make when we want to change the type that we are operating on.</p>\n<p>Sample 1:</p>\n<pre><code>public String doStuff(int num) {\n\n  // Do something with num...\n\n  return String.valueOf(num);\n\n }\n</code></pre>\n<p>Sample2:</p>\n<pre><code>public String doStuff(int num) {\n  \n // Do something with num...\n \n return Integer.toString(num);\n\n }\n</code></pre>\n<p>As we see in sample 2 we have to do two changes, in contrary to sample one.</p>\n<p>In my conclusion, using the <code>valueOf</code> method from String class is more flexible and that's why it is available there.</p>\n"},{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1430504101,"post_id":6913338,"comment_id":48104554,"body_markdown":"Yes and &quot;&quot;+n is even faster. See https://gist.github.com/ecki/399136f4fd59c1d110c1","body":"Yes and &quot;&quot;+n is even faster. See <a href=\"https://gist.github.com/ecki/399136f4fd59c1d110c1\" rel=\"nofollow noreferrer\">gist.github.com/ecki/399136f4fd59c1d110c1</a>"}],"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484398692,"creation_date":1312293814,"answer_id":6913338,"question_id":3335737,"body_markdown":"If you look at the source code for the `String` class, it actually calls `Integer.toString()` when you call `valueOf()`.\r\n\r\nThat being said, `Integer.toString()` might be a tad faster if the method calls aren&#39;t optimized at compile time (which they probably are).","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>If you look at the source code for the <code>String</code> class, it actually calls <code>Integer.toString()</code> when you call <code>valueOf()</code>.</p>\n\n<p>That being said, <code>Integer.toString()</code> might be a tad faster if the method calls aren't optimized at compile time (which they probably are).</p>\n"},{"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":51,"creation_date":1340800858,"post_id":8418855,"comment_id":14745037,"body_markdown":"The question is about [`Integer.toString(int i)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString%28int%29), a `static` method. There are no `null` objects possible.","body":"The question is about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString%28int%29\" rel=\"nofollow noreferrer\"><code>Integer.toString(int i)</code></a>, a <code>static</code> method. There are no <code>null</code> objects possible."},{"owner":{"account_id":245153,"reputation":5918,"user_id":518493,"display_name":"Manish Singh"},"score":18,"creation_date":1350368727,"post_id":8418855,"comment_id":17486925,"body_markdown":"`Integer i = null;`\n`i.toString(); // Null pointer exception!!`\n`String.valueOf(i); // No exception `","body":"<code>Integer i = null;</code> <code>i.toString(); &#47;&#47; Null pointer exception!!</code> <code>String.valueOf(i); &#47;&#47; No exception </code>"},{"owner":{"account_id":30443,"reputation":4470,"user_id":83047,"accept_rate":78,"display_name":"hleinone"},"score":13,"creation_date":1351770459,"post_id":8418855,"comment_id":17931350,"body_markdown":"@Manis Kumar: Your example will not fire the `String.valueOf(int i)` method but `String.valueOf(Object obj)`. Anyhow, the question is about primitive `int` values, where there&#39;s no possibility of `null`.","body":"@Manis Kumar: Your example will not fire the <code>String.valueOf(int i)</code> method but <code>String.valueOf(Object obj)</code>. Anyhow, the question is about primitive <code>int</code> values, where there&#39;s no possibility of <code>null</code>."},{"owner":{"account_id":1045471,"reputation":1822,"user_id":1050564,"accept_rate":44,"display_name":"Daniel Ochoa"},"score":1,"creation_date":1456841665,"post_id":8418855,"comment_id":59125130,"body_markdown":"@manish_s it was pretty clear from the example that nobody is talking about the Object type Integer. We&#39;re only talking about primitives.","body":"@manish_s it was pretty clear from the example that nobody is talking about the Object type Integer. We&#39;re only talking about primitives."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":4,"creation_date":1481079803,"post_id":8418855,"comment_id":69225438,"body_markdown":"@manish_s: The OP didn&#39;t say `Integer.toString()` but `Integer.toString(int i)`. That is a static method (http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int)).","body":"@manish_s: The OP didn&#39;t say <code>Integer.toString()</code> but <code>Integer.toString(int i)</code>. That is a static method (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>)."}],"tags":[],"owner":{"account_id":1079804,"reputation":799,"user_id":1077068,"accept_rate":25,"display_name":"A Costa"},"comment_count":5,"down_vote_count":19,"up_vote_count":78,"is_accepted":false,"score":59,"last_activity_date":1397663246,"creation_date":1323275402,"answer_id":8418855,"question_id":3335737,"body_markdown":"One huge difference is that if you invoke `toString()` in a null object you&#39;ll get a `NullPointerException` whereas, using `String.valueOf()` you may not check for null.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>One huge difference is that if you invoke <code>toString()</code> in a null object you'll get a <code>NullPointerException</code> whereas, using <code>String.valueOf()</code> you may not check for null.</p>\n"},{"tags":[],"owner":{"account_id":2764142,"reputation":541,"user_id":2380374,"display_name":"Amit Bhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371806980,"creation_date":1371806980,"answer_id":17231847,"question_id":3335737,"body_markdown":"Using the method, String.valueOf() you do not have to worry about the data(whether it is int,long,char,char[],boolean,Object), you can just call :\r\n \r\n\r\n - static String   valueOf()\r\n\r\nusing the only syntax String.valueOf() can whatever you pass as a parameter is converted to String and returned..\r\n\r\nOtherwise, if you use   Integer.toString(),Float.toString() etc.(i.e. SomeType.toString()) then you will have to check the datatype of parameter that you want to convert into string.\r\nSo, its better to use  String.valueOf() for such convertions.\r\n\r\nIf you are having an array of object class that contains different values like Integer,Char,Float etc. then by using  String.valueOf() method you can convert the elements of such array into String form easily. On contrary, if you want to use SomeType.toString() then at first you will need to know about there their datatype classes(maybe by using &quot;instanceOf&quot; operator) and then only you can proceed for a typecast.\r\n\r\nString.valueOf() method when called matches the parameter that is passed(whether its Integer,Char,Float etc.) and by using method overloading calls that &quot;valueOf()&quot; method whose parameter gets matched, and then inside that method their is a direct call to corresponding &quot;toString()&quot; method..\r\n\r\nSo, we can see how the overhead  of checking datatype and then calling corresponding &quot;toString()&quot; method is removed.Only we need is to call  String.valueOf() method, not caring about what we want to convert to String.\r\n\r\nConclusion: String.valueOf() method has its importance just at cost of one more call.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>Using the method, String.valueOf() you do not have to worry about the data(whether it is int,long,char,char[],boolean,Object), you can just call :</p>\n\n<ul>\n<li>static String   valueOf()</li>\n</ul>\n\n<p>using the only syntax String.valueOf() can whatever you pass as a parameter is converted to String and returned..</p>\n\n<p>Otherwise, if you use   Integer.toString(),Float.toString() etc.(i.e. SomeType.toString()) then you will have to check the datatype of parameter that you want to convert into string.\nSo, its better to use  String.valueOf() for such convertions.</p>\n\n<p>If you are having an array of object class that contains different values like Integer,Char,Float etc. then by using  String.valueOf() method you can convert the elements of such array into String form easily. On contrary, if you want to use SomeType.toString() then at first you will need to know about there their datatype classes(maybe by using \"instanceOf\" operator) and then only you can proceed for a typecast.</p>\n\n<p>String.valueOf() method when called matches the parameter that is passed(whether its Integer,Char,Float etc.) and by using method overloading calls that \"valueOf()\" method whose parameter gets matched, and then inside that method their is a direct call to corresponding \"toString()\" method..</p>\n\n<p>So, we can see how the overhead  of checking datatype and then calling corresponding \"toString()\" method is removed.Only we need is to call  String.valueOf() method, not caring about what we want to convert to String.</p>\n\n<p>Conclusion: String.valueOf() method has its importance just at cost of one more call.</p>\n"},{"tags":[],"owner":{"account_id":5024967,"reputation":11,"user_id":4037245,"display_name":"anuragsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410596157,"creation_date":1410596157,"answer_id":25821226,"question_id":3335737,"body_markdown":"my openion is  valueof() always called tostring() for representaion and so for rpresentaion of primtive type valueof is generalized.and java by default does not support Data type but it define its work with objaect and class its made all thing in cllas and made object .here  Integer.toString(int i) create a limit that conversion for only integer.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>my openion is  valueof() always called tostring() for representaion and so for rpresentaion of primtive type valueof is generalized.and java by default does not support Data type but it define its work with objaect and class its made all thing in cllas and made object .here  Integer.toString(int i) create a limit that conversion for only integer.</p>\n"},{"comments":[{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1420492805,"post_id":27787692,"comment_id":43986060,"body_markdown":"Could you please separate your text into some blocks. It is very hard to read.","body":"Could you please separate your text into some blocks. It is very hard to read."},{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1442311010,"post_id":27787692,"comment_id":53019842,"body_markdown":"There is a lot of misinformed things in this OP. Your post is the best answer for me! Thank you","body":"There is a lot of misinformed things in this OP. Your post is the best answer for me! Thank you"}],"tags":[],"owner":{"account_id":5579100,"reputation":31,"user_id":4421596,"display_name":"Steve J"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501879557,"creation_date":1420491118,"answer_id":27787692,"question_id":3335737,"body_markdown":"To answer the OPs question, it&#39;s simply a helper wrapper to have the other call, and comes down to style choice and that is it.  I think there&#39;s a lot of misinformation here and the best thing a Java developer can do is look at the implementation for each method, it&#39;s one or two clicks away in any IDE.  You will clearly see that `String.valueOf(int)` is simply calling `Integer.toString(int)` for you.\r\n\r\nTherefore, there is absolutely zero difference, in that they both create a char buffer, walk through the digits in the number, then copy that into a new String and return it (therefore each are creating one String object).  Only difference is one extra call, which the compiler eliminates to a single call anyway.\r\n\r\nSo it matters not which you call, other than maybe code-consistency.  As to the comments about nulls, it takes a primitive, therefore it can not be null!  You will get a compile-time error if you don&#39;t initialize the int being passed.  So there is no difference in how it handles nulls as they&#39;re non-existent in this case.  \r\n","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>To answer the OPs question, it's simply a helper wrapper to have the other call, and comes down to style choice and that is it.  I think there's a lot of misinformation here and the best thing a Java developer can do is look at the implementation for each method, it's one or two clicks away in any IDE.  You will clearly see that <code>String.valueOf(int)</code> is simply calling <code>Integer.toString(int)</code> for you.</p>\n\n<p>Therefore, there is absolutely zero difference, in that they both create a char buffer, walk through the digits in the number, then copy that into a new String and return it (therefore each are creating one String object).  Only difference is one extra call, which the compiler eliminates to a single call anyway.</p>\n\n<p>So it matters not which you call, other than maybe code-consistency.  As to the comments about nulls, it takes a primitive, therefore it can not be null!  You will get a compile-time error if you don't initialize the int being passed.  So there is no difference in how it handles nulls as they're non-existent in this case.  </p>\n"},{"tags":[],"owner":{"account_id":1341598,"reputation":4649,"user_id":1283166,"accept_rate":52,"display_name":"Davio"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1613859758,"creation_date":1449669227,"answer_id":34180531,"question_id":3335737,"body_markdown":"From the Java sources:\r\n\r\n    /**\r\n     * Returns the string representation of the {@code int} argument.\r\n     * &lt;p&gt;\r\n     * The representation is exactly the one returned by the\r\n     * {@code Integer.toString} method of one argument.\r\n     *\r\n     * @param   i   an {@code int}.\r\n     * @return  a string representation of the {@code int} argument.\r\n     * @see     java.lang.Integer#toString(int, int)\r\n     */\r\n    public static String valueOf(int i) {\r\n        return Integer.toString(i);\r\n    }\r\n\r\nSo they give exactly the same result and one in fact calls the other. `String.valueOf` is more flexible if you might change the type later.","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>From the Java sources:</p>\n<pre><code>/**\n * Returns the string representation of the {@code int} argument.\n * &lt;p&gt;\n * The representation is exactly the one returned by the\n * {@code Integer.toString} method of one argument.\n *\n * @param   i   an {@code int}.\n * @return  a string representation of the {@code int} argument.\n * @see     java.lang.Integer#toString(int, int)\n */\npublic static String valueOf(int i) {\n    return Integer.toString(i);\n}\n</code></pre>\n<p>So they give exactly the same result and one in fact calls the other. <code>String.valueOf</code> is more flexible if you might change the type later.</p>\n"},{"tags":[],"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491123846,"creation_date":1491123846,"answer_id":43166552,"question_id":3335737,"body_markdown":"There have no differences between Integer.toString(5) and String.valueOf(5);\r\n\r\nbecause String.valueOf returns:\r\n\r\n    public static String valueOf(int i) {\r\n        return Integer.toString(i);\r\n    }\r\n    public static String valueOf(float f) {\r\n        return Float.toString(f);\r\n    }\r\n\r\netc..","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>There have no differences between Integer.toString(5) and String.valueOf(5);</p>\n\n<p>because String.valueOf returns:</p>\n\n<pre><code>public static String valueOf(int i) {\n    return Integer.toString(i);\n}\npublic static String valueOf(float f) {\n    return Float.toString(f);\n}\n</code></pre>\n\n<p>etc..</p>\n"}],"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134224,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":3335767,"answer_count":12,"score":196,"last_activity_date":1675342761,"creation_date":1280154218,"question_id":3335737,"body_markdown":"I am wondering why the method `String.valueOf(int i)` exists ? I am using this method to convert `int` into `String` and just discovered the `Integer.toString(int i)` method.\r\n\r\nAfter looking the implementation of these methods I saw that the first one is calling the second one. As a consequence all my calls to `String.valueOf(int i)` involve one more call than directly calling `Integer.toString(int i)`","title":"Integer.toString(int i) vs String.valueOf(int i) in Java","body":"<p>I am wondering why the method <code>String.valueOf(int i)</code> exists ? I am using this method to convert <code>int</code> into <code>String</code> and just discovered the <code>Integer.toString(int i)</code> method.</p>\n\n<p>After looking the implementation of these methods I saw that the first one is calling the second one. As a consequence all my calls to <code>String.valueOf(int i)</code> involve one more call than directly calling <code>Integer.toString(int i)</code></p>\n"},{"tags":["java","gwt","pagination","simplepager"],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675342440,"creation_date":1675342440,"question_id":75323495,"body_markdown":"I have a problem related to gwt pagination.\r\n\r\nWhen I am using simplepager from gwt to instantiate a pager the lastPage button doesnt appear.\r\n\r\nBut the buttons of PrevPage, nextPage, firstPage, and Fastforward do appear. \r\n\r\nI am using the constructor that takes 7 arguments:\r\n\r\n    SimplePager(TextLocation location, Resources resources, boolean showFastForwardButton, int fastForwardRows, boolean showLastPageButton, boolean showFirstPageButton, ImageButtonsConstants imageButtonConstants)\r\n\r\nwith this call:\r\n\r\n    return new SimplePager(TextLocation.CENTER, this.pagerResources, true, 0, true, true, imageButtonsConstants)\r\n\r\nI initialise the ImageButtonsConstants this way:\r\n\r\n    private SimplePager.ImageButtonsConstants imageButtonsConstants = new SimplePager.ImageButtonsConstants() {\r\n        @Override\r\n        public String prevPage()\r\n        {\r\n        return &quot;prevPage&quot;;\r\n        }\r\n        ...\r\n    }\r\nfrom the java class where I call this pager I use:\r\n\r\npagination is my other class and getPager returns the simplepager above\r\n\r\n\r\n    final SimplePager pager = this.pagination.getPager();\r\n    pager.setPageSize(this.PAGE_SIZE);\r\n    pager.setRangeLimited(true);\r\n    pager.setDisplay(this.grid);\r\n\r\nWhat could be happening?\r\n\r\nThanks in advance.\r\n\r\n","title":"GWT SimplePager problem, not showing lastPageButton (Pagination)","body":"<p>I have a problem related to gwt pagination.</p>\n<p>When I am using simplepager from gwt to instantiate a pager the lastPage button doesnt appear.</p>\n<p>But the buttons of PrevPage, nextPage, firstPage, and Fastforward do appear.</p>\n<p>I am using the constructor that takes 7 arguments:</p>\n<pre><code>SimplePager(TextLocation location, Resources resources, boolean showFastForwardButton, int fastForwardRows, boolean showLastPageButton, boolean showFirstPageButton, ImageButtonsConstants imageButtonConstants)\n</code></pre>\n<p>with this call:</p>\n<pre><code>return new SimplePager(TextLocation.CENTER, this.pagerResources, true, 0, true, true, imageButtonsConstants)\n</code></pre>\n<p>I initialise the ImageButtonsConstants this way:</p>\n<pre><code>private SimplePager.ImageButtonsConstants imageButtonsConstants = new SimplePager.ImageButtonsConstants() {\n    @Override\n    public String prevPage()\n    {\n    return &quot;prevPage&quot;;\n    }\n    ...\n}\n</code></pre>\n<p>from the java class where I call this pager I use:</p>\n<p>pagination is my other class and getPager returns the simplepager above</p>\n<pre><code>final SimplePager pager = this.pagination.getPager();\npager.setPageSize(this.PAGE_SIZE);\npager.setRangeLimited(true);\npager.setDisplay(this.grid);\n</code></pre>\n<p>What could be happening?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1491007068,"post_id":43151416,"comment_id":73379930,"body_markdown":"have you refered this http://crunchify.com/how-to-run-multiple-threads-concurrently-in-java-executorservice-approach/","body":"have you refered this <a href=\"http://crunchify.com/how-to-run-multiple-threads-concurrently-in-java-executorservice-approach/\" rel=\"nofollow noreferrer\">crunchify.com/&hellip;</a>"},{"owner":{"account_id":2148053,"reputation":1126,"user_id":1905222,"accept_rate":86,"display_name":"jaywalker"},"score":0,"creation_date":1491007303,"post_id":43151416,"comment_id":73379976,"body_markdown":"@RajithPemabandu the article that you have referred is just using the `ExectutorService` to launch and manage multiple threads rather than creating a separate `Thread` object for each of them. All the threads that are created have only one task that needs to be performed in parallel i.e Ping the hosts. And that is not what my question is referring to.","body":"@RajithPemabandu the article that you have referred is just using the <code>ExectutorService</code> to launch and manage multiple threads rather than creating a separate <code>Thread</code> object for each of them. All the threads that are created have only one task that needs to be performed in parallel i.e Ping the hosts. And that is not what my question is referring to."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1491057535,"post_id":43151416,"comment_id":73391287,"body_markdown":"do you really want to run methods of the class in parallel? I can hardly imagine a diner which simultaneously gets seated, eats, and pays bill: this actions are strictly sequential.","body":"do you really want to run methods of the class in parallel? I can hardly imagine a diner which simultaneously gets seated, eats, and pays bill: this actions are strictly sequential."},{"owner":{"account_id":2148053,"reputation":1126,"user_id":1905222,"accept_rate":86,"display_name":"jaywalker"},"score":0,"creation_date":1491108886,"post_id":43151416,"comment_id":73404057,"body_markdown":"What I meant to do say was there are multiple Diners in the system and therefore many of them could be waiting to get seated, ordering, eating simultaneously, hence the need for multiple tasks that could be &quot;executed in parallel&quot;","body":"What I meant to do say was there are multiple Diners in the system and therefore many of them could be waiting to get seated, ordering, eating simultaneously, hence the need for multiple tasks that could be &quot;executed in parallel&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491008742,"creation_date":1491008343,"answer_id":43151626,"question_id":43151416,"body_markdown":"    public class SOCLass {\r\n    \t\r\n    \tpublic void method1(){\r\n    \t\tSystem.out.println(&quot;method1&quot;);\r\n    \t}\r\n    \r\n    \tpublic void method2(){\r\n    \t\tSystem.out.println(&quot;method1&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tSOCLass clazz = new SOCLass();\r\n    \t\t\r\n    \t\tRunnable task1 = () -&gt; { clazz.method1();};\t\t \r\n    \t\tThread t1 = new Thread(task1);\r\n    \t\tt1.start();\r\n    \t\t\r\n    \t\tRunnable task2 = () -&gt; { clazz.method2();};\t\t \r\n    \t\tThread t2 = new Thread(task1);\r\n    \t\tt2.start();\r\n    \r\n    \t\ttry {\r\n    \t\t\tt1.join();\r\n    \t\t\tt2.join();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**EDIT** \r\n\r\nI think for your case this approach would work better. You could launch the threads in a launch task method after evaluating the boolean. Just one Diner instance \r\n\r\nJust keep the threads in place where you can control them","title":"Java Class with multiple methods that can be executed in a thread","body":"<pre><code>public class SOCLass {\n\n    public void method1(){\n        System.out.println(\"method1\");\n    }\n\n    public void method2(){\n        System.out.println(\"method1\");\n    }\n\n    public static void main(String[] args){\n        SOCLass clazz = new SOCLass();\n\n        Runnable task1 = () -&gt; { clazz.method1();};      \n        Thread t1 = new Thread(task1);\n        t1.start();\n\n        Runnable task2 = () -&gt; { clazz.method2();};      \n        Thread t2 = new Thread(task1);\n        t2.start();\n\n        try {\n            t1.join();\n            t2.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong> </p>\n\n<p>I think for your case this approach would work better. You could launch the threads in a launch task method after evaluating the boolean. Just one Diner instance </p>\n\n<p>Just keep the threads in place where you can control them</p>\n"},{"tags":[],"owner":{"account_id":8971339,"reputation":629,"user_id":6689698,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491011513,"creation_date":1491011513,"answer_id":43151933,"question_id":43151416,"body_markdown":"In my opinion, for your case, simple inheritance can be a good option.\r\n\r\nyou can have several sub-classes inheriting `Diner`,\r\n\r\nSo there would be one Diner abstract class and several sub classes,\r\n\r\n    public abstract class Diner implements Runable{\r\n        public Order order;\r\n        public int arrivalTime;\r\n    }\r\n    \r\n    public class NotSeatedDiner extends Diner {\r\n        public void run () {\r\n            // do something to find a seat\r\n        }\r\n    }\r\n\r\n// some other subclasses\r\n\r\nin your main function, you can have \r\n\r\n    List diners = new ArrayList&lt;Diner&gt;();\r\n    \r\n    //maybe some factory producing different diners\r\n    \r\n    diners.add(fac.getDiner(&quot;not seated&quot;));\r\n\r\n    for(Diner diner : diners){\r\n        diner.run();\r\n    }","title":"Java Class with multiple methods that can be executed in a thread","body":"<p>In my opinion, for your case, simple inheritance can be a good option.</p>\n\n<p>you can have several sub-classes inheriting <code>Diner</code>,</p>\n\n<p>So there would be one Diner abstract class and several sub classes,</p>\n\n<pre><code>public abstract class Diner implements Runable{\n    public Order order;\n    public int arrivalTime;\n}\n\npublic class NotSeatedDiner extends Diner {\n    public void run () {\n        // do something to find a seat\n    }\n}\n</code></pre>\n\n<p>// some other subclasses</p>\n\n<p>in your main function, you can have </p>\n\n<pre><code>List diners = new ArrayList&lt;Diner&gt;();\n\n//maybe some factory producing different diners\n\ndiners.add(fac.getDiner(\"not seated\"));\n\nfor(Diner diner : diners){\n    diner.run();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491012056,"creation_date":1491012056,"answer_id":43151995,"question_id":43151416,"body_markdown":" If you are new to multi-threading consider easing into it gradually. Start with a single worker thread and post all your diner&#39;s tasks to this one thread.  This provides some concurrency - submitting tasks to the thread does not block - but eliminates many of the complexities of having multiple threads accessing the same Diner at the same time (synchronization, risk of deadlock, risk of race conditions etc)\r\n\r\n Here is an example using a single thread scheduled executor.  It schedules some events to happen at 2, 4 and 6 seconds, but the calling thread does not block waiting for each event (although I do add an artificial block at the end with the countdown latch, so we can shutdown the executor cleanly)\r\n\r\n    public class Diner {\r\n    \r\n        public void findSeat() {\r\n            System.out.println(&quot;findSeat&quot;);\r\n        }\r\n        public void placeOrder() {\r\n            System.out.println(&quot;placeOrder&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            final ScheduledExecutorService exec = Executors.newSingleThreadScheduledExecutor();\r\n            final CountDownLatch done = new CountDownLatch(1);\r\n    \r\n            final Diner diner = new Diner();\r\n    \r\n            exec.schedule(new Runnable() {\r\n                public void run() {\r\n                    diner.findSeat();\r\n                }\r\n            }, 2, TimeUnit.SECONDS);\r\n    \r\n            exec.schedule(new Runnable() {\r\n                public void run() {\r\n                    diner.placeOrder();\r\n                }\r\n            }, 4, TimeUnit.SECONDS);\r\n    \r\n    \r\n            exec.schedule(new Runnable() {\r\n                public void run() {\r\n                    done.countDown();\r\n                }\r\n            }, 6, TimeUnit.SECONDS);\r\n    \r\n            done.await();\r\n            exec.shutdown();\r\n            System.out.println(&quot;done&quot;);\r\n        }\r\n    }\r\n\r\n Also there is no need for your Diner to implement Runnable.  Just create temporary\r\n runnables as necessary for each task.\r\n\r\n When you need additional concurrency add a second, third executor service.  If you\r\n have tasks which are &quot;stateless&quot; - such as a database query - you could add a new\r\n executor service with multiple threads to get better parallelism.  Just make sure that\r\n when you update your diner your db threads do so by scheduling a task to the Diner\r\n executor, instead of modifying diner directly.\r\n\r\n This would give you an Akka-esque style, but just using native Java utilities.\r\n\r\n","title":"Java Class with multiple methods that can be executed in a thread","body":"<p>If you are new to multi-threading consider easing into it gradually. Start with a single worker thread and post all your diner's tasks to this one thread.  This provides some concurrency - submitting tasks to the thread does not block - but eliminates many of the complexities of having multiple threads accessing the same Diner at the same time (synchronization, risk of deadlock, risk of race conditions etc)</p>\n\n<p>Here is an example using a single thread scheduled executor.  It schedules some events to happen at 2, 4 and 6 seconds, but the calling thread does not block waiting for each event (although I do add an artificial block at the end with the countdown latch, so we can shutdown the executor cleanly)</p>\n\n<pre><code>public class Diner {\n\n    public void findSeat() {\n        System.out.println(\"findSeat\");\n    }\n    public void placeOrder() {\n        System.out.println(\"placeOrder\");\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        final ScheduledExecutorService exec = Executors.newSingleThreadScheduledExecutor();\n        final CountDownLatch done = new CountDownLatch(1);\n\n        final Diner diner = new Diner();\n\n        exec.schedule(new Runnable() {\n            public void run() {\n                diner.findSeat();\n            }\n        }, 2, TimeUnit.SECONDS);\n\n        exec.schedule(new Runnable() {\n            public void run() {\n                diner.placeOrder();\n            }\n        }, 4, TimeUnit.SECONDS);\n\n\n        exec.schedule(new Runnable() {\n            public void run() {\n                done.countDown();\n            }\n        }, 6, TimeUnit.SECONDS);\n\n        done.await();\n        exec.shutdown();\n        System.out.println(\"done\");\n    }\n}\n</code></pre>\n\n<p>Also there is no need for your Diner to implement Runnable.  Just create temporary\n runnables as necessary for each task.</p>\n\n<p>When you need additional concurrency add a second, third executor service.  If you\n have tasks which are \"stateless\" - such as a database query - you could add a new\n executor service with multiple threads to get better parallelism.  Just make sure that\n when you update your diner your db threads do so by scheduling a task to the Diner\n executor, instead of modifying diner directly.</p>\n\n<p>This would give you an Akka-esque style, but just using native Java utilities.</p>\n"},{"tags":[],"owner":{"display_name":"user19921349"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675342070,"creation_date":1675342070,"answer_id":75323422,"question_id":43151416,"body_markdown":"you can create two classes and call start method(basic idia)\r\nlook at the example!\r\n\r\n//class Second\r\n\r\n    public class Second extends Thread {\r\n    public void run() {\r\n        for (int c = 100; c &gt; 0; c--) {\r\n            System.out.println(c);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//class Main\r\n\r\n    public class Main extends Thread {\r\n    public void run() {\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Main thread_1 = new Main();\r\n        Second thread_2 = new Second();\r\n\r\n        // Let&#39;s fix concurrency problem\r\n        // method 1:\r\n        \r\n        thread_1.start();\r\n        thread_1.join();\r\n        thread_2.start();\r\n        thread_2.join();\r\n        \r\n        //method 2:\r\n       //or you can use  is alive\r\n       /* thread_1.start();\r\n        while (thread_1.isAlive()){\r\n            System.out.print(&quot;&quot;);\r\n        }thread_2.start();*/\r\n        \r\n\r\n    }\r\n}","title":"Java Class with multiple methods that can be executed in a thread","body":"<p>you can create two classes and call start method(basic idia)\nlook at the example!</p>\n<p>//class Second</p>\n<pre><code>public class Second extends Thread {\npublic void run() {\n    for (int c = 100; c &gt; 0; c--) {\n        System.out.println(c);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>//class Main</p>\n<pre><code>public class Main extends Thread {\npublic void run() {\n    for (int i = 0; i &lt; 100; i++) {\n        System.out.println(i);\n    }\n}\n\n\npublic static void main(String[] args) throws InterruptedException {\n    Main thread_1 = new Main();\n    Second thread_2 = new Second();\n\n    // Let's fix concurrency problem\n    // method 1:\n    \n    thread_1.start();\n    thread_1.join();\n    thread_2.start();\n    thread_2.join();\n    \n    //method 2:\n   //or you can use  is alive\n   /* thread_1.start();\n    while (thread_1.isAlive()){\n        System.out.print(&quot;&quot;);\n    }thread_2.start();*/\n    \n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2148053,"reputation":1126,"user_id":1905222,"accept_rate":86,"display_name":"jaywalker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3535,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43151995,"answer_count":4,"score":2,"last_activity_date":1675342070,"creation_date":1491006176,"question_id":43151416,"body_markdown":"I am new to Java multithreaded programming. I have a use case where I have a runnable class called `Diner` and based on the state of different variables in the program, I want to execute different methods of the `Diner` Class in parallel.\r\nOne way to do that would be to have a single run() method containing multiple if conditions corresponding to different code blocks you want to execute as shown below. \r\n\r\n        public class Diner implements Runnable  {\r\n            Order order;\r\n            int arrivalTime;\r\n\r\n\r\n\r\n            public void run () {\r\n                if(!isSeated){\r\n                    //do something to get a seat\r\n                }\r\n                if(!notEatenYet){\r\n                    //place order\r\n                }\r\n                if(!orderHasArrived){\r\n                    //start eating\r\n                }\r\n                if(finishedEating){\r\n                    //pay bill and leave\r\n                }\r\n            }\r\n        }\r\n\r\nHowever, is there a more elegant way to do this? Like rather than having a single `run()` method that can be parallelized, have different methods in the class that could be parallelized (overloading `run()` ?).\r\n\r\nI believe I can use Akka Actors to accomplish something like this, but I am looking for a native solution.","title":"Java Class with multiple methods that can be executed in a thread","body":"<p>I am new to Java multithreaded programming. I have a use case where I have a runnable class called <code>Diner</code> and based on the state of different variables in the program, I want to execute different methods of the <code>Diner</code> Class in parallel.\nOne way to do that would be to have a single run() method containing multiple if conditions corresponding to different code blocks you want to execute as shown below. </p>\n\n<pre><code>    public class Diner implements Runnable  {\n        Order order;\n        int arrivalTime;\n\n\n\n        public void run () {\n            if(!isSeated){\n                //do something to get a seat\n            }\n            if(!notEatenYet){\n                //place order\n            }\n            if(!orderHasArrived){\n                //start eating\n            }\n            if(finishedEating){\n                //pay bill and leave\n            }\n        }\n    }\n</code></pre>\n\n<p>However, is there a more elegant way to do this? Like rather than having a single <code>run()</code> method that can be parallelized, have different methods in the class that could be parallelized (overloading <code>run()</code> ?).</p>\n\n<p>I believe I can use Akka Actors to accomplish something like this, but I am looking for a native solution.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1675261907,"post_id":75277869,"comment_id":132890644,"body_markdown":"Before I answer, can you confirm you want to navigate things from parent to child (one-to-many)? Or did you really intend to navigate your data from child to parent (many-to-one)?","body":"Before I answer, can you confirm you want to navigate things from parent to child (one-to-many)? Or did you really intend to navigate your data from child to parent (many-to-one)?"},{"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"score":0,"creation_date":1675282054,"post_id":75277869,"comment_id":132897420,"body_markdown":"Confirmed - I do want to navigate from child to parent. I want to display a list view of the children, but in each row show the name of the parent object. The entities I&#39;m dealing with are more complex, and I have multiple of these relationships. So I would like to convert the parent(s) individually rather than dealing with a single massive record with all the fields together, if possible.","body":"Confirmed - I do want to navigate from child to parent. I want to display a list view of the children, but in each row show the name of the parent object. The entities I&#39;m dealing with are more complex, and I have multiple of these relationships. So I would like to convert the parent(s) individually rather than dealing with a single massive record with all the fields together, if possible."}],"answers":[{"comments":[{"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"score":0,"creation_date":1675389203,"post_id":75323380,"comment_id":132923873,"body_markdown":"Yeah, that&#39;s great! The examples I found had that extra `field` call that threw me off. The relationship makes sense when you see the real domain entities, but I wanted to keep it as generic as possible here :)","body":"Yeah, that&#39;s great! The examples I found had that extra <code>field</code> call that threw me off. The relationship makes sense when you see the real domain entities, but I wanted to keep it as generic as possible here :)"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675341809,"creation_date":1675341809,"answer_id":75323380,"question_id":75277869,"body_markdown":"I think there&#39;s just a problem of reversed relationships here, where child and parent were confused. This should work?\r\n\r\n```java\r\ndslContext\r\n    .select(\r\n        CHILD.ID,\r\n        CHILD.NAME,\r\n        row(CHILD.parent().ID, CHILD.parent().NAME).mapping(ParentDTO::new))\r\n    .from(CHILD)\r\n    .fetch(Records.mapping(ChildDTO::new))\r\n```\r\n\r\nTHis example is using [`Row2.mapping(Function2)`][1], which is just convenience for an [ad-hoc converter][2] placed on the `Row2` expression, which is a `SelectField&lt;Record2&lt;T1, T2&gt;&gt;` (there&#39;s no need to wrap it in `DSL.field(...)`, explicitly)\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Row2.html#mapping(org.jooq.Function2)\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"Jooq convert subset of selected columns to entity","body":"<p>I think there's just a problem of reversed relationships here, where child and parent were confused. This should work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>dslContext\n    .select(\n        CHILD.ID,\n        CHILD.NAME,\n        row(CHILD.parent().ID, CHILD.parent().NAME).mapping(ParentDTO::new))\n    .from(CHILD)\n    .fetch(Records.mapping(ChildDTO::new))\n</code></pre>\n<p>THis example is using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Row2.html#mapping(org.jooq.Function2)\" rel=\"nofollow noreferrer\"><code>Row2.mapping(Function2)</code></a>, which is just convenience for an <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converter</a> placed on the <code>Row2</code> expression, which is a <code>SelectField&lt;Record2&lt;T1, T2&gt;&gt;</code> (there's no need to wrap it in <code>DSL.field(...)</code>, explicitly)</p>\n"}],"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75323380,"answer_count":1,"score":1,"last_activity_date":1675341809,"creation_date":1675021543,"question_id":75277869,"body_markdown":"If I have two tables with a simple many-to-one relationship:\r\n```\r\nCREATE TABLE parent (\r\n  id BIGINT PRIMARY KEY,\r\n  name VARCHAR(255)\r\n)\r\n\r\nCREATE TABLE child (\r\n  id BIGINT PRIMARY KEY,\r\n  name VARCHAR(255),\r\n  parent_id BIGINT FOREIGN KEY REFERENCES parent (id)\r\n)\r\n```\r\n\r\nHow can I query on the child table and convert the rows corresponding to the parent table to a Java Record easily with Jooq? \r\n```java\r\n    var a = dslContext.select(\r\n        PARENT.ID,\r\n        PARENT.NAME,\r\n        DSL.field(DSL.row(\r\n            PARENT.child().ID,\r\n            PARENT.child().NAME)\r\n            .convert(???)) // How can I convert sub-entities like this?\r\n        .fetch(Records.mapping(ChildDTO::new)); // This works fine for the top-level\r\n```\r\nIt seems like something along those lines ^ should work, but I haven&#39;t been able to find it. Am I on the right track, or is there another approach I should be taking?","title":"Jooq convert subset of selected columns to entity","body":"<p>If I have two tables with a simple many-to-one relationship:</p>\n<pre><code>CREATE TABLE parent (\n  id BIGINT PRIMARY KEY,\n  name VARCHAR(255)\n)\n\nCREATE TABLE child (\n  id BIGINT PRIMARY KEY,\n  name VARCHAR(255),\n  parent_id BIGINT FOREIGN KEY REFERENCES parent (id)\n)\n</code></pre>\n<p>How can I query on the child table and convert the rows corresponding to the parent table to a Java Record easily with Jooq?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var a = dslContext.select(\n        PARENT.ID,\n        PARENT.NAME,\n        DSL.field(DSL.row(\n            PARENT.child().ID,\n            PARENT.child().NAME)\n            .convert(???)) // How can I convert sub-entities like this?\n        .fetch(Records.mapping(ChildDTO::new)); // This works fine for the top-level\n</code></pre>\n<p>It seems like something along those lines ^ should work, but I haven't been able to find it. Am I on the right track, or is there another approach I should be taking?</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1605229862,"post_id":64805657,"comment_id":114594702,"body_markdown":"that is correct, plus sign is not encoded as per RFC 3986 it is mentioned in the spring docs for `queryparam` https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...- You can enforce a stricter encoding using a template https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding","body":"that is correct, plus sign is not encoded as per RFC 3986 it is mentioned in the spring docs for <code>queryparam</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> You can enforce a stricter encoding using a template <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":5454803,"reputation":53,"user_id":4338574,"display_name":"Cheater"},"score":1,"creation_date":1605260457,"post_id":64805657,"comment_id":114602039,"body_markdown":"thank you for pointing me to the `queryparam` docs.\n\nI tried to enforce that stricter encoding but I don&#39;t get it.\nIt says that the `TEMPLATE_AND_VALUES`: Uses `UriComponentsBuilder#encode()` and that the `UriComponentsBuilder#encode(): Pre-encodes` the URI template first and then strictly encodes URI variables when expanded.\n\nAn example is given with the &quot;;&quot; character : The first option replaces &quot;;&quot; with &quot;%3B&quot; in URI variables.\n\nThat is what I did by forcing the \n`factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.TEMPLATE_AND_VALUES);`\n\nBut it doesn&#39;t encode &quot;;&quot; nor &quot;+&quot;","body":"thank you for pointing me to the <code>queryparam</code> docs.  I tried to enforce that stricter encoding but I don&#39;t get it. It says that the <code>TEMPLATE_AND_VALUES</code>: Uses <code>UriComponentsBuilder#encode()</code> and that the <code>UriComponentsBuilder#encode(): Pre-encodes</code> the URI template first and then strictly encodes URI variables when expanded.  An example is given with the &quot;;&quot; character : The first option replaces &quot;;&quot; with &quot;%3B&quot; in URI variables.  That is what I did by forcing the  <code>factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMod&zwnj;&#8203;e.TEMPLATE_AND_VALUE&zwnj;&#8203;S);</code>  But it doesn&#39;t encode &quot;;&quot; nor &quot;+&quot;"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1605262496,"post_id":64805657,"comment_id":114602853,"body_markdown":"try out using the `VALUES_ONLY` encoding","body":"try out using the <code>VALUES_ONLY</code> encoding"},{"owner":{"account_id":5454803,"reputation":53,"user_id":4338574,"display_name":"Cheater"},"score":1,"creation_date":1605276368,"post_id":64805657,"comment_id":114608520,"body_markdown":"I tried them all but none of them encodes that ; or + sign :(","body":"I tried them all but none of them encodes that ; or + sign :("}],"answers":[{"comments":[{"owner":{"account_id":5454803,"reputation":53,"user_id":4338574,"display_name":"Cheater"},"score":1,"creation_date":1623138838,"post_id":67854014,"comment_id":119986661,"body_markdown":"Thank you for your answer. Unfortunately I cannot test it because we completely removed spring webflux from our projects !\nI&#39;ll mark it as the right answer until someone prove me wrong :)","body":"Thank you for your answer. Unfortunately I cannot test it because we completely removed spring webflux from our projects ! I&#39;ll mark it as the right answer until someone prove me wrong :)"},{"owner":{"account_id":1182627,"reputation":138,"user_id":1157230,"display_name":"JCMS"},"score":1,"creation_date":1663941976,"post_id":67854014,"comment_id":130364743,"body_markdown":"You can use directly uriBuilder.queryParam....build(&quot;+33612345678&quot;) without using UriComponentsBuilder :) \nHowever it doesn&#39;t work if you have an array of phone numbers. See my comment on the other answer","body":"You can use directly uriBuilder.queryParam....build(&quot;+33612345678&quot;) without using UriComponentsBuilder :)  However it doesn&#39;t work if you have an array of phone numbers. See my comment on the other answer"}],"tags":[],"owner":{"account_id":23706,"reputation":10697,"user_id":59604,"display_name":"Lauri Lehtinen"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1622927916,"creation_date":1622927916,"answer_id":67854014,"question_id":64805657,"body_markdown":"I struggled with same issue but found a workaround from the [Spring reference you linked][1].\r\n \r\nThis should work for you:\r\n\r\n```java\r\nreturn webClient\r\n            .get()\r\n            .uri(uriBuilder -&gt; UriComponentsBuilder.fromUri(uriBuilder.build())\r\n                    .path(&quot;/endpoint&quot;)\r\n                    .queryParam(&quot;phone-number&quot;, &quot;{phone-number}&quot;)\r\n                    .encode()\r\n                    .buildAndExpand(&quot;+33612345678&quot;)\r\n                    .toUri()\r\n            )\r\n            .retrieve()\r\n            .bodyToMono(String.class);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding","title":"How to encode properly the plus sign (+) when making a request with webflux webclient?","body":"<p>I struggled with same issue but found a workaround from the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding\" rel=\"noreferrer\">Spring reference you linked</a>.</p>\n<p>This should work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return webClient\n            .get()\n            .uri(uriBuilder -&gt; UriComponentsBuilder.fromUri(uriBuilder.build())\n                    .path(&quot;/endpoint&quot;)\n                    .queryParam(&quot;phone-number&quot;, &quot;{phone-number}&quot;)\n                    .encode()\n                    .buildAndExpand(&quot;+33612345678&quot;)\n                    .toUri()\n            )\n            .retrieve()\n            .bodyToMono(String.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1182627,"reputation":138,"user_id":1157230,"display_name":"JCMS"},"score":0,"creation_date":1663941531,"post_id":69068174,"comment_id":130364537,"body_markdown":"This works if it&#39;s a single query param value. If it&#39;s an array of values, passing it through the build method will encode it as a list rather. eg : `phone-number=[+33612345678,+33612345677]` rather than `phone-number=+33612345678&amp;phone-number=+33612345677`","body":"This works if it&#39;s a single query param value. If it&#39;s an array of values, passing it through the build method will encode it as a list rather. eg : <code>phone-number=[+33612345678,+33612345677]</code> rather than <code>phone-number=+33612345678&amp;phone-number=+33612345677</code>"}],"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630889120,"creation_date":1630889120,"answer_id":69068174,"question_id":64805657,"body_markdown":"I had the same issue and was able to resolve it in my Kotlin application using:\r\n\r\n```kotlin\r\nwebClient.get()\r\n    .uri { uriBuilder -&gt;\r\n        val queryParams = mapOf(\r\n            &quot;phone-number&quot; to &quot;+33612345678&quot;,\r\n            &quot;mobile-number&quot; to &quot;+61432111222&quot;\r\n        )\r\n        uriBuilder.path(&quot;/endpoint&quot;)\r\n            .apply { \r\n                queryParams.keys.forEach { key -&gt;\r\n                    queryParam(key, &quot;{$key}&quot;)\r\n                }\r\n            }\r\n            .build(queryParams)\r\n    }\r\n    .retrieve()\r\n    .bodyToMono&lt;String&gt;()\r\n```","title":"How to encode properly the plus sign (+) when making a request with webflux webclient?","body":"<p>I had the same issue and was able to resolve it in my Kotlin application using:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>webClient.get()\n    .uri { uriBuilder -&gt;\n        val queryParams = mapOf(\n            &quot;phone-number&quot; to &quot;+33612345678&quot;,\n            &quot;mobile-number&quot; to &quot;+61432111222&quot;\n        )\n        uriBuilder.path(&quot;/endpoint&quot;)\n            .apply { \n                queryParams.keys.forEach { key -&gt;\n                    queryParam(key, &quot;{$key}&quot;)\n                }\n            }\n            .build(queryParams)\n    }\n    .retrieve()\n    .bodyToMono&lt;String&gt;()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675341589,"creation_date":1675341589,"answer_id":75323338,"question_id":64805657,"body_markdown":"A solution provided [here](https://github.com/spring-projects/spring-framework/issues/21399#issuecomment-453472277), you can try this way\r\n\r\n```java\r\nDefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\r\nfactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\r\nURI uri = factory.uriString(&quot;https://spring.io/&quot;)\r\n\t\t\t.queryParam(&quot;query&quot;, &quot;{query}&quot;)\r\n\t\t\t.build(&quot;spring+framework&quot;); \r\n// http://spring.io/?query=spring%2Bframework\r\n```","title":"How to encode properly the plus sign (+) when making a request with webflux webclient?","body":"<p>A solution provided <a href=\"https://github.com/spring-projects/spring-framework/issues/21399#issuecomment-453472277\" rel=\"nofollow noreferrer\">here</a>, you can try this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\nfactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\nURI uri = factory.uriString(&quot;https://spring.io/&quot;)\n            .queryParam(&quot;query&quot;, &quot;{query}&quot;)\n            .build(&quot;spring+framework&quot;); \n// http://spring.io/?query=spring%2Bframework\n</code></pre>\n"}],"owner":{"account_id":5454803,"reputation":53,"user_id":4338574,"display_name":"Cheater"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4109,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":67854014,"answer_count":3,"score":4,"last_activity_date":1675341589,"creation_date":1605190658,"question_id":64805657,"body_markdown":"I am trying to send an international formatted phone number using spring Webflux Webclient and to read this phone number via another application also using webflux.\r\n\r\nMy code looks like this : \r\n\r\n    webClient = WebClient.builder()\r\n                .baseUrl(baseUrl)\r\n                .build();\r\n    \r\n    return webClient\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(&quot;/endpoint&quot;)\r\n                        .queryParam(&quot;phone-number&quot;, &quot;+33612345678&quot;)\r\n                        .build()\r\n                )\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n\r\nUnfortunately, somewhere between this call and the receiver, the plus sign is replaced by a space.\r\nThe endpoint receives : &quot; 33612345678&quot; as a String.\r\n\r\nThe netty debug log of the request shows this :\r\n``` \r\n+--------+-------------------------------------------------+----------------+\r\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\r\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 2b 33 33 36 |hone-number=+336|\r\n|00000020| 31 32 33 34 35 36 37 38 26 6f 6e 6c 79 2d 72 65 |12345678\r\n``` \r\n\r\nI tried to encode the phone-number by myself like this :\r\n\r\n    .queryParam(&quot;phone-number&quot;, UriUtils.encode(&quot;+34612345678&quot;, StandardCharsets.UTF_8))\r\n\r\nAnd netty&#39;s log shows : \r\n```\r\n+--------+-------------------------------------------------+----------------+\r\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\r\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 25 32 35 32 |hone-number=%252|\r\n|00000020| 42 33 34 36 31 32 33 34 35 36 37 38 20 48 54 54 |B34612345678 HTT|\r\n```\r\n\r\nIt seems that the phone number has been encoded twice.\r\n\r\n\\+ -&gt; %2B -&gt; %252B\r\n\r\nthe plus sign has been encoded by `UriUtils.encode` then uriBuilder has encoded the %.\r\n\r\n\r\nThe only way I found to make it work is by disabling the encoding of the UriBuilder : \r\n\r\n     DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(baseUrl);\r\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\r\n        this.webClient = WebClient.builder()\r\n                .baseUrl(baseUrl)\r\n                .uriBuilderFactory(factory)\r\n                .build();\r\nand having my custom encoding `UriUtils.encode(&quot;+34612345678&quot;, StandardCharsets.UTF_8)`\r\n\r\nin which case the netty&#39;s logs looks like expected :\r\n``` \r\n+--------+-------------------------------------------------+----------------+\r\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\r\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 25 32 42 33 |hone-number=%2B3|\r\n|00000020| 34 36 31 32 33 34 35 36 37 38 20 48 54 54 50 2f |4612345678 HTTP/|\r\n```\r\n\r\nAnd of course, the endpoint receiving the phone number get : &quot;+33612345678&quot;\r\n\r\n\r\nTo sum it up, it looks like the UriBuilder is encoding certain sign like &quot;%&quot; but does not encode the &quot;+&quot; sign.\r\nSpring reference : https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding","title":"How to encode properly the plus sign (+) when making a request with webflux webclient?","body":"<p>I am trying to send an international formatted phone number using spring Webflux Webclient and to read this phone number via another application also using webflux.</p>\n<p>My code looks like this :</p>\n<pre><code>webClient = WebClient.builder()\n            .baseUrl(baseUrl)\n            .build();\n\nreturn webClient\n            .get()\n            .uri(uriBuilder -&gt; uriBuilder\n                    .path(&quot;/endpoint&quot;)\n                    .queryParam(&quot;phone-number&quot;, &quot;+33612345678&quot;)\n                    .build()\n            )\n            .retrieve()\n            .bodyToMono(String.class);\n</code></pre>\n<p>Unfortunately, somewhere between this call and the receiver, the plus sign is replaced by a space.\nThe endpoint receives : &quot; 33612345678&quot; as a String.</p>\n<p>The netty debug log of the request shows this :</p>\n<pre><code>+--------+-------------------------------------------------+----------------+\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 2b 33 33 36 |hone-number=+336|\n|00000020| 31 32 33 34 35 36 37 38 26 6f 6e 6c 79 2d 72 65 |12345678\n</code></pre>\n<p>I tried to encode the phone-number by myself like this :</p>\n<pre><code>.queryParam(&quot;phone-number&quot;, UriUtils.encode(&quot;+34612345678&quot;, StandardCharsets.UTF_8))\n</code></pre>\n<p>And netty's log shows :</p>\n<pre><code>+--------+-------------------------------------------------+----------------+\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 25 32 35 32 |hone-number=%252|\n|00000020| 42 33 34 36 31 32 33 34 35 36 37 38 20 48 54 54 |B34612345678 HTT|\n</code></pre>\n<p>It seems that the phone number has been encoded twice.</p>\n<p>+ -&gt; %2B -&gt; %252B</p>\n<p>the plus sign has been encoded by <code>UriUtils.encode</code> then uriBuilder has encoded the %.</p>\n<p>The only way I found to make it work is by disabling the encoding of the UriBuilder :</p>\n<pre><code> DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(baseUrl);\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\n    this.webClient = WebClient.builder()\n            .baseUrl(baseUrl)\n            .uriBuilderFactory(factory)\n            .build();\n</code></pre>\n<p>and having my custom encoding <code>UriUtils.encode(&quot;+34612345678&quot;, StandardCharsets.UTF_8)</code></p>\n<p>in which case the netty's logs looks like expected :</p>\n<pre><code>+--------+-------------------------------------------------+----------------+\n|00000000| 47 45 54 20 2f 63 75 73 74 6f 6d 65 72 73 3f 70 |GET  /endpoint?p|\n|00000010| 68 6f 6e 65 2d 6e 75 6d 62 65 72 3d 25 32 42 33 |hone-number=%2B3|\n|00000020| 34 36 31 32 33 34 35 36 37 38 20 48 54 54 50 2f |4612345678 HTTP/|\n</code></pre>\n<p>And of course, the endpoint receiving the phone number get : &quot;+33612345678&quot;</p>\n<p>To sum it up, it looks like the UriBuilder is encoding certain sign like &quot;%&quot; but does not encode the &quot;+&quot; sign.\nSpring reference : <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#web-uri-encoding</a></p>\n"},{"tags":["java","spring","kotlin","jooq"],"answers":[{"comments":[{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1675329012,"post_id":75311528,"comment_id":132906425,"body_markdown":"Hi, unfortunately this does not seem to work. I am getting error of setting null value to not nullable field (static enum field). To under the hood it probably tries to create object first (with null field) and enhance it with data, which is approach I can not use due to not nullable field.","body":"Hi, unfortunately this does not seem to work. I am getting error of setting null value to not nullable field (static enum field). To under the hood it probably tries to create object first (with null field) and enhance it with data, which is approach I can not use due to not nullable field."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1675341588,"post_id":75311528,"comment_id":132910572,"body_markdown":"@Johnczek: Well, apparently, you cannot use `DefaultRecordMapper`, but what keeps you from implementing any other explicit function? A `RecordMapper` is just a function. You can implement it in any way you want. I&#39;ve updated my answer to give you an idea.","body":"@Johnczek: Well, apparently, you cannot use <code>DefaultRecordMapper</code>, but what keeps you from implementing any other explicit function? A <code>RecordMapper</code> is just a function. You can implement it in any way you want. I&#39;ve updated my answer to give you an idea."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1675430379,"post_id":75311528,"comment_id":132932629,"body_markdown":"yea, I thought is may end up like this, writing custom fetch filling function (which I, at the end, ended with), its a pity there is no automatic way to achieve what I need integrated inside JOOQ. But thanks for help","body":"yea, I thought is may end up like this, writing custom fetch filling function (which I, at the end, ended with), its a pity there is no automatic way to achieve what I need integrated inside JOOQ. But thanks for help"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1675438377,"post_id":75311528,"comment_id":132935373,"body_markdown":"@Johnczek: I&#39;m not sure what you mean by &quot;inside of jOOQ&quot;. The constructor call is an atomic operation, and all data points need to be non-null as per your class requirements. How could jOOQ prevent any NPE?","body":"@Johnczek: I&#39;m not sure what you mean by &quot;inside of jOOQ&quot;. The constructor call is an atomic operation, and all data points need to be non-null as per your class requirements. How could jOOQ prevent any NPE?"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1675444597,"post_id":75311528,"comment_id":132937522,"body_markdown":"I was hoping for some &quot;under the hood&quot; layer that JOOQ (for simplicity just imagine its a &quot;dumb&quot; map that holds key pointing to name of result object and holding result of SQL) and then some function I can specify overrides (or additions) for that SQL result. And just at this point, the contructor of desired object would be called with these data.","body":"I was hoping for some &quot;under the hood&quot; layer that JOOQ (for simplicity just imagine its a &quot;dumb&quot; map that holds key pointing to name of result object and holding result of SQL) and then some function I can specify overrides (or additions) for that SQL result. And just at this point, the contructor of desired object would be called with these data."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675341495,"creation_date":1675260926,"answer_id":75311528,"question_id":75310050,"body_markdown":"## Using `DefaultRecordMapper`\r\n\r\nJust use a custom `RecordMapper` via [`ResultQuery.fetch(RecordMapper)`][1] and call [`apply`][2] on a mapped value\r\n\r\n```kotlin\r\n.fetch {\r\n    it.into(MytargetClass::class.java).apply { \r\n        static_value = Enum.MY_VALUE\r\n    }\r\n}\r\n```\r\n\r\n## Using any other `RecordMapper`\r\n\r\nThe above just assumes you want to continue using the `DefaultRecordMapper`, which is reflection based. But you don&#39;t have to. You can do anything you want with `it`:\r\n\r\n```kotlin\r\n.fetch {\r\n    MytargetClass(it[t.property], Enum.MY_VALUE)\r\n}\r\n```\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#fetch(org.jooq.RecordMapper)\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html","title":"Kotlin JOOQ fetch data and then map static data afterwards","body":"<h2>Using <code>DefaultRecordMapper</code></h2>\n<p>Just use a custom <code>RecordMapper</code> via <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#fetch(org.jooq.RecordMapper)\" rel=\"nofollow noreferrer\"><code>ResultQuery.fetch(RecordMapper)</code></a> and call <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> on a mapped value</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>.fetch {\n    it.into(MytargetClass::class.java).apply { \n        static_value = Enum.MY_VALUE\n    }\n}\n</code></pre>\n<h2>Using any other <code>RecordMapper</code></h2>\n<p>The above just assumes you want to continue using the <code>DefaultRecordMapper</code>, which is reflection based. But you don't have to. You can do anything you want with <code>it</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>.fetch {\n    MytargetClass(it[t.property], Enum.MY_VALUE)\n}\n</code></pre>\n"}],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75311528,"answer_count":1,"score":1,"last_activity_date":1675341495,"creation_date":1675253733,"question_id":75310050,"body_markdown":"It is possible to map static properties after selecting data from DB?\r\nFor example if I want that result of some field will be always `ENUM_VALUE`. I will add an example to make myself more clear.\r\n\r\nTarget dto I want to fill via JOOQ\r\n\r\n    internal data class MytargetClass(val property: Int, val static_value: MyEnum)\r\n\r\nSince static_value is val and its not optional, I need to initialize that property while creating object. So way to create object only with `property` and map `static_value` afterwards is not possible.\r\n\r\n\r\nThis is a solution that works, I add my enum value as string via `val` method, but this approach is not really something that I would want.\r\n\r\n    // Repository file, other fields and method omitted for simplicity        \r\n            jooq\r\n            .select(\r\n                t.property.`as`(&quot;property&quot;),\r\n                DSL.`val`(Enum.MY_VALUE.name).`as`(&quot;static_value&quot;),\r\n            )\r\n            // from and where clause omitted for simplicity\r\n            .fetchInto(MytargetClass::class.java)\r\n\r\n**But I would like to ask if there is way how to do something like**\r\n\r\n    // Repository file, other fields and method omitted for simplicity   \r\n        jooq\r\n        .select(\r\n            t.property.`as`(&quot;property&quot;),\r\n        )\r\n        // from and where clause omitted for simplicity\r\n        .fetchInto(MytargetClass::class.java, (data) -&gt; { data.static_value = Enum.MY_VALUE // possible more transformation of object inside this lambda })\r\n\r\nSo I dont have to select these properties statically via SQL and therefore I can bypass problems with ENUM dialects and other issues linked to this approach.","title":"Kotlin JOOQ fetch data and then map static data afterwards","body":"<p>It is possible to map static properties after selecting data from DB?\nFor example if I want that result of some field will be always <code>ENUM_VALUE</code>. I will add an example to make myself more clear.</p>\n<p>Target dto I want to fill via JOOQ</p>\n<pre><code>internal data class MytargetClass(val property: Int, val static_value: MyEnum)\n</code></pre>\n<p>Since static_value is val and its not optional, I need to initialize that property while creating object. So way to create object only with <code>property</code> and map <code>static_value</code> afterwards is not possible.</p>\n<p>This is a solution that works, I add my enum value as string via <code>val</code> method, but this approach is not really something that I would want.</p>\n<pre><code>// Repository file, other fields and method omitted for simplicity        \n        jooq\n        .select(\n            t.property.`as`(&quot;property&quot;),\n            DSL.`val`(Enum.MY_VALUE.name).`as`(&quot;static_value&quot;),\n        )\n        // from and where clause omitted for simplicity\n        .fetchInto(MytargetClass::class.java)\n</code></pre>\n<p><strong>But I would like to ask if there is way how to do something like</strong></p>\n<pre><code>// Repository file, other fields and method omitted for simplicity   \n    jooq\n    .select(\n        t.property.`as`(&quot;property&quot;),\n    )\n    // from and where clause omitted for simplicity\n    .fetchInto(MytargetClass::class.java, (data) -&gt; { data.static_value = Enum.MY_VALUE // possible more transformation of object inside this lambda })\n</code></pre>\n<p>So I dont have to select these properties statically via SQL and therefore I can bypass problems with ENUM dialects and other issues linked to this approach.</p>\n"},{"tags":["java","gradle","gradle-plugin","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":2,"creation_date":1670882845,"post_id":74761790,"comment_id":131972300,"body_markdown":"You&#39;ve already figured out the solution, but for reference [here&#39;s the relevant bit in the docs](https://docs.gradle.org/7.6/userguide/composite_builds.html#included_plugin_builds).","body":"You&#39;ve already figured out the solution, but for reference <a href=\"https://docs.gradle.org/7.6/userguide/composite_builds.html#included_plugin_builds\" rel=\"nofollow noreferrer\">here&#39;s the relevant bit in the docs</a>."}],"answers":[{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":2,"creation_date":1670779035,"post_id":74762691,"comment_id":131947248,"body_markdown":"Great answer! I think Stackoverflow needs a &quot;pat yourself on the back button&quot; for this sort of cases where nobody else has even commented, or attempted to help and you end up answering your own complex question.","body":"Great answer! I think Stackoverflow needs a &quot;pat yourself on the back button&quot; for this sort of cases where nobody else has even commented, or attempted to help and you end up answering your own complex question."}],"tags":[],"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670884113,"creation_date":1670777324,"answer_id":74762691,"question_id":74761790,"body_markdown":"Well, this took me the better half of the day, but I finally figured it out.\r\n\r\nIn order to consume the plugin inside the same repository, you must place a `settings.gradle.kts` file inside your `plugin`. This separates the `plugin` build from the rest of your modules. Then you can use `includeBuild()` inside the `pluginManagement` to enforce the building of the plugin before everything else: \r\n\r\n```\r\n// ./root/settings.kotlin.kts\r\n\r\nrootProject.name = &quot;root-project&quot;\r\n\r\ninclude(&quot;my-api&quot;, &quot;my-implementation&quot;)\r\n\r\npluginManagement {\r\n    includeBuild(&quot;my-gradle-plugin&quot;)\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url = uri(&quot;https://xyz&quot;) }\r\n        gradlePluginPortal()\r\n        mavenCentral()\r\n    }\r\n    resolutionStrategy {\r\n        val version: String by settings\r\n        eachPlugin {\r\n            if (requested.id.id == &quot;org.my.gradle.plugin&quot;) {\r\n                useVersion(version)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you can just use the plugin without any issues:\r\n\r\n```\r\nplugins {\r\n   id(&quot;org.my.gradle.plugin&quot;) version &quot;internal&quot;\r\n}\r\n```\r\n\r\nI&#39;m using gradle 7.5+ so not sure if this works for older versions.\r\n\r\nThe docs also mention this here:\r\nhttps://docs.gradle.org/7.6/userguide/composite_builds.html#included_plugin_builds","title":"How to build and consume gradle plugin inside a multi-module project?","body":"<p>Well, this took me the better half of the day, but I finally figured it out.</p>\n<p>In order to consume the plugin inside the same repository, you must place a <code>settings.gradle.kts</code> file inside your <code>plugin</code>. This separates the <code>plugin</code> build from the rest of your modules. Then you can use <code>includeBuild()</code> inside the <code>pluginManagement</code> to enforce the building of the plugin before everything else:</p>\n<pre><code>// ./root/settings.kotlin.kts\n\nrootProject.name = &quot;root-project&quot;\n\ninclude(&quot;my-api&quot;, &quot;my-implementation&quot;)\n\npluginManagement {\n    includeBuild(&quot;my-gradle-plugin&quot;)\n    repositories {\n        mavenLocal()\n        maven { url = uri(&quot;https://xyz&quot;) }\n        gradlePluginPortal()\n        mavenCentral()\n    }\n    resolutionStrategy {\n        val version: String by settings\n        eachPlugin {\n            if (requested.id.id == &quot;org.my.gradle.plugin&quot;) {\n                useVersion(version)\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then you can just use the plugin without any issues:</p>\n<pre><code>plugins {\n   id(&quot;org.my.gradle.plugin&quot;) version &quot;internal&quot;\n}\n</code></pre>\n<p>I'm using gradle 7.5+ so not sure if this works for older versions.</p>\n<p>The docs also mention this here:\n<a href=\"https://docs.gradle.org/7.6/userguide/composite_builds.html#included_plugin_builds\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.6/userguide/composite_builds.html#included_plugin_builds</a></p>\n"}],"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1675341005,"creation_date":1670770067,"question_id":74761790,"body_markdown":"## The big picture\r\n\r\nI have a library which is used as a dependency in other projects. The library has some configuration requirements related to `test suites` for each project depending on it.\r\nThis is why I have created a `plugin` that configures those for me so that I could just add the plugin and be done with it:\r\n```\r\nplugins {\r\n   id(&quot;org.my.gradle.plugin&quot;) version &quot;internal&quot;\r\n}\r\n```\r\n\r\n## Project structure\r\n\r\n```\r\n+ root\r\n  + my-api/... (self-sustained; doesn&#39;t depend on anything, pretty much interfaces)\r\n  + my-implementation/... (depends on my-api and `my-gradle-plugin` via `plugins { id(&quot;org.my.plugin&quot;) }`)\r\n  + my-gradle-plugin/... (the plugin itself)\r\n    + build.gradle.kts\r\n      plugins {\r\n        `java-gradle-plugin`\r\n        `maven-publish`\r\n      }\r\n\r\n      gradlePlugin {\r\n          plugins {\r\n              create(&quot;org.my.gradle.plugin&quot;) {\r\n                  id = &quot;org.my.gradle.plugin&quot;\r\n                  group = &quot;org.my.gradle.plugin&quot;\r\n                  implementationClass = &quot;org.my.gradle.plugin.MyGradlePlugin&quot;\r\n                  version = project.version\r\n              }\r\n          }\r\n      }\r\n\r\n\r\n  + build.gradle.kts // a bunch of shared task configurations and some repository configuration (mavenLocal, maven(xyz), mavenCentral())\r\n  + gradle.properties - contains only &quot;version=0.0.3-SNAPSHOT&quot;\r\n  + settings.gradle.kts\r\n    pluginManagement {\r\n        repositories {\r\n            mavenLocal()\r\n            maven { url = uri(&quot;https://xyz&quot;) }\r\n            gradlePluginPortal()\r\n            mavenCentral()\r\n        }\r\n        resolutionStrategy {\r\n            val version: String by settings\r\n            eachPlugin {\r\n                if (requested.id.id == &quot;org.my.gradle.plugin&quot;) {\r\n                    useVersion(version)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n## The problem\r\n\r\nThe plugin works fine if it&#39;s a separate stand alone project. This, unfortunately, complicates my workflow so I thought I could possibly have it within the same multi-module project.\r\n\r\nUnfortunately I am running into problems, because `gradle` doesn&#39;t seem to know it needs to build the `plugin` in order to `use` it inside one of the modules and therefore I get:\r\n\r\n```\r\n* Where:\r\nBuild file &#39;/workspace/my-implementation/build.gradle.kts&#39; line: 3\r\n\r\n* What went wrong:\r\nPlugin [id: &#39;org.my.gradle.plugin&#39;, version: &#39;0.0.3-SNAPSHOT&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.my.gradle.plugin:org.my.gradle.plugin.gradle.plugin:0.0.3-SNAPSHOT&#39;)\r\n  Searched in the following repositories:\r\n    MavenLocal(file:/home/jenkins/.m2/repository/)\r\n    maven(https://xyz)\r\n    Gradle Central Plugin Repository\r\n    MavenRepo\r\n\r\n\r\n``` \r\n\r\n## Why does it fail?\r\n\r\nI know that [`spring-boot-gralde-plugin`](https://github.com/spring-projects/spring-boot/blob/v3.0.0/spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/main/java/org/springframework/boot/gradle/plugin/SpringBootPlugin.java) is part of the spring boot multi-module gradle project and is consumed within the project itself. Unfortunately I haven&#39;t been able to figure out what&#39;s the &quot;magic trick&quot; to make it work.\r\n\r\nAny ideas what I&#39;m missing here?","title":"How to build and consume gradle plugin inside a multi-module project?","body":"<h2>The big picture</h2>\n<p>I have a library which is used as a dependency in other projects. The library has some configuration requirements related to <code>test suites</code> for each project depending on it.\nThis is why I have created a <code>plugin</code> that configures those for me so that I could just add the plugin and be done with it:</p>\n<pre><code>plugins {\n   id(&quot;org.my.gradle.plugin&quot;) version &quot;internal&quot;\n}\n</code></pre>\n<h2>Project structure</h2>\n<pre><code>+ root\n  + my-api/... (self-sustained; doesn't depend on anything, pretty much interfaces)\n  + my-implementation/... (depends on my-api and `my-gradle-plugin` via `plugins { id(&quot;org.my.plugin&quot;) }`)\n  + my-gradle-plugin/... (the plugin itself)\n    + build.gradle.kts\n      plugins {\n        `java-gradle-plugin`\n        `maven-publish`\n      }\n\n      gradlePlugin {\n          plugins {\n              create(&quot;org.my.gradle.plugin&quot;) {\n                  id = &quot;org.my.gradle.plugin&quot;\n                  group = &quot;org.my.gradle.plugin&quot;\n                  implementationClass = &quot;org.my.gradle.plugin.MyGradlePlugin&quot;\n                  version = project.version\n              }\n          }\n      }\n\n\n  + build.gradle.kts // a bunch of shared task configurations and some repository configuration (mavenLocal, maven(xyz), mavenCentral())\n  + gradle.properties - contains only &quot;version=0.0.3-SNAPSHOT&quot;\n  + settings.gradle.kts\n    pluginManagement {\n        repositories {\n            mavenLocal()\n            maven { url = uri(&quot;https://xyz&quot;) }\n            gradlePluginPortal()\n            mavenCentral()\n        }\n        resolutionStrategy {\n            val version: String by settings\n            eachPlugin {\n                if (requested.id.id == &quot;org.my.gradle.plugin&quot;) {\n                    useVersion(version)\n                }\n            }\n        }\n    }\n\n</code></pre>\n<h2>The problem</h2>\n<p>The plugin works fine if it's a separate stand alone project. This, unfortunately, complicates my workflow so I thought I could possibly have it within the same multi-module project.</p>\n<p>Unfortunately I am running into problems, because <code>gradle</code> doesn't seem to know it needs to build the <code>plugin</code> in order to <code>use</code> it inside one of the modules and therefore I get:</p>\n<pre><code>* Where:\nBuild file '/workspace/my-implementation/build.gradle.kts' line: 3\n\n* What went wrong:\nPlugin [id: 'org.my.gradle.plugin', version: '0.0.3-SNAPSHOT'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.my.gradle.plugin:org.my.gradle.plugin.gradle.plugin:0.0.3-SNAPSHOT')\n  Searched in the following repositories:\n    MavenLocal(file:/home/jenkins/.m2/repository/)\n    maven(https://xyz)\n    Gradle Central Plugin Repository\n    MavenRepo\n\n\n</code></pre>\n<h2>Why does it fail?</h2>\n<p>I know that <a href=\"https://github.com/spring-projects/spring-boot/blob/v3.0.0/spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/main/java/org/springframework/boot/gradle/plugin/SpringBootPlugin.java\" rel=\"nofollow noreferrer\"><code>spring-boot-gralde-plugin</code></a> is part of the spring boot multi-module gradle project and is consumed within the project itself. Unfortunately I haven't been able to figure out what's the &quot;magic trick&quot; to make it work.</p>\n<p>Any ideas what I'm missing here?</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1675343064,"post_id":75323038,"comment_id":132911100,"body_markdown":"Why do you want to run embedded Redis in Java?","body":"Why do you want to run embedded Redis in Java?"},{"owner":{"account_id":15774975,"reputation":1,"user_id":11382956,"display_name":"still_noob"},"score":0,"creation_date":1675343572,"post_id":75323038,"comment_id":132911275,"body_markdown":"Its a client requirement that has come up and want to check the feasibility of it","body":"Its a client requirement that has come up and want to check the feasibility of it"},{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1675603268,"post_id":75323038,"comment_id":132960744,"body_markdown":"how do you run the server embedded?","body":"how do you run the server embedded?"},{"owner":{"account_id":15774975,"reputation":1,"user_id":11382956,"display_name":"still_noob"},"score":0,"creation_date":1675608507,"post_id":75323038,"comment_id":132961678,"body_markdown":"It wont be dependent on any server and can run on any environment, like the H2 in-memory database. It will be embedded to the spring boot application and starts along with the application. For reference, https://www.baeldung.com/spring-embedded-redis","body":"It wont be dependent on any server and can run on any environment, like the H2 in-memory database. It will be embedded to the spring boot application and starts along with the application. For reference, <a href=\"https://www.baeldung.com/spring-embedded-redis\" rel=\"nofollow noreferrer\">baeldung.com/spring-embedded-redis</a>"}],"owner":{"account_id":15774975,"reputation":1,"user_id":11382956,"display_name":"still_noob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675340131,"creation_date":1675340131,"question_id":75323038,"body_markdown":"Is it possible to use redisjson module or other redis modules when we are using embedded redis server in java spring boot application? Is it recommended to use embedded redis server?\r\n\r\nCurrently looking into adding modules for embedded redis server in java spring boot application but couldnt find any details regarding that.","title":"Storing Json in Embedded Redis Server","body":"<p>Is it possible to use redisjson module or other redis modules when we are using embedded redis server in java spring boot application? Is it recommended to use embedded redis server?</p>\n<p>Currently looking into adding modules for embedded redis server in java spring boot application but couldnt find any details regarding that.</p>\n"},{"tags":["java","apache-commons-net"],"owner":{"account_id":19882007,"reputation":17,"user_id":14565822,"display_name":"blindDriver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675339851,"creation_date":1675339851,"question_id":75322978,"body_markdown":"I have issue with FTPClient while downloading large file (20GB). \r\nThe issue appear only when I try to download this one file, with others much smaller, I do not meet that problem. When I try to download the file, FTPClient creates connection with server, download the file without any problems but then in logs there is no: \r\n\r\n    226 Transfer complete\r\nafter log:\r\n\r\n    150 Opening BINARY mode data connection for some_data.zip (21372052005 bytes)\r\nI think that is the reason why the process is not continuing. The next step after downloading, is to unzip and process the file. There is connection configuration:\r\n\r\n    FTPClient()\r\n                .apply { addProtocolCommandListener(PrintCommandListener(PrintWriter(System.out))) }\r\n                .apply { connect(importConfig.ftpConfig.url, importConfig.ftpConfig.port) }\r\n                .apply { login(importConfig.ftpConfig.username, importConfig.ftpConfig.password) }\r\n                .apply { setFileType(FTP.BINARY_FILE_TYPE) }\r\n                .apply { enterLocalPassiveMode() }\r\nIt is worth to mention that, i am 100% sure that the file is download sucessfully. I store it in container, so I was able to check that the file is downloaded also I have copy it from container to local machine and check if it works. Of course I have logs before and after each step, so I can find out where the process stopped.","title":"FTPClient retrieveFile(), file is downloaded but FTPClient do not confirm that transfer is complete","body":"<p>I have issue with FTPClient while downloading large file (20GB).\nThe issue appear only when I try to download this one file, with others much smaller, I do not meet that problem. When I try to download the file, FTPClient creates connection with server, download the file without any problems but then in logs there is no:</p>\n<pre><code>226 Transfer complete\n</code></pre>\n<p>after log:</p>\n<pre><code>150 Opening BINARY mode data connection for some_data.zip (21372052005 bytes)\n</code></pre>\n<p>I think that is the reason why the process is not continuing. The next step after downloading, is to unzip and process the file. There is connection configuration:</p>\n<pre><code>FTPClient()\n            .apply { addProtocolCommandListener(PrintCommandListener(PrintWriter(System.out))) }\n            .apply { connect(importConfig.ftpConfig.url, importConfig.ftpConfig.port) }\n            .apply { login(importConfig.ftpConfig.username, importConfig.ftpConfig.password) }\n            .apply { setFileType(FTP.BINARY_FILE_TYPE) }\n            .apply { enterLocalPassiveMode() }\n</code></pre>\n<p>It is worth to mention that, i am 100% sure that the file is download sucessfully. I store it in container, so I was able to check that the file is downloaded also I have copy it from container to local machine and check if it works. Of course I have logs before and after each step, so I can find out where the process stopped.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675389256,"post_id":75322965,"comment_id":132923878,"body_markdown":"Has you called ```text.onInit()``` to initialize your ```text```&#39;s ```instance```?","body":"Has you called <code>text.onInit()</code> to initialize your <code>text</code>&#39;s <code>instance</code>?"}],"owner":{"account_id":27678913,"reputation":11,"user_id":21128123,"display_name":"HammiTommi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675339786,"creation_date":1675339786,"question_id":75322965,"body_markdown":"I tried to make a voiceassistant. First it should get the voice input in the main class, and then do a voice output in the text class. But I got this error: \r\n\r\n```\r\n2023-02-01 20:24:12.776 11850-11850/de.gamingwave.sprachassistent E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: de.gamingwave.sprachassistent, PID: 11850\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void de.gamingwave.sprachassistent.text.sprechen(java.lang.String)&#39; on a null object reference\r\n        at de.gamingwave.sprachassistent.MainActivity$1.onResults(MainActivity.java:90)\r\n        at android.speech.SpeechRecognizer$InternalListener$1.handleMessage(SpeechRecognizer.java:456)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n2023-02-01 20:24:12.781 11850-11850/de.gamingwave.sprachassistent I/Process: Sending signal. PID: 11850 SIG: 9\r\n```\r\n\r\nThis is the MainActivity:\r\n\r\n        package de.gamingwave.sprachassistent;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.speech.RecognitionListener;\r\n    import android.speech.RecognizerIntent;\r\n    import android.speech.SpeechRecognizer;\r\n    import android.speech.tts.TextToSpeech;\r\n    import android.view.View;\r\n    import android.widget.*;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    import de.gamingwave.sprachassistent.text;\r\n    import java.util.ArrayList;\r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n            private SpeechRecognizer speechRecognizer;\r\n    \r\n            private EditText txtRecognizedSpeech;\r\n            private ImageButton btnSpeak;\r\n    \r\n            private static MainActivity instance;\r\n    \r\n            private Boolean isListening = false;\r\n            private int RecordAudioRequestCode = 1;\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                    super.onCreate(savedInstanceState);\r\n                    setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    \r\n                    txtRecognizedSpeech = findViewById(R.id.txtRecognizedSpeech);\r\n                    btnSpeak = findViewById(R.id.btnSpeech);\r\n                    speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n                    final Intent speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n                    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;de-DE&quot;);\r\n    \r\n                    speechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n    \r\n                            @Override\r\n                            public void onReadyForSpeech(Bundle params) {\r\n    \r\n                            }\r\n    \r\n                            @SuppressLint(&quot;SetTextI18n&quot;)\r\n                            @Override\r\n                            public void onBeginningOfSpeech() {\r\n    \r\n                                    txtRecognizedSpeech.setHint(&quot;Listening...&quot;);\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onRmsChanged(float rmsdB) {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onBufferReceived(byte[] buffer) {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onEndOfSpeech() {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onError(int error) {\r\n    \r\n                            }\r\n    \r\n                            //         ...\r\n    //        ....\r\n    //        ...\r\n    //        ...\r\n                            @Override\r\n                            public void onResults(Bundle bundle) {\r\n                                    ArrayList&lt;String&gt; speechData = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n                                    txtRecognizedSpeech.setText(speechData.get(0));\r\n                                    String result = speechData.get(0);\r\n                                    if(result.contains(&quot;hallo&quot;)){\r\n                                            text.getInstance().sprechen(&quot;Hallo, wie gehts?&quot;);\r\n                                    }\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onPartialResults(Bundle partialResults) {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onEvent(int eventType, Bundle params) {\r\n    \r\n                            }\r\n    \r\n                    });\r\n    \r\n    \r\n                    btnSpeak.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                    if (isListening.equals(true)){\r\n                                            speechRecognizer.stopListening();\r\n                                            isListening = false;\r\n                                    }\r\n                                    else if (isListening.equals(false)){\r\n                                            speechRecognizer.startListening(speechRecognizerIntent);\r\n                                            isListening = true;\r\n                                    }\r\n                            }\r\n                    });\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                    if (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0 ){\r\n                            if(grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                                    Toast.makeText(this,&quot;Permission Granted&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n            }\r\n    \r\n            public static MainActivity getInstance() {\r\n                    return instance;\r\n            }\r\n    }\r\n\r\n                        @Override\r\n                        public void onPartialResults(Bundle partialResults) {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onEvent(int eventType, Bundle params) {\r\n    \r\n                        }\r\n    \r\n                });\r\n    \r\n    \r\n                btnSpeak.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                                if (isListening.equals(true)){\r\n                                        speechRecognizer.stopListening();\r\n                                        isListening = false;\r\n                                }\r\n                                else if (isListening.equals(false)){\r\n                                        speechRecognizer.startListening(speechRecognizerIntent);\r\n                                        isListening = true;\r\n                                }\r\n                        }\r\n                });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                if (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0 ){\r\n                        if(grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                                Toast.makeText(this,&quot;Permission Granted&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n        }\r\n    \r\n        public static MainActivity getInstance() {\r\n                return instance;\r\n        }\r\n    }\r\n\r\n\\`\r\n\r\nThis is text.java\r\n\r\n   \r\n\r\n    package de.gamingwave.sprachassistent;\r\n    \r\n    import android.speech.tts.TextToSpeech;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class text implements TextToSpeech.OnInitListener {\r\n        TextToSpeech tts;\r\n        private static text instance;\r\n    \r\n        public void onInit(int status) {\r\n            instance = this;\r\n            tts = new TextToSpeech(MainActivity.getInstance(), this);\r\n            tts.setSpeechRate(1.0F);\r\n            if (status == TextToSpeech.SUCCESS) {\r\n                        tts.setLanguage(Locale.GERMANY);\r\n    \r\n                    }\r\n        }\r\n    \r\n        public void sprechen(String text){\r\n            tts.speak(&quot;Hallo, wie geht es dir?&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n        }\r\n    \r\n        public static text getInstance() {\r\n            return instance;\r\n        }\r\n    }\r\n    \r\n\r\nDo you know, what&#39;s the problem?\r\n\r\nI tried to make a speech to text application looking for signal words. Then the app has to answer via text to speech. But it crashes when is should say something.","title":"Attempt to invoke virtual method &#39;void de.gamingwave.sprachassistent.text.sprechen(java.lang.String)&#39; on a null object reference","body":"<p>I tried to make a voiceassistant. First it should get the voice input in the main class, and then do a voice output in the text class. But I got this error:</p>\n<pre><code>2023-02-01 20:24:12.776 11850-11850/de.gamingwave.sprachassistent E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: de.gamingwave.sprachassistent, PID: 11850\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void de.gamingwave.sprachassistent.text.sprechen(java.lang.String)' on a null object reference\n        at de.gamingwave.sprachassistent.MainActivity$1.onResults(MainActivity.java:90)\n        at android.speech.SpeechRecognizer$InternalListener$1.handleMessage(SpeechRecognizer.java:456)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n2023-02-01 20:24:12.781 11850-11850/de.gamingwave.sprachassistent I/Process: Sending signal. PID: 11850 SIG: 9\n</code></pre>\n<p>This is the MainActivity:</p>\n<pre><code>    package de.gamingwave.sprachassistent;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.speech.tts.TextToSpeech;\nimport android.view.View;\nimport android.widget.*;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport de.gamingwave.sprachassistent.text;\nimport java.util.ArrayList;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n        private SpeechRecognizer speechRecognizer;\n\n        private EditText txtRecognizedSpeech;\n        private ImageButton btnSpeak;\n\n        private static MainActivity instance;\n\n        private Boolean isListening = false;\n        private int RecordAudioRequestCode = 1;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n                super.onCreate(savedInstanceState);\n                setContentView(R.layout.activity_main);\n\n\n\n                txtRecognizedSpeech = findViewById(R.id.txtRecognizedSpeech);\n                btnSpeak = findViewById(R.id.btnSpeech);\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n                final Intent speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n                speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;de-DE&quot;);\n\n                speechRecognizer.setRecognitionListener(new RecognitionListener() {\n\n                        @Override\n                        public void onReadyForSpeech(Bundle params) {\n\n                        }\n\n                        @SuppressLint(&quot;SetTextI18n&quot;)\n                        @Override\n                        public void onBeginningOfSpeech() {\n\n                                txtRecognizedSpeech.setHint(&quot;Listening...&quot;);\n                        }\n\n                        @Override\n                        public void onRmsChanged(float rmsdB) {\n\n                        }\n\n                        @Override\n                        public void onBufferReceived(byte[] buffer) {\n\n                        }\n\n                        @Override\n                        public void onEndOfSpeech() {\n\n                        }\n\n                        @Override\n                        public void onError(int error) {\n\n                        }\n\n                        //         ...\n//        ....\n//        ...\n//        ...\n                        @Override\n                        public void onResults(Bundle bundle) {\n                                ArrayList&lt;String&gt; speechData = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n                                txtRecognizedSpeech.setText(speechData.get(0));\n                                String result = speechData.get(0);\n                                if(result.contains(&quot;hallo&quot;)){\n                                        text.getInstance().sprechen(&quot;Hallo, wie gehts?&quot;);\n                                }\n                        }\n\n                        @Override\n                        public void onPartialResults(Bundle partialResults) {\n\n                        }\n\n                        @Override\n                        public void onEvent(int eventType, Bundle params) {\n\n                        }\n\n                });\n\n\n                btnSpeak.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                                if (isListening.equals(true)){\n                                        speechRecognizer.stopListening();\n                                        isListening = false;\n                                }\n                                else if (isListening.equals(false)){\n                                        speechRecognizer.startListening(speechRecognizerIntent);\n                                        isListening = true;\n                                }\n                        }\n                });\n\n        }\n\n        @Override\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n                if (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0 ){\n                        if(grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                                Toast.makeText(this,&quot;Permission Granted&quot;, Toast.LENGTH_LONG).show();\n                }\n        }\n\n        public static MainActivity getInstance() {\n                return instance;\n        }\n}\n\n                    @Override\n                    public void onPartialResults(Bundle partialResults) {\n\n                    }\n\n                    @Override\n                    public void onEvent(int eventType, Bundle params) {\n\n                    }\n\n            });\n\n\n            btnSpeak.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                            if (isListening.equals(true)){\n                                    speechRecognizer.stopListening();\n                                    isListening = false;\n                            }\n                            else if (isListening.equals(false)){\n                                    speechRecognizer.startListening(speechRecognizerIntent);\n                                    isListening = true;\n                            }\n                    }\n            });\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            if (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0 ){\n                    if(grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                            Toast.makeText(this,&quot;Permission Granted&quot;, Toast.LENGTH_LONG).show();\n            }\n    }\n\n    public static MainActivity getInstance() {\n            return instance;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>This is text.java</p>\n<pre><code>package de.gamingwave.sprachassistent;\n\nimport android.speech.tts.TextToSpeech;\n\nimport java.util.Locale;\n\npublic class text implements TextToSpeech.OnInitListener {\n    TextToSpeech tts;\n    private static text instance;\n\n    public void onInit(int status) {\n        instance = this;\n        tts = new TextToSpeech(MainActivity.getInstance(), this);\n        tts.setSpeechRate(1.0F);\n        if (status == TextToSpeech.SUCCESS) {\n                    tts.setLanguage(Locale.GERMANY);\n\n                }\n    }\n\n    public void sprechen(String text){\n        tts.speak(&quot;Hallo, wie geht es dir?&quot;, TextToSpeech.QUEUE_FLUSH, null);\n    }\n\n    public static text getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n<p>Do you know, what's the problem?</p>\n<p>I tried to make a speech to text application looking for signal words. Then the app has to answer via text to speech. But it crashes when is should say something.</p>\n"},{"tags":["java","swagger","jax-rs","openapi"],"comments":[{"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"score":1,"creation_date":1675166417,"post_id":75296640,"comment_id":132865892,"body_markdown":"Which generator tool/plugin do you use to generate your swagger spec? Probably it can be configured there.","body":"Which generator tool/plugin do you use to generate your swagger spec? Probably it can be configured there."},{"owner":{"account_id":10847535,"reputation":21,"user_id":7976490,"display_name":"AshenWaltz"},"score":0,"creation_date":1675173398,"post_id":75296640,"comment_id":132868264,"body_markdown":"@wimdetr Payara generates the OpenApi file which we then use in a swagger.ui file to generate the interface with the endpoints.","body":"@wimdetr Payara generates the OpenApi file which we then use in a swagger.ui file to generate the interface with the endpoints."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1675173663,"post_id":75296640,"comment_id":132868352,"body_markdown":"What kind of header parameters? If those headers are used for authentication, you should define them using security-specific annotations such as [`@SecurityScheme`](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations).","body":"What kind of header parameters? If those headers are used for authentication, you should define them using security-specific annotations such as <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\"><code>@SecurityScheme</code></a>."},{"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"score":0,"creation_date":1675175495,"post_id":75296640,"comment_id":132869062,"body_markdown":"@AshenWaltz is following documentation &amp; example of any help? https://blog.payara.fish/microprofile-openapi-in-the-payara-platform https://github.com/payara/Payara-Examples/tree/master/microprofile/openapi-example","body":"@AshenWaltz is following documentation &amp; example of any help? <a href=\"https://blog.payara.fish/microprofile-openapi-in-the-payara-platform\" rel=\"nofollow noreferrer\">blog.payara.fish/microprofile-openapi-in-the-payara-platform</a> <a href=\"https://github.com/payara/Payara-Examples/tree/master/microprofile/openapi-example\" rel=\"nofollow noreferrer\">github.com/payara/Payara-Examples/tree/master/microprofile/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10847535,"reputation":21,"user_id":7976490,"display_name":"AshenWaltz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675339608,"creation_date":1675339608,"answer_id":75322936,"question_id":75296640,"body_markdown":"We believe to have found a solution for this matter.\r\nBy declaring the @HeaderParam globally they appear for all endpoints without having to repeat the declaration for each endpoint.\r\nSomething like this:\r\n\r\n    @Path(&quot;/&quot;)\r\n    public class myClass{\r\n    \r\n       @HeaderParam(&quot;Parameter_one&quot;)\r\n       @Parameter(example = &quot;example_one)\r\n       Type parameter_one\r\n\r\n       @HeaderParam(&quot;Parameter_two&quot;)\r\n       @Parameter(example = &quot;example_two)\r\n       Type parameter_two\r\n\r\n       public Response SampleFunction(@RequestBody(...),\r\n                                  etc etc etc){\r\n          return doStuff()\r\n       }\r\n    }\r\n\r\nIn this particular case, Parameter_one and Parameter_two will become available on the Swagger page for all endpoints.\r\n\r\n","title":"Is there a way to define queryparams for all endpoints in javax.ws.rs?","body":"<p>We believe to have found a solution for this matter.\nBy declaring the @HeaderParam globally they appear for all endpoints without having to repeat the declaration for each endpoint.\nSomething like this:</p>\n<pre><code>@Path(&quot;/&quot;)\npublic class myClass{\n\n   @HeaderParam(&quot;Parameter_one&quot;)\n   @Parameter(example = &quot;example_one)\n   Type parameter_one\n\n   @HeaderParam(&quot;Parameter_two&quot;)\n   @Parameter(example = &quot;example_two)\n   Type parameter_two\n\n   public Response SampleFunction(@RequestBody(...),\n                              etc etc etc){\n      return doStuff()\n   }\n}\n</code></pre>\n<p>In this particular case, Parameter_one and Parameter_two will become available on the Swagger page for all endpoints.</p>\n"}],"owner":{"account_id":10847535,"reputation":21,"user_id":7976490,"display_name":"AshenWaltz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75322936,"answer_count":1,"score":1,"last_activity_date":1675339608,"creation_date":1675165476,"question_id":75296640,"body_markdown":"I am trying to document an already existing application using javax.ws.rs annotations to define what headers (@HeaderParam) and parameters (@QueryParam) a specific endpoint needs. This information would them be used to generate a swagger page for the application.\r\n\r\n    public Response SampleFunction(@RequestBody(...),\r\n                                   @QueryParam(...),\r\n                                   @HeaderParam(...),\r\n                                   @HeaderParam(...),\r\n                                   @HeaderParam(...),\r\n                                   etc etc etc){\r\n       return doStuff()\r\n    }\r\n\r\nI have identified a set of &quot;@HeaderParam&quot; which are required for all endpoints.\r\nI need to know if there is any way for me to define the @HeaderParam only once and use that definition for all endpoints and, since this is an already existing application, I need to do this change without any major code refactorization.","title":"Is there a way to define queryparams for all endpoints in javax.ws.rs?","body":"<p>I am trying to document an already existing application using javax.ws.rs annotations to define what headers (@HeaderParam) and parameters (@QueryParam) a specific endpoint needs. This information would them be used to generate a swagger page for the application.</p>\n<pre><code>public Response SampleFunction(@RequestBody(...),\n                               @QueryParam(...),\n                               @HeaderParam(...),\n                               @HeaderParam(...),\n                               @HeaderParam(...),\n                               etc etc etc){\n   return doStuff()\n}\n</code></pre>\n<p>I have identified a set of &quot;@HeaderParam&quot; which are required for all endpoints.\nI need to know if there is any way for me to define the @HeaderParam only once and use that definition for all endpoints and, since this is an already existing application, I need to do this change without any major code refactorization.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":17535140,"reputation":4971,"user_id":12718414,"display_name":"sergiy tikhonov"},"score":0,"creation_date":1591205941,"post_id":62178333,"comment_id":109970530,"body_markdown":"It seems that you&#39;ve done it well. But what is exactly your problem? You don&#39;t get some field in RouteWithWaypoints, do you? It&#39;s not clear","body":"It seems that you&#39;ve done it well. But what is exactly your problem? You don&#39;t get some field in RouteWithWaypoints, do you? It&#39;s not clear"},{"owner":{"account_id":11077630,"reputation":359,"user_id":8133841,"display_name":"Gesit"},"score":0,"creation_date":1591208127,"post_id":62178333,"comment_id":109971661,"body_markdown":"Edited my post to make more specific was my problem is and what I want to accomplish. In short: currently I have no access to the `index_of_waypoint` attribute from the junction table. In the best case, I want the `index_of_waypoint` inside the `POIWaypoint` class, when I get an instance of `RouteWithWaypoints`.","body":"Edited my post to make more specific was my problem is and what I want to accomplish. In short: currently I have no access to the <code>index_of_waypoint</code> attribute from the junction table. In the best case, I want the <code>index_of_waypoint</code> inside the <code>POIWaypoint</code> class, when I get an instance of <code>RouteWithWaypoints</code>."},{"owner":{"account_id":17535140,"reputation":4971,"user_id":12718414,"display_name":"sergiy tikhonov"},"score":0,"creation_date":1591218186,"post_id":62178333,"comment_id":109976631,"body_markdown":"I think you&#39;re moving in right direction and you should try your ideas on practice. But I have a guess that since Relations in Room is not very universal tool, if your ideas fails you should hold in your mind that you can do all you want with Plain Old SQL and loops )","body":"I think you&#39;re moving in right direction and you should try your ideas on practice. But I have a guess that since Relations in Room is not very universal tool, if your ideas fails you should hold in your mind that you can do all you want with Plain Old SQL and loops )"}],"answers":[{"comments":[{"owner":{"account_id":17535140,"reputation":4971,"user_id":12718414,"display_name":"sergiy tikhonov"},"score":0,"creation_date":1591479142,"post_id":62238175,"comment_id":110073564,"body_markdown":"Well done. Still there is some field for future optimisation, since you make database calls inside loop in your `getRoutesWithWaypoints ` method (in general it&#39;s not best choice).","body":"Well done. Still there is some field for future optimisation, since you make database calls inside loop in your <code>getRoutesWithWaypoints </code> method (in general it&#39;s not best choice)."}],"tags":[],"owner":{"account_id":11077630,"reputation":359,"user_id":8133841,"display_name":"Gesit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591478538,"creation_date":1591478538,"answer_id":62238175,"question_id":62178333,"body_markdown":"I solved my problem by manage the relation by myself. I changed my RouteDao to an abstract class to insert my own method, which manages part of the junction table by itself:\r\n\r\nRouteDao:\r\n\r\n```java\r\n private RouteDatabase database;\r\n\r\n    public RouteDao(RouteDatabase database) {\r\n        this.database = database;\r\n    }\r\n\r\n    @Query(&quot;Select * from POIRoute&quot;)\r\n    public abstract List&lt;POIRoute&gt; getRoutes();\r\n\r\n    @Query(&quot;SELECT * FROM POIRoute WHERE id = :id&quot;)\r\n    public abstract POIRoute getRoute(int id);\r\n\r\n    @Insert\r\n    abstract void insertRouteWithWaypoints(RouteWithWaypoints routeWithWaypoints);\r\n\r\n    public List&lt;RouteWithWaypoints&gt; getRoutesWithWaypoints() {\r\n        List&lt;POIRoute&gt; routes = this.getRoutes();\r\n        List&lt;RouteWithWaypoints&gt; routesWithWaypoints = new LinkedList&lt;&gt;();\r\n        for (POIRoute r : routes) {\r\n            routesWithWaypoints.add(new RouteWithWaypoints(r, database.wayPointDao().getWaypointsFromRoute(r.getId())));\r\n        }\r\n\r\n        return routesWithWaypoints;\r\n    }\r\n\r\n    public RouteWithWaypoints getRouteWithWaypoints(int id) {\r\n        POIRoute route = this.getRoute(id);\r\n        RouteWithWaypoints routeWithWaypoints = null;\r\n        if (route != null) {\r\n            routeWithWaypoints = new RouteWithWaypoints(route, database.wayPointDao().getWaypointsFromRoute(route.getId()));\r\n        }\r\n\r\n\r\n        return routeWithWaypoints;\r\n    }\r\n```\r\n\r\nWayPointDao:\r\n```java\r\n    @Query(&quot;SELECT * FROM POIWaypoint&quot;)\r\n    POIWaypoint getWaypoints();\r\n\r\n    @Query(&quot;SELECT * FROM POIWaypoint WHERE id = :id&quot;)\r\n    POIWaypoint getWaypoint(long id);\r\n\r\n    @Query(&quot;SELECT pw.*, rw.index_of_route as &#39;index&#39; FROM POIWaypoint as pw Join RouteWaypoint as rw on (rw.waypointId = pw.id) where rw.routeId = :id order by &#39;index&#39; ASC&quot;)\r\n    List&lt;POIRouteStep&gt; getWaypointsFromRoute(int id);\r\n```","title":"Get data from Junction Table with Android Room","body":"<p>I solved my problem by manage the relation by myself. I changed my RouteDao to an abstract class to insert my own method, which manages part of the junction table by itself:</p>\n\n<p>RouteDao:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> private RouteDatabase database;\n\n    public RouteDao(RouteDatabase database) {\n        this.database = database;\n    }\n\n    @Query(\"Select * from POIRoute\")\n    public abstract List&lt;POIRoute&gt; getRoutes();\n\n    @Query(\"SELECT * FROM POIRoute WHERE id = :id\")\n    public abstract POIRoute getRoute(int id);\n\n    @Insert\n    abstract void insertRouteWithWaypoints(RouteWithWaypoints routeWithWaypoints);\n\n    public List&lt;RouteWithWaypoints&gt; getRoutesWithWaypoints() {\n        List&lt;POIRoute&gt; routes = this.getRoutes();\n        List&lt;RouteWithWaypoints&gt; routesWithWaypoints = new LinkedList&lt;&gt;();\n        for (POIRoute r : routes) {\n            routesWithWaypoints.add(new RouteWithWaypoints(r, database.wayPointDao().getWaypointsFromRoute(r.getId())));\n        }\n\n        return routesWithWaypoints;\n    }\n\n    public RouteWithWaypoints getRouteWithWaypoints(int id) {\n        POIRoute route = this.getRoute(id);\n        RouteWithWaypoints routeWithWaypoints = null;\n        if (route != null) {\n            routeWithWaypoints = new RouteWithWaypoints(route, database.wayPointDao().getWaypointsFromRoute(route.getId()));\n        }\n\n\n        return routeWithWaypoints;\n    }\n</code></pre>\n\n<p>WayPointDao:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(\"SELECT * FROM POIWaypoint\")\n    POIWaypoint getWaypoints();\n\n    @Query(\"SELECT * FROM POIWaypoint WHERE id = :id\")\n    POIWaypoint getWaypoint(long id);\n\n    @Query(\"SELECT pw.*, rw.index_of_route as 'index' FROM POIWaypoint as pw Join RouteWaypoint as rw on (rw.waypointId = pw.id) where rw.routeId = :id order by 'index' ASC\")\n    List&lt;POIRouteStep&gt; getWaypointsFromRoute(int id);\n</code></pre>\n"}],"owner":{"account_id":11077630,"reputation":359,"user_id":8133841,"display_name":"Gesit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62238175,"answer_count":1,"score":1,"last_activity_date":1675339321,"creation_date":1591203210,"question_id":62178333,"body_markdown":"I am currently building an android app, which displays a Route, which is constructed out of multiple waypoints. I already planned the database schema (chen-notation [possibly invalid &quot;syntax&quot;]): \r\n\r\n[![er-model][1]][1]\r\n\r\nI tried to recreate the n-m relation with android room, but I can&#39;t figure out how I can retrieve the `index_of_route` attribute of the junction table (route_waypoint).\r\n\r\nI want the junction table attribute `index_of_route`, when I get the Data like so: \r\n\r\n```java\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM POIRoute&quot;)\r\n    List&lt;RouteWithWaypoints&gt; getRoutes();\r\n```\r\n\r\ninside the POIWaypoint class (maybe as extra attribute), or at least accessible from another class which maybe is implemented like so:\r\n\r\n```java\r\n    @Embedded\r\n    POIWaypoint waypoint;\r\n    int indexOfRoute;\r\n```\r\n\r\nCurrently I don&#39;t get the `indexOfRoute` attribute from the junction table.\r\n\r\nMy already created classes:\r\n\r\nRouteWithWaypoints:\r\n\r\n```java\r\npublic class RouteWithWaypoints {\r\n\r\n    @Embedded\r\n    private POIRoute poiRoute;\r\n\r\n    @Relation(parentColumn = &quot;id&quot;,entityColumn = &quot;id&quot;,associateBy = @Junction(value = RouteWaypoint.class, parentColumn = &quot;routeId&quot;, entityColumn = &quot;waypointId&quot;))\r\n    private List&lt;POIWaypoint&gt; waypoints;\r\n\r\n    public POIRoute getPoiRoute() {\r\n        return poiRoute;\r\n    }\r\n\r\n    public void setPoiRoute(POIRoute poiRoute) {\r\n        this.poiRoute = poiRoute;\r\n    }\r\n\r\n    public List&lt;POIWaypoint&gt; getWaypoints() {\r\n        return waypoints;\r\n    }\r\n\r\n    public void setWaypoints(List&lt;POIWaypoint&gt; waypoints) {\r\n        this.waypoints = waypoints;\r\n    }\r\n```\r\n\r\nRouteWaypoint:\r\n```java\r\n@Entity(primaryKeys = {&quot;waypointId&quot;, &quot;routeId&quot;}, foreignKeys = {\r\n        @ForeignKey(entity = POIWaypoint.class, parentColumns = {&quot;id&quot;}, childColumns = {&quot;waypointId&quot;}),\r\n        @ForeignKey(entity = POIRoute.class, parentColumns = {&quot;id&quot;}, childColumns = {&quot;routeId&quot;})\r\n})\r\npublic class RouteWaypoint {\r\n    private int waypointId;\r\n    private int routeId;\r\n    \r\n    // I want this attribute inside the POIWaypoint class\r\n    @ColumnInfo(name = &quot;index_of_route&quot;)\r\n    private int indexOfRoute;\r\n\r\n    public int getWaypointId() {\r\n        return waypointId;\r\n    }\r\n\r\n    public void setWaypointId(int waypointId) {\r\n        this.waypointId = waypointId;\r\n    }\r\n\r\n    public int getRouteId() {\r\n        return routeId;\r\n    }\r\n\r\n    public void setRouteId(int routeId) {\r\n        this.routeId = routeId;\r\n    }\r\n}\r\n\r\n```\r\n\r\nPOIRoute:\r\n\r\n```java\r\n@Entity\r\npublic class POIRoute{\r\n\r\n    private String name;\r\n    private String description;\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int id;\r\n    private boolean user_generated;\r\n    private int parentId;\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public boolean isUser_generated() {\r\n        return user_generated;\r\n    }\r\n\r\n    public void setUser_generated(boolean user_generated) {\r\n        this.user_generated = user_generated;\r\n    }\r\n\r\n    public int getParentId() {\r\n        return parentId;\r\n    }\r\n\r\n    public void setParentId(int parentId) {\r\n        this.parentId = parentId;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nPOIWaypoint (please ignore the position attribute it isn&#39;t finished):\r\n```java\r\n@Entity\r\npublic class POIWaypoint {\r\n    @PrimaryKey(autoGenerate = true)\r\n    private long id;\r\n    @ColumnInfo(name = &quot;long_description&quot;)\r\n    private String longDescription;\r\n    private String title;\r\n    @ColumnInfo(name = &quot;short_description&quot;)\r\n    private String shortDescription;\r\n\r\n    // use converter: https://developer.android.com/training/data-storage/room/referencing-data\r\n    @Ignore\r\n    private GeoPoint position;\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public GeoPoint getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public void setPosition(GeoPoint position) {\r\n        this.position = position;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getShortDescription() {\r\n        return shortDescription;\r\n    }\r\n\r\n    public void setShortDescription(String shortDescription) {\r\n        this.shortDescription = shortDescription;\r\n    }\r\n\r\n    public String getLongDescription() {\r\n        return longDescription;\r\n    }\r\n\r\n    public void setLongDescription(String longDescription) {\r\n        this.longDescription = longDescription;\r\n    }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Ep4o5.png","title":"Get data from Junction Table with Android Room","body":"<p>I am currently building an android app, which displays a Route, which is constructed out of multiple waypoints. I already planned the database schema (chen-notation [possibly invalid &quot;syntax&quot;]):</p>\n<p><a href=\"https://i.stack.imgur.com/Ep4o5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ep4o5.png\" alt=\"er-model\" /></a></p>\n<p>I tried to recreate the n-m relation with android room, but I can't figure out how I can retrieve the <code>index_of_route</code> attribute of the junction table (route_waypoint).</p>\n<p>I want the junction table attribute <code>index_of_route</code>, when I get the Data like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transaction\n    @Query(&quot;SELECT * FROM POIRoute&quot;)\n    List&lt;RouteWithWaypoints&gt; getRoutes();\n</code></pre>\n<p>inside the POIWaypoint class (maybe as extra attribute), or at least accessible from another class which maybe is implemented like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Embedded\n    POIWaypoint waypoint;\n    int indexOfRoute;\n</code></pre>\n<p>Currently I don't get the <code>indexOfRoute</code> attribute from the junction table.</p>\n<p>My already created classes:</p>\n<p>RouteWithWaypoints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RouteWithWaypoints {\n\n    @Embedded\n    private POIRoute poiRoute;\n\n    @Relation(parentColumn = &quot;id&quot;,entityColumn = &quot;id&quot;,associateBy = @Junction(value = RouteWaypoint.class, parentColumn = &quot;routeId&quot;, entityColumn = &quot;waypointId&quot;))\n    private List&lt;POIWaypoint&gt; waypoints;\n\n    public POIRoute getPoiRoute() {\n        return poiRoute;\n    }\n\n    public void setPoiRoute(POIRoute poiRoute) {\n        this.poiRoute = poiRoute;\n    }\n\n    public List&lt;POIWaypoint&gt; getWaypoints() {\n        return waypoints;\n    }\n\n    public void setWaypoints(List&lt;POIWaypoint&gt; waypoints) {\n        this.waypoints = waypoints;\n    }\n</code></pre>\n<p>RouteWaypoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(primaryKeys = {&quot;waypointId&quot;, &quot;routeId&quot;}, foreignKeys = {\n        @ForeignKey(entity = POIWaypoint.class, parentColumns = {&quot;id&quot;}, childColumns = {&quot;waypointId&quot;}),\n        @ForeignKey(entity = POIRoute.class, parentColumns = {&quot;id&quot;}, childColumns = {&quot;routeId&quot;})\n})\npublic class RouteWaypoint {\n    private int waypointId;\n    private int routeId;\n    \n    // I want this attribute inside the POIWaypoint class\n    @ColumnInfo(name = &quot;index_of_route&quot;)\n    private int indexOfRoute;\n\n    public int getWaypointId() {\n        return waypointId;\n    }\n\n    public void setWaypointId(int waypointId) {\n        this.waypointId = waypointId;\n    }\n\n    public int getRouteId() {\n        return routeId;\n    }\n\n    public void setRouteId(int routeId) {\n        this.routeId = routeId;\n    }\n}\n\n</code></pre>\n<p>POIRoute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class POIRoute{\n\n    private String name;\n    private String description;\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n    private boolean user_generated;\n    private int parentId;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public boolean isUser_generated() {\n        return user_generated;\n    }\n\n    public void setUser_generated(boolean user_generated) {\n        this.user_generated = user_generated;\n    }\n\n    public int getParentId() {\n        return parentId;\n    }\n\n    public void setParentId(int parentId) {\n        this.parentId = parentId;\n    }\n\n\n}\n</code></pre>\n<p>POIWaypoint (please ignore the position attribute it isn't finished):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class POIWaypoint {\n    @PrimaryKey(autoGenerate = true)\n    private long id;\n    @ColumnInfo(name = &quot;long_description&quot;)\n    private String longDescription;\n    private String title;\n    @ColumnInfo(name = &quot;short_description&quot;)\n    private String shortDescription;\n\n    // use converter: https://developer.android.com/training/data-storage/room/referencing-data\n    @Ignore\n    private GeoPoint position;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public GeoPoint getPosition() {\n        return position;\n    }\n\n    public void setPosition(GeoPoint position) {\n        this.position = position;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getShortDescription() {\n        return shortDescription;\n    }\n\n    public void setShortDescription(String shortDescription) {\n        this.shortDescription = shortDescription;\n    }\n\n    public String getLongDescription() {\n        return longDescription;\n    }\n\n    public void setLongDescription(String longDescription) {\n        this.longDescription = longDescription;\n    }\n</code></pre>\n"},{"tags":["java","selenium","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":0,"creation_date":1604098807,"post_id":64578522,"comment_id":114253700,"body_markdown":"Please check if your glue is correct","body":"Please check if your glue is correct"},{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":0,"creation_date":1604100135,"post_id":64578522,"comment_id":114253968,"body_markdown":"Also could you share your feature file and step definition please","body":"Also could you share your feature file and step definition please"}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604051088,"creation_date":1604051088,"answer_id":64605958,"question_id":64578522,"body_markdown":"From the [Cucumber docs FAQ](https://docs.cucumber.io/docs/community/faq/):\r\n\r\n## Cucumber says my steps are undefined, but I have implemented step definitions!\r\nIf Cucumber is telling you that your steps are undefined, when you have defined step definitions, this means that Cucumber cannot find your step definitions. Youll need to make sure to specify the path to your step definitions (glue path) correctly.\r\n\r\nBy default Cucumber-JVM will search in the package (or sub-packages) of the runner class. You can also tell Cucumber-JVM explicitly which packages (and sub-packages) to search, with:\r\n\r\n     @CucumberOptions(glue = {&quot;&lt;package&gt;&quot;, &quot;&lt;package&gt;&quot;, &quot;&lt;etc&gt;&quot;})\r\n     public class RunCucumberTest{}","title":"Scenario Execution Status ########## ----&gt;&gt;&gt;&gt; UNDEFINED error","body":"<p>From the <a href=\"https://docs.cucumber.io/docs/community/faq/\" rel=\"nofollow noreferrer\">Cucumber docs FAQ</a>:</p>\n<h2>Cucumber says my steps are undefined, but I have implemented step definitions!</h2>\n<p>If Cucumber is telling you that your steps are undefined, when you have defined step definitions, this means that Cucumber cannot find your step definitions. Youll need to make sure to specify the path to your step definitions (glue path) correctly.</p>\n<p>By default Cucumber-JVM will search in the package (or sub-packages) of the runner class. You can also tell Cucumber-JVM explicitly which packages (and sub-packages) to search, with:</p>\n<pre><code> @CucumberOptions(glue = {&quot;&lt;package&gt;&quot;, &quot;&lt;package&gt;&quot;, &quot;&lt;etc&gt;&quot;})\n public class RunCucumberTest{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604100311,"creation_date":1604100311,"answer_id":64616954,"question_id":64578522,"body_markdown":"Your Glue is incorrect when you trying to execute from Feature file.Change your glue to same as your runner class, it should work.","title":"Scenario Execution Status ########## ----&gt;&gt;&gt;&gt; UNDEFINED error","body":"<p>Your Glue is incorrect when you trying to execute from Feature file.Change your glue to same as your runner class, it should work.</p>\n"}],"owner":{"account_id":17632143,"reputation":57,"user_id":12796016,"display_name":"sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675339232,"creation_date":1603907233,"question_id":64578522,"body_markdown":"trying to run the feature file in the intellij but I am getting \r\n\r\n&gt; Scenario Execution Status ########## ----&gt;&gt;&gt;&gt;  UNDEFINED\r\n\r\nerror multiple time in console though i have defined the steps in  step-definition file  \r\n\r\nThe runner file structure is correct seems.\r\n\r\nRunner File:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nConfiguration:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Njyks.png\r\n  [2]: https://i.stack.imgur.com/wWR5r.png\r\n  [3]: https://i.stack.imgur.com/BPNIM.png\r\n\r\nI am able to run the feature file through Runner file. But while I am trying to run the same by right clicking on the Feature file getting the above error  ","title":"Scenario Execution Status ########## ----&gt;&gt;&gt;&gt; UNDEFINED error","body":"<p>trying to run the feature file in the intellij but I am getting</p>\n<blockquote>\n<p>Scenario Execution Status ########## ----&gt;&gt;&gt;&gt;  UNDEFINED</p>\n</blockquote>\n<p>error multiple time in console though i have defined the steps in  step-definition file</p>\n<p>The runner file structure is correct seems.</p>\n<p>Runner File:</p>\n<p><a href=\"https://i.stack.imgur.com/wWR5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wWR5r.png\" alt=\"enter image description here\" /></a></p>\n<p>Configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/BPNIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPNIM.png\" alt=\"enter image description here\" /></a></p>\n<p>I am able to run the feature file through Runner file. But while I am trying to run the same by right clicking on the Feature file getting the above error</p>\n"},{"tags":["java","spring","jboss7.x","ejb-3.0","spring-context"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674649041,"post_id":75233748,"comment_id":132758394,"body_markdown":"What is the exact exception (including message and stack trace)? Which instance cannot be cast to a different class (and which class)?","body":"What is the exact exception (including message and stack trace)? Which instance cannot be cast to a different class (and which class)?"},{"owner":{"account_id":5544422,"reputation":347,"user_id":4399698,"display_name":"Xavi Torrens"},"score":0,"creation_date":1674657740,"post_id":75233748,"comment_id":132761511,"body_markdown":"I added the stack trace. Thanks.","body":"I added the stack trace. Thanks."},{"owner":{"account_id":5544422,"reputation":347,"user_id":4399698,"display_name":"Xavi Torrens"},"score":0,"creation_date":1674657900,"post_id":75233748,"comment_id":132761560,"body_markdown":"The instance that cannot be cast is the one who is instanciated in EJB context.","body":"The instance that cannot be cast is the one who is instanciated in EJB context."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674665635,"post_id":75233748,"comment_id":132764541,"body_markdown":"You have the same class name loaded through two different classloaders. Although they have the same name, given they&#39;re loaded through two classloaders, Java considers them two distinct classes.","body":"You have the same class name loaded through two different classloaders. Although they have the same name, given they&#39;re loaded through two classloaders, Java considers them two distinct classes."},{"owner":{"account_id":5544422,"reputation":347,"user_id":4399698,"display_name":"Xavi Torrens"},"score":0,"creation_date":1674681140,"post_id":75233748,"comment_id":132769177,"body_markdown":"Yes Mark, that is the problem I have. I need that all classes are loaded with the same class loader.","body":"Yes Mark, that is the problem I have. I need that all classes are loaded with the same class loader."}],"owner":{"account_id":5544422,"reputation":347,"user_id":4399698,"display_name":"Xavi Torrens"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675339069,"creation_date":1674648403,"question_id":75233748,"body_markdown":"I have an Spring Controller with a EJB injected. I can inject this EJB using spring proxy:\r\n\r\n       &lt;jee:local-slsb id=&quot;procedimentRepositoryBean&quot;\r\n                    jndi-name=&quot;java:global/sedeib/sedeib-ejb/ProcedimentServiceFacade&quot;\r\n                    business-interface=&quot;es.caib.sedeib.service.facade.ProcedimentServiceFacade&quot;/&gt;\r\n\r\nBoth uses the same DTO, and when the EJB (procedimentServiceFacade) returns a filled DTO the spring controller try to Cast the DTO to the same DTO. It throws a ClassCastException:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/prova/&quot;)\r\n    public class TestController {\r\n\r\n    @Autowired\r\n    private ProcedimentServiceFacade procedimentServiceFacade; //EJB Proxy INJECTION\r\n\r\n\r\n    @RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public ProcedimentDTO test(){\r\n        ProcedimentDTO dto = procedimentServiceFacade.findById(1L).orElse(new ProcedimentDTO());\r\n        return dto;\r\n    }\r\n\r\n }\r\n\r\nStack trace:\r\n\r\n    Caused by: java.lang.ClassCastException: class es.caib.sedeib.service.model.ProcedimentDTO cannot be cast to class es.caib.sedeib.service.model.ProcedimentDTO (es.caib.sedeib.service.model.ProcedimentDTO is in unnamed module of loader &#39;deployment.sedeib.ear&#39; @4fd1ef7f; es.caib.sedeib.service.model.ProcedimentDTO is in unnamed module of loader &#39;deployment.sedeib.ear.sedeib-back.war&#39; @33adbd6e)\r\n\tat deployment.sedeib.ear.sedeib-back.war//es.caib.sedeib.back.controller.TestController.test(TestController.java:23)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:181)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\t... 52 more\r\n\r\n\r\nI read [here][1] that it could happen because the spring beans and the EJB are loaded by diferents class loaders. In old Jboss versions, this is solutioned by fixing a class loader with this config:\r\n\r\n    \r\n    &lt;class-loading&gt;\r\n        &lt;loader-repository&gt;\r\n            some-name:loader=name\r\n            &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;\r\n        &lt;/loader-repository&gt;\r\n    &lt;/class-loading&gt;\r\n\r\n\r\nBut it seems deprecated for Jboss7. Are there any way for have the same class loader on both contexts (spring and EJB) ?\r\n\r\nEnvironment:\r\n\r\n - OpenJdk11\r\n - Jboss7.2\r\n - EJB3\r\n - Spring 4.3.19\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2371967/getting-class-cast-exception-where-both-classes-are-exactly-the-same","title":"Class Cast Exception between Spring Bean and EJB 3 - Jboss7","body":"<p>I have an Spring Controller with a EJB injected. I can inject this EJB using spring proxy:</p>\n<pre><code>   &lt;jee:local-slsb id=&quot;procedimentRepositoryBean&quot;\n                jndi-name=&quot;java:global/sedeib/sedeib-ejb/ProcedimentServiceFacade&quot;\n                business-interface=&quot;es.caib.sedeib.service.facade.ProcedimentServiceFacade&quot;/&gt;\n</code></pre>\n<p>Both uses the same DTO, and when the EJB (procedimentServiceFacade) returns a filled DTO the spring controller try to Cast the DTO to the same DTO. It throws a ClassCastException:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/prova/&quot;)\npublic class TestController {\n\n@Autowired\nprivate ProcedimentServiceFacade procedimentServiceFacade; //EJB Proxy INJECTION\n\n\n@RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\n@ResponseBody\npublic ProcedimentDTO test(){\n    ProcedimentDTO dto = procedimentServiceFacade.findById(1L).orElse(new ProcedimentDTO());\n    return dto;\n}\n</code></pre>\n<p>}</p>\n<p>Stack trace:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class es.caib.sedeib.service.model.ProcedimentDTO cannot be cast to class es.caib.sedeib.service.model.ProcedimentDTO (es.caib.sedeib.service.model.ProcedimentDTO is in unnamed module of loader 'deployment.sedeib.ear' @4fd1ef7f; es.caib.sedeib.service.model.ProcedimentDTO is in unnamed module of loader 'deployment.sedeib.ear.sedeib-back.war' @33adbd6e)\nat deployment.sedeib.ear.sedeib-back.war//es.caib.sedeib.back.controller.TestController.test(TestController.java:23)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:181)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\nat deployment.sedeib.ear.sedeib-back.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n... 52 more\n</code></pre>\n<p>I read <a href=\"https://stackoverflow.com/questions/2371967/getting-class-cast-exception-where-both-classes-are-exactly-the-same\">here</a> that it could happen because the spring beans and the EJB are loaded by diferents class loaders. In old Jboss versions, this is solutioned by fixing a class loader with this config:</p>\n<pre><code>&lt;class-loading&gt;\n    &lt;loader-repository&gt;\n        some-name:loader=name\n        &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;\n    &lt;/loader-repository&gt;\n&lt;/class-loading&gt;\n</code></pre>\n<p>But it seems deprecated for Jboss7. Are there any way for have the same class loader on both contexts (spring and EJB) ?</p>\n<p>Environment:</p>\n<ul>\n<li>OpenJdk11</li>\n<li>Jboss7.2</li>\n<li>EJB3</li>\n<li>Spring 4.3.19</li>\n</ul>\n"},{"tags":["java","swing","jframe","mouseevent","imageicon"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675325780,"post_id":75320250,"comment_id":132905496,"body_markdown":"Why don&#39;t you just use a `JScrollPane`?  And why should the image be drawn beyond the visible bounds of the window?!","body":"Why don&#39;t you just use a <code>JScrollPane</code>?  And why should the image be drawn beyond the visible bounds of the window?!"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675338781,"creation_date":1675338781,"answer_id":75322781,"question_id":75320250,"body_markdown":"Just to get you going...add the **JLabel** to a **JPanel** then size the **JLabel** to the size of the image. Add the **JPanel** to the **JFrame**, for example:\r\n\r\n    // JFrame:\r\n    JFrame frame = new JFrame(&quot;example&quot;);\r\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    frame.setSize(400,400);\r\n        \r\n    // JPanel:\r\n    JPanel panel = new JPanel();\r\n                \r\n    //JLabel and Image:\r\n    ImageIcon imageIcon = new ImageIcon(&quot;src/main/resources/img.png&quot;);\r\n    JLabel label = new JLabel();\r\n        \r\n    // Set JLabel size to Image Size:\r\n    label.setSize(new Dimension(imageIcon.getIconWidth(), imageIcon.getIconHeight()));\r\n        \r\n    // Ensure Horizonal and Vertical alignments in JLabel:\r\n    label.setHorizontalAlignment(JLabel.CENTER);\r\n    label.setVerticalAlignment(JLabel.CENTER);\r\n    label.setIcon(imageIcon);\r\n        \r\n    // Add JLabel to JPanel:\r\n    panel.add(label);\r\n        \r\n    // Add JPanel to JFrame:\r\n    frame.add(panel);\r\n        \r\n    // Display JFrame with Image:\r\n    java.awt.EventQueue.invokeLater(() -&gt; {\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);  // Center form to screen.\r\n    });\r\n        \r\n    // Add Mouse Listeners:\r\n    frame.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            xStart = e.getX() - label.getX();\r\n            yStart = e.getY() - label.getY();\r\n        }\r\n    });\r\n     \r\n    frame.addMouseMotionListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            label.setLocation(e.getX() - xStart, e.getY() - yStart);\r\n        }\r\n    });","title":"ImageIcon it is not drawn outside the borders of JFrame","body":"<p>Just to get you going...add the <strong>JLabel</strong> to a <strong>JPanel</strong> then size the <strong>JLabel</strong> to the size of the image. Add the <strong>JPanel</strong> to the <strong>JFrame</strong>, for example:</p>\n<pre><code>// JFrame:\nJFrame frame = new JFrame(&quot;example&quot;);\nframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\nframe.setSize(400,400);\n    \n// JPanel:\nJPanel panel = new JPanel();\n            \n//JLabel and Image:\nImageIcon imageIcon = new ImageIcon(&quot;src/main/resources/img.png&quot;);\nJLabel label = new JLabel();\n    \n// Set JLabel size to Image Size:\nlabel.setSize(new Dimension(imageIcon.getIconWidth(), imageIcon.getIconHeight()));\n    \n// Ensure Horizonal and Vertical alignments in JLabel:\nlabel.setHorizontalAlignment(JLabel.CENTER);\nlabel.setVerticalAlignment(JLabel.CENTER);\nlabel.setIcon(imageIcon);\n    \n// Add JLabel to JPanel:\npanel.add(label);\n    \n// Add JPanel to JFrame:\nframe.add(panel);\n    \n// Display JFrame with Image:\njava.awt.EventQueue.invokeLater(() -&gt; {\n    frame.setVisible(true);\n    frame.setLocationRelativeTo(null);  // Center form to screen.\n});\n    \n// Add Mouse Listeners:\nframe.addMouseListener(new MouseAdapter() {\n    @Override\n    public void mousePressed(MouseEvent e) {\n        xStart = e.getX() - label.getX();\n        yStart = e.getY() - label.getY();\n    }\n});\n \nframe.addMouseMotionListener(new MouseAdapter() {\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        label.setLocation(e.getX() - xStart, e.getY() - yStart);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75322781,"answer_count":1,"score":-1,"last_activity_date":1675338781,"creation_date":1675325501,"question_id":75320250,"body_markdown":"I have a picture that is larger than the screen size, and I want to move the mouse over the image. I wrote the following code\r\n\r\n\r\n    public class Rotation extends JComponent{\r\n\r\n    int xStart=0;\r\n    int yStart=0;\r\n    public void rotate(){\r\n\r\n        JFrame a = new JFrame(&quot;example&quot;);\r\n        ImageIcon imageIcon=new ImageIcon(&quot;src/main/resources/img.png&quot;);\r\n        JLabel label=new JLabel(imageIcon);\r\n        a.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                xStart=e.getX()-label.getX();\r\n                yStart=e.getY()-label.getY();\r\n            }\r\n        });\r\n        a.addMouseMotionListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                label.setLocation(e.getX()-xStart, e.getY()-yStart);\r\n            }\r\n        });\r\n\r\n        a.add(label);\r\n        a.setSize(300,300);\r\n        a.setVisible(true);\r\n        a.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    }\r\n    }\r\n\r\nHere I&#39;m just moving the image. But it turns out that jlabel does not draw my image outside of the JFrame boundaries\r\n\r\n[before dragged][1]\r\n\r\n[after dragged][2]\r\n\r\n\r\nHow can I fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/l6Dpx.png\r\n  [2]: https://i.stack.imgur.com/WuH9F.png","title":"ImageIcon it is not drawn outside the borders of JFrame","body":"<p>I have a picture that is larger than the screen size, and I want to move the mouse over the image. I wrote the following code</p>\n<pre><code>public class Rotation extends JComponent{\n\nint xStart=0;\nint yStart=0;\npublic void rotate(){\n\n    JFrame a = new JFrame(&quot;example&quot;);\n    ImageIcon imageIcon=new ImageIcon(&quot;src/main/resources/img.png&quot;);\n    JLabel label=new JLabel(imageIcon);\n    a.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            xStart=e.getX()-label.getX();\n            yStart=e.getY()-label.getY();\n        }\n    });\n    a.addMouseMotionListener(new MouseAdapter() {\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            label.setLocation(e.getX()-xStart, e.getY()-yStart);\n        }\n    });\n\n    a.add(label);\n    a.setSize(300,300);\n    a.setVisible(true);\n    a.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n}\n}\n</code></pre>\n<p>Here I'm just moving the image. But it turns out that jlabel does not draw my image outside of the JFrame boundaries</p>\n<p><a href=\"https://i.stack.imgur.com/l6Dpx.png\" rel=\"nofollow noreferrer\">before dragged</a></p>\n<p><a href=\"https://i.stack.imgur.com/WuH9F.png\" rel=\"nofollow noreferrer\">after dragged</a></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","pdf","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":2,"creation_date":1512113281,"post_id":47581765,"comment_id":82134222,"body_markdown":"Which version are you using exactly? I cannot reproduce your problem. Can you also attach the resultant PDF? Are you sure it&#39;s no longer an AcroForm?","body":"Which version are you using exactly? I cannot reproduce your problem. Can you also attach the resultant PDF? Are you sure it&#39;s no longer an AcroForm?"},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1512407488,"post_id":47581765,"comment_id":82235263,"body_markdown":"@AlexeySubach I am using iText7. I get an error upon opening the document that &quot;This document enabled extended features in Adobe Acrobat Reader. The document has been changed since it was created and use of extended features is no longer available. Please contact the author for the original version of this document.&quot;","body":"@AlexeySubach I am using iText7. I get an error upon opening the document that &quot;This document enabled extended features in Adobe Acrobat Reader. The document has been changed since it was created and use of extended features is no longer available. Please contact the author for the original version of this document.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1512577373,"post_id":47677466,"comment_id":82316989,"body_markdown":"If there really is a `IllegalArgumentException` (I have not checked), in particular still in version 7.1.0, you might want to initiate creating an issue for that in the iText JIRA project &quot;Development iText 7&quot;. There is no need for pushbutton form fields to have any appearance streams associated to them.","body":"If there really is a <code>IllegalArgumentException</code> (I have not checked), in particular still in version 7.1.0, you might want to initiate creating an issue for that in the iText JIRA project &quot;Development iText 7&quot;. There is no need for pushbutton form fields to have any appearance streams associated to them."}],"tags":[],"owner":{"account_id":12436716,"reputation":221,"user_id":9056824,"display_name":"KevinWillems"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512572902,"creation_date":1512572902,"answer_id":47677466,"question_id":47581765,"body_markdown":"The filled in PDF is still an AcroForm, otherwise the example below would result in the same PDF twice.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n    public static final String SRC = &quot;src/main/resources/interactiveform_enabled.pdf&quot;;\r\n    public static final String DEST = &quot;results/filled_form.pdf&quot;;\r\n    public static final String DEST2 = &quot;results/filled_form_second_time.pdf&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        File file = new File(DEST);\r\n        file.getParentFile().mkdirs();\r\n        Main main = new Main();\r\n\r\n        Map&lt;String, String&gt; data1 = new HashMap&lt;&gt;();\r\n        data1.put(&quot;Name_First&quot;, &quot;Tristan&quot;);\r\n        data1.put(&quot;BACHELORS DEGREE&quot;, &quot;Off&quot;);\r\n        main.fillPdf(SRC, DEST, data1, false);\r\n\r\n        Map&lt;String, String&gt; data2 = new HashMap&lt;&gt;();\r\n        data2.put(&quot;Sex&quot;, &quot;FEMALE&quot;);\r\n        main.fillPdf(DEST, DEST2, data2, false);\r\n    }\r\n\r\n    private void fillPdf(String src, String dest, Map&lt;String, String&gt; data, boolean flatten) {\r\n        try {\r\n            PdfDocument pdf = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\r\n            PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\r\n\r\n            //Delete print field from acroform because it is defined in the contentstream not in the formfields\r\n            form.removeField(&quot;Print&quot;);\r\n\r\n            Map&lt;String, PdfFormField&gt; m = form.getFormFields();\r\n\r\n            for (String d : data.keySet()) {\r\n                for (String s : m.keySet()) {\r\n                    if(s.equals(d)){\r\n                        m.get(s).setValue(data.get(d));\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(flatten){\r\n                form.flattenFields();\r\n            }\r\n\r\n            pdf.close();\r\n            System.out.println(&quot;Completed&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Unable to fill form &quot; + dest + &quot;\\n\\t&quot; + e);\r\n        }\r\n    }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\nThe issue you are facing has to do with the &#39;reader enabled forms&#39;.\r\nWhat it boils down to is that the PDF file that is initially fed to your program is reader enabled. Hence you can open the PDF in Adobe Reader and fill in the form. This allows Acrobat users to extend the behaviour of Adobe Reader.\r\nOnce the PDF is filled in and closed using iText it saves the PDF as &#39;not reader-extended&#39;.\r\nThis makes it so that the AcroForm can still be filled using iText but when you open the PDF using Adobe Reader the extended functionality you see in the original PDF is gone. But this does not mean the form is flattened.\r\n\r\niText cannot make a form reader enabled, as a matter of fact, the only way to create a reader enabled form is using Acrobat Professional. This is how Acrobat and Adobe Reader interact and it is not something iText can imitate or solve. You can find some more info and a possible solution on this [link](https://acrobatusers.com/tutorials/reader-enabling-a-pdf-form-for-saving-user-entered-data).\r\n\r\nThe IllegalArgumentException you get when you call the form.flattenFields() method is because of the way the PDF document was constructed.\r\nThe &quot;Print form&quot; button should have been defined in the AcroForm, yet it is defined in the contentstream of the PDF, meaning the button in the AcroForm has an empty text value, and this is what causes the exception.\r\n\r\nYou can fix this by removing the print field from the AcroForm before you flatten.","title":"Why is my form being flattened without calling the flattenFields method?","body":"<p>The filled in PDF is still an AcroForm, otherwise the example below would result in the same PDF twice.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\npublic static final String SRC = \"src/main/resources/interactiveform_enabled.pdf\";\npublic static final String DEST = \"results/filled_form.pdf\";\npublic static final String DEST2 = \"results/filled_form_second_time.pdf\";\n\npublic static void main(String[] args) throws Exception {\n    File file = new File(DEST);\n    file.getParentFile().mkdirs();\n    Main main = new Main();\n\n    Map&lt;String, String&gt; data1 = new HashMap&lt;&gt;();\n    data1.put(\"Name_First\", \"Tristan\");\n    data1.put(\"BACHELORS DEGREE\", \"Off\");\n    main.fillPdf(SRC, DEST, data1, false);\n\n    Map&lt;String, String&gt; data2 = new HashMap&lt;&gt;();\n    data2.put(\"Sex\", \"FEMALE\");\n    main.fillPdf(DEST, DEST2, data2, false);\n}\n\nprivate void fillPdf(String src, String dest, Map&lt;String, String&gt; data, boolean flatten) {\n    try {\n        PdfDocument pdf = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\n        PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\n\n        //Delete print field from acroform because it is defined in the contentstream not in the formfields\n        form.removeField(\"Print\");\n\n        Map&lt;String, PdfFormField&gt; m = form.getFormFields();\n\n        for (String d : data.keySet()) {\n            for (String s : m.keySet()) {\n                if(s.equals(d)){\n                    m.get(s).setValue(data.get(d));\n                }\n            }\n        }\n\n        if(flatten){\n            form.flattenFields();\n        }\n\n        pdf.close();\n        System.out.println(\"Completed\");\n    } catch (IOException e) {\n        System.out.println(\"Unable to fill form \" + dest + \"\\n\\t\" + e);\n    }\n}\n}\n</code></pre>\n\n<p>The issue you are facing has to do with the 'reader enabled forms'.\nWhat it boils down to is that the PDF file that is initially fed to your program is reader enabled. Hence you can open the PDF in Adobe Reader and fill in the form. This allows Acrobat users to extend the behaviour of Adobe Reader.\nOnce the PDF is filled in and closed using iText it saves the PDF as 'not reader-extended'.\nThis makes it so that the AcroForm can still be filled using iText but when you open the PDF using Adobe Reader the extended functionality you see in the original PDF is gone. But this does not mean the form is flattened.</p>\n\n<p>iText cannot make a form reader enabled, as a matter of fact, the only way to create a reader enabled form is using Acrobat Professional. This is how Acrobat and Adobe Reader interact and it is not something iText can imitate or solve. You can find some more info and a possible solution on this <a href=\"https://acrobatusers.com/tutorials/reader-enabling-a-pdf-form-for-saving-user-entered-data\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>The IllegalArgumentException you get when you call the form.flattenFields() method is because of the way the PDF document was constructed.\nThe \"Print form\" button should have been defined in the AcroForm, yet it is defined in the contentstream of the PDF, meaning the button in the AcroForm has an empty text value, and this is what causes the exception.</p>\n\n<p>You can fix this by removing the print field from the AcroForm before you flatten.</p>\n"},{"comments":[{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1513873168,"post_id":47678531,"comment_id":82826215,"body_markdown":"Thanks @mkl. This is what I thought was happening. Now I know how to fix the issue.","body":"Thanks @mkl. This is what I thought was happening. Now I know how to fix the issue."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1512576358,"creation_date":1512576014,"answer_id":47678531,"question_id":47581765,"body_markdown":"Your form is Reader-enabled, i.e. it contains a usage rights digital signature by a key and certificate issued by Adobe to indicate to a regular Adobe Reader that it shall activate a number of additional features when operating on that very PDF.\r\n\r\nIf you stamp the file as in your original code, the existing PDF objects will get re-arranged and slightly changed. This breaks the usage rights signature, and Adobe Reader, recognizing that, disclaims &quot;The document has been changed since it was created and use of extended features is no longer available.&quot;\r\n\r\nIf you stamp the file in *append mode*, though, the changes are appended to the PDF as an incremental update. Thus, the signature still correctly signs its original byte range and Adobe Reader does not complain.\r\n\r\nTo activate *append mode*, use `StampingProperties` when you create your `PdfDocument`:\r\n\r\n    PdfDocument pdf = new PdfDocument(new PdfReader(inputPath), new PdfWriter(outputPath), new StampingProperties().useAppendMode());\r\n\r\n(Tested with iText 7.1.1-SNAPSHOT and Adobe Acrobat Reader DC version 2018.009.20050)\r\n\r\n---\r\n\r\nBy the way, Adobe Reader does not merely check the signature, it also tries to determine whether the changes in the incremental update don&#39;t go beyond the scope of the additional features activated by the usage rights signature.\r\n\r\nOtherwise you could simply take a small Reader-enabled PDF and in append mode replace all existing pages by your own content of choice. This of course is not in Adobe&#39;s interest...","title":"Why is my form being flattened without calling the flattenFields method?","body":"<p>Your form is Reader-enabled, i.e. it contains a usage rights digital signature by a key and certificate issued by Adobe to indicate to a regular Adobe Reader that it shall activate a number of additional features when operating on that very PDF.</p>\n\n<p>If you stamp the file as in your original code, the existing PDF objects will get re-arranged and slightly changed. This breaks the usage rights signature, and Adobe Reader, recognizing that, disclaims \"The document has been changed since it was created and use of extended features is no longer available.\"</p>\n\n<p>If you stamp the file in <em>append mode</em>, though, the changes are appended to the PDF as an incremental update. Thus, the signature still correctly signs its original byte range and Adobe Reader does not complain.</p>\n\n<p>To activate <em>append mode</em>, use <code>StampingProperties</code> when you create your <code>PdfDocument</code>:</p>\n\n<pre><code>PdfDocument pdf = new PdfDocument(new PdfReader(inputPath), new PdfWriter(outputPath), new StampingProperties().useAppendMode());\n</code></pre>\n\n<p>(Tested with iText 7.1.1-SNAPSHOT and Adobe Acrobat Reader DC version 2018.009.20050)</p>\n\n<hr>\n\n<p>By the way, Adobe Reader does not merely check the signature, it also tries to determine whether the changes in the incremental update don't go beyond the scope of the additional features activated by the usage rights signature.</p>\n\n<p>Otherwise you could simply take a small Reader-enabled PDF and in append mode replace all existing pages by your own content of choice. This of course is not in Adobe's interest...</p>\n"},{"tags":[],"owner":{"account_id":26610963,"reputation":21,"user_id":20231162,"display_name":"vitalipf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675338686,"creation_date":1675338686,"answer_id":75322763,"question_id":47581765,"body_markdown":"IllegalArgumentException issue has been fixed in iText 7.1.5.","title":"Why is my form being flattened without calling the flattenFields method?","body":"<p>IllegalArgumentException issue has been fixed in iText 7.1.5.</p>\n"}],"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47678531,"answer_count":3,"score":0,"last_activity_date":1675338686,"creation_date":1512072548,"question_id":47581765,"body_markdown":"I am testing my method with this form https://help.adobe.com/en_US/Acrobat/9.0/Samples/interactiveform_enabled.pdf\r\n\r\nIt is being called like so:\r\n\r\n    Pdf.editForm(&quot;./src/main/resources/pdfs/interactiveform_enabled.pdf&quot;, &quot;./src/main/resources/pdfs/FILLEDOUT.pdf&quot;));\r\n\r\nwhere `Pdf` is just a worker class and `editForm` is a static method.\r\n\r\nThe `editForm` method looks like this:\r\n\r\n    public static int editForm(String inputPath, String outputPath) {\r\n        try {\r\n            PdfDocument pdf = new PdfDocument(new PdfReader(inputPath), new PdfWriter(outputPath));\r\n            PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\r\n            Map&lt;String, PdfFormField&gt; m = form.getFormFields();\r\n            for (String s : m.keySet()) {\r\n                if (s.equals(&quot;Name_First&quot;)) {\r\n                    m.get(s).setValue(&quot;Tristan&quot;);\r\n                }\r\n                if (s.equals(&quot;BACHELORS DEGREE&quot;)) {\r\n                    m.get(s).setValue(&quot;Off&quot;); // On or Off\r\n                }\r\n                if (s.equals(&quot;Sex&quot;)) {\r\n                    m.get(s).setValue(&quot;FEMALE&quot;);\r\n                }\r\n                System.out.println(s);\r\n            }\r\n            pdf.close();\r\n            logger.info(&quot;Completed&quot;);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Unable to fill form &quot; + outputPath + &quot;\\n\\t&quot; + e);\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\nUnfortunately the FILLEDOUT.pdf file is no longer a form after calling this method. Am I doing something wrong?\r\n\r\nI was using [this](https://developers.itextpdf.com/content/best-itext-questions-stackoverview/interactive-forms/itext7-how-fill-out-pdf-file-programmatically-acroform-technology) resource for guidance. Notice how I am not calling the `form.flattenFields()`. If I do call that method however, I get an error of `java.lang.IllegalArgumentException`.\r\n\r\nThank you for your time.","title":"Why is my form being flattened without calling the flattenFields method?","body":"<p>I am testing my method with this form <a href=\"https://help.adobe.com/en_US/Acrobat/9.0/Samples/interactiveform_enabled.pdf\" rel=\"nofollow noreferrer\">https://help.adobe.com/en_US/Acrobat/9.0/Samples/interactiveform_enabled.pdf</a></p>\n\n<p>It is being called like so:</p>\n\n<pre><code>Pdf.editForm(\"./src/main/resources/pdfs/interactiveform_enabled.pdf\", \"./src/main/resources/pdfs/FILLEDOUT.pdf\"));\n</code></pre>\n\n<p>where <code>Pdf</code> is just a worker class and <code>editForm</code> is a static method.</p>\n\n<p>The <code>editForm</code> method looks like this:</p>\n\n<pre><code>public static int editForm(String inputPath, String outputPath) {\n    try {\n        PdfDocument pdf = new PdfDocument(new PdfReader(inputPath), new PdfWriter(outputPath));\n        PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\n        Map&lt;String, PdfFormField&gt; m = form.getFormFields();\n        for (String s : m.keySet()) {\n            if (s.equals(\"Name_First\")) {\n                m.get(s).setValue(\"Tristan\");\n            }\n            if (s.equals(\"BACHELORS DEGREE\")) {\n                m.get(s).setValue(\"Off\"); // On or Off\n            }\n            if (s.equals(\"Sex\")) {\n                m.get(s).setValue(\"FEMALE\");\n            }\n            System.out.println(s);\n        }\n        pdf.close();\n        logger.info(\"Completed\");\n    } catch (IOException e) {\n        logger.error(\"Unable to fill form \" + outputPath + \"\\n\\t\" + e);\n        return 1;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Unfortunately the FILLEDOUT.pdf file is no longer a form after calling this method. Am I doing something wrong?</p>\n\n<p>I was using <a href=\"https://developers.itextpdf.com/content/best-itext-questions-stackoverview/interactive-forms/itext7-how-fill-out-pdf-file-programmatically-acroform-technology\" rel=\"nofollow noreferrer\">this</a> resource for guidance. Notice how I am not calling the <code>form.flattenFields()</code>. If I do call that method however, I get an error of <code>java.lang.IllegalArgumentException</code>.</p>\n\n<p>Thank you for your time.</p>\n"},{"tags":["java","concurrentmodificationexception"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675291446,"post_id":75316956,"comment_id":132900048,"body_markdown":"You have a `for (String key : letters.keySet())` loop, which is iterating the map. Inside this loop you have calls to `put` in the same map. This is illegal; you cannot modify a `HashMap` while iterating over its keys/values/entries. That said, I don&#39;t understand why you&#39;re iterating over the keys in the first place, as you don&#39;t appear to use `key` anywhere.","body":"You have a <code>for (String key : letters.keySet())</code> loop, which is iterating the map. Inside this loop you have calls to <code>put</code> in the same map. This is illegal; you cannot modify a <code>HashMap</code> while iterating over its keys/values/entries. That said, I don&#39;t understand why you&#39;re iterating over the keys in the first place, as you don&#39;t appear to use <code>key</code> anywhere."},{"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"score":0,"creation_date":1675292823,"post_id":75316956,"comment_id":132900318,"body_markdown":"about `for (String key : letters.keySet())` - the idea was to keep letters and digits in array, where one letter wont be repeated and will have some integer number assigned to it. i checked how i can do this and used HashMap as a thing that can totally to what i needed. i read that to check all elements by key value i need to use that `for (String key : letters.keySet())` and in fact i have no idea how to replace it in current variant.. if i cant use that put inside this map will it be correct to make one more map with same data?","body":"about <code>for (String key : letters.keySet())</code> - the idea was to keep letters and digits in array, where one letter wont be repeated and will have some integer number assigned to it. i checked how i can do this and used HashMap as a thing that can totally to what i needed. i read that to check all elements by key value i need to use that <code>for (String key : letters.keySet())</code> and in fact i have no idea how to replace it in current variant.. if i cant use that put inside this map will it be correct to make one more map with same data?"}],"answers":[{"comments":[{"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"score":0,"creation_date":1675294009,"post_id":75317140,"comment_id":132900550,"body_markdown":"`Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();` can maximum contain 52 lines with letter and digit, also it is just a training exercise without task to make algorithm cheap and it mostly focused on JUnit","body":"<code>Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();</code> can maximum contain 52 lines with letter and digit, also it is just a training exercise without task to make algorithm cheap and it mostly focused on JUnit"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675295096,"post_id":75317140,"comment_id":132900720,"body_markdown":"&quot;_You would need to use an iterator_&quot; -- The for-each loop uses an `Iterator` behind the scenes, which is precisely where the `ConcurrentModificationException` is coming from.","body":"&quot;<i>You would need to use an iterator</i>&quot; -- The for-each loop uses an <code>Iterator</code> behind the scenes, which is precisely where the <code>ConcurrentModificationException</code> is coming from."},{"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"score":1,"creation_date":1675331943,"post_id":75317140,"comment_id":132907337,"body_markdown":"well, `putIfAbsent` also worked for me. need more practice, i didnt know about that one before i asked here - needed more understanding why it is not working good after some number of iterations","body":"well, <code>putIfAbsent</code> also worked for me. need more practice, i didnt know about that one before i asked here - needed more understanding why it is not working good after some number of iterations"}],"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675292987,"creation_date":1675292987,"answer_id":75317140,"question_id":75316956,"body_markdown":"letters.keySet() is returning a set which is backed by the keys of the HashMap, which you then alter by calling put(). So the conflict here is between the keySet and the keys of the map. You would need to use an iterator, or extract the keys into a separate collection, by copying the keySet each time through the outer loop. Honestly, the algorithm is sounding kind of expensive, though I haven&#39;t really tried to work out a better approach...","title":"ConcurrentModificationException during putting new element into HashMap","body":"<p>letters.keySet() is returning a set which is backed by the keys of the HashMap, which you then alter by calling put(). So the conflict here is between the keySet and the keys of the map. You would need to use an iterator, or extract the keys into a separate collection, by copying the keySet each time through the outer loop. Honestly, the algorithm is sounding kind of expensive, though I haven't really tried to work out a better approach...</p>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675294665,"post_id":75317256,"comment_id":132900658,"body_markdown":"Glad you could get it to work :). But shouldn&#39;t that compute-if-absent call look more like `computeIfAbsent(String.valueOf(input.charAt(i)), key -&gt; numberOfLettersInWord(input, key))`? I believe what you have in the answer should be failing to compile, unless `numberOfLettersInWord` is returning a `Function`.","body":"Glad you could get it to work :). But shouldn&#39;t that compute-if-absent call look more like <code>computeIfAbsent(String.valueOf(input.charAt(i)), key -&gt; numberOfLettersInWord(input, key))</code>? I believe what you have in the answer should be failing to compile, unless <code>numberOfLettersInWord</code> is returning a <code>Function</code>."},{"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"score":0,"creation_date":1675295342,"post_id":75317256,"comment_id":132900763,"body_markdown":"`numberOfLettersInWord` returns only Integer digit , after this code i just use letters to check that results i got are acceptable ror my task. not sure `computeIfAbsent` is ok for this case... i have word of `input.length()`, i&#39;m cheching that its letters are added into `letters` in one copy and add how many times this letter is present in word","body":"<code>numberOfLettersInWord</code> returns only Integer digit , after this code i just use letters to check that results i got are acceptable ror my task. not sure <code>computeIfAbsent</code> is ok for this case... i have word of <code>input.length()</code>, i&#39;m cheching that its letters are added into <code>letters</code> in one copy and add how many times this letter is present in word"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675295895,"post_id":75317256,"comment_id":132900842,"body_markdown":"`computeIfAbsent` is essentially the same as `if (!containsKey)` -&gt; `put`, which is what you have in your question, so that should be fine. My issue is that the second argument to `computeIfAbsent` must be a `Function` (which I implement as a lambda expression in my previous comment), but you&#39;re apparently passing an `Integer`.","body":"<code>computeIfAbsent</code> is essentially the same as <code>if (!containsKey)</code> -&gt; <code>put</code>, which is what you have in your question, so that should be fine. My issue is that the second argument to <code>computeIfAbsent</code> must be a <code>Function</code> (which I implement as a lambda expression in my previous comment), but you&#39;re apparently passing an <code>Integer</code>."}],"tags":[],"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675294138,"creation_date":1675294138,"answer_id":75317256,"question_id":75316956,"body_markdown":"ok, i think i solved it:\r\n\r\n    Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\r\n    letters.put(String.valueOf(input.charAt(0)),numberOfLettersInWord(input,input.charAt(0)));\r\n    for(int i = 0; i &lt; input.length(); i++) {\r\n       letters.putIfAbsent(String.valueOf(input.charAt(i)),numberOfLettersInWord(input,input.charAt(i)));\r\n    }\r\n\r\ni removed some extra code and it started work, even all tests passed","title":"ConcurrentModificationException during putting new element into HashMap","body":"<p>ok, i think i solved it:</p>\n<pre><code>Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\nletters.put(String.valueOf(input.charAt(0)),numberOfLettersInWord(input,input.charAt(0)));\nfor(int i = 0; i &lt; input.length(); i++) {\n   letters.putIfAbsent(String.valueOf(input.charAt(i)),numberOfLettersInWord(input,input.charAt(i)));\n}\n</code></pre>\n<p>i removed some extra code and it started work, even all tests passed</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675338516,"creation_date":1675338516,"answer_id":75322732,"question_id":75316956,"body_markdown":"# Why the ConcurrentModificationException?\r\n\r\nYou&#39;re getting a `ConcurrentModificationException` because you are structurally modifying the map while iterating its key set.\r\n\r\n## Documentation\r\n\r\nHere&#39;s what [the documentation][1] of `HashMap` says on the subject:\r\n\r\n&gt; The iterators returned by all of this class&#39;s &quot;collection view methods&quot; are _fail-fast_: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own `remove` method, the iterator will throw a [`ConcurrentModificationException`][2]. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.\r\n\r\nThose &quot;collection view methods&quot; it mentions are the following:\r\n\r\n1. `HashMap#keySet()`, which returns a `Set&lt;K&gt;`.\r\n\r\n2. `HashMap#values()`, which returns a `Collection&lt;V&gt;`.\r\n\r\n3. `HashMap#entrySet()`, which returns a `Set&lt;Map.Entry&lt;K, V&gt;&gt;`.\r\n\r\n#### For-Each Loops\r\n\r\nIf you aren&#39;t aware, a for-each loop uses an `Iterator` behind the scenes. In other words, something like this:\r\n\r\n```lang-java\r\nList&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nfor (String element : list) {\r\n    System.out.println(element);\r\n}\r\n```\r\n\r\nIs compiled down to:\r\n\r\n```lang-java\r\nList&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); ) {\r\n    String element = iterator.next();\r\n    System.out.println(element);\r\n}\r\n```\r\n\r\n## Your Code\r\n\r\nYou have a for-each loop iterating over the key set of your map. Inside this for-each loop you have a call to `put`, which is a structurally-modifying operation, on the same map.\r\n\r\n&gt; ```lang-java\r\n&gt; for (String key : letters.keySet()) {\r\n&gt;    if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\r\n&gt;       letters.put(String.valueOf(input.charAt(i)),\r\n&gt;                   numberOfLettersInWord(input,input.charAt(i)));\r\n&gt;    } else continue;\r\n&gt;    System.out.println(letters);\r\n&gt; }\r\n&gt; ```\r\n\r\nThus, a `ConcurrentModificationException` is likely to be thrown. In your case it&#39;s all but guaranteed.\r\n\r\n---\r\n\r\n# Solution\r\n\r\nYou are apparently trying to count the frequencies of each letter in a string. This does not require you to loop over the key set of the map. The fact you don&#39;t actually use the `key` variable anywhere inside the for-each loop is a good indicator of this. This means you can simply get rid of the for-each loop and your code should work just fine.\r\n\r\n\r\n```lang-java\r\nMap&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\r\nletters.put(String.valueOf(input.charAt(0)), numberOfLettersInWord(input,input.charAt(0)));\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n    if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\r\n        letters.put(String.valueOf(input.charAt(i)), numberOfLettersInWord(input,input.charAt(i)));\r\n    }\r\n}\r\n```\r\n\r\nNote that call to `put` if the map does not already contain the key could be replaced with a call to [`computeIfAbsent`][3]. That method takes the key and a `Function` that computes the value if the key is not already contained in the map (or if the key is currently mapped to `null`). It would look something like this:\r\n\r\n```lang-java\r\nMap&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\r\nletters.put(String.valueOf(input.charAt(0)), numberOfLettersInWord(input,input.charAt(0)));\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n    letters.computeIfAbsent(String.valueOf(input.charAt(i)), key -&gt; numberOfLettersInWord(input, key));\r\n}\r\n```\r\n\r\n&lt;sup&gt;_**Note:** The second argument the above `computeIfAbsent` call is a `Function` implemented via a [lambda expression][4]._&lt;/sup&gt;\r\n\r\n## Potential Improvements\r\n\r\nThere may be a couple of improvements you could make to your code.\r\n\r\n### Change Key Type to Character\r\n\r\nGiven you&#39;re counting the frequency of _characters_, it would make sense to represent that in the code by using a `Map&lt;Character, Integer&gt;` instead of a `Map&lt;String, Integer&gt;`.\r\n\r\n### Count as You Go\r\n\r\nI can only assume that `numberOfLettersInWord` loops over the input string and counts how many times the given character occurs in said string. This means you loop over the string for each character in the string, resulting in an inefficient algorithm. Though you do have optimization where you only compute the frequency of a character if you haven&#39;t already done so for that character, so that improves things a little.\r\n\r\nHowever, you&#39;re already looping over all the characters in the input string. You might as well count the frequency of each character as you go. It could look something like:\r\n\r\n```lang-java\r\nString input = ...;\r\n\r\nMap&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n    Character key = input.charAt(i);\r\n\r\n    Integer value = frequencies.get(key);\r\n    if (value == null) {\r\n        frequencies.put(key, 1);\r\n    } else {\r\n        frequencies.put(key, value + 1);\r\n    }\r\n}\r\n```\r\n\r\n#### Use `compute` to Count\r\n\r\nThe body of that `for` loop can be replaced with a call to [`compute`][5]:\r\n\r\n\r\n```lang-java\r\nString input = ...;\r\n\r\nMap&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n    frequencies.compute(input.charAt(i), (key, value) -&gt; {\r\n        if (value == null) {\r\n            return 1;\r\n        } else {\r\n            return value + 1;\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nAnd that lambda expression (implementing a `BiFunction`) can be &quot;simplified&quot; even more:\r\n\r\n```lang-java\r\n(key, value) -&gt; value == null ? 1 : value + 1\r\n```\r\n\r\n#### Use `merge` to Count\r\n\r\nAnother option is to use [`merge`][6]:\r\n\r\n```lang-java\r\nfrequencies.merge(input.charAt(i), 1, Integer::sum);\r\n```\r\n\r\n&lt;sup&gt;_**Note:** The `Integer::sum` is a [method reference][7] implementing a `BiFunction`._&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ConcurrentModificationException.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#computeIfAbsent(K,java.util.function.Function)\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#compute(K,java.util.function.BiFunction)\r\n  [6]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#merge(K,V,java.util.function.BiFunction)\r\n  [7]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"ConcurrentModificationException during putting new element into HashMap","body":"<h1>Why the ConcurrentModificationException?</h1>\n<p>You're getting a <code>ConcurrentModificationException</code> because you are structurally modifying the map while iterating its key set.</p>\n<h2>Documentation</h2>\n<p>Here's what <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the documentation</a> of <code>HashMap</code> says on the subject:</p>\n<blockquote>\n<p>The iterators returned by all of this class's &quot;collection view methods&quot; are <em>fail-fast</em>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own <code>remove</code> method, the iterator will throw a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\"><code>ConcurrentModificationException</code></a>. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.</p>\n</blockquote>\n<p>Those &quot;collection view methods&quot; it mentions are the following:</p>\n<ol>\n<li><p><code>HashMap#keySet()</code>, which returns a <code>Set&lt;K&gt;</code>.</p>\n</li>\n<li><p><code>HashMap#values()</code>, which returns a <code>Collection&lt;V&gt;</code>.</p>\n</li>\n<li><p><code>HashMap#entrySet()</code>, which returns a <code>Set&lt;Map.Entry&lt;K, V&gt;&gt;</code>.</p>\n</li>\n</ol>\n<h4>For-Each Loops</h4>\n<p>If you aren't aware, a for-each loop uses an <code>Iterator</code> behind the scenes. In other words, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nfor (String element : list) {\n    System.out.println(element);\n}\n</code></pre>\n<p>Is compiled down to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); ) {\n    String element = iterator.next();\n    System.out.println(element);\n}\n</code></pre>\n<h2>Your Code</h2>\n<p>You have a for-each loop iterating over the key set of your map. Inside this for-each loop you have a call to <code>put</code>, which is a structurally-modifying operation, on the same map.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>for (String key : letters.keySet()) {\n   if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\n      letters.put(String.valueOf(input.charAt(i)),\n                  numberOfLettersInWord(input,input.charAt(i)));\n   } else continue;\n   System.out.println(letters);\n}\n</code></pre>\n</blockquote>\n<p>Thus, a <code>ConcurrentModificationException</code> is likely to be thrown. In your case it's all but guaranteed.</p>\n<hr />\n<h1>Solution</h1>\n<p>You are apparently trying to count the frequencies of each letter in a string. This does not require you to loop over the key set of the map. The fact you don't actually use the <code>key</code> variable anywhere inside the for-each loop is a good indicator of this. This means you can simply get rid of the for-each loop and your code should work just fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\nletters.put(String.valueOf(input.charAt(0)), numberOfLettersInWord(input,input.charAt(0)));\nfor (int i = 0; i &lt; input.length(); i++) {\n    if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\n        letters.put(String.valueOf(input.charAt(i)), numberOfLettersInWord(input,input.charAt(i)));\n    }\n}\n</code></pre>\n<p>Note that call to <code>put</code> if the map does not already contain the key could be replaced with a call to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>computeIfAbsent</code></a>. That method takes the key and a <code>Function</code> that computes the value if the key is not already contained in the map (or if the key is currently mapped to <code>null</code>). It would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\nletters.put(String.valueOf(input.charAt(0)), numberOfLettersInWord(input,input.charAt(0)));\nfor (int i = 0; i &lt; input.length(); i++) {\n    letters.computeIfAbsent(String.valueOf(input.charAt(i)), key -&gt; numberOfLettersInWord(input, key));\n}\n</code></pre>\n<p><sup><em><strong>Note:</strong> The second argument the above <code>computeIfAbsent</code> call is a <code>Function</code> implemented via a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>.</em></sup></p>\n<h2>Potential Improvements</h2>\n<p>There may be a couple of improvements you could make to your code.</p>\n<h3>Change Key Type to Character</h3>\n<p>Given you're counting the frequency of <em>characters</em>, it would make sense to represent that in the code by using a <code>Map&lt;Character, Integer&gt;</code> instead of a <code>Map&lt;String, Integer&gt;</code>.</p>\n<h3>Count as You Go</h3>\n<p>I can only assume that <code>numberOfLettersInWord</code> loops over the input string and counts how many times the given character occurs in said string. This means you loop over the string for each character in the string, resulting in an inefficient algorithm. Though you do have optimization where you only compute the frequency of a character if you haven't already done so for that character, so that improves things a little.</p>\n<p>However, you're already looping over all the characters in the input string. You might as well count the frequency of each character as you go. It could look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = ...;\n\nMap&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; input.length(); i++) {\n    Character key = input.charAt(i);\n\n    Integer value = frequencies.get(key);\n    if (value == null) {\n        frequencies.put(key, 1);\n    } else {\n        frequencies.put(key, value + 1);\n    }\n}\n</code></pre>\n<h4>Use <code>compute</code> to Count</h4>\n<p>The body of that <code>for</code> loop can be replaced with a call to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>compute</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = ...;\n\nMap&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; input.length(); i++) {\n    frequencies.compute(input.charAt(i), (key, value) -&gt; {\n        if (value == null) {\n            return 1;\n        } else {\n            return value + 1;\n        }\n    });\n}\n</code></pre>\n<p>And that lambda expression (implementing a <code>BiFunction</code>) can be &quot;simplified&quot; even more:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(key, value) -&gt; value == null ? 1 : value + 1\n</code></pre>\n<h4>Use <code>merge</code> to Count</h4>\n<p>Another option is to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frequencies.merge(input.charAt(i), 1, Integer::sum);\n</code></pre>\n<p><sup><em><strong>Note:</strong> The <code>Integer::sum</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> implementing a <code>BiFunction</code>.</em></sup></p>\n"}],"owner":{"account_id":21417066,"reputation":13,"user_id":15776125,"display_name":"Ra&#39;Uko Lord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75317256,"answer_count":3,"score":0,"last_activity_date":1675338516,"creation_date":1675291252,"question_id":75316956,"body_markdown":"I have some code:\r\n\r\n```\r\nMap&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\r\nletters.put(String.valueOf(input.charAt(0)),\r\n            numberOfLettersInWord(input,input.charAt(0)));\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n   for (String key : letters.keySet()) {\r\n      if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\r\n         letters.put(String.valueOf(input.charAt(i)),\r\n                     numberOfLettersInWord(input,input.charAt(i)));\r\n      } else continue;\r\n      System.out.println(letters);\r\n   }\r\n   System.out.println(1);\r\n}\r\nSystem.out.println(2);\r\n```\r\n\r\nThe main idea in the code - there is some word in String input(not empty, not null, with no non-letter symbols), need to count how many times each letter can be found there.  Counting works OK (in the `numberOfLettersInWord` method) but when I try to add letters and digits to `HashMap&lt;String, Integer&gt;` some problems happens - it adds all letters and their numbers correctly but some error pops up.   For this code it will show:\r\n\r\n```\r\n1\r\n1\r\n{a=4, b=4}\r\n1\r\n1\r\n1\r\n1\r\n{a=4, b=4, c=3}\r\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1579)\r\n\tat java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1602)\r\n\tat LetterCounter.count(LetterCounter.java:25)\r\n\tat LetterCounter.main(LetterCounter.java:11)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nFrom what I see there is something happens when there are no new letters to be added.  Can you explain why this happens and how to solve this? \r\n\r\nIt supposed to have some more digit outputs after the `{a=4, b=4, c=3}` was shown but it ends with the exception (it is not really necessary, just an indicator where it stops working...)\r\n\r\nThe word used in this run was `String input = &quot;aabbabcccba&quot;;` \r\n\r\n`numberOfLettersInWord` returns `Integer` value of how many times letter `input.charAt(i)` was found in word `input`(this works ok)\r\n\r\nline 2 in code fragment was used just to make the `HashMap` contain at least one line (null and empty checks already done by this moment and work well)\r\n\r\nI saw people had problems with `hashmap.remove()` in https://stackoverflow.com/questions/602636/why-is-a-concurrentmodificationexception-thrown-and-how-to-debug-it but I am not sure this is the same-same thing that can be solved with that answer.\r\nAlso I am not sure this answer is applicable for my case https://stackoverflow.com/questions/39921250/concurrentmodificationexception-hashmap","title":"ConcurrentModificationException during putting new element into HashMap","body":"<p>I have some code:</p>\n<pre><code>Map&lt;String, Integer&gt; letters = new HashMap&lt;String, Integer&gt;();\nletters.put(String.valueOf(input.charAt(0)),\n            numberOfLettersInWord(input,input.charAt(0)));\nfor (int i = 0; i &lt; input.length(); i++) {\n   for (String key : letters.keySet()) {\n      if (!letters.containsKey(String.valueOf(input.charAt(i)))) {\n         letters.put(String.valueOf(input.charAt(i)),\n                     numberOfLettersInWord(input,input.charAt(i)));\n      } else continue;\n      System.out.println(letters);\n   }\n   System.out.println(1);\n}\nSystem.out.println(2);\n</code></pre>\n<p>The main idea in the code - there is some word in String input(not empty, not null, with no non-letter symbols), need to count how many times each letter can be found there.  Counting works OK (in the <code>numberOfLettersInWord</code> method) but when I try to add letters and digits to <code>HashMap&lt;String, Integer&gt;</code> some problems happens - it adds all letters and their numbers correctly but some error pops up.   For this code it will show:</p>\n<pre><code>1\n1\n{a=4, b=4}\n1\n1\n1\n1\n{a=4, b=4, c=3}\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1579)\n    at java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1602)\n    at LetterCounter.count(LetterCounter.java:25)\n    at LetterCounter.main(LetterCounter.java:11)\n\nProcess finished with exit code 1\n</code></pre>\n<p>From what I see there is something happens when there are no new letters to be added.  Can you explain why this happens and how to solve this?</p>\n<p>It supposed to have some more digit outputs after the <code>{a=4, b=4, c=3}</code> was shown but it ends with the exception (it is not really necessary, just an indicator where it stops working...)</p>\n<p>The word used in this run was <code>String input = &quot;aabbabcccba&quot;;</code></p>\n<p><code>numberOfLettersInWord</code> returns <code>Integer</code> value of how many times letter <code>input.charAt(i)</code> was found in word <code>input</code>(this works ok)</p>\n<p>line 2 in code fragment was used just to make the <code>HashMap</code> contain at least one line (null and empty checks already done by this moment and work well)</p>\n<p>I saw people had problems with <code>hashmap.remove()</code> in <a href=\"https://stackoverflow.com/questions/602636/why-is-a-concurrentmodificationexception-thrown-and-how-to-debug-it\">Why is a ConcurrentModificationException thrown and how to debug it</a> but I am not sure this is the same-same thing that can be solved with that answer.\nAlso I am not sure this answer is applicable for my case <a href=\"https://stackoverflow.com/questions/39921250/concurrentmodificationexception-hashmap\">ConcurrentModificationException - HashMap</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9542,"page":681,"page_size":100}
