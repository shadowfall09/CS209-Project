{"items":[{"tags":["java","android","sensors","accelerometer","foreground-service"],"owner":{"account_id":13393946,"reputation":23,"user_id":9665518,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699518255,"creation_date":1699346826,"question_id":77436697,"body_markdown":"I got this piece of code that counts steps using accelerometer, but it only works when the app is in the foreground:\r\n\r\n\tSensorEventListener sel = new SensorEventListener() {\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    }\r\n    public void onSensorChanged(SensorEvent event) {\r\n        float[] values = event.values;\r\n        float x = values[0];\r\n        float y = values[1];\r\n        float z = values[2];\r\n        // WITHOUT GRAVITY\r\n        double magnitude = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n        // WITH EARTH&#39;S GRAVITY INCLUDED\r\n        // double magnitude = (Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))) / (SensorManager.GRAVITY_EARTH * SensorManager.GRAVITY_EARTH);\r\n        double magnitudeDelta = magnitude - magnitudePrevious;\r\n        magnitudePrevious = magnitude;\r\n\r\n        if (magnitudeDelta &gt; 7) { // adjust the threshold based on your device\r\n            numSteps++;\r\n            Log.d(&quot;DELTA:&quot;, String.valueOf(magnitudeDelta));\r\n        }\r\n        counter.setText(String.valueOf(numSteps));\r\n    }\r\n};\r\n\r\n\r\nI&#39;d like to know how to implement this using something like a foreground service, so that it keeps running in the background and the app can still get the count from it even when it restarts. I did some reading and there are no clear answers to that one, some say that the foreground service may be killed by the system if it deems it necessary because of battery drain for example. Please advise how to best go about this implementation.\r\n\r\nI wonder if keeping the sensor running in bothonStop() and onPause() would be feasible, or would the system kill it anyway?","title":"How to implement step detector in Android that keeps working in the background","body":"<p>I got this piece of code that counts steps using accelerometer, but it only works when the app is in the foreground:</p>\n<pre><code>SensorEventListener sel = new SensorEventListener() {\npublic void onAccuracyChanged(Sensor sensor, int accuracy) {\n}\npublic void onSensorChanged(SensorEvent event) {\n    float[] values = event.values;\n    float x = values[0];\n    float y = values[1];\n    float z = values[2];\n    // WITHOUT GRAVITY\n    double magnitude = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n    // WITH EARTH'S GRAVITY INCLUDED\n    // double magnitude = (Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))) / (SensorManager.GRAVITY_EARTH * SensorManager.GRAVITY_EARTH);\n    double magnitudeDelta = magnitude - magnitudePrevious;\n    magnitudePrevious = magnitude;\n\n    if (magnitudeDelta &gt; 7) { // adjust the threshold based on your device\n        numSteps++;\n        Log.d(&quot;DELTA:&quot;, String.valueOf(magnitudeDelta));\n    }\n    counter.setText(String.valueOf(numSteps));\n}\n</code></pre>\n<p>};</p>\n<p>I'd like to know how to implement this using something like a foreground service, so that it keeps running in the background and the app can still get the count from it even when it restarts. I did some reading and there are no clear answers to that one, some say that the foreground service may be killed by the system if it deems it necessary because of battery drain for example. Please advise how to best go about this implementation.</p>\n<p>I wonder if keeping the sensor running in bothonStop() and onPause() would be feasible, or would the system kill it anyway?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":1427644,"reputation":47321,"user_id":1350762,"display_name":"maba"},"score":0,"creation_date":1349762489,"post_id":12792833,"comment_id":17297693,"body_markdown":"The port does not seem to be open. What does your applications log file say? Normally it would say something like this: `Listening for transport dt_socket at address: 9009`.","body":"The port does not seem to be open. What does your applications log file say? Normally it would say something like this: <code>Listening for transport dt_socket at address: 9009</code>."},{"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"score":1,"creation_date":1349762700,"post_id":12792833,"comment_id":17297754,"body_markdown":"@maba : The port was open as I had run telnet 192.168.2.100 9009 .However netstat was not working so that meant there was a problem in the glassfish configuration.So I  added the following configuration parameter in the java-config in glassfish in my answer below and it worked.Thank you for your contribution.","body":"@maba : The port was open as I had run telnet 192.168.2.100 9009 .However netstat was not working so that meant there was a problem in the glassfish configuration.So I  added the following configuration parameter in the java-config in glassfish in my answer below and it worked.Thank you for your contribution."},{"owner":{"account_id":9599886,"reputation":3726,"user_id":7127824,"accept_rate":100,"display_name":"techkuz"},"score":0,"creation_date":1570189432,"post_id":12792833,"comment_id":102844484,"body_markdown":"make sure you are using correct `run configuration`","body":"make sure you are using correct <code>run configuration</code>"}],"answers":[{"comments":[{"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"score":74,"creation_date":1467319891,"post_id":12793700,"comment_id":63697253,"body_markdown":"What if you&#39;re not using glassfish?","body":"What if you&#39;re not using glassfish?"}],"tags":[],"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"comment_count":1,"down_vote_count":3,"up_vote_count":12,"is_accepted":true,"score":9,"last_activity_date":1349779004,"creation_date":1349762579,"answer_id":12793700,"question_id":12792833,"body_markdown":"Add the following parameter debug-enabled=&quot;true&quot; to this line in the glassfish configuration.\r\nExample:\r\n\r\n    &lt;java-config  debug-options=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009&quot; debug-enabled=&quot;true&quot;\r\n\t  system-classpath=&quot;&quot; native-library-path-prefix=&quot;D:\\Project\\lib\\windows\\64bit&quot; classpath-suffix=&quot;&quot;&gt;\r\n\r\nStart and stop the glassfish domain or service which was using this configuration.\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Add the following parameter debug-enabled=\"true\" to this line in the glassfish configuration.\nExample:</p>\n\n<pre><code>&lt;java-config  debug-options=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009\" debug-enabled=\"true\"\n  system-classpath=\"\" native-library-path-prefix=\"D:\\Project\\lib\\windows\\64bit\" classpath-suffix=\"\"&gt;\n</code></pre>\n\n<p>Start and stop the glassfish domain or service which was using this configuration.</p>\n"},{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354655280,"creation_date":1354655280,"answer_id":13711939,"question_id":12792833,"body_markdown":"I&#39;m hoping your problem has been solved by now.  If not, try this...  It looks like you have `server=y` for both your app and IDEA.  IDEA should probably be `server=n`.  Also, the (IDEA) client should have an address that includes both the host name and the port, e.g., `address=127.0.0.1:9009`.","title":"Unable to open debugger port in IntelliJ","body":"<p>I'm hoping your problem has been solved by now.  If not, try this...  It looks like you have <code>server=y</code> for both your app and IDEA.  IDEA should probably be <code>server=n</code>.  Also, the (IDEA) client should have an address that includes both the host name and the port, e.g., <code>address=127.0.0.1:9009</code>.</p>\n"},{"tags":[],"owner":{"account_id":5173326,"reputation":11,"user_id":4141232,"display_name":"Ullas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413285338,"creation_date":1413285338,"answer_id":26359490,"question_id":12792833,"body_markdown":"This one worked for me--\r\nIf the issue still persists (in case you are not using a glassFish server), then close your JIdea and stop the server. This will disable the ports connectivity. Then start your server and JIdea, this will start fresh connectivity with the ports, resolving the issue.","title":"Unable to open debugger port in IntelliJ","body":"<p>This one worked for me--\nIf the issue still persists (in case you are not using a glassFish server), then close your JIdea and stop the server. This will disable the ports connectivity. Then start your server and JIdea, this will start fresh connectivity with the ports, resolving the issue.</p>\n"},{"comments":[{"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"score":0,"creation_date":1467319921,"post_id":30255425,"comment_id":63697266,"body_markdown":"What if you&#39;re not using the default configuration, and instead made a custom remote configuration?","body":"What if you&#39;re not using the default configuration, and instead made a custom remote configuration?"},{"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"score":0,"creation_date":1467446401,"post_id":30255425,"comment_id":63744369,"body_markdown":"You mean using remote debugger on localhost:8000 ? If so you need to specify debugging options in the JVM of your application (Run), but the problem is the same, you need a free port.","body":"You mean using remote debugger on localhost:8000 ? If so you need to specify debugging options in the JVM of your application (Run), but the problem is the same, you need a free port."},{"owner":{"account_id":158101,"reputation":2453,"user_id":376489,"accept_rate":89,"display_name":"MrColes"},"score":0,"creation_date":1480193120,"post_id":30255425,"comment_id":68864798,"body_markdown":"@Pleymor I’m not seeing any “Startup/Connection” tab from Run &gt; Edit Configurations in my Android Studio 2.2.2 on Mac OSX. Has this changed?","body":"@Pleymor I’m not seeing any “Startup/Connection” tab from Run &gt; Edit Configurations in my Android Studio 2.2.2 on Mac OSX. Has this changed?"},{"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"score":0,"creation_date":1480428553,"post_id":30255425,"comment_id":68951234,"body_markdown":"@MrColes I guess it works only for `IntelliJ IDEA` and not `Android Studio`","body":"@MrColes I guess it works only for <code>IntelliJ IDEA</code> and not <code>Android Studio</code>"},{"owner":{"account_id":121712,"reputation":5127,"user_id":315001,"accept_rate":88,"display_name":"arviman"},"score":0,"creation_date":1498287042,"post_id":30255425,"comment_id":76449307,"body_markdown":"Worked with eclipse for me. I encountered the issue after putting Idea at 5005 but for some reason i wasn&#39;t even able to use Idea again to do a run. Changed the config to 5006 and then it worked.","body":"Worked with eclipse for me. I encountered the issue after putting Idea at 5005 but for some reason i wasn&#39;t even able to use Idea again to do a run. Changed the config to 5006 and then it worked."}],"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"comment_count":5,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1591049443,"creation_date":1431680289,"answer_id":30255425,"question_id":12792833,"body_markdown":"You may have to change the debugger port if your port is already used by another program. To do so:\r\n\r\n - Run\r\n - Edit Configurations\r\n - Startup/Connection tab\r\n - Debug\r\n - Change the port here\r\n\r\n---\r\n\r\nOr, maybe in other versions:\r\n\r\n - Run\r\n - Edit Configurations\r\n - Remote &gt; Remote debug in the list on the left\r\n - Configuration tab, Settings section\r\n - Port: change the port here\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>You may have to change the debugger port if your port is already used by another program. To do so:</p>\n\n<ul>\n<li>Run</li>\n<li>Edit Configurations</li>\n<li>Startup/Connection tab</li>\n<li>Debug</li>\n<li>Change the port here</li>\n</ul>\n\n<hr>\n\n<p>Or, maybe in other versions:</p>\n\n<ul>\n<li>Run</li>\n<li>Edit Configurations</li>\n<li>Remote > Remote debug in the list on the left</li>\n<li>Configuration tab, Settings section</li>\n<li>Port: change the port here</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":295295,"reputation":1835,"user_id":599634,"accept_rate":87,"display_name":"sichinumi"},"score":1,"creation_date":1614211618,"post_id":39348224,"comment_id":117319989,"body_markdown":"This solved it for me as well after hours of banging my head on the wall, this is absurd. Why is this not mentioned in any of the documentation??? As far as I&#39;m concerned, assuming all the other directions were followed correctly, this is the #1 real issue with remote debugging with IntelliJ, it just can&#39;t grok localhost properly.","body":"This solved it for me as well after hours of banging my head on the wall, this is absurd. Why is this not mentioned in any of the documentation??? As far as I&#39;m concerned, assuming all the other directions were followed correctly, this is the #1 real issue with remote debugging with IntelliJ, it just can&#39;t grok localhost properly."},{"owner":{"account_id":2628094,"reputation":304,"user_id":2274709,"display_name":"chrosciu"},"score":0,"creation_date":1632478998,"post_id":39348224,"comment_id":122509349,"body_markdown":"If you are working behind the VPN and entering 127.0.0.1 does not solve the issue, try also with IP assigned to you by VPN provider (worked in my case)","body":"If you are working behind the VPN and entering 127.0.0.1 does not solve the issue, try also with IP assigned to you by VPN provider (worked in my case)"}],"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1473162161,"creation_date":1473162161,"answer_id":39348224,"question_id":12792833,"body_markdown":"I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you&#39;re using this hostname. ","title":"Unable to open debugger port in IntelliJ","body":"<p>I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name \"localhost\", in case you're using this hostname. </p>\n"},{"tags":[],"owner":{"account_id":1475885,"reputation":2704,"user_id":1386273,"display_name":"ashario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519513354,"creation_date":1489030269,"answer_id":42686144,"question_id":12792833,"body_markdown":"For me, the problem was that catalina.sh didnt have execute permissions. The &quot;Unable to open debugger port in intellij&quot; message appeared in Intellij, but it sort of masked the &#39;could not execute catalina.sh&#39; error that appeared in the logs immediately prior.","title":"Unable to open debugger port in IntelliJ","body":"<p>For me, the problem was that catalina.sh didnt have execute permissions. The \"Unable to open debugger port in intellij\" message appeared in Intellij, but it sort of masked the 'could not execute catalina.sh' error that appeared in the logs immediately prior.</p>\n"},{"tags":[],"owner":{"account_id":3488075,"reputation":9,"user_id":2918422,"display_name":"suraj kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493101203,"creation_date":1493101203,"answer_id":43603049,"question_id":12792833,"body_markdown":"Answer is pretty simple,\r\nI also faced the problem finally I got perfect solution.\r\n[Create Debug][1]\r\n  [1]: https://i.stack.imgur.com/jJv7P.jpg\r\n\r\n[Create Remote debug with following configuration][2]\r\n  [2]: https://i.stack.imgur.com/GQBjj.jpg\r\n\r\nFirstly run by debug.\r\nIt gives you waitng for socket 5005\r\nthen run with remote debug\r\n\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Answer is pretty simple,\nI also faced the problem finally I got perfect solution.\n<a href=\"https://i.stack.imgur.com/jJv7P.jpg\" rel=\"nofollow noreferrer\">Create Debug</a>\n<a href=\"https://i.stack.imgur.com/GQBjj.jpg\" rel=\"nofollow noreferrer\">Create Remote debug with following configuration</a>\nFirstly run by debug.\nIt gives you waitng for socket 5005\nthen run with remote debug</p>\n"},{"tags":[],"owner":{"account_id":4333893,"reputation":3295,"user_id":3538581,"display_name":"Rajesh Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497041407,"creation_date":1497041407,"answer_id":44466494,"question_id":12792833,"body_markdown":"Try to connect with telnet &lt;ip&gt; &lt;port&gt;, if it connects then it shows below:\r\n \r\n$telnet 10.238.136.165 9999\r\nTrying 10.238.136.165...\r\nConnected to 10.238.136.165.\r\nEscape character is &#39;^]&#39;.\r\nConnection closed by foreign host.\r\n\r\nIf port is not available (either because someone else is already connected to it or the port is not open etc) then it shows something like it shows like below: \r\n\r\n$telnet 10.238.136.165 9999\r\nTrying 10.238.136.165...\r\ntelnet: connect to address 10.238.136.165: Connection refused\r\ntelnet: Unable to connect to remote host\r\n\r\nSo I think one needs to see whether:\r\n\r\n- the application is property listening to port or not \r\n\r\n- or someone else has already connected to it\r\n\r\nAlso try to connect on that m/c itself first like \r\n$telnet localhost 9999\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Try to connect with telnet  , if it connects then it shows below:</p>\n\n<p>$telnet 10.238.136.165 9999\nTrying 10.238.136.165...\nConnected to 10.238.136.165.\nEscape character is '^]'.\nConnection closed by foreign host.</p>\n\n<p>If port is not available (either because someone else is already connected to it or the port is not open etc) then it shows something like it shows like below: </p>\n\n<p>$telnet 10.238.136.165 9999\nTrying 10.238.136.165...\ntelnet: connect to address 10.238.136.165: Connection refused\ntelnet: Unable to connect to remote host</p>\n\n<p>So I think one needs to see whether:</p>\n\n<ul>\n<li><p>the application is property listening to port or not </p></li>\n<li><p>or someone else has already connected to it</p></li>\n</ul>\n\n<p>Also try to connect on that m/c itself first like \n$telnet localhost 9999</p>\n"},{"tags":[],"owner":{"account_id":2712329,"reputation":1,"user_id":2340474,"display_name":"Amit Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522828190,"creation_date":1522793454,"answer_id":49639866,"question_id":12792833,"body_markdown":"Run your Spring Boot application with the given command to enable debugging on port 6006 while the server is up on port 8090:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&#39;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=6006&#39; -Dserver.port=8090","title":"Unable to open debugger port in IntelliJ","body":"<p>Run your Spring Boot application with the given command to enable debugging on port 6006 while the server is up on port 8090:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments='-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=6006' -Dserver.port=8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712329,"reputation":1,"user_id":2340474,"display_name":"Amit Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522797721,"creation_date":1522797721,"answer_id":49640470,"question_id":12792833,"body_markdown":"**Set the MAVEN_OPTS. It should work !!**\r\n\r\nexport MAVEN_OPTS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4000,server=y,suspend=n&quot;\r\n\r\n\r\nmvn spring-boot:run  -Dserver.port=8090","title":"Unable to open debugger port in IntelliJ","body":"<p><strong>Set the MAVEN_OPTS. It should work !!</strong></p>\n\n<p>export MAVEN_OPTS=\"-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4000,server=y,suspend=n\"</p>\n\n<p>mvn spring-boot:run  -Dserver.port=8090</p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532638281,"creation_date":1532638281,"answer_id":51547337,"question_id":12792833,"body_markdown":"This error can happen Tomcat is already running.  So make sure Tomcat isn&#39;t running in the background if you&#39;ve asked Intellij to start it up ( default ).\r\n\r\nAlso, check the full output window for more errors.  As a more useful error may have preceded this one ( as was the case with my configuration just now )","title":"Unable to open debugger port in IntelliJ","body":"<p>This error can happen Tomcat is already running.  So make sure Tomcat isn't running in the background if you've asked Intellij to start it up ( default ).</p>\n\n<p>Also, check the full output window for more errors.  As a more useful error may have preceded this one ( as was the case with my configuration just now )</p>\n"},{"comments":[{"owner":{"account_id":5266362,"reputation":1584,"user_id":4206178,"accept_rate":57,"display_name":"Anjil Dhamala"},"score":0,"creation_date":1611685838,"post_id":52509739,"comment_id":116529188,"body_markdown":"This was it. Thanks!","body":"This was it. Thanks!"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1537934538,"creation_date":1537934538,"answer_id":52509739,"question_id":12792833,"body_markdown":"You must set CHMOD +x (execute for *.sh or *.bat files). For example, I am using macOS\r\n\r\n    cd /Users/donhuvy/Documents/tools/apache-tomcat-9.0.12/bin\r\n    sudo chmod +x *.sh\r\n\r\nThen IntelliJ IDEA, and Apache Tomcat running or debugging just good.","title":"Unable to open debugger port in IntelliJ","body":"<p>You must set CHMOD +x (execute for *.sh or *.bat files). For example, I am using macOS</p>\n\n<pre><code>cd /Users/donhuvy/Documents/tools/apache-tomcat-9.0.12/bin\nsudo chmod +x *.sh\n</code></pre>\n\n<p>Then IntelliJ IDEA, and Apache Tomcat running or debugging just good.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637981849,"creation_date":1539079523,"answer_id":52718367,"question_id":12792833,"body_markdown":" 1. In `glassfish\\domains\\domain1\\config\\domain.xml` set before start server\r\n\r\n```xml\r\n&lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n```\r\n\r\nor set debug-enabled=&quot;true&quot; server=y,suspend=n in http://localhost:4848/common/index.jsf\r\n[![Glassfish 4 address=9009,server=y,suspend=n][1]][1]\r\n\r\n2. In current Idea 2018 - Server Run Configuration - Debug - Port - address\r\n[![Server Run Configuration - Debug - Port - address][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4cAU.png\r\n  [2]: https://i.stack.imgur.com/pOJL0.png\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<ol>\n<li>In <code>glassfish\\domains\\domain1\\config\\domain.xml</code> set before start server</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\n</code></pre>\n<p>or set debug-enabled=&quot;true&quot; server=y,suspend=n in http://localhost:4848/common/index.jsf\n<a href=\"https://i.stack.imgur.com/X4cAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4cAU.png\" alt=\"Glassfish 4 address=9009,server=y,suspend=n\" /></a></p>\n<ol start=\"2\">\n<li>In current Idea 2018 - Server Run Configuration - Debug - Port - address\n<a href=\"https://i.stack.imgur.com/pOJL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOJL0.png\" alt=\"Server Run Configuration - Debug - Port - address\" /></a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13164735,"reputation":1844,"user_id":9509346,"display_name":"dpapadopoulos"},"score":0,"creation_date":1560340900,"post_id":56561433,"comment_id":99702885,"body_markdown":"This can be a comment and not an answer. Please, check the rules of this community.","body":"This can be a comment and not an answer. Please, check the rules of this community."}],"tags":[],"owner":{"account_id":5356901,"reputation":1,"user_id":4269343,"display_name":"deepika goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560339821,"creation_date":1560339821,"answer_id":56561433,"question_id":12792833,"body_markdown":"Your Service/ Application might already be running. In Search enter Services and you will get list of services. Stop yours and then try again.","title":"Unable to open debugger port in IntelliJ","body":"<p>Your Service/ Application might already be running. In Search enter Services and you will get list of services. Stop yours and then try again.</p>\n"},{"tags":[],"owner":{"account_id":11787081,"reputation":526,"user_id":8624381,"display_name":"Felipe Bejarano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562719557,"creation_date":1562719557,"answer_id":56962079,"question_id":12792833,"body_markdown":"I had the same issue, I just have to remove the HTTP protocol from the URL. That&#39;s it. \r\n\r\nI hope it works for you.","title":"Unable to open debugger port in IntelliJ","body":"<p>I had the same issue, I just have to remove the HTTP protocol from the URL. That's it. </p>\n\n<p>I hope it works for you.</p>\n"},{"tags":[],"owner":{"account_id":5986096,"reputation":1,"user_id":4703632,"display_name":"Daniel Tan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576747341,"creation_date":1576747341,"answer_id":59406608,"question_id":12792833,"body_markdown":"I once have this problem too.\r\nMy solution is to work around this problem by kill the application which is using the port.\r\n[Here][1] is a article to teach us how to check which application is using which port, find it and kill/close it.\r\n\r\n\r\n  [1]: https://veerasundar.com/blog/2009/10/how-to-check-which-application-is-using-which-port/","title":"Unable to open debugger port in IntelliJ","body":"<p>I once have this problem too.\nMy solution is to work around this problem by kill the application which is using the port.\n<a href=\"https://veerasundar.com/blog/2009/10/how-to-check-which-application-is-using-which-port/\" rel=\"nofollow noreferrer\">Here</a> is a article to teach us how to check which application is using which port, find it and kill/close it.</p>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581452264,"creation_date":1581452264,"answer_id":60176725,"question_id":12792833,"body_markdown":"Merely hitting the debug icon again fixed my problem in a few seconds.","title":"Unable to open debugger port in IntelliJ","body":"<p>Merely hitting the debug icon again fixed my problem in a few seconds.</p>\n"},{"tags":[],"owner":{"account_id":10473075,"reputation":39,"user_id":7720408,"display_name":"Domingos Manuel"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629827671,"creation_date":1629827671,"answer_id":68911998,"question_id":12792833,"body_markdown":"Make sure to specify an SDK and Project SDK for your app under File --&gt; Project Structure (Project | SDKs)","title":"Unable to open debugger port in IntelliJ","body":"<p>Make sure to specify an SDK and Project SDK for your app under File --&gt; Project Structure (Project | SDKs)</p>\n"},{"tags":[],"owner":{"account_id":16201461,"reputation":424,"user_id":11697770,"display_name":"Mihir Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660642923,"creation_date":1660642923,"answer_id":73371942,"question_id":12792833,"body_markdown":"In my case, I was not setting the debug port while starting the application.\r\nI am using tomcat to deploy 3 war files, and I forgot to configure the debug port.\r\n\r\nTomcat allows us to configure this via `setenv.sh`.\r\n\r\nHere are the commands to create `setenv.sh` file in the bin directory of my tomcat installation and provide the debug arguments/port.\r\n\r\n```\r\ntee /usr/share/tomcat9/bin/setenv.sh &lt;&lt; EOF\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;\r\nEOF\r\n\r\nservice tomcat9 restart\r\n```","title":"Unable to open debugger port in IntelliJ","body":"<p>In my case, I was not setting the debug port while starting the application.\nI am using tomcat to deploy 3 war files, and I forgot to configure the debug port.</p>\n<p>Tomcat allows us to configure this via <code>setenv.sh</code>.</p>\n<p>Here are the commands to create <code>setenv.sh</code> file in the bin directory of my tomcat installation and provide the debug arguments/port.</p>\n<pre><code>tee /usr/share/tomcat9/bin/setenv.sh &lt;&lt; EOF\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;\nEOF\n\nservice tomcat9 restart\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684524272,"post_id":76287680,"comment_id":134535106,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76287680/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23048673,"reputation":9,"user_id":17165857,"display_name":"Do Quoc Viet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488856,"creation_date":1684487881,"answer_id":76287680,"question_id":12792833,"body_markdown":"I change the port from 6xxxxx to 2xxxxx and it works now.","title":"Unable to open debugger port in IntelliJ","body":"<p>I change the port from 6xxxxx to 2xxxxx and it works now.</p>\n"},{"tags":[],"owner":{"account_id":4104486,"reputation":491,"user_id":3369001,"accept_rate":100,"display_name":"Vishal_Kotecha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696919036,"creation_date":1696919036,"answer_id":77263337,"question_id":12792833,"body_markdown":"I know its an old thread but I am using tomcat with spring boot and none of above worked for me. As of Oct, 2023, Intellij Community Edition suggests following command line arguments for JVM\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZENI.png\r\n\r\nHowever, when I run my application with following command: \r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar myApp.jar --spring.profiles.active=local\r\n\r\nI didn&#39;t get the following line \r\n\r\n    Listening for transport dt_socket at address: 5005\r\n\r\nWith help of this answer https://stackoverflow.com/a/43800535/3369001, I changed it to \r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar myApp.jar --spring.profiles.active=local\r\n\r\nInstead of `address=*:5005`, use `address=5005`. \r\n\r\nThat&#39;s it!\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>I know its an old thread but I am using tomcat with spring boot and none of above worked for me. As of Oct, 2023, Intellij Community Edition suggests following command line arguments for JVM</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PZENI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZENI.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I run my application with following command:</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar myApp.jar --spring.profiles.active=local\n</code></pre>\n<p>I didn't get the following line</p>\n<pre><code>Listening for transport dt_socket at address: 5005\n</code></pre>\n<p>With help of this answer <a href=\"https://stackoverflow.com/a/43800535/3369001\">https://stackoverflow.com/a/43800535/3369001</a>, I changed it to</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar myApp.jar --spring.profiles.active=local\n</code></pre>\n<p>Instead of <code>address=*:5005</code>, use <code>address=5005</code>.</p>\n<p>That's it!</p>\n"},{"comments":[{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1700015644,"post_id":77451439,"comment_id":136602269,"body_markdown":"Hello, please don&#39;t post image/code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used. Screenshots are especially bad.","body":"Hello, please don&#39;t post image/code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used. Screenshots are especially bad."}],"tags":[],"owner":{"account_id":18897994,"reputation":46,"user_id":13786705,"display_name":"Ridima Bajpai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699517308,"creation_date":1699517308,"answer_id":77451439,"question_id":12792833,"body_markdown":"Changing the debugger port works for me. [screenshot of tomcat config\r\n][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WFuk1.jpg","title":"Unable to open debugger port in IntelliJ","body":"<p>Changing the debugger port works for me. <a href=\"https://i.stack.imgur.com/WFuk1.jpg\" rel=\"nofollow noreferrer\">screenshot of tomcat config\n</a></p>\n"}],"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209045,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":12793700,"answer_count":22,"score":60,"last_activity_date":1699517308,"creation_date":1349757133,"question_id":12792833,"body_markdown":"Unable to open debugger port in intellij.\r\nThe port number 9009 matches the one which has been set in the configuration file for the application.\r\n\r\n    &lt;java-config debug-options=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009&quot; system-classpath=&quot;&quot; native-library-path-prefix=&quot;D:\\Project\\lib\\windows\\64bit&quot; classpath-suffix=&quot;&quot;&gt;\r\n        &lt;jvm-options&gt;-XX:MaxPermSize=192m&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-client&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:+UnlockDiagnosticVMOptions&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:+LogVMOutput&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:LogFile=${com.sun.aas.instanceRoot}/logs/jvm.log&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.endorsed.dirs=${com.sun.aas.installRoot}/modules/endorsed${path.separator}${com.sun.aas.installRoot}/lib/endorsed&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.ext.dirs=${com.sun.aas.javaRoot}/lib/ext${path.separator}${com.sun.aas.javaRoot}/jre/lib/ext${path.separator}${com.sun.aas.instanceRoot}/lib/ext&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djdbc.drivers=org.apache.derby.jdbc.ClientDriver&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-DANTLR_USE_DIRECT_CLASS_LOADING=true&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.port=4766&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.maxconn=1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.ip=127.0.0.1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.dir=${com.sun.aas.installRoot}/modules/autostart/&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.poll=5000&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.debug=1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.bundles.new.start=true&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dorg.glassfish.web.rfc2109_cookie_names_enforced=false&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:NewRatio=2&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Xmx2048m&lt;/jvm-options&gt;\r\n      &lt;/java-config&gt;\r\n\r\nConfiguration in IntelliJ:\r\n\r\n![enter image description here][1]\r\n\r\nWhen I try and enable the remote debugging in for this application it comes up with the following error:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pX1N4.png\r\n  [2]: http://i.stack.imgur.com/7ePT8.png","title":"Unable to open debugger port in IntelliJ","body":"<p>Unable to open debugger port in intellij.\nThe port number 9009 matches the one which has been set in the configuration file for the application.</p>\n\n<pre><code>&lt;java-config debug-options=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009\" system-classpath=\"\" native-library-path-prefix=\"D:\\Project\\lib\\windows\\64bit\" classpath-suffix=\"\"&gt;\n    &lt;jvm-options&gt;-XX:MaxPermSize=192m&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-client&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:+UnlockDiagnosticVMOptions&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:+LogVMOutput&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:LogFile=${com.sun.aas.instanceRoot}/logs/jvm.log&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.endorsed.dirs=${com.sun.aas.installRoot}/modules/endorsed${path.separator}${com.sun.aas.installRoot}/lib/endorsed&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.ext.dirs=${com.sun.aas.javaRoot}/lib/ext${path.separator}${com.sun.aas.javaRoot}/jre/lib/ext${path.separator}${com.sun.aas.instanceRoot}/lib/ext&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djdbc.drivers=org.apache.derby.jdbc.ClientDriver&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-DANTLR_USE_DIRECT_CLASS_LOADING=true&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.port=4766&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.maxconn=1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.ip=127.0.0.1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.dir=${com.sun.aas.installRoot}/modules/autostart/&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.poll=5000&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.debug=1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.bundles.new.start=true&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dorg.glassfish.web.rfc2109_cookie_names_enforced=false&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:NewRatio=2&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Xmx2048m&lt;/jvm-options&gt;\n  &lt;/java-config&gt;\n</code></pre>\n\n<p>Configuration in IntelliJ:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pX1N4.png\" alt=\"enter image description here\"></p>\n\n<p>When I try and enable the remote debugging in for this application it comes up with the following error:\n<img src=\"https://i.stack.imgur.com/7ePT8.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-kafka","avro","confluent-schema-registry"],"owner":{"account_id":29861830,"reputation":11,"user_id":22885310,"display_name":"Drum Beats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699517189,"creation_date":1699517189,"question_id":77451430,"body_markdown":"So I have one avro schema Which I want to evolve and using topicRecordName strategy. I am using confluent schema registry. I want to have it backward compatible and It is necessary that I change the Record Name.\r\nOld schema\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;OldSchema&quot;,\r\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;firstName&quot;,\r\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nNew Schema\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;NewSchema&quot;,\r\n  &quot;aliases&quot;: [&quot;OldSchema&quot;],\r\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;firstName&quot;,\r\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}```\r\nI am using `KafkaAvroDeserialiser` in java to deserialize.\r\n```\r\n\r\nThe way I am comsuming the message is as Follows\r\n\r\n\r\n```\r\n@KafkaListener(topics = &quot;TopicName&quot;, groupId = &quot;test-group&quot;)\r\n    public void consume(@Payload NewSchema event){\r\n        System.out.println(&quot;Supplier New Event&quot;);\r\n        System.out.println(&quot;Consumed message&quot; + event.toString());\r\n    }\r\n```\r\n\r\nError that I face\r\n\r\n```\r\nCannot convert from [com.example.kafkaschemaregistrydemo.events.OldSchema] to [com.example.kafkaschemaregistrydemo.event.NewSchema] for GenericMessage....\r\n```\r\n\r\nThe reason why I want to have change record name because I have two Schemas which I wanted to merged into one single event while maintaining Backward Compatibilty. \r\n\r\n\r\n\r\n\r\nFew Things that I tried\r\nI assumed that having the alias should have being enough especially when having aliases for other fields works fine but not for RecordName.\r\n1. changing \r\n`configProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);`\r\n2. Having the old schema be also be generated along with new Schema\r\n3. tried with both `SpecificRecord` and `GenericRecord`\r\n4. Tried without `@Payload`\r\n5. When I check the backward Compatibility it passes.\r\nIs it even possible and if not what options do I have ?","title":"Evolving Avro Schema where the Record Name changes and using alias for it does not work","body":"<p>So I have one avro schema Which I want to evolve and using topicRecordName strategy. I am using confluent schema registry. I want to have it backward compatible and It is necessary that I change the Record Name.\nOld schema</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;OldSchema&quot;,\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;firstName&quot;,\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>New Schema</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;NewSchema&quot;,\n  &quot;aliases&quot;: [&quot;OldSchema&quot;],\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;firstName&quot;,\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\n      &quot;default&quot;: null\n    }\n  ]\n}```\nI am using `KafkaAvroDeserialiser` in java to deserialize.\n</code></pre>\n<p>The way I am comsuming the message is as Follows</p>\n<pre><code>@KafkaListener(topics = &quot;TopicName&quot;, groupId = &quot;test-group&quot;)\n    public void consume(@Payload NewSchema event){\n        System.out.println(&quot;Supplier New Event&quot;);\n        System.out.println(&quot;Consumed message&quot; + event.toString());\n    }\n</code></pre>\n<p>Error that I face</p>\n<pre><code>Cannot convert from [com.example.kafkaschemaregistrydemo.events.OldSchema] to [com.example.kafkaschemaregistrydemo.event.NewSchema] for GenericMessage....\n</code></pre>\n<p>The reason why I want to have change record name because I have two Schemas which I wanted to merged into one single event while maintaining Backward Compatibilty.</p>\n<p>Few Things that I tried\nI assumed that having the alias should have being enough especially when having aliases for other fields works fine but not for RecordName.</p>\n<ol>\n<li>changing\n<code>configProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);</code></li>\n<li>Having the old schema be also be generated along with new Schema</li>\n<li>tried with both <code>SpecificRecord</code> and <code>GenericRecord</code></li>\n<li>Tried without <code>@Payload</code></li>\n<li>When I check the backward Compatibility it passes.\nIs it even possible and if not what options do I have ?</li>\n</ol>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1699520565,"post_id":77451423,"comment_id":136543150,"body_markdown":"Which edition of IDEA do you have? Community or Ultimate?","body":"Which edition of IDEA do you have? Community or Ultimate?"}],"owner":{"account_id":29861777,"reputation":1,"user_id":22885266,"display_name":"Vladimer1812"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699517126,"creation_date":1699517126,"question_id":77451423,"body_markdown":"Hey Stack Overflow community,\r\n\r\nI&#39;m facing an issue with IntelliJ IDEA where it&#39;s not recognizing Spring objects in my project. I&#39;ve already set up the Spring framework, but it seems like IntelliJ is not picking it up. Autocomplete and import suggestions for Spring classes are not working.\r\n\r\nI&#39;ve tried refreshing the project, rebuilding, and invalidating caches, but the issue persists. Has anyone encountered a similar problem and found a solution? Any insights or suggestions would be greatly appreciated.","title":"The InteljIDEA not recognizing spring objects","body":"<p>Hey Stack Overflow community,</p>\n<p>I'm facing an issue with IntelliJ IDEA where it's not recognizing Spring objects in my project. I've already set up the Spring framework, but it seems like IntelliJ is not picking it up. Autocomplete and import suggestions for Spring classes are not working.</p>\n<p>I've tried refreshing the project, rebuilding, and invalidating caches, but the issue persists. Has anyone encountered a similar problem and found a solution? Any insights or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","hadoop","hive"],"answers":[{"tags":[],"owner":{"account_id":9097660,"reputation":9382,"user_id":6771046,"display_name":"U880D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699516691,"creation_date":1699346637,"answer_id":77436677,"question_id":77436644,"body_markdown":"&gt; _**How to get the length of `DECIMAL` in Apache Hive, if it is a fixed length type, such as 16 byte or not?**_\r\n\r\nAccording [Apache Hive - LanguageManual Types](https://cwiki.apache.org/confluence/display/hive/languagemanual+types#LanguageManualTypes-DecimalsdecimalDecimals)\r\n\r\n&gt; _The `DECIMAL` type in Hive is based on Java&#39;s `BigDecimal` which is used for representing immutable arbitrary precision decimal numbers in Java._\r\n\r\nand Java 8 [`BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDe]cimal.html)\r\n\r\n&gt; _A BigDecimal consists of an arbitrary precision integer_ unscaled value _and a 32-bit integer_ scale.\r\n\r\nThis leads to, if that is question, [Java BigDecimal memory usage](https://stackoverflow.com/a/2501339/6771046).\r\n\r\nAnd the question about\r\n\r\n&gt; _**... or if it has some rules for different accuracy.**_\r\n\r\nleads to [Double vs. BigDecimal?](https://stackoverflow.com/a/3413493/6771046)\r\n\r\n&gt; _A `BigDecimal` is an exact way of representing numbers. A `Double` has a certain precision._","title":"Is DECIMAL in Apache Hive a fixed length type?","body":"<blockquote>\n<p><em><strong>How to get the length of <code>DECIMAL</code> in Apache Hive, if it is a fixed length type, such as 16 byte or not?</strong></em></p>\n</blockquote>\n<p>According <a href=\"https://cwiki.apache.org/confluence/display/hive/languagemanual+types#LanguageManualTypes-DecimalsdecimalDecimals\" rel=\"nofollow noreferrer\">Apache Hive - LanguageManual Types</a></p>\n<blockquote>\n<p><em>The <code>DECIMAL</code> type in Hive is based on Java's <code>BigDecimal</code> which is used for representing immutable arbitrary precision decimal numbers in Java.</em></p>\n</blockquote>\n<p>and Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDe%5Dcimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a></p>\n<blockquote>\n<p><em>A BigDecimal consists of an arbitrary precision integer</em> unscaled value <em>and a 32-bit integer</em> scale.</p>\n</blockquote>\n<p>This leads to, if that is question, <a href=\"https://stackoverflow.com/a/2501339/6771046\">Java BigDecimal memory usage</a>.</p>\n<p>And the question about</p>\n<blockquote>\n<p><em><strong>... or if it has some rules for different accuracy.</strong></em></p>\n</blockquote>\n<p>leads to <a href=\"https://stackoverflow.com/a/3413493/6771046\">Double vs. BigDecimal?</a></p>\n<blockquote>\n<p><em>A <code>BigDecimal</code> is an exact way of representing numbers. A <code>Double</code> has a certain precision.</em></p>\n</blockquote>\n"}],"owner":{"account_id":29429881,"reputation":11,"user_id":22549791,"display_name":"mkm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699516691,"creation_date":1699346251,"question_id":77436644,"body_markdown":"How to get the length of `DECIMAL` in Apache Hive, if it is a fixed length type, such as 16 byte or not?\r\n\r\nI did not found information in documentation, if it has some methods to get the length, such as some functions, or if it has some rules for different accuracy.","title":"Is DECIMAL in Apache Hive a fixed length type?","body":"<p>How to get the length of <code>DECIMAL</code> in Apache Hive, if it is a fixed length type, such as 16 byte or not?</p>\n<p>I did not found information in documentation, if it has some methods to get the length, such as some functions, or if it has some rules for different accuracy.</p>\n"},{"tags":["java","log4j","log4j2","jmx","mbeanexporter"],"answers":[{"comments":[{"owner":{"account_id":8711957,"reputation":21,"user_id":6517873,"display_name":"Rgnr"},"score":0,"creation_date":1699581893,"post_id":77451361,"comment_id":136553463,"body_markdown":"I read about this in log4j 2.x docx, but I don&#39;t have enough knowledge about this. Your comment is pretty helpful for me to understand what needs to be done. Thank you!","body":"I read about this in log4j 2.x docx, but I don&#39;t have enough knowledge about this. Your comment is pretty helpful for me to understand what needs to be done. Thank you!"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699516384,"creation_date":1699516384,"answer_id":77451361,"question_id":77449937,"body_markdown":"The code in your question just exports some logger data though JMX for a monitoring tool. Performing a migration is the best time to reevaluate the utility of code like this.\r\n\r\nIf you don&#39;t use JMX monitoring tools just drop the code.\r\n\r\nIf you **do** use JMX monitoring tools, the code is also useless, since Log4j 2.x exports data through JMX by default (cf. [`LoggerConfigAdminMBean`](https://logging.apache.org/log4j/2.x/javadoc/log4j-core/org/apache/logging/log4j/core/jmx/LoggerConfigAdminMBean.html)). You&#39;ll need however to adapt the monitoring tool for a different set of data.","title":"LoggerDynamicMBean log4j 1.x to log42","body":"<p>The code in your question just exports some logger data though JMX for a monitoring tool. Performing a migration is the best time to reevaluate the utility of code like this.</p>\n<p>If you don't use JMX monitoring tools just drop the code.</p>\n<p>If you <strong>do</strong> use JMX monitoring tools, the code is also useless, since Log4j 2.x exports data through JMX by default (cf. <a href=\"https://logging.apache.org/log4j/2.x/javadoc/log4j-core/org/apache/logging/log4j/core/jmx/LoggerConfigAdminMBean.html\" rel=\"nofollow noreferrer\"><code>LoggerConfigAdminMBean</code></a>). You'll need however to adapt the monitoring tool for a different set of data.</p>\n"}],"owner":{"account_id":8711957,"reputation":21,"user_id":6517873,"display_name":"Rgnr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77451361,"answer_count":1,"score":0,"last_activity_date":1699516384,"creation_date":1699493795,"question_id":77449937,"body_markdown":"So I was trying to migrate our legacy application java log4j 1.x to log4j2\r\n\r\nI saw a great article with regards to migrating this log4j using the bridge API. However, there&#39;s one thing that I am stuck with.\r\n\r\nHere is the culprit\r\n\r\n       ObjectName addLoggerMBean(MBeanServer server, Logger logger)\r\n    {\r\n        String name = logger.getName();\r\n        ObjectName objectName = null;\r\n        \r\n        try\r\n        {\r\n            LoggerDynamicMBean loggerMBean = new LoggerDynamicMBean(logger);\r\n            objectName = new ObjectName(&quot;log4j.category&quot;, &quot;logger&quot;, name);\r\n\r\n            if (!server.isRegistered(objectName))\r\n            {\r\n                server.registerMBean(loggerMBean, objectName);\r\n               \r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            // log.error(&quot;Could not add loggerMBean for [&quot;+name+&quot;].&quot;, e);\r\n        }\r\n        \r\n        return objectName;\r\n    }\r\n\r\nSo the snippet above was creating the instance of `LoggerDynamicMBean` under the library of `org.apache.log4j.jmx.LoggerDynamicMBean` and unfortunately, it seems that this is not part of the existing [log4j bridge API][1].\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\nDoes anyone know how to achieve this? Sorry for the nub question, just new on java an this application doesn&#39;t even run locally. So think of that :D\r\n","title":"LoggerDynamicMBean log4j 1.x to log42","body":"<p>So I was trying to migrate our legacy application java log4j 1.x to log4j2</p>\n<p>I saw a great article with regards to migrating this log4j using the bridge API. However, there's one thing that I am stuck with.</p>\n<p>Here is the culprit</p>\n<pre><code>   ObjectName addLoggerMBean(MBeanServer server, Logger logger)\n{\n    String name = logger.getName();\n    ObjectName objectName = null;\n    \n    try\n    {\n        LoggerDynamicMBean loggerMBean = new LoggerDynamicMBean(logger);\n        objectName = new ObjectName(&quot;log4j.category&quot;, &quot;logger&quot;, name);\n\n        if (!server.isRegistered(objectName))\n        {\n            server.registerMBean(loggerMBean, objectName);\n           \n        }\n    }\n    catch (Exception e)\n    {\n        // log.error(&quot;Could not add loggerMBean for [&quot;+name+&quot;].&quot;, e);\n    }\n    \n    return objectName;\n}\n</code></pre>\n<p>So the snippet above was creating the instance of <code>LoggerDynamicMBean</code> under the library of <code>org.apache.log4j.jmx.LoggerDynamicMBean</code> and unfortunately, it seems that this is not part of the existing <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">log4j bridge API</a>.</p>\n<p>Does anyone know how to achieve this? Sorry for the nub question, just new on java an this application doesn't even run locally. So think of that :D</p>\n"},{"tags":["java","build.gradle","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699486697,"post_id":77447212,"comment_id":136539609,"body_markdown":"Welcome to SO. Please describe what you did yourself to solve the problem other than let ChatGPT hallucinate a faulty solution for you. How much do you know about AspectJ?  Do you e.g. know how to solve the same problem in Maven and just want to port it to Gradle? Have you ever used AspectJ before? Did you study the Freefair documentation? What does your aspect source code look like? Can you provide an [MCVE](https://stackoverflow.com/help/mcve)?","body":"Welcome to SO. Please describe what you did yourself to solve the problem other than let ChatGPT hallucinate a faulty solution for you. How much do you know about AspectJ?  Do you e.g. know how to solve the same problem in Maven and just want to port it to Gradle? Have you ever used AspectJ before? Did you study the Freefair documentation? What does your aspect source code look like? Can you provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699486908,"post_id":77447212,"comment_id":136539632,"body_markdown":"Sorry for asking a lot of questions, but I really want to know. In the past, many lazy developers simply used minimal research to find code snippets, then copied &amp; pasted them into their projects. If they did not work, they immediately asked here without any research effort on their own part. Laziness 2.0 or copy &amp; paste programming 2.0 seems to be not to even use Google to find information, but simply to let ChatGPT do the job and then ask humans to fix that in order to avoid lifting a finger. So please, with all due respect: Describe how you lifted your finger. Thank you.","body":"Sorry for asking a lot of questions, but I really want to know. In the past, many lazy developers simply used minimal research to find code snippets, then copied &amp; pasted them into their projects. If they did not work, they immediately asked here without any research effort on their own part. Laziness 2.0 or copy &amp; paste programming 2.0 seems to be not to even use Google to find information, but simply to let ChatGPT do the job and then ask humans to fix that in order to avoid lifting a finger. So please, with all due respect: Describe how you lifted your finger. Thank you."},{"owner":{"account_id":29856715,"reputation":1,"user_id":22881402,"display_name":"o1iveleaves"},"score":1,"creation_date":1699502840,"post_id":77447212,"comment_id":136541015,"body_markdown":"&gt; How much do you know about AspectJ? Do you e.g. know how to solve the same problem in Maven and just want to port it to Gradle? \n- I (think I) know what can I do using AspectJ but I don&#39;t know how.\nSo I neither know how to solve this in Maven.\n\n&gt; Have you ever used AspectJ before?\n\n- I&#39;ve used it indirectly by using Spring AOP. So I know what to write in Java code but I don&#39;t know that in AspectJ code. If possible, I want to solve the problem by gradle settings because I don&#39;t want to make build jar procedure complex.","body":"&gt; How much do you know about AspectJ? Do you e.g. know how to solve the same problem in Maven and just want to port it to Gradle?  - I (think I) know what can I do using AspectJ but I don&#39;t know how. So I neither know how to solve this in Maven.  &gt; Have you ever used AspectJ before?  - I&#39;ve used it indirectly by using Spring AOP. So I know what to write in Java code but I don&#39;t know that in AspectJ code. If possible, I want to solve the problem by gradle settings because I don&#39;t want to make build jar procedure complex."},{"owner":{"account_id":29856715,"reputation":1,"user_id":22881402,"display_name":"o1iveleaves"},"score":1,"creation_date":1699503766,"post_id":77447212,"comment_id":136541104,"body_markdown":"&gt; Did you study the Freefair documentation?\n\n- I&#39;ve never. I&#39;ve studied [Eclipse AspectJ Documentation](https://eclipse.dev/aspectj/) roughly and found no referrence about gradle, so I&#39;m gonna study Freefair documentation. Thank you.\n\n&gt; What does your aspect source code look like?\n\n- I added it in the question, but it&#39;s java code.\n\n&gt; Can you provide an MCVE?\n\n- I&#39;m starting to learn Freefair documentation to know how I write build.gradle. It will take time to provide preferrable example.","body":"&gt; Did you study the Freefair documentation?  - I&#39;ve never. I&#39;ve studied <a href=\"https://eclipse.dev/aspectj/\" rel=\"nofollow noreferrer\">Eclipse AspectJ Documentation</a> roughly and found no referrence about gradle, so I&#39;m gonna study Freefair documentation. Thank you.  &gt; What does your aspect source code look like?  - I added it in the question, but it&#39;s java code.  &gt; Can you provide an MCVE?  - I&#39;m starting to learn Freefair documentation to know how I write build.gradle. It will take time to provide preferrable example."},{"owner":{"account_id":29856715,"reputation":1,"user_id":22881402,"display_name":"o1iveleaves"},"score":0,"creation_date":1699530814,"post_id":77447212,"comment_id":136545121,"body_markdown":"In my understanding, I need io.freefair.aspectj.post-compile-weaving to weave aspectj into external jars (that&#39;s obvious because there&#39;s no source code to weave into), but I haven&#39;t get what to write settings in build.gradle. I&#39;ve found a kind of solution [here](https://stackoverflow.com/questions/58240637/post-compile-weaving-aspects-into-a-project-using-gradle) and it worked. It&#39;s necessary to use inpath(${project}) to set weave target. I&#39;m gonna close my question when I get time.","body":"In my understanding, I need io.freefair.aspectj.post-compile-weaving to weave aspectj into external jars (that&#39;s obvious because there&#39;s no source code to weave into), but I haven&#39;t get what to write settings in build.gradle. I&#39;ve found a kind of solution <a href=\"https://stackoverflow.com/questions/58240637/post-compile-weaving-aspects-into-a-project-using-gradle\">here</a> and it worked. It&#39;s necessary to use inpath(${project}) to set weave target. I&#39;m gonna close my question when I get time."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699531885,"post_id":77447212,"comment_id":136545305,"body_markdown":"Yes, post-compile weaving is an option. The downside is that you need to replace the original JAR by the woven library, which can pose a challenge, depending on your situation and who uses your output. You can avoid that, if you use load-time weaving, but then you need to be able to add a parameter to the Java command line. But unless you want to hack a system, that should be fine, because usually you control your own application (server). The advantage is that you can leave your third-party library untouched.","body":"Yes, post-compile weaving is an option. The downside is that you need to replace the original JAR by the woven library, which can pose a challenge, depending on your situation and who uses your output. You can avoid that, if you use load-time weaving, but then you need to be able to add a parameter to the Java command line. But unless you want to hack a system, that should be fine, because usually you control your own application (server). The advantage is that you can leave your third-party library untouched."}],"owner":{"account_id":29856715,"reputation":1,"user_id":22881402,"display_name":"o1iveleaves"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699516201,"creation_date":1699459969,"question_id":77447212,"body_markdown":"How can I weave AspectJ in external jars with build.gradle?\r\n\r\nI wanna replace a method in external jar(a library called j2mod) by AspectJ&#39;s @Around.\r\nI&#39;m using Java 11, build.gradle(gradle-7.1.1).\r\nSo far I asked GPT-4 and got codes below. Building and execution of the project was successful(no error detected), but aspect is not weaved into j2mod.\r\nPlease tell me what is wrong in this code.\r\nThanks.\r\n\r\n```\r\nplugins {\r\n\tid &#39;io.freefair.aspectj&#39; version &#39;6.2.0&#39;\r\n}\r\napply plugin: &#39;io.freefair.aspectj&#39;\r\n\r\nbootJar {\r\n\tlaunchScript()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.aspectj:aspectjrt:1.9.7&#39;\r\n\timplementation &#39;com.ghgande:j2mod:3.1.1&#39;\r\n}\r\n\r\nconfigurations {\r\n\taspectpath\r\n\tinpath\r\n}\r\n\r\ndef j2modJar = configurations.runtimeClasspath.files.find {\r\n\tit.name.contains(&#39;j2mod&#39;)\r\n}\r\n\r\ndependencies {\r\n\taspectpath &#39;org.aspectj:aspectjtools:1.9.7&#39;\r\n\tinpath files(j2modJar)\r\n}\r\n\r\ndef weavedClassesDir = &quot;$buildDir/weaved-classes&quot;\r\n\r\ntask weave(type: JavaExec) {\r\n\tmain = &#39;org.aspectj.tools.ajc.Main&#39;\r\n\tclasspath = configurations.aspectpath + configurations.compileClasspath\r\n\targs = [\r\n\t\t\t&#39;-inpath&#39;, configurations.inpath.asPath,\r\n\t\t\t&#39;-aspectpath&#39;, sourceSets.main.output.asPath,\r\n\t\t\t&#39;-d&#39;, weavedClassesDir,\r\n\t\t\t&#39;-source&#39;, &#39;11&#39;,\r\n\t\t\t&#39;-target&#39;, &#39;11&#39;,\r\n\t\t\t&#39;-showWeaveInfo&#39;\r\n\t]\r\n\tdoFirst {\r\n\t\tnew File(weavedClassesDir).mkdirs()\r\n\t}\r\n}\r\n\r\ncompileJava.finalizedBy(weave)\r\n\r\ntask buildWeavedJar(type: Jar, dependsOn: weave) {\r\n\tfrom zipTree(weavedClassesDir) \r\n\tarchiveClassifier.set(&#39;weaved&#39;)\r\n\tdestinationDirectory.set(file(&quot;$buildDir/libs&quot;))\r\n}\r\n\r\nassemble.dependsOn buildWeavedJar\r\n```\r\n\r\nand this is how the Java code using aspectj looks like.\r\n```\r\n@Aspect\r\npublic class ExampleAdvice {\r\n    @Around(&quot;execution(* com.ghgande.j2mod.modbus.msg.WriteMultipleRegistersRequest.createResponse(..))&quot;)\r\n    public ModbusResponse exampleAdvice(ProceedingJoinPoint pjp) {\r\n        // make desirable return value\r\n\r\n        return response;\r\n    }\r\n}\r\n```","title":"How to weave AspectJ into external jars","body":"<p>How can I weave AspectJ in external jars with build.gradle?</p>\n<p>I wanna replace a method in external jar(a library called j2mod) by AspectJ's @Around.\nI'm using Java 11, build.gradle(gradle-7.1.1).\nSo far I asked GPT-4 and got codes below. Building and execution of the project was successful(no error detected), but aspect is not weaved into j2mod.\nPlease tell me what is wrong in this code.\nThanks.</p>\n<pre><code>plugins {\n    id 'io.freefair.aspectj' version '6.2.0'\n}\napply plugin: 'io.freefair.aspectj'\n\nbootJar {\n    launchScript()\n}\n\ndependencies {\n    implementation 'org.aspectj:aspectjrt:1.9.7'\n    implementation 'com.ghgande:j2mod:3.1.1'\n}\n\nconfigurations {\n    aspectpath\n    inpath\n}\n\ndef j2modJar = configurations.runtimeClasspath.files.find {\n    it.name.contains('j2mod')\n}\n\ndependencies {\n    aspectpath 'org.aspectj:aspectjtools:1.9.7'\n    inpath files(j2modJar)\n}\n\ndef weavedClassesDir = &quot;$buildDir/weaved-classes&quot;\n\ntask weave(type: JavaExec) {\n    main = 'org.aspectj.tools.ajc.Main'\n    classpath = configurations.aspectpath + configurations.compileClasspath\n    args = [\n            '-inpath', configurations.inpath.asPath,\n            '-aspectpath', sourceSets.main.output.asPath,\n            '-d', weavedClassesDir,\n            '-source', '11',\n            '-target', '11',\n            '-showWeaveInfo'\n    ]\n    doFirst {\n        new File(weavedClassesDir).mkdirs()\n    }\n}\n\ncompileJava.finalizedBy(weave)\n\ntask buildWeavedJar(type: Jar, dependsOn: weave) {\n    from zipTree(weavedClassesDir) \n    archiveClassifier.set('weaved')\n    destinationDirectory.set(file(&quot;$buildDir/libs&quot;))\n}\n\nassemble.dependsOn buildWeavedJar\n</code></pre>\n<p>and this is how the Java code using aspectj looks like.</p>\n<pre><code>@Aspect\npublic class ExampleAdvice {\n    @Around(&quot;execution(* com.ghgande.j2mod.modbus.msg.WriteMultipleRegistersRequest.createResponse(..))&quot;)\n    public ModbusResponse exampleAdvice(ProceedingJoinPoint pjp) {\n        // make desirable return value\n\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat7","apache-axis","axis"],"answers":[{"comments":[{"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"score":0,"creation_date":1352435296,"post_id":13302039,"comment_id":18140675,"body_markdown":"i have wrote this localhost:8080 means am getting following messages.please refer this:http://screencast.com/t/9h7ytkXRFYz         here Tomcat Manage is not available.","body":"i have wrote this localhost:8080 means am getting following messages.please refer this:<a href=\"http://screencast.com/t/9h7ytkXRFYz\" rel=\"nofollow noreferrer\">screencast.com/t/9h7ytkXRFYz</a>         here Tomcat Manage is not available."},{"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"score":0,"creation_date":1352435443,"post_id":13302039,"comment_id":18140706,"body_markdown":"@user1796222- can you modify your server.xml file as shown above. Also please tell me your result","body":"@user1796222- can you modify your server.xml file as shown above. Also please tell me your result"},{"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"score":0,"creation_date":1352437207,"post_id":13302039,"comment_id":18141079,"body_markdown":"this code only saved in my server.xml file.autoDeploy=&quot;true&quot; unpackWARs=&quot;true&quot;.","body":"this code only saved in my server.xml file.autoDeploy=&quot;true&quot; unpackWARs=&quot;true&quot;."},{"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"score":1,"creation_date":1352437301,"post_id":13302039,"comment_id":18141104,"body_markdown":"i have uploaded one war file yesterday.it is successfully exported and displayed listservices successfully.but today i have upload another war file it is doesn&#39;t exported.","body":"i have uploaded one war file yesterday.it is successfully exported and displayed listservices successfully.but today i have upload another war file it is doesn&#39;t exported."},{"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"score":0,"creation_date":1352437592,"post_id":13302039,"comment_id":18141167,"body_markdown":"@user1796222- try to login to tomcat. And check your old deployed application is still there. If yes click undeploy. After that try to copy war file into webapps folder","body":"@user1796222- try to login to tomcat. And check your old deployed application is still there. If yes click undeploy. After that try to copy war file into webapps folder"},{"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"score":0,"creation_date":1352437753,"post_id":13302039,"comment_id":18141189,"body_markdown":"why i have to undeploy the old one.i have to deploy both war file.","body":"why i have to undeploy the old one.i have to deploy both war file."},{"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"score":0,"creation_date":1352438545,"post_id":13302039,"comment_id":18141350,"body_markdown":"i got the solution for this.","body":"i got the solution for this."},{"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"score":0,"creation_date":1352438616,"post_id":13302039,"comment_id":18141364,"body_markdown":"@user1796222- i thought you modified you war file and you need to redeploy the app. Thats why i told to undeploy old","body":"@user1796222- i thought you modified you war file and you need to redeploy the app. Thats why i told to undeploy old"},{"owner":{"account_id":2741900,"reputation":2725,"user_id":2363252,"accept_rate":67,"display_name":"stelios"},"score":0,"creation_date":1462011748,"post_id":13302039,"comment_id":61465121,"body_markdown":"These values are the default. I am facing the same issue I haven&#39;t touched those values.. they are true","body":"These values are the default. I am facing the same issue I haven&#39;t touched those values.. they are true"}],"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":9,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1699516114,"creation_date":1352434621,"answer_id":13302039,"question_id":13301882,"body_markdown":"Delete that war file from `webapps/` directory. Then open link `http://localhost:8080/` in your web browser. Click ***Tomcat Manager*** then enter user name and password. In next page you can see one option called ***&quot;WAR file to deploy&quot;***. Select your war file from there and click ***&quot;deploy&quot;*** button.\r\n\r\nIf you want auto deployment when you copy files to `webapp/` directory. Then make sure that your `server.xml` file contains following values:\r\n\r\n    autoDeploy=&quot;true&quot;\r\n    unpackWARs=&quot;true&quot;\r\n\r\nJust search these values in your `server.xml` file and edit values as shown above\r\n\r\n\r\nFor more info see [Deploy A New Application from a Local Path][1].\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Deploy_A_New_Application_from_a_Local_Path","title":"deploy war file in tomcat server","body":"<p>Delete that war file from <code>webapps/</code> directory. Then open link <code>http://localhost:8080/</code> in your web browser. Click <em><strong>Tomcat Manager</strong></em> then enter user name and password. In next page you can see one option called <em><strong>&quot;WAR file to deploy&quot;</strong></em>. Select your war file from there and click <em><strong>&quot;deploy&quot;</strong></em> button.</p>\n<p>If you want auto deployment when you copy files to <code>webapp/</code> directory. Then make sure that your <code>server.xml</code> file contains following values:</p>\n<pre><code>autoDeploy=&quot;true&quot;\nunpackWARs=&quot;true&quot;\n</code></pre>\n<p>Just search these values in your <code>server.xml</code> file and edit values as shown above</p>\n<p>For more info see <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Deploy_A_New_Application_from_a_Local_Path\" rel=\"nofollow noreferrer\">Deploy A New Application from a Local Path</a>.</p>\n"},{"tags":[],"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381249297,"creation_date":1381247686,"answer_id":19252547,"question_id":13301882,"body_markdown":"In general this happens when you have 2 `Tomcats`. If `CATALINA_HOME` is referring to `Tomcat-A` and you are trying to run `Tomcat-B` from `Tomcat-B/bin/startup.bat`. It will run `Tomcat-A`. Hence your war which you are trying to deploy in `Tomcat-B` will not be extracted as `Tomcat-A` is running in actual. ","title":"deploy war file in tomcat server","body":"<p>In general this happens when you have 2 <code>Tomcats</code>. If <code>CATALINA_HOME</code> is referring to <code>Tomcat-A</code> and you are trying to run <code>Tomcat-B</code> from <code>Tomcat-B/bin/startup.bat</code>. It will run <code>Tomcat-A</code>. Hence your war which you are trying to deploy in <code>Tomcat-B</code> will not be extracted as <code>Tomcat-A</code> is running in actual. </p>\n"}],"owner":{"account_id":2006461,"reputation":275,"user_id":1796222,"accept_rate":56,"display_name":"user1796222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98970,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":13302039,"answer_count":2,"score":21,"last_activity_date":1699516114,"creation_date":1352433243,"question_id":13301882,"body_markdown":"I have copied the sample.war file in webapps directory of tomcat.\r\n\r\nI can acess localhost:8080.\r\n\r\ndeploying of wars is automatic by default -i have checked my webapps folder for an extracted folder &quot;sample&quot;\r\n\r\nbut it is not extracted.why the war file is doesn&#39;t extracted.please give me solution for this.","title":"deploy war file in tomcat server","body":"<p>I have copied the sample.war file in webapps directory of tomcat.</p>\n\n<p>I can acess localhost:8080.</p>\n\n<p>deploying of wars is automatic by default -i have checked my webapps folder for an extracted folder \"sample\"</p>\n\n<p>but it is not extracted.why the war file is doesn't extracted.please give me solution for this.</p>\n"},{"tags":["java","android","nullpointerexception","effect","soundpool"],"owner":{"account_id":29778091,"reputation":13,"user_id":22821467,"display_name":"Kfir Arnesty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699515937,"creation_date":1699515937,"question_id":77451328,"body_markdown":"I am trying to create a sound selector in my app, but every time that im trying to use soundpool, its null. Even if I initialize it, its stil null. \r\nThe erors occurred on line:  soundPool.play(correctSound,1,1,0,0,1);\r\n\r\nThis is part of the code:\r\n\r\n```\r\npackage com.example.kfir_compare;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.media.AudioAttributes;\r\nimport android.media.AudioManager;\r\nimport android.media.SoundPool;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class Options extends AppCompatActivity {\r\n\r\n    private SoundPool soundPool;\r\n    private int correctSound;\r\n    private int incorrectSound;\r\n\r\n    private int correctSoundV;\r\n    private int incorrectSoundV;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_options);\r\n        configureBackButton();\r\n        initElements();\r\n        System.out.println(&quot;here&quot;);\r\n        //Options options = new Options(this);\r\n    }\r\n\r\n    private void configureBackButton() {\r\n        Button backButton = (Button) findViewById(R.id.BB);\r\n        backButton.setOnClickListener(new View.OnClickListener() {\r\n                                          @Override\r\n                                          public void onClick(View v) {\r\n                                              finish();\r\n                                          }\r\n                                      }\r\n        );\r\n    }\r\n\r\n    public Options() {\r\n        // Default constructor with no arguments\r\n    }\r\n//    public Options(Context context) {\r\n//        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n//            AudioAttributes audioAttributes = new AudioAttributes.Builder()\r\n//                    .setUsage(AudioAttributes.USAGE_ASSISTANCE_SONIFICATION)\r\n//                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\r\n//                    .build();\r\n//\r\n//            soundPool = new SoundPool.Builder()\r\n//                    .setMaxStreams(2)\r\n//                    .setAudioAttributes(audioAttributes)\r\n//                    .build();\r\n//        } else {\r\n//            soundPool = new SoundPool(1, AudioManager.STREAM_MUSIC, 0);\r\n//        }\r\n//\r\n//        correctSound = soundPool.load(context, R.raw.correctsoundnovoice, 1);\r\n//        incorrectSound = soundPool.load(context, R.raw.wrongsound, 1);\r\n//        correctSoundV = this.soundPool.load(context, R.raw.youarecorrectadiofile, 1);\r\n//        incorrectSoundV = this.soundPool.load(context, R.raw.youarewrongadiofile, 1);\r\n//    }\r\n\r\n    public void initializeSoundPool(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            AudioAttributes audioAttributes = new AudioAttributes.Builder()\r\n                    .setUsage(AudioAttributes.USAGE_ASSISTANCE_SONIFICATION)\r\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\r\n                    .build();\r\n\r\n            soundPool = new SoundPool.Builder()\r\n                    .setMaxStreams(2)\r\n                    .setAudioAttributes(audioAttributes)\r\n                    .build();\r\n        } else {\r\n            soundPool = new SoundPool(1, AudioManager.STREAM_MUSIC, 0);\r\n        }\r\n\r\n        correctSound = soundPool.load(context, R.raw.correctsoundnovoice, 1);\r\n        incorrectSound = soundPool.load(context, R.raw.wrongsound, 1);\r\n        correctSoundV = this.soundPool.load(context, R.raw.youarecorrectadiofile, 1);\r\n        incorrectSoundV = this.soundPool.load(context, R.raw.youarewrongadiofile, 1);\r\n    }\r\n\r\n        private void initElements() {\r\n\r\n    }\r\n\r\n\r\n    public void playSound(View view) {\r\n        if (view.getId() == R.id.VS){\r\n            soundPool.play(correctSound,1,1,0,0,1);\r\n            soundPool.play(incorrectSound,1,1,0,0,1);\r\n        }\r\n        else {\r\n            soundPool.play(correctSoundV,1,1,0,0,1);\r\n            soundPool.play(incorrectSoundV,1,1,0,0,1);\r\n        }\r\n    }\r\n\r\n    public SoundPool getSoundPool() {\r\n        return soundPool;\r\n    }\r\n\r\n    public void setSoundPool(SoundPool soundPool) {\r\n        this.soundPool = soundPool;\r\n    }\r\n\r\n    public int getCorrectSound() {\r\n        return correctSound;\r\n    }\r\n\r\n    public void setCorrectSound(int correctSound) {\r\n        this.correctSound = correctSound;\r\n    }\r\n\r\n    public int getIncorrectSound() {\r\n        return incorrectSound;\r\n    }\r\n\r\n    public void setIncorrectSound(int incorrectSound) {\r\n        this.incorrectSound = incorrectSound;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to use Chat GPT but he just sent me in circles. please help.Keep in mind that I am not familiar with sound pool, this is the first that I ever used it.","title":"soundpool always null even after initilazing it","body":"<p>I am trying to create a sound selector in my app, but every time that im trying to use soundpool, its null. Even if I initialize it, its stil null.\nThe erors occurred on line:  soundPool.play(correctSound,1,1,0,0,1);</p>\n<p>This is part of the code:</p>\n<pre><code>package com.example.kfir_compare;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.media.AudioAttributes;\nimport android.media.AudioManager;\nimport android.media.SoundPool;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class Options extends AppCompatActivity {\n\n    private SoundPool soundPool;\n    private int correctSound;\n    private int incorrectSound;\n\n    private int correctSoundV;\n    private int incorrectSoundV;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_options);\n        configureBackButton();\n        initElements();\n        System.out.println(&quot;here&quot;);\n        //Options options = new Options(this);\n    }\n\n    private void configureBackButton() {\n        Button backButton = (Button) findViewById(R.id.BB);\n        backButton.setOnClickListener(new View.OnClickListener() {\n                                          @Override\n                                          public void onClick(View v) {\n                                              finish();\n                                          }\n                                      }\n        );\n    }\n\n    public Options() {\n        // Default constructor with no arguments\n    }\n//    public Options(Context context) {\n//        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n//            AudioAttributes audioAttributes = new AudioAttributes.Builder()\n//                    .setUsage(AudioAttributes.USAGE_ASSISTANCE_SONIFICATION)\n//                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n//                    .build();\n//\n//            soundPool = new SoundPool.Builder()\n//                    .setMaxStreams(2)\n//                    .setAudioAttributes(audioAttributes)\n//                    .build();\n//        } else {\n//            soundPool = new SoundPool(1, AudioManager.STREAM_MUSIC, 0);\n//        }\n//\n//        correctSound = soundPool.load(context, R.raw.correctsoundnovoice, 1);\n//        incorrectSound = soundPool.load(context, R.raw.wrongsound, 1);\n//        correctSoundV = this.soundPool.load(context, R.raw.youarecorrectadiofile, 1);\n//        incorrectSoundV = this.soundPool.load(context, R.raw.youarewrongadiofile, 1);\n//    }\n\n    public void initializeSoundPool(Context context) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            AudioAttributes audioAttributes = new AudioAttributes.Builder()\n                    .setUsage(AudioAttributes.USAGE_ASSISTANCE_SONIFICATION)\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n                    .build();\n\n            soundPool = new SoundPool.Builder()\n                    .setMaxStreams(2)\n                    .setAudioAttributes(audioAttributes)\n                    .build();\n        } else {\n            soundPool = new SoundPool(1, AudioManager.STREAM_MUSIC, 0);\n        }\n\n        correctSound = soundPool.load(context, R.raw.correctsoundnovoice, 1);\n        incorrectSound = soundPool.load(context, R.raw.wrongsound, 1);\n        correctSoundV = this.soundPool.load(context, R.raw.youarecorrectadiofile, 1);\n        incorrectSoundV = this.soundPool.load(context, R.raw.youarewrongadiofile, 1);\n    }\n\n        private void initElements() {\n\n    }\n\n\n    public void playSound(View view) {\n        if (view.getId() == R.id.VS){\n            soundPool.play(correctSound,1,1,0,0,1);\n            soundPool.play(incorrectSound,1,1,0,0,1);\n        }\n        else {\n            soundPool.play(correctSoundV,1,1,0,0,1);\n            soundPool.play(incorrectSoundV,1,1,0,0,1);\n        }\n    }\n\n    public SoundPool getSoundPool() {\n        return soundPool;\n    }\n\n    public void setSoundPool(SoundPool soundPool) {\n        this.soundPool = soundPool;\n    }\n\n    public int getCorrectSound() {\n        return correctSound;\n    }\n\n    public void setCorrectSound(int correctSound) {\n        this.correctSound = correctSound;\n    }\n\n    public int getIncorrectSound() {\n        return incorrectSound;\n    }\n\n    public void setIncorrectSound(int incorrectSound) {\n        this.incorrectSound = incorrectSound;\n    }\n}\n</code></pre>\n<p>I tried to use Chat GPT but he just sent me in circles. please help.Keep in mind that I am not familiar with sound pool, this is the first that I ever used it.</p>\n"},{"tags":["java","orm","ibatis"],"owner":{"account_id":29861813,"reputation":1,"user_id":22885296,"display_name":"otis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699515513,"creation_date":1699515382,"question_id":77451272,"body_markdown":"Caused by: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named &#39;verionStartDate&#39; in &#39;class cn.sto.compass.domain.transferfee.request.TransferOutportOperQuery&#39;\r\n\r\n\r\ntell me how to make it out?","title":"java Myabtis exceptionjava Myabtis exceptionjava Myabtis exception","body":"<p>Caused by: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'verionStartDate' in 'class cn.sto.compass.domain.transferfee.request.TransferOutportOperQuery'</p>\n<p>tell me how to make it out?</p>\n"},{"tags":["java","spring","oracle","blob"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699362850,"post_id":77438422,"comment_id":136519884,"body_markdown":"Which line of the code is causing the error? Is it this one: `Blob blob = resultSet.getBlob(&quot;CONTENT&quot;);` ?","body":"Which line of the code is causing the error? Is it this one: <code>Blob blob = resultSet.getBlob(&quot;CONTENT&quot;);</code> ?"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1699371511,"post_id":77438422,"comment_id":136521810,"body_markdown":"Hi! i edited my post, im not sure where exactly i get the error, If you can help me debug, I can try.","body":"Hi! i edited my post, im not sure where exactly i get the error, If you can help me debug, I can try."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699372007,"post_id":77438422,"comment_id":136521912,"body_markdown":"Show us the complete stacktrace for the `OutOfMemoryError`","body":"Show us the complete stacktrace for the <code>OutOfMemoryError</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699411762,"post_id":77438422,"comment_id":136527209,"body_markdown":"I have never used Spring but is the stack trace (of the `OutOfMemoryError`) recorded anywhere? Perhaps in a log file? Also, do all of the `log.info(...` lines, that you added, get executed? The problematic line would be between the last `log.info(...` that got executed and the first one that did not.","body":"I have never used Spring but is the stack trace (of the <code>OutOfMemoryError</code>) recorded anywhere? Perhaps in a log file? Also, do all of the <code>log.info(...</code> lines, that you added, get executed? The problematic line would be between the last <code>log.info(...</code> that got executed and the first one that did not."}],"answers":[{"comments":[{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1699371604,"post_id":77438546,"comment_id":136521828,"body_markdown":"Hi! I tried your solution and seems nothing changed. The memory available from the logs seems to decrease by 200 MB that is the dimension of the file (BLOB).","body":"Hi! I tried your solution and seems nothing changed. The memory available from the logs seems to decrease by 200 MB that is the dimension of the file (BLOB)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699455527,"post_id":77438546,"comment_id":136533903,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77438546/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11828908,"reputation":1,"user_id":8656167,"display_name":"Adrian Bucher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699363253,"creation_date":1699363253,"answer_id":77438546,"question_id":77438422,"body_markdown":"In which line does the error occure? with a **resultSet.getBinaryStream()** you could save some lines and it should use less memory, as it does not load the blob first.","title":"How to Read a Large Blob from an Oracle Database in Chunks to Avoid Java Heap Space OutOfMemoryError?","body":"<p>In which line does the error occure? with a <strong>resultSet.getBinaryStream()</strong> you could save some lines and it should use less memory, as it does not load the blob first.</p>\n"}],"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699515481,"creation_date":1699362172,"question_id":77438422,"body_markdown":"I am working on a Java Spring service that reads a field of type BLOB from an Oracle database. This BLOB field contains a zip file, and my service is supposed to return this file in the response body to the client.\r\n\r\n\r\nI&#39;ve implemented the following code:\r\n\r\n```\r\npublic void datasetDownload(String id, HttpServletResponse response) throws SQLException, IOException {\r\n    try (Connection connection = dataSource.getConnection()) {\r\n        String sql = &quot;SELECT CONTENT FROM MY_TABLE_NAME WHERE ID = ?&quot;;\r\n        try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n            preparedStatement.setString(1, id);\r\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\r\n                if (resultSet.next()) {\r\n                    Blob blob = resultSet.getBlob(&quot;CONTENT&quot;);\r\n\r\n                    try (InputStream inputStream = blob.getBinaryStream();\r\n                         OutputStream outputStream = response.getOutputStream()) {\r\n                        byte[] buffer = new byte[1024];\r\n\r\n                        int bytesRead;\r\n                        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                            outputStream.write(buffer, 0, bytesRead);\r\n                        }\r\n                    }\r\n\r\n                    deleteRecord(id, connection);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, when I call this service, I encounter the following exception:\r\n\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\r\n\r\nI suspect that the issue is caused by reading the entire blob from the Oracle database into memory. To resolve this, I guess I need to read the blob in smaller chunks to avoid running out of Java heap space, but i don&#39;t know how to do this.\r\n\r\nThank you for your help!\r\n\r\nEdit: i tried adding some logs:\r\n\r\n        public void datasetDownload(String id, HttpServletResponse response) throws SQLException, IOException {\r\n        try (Connection connection = dataSource.getConnection()) {\r\n            String sql = &quot;SELECT CONTENT FROM MY_TABLE_NAME WHERE ID = ?&quot;;\r\n            try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n                preparedStatement.setString(1, id);\r\n                try (ResultSet resultSet = preparedStatement.executeQuery()) {\r\n                    if (resultSet.next()) {\r\n                        log.info(&quot;Start downloading the BLOB&quot;);\r\n                        log.info(&quot;Total memory available: &quot; + (int) (Runtime.getRuntime().totalMemory() / (1024 * 1024)) + &quot; MB&quot;);\r\n                        log.info(&quot;Max memory available: &quot; + (int) (Runtime.getRuntime().maxMemory() / (1024 * 1024)) + &quot; MB&quot;);\r\n\r\n                        try (InputStream inputStream = resultSet.getBinaryStream(&quot;CONTENT&quot;);\r\n                             OutputStream outputStream = response.getOutputStream()) {\r\n                            byte[] buffer = new byte[1024 * 1024];\r\n\r\n                            int bytesRead;\r\n\r\n                            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                                outputStream.write(buffer, 0, bytesRead);\r\n\r\n                                log.info(&quot;Memory available: &quot; + (int) (Runtime.getRuntime().freeMemory() / (1024 * 1024)) + &quot; MB&quot;);\r\n                            }\r\n                        }\r\n\r\n                        deleteRecord(id, connection);\r\n                        log.info(&quot;BLOB download completed&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nWhat happens is that i can see the last log &quot;BLOB download completed&quot;\r\nand than i get the OutOfMemoryError.\r\n\r\nAlso, the last memory available log is: \r\nMemory available: 570 MB\r\n\r\nEdit: actually i found a solution, i compressed the blob with ZipOutputStream and the machine isn&#39;t going OutOfMemory. Still i can&#39;t figure out what was the problem\r\n\r\n","title":"How to Read a Large Blob from an Oracle Database in Chunks to Avoid Java Heap Space OutOfMemoryError?","body":"<p>I am working on a Java Spring service that reads a field of type BLOB from an Oracle database. This BLOB field contains a zip file, and my service is supposed to return this file in the response body to the client.</p>\n<p>I've implemented the following code:</p>\n<pre><code>public void datasetDownload(String id, HttpServletResponse response) throws SQLException, IOException {\n    try (Connection connection = dataSource.getConnection()) {\n        String sql = &quot;SELECT CONTENT FROM MY_TABLE_NAME WHERE ID = ?&quot;;\n        try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n            preparedStatement.setString(1, id);\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                if (resultSet.next()) {\n                    Blob blob = resultSet.getBlob(&quot;CONTENT&quot;);\n\n                    try (InputStream inputStream = blob.getBinaryStream();\n                         OutputStream outputStream = response.getOutputStream()) {\n                        byte[] buffer = new byte[1024];\n\n                        int bytesRead;\n                        while ((bytesRead = inputStream.read(buffer)) != -1) {\n                            outputStream.write(buffer, 0, bytesRead);\n                        }\n                    }\n\n                    deleteRecord(id, connection);\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>However, when I call this service, I encounter the following exception:</p>\n<p>java.lang.OutOfMemoryError: Java heap space</p>\n<p>I suspect that the issue is caused by reading the entire blob from the Oracle database into memory. To resolve this, I guess I need to read the blob in smaller chunks to avoid running out of Java heap space, but i don't know how to do this.</p>\n<p>Thank you for your help!</p>\n<p>Edit: i tried adding some logs:</p>\n<pre><code>    public void datasetDownload(String id, HttpServletResponse response) throws SQLException, IOException {\n    try (Connection connection = dataSource.getConnection()) {\n        String sql = &quot;SELECT CONTENT FROM MY_TABLE_NAME WHERE ID = ?&quot;;\n        try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n            preparedStatement.setString(1, id);\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                if (resultSet.next()) {\n                    log.info(&quot;Start downloading the BLOB&quot;);\n                    log.info(&quot;Total memory available: &quot; + (int) (Runtime.getRuntime().totalMemory() / (1024 * 1024)) + &quot; MB&quot;);\n                    log.info(&quot;Max memory available: &quot; + (int) (Runtime.getRuntime().maxMemory() / (1024 * 1024)) + &quot; MB&quot;);\n\n                    try (InputStream inputStream = resultSet.getBinaryStream(&quot;CONTENT&quot;);\n                         OutputStream outputStream = response.getOutputStream()) {\n                        byte[] buffer = new byte[1024 * 1024];\n\n                        int bytesRead;\n\n                        while ((bytesRead = inputStream.read(buffer)) != -1) {\n                            outputStream.write(buffer, 0, bytesRead);\n\n                            log.info(&quot;Memory available: &quot; + (int) (Runtime.getRuntime().freeMemory() / (1024 * 1024)) + &quot; MB&quot;);\n                        }\n                    }\n\n                    deleteRecord(id, connection);\n                    log.info(&quot;BLOB download completed&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>What happens is that i can see the last log &quot;BLOB download completed&quot;\nand than i get the OutOfMemoryError.</p>\n<p>Also, the last memory available log is:\nMemory available: 570 MB</p>\n<p>Edit: actually i found a solution, i compressed the blob with ZipOutputStream and the machine isn't going OutOfMemory. Still i can't figure out what was the problem</p>\n"},{"tags":["java","spring-boot","arraylist","mocking"],"owner":{"account_id":29648547,"reputation":3,"user_id":22723030,"display_name":"nezuko-chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699515099,"creation_date":1699493755,"question_id":77449932,"body_markdown":"I am mocking a service in springboot. I need to mock values for a request body. I keep getting error when I try to add a list of values.\r\n\r\n```\r\nThis is the line of code:\r\n\r\nXYZ xyz = new xyz().foo(new ArrayList&lt;Foo&gt;().add(new Foo().id(&quot;etfvgvhfhfjygj&quot;).check(Boolean.TRUE)))\r\n\r\n```\r\n```\r\nFoo function:\r\npublic XYZ foo(List&lt;@Valid Foo&gt; foo) {\r\n    this.foo = foo;\r\n    return this;\r\n  }\r\n```\r\nFoo class has String id and Boolean check variables\r\n\r\n`The error I get is:\r\n&#39;foo(java.util.List&lt;abc.@jakarta.validation.Valid Foo&gt;)&#39; in &#39;abc.XYZ&#39; cannot be applied to &#39;(boolean)&#39;`\r\n\r\nI tried mocking the ArrayList&lt;Foo&gt; but I am unable to figure out how to proceed.","title":"Why am I getting a &quot;Change parameter type from list to boolean&quot; when I try to insert values","body":"<p>I am mocking a service in springboot. I need to mock values for a request body. I keep getting error when I try to add a list of values.</p>\n<pre><code>This is the line of code:\n\nXYZ xyz = new xyz().foo(new ArrayList&lt;Foo&gt;().add(new Foo().id(&quot;etfvgvhfhfjygj&quot;).check(Boolean.TRUE)))\n\n</code></pre>\n<pre><code>Foo function:\npublic XYZ foo(List&lt;@Valid Foo&gt; foo) {\n    this.foo = foo;\n    return this;\n  }\n</code></pre>\n<p>Foo class has String id and Boolean check variables</p>\n<p><code>The error I get is: 'foo(java.util.List&lt;abc.@jakarta.validation.Valid Foo&gt;)' in 'abc.XYZ' cannot be applied to '(boolean)'</code></p>\n<p>I tried mocking the ArrayList but I am unable to figure out how to proceed.</p>\n"},{"tags":["java","spring","spring-boot","openapi","openapi-generator"],"owner":{"account_id":1837892,"reputation":43,"user_id":1667880,"display_name":"techspl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699515063,"creation_date":1699515063,"question_id":77451245,"body_markdown":"    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class PetAllOf {\\n&quot;);\r\n        sb.append(&quot;    id: &quot;).append(toIndentedString(id)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n\r\nafter running openApi plugin for generating pojos , i see all toStrings having literal as class, \r\n[ sb.append(&quot;class PetAllOf {\\n&quot;);) class literal  before PetAllOf]which is causing issues to get exact request, as request also contains class literal, so how to avoid class literal in toString\r\n","title":"OpenApiGenerator pojos toString method having class literal appended and causing issues to getproper toString","body":"<pre><code>public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class PetAllOf {\\n&quot;);\n    sb.append(&quot;    id: &quot;).append(toIndentedString(id)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n</code></pre>\n<p>after running openApi plugin for generating pojos , i see all toStrings having literal as class,\n[ sb.append(&quot;class PetAllOf {\\n&quot;);) class literal  before PetAllOf]which is causing issues to get exact request, as request also contains class literal, so how to avoid class literal in toString</p>\n"},{"tags":["java","wso2"],"owner":{"account_id":7319392,"reputation":433,"user_id":5575868,"accept_rate":44,"display_name":"Sir George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699514596,"creation_date":1699514596,"question_id":77451194,"body_markdown":"I have an existing implementation of wso2 interceptor in java,but not sure how ishould extract multipart request contents.\r\n  \r\n\r\n    package org.mgw.interceptor;\r\n    import org.json.JSONObject;\r\n    import org.wso2.micro.gateway.interceptor.Caller;\r\n    import org.wso2.micro.gateway.interceptor.Interceptor;\r\n    import org.wso2.micro.gateway.interceptor.InterceptorException;\r\n    import org.wso2.micro.gateway.interceptor.Request;\r\n    import org.wso2.micro.gateway.interceptor.Response;\r\n\r\n    public class SampleInterceptor implements Interceptor {\r\n         public static String value=&quot;json&quot;;\r\n         public boolean interceptRequest(Caller caller, Request request) {\r\n              boolean hasApiKey = request.hasHeader(&quot;X-API-KEY&quot;);\r\n              if (!hasApiKey) {\r\n                  Response response = new Response();\r\n                  JSONObject responsePayload = new JSONObject().put(&quot;error&quot;, &quot;Missing required header&quot;);\r\n                  response.setResponseCode(400);\r\n                  response.setJsonPayload(responsePayload);\r\n                  caller.respond(response);\r\n                  // If we respond from the interceptor it is necessary to set the return value as false. \r\n                  // Otherwise the usual request flow will continue.\r\n                  return false; \r\n              }\r\n              return true;\r\n         }\r\n         public boolean interceptResponse(Caller caller, Response response) {\r\n              // Send a custom json message if the response contains the key &quot;error&quot;\r\n              try {\r\n                   JSONObject responseObject = response.getJsonPayload();\r\n                   if(responseObject.has(&quot;error&quot;)){\r\n                       JSONObject customErrorMessage = new JSONObject().put(&quot;error&quot;, &quot;Invalid json payload returned&quot;);\r\n                       response.setJsonPayload(customErrorMessage);\r\n              }\r\n              } catch (InterceptorException e) {\r\n                   System.out.println(&quot;Error while getting the response payload&quot;);\r\n              }\r\n              return true;\r\n         } \r\n    }\r\n\r\nHow do i extract form-data parameters from the Request class. Any ideas of methods to be used or relative approach to achieve this.wso2\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting multipart/form-data values in a wso2 gateway written in java using org.wso2.micro.gateway.interceptor.Request class","body":"<p>I have an existing implementation of wso2 interceptor in java,but not sure how ishould extract multipart request contents.</p>\n<pre><code>package org.mgw.interceptor;\nimport org.json.JSONObject;\nimport org.wso2.micro.gateway.interceptor.Caller;\nimport org.wso2.micro.gateway.interceptor.Interceptor;\nimport org.wso2.micro.gateway.interceptor.InterceptorException;\nimport org.wso2.micro.gateway.interceptor.Request;\nimport org.wso2.micro.gateway.interceptor.Response;\n\npublic class SampleInterceptor implements Interceptor {\n     public static String value=&quot;json&quot;;\n     public boolean interceptRequest(Caller caller, Request request) {\n          boolean hasApiKey = request.hasHeader(&quot;X-API-KEY&quot;);\n          if (!hasApiKey) {\n              Response response = new Response();\n              JSONObject responsePayload = new JSONObject().put(&quot;error&quot;, &quot;Missing required header&quot;);\n              response.setResponseCode(400);\n              response.setJsonPayload(responsePayload);\n              caller.respond(response);\n              // If we respond from the interceptor it is necessary to set the return value as false. \n              // Otherwise the usual request flow will continue.\n              return false; \n          }\n          return true;\n     }\n     public boolean interceptResponse(Caller caller, Response response) {\n          // Send a custom json message if the response contains the key &quot;error&quot;\n          try {\n               JSONObject responseObject = response.getJsonPayload();\n               if(responseObject.has(&quot;error&quot;)){\n                   JSONObject customErrorMessage = new JSONObject().put(&quot;error&quot;, &quot;Invalid json payload returned&quot;);\n                   response.setJsonPayload(customErrorMessage);\n          }\n          } catch (InterceptorException e) {\n               System.out.println(&quot;Error while getting the response payload&quot;);\n          }\n          return true;\n     } \n}\n</code></pre>\n<p>How do i extract form-data parameters from the Request class. Any ideas of methods to be used or relative approach to achieve this.wso2</p>\n"},{"tags":["java","spring","spring-boot","kotlin","jpa"],"answers":[{"tags":[],"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699514292,"creation_date":1699514292,"answer_id":77451167,"question_id":77449309,"body_markdown":"Apparently, the problem was in `@Column(name = &quot;user_id&quot;)` annotations.\r\nRemoving those in **EventDayId** and **EventDay** classes fixed the issue.","title":"Spring JPA cannot determine JdbcType","body":"<p>Apparently, the problem was in <code>@Column(name = &quot;user_id&quot;)</code> annotations.\nRemoving those in <strong>EventDayId</strong> and <strong>EventDay</strong> classes fixed the issue.</p>\n"}],"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699514292,"creation_date":1699481939,"question_id":77449309,"body_markdown":"I&#39;m trying to wire everything together: we have composite primary key in `EventDay`, and what i want is to map this key in `Event` so that we can access `EventDay` from there, and that&#39;s where problems begin.\r\n\r\nFull error: `Could not determine recommended JdbcType for `me.offeex.inmyelement.entity.User`\r\n\r\nHere&#39;s the code:\r\n\r\n**EventDay.kt**\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;days&quot;)\r\n@IdClass(EventDayId::class)\r\nclass EventDay {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @Column(name = &quot;user_id&quot;)\r\n    lateinit var user: User\r\n\r\n    @Id\r\n    val daysPassed: Long = LocalDate.now().toEpochDay()\r\n\r\n    @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)\r\n    @JoinColumns(\r\n        JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;),\r\n        JoinColumn(name = &quot;daysPassed&quot;, referencedColumnName = &quot;daysPassed&quot;)\r\n    )\r\n    lateinit var events: Set&lt;Event&gt;\r\n\r\n    lateinit var description: String\r\n}\r\n\r\ndata class EventDayId(\r\n    @Column(name = &quot;user_id&quot;) private val user: User,\r\n    private val daysPassed: Long\r\n) : Serializable\r\n```\r\n\r\n**User.kt**\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\nclass User(@Id val id: Long) {\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    lateinit var days: Set&lt;EventDay&gt;\r\n}\r\n```\r\n\r\n**Event.kt**\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;events&quot;)\r\nclass Event {\r\n    @Id\r\n    @GeneratedValue\r\n    var id: Long = 0\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;group_id&quot;)\r\n    lateinit var group: EventGroup\r\n\r\n    var rating: Byte = 0\r\n\r\n    lateinit var icon: URL\r\n}\r\n```","title":"Spring JPA cannot determine JdbcType","body":"<p>I'm trying to wire everything together: we have composite primary key in <code>EventDay</code>, and what i want is to map this key in <code>Event</code> so that we can access <code>EventDay</code> from there, and that's where problems begin.</p>\n<p>Full error: <code>Could not determine recommended JdbcType for </code>me.offeex.inmyelement.entity.User`</p>\n<p>Here's the code:</p>\n<p><strong>EventDay.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;days&quot;)\n@IdClass(EventDayId::class)\nclass EventDay {\n\n    @Id\n    @ManyToOne\n    @Column(name = &quot;user_id&quot;)\n    lateinit var user: User\n\n    @Id\n    val daysPassed: Long = LocalDate.now().toEpochDay()\n\n    @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)\n    @JoinColumns(\n        JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;),\n        JoinColumn(name = &quot;daysPassed&quot;, referencedColumnName = &quot;daysPassed&quot;)\n    )\n    lateinit var events: Set&lt;Event&gt;\n\n    lateinit var description: String\n}\n\ndata class EventDayId(\n    @Column(name = &quot;user_id&quot;) private val user: User,\n    private val daysPassed: Long\n) : Serializable\n</code></pre>\n<p><strong>User.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\nclass User(@Id val id: Long) {\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    lateinit var days: Set&lt;EventDay&gt;\n}\n</code></pre>\n<p><strong>Event.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;events&quot;)\nclass Event {\n    @Id\n    @GeneratedValue\n    var id: Long = 0\n\n    @ManyToOne\n    @JoinColumn(name = &quot;group_id&quot;)\n    lateinit var group: EventGroup\n\n    var rating: Byte = 0\n\n    lateinit var icon: URL\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699520083,"post_id":77451136,"comment_id":136543054,"body_markdown":"are you working from under a rock in the middle of the sahara desert? You either need the spring boot initializr or maven to install spring boot dependencies, both requires internet. Though, you could probably try to install jars for your application, put it on a pen drive and bring it to work.","body":"are you working from under a rock in the middle of the sahara desert? You either need the spring boot initializr or maven to install spring boot dependencies, both requires internet. Though, you could probably try to install jars for your application, put it on a pen drive and bring it to work."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699520609,"post_id":77451136,"comment_id":136543161,"body_markdown":"though logically speaking in such a work environment, your &quot;company&quot; should have already setup software for you or made it available in some sort of software centre that is accessible even without internet","body":"though logically speaking in such a work environment, your &quot;company&quot; should have already setup software for you or made it available in some sort of software centre that is accessible even without internet"},{"owner":{"account_id":226653,"reputation":39281,"user_id":487813,"accept_rate":84,"display_name":"apokryfos"},"score":0,"creation_date":1699691062,"post_id":77451136,"comment_id":136565616,"body_markdown":"Option 2 sounds like it is easily testable (and the one that sounds the most sensible) have you tried it? It&#39;s probably easier to try it yourself than ask about it","body":"Option 2 sounds like it is easily testable (and the one that sounds the most sensible) have you tried it? It&#39;s probably easier to try it yourself than ask about it"}],"owner":{"account_id":29751608,"reputation":1,"user_id":22801395,"display_name":"ahmad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699513966,"creation_date":1699513966,"question_id":77451136,"body_markdown":"I am working in environment where **no internet** is available. How I can build the spring boot application in such Environment. \r\n\r\n 1. There is one option to download all the jar file manually (how i can download all jar file in one go? ).\r\n 2. 2nd option to create spring boot application with spring boot starter on system where internet is available and then copy this project to system where no internet available ....\r\nBut question is IS it working?\r\n 3. Is there another way to achieve this task with spring boot.\r\n 4. If manually download all the jar file how i can know about the all jar files because there is a lot of jar files\r\n\r\n","title":"how to build spring boot application without internet","body":"<p>I am working in environment where <strong>no internet</strong> is available. How I can build the spring boot application in such Environment.</p>\n<ol>\n<li>There is one option to download all the jar file manually (how i can download all jar file in one go? ).</li>\n<li>2nd option to create spring boot application with spring boot starter on system where internet is available and then copy this project to system where no internet available ....\nBut question is IS it working?</li>\n<li>Is there another way to achieve this task with spring boot.</li>\n<li>If manually download all the jar file how i can know about the all jar files because there is a lot of jar files</li>\n</ol>\n"},{"tags":["java","mysql","mariadb","heidisql"],"comments":[{"owner":{"account_id":6975503,"reputation":716,"user_id":5350399,"display_name":"Adarsh"},"score":0,"creation_date":1699513532,"post_id":77451051,"comment_id":136541967,"body_markdown":"if you have privileges to create then you can create procedure or functions in any schema.. why do you think you cant create it ? just use schema_name and create it","body":"if you have privileges to create then you can create procedure or functions in any schema.. why do you think you cant create it ? just use schema_name and create it"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1699543577,"post_id":77451051,"comment_id":136547823,"body_markdown":"@Adarsh, You can create a procedure in any schema, but MariaDB stores metadata about all procedures in `mysql.proc`. This cannot be changed, it&#39;s part of their implementation. I suppose the OP doesn&#39;t want users to be able to view the code of the routines.","body":"@Adarsh, You can create a procedure in any schema, but MariaDB stores metadata about all procedures in <code>mysql.proc</code>. This cannot be changed, it&#39;s part of their implementation. I suppose the OP doesn&#39;t want users to be able to view the code of the routines."}],"answers":[{"comments":[{"owner":{"account_id":29861476,"reputation":3,"user_id":22885030,"display_name":"ChangshinKang"},"score":0,"creation_date":1699514515,"post_id":77451133,"comment_id":136542097,"body_markdown":"thank you, then I should consider other way round to deal with it.","body":"thank you, then I should consider other way round to deal with it."}],"tags":[],"owner":{"account_id":1047405,"reputation":8732,"user_id":1052130,"display_name":"slaakso"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699513945,"creation_date":1699513945,"answer_id":77451133,"question_id":77451051,"body_markdown":"Procedures are stored in the system table `mysql.proc` and cannot be stored elsewhere. This is just how MariaDB/MySQL works.\r\n\r\nIf you have security concerns about this, you should investigate the cause of the concern. By default, access to the mysql.proc procedure code is limited to those who created the procedure and those who have been granted access to it.","title":"Can I create procedure of mariadb in other location but mysql.proc?","body":"<p>Procedures are stored in the system table <code>mysql.proc</code> and cannot be stored elsewhere. This is just how MariaDB/MySQL works.</p>\n<p>If you have security concerns about this, you should investigate the cause of the concern. By default, access to the mysql.proc procedure code is limited to those who created the procedure and those who have been granted access to it.</p>\n"}],"owner":{"account_id":29861476,"reputation":3,"user_id":22885030,"display_name":"ChangshinKang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77451133,"answer_count":1,"score":0,"last_activity_date":1699513945,"creation_date":1699512889,"question_id":77451051,"body_markdown":"For security issue, I need to check whether I can create mariadb procedure in other schema, rather than mysql.proc. If it is possible, I would greatly appreciate the info and if it cannot, is there any other solid reason for it? Thank u in advance. (Mariadb version is 11.1.4)\r\n\r\nI googled multiple times about it, but if it&#39;s my lack of description or not, I could not find any clue. ","title":"Can I create procedure of mariadb in other location but mysql.proc?","body":"<p>For security issue, I need to check whether I can create mariadb procedure in other schema, rather than mysql.proc. If it is possible, I would greatly appreciate the info and if it cannot, is there any other solid reason for it? Thank u in advance. (Mariadb version is 11.1.4)</p>\n<p>I googled multiple times about it, but if it's my lack of description or not, I could not find any clue.</p>\n"},{"tags":["java","methods","linked-list"],"comments":[{"owner":{"account_id":1080568,"reputation":1352,"user_id":1077680,"accept_rate":63,"display_name":"L7ColWinters"},"score":0,"creation_date":1543980863,"post_id":53624675,"comment_id":94109714,"body_markdown":"what you actually have is just a node, you keep replacing the first node so the other stuff is lost. Maybe you should have a pointer to the first node and the last node? that way you can immediately add to the end or traverse in two different directions","body":"what you actually have is just a node, you keep replacing the first node so the other stuff is lost. Maybe you should have a pointer to the first node and the last node? that way you can immediately add to the end or traverse in two different directions"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1543984084,"post_id":53624675,"comment_id":94110431,"body_markdown":"Please read [mcve] and enhance your question accordingly. &quot;isn&#39;t exactly right&quot; isn&#39;t a proper problem description.","body":"Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. &quot;isn&#39;t exactly right&quot; isn&#39;t a proper problem description."}],"answers":[{"tags":[],"owner":{"account_id":1080568,"reputation":1352,"user_id":1077680,"accept_rate":63,"display_name":"L7ColWinters"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543981044,"creation_date":1543981044,"answer_id":53624812,"question_id":53624675,"body_markdown":"I think you should look at https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html and get an idea for the behavior of a linked list initially. Once you have an idea on how it behaves, you can think about how to add functionality around it. Right now you just have a single method which you call more than you should. What also might help is to create an interface and document it so you know what each method should do.","title":"How to find the first value in a linked list?","body":"<p>I think you should look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html</a> and get an idea for the behavior of a linked list initially. Once you have an idea on how it behaves, you can think about how to add functionality around it. Right now you just have a single method which you call more than you should. What also might help is to create an interface and document it so you know what each method should do.</p>\n"},{"tags":[],"owner":{"account_id":14726355,"reputation":7,"user_id":10635156,"display_name":"Juan Jos&#233; Torres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543981120,"creation_date":1543981120,"answer_id":53624823,"question_id":53624675,"body_markdown":"You should check that first isn&#39;t null in order to do what you describe in the question. Also, it is kind of weird that the first node autoreferences itself because usually it is left in null until you add another node","title":"How to find the first value in a linked list?","body":"<p>You should check that first isn't null in order to do what you describe in the question. Also, it is kind of weird that the first node autoreferences itself because usually it is left in null until you add another node</p>\n"},{"tags":[],"owner":{"account_id":14712496,"reputation":994,"user_id":10625458,"display_name":"elbraulio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543981685,"creation_date":1543981220,"answer_id":53624833,"question_id":53624675,"body_markdown":"notice that the first value is linked to the first `Node` with is `null`. Then you have to check two things\r\n\r\n1. `Node == null` (you got this)\r\n2. `Node.next == null` (you have to do this)\r\n\r\nWhen `Node.next == null`. It means that `Node` is first value because it is linked to the initial `Node` with is `null`.\r\n\r\nThen you have\r\n\r\n    public static Node getFirst(Node list)\r\n    {\r\n        // if the list is empty\r\n        if (list == null)\r\n        {\r\n          System.out.println(&quot;Error!&quot;);\r\n          System.exit(1);\r\n        } else if(list.link == null) {\r\n          // this is the first value!\r\n          return list;\r\n        } else {\r\n        // keep searching recursive with the next Node\r\n        return getFirst(list.link);\r\n        }\r\n    }","title":"How to find the first value in a linked list?","body":"<p>notice that the first value is linked to the first <code>Node</code> with is <code>null</code>. Then you have to check two things</p>\n\n<ol>\n<li><code>Node == null</code> (you got this)</li>\n<li><code>Node.next == null</code> (you have to do this)</li>\n</ol>\n\n<p>When <code>Node.next == null</code>. It means that <code>Node</code> is first value because it is linked to the initial <code>Node</code> with is <code>null</code>.</p>\n\n<p>Then you have</p>\n\n<pre><code>public static Node getFirst(Node list)\n{\n    // if the list is empty\n    if (list == null)\n    {\n      System.out.println(\"Error!\");\n      System.exit(1);\n    } else if(list.link == null) {\n      // this is the first value!\n      return list;\n    } else {\n    // keep searching recursive with the next Node\n    return getFirst(list.link);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199012,"reputation":3390,"user_id":444028,"accept_rate":90,"display_name":"Abhishek Oza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543992372,"creation_date":1543990098,"answer_id":53626147,"question_id":53624675,"body_markdown":"The class `MyLinkedList` in your question follows the pattern of a stack data structure(At the time when i am writing this answer). That is: ever time you add a new element, the new element replaces the previously added element as the first element.\r\n\r\nI guess you want to get `1` as your first element, if you have added elements `1`,`2`,`3` in that order. Correct me if i am wrong.\r\n\r\nIn that case your linked list and it&#39;s retrieval should be like this:\r\n\r\n(Note: i have avoided `private` vars , `public` &lt;i&gt;getter , settter&lt;/i&gt; , etc; to make code easily readable. But readers should add them.)\r\n\r\n    class Node{ int x; Node next; }\r\n    \r\n    class LinkedList\r\n    { Node head,tail;\r\n      void add(int y)\r\n      { Node node = new Node();\r\n        node.x=y;\r\n        if(head==null)\r\n          head = tail = node;\r\n        else\r\n          tail = tail.next = node;\r\n      }\r\n      int getFirst()\r\n      { if(head!=null)\r\n          return head.x;\r\n        else\r\n          throw new java.util.NoSuchElementException(&quot;List is empty&quot;);\r\n      }\r\n    }\r\n\r\nIf you look at `java.util.LinkedList`, you will find methods that are conventionally used in linked lists. If this is not a homework question, then i suggest you do not reinvent the wheel. Just use the existing libraries.\r\n\r\nIf you have to use the stack data structure, and you cannot change it, then i suggest you have to change your `getFirst()` like this:\r\n\r\n      int getFirst()\r\n      { if(tail!=null)\r\n          return tail.x;\r\n        else\r\n          throw new java.util.NoSuchElementException(&quot;List is empty&quot;);\r\n      }\r\n\r\nIf you not allowed to add `Node tail` in your code, then your `getFirst()` will look like this:\r\n\r\n      int getFirst()\r\n      { if(head==null)\r\n          throw new java.util.NoSuchElementException(&quot;List is empty&quot;);\r\n        Node node = head;\r\n        while(node.next!=null)\r\n          node=node.next;\r\n        return node.x;\r\n      }\r\n\r\n","title":"How to find the first value in a linked list?","body":"<p>The class <code>MyLinkedList</code> in your question follows the pattern of a stack data structure(At the time when i am writing this answer). That is: ever time you add a new element, the new element replaces the previously added element as the first element.</p>\n\n<p>I guess you want to get <code>1</code> as your first element, if you have added elements <code>1</code>,<code>2</code>,<code>3</code> in that order. Correct me if i am wrong.</p>\n\n<p>In that case your linked list and it's retrieval should be like this:</p>\n\n<p>(Note: i have avoided <code>private</code> vars , <code>public</code> <i>getter , settter</i> , etc; to make code easily readable. But readers should add them.)</p>\n\n<pre><code>class Node{ int x; Node next; }\n\nclass LinkedList\n{ Node head,tail;\n  void add(int y)\n  { Node node = new Node();\n    node.x=y;\n    if(head==null)\n      head = tail = node;\n    else\n      tail = tail.next = node;\n  }\n  int getFirst()\n  { if(head!=null)\n      return head.x;\n    else\n      throw new java.util.NoSuchElementException(\"List is empty\");\n  }\n}\n</code></pre>\n\n<p>If you look at <code>java.util.LinkedList</code>, you will find methods that are conventionally used in linked lists. If this is not a homework question, then i suggest you do not reinvent the wheel. Just use the existing libraries.</p>\n\n<p>If you have to use the stack data structure, and you cannot change it, then i suggest you have to change your <code>getFirst()</code> like this:</p>\n\n<pre><code>  int getFirst()\n  { if(tail!=null)\n      return tail.x;\n    else\n      throw new java.util.NoSuchElementException(\"List is empty\");\n  }\n</code></pre>\n\n<p>If you not allowed to add <code>Node tail</code> in your code, then your <code>getFirst()</code> will look like this:</p>\n\n<pre><code>  int getFirst()\n  { if(head==null)\n      throw new java.util.NoSuchElementException(\"List is empty\");\n    Node node = head;\n    while(node.next!=null)\n      node=node.next;\n    return node.x;\n  }\n</code></pre>\n"}],"owner":{"account_id":14591711,"reputation":61,"user_id":10538612,"display_name":"Bug Scramble"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1699513575,"creation_date":1543980010,"question_id":53624675,"body_markdown":"I have a linked list I&#39;m given and I need to find the first value in the list via a getFirst method.I need to display an error message and quit the program if the value is null. The linked list is already given to me link so:\r\n\r\n    class MyLinkedList\r\n    {\r\n       private class Node            // inner class\r\n       {\r\n          private Node link;\r\n          private int x;\r\n       }\r\n       //----------------------------------\r\n       private Node first = null;    // initial value is null\r\n       //----------------------------------\r\n       public void addFirst(int d)\r\n       {\r\n          Node newNode = new Node(); // create new node\r\n          newNode.x = d;             // init data field in new node\r\n          newNode.link = first;      // new node points to first node\r\n          first = newNode;           // first now points to new node\r\n       }\r\n       //----------------------------------\r\n       public void traverse()\r\n       {\r\n         Node p = first;\r\n          while (p != null)            // do loop until p goes null\r\n          {\r\n             System.out.println(p.x);  // display data\r\n             p = p.link;               // move p to next node\r\n          }\r\n       }\r\n    }\r\n    //==============================================\r\n    class TestMyLinkedList\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n          MyLinkedList list = new MyLinkedList();\r\n          list.addFirst(1);\r\n          list.addFirst(2);\r\n          list.addFirst(3);\r\n          System.out.println(&quot;Numbers on list&quot;);\r\n          list.traverse();\r\n       }\r\n    }\r\n\r\nHere&#39;s what I tried out for the method:\r\n\r\n     public static Node getFirst(Node list)\r\n      {\r\n        if (list == null)\r\n        {\r\n          System.out.println(&quot;Error!&quot;);\r\n          System.exit(1);\r\n        }\r\n        return MyLinkedList.first;\r\n      }\r\n\r\nI know this isn&#39;t exactly right, we just started this in my class so I&#39;m having trouble understanding what&#39;s going on with it. Thank you!","title":"How to find the first value in a linked list?","body":"<p>I have a linked list I'm given and I need to find the first value in the list via a getFirst method.I need to display an error message and quit the program if the value is null. The linked list is already given to me link so:</p>\n\n<pre><code>class MyLinkedList\n{\n   private class Node            // inner class\n   {\n      private Node link;\n      private int x;\n   }\n   //----------------------------------\n   private Node first = null;    // initial value is null\n   //----------------------------------\n   public void addFirst(int d)\n   {\n      Node newNode = new Node(); // create new node\n      newNode.x = d;             // init data field in new node\n      newNode.link = first;      // new node points to first node\n      first = newNode;           // first now points to new node\n   }\n   //----------------------------------\n   public void traverse()\n   {\n     Node p = first;\n      while (p != null)            // do loop until p goes null\n      {\n         System.out.println(p.x);  // display data\n         p = p.link;               // move p to next node\n      }\n   }\n}\n//==============================================\nclass TestMyLinkedList\n{\n   public static void main(String[] args)\n   {\n      MyLinkedList list = new MyLinkedList();\n      list.addFirst(1);\n      list.addFirst(2);\n      list.addFirst(3);\n      System.out.println(\"Numbers on list\");\n      list.traverse();\n   }\n}\n</code></pre>\n\n<p>Here's what I tried out for the method:</p>\n\n<pre><code> public static Node getFirst(Node list)\n  {\n    if (list == null)\n    {\n      System.out.println(\"Error!\");\n      System.exit(1);\n    }\n    return MyLinkedList.first;\n  }\n</code></pre>\n\n<p>I know this isn't exactly right, we just started this in my class so I'm having trouble understanding what's going on with it. Thank you!</p>\n"},{"tags":["java","javafx","textflow"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1699295180,"post_id":77433333,"comment_id":136511141,"body_markdown":"Probably (or maybe) a layout problem but there is no way to know from the limited information posted. Create and post a [mre]. *&quot;I think I am either not refreshing/updating my UI &quot;* There really should be no need to do this at all. In normal usage this will &quot;just happen&quot;.","body":"Probably (or maybe) a layout problem but there is no way to know from the limited information posted. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <i>&quot;I think I am either not refreshing/updating my UI &quot;</i> There really should be no need to do this at all. In normal usage this will &quot;just happen&quot;."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699297617,"post_id":77433333,"comment_id":136511526,"body_markdown":"@James_D Hi, thanks for the reply. I couldn&#39;t create a new post since this is my first post on stackoverflow. I edited in all relevant code if that helps.","body":"@James_D Hi, thanks for the reply. I couldn&#39;t create a new post since this is my first post on stackoverflow. I edited in all relevant code if that helps."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1699297974,"post_id":77433333,"comment_id":136511582,"body_markdown":"There are more layouts than HBox and VBox, which are not good choices when you want a child to fill all available space.  Your TextFlow should be the center child of a BorderPane, and the HBox containing the Button should be the bottom child of that same BorderPane.","body":"There are more layouts than HBox and VBox, which are not good choices when you want a child to fill all available space.  Your TextFlow should be the center child of a BorderPane, and the HBox containing the Button should be the bottom child of that same BorderPane."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1699298310,"post_id":77433333,"comment_id":136511648,"body_markdown":"What is `ComboBoxUtil`???","body":"What is <code>ComboBoxUtil</code>???"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1699298786,"post_id":77433333,"comment_id":136511698,"body_markdown":"I removed the reference to the non-existent class and this worked just fine for me; there was no clipping of the text. Did you test the actual code you posted?","body":"I removed the reference to the non-existent class and this worked just fine for me; there was no clipping of the text. Did you test the actual code you posted?"},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699299194,"post_id":77433333,"comment_id":136511752,"body_markdown":"@James_D ComboBoxUtil is a Utility class I wrote to get a list of hour and minute options for the combobox in my Dialog class. I forgot to add it to the post, apologies, though I&#39;m not sure how it would cause the render issue. I added the class to original post now.","body":"@James_D ComboBoxUtil is a Utility class I wrote to get a list of hour and minute options for the combobox in my Dialog class. I forgot to add it to the post, apologies, though I&#39;m not sure how it would cause the render issue. I added the class to original post now."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699299237,"post_id":77433333,"comment_id":136511759,"body_markdown":"@James_D I obviously tested the code.","body":"@James_D I obviously tested the code."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699299339,"post_id":77433333,"comment_id":136511775,"body_markdown":"@VGR I see, thank you. I am new to JavaFX so I appreciate any advice on best practices. I will try and see if this resolves my issue.","body":"@VGR I see, thank you. I am new to JavaFX so I appreciate any advice on best practices. I will try and see if this resolves my issue."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1699300512,"post_id":77433333,"comment_id":136511961,"body_markdown":"I am running with JavaFX 21 and JDK 21 on a Mac. There is no text clipping visible.","body":"I am running with JavaFX 21 and JDK 21 on a Mac. There is no text clipping visible."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699303161,"post_id":77433333,"comment_id":136512431,"body_markdown":"@jewelsea I am using JavaFX 20","body":"@jewelsea I am using JavaFX 20"},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699303213,"post_id":77433333,"comment_id":136512441,"body_markdown":"@James_D Interesting. I&#39;ve had this error in my console:\n\nWARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 20\n\nMaybe this is the cause?","body":"@James_D Interesting. I&#39;ve had this error in my console:  WARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 20  Maybe this is the cause?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699303480,"post_id":77433333,"comment_id":136512491,"body_markdown":"I removed the JavaFX 8 and 11 tags to prevent version confusion.","body":"I removed the JavaFX 8 and 11 tags to prevent version confusion."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1699304317,"post_id":77433333,"comment_id":136512634,"body_markdown":"*&quot;I&#39;ve had this error in my console ... &quot;* It&#39;s not an error, it&#39;s a warning; you can eliminate it just by removing the redundant&#160;`/20.0.1` from the XML namespace on the root element. I still can&#39;t reproduce the behavior in&#160;your screenshots.","body":"<i>&quot;I&#39;ve had this error in my console ... &quot;</i> It&#39;s not an error, it&#39;s a warning; you can eliminate it just by removing the redundant <code>&#47;20.0.1</code> from the XML namespace on the root element. I still can&#39;t reproduce the behavior in your screenshots."}],"answers":[{"comments":[{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699311505,"post_id":77434228,"comment_id":136513557,"body_markdown":"I changed my code and got the same result. I believe in this case the removal of the runLater method is causing the &quot;fix&quot;, rather than the fixed sizes (I tested it out). I say &quot;fix&quot;, because as I had mentioned in the post, the runLater &quot;has fixed a related render issue when selecting one event and switching to another&quot;. Try adding two different events with different titles and descriptions. When you switch between them, the description remains unchanged. So doing this brings up another rendering issue.","body":"I changed my code and got the same result. I believe in this case the removal of the runLater method is causing the &quot;fix&quot;, rather than the fixed sizes (I tested it out). I say &quot;fix&quot;, because as I had mentioned in the post, the runLater &quot;has fixed a related render issue when selecting one event and switching to another&quot;. Try adding two different events with different titles and descriptions. When you switch between them, the description remains unchanged. So doing this brings up another rendering issue."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699313884,"post_id":77434228,"comment_id":136513848,"body_markdown":"The sticky (incorrect) description displayed on event change is almost certainly due to an unrelated bug in your code (not a rendering issue). I updated the answer to include code that fixes the unrelated bug in your code.","body":"The sticky (incorrect) description displayed on event change is almost certainly due to an unrelated bug in your code (not a rendering issue). I updated the answer to include code that fixes the unrelated bug in your code."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699316719,"post_id":77434228,"comment_id":136514101,"body_markdown":"Thank you for the fantastic and elaborate response. Is your code the best practice/recommended way for working with ListView? Also, do you mind telling me which line(s) in particular were causing the bug, so that I can avoid the bug in the future.","body":"Thank you for the fantastic and elaborate response. Is your code the best practice/recommended way for working with ListView? Also, do you mind telling me which line(s) in particular were causing the bug, so that I can avoid the bug in the future."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699318617,"post_id":77434228,"comment_id":136514282,"body_markdown":"Added a FAQ section to the answer to address additional questions.","body":"Added a FAQ section to the answer to address additional questions."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699322210,"post_id":77434228,"comment_id":136514515,"body_markdown":"Thank you! This response is awesome. I will be applying an MVC structure moving forward.","body":"Thank you! This response is awesome. I will be applying an MVC structure moving forward."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699547887,"post_id":77434228,"comment_id":136548771,"body_markdown":"Hi @jewelsea. I just want to give an update on the bug/issue. Since your response I&#39;ve refactored this project to an MVC format and separately created a functionally identical project utilizing your answer above. In both of my approaches the render issue (where the description doesn&#39;t change) still persists. I&#39;ve just realized it now because the problem only happens when I tap click an item in the list (I am on MacBook Pro with MacOS Ventura 13.4) but NOT when I do a full press/click on my touchpad or click with my mouse. Should I create a new post? Thanks.","body":"Hi @jewelsea. I just want to give an update on the bug/issue. Since your response I&#39;ve refactored this project to an MVC format and separately created a functionally identical project utilizing your answer above. In both of my approaches the render issue (where the description doesn&#39;t change) still persists. I&#39;ve just realized it now because the problem only happens when I tap click an item in the list (I am on MacBook Pro with MacOS Ventura 13.4) but NOT when I do a full press/click on my touchpad or click with my mouse. Should I create a new post? Thanks."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699550341,"post_id":77434228,"comment_id":136549323,"body_markdown":"Calling eventInfoTextFlow.layout(); after setting the text in the textflow seems to fix the issue. I got the idea from this post: https://stackoverflow.com/questions/75785017/javafx-add-text-to-textflow-rendering-issue so perhaps its a similar bug?","body":"Calling eventInfoTextFlow.layout(); after setting the text in the textflow seems to fix the issue. I got the idea from this post: <a href=\"https://stackoverflow.com/questions/75785017/javafx-add-text-to-textflow-rendering-issue\" title=\"javafx add text to textflow rendering issue\">stackoverflow.com/questions/75785017/&hellip;</a> so perhaps its a similar bug?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699551802,"post_id":77434228,"comment_id":136549608,"body_markdown":"I don’t know.  As I noted the TextFlow clipping issue was not consistently replicable for me. I’d advise posting the details of your proposed workaround as an answer, but unfortunately the question was closed, so I don’t think that will be possible.","body":"I don’t know.  As I noted the TextFlow clipping issue was not consistently replicable for me. I’d advise posting the details of your proposed workaround as an answer, but unfortunately the question was closed, so I don’t think that will be possible."},{"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"score":0,"creation_date":1699553095,"post_id":77434228,"comment_id":136549833,"body_markdown":"The question was reopened today, so once I get more details surrounding the workaround, I&#39;ll post it as an answer.","body":"The question was reopened today, so once I get more details surrounding the workaround, I&#39;ll post it as an answer."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699318589,"creation_date":1699304456,"answer_id":77434228,"question_id":77433333,"body_markdown":"**Reproduction**\r\n\r\nThe clipping shown in the question replicated for me with the FXML provided in the question on JavaFX 21 on a Mac.  Here is a broken (clipped output) for a value for the title field of &quot;Title&quot; and the description field of &quot;E&quot;:\r\n\r\n[![clipped][1]][1]\r\n\r\nI didn&#39;t run a detailed analysis of why the clipping occurred.  But strangely I couldn&#39;t make it occur all of the time.  It would only occur sometimes.\r\n\r\n**Minor modifications that appeared to fix the rendering issue**\r\n\r\nI made minor modifications to the code and the FXML, which appeared to fix the issue.  But perhaps I just got lucky running the updated code and having it work rather than fixing the issue.\r\n\r\n[![title and description][2]][2]\r\n\r\nI removed the unnecessary `runLater` call in `displaySelectedEventInfo` (likely did not affect rendering).\r\n\r\nI modified the FXML to remove some unnecessary hardcoded sizes (this is probably what fixed the issue).\r\n\r\n**Additional modifications to fix bugs unrelated to TextFlow rendering**\r\n\r\nIn your question you noted:\r\n\r\n&gt; I have added `Platform.runlater` to see if running the UI update code in the Application Thread will fix this problem. \r\n\r\nHowever, from the application programmer&#39;s point of view, JavaFX is a single-threaded framework. All code will already be run on the JavaFX application thread once the framework is started (unless you explicitly start creating your own threads, which you don&#39;t do or need in this example).  This is why in my example I don&#39;t use `runLater`.\r\n\r\nThere were some other bugs in the logic of your code, as mentioned in comments:\r\n\r\n&gt; Try adding two different events with different titles and descriptions. When you switch between them, the description remains unchanged. \r\n\r\nThe sticky (incorrect) description displayed is almost certainly due to a bug in your code (not a JavaFX library rendering issue). \r\n\r\nI rewrote parts of your code to allow it to work.  This work was to remove the `EventBoard` class from your code and rely on the ListView for maintaining the event list and selected event instead of using your own class (which had bugs in it) to try to do this.\r\n\r\n**Sample code**\r\n\r\n`Main`, `ComboBoxUtil`, `Event`, and `EventDialog` code from your question is unchanged and not included here.\r\n\r\n*MainController.java*\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Dialog;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.Text;\r\n    import javafx.scene.text.TextFlow;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    public class MainController {\r\n    \r\n        @FXML\r\n        private ListView&lt;Event&gt; eventListView;\r\n    \r\n        @FXML\r\n        private TextFlow eventInfoTextFlow;\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            eventListView.getSelectionModel().selectedItemProperty().addListener((observable, previouslySelectedEvent, selectedEvent) -&gt;\r\n                    displayEventDetail(selectedEvent)\r\n            );\r\n        }\r\n    \r\n        private void displayEventDetail(Event event) {\r\n            eventInfoTextFlow.getChildren().clear();\r\n    \r\n            if (event == null) {\r\n                return;\r\n            }\r\n    \r\n            Text eventTitle = new Text(event.getTitle() + &quot;\\n&quot;);\r\n            eventTitle.setFont(Font.font(&quot;System&quot;, 25));\r\n    \r\n            Text eventDescription = new Text(event.getDescription());\r\n            eventDescription.setFont(Font.font(&quot;System&quot;, 20));\r\n    \r\n            eventInfoTextFlow.getChildren().addAll(eventTitle, eventDescription);\r\n            eventInfoTextFlow.setLineSpacing(5.0);\r\n        }\r\n    \r\n        @FXML\r\n        private void onCreateEvent() {\r\n            Dialog&lt;Event&gt; eventDialog = new EventDialog(new Event());\r\n    \r\n            Optional&lt;Event&gt; optionalEvent = eventDialog.showAndWait();\r\n            if (optionalEvent.isPresent()) {\r\n                Event event = optionalEvent.get();\r\n                eventListView.getItems().add(event);\r\n                eventListView.getSelectionModel().select(event);\r\n            }\r\n        }\r\n    }\r\n\r\n*Main.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.TextFlow?&gt;\r\n    \r\n    &lt;HBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.test.demo.login.MainController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;ListView fx:id=&quot;eventListView&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n            &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;TextFlow fx:id=&quot;eventInfoTextFlow&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n                        &lt;/padding&gt;\r\n                    &lt;/TextFlow&gt;\r\n                    &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;50.0&quot; VBox.vgrow=&quot;NEVER&quot;&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n                        &lt;/padding&gt;\r\n                        &lt;children&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onCreateEvent&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Create Event&quot; /&gt;\r\n                        &lt;/children&gt;\r\n                    &lt;/HBox&gt;\r\n                &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/children&gt;\r\n    &lt;/HBox&gt;\r\n\r\n**FAQ**\r\n\r\n&gt; Is your code the best practice/recommended way for working with ListView?\r\n\r\nIt depends.  \r\n\r\nFor a simple application, such as this one currently, then yes, I would say the solution provided in this answer is a best practice.  This is because the ListView already has exactly the right abstractions that are needed, it maintains a list of items backing the list and maintains a selection model for the selected item in the list.  You don&#39;t have to (and should not) reinvent that logic in your own code.\r\n\r\nIf the application were more complex, then you might change the architecture a bit.  In particular, you could add an [MVC design][3] where you have a model class with an ObservableList of events and an ObjectProperty defining the current event, but *no* UI logic at all.\r\n\r\nWith MVC, you could perform a bidirectional binding of the event list in your model with the items in the ListView and also a bidirectional binding of the selected event in the ListView with the current event in your model.  But that is only needed if you need that info elsewhere in the application.  For instance, if another, completely unrelated, FXML page works with the current event it gets from the model by also binding to it, knowing nothing at all about the ListView and the controller the ListView is encapsulated in.\r\n\r\nThe concept of encapsulating the UI and encapsulating the data is different.  Rather than linking both the data structure and the UI as you do in your `EventBoard` implementation, you can keep them separate, that way the UI can change without changing the model structure and other, non-UI elements can use the model data without having any dependence on the UI.  Then everything can be developed and tested separately, for instance, a persistence service or layer that persisted model data to a database or file system could be coded independently of the UI.\r\n\r\nBut, for your application, which is simple so far, those concerns don&#39;t really apply, so it is better not to prematurely complicate and abstract the application by adding an MVC layer.\r\n\r\n&gt; which line(s) in particular were causing the bug, so that I can avoid the bug in the future.\r\n\r\nI didn&#39;t debug your code in detail to try to find your issues, it was quicker and easier just to refactor it.  Sometimes it is a better idea to re-evaluate and rework the design than to debug a design with issues (I found this to be the case here).\r\n\r\nOne obvious issue is using the `onMouseClick` handler to try to capture selection changes in the `ListView`.  This is simply wrong because the selection can change in numerous ways unrelated to mouse clicks (e.g. keyboard input or programmatic changes to the selection model).\r\n\r\nAn over-complication of your original design is trying to maintain separate lists and selection handling in the EventBoard and having a complex UI implemented in that class.  Sometimes you want componentized UI, where that approach might be a good idea.  For example, if you have a reusable UI component that will be used in multiple places in your UI or in other applications or library code.  But if you don&#39;t have such a setup, the extra complexity and overhead in creating a componentized reusable component is usually not worth it and potentially error-prone.\r\n\r\nIn this case, it was better to handle all of the UI logic directly in the FXML controller, where all of the required UI elements and events were already well-defined and encapsulated.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tyl5Q.png\r\n  [2]: https://i.stack.imgur.com/5Yacb.png\r\n  [3]: https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","title":"Why is the Text in my TextFlow rendering only partially?","body":"<p><strong>Reproduction</strong></p>\n<p>The clipping shown in the question replicated for me with the FXML provided in the question on JavaFX 21 on a Mac.  Here is a broken (clipped output) for a value for the title field of &quot;Title&quot; and the description field of &quot;E&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/Tyl5Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tyl5Q.png\" alt=\"clipped\" /></a></p>\n<p>I didn't run a detailed analysis of why the clipping occurred.  But strangely I couldn't make it occur all of the time.  It would only occur sometimes.</p>\n<p><strong>Minor modifications that appeared to fix the rendering issue</strong></p>\n<p>I made minor modifications to the code and the FXML, which appeared to fix the issue.  But perhaps I just got lucky running the updated code and having it work rather than fixing the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/5Yacb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Yacb.png\" alt=\"title and description\" /></a></p>\n<p>I removed the unnecessary <code>runLater</code> call in <code>displaySelectedEventInfo</code> (likely did not affect rendering).</p>\n<p>I modified the FXML to remove some unnecessary hardcoded sizes (this is probably what fixed the issue).</p>\n<p><strong>Additional modifications to fix bugs unrelated to TextFlow rendering</strong></p>\n<p>In your question you noted:</p>\n<blockquote>\n<p>I have added <code>Platform.runlater</code> to see if running the UI update code in the Application Thread will fix this problem.</p>\n</blockquote>\n<p>However, from the application programmer's point of view, JavaFX is a single-threaded framework. All code will already be run on the JavaFX application thread once the framework is started (unless you explicitly start creating your own threads, which you don't do or need in this example).  This is why in my example I don't use <code>runLater</code>.</p>\n<p>There were some other bugs in the logic of your code, as mentioned in comments:</p>\n<blockquote>\n<p>Try adding two different events with different titles and descriptions. When you switch between them, the description remains unchanged.</p>\n</blockquote>\n<p>The sticky (incorrect) description displayed is almost certainly due to a bug in your code (not a JavaFX library rendering issue).</p>\n<p>I rewrote parts of your code to allow it to work.  This work was to remove the <code>EventBoard</code> class from your code and rely on the ListView for maintaining the event list and selected event instead of using your own class (which had bugs in it) to try to do this.</p>\n<p><strong>Sample code</strong></p>\n<p><code>Main</code>, <code>ComboBoxUtil</code>, <code>Event</code>, and <code>EventDialog</code> code from your question is unchanged and not included here.</p>\n<p><em>MainController.java</em></p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.Dialog;\nimport javafx.scene.control.ListView;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextFlow;\n\nimport java.util.Optional;\n\npublic class MainController {\n\n    @FXML\n    private ListView&lt;Event&gt; eventListView;\n\n    @FXML\n    private TextFlow eventInfoTextFlow;\n\n    @FXML\n    private void initialize() {\n        eventListView.getSelectionModel().selectedItemProperty().addListener((observable, previouslySelectedEvent, selectedEvent) -&gt;\n                displayEventDetail(selectedEvent)\n        );\n    }\n\n    private void displayEventDetail(Event event) {\n        eventInfoTextFlow.getChildren().clear();\n\n        if (event == null) {\n            return;\n        }\n\n        Text eventTitle = new Text(event.getTitle() + &quot;\\n&quot;);\n        eventTitle.setFont(Font.font(&quot;System&quot;, 25));\n\n        Text eventDescription = new Text(event.getDescription());\n        eventDescription.setFont(Font.font(&quot;System&quot;, 20));\n\n        eventInfoTextFlow.getChildren().addAll(eventTitle, eventDescription);\n        eventInfoTextFlow.setLineSpacing(5.0);\n    }\n\n    @FXML\n    private void onCreateEvent() {\n        Dialog&lt;Event&gt; eventDialog = new EventDialog(new Event());\n\n        Optional&lt;Event&gt; optionalEvent = eventDialog.showAndWait();\n        if (optionalEvent.isPresent()) {\n            Event event = optionalEvent.get();\n            eventListView.getItems().add(event);\n            eventListView.getSelectionModel().select(event);\n        }\n    }\n}\n</code></pre>\n<p><em>Main.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.TextFlow?&gt;\n\n&lt;HBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.test.demo.login.MainController&quot;&gt;\n    &lt;children&gt;\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n            &lt;children&gt;\n                &lt;ListView fx:id=&quot;eventListView&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n            &lt;/children&gt;\n        &lt;/VBox&gt;\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n            &lt;children&gt;\n                &lt;TextFlow fx:id=&quot;eventInfoTextFlow&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n                    &lt;padding&gt;\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n                    &lt;/padding&gt;\n                &lt;/TextFlow&gt;\n                &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;50.0&quot; VBox.vgrow=&quot;NEVER&quot;&gt;\n                    &lt;padding&gt;\n                        &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\n                    &lt;/padding&gt;\n                    &lt;children&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onCreateEvent&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Create Event&quot; /&gt;\n                    &lt;/children&gt;\n                &lt;/HBox&gt;\n            &lt;/children&gt;\n        &lt;/VBox&gt;\n    &lt;/children&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Is your code the best practice/recommended way for working with ListView?</p>\n</blockquote>\n<p>It depends.</p>\n<p>For a simple application, such as this one currently, then yes, I would say the solution provided in this answer is a best practice.  This is because the ListView already has exactly the right abstractions that are needed, it maintains a list of items backing the list and maintains a selection model for the selected item in the list.  You don't have to (and should not) reinvent that logic in your own code.</p>\n<p>If the application were more complex, then you might change the architecture a bit.  In particular, you could add an <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC design</a> where you have a model class with an ObservableList of events and an ObjectProperty defining the current event, but <em>no</em> UI logic at all.</p>\n<p>With MVC, you could perform a bidirectional binding of the event list in your model with the items in the ListView and also a bidirectional binding of the selected event in the ListView with the current event in your model.  But that is only needed if you need that info elsewhere in the application.  For instance, if another, completely unrelated, FXML page works with the current event it gets from the model by also binding to it, knowing nothing at all about the ListView and the controller the ListView is encapsulated in.</p>\n<p>The concept of encapsulating the UI and encapsulating the data is different.  Rather than linking both the data structure and the UI as you do in your <code>EventBoard</code> implementation, you can keep them separate, that way the UI can change without changing the model structure and other, non-UI elements can use the model data without having any dependence on the UI.  Then everything can be developed and tested separately, for instance, a persistence service or layer that persisted model data to a database or file system could be coded independently of the UI.</p>\n<p>But, for your application, which is simple so far, those concerns don't really apply, so it is better not to prematurely complicate and abstract the application by adding an MVC layer.</p>\n<blockquote>\n<p>which line(s) in particular were causing the bug, so that I can avoid the bug in the future.</p>\n</blockquote>\n<p>I didn't debug your code in detail to try to find your issues, it was quicker and easier just to refactor it.  Sometimes it is a better idea to re-evaluate and rework the design than to debug a design with issues (I found this to be the case here).</p>\n<p>One obvious issue is using the <code>onMouseClick</code> handler to try to capture selection changes in the <code>ListView</code>.  This is simply wrong because the selection can change in numerous ways unrelated to mouse clicks (e.g. keyboard input or programmatic changes to the selection model).</p>\n<p>An over-complication of your original design is trying to maintain separate lists and selection handling in the EventBoard and having a complex UI implemented in that class.  Sometimes you want componentized UI, where that approach might be a good idea.  For example, if you have a reusable UI component that will be used in multiple places in your UI or in other applications or library code.  But if you don't have such a setup, the extra complexity and overhead in creating a componentized reusable component is usually not worth it and potentially error-prone.</p>\n<p>In this case, it was better to handle all of the UI logic directly in the FXML controller, where all of the required UI elements and events were already well-defined and encapsulated.</p>\n"}],"owner":{"account_id":18787782,"reputation":11,"user_id":13701006,"display_name":"Fatih Pirim"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699513402,"creation_date":1699294459,"question_id":77433333,"body_markdown":"I am creating an object called Event using a Dialog box. Event has the properties title and description. Upon creating the Event object and exiting from the Dialog, I am displaying the title and description of the new Event in a TextFlow. The issue is, the title text is only partially rendering:\r\n\r\n[Example of Partial Rendering Problem](https://i.stack.imgur.com/9nKM2.png)\r\n\r\n[Example 2](https://i.stack.imgur.com/eeA5G.png)[  \r\nExample 3](https://i.stack.imgur.com/JreBv.png)\r\n\r\nThe following is the relevant code:\r\n\r\nMain.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Main.fxml&quot;)));\r\n\r\n        Scene main = new Scene(root);\r\n\r\n        stage.setScene(main);\r\n\r\n        stage.show();\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nMainController.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.text.TextFlow;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class MainController {\r\n\r\n    private final EventBoard eventBoard = EventBoard.getInstance();\r\n\r\n    @FXML\r\n    private ListView&lt;Event&gt; eventListView;\r\n\r\n    @FXML\r\n    private TextFlow eventInfoTextFlow;\r\n\r\n    @FXML\r\n    private void onCreateEvent(ActionEvent event) throws IOException {\r\n        // made this an optional in the case that the user closes the dialog without creating an event\r\n        Optional&lt;Event&gt; optionalCreatedEvent =  Optional.ofNullable(eventBoard.createEvent());\r\n        if(optionalCreatedEvent.isPresent()) {\r\n            eventBoard.setSelectedEvent(optionalCreatedEvent.get());\r\n            eventBoard.loadEvents(eventListView);\r\n            eventBoard.displaySelectedEventInfo(eventInfoTextFlow);\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    private void onSelectEvent(MouseEvent event) throws IOException, InterruptedException {\r\n        // set selected event in event board\r\n        eventBoard.setSelectedEvent(eventListView.getSelectionModel().getSelectedItem());\r\n        // load info from the selected event into the info text flow\r\n        eventBoard.displaySelectedEventInfo(eventInfoTextFlow);\r\n    }\r\n\r\n}\r\n```\r\n\r\nEventBoard.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.control.Dialog;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.text.TextFlow;\r\n\r\nimport java.util.Optional;\r\n\r\npublic class EventBoard {\r\n\r\n    private static final EventBoard INSTANCE = new EventBoard();\r\n\r\n    public static EventBoard getInstance() {\r\n        return INSTANCE;\r\n    }\r\n\r\n    private final ObservableList&lt;Event&gt; events;\r\n\r\n    private Event selectedEvent;\r\n\r\n    public EventBoard() {\r\n        this.events = FXCollections.observableArrayList();\r\n    }\r\n\r\n    public Event createEvent() {\r\n        Dialog&lt;Event&gt; eventDialog = new EventDialog(new Event());\r\n\r\n        Optional&lt;Event&gt; optionalEvent = eventDialog.showAndWait();\r\n        if(optionalEvent.isPresent()) {\r\n            Event event = optionalEvent.get();\r\n            System.out.println(&quot;Added event: &quot; + event);\r\n            events.add(event);\r\n            return event;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void loadEvents(ListView&lt;Event&gt; eventListView) {\r\n        // clear list view for new load\r\n        eventListView.getItems().clear();\r\n        // add items to list view\r\n        eventListView.getItems().addAll(this.events);\r\n        // select the selected event\r\n        eventListView.getSelectionModel().select(selectedEvent);\r\n    }\r\n\r\n    public Event getSelectedEvent() {\r\n        return selectedEvent;\r\n    }\r\n\r\n    public void setSelectedEvent(Event selectedEvent) {\r\n        this.selectedEvent = selectedEvent;\r\n        System.out.println(&quot;The selected event is: &quot; + selectedEvent);\r\n        System.out.println(&quot;Its description is: &quot; + selectedEvent.getDescription());\r\n        System.out.println(&quot;And is on date: &quot; + selectedEvent.getDate());\r\n    }\r\n\r\n    public void displaySelectedEventInfo(TextFlow eventInfoTextFlow) {\r\n\r\n        Platform.runLater(()-&gt;{\r\n\r\n            Event event = this.selectedEvent;\r\n\r\n            if(!(eventInfoTextFlow.getChildren().isEmpty())) {\r\n                // clear all text\r\n                eventInfoTextFlow.getChildren().clear();\r\n            }\r\n\r\n            Text eventTitle = new Text(event.getTitle()+&quot;\\n&quot;); // try removing the \\n\r\n            System.out.println(&quot;title: &quot; + event.getTitle());\r\n            eventTitle.setFont(Font.font(&quot;System&quot;, 25));\r\n\r\n            Text eventDescription = new Text(event.getDescription());\r\n            eventDescription.setFont(Font.font(&quot;System&quot;, 20));\r\n\r\n            eventInfoTextFlow.getChildren().addAll(eventTitle, eventDescription);\r\n            eventInfoTextFlow.setLineSpacing(5.0);\r\n\r\n        });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nEventDialog.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.util.Callback;\r\n\r\n\r\npublic class EventDialog extends Dialog&lt;Event&gt; {\r\n\r\n    private final Event event;\r\n\r\n    TextField titleTextField;\r\n    TextField descriptionTextField;\r\n    DatePicker eventDatePicker;\r\n    ComboBox&lt;String&gt; hourComboBox;\r\n    ComboBox&lt;String&gt; minuteComboBox;\r\n\r\n    public EventDialog(Event event) {\r\n        super();\r\n        this.event = event;\r\n        buildUI();              // build ui\r\n        setPropertyBindings();  // set binding in text field\r\n        setResultConverter();   // return diary object from dialog\r\n    }\r\n\r\n    private void buildUI() {\r\n\r\n        Label newEventLabel = new Label(&quot;New Event&quot;);\r\n\r\n        Label titleLabel = new Label(&quot;Title:&quot;);\r\n        titleTextField = new TextField();\r\n\r\n        Label descriptionLabel = new Label(&quot;Description:&quot;);\r\n        descriptionTextField = new TextField();\r\n\r\n        Label eventDateLabel = new Label(&quot;Date:&quot;);\r\n        eventDatePicker = new DatePicker();\r\n        eventDatePicker.getEditor().setEditable(false);\r\n        eventDatePicker.getEditor().setMouseTransparent(true);\r\n        eventDatePicker.getEditor().setFocusTraversable(false);\r\n\r\n        Label eventTimeLabel = new Label(&quot;Time:&quot;);\r\n        Label colonLabel = new Label(&quot;  :  &quot;);\r\n        GridPane eventTimeGridPane = new GridPane();\r\n        hourComboBox = new ComboBox&lt;&gt;(ComboBoxUtil.getHourOptions());\r\n        minuteComboBox = new ComboBox&lt;&gt;(ComboBoxUtil.getMinuteOptions());\r\n        eventTimeGridPane.add(hourComboBox, 1, 0);\r\n        eventTimeGridPane.add(colonLabel, 2, 0);\r\n        eventTimeGridPane.add(minuteComboBox, 3, 0);\r\n\r\n\r\n        GridPane gridpane = new GridPane();\r\n        \r\n        gridpane.add(newEventLabel, 1, 0);\r\n\r\n        gridpane.add(titleLabel, 1, 1);\r\n        gridpane.add(titleTextField, 2, 1);\r\n\r\n        gridpane.add(descriptionLabel, 1, 2);\r\n        gridpane.add(descriptionTextField, 2, 2);\r\n\r\n        gridpane.add(eventDateLabel, 1, 3);\r\n        gridpane.add(eventDatePicker, 2, 3);\r\n\r\n        gridpane.add(eventTimeLabel, 1, 4);\r\n        gridpane.add(eventTimeGridPane, 2, 4);\r\n\r\n        gridpane.setHgap(10);\r\n        gridpane.setVgap(10);\r\n\r\n        // add gridpane to dialog pane\r\n        getDialogPane().setContent(gridpane);\r\n\r\n\r\n\r\n        // add cancel and ok buttons to dialog pane\r\n        getDialogPane().getButtonTypes().addAll(ButtonType.CANCEL, ButtonType.OK);\r\n\r\n        // logic to prevent ok button from closing if text field is empty\r\n        Button button = (Button) getDialogPane().lookupButton(ButtonType.OK);\r\n        button.addEventFilter(ActionEvent.ACTION, new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                if (!validateDialog()) {\r\n                    // the consume method will prevent the dialog from closing if there is no data in the text field\r\n                    event.consume();\r\n                }\r\n            }\r\n\r\n            private boolean validateDialog() {\r\n                // validates if there is data in the text field\r\n                \r\n                return !titleTextField.getText().isEmpty() &amp;&amp; !descriptionTextField.getText().isEmpty()\r\n                        &amp;&amp; !eventDatePicker.getEditor().getText().isEmpty() &amp;&amp; !hourComboBox.getSelectionModel().isEmpty()\r\n                            &amp;&amp; !minuteComboBox.getSelectionModel().isEmpty();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setPropertyBindings() {\r\n        titleTextField.textProperty().bindBidirectional(event.titleProperty());\r\n        descriptionTextField.textProperty().bindBidirectional(event.descriptionProperty());\r\n        eventDatePicker.getEditor().textProperty().bindBidirectional(event.dateProperty());\r\n        hourComboBox.valueProperty().bindBidirectional(event.hourProperty());\r\n        minuteComboBox.valueProperty().bindBidirectional(event.minuteProperty());\r\n    }\r\n    \r\n    private void setResultConverter() {\r\n\r\n        Callback&lt;ButtonType, Event&gt; personResultConverter = new Callback&lt;ButtonType, Event&gt;() {\r\n            @Override\r\n            public Event call(ButtonType param) {\r\n                if (param == ButtonType.OK) {\r\n                    return event;\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n        };\r\n\r\n        setResultConverter(personResultConverter);\r\n    }\r\n\r\n}\r\n```\r\n\r\nComboBoxUtil.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\n\r\nimport java.time.Instant;\r\n\r\npublic final class ComboBoxUtil {\r\n\r\n    public static ObservableList&lt;String&gt; getHourOptions() {\r\n        ObservableList&lt;String&gt; hourOptions = FXCollections.observableArrayList();\r\n        for(int i = 0; i &lt; 24; i++) {\r\n            hourOptions.add(Integer.toString(i));\r\n        }\r\n        return hourOptions;\r\n    }\r\n\r\n    public static ObservableList&lt;String&gt; getMinuteOptions() {\r\n        ObservableList&lt;String&gt; minuteOptions = FXCollections.observableArrayList();\r\n        for(int i = 0; i &lt; 60; i++) {\r\n            if(i &lt; 10) {\r\n                minuteOptions.add(&quot;0&quot;+Integer.toString(i));\r\n            } else {\r\n                minuteOptions.add(Integer.toString(i));\r\n            }\r\n\r\n        }\r\n        return minuteOptions;\r\n    }\r\n}\r\n```\r\n\r\nEvent.java\r\n\r\n```\r\npackage com.example.eventplanner;\r\n\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class Event {\r\n\r\n    private final StringProperty title;\r\n    private final StringProperty description;\r\n    private final StringProperty date;\r\n    private final StringProperty hour;\r\n    private final StringProperty minute;\r\n\r\n\r\n    public Event() {\r\n        this.title = new SimpleStringProperty(&quot;&quot;);\r\n        this.description = new SimpleStringProperty(&quot;&quot;);\r\n        this.date = new SimpleStringProperty(&quot;&quot;);\r\n        this.hour = new SimpleStringProperty(&quot;&quot;);\r\n        this.minute = new SimpleStringProperty(&quot;&quot;);\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title.get();\r\n    }\r\n\r\n    public StringProperty titleProperty() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title.set(title);\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description.get();\r\n    }\r\n\r\n    public StringProperty descriptionProperty() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description.set(description);\r\n    }\r\n\r\n    public String getDate() {\r\n        return date.get();\r\n    }\r\n\r\n    public StringProperty dateProperty() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date.set(date);\r\n    }\r\n\r\n    public String getHour() {\r\n        return hour.get();\r\n    }\r\n\r\n    public StringProperty hourProperty() {\r\n        return hour;\r\n    }\r\n\r\n    public void setHour(String hour) {\r\n        this.hour.set(hour);\r\n    }\r\n\r\n    public String getMinute() {\r\n        return minute.get();\r\n    }\r\n\r\n    public StringProperty minuteProperty() {\r\n        return minute;\r\n    }\r\n\r\n    public void setMinute(String minute) {\r\n        this.minute.set(minute);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.getTitle();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Event event = (Event) o;\r\n        return Objects.equals(title, event.title) &amp;&amp; Objects.equals(description, event.description) &amp;&amp; Objects.equals(date, event.date) &amp;&amp; Objects.equals(hour, event.hour) &amp;&amp; Objects.equals(minute, event.minute);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(title, description, date, hour, minute);\r\n    }\r\n}\r\n```\r\n\r\nMain.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ListView?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.TextFlow?&gt;\r\n\r\n&lt;HBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;663.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.eventplanner.MainController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;ListView fx:id=&quot;eventListView&quot; onMouseClicked=&quot;#onSelectEvent&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;TextFlow fx:id=&quot;eventInfoTextFlow&quot; prefHeight=&quot;350.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;&lt;/TextFlow&gt;\r\n            &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;NEVER&quot;&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;createEventButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onCreateEvent&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Create Event&quot; /&gt;\r\n               &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/HBox&gt;\r\n```\r\n\r\n\r\nI have added Platform.runlater to see if running the UI update code in the Application Thread will fix this problem, but it has not (although it has fixed a related render issue when selecting one event and switching to another).\r\n\r\nThe following prevents the rendering issue\r\n\r\n1. Adding one or more spaces after the typed in text in the TextField in my Dialog\r\n2. If the title length is longer than a (seemingly random) length\r\n\r\nThe following fixes the partial render issue **after** it occurs:\r\n\r\n1. Clicking/selecting the Event in the ListView (after creation) fixes the render issue.\r\n2. Creating another new event. The render issue only happens on the first event created.\r\n3. Resizing the window of the App\r\n\r\nThe work around I am currently using is adding two spaces here:\r\n\r\nChanged from this:\r\n\r\n```\r\nText eventTitle = new Text(event.getTitle()+&quot;\\n&quot;);\r\n```\r\n\r\nTo this:\r\n\r\n```\r\nText eventTitle = new Text(event.getTitle()+&quot;  \\n&quot;);\r\n```\r\n\r\nThis seems to fix it but I don&#39;t know why. I know forcing a refresh would probably also fix it (like resizing the window by 0.0001), but I like that solution even less. I think I am either not refreshing/updating my UI properly or incorrectly using TextFlow and Text somehow.\r\n\r\nEdit: Added all relevant code to make the issue reproducible","title":"Why is the Text in my TextFlow rendering only partially?","body":"<p>I am creating an object called Event using a Dialog box. Event has the properties title and description. Upon creating the Event object and exiting from the Dialog, I am displaying the title and description of the new Event in a TextFlow. The issue is, the title text is only partially rendering:</p>\n<p><a href=\"https://i.stack.imgur.com/9nKM2.png\" rel=\"nofollow noreferrer\">Example of Partial Rendering Problem</a></p>\n<p><a href=\"https://i.stack.imgur.com/eeA5G.png\" rel=\"nofollow noreferrer\">Example 2</a><a href=\"https://i.stack.imgur.com/JreBv.png\" rel=\"nofollow noreferrer\"><br />\nExample 3</a></p>\n<p>The following is the relevant code:</p>\n<p>Main.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Main.fxml&quot;)));\n\n        Scene main = new Scene(root);\n\n        stage.setScene(main);\n\n        stage.show();\n\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>MainController.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.ListView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.text.TextFlow;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class MainController {\n\n    private final EventBoard eventBoard = EventBoard.getInstance();\n\n    @FXML\n    private ListView&lt;Event&gt; eventListView;\n\n    @FXML\n    private TextFlow eventInfoTextFlow;\n\n    @FXML\n    private void onCreateEvent(ActionEvent event) throws IOException {\n        // made this an optional in the case that the user closes the dialog without creating an event\n        Optional&lt;Event&gt; optionalCreatedEvent =  Optional.ofNullable(eventBoard.createEvent());\n        if(optionalCreatedEvent.isPresent()) {\n            eventBoard.setSelectedEvent(optionalCreatedEvent.get());\n            eventBoard.loadEvents(eventListView);\n            eventBoard.displaySelectedEventInfo(eventInfoTextFlow);\n        }\n    }\n\n    @FXML\n    private void onSelectEvent(MouseEvent event) throws IOException, InterruptedException {\n        // set selected event in event board\n        eventBoard.setSelectedEvent(eventListView.getSelectionModel().getSelectedItem());\n        // load info from the selected event into the info text flow\n        eventBoard.displaySelectedEventInfo(eventInfoTextFlow);\n    }\n\n}\n</code></pre>\n<p>EventBoard.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.application.Platform;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.control.Dialog;\nimport javafx.scene.control.ListView;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextFlow;\n\nimport java.util.Optional;\n\npublic class EventBoard {\n\n    private static final EventBoard INSTANCE = new EventBoard();\n\n    public static EventBoard getInstance() {\n        return INSTANCE;\n    }\n\n    private final ObservableList&lt;Event&gt; events;\n\n    private Event selectedEvent;\n\n    public EventBoard() {\n        this.events = FXCollections.observableArrayList();\n    }\n\n    public Event createEvent() {\n        Dialog&lt;Event&gt; eventDialog = new EventDialog(new Event());\n\n        Optional&lt;Event&gt; optionalEvent = eventDialog.showAndWait();\n        if(optionalEvent.isPresent()) {\n            Event event = optionalEvent.get();\n            System.out.println(&quot;Added event: &quot; + event);\n            events.add(event);\n            return event;\n        }\n        return null;\n    }\n\n    public void loadEvents(ListView&lt;Event&gt; eventListView) {\n        // clear list view for new load\n        eventListView.getItems().clear();\n        // add items to list view\n        eventListView.getItems().addAll(this.events);\n        // select the selected event\n        eventListView.getSelectionModel().select(selectedEvent);\n    }\n\n    public Event getSelectedEvent() {\n        return selectedEvent;\n    }\n\n    public void setSelectedEvent(Event selectedEvent) {\n        this.selectedEvent = selectedEvent;\n        System.out.println(&quot;The selected event is: &quot; + selectedEvent);\n        System.out.println(&quot;Its description is: &quot; + selectedEvent.getDescription());\n        System.out.println(&quot;And is on date: &quot; + selectedEvent.getDate());\n    }\n\n    public void displaySelectedEventInfo(TextFlow eventInfoTextFlow) {\n\n        Platform.runLater(()-&gt;{\n\n            Event event = this.selectedEvent;\n\n            if(!(eventInfoTextFlow.getChildren().isEmpty())) {\n                // clear all text\n                eventInfoTextFlow.getChildren().clear();\n            }\n\n            Text eventTitle = new Text(event.getTitle()+&quot;\\n&quot;); // try removing the \\n\n            System.out.println(&quot;title: &quot; + event.getTitle());\n            eventTitle.setFont(Font.font(&quot;System&quot;, 25));\n\n            Text eventDescription = new Text(event.getDescription());\n            eventDescription.setFont(Font.font(&quot;System&quot;, 20));\n\n            eventInfoTextFlow.getChildren().addAll(eventTitle, eventDescription);\n            eventInfoTextFlow.setLineSpacing(5.0);\n\n        });\n\n    }\n\n}\n</code></pre>\n<p>EventDialog.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.GridPane;\nimport javafx.util.Callback;\n\n\npublic class EventDialog extends Dialog&lt;Event&gt; {\n\n    private final Event event;\n\n    TextField titleTextField;\n    TextField descriptionTextField;\n    DatePicker eventDatePicker;\n    ComboBox&lt;String&gt; hourComboBox;\n    ComboBox&lt;String&gt; minuteComboBox;\n\n    public EventDialog(Event event) {\n        super();\n        this.event = event;\n        buildUI();              // build ui\n        setPropertyBindings();  // set binding in text field\n        setResultConverter();   // return diary object from dialog\n    }\n\n    private void buildUI() {\n\n        Label newEventLabel = new Label(&quot;New Event&quot;);\n\n        Label titleLabel = new Label(&quot;Title:&quot;);\n        titleTextField = new TextField();\n\n        Label descriptionLabel = new Label(&quot;Description:&quot;);\n        descriptionTextField = new TextField();\n\n        Label eventDateLabel = new Label(&quot;Date:&quot;);\n        eventDatePicker = new DatePicker();\n        eventDatePicker.getEditor().setEditable(false);\n        eventDatePicker.getEditor().setMouseTransparent(true);\n        eventDatePicker.getEditor().setFocusTraversable(false);\n\n        Label eventTimeLabel = new Label(&quot;Time:&quot;);\n        Label colonLabel = new Label(&quot;  :  &quot;);\n        GridPane eventTimeGridPane = new GridPane();\n        hourComboBox = new ComboBox&lt;&gt;(ComboBoxUtil.getHourOptions());\n        minuteComboBox = new ComboBox&lt;&gt;(ComboBoxUtil.getMinuteOptions());\n        eventTimeGridPane.add(hourComboBox, 1, 0);\n        eventTimeGridPane.add(colonLabel, 2, 0);\n        eventTimeGridPane.add(minuteComboBox, 3, 0);\n\n\n        GridPane gridpane = new GridPane();\n        \n        gridpane.add(newEventLabel, 1, 0);\n\n        gridpane.add(titleLabel, 1, 1);\n        gridpane.add(titleTextField, 2, 1);\n\n        gridpane.add(descriptionLabel, 1, 2);\n        gridpane.add(descriptionTextField, 2, 2);\n\n        gridpane.add(eventDateLabel, 1, 3);\n        gridpane.add(eventDatePicker, 2, 3);\n\n        gridpane.add(eventTimeLabel, 1, 4);\n        gridpane.add(eventTimeGridPane, 2, 4);\n\n        gridpane.setHgap(10);\n        gridpane.setVgap(10);\n\n        // add gridpane to dialog pane\n        getDialogPane().setContent(gridpane);\n\n\n\n        // add cancel and ok buttons to dialog pane\n        getDialogPane().getButtonTypes().addAll(ButtonType.CANCEL, ButtonType.OK);\n\n        // logic to prevent ok button from closing if text field is empty\n        Button button = (Button) getDialogPane().lookupButton(ButtonType.OK);\n        button.addEventFilter(ActionEvent.ACTION, new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                if (!validateDialog()) {\n                    // the consume method will prevent the dialog from closing if there is no data in the text field\n                    event.consume();\n                }\n            }\n\n            private boolean validateDialog() {\n                // validates if there is data in the text field\n                \n                return !titleTextField.getText().isEmpty() &amp;&amp; !descriptionTextField.getText().isEmpty()\n                        &amp;&amp; !eventDatePicker.getEditor().getText().isEmpty() &amp;&amp; !hourComboBox.getSelectionModel().isEmpty()\n                            &amp;&amp; !minuteComboBox.getSelectionModel().isEmpty();\n            }\n        });\n    }\n\n    private void setPropertyBindings() {\n        titleTextField.textProperty().bindBidirectional(event.titleProperty());\n        descriptionTextField.textProperty().bindBidirectional(event.descriptionProperty());\n        eventDatePicker.getEditor().textProperty().bindBidirectional(event.dateProperty());\n        hourComboBox.valueProperty().bindBidirectional(event.hourProperty());\n        minuteComboBox.valueProperty().bindBidirectional(event.minuteProperty());\n    }\n    \n    private void setResultConverter() {\n\n        Callback&lt;ButtonType, Event&gt; personResultConverter = new Callback&lt;ButtonType, Event&gt;() {\n            @Override\n            public Event call(ButtonType param) {\n                if (param == ButtonType.OK) {\n                    return event;\n                } else {\n                    return null;\n                }\n            }\n        };\n\n        setResultConverter(personResultConverter);\n    }\n\n}\n</code></pre>\n<p>ComboBoxUtil.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\nimport java.time.Instant;\n\npublic final class ComboBoxUtil {\n\n    public static ObservableList&lt;String&gt; getHourOptions() {\n        ObservableList&lt;String&gt; hourOptions = FXCollections.observableArrayList();\n        for(int i = 0; i &lt; 24; i++) {\n            hourOptions.add(Integer.toString(i));\n        }\n        return hourOptions;\n    }\n\n    public static ObservableList&lt;String&gt; getMinuteOptions() {\n        ObservableList&lt;String&gt; minuteOptions = FXCollections.observableArrayList();\n        for(int i = 0; i &lt; 60; i++) {\n            if(i &lt; 10) {\n                minuteOptions.add(&quot;0&quot;+Integer.toString(i));\n            } else {\n                minuteOptions.add(Integer.toString(i));\n            }\n\n        }\n        return minuteOptions;\n    }\n}\n</code></pre>\n<p>Event.java</p>\n<pre><code>package com.example.eventplanner;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\nimport java.util.Objects;\n\npublic class Event {\n\n    private final StringProperty title;\n    private final StringProperty description;\n    private final StringProperty date;\n    private final StringProperty hour;\n    private final StringProperty minute;\n\n\n    public Event() {\n        this.title = new SimpleStringProperty(&quot;&quot;);\n        this.description = new SimpleStringProperty(&quot;&quot;);\n        this.date = new SimpleStringProperty(&quot;&quot;);\n        this.hour = new SimpleStringProperty(&quot;&quot;);\n        this.minute = new SimpleStringProperty(&quot;&quot;);\n    }\n\n    public String getTitle() {\n        return title.get();\n    }\n\n    public StringProperty titleProperty() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title.set(title);\n    }\n\n    public String getDescription() {\n        return description.get();\n    }\n\n    public StringProperty descriptionProperty() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description.set(description);\n    }\n\n    public String getDate() {\n        return date.get();\n    }\n\n    public StringProperty dateProperty() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date.set(date);\n    }\n\n    public String getHour() {\n        return hour.get();\n    }\n\n    public StringProperty hourProperty() {\n        return hour;\n    }\n\n    public void setHour(String hour) {\n        this.hour.set(hour);\n    }\n\n    public String getMinute() {\n        return minute.get();\n    }\n\n    public StringProperty minuteProperty() {\n        return minute;\n    }\n\n    public void setMinute(String minute) {\n        this.minute.set(minute);\n    }\n\n    @Override\n    public String toString() {\n        return this.getTitle();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Event event = (Event) o;\n        return Objects.equals(title, event.title) &amp;&amp; Objects.equals(description, event.description) &amp;&amp; Objects.equals(date, event.date) &amp;&amp; Objects.equals(hour, event.hour) &amp;&amp; Objects.equals(minute, event.minute);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(title, description, date, hour, minute);\n    }\n}\n</code></pre>\n<p>Main.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.TextFlow?&gt;\n\n&lt;HBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;663.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.eventplanner.MainController&quot;&gt;\n   &lt;children&gt;\n      &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n         &lt;children&gt;\n            &lt;ListView fx:id=&quot;eventListView&quot; onMouseClicked=&quot;#onSelectEvent&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;300.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n         &lt;children&gt;\n            &lt;TextFlow fx:id=&quot;eventInfoTextFlow&quot; prefHeight=&quot;350.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;&lt;/TextFlow&gt;\n            &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;NEVER&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;createEventButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onCreateEvent&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Create Event&quot; /&gt;\n               &lt;/children&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n   &lt;/children&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>I have added Platform.runlater to see if running the UI update code in the Application Thread will fix this problem, but it has not (although it has fixed a related render issue when selecting one event and switching to another).</p>\n<p>The following prevents the rendering issue</p>\n<ol>\n<li>Adding one or more spaces after the typed in text in the TextField in my Dialog</li>\n<li>If the title length is longer than a (seemingly random) length</li>\n</ol>\n<p>The following fixes the partial render issue <strong>after</strong> it occurs:</p>\n<ol>\n<li>Clicking/selecting the Event in the ListView (after creation) fixes the render issue.</li>\n<li>Creating another new event. The render issue only happens on the first event created.</li>\n<li>Resizing the window of the App</li>\n</ol>\n<p>The work around I am currently using is adding two spaces here:</p>\n<p>Changed from this:</p>\n<pre><code>Text eventTitle = new Text(event.getTitle()+&quot;\\n&quot;);\n</code></pre>\n<p>To this:</p>\n<pre><code>Text eventTitle = new Text(event.getTitle()+&quot;  \\n&quot;);\n</code></pre>\n<p>This seems to fix it but I don't know why. I know forcing a refresh would probably also fix it (like resizing the window by 0.0001), but I like that solution even less. I think I am either not refreshing/updating my UI properly or incorrectly using TextFlow and Text somehow.</p>\n<p>Edit: Added all relevant code to make the issue reproducible</p>\n"},{"tags":["java","smartgwt"],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699512894,"creation_date":1699512894,"question_id":77451052,"body_markdown":"I am working on Java and SmartGWT and is trying to set criteria into the field which has some innate fetch operation id in it. When I check the logger for the line of `logger.info(&quot;id: &quot; + criteria .getAttribute(&quot;id&quot;))`, I can see that there is value for the id. However, when it comes to `field.setOptionCriteria(criteria );`, it seems that the criteria is not set to the field FormItem object. May I know what would be the correct approach of handling this ? \r\n   \r\n\r\n     private static void setCriteria(FormItem field, String id) {\r\n        \r\n        \t\tCriteria criteria = new Criteria();\r\n        \t\tcriteria.addCriteria(&quot;id&quot;, id);\r\n        \t\ttry {\r\n        \t\t\tlogger.info(&quot;id: &quot; + criteria.getAttribute(&quot;id&quot;));\r\n        \t\t}catch(Exception exception){};\r\n        \t\tfield.setOptionCriteria(criteria );\r\n        \t}\r\n\r\n","title":"Alternative approach of Setting optionCriteria","body":"<p>I am working on Java and SmartGWT and is trying to set criteria into the field which has some innate fetch operation id in it. When I check the logger for the line of <code>logger.info(&quot;id: &quot; + criteria .getAttribute(&quot;id&quot;))</code>, I can see that there is value for the id. However, when it comes to <code>field.setOptionCriteria(criteria );</code>, it seems that the criteria is not set to the field FormItem object. May I know what would be the correct approach of handling this ?</p>\n<pre><code> private static void setCriteria(FormItem field, String id) {\n    \n            Criteria criteria = new Criteria();\n            criteria.addCriteria(&quot;id&quot;, id);\n            try {\n                logger.info(&quot;id: &quot; + criteria.getAttribute(&quot;id&quot;));\n            }catch(Exception exception){};\n            field.setOptionCriteria(criteria );\n        }\n</code></pre>\n"},{"tags":["java","appium"],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699512729,"creation_date":1699512729,"question_id":77451031,"body_markdown":"How to tap/click on radio button without using absolute xpath via appium inspector?\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere is the full details of the radio button:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rzGXf.png\r\n  [2]: https://i.stack.imgur.com/u6CJG.png\r\n  [3]: https://i.stack.imgur.com/n2co5.png\r\n\r\n\r\nhow can I select 3rd or 4th radio button without using absolute xpath?","title":"how to select radio button on appium java if xpath is only available (no id and accessibilityid)","body":"<p>How to tap/click on radio button without using absolute xpath via appium inspector?</p>\n<p><a href=\"https://i.stack.imgur.com/rzGXf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzGXf.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the full details of the radio button:\n<a href=\"https://i.stack.imgur.com/u6CJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u6CJG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/n2co5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2co5.png\" alt=\"enter image description here\" /></a></p>\n<p>how can I select 3rd or 4th radio button without using absolute xpath?</p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":27174999,"reputation":1,"user_id":20711124,"display_name":"16p602 Abinesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699512396,"creation_date":1699512396,"question_id":77451010,"body_markdown":"Error: Unable to initialize main class com.sspl.sample.ThirdPartyUtilsCAS\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/MultiValueMap\r\n\r\nI need a solution what to do i use a spring web jar 5.3.10 so please give the solution","title":"Error: Unable to initialize main class com.sspl.sample.ThirdPartyUtilsCAS","body":"<p>Error: Unable to initialize main class com.sspl.sample.ThirdPartyUtilsCAS\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/MultiValueMap</p>\n<p>I need a solution what to do i use a spring web jar 5.3.10 so please give the solution</p>\n"},{"tags":["java","spring-boot","rowmapper"],"answers":[{"comments":[{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1699465474,"post_id":77443392,"comment_id":136536182,"body_markdown":"@mattsmith5 Yes, for each entity its own. That&#39;s how the `BeanPropertyRowMapper` works by design. It is responsible for mapping only instances of one particular entity.","body":"@mattsmith5 Yes, for each entity its own. That&#39;s how the <code>BeanPropertyRowMapper</code> works by design. It is responsible for mapping only instances of one particular entity."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699476893,"post_id":77443392,"comment_id":136538164,"body_markdown":"thanks for all the help! it might make more sense for me just to call one BeanPropertyRowMapper instance in each @repository file (since its a singleton by default), and only that repo is using the instance of the beanmapper new BeanPropertyRowMapper&lt;&gt;(SecondEntity.class);  , little hard to track mappers in different Config files, appreciate you helping me think through this and review all options","body":"thanks for all the help! it might make more sense for me just to call one BeanPropertyRowMapper instance in each @repository file (since its a singleton by default), and only that repo is using the instance of the beanmapper new BeanPropertyRowMapper&lt;&gt;(SecondEntity.class);  , little hard to track mappers in different Config files, appreciate you helping me think through this and review all options"}],"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699512242,"creation_date":1699426804,"answer_id":77443392,"question_id":77442156,"body_markdown":"It can be used as a singleton. You can check [the source code][1] for this class - there is no common mutable state in the class, all of the fields are initialized once during an instance creation and then they are read-only. Therefore `mapRow()` method implementation here is thread-safe. So you should be good.\r\n\r\n\r\nP.S: in our code base we do something like this:\r\n```\r\n@Bean\r\nBeanPropertyRowMapper&lt;FirstEntity&gt; firstEntityRowMapper() {\r\n    return new BeanPropertyRowMapper&lt;&gt;(FirstEntity.class);\r\n}\r\n\r\n@Bean\r\nBeanPropertyRowMapper&lt;SecondEntity&gt; secondEntityRowMapper() {\r\n    return new BeanPropertyRowMapper&lt;&gt;(SecondEntity.class);\r\n}\r\n```\r\n\r\nAnd then just do this:\r\n\r\n```\r\n@Autowired\r\nBeanPropertyRowMapper&lt;FirstEntity&gt; firstEntityRowMapper;\r\n\r\n// And in the method\r\n\r\njdbcTemplate.query(&quot;SELECT ...&quot;, firstEntityRowMapper);\r\n```\r\n\r\nNote: BeanPropertyRowMapper is responsible for mapping only instances of one particular entity. If you really care about performance, then you can write your own RowMapper implementation for every entity. This will be faster than BeanPropertyRowMapper, which is there for convenience. Most of the time BeanPropertyRowMapper is what you want, but creating it for every request individually will be too expensive so do not do that.\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-jdbc/src/main/java/org/springframework/jdbc/core/BeanPropertyRowMapper.java","title":"Should BeanPropertyRowMapper be singleton or declared in each query?","body":"<p>It can be used as a singleton. You can check <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-jdbc/src/main/java/org/springframework/jdbc/core/BeanPropertyRowMapper.java\" rel=\"nofollow noreferrer\">the source code</a> for this class - there is no common mutable state in the class, all of the fields are initialized once during an instance creation and then they are read-only. Therefore <code>mapRow()</code> method implementation here is thread-safe. So you should be good.</p>\n<p>P.S: in our code base we do something like this:</p>\n<pre><code>@Bean\nBeanPropertyRowMapper&lt;FirstEntity&gt; firstEntityRowMapper() {\n    return new BeanPropertyRowMapper&lt;&gt;(FirstEntity.class);\n}\n\n@Bean\nBeanPropertyRowMapper&lt;SecondEntity&gt; secondEntityRowMapper() {\n    return new BeanPropertyRowMapper&lt;&gt;(SecondEntity.class);\n}\n</code></pre>\n<p>And then just do this:</p>\n<pre><code>@Autowired\nBeanPropertyRowMapper&lt;FirstEntity&gt; firstEntityRowMapper;\n\n// And in the method\n\njdbcTemplate.query(&quot;SELECT ...&quot;, firstEntityRowMapper);\n</code></pre>\n<p>Note: BeanPropertyRowMapper is responsible for mapping only instances of one particular entity. If you really care about performance, then you can write your own RowMapper implementation for every entity. This will be faster than BeanPropertyRowMapper, which is there for convenience. Most of the time BeanPropertyRowMapper is what you want, but creating it for every request individually will be too expensive so do not do that.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77443392,"answer_count":1,"score":1,"last_activity_date":1699512242,"creation_date":1699402026,"question_id":77442156,"body_markdown":"I am using BeanPropertyRowMapper. Should BeanPropertyRowMapper be called for every JdbcTemplate query, be a prototype, or a singleton in the application? My application has multithreading requests also for get, post, put requests.\r\n\r\n\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\tparams.put(&quot;customerId&quot;, customerId);\r\n\r\n\tString findByCustomerIdSql = &quot;&quot;&quot; \r\n\t\tSELECT firstName, employeeId, feeAmount, enrollmentDate, activeFlag \r\n\t\tFROM dbo.customer \r\n\t\tWHERE customer_Id = :customerId\r\n\t&quot;&quot;&quot;;\r\n\r\n\ttry {\r\n\t\tCustomerGetResponse customerGetResponse = namedJdbcTemplate.queryForObject(findByCustomerIdSql,\r\n\t\t\t\tparams, BeanPropertyRowMapper.newInstance(CustomerGetResponse.class));\r\n\t\treturn customerGetResponse;\r\n\r\nSimilar to this question: https://stackoverflow.com/questions/17400129/singleton-vs-prototype-jdbctemplate","title":"Should BeanPropertyRowMapper be singleton or declared in each query?","body":"<p>I am using BeanPropertyRowMapper. Should BeanPropertyRowMapper be called for every JdbcTemplate query, be a prototype, or a singleton in the application? My application has multithreading requests also for get, post, put requests.</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;customerId&quot;, customerId);\n\nString findByCustomerIdSql = &quot;&quot;&quot; \n    SELECT firstName, employeeId, feeAmount, enrollmentDate, activeFlag \n    FROM dbo.customer \n    WHERE customer_Id = :customerId\n&quot;&quot;&quot;;\n\ntry {\n    CustomerGetResponse customerGetResponse = namedJdbcTemplate.queryForObject(findByCustomerIdSql,\n            params, BeanPropertyRowMapper.newInstance(CustomerGetResponse.class));\n    return customerGetResponse;\n</code></pre>\n<p>Similar to this question: <a href=\"https://stackoverflow.com/questions/17400129/singleton-vs-prototype-jdbctemplate\">Singleton vs prototype JdbcTemplate</a></p>\n"},{"tags":["java","eclipse","command-line-interface","apache-commons-cli"],"owner":{"account_id":29861132,"reputation":1,"user_id":22884770,"display_name":"Kamal Bhatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699512159,"creation_date":1699512159,"question_id":77450996,"body_markdown":"If i am passing -input or any other word like -india in the command its treating that value as -in option and remaining as option value\r\n```\r\n\r\npublic class Commanclidemo {\r\n    public static void main(String[] args) {\r\n        // Create Options\r\n        Options options = new Options();\r\n        options.addOption(&quot;h&quot;, &quot;help&quot;, false, &quot;Display help&quot;);\r\n        options.addOption(&quot;in&quot;, &quot;in&quot;, true, &quot;Input file path&quot;);\r\n        options.addOption(&quot;out&quot;, &quot;output&quot;, true, &quot;Output file path&quot;);\r\n\r\n        CommandLineParser parser = new DefaultParser();\r\n\r\n        try {\r\n            CommandLine cmd = parser.parse(options, args);\r\n\r\n            if (cmd.hasOption(&quot;h&quot;)) {\r\n                HelpFormatter formatter = new HelpFormatter();\r\n                formatter.printHelp(&quot;CommandLineExample&quot;, options);\r\n            } else {\r\n                String inputFile = cmd.getOptionValue(&quot;in&quot;);\r\n                String outputFile = cmd.getOptionValue(&quot;out&quot;);\r\n\r\n                System.out.println(&quot;Input File: &quot; + inputFile);\r\n                System.out.println(&quot;Output File: &quot; + outputFile);\r\n            }\r\n        } catch (ParseException e) {\r\n            System.err.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nif i give any input which start with -in in the command its taking -in as optname and dia as opt value from -india","title":"In apache commons cli library when i am passing -input or any other word that start with -in it treat it as -in option and put as option value","body":"<p>If i am passing -input or any other word like -india in the command its treating that value as -in option and remaining as option value</p>\n<pre><code>\npublic class Commanclidemo {\n    public static void main(String[] args) {\n        // Create Options\n        Options options = new Options();\n        options.addOption(&quot;h&quot;, &quot;help&quot;, false, &quot;Display help&quot;);\n        options.addOption(&quot;in&quot;, &quot;in&quot;, true, &quot;Input file path&quot;);\n        options.addOption(&quot;out&quot;, &quot;output&quot;, true, &quot;Output file path&quot;);\n\n        CommandLineParser parser = new DefaultParser();\n\n        try {\n            CommandLine cmd = parser.parse(options, args);\n\n            if (cmd.hasOption(&quot;h&quot;)) {\n                HelpFormatter formatter = new HelpFormatter();\n                formatter.printHelp(&quot;CommandLineExample&quot;, options);\n            } else {\n                String inputFile = cmd.getOptionValue(&quot;in&quot;);\n                String outputFile = cmd.getOptionValue(&quot;out&quot;);\n\n                System.out.println(&quot;Input File: &quot; + inputFile);\n                System.out.println(&quot;Output File: &quot; + outputFile);\n            }\n        } catch (ParseException e) {\n            System.err.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n}\n\n</code></pre>\n<p>if i give any input which start with -in in the command its taking -in as optname and dia as opt value from -india</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699412255,"post_id":77441726,"comment_id":136527241,"body_markdown":"refer [jackson-serialize-dates](https://www.baeldung.com/jackson-serialize-dates#141-jackson-dependency) and register the JavaTimeModule() to make Jackson support Java 8 date time APIs.   `objectMapper.registerModule(new JavaTimeModule());`","body":"refer <a href=\"https://www.baeldung.com/jackson-serialize-dates#141-jackson-dependency\" rel=\"nofollow noreferrer\">jackson-serialize-dates</a> and register the JavaTimeModule() to make Jackson support Java 8 date time APIs.   <code>objectMapper.registerModule(new JavaTimeModule());</code>"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699437283,"creation_date":1699437283,"answer_id":77444464,"question_id":77441726,"body_markdown":"With Spring Batch 4.3, you need to add the `jackson-datatype-jsr310` dependency and configure an object mapper with the `JavaTimeModule()` in the  `Jackson2ExecutionContextStringSerializer`.\r\n\r\n\r\nSupport for the Java Date and Time API types will be added in version 5.1, see https://github.com/spring-projects/spring-batch/issues/3952.","title":"Could not serialize the execution context for LOCALDATE","body":"<p>With Spring Batch 4.3, you need to add the <code>jackson-datatype-jsr310</code> dependency and configure an object mapper with the <code>JavaTimeModule()</code> in the  <code>Jackson2ExecutionContextStringSerializer</code>.</p>\n<p>Support for the Java Date and Time API types will be added in version 5.1, see <a href=\"https://github.com/spring-projects/spring-batch/issues/3952\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/issues/3952</a>.</p>\n"},{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699511970,"creation_date":1699511970,"answer_id":77450982,"question_id":77441726,"body_markdown":"I solved my problem by adding `@JsonSerialize`, `@JsonDeserialize`, `@JsonFormat` to the firstDate field in the UserDto class.\r\n\r\n    @Data\r\n    public class UserDto {\r\n       @JsonSerialize(using = LocalDateSerializer.class)\r\n       @JsonDeserialize(using = LocalDateDeserializer.class)\r\n       @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n       private LocalDate firstDate;\r\n    }\r\n\r\n","title":"Could not serialize the execution context for LOCALDATE","body":"<p>I solved my problem by adding <code>@JsonSerialize</code>, <code>@JsonDeserialize</code>, <code>@JsonFormat</code> to the firstDate field in the UserDto class.</p>\n<pre><code>@Data\npublic class UserDto {\n   @JsonSerialize(using = LocalDateSerializer.class)\n   @JsonDeserialize(using = LocalDateDeserializer.class)\n   @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n   private LocalDate firstDate;\n}\n</code></pre>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450982,"answer_count":2,"score":0,"last_activity_date":1699511970,"creation_date":1699394320,"question_id":77441726,"body_markdown":"When I call and use it in the service, it gives the following error. I tried many things but couldn&#39;t figure it out.\r\n\r\n\r\n**Entity class**\r\n\r\n    @Entity\r\n    public class User{\r\n    @Column(name = &quot;FIRSTDATE&quot;)\r\n    @Temporal(TemporalType.DATE)\r\n    private Date firstDate;\r\n    }\r\n\r\n**Dto class**\r\n\r\n    @Data\r\n    public class UserDto {\r\n       private LocalDate firstDate;\r\n    }\r\n\r\n**dto Mapper class**\r\n\r\n    UserDto dto = new UserDto();\r\n    dto.setFirstDate(DateUtil.convertToLocalDate(entity.getFirstDate()));\r\n\r\n**convertToLocalDate method**\r\n\r\n    public static LocalDate convertToLocalDate(Date dateToConvert) {\r\n            return dateToConvert == null ? null : Instant.ofEpochMilli(dateToConvert.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\r\n        }\r\n\r\n\r\nWhen I call and use it in the service, it gives the following error. I tried many things but couldn&#39;t figure it out.\r\n\r\n    java.lang.IllegalArgumentException: Could not serialize the execution context\r\n    \tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.serializeContext(JdbcExecutionContextDao.java:306) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.updateExecutionContext(JdbcExecutionContextDao.java:146) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext(SimpleJobRepository.java:223) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    ....\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDate` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: java.util.HashMap[&quot;userDtoList&quot;]-&gt;java.util.ArrayList[0]-&gt;com.example.batch.data.dto.UserDto[&quot;firstDate&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.jar:2.13.4]\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.jar:2.13.4]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35) ~[jackson-databind-2.13.4.jar:2.13.4]\r\n\r\n\r\n**firstDate value:** \r\n\r\n    2023-05-15\r\n\r\nI added this dependeny `com.fasterxml.jackson.datatype:jackson-datatype-jsr310`. I couldn&#39;t solve the problem.\r\nHow can I fix this problem?","title":"Could not serialize the execution context for LOCALDATE","body":"<p>When I call and use it in the service, it gives the following error. I tried many things but couldn't figure it out.</p>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\npublic class User{\n@Column(name = &quot;FIRSTDATE&quot;)\n@Temporal(TemporalType.DATE)\nprivate Date firstDate;\n}\n</code></pre>\n<p><strong>Dto class</strong></p>\n<pre><code>@Data\npublic class UserDto {\n   private LocalDate firstDate;\n}\n</code></pre>\n<p><strong>dto Mapper class</strong></p>\n<pre><code>UserDto dto = new UserDto();\ndto.setFirstDate(DateUtil.convertToLocalDate(entity.getFirstDate()));\n</code></pre>\n<p><strong>convertToLocalDate method</strong></p>\n<pre><code>public static LocalDate convertToLocalDate(Date dateToConvert) {\n        return dateToConvert == null ? null : Instant.ofEpochMilli(dateToConvert.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\n    }\n</code></pre>\n<p>When I call and use it in the service, it gives the following error. I tried many things but couldn't figure it out.</p>\n<pre><code>java.lang.IllegalArgumentException: Could not serialize the execution context\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.serializeContext(JdbcExecutionContextDao.java:306) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.updateExecutionContext(JdbcExecutionContextDao.java:146) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext(SimpleJobRepository.java:223) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\n....\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDate` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: java.util.HashMap[&quot;userDtoList&quot;]-&gt;java.util.ArrayList[0]-&gt;com.example.batch.data.dto.UserDto[&quot;firstDate&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.jar:2.13.4]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.jar:2.13.4]\n    at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35) ~[jackson-databind-2.13.4.jar:2.13.4]\n</code></pre>\n<p><strong>firstDate value:</strong></p>\n<pre><code>2023-05-15\n</code></pre>\n<p>I added this dependeny <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code>. I couldn't solve the problem.\nHow can I fix this problem?</p>\n"},{"tags":["java","javafx","javafx-css"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1699498580,"post_id":77449907,"comment_id":136540718,"body_markdown":"I don&#39;t have data, but I find option 1 is significantly simpler to develop and maintain. Unless you&#39;ve profiled a performance issue, and you&#39;ve confirmed a more complicated solution provides measured improvements, I say use the simpler solution.","body":"I don&#39;t have data, but I find option 1 is significantly simpler to develop and maintain. Unless you&#39;ve profiled a performance issue, and you&#39;ve confirmed a more complicated solution provides measured improvements, I say use the simpler solution."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1699526268,"post_id":77449907,"comment_id":136544311,"body_markdown":"My advice is to use the design that best fits function and ease of development and maintenance rather than performance.  If performance was an absolute concern you might not use CSS at all, but that would be extreme and I wouldn’t recommend it.  The standard JavaFX controls have a single style sheet (modena.css in the JavaFX controls jar), so if you use any control then you will be using a massive style sheet (like your option 1) anyway.  I’m not sure why you would choose to style excursively via ids rather than classes, that seems a bit weird, but I guess if it works for you, then fine.","body":"My advice is to use the design that best fits function and ease of development and maintenance rather than performance.  If performance was an absolute concern you might not use CSS at all, but that would be extreme and I wouldn’t recommend it.  The standard JavaFX controls have a single style sheet (modena.css in the JavaFX controls jar), so if you use any control then you will be using a massive style sheet (like your option 1) anyway.  I’m not sure why you would choose to style excursively via ids rather than classes, that seems a bit weird, but I guess if it works for you, then fine."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1699532537,"post_id":77449907,"comment_id":136545423,"body_markdown":"@jewelsea that makes sense, I use a custom colors stylesheet globally and then all nodes within scene have access to it. About styling classes, according to openJDK it really messes up with performance (you wouldn&#39;t notice it for small-medium size applications, but it changes when you have dozens of thousands of nodes rendering in scene graph as my application do).\nhttps://wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks","body":"@jewelsea that makes sense, I use a custom colors stylesheet globally and then all nodes within scene have access to it. About styling classes, according to openJDK it really messes up with performance (you wouldn&#39;t notice it for small-medium size applications, but it changes when you have dozens of thousands of nodes rendering in scene graph as my application do). <a href=\"https://wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks\" rel=\"nofollow noreferrer\">wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699511937,"creation_date":1699511155,"answer_id":77450914,"question_id":77449907,"body_markdown":"**Solution:**\r\n\r\nThe best approach is to apply the CSS files globally for globally things, like button styling, etc. \r\n\r\nIf you have scene specific CSS, e.g. there is one button on a specific scene, which needs height 500px, then put this into a separate CSS file and add it to the scene. \r\n\r\nReasons for that:\r\n\r\n1. Most easiest way to develop.\r\n2. You know where you have your CSS.\r\n3. Easier to maintain if you need to alter the color of your buttons e.g.\r\n4. This is the way how it is done in web development too.\r\n5. Your general scene CSS file contains only CSS you need on all scenes. This makes it very readable.\r\n6. You don&#39;t have to bother with hundreds of specific CSS rules because exactly this rules are in a scene specific CSS file.\r\n7. If you are having performance problems with this way to do it, then this way to do it is not the problem.\r\n\r\nRules of thumb:\r\n\r\n1. Add CSS files only to root nodes or scenes directly.\r\n2. Have a global/general CSS file which contains all general node styling.\r\n3. Put node specific CSS into a separate Scene specific CSS file and add it to the scene. ","title":"Best Approach for Managing CSS Stylesheets and Style Classes in a JavaFX Application","body":"<p><strong>Solution:</strong></p>\n<p>The best approach is to apply the CSS files globally for globally things, like button styling, etc.</p>\n<p>If you have scene specific CSS, e.g. there is one button on a specific scene, which needs height 500px, then put this into a separate CSS file and add it to the scene.</p>\n<p>Reasons for that:</p>\n<ol>\n<li>Most easiest way to develop.</li>\n<li>You know where you have your CSS.</li>\n<li>Easier to maintain if you need to alter the color of your buttons e.g.</li>\n<li>This is the way how it is done in web development too.</li>\n<li>Your general scene CSS file contains only CSS you need on all scenes. This makes it very readable.</li>\n<li>You don't have to bother with hundreds of specific CSS rules because exactly this rules are in a scene specific CSS file.</li>\n<li>If you are having performance problems with this way to do it, then this way to do it is not the problem.</li>\n</ol>\n<p>Rules of thumb:</p>\n<ol>\n<li>Add CSS files only to root nodes or scenes directly.</li>\n<li>Have a global/general CSS file which contains all general node styling.</li>\n<li>Put node specific CSS into a separate Scene specific CSS file and add it to the scene.</li>\n</ol>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699511937,"creation_date":1699493312,"question_id":77449907,"body_markdown":"I&#39;m working on a JavaFX application with numerous CSS files. These CSS files are unique in that they don&#39;t extend control classes like `.vbox {}` or `.button {}`; instead, they define custom node CSS properties using IDs (e.g., `#custom-node-name {}`).\r\n\r\nI&#39;m currently faced with two possible approaches for integrating these CSS files into my application, and I&#39;m concerned about their performance implications.\r\n\r\n**Option 1: Apply All CSS Files Globally**\r\n\r\nIn this approach, I would add all of these CSS files to the scene or the scene&#39;s root `Parent` and reference the custom node properties through style classes that match the node&#39;s type. For example, if it&#39;s a button, I&#39;d use `#custom-button`, and for a text field, `#custom-text-field`.\r\n\r\nThe potential issue here is that every node in my scene graph would have to search through every CSS stylesheet to find the style class it requires, which could be problematic in terms of performance.\r\n\r\n**Option 2: Apply CSS Files to Individual Nodes**\r\n\r\nIn this alternative, I&#39;d add the stylesheet to each individual node that needs access to the custom CSS property and then apply the corresponding style class to it. Similarly, if my `Pane` node contains multiple child nodes that require the same style class, I&#39;d add the CSS file to the `Pane`, and all child nodes within it can access the style class.\r\n\r\nThe issue with this approach is that I might end up adding the same CSS stylesheet multiple times to the scene graph. For instance, different parts of the application might require the same styling for different nodes, resulting in redundant stylesheet references.\r\n\r\n**My Question:**\r\nWhich approach is the most performant way of handling CSS stylesheets and style classes in a JavaFX application? Should I go with Option 1, Option 2, or is there a better approach that balances performance and maintainability?","title":"Best Approach for Managing CSS Stylesheets and Style Classes in a JavaFX Application","body":"<p>I'm working on a JavaFX application with numerous CSS files. These CSS files are unique in that they don't extend control classes like <code>.vbox {}</code> or <code>.button {}</code>; instead, they define custom node CSS properties using IDs (e.g., <code>#custom-node-name {}</code>).</p>\n<p>I'm currently faced with two possible approaches for integrating these CSS files into my application, and I'm concerned about their performance implications.</p>\n<p><strong>Option 1: Apply All CSS Files Globally</strong></p>\n<p>In this approach, I would add all of these CSS files to the scene or the scene's root <code>Parent</code> and reference the custom node properties through style classes that match the node's type. For example, if it's a button, I'd use <code>#custom-button</code>, and for a text field, <code>#custom-text-field</code>.</p>\n<p>The potential issue here is that every node in my scene graph would have to search through every CSS stylesheet to find the style class it requires, which could be problematic in terms of performance.</p>\n<p><strong>Option 2: Apply CSS Files to Individual Nodes</strong></p>\n<p>In this alternative, I'd add the stylesheet to each individual node that needs access to the custom CSS property and then apply the corresponding style class to it. Similarly, if my <code>Pane</code> node contains multiple child nodes that require the same style class, I'd add the CSS file to the <code>Pane</code>, and all child nodes within it can access the style class.</p>\n<p>The issue with this approach is that I might end up adding the same CSS stylesheet multiple times to the scene graph. For instance, different parts of the application might require the same styling for different nodes, resulting in redundant stylesheet references.</p>\n<p><strong>My Question:</strong>\nWhich approach is the most performant way of handling CSS stylesheets and style classes in a JavaFX application? Should I go with Option 1, Option 2, or is there a better approach that balances performance and maintainability?</p>\n"},{"tags":["java","multithreading","thread-sleep","awaitility"],"answers":[{"tags":[],"owner":{"account_id":25118250,"reputation":256,"user_id":18966950,"display_name":"quick response"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1699511841,"creation_date":1651078700,"answer_id":72032661,"question_id":71346616,"body_markdown":"Probably too late of an answer but there are several ways to do it.\r\n\r\nThis tells awaitility to have a poll delay of 4 minutes. So, wait 4 minutes before doing the assertion.\r\n\r\n```\r\nAwaitility\r\n    .await()\r\n    .pollDelay(4, TimeUnit.MINUTES)\r\n    .untilAsserted(() -&gt; Assert.assertTrue(true));\r\n```","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>Probably too late of an answer but there are several ways to do it.</p>\n<p>This tells awaitility to have a poll delay of 4 minutes. So, wait 4 minutes before doing the assertion.</p>\n<pre><code>Awaitility\n    .await()\n    .pollDelay(4, TimeUnit.MINUTES)\n    .untilAsserted(() -&gt; Assert.assertTrue(true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14484106,"reputation":51,"user_id":10462554,"display_name":"Hobgoblin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689685541,"creation_date":1689684857,"answer_id":76712983,"question_id":71346616,"body_markdown":"Also quite late, with the latest Awaitility (4.2.0) a timeout also needs to be defined, which needs to be larger than the pollDelay. Default timeout is 10 seconds. So, if you wait less then 10sec, not timeout definition necessary.\r\n\r\nSo, this worked for me: \r\n\r\n    Awaitility.await()\r\n      .timeout(66, SECONDS)\r\n      .pollDelay(65, SECONDS)\r\n      .untilAsserted(() -&gt; Assertions.assertTrue(true));\r\n\r\nworked in a test without multi-threading, replacing a Thread.sleep(x).","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>Also quite late, with the latest Awaitility (4.2.0) a timeout also needs to be defined, which needs to be larger than the pollDelay. Default timeout is 10 seconds. So, if you wait less then 10sec, not timeout definition necessary.</p>\n<p>So, this worked for me:</p>\n<pre><code>Awaitility.await()\n  .timeout(66, SECONDS)\n  .pollDelay(65, SECONDS)\n  .untilAsserted(() -&gt; Assertions.assertTrue(true));\n</code></pre>\n<p>worked in a test without multi-threading, replacing a Thread.sleep(x).</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13817,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":72032661,"answer_count":2,"score":16,"last_activity_date":1699511841,"creation_date":1646368087,"question_id":71346616,"body_markdown":"In my test class, I really need to sleep for some amount of time. It&#39;s an integration test involving periodic remote call.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 16; i++) {\r\n    // sleep some... should sleep some...\r\n    Thread.sleep((int) TimeUnit.MINUTES.toMillis(4L)); // means as it means.\r\n    // call remote api and check the response.\r\n}\r\n```\r\n\r\nAnd what is the equivalent expression using Awaitility?\r\n\r\nI tried...\r\n\r\n```java\r\n// Let&#39;s sleep for 4 minutes, no matter what happen!\r\nAwaitility.await()\r\n        .atLeast(Duration.ofMinutes(4L)) // what the hell does this mean, anyway?\r\n        .untilTrue(new AtomicBoolean(false));\r\n```\r\n\r\nIt seems the timeout fired just after the default polling interval.\r\n\r\nShouldn&#39;t I use the Awaitillity at the first time in this case?","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>In my test class, I really need to sleep for some amount of time. It's an integration test involving periodic remote call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 16; i++) {\n    // sleep some... should sleep some...\n    Thread.sleep((int) TimeUnit.MINUTES.toMillis(4L)); // means as it means.\n    // call remote api and check the response.\n}\n</code></pre>\n<p>And what is the equivalent expression using Awaitility?</p>\n<p>I tried...</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Let's sleep for 4 minutes, no matter what happen!\nAwaitility.await()\n        .atLeast(Duration.ofMinutes(4L)) // what the hell does this mean, anyway?\n        .untilTrue(new AtomicBoolean(false));\n</code></pre>\n<p>It seems the timeout fired just after the default polling interval.</p>\n<p>Shouldn't I use the Awaitillity at the first time in this case?</p>\n"},{"tags":["java","web-services","soap","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1698075126,"post_id":77344700,"comment_id":136356191,"body_markdown":"then it will show me this error in my code:\n&quot;The type javax.xml.ws.WebServiceFeature cannot be resolved. It is indirectly referenced from required type com.sironkyc.ws.Service01&quot;","body":"then it will show me this error in my code: &quot;The type javax.xml.ws.WebServiceFeature cannot be resolved. It is indirectly referenced from required type com.sironkyc.ws.Service01&quot;"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698076689,"post_id":77344700,"comment_id":136356462,"body_markdown":"@maryemneyli Let me check on that.","body":"@maryemneyli Let me check on that."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698077091,"post_id":77344700,"comment_id":136356547,"body_markdown":"@maryemneyli Will you be able to update Service01 class if needed?","body":"@maryemneyli Will you be able to update Service01 class if needed?"},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1698077728,"post_id":77344700,"comment_id":136356668,"body_markdown":"no, it is the main class of the jar that i created from the wsdl using the wsimport command","body":"no, it is the main class of the jar that i created from the wsdl using the wsimport command"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698080484,"post_id":77344700,"comment_id":136357165,"body_markdown":"@maryemneyli I have updated my answer. See if this works now.","body":"@maryemneyli I have updated my answer. See if this works now."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1698141014,"post_id":77344700,"comment_id":136364519,"body_markdown":"no it gives me this error now:\njava.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl","body":"no it gives me this error now: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl"},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1698142267,"post_id":77344700,"comment_id":136364744,"body_markdown":"no actually, this error:\njava.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\npersists","body":"no actually, this error: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl persists"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698142304,"post_id":77344700,"comment_id":136364747,"body_markdown":"@maryemneyli Error got hidden. You missed to add it.","body":"@maryemneyli Error got hidden. You missed to add it."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1698142309,"post_id":77344700,"comment_id":136364748,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255719/discussion-between-maryem-neyli-and-anish-b).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255719/discussion-between-maryem-neyli-and-anish-b\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698320288,"creation_date":1698059631,"answer_id":77344700,"question_id":77332934,"body_markdown":"The things that needs to be cleaned up in the pom.xml.\r\n\r\n- Please remove all the `jakarta` dependencies as your code is using `javax` libraries.\r\n\r\n- Found out that `jaxws-api` version `2.1` (to be specific, versions **&lt;=** `2.3.x`) is not working with the `jaxws-rt` versions **&gt;** `2.3.x` if you are running your code on JDK versions **&gt;** `1.8`.\r\n\r\nI have added scenarios on what issues I have encountered on **JDK 17**:\r\n\r\n- `jaxws-api` &lt;= **2.1** and `jaxws-rt` &gt; **2.3.x**\r\n\r\nThis error will come:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\n- `jaxws-api` &gt;= **2.2.x** and &lt;= **2.3.x** and `jaxws-rt` &gt; **2.3.x**\r\n\r\nThis error will come:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\r\n\r\n**Note:** I saw that this issue only happens when you are running the code on **JDK version &gt; 1.8**.\r\n\r\nBetter run your code on **JDK 1.8** only. Then you will not get the above issues.\r\n\r\n**Or**\r\n\r\nOtherwise, you stay within **2.3.x** version for `jaxws-rt` for now if you want to run the code on higher JDKs.\r\n\r\n-----\r\n\r\n**Solution:**\r\n\r\nI have adjusted the **POM** to solve the issue (for **JDK &gt;= 1.8**):\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\r\n            &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThis should work.","title":"Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider","body":"<p>The things that needs to be cleaned up in the pom.xml.</p>\n<ul>\n<li><p>Please remove all the <code>jakarta</code> dependencies as your code is using <code>javax</code> libraries.</p>\n</li>\n<li><p>Found out that <code>jaxws-api</code> version <code>2.1</code> (to be specific, versions <strong>&lt;=</strong> <code>2.3.x</code>) is not working with the <code>jaxws-rt</code> versions <strong>&gt;</strong> <code>2.3.x</code> if you are running your code on JDK versions <strong>&gt;</strong> <code>1.8</code>.</p>\n</li>\n</ul>\n<p>I have added scenarios on what issues I have encountered on <strong>JDK 17</strong>:</p>\n<ul>\n<li><code>jaxws-api</code> &lt;= <strong>2.1</strong> and <code>jaxws-rt</code> &gt; <strong>2.3.x</strong></li>\n</ul>\n<p>This error will come:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader 'app')\n</code></pre>\n<ul>\n<li><code>jaxws-api</code> &gt;= <strong>2.2.x</strong> and &lt;= <strong>2.3.x</strong> and <code>jaxws-rt</code> &gt; <strong>2.3.x</strong></li>\n</ul>\n<p>This error will come:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\n</code></pre>\n<p><strong>Note:</strong> I saw that this issue only happens when you are running the code on <strong>JDK version &gt; 1.8</strong>.</p>\n<p>Better run your code on <strong>JDK 1.8</strong> only. Then you will not get the above issues.</p>\n<p><strong>Or</strong></p>\n<p>Otherwise, you stay within <strong>2.3.x</strong> version for <code>jaxws-rt</code> for now if you want to run the code on higher JDKs.</p>\n<hr />\n<p><strong>Solution:</strong></p>\n<p>I have adjusted the <strong>POM</strong> to solve the issue (for <strong>JDK &gt;= 1.8</strong>):</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\n        &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77344700,"answer_count":1,"score":3,"last_activity_date":1699511469,"creation_date":1697824760,"question_id":77332934,"body_markdown":"I extracted a jar from a wsdl using the `wsimport` command (JDK 1.8).\r\n\r\nNow, I&#39;m trying to use that jar to execute a specific web service and it shows me this error:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader &#39;app&#39;)\r\n    \tat javax.xml.ws.spi.Provider.provider(Provider.java:88)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\r\n    \tat com.Service01.&lt;init&gt;(Service01.java:42)\r\n    \tat com.kyc.MainApp.main(MainApp.java:45)\r\n\r\nHere are the dependencies that I have used in the **pom.xml**:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.5-b10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nPS: I have tried these solutions below but neither one of them worked.\r\n\r\n- [https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype][1]\r\n\r\n- [https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found][2]\r\n- [https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim][3]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype\r\n  [2]: https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found\r\n  [3]: https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim\r\n","title":"Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider","body":"<p>I extracted a jar from a wsdl using the <code>wsimport</code> command (JDK 1.8).</p>\n<p>Now, I'm trying to use that jar to execute a specific web service and it shows me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader 'app')\n    at javax.xml.ws.spi.Provider.provider(Provider.java:88)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\n    at com.Service01.&lt;init&gt;(Service01.java:42)\n    at com.kyc.MainApp.main(MainApp.java:45)\n</code></pre>\n<p>Here are the dependencies that I have used in the <strong>pom.xml</strong>:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\n            &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5-b10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>PS: I have tried these solutions below but neither one of them worked.</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype\">jakarta.xml.ws.spi.Provider: com.sun.xml.ws.spi.ProviderImpl not a subtype</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found\">JDK 11; JAX-WS; Provider com.sun.xml.internal.ws.spi.ProviderImpl not found</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim\">Getting java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl despite the dependencies are defined</a></p>\n</li>\n</ul>\n"},{"tags":["java","maven","intellij-idea","module"],"answers":[{"tags":[],"owner":{"account_id":24935721,"reputation":1,"user_id":18802333,"display_name":"Rosie Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688364937,"creation_date":1688364937,"answer_id":76602237,"question_id":76079843,"body_markdown":"I think you could try reimporting maven depency\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iF9yB.png","title":"Module not found - Caffine, Maven, module-info","body":"<p>I think you could try reimporting maven depency\n<a href=\"https://i.stack.imgur.com/iF9yB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699511006,"creation_date":1699511006,"answer_id":77450900,"question_id":76079843,"body_markdown":"Trying changing your module-info to\r\n\r\n```java\r\nmodule stock.core {\r\n  requires com.github.benmanes.caffeine;\r\n}\r\n```","title":"Module not found - Caffine, Maven, module-info","body":"<p>Trying changing your module-info to</p>\n<pre class=\"lang-java prettyprint-override\"><code>module stock.core {\n  requires com.github.benmanes.caffeine;\n}\n</code></pre>\n"}],"owner":{"account_id":22241220,"reputation":23,"user_id":16475687,"display_name":"user_020599"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699511006,"creation_date":1682169516,"question_id":76079843,"body_markdown":"I&#39;m playing around with module-info, in order to obtain strong encapuslation. \r\n\r\nI&#39;m trying to access the module which is exposed here: https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java\r\n\r\nHowever, for me it says it can&#39;t find the module: \r\n\r\n```\r\nmodule stock.core {\r\n    requires com.github.benmanes.caffeine.cache;\r\n}\r\n```\r\nwith the error: \r\n&gt; Module not found: com.github.benmanes.caffeine.cache\r\n\r\nIt&#39;s included in my dependencies:\r\n\r\nParent:\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;caffeine.version&gt;3.1.6&lt;/caffeine.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Internal dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n                &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n                &lt;version&gt;${caffeine.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nChild pom:\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Internal dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nAny help is appriciated! \r\n\r\n\r\nFirst I tried to google, and I found out I had to add the library to my class path, so I modified the parent POM including the maven-dependency-plugin. Then I tried adding the dependency into the Child POM as well. Then I tried looking into the github repo to make sure I had the correct package path to the module. \r\n\r\nI&#39;ve tried mvn install, but I just get an error that it can&#39;t find the module. ","title":"Module not found - Caffine, Maven, module-info","body":"<p>I'm playing around with module-info, in order to obtain strong encapuslation.</p>\n<p>I'm trying to access the module which is exposed here: <a href=\"https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java</a></p>\n<p>However, for me it says it can't find the module:</p>\n<pre><code>module stock.core {\n    requires com.github.benmanes.caffeine.cache;\n}\n</code></pre>\n<p>with the error:</p>\n<blockquote>\n<p>Module not found: com.github.benmanes.caffeine.cache</p>\n</blockquote>\n<p>It's included in my dependencies:</p>\n<p>Parent:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n\n        &lt;caffeine.version&gt;3.1.6&lt;/caffeine.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Internal dependencies --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n                &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n                &lt;version&gt;${caffeine.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Child pom:</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Internal dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Any help is appriciated!</p>\n<p>First I tried to google, and I found out I had to add the library to my class path, so I modified the parent POM including the maven-dependency-plugin. Then I tried adding the dependency into the Child POM as well. Then I tried looking into the github repo to make sure I had the correct package path to the module.</p>\n<p>I've tried mvn install, but I just get an error that it can't find the module.</p>\n"},{"tags":["java","logging","configuration","stack-trace","jvm-hotspot"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699273158,"post_id":77430701,"comment_id":136506642,"body_markdown":"Out of curiosity: why do you want to set a maxJavaStackTraceDepth of 10 or lower?","body":"Out of curiosity: why do you want to set a maxJavaStackTraceDepth of 10 or lower?"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699278417,"post_id":77430701,"comment_id":136507621,"body_markdown":"Hi @ThomasKl&#228;ger I want to control  the stack trace depth","body":"Hi @ThomasKl&#228;ger I want to control  the stack trace depth"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282490,"post_id":77430701,"comment_id":136508630,"body_markdown":"I understand that. But what is the problem that you are trying to solve with this?","body":"I understand that. But what is the problem that you are trying to solve with this?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282595,"post_id":77430701,"comment_id":136508651,"body_markdown":"The problem occurs during execution of `org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build()`. You can try to gather more information by setting the log level for the `org.apache.logging.log4j.core.config.plugins.util.PluginBuilder` logger to &quot;DEBUG&quot;","body":"The problem occurs during execution of <code>org.apache.logging.log4j.core.config.plugins.util.PluginBuil&zwnj;&#8203;der.build()</code>. You can try to gather more information by setting the log level for the <code>org.apache.logging.log4j.core.config.plugins.util.PluginBuil&zwnj;&#8203;der</code> logger to &quot;DEBUG&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282984,"post_id":77430701,"comment_id":136508745,"body_markdown":"I tested that setting with one of my applications (that happens to also use log4j2 - the place where your code fails) and I could start my application even with `--XX MaxJavaStackTraceDepth=1`","body":"I tested that setting with one of my applications (that happens to also use log4j2 - the place where your code fails) and I could start my application even with <code>--XX MaxJavaStackTraceDepth=1</code>"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699283272,"post_id":77430701,"comment_id":136508805,"body_markdown":"Hi @ThomasKl&#228;ger When Exception is raised then we  print the stack trace. This stack trace  run through multiple level and each level dumps a lot of information. that is why i want to control the stack trace depth","body":"Hi @ThomasKl&#228;ger When Exception is raised then we  print the stack trace. This stack trace  run through multiple level and each level dumps a lot of information. that is why i want to control the stack trace depth"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699284451,"post_id":77430701,"comment_id":136509038,"body_markdown":"Yes @ThomasKl&#228;ger you are right .. In my other application it is working... But some how it is not working with my current application. i am using spring-boot-starter-log4j2:3.1.5","body":"Yes @ThomasKl&#228;ger you are right .. In my other application it is working... But some how it is not working with my current application. i am using spring-boot-starter-log4j2:3.1.5"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699335328,"post_id":77430701,"comment_id":136515426,"body_markdown":"My application also uses spring-boot-starter-log4j2:3.1.5, but my application works. It must be some other dependency or how you configure your logging. Did you try my suggestion about generating more logging? What output did that produce? You might need to do that additional logging once with a stacktracedepth &gt; 10 (where your application runs) and once with a stacktracedepth of 5 (where your application crashes) to find a hint.","body":"My application also uses spring-boot-starter-log4j2:3.1.5, but my application works. It must be some other dependency or how you configure your logging. Did you try my suggestion about generating more logging? What output did that produce? You might need to do that additional logging once with a stacktracedepth &gt; 10 (where your application runs) and once with a stacktracedepth of 5 (where your application crashes) to find a hint."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":1,"creation_date":1699344168,"post_id":77430701,"comment_id":136516458,"body_markdown":"The exception dumps a lot of information *that helps you find the cause of the issue*. Don&#39;t know why you wouldn&#39;t want that.","body":"The exception dumps a lot of information <i>that helps you find the cause of the issue</i>. Don&#39;t know why you wouldn&#39;t want that."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699352038,"post_id":77430701,"comment_id":136517868,"body_markdown":"Hi @Tobb Thanks for the comment , As per requirement we do not want  lot of information dumps.","body":"Hi @Tobb Thanks for the comment , As per requirement we do not want  lot of information dumps."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1699355101,"post_id":77430701,"comment_id":136518479,"body_markdown":"Some classes use stack traces, e.g. to identify the caller, which may require a certain minimum depth when delegation is used. Of course, the better option would be to use `StackWalker`, introduced with Java&#160;9, but not all frameworks have been updated. So you end up with a library not supporting this option, but in the end, they haven’t been specified to work with this option.","body":"Some classes use stack traces, e.g. to identify the caller, which may require a certain minimum depth when delegation is used. Of course, the better option would be to use <code>StackWalker</code>, introduced with Java 9, but not all frameworks have been updated. So you end up with a library not supporting this option, but in the end, they haven’t been specified to work with this option."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699357237,"post_id":77430701,"comment_id":136518868,"body_markdown":"Hi @ThomasKl&#228;ger, I did enable logging as DEBUG. and set stacktracedepth as 5.But i am getting same stack trace","body":"Hi @ThomasKl&#228;ger, I did enable logging as DEBUG. and set stacktracedepth as 5.But i am getting same stack trace"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699358487,"post_id":77430701,"comment_id":136519089,"body_markdown":"If anyone has an explanation, much appreciated (does it have anything to do with (maximum-activity-trace-stack default value of 10 ?) https://docs.appdynamics.com/appd/23.x/23.9/en/application-monitoring/administer-app-server-agents/app-agent-node-properties-reference/app-agent-node-properties-m#:~:text=maximum-activity-trace-stack,Structures)%20are%20set%20to%2010.","body":"If anyone has an explanation, much appreciated (does it have anything to do with (maximum-activity-trace-stack default value of 10 ?) <a href=\"https://docs.appdynamics.com/appd/23.x/23.9/en/application-monitoring/administer-app-server-agents/app-agent-node-properties-reference/app-agent-node-properties-m#:~:text=maximum-activity-trace-stack,Structures)%20are%20set%20to%2010\" rel=\"nofollow noreferrer\">docs.appdynamics.com/appd/23.x/23.9/en/application-monitorin&zwnj;&#8203;g/&hellip;</a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699364428,"post_id":77430701,"comment_id":136520229,"body_markdown":"I don&#39;t expect the stacktrace to change, I expect some additional log output of the kind &quot;Building Plugin[name=somePluginName, class=somePluginClass]&quot; that can help to identify the problematic code.","body":"I don&#39;t expect the stacktrace to change, I expect some additional log output of the kind &quot;Building Plugin[name=somePluginName, class=somePluginClass]&quot; that can help to identify the problematic code."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699423592,"post_id":77430701,"comment_id":136528069,"body_markdown":"Regarding the link to appdynamics: do you use appdynamics in your project? If you don&#39;t use it that linked setting is irrelevant.","body":"Regarding the link to appdynamics: do you use appdynamics in your project? If you don&#39;t use it that linked setting is irrelevant."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699427715,"post_id":77430701,"comment_id":136528517,"body_markdown":"@ThomasKl&#228;ger thanks for the reply. No we are not using appdynamics in our project.","body":"@ThomasKl&#228;ger thanks for the reply. No we are not using appdynamics in our project."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699434355,"post_id":77430701,"comment_id":136529590,"body_markdown":"any other alternate way to control the stack trace depth?","body":"any other alternate way to control the stack trace depth?"}],"answers":[{"tags":[],"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699510552,"creation_date":1699510552,"answer_id":77450856,"question_id":77430701,"body_markdown":"I did research on it. I have below observation.\r\n\r\nWhen we decrease jvm option MaxJavaStackTraceDepth below a certain threshold, such as 10, it may not work as expected because it can affect the ability of the JVM to provide meaningful stack traces when exceptions are thrown.\r\n\r\nStack traces are crucial for diagnosing and debugging issues in Java applications, as they provide information about the sequence of method calls leading to an exception or error. When the MaxJavaStackTraceDepth is set too low, the JVM may not capture enough information in the stack trace to understand the context of the problem.\r\n\r\nIt&#39;s generally not recommended to set MaxJavaStackTraceDepth to a very low value, especially below 10.\r\n","title":"JVM option --XX MaxJavaStackTraceDepth when I decrease any value below 10, It is not working","body":"<p>I did research on it. I have below observation.</p>\n<p>When we decrease jvm option MaxJavaStackTraceDepth below a certain threshold, such as 10, it may not work as expected because it can affect the ability of the JVM to provide meaningful stack traces when exceptions are thrown.</p>\n<p>Stack traces are crucial for diagnosing and debugging issues in Java applications, as they provide information about the sequence of method calls leading to an exception or error. When the MaxJavaStackTraceDepth is set too low, the JVM may not capture enough information in the stack trace to understand the context of the problem.</p>\n<p>It's generally not recommended to set MaxJavaStackTraceDepth to a very low value, especially below 10.</p>\n"}],"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699510552,"creation_date":1699269729,"question_id":77430701,"body_markdown":"I am trying to set the jvm option maxJavaStackTraceDepth. So when I increase the JVM option --XX MaxJavaStackTraceDepth above 10. it is working as expected. But when I decrease any value below 10 so it causes NoClassDefFoundError error.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.message.ReusableMessageFactory\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2015)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1886)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:849)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:130)\r\n```\r\n\r\nIdeally it should work below 10 values as well \r\nlike -XX:MaxJavaStackTraceDepth=5\r\nI am using Java 17","title":"JVM option --XX MaxJavaStackTraceDepth when I decrease any value below 10, It is not working","body":"<p>I am trying to set the jvm option maxJavaStackTraceDepth. So when I increase the JVM option --XX MaxJavaStackTraceDepth above 10. it is working as expected. But when I decrease any value below 10 so it causes NoClassDefFoundError error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.message.ReusableMessageFactory\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2015)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1886)\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:849)\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:130)\n</code></pre>\n<p>Ideally it should work below 10 values as well\nlike -XX:MaxJavaStackTraceDepth=5\nI am using Java 17</p>\n"},{"tags":["java","eclipse","maven","unicenta"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699417787,"post_id":77442789,"comment_id":136527625,"body_markdown":"Please show your pom file, which JDK version, Maven version etc. you are using?","body":"Please show your pom file, which JDK version, Maven version etc. you are using?"},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699418633,"post_id":77442789,"comment_id":136527691,"body_markdown":"Updated with the information as per your reqest!","body":"Updated with the information as per your reqest!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1699428620,"post_id":77442789,"comment_id":136528646,"body_markdown":"You mentioned `Images` with an upper-case `I` but also `images` with lower-case `i`. Is this a typo or the cause (it would work only on a case insensitive file system, but not in a JAR).","body":"You mentioned <code>Images</code> with an upper-case <code>I</code> but also <code>images</code> with lower-case <code>i</code>. Is this a typo or the cause (it would work only on a case insensitive file system, but not in a JAR)."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699457777,"post_id":77442789,"comment_id":136534474,"body_markdown":"Loading an resource from your `src/main/resources/xyz/test.img` that means you have to `getResourcesAsStream(&quot;/xyz/test.img&quot;);`...","body":"Loading an resource from your <code>src&#47;main&#47;resources&#47;xyz&#47;test.img</code> that means you have to <code>getResourcesAsStream(&quot;&#47;xyz&#47;test.img&quot;);</code>..."},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699509829,"post_id":77442789,"comment_id":136541564,"body_markdown":"@howlger - I caught that too after some time. However, this does not appear to be affecting anything at this point. I went ahead and corrected it for congruency, though. Thanks!","body":"@howlger - I caught that too after some time. However, this does not appear to be affecting anything at this point. I went ahead and corrected it for congruency, though. Thanks!"},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699509892,"post_id":77442789,"comment_id":136541571,"body_markdown":"@khmarbaise - Correct. The /com/openbravo/images/unicenta.png file is located there. :)","body":"@khmarbaise - Correct. The /com/openbravo/images/unicenta.png file is located there. :)"}],"answers":[{"tags":[],"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699510433,"creation_date":1699510433,"answer_id":77450846,"question_id":77442789,"body_markdown":"This issue is resolved. There were no coding issues found after many hours of troubleshooting.\r\n\r\nIssue lays completely in the IDE.\r\n\r\nWhen running from Eclipse IDE and building it is running as a &#39;Java Application&#39;. Going to &#39;Build Executable JAR&#39; always ended in this strange error.\r\n\r\nAfter doing some research, found out about the M2E Maven Integration tools for Eclipse. Actually needed right-click my project in the Project Explorer pane then go to **Run As -&gt; Maven build...**. From here I can setup my output file information. **NOTE:** You *must* set a Goal in the Edit Configuration window or it will not build. I used &#39;package&#39; as my Goal and it built fine.\r\n\r\nAble to now run the JAR from my Command Prompt and everything is working perfectly!","title":"Maven Project Executable Jar Built in Eclipse IDE Not Finding Resource","body":"<p>This issue is resolved. There were no coding issues found after many hours of troubleshooting.</p>\n<p>Issue lays completely in the IDE.</p>\n<p>When running from Eclipse IDE and building it is running as a 'Java Application'. Going to 'Build Executable JAR' always ended in this strange error.</p>\n<p>After doing some research, found out about the M2E Maven Integration tools for Eclipse. Actually needed right-click my project in the Project Explorer pane then go to <strong>Run As -&gt; Maven build...</strong>. From here I can setup my output file information. <strong>NOTE:</strong> You <em>must</em> set a Goal in the Edit Configuration window or it will not build. I used 'package' as my Goal and it built fine.</p>\n<p>Able to now run the JAR from my Command Prompt and everything is working perfectly!</p>\n"}],"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450846,"answer_count":1,"score":0,"last_activity_date":1699510433,"creation_date":1699416596,"question_id":77442789,"body_markdown":"Having a livid time trying to figure out a compile problem.\r\n\r\nI am branching off of an existing Maven project and mid-project I switched from the Netbeans IDE to Eclipse IDE (yesterday, actually). The project runs *perfectly* when I run it from inside of the Eclipse IDE. However, when I compile the project to a self-contained executable jar it can no longer find the getClass().getResource() pathing.\r\n\r\nI am assuming there is a compiler issue or something when translating this to the jar?\r\n\r\nProject path is: /src/main/resources/Images&lt;br&gt;\r\nIDE Target is: target/classes/Images&lt;br&gt;\r\nIn the JAR it is in: resources/Images&lt;br&gt;\r\n\r\nIs this correct, or am I missing something painfully obvious?\r\n\r\nThe console error message is:\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n&gt; at javax.swing.ImageIcon.\\&lt;init&gt;(ImageIcon.java:217)\r\n\r\nThe code that is throwing this event is:\r\n\r\n```\r\njLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\r\n```\r\n\r\nIn order to troubleshoot and test for `NULL` I slide this in before the line:\r\n\r\n```\r\nSystem.out.println(&quot;Testing Resource: &quot; + getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\r\n```\r\n\r\nWhen executing from the **IDE** I get this (properly) returned:\r\n\r\n&gt; Testing Resource: file:/C:/Users/Fearfullsmile/Documents/My%20Programs/KB_Mercantile/target/classes/com/openbravo/images/unicenta.png\r\n\r\nWhen executing from the **Executable JAR** I get `NULL`:\r\n\r\n&gt; Testing Resource: null\r\n\r\nIf someone could please offer me some direction I would be greatly appreciative. Not trying to re-work the wheel, but this seems like it should work! I will be working on this all night, so if I come up with the solution I will update as soon as possible.  :)\r\n\r\nThanks!\r\n\r\n**UPDATES:**\r\n\r\nAs per request, here are the contents of `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.unicenta&lt;/groupId&gt;\r\n  &lt;artifactId&gt;unicentaopos&lt;/artifactId&gt;\r\n  &lt;version&gt;4.6.4&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;kotlin.version&gt;1.3.70&lt;/kotlin.version&gt;\r\n    &lt;!-- Specify this via command line i.e -Dbitrock.exec=/path/to/bitrock/builder--&gt;\r\n    &lt;bitrock.exec/&gt;\r\n    &lt;!-- windows, osx, linux --&gt;\r\n    &lt;bitrock.platform/&gt;\r\n    &lt;!-- Licence location --&gt;\r\n    &lt;bitrock.licence/&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n    &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n    &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.6&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.19&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--&lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0-v_771&lt;/version&gt;\r\n    &lt;/dependency&gt;--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n      &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n      &lt;version&gt;3.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n      &lt;version&gt;1.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n      &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;oro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;oro&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.beanshell&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bsh&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0b4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bidib.jbidib.org.qbang.rxtx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rxtxcomm&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jpos&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.10&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;je&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.swinglabs.swingx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swingx-all&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.5-1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n      &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis-wsdl4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swing-layout&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javacsv&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\r\n      &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\r\n      &lt;version&gt;RELEASE82&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.javapos&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.49&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n      &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n      &lt;version&gt;10.10.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.b2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.posapps&lt;/groupId&gt;\r\n      &lt;artifactId&gt;posapps-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.9&lt;/version&gt;\r\n      &lt;classifier&gt;exe&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Batik Dependencies now wrapped included in apache xmlgraphics fop   --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/fop --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n      &lt;version&gt;6.4.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n      &lt;version&gt;4.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Commercial version --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/de.sciss/weblaf --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.dalsemi.onewire&lt;/groupId&gt;\r\n      &lt;artifactId&gt;OneWireAPI&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- 4.2.2 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n      &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.usb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;usb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jdatepicker&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jdatepicker&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.sleepycat/je --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;je&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.73&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Kotlin --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n      &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\r\n      &lt;artifactId&gt;trident&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\r\n      &lt;artifactId&gt;substance&lt;/artifactId&gt;\r\n      &lt;version&gt;7.1.00&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;9.4.1208&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.3&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Kotlin --&gt;\r\n      &lt;plugin&gt;\r\n\t\t  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t  &lt;archive&gt;\r\n\t\t\t\t  &lt;manifest&gt;\r\n\t\t\t\t\t  &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\r\n\t\t\t\t  &lt;/manifest&gt;\r\n\t\t\t  &lt;/archive&gt;\r\n\t\t\t  &lt;descriptorRefs&gt;\r\n\t\t\t\t  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t  &lt;/descriptorRefs&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t  &lt;plugin&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;compile&lt;/id&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test-compile&lt;/id&gt;\r\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Windows&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Windows&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Linux&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Linux&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Mac_OS_X&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Mac_OS_X&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/scripts&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/licensing&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/installer/licensing&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Bonus&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Bonus&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Configs&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Configs&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Templates&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Templates&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/reports/com&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/main/resources/com&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/locales&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;com/**&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- BitRock --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;executable&gt;${bitrock.exec}&lt;/executable&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;build&lt;/argument&gt;\r\n            &lt;argument&gt;${basedir}/src/installer/unicentaopos.xml&lt;/argument&gt;\r\n            &lt;argument&gt;${bitrock.platform}&lt;/argument&gt;\r\n            &lt;argument&gt;--license&lt;/argument&gt;\r\n            &lt;argument&gt;${bitrock.licence}&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n          &lt;debug&gt;true&lt;/debug&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;attach-sources&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wagon-ftp&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    &lt;finalName&gt;unicentaopos&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\r\n      &lt;url&gt;http://repo.unicenta.org/maven2/&lt;/url&gt;\r\n      &lt;layout&gt;default&lt;/layout&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n      &lt;layout&gt;default&lt;/layout&gt;\r\n    &lt;/repository&gt;\r\n    &lt;!--These are needed for Swing/Netbeans --&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;netbeans&lt;/id&gt;\r\n      &lt;name&gt;NetBeans&lt;/name&gt;\r\n      &lt;url&gt;http://netbeans.apidesign.org/maven2/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n  &lt;distributionManagement&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\r\n      &lt;url&gt;ftp://repo.unicenta.org/&lt;/url&gt;\r\n      &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/distributionManagement&gt;\r\n  &lt;name&gt;unicentaopos&lt;/name&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**JDK Version** is: *jdk1.8.0_202*\r\n\r\n**Maven Version** is: *Apache Maven 3.9.4*\r\n\r\n**Eclipse IDE Version** is: *2023-09 (4.29.0)*\r\n\r\n**Plugin Installed:** *Lombok v1.18.30 &quot;Envious Ferret&quot;*","title":"Maven Project Executable Jar Built in Eclipse IDE Not Finding Resource","body":"<p>Having a livid time trying to figure out a compile problem.</p>\n<p>I am branching off of an existing Maven project and mid-project I switched from the Netbeans IDE to Eclipse IDE (yesterday, actually). The project runs <em>perfectly</em> when I run it from inside of the Eclipse IDE. However, when I compile the project to a self-contained executable jar it can no longer find the getClass().getResource() pathing.</p>\n<p>I am assuming there is a compiler issue or something when translating this to the jar?</p>\n<p>Project path is: /src/main/resources/Images<br>\nIDE Target is: target/classes/Images<br>\nIn the JAR it is in: resources/Images<br></p>\n<p>Is this correct, or am I missing something painfully obvious?</p>\n<p>The console error message is:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)</p>\n</blockquote>\n<p>The code that is throwing this event is:</p>\n<pre><code>jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\n</code></pre>\n<p>In order to troubleshoot and test for <code>NULL</code> I slide this in before the line:</p>\n<pre><code>System.out.println(&quot;Testing Resource: &quot; + getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\n</code></pre>\n<p>When executing from the <strong>IDE</strong> I get this (properly) returned:</p>\n<blockquote>\n<p>Testing Resource: file:/C:/Users/Fearfullsmile/Documents/My%20Programs/KB_Mercantile/target/classes/com/openbravo/images/unicenta.png</p>\n</blockquote>\n<p>When executing from the <strong>Executable JAR</strong> I get <code>NULL</code>:</p>\n<blockquote>\n<p>Testing Resource: null</p>\n</blockquote>\n<p>If someone could please offer me some direction I would be greatly appreciative. Not trying to re-work the wheel, but this seems like it should work! I will be working on this all night, so if I come up with the solution I will update as soon as possible.  :)</p>\n<p>Thanks!</p>\n<p><strong>UPDATES:</strong></p>\n<p>As per request, here are the contents of <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.unicenta&lt;/groupId&gt;\n  &lt;artifactId&gt;unicentaopos&lt;/artifactId&gt;\n  &lt;version&gt;4.6.4&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;kotlin.version&gt;1.3.70&lt;/kotlin.version&gt;\n    &lt;!-- Specify this via command line i.e -Dbitrock.exec=/path/to/bitrock/builder--&gt;\n    &lt;bitrock.exec/&gt;\n    &lt;!-- windows, osx, linux --&gt;\n    &lt;bitrock.platform/&gt;\n    &lt;!-- Licence location --&gt;\n    &lt;bitrock.licence/&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n    &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n    &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.6&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n      &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\n      &lt;version&gt;1.0.24&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n      &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n      &lt;version&gt;1.0.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0-v_771&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n      &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n      &lt;artifactId&gt;itext&lt;/artifactId&gt;\n      &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\n      &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\n      &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n      &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n      &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;oro&lt;/groupId&gt;\n      &lt;artifactId&gt;oro&lt;/artifactId&gt;\n      &lt;version&gt;2.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n      &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n      &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.beanshell&lt;/groupId&gt;\n      &lt;artifactId&gt;bsh&lt;/artifactId&gt;\n      &lt;version&gt;2.0b4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.bidib.jbidib.org.qbang.rxtx&lt;/groupId&gt;\n      &lt;artifactId&gt;rxtxcomm&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jpos&lt;/groupId&gt;\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\n      &lt;version&gt;2.0.10&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\n          &lt;artifactId&gt;je&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.swinglabs.swingx&lt;/groupId&gt;\n      &lt;artifactId&gt;swingx-all&lt;/artifactId&gt;\n      &lt;version&gt;1.6.5-1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n      &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\n      &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis-wsdl4j&lt;/artifactId&gt;\n      &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n      &lt;version&gt;0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\n      &lt;artifactId&gt;swing-layout&lt;/artifactId&gt;\n      &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\n      &lt;artifactId&gt;javacsv&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\n      &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n      &lt;version&gt;RELEASE82&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.javapos&lt;/groupId&gt;\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\n      &lt;version&gt;1.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;5.1.49&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n      &lt;artifactId&gt;derby&lt;/artifactId&gt;\n      &lt;version&gt;10.10.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n      &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n      &lt;version&gt;1.0.b2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.posapps&lt;/groupId&gt;\n      &lt;artifactId&gt;posapps-client&lt;/artifactId&gt;\n      &lt;version&gt;1.4.9&lt;/version&gt;\n      &lt;classifier&gt;exe&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Batik Dependencies now wrapped included in apache xmlgraphics fop   --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/fop --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n      &lt;artifactId&gt;fop&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n      &lt;version&gt;6.4.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n          &lt;artifactId&gt;itext&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n      &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n      &lt;version&gt;4.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Commercial version --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n      &lt;version&gt;2.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/de.sciss/weblaf --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\n      &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\n      &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.dalsemi.onewire&lt;/groupId&gt;\n      &lt;artifactId&gt;OneWireAPI&lt;/artifactId&gt;\n      &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- 4.2.2 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n      &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.usb&lt;/groupId&gt;\n      &lt;artifactId&gt;usb-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jdatepicker&lt;/groupId&gt;\n      &lt;artifactId&gt;jdatepicker&lt;/artifactId&gt;\n      &lt;version&gt;1.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.sleepycat/je --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\n      &lt;artifactId&gt;je&lt;/artifactId&gt;\n      &lt;version&gt;5.0.73&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Kotlin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n      &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\n      &lt;artifactId&gt;trident&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\n      &lt;artifactId&gt;substance&lt;/artifactId&gt;\n      &lt;version&gt;7.1.00&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;9.4.1208&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\n      &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.1.3&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Kotlin --&gt;\n      &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n              &lt;archive&gt;\n                  &lt;manifest&gt;\n                      &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n              &lt;/archive&gt;\n              &lt;descriptorRefs&gt;\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n              &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;test-compile&lt;/id&gt;\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Windows&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Windows&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Linux&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Linux&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Mac_OS_X&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Mac_OS_X&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/scripts&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/licensing&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/installer/licensing&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Bonus&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Bonus&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Configs&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Configs&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Templates&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Templates&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/reports/com&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/main/resources/com&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/locales&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;com/**&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;!-- BitRock --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;${bitrock.exec}&lt;/executable&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;build&lt;/argument&gt;\n            &lt;argument&gt;${basedir}/src/installer/unicentaopos.xml&lt;/argument&gt;\n            &lt;argument&gt;${bitrock.platform}&lt;/argument&gt;\n            &lt;argument&gt;--license&lt;/argument&gt;\n            &lt;argument&gt;${bitrock.licence}&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n          &lt;debug&gt;true&lt;/debug&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;attach-sources&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n        &lt;artifactId&gt;wagon-ftp&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;finalName&gt;unicentaopos&lt;/finalName&gt;\n  &lt;/build&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\n      &lt;url&gt;http://repo.unicenta.org/maven2/&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    &lt;!--These are needed for Swing/Netbeans --&gt;\n    &lt;repository&gt;\n      &lt;id&gt;netbeans&lt;/id&gt;\n      &lt;name&gt;NetBeans&lt;/name&gt;\n      &lt;url&gt;http://netbeans.apidesign.org/maven2/&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\n      &lt;url&gt;ftp://repo.unicenta.org/&lt;/url&gt;\n      &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n  &lt;name&gt;unicentaopos&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>JDK Version</strong> is: <em>jdk1.8.0_202</em></p>\n<p><strong>Maven Version</strong> is: <em>Apache Maven 3.9.4</em></p>\n<p><strong>Eclipse IDE Version</strong> is: <em>2023-09 (4.29.0)</em></p>\n<p><strong>Plugin Installed:</strong> <em>Lombok v1.18.30 &quot;Envious Ferret&quot;</em></p>\n"},{"tags":["java","http","pdf","download"],"comments":[{"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"score":0,"creation_date":1699304585,"post_id":77434033,"comment_id":136512674,"body_markdown":"This worked for me\n\n`curl --location &#39;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/&#39; \\\n--header &#39;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&#39; \\\n--output file.pdf --verbose`\n\nI&#39;ve tried java libs with this user-agent header but with no luck","body":"This worked for me  <code>curl --location &#39;https:&#47;&#47;tesco.sk&#47;akciove-ponuky&#47;letaky-a-katalogy&#47;letak&#47;202&zwnj;&#8203;3-11-01&#47;263&#47;&#39; \\ --header &#39;user-agent: Mozilla&#47;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;117.0.0.0 Safari&#47;537.36&#39; \\ --output file.pdf --verbose</code>  I&#39;ve tried java libs with this user-agent header but with no luck"},{"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"score":1,"creation_date":1699305240,"post_id":77434033,"comment_id":136512769,"body_markdown":"I&#39;ve just tried using fresh docker container and it worked for me there too `curl --location &#39;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/&#39; --header &#39;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&#39; --output file.pdf --verbose`\n\nThe problem is that I&#39;m not allowed to use curl or any other OS tool","body":"I&#39;ve just tried using fresh docker container and it worked for me there too <code>curl --location &#39;https:&#47;&#47;tesco.sk&#47;akciove-ponuky&#47;letaky-a-katalogy&#47;letak&#47;202&zwnj;&#8203;3-11-01&#47;263&#47;&#39; --header &#39;user-agent: Mozilla&#47;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;117.0.0.0 Safari&#47;537.36&#39; --output file.pdf --verbose</code>  The problem is that I&#39;m not allowed to use curl or any other OS tool"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699309493,"post_id":77434033,"comment_id":136513318,"body_markdown":"Note: In modern Java there&#39;s no need to muck around with `dataBuffer`; you can copy everything from input to output with `in.transferTo(fileOutputStream)`.","body":"Note: In modern Java there&#39;s no need to muck around with <code>dataBuffer</code>; you can copy everything from input to output with <code>in.transferTo(fileOutputStream)</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1699309648,"post_id":77434033,"comment_id":136513342,"body_markdown":"https://stackoverflow.com/a/9828691/636009","body":"<a href=\"https://stackoverflow.com/a/9828691/636009\">stackoverflow.com/a/9828691/636009</a>"}],"answers":[{"tags":[],"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699510318,"creation_date":1699510318,"answer_id":77450835,"question_id":77434033,"body_markdown":"I&#39;ve found a solution for this particular case. I&#39;m not sure if it will be of any help for other/similar problems but I&#39;ll post it here as a reference\r\n\r\n```\r\npublic File download(URL url) throws FileDownloadException {\r\n        val client = HttpClient.newBuilder()\r\n            .version(HttpClient.Version.HTTP_2)\r\n            .followRedirects(HttpClient.Redirect.NORMAL)\r\n            .build();\r\n\r\n        try {\r\n            val request = HttpRequest.newBuilder()\r\n                .uri(url.toURI())\r\n                .build();\r\n            val destination = Files.createTempFile(&quot;file&quot;, &quot;.pdf&quot;);\r\n            return client.send(request, HttpResponse.BodyHandlers.ofFile(destination)).body().toFile();\r\n        } catch (URISyntaxException | IOException | InterruptedException e) {\r\n            throw new FileDownloadException(&quot;Failed to download: &quot; + url, e);\r\n        }\r\n    }\r\n```\r\n\r\nI tend to think that the problem was around HTTP/2 and with this approach (using HTTP Client) I was able to sort it out. As per documentation\r\n\r\n&gt; If set to HTTP/2, then each request will attempt to upgrade to HTTP/2. If the upgrade succeeds, then the response to this request will use HTTP/2 and all subsequent requests and responses to the same origin server  will use HTTP/2. If the upgrade fails, then the response will be handled using HTTP/1.1\r\n\r\nSo it should work for my failing case and potentially all the others, which my tests actually have proven.\r\n\r\n","title":"Failing to download pdf file from URL in java","body":"<p>I've found a solution for this particular case. I'm not sure if it will be of any help for other/similar problems but I'll post it here as a reference</p>\n<pre><code>public File download(URL url) throws FileDownloadException {\n        val client = HttpClient.newBuilder()\n            .version(HttpClient.Version.HTTP_2)\n            .followRedirects(HttpClient.Redirect.NORMAL)\n            .build();\n\n        try {\n            val request = HttpRequest.newBuilder()\n                .uri(url.toURI())\n                .build();\n            val destination = Files.createTempFile(&quot;file&quot;, &quot;.pdf&quot;);\n            return client.send(request, HttpResponse.BodyHandlers.ofFile(destination)).body().toFile();\n        } catch (URISyntaxException | IOException | InterruptedException e) {\n            throw new FileDownloadException(&quot;Failed to download: &quot; + url, e);\n        }\n    }\n</code></pre>\n<p>I tend to think that the problem was around HTTP/2 and with this approach (using HTTP Client) I was able to sort it out. As per documentation</p>\n<blockquote>\n<p>If set to HTTP/2, then each request will attempt to upgrade to HTTP/2. If the upgrade succeeds, then the response to this request will use HTTP/2 and all subsequent requests and responses to the same origin server  will use HTTP/2. If the upgrade fails, then the response will be handled using HTTP/1.1</p>\n</blockquote>\n<p>So it should work for my failing case and potentially all the others, which my tests actually have proven.</p>\n"}],"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699510318,"creation_date":1699302213,"question_id":77434033,"body_markdown":"I&#39;m trying to download a PDF file from this particular URL\r\n\r\n`https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1`\r\n\r\nIt just hangs on receiving the response \r\n\r\nI&#39;ve tried with Postman, curl, wget and browsers and it went through.\r\n\r\nWhen I tried in java I&#39;m failing miserably. I&#39;ve tried several libraries\r\n\r\nExample:\r\n\r\n```\r\nHttpResponse&lt;String&gt; response = Unirest.get(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;)\r\n            .asString();\r\n```\r\n\r\n\r\n```\r\ntry (BufferedInputStream in = new BufferedInputStream(new URL(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;).openStream());\r\n             FileOutputStream fileOutputStream = new FileOutputStream(&quot;file.pdf&quot;)) {\r\n            byte dataBuffer[] = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\r\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\r\n            }\r\n        } catch (IOException e) {\r\n            // handle exception\r\n        }\r\n```\r\n\r\nDoes anyone have an idea what could be the problem here?\r\n\r\n","title":"Failing to download pdf file from URL in java","body":"<p>I'm trying to download a PDF file from this particular URL</p>\n<p><code>https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1</code></p>\n<p>It just hangs on receiving the response</p>\n<p>I've tried with Postman, curl, wget and browsers and it went through.</p>\n<p>When I tried in java I'm failing miserably. I've tried several libraries</p>\n<p>Example:</p>\n<pre><code>HttpResponse&lt;String&gt; response = Unirest.get(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;)\n            .asString();\n</code></pre>\n<pre><code>try (BufferedInputStream in = new BufferedInputStream(new URL(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;).openStream());\n             FileOutputStream fileOutputStream = new FileOutputStream(&quot;file.pdf&quot;)) {\n            byte dataBuffer[] = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\n            }\n        } catch (IOException e) {\n            // handle exception\n        }\n</code></pre>\n<p>Does anyone have an idea what could be the problem here?</p>\n"},{"tags":["java","jsf","primefaces"],"answers":[{"comments":[{"owner":{"account_id":1654478,"reputation":184,"user_id":1524381,"accept_rate":80,"display_name":"Yannick"},"score":0,"creation_date":1376658794,"post_id":18259322,"comment_id":26804055,"body_markdown":"Hi, I updated my post with the converter I tried with but I get the same exact error when submitting.","body":"Hi, I updated my post with the converter I tried with but I get the same exact error when submitting."},{"owner":{"account_id":1996471,"reputation":3425,"user_id":1789351,"accept_rate":100,"display_name":"rdcrng"},"score":0,"creation_date":1376658958,"post_id":18259322,"comment_id":26804173,"body_markdown":"Did you set the converter to `&lt;p:autocomplete ... converter=&quot;demandeurUIConverter&quot; .../&gt;`?","body":"Did you set the converter to <code>&lt;p:autocomplete ... converter=&quot;demandeurUIConverter&quot; ...&#47;&gt;</code>?"},{"owner":{"account_id":1654478,"reputation":184,"user_id":1524381,"accept_rate":80,"display_name":"Yannick"},"score":0,"creation_date":1376663577,"post_id":18259322,"comment_id":26807149,"body_markdown":"Yes I did set the converter attribute and I could follow the code in debug mode going through both overriden functions","body":"Yes I did set the converter attribute and I could follow the code in debug mode going through both overriden functions"}],"tags":[],"owner":{"account_id":1996471,"reputation":3425,"user_id":1789351,"accept_rate":100,"display_name":"rdcrng"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376591643,"creation_date":1376591643,"answer_id":18259322,"question_id":18259228,"body_markdown":"This will work if you make a converter for `Demandeur`.","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>This will work if you make a converter for <code>Demandeur</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user1073494"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388502638,"creation_date":1388502638,"answer_id":20859260,"question_id":18259228,"body_markdown":"Actually, the problem seems to be this part\r\n\r\n    itemValue=&quot;#{demandeurItem.nom}&quot;\r\n\r\nif the itemValue is the name of your item, then the converter will try to convert from a String and not from the object. So your converter method below will receive &quot;value&quot; = string, not a Demandeur as you may expect.\r\n\r\n    public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException\r\n\r\nI&#39;ve tried this code below and I think it&#39;s what you need. I am using primefaces 4.0 on tomee 1.6.0.\r\n\r\nthe converter\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.RequestScoped;\r\n    import javax.faces.component.UIComponent;\r\n    import javax.faces.context.FacesContext;\r\n    import javax.faces.convert.Converter;\r\n    import javax.faces.convert.ConverterException;\r\n    \r\n    @ManagedBean\r\n    @RequestScoped\r\n    public class DemandeurConverter implements Converter, Serializable {\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= 1L;\r\n    \r\n    \t@EJB\r\n    \tDemandeurs\t\t\t\t\tejb;\r\n    \r\n    \t@Override\r\n    \tpublic Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\r\n    \t\tif (value == null || value.length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\treturn ejb.getData().get(Long.parseLong(value));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\r\n    \t\tSystem.out.println(value.getClass());\r\n    \t\tif (value == null) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\treturn ((Demandeur) value).getId().toString();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthe managed bean\r\n\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map.Entry;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.ViewScoped;\r\n    \r\n    @ManagedBean\r\n    @ViewScoped\r\n    public class UtilisateurDemandeurCtrl implements Serializable {\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= -3027573774106311465L;\r\n    \t\r\n    \t@EJB \r\n    \tprivate Demandeurs\t\t\t\t\tejb;\r\n    \t\r\n    \tprivate Demandeur critereRechercheDemandeur;\r\n    \r\n    \tpublic List&lt;Demandeur&gt; completeDemandeur(String query) {\r\n    \t\tList&lt;Demandeur&gt; l = new ArrayList&lt;Demandeur&gt;();\r\n    \t\t\r\n    \t\tfor(Entry&lt;Long, Demandeur&gt; entryset:ejb.getData().entrySet()){\r\n    \t\t\tif (entryset.getValue().getNom().contains(query)){\r\n    \t\t\t\tl.add(entryset.getValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn l;\r\n    \t}\r\n    \r\n    \tpublic Demandeur getCritereRechercheDemandeur() {\r\n    \t\treturn critereRechercheDemandeur;\r\n    \t}\r\n    \r\n    \tpublic void setCritereRechercheDemandeur(Demandeur critereRechercheDemandeur) {\r\n    \t\tthis.critereRechercheDemandeur = critereRechercheDemandeur;\r\n    \t}\r\n    }\r\n\r\nthe EJB\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.ejb.Singleton;\r\n    \r\n    \r\n    @Singleton\r\n    public class Demandeurs {\r\n    \r\n    \tprivate static final Map&lt;Long,Demandeur&gt; data = new HashMap&lt;Long,Demandeur&gt;(){\r\n    \t\tprivate static final long\tserialVersionUID\t= -4394378761837292672L;\r\n    \r\n    \t\t{\r\n    \t\t\t put(1L,new Demandeur(1L,&quot;ooooooooooone&quot;,111));\r\n    \t\t\t put(2L,new Demandeur(2L,&quot;ttttttttttttwo&quot;,222));\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static Map&lt;Long, Demandeur&gt; getData() {\r\n    \t\treturn data;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nthe entity bean\r\n\r\n    import java.io.Serializable;\r\n    \r\n    \r\n    public class Demandeur implements Serializable{\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= 4023658749746098762L;\r\n    \tprivate Long id;\r\n    \tprivate String nom;\r\n    \tprivate Integer numeroOW;\r\n    \tpublic Demandeur() {}\r\n    \t\r\n    \tpublic Demandeur(Long id, String nom, Integer numeroOW) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.nom = nom;\r\n    \t\tthis.numeroOW = numeroOW;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getNom() {\r\n    \t\treturn nom;\r\n    \t}\r\n    \tpublic void setNom(String nom) {\r\n    \t\tthis.nom = nom;\r\n    \t}\r\n    \tpublic Integer getNumeroOW() {\r\n    \t\treturn numeroOW;\r\n    \t}\r\n    \tpublic void setNumeroOW(Integer numeroOW) {\r\n    \t\tthis.numeroOW = numeroOW;\r\n    \t}\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n    \t\tresult = prime * result + ((nom == null) ? 0 : nom.hashCode());\r\n    \t\tresult = prime * result + ((numeroOW == null) ? 0 : numeroOW.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tDemandeur other = (Demandeur) obj;\r\n    \t\tif (id == null) {\r\n    \t\t\tif (other.id != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!id.equals(other.id))\r\n    \t\t\treturn false;\r\n    \t\tif (nom == null) {\r\n    \t\t\tif (other.nom != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!nom.equals(other.nom))\r\n    \t\t\treturn false;\r\n    \t\tif (numeroOW == null) {\r\n    \t\t\tif (other.numeroOW != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!numeroOW.equals(other.numeroOW))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nand the xhtml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \txmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n    \txmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    \txmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n    \txmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n    &lt;h:head&gt;\r\n    \t&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    \t&lt;title&gt;Test&lt;/title&gt;\r\n    \t&lt;h:outputScript library=&quot;js&quot; name=&quot;common.js&quot; /&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    \r\n    \t&lt;h:form id=&quot;somePrefix&quot;&gt;\r\n    \r\n    \t\t&lt;p:autoComplete \r\n    \t\t\tid=&quot;it_demandeur&quot;\r\n    \t\t\tvalue=&quot;#{utilisateurDemandeurCtrl.critereRechercheDemandeur}&quot;\r\n    \t\t\tvar=&quot;demandeurItem&quot;\r\n    \t\t\tconverter=&quot;#{demandeurConverter}&quot;\r\n    \t\t\titemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;\r\n    \t\t\titemValue=&quot;#{demandeurItem}&quot;\r\n    \t\t\tforceSelection=&quot;true&quot;\r\n    \t\t\tcompleteMethod=&quot;#{utilisateurDemandeurCtrl.completeDemandeur}&quot;&gt;\r\n    \r\n    \t\t\t&lt;p:column&gt;\r\n                  #{demandeurItem.numeroOW} - #{demandeurItem.nom}\r\n    \t\t\t&lt;/p:column&gt;\r\n    \t\t&lt;/p:autoComplete&gt;\r\n    \r\n    \t&lt;/h:form&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>Actually, the problem seems to be this part</p>\n\n<pre><code>itemValue=\"#{demandeurItem.nom}\"\n</code></pre>\n\n<p>if the itemValue is the name of your item, then the converter will try to convert from a String and not from the object. So your converter method below will receive \"value\" = string, not a Demandeur as you may expect.</p>\n\n<pre><code>public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException\n</code></pre>\n\n<p>I've tried this code below and I think it's what you need. I am using primefaces 4.0 on tomee 1.6.0.</p>\n\n<p>the converter</p>\n\n<pre><code>import java.io.Serializable;\n\nimport javax.ejb.EJB;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.RequestScoped;\nimport javax.faces.component.UIComponent;\nimport javax.faces.context.FacesContext;\nimport javax.faces.convert.Converter;\nimport javax.faces.convert.ConverterException;\n\n@ManagedBean\n@RequestScoped\npublic class DemandeurConverter implements Converter, Serializable {\n\n    private static final long   serialVersionUID    = 1L;\n\n    @EJB\n    Demandeurs                  ejb;\n\n    @Override\n    public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\n        if (value == null || value.length() == 0) {\n            return null;\n        } else {\n            return ejb.getData().get(Long.parseLong(value));\n        }\n    }\n\n    @Override\n    public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\n        System.out.println(value.getClass());\n        if (value == null) {\n            return null;\n        } else {\n            return ((Demandeur) value).getId().toString();\n        }\n    }\n}\n</code></pre>\n\n<p>the managed bean</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map.Entry;\n\nimport javax.ejb.EJB;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.ViewScoped;\n\n@ManagedBean\n@ViewScoped\npublic class UtilisateurDemandeurCtrl implements Serializable {\n\n    private static final long   serialVersionUID    = -3027573774106311465L;\n\n    @EJB \n    private Demandeurs                  ejb;\n\n    private Demandeur critereRechercheDemandeur;\n\n    public List&lt;Demandeur&gt; completeDemandeur(String query) {\n        List&lt;Demandeur&gt; l = new ArrayList&lt;Demandeur&gt;();\n\n        for(Entry&lt;Long, Demandeur&gt; entryset:ejb.getData().entrySet()){\n            if (entryset.getValue().getNom().contains(query)){\n                l.add(entryset.getValue());\n            }\n        }\n\n        return l;\n    }\n\n    public Demandeur getCritereRechercheDemandeur() {\n        return critereRechercheDemandeur;\n    }\n\n    public void setCritereRechercheDemandeur(Demandeur critereRechercheDemandeur) {\n        this.critereRechercheDemandeur = critereRechercheDemandeur;\n    }\n}\n</code></pre>\n\n<p>the EJB</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport javax.ejb.Singleton;\n\n\n@Singleton\npublic class Demandeurs {\n\n    private static final Map&lt;Long,Demandeur&gt; data = new HashMap&lt;Long,Demandeur&gt;(){\n        private static final long   serialVersionUID    = -4394378761837292672L;\n\n        {\n             put(1L,new Demandeur(1L,\"ooooooooooone\",111));\n             put(2L,new Demandeur(2L,\"ttttttttttttwo\",222));\n        }\n    };\n\n    public static Map&lt;Long, Demandeur&gt; getData() {\n        return data;\n    }\n\n\n}\n</code></pre>\n\n<p>the entity bean</p>\n\n<pre><code>import java.io.Serializable;\n\n\npublic class Demandeur implements Serializable{\n\n    private static final long   serialVersionUID    = 4023658749746098762L;\n    private Long id;\n    private String nom;\n    private Integer numeroOW;\n    public Demandeur() {}\n\n    public Demandeur(Long id, String nom, Integer numeroOW) {\n        super();\n        this.id = id;\n        this.nom = nom;\n        this.numeroOW = numeroOW;\n    }\n\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getNom() {\n        return nom;\n    }\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n    public Integer getNumeroOW() {\n        return numeroOW;\n    }\n    public void setNumeroOW(Integer numeroOW) {\n        this.numeroOW = numeroOW;\n    }\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        result = prime * result + ((nom == null) ? 0 : nom.hashCode());\n        result = prime * result + ((numeroOW == null) ? 0 : numeroOW.hashCode());\n        return result;\n    }\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Demandeur other = (Demandeur) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        if (nom == null) {\n            if (other.nom != null)\n                return false;\n        } else if (!nom.equals(other.nom))\n            return false;\n        if (numeroOW == null) {\n            if (other.numeroOW != null)\n                return false;\n        } else if (!numeroOW.equals(other.numeroOW))\n            return false;\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>and the xhtml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n    xmlns:f=\"http://java.sun.com/jsf/core\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n    xmlns:p=\"http://primefaces.org/ui\"&gt;\n&lt;h:head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;h:outputScript library=\"js\" name=\"common.js\" /&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n\n    &lt;h:form id=\"somePrefix\"&gt;\n\n        &lt;p:autoComplete \n            id=\"it_demandeur\"\n            value=\"#{utilisateurDemandeurCtrl.critereRechercheDemandeur}\"\n            var=\"demandeurItem\"\n            converter=\"#{demandeurConverter}\"\n            itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\"\n            itemValue=\"#{demandeurItem}\"\n            forceSelection=\"true\"\n            completeMethod=\"#{utilisateurDemandeurCtrl.completeDemandeur}\"&gt;\n\n            &lt;p:column&gt;\n              #{demandeurItem.numeroOW} - #{demandeurItem.nom}\n            &lt;/p:column&gt;\n        &lt;/p:autoComplete&gt;\n\n    &lt;/h:form&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2308657,"reputation":1,"user_id":2027349,"display_name":"user2027349"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400081873,"creation_date":1400081873,"answer_id":23659201,"question_id":18259228,"body_markdown":"I am having the same exact issue.\r\n\r\nThis gives me an error: itemLabel=&quot;#{user.fullName}&quot;: Property &#39;fullName&#39; not found on type java.lang.String\r\n\r\nThe issue comes up only when you update the autocomplete component after a submit (to show validation messages). If you remove &quot;update&quot; attribute from a commandButton, it works just fine.\r\n\r\n    &lt;p:panel id=&quot;resourceConfigNewFormPanel&quot;&gt;\r\n        &lt;p:autoComplete id=&quot;newUsername&quot; value=&quot;#{userResourceConfigurationListBean.resourceConfig.username}&quot; completeMethod=&quot;#{userResourceConfigurationListBean.autocompleteUser}&quot; var=&quot;user&quot; itemLabel=&quot;#{user.fullName}&quot; itemValue=&quot;#{user.userName}&quot; forceSelection=&quot;true&quot; required=&quot;true&quot;&gt;\r\n        &lt;/p:autoComplete&gt;\r\n        &lt;p:commandButton value=&quot;...&quot; action=&quot;...&quot; update=&quot;resourceConfigNewForm&quot; oncomplete=&quot;if (args &amp;amp;&amp;amp; !args.validationFailed) resourceConfigNewDlg.hide()&quot; /&gt;\r\n\r\nAnd this works with and without update:\r\n\r\n    &lt;p:autoComplete id=&quot;newUsername&quot; value=&quot;#{userResourceConfigurationListBean.resourceConfig.user}&quot; completeMethod=&quot;#{userResourceConfigurationListBean.autocompleteUser}&quot; var=&quot;user&quot; itemLabel=&quot;#{user.fullName}&quot; itemValue=&quot;#{user}&quot; converter=&quot;#{userNameToUserConverter}&quot; forceSelection=&quot;true&quot; required=&quot;true&quot;&gt;\r\n    &lt;/p:autoComplete&gt;","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>I am having the same exact issue.</p>\n\n<p>This gives me an error: itemLabel=\"#{user.fullName}\": Property 'fullName' not found on type java.lang.String</p>\n\n<p>The issue comes up only when you update the autocomplete component after a submit (to show validation messages). If you remove \"update\" attribute from a commandButton, it works just fine.</p>\n\n<pre><code>&lt;p:panel id=\"resourceConfigNewFormPanel\"&gt;\n    &lt;p:autoComplete id=\"newUsername\" value=\"#{userResourceConfigurationListBean.resourceConfig.username}\" completeMethod=\"#{userResourceConfigurationListBean.autocompleteUser}\" var=\"user\" itemLabel=\"#{user.fullName}\" itemValue=\"#{user.userName}\" forceSelection=\"true\" required=\"true\"&gt;\n    &lt;/p:autoComplete&gt;\n    &lt;p:commandButton value=\"...\" action=\"...\" update=\"resourceConfigNewForm\" oncomplete=\"if (args &amp;amp;&amp;amp; !args.validationFailed) resourceConfigNewDlg.hide()\" /&gt;\n</code></pre>\n\n<p>And this works with and without update:</p>\n\n<pre><code>&lt;p:autoComplete id=\"newUsername\" value=\"#{userResourceConfigurationListBean.resourceConfig.user}\" completeMethod=\"#{userResourceConfigurationListBean.autocompleteUser}\" var=\"user\" itemLabel=\"#{user.fullName}\" itemValue=\"#{user}\" converter=\"#{userNameToUserConverter}\" forceSelection=\"true\" required=\"true\"&gt;\n&lt;/p:autoComplete&gt;\n</code></pre>\n"}],"owner":{"account_id":1654478,"reputation":184,"user_id":1524381,"accept_rate":80,"display_name":"Yannick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699509820,"creation_date":1376591293,"question_id":18259228,"body_markdown":"I&#39;m not sure if this is possible ... but I&#39;d like to use the autoComplete component, where the value attribute is of type String and where the completeMethod returns a List of some heavy object.\r\n\r\nIt is also a requirement for me to use `forceSelection=&quot;false&quot;`\r\n\r\nThis is what I think should work (but doesn&#39;t):\r\n\r\n            &lt;p:autoComplete id=&quot;it_demandeur&quot;\r\n                            value=&quot;#{utilisateurDemandeurCtrl.critereRechercheDemandeur}&quot;\r\n                            var=&quot;demandeurItem&quot;\r\n                            itemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;\r\n                            itemValue=&quot;#{demandeurItem.nom}&quot;\r\n                            completeMethod=&quot;#{utilisateurDemandeurCtrl.completeDemandeur}&quot; \r\n                            minQueryLength=&quot;3&quot;\r\n                            cacheTimeout=&quot;10000&quot;&gt;\r\n\r\n               &lt;p:column&gt;\r\n                  #{demandeurItem.numeroOW} - #{demandeurItem.nom}\r\n\r\n               &lt;/p:column&gt;\r\n               \r\n\r\n            &lt;/p:autoComplete&gt;\r\n\r\nThis is the method that returns the list of suggestions:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n       public List&lt;Demandeur&gt; completeDemandeur(String query) {\r\n\r\n      StringBuilder jpql = new StringBuilder(128);\r\n\r\n      jpql.append(&quot;SELECT d&quot;);\r\n      jpql.append(&quot; FROM Demandeur d&quot;);\r\n      jpql.append(&quot; WHERE UPPER(d.nom) LIKE :query&quot;);\r\n      jpql.append(&quot; OR d.numeroOW LIKE :query&quot;);\r\n\r\n      Query demandeurQuery = em.createQuery(jpql.toString());\r\n\r\n      demandeurQuery.setParameter(&quot;query&quot;, &quot;%&quot; + query.toUpperCase() + &quot;%&quot;);\r\n\r\n      return (List&lt;Demandeur&gt;) demandeurQuery.getResultList();\r\n     }\r\n\r\n\r\nIf the user selects a suggestion, it would set the itemValue to the name of the selected suggestion, but display a concatenated string of 2 values from the Demandeur object.\r\n\r\nThe suggestions do appear and I can select them, but unfortunely, I get this error when submitting the page:\r\n\r\n    \r\n&lt;pre&gt;\r\nException message: /page/utilisateur.xhtml at line 27 and column 50 itemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;: Property &#39;numeroOW&#39; not found on type java.lang.String\r\n&lt;/pre&gt;\r\nMy understanding is that the var attribute of the autoComplete component is an iterator on the suggestions, so in my case of type Demandeur, not String.\r\n\r\nAny help would be appreciated!\r\n\r\nThanks\r\n\r\nI am using primefaces 3.5.11, MyFaces implementation for JSF on Websphere 8.5.5.0\r\n\r\nEdit:\r\n\r\nHere is the converter I tried with\r\n\r\n    @FacesConverter(value = &quot;demandeurUIConverter&quot;)\r\n    public class DemandeurConverter implements Serializable, Converter {\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       @Override\r\n       public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\r\n          if (value == null || value.length() == 0) {\r\n             return null;\r\n          }\r\n          ConverterCtrl cc = EJB.lookup(ConverterCtrl.class);\r\n          Demandeur d = cc.getDemandeurFromCle(value);\r\n          if (d == null) {\r\n             d = new Demandeur();\r\n             d.setNom(value);\r\n             d.setNumeroOW(value);\r\n          }\r\n          return d;\r\n       }\r\n    \r\n       @Override\r\n       public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\r\n          if (value == null) {\r\n             return &quot;&quot;;\r\n          }\r\n          Demandeur demandeur = (Demandeur) value;\r\n          return demandeur.getNom();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>I'm not sure if this is possible ... but I'd like to use the autoComplete component, where the value attribute is of type String and where the completeMethod returns a List of some heavy object.</p>\n\n<p>It is also a requirement for me to use <code>forceSelection=\"false\"</code></p>\n\n<p>This is what I think should work (but doesn't):</p>\n\n<pre><code>        &lt;p:autoComplete id=\"it_demandeur\"\n                        value=\"#{utilisateurDemandeurCtrl.critereRechercheDemandeur}\"\n                        var=\"demandeurItem\"\n                        itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\"\n                        itemValue=\"#{demandeurItem.nom}\"\n                        completeMethod=\"#{utilisateurDemandeurCtrl.completeDemandeur}\" \n                        minQueryLength=\"3\"\n                        cacheTimeout=\"10000\"&gt;\n\n           &lt;p:column&gt;\n              #{demandeurItem.numeroOW} - #{demandeurItem.nom}\n\n           &lt;/p:column&gt;\n\n\n        &lt;/p:autoComplete&gt;\n</code></pre>\n\n<p>This is the method that returns the list of suggestions:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n   public List&lt;Demandeur&gt; completeDemandeur(String query) {\n\n  StringBuilder jpql = new StringBuilder(128);\n\n  jpql.append(\"SELECT d\");\n  jpql.append(\" FROM Demandeur d\");\n  jpql.append(\" WHERE UPPER(d.nom) LIKE :query\");\n  jpql.append(\" OR d.numeroOW LIKE :query\");\n\n  Query demandeurQuery = em.createQuery(jpql.toString());\n\n  demandeurQuery.setParameter(\"query\", \"%\" + query.toUpperCase() + \"%\");\n\n  return (List&lt;Demandeur&gt;) demandeurQuery.getResultList();\n }\n</code></pre>\n\n<p>If the user selects a suggestion, it would set the itemValue to the name of the selected suggestion, but display a concatenated string of 2 values from the Demandeur object.</p>\n\n<p>The suggestions do appear and I can select them, but unfortunely, I get this error when submitting the page:</p>\n\n<pre>\nException message: /page/utilisateur.xhtml at line 27 and column 50 itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\": Property 'numeroOW' not found on type java.lang.String\n</pre>\n\n<p>My understanding is that the var attribute of the autoComplete component is an iterator on the suggestions, so in my case of type Demandeur, not String.</p>\n\n<p>Any help would be appreciated!</p>\n\n<p>Thanks</p>\n\n<p>I am using primefaces 3.5.11, MyFaces implementation for JSF on Websphere 8.5.5.0</p>\n\n<p>Edit:</p>\n\n<p>Here is the converter I tried with</p>\n\n<pre><code>@FacesConverter(value = \"demandeurUIConverter\")\npublic class DemandeurConverter implements Serializable, Converter {\n\n   private static final long serialVersionUID = 1L;\n\n   @Override\n   public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\n      if (value == null || value.length() == 0) {\n         return null;\n      }\n      ConverterCtrl cc = EJB.lookup(ConverterCtrl.class);\n      Demandeur d = cc.getDemandeurFromCle(value);\n      if (d == null) {\n         d = new Demandeur();\n         d.setNom(value);\n         d.setNumeroOW(value);\n      }\n      return d;\n   }\n\n   @Override\n   public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\n      if (value == null) {\n         return \"\";\n      }\n      Demandeur demandeur = (Demandeur) value;\n      return demandeur.getNom();\n   }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","click"],"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1652375599,"post_id":23080148,"comment_id":127596978,"body_markdown":"Does this answer your question? [Android: How to prevent any touch events from being passed from a view to the one underneath it?](https://stackoverflow.com/questions/8433387/android-how-to-prevent-any-touch-events-from-being-passed-from-a-view-to-the-on)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8433387/android-how-to-prevent-any-touch-events-from-being-passed-from-a-view-to-the-on\">Android: How to prevent any touch events from being passed from a view to the one underneath it?</a>"}],"answers":[{"comments":[{"owner":{"account_id":404827,"reputation":4950,"user_id":773363,"accept_rate":93,"display_name":"Apqu"},"score":0,"creation_date":1397557101,"post_id":23080253,"comment_id":35274768,"body_markdown":"Thanks for your answer, the child views are still receiving the click/tap event do I need to also remove the handler for the &quot;click&quot; (TapListener).","body":"Thanks for your answer, the child views are still receiving the click/tap event do I need to also remove the handler for the &quot;click&quot; (TapListener)."},{"owner":{"account_id":404827,"reputation":4950,"user_id":773363,"accept_rate":93,"display_name":"Apqu"},"score":0,"creation_date":1397557530,"post_id":23080253,"comment_id":35275041,"body_markdown":"Ah awesome, thanks, that did the trick. I guess this is much less resource intensive than iterating all the views too!","body":"Ah awesome, thanks, that did the trick. I guess this is much less resource intensive than iterating all the views too!"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1417676999,"post_id":23080253,"comment_id":43042938,"body_markdown":"but setting onClickListener again make it clickable!","body":"but setting onClickListener again make it clickable!"}],"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1397557667,"creation_date":1397555569,"answer_id":23080253,"question_id":23080148,"body_markdown":"Simply call `rlTest.setClickable(false)`. This will prevent the click to be propagate to the children\r\n\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>Simply call <code>rlTest.setClickable(false)</code>. This will prevent the click to be propagate to the children</p>\n"},{"tags":[],"owner":{"account_id":1744178,"reputation":1494,"user_id":1594755,"accept_rate":60,"display_name":"Parth Kapoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397556031,"creation_date":1397556031,"answer_id":23080456,"question_id":23080148,"body_markdown":"I assume that you are using onClickListeners. \r\n\r\nHow about using onTouchListener instead of onClickListeners. By doing this you will have a control over how deep down in your hierarchy the touch even can be visible. For example, if you have toch listeners on a relative-layout(RL) and a image-view(IV)(contained in RL), and you assign touchListeners to both. Now if you **return true** from IV&#39;s touch event, the lower down member RL will not receive the touch event. However if you **return false** from from IV&#39;s touch event, the lower down member RL will receive the touch event.\r\n\r\nHope this helps!","title":"Prevent Click-through of Android ImageVIew?","body":"<p>I assume that you are using onClickListeners. </p>\n\n<p>How about using onTouchListener instead of onClickListeners. By doing this you will have a control over how deep down in your hierarchy the touch even can be visible. For example, if you have toch listeners on a relative-layout(RL) and a image-view(IV)(contained in RL), and you assign touchListeners to both. Now if you <strong>return true</strong> from IV's touch event, the lower down member RL will not receive the touch event. However if you <strong>return false</strong> from from IV's touch event, the lower down member RL will receive the touch event.</p>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":2498702,"reputation":99,"user_id":3361618,"display_name":"Mr.Lee"},"score":7,"creation_date":1472229442,"post_id":23080529,"comment_id":65684307,"body_markdown":"Unfortunately this isn&#39;t an ideal solution when dealing with Talkback mode. Talkback will announce it as clickable although nothing is hooked up to the view.","body":"Unfortunately this isn&#39;t an ideal solution when dealing with Talkback mode. Talkback will announce it as clickable although nothing is hooked up to the view."},{"owner":{"account_id":5716014,"reputation":736,"user_id":4516174,"accept_rate":17,"display_name":"yongsunCN"},"score":0,"creation_date":1476110335,"post_id":23080529,"comment_id":67201200,"body_markdown":"This works only if the lower view is not a button. Otherwise the button is still picking up the click event.","body":"This works only if the lower view is not a button. Otherwise the button is still picking up the click event."}],"tags":[],"owner":{"account_id":1227466,"reputation":10105,"user_id":1192761,"accept_rate":57,"display_name":"Kirill Kulakov"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1397556201,"creation_date":1397556201,"answer_id":23080529,"question_id":23080148,"body_markdown":"you can set the image to be\r\n\r\n    android:clickable=&quot;true&quot;\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>you can set the image to be</p>\n\n<pre><code>android:clickable=\"true\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1730362,"reputation":761,"user_id":1584100,"display_name":"林奕忠"},"score":0,"creation_date":1433489169,"post_id":26147356,"comment_id":49383809,"body_markdown":"Don&#39;t do this way. Because I found BUG in this way that ACTION_UP MotionEvent will miss.","body":"Don&#39;t do this way. Because I found BUG in this way that ACTION_UP MotionEvent will miss."}],"tags":[],"owner":{"account_id":12314,"reputation":3474,"user_id":24177,"accept_rate":50,"display_name":"Marchy"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1412185416,"creation_date":1412185416,"answer_id":26147356,"question_id":23080148,"body_markdown":"The following solution works in the general case:\r\n\r\n    _container.setOnTouchListener(new View.OnTouchListener() {\r\n\t\t@Override\r\n\t\tpublic boolean onTouch(View v, MotionEvent event) {\r\n\t\t\t// NOTE: This prevents the touches from propagating through the view and incorrectly invoking the button behind it\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\r\nIt basically blocks any touches from propagating through the view by marking the touch event as handled.\r\n This works on both UI controls and layout containers (ie: LinearLayout, FrameLayout etc.).\r\n\r\nThe solution to set &quot;clickable&quot; as false did not work for me for layout containers either in code or in the view XML.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>The following solution works in the general case:</p>\n\n<pre><code>_container.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        // NOTE: This prevents the touches from propagating through the view and incorrectly invoking the button behind it\n        return true;\n    }\n});\n</code></pre>\n\n<p>It basically blocks any touches from propagating through the view by marking the touch event as handled.\n This works on both UI controls and layout containers (ie: LinearLayout, FrameLayout etc.).</p>\n\n<p>The solution to set \"clickable\" as false did not work for me for layout containers either in code or in the view XML.</p>\n"},{"tags":[],"owner":{"account_id":961170,"reputation":698,"user_id":985494,"accept_rate":60,"display_name":"Markos Evlogimenos"},"comment_count":0,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1545076266,"creation_date":1417950164,"answer_id":27341958,"question_id":23080148,"body_markdown":"There is a much cleaner way\r\n\r\nYou can use:\r\n    \r\n    android:onClick=&quot;preventClicks&quot;\r\n\r\nin XML and in your Activity\r\n\r\n    public void preventClicks(View view) {}\r\n\r\nThis works with fragments.\r\nExample inside this Activity has multiple fragments overlapping one another, just by adding the XML attribute in the background of your fragment it will still call the Activity.preventClicks and will prevent touches on fragments behind it","title":"Prevent Click-through of Android ImageVIew?","body":"<p>There is a much cleaner way</p>\n\n<p>You can use:</p>\n\n<pre><code>android:onClick=\"preventClicks\"\n</code></pre>\n\n<p>in XML and in your Activity</p>\n\n<pre><code>public void preventClicks(View view) {}\n</code></pre>\n\n<p>This works with fragments.\nExample inside this Activity has multiple fragments overlapping one another, just by adding the XML attribute in the background of your fragment it will still call the Activity.preventClicks and will prevent touches on fragments behind it</p>\n"},{"tags":[],"owner":{"display_name":"user2154462"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510342792,"creation_date":1510342792,"answer_id":47230026,"question_id":23080148,"body_markdown":"Just add these two listeners:\r\n\r\n        // Set an OnTouchListener to always return true for onTouch events so that a touch\r\n        // sequence cannot pass through the item to the item below.\r\n        view.setOnTouchListener(new OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                v.onTouchEvent(event);\r\n                return true;\r\n            }\r\n        });\r\n        // Set an OnHoverListener to always return true for onHover events so that focus cannot\r\n        // pass through the item to the item below.\r\n        view.setOnHoverListener(new OnHoverListener() {\r\n            @Override\r\n            public boolean onHover(View v, MotionEvent event) {\r\n                v.onHoverEvent(event);\r\n                return true;\r\n            }\r\n        });","title":"Prevent Click-through of Android ImageVIew?","body":"<p>Just add these two listeners:</p>\n\n<pre><code>    // Set an OnTouchListener to always return true for onTouch events so that a touch\n    // sequence cannot pass through the item to the item below.\n    view.setOnTouchListener(new OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            v.onTouchEvent(event);\n            return true;\n        }\n    });\n    // Set an OnHoverListener to always return true for onHover events so that focus cannot\n    // pass through the item to the item below.\n    view.setOnHoverListener(new OnHoverListener() {\n        @Override\n        public boolean onHover(View v, MotionEvent event) {\n            v.onHoverEvent(event);\n            return true;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619617939,"creation_date":1619617939,"answer_id":67301601,"question_id":23080148,"body_markdown":"You could use databindings and consume the clicks like this:\r\n\r\n    android:onClick=&quot;@{() -&gt; true}&quot;\r\n\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>You could use databindings and consume the clicks like this:</p>\n<pre><code>android:onClick=&quot;@{() -&gt; true}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17341722,"reputation":321,"user_id":12895799,"display_name":"Alan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699509723,"creation_date":1663908310,"answer_id":73823086,"question_id":23080148,"body_markdown":"In C#, I use an empty delegate:\r\n\r\n    view.Click += delegate {};\r\n\r\nI haven&#39;t encountered any problems with it but it does prevent clicks from filtering through to underlying controls.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>In C#, I use an empty delegate:</p>\n<pre><code>view.Click += delegate {};\n</code></pre>\n<p>I haven't encountered any problems with it but it does prevent clicks from filtering through to underlying controls.</p>\n"},{"tags":[],"owner":{"account_id":19895112,"reputation":47,"user_id":14576370,"display_name":"RandomType"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668520779,"creation_date":1668520779,"answer_id":74446883,"question_id":23080148,"body_markdown":"you can also se the root click listener to null:\r\n\r\n    // Do not process clicks on other areas of this fragment\r\n            binding.root.setOnClickListener(null)\r\n\r\nThis works 100%.\r\nIt doesnt affect other listeners that are already set on the fragment&#39;s views.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>you can also se the root click listener to null:</p>\n<pre><code>// Do not process clicks on other areas of this fragment\n        binding.root.setOnClickListener(null)\n</code></pre>\n<p>This works 100%.\nIt doesnt affect other listeners that are already set on the fragment's views.</p>\n"}],"owner":{"account_id":404827,"reputation":4950,"user_id":773363,"accept_rate":93,"display_name":"Apqu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30858,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":23080253,"answer_count":9,"score":30,"last_activity_date":1699509723,"creation_date":1397555293,"question_id":23080148,"body_markdown":"I have an `ImageView` overlay inside of a `RelativeLayout` and want to prevent any clicks from going through the `ImageView` to the Buttons etc that are behind it (thus in effect disabling the entire `RelativeLayout`).\r\n\r\nIs the a simpler way of doing this then iterating the RelativeLayout views and setting them to disabled as I currently am doing using this code:\r\n\r\n    RelativeLayout rlTest = (RelativeLayout ) findViewById(R.id.rlTest);\r\n    for (int i = 0; i &lt; rlTest.getChildCount(); i++) {\r\n           View view = rlTest.getChildAt(i);\r\n           view.setEnabled(true);\r\n    }","title":"Prevent Click-through of Android ImageVIew?","body":"<p>I have an <code>ImageView</code> overlay inside of a <code>RelativeLayout</code> and want to prevent any clicks from going through the <code>ImageView</code> to the Buttons etc that are behind it (thus in effect disabling the entire <code>RelativeLayout</code>).</p>\n\n<p>Is the a simpler way of doing this then iterating the RelativeLayout views and setting them to disabled as I currently am doing using this code:</p>\n\n<pre><code>RelativeLayout rlTest = (RelativeLayout ) findViewById(R.id.rlTest);\nfor (int i = 0; i &lt; rlTest.getChildCount(); i++) {\n       View view = rlTest.getChildAt(i);\n       view.setEnabled(true);\n}\n</code></pre>\n"},{"tags":["java","android","permissions","android-6.0-marshmallow","android-permissions"],"comments":[{"owner":{"account_id":1254567,"reputation":13822,"user_id":1565984,"accept_rate":65,"display_name":"kandroidj"},"score":0,"creation_date":1450381102,"post_id":34342816,"comment_id":56427132,"body_markdown":"can you be more specific or share what you have seen and want to implement?","body":"can you be more specific or share what you have seen and want to implement?"},{"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"score":1,"creation_date":1450381216,"post_id":34342816,"comment_id":56427232,"body_markdown":"Calling all 4 permissions at the same time in android 6.0 because &quot;this&quot; app needs 4 permissions. and this google app made it very smart calling them all together and as i mentiond makes page 1-3 to activate all 3 on the fly  ..so how can i make the same ? calling 4 permissions together at the same time to activate them","body":"Calling all 4 permissions at the same time in android 6.0 because &quot;this&quot; app needs 4 permissions. and this google app made it very smart calling them all together and as i mentiond makes page 1-3 to activate all 3 on the fly  ..so how can i make the same ? calling 4 permissions together at the same time to activate them"},{"owner":{"account_id":5381956,"reputation":25084,"user_id":4288782,"accept_rate":79,"display_name":"natario"},"score":0,"creation_date":1450381660,"post_id":34342816,"comment_id":56427533,"body_markdown":"Just add all the permissions you wish inside the String[] array.","body":"Just add all the permissions you wish inside the String[] array."}],"answers":[{"comments":[{"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"score":0,"creation_date":1450381559,"post_id":34342952,"comment_id":56427469,"body_markdown":"Hi Owls thanx but this is not my question.  I want call 4 different permission at the same time from 4 permission groups. Call them all together so the user can activate them all in one step ..one google app makes the same possible","body":"Hi Owls thanx but this is not my question.  I want call 4 different permission at the same time from 4 permission groups. Call them all together so the user can activate them all in one step ..one google app makes the same possible"},{"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"score":0,"creation_date":1450382051,"post_id":34342952,"comment_id":56427783,"body_markdown":"...no sorry Owls ..got it know ..i think you are right ! Will try this out thanx","body":"...no sorry Owls ..got it know ..i think you are right ! Will try this out thanx"}],"tags":[],"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450381346,"creation_date":1450381346,"answer_id":34342952,"question_id":34342816,"body_markdown":"I found this is in the runtime permissions example from Google&#39;s github.\r\n\r\n     private static String[] PERMISSIONS_CONTACT = {Manifest.permission.READ_CONTACTS,\r\n            Manifest.permission.WRITE_CONTACTS};\r\n    private static final int REQUEST_CONTACTS = 1;\r\n    ActivityCompat.requestPermissions(this, PERMISSIONS_CONTACT, REQUEST_CONTACTS);","title":"Android 6.0 multiple permissions","body":"<p>I found this is in the runtime permissions example from Google's github.</p>\n\n<pre><code> private static String[] PERMISSIONS_CONTACT = {Manifest.permission.READ_CONTACTS,\n        Manifest.permission.WRITE_CONTACTS};\nprivate static final int REQUEST_CONTACTS = 1;\nActivityCompat.requestPermissions(this, PERMISSIONS_CONTACT, REQUEST_CONTACTS);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"score":2,"creation_date":1450469798,"post_id":34343101,"comment_id":56468927,"body_markdown":"Hi James yes your solution works perfect !!! Many thanx again ! just changed DeviceUtils.Hasmarshmallow()  to (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M)  . I think this is better","body":"Hi James yes your solution works perfect !!! Many thanx again ! just changed DeviceUtils.Hasmarshmallow()  to (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M)  . I think this is better"},{"owner":{"account_id":4826455,"reputation":189,"user_id":3895806,"accept_rate":71,"display_name":"kbonnelly"},"score":0,"creation_date":1462797010,"post_id":34343101,"comment_id":61772730,"body_markdown":"It solved my problem too, thank you. @Frank if this solved your problem, don&#39;t forget to accept this answer so everybody can quickly see it.","body":"It solved my problem too, thank you. @Frank if this solved your problem, don&#39;t forget to accept this answer so everybody can quickly see it."},{"owner":{"account_id":5858141,"reputation":325,"user_id":4614769,"accept_rate":60,"display_name":"hasnain_ahmad"},"score":0,"creation_date":1473140301,"post_id":34343101,"comment_id":66013289,"body_markdown":"What will be the value of `PERMISSION_ALL` in the above code?","body":"What will be the value of <code>PERMISSION_ALL</code> in the above code?"},{"owner":{"account_id":464776,"reputation":15578,"user_id":868492,"accept_rate":40,"display_name":"James McCracken"},"score":0,"creation_date":1473167127,"post_id":34343101,"comment_id":66029170,"body_markdown":"It&#39;s an integer constant used to identify the request in the callback. See https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html","body":"It&#39;s an integer constant used to identify the request in the callback. See <a href=\"https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v4/app/&hellip;</a>"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1474012842,"post_id":34343101,"comment_id":66367972,"body_markdown":"@JamesMcCracken thanks for the code .. but it always keep asking me for permission, doesn&#39;t matters whether I already granted or not.","body":"@JamesMcCracken thanks for the code .. but it always keep asking me for permission, doesn&#39;t matters whether I already granted or not."},{"owner":{"account_id":4117632,"reputation":7335,"user_id":3378821,"accept_rate":40,"display_name":"chengsam"},"score":2,"creation_date":1476678688,"post_id":34343101,"comment_id":67429828,"body_markdown":"@maveň I am facing the same problem.. If I do not grant 1 of them, it will ask all permissions again including others that I already granted.","body":"@maveň I am facing the same problem.. If I do not grant 1 of them, it will ask all permissions again including others that I already granted."},{"owner":{"account_id":2720597,"reputation":577,"user_id":2346980,"display_name":"Keshav"},"score":13,"creation_date":1478153508,"post_id":34343101,"comment_id":68040505,"body_markdown":"I like the way this has been written. But can you show how you are handling multiple results in the onRequestPermissionsResult() method.","body":"I like the way this has been written. But can you show how you are handling multiple results in the onRequestPermissionsResult() method."},{"owner":{"account_id":1752755,"reputation":1026,"user_id":1601476,"accept_rate":20,"display_name":"Nitin_Narale"},"score":0,"creation_date":1491568103,"post_id":34343101,"comment_id":73624099,"body_markdown":"@JamesMcCracken hi using this code first time code run perfectly, but after restart app it fail while checking permission Code like this","body":"@JamesMcCracken hi using this code first time code run perfectly, but after restart app it fail while checking permission Code like this"},{"owner":{"account_id":300799,"reputation":662,"user_id":608160,"accept_rate":50,"display_name":"Oleksandr Berdnikov"},"score":0,"creation_date":1500214790,"post_id":34343101,"comment_id":77228745,"body_markdown":"Great solution! Although, I&#39;m curious if API version check is really needed? I think if it&#39;s pre-Marshmallow OS permissions are granted on installation and then there&#39;s simply no reason to check the version.","body":"Great solution! Although, I&#39;m curious if API version check is really needed? I think if it&#39;s pre-Marshmallow OS permissions are granted on installation and then there&#39;s simply no reason to check the version."},{"owner":{"account_id":1005820,"reputation":1108,"user_id":1019635,"accept_rate":75,"display_name":"Oliver Burdekin"},"score":0,"creation_date":1518085701,"post_id":34343101,"comment_id":84363425,"body_markdown":"This is a tidy solution. I&#39;ve taken out the version check (@AlexBerdnikov is correct). However, I&#39;ve noticed that when asking for multiple permissions the &quot;don&#39;t ask again&quot; check box is replaced with a counter (1 of 3... 2 of 3 etc). Just an observation.","body":"This is a tidy solution. I&#39;ve taken out the version check (@AlexBerdnikov is correct). However, I&#39;ve noticed that when asking for multiple permissions the &quot;don&#39;t ask again&quot; check box is replaced with a counter (1 of 3... 2 of 3 etc). Just an observation."},{"owner":{"account_id":6755440,"reputation":144,"user_id":5204057,"display_name":"AppEmmanuel"},"score":0,"creation_date":1532184945,"post_id":34343101,"comment_id":89883858,"body_markdown":"Nice one, @JamesMcCracken. Thanks. I only had to add &quot;android.&quot; to &quot;Manifest. ...&quot;","body":"Nice one, @JamesMcCracken. Thanks. I only had to add &quot;android.&quot; to &quot;Manifest. ...&quot;"},{"owner":{"account_id":9660059,"reputation":1877,"user_id":7168430,"display_name":"Debasish Ghosh"},"score":0,"creation_date":1541077318,"post_id":34343101,"comment_id":93099086,"body_markdown":"How to handle when user blocks one request ?","body":"How to handle when user blocks one request ?"},{"owner":{"account_id":2764730,"reputation":719,"user_id":2380768,"accept_rate":80,"display_name":"ozzyzig"},"score":0,"creation_date":1550000875,"post_id":34343101,"comment_id":96106629,"body_markdown":"Nice one! @JamesMcCracken","body":"Nice one! @JamesMcCracken"},{"owner":{"account_id":6492529,"reputation":4028,"user_id":5026136,"accept_rate":33,"display_name":"Elliptica"},"score":0,"creation_date":1556345896,"post_id":34343101,"comment_id":98414894,"body_markdown":"Hi, is there a way to have multiple request codes? Like if we wanted different behavior based on grant/refuse for the different permissions we request?","body":"Hi, is there a way to have multiple request codes? Like if we wanted different behavior based on grant/refuse for the different permissions we request?"},{"owner":{"account_id":3193984,"reputation":141,"user_id":2697605,"display_name":"Newton_Jose"},"score":0,"creation_date":1557424657,"post_id":34343101,"comment_id":98770097,"body_markdown":"Very nice! Below I put a answer with Kotlin equivalent code.","body":"Very nice! Below I put a answer with Kotlin equivalent code."},{"owner":{"account_id":14808889,"reputation":415,"user_id":10695118,"display_name":"zulu_papa"},"score":0,"creation_date":1573178098,"post_id":34343101,"comment_id":103806164,"body_markdown":"Thank you, i have applied the code to my app. Works fine, thanks once more!!!","body":"Thank you, i have applied the code to my app. Works fine, thanks once more!!!"},{"owner":{"account_id":3355793,"reputation":1930,"user_id":2818748,"accept_rate":89,"display_name":"Mike Debela"},"score":1,"creation_date":1622631588,"post_id":34343101,"comment_id":119845885,"body_markdown":"Type mismatch on `(!hasPermissions(this, PERMISSIONS))`","body":"Type mismatch on <code>(!hasPermissions(this, PERMISSIONS))</code>"},{"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"score":0,"creation_date":1638513342,"post_id":34343101,"comment_id":124113354,"body_markdown":"Thank you for your answer.\nNote for using with Kotlin:\nYou should call hasPermissions(...)  method with &quot; * &quot; symbol like this:\n(!hasPermissions(this, *PERMISSIONS))","body":"Thank you for your answer. Note for using with Kotlin: You should call hasPermissions(...)  method with &quot; * &quot; symbol like this: (!hasPermissions(this, *PERMISSIONS))"}],"tags":[],"owner":{"account_id":464776,"reputation":15578,"user_id":868492,"accept_rate":40,"display_name":"James McCracken"},"comment_count":18,"down_vote_count":0,"up_vote_count":388,"is_accepted":true,"score":388,"last_activity_date":1575154273,"creation_date":1450381856,"answer_id":34343101,"question_id":34342816,"body_markdown":"Just include all 4 permissions in the `ActivityCompat.requestPermissions(...)` call and Android will automatically page them together like you mentioned.\r\n\r\nI have a helper method to check multiple permissions and see if any of them are not granted.\r\n\r\n\r\n    public static boolean hasPermissions(Context context, String... permissions) {\r\n        if (context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nOr in Kotlin:\r\n\r\n\r\n    fun hasPermissions(context: Context, vararg permissions: String): Boolean = permissions.all {\r\n        ActivityCompat.checkSelfPermission(context, it) == PackageManager.PERMISSION_GRANTED\r\n    }\r\n\r\nThen just send it all of the permissions.  Android will ask only for the ones it needs.\r\n\r\n    // The request code used in ActivityCompat.requestPermissions()\r\n    // and returned in the Activity&#39;s onRequestPermissionsResult()\r\n    int PERMISSION_ALL = 1; \r\n    String[] PERMISSIONS = {\r\n      android.Manifest.permission.READ_CONTACTS, \r\n      android.Manifest.permission.WRITE_CONTACTS, \r\n      android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n      android.Manifest.permission.READ_SMS, \r\n      android.Manifest.permission.CAMERA\r\n    };\r\n\r\n    if (!hasPermissions(this, PERMISSIONS)) {\r\n        ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\r\n    }\r\n","title":"Android 6.0 multiple permissions","body":"<p>Just include all 4 permissions in the <code>ActivityCompat.requestPermissions(...)</code> call and Android will automatically page them together like you mentioned.</p>\n\n<p>I have a helper method to check multiple permissions and see if any of them are not granted.</p>\n\n<pre><code>public static boolean hasPermissions(Context context, String... permissions) {\n    if (context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>fun hasPermissions(context: Context, vararg permissions: String): Boolean = permissions.all {\n    ActivityCompat.checkSelfPermission(context, it) == PackageManager.PERMISSION_GRANTED\n}\n</code></pre>\n\n<p>Then just send it all of the permissions.  Android will ask only for the ones it needs.</p>\n\n<pre><code>// The request code used in ActivityCompat.requestPermissions()\n// and returned in the Activity's onRequestPermissionsResult()\nint PERMISSION_ALL = 1; \nString[] PERMISSIONS = {\n  android.Manifest.permission.READ_CONTACTS, \n  android.Manifest.permission.WRITE_CONTACTS, \n  android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \n  android.Manifest.permission.READ_SMS, \n  android.Manifest.permission.CAMERA\n};\n\nif (!hasPermissions(this, PERMISSIONS)) {\n    ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4418038"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450382016,"creation_date":1450382016,"answer_id":34343144,"question_id":34342816,"body_markdown":"\r\n\r\nCheck the &quot;Asking for multiple permissions at a time&quot; section in this article:\r\n\r\n[Things you need to know about Android M permissions][1]\r\n\r\nIt&#39;s very well explained, and may also touch other related topics you haven&#39;t think about.\r\n\r\n\r\n  [1]: http://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en","title":"Android 6.0 multiple permissions","body":"<p>Check the \"Asking for multiple permissions at a time\" section in this article:</p>\n\n<p><a href=\"http://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en\" rel=\"nofollow\">Things you need to know about Android M permissions</a></p>\n\n<p>It's very well explained, and may also touch other related topics you haven't think about.</p>\n"},{"comments":[{"owner":{"account_id":944248,"reputation":141,"user_id":971819,"accept_rate":25,"display_name":"Harsha"},"score":1,"creation_date":1465972480,"post_id":35495855,"comment_id":63118106,"body_markdown":"but its showing all permission dialogs multiple times","body":"but its showing all permission dialogs multiple times"},{"owner":{"account_id":249342,"reputation":4555,"user_id":525319,"accept_rate":71,"display_name":"Yar"},"score":0,"creation_date":1466849894,"post_id":35495855,"comment_id":63495068,"body_markdown":"You say &quot;You should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. &quot;   but https://developer.android.com/training/permissions/requesting.html  advises to call shouldShowRequestPermissionRationale() before requesting permissions.  I am confused. Your code looks more reasonable but you never know with Google...","body":"You say &quot;You should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. &quot;   but <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting.html</a>  advises to call shouldShowRequestPermissionRationale() before requesting permissions.  I am confused. Your code looks more reasonable but you never know with Google..."},{"owner":{"account_id":2168664,"reputation":1978,"user_id":1921204,"accept_rate":77,"display_name":"MohanRaj S"},"score":0,"creation_date":1475504843,"post_id":35495855,"comment_id":66957404,"body_markdown":"Thanks Nick, how to do  sequential permission popup? please guide me to fix this issue","body":"Thanks Nick, how to do  sequential permission popup? please guide me to fix this issue"},{"owner":{"account_id":2234534,"reputation":259,"user_id":1971303,"accept_rate":57,"display_name":"Ahmed Samir"},"score":0,"creation_date":1488788222,"post_id":35495855,"comment_id":72369590,"body_markdown":"dear all why i keep got error in this cannot resolve symbol : REQUEST_ID_MULTIPLE_PERMISSIONS","body":"dear all why i keep got error in this cannot resolve symbol : REQUEST_ID_MULTIPLE_PERMISSIONS"},{"owner":{"account_id":5103844,"reputation":3188,"user_id":4092588,"accept_rate":77,"display_name":"Antonino"},"score":0,"creation_date":1504455510,"post_id":35495855,"comment_id":79010199,"body_markdown":"this answer is better than Google documentation, well done!","body":"this answer is better than Google documentation, well done!"},{"owner":{"account_id":4175982,"reputation":104,"user_id":3422488,"accept_rate":25,"display_name":"Abilash"},"score":0,"creation_date":1551247420,"post_id":35495855,"comment_id":96565940,"body_markdown":"@AhmedSamir you need to define REQUEST_ID_MULTIPLE_PERMISSIONS eg. int REQUEST_ID_MULTIPLE_PERMISSIONS = 100;","body":"@AhmedSamir you need to define REQUEST_ID_MULTIPLE_PERMISSIONS eg. int REQUEST_ID_MULTIPLE_PERMISSIONS = 100;"}],"tags":[],"owner":{"account_id":1280781,"reputation":16068,"user_id":1234913,"accept_rate":56,"display_name":"Nicks"},"comment_count":6,"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1455846172,"creation_date":1455846172,"answer_id":35495855,"question_id":34342816,"body_markdown":"**Here is detailed example with multiple permission requests:-**\r\n\r\nThe app needs 2 permissions at startup . SEND_SMS and ACCESS_FINE_LOCATION (both are mentioned in manifest.xml).\r\n\r\nI am using **Support Library v4** which is  prepared to handle Android pre-Marshmallow and so no need to check build versions.\r\n\r\nAs soon as the app starts up, it asks for multiple permissions together. If both permissions are granted the normal flow goes. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(checkAndRequestPermissions()) {\r\n            // carry on the normal flow, as the case of  permissions  granted.\r\n        }\r\n    }\r\n    \r\n    private  boolean checkAndRequestPermissions() {\r\n        int permissionSendMessage = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS);\r\n        int locationPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION);\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        if (locationPermission != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\r\n        }\r\n        if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.SEND_SMS);\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n**ContextCompat.checkSelfPermission(), ActivityCompat.requestPermissions(), ActivityCompat.shouldShowRequestPermissionRationale() are part of support library.**\r\n\r\nIn case one or more permissions are not granted, ActivityCompat.requestPermissions() will request permissions and the  control goes to onRequestPermissionsResult() callback method.\r\n\r\nYou should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. \r\n\r\n**There are only two cases:--**\r\n\r\n**Case 1:**-Any time user clicks Deny permissions (including the very first time), it will return true.  So when the user denies, we can show more explanation and keep asking again\r\n\r\n**Case 2:**-Only if user select “never asks again” it will return false. In this case, we can continue with limited functionality and guide user to activate the permissions from settings for more functionalities, or we can finish the setup, if the permissions are trivial for the app.\r\n\r\n**CASE -1**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**CASE-2**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               String permissions[], int[] grantResults) {\r\n            Log.d(TAG, &quot;Permission callback called-------&quot;);\r\n            switch (requestCode) {\r\n                case REQUEST_ID_MULTIPLE_PERMISSIONS: {\r\n                    \r\n                    Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\r\n                    // Initialize the map with both permissions\r\n                    perms.put(Manifest.permission.SEND_SMS, PackageManager.PERMISSION_GRANTED);\r\n                    perms.put(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\r\n                    // Fill with actual results from user\r\n                    if (grantResults.length &gt; 0) {\r\n                        for (int i = 0; i &lt; permissions.length; i++)\r\n                            perms.put(permissions[i], grantResults[i]);\r\n                        // Check for both permissions\r\n                        if (perms.get(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED\r\n                                &amp;&amp; perms.get(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;sms &amp; location services permission granted&quot;);\r\n                            // process the normal flow\r\n                            //else any one or both the permissions are not granted\r\n                        } else {\r\n                                Log.d(TAG, &quot;Some permissions are not granted ask again &quot;);\r\n                                //permission is denied (this is the first time, when &quot;never ask again&quot; is not checked) so ask again explaining the usage of permission\r\n    //                        // shouldShowRequestPermissionRationale will return true\r\n                                //show the dialog or snackbar saying its necessary and try again otherwise proceed with setup.\r\n                                if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS) || ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                                    showDialogOK(&quot;SMS and Location Services Permission required for this app&quot;,\r\n                                            new DialogInterface.OnClickListener() {\r\n                                                @Override\r\n                                                public void onClick(DialogInterface dialog, int which) {\r\n                                                    switch (which) {\r\n                                                        case DialogInterface.BUTTON_POSITIVE:\r\n                                                            checkAndRequestPermissions();\r\n                                                            break;\r\n                                                        case DialogInterface.BUTTON_NEGATIVE:\r\n                                                            // proceed with logic by disabling the related features or quit the app.\r\n                                                            break;\r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                }\r\n                                //permission is denied (and never ask again is  checked)\r\n                                //shouldShowRequestPermissionRationale will return false\r\n                                else {\r\n                                    Toast.makeText(this, &quot;Go to settings and enable permissions&quot;, Toast.LENGTH_LONG)\r\n                                            .show();\r\n        //                            //proceed with logic by disabling the related features or quit the app.\r\n                                }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private void showDialogOK(String message, DialogInterface.OnClickListener okListener) {\r\n            new AlertDialog.Builder(this)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(&quot;OK&quot;, okListener)\r\n                    .setNegativeButton(&quot;Cancel&quot;, okListener)\r\n                    .create()\r\n                    .show();\r\n        }\r\n\r\n  [1]: http://i.stack.imgur.com/IlJOr.png\r\n  [2]: http://i.stack.imgur.com/Ev2uO.png\r\n  [3]: http://i.stack.imgur.com/kjrb6.png\r\n  [4]: http://i.stack.imgur.com/qVfvE.png","title":"Android 6.0 multiple permissions","body":"<p><strong>Here is detailed example with multiple permission requests:-</strong></p>\n\n<p>The app needs 2 permissions at startup . SEND_SMS and ACCESS_FINE_LOCATION (both are mentioned in manifest.xml).</p>\n\n<p>I am using <strong>Support Library v4</strong> which is  prepared to handle Android pre-Marshmallow and so no need to check build versions.</p>\n\n<p>As soon as the app starts up, it asks for multiple permissions together. If both permissions are granted the normal flow goes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IlJOr.png\"><img src=\"https://i.stack.imgur.com/IlJOr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ev2uO.png\"><img src=\"https://i.stack.imgur.com/Ev2uO.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if(checkAndRequestPermissions()) {\n        // carry on the normal flow, as the case of  permissions  granted.\n    }\n}\n\nprivate  boolean checkAndRequestPermissions() {\n    int permissionSendMessage = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS);\n    int locationPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION);\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    if (locationPermission != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\n    }\n    if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.SEND_SMS);\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),REQUEST_ID_MULTIPLE_PERMISSIONS);\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>ContextCompat.checkSelfPermission(), ActivityCompat.requestPermissions(), ActivityCompat.shouldShowRequestPermissionRationale() are part of support library.</strong></p>\n\n<p>In case one or more permissions are not granted, ActivityCompat.requestPermissions() will request permissions and the  control goes to onRequestPermissionsResult() callback method.</p>\n\n<p>You should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. </p>\n\n<p><strong>There are only two cases:--</strong></p>\n\n<p><strong>Case 1:</strong>-Any time user clicks Deny permissions (including the very first time), it will return true.  So when the user denies, we can show more explanation and keep asking again</p>\n\n<p><strong>Case 2:</strong>-Only if user select “never asks again” it will return false. In this case, we can continue with limited functionality and guide user to activate the permissions from settings for more functionalities, or we can finish the setup, if the permissions are trivial for the app.</p>\n\n<p><strong>CASE -1</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/kjrb6.png\"><img src=\"https://i.stack.imgur.com/kjrb6.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>CASE-2</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qVfvE.png\"><img src=\"https://i.stack.imgur.com/qVfvE.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           String permissions[], int[] grantResults) {\n        Log.d(TAG, \"Permission callback called-------\");\n        switch (requestCode) {\n            case REQUEST_ID_MULTIPLE_PERMISSIONS: {\n\n                Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\n                // Initialize the map with both permissions\n                perms.put(Manifest.permission.SEND_SMS, PackageManager.PERMISSION_GRANTED);\n                perms.put(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\n                // Fill with actual results from user\n                if (grantResults.length &gt; 0) {\n                    for (int i = 0; i &lt; permissions.length; i++)\n                        perms.put(permissions[i], grantResults[i]);\n                    // Check for both permissions\n                    if (perms.get(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED\n                            &amp;&amp; perms.get(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"sms &amp; location services permission granted\");\n                        // process the normal flow\n                        //else any one or both the permissions are not granted\n                    } else {\n                            Log.d(TAG, \"Some permissions are not granted ask again \");\n                            //permission is denied (this is the first time, when \"never ask again\" is not checked) so ask again explaining the usage of permission\n//                        // shouldShowRequestPermissionRationale will return true\n                            //show the dialog or snackbar saying its necessary and try again otherwise proceed with setup.\n                            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS) || ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                                showDialogOK(\"SMS and Location Services Permission required for this app\",\n                                        new DialogInterface.OnClickListener() {\n                                            @Override\n                                            public void onClick(DialogInterface dialog, int which) {\n                                                switch (which) {\n                                                    case DialogInterface.BUTTON_POSITIVE:\n                                                        checkAndRequestPermissions();\n                                                        break;\n                                                    case DialogInterface.BUTTON_NEGATIVE:\n                                                        // proceed with logic by disabling the related features or quit the app.\n                                                        break;\n                                                }\n                                            }\n                                        });\n                            }\n                            //permission is denied (and never ask again is  checked)\n                            //shouldShowRequestPermissionRationale will return false\n                            else {\n                                Toast.makeText(this, \"Go to settings and enable permissions\", Toast.LENGTH_LONG)\n                                        .show();\n    //                            //proceed with logic by disabling the related features or quit the app.\n                            }\n                    }\n                }\n            }\n        }\n\n    }\n\n    private void showDialogOK(String message, DialogInterface.OnClickListener okListener) {\n        new AlertDialog.Builder(this)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setNegativeButton(\"Cancel\", okListener)\n                .create()\n                .show();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":258537,"reputation":12329,"user_id":540776,"accept_rate":92,"display_name":"superjos"},"score":2,"creation_date":1611607602,"post_id":37546500,"comment_id":116502072,"body_markdown":"I know this is quite late, but just for anyone coming here: is that ok to always check `grantResults[0]` at index 0, even for futher items in `permissionsList`? Shouldn&#39;t `permissionsList` and `grantResults` be considered as side-by-side arrays?","body":"I know this is quite late, but just for anyone coming here: is that ok to always check <code>grantResults[0]</code> at index 0, even for futher items in <code>permissionsList</code>? Shouldn&#39;t <code>permissionsList</code> and <code>grantResults</code> be considered as side-by-side arrays?"},{"owner":{"account_id":18167745,"reputation":96,"user_id":13217968,"display_name":"DikShU"},"score":0,"creation_date":1633241399,"post_id":37546500,"comment_id":122703874,"body_markdown":"what is update views?? here","body":"what is update views?? here"}],"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"comment_count":2,"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1532321889,"creation_date":1464699648,"answer_id":37546500,"question_id":34342816,"body_markdown":"Small code :\r\n\r\n     public static final int MULTIPLE_PERMISSIONS = 10; // code you want.\r\n\r\n     String[] permissions= new String[]{\r\n            Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            Manifest.permission.CAMERA,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.ACCESS_FINE_LOCATION};\r\n\r\n\r\n    if (checkPermissions())\r\n             //  permissions  granted.    \r\n    }\r\n \r\n    private  boolean checkPermissions() {\r\n            int result;\r\n            List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n            for (String p:permissions) {\r\n                result = ContextCompat.checkSelfPermission(getActivity(),p);\r\n                if (result != PackageManager.PERMISSION_GRANTED) {\r\n                    listPermissionsNeeded.add(p);\r\n                }\r\n            }\r\n            if (!listPermissionsNeeded.isEmpty()) {\r\n                ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),MULTIPLE_PERMISSIONS );\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n\r\n       @Override\r\n        public void onRequestPermissionsResult(int requestCode, String permissionsList[], int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MULTIPLE_PERMISSIONS:{\r\n                    if (grantResults.length &gt; 0) {\r\n                    String permissionsDenied = &quot;&quot;;\r\n                    for (String per : permissionsList) {\r\n                        if(grantResults[0] == PackageManager.PERMISSION_DENIED){\r\n                            permissionsDenied += &quot;\\n&quot; + per;\r\n                           \r\n                        } \r\n                      \r\n                    }\r\n                    // Show permissionsDenied \r\n                    updateViews();\r\n                }\r\n                    return;\r\n                }\r\n            }\r\n         }\r\n\r\n[List of Android permissions normal permissions and dangerous permissions in API 23][2]\r\n\r\n\r\n  [2]: https://stackoverflow.com/a/36937109/1770868","title":"Android 6.0 multiple permissions","body":"<p>Small code :</p>\n\n<pre><code> public static final int MULTIPLE_PERMISSIONS = 10; // code you want.\n\n String[] permissions= new String[]{\n        Manifest.permission.WRITE_EXTERNAL_STORAGE,\n        Manifest.permission.CAMERA,\n        Manifest.permission.ACCESS_COARSE_LOCATION,\n        Manifest.permission.ACCESS_FINE_LOCATION};\n\n\nif (checkPermissions())\n         //  permissions  granted.    \n}\n\nprivate  boolean checkPermissions() {\n        int result;\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n        for (String p:permissions) {\n            result = ContextCompat.checkSelfPermission(getActivity(),p);\n            if (result != PackageManager.PERMISSION_GRANTED) {\n                listPermissionsNeeded.add(p);\n            }\n        }\n        if (!listPermissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),MULTIPLE_PERMISSIONS );\n            return false;\n        }\n        return true;\n    }\n\n\n   @Override\n    public void onRequestPermissionsResult(int requestCode, String permissionsList[], int[] grantResults) {\n        switch (requestCode) {\n            case MULTIPLE_PERMISSIONS:{\n                if (grantResults.length &gt; 0) {\n                String permissionsDenied = \"\";\n                for (String per : permissionsList) {\n                    if(grantResults[0] == PackageManager.PERMISSION_DENIED){\n                        permissionsDenied += \"\\n\" + per;\n\n                    } \n\n                }\n                // Show permissionsDenied \n                updateViews();\n            }\n                return;\n            }\n        }\n     }\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/36937109/1770868\">List of Android permissions normal permissions and dangerous permissions in API 23</a></p>\n"},{"tags":[],"owner":{"account_id":7506848,"reputation":247,"user_id":5703112,"display_name":"Antony jackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1699508059,"creation_date":1469437662,"answer_id":38563687,"question_id":34342816,"body_markdown":"&gt; In a Fragment\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n    public class Homefragment extends Fragment {\r\n        View hfrag;\r\n       Context context;\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n    //first we must check the permissions are already granted\r\n    \r\n            hfrag = inflater.inflate(R.layout.home, container, false);\r\n            context = getActivity();\r\n    checkAndRequestPermissions();\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n    private boolean checkAndRequestPermissions() {\r\n            int permissionSendMessage = ContextCompat.checkSelfPermission(context,\r\n                    Manifest.permission.READ_SMS);\r\n            int contactpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.GET_ACCOUNTS);\r\n    \r\n            int writepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n    \r\n            int callpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.CALL_PHONE);\r\n    \r\n            int receivepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.RECEIVE_SMS);\r\n            int locationpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION);\r\n    \r\n            List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n    \r\n            if (locationpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\r\n            }\r\n    \r\n            if (contactpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.GET_ACCOUNTS);\r\n            }\r\n            if (writepermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            }\r\n            if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.READ_SMS);\r\n            }\r\n            if (receivepermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.RECEIVE_SMS);\r\n            }\r\n    \r\n            if (callpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.CALL_PHONE);\r\n            }\r\n            if (!listPermissionsNeeded.isEmpty()) {\r\n                requestPermissions(listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n \r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n    \r\n        if (requestCode == REQUEST_ID_MULTIPLE_PERMISSIONS) {\r\n    \r\n    \r\n            if (grantResults.length &gt; 0) {\r\n                for (int i = 0; i &lt; permissions.length; i++) {\r\n    \r\n    \r\n                    if (permissions[i].equals(Manifest.permission.GET_ACCOUNTS)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;accounts granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;storage granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.CALL_PHONE)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;call granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.RECEIVE_SMS)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;sms granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;location granted&quot;);\r\n                            \r\n                        }\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<blockquote>\n<p>In a Fragment</p>\n</blockquote>\n<pre><code>public class Homefragment extends Fragment {\n    View hfrag;\n   Context context;\n public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n//first we must check the permissions are already granted\n\n        hfrag = inflater.inflate(R.layout.home, container, false);\n        context = getActivity();\ncheckAndRequestPermissions();\n\n}\n\n\n\n\n}\n\n\nprivate boolean checkAndRequestPermissions() {\n        int permissionSendMessage = ContextCompat.checkSelfPermission(context,\n                Manifest.permission.READ_SMS);\n        int contactpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.GET_ACCOUNTS);\n\n        int writepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n        int callpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.CALL_PHONE);\n\n        int receivepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.RECEIVE_SMS);\n        int locationpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION);\n\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n\n        if (locationpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\n        }\n\n        if (contactpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.GET_ACCOUNTS);\n        }\n        if (writepermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        }\n        if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.READ_SMS);\n        }\n        if (receivepermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.RECEIVE_SMS);\n        }\n\n        if (callpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.CALL_PHONE);\n        }\n        if (!listPermissionsNeeded.isEmpty()) {\n            requestPermissions(listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n            return false;\n        }\n        return true;\n    }\n\n\n\n @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n\n    if (requestCode == REQUEST_ID_MULTIPLE_PERMISSIONS) {\n\n\n        if (grantResults.length &gt; 0) {\n            for (int i = 0; i &lt; permissions.length; i++) {\n\n\n                if (permissions[i].equals(Manifest.permission.GET_ACCOUNTS)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;accounts granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;storage granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.CALL_PHONE)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;call granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.RECEIVE_SMS)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;sms granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;location granted&quot;);\n                        \n                    }\n                }\n\n\n            }\n\n        }\n\n\n    }\n}\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6050338,"reputation":2018,"user_id":4732473,"display_name":"Ness Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476176791,"creation_date":1476176791,"answer_id":39973851,"question_id":34342816,"body_markdown":"I have successfully implemented simple code for Multiple permission at Once.\r\nFollow the below steps\r\n1:Make Utility.java class like below\r\n\r\n    public class Utility {\r\n    public static final int MY_PERMISSIONS_REQUEST = 123;\r\n    @TargetApi(Build.VERSION_CODES.JELLY_BEAN)\r\n    public static boolean checkPermissions(Context context, String... permissions) {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, permission)) {\r\n                        ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\r\n                    } else {\r\n                        ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\n2: Now call \r\n\r\n    boolean permissionCheck = Utility.checkPermissions(this, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.CALL_PHONE, Manifest.permission.GET_ACCOUNTS);  \r\n in your Activity onCreate() or according to your logic.\r\n\r\n3:Now check permission before performing operation for particular task\r\n\r\n    if (permissionCheck) {\r\n     performTaskOperation();//this method what you need to perform\r\n    } else {\r\n            Toast.makeText(this, &quot;Need permission ON.&quot;, Toast.LENGTH_SHORT).show();\r\n           }\r\n\r\n\r\n4: Now implement onRequestPermissionsResult() method in your Activity as below\r\n\r\n      @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case Utility.MY_PERMISSIONS_REQUEST:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (userChoosenTask.equals(&quot;STORAGE&quot;))\r\n                        performTaskOperation();//this method what you need to perform\r\n                }\r\n                break;\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>I have successfully implemented simple code for Multiple permission at Once.\nFollow the below steps\n1:Make Utility.java class like below</p>\n\n<pre><code>public class Utility {\npublic static final int MY_PERMISSIONS_REQUEST = 123;\n@TargetApi(Build.VERSION_CODES.JELLY_BEAN)\npublic static boolean checkPermissions(Context context, String... permissions) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, permission)) {\n                    ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\n                } else {\n                    ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\n                }\n                return false;\n            }\n        }\n    }\n    return true;\n}\n}\n</code></pre>\n\n<p>2: Now call </p>\n\n<pre><code>boolean permissionCheck = Utility.checkPermissions(this, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.CALL_PHONE, Manifest.permission.GET_ACCOUNTS);  \n</code></pre>\n\n<p>in your Activity onCreate() or according to your logic.</p>\n\n<p>3:Now check permission before performing operation for particular task</p>\n\n<pre><code>if (permissionCheck) {\n performTaskOperation();//this method what you need to perform\n} else {\n        Toast.makeText(this, \"Need permission ON.\", Toast.LENGTH_SHORT).show();\n       }\n</code></pre>\n\n<p>4: Now implement onRequestPermissionsResult() method in your Activity as below</p>\n\n<pre><code>  @Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    switch (requestCode) {\n        case Utility.MY_PERMISSIONS_REQUEST:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (userChoosenTask.equals(\"STORAGE\"))\n                    performTaskOperation();//this method what you need to perform\n            }\n            break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7324926,"reputation":195,"user_id":5579614,"accept_rate":86,"display_name":"Yogesh Patel"},"score":0,"creation_date":1476958109,"post_id":39997520,"comment_id":67571838,"body_markdown":"This worked perfectly for me.. just a question, can we disable touch events oustide alert dialogs when these alert dialogs appear. Because in my case I want the users to allow permissions and then only access the app.","body":"This worked perfectly for me.. just a question, can we disable touch events oustide alert dialogs when these alert dialogs appear. Because in my case I want the users to allow permissions and then only access the app."},{"owner":{"account_id":8719442,"reputation":590,"user_id":6523041,"display_name":"Tharindu Bandara"},"score":1,"creation_date":1477028610,"post_id":39997520,"comment_id":67606341,"body_markdown":"@YogeshPatel  Anytime dude..  when these alert dialogs appear, the outside touch is automatically desabled except the **Status bar**.  then you only have two options - DENY or ALLOW. Don&#39;t forget to add all permissions to your Main activity.\n\nYou can hide the status bar, check this [Hiding the Status Bar](https://developer.android.com/training/system-ui/status.html)","body":"@YogeshPatel  Anytime dude..  when these alert dialogs appear, the outside touch is automatically desabled except the <b>Status bar</b>.  then you only have two options - DENY or ALLOW. Don&#39;t forget to add all permissions to your Main activity.  You can hide the status bar, check this <a href=\"https://developer.android.com/training/system-ui/status.html\" rel=\"nofollow noreferrer\">Hiding the Status Bar</a>"}],"tags":[],"owner":{"account_id":8719442,"reputation":590,"user_id":6523041,"display_name":"Tharindu Bandara"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1476271902,"creation_date":1476271902,"answer_id":39997520,"question_id":34342816,"body_markdown":"**It&#39;s easy, do this way**\r\n\r\n    private static final int REQUEST_READ_PHONE_STATE = 110 , REQUEST_ACCESS_FINE_LOCATION = 111, REQUEST_WRITE_STORAGE = 112;\r\n\r\nIn your onCreate\r\n\r\n     //request permission\r\n        boolean hasPermissionPhoneState = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionPhoneState) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.READ_PHONE_STATE},\r\n                    REQUEST_READ_PHONE_STATE);\r\n        }\r\n\r\n        boolean hasPermissionLocation = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionLocation) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                    REQUEST_ACCESS_FINE_LOCATION);\r\n        }\r\n\r\n        boolean hasPermissionWrite = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionWrite) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                    REQUEST_WRITE_STORAGE);\r\n        }\r\n\r\n\r\n\r\nThen check result\r\n\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode)\r\n        {\r\n            case REQUEST_READ_PHONE_STATE: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to get your phone state. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n            case REQUEST_ACCESS_FINE_LOCATION: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to get your location. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            case REQUEST_WRITE_STORAGE: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to write to your storage. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Android 6.0 multiple permissions","body":"<p><strong>It's easy, do this way</strong></p>\n\n<pre><code>private static final int REQUEST_READ_PHONE_STATE = 110 , REQUEST_ACCESS_FINE_LOCATION = 111, REQUEST_WRITE_STORAGE = 112;\n</code></pre>\n\n<p>In your onCreate</p>\n\n<pre><code> //request permission\n    boolean hasPermissionPhoneState = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionPhoneState) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.READ_PHONE_STATE},\n                REQUEST_READ_PHONE_STATE);\n    }\n\n    boolean hasPermissionLocation = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionLocation) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                REQUEST_ACCESS_FINE_LOCATION);\n    }\n\n    boolean hasPermissionWrite = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionWrite) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                REQUEST_WRITE_STORAGE);\n    }\n</code></pre>\n\n<p>Then check result</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode)\n    {\n        case REQUEST_READ_PHONE_STATE: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to get your phone state. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n        case REQUEST_ACCESS_FINE_LOCATION: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to get your location. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n\n        case REQUEST_WRITE_STORAGE: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to write to your storage. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9275270,"reputation":81,"user_id":6888105,"display_name":"Nicolas Bodin-Ripert"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1481882894,"creation_date":1481812231,"answer_id":41166644,"question_id":34342816,"body_markdown":"The following methodology is about \r\n\r\n - asking permissions dynamically ;\r\n - showing a AlertDialog if the user denies any permission\r\n - looping until the user accepts permission(s)\r\n \r\n**Create a &quot;static&quot; class for permissions methods**\r\n\r\n    public class PermissionsUtil {\r\n        public static final int PERMISSION_ALL = 1;\r\n    \r\n        public static boolean doesAppNeedPermissions(){\r\n            return android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP_MR1;\r\n        }\r\n    \r\n        public static String[] getPermissions(Context context)\r\n                throws PackageManager.NameNotFoundException {\r\n            PackageInfo info = context.getPackageManager().getPackageInfo(\r\n                    context.getPackageName(), PackageManager.GET_PERMISSIONS);\r\n    \r\n            return info.requestedPermissions;\r\n        }\r\n    \r\n        public static void askPermissions(Activity activity){\r\n            if(doesAppNeedPermissions()) {\r\n                try {\r\n                    String[] permissions = getPermissions(activity);\r\n    \r\n                    if(!checkPermissions(activity, permissions)){\r\n                        ActivityCompat.requestPermissions(activity, permissions,\r\n                                PERMISSION_ALL);\r\n                    }\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static boolean checkPermissions(Context context, String... permissions){\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp;\r\n                    permissions != null) {\r\n                for (String permission : permissions) {\r\n                    if (ContextCompat.checkSelfPermission(context, permission) !=\r\n                            PackageManager.PERMISSION_GRANTED) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n**In MainActivity.java**\r\n\r\n        private void checkPermissions(){\r\n            PermissionsUtil.askPermissions(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String[] permissions,\r\n                                               @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            switch (requestCode) {\r\n                case PermissionsUtil.PERMISSION_ALL: {\r\n    \r\n                    if (grantResults.length &gt; 0) {\r\n    \r\n                        List&lt;Integer&gt; indexesOfPermissionsNeededToShow = new ArrayList&lt;&gt;();\r\n    \r\n                        for(int i = 0; i &lt; permissions.length; ++i) {\r\n                            if(ActivityCompat.shouldShowRequestPermissionRationale(this, permissions[i])) {\r\n                                indexesOfPermissionsNeededToShow.add(i);\r\n                            }\r\n                        }\r\n    \r\n                        int size = indexesOfPermissionsNeededToShow.size();\r\n                        if(size != 0) {\r\n                            int i = 0;\r\n                            boolean isPermissionGranted = true;\r\n    \r\n                            while(i &lt; size &amp;&amp; isPermissionGranted) {\r\n                                isPermissionGranted = grantResults[indexesOfPermissionsNeededToShow.get(i)]\r\n                                        == PackageManager.PERMISSION_GRANTED;\r\n                                i++;\r\n                            }\r\n    \r\n                            if(!isPermissionGranted) {\r\n    \r\n                                showDialogNotCancelable(&quot;Permissions mandatory&quot;,\r\n                                        &quot;All the permissions are required for this app&quot;,\r\n                                        new DialogInterface.OnClickListener() {\r\n                                            @Override\r\n                                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                                checkPermissions();\r\n                                            }\r\n                                        });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void showDialogNotCancelable(String title, String message,\r\n                                             DialogInterface.OnClickListener okListener) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(&quot;OK&quot;, okListener)\r\n                    .setCancelable(false)\r\n                    .create()\r\n                    .show();\r\n        }","title":"Android 6.0 multiple permissions","body":"<p>The following methodology is about </p>\n\n<ul>\n<li>asking permissions dynamically ;</li>\n<li>showing a AlertDialog if the user denies any permission</li>\n<li>looping until the user accepts permission(s)</li>\n</ul>\n\n<p><strong>Create a \"static\" class for permissions methods</strong></p>\n\n<pre><code>public class PermissionsUtil {\n    public static final int PERMISSION_ALL = 1;\n\n    public static boolean doesAppNeedPermissions(){\n        return android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP_MR1;\n    }\n\n    public static String[] getPermissions(Context context)\n            throws PackageManager.NameNotFoundException {\n        PackageInfo info = context.getPackageManager().getPackageInfo(\n                context.getPackageName(), PackageManager.GET_PERMISSIONS);\n\n        return info.requestedPermissions;\n    }\n\n    public static void askPermissions(Activity activity){\n        if(doesAppNeedPermissions()) {\n            try {\n                String[] permissions = getPermissions(activity);\n\n                if(!checkPermissions(activity, permissions)){\n                    ActivityCompat.requestPermissions(activity, permissions,\n                            PERMISSION_ALL);\n                }\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static boolean checkPermissions(Context context, String... permissions){\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp;\n                permissions != null) {\n            for (String permission : permissions) {\n                if (ContextCompat.checkSelfPermission(context, permission) !=\n                        PackageManager.PERMISSION_GRANTED) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>In MainActivity.java</strong></p>\n\n<pre><code>    private void checkPermissions(){\n        PermissionsUtil.askPermissions(this);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String[] permissions,\n                                           @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case PermissionsUtil.PERMISSION_ALL: {\n\n                if (grantResults.length &gt; 0) {\n\n                    List&lt;Integer&gt; indexesOfPermissionsNeededToShow = new ArrayList&lt;&gt;();\n\n                    for(int i = 0; i &lt; permissions.length; ++i) {\n                        if(ActivityCompat.shouldShowRequestPermissionRationale(this, permissions[i])) {\n                            indexesOfPermissionsNeededToShow.add(i);\n                        }\n                    }\n\n                    int size = indexesOfPermissionsNeededToShow.size();\n                    if(size != 0) {\n                        int i = 0;\n                        boolean isPermissionGranted = true;\n\n                        while(i &lt; size &amp;&amp; isPermissionGranted) {\n                            isPermissionGranted = grantResults[indexesOfPermissionsNeededToShow.get(i)]\n                                    == PackageManager.PERMISSION_GRANTED;\n                            i++;\n                        }\n\n                        if(!isPermissionGranted) {\n\n                            showDialogNotCancelable(\"Permissions mandatory\",\n                                    \"All the permissions are required for this app\",\n                                    new DialogInterface.OnClickListener() {\n                                        @Override\n                                        public void onClick(DialogInterface dialogInterface, int i) {\n                                            checkPermissions();\n                                        }\n                                    });\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private void showDialogNotCancelable(String title, String message,\n                                         DialogInterface.OnClickListener okListener) {\n        new AlertDialog.Builder(this)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setCancelable(false)\n                .create()\n                .show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4266310,"reputation":532,"user_id":3489351,"display_name":"androidStud"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487245742,"creation_date":1487245742,"answer_id":42273118,"question_id":34342816,"body_markdown":"Short and sweet :). what I believe in.\r\n\r\n      \r\n    int PERMISSION_ALL = 1;\r\n    String[] PERMISSIONS = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}; // List of permissions required\r\n    \r\n    public void askPermission()\r\n    {\r\n        for (String permission : PERMISSIONS) {\r\n            if (ActivityCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(PERMISSIONS, PERMISSION_ALL);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                           int[] grantResults) {\r\n\r\n        switch (requestCode) {\r\n            case 1:{\r\n                if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED){\r\n                    //Do your work.\r\n                } else {\r\n                    Toast.makeText(this, &quot;Until you grant the permission, we cannot proceed further&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                return;\r\n            }\r\n        }","title":"Android 6.0 multiple permissions","body":"<p>Short and sweet :). what I believe in.</p>\n\n<pre><code>int PERMISSION_ALL = 1;\nString[] PERMISSIONS = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}; // List of permissions required\n\npublic void askPermission()\n{\n    for (String permission : PERMISSIONS) {\n        if (ActivityCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(PERMISSIONS, PERMISSION_ALL);\n            return;\n        }\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                       int[] grantResults) {\n\n    switch (requestCode) {\n        case 1:{\n            if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED){\n                //Do your work.\n            } else {\n                Toast.makeText(this, \"Until you grant the permission, we cannot proceed further\", Toast.LENGTH_SHORT).show();\n            }\n            return;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9299705,"reputation":906,"user_id":6905587,"display_name":"Andrew Glukhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507886,"creation_date":1498198791,"answer_id":44714339,"question_id":34342816,"body_markdown":"Use helper like this (permissions names do not matter).\r\n\r\n    public class MyPermission {\r\n\r\n    private static final int PERMISSION_REQUEST_ALL = 127;\r\n    private MainActivity mMainActivity;\r\n\r\n    MyPermission(MainActivity mainActivity) {\r\n        mMainActivity = mainActivity;\r\n    }\r\n\r\n    public static boolean hasPermission(String permission, Context context) {\r\n        if (isNewPermissionModel()) {\r\n            return (ActivityCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static boolean hasPermissions(Context context, String... permissions) {\r\n        if (isNewPermissionModel() &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static boolean shouldShowRationale(Activity activity, String permission) {\r\n        return isNewPermissionModel() &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(activity, permission);\r\n    }\r\n\r\n    private static boolean isNewPermissionModel() {\r\n        return VERSION.SDK_INT &gt; VERSION_CODES.LOLLIPOP_MR1;\r\n    }\r\n\r\n\r\n    /**\r\n     * check all permissions\r\n     */\r\n    void checkAll() {\r\n        //check dangerous permissions, make request if need (Android will ask only for the ones it needs)\r\n        String[] PERMISSIONS = {\r\n                permission.READ_CALENDAR,           \r\n                permission.ACCESS_COARSE_LOCATION   \r\n        };\r\n\r\n        if (!hasPermissions(mMainActivity, PERMISSIONS)) {\r\n            ActivityCompat.requestPermissions(mMainActivity, PERMISSIONS, PERMISSION_REQUEST_ALL);\r\n        }\r\n    }\r\n\r\n    void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == PERMISSION_REQUEST_ALL) {\r\n            if (grantResults.length &gt; 0) {\r\n                //for not granted\r\n                for (int i = 0; i &lt; permissions.length; i++) {\r\n\r\n                    if (permissions[i].equals(permission.READ_CALENDAR)) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            smartRequestPermissions(permission.READ_CALENDAR, R.string.permission_required_dialog_read_calendar);\r\n                        }\r\n                    } else if (permissions[i].equals(permission.ACCESS_COARSE_LOCATION)) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            smartRequestPermissions(permission.ACCESS_COARSE_LOCATION, R.string.permission_required_dialog_access_coarse_location);\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void smartRequestPermissions(final String permissionName, int permissionRequiredDialog) {\r\n        if (shouldShowRationale(mMainActivity, permissionName)) {// If the user turned down the permission request in the past and chose the Don&#39;t ask again option in the permission request system dialog, this method returns false.\r\n\r\n            //Show an explanation to the user with action\r\n            mMainActivity.mSnackProgressBarManager.show(\r\n                    new SnackProgressBar(\r\n                            SnackProgressBar.TYPE_ACTION, mMainActivity.getString(permissionRequiredDialog)\r\n                    )\r\n                            .setAction(&quot;OK&quot;, new OnActionClickListener() {\r\n                                @Override\r\n                                public void onActionClick() {\r\n                                    checkAll();\r\n                                }\r\n                            })\r\n                            .setSwipeToDismiss(true).setAllowUserInput(true)\r\n                    , MainActivity.SNACKBAR_WARNING_DURATION\r\n            );\r\n\r\n        } // else do nothing\r\n    }\r\n    }\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<p>Use helper like this (permissions names do not matter).</p>\n<pre><code>public class MyPermission {\n\nprivate static final int PERMISSION_REQUEST_ALL = 127;\nprivate MainActivity mMainActivity;\n\nMyPermission(MainActivity mainActivity) {\n    mMainActivity = mainActivity;\n}\n\npublic static boolean hasPermission(String permission, Context context) {\n    if (isNewPermissionModel()) {\n        return (ActivityCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED);\n    }\n    return true;\n}\n\nprivate static boolean hasPermissions(Context context, String... permissions) {\n    if (isNewPermissionModel() &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nprivate static boolean shouldShowRationale(Activity activity, String permission) {\n    return isNewPermissionModel() &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(activity, permission);\n}\n\nprivate static boolean isNewPermissionModel() {\n    return VERSION.SDK_INT &gt; VERSION_CODES.LOLLIPOP_MR1;\n}\n\n\n/**\n * check all permissions\n */\nvoid checkAll() {\n    //check dangerous permissions, make request if need (Android will ask only for the ones it needs)\n    String[] PERMISSIONS = {\n            permission.READ_CALENDAR,           \n            permission.ACCESS_COARSE_LOCATION   \n    };\n\n    if (!hasPermissions(mMainActivity, PERMISSIONS)) {\n        ActivityCompat.requestPermissions(mMainActivity, PERMISSIONS, PERMISSION_REQUEST_ALL);\n    }\n}\n\nvoid onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == PERMISSION_REQUEST_ALL) {\n        if (grantResults.length &gt; 0) {\n            //for not granted\n            for (int i = 0; i &lt; permissions.length; i++) {\n\n                if (permissions[i].equals(permission.READ_CALENDAR)) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        smartRequestPermissions(permission.READ_CALENDAR, R.string.permission_required_dialog_read_calendar);\n                    }\n                } else if (permissions[i].equals(permission.ACCESS_COARSE_LOCATION)) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        smartRequestPermissions(permission.ACCESS_COARSE_LOCATION, R.string.permission_required_dialog_access_coarse_location);\n                    }\n                }\n\n            }\n        }\n    }\n}\n\nprivate void smartRequestPermissions(final String permissionName, int permissionRequiredDialog) {\n    if (shouldShowRationale(mMainActivity, permissionName)) {// If the user turned down the permission request in the past and chose the Don't ask again option in the permission request system dialog, this method returns false.\n\n        //Show an explanation to the user with action\n        mMainActivity.mSnackProgressBarManager.show(\n                new SnackProgressBar(\n                        SnackProgressBar.TYPE_ACTION, mMainActivity.getString(permissionRequiredDialog)\n                )\n                        .setAction(&quot;OK&quot;, new OnActionClickListener() {\n                            @Override\n                            public void onActionClick() {\n                                checkAll();\n                            }\n                        })\n                        .setSwipeToDismiss(true).setAllowUserInput(true)\n                , MainActivity.SNACKBAR_WARNING_DURATION\n        );\n\n    } // else do nothing\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2387854,"reputation":334,"user_id":2088427,"display_name":"Oke Uwechue"},"score":0,"creation_date":1569043995,"post_id":46907385,"comment_id":102476404,"body_markdown":"Nice and neat solution. Helper class helps to unclutter main code.","body":"Nice and neat solution. Helper class helps to unclutter main code."},{"owner":{"account_id":17310476,"reputation":87,"user_id":12538217,"display_name":"shinsky Paul"},"score":0,"creation_date":1601321697,"post_id":46907385,"comment_id":113365822,"body_markdown":"@Andrew Vovk, this is great. How do you handle alternative user reponses e.g Allow for Location and Deny for Storage? I am getting this error on testing an Allow and Deny &#39;FATAL EXCEPTION: main\n  Failure delivering result ResultInfo{who=@android:requestPermissions:, request=100, result=-1, data=Intent { act=android.content.pm.action.REQUEST_PERMISSIONS (has extras) }}&#39;","body":"@Andrew Vovk, this is great. How do you handle alternative user reponses e.g Allow for Location and Deny for Storage? I am getting this error on testing an Allow and Deny &#39;FATAL EXCEPTION: main   Failure delivering result ResultInfo{who=@android:requestPermissions:, request=100, result=-1, data=Intent { act=android.content.pm.action.REQUEST_PERMISSIONS (has extras) }}&#39;"}],"tags":[],"owner":{"account_id":5735908,"reputation":353,"user_id":4530103,"display_name":"Andrew Vovk"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699508036,"creation_date":1508838791,"answer_id":46907385,"question_id":34342816,"body_markdown":"My approach is based on Nicks&#39; answer and hopefully is a bit more usable for multiple (as many as needed, not only two) permissions.\r\nIt suggests adding single-responsibility PermissionsHelper class:\r\n\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.content.pm.PackageManager;\r\n    import android.support.v4.app.ActivityCompat;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.util.Log;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class PermissionsHelper {\r\n\r\n    private static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 100; // any code you want.\r\n\r\n    public void checkAndRequestPermissions(Activity activity, String... permissions) {\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        for (String permission : permissions) {\r\n            if (ContextCompat.checkSelfPermission(activity, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(permission);\r\n            }\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(activity, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n        }\r\n    }\r\n\r\n    public void onRequestPermissionsResult(Activity activity, int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case REQUEST_ID_MULTIPLE_PERMISSIONS: {\r\n                Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\r\n\r\n                for (String permission : permissions) {\r\n                    perms.put(permission, PackageManager.PERMISSION_GRANTED);\r\n                }\r\n\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int i = 0; i &lt; permissions.length; i++)\r\n                        perms.put(permissions[i], grantResults[i]);\r\n\r\n                    boolean allPermissionsGranted = true;\r\n                    for (String permission1 : permissions) {\r\n                        allPermissionsGranted = allPermissionsGranted &amp;&amp; (perms.get(permission1) == PackageManager.PERMISSION_GRANTED);\r\n                    }\r\n\r\n                    if (allPermissionsGranted) {\r\n                        Log.d(PermissionsHelper.class.getSimpleName(), &quot;onRequestPermissionsResult: all permissions granted&quot;);\r\n                    } else {\r\n                        for (String permission2 : perms.keySet())\r\n                            if (perms.get(permission2) == PackageManager.PERMISSION_GRANTED)\r\n                                perms.remove(permission2);\r\n\r\n                        StringBuilder message = new StringBuilder(&quot;The app has not been granted permissions:\\n\\n&quot;);\r\n                        for (String permission : perms.keySet()) {\r\n                            message.append(permission);\r\n                            message.append(&quot;\\n&quot;);\r\n                        }\r\n                        message.append(&quot;\\nHence, it cannot function properly.&quot; +\r\n                                &quot;\\nPlease consider granting it this permission in phone Settings.&quot;);\r\n\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n                        builder.setTitle(R.string.permission_required)\r\n                                .setMessage(message)\r\n                                .setPositiveButton(android.R.string.ok, (dialog, id) -&gt; dialog.cancel());\r\n                        AlertDialog alert = builder.create();\r\n                        alert.show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nIf one or several required permissions have not been granted by user, the detailed AlertDialog message will be shown to him.\r\n\r\nExample of usage in Activity:\r\n\r\n    \r\n    private PermissionsHelper permissionsHelper;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        checkPermissions();\r\n\r\n        //any other code\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        permissionsHelper.onRequestPermissionsResult(this, requestCode, permissions, grantResults);\r\n    }\r\n\r\n    private void checkPermissions() {\r\n        permissionsHelper = new PermissionsHelper();\r\n        permissionsHelper.checkAndRequestPermissions(this,\r\n                Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION);\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>My approach is based on Nicks' answer and hopefully is a bit more usable for multiple (as many as needed, not only two) permissions.\nIt suggests adding single-responsibility PermissionsHelper class:</p>\n<pre><code>import android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.pm.PackageManager;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.util.Log;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class PermissionsHelper {\n\nprivate static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 100; // any code you want.\n\npublic void checkAndRequestPermissions(Activity activity, String... permissions) {\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    for (String permission : permissions) {\n        if (ContextCompat.checkSelfPermission(activity, permission) != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(permission);\n        }\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(activity, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n    }\n}\n\npublic void onRequestPermissionsResult(Activity activity, int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_ID_MULTIPLE_PERMISSIONS: {\n            Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\n\n            for (String permission : permissions) {\n                perms.put(permission, PackageManager.PERMISSION_GRANTED);\n            }\n\n            if (grantResults.length &gt; 0) {\n                for (int i = 0; i &lt; permissions.length; i++)\n                    perms.put(permissions[i], grantResults[i]);\n\n                boolean allPermissionsGranted = true;\n                for (String permission1 : permissions) {\n                    allPermissionsGranted = allPermissionsGranted &amp;&amp; (perms.get(permission1) == PackageManager.PERMISSION_GRANTED);\n                }\n\n                if (allPermissionsGranted) {\n                    Log.d(PermissionsHelper.class.getSimpleName(), &quot;onRequestPermissionsResult: all permissions granted&quot;);\n                } else {\n                    for (String permission2 : perms.keySet())\n                        if (perms.get(permission2) == PackageManager.PERMISSION_GRANTED)\n                            perms.remove(permission2);\n\n                    StringBuilder message = new StringBuilder(&quot;The app has not been granted permissions:\\n\\n&quot;);\n                    for (String permission : perms.keySet()) {\n                        message.append(permission);\n                        message.append(&quot;\\n&quot;);\n                    }\n                    message.append(&quot;\\nHence, it cannot function properly.&quot; +\n                            &quot;\\nPlease consider granting it this permission in phone Settings.&quot;);\n\n                    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n                    builder.setTitle(R.string.permission_required)\n                            .setMessage(message)\n                            .setPositiveButton(android.R.string.ok, (dialog, id) -&gt; dialog.cancel());\n                    AlertDialog alert = builder.create();\n                    alert.show();\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>If one or several required permissions have not been granted by user, the detailed AlertDialog message will be shown to him.</p>\n<p>Example of usage in Activity:</p>\n<pre><code>private PermissionsHelper permissionsHelper;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    checkPermissions();\n\n    //any other code\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    permissionsHelper.onRequestPermissionsResult(this, requestCode, permissions, grantResults);\n}\n\nprivate void checkPermissions() {\n    permissionsHelper = new PermissionsHelper();\n    permissionsHelper.checkAndRequestPermissions(this,\n            Manifest.permission.READ_EXTERNAL_STORAGE,\n            Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.ACCESS_COARSE_LOCATION);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"score":0,"creation_date":1575549149,"post_id":47569952,"comment_id":104608687,"body_markdown":"Please give a java example","body":"Please give a java example"}],"tags":[],"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512034077,"creation_date":1512034077,"answer_id":47569952,"question_id":34342816,"body_markdown":"My handler class for request multiple permissions. You can check the [full using][1] here\r\n\r\n    public class RequestPermissionHandler {\r\n        private Activity mActivity;\r\n        private RequestPermissionListener mRequestPermissionListener;\r\n        private int mRequestCode;\r\n    \r\n        public void requestPermission(Activity activity, @NonNull String[] permissions, int requestCode,\r\n                RequestPermissionListener listener) {\r\n            mActivity = activity;\r\n            mRequestCode = requestCode;\r\n            mRequestPermissionListener = listener;\r\n    \r\n            if (!needRequestRuntimePermissions()) {\r\n                mRequestPermissionListener.onSuccess();\r\n                return;\r\n            }\r\n            requestUnGrantedPermissions(permissions, requestCode);\r\n        }\r\n    \r\n        private boolean needRequestRuntimePermissions() {\r\n            return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M;\r\n        }\r\n    \r\n        private void requestUnGrantedPermissions(String[] permissions, int requestCode) {\r\n            String[] unGrantedPermissions = findUnGrantedPermissions(permissions);\r\n            if (unGrantedPermissions.length == 0) {\r\n                mRequestPermissionListener.onSuccess();\r\n                return;\r\n            }\r\n            ActivityCompat.requestPermissions(mActivity, unGrantedPermissions, requestCode);\r\n        }\r\n    \r\n        private boolean isPermissionGranted(String permission) {\r\n            return ActivityCompat.checkSelfPermission(mActivity, permission)\r\n                    == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    \r\n        private String[] findUnGrantedPermissions(String[] permissions) {\r\n            List&lt;String&gt; unGrantedPermissionList = new ArrayList&lt;&gt;();\r\n            for (String permission : permissions) {\r\n                if (!isPermissionGranted(permission)) {\r\n                    unGrantedPermissionList.add(permission);\r\n                }\r\n            }\r\n            return unGrantedPermissionList.toArray(new String[0]);\r\n        }\r\n    \r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n                @NonNull int[] grantResults) {\r\n            if (requestCode == mRequestCode) {\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int grantResult : grantResults) {\r\n                        if (grantResult != PackageManager.PERMISSION_GRANTED) {\r\n                            mRequestPermissionListener.onFailed();\r\n                            return;\r\n                        }\r\n                    }\r\n                    mRequestPermissionListener.onSuccess();\r\n                } else {\r\n                    mRequestPermissionListener.onFailed();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public interface RequestPermissionListener {\r\n            void onSuccess();\r\n    \r\n            void onFailed();\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45953930/5381331\r\n  [2]: https://i.stack.imgur.com/ha5LT.gif","title":"Android 6.0 multiple permissions","body":"<p>My handler class for request multiple permissions. You can check the <a href=\"https://stackoverflow.com/a/45953930/5381331\">full using</a> here</p>\n\n<pre><code>public class RequestPermissionHandler {\n    private Activity mActivity;\n    private RequestPermissionListener mRequestPermissionListener;\n    private int mRequestCode;\n\n    public void requestPermission(Activity activity, @NonNull String[] permissions, int requestCode,\n            RequestPermissionListener listener) {\n        mActivity = activity;\n        mRequestCode = requestCode;\n        mRequestPermissionListener = listener;\n\n        if (!needRequestRuntimePermissions()) {\n            mRequestPermissionListener.onSuccess();\n            return;\n        }\n        requestUnGrantedPermissions(permissions, requestCode);\n    }\n\n    private boolean needRequestRuntimePermissions() {\n        return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M;\n    }\n\n    private void requestUnGrantedPermissions(String[] permissions, int requestCode) {\n        String[] unGrantedPermissions = findUnGrantedPermissions(permissions);\n        if (unGrantedPermissions.length == 0) {\n            mRequestPermissionListener.onSuccess();\n            return;\n        }\n        ActivityCompat.requestPermissions(mActivity, unGrantedPermissions, requestCode);\n    }\n\n    private boolean isPermissionGranted(String permission) {\n        return ActivityCompat.checkSelfPermission(mActivity, permission)\n                == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private String[] findUnGrantedPermissions(String[] permissions) {\n        List&lt;String&gt; unGrantedPermissionList = new ArrayList&lt;&gt;();\n        for (String permission : permissions) {\n            if (!isPermissionGranted(permission)) {\n                unGrantedPermissionList.add(permission);\n            }\n        }\n        return unGrantedPermissionList.toArray(new String[0]);\n    }\n\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n            @NonNull int[] grantResults) {\n        if (requestCode == mRequestCode) {\n            if (grantResults.length &gt; 0) {\n                for (int grantResult : grantResults) {\n                    if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                        mRequestPermissionListener.onFailed();\n                        return;\n                    }\n                }\n                mRequestPermissionListener.onSuccess();\n            } else {\n                mRequestPermissionListener.onFailed();\n            }\n        }\n    }\n\n    public interface RequestPermissionListener {\n        void onSuccess();\n\n        void onFailed();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ha5LT.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ha5LT.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13045038,"reputation":3004,"user_id":9427138,"display_name":"Adarsh Vijayan P"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524201601,"creation_date":1524201601,"answer_id":49934503,"question_id":34342816,"body_markdown":"**Checking every situation**\r\n\r\n\r\nif denied - showing Alert dialog to user why we need permission\r\n\r\n    public static final int MULTIPLE_PERMISSIONS = 1;\r\n    public static final int CAMERA_PERMISSION_REQUEST_CODE = 2;\r\n    public static final int STORAGE_PERMISSION_REQUEST_CODE = 3;\r\n    \r\n        private void askPermissions() {\r\n \r\n        int permissionCheckStorage = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n\r\n        int permissionCheckCamera = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.CAMERA); \r\n\r\n       // we already asked for permisson &amp; Permission granted, call camera intent\r\n        if (permissionCheckStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera == PackageManager.PERMISSION_GRANTED) {\r\n            \r\n            launchCamera();\r\n\r\n        } //asking permission for the first time\r\n         else if (permissionCheckStorage != PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera != PackageManager.PERMISSION_GRANTED) {\r\n             \r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                    MULTIPLE_PERMISSIONS);\r\n\r\n        } else {\r\n            // Permission denied, so request permission\r\n\r\n            // if camera request is denied\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.CAMERA)) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;You need to give permission to take pictures in order to work this feature.&quot;);\r\n                builder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n                    }\r\n                });\r\n                builder.setPositiveButton(&quot;GIVE PERMISSION&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n\r\n                        // Show permission request popup\r\n                        ActivityCompat.requestPermissions(this,\r\n                                new String[]{Manifest.permission.CAMERA},\r\n                                CAMERA_PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                builder.show();\r\n\r\n            }   // if storage request is denied\r\n                    else if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;You need to give permission to access storage in order to work this feature.&quot;);\r\n                builder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n                    }\r\n                });\r\n                builder.setPositiveButton(&quot;GIVE PERMISSION&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n\r\n                        // Show permission request popup\r\n                        ActivityCompat.requestPermissions(this,\r\n                                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                                STORAGE_PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                builder.show();\r\n\r\n            } \r\n\r\n        }\r\n    }\r\n\r\n**Checking Permission Results**\r\n\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case CAMERA_PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA)) {\r\n                    // check whether camera permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n                    }\r\n                }\r\n                break;\r\n            case STORAGE_PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                    // check whether storage permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n                    }\r\n                }\r\n                break;\r\n            case MULTIPLE_PERMISSIONS:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA) &amp;&amp; permissions[1].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                    // check whether All permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n&gt; you can just copy and paste this code, it works fine. change context(this) &amp; permissions according to you.  ","title":"Android 6.0 multiple permissions","body":"<p><strong>Checking every situation</strong></p>\n\n<p>if denied - showing Alert dialog to user why we need permission</p>\n\n<pre><code>public static final int MULTIPLE_PERMISSIONS = 1;\npublic static final int CAMERA_PERMISSION_REQUEST_CODE = 2;\npublic static final int STORAGE_PERMISSION_REQUEST_CODE = 3;\n\n    private void askPermissions() {\n\n    int permissionCheckStorage = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n    int permissionCheckCamera = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.CAMERA); \n\n   // we already asked for permisson &amp; Permission granted, call camera intent\n    if (permissionCheckStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera == PackageManager.PERMISSION_GRANTED) {\n\n        launchCamera();\n\n    } //asking permission for the first time\n     else if (permissionCheckStorage != PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera != PackageManager.PERMISSION_GRANTED) {\n\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                MULTIPLE_PERMISSIONS);\n\n    } else {\n        // Permission denied, so request permission\n\n        // if camera request is denied\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.CAMERA)) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(\"You need to give permission to take pictures in order to work this feature.\");\n            builder.setNegativeButton(\"CANCEL\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            });\n            builder.setPositiveButton(\"GIVE PERMISSION\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n\n                    // Show permission request popup\n                    ActivityCompat.requestPermissions(this,\n                            new String[]{Manifest.permission.CAMERA},\n                            CAMERA_PERMISSION_REQUEST_CODE);\n                }\n            });\n            builder.show();\n\n        }   // if storage request is denied\n                else if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(\"You need to give permission to access storage in order to work this feature.\");\n            builder.setNegativeButton(\"CANCEL\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            });\n            builder.setPositiveButton(\"GIVE PERMISSION\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n\n                    // Show permission request popup\n                    ActivityCompat.requestPermissions(this,\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                            STORAGE_PERMISSION_REQUEST_CODE);\n                }\n            });\n            builder.show();\n\n        } \n\n    }\n}\n</code></pre>\n\n<p><strong>Checking Permission Results</strong></p>\n\n<pre><code> @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    switch (requestCode) {\n        case CAMERA_PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA)) {\n                // check whether camera permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n                }\n            }\n            break;\n        case STORAGE_PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                // check whether storage permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n                }\n            }\n            break;\n        case MULTIPLE_PERMISSIONS:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA) &amp;&amp; permissions[1].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                // check whether All permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n\n                }\n            }\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>you can just copy and paste this code, it works fine. change context(this) &amp; permissions according to you.  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507903,"creation_date":1524905409,"answer_id":50074661,"question_id":34342816,"body_markdown":"Simple way to ask multiple permission,\r\n\r\nhttps://github.com/sachinvarma/EasyPermission\r\n\r\nHow to add :\r\n\r\n    repositories {\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n\r\n    implementation &#39;com.github.sachinvarma:EasyPermission:1.0.1&#39;\r\n\r\n\r\nHow to ask permission:\r\n\r\n     List&lt;String&gt; permission = new ArrayList&lt;&gt;();\r\n     permission.add(EasyPermissionList.READ_EXTERNAL_STORAGE);\r\n     permission.add(EasyPermissionList.ACCESS_FINE_LOCATION);\r\n\r\n     new EasyPermissionInit(MainActivity.this, permission);\r\n\r\nFor more Details - &gt;\r\n\r\nhttps://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java","title":"Android 6.0 multiple permissions","body":"<p>Simple way to ask multiple permission,</p>\n<p><a href=\"https://github.com/sachinvarma/EasyPermission\" rel=\"nofollow noreferrer\">https://github.com/sachinvarma/EasyPermission</a></p>\n<p>How to add :</p>\n<pre><code>repositories {\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n\nimplementation 'com.github.sachinvarma:EasyPermission:1.0.1'\n</code></pre>\n<p>How to ask permission:</p>\n<pre><code> List&lt;String&gt; permission = new ArrayList&lt;&gt;();\n permission.add(EasyPermissionList.READ_EXTERNAL_STORAGE);\n permission.add(EasyPermissionList.ACCESS_FINE_LOCATION);\n\n new EasyPermissionInit(MainActivity.this, permission);\n</code></pre>\n<p>For more Details - &gt;</p>\n<p><a href=\"https://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java\" rel=\"nofollow noreferrer\">https://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java</a></p>\n"},{"comments":[{"owner":{"account_id":6671476,"reputation":68,"user_id":5147496,"display_name":"shohag khan"},"score":0,"creation_date":1630267978,"post_id":51271069,"comment_id":121904351,"body_markdown":"This is very easy, but if CAMERA allowed I want to do something and READ_PHONE_STATE is not allowed I want to do something else. How can I handle multiple different situation?","body":"This is very easy, but if CAMERA allowed I want to do something and READ_PHONE_STATE is not allowed I want to do something else. How can I handle multiple different situation?"}],"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531243552,"creation_date":1531243552,"answer_id":51271069,"question_id":34342816,"body_markdown":"After seeing all the long and complex answers. I want post this answer.\r\n\r\n[**RxPermission**][3] is widely used library now for asking permission in one line code.\r\n\r\n    RxPermissions rxPermissions = new RxPermissions(this);\r\n    rxPermissions\r\n    .request(Manifest.permission.CAMERA,\r\n             Manifest.permission.READ_PHONE_STATE)\r\n    .subscribe(granted -&gt; {\r\n        if (granted) {\r\n           // All requested permissions are granted\r\n        } else {\r\n           // At least one permission is denied\r\n        }\r\n    });\r\n\r\nadd in your `build.gradle`\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.tbruyelle:rxpermissions:0.10.1&#39;\r\n        implementation &#39;com.jakewharton.rxbinding2:rxbinding:2.1.1&#39;\r\n    }\r\n\r\n**Isn&#39;t this easy?**\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview\r\n  [2]: https://developer.android.com/training/permissions/requesting\r\n  [3]: https://github.com/tbruyelle/RxPermissions","title":"Android 6.0 multiple permissions","body":"<p>After seeing all the long and complex answers. I want post this answer.</p>\n\n<p><a href=\"https://github.com/tbruyelle/RxPermissions\" rel=\"nofollow noreferrer\"><strong>RxPermission</strong></a> is widely used library now for asking permission in one line code.</p>\n\n<pre><code>RxPermissions rxPermissions = new RxPermissions(this);\nrxPermissions\n.request(Manifest.permission.CAMERA,\n         Manifest.permission.READ_PHONE_STATE)\n.subscribe(granted -&gt; {\n    if (granted) {\n       // All requested permissions are granted\n    } else {\n       // At least one permission is denied\n    }\n});\n</code></pre>\n\n<p>add in your <code>build.gradle</code></p>\n\n<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ndependencies {\n    implementation 'com.github.tbruyelle:rxpermissions:0.10.1'\n    implementation 'com.jakewharton.rxbinding2:rxbinding:2.1.1'\n}\n</code></pre>\n\n<p><strong>Isn't this easy?</strong></p>\n"},{"tags":[],"owner":{"account_id":2987459,"reputation":9583,"user_id":2535875,"accept_rate":50,"display_name":"Md Imran Choudhury"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532602350,"creation_date":1532602350,"answer_id":51537104,"question_id":34342816,"body_markdown":"&gt; **I just use an array to achieved multiple requests, hope it helps someone. (Kotlin)**\r\n\r\n        // got all permission\r\n        private fun requestPermission(){\r\n            var mIndex: Int = -1\r\n            var requestList: Array&lt;String&gt; = Array(10, { &quot;&quot; } )\r\n    \r\n            // phone call Permission\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.CALL_PHONE\r\n            }\r\n            // SMS Permission\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.SEND_SMS\r\n            }\r\n    \r\n            // Access photos Permission\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.READ_EXTERNAL_STORAGE\r\n            }\r\n    \r\n            // Location Permission\r\n            if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.ACCESS_FINE_LOCATION\r\n            }\r\n    \r\n            if(mIndex != -1){\r\n                ActivityCompat.requestPermissions(this, requestList, PERMISSIONS_REQUEST_ALL)\r\n            }\r\n        }\r\n    \r\n    \r\n        // permission response\r\n        override fun onRequestPermissionsResult(requestCode: Int,\r\n                                                permissions: Array&lt;String&gt;, grantResults: IntArray) {\r\n            when (requestCode) {\r\n                PERMISSIONS_REQUEST_ALL -&gt; {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;Phone Call permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;SMS permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;SMS permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;Location permission accept.&quot;)\r\n                        }\r\n    \r\n                    } else {\r\n                        Toast.makeText(mContext, &quot;Permission Failed!&quot;, Toast.LENGTH_LONG).show()\r\n                    }\r\n                    return\r\n                }\r\n            }\r\n        }","title":"Android 6.0 multiple permissions","body":"<blockquote>\n  <p><strong>I just use an array to achieved multiple requests, hope it helps someone. (Kotlin)</strong></p>\n</blockquote>\n\n<pre><code>    // got all permission\n    private fun requestPermission(){\n        var mIndex: Int = -1\n        var requestList: Array&lt;String&gt; = Array(10, { \"\" } )\n\n        // phone call Permission\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.CALL_PHONE\n        }\n        // SMS Permission\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.SEND_SMS\n        }\n\n        // Access photos Permission\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.READ_EXTERNAL_STORAGE\n        }\n\n        // Location Permission\n        if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.ACCESS_FINE_LOCATION\n        }\n\n        if(mIndex != -1){\n            ActivityCompat.requestPermissions(this, requestList, PERMISSIONS_REQUEST_ALL)\n        }\n    }\n\n\n    // permission response\n    override fun onRequestPermissionsResult(requestCode: Int,\n                                            permissions: Array&lt;String&gt;, grantResults: IntArray) {\n        when (requestCode) {\n            PERMISSIONS_REQUEST_ALL -&gt; {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"Phone Call permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"SMS permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"SMS permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"Location permission accept.\")\n                    }\n\n                } else {\n                    Toast.makeText(mContext, \"Permission Failed!\", Toast.LENGTH_LONG).show()\n                }\n                return\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4272264,"reputation":464,"user_id":3493822,"display_name":"Hitesh Tarbundiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1579797084,"creation_date":1536988387,"answer_id":52341780,"question_id":34342816,"body_markdown":"Refer this link for full understand of multiple permission, also full source code download, [click Here][1]\r\n\r\n\r\n  [1]: https://codingmitra.com/multiple-permission-run-time-in-android/\r\n\r\n\r\n\r\n\r\n       private boolean checkAndRequestPermissions() {\r\n        int permissionReadPhoneState = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE);\r\n        int permissionProcessOutGogingCalls = ContextCompat.checkSelfPermission(this, Manifest.permission.PROCESS_OUTGOING_CALLS);\r\n        int permissionProcessReadContacts = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS);\r\n        int permissionProcessReadCallLog = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG);\r\n \r\n        int permissionWriteStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        int permissionReadStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n \r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        if (permissionReadPhoneState != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_PHONE_STATE);\r\n        }\r\n        if (permissionProcessOutGogingCalls != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.PROCESS_OUTGOING_CALLS);\r\n        }\r\n        if (permissionProcessReadContacts != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_CONTACTS);\r\n        }\r\n        if (permissionProcessReadCallLog != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_CALL_LOG);\r\n        }\r\n        if (permissionWriteStorage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        }\r\n        if (permissionReadStorage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length == 0 || grantResults == null) {\r\n            /*If result is null*/\r\n        } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            /*If We accept permission*/\r\n        } else if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n            /*If We Decline permission*/\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>Refer this link for full understand of multiple permission, also full source code download, <a href=\"https://codingmitra.com/multiple-permission-run-time-in-android/\" rel=\"nofollow noreferrer\">click Here</a></p>\n\n<pre><code>   private boolean checkAndRequestPermissions() {\n    int permissionReadPhoneState = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE);\n    int permissionProcessOutGogingCalls = ContextCompat.checkSelfPermission(this, Manifest.permission.PROCESS_OUTGOING_CALLS);\n    int permissionProcessReadContacts = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS);\n    int permissionProcessReadCallLog = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG);\n\n    int permissionWriteStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    int permissionReadStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    if (permissionReadPhoneState != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_PHONE_STATE);\n    }\n    if (permissionProcessOutGogingCalls != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.PROCESS_OUTGOING_CALLS);\n    }\n    if (permissionProcessReadContacts != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_CONTACTS);\n    }\n    if (permissionProcessReadCallLog != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_CALL_LOG);\n    }\n    if (permissionWriteStorage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    }\n    if (permissionReadStorage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n        return false;\n    }\n    return true;\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (grantResults.length == 0 || grantResults == null) {\n        /*If result is null*/\n    } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        /*If We accept permission*/\n    } else if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n        /*If We Decline permission*/\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537470714,"creation_date":1537470714,"answer_id":52431779,"question_id":34342816,"body_markdown":"There is nothing wrong with answers asking for multiple permissions but multiple permission result code is not implemented very elegantly and may cause checking wrong permission result.\r\n\r\n`if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)` is terrible logic for checking multiple permissions result, i don&#39;t know why Google implemented such a terrible code.\r\n\r\nIt&#39;s a mess especially when you check multiple permissions. Let say you ask for `CAMERA`, `ACCESS_FINE_LOCATION` and `ACCESS_NETWORK_STATE`.\r\n\r\nYou need to check for `ACCESS_FINE_LOCATION` but user only granted `CAMERA` at first run and you check for `grantResults[1]` but in second run `ACCESS_FINE_LOCATION` becomes the permission with index 0. I got so many problems with user not granting all permissions at once and have to write so pointless permission result logic.\r\n\r\nYou should either use\r\n\r\n       int size = permissions.length;\r\n        boolean locationPermissionGranted = false;\r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    &amp;&amp; grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                locationPermissionGranted = true;\r\n            }\r\n        }\r\n\r\nOr simpler one\r\n\r\n       if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n               // Do something ...\r\n            }\r\n\r\nin `onPermissionRequestResult` method.","title":"Android 6.0 multiple permissions","body":"<p>There is nothing wrong with answers asking for multiple permissions but multiple permission result code is not implemented very elegantly and may cause checking wrong permission result.</p>\n\n<p><code>if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)</code> is terrible logic for checking multiple permissions result, i don't know why Google implemented such a terrible code.</p>\n\n<p>It's a mess especially when you check multiple permissions. Let say you ask for <code>CAMERA</code>, <code>ACCESS_FINE_LOCATION</code> and <code>ACCESS_NETWORK_STATE</code>.</p>\n\n<p>You need to check for <code>ACCESS_FINE_LOCATION</code> but user only granted <code>CAMERA</code> at first run and you check for <code>grantResults[1]</code> but in second run <code>ACCESS_FINE_LOCATION</code> becomes the permission with index 0. I got so many problems with user not granting all permissions at once and have to write so pointless permission result logic.</p>\n\n<p>You should either use</p>\n\n<pre><code>   int size = permissions.length;\n    boolean locationPermissionGranted = false;\n\n    for (int i = 0; i &lt; size; i++) {\n        if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)\n                &amp;&amp; grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n            locationPermissionGranted = true;\n        }\n    }\n</code></pre>\n\n<p>Or simpler one</p>\n\n<pre><code>   if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n           // Do something ...\n        }\n</code></pre>\n\n<p>in <code>onPermissionRequestResult</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3193984,"reputation":141,"user_id":2697605,"display_name":"Newton_Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557424365,"creation_date":1557424365,"answer_id":56065014,"question_id":34342816,"body_markdown":"In Kotlin:\r\n\r\n    private val id = 1\r\n    private val permissions = arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.ACCESS_FINE_LOCATION)\r\n    fun hasPermissions(): Boolean {\r\n     for (perm in permissions) {\r\n                    if (ActivityCompat.checkSelfPermission(this, perm) != PackageManager.PERMISSION_GRANTED) {\r\n                        return false\r\n                    }\r\n                }\r\n\r\n            return true\r\n        }\r\n\r\n        if(! hasPermissions()){\r\n                       requestPermissions(this, permissions, id)\r\n               }","title":"Android 6.0 multiple permissions","body":"<p>In Kotlin:</p>\n\n<pre><code>private val id = 1\nprivate val permissions = arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.ACCESS_FINE_LOCATION)\nfun hasPermissions(): Boolean {\n for (perm in permissions) {\n                if (ActivityCompat.checkSelfPermission(this, perm) != PackageManager.PERMISSION_GRANTED) {\n                    return false\n                }\n            }\n\n        return true\n    }\n\n    if(! hasPermissions()){\n                   requestPermissions(this, permissions, id)\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7056776,"reputation":869,"user_id":6033457,"accept_rate":80,"display_name":"Vahag Chakhoyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507945,"creation_date":1563953307,"answer_id":57177461,"question_id":34342816,"body_markdown":"This is what I have done in my activity. I am asking for camera and microphone permissions.\r\n\r\n    public class ActiveCallActivity extends AppCompatActivity {\r\n        .....\r\n        \r\n        private static final String cameraPermissionKey = &quot;cameraPermission&quot;;\r\n        private static final String microphonePermissionkey = &quot;microphonePermission&quot;;\r\n\r\n        private static ArrayList&lt;String&gt; permissionsQueue = new ArrayList&lt;String&gt;();\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            .....\r\n            // in ValidationCheckersAndValidators simply checking if have permission or not.\r\n            if(ValidationCheckersAndValidators.haveCameraPermission(this)) performHaveCameraPermissionLayout(); else performHaveNoCameraPermissionLayout();\r\n            if(ValidationCheckersAndValidators.haveMicrophonePermission(this)) performHaveMicrophonePermissionLayout(); else performHaveNoMicrophonePermissionLayout();\r\n\r\n        }\r\n\r\n        private void performHaveNoCameraPermissionLayout() {\r\n            .....\r\n            permissionsQueue.add(cameraPermissionKey);\r\n        }\r\n\r\n        private void performHaveNoMicrophonePermissionLayout() {\r\n            .....\r\n            permissionsQueue.add(microphonePermissionkey);\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n\r\n            .....\r\n            passThroughPermissionsQueue();\r\n        }\r\n\r\n        private void passThroughPermissionsQueue() {\r\n            if(!permissionsQueue.isEmpty()) {\r\n                String permissionKey = permissionsQueue.remove(0);\r\n                switch (permissionKey) {\r\n                    case cameraPermissionKey: {\r\n                        ValidationCheckersAndValidators.requestForCameraPermission(this);\r\n                        return;\r\n                    }\r\n                    case microphonePermissionkey: {\r\n                        ValidationCheckersAndValidators.requestForMicrophonePermission(this);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            switch(requestCode) {\r\n                case cameraPermissionRequestCode: {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        performHaveCameraPermissionLayout();\r\n                    }\r\n                    break;\r\n                }\r\n                case microphonePermissionRequestCode: {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        performHaveMicrophonePermissionLayout();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            passThroughPermissionsQueue();\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>This is what I have done in my activity. I am asking for camera and microphone permissions.</p>\n<pre><code>public class ActiveCallActivity extends AppCompatActivity {\n    .....\n    \n    private static final String cameraPermissionKey = &quot;cameraPermission&quot;;\n    private static final String microphonePermissionkey = &quot;microphonePermission&quot;;\n\n    private static ArrayList&lt;String&gt; permissionsQueue = new ArrayList&lt;String&gt;();\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        .....\n        // in ValidationCheckersAndValidators simply checking if have permission or not.\n        if(ValidationCheckersAndValidators.haveCameraPermission(this)) performHaveCameraPermissionLayout(); else performHaveNoCameraPermissionLayout();\n        if(ValidationCheckersAndValidators.haveMicrophonePermission(this)) performHaveMicrophonePermissionLayout(); else performHaveNoMicrophonePermissionLayout();\n\n    }\n\n    private void performHaveNoCameraPermissionLayout() {\n        .....\n        permissionsQueue.add(cameraPermissionKey);\n    }\n\n    private void performHaveNoMicrophonePermissionLayout() {\n        .....\n        permissionsQueue.add(microphonePermissionkey);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        .....\n        passThroughPermissionsQueue();\n    }\n\n    private void passThroughPermissionsQueue() {\n        if(!permissionsQueue.isEmpty()) {\n            String permissionKey = permissionsQueue.remove(0);\n            switch (permissionKey) {\n                case cameraPermissionKey: {\n                    ValidationCheckersAndValidators.requestForCameraPermission(this);\n                    return;\n                }\n                case microphonePermissionkey: {\n                    ValidationCheckersAndValidators.requestForMicrophonePermission(this);\n                    return;\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch(requestCode) {\n            case cameraPermissionRequestCode: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    performHaveCameraPermissionLayout();\n                }\n                break;\n            }\n            case microphonePermissionRequestCode: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    performHaveMicrophonePermissionLayout();\n                }\n                break;\n            }\n        }\n        passThroughPermissionsQueue();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2842259,"reputation":23300,"user_id":2441637,"accept_rate":100,"display_name":"Hasan A Yousef"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565347639,"creation_date":1565347639,"answer_id":57428467,"question_id":34342816,"body_markdown":"You can use [Dexter][1]\r\n\r\nIn `build.gradle` add:\r\n```gradle\r\nimplementation &#39;com.karumi:dexter:5.0.0&#39;\r\n```\r\n\r\nAnd use it in your activity as:\r\n\r\n```kotlin\r\nval requiredPermissions = when {\r\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION)\r\n            else -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION)\r\n        }\r\n\r\nDexter.withActivity(this)\r\n     .withPermissions(\r\n           requiredPermissions\r\n      )\r\n     .withListener(object : MultiplePermissionsListener {\r\n        override fun onPermissionRationaleShouldBeShown(\r\n             permissions: MutableList&lt;PermissionRequest&gt;?,\r\n                    token: PermissionToken?\r\n             ) {\r\n                    /* ... */\r\n                }\r\n\r\n\r\n        override fun onPermissionsChecked(report: MultiplePermissionsReport) = \r\n             if (report.isAnyPermissionPermanentlyDenied) {\r\n                toast(&quot;You should grant all permissions&quot;) \r\n             } else {\r\n                toast(&quot;All permissions granted&quot;)\r\n\r\n                // continue here if permission is a must\r\n\r\n              }).check()\r\n\r\n             // continue here if permission is not a must\r\n```\r\n\r\n\r\n  [1]: https://github.co/Karumi/Dexter","title":"Android 6.0 multiple permissions","body":"<p>You can use <a href=\"https://github.co/Karumi/Dexter\" rel=\"nofollow noreferrer\">Dexter</a></p>\n\n<p>In <code>build.gradle</code> add:</p>\n\n<pre><code>implementation 'com.karumi:dexter:5.0.0'\n</code></pre>\n\n<p>And use it in your activity as:</p>\n\n<pre><code>val requiredPermissions = when {\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION)\n            else -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION)\n        }\n\nDexter.withActivity(this)\n     .withPermissions(\n           requiredPermissions\n      )\n     .withListener(object : MultiplePermissionsListener {\n        override fun onPermissionRationaleShouldBeShown(\n             permissions: MutableList&lt;PermissionRequest&gt;?,\n                    token: PermissionToken?\n             ) {\n                    /* ... */\n                }\n\n\n        override fun onPermissionsChecked(report: MultiplePermissionsReport) = \n             if (report.isAnyPermissionPermanentlyDenied) {\n                toast(\"You should grant all permissions\") \n             } else {\n                toast(\"All permissions granted\")\n\n                // continue here if permission is a must\n\n              }).check()\n\n             // continue here if permission is not a must\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15425800,"reputation":342,"user_id":11128514,"display_name":"Prateek Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645542541,"creation_date":1645542541,"answer_id":71223678,"question_id":34342816,"body_markdown":"&#128293; **NEW EASY AND CLEAN WAY OF ASKING MULTIPLE PERMISSIONS IN 2022** &#128293;\r\n\r\nAt the top of your activity class, write \r\n\r\n    private val multiplePermissionContract = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissionsStatusMap -&gt;\r\n        // permissionStatusMap is of type &lt;String, Boolean&gt;\r\n        // if all permissions accepted\r\n        if (!permissionsStatusMap.containsValue(false)) {\r\n\r\n            // All persmissions are accepted, do here whatever you want \r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;all permissions not accepted&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\nAnd, launch the permission asking dialogs whenever you want like below(for now, I am thinking that you need to ask the permissions when you click on xyzButton)\r\n\r\n        xyzButton.setOnClickListener {\r\n            multiplePermissionContract.launch(\r\n                arrayOf(\r\n                    android.Manifest.permission.READ_CONTACTS, \r\n                    android.Manifest.permission.WRITE_CONTACTS, \r\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n                    android.Manifest.permission.READ_SMS, \r\n                    android.Manifest.permission.CAMERA\r\n                )\r\n            )\r\n        }\r\n\r\n**NOTE -**\r\n- registerForActivityResult() method will always be called whenever we click on xyzButton. If all any of the all permissions is not accepted earlier, it will ask that particular permission again; else it will directly execute the if condition block.","title":"Android 6.0 multiple permissions","body":"<p>🔥 <strong>NEW EASY AND CLEAN WAY OF ASKING MULTIPLE PERMISSIONS IN 2022</strong> 🔥</p>\n<p>At the top of your activity class, write</p>\n<pre><code>private val multiplePermissionContract = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissionsStatusMap -&gt;\n    // permissionStatusMap is of type &lt;String, Boolean&gt;\n    // if all permissions accepted\n    if (!permissionsStatusMap.containsValue(false)) {\n\n        // All persmissions are accepted, do here whatever you want \n\n    } else {\n        Toast.makeText(this, &quot;all permissions not accepted&quot;, Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n<p>And, launch the permission asking dialogs whenever you want like below(for now, I am thinking that you need to ask the permissions when you click on xyzButton)</p>\n<pre><code>    xyzButton.setOnClickListener {\n        multiplePermissionContract.launch(\n            arrayOf(\n                android.Manifest.permission.READ_CONTACTS, \n                android.Manifest.permission.WRITE_CONTACTS, \n                android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \n                android.Manifest.permission.READ_SMS, \n                android.Manifest.permission.CAMERA\n            )\n        )\n    }\n</code></pre>\n<p><strong>NOTE -</strong></p>\n<ul>\n<li>registerForActivityResult() method will always be called whenever we click on xyzButton. If all any of the all permissions is not accepted earlier, it will ask that particular permission again; else it will directly execute the if condition block.</li>\n</ul>\n"}],"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226934,"favorite_count":0,"down_vote_count":1,"up_vote_count":196,"accepted_answer_id":34343101,"answer_count":23,"score":195,"last_activity_date":1699508059,"creation_date":1450380891,"question_id":34342816,"body_markdown":"I know that Android 6.0 has new permissions and I know I can call them with something like this \r\n\r\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) !=\r\n        PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(this,\r\n            new String[] { \r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n            }, PERMISSION_WRITE_STORAGE);\r\n    }\r\n\r\nToday I saw a Google app which needs 3 permissions: contacts, sms and camera. It&#39;s making a page 1-3 and calls them all together at the same time to activate.\r\n\r\nCan anybody tell me how I can call 4 permissions to activate at the same time like sms, camera, contacts and storage?\r\n\r\n\r\nExample (forgot the name of the google app :( )   \r\nThe app needs sms,contacts and camera \r\n\r\nthe app asked me (and made a dialog page1-3) activate sms, activate contacts and then camera. \r\nSo this google app was calling all 3 required permissions together and my question is how can i achive the same ?\r\n\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<p>I know that Android 6.0 has new permissions and I know I can call them with something like this </p>\n\n<pre><code>if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) !=\n    PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(this,\n        new String[] { \n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n        }, PERMISSION_WRITE_STORAGE);\n}\n</code></pre>\n\n<p>Today I saw a Google app which needs 3 permissions: contacts, sms and camera. It's making a page 1-3 and calls them all together at the same time to activate.</p>\n\n<p>Can anybody tell me how I can call 4 permissions to activate at the same time like sms, camera, contacts and storage?</p>\n\n<p>Example (forgot the name of the google app :( )<br>\nThe app needs sms,contacts and camera </p>\n\n<p>the app asked me (and made a dialog page1-3) activate sms, activate contacts and then camera. \nSo this google app was calling all 3 required permissions together and my question is how can i achive the same ?</p>\n"},{"tags":["java","visual-studio-code","compilation","output","settings"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1699496653,"post_id":77450065,"comment_id":136540580,"body_markdown":"I **strongly** urge you to use maven for building your project. As you have discovered, the native Java tooling can be a bit challenging to use.","body":"I <b>strongly</b> urge you to use maven for building your project. As you have discovered, the native Java tooling can be a bit challenging to use."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699499055,"post_id":77450065,"comment_id":136540753,"body_markdown":"If you&#39;re using `javac` directly (or otherwise manually specifying the command line), then use the `-d` option to specify the output directory. But you should pretty much always use a build tool for any non-trivial Java project. Two common build tools in the Java ecosystem are Maven and Gradle (though others exist) and VS Code has extensions for both.","body":"If you&#39;re using <code>javac</code> directly (or otherwise manually specifying the command line), then use the <code>-d</code> option to specify the output directory. But you should pretty much always use a build tool for any non-trivial Java project. Two common build tools in the Java ecosystem are Maven and Gradle (though others exist) and VS Code has extensions for both."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699507963,"creation_date":1699507963,"answer_id":77450679,"question_id":77450065,"body_markdown":"It can be seen by screenshots that you are using *CodeRunner* to execute the code, so the `.class` file will be generated directly in the same level of the script file.\r\n\r\nPlease use the [Java extension package][1] to execute the script, so that the `&quot;java.project.outputPath&quot;: &quot;bin&quot;` settings will be used.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe verification method is to delete all the existing `.class` files, and then use Java extension toexecute the script. You will see that the `class` file is generated under the `bin` folder.\r\n\r\n*https://code.visualstudio.com/docs/java/java-tutorial*\r\n\r\n*Of course, I also suggest that you do not use CodeRunner first. Only the official extensions in the early stage will avoid a lot of trouble. Because there are many settings and configurations that are brought about by official extensions, CodeRunner only uses commands to run scripts.*\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/CS4Az.png","title":"When I run my .java projects, the compiler places the .class files in the src folder and in the bin folder","body":"<p>It can be seen by screenshots that you are using <em>CodeRunner</em> to execute the code, so the <code>.class</code> file will be generated directly in the same level of the script file.</p>\n<p>Please use the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java extension package</a> to execute the script, so that the <code>&quot;java.project.outputPath&quot;: &quot;bin&quot;</code> settings will be used.</p>\n<p><a href=\"https://i.stack.imgur.com/CS4Az.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CS4Az.png\" alt=\"enter image description here\" /></a></p>\n<p>The verification method is to delete all the existing <code>.class</code> files, and then use Java extension toexecute the script. You will see that the <code>class</code> file is generated under the <code>bin</code> folder.</p>\n<p><em><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-tutorial</a></em></p>\n<p><em>Of course, I also suggest that you do not use CodeRunner first. Only the official extensions in the early stage will avoid a lot of trouble. Because there are many settings and configurations that are brought about by official extensions, CodeRunner only uses commands to run scripts.</em></p>\n"}],"owner":{"account_id":29859941,"reputation":3,"user_id":22883836,"display_name":"Guilherme Pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450679,"answer_count":1,"score":0,"last_activity_date":1699507963,"creation_date":1699496067,"question_id":77450065,"body_markdown":"I&#39;m having a problem with my output settings for my .java programs. Every time I click on the button to run my project, the compiler creates the .class files and throws them into src, while it also throws them into bin. Wouldn&#39;t it be right to put these .class files only in bin and leave the src folder &quot;clean&quot; (only with the .java files)? How can I fix this?\r\n\r\nI saw a question similar to mine (https://stackoverflow.com/questions/68945181/visual-studio-code-puts-class-files-in-src-folder-when-compiling), but the settings are correct, but the error is still there. My VS Workspace: https://i.stack.imgur.com/ONPIJ.png \r\n","title":"When I run my .java projects, the compiler places the .class files in the src folder and in the bin folder","body":"<p>I'm having a problem with my output settings for my .java programs. Every time I click on the button to run my project, the compiler creates the .class files and throws them into src, while it also throws them into bin. Wouldn't it be right to put these .class files only in bin and leave the src folder &quot;clean&quot; (only with the .java files)? How can I fix this?</p>\n<p>I saw a question similar to mine (<a href=\"https://stackoverflow.com/questions/68945181/visual-studio-code-puts-class-files-in-src-folder-when-compiling\">Visual Studio Code puts .class files in src folder when compiling</a>), but the settings are correct, but the error is still there. My VS Workspace: <a href=\"https://i.stack.imgur.com/ONPIJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ONPIJ.png</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17261076,"reputation":123,"user_id":12498940,"display_name":"Dayakar Akula"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699507886,"creation_date":1699507886,"answer_id":77450673,"question_id":77450636,"body_markdown":"androidx.activity:activity:1.7.0 update to this dependency they fixed the issue\r\n","title":"Expected Visual Media type got imageOnly","body":"<p>androidx.activity:activity:1.7.0 update to this dependency they fixed the issue</p>\n"}],"owner":{"account_id":20938962,"reputation":36,"user_id":15383501,"display_name":"Harsh Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450673,"answer_count":1,"score":0,"last_activity_date":1699507886,"creation_date":1699507235,"question_id":77450636,"body_markdown":"I want to add a photo picker in my Android App, for which i got folllowing snippet from Android docs. ([PhotoPicker][1])\r\n\r\n    ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMultipleMedia =\r\n        registerForActivityResult(new PickMultipleVisualMedia(5), uris -&gt; {\r\n    // Callback is invoked after the user selects media items or closes the\r\n    // photo picker.\r\n    if (!uris.isEmpty()) {\r\n        Log.d(&quot;PhotoPicker&quot;, &quot;Number of items selected: &quot; + uris.size());\r\n    } else {\r\n        Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\r\n    }\r\n    });\r\n    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\r\n        .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n        .build());\r\nBut i am getting an error:\r\n\r\n    &#39;setMediaType(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.VisualMediaType)&#39; in &#39;androidx.activity.result.PickVisualMediaRequest.Builder&#39; cannot be applied to &#39;(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.ImageOnly)&#39;\r\nThough there is this error, the app is running well. I am not able to fix the issue\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker","title":"Expected Visual Media type got imageOnly","body":"<p>I want to add a photo picker in my Android App, for which i got folllowing snippet from Android docs. (<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">PhotoPicker</a>)</p>\n<pre><code>ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMultipleMedia =\n    registerForActivityResult(new PickMultipleVisualMedia(5), uris -&gt; {\n// Callback is invoked after the user selects media items or closes the\n// photo picker.\nif (!uris.isEmpty()) {\n    Log.d(&quot;PhotoPicker&quot;, &quot;Number of items selected: &quot; + uris.size());\n} else {\n    Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\n}\n});\npickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\n    .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n    .build());\n</code></pre>\n<p>But i am getting an error:</p>\n<pre><code>'setMediaType(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.VisualMediaType)' in 'androidx.activity.result.PickVisualMediaRequest.Builder' cannot be applied to '(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.ImageOnly)'\n</code></pre>\n<p>Though there is this error, the app is running well. I am not able to fix the issue</p>\n"},{"tags":["java","android","classnotfoundexception","fast-excel"],"owner":{"account_id":28171438,"reputation":1,"user_id":21529931,"display_name":"Feystray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699506581,"creation_date":1699506581,"question_id":77450597,"body_markdown":"I am making an android app 1st time and have just learned fastexcel for using excel import and export from java.\r\nBut when i use Readable Workbook it gives me this error in logcat .\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.excel, PID: 14492\r\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/fasterxml/aalto/AsyncXMLInputFactory;\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)\r\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)\r\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)\r\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)\r\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)\r\nat android.app.Activity.performCreate(Activity.java:8591)\r\nat android.app.Activity.performCreate(Activity.java:8570)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\r\nat android.os.Looper.loop(Looper.java:313)\r\nat android.app.ActivityThread.main(ActivityThread.java:8757)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.aalto.AsyncXMLInputFactory\r\nat java.lang.VMClassLoader.findLoadedClass(Native Method)\r\nat java.lang.ClassLoader.findLoadedClass(ClassLoader.java:738)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:363)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)&#160;\r\n\tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)&#160;\r\n                                                                                                    \tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)&#160;\r\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)&#160;\r\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)&#160;\r\nat android.app.Activity.performCreate(Activity.java:8591)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8570)&#160;\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)&#160;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)&#160;\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)&#160;\r\nat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\nat android.os.Looper.loopOnce(Looper.java:226)&#160;\r\nat android.os.Looper.loop(Looper.java:313)&#160;\r\nat android.app.ActivityThread.main(ActivityThread.java:8757)&#160;\r\nat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)&#160;\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)&#160;\r\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/codehaus/stax2/XMLInputFactory2;\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)&#160;\r\n\tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)&#160;\r\n                                                                                                    \tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)&#160;\r\n                                                                                                    \tat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)&#160;\r\n                                                                                                    \tat com.example.excel.MainActivity.onCreate(MainActivity.java:106)&#160;\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8591)&#160;\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8570)&#160;\r\n                                                                                                    \t                                                                                                   Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;javax.xml.stream.XMLInputFactory&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes.dex&quot;, dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes4.dex&quot;, zip file &quot;/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/lib/arm, /system/lib, /system/system_ext/lib]\r\n                                      \r\n```\r\n\r\nThen I tried to import\r\n\r\n```\r\nimplementation(&quot;com.fasterxml:aalto-xml:1.3.2&quot;)\r\nimplementation(&quot;org.codehaus.woodstox:stax2-api:4.2.2&quot;)\r\n```\r\nBut nothing seems to change.\r\n\r\nI tried to do as much surfing even asked bing ai but none of them solve it.\r\nCan anyone help me in solving this?","title":"FastExcel Library java.lang.NoClassDefFoundError: Failed resolution of com/fasterxml/aalto/AsyncXMLInputFactory;","body":"<p>I am making an android app 1st time and have just learned fastexcel for using excel import and export from java.\nBut when i use Readable Workbook it gives me this error in logcat .</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.excel, PID: 14492\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/fasterxml/aalto/AsyncXMLInputFactory;\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)\nat android.app.Activity.performCreate(Activity.java:8591)\nat android.app.Activity.performCreate(Activity.java:8570)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8757)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.aalto.AsyncXMLInputFactory\nat java.lang.VMClassLoader.findLoadedClass(Native Method)\nat java.lang.ClassLoader.findLoadedClass(ClassLoader.java:738)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:363)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42) \nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150) \n    at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60) \n                                                                                                        at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52) \nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239) \nat com.example.excel.MainActivity.onCreate(MainActivity.java:106) \nat android.app.Activity.performCreate(Activity.java:8591) \n    at android.app.Activity.performCreate(Activity.java:8570) \n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384) \n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150) \n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:226) \nat android.os.Looper.loop(Looper.java:313) \nat android.app.ActivityThread.main(ActivityThread.java:8757) \nat java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067) \nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/codehaus/stax2/XMLInputFactory2;\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42) \nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150) \n    at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60) \n                                                                                                        at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52) \n                                                                                                        at com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239) \n                                                                                                        at com.example.excel.MainActivity.onCreate(MainActivity.java:106) \n                                                                                                        at android.app.Activity.performCreate(Activity.java:8591) \n                                                                                                        at android.app.Activity.performCreate(Activity.java:8570) \n                                                                                                                                                                                                           Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;javax.xml.stream.XMLInputFactory&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes.dex&quot;, dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes4.dex&quot;, zip file &quot;/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/lib/arm, /system/lib, /system/system_ext/lib]\n                                      \n</code></pre>\n<p>Then I tried to import</p>\n<pre><code>implementation(&quot;com.fasterxml:aalto-xml:1.3.2&quot;)\nimplementation(&quot;org.codehaus.woodstox:stax2-api:4.2.2&quot;)\n</code></pre>\n<p>But nothing seems to change.</p>\n<p>I tried to do as much surfing even asked bing ai but none of them solve it.\nCan anyone help me in solving this?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"score":0,"creation_date":1699520105,"post_id":77450566,"comment_id":136543058,"body_markdown":"It still doesn&#39;t work because every time when my test launches the browser the Privacy Policy would pop up and intercept the click on submit. If you just click submit without filling other data, sometimes driver.findElement(By.cssSelector(&quot;input[name=&#39;submit&#39;]&quot;)).click(); is working because the pop up is coming 1 or 2 seconds after but if you also fill the data name, firstN etc, it comes up before submit is clicked.","body":"It still doesn&#39;t work because every time when my test launches the browser the Privacy Policy would pop up and intercept the click on submit. If you just click submit without filling other data, sometimes driver.findElement(By.cssSelector(&quot;input[name=&#39;submit&#39;]&quot;)).c&zwnj;&#8203;lick(); is working because the pop up is coming 1 or 2 seconds after but if you also fill the data name, firstN etc, it comes up before submit is clicked."},{"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"score":0,"creation_date":1699521016,"post_id":77450566,"comment_id":136543237,"body_markdown":"the button with id &quot;save&quot; I was trying is the one for the overlay:","body":"the button with id &quot;save&quot; I was trying is the one for the overlay:"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1699541932,"post_id":77450566,"comment_id":136547455,"body_markdown":"I don&#39;t know why but I&#39;m never getting the privacy policy popup that you are referring to. I launched my script with a breakpoint on the last line so the form wouldn&#39;t be submitted and just waited. I&#39;ve now waited over a minute and there&#39;s no popup.","body":"I don&#39;t know why but I&#39;m never getting the privacy policy popup that you are referring to. I launched my script with a breakpoint on the last line so the form wouldn&#39;t be submitted and just waited. I&#39;ve now waited over a minute and there&#39;s no popup."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1699542272,"post_id":77450566,"comment_id":136547557,"body_markdown":"I just deleted all cookies from the site as well and I&#39;m still not seeing the popup. It shouldn&#39;t matter for a default Selenium script because the browser is launched with a blank profile but I did it just in case...","body":"I just deleted all cookies from the site as well and I&#39;m still not seeing the popup. It shouldn&#39;t matter for a default Selenium script because the browser is launched with a blank profile but I did it just in case..."},{"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"score":0,"creation_date":1699542540,"post_id":77450566,"comment_id":136547615,"body_markdown":"Maybe you interacted with the site some other time? Or you block them somehow?\nDo you have the buton like a fingerprint on the right botom of the page(it is called manage privacy setting)? can you click it and see the pop up?","body":"Maybe you interacted with the site some other time? Or you block them somehow? Do you have the buton like a fingerprint on the right botom of the page(it is called manage privacy setting)? can you click it and see the pop up?"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1699549533,"post_id":77450566,"comment_id":136549127,"body_markdown":"I mentioned above that I cleared all cookies related to the site so that shouldn&#39;t be the issue. I don&#39;t have a fingerprint button on the page. Are you sure you gave the right URL? Are there any other steps before the popup like logging in, etc.? Have you tried clearing your cookies for the site? Maybe you are in some strange state.","body":"I mentioned above that I cleared all cookies related to the site so that shouldn&#39;t be the issue. I don&#39;t have a fingerprint button on the page. Are you sure you gave the right URL? Are there any other steps before the popup like logging in, etc.? Have you tried clearing your cookies for the site? Maybe you are in some strange state."},{"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"score":0,"creation_date":1699555568,"post_id":77450566,"comment_id":136550239,"body_markdown":"Actually, the way I remember, it didn&#39;t popup didn&#39;t use to happen at the start but after some tests with the functionality and creation of more users, because it can be done with all fields empty idk what happened and eventually it came up and I can not get past it using all kind of identifiers. I deleted cookies and privacy options and nothing changed. Also, as you said it should not be an issue as it is blanked browser when testing.","body":"Actually, the way I remember, it didn&#39;t popup didn&#39;t use to happen at the start but after some tests with the functionality and creation of more users, because it can be done with all fields empty idk what happened and eventually it came up and I can not get past it using all kind of identifiers. I deleted cookies and privacy options and nothing changed. Also, as you said it should not be an issue as it is blanked browser when testing."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699506151,"creation_date":1699506151,"answer_id":77450566,"question_id":77449000,"body_markdown":"I think the main problem is that you are trying to click the wrong button? There is no element on the page with an ID of &quot;save&quot;. There&#39;s also no BUTTON element on the page. The SUBMIT button HTML is\r\n\r\n    &lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; ...&gt;\r\n\r\nYou can use a simple CSS selector to locate it,\r\n\r\n    input[name=&#39;submit&#39;]\r\n\r\nThere is no IFRAME around the SUBMIT button element so you don&#39;t need to switch into an IFRAME, etc.\r\n\r\nWorking code is below,\r\n\r\n    driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&#39;https://demo.guru99.com/test/newtours/register.php&#39;);\r\n\r\n    driver.findElement(By.cssSelector(&quot;input[name=&#39;submit&#39;]&quot;)).click();","title":"I try to test signup functionality of https://demo.guru99.com/test/newtours/register.php","body":"<p>I think the main problem is that you are trying to click the wrong button? There is no element on the page with an ID of &quot;save&quot;. There's also no BUTTON element on the page. The SUBMIT button HTML is</p>\n<pre><code>&lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; ...&gt;\n</code></pre>\n<p>You can use a simple CSS selector to locate it,</p>\n<pre><code>input[name='submit']\n</code></pre>\n<p>There is no IFRAME around the SUBMIT button element so you don't need to switch into an IFRAME, etc.</p>\n<p>Working code is below,</p>\n<pre><code>driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.get('https://demo.guru99.com/test/newtours/register.php');\n\ndriver.findElement(By.cssSelector(&quot;input[name='submit']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699506151,"creation_date":1699478144,"question_id":77449000,"body_markdown":"I can fill in the data but I can not submit because I have an overlay for cookies that I can&#39;t accept.\r\n\r\n&gt;element click intercepted: Element \\&lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; width=&quot;60&quot; height=&quot;23&quot; border=&quot;0&quot;&gt; is not clickable at point (394, 627). Other element would receive the click: \\&lt;iframe src=&quot;https://cmp-consent-tool.privacymanager.io/latest/index.html#/notice?theme=defaultTheme&amp;amp;useSystemFonts=false&amp;amp;cmpType=tcf&quot; id=&quot;gdpr-consent-notice&quot; class=&quot;faktor-iframe-wrapper&quot; aria-label=&quot;Privacy Manager window&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; frameborder=&quot;0&quot; scrolling=&quot;yes&quot; style=&quot;width: 100%; left: 0px; bottom: 0px; position: fixed; z-index: 2147483647; box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 30px 5px, rgba(0, 0, 0, 0.14) 0px 16px 24px 2px, rgba(0, 0, 0, 0.2) 0px 8px 10px -5px; height: 317px;&quot; cd_frame_id_=&quot;41e0d82a904b7400631e7cb189f47523&quot;&gt;&lt;/iframe&gt;\r\n\r\nI tried to switch to frame, iframe and click accept all, in so many ways as:\r\n\r\n    WebElement iframe = driver.findElement(By.id(&quot;gdpr-consent-notice&quot;));\r\n\tdriver.switchTo().frame(iframe);\r\n\r\nand\r\n\r\n    driver.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]//div[@class=&#39;action-wrapper&#39;]&quot;)).click();\r\n\tdriver.switchTo().defaultContent();\r\n\r\nI also tried with frame id 0 or 1, with CSS selector for button, and many other combinations I can&#39;t even remember. If you can check a solution on the link it would be wonderful.","title":"I try to test signup functionality of https://demo.guru99.com/test/newtours/register.php","body":"<p>I can fill in the data but I can not submit because I have an overlay for cookies that I can't accept.</p>\n<blockquote>\n<p>element click intercepted: Element &lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; width=&quot;60&quot; height=&quot;23&quot; border=&quot;0&quot;&gt; is not clickable at point (394, 627). Other element would receive the click: &lt;iframe src=&quot;https://cmp-consent-tool.privacymanager.io/latest/index.html#/notice?theme=defaultTheme&amp;useSystemFonts=false&amp;cmpType=tcf&quot; id=&quot;gdpr-consent-notice&quot; class=&quot;faktor-iframe-wrapper&quot; aria-label=&quot;Privacy Manager window&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; frameborder=&quot;0&quot; scrolling=&quot;yes&quot; style=&quot;width: 100%; left: 0px; bottom: 0px; position: fixed; z-index: 2147483647; box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 30px 5px, rgba(0, 0, 0, 0.14) 0px 16px 24px 2px, rgba(0, 0, 0, 0.2) 0px 8px 10px -5px; height: 317px;&quot; cd_frame_id_=&quot;41e0d82a904b7400631e7cb189f47523&quot;&gt;</p>\n</blockquote>\n<p>I tried to switch to frame, iframe and click accept all, in so many ways as:</p>\n<pre><code>WebElement iframe = driver.findElement(By.id(&quot;gdpr-consent-notice&quot;));\ndriver.switchTo().frame(iframe);\n</code></pre>\n<p>and</p>\n<pre><code>driver.findElement(By.xpath(&quot;//button[@id='save']//div[@class='action-wrapper']&quot;)).click();\ndriver.switchTo().defaultContent();\n</code></pre>\n<p>I also tried with frame id 0 or 1, with CSS selector for button, and many other combinations I can't even remember. If you can check a solution on the link it would be wonderful.</p>\n"},{"tags":["java","unit-testing","debugging","code-coverage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699552431,"post_id":77450544,"comment_id":136549714,"body_markdown":"I believe JaCoCo also generates HTML pages, with links that allow you to drill down and see individual files and lines where issues occur.","body":"I believe JaCoCo also generates HTML pages, with links that allow you to drill down and see individual files and lines where issues occur."}],"owner":{"account_id":29860759,"reputation":1,"user_id":22884468,"display_name":"DanDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699505861,"creation_date":1699505861,"question_id":77450544,"body_markdown":"Is there any code coverage tool or debugger tool for Java that displays the branch coverage as a tree? I just thought that it is easier for the developer to debug and cover the code when there&#39;s a visual representation of the code. \r\n\r\nThanks\r\n\r\nI tried using the JaCoCo report generation xml to try if the data can be translated into individual branch path but it seems that the data was all summary of the coverage. ","title":"Code Coverage Tool Branch Coverage tree illustrator for Java","body":"<p>Is there any code coverage tool or debugger tool for Java that displays the branch coverage as a tree? I just thought that it is easier for the developer to debug and cover the code when there's a visual representation of the code.</p>\n<p>Thanks</p>\n<p>I tried using the JaCoCo report generation xml to try if the data can be translated into individual branch path but it seems that the data was all summary of the coverage.</p>\n"},{"tags":["java","spring-boot","gradle","postman"],"comments":[{"owner":{"account_id":23093411,"reputation":258,"user_id":17203927,"display_name":"redwards"},"score":0,"creation_date":1695950713,"post_id":77198965,"comment_id":136095153,"body_markdown":"I believe you need to annotate your controller fields with @Validated for it to work.","body":"I believe you need to annotate your controller fields with @Validated for it to work."}],"answers":[{"comments":[{"owner":{"account_id":20037559,"reputation":1,"user_id":14688930,"display_name":"NickVnkn"},"score":0,"creation_date":1695966775,"post_id":77199256,"comment_id":136096243,"body_markdown":"but my issue is for example the DDD field should allow just 2 numbers but is allowing more than that. this is also happening with the other fields is not respecting the restrictions that i wrote.","body":"but my issue is for example the DDD field should allow just 2 numbers but is allowing more than that. this is also happening with the other fields is not respecting the restrictions that i wrote."}],"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695957022,"creation_date":1695957022,"answer_id":77199256,"question_id":77198965,"body_markdown":"what happens is that in the entity or model that you are using as a response in your RestController that is &quot;api/users&quot;, the User class or object does not have an attribute with a constraint of the default json converter of spring that is com.fasterxml.jackson.\r\n\r\nLo que debes es marcar con la anotaci&#243;n @JsonIgnore en la propiedad:\r\n\r\n    public class User(){\r\n      \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JsonIngnore\r\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\r\n    private String name;}","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>what happens is that in the entity or model that you are using as a response in your RestController that is &quot;api/users&quot;, the User class or object does not have an attribute with a constraint of the default json converter of spring that is com.fasterxml.jackson.</p>\n<p>Lo que debes es marcar con la anotación @JsonIgnore en la propiedad:</p>\n<pre><code>public class User(){\n  \n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@JsonIngnore\n@NotBlank(message = &quot;Name field cannot be blank.&quot;)\n@Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\nprivate String name;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699505195,"creation_date":1699505195,"answer_id":77450522,"question_id":77198965,"body_markdown":"The thing is, you&#39;re not intercepting RequestBody validations.\r\nThe comptroller should look something like this to get the errors on the application if you have them:\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user, BindingResult result) {\r\n        if (result.hasErrors()) {\r\n             Map&lt;String, String&gt; errores = new HashMap&lt;&gt;();\r\n        result.getFieldErrors().forEach(err -&gt; {\r\n            errores.put(err.getField(), String.format(&quot;El campo %s %s&quot;, err.getField(), err.getDefaultMessage()));\r\n        });\r\n        return ResponseEntity.badRequest().body(errores);\r\n\r\n        if (userService.existsByEmail(user.getEmail())) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\r\n        }\r\n        User newUser = userService.saveOrUpdateUser(user);\r\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\nSpring already has an interface that captures these validations and that is the BindingResult.","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>The thing is, you're not intercepting RequestBody validations.\nThe comptroller should look something like this to get the errors on the application if you have them:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user, BindingResult result) {\n    if (result.hasErrors()) {\n         Map&lt;String, String&gt; errores = new HashMap&lt;&gt;();\n    result.getFieldErrors().forEach(err -&gt; {\n        errores.put(err.getField(), String.format(&quot;El campo %s %s&quot;, err.getField(), err.getDefaultMessage()));\n    });\n    return ResponseEntity.badRequest().body(errores);\n\n    if (userService.existsByEmail(user.getEmail())) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\n    }\n    User newUser = userService.saveOrUpdateUser(user);\n    return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\n}\n</code></pre>\n<p>Spring already has an interface that captures these validations and that is the BindingResult.</p>\n"}],"owner":{"account_id":20037559,"reputation":1,"user_id":14688930,"display_name":"NickVnkn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699505195,"creation_date":1695948750,"question_id":77198965,"body_markdown":"I made a spring boot setup with java, and I made some restrictions for the Json to not accept some kind of values, but when I input the values on my Json, my postman is accepting every value that I input\r\n\r\nUser.java class\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.Validator;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\r\n    private String name;\r\n\r\n    @NotBlank(message = &quot;DDD field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 2, message = &quot;DDD must have 2 characters.&quot;)\r\n    private String ddd;\r\n\r\n    @NotBlank(message = &quot;Phone Number field cannot be blank.&quot;)\r\n    @Size(min = 8, max = 9, message = &quot;Phone number must have between 8 and 9 digits.&quot;)\r\n    private String phoneNumber;\r\n\r\n    @NotBlank(message = &quot;Email field cannot be blank.&quot;)\r\n    @Email(message = &quot;Invalid email format.&quot;)\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    @NotBlank(message = &quot;Password field cannot be blank.&quot;)\r\n    @Size(min = 8, max = 12, message = &quot;Password must be between 8 and 12 characters&quot;)\r\n    private String password;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String name, String ddd, String phoneNumber, String email, String password) {\r\n        this.name = name;\r\n        this.ddd = ddd;\r\n        this.phoneNumber = phoneNumber;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    // Standard getters and setters\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public String getDdd() {\r\n        return ddd;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof User)) return false;\r\n        User user = (User) o;\r\n        return Objects.equals(id, user.id) &amp;&amp;\r\n                Objects.equals(email, user.email);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, email);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, ddd=&#39;&quot; + ddd + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumber=&#39;&quot; + phoneNumber + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nUserController.java\r\n\r\npackage com.example.demo.controller;\r\nimport com.example.demo.model.User;\r\nimport com.example.demo.service.UserService;\r\nimport com.example.demo.service.MailService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n    private final MailService mailService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService, MailService mailService) {\r\n        this.userService = userService;\r\n        this.mailService = mailService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\r\n        List&lt;User&gt; users = userService.getAllUsers();\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\r\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n        return userOptional\r\n                .map(user -&gt; new ResponseEntity&lt;&gt;(user, HttpStatus.OK))\r\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\r\n        if (userService.existsByEmail(user.getEmail())) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\r\n        }\r\n        User newUser = userService.saveOrUpdateUser(user);\r\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\r\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n        if (userOptional.isPresent()) {\r\n            // Ensure the ID from the path matches the ID of the user being updated\r\n            user.setId(id);\r\n            User updatedUser = userService.saveOrUpdateUser(user);\r\n            return new ResponseEntity&lt;&gt;(updatedUser, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @PostMapping(&quot;/sendVerificationEmail&quot;)\r\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestParam String email) {\r\n        // Generate a verification code or content if needed\r\n        String verificationContent = &quot;Your verification content here&quot;;\r\n\r\n        // Use your MailService to send the email\r\n        mailService.sendVerificationEmail(email, &quot;Verification Email&quot;, verificationContent);\r\n\r\n        return ResponseEntity.ok(&quot;Email sent successfully.&quot;);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable Long id) {\r\n        if (userService.getUserById(id).isPresent()) {\r\n            userService.deleteUser(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```\r\n\r\n\r\n[Json Response](https://i.stack.imgur.com/UWdq0.png) I made an example with this picture for a better understanding\r\nThanks for the help\r\n\r\nI tried to put new dependecies on gradle like  \r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.hibernate.validator:hibernate-validator:7.0.2.Final&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.5.6.Final&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n}    \r\n```\r\n                                                                      \r\nbut it&#39;s not working","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>I made a spring boot setup with java, and I made some restrictions for the Json to not accept some kind of values, but when I input the values on my Json, my postman is accepting every value that I input</p>\n<p>User.java class</p>\n<pre><code>package com.example.demo.model;\n\nimport javax.persistence.*;\nimport javax.validation.Validator;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\n    private String name;\n\n    @NotBlank(message = &quot;DDD field cannot be blank.&quot;)\n    @Size(min = 2, max = 2, message = &quot;DDD must have 2 characters.&quot;)\n    private String ddd;\n\n    @NotBlank(message = &quot;Phone Number field cannot be blank.&quot;)\n    @Size(min = 8, max = 9, message = &quot;Phone number must have between 8 and 9 digits.&quot;)\n    private String phoneNumber;\n\n    @NotBlank(message = &quot;Email field cannot be blank.&quot;)\n    @Email(message = &quot;Invalid email format.&quot;)\n    @Column(unique = true)\n    private String email;\n\n    @NotBlank(message = &quot;Password field cannot be blank.&quot;)\n    @Size(min = 8, max = 12, message = &quot;Password must be between 8 and 12 characters&quot;)\n    private String password;\n\n    public User() {\n    }\n\n    public User(String name, String ddd, String phoneNumber, String email, String password) {\n        this.name = name;\n        this.ddd = ddd;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.password = password;\n    }\n\n    // Standard getters and setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public String getDdd() {\n        return ddd;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User)) return false;\n        User user = (User) o;\n        return Objects.equals(id, user.id) &amp;&amp;\n                Objects.equals(email, user.email);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, email);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, ddd='&quot; + ddd + '\\'' +\n                &quot;, phoneNumber='&quot; + phoneNumber + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre><code>UserController.java\n\npackage com.example.demo.controller;\nimport com.example.demo.model.User;\nimport com.example.demo.service.UserService;\nimport com.example.demo.service.MailService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n    private final MailService mailService;\n\n    @Autowired\n    public UserController(UserService userService, MailService mailService) {\n        this.userService = userService;\n        this.mailService = mailService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\n        List&lt;User&gt; users = userService.getAllUsers();\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        return userOptional\n                .map(user -&gt; new ResponseEntity&lt;&gt;(user, HttpStatus.OK))\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\n        if (userService.existsByEmail(user.getEmail())) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\n        }\n        User newUser = userService.saveOrUpdateUser(user);\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        if (userOptional.isPresent()) {\n            // Ensure the ID from the path matches the ID of the user being updated\n            user.setId(id);\n            User updatedUser = userService.saveOrUpdateUser(user);\n            return new ResponseEntity&lt;&gt;(updatedUser, HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n\n    @PostMapping(&quot;/sendVerificationEmail&quot;)\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestParam String email) {\n        // Generate a verification code or content if needed\n        String verificationContent = &quot;Your verification content here&quot;;\n\n        // Use your MailService to send the email\n        mailService.sendVerificationEmail(email, &quot;Verification Email&quot;, verificationContent);\n\n        return ResponseEntity.ok(&quot;Email sent successfully.&quot;);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable Long id) {\n        if (userService.getUserById(id).isPresent()) {\n            userService.deleteUser(id);\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UWdq0.png\" rel=\"nofollow noreferrer\">Json Response</a> I made an example with this picture for a better understanding\nThanks for the help</p>\n<p>I tried to put new dependecies on gradle like</p>\n<pre><code>dependencies {\n    implementation 'org.hibernate.validator:hibernate-validator:7.0.2.Final'\n    implementation 'org.hibernate:hibernate-core:5.5.6.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n}    \n</code></pre>\n<p>but it's not working</p>\n"},{"tags":["java","spring","rest","sonarqube"],"owner":{"account_id":29860638,"reputation":1,"user_id":22884381,"display_name":"Jayb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699504161,"creation_date":1699504161,"question_id":77450470,"body_markdown":"Is this item only applicable for restful?\r\nDoes it not apply to page calls from MVC to get/post method?\r\n\r\nI&#39;m asking this question because it only applies to restful.\r\nI think that&#39;s only true of restful.\r\nPlease check it out and answer.\r\n","title":"Sonarqube Make Sure allowing safe and unsafe HTTP methods are safe here questions","body":"<p>Is this item only applicable for restful?\nDoes it not apply to page calls from MVC to get/post method?</p>\n<p>I'm asking this question because it only applies to restful.\nI think that's only true of restful.\nPlease check it out and answer.</p>\n"},{"tags":["java","hibernate","caching","quarkus"],"comments":[{"owner":{"account_id":277236,"reputation":2669,"user_id":571113,"accept_rate":77,"display_name":"bobby"},"score":0,"creation_date":1585128099,"post_id":60845892,"comment_id":107651830,"body_markdown":"can you show us your code?","body":"can you show us your code?"},{"owner":{"display_name":"user13121042"},"score":0,"creation_date":1585129131,"post_id":60845892,"comment_id":107652287,"body_markdown":"Question has been updated.","body":"Question has been updated."}],"answers":[{"comments":[{"owner":{"account_id":1522907,"reputation":1475,"user_id":1422098,"display_name":"Mr. Anderson"},"score":0,"creation_date":1613700831,"post_id":60987588,"comment_id":117163544,"body_markdown":"Worked for me too. And I&#39;m afraid of this need in the current Quarkus version 1.10.x. even trying to `evict` the cache through the EntityManager.\nThank&#39;s a lot for this answer!","body":"Worked for me too. And I&#39;m afraid of this need in the current Quarkus version 1.10.x. even trying to <code>evict</code> the cache through the EntityManager. Thank&#39;s a lot for this answer!"}],"tags":[],"owner":{"display_name":"user13121042"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585817306,"creation_date":1585817306,"answer_id":60987588,"question_id":60845892,"body_markdown":"The problem has a simple solution, add a transaction to the last find operation:\r\n\r\n    transaction.begin();\r\n    doc = Document.findById(uuid);\r\n    transaction.commit();\r\n\r\n","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>The problem has a simple solution, add a transaction to the last find operation:</p>\n\n<pre><code>transaction.begin();\ndoc = Document.findById(uuid);\ntransaction.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15660060,"reputation":11,"user_id":11299227,"display_name":"张鹏鹏"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699503889,"creation_date":1699503889,"answer_id":77450457,"question_id":60845892,"body_markdown":"There&#39;s cache in the same transaction. So The second find in the step 7 is just get value from cache. The session is bond to the transaction,so clear the session which you inject in is not working. You must get session from the panache, then run clear method before find method.I think start a new transaction is not essential about this problem.","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>There's cache in the same transaction. So The second find in the step 7 is just get value from cache. The session is bond to the transaction,so clear the session which you inject in is not working. You must get session from the panache, then run clear method before find method.I think start a new transaction is not essential about this problem.</p>\n"}],"owner":{"display_name":"user13121042"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699503889,"creation_date":1585127921,"question_id":60845892,"body_markdown":"I am new to quarkus and seem to be having a issue with the caching of hibernate in a unit test.\r\nThe test has the &#39;UserTransaction&#39; injected.\r\nThe test should check a database cleanup task. \r\n\r\nThis is what to I do:\r\n\r\n 1. create an entity\r\n 2. start an transaction\r\n 3. save the entity follwing the &quot;Active Record&quot; pattern with &#39;persistAndFlush&#39;\r\n 4. commit the transaction\r\n 5. try to fetch the entity from the database via &#39;find(id)&#39; to ensure it has been saved\r\n 6. run the cleanup task (the entity is deleted from the db)\r\n 7. try to fetch the entity from the database via &#39;find(id)&#39; again to ensure it has been deleted\r\n\r\n```\r\n    Document doc;\r\n    UUID uuid;\r\n    doc = new Document();\r\n    uuid = UUID.randomUUID();\r\n    doc.uuid = uuid;\r\n    doc.doc = new byte[0];\r\n    doc.createdAt = Instant.now();\r\n    transaction.begin();\r\n    doc.persistAndFlush();\r\n    transaction.commit();\r\n    doc = Document.findById(uuid);\r\n    Assertions.assertNotNull(doc);\r\n    TimeUnit.SECONDS.sleep(Long.parseLong(maxAge)+1);\r\n    scheduler.cleanUp();\r\n    doc = Document.findById(uuid);\r\n    Assertions.assertNull(doc);\r\n```\r\n\r\nStep 7 fails, because the &#39;find(id)&#39; returns the entity, although it is not in the db anymore.\r\n\r\nThis does NOT happen if I skip step 5! So it seems to be caching issue to me.\r\n\r\nI tried to Inject &#39;Session&#39;, &#39;SessionFactory&#39; and &#39;EntitiyManager&#39; to gain access to the current Hibernate Session, but none if this succeded.\r\n\r\nMaybe the whole approach lacks something I didn`t get?\r\nHow to make the world of entities match the database in a setup like mine?\r\n\r\nAny hints and ideas are welcome.\r\n\r\nTIA","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>I am new to quarkus and seem to be having a issue with the caching of hibernate in a unit test.\nThe test has the 'UserTransaction' injected.\nThe test should check a database cleanup task. </p>\n\n<p>This is what to I do:</p>\n\n<ol>\n<li>create an entity</li>\n<li>start an transaction</li>\n<li>save the entity follwing the \"Active Record\" pattern with 'persistAndFlush'</li>\n<li>commit the transaction</li>\n<li>try to fetch the entity from the database via 'find(id)' to ensure it has been saved</li>\n<li>run the cleanup task (the entity is deleted from the db)</li>\n<li>try to fetch the entity from the database via 'find(id)' again to ensure it has been deleted</li>\n</ol>\n\n<pre><code>    Document doc;\n    UUID uuid;\n    doc = new Document();\n    uuid = UUID.randomUUID();\n    doc.uuid = uuid;\n    doc.doc = new byte[0];\n    doc.createdAt = Instant.now();\n    transaction.begin();\n    doc.persistAndFlush();\n    transaction.commit();\n    doc = Document.findById(uuid);\n    Assertions.assertNotNull(doc);\n    TimeUnit.SECONDS.sleep(Long.parseLong(maxAge)+1);\n    scheduler.cleanUp();\n    doc = Document.findById(uuid);\n    Assertions.assertNull(doc);\n</code></pre>\n\n<p>Step 7 fails, because the 'find(id)' returns the entity, although it is not in the db anymore.</p>\n\n<p>This does NOT happen if I skip step 5! So it seems to be caching issue to me.</p>\n\n<p>I tried to Inject 'Session', 'SessionFactory' and 'EntitiyManager' to gain access to the current Hibernate Session, but none if this succeded.</p>\n\n<p>Maybe the whole approach lacks something I didn`t get?\nHow to make the world of entities match the database in a setup like mine?</p>\n\n<p>Any hints and ideas are welcome.</p>\n\n<p>TIA</p>\n"},{"tags":["java","azure","apache-spark","apache-spark-sql","delta-lake"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1699517137,"post_id":77450436,"comment_id":136542469,"body_markdown":"look into stack trace and search for &quot;caused by&quot; entries - your current error message is incomplete","body":"look into stack trace and search for &quot;caused by&quot; entries - your current error message is incomplete"}],"owner":{"account_id":3242692,"reputation":10516,"user_id":2735275,"accept_rate":45,"display_name":"Aditya Sethi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699503879,"creation_date":1699503487,"question_id":77450436,"body_markdown":"I am trying to read data from the data that is saved in my datalake azure portal. Here is the code that I am using \r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World New!&quot; );\r\n        \r\n        // Set your Azure Storage account name and key\r\n        String azureClientId = &quot;&lt;azure-client-id&gt;&quot;;\r\n        String azureClientSecret = &quot;&lt;azure-client-secret&gt;&quot;;\r\n        String azureStorageAccountName = &quot;&lt;storage-name&gt;&quot;;\r\n\r\n        // Create a Spark configuration\r\n        SparkConf conf = new SparkConf().setAppName(&quot;PSDeltaLakeDemoRG&quot;);\r\n        SparkSession spark = SparkSession.builder().config(conf).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\r\n\r\n        // // Set Azure Storage configuration\r\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\r\n        // spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;SharedKey&quot;);\r\n        // spark.conf().set(&quot;fs.azure.account.key.&quot; + azureStorageAccountName, azureStorageAccountKey);\r\n\r\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.id&quot;, azureClientId);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.secret&quot;, azureClientSecret);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.endpoint&quot;, &quot;https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/token&quot;);\r\n        spark.conf().set(&quot;spark.databricks.delta.preview.enabled&quot;, &quot;true&quot;);\r\n        // Define the Azure Storage container and file path\r\n        String containerName = &quot;&lt;container-name&gt;&quot;;\r\n        String filePath = &quot;mnt/datalake/Output/YellowTaxis.delta&quot;;\r\n\r\n        // Read data from Azure Storage into a DataFrame\r\n        String azurePath = &quot;abfss://&quot; + containerName + &quot;@&quot; + azureStorageAccountName + &quot;.dfs.core.windows.net/&quot; + filePath;\r\n        \r\n        Dataset&lt;Row&gt; data = spark.read().format(&quot;delta&quot;).load(azurePath);\r\n        // DeltaTable deltaTable = DeltaTable.forPath(spark, azurePath);\r\n        // Dataset&lt;Row&gt; data = deltaTable.toDF();\r\n        // Perform operations on the data (e.g., show the content)\r\n        data.show();\r\n\r\n        // Stop the Spark session\r\n        spark.stop();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThis is the error that I am getting\r\n\r\n```\r\nWARNING: All illegal access operations will be denied in a future release\r\nANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7ANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7Exception in thread &quot;main&quot; Unable to load key provider class.\r\n        at org.apache.hadoop.fs.azurebfs.AbfsConfiguration.getTokenProvider(AbfsConfiguration.java:477)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.initializeClient(AzureBlobFileSystemStore.java:814)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.&lt;init&gt;(AzureBlobFileSystemStore.java:149)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.initialize(AzureBlobFileSystem.java:108)\r\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\r\n        at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\r\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\r\n        at org.apache.spark.sql.delta.DeltaTableUtils$.findDeltaTableRoot(DeltaTable.scala:164)\r\n        at org.apache.spark.sql.delta.sources.DeltaDataSource$.parsePathIdentifier(DeltaDataSource.scala:267)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1$lzycompute(DeltaTableV2.scala:67)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath$lzycompute(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\r\n        at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\r\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:346)\r\n        at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\r\n        at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\r\n        at scala.Option.getOrElse(Option.scala:189)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:186)\r\n        at com.example.App.main(App.java:48)\r\n```\r\n\r\nDependencies that I am using is mentioned below.\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt; &lt;!-- Use the appropriate Spark version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n        &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt; &lt;!-- Use the appropriate Delta Lake version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- Use the appropriate Hadoop Azure version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; \r\n```\r\n\r\nCan someone please suggest if I am missing anything.\r\n\r\nNote: I am able to access same data from the workspace that i have created in azure portal using spark and same configuration details.","title":"Azure deltalake read from Java","body":"<p>I am trying to read data from the data that is saved in my datalake azure portal. Here is the code that I am using</p>\n<pre><code>package com.example;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World New!&quot; );\n        \n        // Set your Azure Storage account name and key\n        String azureClientId = &quot;&lt;azure-client-id&gt;&quot;;\n        String azureClientSecret = &quot;&lt;azure-client-secret&gt;&quot;;\n        String azureStorageAccountName = &quot;&lt;storage-name&gt;&quot;;\n\n        // Create a Spark configuration\n        SparkConf conf = new SparkConf().setAppName(&quot;PSDeltaLakeDemoRG&quot;);\n        SparkSession spark = SparkSession.builder().config(conf).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\n\n        // // Set Azure Storage configuration\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\n        // spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;SharedKey&quot;);\n        // spark.conf().set(&quot;fs.azure.account.key.&quot; + azureStorageAccountName, azureStorageAccountKey);\n\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\n        spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\n        spark.conf().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider&quot;);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.id&quot;, azureClientId);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.secret&quot;, azureClientSecret);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.endpoint&quot;, &quot;https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/token&quot;);\n        spark.conf().set(&quot;spark.databricks.delta.preview.enabled&quot;, &quot;true&quot;);\n        // Define the Azure Storage container and file path\n        String containerName = &quot;&lt;container-name&gt;&quot;;\n        String filePath = &quot;mnt/datalake/Output/YellowTaxis.delta&quot;;\n\n        // Read data from Azure Storage into a DataFrame\n        String azurePath = &quot;abfss://&quot; + containerName + &quot;@&quot; + azureStorageAccountName + &quot;.dfs.core.windows.net/&quot; + filePath;\n        \n        Dataset&lt;Row&gt; data = spark.read().format(&quot;delta&quot;).load(azurePath);\n        // DeltaTable deltaTable = DeltaTable.forPath(spark, azurePath);\n        // Dataset&lt;Row&gt; data = deltaTable.toDF();\n        // Perform operations on the data (e.g., show the content)\n        data.show();\n\n        // Stop the Spark session\n        spark.stop();\n    }\n}\n\n\n</code></pre>\n<p>This is the error that I am getting</p>\n<pre><code>WARNING: All illegal access operations will be denied in a future release\nANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7ANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7Exception in thread &quot;main&quot; Unable to load key provider class.\n        at org.apache.hadoop.fs.azurebfs.AbfsConfiguration.getTokenProvider(AbfsConfiguration.java:477)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.initializeClient(AzureBlobFileSystemStore.java:814)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.&lt;init&gt;(AzureBlobFileSystemStore.java:149)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.initialize(AzureBlobFileSystem.java:108)\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\n        at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\n        at org.apache.spark.sql.delta.DeltaTableUtils$.findDeltaTableRoot(DeltaTable.scala:164)\n        at org.apache.spark.sql.delta.sources.DeltaDataSource$.parsePathIdentifier(DeltaDataSource.scala:267)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1$lzycompute(DeltaTableV2.scala:67)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath$lzycompute(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\n        at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:346)\n        at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\n        at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\n        at scala.Option.getOrElse(Option.scala:189)\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:186)\n        at com.example.App.main(App.java:48)\n</code></pre>\n<p>Dependencies that I am using is mentioned below.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt; &lt;!-- Use the appropriate Spark version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.delta&lt;/groupId&gt;\n        &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt; &lt;!-- Use the appropriate Delta Lake version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n      &lt;version&gt;3.5.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- Use the appropriate Hadoop Azure version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; \n</code></pre>\n<p>Can someone please suggest if I am missing anything.</p>\n<p>Note: I am able to access same data from the workspace that i have created in azure portal using spark and same configuration details.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1699450572,"post_id":77445953,"comment_id":136532581,"body_markdown":"When you say &quot;`getContacts()` is empty&quot;, what do you mean? Is it an empty list? an empty optional? an empty stream? The first optional is likely not empty but contains one element (an empty collection for example). `Optional.of(Optional.empty())` is not empty. It is a valid optional that contains one element (the element being an empty optional).","body":"When you say &quot;<code>getContacts()</code> is empty&quot;, what do you mean? Is it an empty list? an empty optional? an empty stream? The first optional is likely not empty but contains one element (an empty collection for example). <code>Optional.of(Optional.empty())</code> is not empty. It is a valid optional that contains one element (the element being an empty optional)."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1699450767,"post_id":77445953,"comment_id":136532620,"body_markdown":"In A, when you call findAny, you have a Stream containing 1 element, an empty list. That empty list is mapped to the string &quot;withAnyVal&quot;.","body":"In A, when you call findAny, you have a Stream containing 1 element, an empty list. That empty list is mapped to the string &quot;withAnyVal&quot;."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1699451291,"post_id":77445953,"comment_id":136532770,"body_markdown":"What is the return type of `Detail#getContacts()`?","body":"What is the return type of <code>Detail#getContacts()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"score":0,"creation_date":1699504463,"post_id":77446164,"comment_id":136541155,"body_markdown":"thank you! your explanation and reference helped me understand the Optional.stream","body":"thank you! your explanation and reference helped me understand the Optional.stream"}],"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699452942,"creation_date":1699451778,"answer_id":77446164,"question_id":77445953,"body_markdown":"`Optional.of(ArrayList&lt;&gt;)` will return `Optional&lt;ArrayList&lt;Object&gt;&gt;`.\r\n\r\nRefer: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()\r\n\r\n`Optional.stream()` - will return a stream of object if it exists. So, even if the list is empty, stream() will return a stream of empty list.\r\n\r\n`findAny()` will return that list.\r\n\r\nChange that `map(o -&gt; &quot;withAnyVal&quot;)` to `map(o -&gt; &quot;withAnyVal --&gt; &quot; + o)` to see what you are getting as `o`. You should get `[]` (empty list) as found any object.\r\n\r\n`flatMap` results in making that stream of lists an empty stream (as the list element in the stream is empty, so flatMap results in empty stream).\r\nWithout `flatMap`, the stream has an empty list as an element.\r\n\r\nCompare it with this:\r\n\r\n```\r\nint[][] ary = { {} };\r\nSystem.out.println(ary.length);\r\n```\r\n\r\nThis will return `1`. The array is not empty. The one element inside that array is an array and that array is empty.\r\nIf you flatten this array, you get `{}` - and hence 0 length. That&#39;s what `flatMap` does. After flattening, `findAny()` won&#39;t get anything.\r\nWithout `flatMap`, `findAny()` will get that array as it is the only element in the outer list.\r\n\r\n","title":"Java findAny with Optional","body":"<p><code>Optional.of(ArrayList&lt;&gt;)</code> will return <code>Optional&lt;ArrayList&lt;Object&gt;&gt;</code>.</p>\n<p>Refer: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()</a></p>\n<p><code>Optional.stream()</code> - will return a stream of object if it exists. So, even if the list is empty, stream() will return a stream of empty list.</p>\n<p><code>findAny()</code> will return that list.</p>\n<p>Change that <code>map(o -&gt; &quot;withAnyVal&quot;)</code> to <code>map(o -&gt; &quot;withAnyVal --&gt; &quot; + o)</code> to see what you are getting as <code>o</code>. You should get <code>[]</code> (empty list) as found any object.</p>\n<p><code>flatMap</code> results in making that stream of lists an empty stream (as the list element in the stream is empty, so flatMap results in empty stream).\nWithout <code>flatMap</code>, the stream has an empty list as an element.</p>\n<p>Compare it with this:</p>\n<pre><code>int[][] ary = { {} };\nSystem.out.println(ary.length);\n</code></pre>\n<p>This will return <code>1</code>. The array is not empty. The one element inside that array is an array and that array is empty.\nIf you flatten this array, you get <code>{}</code> - and hence 0 length. That's what <code>flatMap</code> does. After flattening, <code>findAny()</code> won't get anything.\nWithout <code>flatMap</code>, <code>findAny()</code> will get that array as it is the only element in the outer list.</p>\n"}],"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1699601728,"accepted_answer_id":77446164,"answer_count":1,"score":-3,"last_activity_date":1699503799,"creation_date":1699450316,"question_id":77445953,"body_markdown":"```\r\nvar a = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\r\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\r\n    .findAny() // Optional&lt;Set&lt;String&gt;&gt;\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n```\r\nvar b = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\r\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\r\n    .flatMap(Collection::stream) // Stream&lt;String&gt;\r\n    .findAny() // Optional&lt;String&gt;\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n```\r\nvar c = Optional.of(new Detail())\r\n    .map(Detail::getContacts)\r\n    .stream()\r\n    .flatMap(Collection::stream)\r\n    .findAny()\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n\r\nGiven: `getContacts()` is an empty collection.\r\n\r\nQuestion:\r\nWhy does the first one return `&quot;withAnyVal&quot;`? Shouldn&#39;t it fail in `findAny` and go to `orElse` which returns null?\r\n\r\nOnly b and c give the correct values `null`.\r\n","title":"Java findAny with Optional","body":"<pre><code>var a = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\n    .findAny() // Optional&lt;Set&lt;String&gt;&gt;\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<pre><code>var b = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\n    .flatMap(Collection::stream) // Stream&lt;String&gt;\n    .findAny() // Optional&lt;String&gt;\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<pre><code>var c = Optional.of(new Detail())\n    .map(Detail::getContacts)\n    .stream()\n    .flatMap(Collection::stream)\n    .findAny()\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<p>Given: <code>getContacts()</code> is an empty collection.</p>\n<p>Question:\nWhy does the first one return <code>&quot;withAnyVal&quot;</code>? Shouldn't it fail in <code>findAny</code> and go to <code>orElse</code> which returns null?</p>\n<p>Only b and c give the correct values <code>null</code>.</p>\n"},{"tags":["python","java","kotlin","kivy"],"owner":{"account_id":29860472,"reputation":1,"user_id":22884245,"display_name":"Fluid Homer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699503179,"creation_date":1699503179,"question_id":77450419,"body_markdown":"I have a Kivy program main.py in an appropriate folder right now. I want to just include the code in an Android Studio gradle package (with empty activity) along with an appropriate Java/Kotlin wrapper than runs the Kivy program. How to do so?\r\nMy code looks something like this.\r\n\r\n```\r\n   import org.kivy.android.PythonActivity;\r\n   import android.os.Bundle;\r\n\r\n   public class KivyWrapper extends PythonActivity {\r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n         super.loadApp(&quot;main.py&quot;); // Load your Kivy Python code here\r\n      }\r\n   }\r\n```\r\n\r\nGot the following error:\r\n\r\n```\r\n   Unable to resolve import org.kivy.android.PythonActivity;\r\n```","title":"How can I inculcate a Kivy-powered Python activity in the gradle file in Android Studio?","body":"<p>I have a Kivy program main.py in an appropriate folder right now. I want to just include the code in an Android Studio gradle package (with empty activity) along with an appropriate Java/Kotlin wrapper than runs the Kivy program. How to do so?\nMy code looks something like this.</p>\n<pre><code>   import org.kivy.android.PythonActivity;\n   import android.os.Bundle;\n\n   public class KivyWrapper extends PythonActivity {\n      @Override\n      public void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         super.loadApp(&quot;main.py&quot;); // Load your Kivy Python code here\n      }\n   }\n</code></pre>\n<p>Got the following error:</p>\n<pre><code>   Unable to resolve import org.kivy.android.PythonActivity;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1698609313,"post_id":77384172,"comment_id":136424282,"body_markdown":"The first problem in your question is caused because you have a duplicate mapping of both `cusotmer_id` and `product_id` in the `Order` entity. You use those columns for both mapping the ID directly, and as a reference column. This can lead to conflicts (for example, what should Hibernate do if your `customerId` is `1`, but your `customer` refers to a customer with ID `2`?). So that&#39;s why you need to mark one of the two as &quot;readonly&quot; so there is one source of truth. That&quot;s what happens if you add `insertable = false`  and `updatable = false`.","body":"The first problem in your question is caused because you have a duplicate mapping of both <code>cusotmer_id</code> and <code>product_id</code> in the <code>Order</code> entity. You use those columns for both mapping the ID directly, and as a reference column. This can lead to conflicts (for example, what should Hibernate do if your <code>customerId</code> is <code>1</code>, but your <code>customer</code> refers to a customer with ID <code>2</code>?). So that&#39;s why you need to mark one of the two as &quot;readonly&quot; so there is one source of truth. That&quot;s what happens if you add <code>insertable = false</code>  and <code>updatable = false</code>."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1698609433,"post_id":77384172,"comment_id":136424296,"body_markdown":"For your last paragraph, there isn&#39;t enough information in the question to solve that. Please edit your question to show an example of how you use the `insertable` and `updatable` parameter and how you are creating your entity. Because normally, this should work.","body":"For your last paragraph, there isn&#39;t enough information in the question to solve that. Please edit your question to show an example of how you use the <code>insertable</code> and <code>updatable</code> parameter and how you are creating your entity. Because normally, this should work."},{"owner":{"account_id":29780357,"reputation":11,"user_id":22823147,"display_name":"Kobkit Ruangsuriyakij"},"score":0,"creation_date":1698640474,"post_id":77384172,"comment_id":136426470,"body_markdown":"Sorry for unclear information. I&#39;ve already adding how I use insertable and updatable and how I create entity.","body":"Sorry for unclear information. I&#39;ve already adding how I use insertable and updatable and how I create entity."}],"owner":{"account_id":29780357,"reputation":11,"user_id":22823147,"display_name":"Kobkit Ruangsuriyakij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699501217,"creation_date":1698596467,"question_id":77384172,"body_markdown":"In my project I need to access and save properties form order ( bridge table of customer and product) so I decided to create my custom bridge and use @OneToMany and @ManyToOne instead of using @ManyToMany. However with join column and column that I create to receive productId and customerId to save to database is mapped to the same column it&#39;s causing multiple mapped column error how can I save an object to database and still join these tables. should I use @ManyToMany ?\r\n\r\nOrder class : \r\n```\r\n@Column(name = &quot;customer_id&quot;)\r\nprivate int customerId;\r\n@Column(name = &quot;product_id&quot;)\r\nprivate int productId;\r\n \r\nRest of attributes ...\r\n \r\n@ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n \r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;`\r\n\r\n```\r\nCustomer class : \r\n```\r\nRest of attributes ...\r\n@OneToMany(mappedBy = &quot;customer&quot;,\r\n            fetch = FetchType.LAZY,\r\n            cascade = {CascadeType.REMOVE,CascadeType.REFRESH})\r\nprivate List&lt;Order&gt; orders;\r\n```\r\n\r\nerror : Column &#39;customer_id&#39; is duplicated in mapping for entity (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)\r\n\r\nPs. I assign customer_id and product_id in table orders to be fk\r\n\r\nI try to use @Column(insertable=false, updatable=false) that IntelliJ said \r\n```\r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;product_id&quot;,insertable=false,updatable = false)\r\n    private Product product;\r\n\r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;customer_id&quot;,insertable=false,updatable = false)\r\n    private Customer customer;\r\n```\r\nbut it doesn&#39;t work and facing error like this \r\nerror : Cannot add or update a child row: a foreign key constraint fails (`stockdb`.`orders`, CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)) \r\n\r\nI create entity and try to save it from CommandLineRunner like this :\r\n```\r\n@Bean\r\n\tpublic CommandLineRunner commandLineRunner(CustomerService customerService, OrderService orderService, ProductService productService) {\r\n\t\treturn runner -&gt; {\r\n\t\t\tsaveCustomer(customerService);\r\n\t\t\tsaveOrder(orderService,customerService,productService);\r\n\t\t};\r\n\t}\r\n\r\n\tprivate void saveOrder(OrderService orderService, CustomerService customerService, ProductService productService) {\r\n\t\torderService.saveOrder(new Order(2,1,200,100,&quot;home&quot;,LocalDateTime.now()));\r\n\t}\r\n\r\n\tprivate void saveCustomer(CustomerService customerService) {\r\n\t\tcustomerService.saveCustomer(new Customer(&quot;name&quot;,&quot;0000000000&quot;));\r\n\t}\r\n\r\n\r\n}\r\n```","title":"Duplicated mapping for entity java spring boot JPA","body":"<p>In my project I need to access and save properties form order ( bridge table of customer and product) so I decided to create my custom bridge and use @OneToMany and @ManyToOne instead of using @ManyToMany. However with join column and column that I create to receive productId and customerId to save to database is mapped to the same column it's causing multiple mapped column error how can I save an object to database and still join these tables. should I use @ManyToMany ?</p>\n<p>Order class :</p>\n<pre><code>@Column(name = &quot;customer_id&quot;)\nprivate int customerId;\n@Column(name = &quot;product_id&quot;)\nprivate int productId;\n \nRest of attributes ...\n \n@ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n \n    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;`\n\n</code></pre>\n<p>Customer class :</p>\n<pre><code>Rest of attributes ...\n@OneToMany(mappedBy = &quot;customer&quot;,\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.REMOVE,CascadeType.REFRESH})\nprivate List&lt;Order&gt; orders;\n</code></pre>\n<p>error : Column 'customer_id' is duplicated in mapping for entity (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</p>\n<p>Ps. I assign customer_id and product_id in table orders to be fk</p>\n<p>I try to use @Column(insertable=false, updatable=false) that IntelliJ said</p>\n<pre><code>    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;product_id&quot;,insertable=false,updatable = false)\n    private Product product;\n\n    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;customer_id&quot;,insertable=false,updatable = false)\n    private Customer customer;\n</code></pre>\n<p>but it doesn't work and facing error like this\nerror : Cannot add or update a child row: a foreign key constraint fails (<code>stockdb</code>.<code>orders</code>, CONSTRAINT <code>orders_ibfk_1</code> FOREIGN KEY (<code>product_id</code>) REFERENCES <code>product</code> (<code>id</code>))</p>\n<p>I create entity and try to save it from CommandLineRunner like this :</p>\n<pre><code>@Bean\n    public CommandLineRunner commandLineRunner(CustomerService customerService, OrderService orderService, ProductService productService) {\n        return runner -&gt; {\n            saveCustomer(customerService);\n            saveOrder(orderService,customerService,productService);\n        };\n    }\n\n    private void saveOrder(OrderService orderService, CustomerService customerService, ProductService productService) {\n        orderService.saveOrder(new Order(2,1,200,100,&quot;home&quot;,LocalDateTime.now()));\n    }\n\n    private void saveCustomer(CustomerService customerService) {\n        customerService.saveCustomer(new Customer(&quot;name&quot;,&quot;0000000000&quot;));\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","jframe","game-development"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699500956,"post_id":77450302,"comment_id":136540874,"body_markdown":"Your own code is throwing the darn exception! The solution is not to do this. SMH","body":"Your own code is throwing the darn exception! The solution is not to do this. SMH"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699501146,"post_id":77450302,"comment_id":136540895,"body_markdown":"Simplified, you have method code like so: `public void mouseEntered(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }` Remove the `throw new ....` and replace it with code that you want to run instead.","body":"Simplified, you have method code like so: <code>public void mouseEntered(MouseEvent e) {             throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);          }</code> Remove the <code>throw new ....</code> and replace it with code that you want to run instead."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699501211,"post_id":77450302,"comment_id":136540902,"body_markdown":"Everywhere you have  `throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);`  delete that line. Replace it with something like `System.err.println (&quot;Foo not implemented yet.&quot;);` followed by a line that has `return bar;`. Substitute the actual method name for `Foo` and change `bar` to something that is compatible with the `return` type of the method.","body":"Everywhere you have  <code>throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);</code>  delete that line. Replace it with something like <code>System.err.println (&quot;Foo not implemented yet.&quot;);</code> followed by a line that has <code>return bar;</code>. Substitute the actual method name for <code>Foo</code> and change <code>bar</code> to something that is compatible with the <code>return</code> type of the method."}],"owner":{"account_id":29860310,"reputation":1,"user_id":22884121,"display_name":"Wieran100"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699501072,"answer_count":0,"score":-1,"last_activity_date":1699500819,"creation_date":1699500642,"question_id":77450302,"body_markdown":"My program is a game of Connect 4 but I&#39;m trying to implement the minmax algorithm so I can calculate the best moves to create a bot that I can go against. The DrawGrid class is what actually creates the board and then the Connect4MinMax class contains the algorithm. I want to know why I keep getting this error when I try and run my program and how I can fix it.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.util.Arrays;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\n\r\npublic class DrawGrid1 {\r\n    public static void main(String[] args) {\r\n    Dimension dimension = new Dimension(1920, 1080);\r\n    new DrawGrid1(dimension);\r\n    }\r\n    private JFrame frame;\r\n    \r\n    public DrawGrid1(Dimension dimension) {\r\n        frame = new JFrame(&quot;Connect 4&quot;);\r\n        frame.setSize(dimension);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setPreferredSize(frame.getSize());\r\n        frame.add(new MultiDraw(dimension));\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static class MultiDraw extends JPanel implements MouseListener {\r\n        int startX = 10;\r\n        int startY = 10;\r\n        int cellSize = 120;\r\n        int turn = 2;\r\n        int rows = 8;\r\n        int cols = 8;\r\n        boolean winner = false;\r\n        String ccolor = &quot;&quot;;\r\n\r\n        Color[][] grid = new Color[rows][cols];\r\n\r\n        public MultiDraw(Dimension dimension) {\r\n            setSize(dimension);\r\n            setPreferredSize(dimension);\r\n            addMouseListener(this);\r\n            int x = 0;\r\n            for (int row = 0; row &lt; grid.length; row++) {\r\n                for (int col = 0; col &lt; grid[0].length; col++) {\r\n                    Color c;\r\n                    if (x % 2 == 0) {\r\n                        grid[row][col] = Color.LIGHT_GRAY;\r\n                    } else {\r\n                        grid[row][col] = Color.LIGHT_GRAY;\r\n                    }\r\n                    x++;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            Dimension d = getSize();\r\n            g2.setColor(new Color(80, 0, 60));\r\n            g2.fillRect(0, 0, d.width, d.height);\r\n            startX = 0;\r\n            startY = 0;\r\n\r\n            for (int row = 0; row &lt; grid.length; row++) {\r\n                for (int col = 0; col &lt; grid[0].length; col++) {\r\n                    g2.setColor(grid[row][col]);\r\n                    g2.fillOval(startX, startY, cellSize, cellSize);\r\n                    g2.setColor(Color.black);\r\n                    g2.drawOval(startX, startY, cellSize, cellSize);\r\n                    startX += cellSize;\r\n                }\r\n                startY += cellSize;\r\n                startX = 0;\r\n            }\r\n\r\n            g2.setColor(new Color(255, 255, 255));\r\n            if (winner == false) {\r\n                if (turn % 2 == 0)\r\n                    g2.drawString(&quot;Red&#39;s Turn&quot;, 1000, 20);\r\n                else\r\n                    g2.drawString(&quot;Yellow&#39;s Turn&quot;, 1000, 20);\r\n            } else {\r\n                g2.drawString(&quot;WINNER - &quot; + ccolor, 1000, 20);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n            if (winner == false) {\r\n                if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\r\n                    int clickedRow = y / cellSize;\r\n                    int clickedCol = x / cellSize;\r\n\r\n                    clickedRow = dropP(clickedCol);\r\n\r\n                    if (clickedRow != -1) {\r\n\r\n                        if (turn % 2 == 0) {\r\n                            grid[clickedRow][clickedCol] = Color.red;\r\n                            ccolor = &quot;RED&quot;;\r\n                        } else {\r\n                            grid[clickedRow][clickedCol] = Color.yellow;\r\n                            ccolor = &quot;Yellow&quot;;\r\n                        }\r\n                        turn++;\r\n                        if (checkForWinner(clickedCol, clickedRow, grid[clickedRow][clickedCol])) {\r\n                        winner = true;\r\n                    }\r\n                }\r\n            }\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    public int dropP(int cc) {\r\n        int cr = grid.length - 1;\r\n\r\n        while (cr &gt;= 0) {\r\n\r\n            if (grid[cr][cc].equals(Color.LIGHT_GRAY)) {\r\n                return cr;\r\n            }\r\n            cr--;\r\n        }\r\n\r\n        return -1;\r\n\r\n    }\r\n\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        private boolean checkForWinner(int clickedCol, int clickedRow, Color color) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n\r\n\r\npublic class Connect4MinMax extends DrawGrid1.MultiDraw {\r\n    private int currentPlayer = 1;\r\n\r\n    public Connect4MinMax(Dimension dimension) {\r\n        super(dimension);\r\n    }\r\n\r\n    public int getBestMove(int[][] board, int player) {\r\n        currentPlayer = player;\r\n        return minimax(board, 4, player, true);\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        if (!winner &amp;&amp; currentPlayer == 1) {\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n            if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\r\n                int clickedCol = x / cellSize;\r\n                int row = dropPiece(clickedCol, currentPlayer);\r\n\r\n                if (row != -1) {\r\n                    grid[row][clickedCol] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\r\n                    currentPlayer = 3 - currentPlayer; \r\n\r\n                    if (checkForWinner(clickedCol, row, grid[row][clickedCol])) {\r\n                        winner = true;\r\n                    } else {\r\n                        int bestMove = getBestMove(convertGridToBoard(grid), currentPlayer);\r\n                        int bestRow = dropPiece(bestMove, currentPlayer);\r\n                        grid[bestRow][bestMove] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\r\n                        currentPlayer = 3 - currentPlayer; \r\n                        if (checkForWinner(bestMove, bestRow, grid[bestRow][bestMove])) {\r\n                            winner = true;\r\n                        }\r\n                    }\r\n                }\r\n                repaint();\r\n            }\r\n        }\r\n    }\r\n\r\n    private int[][] convertGridToBoard(Color[][] grid) {\r\n        int[][] board = new int[grid.length][grid[0].length];\r\n        for (int row = 0; row &lt; grid.length; row++) {\r\n            for (int col = 0; col &lt; grid[0].length; col++) {\r\n                if (grid[row][col] == Color.RED) {\r\n                    board[row][col] = 1;\r\n                } else if (grid[row][col] == Color.YELLOW) {\r\n                    board[row][col] = 2;\r\n                } else {\r\n                    board[row][col] = 0;\r\n                }\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n\r\n    private int dropPiece(int col, int player) {\r\n        int row = grid.length - 1;\r\n\r\n        while (row &gt;= 0) {\r\n            if (grid[row][col] == Color.LIGHT_GRAY) {\r\n                return row;\r\n            }\r\n            row--;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public int minimax(int[][] board, int depth, int player, boolean maximizingPlayer) {\r\n        if (depth == 0 || isGameOver(board)) {\r\n            int score = evaluate(board);\r\n            System.out.println(&quot;Chosen Move: &quot; + (board[0].length / 2) + &quot;, Score: &quot; + score);\r\n            return score;\r\n        }\r\n\r\n        int[] validMoves = getValidMoves(board);\r\n        int bestMove = -1;\r\n        int bestScore = maximizingPlayer ? Integer.MIN_VALUE : Integer.MAX_VALUE;\r\n\r\n        for (int move : validMoves) {\r\n            int[][] newBoard = makeMove(board, move, player);\r\n            int score = minimax(newBoard, depth - 1, 3 - player, !maximizingPlayer);\r\n\r\n            if (maximizingPlayer) {\r\n            if (score &gt; bestScore) {\r\n                bestScore = score;\r\n                bestMove = move;\r\n            }\r\n        } else {\r\n            if (score &lt; bestScore) {\r\n                bestScore = score;\r\n                bestMove = move;\r\n            }\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Chosen Move: &quot; + bestMove + &quot;, Score: &quot; + bestScore);\r\n    return bestScore;\r\n}\r\n\r\n    private boolean isGameOver(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);     }\r\n\r\n    private int evaluate(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }\r\n\r\n    private int[] getValidMoves(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }\r\n\r\n    private int[][] makeMove(int[][] board, int move, int player) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }    \r\n\r\n            private boolean checkForWinner(int bestMove, int bestRow, Color color) {\r\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**The error I keep getting is:** \r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: Not supported yet.\r\n\tat DrawGrid1$MultiDraw.mouseEntered(DrawGrid1.java:150)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6625)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6381)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEnterExit(Container.java:4726)\r\n\tat java.desktop/java.awt.LightweightDispatcher.trackMouseEnterExit(Container.java:4704)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4555)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```","title":"Whenever I run the main function, I receive an error and I don&#39;t know how I should deal with it","body":"<p>My program is a game of Connect 4 but I'm trying to implement the minmax algorithm so I can calculate the best moves to create a bot that I can go against. The DrawGrid class is what actually creates the board and then the Connect4MinMax class contains the algorithm. I want to know why I keep getting this error when I try and run my program and how I can fix it.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.util.Arrays;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\n\npublic class DrawGrid1 {\n    public static void main(String[] args) {\n    Dimension dimension = new Dimension(1920, 1080);\n    new DrawGrid1(dimension);\n    }\n    private JFrame frame;\n    \n    public DrawGrid1(Dimension dimension) {\n        frame = new JFrame(&quot;Connect 4&quot;);\n        frame.setSize(dimension);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setPreferredSize(frame.getSize());\n        frame.add(new MultiDraw(dimension));\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static class MultiDraw extends JPanel implements MouseListener {\n        int startX = 10;\n        int startY = 10;\n        int cellSize = 120;\n        int turn = 2;\n        int rows = 8;\n        int cols = 8;\n        boolean winner = false;\n        String ccolor = &quot;&quot;;\n\n        Color[][] grid = new Color[rows][cols];\n\n        public MultiDraw(Dimension dimension) {\n            setSize(dimension);\n            setPreferredSize(dimension);\n            addMouseListener(this);\n            int x = 0;\n            for (int row = 0; row &lt; grid.length; row++) {\n                for (int col = 0; col &lt; grid[0].length; col++) {\n                    Color c;\n                    if (x % 2 == 0) {\n                        grid[row][col] = Color.LIGHT_GRAY;\n                    } else {\n                        grid[row][col] = Color.LIGHT_GRAY;\n                    }\n                    x++;\n                }\n            }\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g;\n            Dimension d = getSize();\n            g2.setColor(new Color(80, 0, 60));\n            g2.fillRect(0, 0, d.width, d.height);\n            startX = 0;\n            startY = 0;\n\n            for (int row = 0; row &lt; grid.length; row++) {\n                for (int col = 0; col &lt; grid[0].length; col++) {\n                    g2.setColor(grid[row][col]);\n                    g2.fillOval(startX, startY, cellSize, cellSize);\n                    g2.setColor(Color.black);\n                    g2.drawOval(startX, startY, cellSize, cellSize);\n                    startX += cellSize;\n                }\n                startY += cellSize;\n                startX = 0;\n            }\n\n            g2.setColor(new Color(255, 255, 255));\n            if (winner == false) {\n                if (turn % 2 == 0)\n                    g2.drawString(&quot;Red's Turn&quot;, 1000, 20);\n                else\n                    g2.drawString(&quot;Yellow's Turn&quot;, 1000, 20);\n            } else {\n                g2.drawString(&quot;WINNER - &quot; + ccolor, 1000, 20);\n            }\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            int x = e.getX();\n            int y = e.getY();\n            if (winner == false) {\n                if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\n                    int clickedRow = y / cellSize;\n                    int clickedCol = x / cellSize;\n\n                    clickedRow = dropP(clickedCol);\n\n                    if (clickedRow != -1) {\n\n                        if (turn % 2 == 0) {\n                            grid[clickedRow][clickedCol] = Color.red;\n                            ccolor = &quot;RED&quot;;\n                        } else {\n                            grid[clickedRow][clickedCol] = Color.yellow;\n                            ccolor = &quot;Yellow&quot;;\n                        }\n                        turn++;\n                        if (checkForWinner(clickedCol, clickedRow, grid[clickedRow][clickedCol])) {\n                        winner = true;\n                    }\n                }\n            }\n            repaint();\n        }\n    }\n\n    public int dropP(int cc) {\n        int cr = grid.length - 1;\n\n        while (cr &gt;= 0) {\n\n            if (grid[cr][cc].equals(Color.LIGHT_GRAY)) {\n                return cr;\n            }\n            cr--;\n        }\n\n        return -1;\n\n    }\n\n\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        private boolean checkForWinner(int clickedCol, int clickedRow, Color color) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n\n\npublic class Connect4MinMax extends DrawGrid1.MultiDraw {\n    private int currentPlayer = 1;\n\n    public Connect4MinMax(Dimension dimension) {\n        super(dimension);\n    }\n\n    public int getBestMove(int[][] board, int player) {\n        currentPlayer = player;\n        return minimax(board, 4, player, true);\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        if (!winner &amp;&amp; currentPlayer == 1) {\n            int x = e.getX();\n            int y = e.getY();\n            if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\n                int clickedCol = x / cellSize;\n                int row = dropPiece(clickedCol, currentPlayer);\n\n                if (row != -1) {\n                    grid[row][clickedCol] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\n                    currentPlayer = 3 - currentPlayer; \n\n                    if (checkForWinner(clickedCol, row, grid[row][clickedCol])) {\n                        winner = true;\n                    } else {\n                        int bestMove = getBestMove(convertGridToBoard(grid), currentPlayer);\n                        int bestRow = dropPiece(bestMove, currentPlayer);\n                        grid[bestRow][bestMove] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\n                        currentPlayer = 3 - currentPlayer; \n                        if (checkForWinner(bestMove, bestRow, grid[bestRow][bestMove])) {\n                            winner = true;\n                        }\n                    }\n                }\n                repaint();\n            }\n        }\n    }\n\n    private int[][] convertGridToBoard(Color[][] grid) {\n        int[][] board = new int[grid.length][grid[0].length];\n        for (int row = 0; row &lt; grid.length; row++) {\n            for (int col = 0; col &lt; grid[0].length; col++) {\n                if (grid[row][col] == Color.RED) {\n                    board[row][col] = 1;\n                } else if (grid[row][col] == Color.YELLOW) {\n                    board[row][col] = 2;\n                } else {\n                    board[row][col] = 0;\n                }\n            }\n        }\n        return board;\n    }\n\n    private int dropPiece(int col, int player) {\n        int row = grid.length - 1;\n\n        while (row &gt;= 0) {\n            if (grid[row][col] == Color.LIGHT_GRAY) {\n                return row;\n            }\n            row--;\n        }\n\n        return -1;\n    }\n\n    public int minimax(int[][] board, int depth, int player, boolean maximizingPlayer) {\n        if (depth == 0 || isGameOver(board)) {\n            int score = evaluate(board);\n            System.out.println(&quot;Chosen Move: &quot; + (board[0].length / 2) + &quot;, Score: &quot; + score);\n            return score;\n        }\n\n        int[] validMoves = getValidMoves(board);\n        int bestMove = -1;\n        int bestScore = maximizingPlayer ? Integer.MIN_VALUE : Integer.MAX_VALUE;\n\n        for (int move : validMoves) {\n            int[][] newBoard = makeMove(board, move, player);\n            int score = minimax(newBoard, depth - 1, 3 - player, !maximizingPlayer);\n\n            if (maximizingPlayer) {\n            if (score &gt; bestScore) {\n                bestScore = score;\n                bestMove = move;\n            }\n        } else {\n            if (score &lt; bestScore) {\n                bestScore = score;\n                bestMove = move;\n            }\n        }\n    }\n\n    System.out.println(&quot;Chosen Move: &quot; + bestMove + &quot;, Score: &quot; + bestScore);\n    return bestScore;\n}\n\n    private boolean isGameOver(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);     }\n\n    private int evaluate(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }\n\n    private int[] getValidMoves(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }\n\n    private int[][] makeMove(int[][] board, int move, int player) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }    \n\n            private boolean checkForWinner(int bestMove, int bestRow, Color color) {\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>The error I keep getting is:</strong></p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: Not supported yet.\n    at DrawGrid1$MultiDraw.mouseEntered(DrawGrid1.java:150)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6625)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6381)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEnterExit(Container.java:4726)\n    at java.desktop/java.awt.LightweightDispatcher.trackMouseEnterExit(Container.java:4704)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4555)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1699518730,"post_id":77449560,"comment_id":136542778,"body_markdown":"This doesn’t answer the question at all.","body":"This doesn’t answer the question at all."}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699485824,"creation_date":1699485824,"answer_id":77449560,"question_id":77449454,"body_markdown":"A Spring library isn’t an issue, and one of the most common ways is to create a starter package that uses auto configuration. See [this](https://www.baeldung.com/spring-boot-custom-starter) and [this](https://docs.spring.io/spring-boot/docs/1.5.11.RELEASE/reference/html/boot-features-developing-auto-configuration.html).\r\n\r\nHowever, Your client app has can’t be creating `Foo` instances manually, because the beans have to be created and managed by Spring. If the structure/schema of config is predefined, you can provide a parser with your library that is capable of reading a config file, similar to what spring does with `application.properties`, and creates `Foo` instances. The client app has to be a Spring application in order to use your Spring library. ","title":"Using Spring DI in a library","body":"<p>A Spring library isn’t an issue, and one of the most common ways is to create a starter package that uses auto configuration. See <a href=\"https://www.baeldung.com/spring-boot-custom-starter\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.spring.io/spring-boot/docs/1.5.11.RELEASE/reference/html/boot-features-developing-auto-configuration.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>However, Your client app has can’t be creating <code>Foo</code> instances manually, because the beans have to be created and managed by Spring. If the structure/schema of config is predefined, you can provide a parser with your library that is capable of reading a config file, similar to what spring does with <code>application.properties</code>, and creates <code>Foo</code> instances. The client app has to be a Spring application in order to use your Spring library.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699499712,"creation_date":1699499712,"answer_id":77450260,"question_id":77449454,"body_markdown":"Without considering the encapsulation of attributes, you need to think about it yourself. In fact, there are many solutions, which are nothing more than dynamically passing some values ​​based on config and then generating instances.\r\n\r\nOf course, you can also implement the singleton pattern yourself. \r\nOr, in create, directly use if-else to judge the incoming string to instantiate the bar object.\r\n\r\nThe output of the code below is this:\r\n\r\n    BarOne\r\n    BarTwo\r\n\r\nThe following is the code. There is no logic written. It is a simple implementation.\r\n\r\n    package com;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n            Config config = new Config();\r\n            config.className = &quot;com.BarOne&quot;;\r\n            config.aClass = BarOne.class;\r\n    \r\n            Foo foo = FooFactory.create(config);\r\n    \r\n            foo.whatIsTheBar();\r\n    \r\n            config.className = &quot;com.BarTwo&quot;;\r\n            config.aClass = BarTwo.class;\r\n    \r\n            foo = FooFactory.create(config);\r\n    \r\n            foo.whatIsTheBar();\r\n        }\r\n    }\r\n    \r\n    class Config {\r\n        public String className;\r\n        public Class&lt;? extends Bar&gt; aClass;\r\n    }\r\n    \r\n    class FooFactory {\r\n        public static Foo create(Config config) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n            Class&lt;?&gt; c = Class.forName(config.className);\r\n            return new Foo(config.aClass.cast(c.newInstance()));\r\n        }\r\n    }\r\n    \r\n    class Foo {\r\n        private Bar bar;\r\n        public Foo(Bar bar) {\r\n            this.bar = bar;\r\n        }\r\n    \r\n        public void whatIsTheBar() {\r\n            bar.show();\r\n        }\r\n    }\r\n    \r\n    interface Bar {\r\n        void show();\r\n    }\r\n    \r\n    class BarOne implements Bar {\r\n        public void show() {\r\n            System.out.println(&quot;BarOne&quot;);\r\n        }\r\n    }\r\n    \r\n    class BarTwo implements Bar {\r\n        public void show() {\r\n            System.out.println(&quot;BarTwo&quot;);\r\n        }\r\n    }","title":"Using Spring DI in a library","body":"<p>Without considering the encapsulation of attributes, you need to think about it yourself. In fact, there are many solutions, which are nothing more than dynamically passing some values ​​based on config and then generating instances.</p>\n<p>Of course, you can also implement the singleton pattern yourself.\nOr, in create, directly use if-else to judge the incoming string to instantiate the bar object.</p>\n<p>The output of the code below is this:</p>\n<pre><code>BarOne\nBarTwo\n</code></pre>\n<p>The following is the code. There is no logic written. It is a simple implementation.</p>\n<pre><code>package com;\n\npublic class Test {\n    public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n        Config config = new Config();\n        config.className = &quot;com.BarOne&quot;;\n        config.aClass = BarOne.class;\n\n        Foo foo = FooFactory.create(config);\n\n        foo.whatIsTheBar();\n\n        config.className = &quot;com.BarTwo&quot;;\n        config.aClass = BarTwo.class;\n\n        foo = FooFactory.create(config);\n\n        foo.whatIsTheBar();\n    }\n}\n\nclass Config {\n    public String className;\n    public Class&lt;? extends Bar&gt; aClass;\n}\n\nclass FooFactory {\n    public static Foo create(Config config) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n        Class&lt;?&gt; c = Class.forName(config.className);\n        return new Foo(config.aClass.cast(c.newInstance()));\n    }\n}\n\nclass Foo {\n    private Bar bar;\n    public Foo(Bar bar) {\n        this.bar = bar;\n    }\n\n    public void whatIsTheBar() {\n        bar.show();\n    }\n}\n\ninterface Bar {\n    void show();\n}\n\nclass BarOne implements Bar {\n    public void show() {\n        System.out.println(&quot;BarOne&quot;);\n    }\n}\n\nclass BarTwo implements Bar {\n    public void show() {\n        System.out.println(&quot;BarTwo&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699499712,"creation_date":1699484047,"question_id":77449454,"body_markdown":"I am developing a package that would be used as a dependency in an application. Thus, my package is NOT the executable application.\r\n\r\nI have a class `Foo` that has some dependencies. I want to be able to do something like:\r\n\r\n```\r\npublic class Foo {\r\n  @Autowired\r\n  Bar bar;\r\n\r\n  @Autowired\r\n  Player player\r\n\r\n  ... many other dependencies like this\r\n\r\n}\r\n```\r\n\r\nIn above, `Bar`, `Player` etc. are all interfaces and I have implemented concrete classes like:\r\n\r\n```\r\npublic class BarOne implements Bar {\r\n}\r\n\r\npublic class BarTwo implements Bar {\r\n}\r\n```\r\n\r\nI want Spring to instantiate the _correct implementation depending on a `Config` and this `Config` will NOT come from `application.properties`_. Remember I am developing a package meant to be used as a library. The application using this library may create multiple instances of `Foo` with different configs. So the application may use the library like:\r\n\r\n```\r\nFoo fooOne = FooFactory.create(config1);\r\nFoo fooTwo = FooFactory.create(config2);\r\n```\r\n\r\nCan anyone tell me how to accomplish this or is Spring not the right tool for this? I can use any DI Framework - doesn&#39;t have to be Spring.","title":"Using Spring DI in a library","body":"<p>I am developing a package that would be used as a dependency in an application. Thus, my package is NOT the executable application.</p>\n<p>I have a class <code>Foo</code> that has some dependencies. I want to be able to do something like:</p>\n<pre><code>public class Foo {\n  @Autowired\n  Bar bar;\n\n  @Autowired\n  Player player\n\n  ... many other dependencies like this\n\n}\n</code></pre>\n<p>In above, <code>Bar</code>, <code>Player</code> etc. are all interfaces and I have implemented concrete classes like:</p>\n<pre><code>public class BarOne implements Bar {\n}\n\npublic class BarTwo implements Bar {\n}\n</code></pre>\n<p>I want Spring to instantiate the <em>correct implementation depending on a <code>Config</code> and this <code>Config</code> will NOT come from <code>application.properties</code></em>. Remember I am developing a package meant to be used as a library. The application using this library may create multiple instances of <code>Foo</code> with different configs. So the application may use the library like:</p>\n<pre><code>Foo fooOne = FooFactory.create(config1);\nFoo fooTwo = FooFactory.create(config2);\n</code></pre>\n<p>Can anyone tell me how to accomplish this or is Spring not the right tool for this? I can use any DI Framework - doesn't have to be Spring.</p>\n"},{"tags":["java","azure","maven","azure-openai"],"answers":[{"comments":[{"owner":{"account_id":29853245,"reputation":3,"user_id":22878634,"display_name":"Jeff"},"score":1,"creation_date":1699501026,"post_id":77445090,"comment_id":136540884,"body_markdown":"After trying your code, I found that my original code works by changing endpoint from original endpoint to &quot;https://[region].api.cognitive.microsoft.com&quot;. Anyway, thanks for your help!","body":"After trying your code, I found that my original code works by changing endpoint from original endpoint to &quot;https://[region].api.cognitive.microsoft.com&quot;. Anyway, thanks for your help!"}],"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699442327,"creation_date":1699442327,"answer_id":77445090,"question_id":77444107,"body_markdown":"I have added the dependencies **log4j-api, log4j-core, log4j-slf4j-impl**  in pom.xml file.\r\n\r\n**pom.xml :**\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI have modified the code to handle the exception.\r\n\r\n**Code :**\r\n\r\n```java\r\nimport com.azure.ai.openai.OpenAIClient;\r\nimport com.azure.ai.openai.OpenAIClientBuilder;\r\nimport com.azure.ai.openai.models.Choice;\r\nimport com.azure.ai.openai.models.Completions;\r\nimport com.azure.ai.openai.models.CompletionsOptions;\r\nimport com.azure.ai.openai.models.CompletionsUsage;\r\nimport com.azure.core.credential.AzureKeyCredential;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String azureOpenaiKey = &quot;&lt;key&gt;&quot;;\r\n        String endpoint = &quot;https://eastus.api.cognitive.microsoft.com&quot;;\r\n        String deploymentOrModelId = &quot;&lt;Model_ID&gt;&quot;;\r\n\r\n        OpenAIClient client = new OpenAIClientBuilder()\r\n                .endpoint(endpoint)\r\n                .credential(new AzureKeyCredential(azureOpenaiKey))\r\n                .buildClient();\r\n\r\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\r\n        prompt.add(&quot;When was Microsoft founded?&quot;);\r\n\r\n        try {\r\n            Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\r\n\r\n            if (completions != null) {\r\n                System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\r\n                for (Choice choice : completions.getChoices()) {\r\n                    System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\r\n                }\r\n\r\n                CompletionsUsage usage = completions.getUsage();\r\n                System.out.printf(&quot;Usage: number of prompt tokens is %d, &quot;\r\n                                + &quot;number of completion tokens is %d, and the number of total tokens in the request and response is %d.%n&quot;,\r\n                        usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\r\n            } else {\r\n                System.err.println(&quot;The response from the API is null.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output :**\r\n\r\nIt ran successfully as below.\r\n\r\n![enter image description here](https://i.imgur.com/bdtFBK7.png)","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; and Resource not found with Azure OpenAI service","body":"<p>I have added the dependencies <strong>log4j-api, log4j-core, log4j-slf4j-impl</strong>  in pom.xml file.</p>\n<p><strong>pom.xml :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have modified the code to handle the exception.</p>\n<p><strong>Code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.ai.openai.OpenAIClient;\nimport com.azure.ai.openai.OpenAIClientBuilder;\nimport com.azure.ai.openai.models.Choice;\nimport com.azure.ai.openai.models.Completions;\nimport com.azure.ai.openai.models.CompletionsOptions;\nimport com.azure.ai.openai.models.CompletionsUsage;\nimport com.azure.core.credential.AzureKeyCredential;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String azureOpenaiKey = &quot;&lt;key&gt;&quot;;\n        String endpoint = &quot;https://eastus.api.cognitive.microsoft.com&quot;;\n        String deploymentOrModelId = &quot;&lt;Model_ID&gt;&quot;;\n\n        OpenAIClient client = new OpenAIClientBuilder()\n                .endpoint(endpoint)\n                .credential(new AzureKeyCredential(azureOpenaiKey))\n                .buildClient();\n\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\n        prompt.add(&quot;When was Microsoft founded?&quot;);\n\n        try {\n            Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\n\n            if (completions != null) {\n                System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\n                for (Choice choice : completions.getChoices()) {\n                    System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\n                }\n\n                CompletionsUsage usage = completions.getUsage();\n                System.out.printf(&quot;Usage: number of prompt tokens is %d, &quot;\n                                + &quot;number of completion tokens is %d, and the number of total tokens in the request and response is %d.%n&quot;,\n                        usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\n            } else {\n                System.err.println(&quot;The response from the API is null.&quot;);\n            }\n        } catch (Exception e) {\n            System.err.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>It ran successfully as below.</p>\n<p><img src=\"https://i.imgur.com/bdtFBK7.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29853245,"reputation":3,"user_id":22878634,"display_name":"Jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77445090,"answer_count":1,"score":0,"last_activity_date":1699499485,"creation_date":1699434051,"question_id":77444107,"body_markdown":"When I am using the quickstart demo code from Azure OpenAI website in OpenJDK 21.\r\n\r\n```\r\npackage com.azure.ai.openai.usage;\r\n\r\nimport com.azure.ai.openai.OpenAIClient;\r\nimport com.azure.ai.openai.OpenAIClientBuilder;\r\nimport com.azure.ai.openai.models.Choice;\r\nimport com.azure.ai.openai.models.Completions;\r\nimport com.azure.ai.openai.models.CompletionsOptions;\r\nimport com.azure.ai.openai.models.CompletionsUsage;\r\nimport com.azure.core.credential.AzureKeyCredential;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class GetCompletionsSample {\r\n\r\n    public static void main(String[] args) {\r\n        String azureOpenaiKey = &quot;MY AZURE OPENAI API KEY&quot;;\r\n        String endpoint = &quot;MY AZURE OPENAI ENDPOINT&quot;;\r\n        String deploymentOrModelId = &quot;gpt-35-turbo-instruct&quot;;\r\n\r\n        OpenAIClient client = new OpenAIClientBuilder()\r\n                .endpoint(endpoint)\r\n                .credential(new AzureKeyCredential(azureOpenaiKey))\r\n                .buildClient();\r\n\r\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\r\n        prompt.add(&quot;When was Microsoft founded?&quot;);\r\n\r\n        Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\r\n\r\n        System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\r\n        for (Choice choice : completions.getChoices()) {\r\n            System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\r\n        }\r\n\r\n        CompletionsUsage usage = completions.getUsage();\r\n        System.out.printf(&quot;Usage: number of prompt token is %d, &quot;\r\n                        + &quot;number of completion token is %d, and number of total tokens in request and response is %d.%n&quot;,\r\n                usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\r\n    }\r\n}\r\n```\r\nand show the error\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; com.azure.core.exception.ResourceNotFoundException: Status code 404, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}&quot;\r\n\tat com.azure.core.implementation.http.rest.RestProxyBase.instantiateUnexpectedException(RestProxyBase.java:347)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.ensureExpectedStatus(SyncRestProxy.java:130)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.handleRestReturnType(SyncRestProxy.java:213)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.invoke(SyncRestProxy.java:81)\r\n\tat com.azure.core.implementation.http.rest.RestProxyBase.invoke(RestProxyBase.java:109)\r\n\tat com.azure.core.http.rest.RestProxy.invoke(RestProxy.java:91)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy3.getCompletionsSync(Unknown Source)\r\n\tat com.azure.ai.openai.implementation.OpenAIClientImpl.getCompletionsWithResponse(OpenAIClientImpl.java:904)\r\n\tat com.azure.ai.openai.OpenAIClient.getCompletionsWithResponse(OpenAIClient.java:222)\r\n\tat com.azure.ai.openai.OpenAIClient.getCompletions(OpenAIClient.java:587)\r\n\tat com.azure.ai.openai.usage.GetCompletionsSample.main(GetCompletionsSample.java:29)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\nI have checked all the configuration and make sure the endpoint was correct, the deployment was created more than 10 hours, and my deployment ID is same as the model name. Am I missing something? This is the dependencies:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nand I&#39;ve tried the solution from https://stackoverflow.com/questions/61819573/how-do-i-fix-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\r\nHowever, when I add dependencies to `pom.xml`, it still get the error in my [IntelliJ IDEA](https://i.stack.imgur.com/8s4Wa.png)\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; and Resource not found with Azure OpenAI service","body":"<p>When I am using the quickstart demo code from Azure OpenAI website in OpenJDK 21.</p>\n<pre><code>package com.azure.ai.openai.usage;\n\nimport com.azure.ai.openai.OpenAIClient;\nimport com.azure.ai.openai.OpenAIClientBuilder;\nimport com.azure.ai.openai.models.Choice;\nimport com.azure.ai.openai.models.Completions;\nimport com.azure.ai.openai.models.CompletionsOptions;\nimport com.azure.ai.openai.models.CompletionsUsage;\nimport com.azure.core.credential.AzureKeyCredential;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GetCompletionsSample {\n\n    public static void main(String[] args) {\n        String azureOpenaiKey = &quot;MY AZURE OPENAI API KEY&quot;;\n        String endpoint = &quot;MY AZURE OPENAI ENDPOINT&quot;;\n        String deploymentOrModelId = &quot;gpt-35-turbo-instruct&quot;;\n\n        OpenAIClient client = new OpenAIClientBuilder()\n                .endpoint(endpoint)\n                .credential(new AzureKeyCredential(azureOpenaiKey))\n                .buildClient();\n\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\n        prompt.add(&quot;When was Microsoft founded?&quot;);\n\n        Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\n\n        System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\n        for (Choice choice : completions.getChoices()) {\n            System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\n        }\n\n        CompletionsUsage usage = completions.getUsage();\n        System.out.printf(&quot;Usage: number of prompt token is %d, &quot;\n                        + &quot;number of completion token is %d, and number of total tokens in request and response is %d.%n&quot;,\n                usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\n    }\n}\n</code></pre>\n<p>and show the error</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; com.azure.core.exception.ResourceNotFoundException: Status code 404, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}&quot;\n    at com.azure.core.implementation.http.rest.RestProxyBase.instantiateUnexpectedException(RestProxyBase.java:347)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.ensureExpectedStatus(SyncRestProxy.java:130)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.handleRestReturnType(SyncRestProxy.java:213)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.invoke(SyncRestProxy.java:81)\n    at com.azure.core.implementation.http.rest.RestProxyBase.invoke(RestProxyBase.java:109)\n    at com.azure.core.http.rest.RestProxy.invoke(RestProxy.java:91)\n    at jdk.proxy2/jdk.proxy2.$Proxy3.getCompletionsSync(Unknown Source)\n    at com.azure.ai.openai.implementation.OpenAIClientImpl.getCompletionsWithResponse(OpenAIClientImpl.java:904)\n    at com.azure.ai.openai.OpenAIClient.getCompletionsWithResponse(OpenAIClient.java:222)\n    at com.azure.ai.openai.OpenAIClient.getCompletions(OpenAIClient.java:587)\n    at com.azure.ai.openai.usage.GetCompletionsSample.main(GetCompletionsSample.java:29)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have checked all the configuration and make sure the endpoint was correct, the deployment was created more than 10 hours, and my deployment ID is same as the model name. Am I missing something? This is the dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I've tried the solution from <a href=\"https://stackoverflow.com/questions/61819573/how-do-i-fix-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;</a>\nHowever, when I add dependencies to <code>pom.xml</code>, it still get the error in my <a href=\"https://i.stack.imgur.com/8s4Wa.png\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","netbeans","deployment","netbeans-7"],"answers":[{"comments":[{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1626807941,"post_id":15282269,"comment_id":120990571,"body_markdown":"You know how many of these hacks I had to use to make a Netbeans Java Maven project run like a Netbeans Java Ant project? Why don&#39;t they make this more seamless?","body":"You know how many of these hacks I had to use to make a Netbeans Java Maven project run like a Netbeans Java Ant project? Why don&#39;t they make this more seamless?"},{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1626809866,"post_id":15282269,"comment_id":120991157,"body_markdown":"Don&#39;t try to make it look like ant. Use https://en.m.wikipedia.org/wiki/Convention_over_configuration to keep your software as maven standard project to avoid custom configurations.","body":"Don&#39;t try to make it look like ant. Use <a href=\"https://en.m.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Convention_over_configuration</a> to keep your software as maven standard project to avoid custom configurations."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1626810398,"post_id":15282269,"comment_id":120991339,"body_markdown":"How else do you assume I create a distributable jar file with dependencies ?  I need a lib folder with the dependency jars, and I need an executable jar that includes the classpath to that folder, and I need that jar to know what the main class is. None of these features come out of the box for a maven project. Has nothing to do with conventions.","body":"How else do you assume I create a distributable jar file with dependencies ?  I need a lib folder with the dependency jars, and I need an executable jar that includes the classpath to that folder, and I need that jar to know what the main class is. None of these features come out of the box for a maven project. Has nothing to do with conventions."}],"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"comment_count":3,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1410309193,"creation_date":1362692299,"answer_id":15282269,"question_id":15282098,"body_markdown":"You can add it into project&#39;s pom file, inside `&lt;project&gt;` tag:\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.4&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;archive&gt;\r\n                      &lt;manifest&gt;\r\n                          &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\r\n                      &lt;/manifest&gt;\r\n                  &lt;/archive&gt;\r\n              &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>You can add it into project's pom file, inside <code>&lt;project&gt;</code> tag:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.4&lt;/version&gt;\n          &lt;configuration&gt;\n              &lt;archive&gt;\n                  &lt;manifest&gt;\n                      &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n              &lt;/archive&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2450259,"reputation":401,"user_id":2136729,"display_name":"fboulay"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1362735934,"creation_date":1362735934,"answer_id":15290986,"question_id":15282098,"body_markdown":"Another option is to use the `maven shade plugin`. Unlike the `maven jar plugin` showed by tigran, the `maven shade plugin` includes your dependencies in the generated jar.\r\nA sample usage of the plugin is :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;your.main.Class&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>Another option is to use the <code>maven shade plugin</code>. Unlike the <code>maven jar plugin</code> showed by tigran, the <code>maven shade plugin</code> includes your dependencies in the generated jar.\nA sample usage of the plugin is :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;your.main.Class&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19347481,"reputation":1,"user_id":14145695,"display_name":"Allan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699499203,"creation_date":1697224926,"answer_id":77290203,"question_id":15282098,"body_markdown":"In addition to the first two answers, I suggest people add it as a &quot;Code Template&quot; within the NetBeans settings. It will autocomplete once you type in a keyword and hit &lt;kbd&gt;Tab&lt;/kbd&gt;. This may be a feature that was unavailable at the time of this post.\r\n\r\n[NetBeans Maven POM Code Template Expansion][1]\r\n\r\nIn the linked picture you can see what my template autocompletes when I type `assembly` and hit &lt;kbd&gt;Tab&lt;/kbd&gt;. It fills in (where *${MC newVarName default=&quot;${exec.mainClass}&quot;}* dynamically points to the mainClass):\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;!-- NOTE: We don&#39;t need a groupId specification because the group is\r\n                org.apache.maven.plugins ...which is assumed by default.\r\n            --&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DpB1c.png","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>In addition to the first two answers, I suggest people add it as a &quot;Code Template&quot; within the NetBeans settings. It will autocomplete once you type in a keyword and hit <kbd>Tab</kbd>. This may be a feature that was unavailable at the time of this post.</p>\n<p><a href=\"https://i.stack.imgur.com/DpB1c.png\" rel=\"nofollow noreferrer\">NetBeans Maven POM Code Template Expansion</a></p>\n<p>In the linked picture you can see what my template autocompletes when I type <code>assembly</code> and hit <kbd>Tab</kbd>. It fills in (where <em>${MC newVarName default=&quot;${exec.mainClass}&quot;}</em> dynamically points to the mainClass):</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;!-- NOTE: We don't need a groupId specification because the group is\n            org.apache.maven.plugins ...which is assumed by default.\n        --&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":1273101,"reputation":964,"user_id":1228945,"accept_rate":89,"display_name":"derigible"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20837,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":15282269,"answer_count":3,"score":20,"last_activity_date":1699499203,"creation_date":1362691702,"question_id":15282098,"body_markdown":"I am having a similar problem to [this][1] question. I have tried all the suggestions listed and am still at a loss. My issue is that I am trying to build a maven project and distribute it to other machines, but the jar files are not being populated with a correct Manifest. Each time I build and run I get the following error: `no main manifest attribute, in myjar.jar`. Is there some sort of configuration file I need to edit? I just don&#39;t know what is going on. I have attempted [this fix][2] also, but to no avail.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12266735/no-main-manifest-attribute-in-jar-netbeans\r\n  [2]: https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>I am having a similar problem to <a href=\"https://stackoverflow.com/questions/12266735/no-main-manifest-attribute-in-jar-netbeans\">this</a> question. I have tried all the suggestions listed and am still at a loss. My issue is that I am trying to build a maven project and distribute it to other machines, but the jar files are not being populated with a correct Manifest. Each time I build and run I get the following error: <code>no main manifest attribute, in myjar.jar</code>. Is there some sort of configuration file I need to edit? I just don't know what is going on. I have attempted <a href=\"https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project\">this fix</a> also, but to no avail.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":5,"creation_date":1699499855,"post_id":77450032,"comment_id":136540799,"body_markdown":"Good question. They probably thought it was worth the negligible cost to avoid unchecked casting and for consistency with the collectors that accept arguments. See also: https://stackoverflow.com/questions/43864005/is-it-allowed-adviseable-to-reuse-a-collector","body":"Good question. They probably thought it was worth the negligible cost to avoid unchecked casting and for consistency with the collectors that accept arguments. See also: <a href=\"https://stackoverflow.com/questions/43864005/is-it-allowed-adviseable-to-reuse-a-collector\" title=\"is it allowed adviseable to reuse a collector\">stackoverflow.com/questions/43864005/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699542678,"post_id":77450032,"comment_id":136547642,"body_markdown":"What makes you so sure it&#39;s more efficient to save one Collector for everyone to use?","body":"What makes you so sure it&#39;s more efficient to save one Collector for everyone to use?"},{"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"score":0,"creation_date":1699746945,"post_id":77450032,"comment_id":136570535,"body_markdown":"@LouisWasserman I am not sure that reusing a Collector is more efficient, but it could be. I&#39;m pretty sure that it is not less efficient, but feel free to explain how that could happen.","body":"@LouisWasserman I am not sure that reusing a Collector is more efficient, but it could be. I&#39;m pretty sure that it is not less efficient, but feel free to explain how that could happen."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1700062877,"post_id":77450032,"comment_id":136609156,"body_markdown":"To reuse an object, you have to keep a reference to it, keeping its memory permanently allocated, regardless of whether you really need it at a later time. This is obviously less efficient than keeping the object only as long as you really need it. Accepting this disadvantage will only pay off if either 1) constructing the object is expensive, so skipping the construction saves time (does not apply to a collector) or 2) lots of instances are expected to potentially exist at the same time, so having one shared instance instead may have a net reduction of allocated memory (very unlikely here).","body":"To reuse an object, you have to keep a reference to it, keeping its memory permanently allocated, regardless of whether you really need it at a later time. This is obviously less efficient than keeping the object only as long as you really need it. Accepting this disadvantage will only pay off if either 1) constructing the object is expensive, so skipping the construction saves time (does not apply to a collector) or 2) lots of instances are expected to potentially exist at the same time, so having one shared instance instead may have a net reduction of allocated memory (very unlikely here)."}],"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1699498907,"creation_date":1699495607,"question_id":77450032,"body_markdown":"If I understand correctly, a `Collector` is an immutable tuple of functions.\r\nSo, why do the `Collectors` methods all create a new `Collector` for each request?\r\nFor example, as long as type erasure is happening, I would think that only one `toList()`\r\n`Collector` is needed.","title":"Why does java.util.stream.Collectors always create a new Collector?","body":"<p>If I understand correctly, a <code>Collector</code> is an immutable tuple of functions.\nSo, why do the <code>Collectors</code> methods all create a new <code>Collector</code> for each request?\nFor example, as long as type erasure is happening, I would think that only one <code>toList()</code>\n<code>Collector</code> is needed.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"score":0,"creation_date":1699122746,"post_id":77423326,"comment_id":136492744,"body_markdown":"Please add the `[minecraft]` tag so that people who watch it can find your question easier.","body":"Please add the <code>[minecraft]</code> tag so that people who watch it can find your question easier."},{"owner":{"account_id":19314891,"reputation":176,"user_id":14119878,"display_name":"Lapish"},"score":0,"creation_date":1699123118,"post_id":77423326,"comment_id":136492784,"body_markdown":"Done @Hipposgrumm","body":"Done @Hipposgrumm"},{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":0,"creation_date":1699498647,"post_id":77423326,"comment_id":136540722,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"owner":{"account_id":19314891,"reputation":176,"user_id":14119878,"display_name":"Lapish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699498636,"creation_date":1699122363,"question_id":77423326,"body_markdown":"I made a simple mod and want to subscribe to the event. When i start the server i get an error. What am i doing wrong?\r\n```\r\npublic class AuthLiteServer implements DedicatedServerModInitializer {\r\n\r\n    @Override\r\n    public void onInitializeServer() {\r\n        registerEvents();\r\n\r\n        AuthLite.LOGGER.info(&quot;AuthLite loaded&quot;);\r\n    }\r\n\r\n    //Error this\r\n    private void registerEvents() {\r\n        ServerLoginConnectionEvents.QUERY_START.register((handler, server, sender, synchronizer) -&gt; {\r\n            handler.acceptPlayer();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nfabric-mod.json\r\n```\r\n{\r\n\t&quot;schemaVersion&quot;: 1,\r\n\t&quot;id&quot;: &quot;auth-lite&quot;,\r\n\t&quot;version&quot;: &quot;${version}&quot;,\r\n\t&quot;name&quot;: &quot;Auth Lite&quot;,\r\n\t&quot;description&quot;: &quot; Minecraft Authentication Made Simple&quot;,\r\n\t&quot;authors&quot;: [\r\n\t\t&quot;Lapish!&quot;\r\n\t],\r\n\t&quot;contact&quot;: {\r\n\t\t&quot;homepage&quot;: &quot;https://fabricmc.net/&quot;,\r\n\t\t&quot;sources&quot;: &quot;https://github.com/FabricMC/fabric-example-mod&quot;\r\n\t},\r\n\t&quot;license&quot;: &quot;MIT&quot;,\r\n\t&quot;icon&quot;: &quot;assets/auth-lite/icon.png&quot;,\r\n\t&quot;environment&quot;: &quot;*&quot;,\r\n\t&quot;entrypoints&quot;: {\r\n\t\t&quot;main&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.AuthLite&quot;\r\n\t\t],\r\n\t\t&quot;client&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.AuthLiteClient&quot;\r\n\t\t],\r\n\t\t&quot;server&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.server.AuthLiteServer&quot;\r\n\t\t]\r\n\t},\r\n\t&quot;depends&quot;: {\r\n\t\t&quot;fabricloader&quot;: &quot;&gt;=0.14.24&quot;,\r\n\t\t&quot;minecraft&quot;: &quot;~1.20.1&quot;,\r\n\t\t&quot;java&quot;: &quot;&gt;=17&quot;,\r\n\t\t&quot;fabric-api&quot;: &quot;*&quot;\r\n\t},\r\n\t&quot;suggests&quot;: {\r\n\t\t&quot;another-mod&quot;: &quot;*&quot;\r\n\t}\r\n}\r\n```\r\n```\r\nError:\r\njava.lang.RuntimeException: Could not execute entrypoint stage &#39;server&#39; due to errors, provided by &#39;auth-lite&#39;!\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.lambda$invokeEntrypoints$2(FabricLoaderImpl.java:387) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:385) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.game.minecraft.Hooks.startServer(Hooks.java:64) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.minecraft.server.Main.main(Main.java:112) ~[server-intermediary.jar:?]\r\n        at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69) ~[fabric-loader-0.14.24.jar:?]\r\n    \r\n\r\nCaused by: java.lang.NoClassDefFoundError: net/minecraft/server/network/ServerLoginNetworkHandler\r\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\r\n        ... 6 more\r\n\r\nCaused by: java.lang.ClassNotFoundException: net.minecraft.server.network.ServerLoginNetworkHandler\r\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:119) ~[fabric-loader-0.14.24.jar:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\r\n        ... 6 more\r\n```","title":"Error with ServerLoginConnectionEvents Fabric(Minecraft)","body":"<p>I made a simple mod and want to subscribe to the event. When i start the server i get an error. What am i doing wrong?</p>\n<pre><code>public class AuthLiteServer implements DedicatedServerModInitializer {\n\n    @Override\n    public void onInitializeServer() {\n        registerEvents();\n\n        AuthLite.LOGGER.info(&quot;AuthLite loaded&quot;);\n    }\n\n    //Error this\n    private void registerEvents() {\n        ServerLoginConnectionEvents.QUERY_START.register((handler, server, sender, synchronizer) -&gt; {\n            handler.acceptPlayer();\n        });\n    }\n}\n</code></pre>\n<p>fabric-mod.json</p>\n<pre><code>{\n    &quot;schemaVersion&quot;: 1,\n    &quot;id&quot;: &quot;auth-lite&quot;,\n    &quot;version&quot;: &quot;${version}&quot;,\n    &quot;name&quot;: &quot;Auth Lite&quot;,\n    &quot;description&quot;: &quot; Minecraft Authentication Made Simple&quot;,\n    &quot;authors&quot;: [\n        &quot;Lapish!&quot;\n    ],\n    &quot;contact&quot;: {\n        &quot;homepage&quot;: &quot;https://fabricmc.net/&quot;,\n        &quot;sources&quot;: &quot;https://github.com/FabricMC/fabric-example-mod&quot;\n    },\n    &quot;license&quot;: &quot;MIT&quot;,\n    &quot;icon&quot;: &quot;assets/auth-lite/icon.png&quot;,\n    &quot;environment&quot;: &quot;*&quot;,\n    &quot;entrypoints&quot;: {\n        &quot;main&quot;: [\n            &quot;com.lapish.authlite.AuthLite&quot;\n        ],\n        &quot;client&quot;: [\n            &quot;com.lapish.authlite.AuthLiteClient&quot;\n        ],\n        &quot;server&quot;: [\n            &quot;com.lapish.authlite.server.AuthLiteServer&quot;\n        ]\n    },\n    &quot;depends&quot;: {\n        &quot;fabricloader&quot;: &quot;&gt;=0.14.24&quot;,\n        &quot;minecraft&quot;: &quot;~1.20.1&quot;,\n        &quot;java&quot;: &quot;&gt;=17&quot;,\n        &quot;fabric-api&quot;: &quot;*&quot;\n    },\n    &quot;suggests&quot;: {\n        &quot;another-mod&quot;: &quot;*&quot;\n    }\n}\n</code></pre>\n<pre><code>Error:\njava.lang.RuntimeException: Could not execute entrypoint stage 'server' due to errors, provided by 'auth-lite'!\n        at net.fabricmc.loader.impl.FabricLoaderImpl.lambda$invokeEntrypoints$2(FabricLoaderImpl.java:387) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:385) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.game.minecraft.Hooks.startServer(Hooks.java:64) ~[fabric-loader-0.14.24.jar:?]\n        at net.minecraft.server.Main.main(Main.java:112) ~[server-intermediary.jar:?]\n        at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69) ~[fabric-loader-0.14.24.jar:?]\n    \n\nCaused by: java.lang.NoClassDefFoundError: net/minecraft/server/network/ServerLoginNetworkHandler\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\n        ... 6 more\n\nCaused by: java.lang.ClassNotFoundException: net.minecraft.server.network.ServerLoginNetworkHandler\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:119) ~[fabric-loader-0.14.24.jar:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\n        ... 6 more\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1699462702,"post_id":77447502,"comment_id":136535611,"body_markdown":"Why isn&#39;t it correct? It&#39;s exactly 1 month and 1 day.","body":"Why isn&#39;t it correct? It&#39;s exactly 1 month and 1 day."},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1699462703,"post_id":77447502,"comment_id":136535612,"body_markdown":"is 1 month 1 day correct? How this could be wrong","body":"is 1 month 1 day correct? How this could be wrong"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1699462879,"post_id":77447502,"comment_id":136535656,"body_markdown":"It&#39;s 1 day and 1 month. If you want the amount of days between `from` and `to`, you&#39;re looking for `ChronoUnit.DAYS.between(from, to);`","body":"It&#39;s 1 day and 1 month. If you want the amount of days between <code>from</code> and <code>to</code>, you&#39;re looking for <code>ChronoUnit.DAYS.between(from, to);</code>"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1699463060,"post_id":77447502,"comment_id":136535699,"body_markdown":"thanks @Rouge, it&#39;s exaclty what im looking for. can you put it as an answer so i can accept it","body":"thanks @Rouge, it&#39;s exaclty what im looking for. can you put it as an answer so i can accept it"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699478050,"post_id":77447502,"comment_id":136538353,"body_markdown":"basically you want to [Calculate days between two Dates in Java 8](https://stackoverflow.com/q/27005861/85421) or [How to calculate the number of days in a period?](https://stackoverflow.com/q/30833582/85421)","body":"basically you want to <a href=\"https://stackoverflow.com/q/27005861/85421\">Calculate days between two Dates in Java 8</a> or <a href=\"https://stackoverflow.com/q/30833582/85421\">How to calculate the number of days in a period?</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699496500,"creation_date":1699462655,"answer_id":77447525,"question_id":77447502,"body_markdown":"The parts of a Period are *additive*: The period between your two dates is 1 month **and** 1 day.\r\n\r\n---\r\n\r\nTo calculate the period of days between LocalDates, use [`until()`][1]:\r\n\r\n    long daysBetween = from.until(to, ChronoUnit.DAYS);\r\n    \r\nor the convenience method [between()][2]:\r\n\r\n    long daysBetween = ChronoUnit.DAYS.between(from, to);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#until-java.time.temporal.Temporal-java.time.temporal.TemporalUnit-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-","title":"Java Period return wrong number of days between 2 dates","body":"<p>The parts of a Period are <em>additive</em>: The period between your two dates is 1 month <strong>and</strong> 1 day.</p>\n<hr />\n<p>To calculate the period of days between LocalDates, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#until-java.time.temporal.Temporal-java.time.temporal.TemporalUnit-\" rel=\"nofollow noreferrer\"><code>until()</code></a>:</p>\n<pre><code>long daysBetween = from.until(to, ChronoUnit.DAYS);\n</code></pre>\n<p>or the convenience method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">between()</a>:</p>\n<pre><code>long daysBetween = ChronoUnit.DAYS.between(from, to);\n</code></pre>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77447525,"answer_count":1,"score":0,"last_activity_date":1699496500,"creation_date":1699462466,"question_id":77447502,"body_markdown":"i have the following code to calculate the difference of days between 2 days `01/09/2023 and 02/10/2023` the excpected result is 31 days but the code return 1 days.\r\n\r\n    LocalDate from = LocalDate.of(2023, 9, 1);\r\n    LocalDate to = LocalDate.of(2023, 10, 02);\r\n\r\n    Period period = Period.between(from, to);\r\n\r\n    System.out.print(period.getYears() + &quot; years,&quot;);\r\n    System.out.print(period.getMonths() + &quot; months,&quot;);\r\n    System.out.print(period.getDays() + &quot; days&quot;);\r\n\r\noutput :\r\n\r\n    0 years,1 months,1 days\r\ncan anyone tell me what&#39;s the wrong with my code","title":"Java Period return wrong number of days between 2 dates","body":"<p>i have the following code to calculate the difference of days between 2 days <code>01/09/2023 and 02/10/2023</code> the excpected result is 31 days but the code return 1 days.</p>\n<pre><code>LocalDate from = LocalDate.of(2023, 9, 1);\nLocalDate to = LocalDate.of(2023, 10, 02);\n\nPeriod period = Period.between(from, to);\n\nSystem.out.print(period.getYears() + &quot; years,&quot;);\nSystem.out.print(period.getMonths() + &quot; months,&quot;);\nSystem.out.print(period.getDays() + &quot; days&quot;);\n</code></pre>\n<p>output :</p>\n<pre><code>0 years,1 months,1 days\n</code></pre>\n<p>can anyone tell me what's the wrong with my code</p>\n"},{"tags":["java","hibernate","reactive-programming","reactive","hibernate-reactive"],"answers":[{"comments":[{"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"score":0,"creation_date":1699513104,"post_id":77450015,"comment_id":136541922,"body_markdown":"Yes, i tried @Data from Lombok and i tried with getters/setters generated.\nNothing changes :(","body":"Yes, i tried @Data from Lombok and i tried with getters/setters generated. Nothing changes :("}],"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699495389,"creation_date":1699495389,"answer_id":77450015,"question_id":77448787,"body_markdown":"Have you tried creating getters and setters for those private fields? \r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; 1.3.2. Getters and setters When using Hibernate Reactive outside the Quarkus environment, you’ll need to write your entity classes\r\n&gt; according to the usual JPA conventions, which require:\r\n&gt; \r\n&gt; private fields for persistent attributes, and\r\n&gt; \r\n&gt; a nullary constructor.\r\n\r\n\r\n  [1]: https://hibernate.org/reactive/documentation/2.0/reference/html_single/","title":"How to persist with hibernate-reactive and complex id?","body":"<p>Have you tried creating getters and setters for those private fields?</p>\n<p>From the <a href=\"https://hibernate.org/reactive/documentation/2.0/reference/html_single/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>1.3.2. Getters and setters When using Hibernate Reactive outside the Quarkus environment, you’ll need to write your entity classes\naccording to the usual JPA conventions, which require:</p>\n<p>private fields for persistent attributes, and</p>\n<p>a nullary constructor.</p>\n</blockquote>\n"}],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699495389,"creation_date":1699475591,"question_id":77448787,"body_markdown":"i have an error when i want to persist with Hibernate-reactive (hibernate-reactive-core 2.0.6.Final) &amp; spring-boot &amp; java17.\r\n\r\nMy entity :\r\n```java\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Table(name = &quot;MY_TABLE&quot;)\r\n@Entity\r\n@IdClass(MyTableId.class)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MyTableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;CODE_1&quot;)\r\n    private String code1;\r\n\r\n    @Column(name = &quot;NUM&quot;)\r\n    private Long num;\r\n\r\n    @Id\r\n    @Column(name = &quot;CODE_2&quot;)\r\n    private String code2;\r\n\r\n    @Id\r\n    @Column(name = &quot;DATE&quot;)\r\n    private LocalDateTime date;\r\n}\r\n```\r\n\r\nThe class ID : \r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class MyTableId implements Serializable {\r\n    private String code1;\r\n    private String code2;\r\n    private LocalDateTime date;\r\n}\r\n```\r\nMy repository :\r\n\r\n```java\r\n@Repository\r\n@AllArgsConstructor\r\npublic class MyTableRepository {\r\n\r\n    private Stage.SessionFactory sessionFactory;\r\n\r\n    public Mono&lt;Void&gt; save(MyTableEntity myTableEntity) {\r\n        return Mono.fromCompletionStage(\r\n                sessionFactory.withSession(\r\n                    session -&gt; session.persist(myTableEntity)\r\n                ));\r\n    }\r\n\r\n// ... others methods to find in MyTable\r\n```\r\n\r\nBut i have an error when i call session.persist : \r\n&gt; java.util.concurrent.CompletableFuture@68e22cdc[Completed exceptionally: java.util.concurrent.CompletionException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.String myPackage.MyTableEntity.code2] by reflection for persistent property [myPackageEntity#code2] : MyTableEntity(code1=CODE_1, num=3, code2=ABCD1234, date=2023-11-08T21:21:39.835527200\r\n... ... ... ... ...\r\ncaused by: java.lang.IllegalArgumentException: Can not set java.lang.String field myPackage.MyTableEntity.code2 to myPackage.MyTableEntity\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n\r\nFor information, I have two others methods who find the entity and they work ... For example :\r\n```java\r\npublic Mono&lt;MyTableEntity&gt; findBlablabla(String code1) {\r\n        return Mono.fromCompletionStage(\r\n                sessionFactory.withSession(\r\n                        session -&gt;\r\n                                session\r\n                                        .createQuery(&quot;&quot;&quot;\r\n                                                        SELECT m from MyTableEntity m\r\n                                                        WHERE c.code1 like :code1\r\n                                                        ORDER BY c.date DESC\r\n                                                        LIMIT 1\r\n                                                        &quot;&quot;&quot;\r\n                                                , MyTableEntity.class)\r\n                                        .setParameter(&quot;code1&quot;, code1)\r\n                                        .getSingleResultOrNull()\r\n                )\r\n        );\r\n    }\r\n```\r\nAny idea ? Thanks.","title":"How to persist with hibernate-reactive and complex id?","body":"<p>i have an error when i want to persist with Hibernate-reactive (hibernate-reactive-core 2.0.6.Final) &amp; spring-boot &amp; java17.</p>\n<p>My entity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\nimport lombok.*;\n\nimport java.time.LocalDateTime;\n\n@Table(name = &quot;MY_TABLE&quot;)\n@Entity\n@IdClass(MyTableId.class)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MyTableEntity {\n\n    @Id\n    @Column(name = &quot;CODE_1&quot;)\n    private String code1;\n\n    @Column(name = &quot;NUM&quot;)\n    private Long num;\n\n    @Id\n    @Column(name = &quot;CODE_2&quot;)\n    private String code2;\n\n    @Id\n    @Column(name = &quot;DATE&quot;)\n    private LocalDateTime date;\n}\n</code></pre>\n<p>The class ID :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class MyTableId implements Serializable {\n    private String code1;\n    private String code2;\n    private LocalDateTime date;\n}\n</code></pre>\n<p>My repository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\n@AllArgsConstructor\npublic class MyTableRepository {\n\n    private Stage.SessionFactory sessionFactory;\n\n    public Mono&lt;Void&gt; save(MyTableEntity myTableEntity) {\n        return Mono.fromCompletionStage(\n                sessionFactory.withSession(\n                    session -&gt; session.persist(myTableEntity)\n                ));\n    }\n\n// ... others methods to find in MyTable\n</code></pre>\n<p>But i have an error when i call session.persist :</p>\n<blockquote>\n<p>java.util.concurrent.CompletableFuture@68e22cdc[Completed exceptionally: java.util.concurrent.CompletionException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.String myPackage.MyTableEntity.code2] by reflection for persistent property [myPackageEntity#code2] : MyTableEntity(code1=CODE_1, num=3, code2=ABCD1234, date=2023-11-08T21:21:39.835527200\n... ... ... ... ...\ncaused by: java.lang.IllegalArgumentException: Can not set java.lang.String field myPackage.MyTableEntity.code2 to myPackage.MyTableEntity\nat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)</p>\n</blockquote>\n<p>For information, I have two others methods who find the entity and they work ... For example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;MyTableEntity&gt; findBlablabla(String code1) {\n        return Mono.fromCompletionStage(\n                sessionFactory.withSession(\n                        session -&gt;\n                                session\n                                        .createQuery(&quot;&quot;&quot;\n                                                        SELECT m from MyTableEntity m\n                                                        WHERE c.code1 like :code1\n                                                        ORDER BY c.date DESC\n                                                        LIMIT 1\n                                                        &quot;&quot;&quot;\n                                                , MyTableEntity.class)\n                                        .setParameter(&quot;code1&quot;, code1)\n                                        .getSingleResultOrNull()\n                )\n        );\n    }\n</code></pre>\n<p>Any idea ? Thanks.</p>\n"},{"tags":["java","google-chrome","selenium","selenium-chromedriver","serenity-bdd"],"comments":[{"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"score":0,"creation_date":1490970626,"post_id":43143014,"comment_id":73363679,"body_markdown":"About the &quot;controlled by automation&quot; text pop up: is there an issue it&#39;s causing? I was messing with the chrome driver the other day and it didn&#39;t show up screenshots, etc, and wasn&#39;t causing any element interaction issues.","body":"About the &quot;controlled by automation&quot; text pop up: is there an issue it&#39;s causing? I was messing with the chrome driver the other day and it didn&#39;t show up screenshots, etc, and wasn&#39;t causing any element interaction issues."},{"owner":{"account_id":9438736,"reputation":423,"user_id":7019951,"display_name":"BobbyB"},"score":0,"creation_date":1490973134,"post_id":43143014,"comment_id":73365503,"body_markdown":"No not really, i have some components under that pop up that wont be shown in screenshots when they are clicked. thats why :)","body":"No not really, i have some components under that pop up that wont be shown in screenshots when they are clicked. thats why :)"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1490974007,"post_id":43143014,"comment_id":73366103,"body_markdown":"Is this able to navigate URL and interact elements ?","body":"Is this able to navigate URL and interact elements ?"},{"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"score":0,"creation_date":1490982185,"post_id":43143014,"comment_id":73370769,"body_markdown":"@BobbyB did you try taking the screenshot and seeing if they were covered? Like I stated, I didn&#39;t see the popup in the screenshots I took the other day.","body":"@BobbyB did you try taking the screenshot and seeing if they were covered? Like I stated, I didn&#39;t see the popup in the screenshots I took the other day."}],"answers":[{"comments":[{"owner":{"account_id":2427689,"reputation":664,"user_id":2119289,"accept_rate":20,"display_name":"Chandra Shekhar"},"score":2,"creation_date":1491405150,"post_id":43145088,"comment_id":73540481,"body_markdown":"This solution does not stop the notification from being displayed when used in Java.\n\nOnly `options.addArguments(&quot;disable-infobars&quot;);` works fine","body":"This solution does not stop the notification from being displayed when used in Java.  Only <code>options.addArguments(&quot;disable-infobars&quot;);</code> works fine"},{"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"score":1,"creation_date":1491405667,"post_id":43145088,"comment_id":73540831,"body_markdown":"To disable Notifications add this : \noptions.addArguments(&quot;--disable-notifications&quot;);","body":"To disable Notifications add this :  options.addArguments(&quot;--disable-notifications&quot;);"},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":1,"creation_date":1556290358,"post_id":43145088,"comment_id":98400227,"body_markdown":"While I agree that in nearly all cases it won&#39;t affect your testing, in my case it did, big time.  The application I was trying to automate was not adjusting the screen drawing to the reduced real-estate when the info-bar was displayed and consequently critical elements that I needed to confirm as clickable were not because they were obscured by other elements.  This is clearly a programming/design issue by the developers, but disabling the info-bars fixed my problem, the screen displayed correctly when they were gone.","body":"While I agree that in nearly all cases it won&#39;t affect your testing, in my case it did, big time.  The application I was trying to automate was not adjusting the screen drawing to the reduced real-estate when the info-bar was displayed and consequently critical elements that I needed to confirm as clickable were not because they were obscured by other elements.  This is clearly a programming/design issue by the developers, but disabling the info-bars fixed my problem, the screen displayed correctly when they were gone."},{"owner":{"account_id":12547071,"reputation":706,"user_id":9129979,"display_name":"JM217"},"score":5,"creation_date":1567575160,"post_id":43145088,"comment_id":101997958,"body_markdown":"disable-infobars is not supported anymore for the latest drivers (76.0). Check @Rajeev &#39;s answer for java and my answer for C#.","body":"disable-infobars is not supported anymore for the latest drivers (76.0). Check @Rajeev &#39;s answer for java and my answer for C#."},{"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"score":2,"creation_date":1576259435,"post_id":43145088,"comment_id":104854394,"body_markdown":"@BillHileman I have modified the answer with the latest working code","body":"@BillHileman I have modified the answer with the latest working code"},{"owner":{"account_id":1315627,"reputation":2142,"user_id":1262580,"accept_rate":43,"display_name":"Frank Fang"},"score":0,"creation_date":1644648848,"post_id":43145088,"comment_id":125667423,"body_markdown":"Is there a way to disable the warning via cli flags?","body":"Is there a way to disable the warning via cli flags?"}],"tags":[],"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"comment_count":6,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1576259314,"creation_date":1490976270,"answer_id":43145088,"question_id":43143014,"body_markdown":"Previously, passing the &quot;disable-infobars” ChromeOption to the WebDriver prevented Chrome from displaying this notification. Recently, the &quot;disable-infobars&quot; option has been deprecated and no longer removes the notification. The current workaround for this is to pass in an option called &quot;excludeSwitches&quot; and then exclude the &quot;enable_automation&quot; switch.\r\n\r\n    ChromeOptions options = new ChromeOptions(); \r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;}); \r\n    WebDriver driver = new ChromeDriver(options); \r\n","title":"Chrome is being controlled by automated test software","body":"<p>Previously, passing the \"disable-infobars” ChromeOption to the WebDriver prevented Chrome from displaying this notification. Recently, the \"disable-infobars\" option has been deprecated and no longer removes the notification. The current workaround for this is to pass in an option called \"excludeSwitches\" and then exclude the \"enable_automation\" switch.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions(); \noptions.setExperimentalOption(\"excludeSwitches\", new String[]{\"enable-automation\"}); \nWebDriver driver = new ChromeDriver(options); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2303244,"reputation":1851,"user_id":2023074,"display_name":"jgode"},"score":10,"creation_date":1607357317,"post_id":43147194,"comment_id":115240557,"body_markdown":"That answer was from over 3 years ago. Chrome might have changed the argument. [This might help](https://help.applitools.com/hc/en-us/articles/360007189411--Chrome-is-being-controlled-by-automated-test-software-notification)","body":"That answer was from over 3 years ago. Chrome might have changed the argument. <a href=\"https://help.applitools.com/hc/en-us/articles/360007189411--Chrome-is-being-controlled-by-automated-test-software-notification\" rel=\"nofollow noreferrer\">This might help</a>"},{"owner":{"account_id":1503576,"reputation":10087,"user_id":1407491,"accept_rate":63,"display_name":"Nabi K.A.Z."},"score":0,"creation_date":1649017345,"post_id":43147194,"comment_id":126763685,"body_markdown":"don&#39;t work for me in JavaScript","body":"don&#39;t work for me in JavaScript"}],"tags":[],"owner":{"account_id":2303244,"reputation":1851,"user_id":2023074,"display_name":"jgode"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1490984153,"creation_date":1490984153,"answer_id":43147194,"question_id":43143014,"body_markdown":"Add this to the options you pass to the driver:\r\n\r\n\toptions.addArguments(&quot;disable-infobars&quot;);\r\n","title":"Chrome is being controlled by automated test software","body":"<p>Add this to the options you pass to the driver:</p>\n\n<pre><code>options.addArguments(\"disable-infobars\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8435489,"reputation":11,"user_id":6329786,"display_name":"Sasank Sarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491460194,"creation_date":1491460194,"answer_id":43247380,"question_id":43143014,"body_markdown":"    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    //To Turns off multiple download warning\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    \r\n    prefs.put( &quot;profile.content_settings.pattern_pairs.*.multiple-automatic-downloads&quot;, 1 );\r\n    \t\t\t\t\t\r\n    //Turns off download prompt\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    \t\t\t\t\tprefs.put(&quot;credentials_enable_service&quot;, false);\r\n    //To Stop Save password propmts\r\n    prefs.put(&quot;password_manager_enabled&quot;, false);\r\n    \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;chrome.switches&quot;,&quot;--disable-extensions&quot;);\r\n    //To Disable any browser notifications\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    //To disable yellow strip info bar which prompts info messages\r\n    options.addArguments(&quot;disable-infobars&quot;);\r\n    \r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Chromedriver path&quot;);\r\n    options.addArguments(&quot;--test-type&quot;);\r\n    driver = new ChromeDriver(options);\r\n    Log.info(&quot;Chrome browser started&quot;);","title":"Chrome is being controlled by automated test software","body":"<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n//To Turns off multiple download warning\nprefs.put(\"profile.default_content_settings.popups\", 0);\n\nprefs.put( \"profile.content_settings.pattern_pairs.*.multiple-automatic-downloads\", 1 );\n\n//Turns off download prompt\nprefs.put(\"download.prompt_for_download\", false);\n                    prefs.put(\"credentials_enable_service\", false);\n//To Stop Save password propmts\nprefs.put(\"password_manager_enabled\", false);\n\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"chrome.switches\",\"--disable-extensions\");\n//To Disable any browser notifications\noptions.addArguments(\"--disable-notifications\");\n//To disable yellow strip info bar which prompts info messages\noptions.addArguments(\"disable-infobars\");\n\noptions.setExperimentalOption(\"prefs\", prefs);\nSystem.setProperty(\"webdriver.chrome.driver\", \"Chromedriver path\");\noptions.addArguments(\"--test-type\");\ndriver = new ChromeDriver(options);\nLog.info(\"Chrome browser started\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3029527,"reputation":7159,"user_id":2568849,"accept_rate":79,"display_name":"Mesut GUNES"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1491471438,"creation_date":1491471438,"answer_id":43251314,"question_id":43143014,"body_markdown":"May someone needs this for Capybara, Watir should be like this:\r\n\r\n    Capybara.register_driver :chrome do |app|\r\n      $driver = Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; [ &quot;--disable-infobars&quot; ]})\r\n    end\r\n","title":"Chrome is being controlled by automated test software","body":"<p>May someone needs this for Capybara, Watir should be like this:</p>\n\n<pre><code>Capybara.register_driver :chrome do |app|\n  $driver = Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; [ \"--disable-infobars\" ]})\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":531975,"reputation":314,"user_id":903184,"accept_rate":100,"display_name":"PDD"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495155637,"creation_date":1495155637,"answer_id":44059870,"question_id":43143014,"body_markdown":"If anyone is using **Rails 5.1+**, which changed the testing structure a bit and Capybara is configured in this file now for system tests:\r\n\r\n    application_system_test_case.rb\r\n\r\nYou can add **&quot;args&quot;** in the options for **driven_by** like this:\r\n\r\n    driven_by :selenium, using: :chrome, screen_size: [1400, 1400], options: { args: [&quot;--disable-infobars&quot;] }","title":"Chrome is being controlled by automated test software","body":"<p>If anyone is using <strong>Rails 5.1+</strong>, which changed the testing structure a bit and Capybara is configured in this file now for system tests:</p>\n\n<pre><code>application_system_test_case.rb\n</code></pre>\n\n<p>You can add <strong>\"args\"</strong> in the options for <strong>driven_by</strong> like this:</p>\n\n<pre><code>driven_by :selenium, using: :chrome, screen_size: [1400, 1400], options: { args: [\"--disable-infobars\"] }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11521381,"reputation":1,"user_id":8443050,"display_name":"Tree Go"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551360431,"creation_date":1502337258,"answer_id":45604167,"question_id":43143014,"body_markdown":"It works for me by using **addArguments(array(&quot;disable-infobars&quot;))**\r\n\r\nThis is for **facebook/php-webdriver**\r\n\r\n    $options = new ChromeOptions();\r\n    $options-&gt;addArguments(array(&quot;disable-infobars&quot;));\r\n    $capabilities = DesiredCapabilities::chrome();\r\n    $capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\r\n    $this-&gt;driver = RemoteWebDriver::create(&#39;http://localhost:4444/wd/hub&#39;, $capabilities);\r\n\r\n","title":"Chrome is being controlled by automated test software","body":"<p>It works for me by using <strong>addArguments(array(\"disable-infobars\"))</strong></p>\n\n<p>This is for <strong>facebook/php-webdriver</strong></p>\n\n<pre><code>$options = new ChromeOptions();\n$options-&gt;addArguments(array(\"disable-infobars\"));\n$capabilities = DesiredCapabilities::chrome();\n$capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\n$this-&gt;driver = RemoteWebDriver::create('http://localhost:4444/wd/hub', $capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530022,"reputation":179,"user_id":1427426,"display_name":"cwnewhouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510702778,"creation_date":1510678735,"answer_id":47291296,"question_id":43143014,"body_markdown":"While the `disable-infobars` route will work, it will likely suppress the infobar in all cases (as suggested [here][1]), not just the case that the OP is referring to. This is overkill at best, and could lead to unexpected and inexplicable behavior in the future if you are not getting some important message.\r\n\r\nI think it&#39;s better to leverage the provided [`enable-automation`][2] switch by ***disabling it*** in the [`excludeSwitches`][3] area of your config/setup while doing nothing with regards to `disable-inforbars`. The `enable-automation` switch&#39;s description:\r\n&gt; Inform users that their browser is being controlled by an automated test.\r\n\r\nFor `nightwatch.conf.js` it would look something like this (and worked for me):\r\n\r\n    desiredCapabilities: {\r\n      ...\r\n      chromeOptions: {\r\n        excludeSwitches: [&#39;enable-automation&#39;],\r\n        ...\r\n      }\r\n    }\r\n\r\n This should only do what we are after: getting rid of that specific pesky message!\r\n\r\n**Edit [2017-11-14]**: This is now causing an even more annoying `Disable Developer Mode Extensions` alert/warning. I&#39;ve tried every relevant-looking flag/switch I could find that might help, but to no avail. I&#39;ve filed a bug with Chromium, so we&#39;ll see and I&#39;ll try to swing back through here if I get a resolution.\r\n\r\n  [1]: https://sqa.stackexchange.com/a/26262/29072\r\n  [2]: https://peter.sh/experiments/chromium-command-line-switches/#enable-automation\r\n  [3]: https://sites.google.com/a/chromium.org/chromedriver/capabilities\r\n","title":"Chrome is being controlled by automated test software","body":"<p>While the <code>disable-infobars</code> route will work, it will likely suppress the infobar in all cases (as suggested <a href=\"https://sqa.stackexchange.com/a/26262/29072\">here</a>), not just the case that the OP is referring to. This is overkill at best, and could lead to unexpected and inexplicable behavior in the future if you are not getting some important message.</p>\n\n<p>I think it's better to leverage the provided <a href=\"https://peter.sh/experiments/chromium-command-line-switches/#enable-automation\" rel=\"nofollow noreferrer\"><code>enable-automation</code></a> switch by <strong><em>disabling it</em></strong> in the <a href=\"https://sites.google.com/a/chromium.org/chromedriver/capabilities\" rel=\"nofollow noreferrer\"><code>excludeSwitches</code></a> area of your config/setup while doing nothing with regards to <code>disable-inforbars</code>. The <code>enable-automation</code> switch's description:</p>\n\n<blockquote>\n  <p>Inform users that their browser is being controlled by an automated test.</p>\n</blockquote>\n\n<p>For <code>nightwatch.conf.js</code> it would look something like this (and worked for me):</p>\n\n<pre><code>desiredCapabilities: {\n  ...\n  chromeOptions: {\n    excludeSwitches: ['enable-automation'],\n    ...\n  }\n}\n</code></pre>\n\n<p>This should only do what we are after: getting rid of that specific pesky message!</p>\n\n<p><strong>Edit [2017-11-14]</strong>: This is now causing an even more annoying <code>Disable Developer Mode Extensions</code> alert/warning. I've tried every relevant-looking flag/switch I could find that might help, but to no avail. I've filed a bug with Chromium, so we'll see and I'll try to swing back through here if I get a resolution.</p>\n"},{"tags":[],"owner":{"account_id":5892098,"reputation":1045,"user_id":4638372,"accept_rate":86,"display_name":"MatthewThomas.dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517163107,"creation_date":1517163107,"answer_id":48489721,"question_id":43143014,"body_markdown":"**Protractor solution:**\r\n\r\nI arrived here searching for a **Protractor** solution, if useful for anyone I found, with help from the above answers; with Protractor you can add Chrome specific options to the chromeOptions object, within the capabilities object in the protractor.config file, for example to use the disable-infobars option discussed above use the following:\r\n\r\n    capabilities: {\r\n      &#39;browserName&#39;: &#39;chrome&#39;,\r\n      &#39;chromeOptions&#39;: {\r\n        &#39;args&#39;: [&#39;disable-infobars&#39;]\r\n      }\r\n    },\r\n\r\nTo use the enable-automation also discussed above:\r\n\r\n    capabilities: {\r\n      &#39;browserName&#39;: &#39;chrome&#39;,\r\n      &#39;chromeOptions&#39;: {\r\n        &#39;excludeSwitches&#39;: [&#39;enable-automation&#39;]\r\n      }\r\n    }\r\n\r\ndisable-infobars is preferred in my circumstances.","title":"Chrome is being controlled by automated test software","body":"<p><strong>Protractor solution:</strong></p>\n\n<p>I arrived here searching for a <strong>Protractor</strong> solution, if useful for anyone I found, with help from the above answers; with Protractor you can add Chrome specific options to the chromeOptions object, within the capabilities object in the protractor.config file, for example to use the disable-infobars option discussed above use the following:</p>\n\n<pre><code>capabilities: {\n  'browserName': 'chrome',\n  'chromeOptions': {\n    'args': ['disable-infobars']\n  }\n},\n</code></pre>\n\n<p>To use the enable-automation also discussed above:</p>\n\n<pre><code>capabilities: {\n  'browserName': 'chrome',\n  'chromeOptions': {\n    'excludeSwitches': ['enable-automation']\n  }\n}\n</code></pre>\n\n<p>disable-infobars is preferred in my circumstances.</p>\n"},{"tags":[],"owner":{"account_id":13533484,"reputation":39,"user_id":9763287,"display_name":"Rishi12"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530782996,"creation_date":1530782996,"answer_id":51187878,"question_id":43143014,"body_markdown":"    public WebDriver SetupChromeDriver(){\r\n    \t\t//Initialize Chrome Driver\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\tprefs.put(&quot;safebrowsing.enabled&quot;, &quot;true&quot;); \r\n    \t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n    \t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n    \t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\toptions.addArguments(&quot;disable-infobars&quot;);\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:/Importent Softwares/Chrome Driver/chromedriver_2.37.exe&quot;);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\treturn driver;\r\n    }","title":"Chrome is being controlled by automated test software","body":"<pre><code>public WebDriver SetupChromeDriver(){\n        //Initialize Chrome Driver\n        ChromeOptions options = new ChromeOptions();\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n        prefs.put(\"safebrowsing.enabled\", \"true\"); \n        options.setExperimentalOption(\"prefs\", prefs); \n        options.addArguments(\"--disable-notifications\");\n        options.addArguments(\"--start-maximized\");\n        options.addArguments(\"disable-infobars\");\n        System.setProperty(\"webdriver.chrome.driver\", \"E:/Importent Softwares/Chrome Driver/chromedriver_2.37.exe\");\n        driver = new ChromeDriver(options);\n        return driver;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13096471,"reputation":89,"user_id":9462260,"display_name":"Rajeev"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1565692203,"creation_date":1565689681,"answer_id":57475171,"question_id":43143014,"body_markdown":"    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \r\n    WebDriver driver = new ChromeDriver(options);\r\n\r\nUse the above codes for latest Chrome drivers.","title":"Chrome is being controlled by automated test software","body":"<pre><code>ChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"useAutomationExtension\", false);\noptions.setExperimentalOption(\"excludeSwitches\",Collections.singletonList(\"enable-automation\"));    \nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Use the above codes for latest Chrome drivers.</p>\n"},{"comments":[{"owner":{"account_id":12801312,"reputation":4312,"user_id":11343720,"display_name":"Wang Liang"},"score":0,"creation_date":1573547946,"post_id":57782058,"comment_id":103907712,"body_markdown":"This is woked for me","body":"This is woked for me"},{"owner":{"account_id":13073792,"reputation":1657,"user_id":9446598,"display_name":"XavierAM"},"score":0,"creation_date":1578224137,"post_id":57782058,"comment_id":105362966,"body_markdown":"Hi @David Piao, I don&#39;t have any AddAdditionalOption method on ChromeOptions class, am I missing something?","body":"Hi @David Piao, I don&#39;t have any AddAdditionalOption method on ChromeOptions class, am I missing something?"},{"owner":{"account_id":12547071,"reputation":706,"user_id":9129979,"display_name":"JM217"},"score":0,"creation_date":1578236592,"post_id":57782058,"comment_id":105366335,"body_markdown":"Are you sure you are using C#/Selenium?","body":"Are you sure you are using C#/Selenium?"},{"owner":{"account_id":10703009,"reputation":386,"user_id":7877686,"display_name":"Fidan"},"score":1,"creation_date":1581064401,"post_id":57782058,"comment_id":106312085,"body_markdown":"if you don&#39;t have `AddAdditionalOption`, check for `AddAdditionalCapability`","body":"if you don&#39;t have <code>AddAdditionalOption</code>, check for <code>AddAdditionalCapability</code>"},{"owner":{"account_id":6017828,"reputation":2957,"user_id":4725998,"accept_rate":75,"display_name":"BVengerov"},"score":0,"creation_date":1588858386,"post_id":57782058,"comment_id":109066116,"body_markdown":"Thanks for the answer! It&#39;s very dissatisfying that there is no comprehensive resource for Chrome capabilities...","body":"Thanks for the answer! It&#39;s very dissatisfying that there is no comprehensive resource for Chrome capabilities..."}],"tags":[],"owner":{"account_id":12547071,"reputation":706,"user_id":9129979,"display_name":"JM217"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1584355818,"creation_date":1567575296,"answer_id":57782058,"question_id":43143014,"body_markdown":"&quot;disable-info&quot; switch is not supported anymore for the latest chromedrivers. (at least 76.0).&lt;br&gt;\r\n@Rajeev&#39;s answer works and here I write the counterpart for C#.\r\n```\r\nChromeOptions chromeOptions = new ChromeOptions();\r\nchromeOptions.AddAdditionalCapability(&quot;useAutomationExtension&quot;, false);\r\nchromeOptions.AddExcludedArgument(&quot;enable-automation&quot;);\r\nDriver = new ChromeDriver(chromeOptions);\r\n```\r\n","title":"Chrome is being controlled by automated test software","body":"<p>\"disable-info\" switch is not supported anymore for the latest chromedrivers. (at least 76.0).<br>\n@Rajeev's answer works and here I write the counterpart for C#.</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.AddAdditionalCapability(\"useAutomationExtension\", false);\nchromeOptions.AddExcludedArgument(\"enable-automation\");\nDriver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5087593,"reputation":3,"user_id":4081637,"display_name":"JexAce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568204105,"creation_date":1568204105,"answer_id":57888922,"question_id":43143014,"body_markdown":"You may use this \r\n\r\n    options1.add_argument(&quot;--app=https://www.google.com.ph&quot;)","title":"Chrome is being controlled by automated test software","body":"<p>You may use this </p>\n\n<pre><code>options1.add_argument(\"--app=https://www.google.com.ph\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5053439,"reputation":1026,"user_id":4057328,"display_name":"Sodium"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573470146,"creation_date":1573470146,"answer_id":58800089,"question_id":43143014,"body_markdown":"&quot;disable-infobars&quot; flag has been deprecated, but you can avoid this message by adding the following:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \r\n    WebDriver driver = new ChromeDriver(chromeOptions);","title":"Chrome is being controlled by automated test software","body":"<p>\"disable-infobars\" flag has been deprecated, but you can avoid this message by adding the following:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setExperimentalOption(\"useAutomationExtension\", false);\nchromeOptions.setExperimentalOption(\"excludeSwitches\",Collections.singletonList(\"enable-automation\"));    \nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9066347,"reputation":126,"user_id":14163916,"display_name":"FSA"},"score":0,"creation_date":1675145965,"post_id":65762853,"comment_id":132860324,"body_markdown":"Jan 2023 - This solution works great on my part.","body":"Jan 2023 - This solution works great on my part."}],"tags":[],"owner":{"account_id":17812728,"reputation":61,"user_id":12936934,"display_name":"Mika Berglund"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610899313,"creation_date":1610899313,"answer_id":65762853,"question_id":43143014,"body_markdown":"Tried many of these suggested solutions, but none of them worked. OK, my code is in C#, so there might be some differences in the WebDriver implementations for different platforms.\r\n\r\nAnyway, the solution that I got working was using the following options for Chrome when running on .NET.\r\n\r\n``` C#\r\nvar options = new ChromeOptions();\r\noptions.AddExcludedArguments(&quot;enable-automation&quot;);\r\n```\r\n\r\nOn .NET there doesn&#39;t seem to be any `setExperimentalOption()` method on the `ChromeOptions` class.","title":"Chrome is being controlled by automated test software","body":"<p>Tried many of these suggested solutions, but none of them worked. OK, my code is in C#, so there might be some differences in the WebDriver implementations for different platforms.</p>\n<p>Anyway, the solution that I got working was using the following options for Chrome when running on .NET.</p>\n<pre><code>var options = new ChromeOptions();\noptions.AddExcludedArguments(&quot;enable-automation&quot;);\n</code></pre>\n<p>On .NET there doesn't seem to be any <code>setExperimentalOption()</code> method on the <code>ChromeOptions</code> class.</p>\n"},{"tags":[],"owner":{"account_id":6781289,"reputation":89,"user_id":5223342,"display_name":"Lo&#239;c Joachim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617853578,"creation_date":1617853578,"answer_id":66997061,"question_id":43143014,"body_markdown":"It took a lot of fiddling but eventually I found a combination of flags that **works in 2021!** \r\n\r\nThis tells Chrome to ignore all SSL errors, disables the &quot;*Chrome is being controlled by automated test software*&quot; message and starts in full screen. \r\nAdd it to the Target field of your shortcut:\r\n\r\n    &quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot; --ignore-certificate-errors --test-type=webdriver --start-fullscreen","title":"Chrome is being controlled by automated test software","body":"<p>It took a lot of fiddling but eventually I found a combination of flags that <strong>works in 2021!</strong></p>\n<p>This tells Chrome to ignore all SSL errors, disables the &quot;<em>Chrome is being controlled by automated test software</em>&quot; message and starts in full screen.\nAdd it to the Target field of your shortcut:</p>\n<pre><code>&quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot; --ignore-certificate-errors --test-type=webdriver --start-fullscreen\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8980539,"reputation":49,"user_id":6695921,"accept_rate":0,"display_name":"Ashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623862782,"creation_date":1623862425,"answer_id":68007044,"question_id":43143014,"body_markdown":"It works for me, with this code I am able to disable **Chrome is being controlled by automated test software** as well as the **Save password popup**`\r\n\r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;credentials_enable_service&quot;, false);\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n \r\n    WebDriver driver = new ChromeDriver(options)","title":"Chrome is being controlled by automated test software","body":"<p>It works for me, with this code I am able to disable <strong>Chrome is being controlled by automated test software</strong> as well as the <strong>Save password popup</strong>`</p>\n<pre><code>    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;credentials_enable_service&quot;, false);\n\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n\nWebDriver driver = new ChromeDriver(options)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22072486,"reputation":81,"user_id":16333335,"display_name":"Prottoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699493764,"creation_date":1645735174,"answer_id":71257995,"question_id":43143014,"body_markdown":"**Works on 2022**\r\n\r\n**remove Chrome is being controlled by automated test software in python**\r\n\r\n```python\r\nfrom selenium.webdriver.chrome.webdriver import WebDriver\r\nfrom selenium.webdriver.chrome.options import Options\r\n\r\nchromeOptions = webdriver.ChromeOptions()\r\nchromeOptions.add_experimental_option(&quot;excludeSwitches&quot;, [&#39;enable-automation&#39;]);\r\nURL = &quot;https://google.com/&quot;\r\ndriver.get(URL)\r\n```","title":"Chrome is being controlled by automated test software","body":"<p><strong>Works on 2022</strong></p>\n<p><strong>remove Chrome is being controlled by automated test software in python</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>from selenium.webdriver.chrome.webdriver import WebDriver\nfrom selenium.webdriver.chrome.options import Options\n\nchromeOptions = webdriver.ChromeOptions()\nchromeOptions.add_experimental_option(&quot;excludeSwitches&quot;, ['enable-automation']);\nURL = &quot;https://google.com/&quot;\ndriver.get(URL)\n</code></pre>\n"}],"owner":{"account_id":9438736,"reputation":423,"user_id":7019951,"display_name":"BobbyB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123515,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":17,"score":41,"last_activity_date":1699493764,"creation_date":1490970025,"question_id":43143014,"body_markdown":"I am running automated tests in Chrome with Serenity BDD (Selenium).\r\n\r\nI had to download a new ChromeDriver, because my tests could not run -&gt; The test would open ChromeDriver but could not &quot;Browse as user&quot;. When I googled the issue, they said I had to update ChromeDriver.\r\n\r\nSo I updated ChromeDriver to version 2.28 and I also updated the Chrome version to Version 57.0.2987.98.\r\n\r\nBut now - EVERY TIME I run my tests this annoying text comes up:\r\n\r\n&gt; Chrome is being controlled by automated test software\r\n\r\nAnd it asks me if I want to save password. (I can&#39;t add pictures because I don&#39;t have enough &quot;points&quot;)\r\n\r\nIn the previous version, I had managed to block these 2 things by:\r\n\r\n    public class CustomChromeDriver implements DriverSource {\r\n    \r\n        @Override\r\n        public WebDriver newDriver() {\r\n            try {\r\n                DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n                Proxy proxy = new Proxy();\r\n                String proxyServer = String.format(&quot;AProxyIDontWantToDisplay&quot;, System.getenv(&quot;proxy.username&quot;), System.getenv(&quot;proxy.password&quot;));\r\n                proxy.setHttpProxy(proxyServer);\r\n                capabilities.setCapability(&quot;proxy&quot;, proxy);\r\n                ChromeOptions options = new ChromeOptions();\r\n                options.addArguments(Arrays.asList(&quot;--no-sandbox&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--homepage=about:blank&quot;,&quot;--no-first-run&quot;));\r\n                capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n                ChromeDriver driver = new ChromeDriver(capabilities);\r\n                return driver;\r\n            } catch (Exception e) {\r\n                throw new Error(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean takesScreenshots() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nI know there is this one ([A link to same issue][1]),\r\nbut there are too many answers that don&#39;t work. \r\n\r\nAnybody that knows how to remove that?\r\n\r\n\r\n  [1]: https://sqa.stackexchange.com/questions/26051/chrome-driver-2-28-chrome-is-being-controlled-by-automated-test-software-notif","title":"Chrome is being controlled by automated test software","body":"<p>I am running automated tests in Chrome with Serenity BDD (Selenium).</p>\n\n<p>I had to download a new ChromeDriver, because my tests could not run -> The test would open ChromeDriver but could not \"Browse as user\". When I googled the issue, they said I had to update ChromeDriver.</p>\n\n<p>So I updated ChromeDriver to version 2.28 and I also updated the Chrome version to Version 57.0.2987.98.</p>\n\n<p>But now - EVERY TIME I run my tests this annoying text comes up:</p>\n\n<blockquote>\n  <p>Chrome is being controlled by automated test software</p>\n</blockquote>\n\n<p>And it asks me if I want to save password. (I can't add pictures because I don't have enough \"points\")</p>\n\n<p>In the previous version, I had managed to block these 2 things by:</p>\n\n<pre><code>public class CustomChromeDriver implements DriverSource {\n\n    @Override\n    public WebDriver newDriver() {\n        try {\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n            Proxy proxy = new Proxy();\n            String proxyServer = String.format(\"AProxyIDontWantToDisplay\", System.getenv(\"proxy.username\"), System.getenv(\"proxy.password\"));\n            proxy.setHttpProxy(proxyServer);\n            capabilities.setCapability(\"proxy\", proxy);\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(Arrays.asList(\"--no-sandbox\",\"--ignore-certificate-errors\",\"--homepage=about:blank\",\"--no-first-run\"));\n            capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n            ChromeDriver driver = new ChromeDriver(capabilities);\n            return driver;\n        } catch (Exception e) {\n            throw new Error(e);\n        }\n    }\n\n    @Override\n    public boolean takesScreenshots() {\n        return true;\n    }\n}\n</code></pre>\n\n<p>I know there is this one (<a href=\"https://sqa.stackexchange.com/questions/26051/chrome-driver-2-28-chrome-is-being-controlled-by-automated-test-software-notif\">A link to same issue</a>),\nbut there are too many answers that don't work. </p>\n\n<p>Anybody that knows how to remove that?</p>\n"},{"tags":["java","generics","type-erasure","raw-types"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1699431104,"post_id":77443781,"comment_id":136529041,"body_markdown":"What do you mean by &quot;Why&quot;? What kind of answer are you looking for? See https://stackoverflow.com/q/11007723/5133585 for a quote in the Java Language Specification that specifies this behaviour, if that&#39;s what you want.","body":"What do you mean by &quot;Why&quot;? What kind of answer are you looking for? See <a href=\"https://stackoverflow.com/q/11007723/5133585\">stackoverflow.com/q/11007723/5133585</a> for a quote in the Java Language Specification that specifies this behaviour, if that&#39;s what you want."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699444677,"post_id":77443781,"comment_id":136531491,"body_markdown":"The `List&lt;String&gt;` is not “erased to `List&lt;Object&gt;`”, as that wouldn’t be erasure but an incompatible type change. The `List&lt;String&gt;` is erased to `List`.","body":"The <code>List&lt;String&gt;</code> is not “erased to <code>List&lt;Object&gt;</code>”, as that wouldn’t be erasure but an incompatible type change. The <code>List&lt;String&gt;</code> is erased to <code>List</code>."},{"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"score":0,"creation_date":1699494055,"post_id":77443781,"comment_id":136540305,"body_markdown":"@Sweeper, @Holger, thanks for reply. I just don&#39;t understand why the type `List&lt;String&gt;` of `stringList` is erased, why it&#39;s designed in this way.  I think when `MyTemplate` is used as a raw type, it just means the formal type `T` is not specified. But the type of `stringList` is definitely `List&lt;String&gt;`, it doesn&#39;t depend on `T`.","body":"@Sweeper, @Holger, thanks for reply. I just don&#39;t understand why the type <code>List&lt;String&gt;</code> of <code>stringList</code> is erased, why it&#39;s designed in this way.  I think when <code>MyTemplate</code> is used as a raw type, it just means the formal type <code>T</code> is not specified. But the type of <code>stringList</code> is definitely <code>List&lt;String&gt;</code>, it doesn&#39;t depend on <code>T</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699627378,"post_id":77443781,"comment_id":136559400,"body_markdown":"The declared type of `stringList`, `List&lt;String&gt;`, does not depend on `T` but that doesn’t matter when you access this member through the raw type `MyTemplate`. All members of the raw type will have a raw type, regardless of whether their type depends on the owner’s type parameters. A well known example is [`&lt;T&gt; T[] toArray(T[] a)`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D)) applied on a raw `Collection`. Its type parameter `T` does not depend on the collection’s `E`, still, calling on a raw `Collection` yields a raw `Object[]`.","body":"The declared type of <code>stringList</code>, <code>List&lt;String&gt;</code>, does not depend on <code>T</code> but that doesn’t matter when you access this member through the raw type <code>MyTemplate</code>. All members of the raw type will have a raw type, regardless of whether their type depends on the owner’s type parameters. A well known example is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; T[] toArray(T[] a)</code></a> applied on a raw <code>Collection</code>. Its type parameter <code>T</code> does not depend on the collection’s <code>E</code>, still, calling on a raw <code>Collection</code> yields a raw <code>Object[]</code>."},{"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"score":0,"creation_date":1699630088,"post_id":77443781,"comment_id":136560007,"body_markdown":"Holger - All right, obviously I was in a wrong cognition, thank you for educating me.","body":"Holger - All right, obviously I was in a wrong cognition, thank you for educating me."}],"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699431403,"answer_count":0,"score":0,"last_activity_date":1699493582,"creation_date":1699430770,"question_id":77443781,"body_markdown":"Given below example:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MyTemplate&lt;T&gt; {\r\n\r\n    T parameterizedObj;\r\n    List&lt;String&gt; stringList;\r\n\r\n    public static void main(String[] args) {\r\n        String a = new MyTemplate().getStringList().get(0);\r\n    }\r\n\r\n    public List&lt;String&gt; getStringList() {\r\n        if (stringList == null) {\r\n            stringList = new ArrayList&lt;&gt;();\r\n            stringList.add(&quot;Hello&quot;);\r\n        }\r\n        return stringList;\r\n    }\r\n}\r\n```\r\nBelow error is given when compiling\r\n```\r\n/home/***/test/src/main/java/MyTemplate.java:10:56\r\njava: incompatible types: java.lang.Object cannot be converted to java.lang.String\r\n```\r\nWhen MyTemplate is used as a raw type in this form `new MyTemplate()` in line 10.\r\n\r\nI can understand the type of `T parameterizedObj` is erased to Object.\r\n\r\nBut I can&#39;t understand why `List&lt;String&gt; stringList` is erased to `List`. Since it has been concretized as `List&lt;String&gt;`. Why?\r\n\r\nI read the document [Raw Types][1] and [Type Erasure][2], but don&#39;t find an answer, I think they&#39;re talking about the use case of `T parameterizedObj`, not `List&lt;String&gt; stringList`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Why java raw type erase types of concretized members","body":"<p>Given below example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class MyTemplate&lt;T&gt; {\n\n    T parameterizedObj;\n    List&lt;String&gt; stringList;\n\n    public static void main(String[] args) {\n        String a = new MyTemplate().getStringList().get(0);\n    }\n\n    public List&lt;String&gt; getStringList() {\n        if (stringList == null) {\n            stringList = new ArrayList&lt;&gt;();\n            stringList.add(&quot;Hello&quot;);\n        }\n        return stringList;\n    }\n}\n</code></pre>\n<p>Below error is given when compiling</p>\n<pre><code>/home/***/test/src/main/java/MyTemplate.java:10:56\njava: incompatible types: java.lang.Object cannot be converted to java.lang.String\n</code></pre>\n<p>When MyTemplate is used as a raw type in this form <code>new MyTemplate()</code> in line 10.</p>\n<p>I can understand the type of <code>T parameterizedObj</code> is erased to Object.</p>\n<p>But I can't understand why <code>List&lt;String&gt; stringList</code> is erased to <code>List</code>. Since it has been concretized as <code>List&lt;String&gt;</code>. Why?</p>\n<p>I read the document <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">Raw Types</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Type Erasure</a>, but don't find an answer, I think they're talking about the use case of <code>T parameterizedObj</code>, not <code>List&lt;String&gt; stringList</code></p>\n"},{"tags":["java","oracle","hibernate","ojdbc","oracle18c"],"answers":[{"comments":[{"owner":{"account_id":13897366,"reputation":31,"user_id":10033845,"display_name":"Marcin Sobolewski"},"score":0,"creation_date":1603996562,"post_id":64584148,"comment_id":114219873,"body_markdown":"I&#39;ve tried both values of this flag and in both cases situation is excaclty the same.If set to false as You mentioned above, column names remains unquoted as expected.","body":"I&#39;ve tried both values of this flag and in both cases situation is excaclty the same.If set to false as You mentioned above, column names remains unquoted as expected."}],"tags":[],"owner":{"account_id":16800883,"reputation":570,"user_id":14404460,"display_name":"devnull"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603938919,"creation_date":1603938919,"answer_id":64584148,"question_id":64581066,"body_markdown":"Can you please try to use \r\n\r\n    hibernate.globally_quoted_identifiers=false\r\n\r\nand ensure that DDL creating table does not use quotes i.e.\r\n\r\n    Create table &quot;ormtester.ADRESSES&quot; (\r\n        id  number(19) .......\r\n      .....\r\n       primary key (Id) .....\r\n      );","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>Can you please try to use</p>\n<pre><code>hibernate.globally_quoted_identifiers=false\n</code></pre>\n<p>and ensure that DDL creating table does not use quotes i.e.</p>\n<pre><code>Create table &quot;ormtester.ADRESSES&quot; (\n    id  number(19) .......\n  .....\n   primary key (Id) .....\n  );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13897366,"reputation":31,"user_id":10033845,"display_name":"Marcin Sobolewski"},"score":0,"creation_date":1604067455,"post_id":64605597,"comment_id":114241919,"body_markdown":"I&#39;m using the code-way configuration. However thanks for the hint - I&#39;m using datasource which extends `AbstractRoutingDataSource` for possiblity of switching them at runtime depending on the current needs. But something went wrong with switching the dialect, so everything ran with MySQL dialect - Sql Server, MySQL and Postgres had no problems with it, only Oracle. So in this situation I can easily mark Your answer as the most helpful, because when I&#39;ve tried to hardcode right oracle dialect, everything works like a charm, so the problem is partially solved. Again - thanks for this hint!","body":"I&#39;m using the code-way configuration. However thanks for the hint - I&#39;m using datasource which extends <code>AbstractRoutingDataSource</code> for possiblity of switching them at runtime depending on the current needs. But something went wrong with switching the dialect, so everything ran with MySQL dialect - Sql Server, MySQL and Postgres had no problems with it, only Oracle. So in this situation I can easily mark Your answer as the most helpful, because when I&#39;ve tried to hardcode right oracle dialect, everything works like a charm, so the problem is partially solved. Again - thanks for this hint!"}],"tags":[],"owner":{"account_id":19859222,"reputation":26,"user_id":14547915,"display_name":"dagru"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604049519,"creation_date":1604049519,"answer_id":64605597,"question_id":64581066,"body_markdown":"I had the same issue. My fault was a wrong hibernate dialect in persistence.xml.\r\nI changed it from org.hibernate.dialect.SQLServerDialect to **org.hibernate.dialect.Oracle12cDialect**\r\n\r\nIt may help you.","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I had the same issue. My fault was a wrong hibernate dialect in persistence.xml.\nI changed it from org.hibernate.dialect.SQLServerDialect to <strong>org.hibernate.dialect.Oracle12cDialect</strong></p>\n<p>It may help you.</p>\n"},{"tags":[],"owner":{"account_id":25136070,"reputation":1,"user_id":18982829,"display_name":"Th&#224;nh Thủy Nguyễn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699493316,"creation_date":1699493316,"answer_id":77449909,"question_id":64581066,"body_markdown":"I changed it from hibernate entity manager 5.0.0. Final to 5.6.15. Final and it is fixed\r\n","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I changed it from hibernate entity manager 5.0.0. Final to 5.6.15. Final and it is fixed</p>\n"}],"owner":{"account_id":13897366,"reputation":31,"user_id":10033845,"display_name":"Marcin Sobolewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3502,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64605597,"answer_count":3,"score":-1,"last_activity_date":1699493316,"creation_date":1603918115,"question_id":64581066,"body_markdown":"I have a problem with application made with Java 8, Spring 5, Hibernate 5.4.8 and Oracle 18c database. \r\n\r\nSpeaking about fundamental database config, I&#39;m using the `oracle.jdbc.OracleDriver` driver class and `org.hibernate.dialect.Oracle12cDialect` dialect along with the `ojdbc8 v.18.3.0.0` \r\n\r\nI&#39;m trying to insert an entity presented below: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n(and *BaseEntity* class):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs I mentioned in the title of the question and at the beginnning - I have a problem when I&#39;m trying to insert *Address* entity. The error I&#39;m receiving is ORA-17132 invalid conversion requested.\r\n\r\nTo be clear, full error code is: `SQL Error: 17132, SQLState: 99999` and the stack trace is:\r\n\r\n        2020-10-28 21:30:59.951 DEBUG 4988 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not insert: [com.ormtester.datasources.domain.Address] [insert into ormtester.ADDRESSES (CITY, HOME_NUMBER, POSTAL_CODE, STREET) values (?, ?, ?, ?)]\r\n    \r\n    java.sql.SQLException: Zażądano niepoprawnej konwersji\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:781)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.getNUMBER(T4CVarcharAccessor.java:251)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.getLong(T4CVarcharAccessor.java:549)\r\n    \tat oracle.jdbc.driver.GeneratedStatement.getLong(GeneratedStatement.java:206)\r\n    \tat oracle.jdbc.driver.GeneratedScrollableResultSet.getLong(GeneratedScrollableResultSet.java:259)\r\n    \tat org.hibernate.id.IdentifierGeneratorHelper.get(IdentifierGeneratorHelper.java:120)\r\n    \tat org.hibernate.id.IdentifierGeneratorHelper.getGeneratedIdentity(IdentifierGeneratorHelper.java:77)\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:61)\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3106)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3699)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:335)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:198)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:128)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:702)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:688)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\r\n    \tat com.sun.proxy.$Proxy107.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:588)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy113.saveAll(Unknown Source)\r\n    \tat com.ormtester.datasources.loader.DataLoader.loadAddresses(DataLoader.java:126)\r\n    \tat com.ormtester.datasources.loader.DataLoader.loadDataIntoSchema(DataLoader.java:93)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:772)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat com.ormtester.datasources.loader.DataLoader$$EnhancerBySpringCGLIB$$75d765cd.loadDataIntoSchema(&lt;generated&gt;)\r\n    \tat com.ormtester.datasources.loader.SchemaLoader.loadData(SchemaLoader.java:27)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.regenerateSchema(BaseTestableService.java:34)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.invoke(BaseTestableService.java:45)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.fireTest(BaseTestableService.java:66)\r\n    \tat com.ormtester.standaloneapp.service.PrecedentTestingService.doTests(PrecedentTestingService.java:39)\r\n    \tat com.ormtester.standaloneapp.ws.TestingController.doTests(TestingController.java:25)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NumberFormatException: null\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:497)\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:383)\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:809)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:776)\r\n    \t... 118 common frames omitted\r\nSpeaking about generated query, in my jdbc log I can see that the values are binded properly to the insert statement, everything looks fine. Whole database has been created from Hibernate&#39;s hbm2ddl tool based on the same entity, the ADDRESSES table (binded with entity) is looking as below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe interesting fact is that when I&#39;m trying to execute the same insert statement (mentioned before, took from the JDBC&#39;s logs) straightly on the database, everything works fine. I have also tried changing versions of the `ojdbc8` from 12.x even to the newest 19.3.0.0 and the problem is still present and still the same. \r\n\r\nI have a strange feeling that Hibernate and/or ojdbc have some troubles with this kind of identity generation (but Oracle18c gives us the choice between autogeneration and sequences) but I cannot figure out , what causes the issue and how to resolve it. \r\n\r\nMaybe someone is able to help me with it? \r\n\r\nI will be really grateful for every help!\r\n\r\n  [1]: https://i.stack.imgur.com/SHKsr.png\r\n  [2]: https://i.stack.imgur.com/GHIic.png\r\n  [3]: https://i.stack.imgur.com/5EUzA.png","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I have a problem with application made with Java 8, Spring 5, Hibernate 5.4.8 and Oracle 18c database.</p>\n<p>Speaking about fundamental database config, I'm using the <code>oracle.jdbc.OracleDriver</code> driver class and <code>org.hibernate.dialect.Oracle12cDialect</code> dialect along with the <code>ojdbc8 v.18.3.0.0</code></p>\n<p>I'm trying to insert an entity presented below:</p>\n<p><a href=\"https://i.stack.imgur.com/SHKsr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SHKsr.png\" alt=\"enter image description here\" /></a></p>\n<p>(and <em>BaseEntity</em> class):</p>\n<p><a href=\"https://i.stack.imgur.com/GHIic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHIic.png\" alt=\"enter image description here\" /></a></p>\n<p>As I mentioned in the title of the question and at the beginnning - I have a problem when I'm trying to insert <em>Address</em> entity. The error I'm receiving is ORA-17132 invalid conversion requested.</p>\n<p>To be clear, full error code is: <code>SQL Error: 17132, SQLState: 99999</code> and the stack trace is:</p>\n<pre><code>    2020-10-28 21:30:59.951 DEBUG 4988 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not insert: [com.ormtester.datasources.domain.Address] [insert into ormtester.ADDRESSES (CITY, HOME_NUMBER, POSTAL_CODE, STREET) values (?, ?, ?, ?)]\n\njava.sql.SQLException: Zażądano niepoprawnej konwersji\n    at oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:781)\n    at oracle.jdbc.driver.T4CVarcharAccessor.getNUMBER(T4CVarcharAccessor.java:251)\n    at oracle.jdbc.driver.T4CVarcharAccessor.getLong(T4CVarcharAccessor.java:549)\n    at oracle.jdbc.driver.GeneratedStatement.getLong(GeneratedStatement.java:206)\n    at oracle.jdbc.driver.GeneratedScrollableResultSet.getLong(GeneratedScrollableResultSet.java:259)\n    at org.hibernate.id.IdentifierGeneratorHelper.get(IdentifierGeneratorHelper.java:120)\n    at org.hibernate.id.IdentifierGeneratorHelper.getGeneratedIdentity(IdentifierGeneratorHelper.java:77)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:61)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3106)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3699)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:335)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:198)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:702)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:688)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\n    at com.sun.proxy.$Proxy107.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:588)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy113.saveAll(Unknown Source)\n    at com.ormtester.datasources.loader.DataLoader.loadAddresses(DataLoader.java:126)\n    at com.ormtester.datasources.loader.DataLoader.loadDataIntoSchema(DataLoader.java:93)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:772)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at com.ormtester.datasources.loader.DataLoader$$EnhancerBySpringCGLIB$$75d765cd.loadDataIntoSchema(&lt;generated&gt;)\n    at com.ormtester.datasources.loader.SchemaLoader.loadData(SchemaLoader.java:27)\n    at com.ormtester.datasources.base.BaseTestableService.regenerateSchema(BaseTestableService.java:34)\n    at com.ormtester.datasources.base.BaseTestableService.invoke(BaseTestableService.java:45)\n    at com.ormtester.datasources.base.BaseTestableService.fireTest(BaseTestableService.java:66)\n    at com.ormtester.standaloneapp.service.PrecedentTestingService.doTests(PrecedentTestingService.java:39)\n    at com.ormtester.standaloneapp.ws.TestingController.doTests(TestingController.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NumberFormatException: null\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:497)\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:383)\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:809)\n    at oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:776)\n    ... 118 common frames omitted\n</code></pre>\n<p>Speaking about generated query, in my jdbc log I can see that the values are binded properly to the insert statement, everything looks fine. Whole database has been created from Hibernate's hbm2ddl tool based on the same entity, the ADDRESSES table (binded with entity) is looking as below:</p>\n<p><a href=\"https://i.stack.imgur.com/5EUzA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5EUzA.png\" alt=\"enter image description here\" /></a></p>\n<p>The interesting fact is that when I'm trying to execute the same insert statement (mentioned before, took from the JDBC's logs) straightly on the database, everything works fine. I have also tried changing versions of the <code>ojdbc8</code> from 12.x even to the newest 19.3.0.0 and the problem is still present and still the same.</p>\n<p>I have a strange feeling that Hibernate and/or ojdbc have some troubles with this kind of identity generation (but Oracle18c gives us the choice between autogeneration and sequences) but I cannot figure out , what causes the issue and how to resolve it.</p>\n<p>Maybe someone is able to help me with it?</p>\n<p>I will be really grateful for every help!</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":5115041,"reputation":131,"user_id":4100486,"accept_rate":0,"display_name":"Zixing Wang"},"score":0,"creation_date":1456173392,"post_id":35562088,"comment_id":58814789,"body_markdown":"myButton1 is created on the activity_transition_demo.xml, so it is referred by View view =findViewById(R.id.myButton1);","body":"myButton1 is created on the activity_transition_demo.xml, so it is referred by View view =findViewById(R.id.myButton1);"},{"owner":{"account_id":4918962,"reputation":3446,"user_id":3962091,"accept_rate":71,"display_name":"NoChinDeluxe"},"score":0,"creation_date":1456177717,"post_id":35562088,"comment_id":58817385,"body_markdown":"Please post the code for `activity_transition_demo.xml`","body":"Please post the code for <code>activity_transition_demo.xml</code>"}],"tags":[],"owner":{"account_id":4918962,"reputation":3446,"user_id":3962091,"accept_rate":71,"display_name":"NoChinDeluxe"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456168964,"creation_date":1456168964,"answer_id":35562088,"question_id":35562024,"body_markdown":"This means that your View `myButton1` did not exist and so your line `View view = findViewById(R.id.myButton1);` returned `null`. Make sure you actually have a Button or some other view with the id `myButton1` assigned in your layout xml file.","title":"setLayoutParams on a null object reference","body":"<p>This means that your View <code>myButton1</code> did not exist and so your line <code>View view = findViewById(R.id.myButton1);</code> returned <code>null</code>. Make sure you actually have a Button or some other view with the id <code>myButton1</code> assigned in your layout xml file.</p>\n"}],"owner":{"account_id":5115041,"reputation":131,"user_id":4100486,"accept_rate":0,"display_name":"Zixing Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699494007,"answer_count":1,"score":0,"last_activity_date":1699491990,"creation_date":1456168774,"question_id":35562024,"body_markdown":"I learn a very simple animation sample from Book &quot;Android Studio Development edition 6, Essentials&quot; Chapter 29&quot; and get an error as shown on logcat file:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setLayoutParams(android.view.ViewGroup$LayoutParams)&#39; on a null object reference.\r\n\r\nMy sample codes that are compiled successfully as shown below:\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.Toast;\r\n    \r\n    public class TransitionDemoActivity extends AppCompatActivity {\r\n        ViewGroup myLayout;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_transition_demo);\r\n    \r\n            myLayout=(ViewGroup)findViewById(R.id.myLayout);\r\n            myLayout.setOnTouchListener(\r\n                    new RelativeLayout.OnTouchListener() {\r\n                        public boolean onTouch(View v, MotionEvent m) {\r\n    \r\n                            handleTouch();\r\n                              return true;\r\n                        }\r\n                    });\r\n    \r\n        }\r\n        public void handleTouch() {\r\n            Toast.makeText(this,&quot;Touching&quot;,Toast.LENGTH_LONG).show();//for listener test\r\n    \r\n           View view = findViewById(R.id.myButton1);\r\n    \r\n            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams\r\n                    (RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n    \r\n           params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT,\r\n                    RelativeLayout.TRUE);\r\n            params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,\r\n                    RelativeLayout.TRUE);\r\n    \r\n           **view.setLayoutParams(params);**\r\n    \r\n            ViewGroup.LayoutParams lparams = view.getLayoutParams();\r\n    \r\n            lparams.width = 500;\r\n            lparams.height = 350;\r\n            view.setLayoutParams(lparams);\r\n        }\r\n    }\r\nI trace the code line to find the error code location on &quot;view.setLayoutParams(params), but I just can&#39;t resolve this issue. Anyone can help me.\r\nThanks","title":"setLayoutParams on a null object reference","body":"<p>I learn a very simple animation sample from Book \"Android Studio Development edition 6, Essentials\" Chapter 29\" and get an error as shown on logcat file:</p>\n\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setLayoutParams(android.view.ViewGroup$LayoutParams)' on a null object reference.</p>\n\n<p>My sample codes that are compiled successfully as shown below:</p>\n\n<pre><code>import android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.RelativeLayout;\nimport android.widget.Toast;\n\npublic class TransitionDemoActivity extends AppCompatActivity {\n    ViewGroup myLayout;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_transition_demo);\n\n        myLayout=(ViewGroup)findViewById(R.id.myLayout);\n        myLayout.setOnTouchListener(\n                new RelativeLayout.OnTouchListener() {\n                    public boolean onTouch(View v, MotionEvent m) {\n\n                        handleTouch();\n                          return true;\n                    }\n                });\n\n    }\n    public void handleTouch() {\n        Toast.makeText(this,\"Touching\",Toast.LENGTH_LONG).show();//for listener test\n\n       View view = findViewById(R.id.myButton1);\n\n        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams\n                (RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT);\n\n       params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT,\n                RelativeLayout.TRUE);\n        params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,\n                RelativeLayout.TRUE);\n\n       **view.setLayoutParams(params);**\n\n        ViewGroup.LayoutParams lparams = view.getLayoutParams();\n\n        lparams.width = 500;\n        lparams.height = 350;\n        view.setLayoutParams(lparams);\n    }\n}\n</code></pre>\n\n<p>I trace the code line to find the error code location on \"view.setLayoutParams(params), but I just can't resolve this issue. Anyone can help me.\nThanks</p>\n"},{"tags":["java","string","newline","line-breaks"],"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1264780087,"post_id":2163045,"comment_id":2107360,"body_markdown":"Do you want to eliminate all line breaks? Or you want to uniformize them to a standard solution?","body":"Do you want to eliminate all line breaks? Or you want to uniformize them to a standard solution?"},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":4,"creation_date":1264780164,"post_id":2163045,"comment_id":2107376,"body_markdown":"Oh, if you want to delete all linefeeds, remove all \\n AND all \\r (because Windows linebreak is \\r\\n).","body":"Oh, if you want to delete all linefeeds, remove all \\n AND all \\r (because Windows linebreak is \\r\\n)."},{"owner":{"account_id":3578723,"reputation":843,"user_id":2987410,"display_name":"Sourav Chandra"},"score":1,"creation_date":1474292669,"post_id":2163045,"comment_id":66459237,"body_markdown":"Hey, FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use\n\n `myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)`\n\nOr replace with a single space\n\n  `myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)`","body":"Hey, FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use   <code>myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)</code>  Or replace with a single space    <code>myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1264780151,"post_id":2163056,"comment_id":2107372,"body_markdown":"+1, correct. As to the reason: String is **immutable**. The `replace()` method **returns** the desired result. Also see the API docs: http://java.sun.com/javase/6/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29 *Edit:* ah you already edited that yourself in afterwards :)","body":"+1, correct. As to the reason: String is <b>immutable</b>. The <code>replace()</code> method <b>returns</b> the desired result. Also see the API docs: <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/lang/&hellip;</a> <i>Edit:</i> ah you already edited that yourself in afterwards :)"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":89,"creation_date":1264780444,"post_id":2163056,"comment_id":2107418,"body_markdown":"Perhaps `text = text.replace(&quot;\\r\\n&quot;, &quot; &quot;).replace(&quot;\\n&quot;, &quot; &quot;);` is a better solution: otherwise words will be &quot;glued&quot; to each other (without the single-space replacement).","body":"Perhaps <code>text = text.replace(&quot;\\r\\n&quot;, &quot; &quot;).replace(&quot;\\n&quot;, &quot; &quot;);</code> is a better solution: otherwise words will be &quot;glued&quot; to each other (without the single-space replacement)."},{"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"score":0,"creation_date":1264780598,"post_id":2163056,"comment_id":2107440,"body_markdown":"Yeah, that&#39;s possible.  It all depends on what type of data you&#39;re trying to modify.  Sometimes (for data such as COBOL copybooks) you don&#39;t want there to be any spaces between the lines.","body":"Yeah, that&#39;s possible.  It all depends on what type of data you&#39;re trying to modify.  Sometimes (for data such as COBOL copybooks) you don&#39;t want there to be any spaces between the lines."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1264780731,"post_id":2163056,"comment_id":2107463,"body_markdown":"True, it all depends on what the OP is trying to do.","body":"True, it all depends on what the OP is trying to do."},{"owner":{"account_id":993260,"reputation":2717,"user_id":1009901,"accept_rate":90,"display_name":"Yeti"},"score":15,"creation_date":1461682133,"post_id":2163056,"comment_id":61304050,"body_markdown":"You could also use square brackets to match newlines properly for any OS: `.replaceAll(&quot;[\\\\r\\\\n]+&quot;, &quot;&quot;)`","body":"You could also use square brackets to match newlines properly for any OS: <code>.replaceAll(&quot;[\\\\r\\\\n]+&quot;, &quot;&quot;)</code>"},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":3,"creation_date":1518161365,"post_id":2163056,"comment_id":84399904,"body_markdown":"As the question is asking for replacing ALL occurrences, the solution is rather `text = text.replaceAll(&quot;\\n&quot;, &quot;&quot;).replaceAll(&quot;\\r&quot;, &quot;&quot;);`","body":"As the question is asking for replacing ALL occurrences, the solution is rather <code>text = text.replaceAll(&quot;\\n&quot;, &quot;&quot;).replaceAll(&quot;\\r&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":4040918,"reputation":727,"user_id":3323802,"display_name":"Joonas Vali"},"score":7,"creation_date":1522835462,"post_id":2163056,"comment_id":86303753,"body_markdown":"@basZero `replaceAll` takes in regex, `replace` takes in literal strings, both replace all occurences.","body":"@basZero <code>replaceAll</code> takes in regex, <code>replace</code> takes in literal strings, both replace all occurences."},{"owner":{"account_id":5020545,"reputation":287,"user_id":4034143,"display_name":"hmac"},"score":1,"creation_date":1543597449,"post_id":2163056,"comment_id":93989390,"body_markdown":"be careful creating a System dependency, it might be what you want but I had a unit test with a static String that was passing on local Windows machine but failing on Continuous Integration build machine (Linux)","body":"be careful creating a System dependency, it might be what you want but I had a unit test with a static String that was passing on local Windows machine but failing on Continuous Integration build machine (Linux)"},{"owner":{"account_id":8318870,"reputation":252,"user_id":6251262,"accept_rate":75,"display_name":"Amit"},"score":0,"creation_date":1577217428,"post_id":2163056,"comment_id":105124367,"body_markdown":"When the input text is like this : C:\\SomeFolder\\AnotherFolder , we get the output as : C:SomeFolderAnotherFolder. Means, it removes the backslashes, although, it was not intended to do so.","body":"When the input text is like this : C:\\SomeFolder\\AnotherFolder , we get the output as : C:SomeFolderAnotherFolder. Means, it removes the backslashes, although, it was not intended to do so."},{"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"score":0,"creation_date":1660574001,"post_id":2163056,"comment_id":129558239,"body_markdown":"You won&#39;t believe what [this fixed](https://stackoverflow.com/questions/73357183/issue-with-arrays-streambody-split-foreach/73362088#73362088)","body":"You won&#39;t believe what <a href=\"https://stackoverflow.com/questions/73357183/issue-with-arrays-streambody-split-foreach/73362088#73362088\">this fixed</a>"}],"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":10,"down_vote_count":1,"up_vote_count":517,"is_accepted":true,"score":516,"last_activity_date":1344297570,"creation_date":1264780038,"answer_id":2163056,"question_id":2163045,"body_markdown":"You need to set `text` to the results of `text.replace()`:\r\n\r\n    String text = readFileAsString(&quot;textfile.txt&quot;);\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);\r\n\r\nThis is necessary because Strings are immutable -- calling `replace` doesn&#39;t change the original String, it returns a new one that&#39;s been changed.  If you don&#39;t assign the result to `text`, then that new String is lost and garbage collected.\r\n\r\nAs for getting the newline String for any environment -- that is available by calling `System.getProperty(&quot;line.separator&quot;)`.","title":"How to remove line breaks from a file in Java?","body":"<p>You need to set <code>text</code> to the results of <code>text.replace()</code>:</p>\n\n<pre><code>String text = readFileAsString(\"textfile.txt\");\ntext = text.replace(\"\\n\", \"\").replace(\"\\r\", \"\");\n</code></pre>\n\n<p>This is necessary because Strings are immutable -- calling <code>replace</code> doesn't change the original String, it returns a new one that's been changed.  If you don't assign the result to <code>text</code>, then that new String is lost and garbage collected.</p>\n\n<p>As for getting the newline String for any environment -- that is available by calling <code>System.getProperty(\"line.separator\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":80592,"reputation":26519,"user_id":227803,"display_name":"Viktor Klang"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1264780562,"creation_date":1264780166,"answer_id":2163074,"question_id":2163045,"body_markdown":"    String text = readFileAsString(&quot;textfile.txt&quot;).replace(&quot;\\n&quot;,&quot;&quot;);\r\n\r\n.replace returns a new string, strings in Java are Immutable.","title":"How to remove line breaks from a file in Java?","body":"<pre><code>String text = readFileAsString(\"textfile.txt\").replace(\"\\n\",\"\");\n</code></pre>\n\n<p>.replace returns a new string, strings in Java are Immutable.</p>\n"},{"tags":[],"owner":{"account_id":21334,"reputation":11095,"user_id":51760,"display_name":"Aif"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1264780183,"creation_date":1264780183,"answer_id":2163078,"question_id":2163045,"body_markdown":"Linebreaks are not the same under windows/linux/mac. You should use [System.getProperties][1] with the attribute line.separator.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()","title":"How to remove line breaks from a file in Java?","body":"<p>Linebreaks are not the same under windows/linux/mac. You should use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"noreferrer\">System.getProperties</a> with the attribute line.separator.</p>\n"},{"comments":[{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":2,"creation_date":1264782012,"post_id":2163104,"comment_id":2107651,"body_markdown":"To avoid gluing word together (as discussed in comments to Kaleb&#39;s answer) the regex approach could be modified to `text.replaceAll(&quot;(\\\\r|\\\\n)+&quot;, &quot; &quot;)` and (assuming greedy is default in Java?) you will have a solution with just *one* space for each sequence of new line chars.","body":"To avoid gluing word together (as discussed in comments to Kaleb&#39;s answer) the regex approach could be modified to <code>text.replaceAll(&quot;(\\\\r|\\\\n)+&quot;, &quot; &quot;)</code> and (assuming greedy is default in Java?) you will have a solution with just <i>one</i> space for each sequence of new line chars."}],"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1426678527,"creation_date":1264780340,"answer_id":2163104,"question_id":2163045,"body_markdown":"If you want to remove only line terminators that are valid on the current OS, you could do this:\r\n\r\n    text = text.replaceAll(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\r\n\r\nIf you want to make sure you remove any line separators, you can do it like this:\r\n\r\n    text = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\r\nOr, slightly more verbose, but less regexy:\r\n\r\n    text = text.replaceAll(&quot;\\\\r&quot;, &quot;&quot;).replaceAll(&quot;\\\\n&quot;, &quot;&quot;);","title":"How to remove line breaks from a file in Java?","body":"<p>If you want to remove only line terminators that are valid on the current OS, you could do this:</p>\n\n<pre><code>text = text.replaceAll(System.getProperty(\"line.separator\"), \"\");\n</code></pre>\n\n<p>If you want to make sure you remove any line separators, you can do it like this:</p>\n\n<pre><code>text = text.replaceAll(\"\\\\r|\\\\n\", \"\");\n</code></pre>\n\n<p>Or, slightly more verbose, but less regexy:</p>\n\n<pre><code>text = text.replaceAll(\"\\\\r\", \"\").replaceAll(\"\\\\n\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9512984,"reputation":275,"user_id":7070356,"display_name":"HankNessip"},"score":4,"creation_date":1572624377,"post_id":2163204,"comment_id":103627764,"body_markdown":"This is an EXCELLENT answer. Kudos for the Java 8 examples. Thank you for the help!","body":"This is an EXCELLENT answer. Kudos for the Java 8 examples. Thank you for the help!"},{"owner":{"account_id":16191688,"reputation":219,"user_id":11690248,"display_name":"Parthan_akon"},"score":0,"creation_date":1606298154,"post_id":2163204,"comment_id":114919751,"body_markdown":"Thanks this worked for me... btw can u explain text = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);","body":"Thanks this worked for me... btw can u explain text = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);"},{"owner":{"account_id":1253609,"reputation":2019,"user_id":1213525,"accept_rate":75,"display_name":"Veda"},"score":0,"creation_date":1645104415,"post_id":2163204,"comment_id":125785706,"body_markdown":"Option 4: A \\r will normally not be alone. If there is a \\r there is a \\n.","body":"Option 4: A \\r will normally not be alone. If there is a \\r there is a \\n."},{"owner":{"account_id":1253609,"reputation":2019,"user_id":1213525,"accept_rate":75,"display_name":"Veda"},"score":0,"creation_date":1645104504,"post_id":2163204,"comment_id":125785749,"body_markdown":"@Parthan_akon It&#39;s a regex. | means or. It will replace the first block that matches. So if there is \\r\\n, it will be replaced with one space. If there is a \\r but no \\n or the other way around, it will also be one space. He does it this way to prevent replacing \\r and \\n by a space and ending up with 2 spaces.","body":"@Parthan_akon It&#39;s a regex. | means or. It will replace the first block that matches. So if there is \\r\\n, it will be replaced with one space. If there is a \\r but no \\n or the other way around, it will also be one space. He does it this way to prevent replacing \\r and \\n by a space and ending up with 2 spaces."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1645104867,"post_id":2163204,"comment_id":125785904,"body_markdown":"@Veda - Prior to MacOS 9, a `\\r` without an `\\n` was the line separator; see https://en.wikipedia.org/wiki/Newline.  And on other old systems.","body":"@Veda - Prior to MacOS 9, a <code>\\r</code> without an <code>\\n</code> was the line separator; see <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Newline</a>.  And on other old systems."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":272,"is_accepted":false,"score":272,"last_activity_date":1606313064,"creation_date":1264781272,"answer_id":2163204,"question_id":2163045,"body_markdown":"As noted in other answers, your code is not working *primarily* because `String.replace(...)` does not change the target `String`.  (It can&#39;t - Java strings are immutable!)  What `replace` actually does is to create and return  a new `String` object with the characters changed as required.  But your code then throws away that `String` ...\r\n\r\n----------\r\n\r\nHere are some possible solutions.  Which one is most correct depends on what exactly you are trying to do.\r\n    \r\n    // #1\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nSimply removes all the newline characters.  This does not cope with Windows or Mac line terminations.\r\n\r\n    // #2\r\n    text = text.replace(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\r\n\r\nRemoves all line terminators for the current platform.  This does not cope with the case where you are trying to process (for example) a UNIX file on Windows, or vice versa.\r\n\r\n    // #3\r\n    text = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\r\nRemoves all Windows, UNIX or Mac line terminators.  However, if the input file is text, this will concatenate words; e.g.\r\n\r\n    Goodbye cruel\r\n    world.\r\n\r\nbecomes\r\n\r\n    Goodbye cruelworld.\r\n\r\nSo you might actually want to do this:\r\n\r\n    // #4\r\n    text = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\r\n\r\nwhich replaces each line terminator with a space&lt;sup&gt;1&lt;/sup&gt;.  Since Java 8 you can also do this:\r\n\r\n    // #5\r\n    text = text.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\r\n\r\nAnd if you want to replace multiple line terminator with one space:\r\n\r\n    // #6\r\n    text = text.replaceAll(&quot;\\\\R+&quot;, &quot; &quot;);\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - Note there is a subtle difference between #3 and #4.  The sequence `\\r\\n` represents a single (Windows) line terminator, so we need to be careful not to replace it with two spaces.&lt;/sup&gt;\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>As noted in other answers, your code is not working <em>primarily</em> because <code>String.replace(...)</code> does not change the target <code>String</code>.  (It can't - Java strings are immutable!)  What <code>replace</code> actually does is to create and return  a new <code>String</code> object with the characters changed as required.  But your code then throws away that <code>String</code> ...</p>\n<hr />\n<p>Here are some possible solutions.  Which one is most correct depends on what exactly you are trying to do.</p>\n<pre><code>// #1\ntext = text.replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Simply removes all the newline characters.  This does not cope with Windows or Mac line terminations.</p>\n<pre><code>// #2\ntext = text.replace(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\n</code></pre>\n<p>Removes all line terminators for the current platform.  This does not cope with the case where you are trying to process (for example) a UNIX file on Windows, or vice versa.</p>\n<pre><code>// #3\ntext = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Removes all Windows, UNIX or Mac line terminators.  However, if the input file is text, this will concatenate words; e.g.</p>\n<pre><code>Goodbye cruel\nworld.\n</code></pre>\n<p>becomes</p>\n<pre><code>Goodbye cruelworld.\n</code></pre>\n<p>So you might actually want to do this:</p>\n<pre><code>// #4\ntext = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\n</code></pre>\n<p>which replaces each line terminator with a space<sup>1</sup>.  Since Java 8 you can also do this:</p>\n<pre><code>// #5\ntext = text.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\n</code></pre>\n<p>And if you want to replace multiple line terminator with one space:</p>\n<pre><code>// #6\ntext = text.replaceAll(&quot;\\\\R+&quot;, &quot; &quot;);\n</code></pre>\n<hr />\n<p><sup>1 - Note there is a subtle difference between #3 and #4.  The sequence <code>\\r\\n</code> represents a single (Windows) line terminator, so we need to be careful not to replace it with two spaces.</sup></p>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1264784246,"creation_date":1264784246,"answer_id":2163543,"question_id":2163045,"body_markdown":"You may want to read your file with a `BufferedReader`. This class can break input into individual lines, which you can assemble at will. The way `BufferedReader` operates recognizes line ending conventions of the Linux, Windows and MacOS worlds automatically, regardless of the current platform.\r\n\r\nHence:\r\n\r\n    BufferedReader br = new BufferedReader(\r\n        new InputStreamReader(&quot;textfile.txt&quot;));\r\n    StringBuilder sb = new StringBuilder();\r\n    for (;;) {\r\n        String line = br.readLine();\r\n        if (line == null)\r\n            break;\r\n        sb.append(line);\r\n        sb.append(&#39; &#39;);   // SEE BELOW\r\n    }\r\n    String text = sb.toString();\r\n\r\nNote that `readLine()` does not include the line terminator in the returned string. The code above appends a space to avoid gluing together the last word of a line and the first word of the next line.\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>You may want to read your file with a <code>BufferedReader</code>. This class can break input into individual lines, which you can assemble at will. The way <code>BufferedReader</code> operates recognizes line ending conventions of the Linux, Windows and MacOS worlds automatically, regardless of the current platform.</p>\n\n<p>Hence:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(\n    new InputStreamReader(\"textfile.txt\"));\nStringBuilder sb = new StringBuilder();\nfor (;;) {\n    String line = br.readLine();\n    if (line == null)\n        break;\n    sb.append(line);\n    sb.append(' ');   // SEE BELOW\n}\nString text = sb.toString();\n</code></pre>\n\n<p>Note that <code>readLine()</code> does not include the line terminator in the returned string. The code above appends a space to avoid gluing together the last word of a line and the first word of the next line.</p>\n"},{"tags":[],"owner":{"account_id":1798931,"reputation":41,"user_id":1637702,"display_name":"MukeshKoshyM"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511278592,"creation_date":1346387254,"answer_id":12208919,"question_id":2163045,"body_markdown":"    String text = readFileAsString(&quot;textfile.txt&quot;).replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nEven though the definition of trim() in oracle website is \r\n&quot;Returns a copy of the string, with leading and trailing whitespace omitted.&quot;\r\n\r\nthe documentation omits to say that new line characters (leading and trailing) will also be removed.\r\n\r\nIn short\r\n`String text = readFileAsString(&quot;textfile.txt&quot;).trim();` will also work for you.\r\n (Checked with Java 6)","title":"How to remove line breaks from a file in Java?","body":"<pre><code>String text = readFileAsString(\"textfile.txt\").replaceAll(\"\\n\", \"\");\n</code></pre>\n\n<p>Even though the definition of trim() in oracle website is \n\"Returns a copy of the string, with leading and trailing whitespace omitted.\"</p>\n\n<p>the documentation omits to say that new line characters (leading and trailing) will also be removed.</p>\n\n<p>In short\n<code>String text = readFileAsString(\"textfile.txt\").trim();</code> will also work for you.\n (Checked with Java 6)</p>\n"},{"comments":[{"owner":{"account_id":1897127,"reputation":3556,"user_id":1713824,"accept_rate":56,"display_name":"Rob"},"score":5,"creation_date":1352457572,"post_id":13306123,"comment_id":18147309,"body_markdown":"if you replace `\\n` there is no `\\r\\n` anymore\nif you replace \\n and there is an \\\\n it will be replaced so only the \\ will remain.","body":"if you replace <code>\\n</code> there is no <code>\\r\\n</code> anymore if you replace \\n and there is an \\\\n it will be replaced so only the \\ will remain."}],"tags":[],"owner":{"account_id":2027195,"reputation":21,"user_id":1811866,"display_name":"seyf"},"comment_count":1,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1352457630,"creation_date":1352456285,"answer_id":13306123,"question_id":2163045,"body_markdown":"Try doing this:\r\n\r\n\r\n     textValue= textValue.replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\t&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\t&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\r&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\r&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);","title":"How to remove line breaks from a file in Java?","body":"<p>Try doing this:</p>\n\n<pre><code> textValue= textValue.replaceAll(\"\\n\", \"\");\n textValue= textValue.replaceAll(\"\\t\", \"\");\n textValue= textValue.replaceAll(\"\\\\n\", \"\");\n textValue= textValue.replaceAll(\"\\\\t\", \"\");\n textValue= textValue.replaceAll(\"\\r\", \"\");\n textValue= textValue.replaceAll(\"\\\\r\", \"\");\n textValue= textValue.replaceAll(\"\\r\\n\", \"\");\n textValue= textValue.replaceAll(\"\\\\r\\\\n\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1577756,"reputation":446,"user_id":1463812,"display_name":"JSBach"},"score":0,"creation_date":1572728104,"post_id":15313599,"comment_id":103651666,"body_markdown":"Make sure you have the exact same code, rather than losing the &quot;\\n&quot; chars while pasting. Because it should work. Maybe it&#39;s because I forgot the last semicolon (;) at the end.","body":"Make sure you have the exact same code, rather than losing the &quot;\\n&quot; chars while pasting. Because it should work. Maybe it&#39;s because I forgot the last semicolon (;) at the end."}],"tags":[],"owner":{"account_id":1577756,"reputation":446,"user_id":1463812,"display_name":"JSBach"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1572624776,"creation_date":1362849362,"answer_id":15313599,"question_id":2163045,"body_markdown":"This would be efficient I guess\r\n\r\n    String s;\r\n    s = &quot;try this\\n try me.&quot;;\r\n    s.replaceAll(&quot;[\\\\r\\\\n]+&quot;, &quot;&quot;)\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>This would be efficient I guess</p>\n\n<pre><code>String s;\ns = \"try this\\n try me.\";\ns.replaceAll(\"[\\\\r\\\\n]+\", \"\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2703293,"reputation":203,"user_id":2333501,"display_name":"xxx"},"score":0,"creation_date":1615916498,"post_id":24960480,"comment_id":117838724,"body_markdown":"I was trying to do it individually, not sure why it was not working, this one works like charm.","body":"I was trying to do it individually, not sure why it was not working, this one works like charm."}],"tags":[],"owner":{"account_id":4801205,"reputation":149,"user_id":3877798,"display_name":"Ren&#225;n D"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1406306337,"creation_date":1406306337,"answer_id":24960480,"question_id":2163045,"body_markdown":"    str = str.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\r\n\r\nWorked perfectly for me after searching a lot, having failed with every other line.","title":"How to remove line breaks from a file in Java?","body":"<pre><code>str = str.replaceAll(\"\\\\r\\\\n|\\\\r|\\\\n\", \" \");\n</code></pre>\n\n<p>Worked perfectly for me after searching a lot, having failed with every other line.</p>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483474612,"creation_date":1453411341,"answer_id":34934604,"question_id":2163045,"body_markdown":"You can use apache commons IOUtils to iterate through the line and append each line to StringBuilder. And don&#39;t forget to close the InputStream \r\n\r\n \r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    FileInputStream fin=new FileInputStream(&quot;textfile.txt&quot;);\r\n    LineIterator lt=IOUtils.lineIterator(fin, &quot;utf-8&quot;);\r\n    while(lt.hasNext())\r\n    {\r\n      sb.append(lt.nextLine());\r\n    }\r\n    String text = sb.toString();\r\n    IOUtils.closeQuitely(fin);","title":"How to remove line breaks from a file in Java?","body":"<p>You can use apache commons IOUtils to iterate through the line and append each line to StringBuilder. And don't forget to close the InputStream </p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nFileInputStream fin=new FileInputStream(\"textfile.txt\");\nLineIterator lt=IOUtils.lineIterator(fin, \"utf-8\");\nwhile(lt.hasNext())\n{\n  sb.append(lt.nextLine());\n}\nString text = sb.toString();\nIOUtils.closeQuitely(fin);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3279819,"reputation":3088,"user_id":2760679,"display_name":"Lucas Crawford"},"score":0,"creation_date":1492190917,"post_id":38160859,"comment_id":73891460,"body_markdown":"`StringUtils.replaceEachRepeatedly(myString, new String[]{&quot;\\n&quot;, &quot;\\t&quot;}, new String[]{StringUtils.Empty, StringUtils.Empty});`","body":"<code>StringUtils.replaceEachRepeatedly(myString, new String[]{&quot;\\n&quot;, &quot;\\t&quot;}, new String[]{StringUtils.Empty, StringUtils.Empty});</code>"}],"tags":[],"owner":{"account_id":1507404,"reputation":9617,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467467112,"creation_date":1467467112,"answer_id":38160859,"question_id":2163045,"body_markdown":"I find it odd that (Apache) [StringUtils][1] wasn&#39;t covered here yet.\r\n\r\nyou can remove all newlines (or any other occurences of a substring for that matter) from a string using the `.replace` method\r\n\r\n    StringUtils.replace(myString, &quot;\\n&quot;, &quot;&quot;);\r\n\r\nThis line will replace all newlines with the empty string. \r\n\r\n\r\nbecause newline is technically a character you can optionally use the `.replaceChars` method that will replace characters\r\n\r\n    StringUtils.replaceChars(myString, &#39;\\n&#39;, &#39;&#39;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to remove line breaks from a file in Java?","body":"<p>I find it odd that (Apache) <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow\">StringUtils</a> wasn't covered here yet.</p>\n\n<p>you can remove all newlines (or any other occurences of a substring for that matter) from a string using the <code>.replace</code> method</p>\n\n<pre><code>StringUtils.replace(myString, \"\\n\", \"\");\n</code></pre>\n\n<p>This line will replace all newlines with the empty string. </p>\n\n<p>because newline is technically a character you can optionally use the <code>.replaceChars</code> method that will replace characters</p>\n\n<pre><code>StringUtils.replaceChars(myString, '\\n', '');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578723,"reputation":843,"user_id":2987410,"display_name":"Sourav Chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474292644,"creation_date":1474292644,"answer_id":39574738,"question_id":2163045,"body_markdown":"FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use\r\n\r\n    myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)\r\n\r\nOr replace with a single space\r\n\r\n    myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)","title":"How to remove line breaks from a file in Java?","body":"<p>FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use</p>\n\n<pre><code>myString.trim().replaceAll(\"[\\n]{2,}\", \"\\n\")\n</code></pre>\n\n<p>Or replace with a single space</p>\n\n<pre><code>myString.trim().replaceAll(\"[\\n]{2,}\", \" \")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490936416,"creation_date":1490936416,"answer_id":43132785,"question_id":2163045,"body_markdown":"You can use generic methods to replace any char with any char.\r\n\r\n\tpublic static void removeWithAnyChar(String str, char replceChar,\r\n\t\t\tchar replaceWith) {\r\n\t\tchar chrs[] = str.toCharArray();\r\n\t\tint i = 0;\r\n\t\twhile (i &lt; chrs.length) {\r\n\r\n\t\t\tif (chrs[i] == replceChar) {\r\n\t\t\t\tchrs[i] = replaceWith;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to remove line breaks from a file in Java?","body":"<p>You can use generic methods to replace any char with any char.</p>\n\n<pre><code>public static void removeWithAnyChar(String str, char replceChar,\n        char replaceWith) {\n    char chrs[] = str.toCharArray();\n    int i = 0;\n    while (i &lt; chrs.length) {\n\n        if (chrs[i] == replceChar) {\n            chrs[i] = replaceWith;\n        }\n        i++;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6447090,"reputation":391,"user_id":4995291,"display_name":"David McWhorter"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1493419500,"creation_date":1493419112,"answer_id":43689791,"question_id":2163045,"body_markdown":"[This function][1] normalizes down all whitespace, including line breaks, to single spaces.  Not exactly what the original question asked for, but likely to do exactly what is needed in many cases:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    final String cleansedString = StringUtils.normalizeSpace(rawString);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-","title":"How to remove line breaks from a file in Java?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-\" rel=\"noreferrer\">This function</a> normalizes down all whitespace, including line breaks, to single spaces.  Not exactly what the original question asked for, but likely to do exactly what is needed in many cases:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nfinal String cleansedString = StringUtils.normalizeSpace(rawString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2599161,"reputation":229,"user_id":2252076,"display_name":"Jo&#227;o Farias"},"score":3,"creation_date":1536827710,"post_id":50460567,"comment_id":91566429,"body_markdown":"-1 because [Deprecated](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chopNewline(java.lang.String)) and only removes at the end of the string.","body":"-1 because <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chopNewline(java.lang.String)\" rel=\"nofollow noreferrer\">Deprecated</a> and only removes at the end of the string."}],"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526967775,"creation_date":1526967775,"answer_id":50460567,"question_id":2163045,"body_markdown":"org.apache.commons.lang.StringUtils#chopNewline","title":"How to remove line breaks from a file in Java?","body":"<p>org.apache.commons.lang.StringUtils#chopNewline</p>\n"},{"comments":[{"owner":{"account_id":8491464,"reputation":1439,"user_id":6367660,"accept_rate":91,"display_name":"Chris J"},"score":0,"creation_date":1637067180,"post_id":68183822,"comment_id":123721566,"body_markdown":"This is not at all useful for what was asked.","body":"This is not at all useful for what was asked."},{"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"score":1,"creation_date":1637076902,"post_id":68183822,"comment_id":123726237,"body_markdown":"The question states: &quot;replace all line breaks from a string&quot; - and the solution does exactly that, in a simple, clean and reliable way.","body":"The question states: &quot;replace all line breaks from a string&quot; - and the solution does exactly that, in a simple, clean and reliable way."},{"owner":{"account_id":8491464,"reputation":1439,"user_id":6367660,"accept_rate":91,"display_name":"Chris J"},"score":1,"creation_date":1637146170,"post_id":68183822,"comment_id":123745699,"body_markdown":"They asked almost 12 years ago about Java - your answer about Kotlin is not of any use","body":"They asked almost 12 years ago about Java - your answer about Kotlin is not of any use"},{"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"score":1,"creation_date":1637233829,"post_id":68183822,"comment_id":123773947,"body_markdown":"My answer contains information about a Java method: `...since Java 11, String has lines() method...`. Kotlin example is a bonus.","body":"My answer contains information about a Java method: <code>...since Java 11, String has lines() method...</code>. Kotlin example is a bonus."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1666315191,"post_id":68183822,"comment_id":130913526,"body_markdown":"I don&#39;t know about Kotlin and haven&#39;t done Java recently. If it&#39;s the case that you aren&#39;t providing a complete solution for Java but you are for Kotlin, then I couldn&#39;t say you&#39;ve provided a full answer to the question that was asked.","body":"I don&#39;t know about Kotlin and haven&#39;t done Java recently. If it&#39;s the case that you aren&#39;t providing a complete solution for Java but you are for Kotlin, then I couldn&#39;t say you&#39;ve provided a full answer to the question that was asked."},{"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"score":0,"creation_date":1666353885,"post_id":68183822,"comment_id":130922874,"body_markdown":"Well, the question was asked more than 10 years ago. Welcome to the year 2022, absolute majority of professional Java developers heard about Kotlin and a lot of them are using Kotlin now. So this answer is relevant for a lot of people.","body":"Well, the question was asked more than 10 years ago. Welcome to the year 2022, absolute majority of professional Java developers heard about Kotlin and a lot of them are using Kotlin now. So this answer is relevant for a lot of people."}],"tags":[],"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"comment_count":6,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1624990727,"creation_date":1624990727,"answer_id":68183822,"question_id":2163045,"body_markdown":"In Kotlin, and also since Java 11, `String` has `lines()` method, which returns list of lines in the multi-line string.\r\nYou can get all the lines and then merge them into a single string.\r\n\r\nWith Kotlin it will be as simple as\r\n\r\n    str.lines().joinToString(&quot;&quot;)","title":"How to remove line breaks from a file in Java?","body":"<p>In Kotlin, and also since Java 11, <code>String</code> has <code>lines()</code> method, which returns list of lines in the multi-line string.\nYou can get all the lines and then merge them into a single string.</p>\n<p>With Kotlin it will be as simple as</p>\n<pre><code>str.lines().joinToString(&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":93140,"reputation":5391,"user_id":254944,"accept_rate":88,"display_name":"tree-hacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718999,"favorite_count":0,"down_vote_count":2,"up_vote_count":309,"accepted_answer_id":2163056,"answer_count":17,"score":307,"last_activity_date":1699490190,"creation_date":1264779891,"question_id":2163045,"body_markdown":"How can I replace all line breaks from a string in Java in such a way that will work on Windows and Linux (ie no OS specific problems of carriage return/line feed/new line etc.)?\r\n\r\nI&#39;ve tried (note readFileAsString is a function that reads a text file into a String):    \t\t\r\n\r\n    String text = readFileAsString(&quot;textfile.txt&quot;);\r\n    text.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nbut this doesn&#39;t seem to work.\r\n\r\nHow can this be done?","title":"How to remove line breaks from a file in Java?","body":"<p>How can I replace all line breaks from a string in Java in such a way that will work on Windows and Linux (ie no OS specific problems of carriage return/line feed/new line etc.)?</p>\n\n<p>I've tried (note readFileAsString is a function that reads a text file into a String):          </p>\n\n<pre><code>String text = readFileAsString(\"textfile.txt\");\ntext.replace(\"\\n\", \"\");\n</code></pre>\n\n<p>but this doesn't seem to work.</p>\n\n<p>How can this be done?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":1,"creation_date":1679957492,"post_id":75860721,"comment_id":133811082,"body_markdown":"Are you sure you would like to know about the top-most *object*? Python uses class-based OOP, not [prototype-based OOP](https://en.wikipedia.org/w/index.php?title=Prototype-based_programming&amp;oldid=1138055586).","body":"Are you sure you would like to know about the top-most <i>object</i>? Python uses class-based OOP, not <a href=\"https://en.wikipedia.org/w/index.php?title=Prototype-based_programming&amp;oldid=1138055586\" rel=\"nofollow noreferrer\">prototype-based OOP</a>."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1679958408,"post_id":75860721,"comment_id":133811201,"body_markdown":"What exactly do you mean by &quot;top most&quot;? Please also make sure you are clear about the distinction between objects and classes.","body":"What exactly do you mean by &quot;top most&quot;? Please also make sure you are clear about the distinction between objects and classes."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1679964578,"post_id":75860721,"comment_id":133812016,"body_markdown":"&quot;which is the top most object.&quot; you mean the *top most type or class*? In Java, it is `Object`, in Python, it is `object`","body":"&quot;which is the top most object.&quot; you mean the <i>top most type or class</i>? In Java, it is <code>Object</code>, in Python, it is <code>object</code>"}],"answers":[{"comments":[{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679955486,"post_id":75860770,"comment_id":133810783,"body_markdown":"I think this is correct, but could you add a reference to the [documentation](https://docs.python.org/3/reference/datamodel.html) and explain where/how this is stated there?","body":"I think this is correct, but could you add a reference to the <a href=\"https://docs.python.org/3/reference/datamodel.html\" rel=\"nofollow noreferrer\">documentation</a> and explain where/how this is stated there?"},{"owner":{"account_id":3731894,"reputation":712,"user_id":3103957,"display_name":"user3103957"},"score":0,"creation_date":1679955539,"post_id":75860770,"comment_id":133810796,"body_markdown":"If I am not wrong, what you have explained is class hierarchy. All class in Python inherits from Object class (just like Java). Actually I am interested in knowing the top most object in Python. Thanks for taking time and answering!","body":"If I am not wrong, what you have explained is class hierarchy. All class in Python inherits from Object class (just like Java). Actually I am interested in knowing the top most object in Python. Thanks for taking time and answering!"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679955829,"post_id":75860770,"comment_id":133810844,"body_markdown":"@LoverofStructure - oddly enough, I can&#39;t find any such statement in the doc.  Can you?  Feel free to edit my answer if you can.","body":"@LoverofStructure - oddly enough, I can&#39;t find any such statement in the doc.  Can you?  Feel free to edit my answer if you can."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679956105,"post_id":75860770,"comment_id":133810883,"body_markdown":"I&#39;m not aware of a top-most object as distinct from a top-most class.","body":"I&#39;m not aware of a top-most object as distinct from a top-most class."},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679956782,"post_id":75860770,"comment_id":133810984,"body_markdown":"Seems to be [here](https://docs.python.org/3/library/functions.html#object), though the other answerer seems to have found the right place in the documentation already.","body":"Seems to be <a href=\"https://docs.python.org/3/library/functions.html#object\" rel=\"nofollow noreferrer\">here</a>, though the other answerer seems to have found the right place in the documentation already."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1679964612,"post_id":75860770,"comment_id":133812020,"body_markdown":"@user3103957 &quot;top most object&quot; doesn&#39;t make any sense. That is not a standard term, so you are going to have to explain what you mean.","body":"@user3103957 &quot;top most object&quot; doesn&#39;t make any sense. That is not a standard term, so you are going to have to explain what you mean."},{"owner":{"account_id":3731894,"reputation":712,"user_id":3103957,"display_name":"user3103957"},"score":0,"creation_date":1679989530,"post_id":75860770,"comment_id":133815277,"body_markdown":"Sure, we come across this statement &quot;Everything is an object in Python.&quot; This is ubiquitous across the internet. So I understand there must be a top most object. This concept is not present in Java. It has a clean hierarchy: Object -&gt; other classes.","body":"Sure, we come across this statement &quot;Everything is an object in Python.&quot; This is ubiquitous across the internet. So I understand there must be a top most object. This concept is not present in Java. It has a clean hierarchy: Object -&gt; other classes."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":1,"creation_date":1680130072,"post_id":75860770,"comment_id":133847579,"body_markdown":"@user3103957 no, &quot;everything is an object&quot; **absolutly does not imply that there is a &quot;top most object&quot;** You sound fundamentally confused, because in Python, there is a clean hierarchy as well, `object -&gt; &lt;everything else&gt;`. &quot;everything is an object&quot; pretty much means there are no &quot;primitive types&quot; like in Java, vs &quot;object/reference types&quot;. There is no such distinction in Python. it doesn&#39;t imply anything about the class heirarchy (which python and java are the same in that respect that they have a top-level type named &quot;object&quot;)","body":"@user3103957 no, &quot;everything is an object&quot; <b>absolutly does not imply that there is a &quot;top most object&quot;</b> You sound fundamentally confused, because in Python, there is a clean hierarchy as well, <code>object -&gt; &lt;everything else&gt;</code>. &quot;everything is an object&quot; pretty much means there are no &quot;primitive types&quot; like in Java, vs &quot;object/reference types&quot;. There is no such distinction in Python. it doesn&#39;t imply anything about the class heirarchy (which python and java are the same in that respect that they have a top-level type named &quot;object&quot;)"},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1680130186,"post_id":75860770,"comment_id":133847599,"body_markdown":"@user3103957 note, you haven&#39;t even really *defined* what you mean by &quot;top most object&quot;.","body":"@user3103957 note, you haven&#39;t even really <i>defined</i> what you mean by &quot;top most object&quot;."},{"owner":{"account_id":878759,"reputation":3986,"user_id":134044,"display_name":"NeilG"},"score":0,"creation_date":1699487978,"post_id":75860770,"comment_id":136539781,"body_markdown":"If everything is an `object` then presumably the top-most `object` must be the `object` object?","body":"If everything is an <code>object</code> then presumably the top-most <code>object</code> must be the <code>object</code> object?"}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699489368,"creation_date":1679954862,"answer_id":75860770,"question_id":75860721,"body_markdown":"The root of the object hierarchy is &#39;object&#39;:\r\n\r\n     class foo:\r\n        pass\r\n\r\nand\r\n\r\n     class foo(object):\r\n         pass\r\n\r\nmean the same thing in Python3.\r\n\r\nEmpirical evidence:\r\n\r\n    &gt;&gt;&gt; class C:\r\n    ...  pass\r\n    ...\r\n    &gt;&gt;&gt; C.__bases__\r\n    (&lt;class &#39;object&#39;&gt;,)\r\n    &gt;&gt;&gt;\r\n\r\nDocumentation:\r\n\r\n- [https://docs.python.org/3/library/functions.html#object](https://docs.python.org/3/library/functions.html#object)","title":"Since everything in an object in Python, which is the top most object?","body":"<p>The root of the object hierarchy is 'object':</p>\n<pre><code> class foo:\n    pass\n</code></pre>\n<p>and</p>\n<pre><code> class foo(object):\n     pass\n</code></pre>\n<p>mean the same thing in Python3.</p>\n<p>Empirical evidence:</p>\n<pre><code>&gt;&gt;&gt; class C:\n...  pass\n...\n&gt;&gt;&gt; C.__bases__\n(&lt;class 'object'&gt;,)\n&gt;&gt;&gt;\n</code></pre>\n<p>Documentation:</p>\n<ul>\n<li><a href=\"https://docs.python.org/3/library/functions.html#object\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#object</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679956713,"post_id":75860918,"comment_id":133810972,"body_markdown":"I think you&#39;re making the same mistake I made, answering for a top-level class instead of a top-level object.  The difference is this: if we define a class C, and then create two instances of C, call them c1 and c2, then both c1 and c2 have an instance of &#39;object&#39; as their &#39;parent&#39;, but it&#39;s notionally a different instance between the two.  And I&#39;m not happy with saying *those* instances of &#39;object&#39; inherit from the &#39;object&#39; class.","body":"I think you&#39;re making the same mistake I made, answering for a top-level class instead of a top-level object.  The difference is this: if we define a class C, and then create two instances of C, call them c1 and c2, then both c1 and c2 have an instance of &#39;object&#39; as their &#39;parent&#39;, but it&#39;s notionally a different instance between the two.  And I&#39;m not happy with saying <i>those</i> instances of &#39;object&#39; inherit from the &#39;object&#39; class."},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679957558,"post_id":75860918,"comment_id":133811092,"body_markdown":"@ArfurNarf I suspect OP is meaning to ask about the top-most class in the class hierarchy, despite their wording -- see my comment above.","body":"@ArfurNarf I suspect OP is meaning to ask about the top-most class in the class hierarchy, despite their wording -- see my comment above."},{"owner":{"account_id":16331926,"reputation":31,"user_id":11795020,"display_name":"Zhaoyu Zhang"},"score":0,"creation_date":1679957650,"post_id":75860918,"comment_id":133811102,"body_markdown":"@ArfurNarf I don&#39;t think there is concept difference between a `object` and a `class` in Python. As you know, everything in Python is `object`, so a class is also a `object`. Quoted from the official document: &quot;Creating a new class creates a new type of object, allowing new instances of that type to be made.&quot;  [reference](https://docs.python.org/3/tutorial/classes.html)","body":"@ArfurNarf I don&#39;t think there is concept difference between a <code>object</code> and a <code>class</code> in Python. As you know, everything in Python is <code>object</code>, so a class is also a <code>object</code>. Quoted from the official document: &quot;Creating a new class creates a new type of object, allowing new instances of that type to be made.&quot;  <a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">reference</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679958566,"post_id":75860918,"comment_id":133811223,"body_markdown":"Sure, but while objects-that-are-classes form a rooted directed acyclic graph (navigable via the \\__bases__ attribute), at best objects-that-are-not-classes form a disconnected set of DAGs.","body":"Sure, but while objects-that-are-classes form a rooted directed acyclic graph (navigable via the _<i>bases_</i> attribute), at best objects-that-are-not-classes form a disconnected set of DAGs."},{"owner":{"account_id":16331926,"reputation":31,"user_id":11795020,"display_name":"Zhaoyu Zhang"},"score":1,"creation_date":1679959097,"post_id":75860918,"comment_id":133811281,"body_markdown":"@ArfurNarf  objects that are not classes do not have a well-defined hierarchy. While they may have attributes and methods, they are not inherently related to other objects in any way. Therefore, they do not form a DAG in the same way that classes do. Instead, they form disconnected sets of DAGs (or sometimes just disconnected graphs) depending on how they are related to other objects. For example, a list object may be related to other list objects through the use of the append method or through slicing, but it is not related to a string object or a dictionary object.","body":"@ArfurNarf  objects that are not classes do not have a well-defined hierarchy. While they may have attributes and methods, they are not inherently related to other objects in any way. Therefore, they do not form a DAG in the same way that classes do. Instead, they form disconnected sets of DAGs (or sometimes just disconnected graphs) depending on how they are related to other objects. For example, a list object may be related to other list objects through the use of the append method or through slicing, but it is not related to a string object or a dictionary object."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1679964747,"post_id":75860918,"comment_id":133812038,"body_markdown":"@ArfurNarf I believe the one who is making a mistake is the OP. There is no standard notion of a &quot;top object&quot;. He is obviously talking about `object` given his reference to Java&#39;s `Object`","body":"@ArfurNarf I believe the one who is making a mistake is the OP. There is no standard notion of a &quot;top object&quot;. He is obviously talking about <code>object</code> given his reference to Java&#39;s <code>Object</code>"}],"tags":[],"owner":{"account_id":16331926,"reputation":31,"user_id":11795020,"display_name":"Zhaoyu Zhang"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679957859,"creation_date":1679956318,"answer_id":75860918,"question_id":75860721,"body_markdown":"In Python, the topmost object is `object`. \r\n\r\n&gt; It is the base class for all other classes in Python. ([reference][1])\r\n\r\nThe concept of `object` and `class` are actually both `objects`, as stated [here][2]:\r\n\r\n&gt; Creating a new class creates a new type of object, allowing new\r\n&gt; instances of that type to be made.\r\n\r\nAll objects in Python, including integers, strings, and functions, inherit from `object`. \r\n\r\n---\r\n\r\nIn Java, the topmost object is `Object`. \r\n\r\n&gt; Class `Object` is the root of the class hierarchy. Every class has `Object` as a superclass. All objects, including arrays, implement the methods of this class. ([reference][3])\r\n\r\nHowever, unlike Python, primitive types like `int` and `boolean` are not objects in Java and do not inherit from `Object`.\r\n\r\n---\r\n\r\nThe object-oriented principles of Python and Java are similar in many ways, as both languages are object-oriented and share many concepts, such as encapsulation, inheritance, and polymorphism. They also have differences:\r\n\r\nFor example, Python supports multiple inheritance, where a subclass can inherit from multiple base classes:\r\n\r\n&gt; the class inheritance mechanism allows multiple base classes ([reference][2])\r\n\r\nwhile Java only supports single inheritance, where a subclass can inherit from only one base class:\r\n\r\n&gt; Each class except Object is an extension of (that is, a subclass of) a single existing class and may implement interfaces. ([reference][4])\r\n\r\nAnd there are many more different implementations of them.\r\n\r\nI suggest you do more reading on [Java][5] and [Python][6] offical documents to understand these concepts. The documents are explained with examples, which can better answer your question.\r\n\r\n\r\n  [1]: https://docs.python.org/3/library/functions.html#object\r\n  [2]: https://docs.python.org/3/tutorial/classes.html#classes\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.4\r\n  [5]: https://docs.oracle.com/en/java/\r\n  [6]: https://www.python.org/doc/","title":"Since everything in an object in Python, which is the top most object?","body":"<p>In Python, the topmost object is <code>object</code>.</p>\n<blockquote>\n<p>It is the base class for all other classes in Python. (<a href=\"https://docs.python.org/3/library/functions.html#object\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>The concept of <code>object</code> and <code>class</code> are actually both <code>objects</code>, as stated <a href=\"https://docs.python.org/3/tutorial/classes.html#classes\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>Creating a new class creates a new type of object, allowing new\ninstances of that type to be made.</p>\n</blockquote>\n<p>All objects in Python, including integers, strings, and functions, inherit from <code>object</code>.</p>\n<hr />\n<p>In Java, the topmost object is <code>Object</code>.</p>\n<blockquote>\n<p>Class <code>Object</code> is the root of the class hierarchy. Every class has <code>Object</code> as a superclass. All objects, including arrays, implement the methods of this class. (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>However, unlike Python, primitive types like <code>int</code> and <code>boolean</code> are not objects in Java and do not inherit from <code>Object</code>.</p>\n<hr />\n<p>The object-oriented principles of Python and Java are similar in many ways, as both languages are object-oriented and share many concepts, such as encapsulation, inheritance, and polymorphism. They also have differences:</p>\n<p>For example, Python supports multiple inheritance, where a subclass can inherit from multiple base classes:</p>\n<blockquote>\n<p>the class inheritance mechanism allows multiple base classes (<a href=\"https://docs.python.org/3/tutorial/classes.html#classes\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>while Java only supports single inheritance, where a subclass can inherit from only one base class:</p>\n<blockquote>\n<p>Each class except Object is an extension of (that is, a subclass of) a single existing class and may implement interfaces. (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.4\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>And there are many more different implementations of them.</p>\n<p>I suggest you do more reading on <a href=\"https://docs.oracle.com/en/java/\" rel=\"nofollow noreferrer\">Java</a> and <a href=\"https://www.python.org/doc/\" rel=\"nofollow noreferrer\">Python</a> offical documents to understand these concepts. The documents are explained with examples, which can better answer your question.</p>\n"}],"owner":{"account_id":3731894,"reputation":712,"user_id":3103957,"display_name":"user3103957"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680000016,"answer_count":2,"score":0,"last_activity_date":1699489368,"creation_date":1679954386,"question_id":75860721,"body_markdown":"In Python, it is said that everything is an object. Could someone please help me which is the top most object. \r\n\r\nDo we have any such thing Java? Java does have a parent class called &quot;Object&quot; from which all other classes are inheriting. Not everything is an object in Java.\r\n\r\nIs the OO principle w.r.t the above, different between Python and Java?\r\n","title":"Since everything in an object in Python, which is the top most object?","body":"<p>In Python, it is said that everything is an object. Could someone please help me which is the top most object.</p>\n<p>Do we have any such thing Java? Java does have a parent class called &quot;Object&quot; from which all other classes are inheriting. Not everything is an object in Java.</p>\n<p>Is the OO principle w.r.t the above, different between Python and Java?</p>\n"},{"tags":["java","linux","spring-boot","memory","jvm"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1604007764,"post_id":64593968,"comment_id":114224290,"body_markdown":"it seems that your problem is that a GC (I assume you use `G1GC`) does not release memory back to the OS... in such a case you might benefit from [this](https://openjdk.java.net/jeps/346), but only since java-12, or switch to a GC that can do that. may be more details can be found [here](https://stackoverflow.com/questions/61506136/kubernetes-pod-memory-java-gc-logs/61512521#61512521) - it talks about docker, but touches the general idea of releasing memory","body":"it seems that your problem is that a GC (I assume you use <code>G1GC</code>) does not release memory back to the OS... in such a case you might benefit from <a href=\"https://openjdk.java.net/jeps/346\" rel=\"nofollow noreferrer\">this</a>, but only since java-12, or switch to a GC that can do that. may be more details can be found <a href=\"https://stackoverflow.com/questions/61506136/kubernetes-pod-memory-java-gc-logs/61512521#61512521\">here</a> - it talks about docker, but touches the general idea of releasing memory"}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604094260,"creation_date":1604094260,"answer_id":64616158,"question_id":64593968,"body_markdown":"Resident memory as reported by the OS doesn&#39;t tell you what component is consuming it. You&#39;ll have to gather additional data to figure out which part of the process is growing\r\n\r\nYou&#39;ll have to track\r\n\r\n* java heap and metaspace use - you can monitor this with [JMC][1], gc logging and many other java monitoring tools\r\n* jvm off-heap use - [NMT][2] \r\n* direct byte buffer use - [MX beans][3], also available via JMC\r\n* use by mapped files - `pmap -x &lt;pid&gt;` \r\n* use by native libraries e.g. used via JNI - difficult to monitor\r\n\r\n\r\n  [1]: https://github.com/openjdk/jmc\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\r\n  [3]: https://stackoverflow.com/a/47105769/1362755","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>Resident memory as reported by the OS doesn't tell you what component is consuming it. You'll have to gather additional data to figure out which part of the process is growing</p>\n<p>You'll have to track</p>\n<ul>\n<li>java heap and metaspace use - you can monitor this with <a href=\"https://github.com/openjdk/jmc\" rel=\"nofollow noreferrer\">JMC</a>, gc logging and many other java monitoring tools</li>\n<li>jvm off-heap use - <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\" rel=\"nofollow noreferrer\">NMT</a></li>\n<li>direct byte buffer use - <a href=\"https://stackoverflow.com/a/47105769/1362755\">MX beans</a>, also available via JMC</li>\n<li>use by mapped files - <code>pmap -x &lt;pid&gt;</code></li>\n<li>use by native libraries e.g. used via JNI - difficult to monitor</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616088244,"creation_date":1616088244,"answer_id":66696089,"question_id":64593968,"body_markdown":"I also faced this situation and after a long time of research I found the solution [here][1]. Basically, for my case, it was just a matter of setting xms and xmx parameters on the jar invocation, forcing the GC to act constantly. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51768216/spring-boot-is-consuming-too-much-ram/51781625#answer-51769581","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>I also faced this situation and after a long time of research I found the solution <a href=\"https://stackoverflow.com/questions/51768216/spring-boot-is-consuming-too-much-ram/51781625#answer-51769581\">here</a>. Basically, for my case, it was just a matter of setting xms and xmx parameters on the jar invocation, forcing the GC to act constantly.</p>\n"},{"tags":[],"owner":{"account_id":144311,"reputation":5575,"user_id":353267,"accept_rate":100,"display_name":"jbindel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699489220,"creation_date":1699489220,"answer_id":77449726,"question_id":64593968,"body_markdown":"The accepted answer here may help you.\r\n\r\nhttps://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063#35610063\r\n\r\nSetting these for the tomcat9 JVM helped my own situation where a low-usage, low-memory application would nonetheless continue to consume RSS according to top on Linux. These environment variables disable some of the dynamic Glibc heuristics for releasing memory, which it won&#39;t do in some Tomcat scenarios.\r\n\r\n```\r\nexport MALLOC_ARENA_MAX=4\r\nexport MALLOC_MMAP_THRESHOLD_=131072\r\nexport MALLOC_TRIM_THRESHOLD_=131072\r\nexport MALLOC_TOP_PAD_=131072\r\nexport MALLOC_MMAP_MAX_=65536\r\n```\r\n\r\nA workaround in current JVMs (at least for Java 11 forward) is to use the `System.trim_native_heap` option to `jcmd`:\r\n\r\n`sudo jcmd &lt;pid&gt; System.trim_native_heap`\r\n\r\nThere is some discussion on the issues with Glibc not returning memory to the OS, and it looks like you may be using Linux.\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8269345\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8293114\r\n\r\nhttps://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>The accepted answer here may help you.</p>\n<p><a href=\"https://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063#35610063\">Growing resident memory usage (RSS) of Java Process</a></p>\n<p>Setting these for the tomcat9 JVM helped my own situation where a low-usage, low-memory application would nonetheless continue to consume RSS according to top on Linux. These environment variables disable some of the dynamic Glibc heuristics for releasing memory, which it won't do in some Tomcat scenarios.</p>\n<pre><code>export MALLOC_ARENA_MAX=4\nexport MALLOC_MMAP_THRESHOLD_=131072\nexport MALLOC_TRIM_THRESHOLD_=131072\nexport MALLOC_TOP_PAD_=131072\nexport MALLOC_MMAP_MAX_=65536\n</code></pre>\n<p>A workaround in current JVMs (at least for Java 11 forward) is to use the <code>System.trim_native_heap</code> option to <code>jcmd</code>:</p>\n<p><code>sudo jcmd &lt;pid&gt; System.trim_native_heap</code></p>\n<p>There is some discussion on the issues with Glibc not returning memory to the OS, and it looks like you may be using Linux.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8269345\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8269345</a></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8293114\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8293114</a></p>\n<p><a href=\"https://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137\" rel=\"nofollow noreferrer\">https://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137</a></p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1699489220,"creation_date":1603984339,"question_id":64593968,"body_markdown":"I have 23 Java processes running on one machine with 32GB. No process specifies JVM memory params such as Xmx. `java -XX:+PrintFlagsFinal -version | grep MaxHeapSize` reports that max default heap size is 8GB as expected. \r\n\r\nEvery process runs embedded Tomcat (Spring Boot apps (most at v 2.3.4)) except one is a standalone tomcat 9 instance running three WARs. These apps have low usage (usually one user and 10 minutes use a day). They are not memory or CPU intensive. One of them is Spring Boot admin and another is Spring Cloud&#39;s Eureka service registry. For these two, I have only a main method that simply bootstraps the Spring Boot application.\r\n\r\nYet, `RES` memory as shown in top for every process keeps gradually increasing. For example, Spring Boot service registry has increased from 1.1GB to 1.5GB in the last 12 hours. All processes show a similar small increase in `RES` but the total increase has reduced free memory by 2 GB in that same 12 hour period. This was the same in the previous 12 hours (and so on)until current free memory is now only 4.7GB.\r\n\r\nMy concern is that I continue to see this trend (even without app usage). Memory is never freed from the apps so total free memory continues to decrease. Is this normal since perhaps each JVM sees that memory is still available in the OS and that 8GB heap space is available to it? Will the JVMs stop taking memory at some point say once an OS free memory threshold is reached? Or will it continue until all free memory is used?\r\n\r\n**Update**\r\n\r\nThe heap used for most apps is under 200MB but the heap size is 1.5 - 2.8GB. Heap max is 8GB.\r\n","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>I have 23 Java processes running on one machine with 32GB. No process specifies JVM memory params such as Xmx. <code>java -XX:+PrintFlagsFinal -version | grep MaxHeapSize</code> reports that max default heap size is 8GB as expected.</p>\n<p>Every process runs embedded Tomcat (Spring Boot apps (most at v 2.3.4)) except one is a standalone tomcat 9 instance running three WARs. These apps have low usage (usually one user and 10 minutes use a day). They are not memory or CPU intensive. One of them is Spring Boot admin and another is Spring Cloud's Eureka service registry. For these two, I have only a main method that simply bootstraps the Spring Boot application.</p>\n<p>Yet, <code>RES</code> memory as shown in top for every process keeps gradually increasing. For example, Spring Boot service registry has increased from 1.1GB to 1.5GB in the last 12 hours. All processes show a similar small increase in <code>RES</code> but the total increase has reduced free memory by 2 GB in that same 12 hour period. This was the same in the previous 12 hours (and so on)until current free memory is now only 4.7GB.</p>\n<p>My concern is that I continue to see this trend (even without app usage). Memory is never freed from the apps so total free memory continues to decrease. Is this normal since perhaps each JVM sees that memory is still available in the OS and that 8GB heap space is available to it? Will the JVMs stop taking memory at some point say once an OS free memory threshold is reached? Or will it continue until all free memory is used?</p>\n<p><strong>Update</strong></p>\n<p>The heap used for most apps is under 200MB but the heap size is 1.5 - 2.8GB. Heap max is 8GB.</p>\n"},{"tags":["java","intellij-idea","generator"],"answers":[{"tags":[],"owner":{"account_id":24827981,"reputation":139,"user_id":18707490,"display_name":"Alexander Garc&#237;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651965110,"creation_date":1651965110,"answer_id":72156991,"question_id":72156953,"body_markdown":"Even tho there doesn&#39;t appear a Generator for Java you can still create a Java project, in the picture that you showed us it says Language and there is a Java option, they even give you the option to work with IntelliJ, Maven or Gradle. This type of project is going to be the same as a project generated with a Java generator. Here it is the documentation of how to create a new IntelliJ project, and it looks the same as yours [https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks","title":"Problem with creating Java project in IntelliJ","body":"<p>Even tho there doesn't appear a Generator for Java you can still create a Java project, in the picture that you showed us it says Language and there is a Java option, they even give you the option to work with IntelliJ, Maven or Gradle. This type of project is going to be the same as a project generated with a Java generator. Here it is the documentation of how to create a new IntelliJ project, and it looks the same as yours <a href=\"https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks</a></p>\n"},{"comments":[{"owner":{"account_id":25229092,"reputation":11,"user_id":19064493,"display_name":"Blund .n"},"score":0,"creation_date":1652138615,"post_id":72157347,"comment_id":127528970,"body_markdown":"Well when I see someone like code with mosh or some others using IntelliJ they start with a prompt that contains a package and a class but not anymore?","body":"Well when I see someone like code with mosh or some others using IntelliJ they start with a prompt that contains a package and a class but not anymore?"},{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":0,"creation_date":1699473092,"post_id":72157347,"comment_id":136537508,"body_markdown":"It still stinks, it isn&#39;t able to create a jar file out of the box with the jar command, it doesn&#39;t see manifest file and overwrites it with its own.  Something so basic as Java project should just work out of the box.  Eclipse used to do so easily.","body":"It still stinks, it isn&#39;t able to create a jar file out of the box with the jar command, it doesn&#39;t see manifest file and overwrites it with its own.  Something so basic as Java project should just work out of the box.  Eclipse used to do so easily."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699488501,"post_id":72157347,"comment_id":136539833,"body_markdown":"@Blund.n I do not understand your Comment. (a) What is &quot;mosh&quot;? (b) In the *New Project* dialog, click the disclosure triangle labeled *Advanced Settings* to specify a Maven *GroupId* which also acts as the initial package in your new project. I added a second screenshot to show this explicitly.","body":"@Blund.n I do not understand your Comment. (a) What is &quot;mosh&quot;? (b) In the <i>New Project</i> dialog, click the disclosure triangle labeled <i>Advanced Settings</i> to specify a Maven <i>GroupId</i> which also acts as the initial package in your new project. I added a second screenshot to show this explicitly."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699488599,"post_id":72157347,"comment_id":136539839,"body_markdown":"@JPM What stinks exactly? Run the Maven command *install* to generate a JAR file.","body":"@JPM What stinks exactly? Run the Maven command <i>install</i> to generate a JAR file."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699488825,"creation_date":1651970986,"answer_id":72157347,"question_id":72156953,"body_markdown":"# tl;dr\r\n\r\nThe option to create a plain Java project is right there in your screenshot: Choose `New Project`, then choose `Java` as the `language`. Specify your choice of build tool; if new to Java then I suggest `Maven`, but for a bigger and complicated project use `Gradle`. \r\n\r\n\r\n# Enhanced *New Project* wizard\r\n\r\nYou are seeing the new enhanced *New Project* wizard introduced in IntelliJ 2022.1. \r\n\r\n\r\nPersonally, I approve. I like the compact view showing the mix of language, build, and JDK options.\r\n\r\nSee [*What’s New in IntelliJ IDEA 2022.1*][1]. To quote:\r\n\r\n&gt; We reworked the New Project wizard interface to streamline creating new projects. You can quickly launch an empty project; use the pre-configured options for Java, Kotlin, Groovy, and JavaScript; or use generators if you have projects that are more complex.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOr click any of those specialized generators listed beneath the heading *Generators*. For example, *Maven Archetype* where you choose from a list of commonly used archetypes, or *JavaFX* to make  project loaded with a fully functioning GUI app.\r\n\r\nTo specify an initial Java package, specify a Maven *GroupId* as seen in this screenshot.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/whatsnew/\r\n  [2]: https://i.stack.imgur.com/Kq4DI.gif\r\n  [3]: https://i.stack.imgur.com/884Hi.png","title":"Problem with creating Java project in IntelliJ","body":"<h1>tl;dr</h1>\n<p>The option to create a plain Java project is right there in your screenshot: Choose <code>New Project</code>, then choose <code>Java</code> as the <code>language</code>. Specify your choice of build tool; if new to Java then I suggest <code>Maven</code>, but for a bigger and complicated project use <code>Gradle</code>.</p>\n<h1>Enhanced <em>New Project</em> wizard</h1>\n<p>You are seeing the new enhanced <em>New Project</em> wizard introduced in IntelliJ 2022.1.</p>\n<p>Personally, I approve. I like the compact view showing the mix of language, build, and JDK options.</p>\n<p>See <a href=\"https://www.jetbrains.com/idea/whatsnew/\" rel=\"nofollow noreferrer\"><em>What’s New in IntelliJ IDEA 2022.1</em></a>. To quote:</p>\n<blockquote>\n<p>We reworked the New Project wizard interface to streamline creating new projects. You can quickly launch an empty project; use the pre-configured options for Java, Kotlin, Groovy, and JavaScript; or use generators if you have projects that are more complex.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Kq4DI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kq4DI.gif\" alt=\"enter image description here\" /></a></p>\n<p>Or click any of those specialized generators listed beneath the heading <em>Generators</em>. For example, <em>Maven Archetype</em> where you choose from a list of commonly used archetypes, or <em>JavaFX</em> to make  project loaded with a fully functioning GUI app.</p>\n<p>To specify an initial Java package, specify a Maven <em>GroupId</em> as seen in this screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/884Hi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/884Hi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25229092,"reputation":11,"user_id":19064493,"display_name":"Blund .n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652465266,"creation_date":1652465266,"answer_id":72233813,"question_id":72156953,"body_markdown":"In order to get the sample code, from the previous java version, when creating a new Java project you just need to press the &quot;Add sample code&quot; box ^^^.\r\n","title":"Problem with creating Java project in IntelliJ","body":"<p>In order to get the sample code, from the previous java version, when creating a new Java project you just need to press the &quot;Add sample code&quot; box ^^^.</p>\n"}],"owner":{"account_id":25229092,"reputation":11,"user_id":19064493,"display_name":"Blund .n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699488825,"creation_date":1651964565,"question_id":72156953,"body_markdown":"I&#39;ve downloaded IntelliJ but for some reason, I cant find a generator for java. I&#39;ve shown it too a few friends but they cant see whats wrong either, because they all have the java generator.\r\n\r\n\r\n[![A picture of what my intelliJ screen looks like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NxcLX.png","title":"Problem with creating Java project in IntelliJ","body":"<p>I've downloaded IntelliJ but for some reason, I cant find a generator for java. I've shown it too a few friends but they cant see whats wrong either, because they all have the java generator.</p>\n<p><a href=\"https://i.stack.imgur.com/NxcLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxcLX.png\" alt=\"A picture of what my intelliJ screen looks like\" /></a></p>\n"},{"tags":["java","localization","properties-file"],"comments":[{"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"score":0,"creation_date":1466491541,"post_id":37920973,"comment_id":63324063,"body_markdown":"That was an error: I actually meant `MessageFormat`.","body":"That was an error: I actually meant <code>MessageFormat</code>."}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1466422608,"creation_date":1466422608,"answer_id":37921557,"question_id":37920973,"body_markdown":"No there is no other way as it is how we are supposed to do it according to the javadoc.\r\n\r\n&gt; A single quote itself must be represented by doubled single quotes &#39;&#39; throughout a String\r\n\r\nAs workaround, what you could do is doing it programmatically using `replace(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;)` or for this particular use case you could use the apostrophe character instead which is `’` it would be even more correct actually than using a single quote. \r\n\r\n    ","title":"How to use single quotes with MessageFormat","body":"<p>No there is no other way as it is how we are supposed to do it according to the javadoc.</p>\n\n<blockquote>\n  <p>A single quote itself must be represented by doubled single quotes '' throughout a String</p>\n</blockquote>\n\n<p>As workaround, what you could do is doing it programmatically using <code>replace(\"'\", \"''\")</code> or for this particular use case you could use the apostrophe character instead which is <code>’</code> it would be even more correct actually than using a single quote. </p>\n"},{"tags":[],"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603111638,"creation_date":1603111638,"answer_id":64427651,"question_id":37920973,"body_markdown":"Probably too late for you, but someone else might find this useful: Instead of Java&#39;s MessageFormat, use [ICU (International Components for Unicode)][1] (or rather its Java port ICU4J). It&#39;s basically a set of tools and data to support you in internationalizing your application. And among those tools is their own version of MessageFormat. It&#39;s very similar (maybe even backwards compatible) and can handle single quotes exactly like you want it. It can even handle doubled/escaped single quotes so you can try it as a drop-in replacement for Java&#39;s MessageFormat without having to unescape your single quotes first.\r\n\r\n\r\n  [1]: http://site.icu-project.org/","title":"How to use single quotes with MessageFormat","body":"<p>Probably too late for you, but someone else might find this useful: Instead of Java's MessageFormat, use <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU (International Components for Unicode)</a> (or rather its Java port ICU4J). It's basically a set of tools and data to support you in internationalizing your application. And among those tools is their own version of MessageFormat. It's very similar (maybe even backwards compatible) and can handle single quotes exactly like you want it. It can even handle doubled/escaped single quotes so you can try it as a drop-in replacement for Java's MessageFormat without having to unescape your single quotes first.</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699487335,"creation_date":1698934670,"answer_id":77410361,"question_id":37920973,"body_markdown":"`’` (U+2019 RIGHT SINGLE QUOTATION MARK) is the proper “apostrophe” to use in languages like English and French—not `&#39;`. \r\n\r\n`’` isn’t a metacharacter in this format, which means that there is no need to escape anything.","title":"How to use single quotes with MessageFormat","body":"<p><code>’</code> (U+2019 RIGHT SINGLE QUOTATION MARK) is the proper “apostrophe” to use in languages like English and French—not <code>'</code>.</p>\n<p><code>’</code> isn’t a metacharacter in this format, which means that there is no need to escape anything.</p>\n"}],"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6176,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37921557,"answer_count":3,"score":14,"last_activity_date":1699487335,"creation_date":1466420865,"question_id":37920973,"body_markdown":"On my current project, we are using properties files for strings. Those strings are then &quot;formatted&quot; using MessageFormat. Unfortunately, MessagFormat has a handling of single quotes that becomes a bit of a hindrance in languages, such as French, which use a lot of apostrophes.\r\n\r\nFor instance, suppose we have this entry\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=User {0} does not exist\r\n\r\nWhen this gets translated into French, we get:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=L&#39;utilisateur {0} n&#39;existe pas\r\n\r\nThis, MessageFormat does not like...\r\n\r\nAnd I, do not like the following, i.e. having to use double quotes:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=L&#39;&#39;utilisateur {0} n&#39;&#39;existe pas\r\n\r\nThe reason I don&#39;t like it is that it causes spellchecking errors everywhere.\r\n\r\nQuestion: I am looking for an alternative to the instruction below, an alternative that does not need doubling quotes but still uses positional placeholders ({0}, {1}…). Is there anything else that can I use?\r\n\r\n\r\n    MessageFormat.format(Messages.getString(&quot;login.userUnkown&quot;), username);","title":"How to use single quotes with MessageFormat","body":"<p>On my current project, we are using properties files for strings. Those strings are then \"formatted\" using MessageFormat. Unfortunately, MessagFormat has a handling of single quotes that becomes a bit of a hindrance in languages, such as French, which use a lot of apostrophes.</p>\n\n<p>For instance, suppose we have this entry</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=User {0} does not exist\n</code></pre>\n\n<p>When this gets translated into French, we get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=L'utilisateur {0} n'existe pas\n</code></pre>\n\n<p>This, MessageFormat does not like...</p>\n\n<p>And I, do not like the following, i.e. having to use double quotes:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=L''utilisateur {0} n''existe pas\n</code></pre>\n\n<p>The reason I don't like it is that it causes spellchecking errors everywhere.</p>\n\n<p>Question: I am looking for an alternative to the instruction below, an alternative that does not need doubling quotes but still uses positional placeholders ({0}, {1}…). Is there anything else that can I use?</p>\n\n<pre><code>MessageFormat.format(Messages.getString(\"login.userUnkown\"), username);\n</code></pre>\n"},{"tags":["java","gradle","mapstruct","annotation-processing","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628255077,"creation_date":1628253860,"answer_id":68681784,"question_id":68417327,"body_markdown":"Deprecation warnings can only be turned off globally, on the compilation level. So to disable them only for the generated mapper you&#39;d have to compile it separately. The easiest solution would be to have the model and mappers in separate modules. Then in the mapper module just disable deprecation warnings for the &#39;main&#39; sourceSet of the mapper module:\r\n\r\n\ttasks.named(&#39;compileJava&#39;, JavaCompile).configure {\r\n\t\tit.options.deprecation = false\r\n\t}\r\n\r\nAs for the test compilation I guess you&#39;d like to have the deprecation warnings there:\r\n\r\n\ttasks.named(&#39;compileTestJava&#39;, JavaCompile).configure {\r\n\t\tit.options.deprecation = true\r\n\t}\r\n    \r\nHere&#39;s an example on GitHub: https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>Deprecation warnings can only be turned off globally, on the compilation level. So to disable them only for the generated mapper you'd have to compile it separately. The easiest solution would be to have the model and mappers in separate modules. Then in the mapper module just disable deprecation warnings for the 'main' sourceSet of the mapper module:</p>\n<pre><code>tasks.named('compileJava', JavaCompile).configure {\n    it.options.deprecation = false\n}\n</code></pre>\n<p>As for the test compilation I guess you'd like to have the deprecation warnings there:</p>\n<pre><code>tasks.named('compileTestJava', JavaCompile).configure {\n    it.options.deprecation = true\n}\n</code></pre>\n<p>Here's an example on GitHub: <a href=\"https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings\" rel=\"nofollow noreferrer\">https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings</a></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699486803,"creation_date":1699486803,"answer_id":77449617,"question_id":68417327,"body_markdown":"The upcoming MapStruct version 1.6.0 will automatically copy the `@Deprecated` annotation to the generated code, per issue [#2773](https://github.com/mapstruct/mapstruct/issues/2773).  This will prevent the deprecation warnings in the given example.","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>The upcoming MapStruct version 1.6.0 will automatically copy the <code>@Deprecated</code> annotation to the generated code, per issue <a href=\"https://github.com/mapstruct/mapstruct/issues/2773\" rel=\"nofollow noreferrer\">#2773</a>.  This will prevent the deprecation warnings in the given example.</p>\n"}],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699486803,"creation_date":1626495181,"question_id":68417327,"body_markdown":"I have a Java project built using [Gradle](https://gradle.org) using the [MapStruct](https://mapstruct.org) code generator to generate mapping code.  I intentionally have deprecation warnings enabled, as I want to be made aware if I end up calling deprecated code, e.g. when upgrading library versions.\r\n\r\nI have a MapStruct mapper interface (annotated with [`@Mapper`](https://javadoc.io/static/org.mapstruct/mapstruct/1.4.2.Final/org/mapstruct/Mapper.html)) that contains a mapping method.  The mapping method &amp; one of the [custom mapping methods](https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods) it uses are being used by a feature which will be removed in the next major release version of the software, but which need to remain in the minor versions leading up to that point.  Therefore, I have marked these two methods as `@Deprecated` in order to communicate that they are going away, and to make sure I don&#39;t miss removing them when I remove the other deprecated code.\r\n\r\nWhen I compile the code, I get two deprecation warnings in the concrete class auto-generated by MapStruct for the mapper interface: one for implementing the deprecated mapping method, and one for calling the custom mapper method.\r\n\r\n## Goal\r\n\r\nI&#39;m hoping for a way to prevent these deprecation warnings from being emitted, while still keeping deprecation warnings for my own (non-autogenerated) code.\r\n\r\nIf I had hand-written the code, I would have annotated it with `@Deprecated`, which would suppress this warning.  Alternatively, there&#39;s `@SuppressWarnings(&quot;deprecation&quot;)` option to suppress it.  However, MapStruct currently [doesn&#39;t allow adding annotations to its generated code](https://github.com/mapstruct/mapstruct/issues/1574).\r\n\r\nThe other option that occurs to me is perhaps there&#39;s a way in Gradle to enable deprecation warnings just for generated classes (in `build/generated/sources/annotationProcessor/java`), but not for hand-written classes (in `src/main/java`).  I&#39;m not seeing a drop-in way of doing this.  There&#39;s an old forum post from nine years ago [discussing the issue](https://discuss.gradle.org/t/how-to-disable-compile-warnings-for-generated-classes/7343), though I&#39;m not sure how to apply it to the current Gradle landscape.\r\n\r\nHow can I suppress the auto-generated mapper class deprecation warnings without disabling the deprecation warnings for my non-generated code in the project?\r\n\r\n## Example\r\n\r\n**`build.gradle`**\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n}\r\n\r\ncompileJava {\r\n    options.deprecation = true\r\n}\r\n```\r\n\r\n**Java classes**\r\n\r\n```lang-java\r\npublic class Source {\r\n    private String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\n```lang-java\r\npublic class Target {\r\n    private String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\n```lang-java\r\nimport org.mapstruct.Mapper;\r\n\r\n@Mapper\r\npublic interface ExampleMapping {\r\n    @Deprecated\r\n    Target map(Source source);\r\n\r\n    @Deprecated\r\n    default String mapString(String s) {\r\n        return s.toUpperCase();\r\n    }\r\n}\r\n```\r\n\r\n**Build output**\r\n\r\n```lang-none\r\n$ ./gradlew build\r\n\r\n&gt; Task :compileJava\r\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:13: warning: [deprecation] map(Source) in ExampleMapping has been deprecated\r\n    public Target map(Source source) {\r\n                  ^\r\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:20: warning: [deprecation] mapString(String) in ExampleMapping has been deprecated\r\n        target.setValue( mapString( source.getValue() ) );\r\n                         ^\r\n2 warnings\r\n\r\nBUILD SUCCESSFUL in 3s\r\n2 actionable tasks: 2 executed\r\n```\r\n\r\n**Generated code**\r\n\r\n```lang-java\r\nimport javax.annotation.processing.Generated;\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2021-07-16T22:41:15-0500&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.1.1.jar, environment: Java 11.0.9.1 (AdoptOpenJDK)&quot;\r\n)\r\npublic class ExampleMappingImpl implements ExampleMapping {\r\n\r\n    @Override\r\n    public Target map(Source source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        Target target = new Target();\r\n\r\n        target.setValue( mapString( source.getValue() ) );\r\n\r\n        return target;\r\n    }\r\n}\r\n```","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>I have a Java project built using <a href=\"https://gradle.org\" rel=\"nofollow noreferrer\">Gradle</a> using the <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">MapStruct</a> code generator to generate mapping code.  I intentionally have deprecation warnings enabled, as I want to be made aware if I end up calling deprecated code, e.g. when upgrading library versions.</p>\n<p>I have a MapStruct mapper interface (annotated with <a href=\"https://javadoc.io/static/org.mapstruct/mapstruct/1.4.2.Final/org/mapstruct/Mapper.html\" rel=\"nofollow noreferrer\"><code>@Mapper</code></a>) that contains a mapping method.  The mapping method &amp; one of the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">custom mapping methods</a> it uses are being used by a feature which will be removed in the next major release version of the software, but which need to remain in the minor versions leading up to that point.  Therefore, I have marked these two methods as <code>@Deprecated</code> in order to communicate that they are going away, and to make sure I don't miss removing them when I remove the other deprecated code.</p>\n<p>When I compile the code, I get two deprecation warnings in the concrete class auto-generated by MapStruct for the mapper interface: one for implementing the deprecated mapping method, and one for calling the custom mapper method.</p>\n<h2 id=\"goal-o7lg\">Goal</h2>\n<p>I'm hoping for a way to prevent these deprecation warnings from being emitted, while still keeping deprecation warnings for my own (non-autogenerated) code.</p>\n<p>If I had hand-written the code, I would have annotated it with <code>@Deprecated</code>, which would suppress this warning.  Alternatively, there's <code>@SuppressWarnings(&quot;deprecation&quot;)</code> option to suppress it.  However, MapStruct currently <a href=\"https://github.com/mapstruct/mapstruct/issues/1574\" rel=\"nofollow noreferrer\">doesn't allow adding annotations to its generated code</a>.</p>\n<p>The other option that occurs to me is perhaps there's a way in Gradle to enable deprecation warnings just for generated classes (in <code>build/generated/sources/annotationProcessor/java</code>), but not for hand-written classes (in <code>src/main/java</code>).  I'm not seeing a drop-in way of doing this.  There's an old forum post from nine years ago <a href=\"https://discuss.gradle.org/t/how-to-disable-compile-warnings-for-generated-classes/7343\" rel=\"nofollow noreferrer\">discussing the issue</a>, though I'm not sure how to apply it to the current Gradle landscape.</p>\n<p>How can I suppress the auto-generated mapper class deprecation warnings without disabling the deprecation warnings for my non-generated code in the project?</p>\n<h2 id=\"example-dtpi\">Example</h2>\n<p><strong><code>build.gradle</code></strong></p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n    implementation 'org.mapstruct:mapstruct:1.4.2.Final'\n}\n\ncompileJava {\n    options.deprecation = true\n}\n</code></pre>\n<p><strong>Java classes</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Source {\n    private String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Target {\n    private String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapper;\n\n@Mapper\npublic interface ExampleMapping {\n    @Deprecated\n    Target map(Source source);\n\n    @Deprecated\n    default String mapString(String s) {\n        return s.toUpperCase();\n    }\n}\n</code></pre>\n<p><strong>Build output</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>$ ./gradlew build\n\n&gt; Task :compileJava\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:13: warning: [deprecation] map(Source) in ExampleMapping has been deprecated\n    public Target map(Source source) {\n                  ^\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:20: warning: [deprecation] mapString(String) in ExampleMapping has been deprecated\n        target.setValue( mapString( source.getValue() ) );\n                         ^\n2 warnings\n\nBUILD SUCCESSFUL in 3s\n2 actionable tasks: 2 executed\n</code></pre>\n<p><strong>Generated code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.annotation.processing.Generated;\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-07-16T22:41:15-0500&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.1.1.jar, environment: Java 11.0.9.1 (AdoptOpenJDK)&quot;\n)\npublic class ExampleMappingImpl implements ExampleMapping {\n\n    @Override\n    public Target map(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        target.setValue( mapString( source.getValue() ) );\n\n        return target;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","c++","qt","qt6"],"owner":{"account_id":14321735,"reputation":41,"user_id":10344880,"display_name":"gween"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699486800,"creation_date":1699486800,"question_id":77449616,"body_markdown":"## Overview\r\nI&#39;ve been trying to implement Google&#39;s one tap sign on for android with my Qt 6.5.3 android app. I&#39;ve been trying to follow the steps listed in their docs [https://developers.google.com/identity/one-tap/android/get-saved-credentials#java][1], but I don&#39;t really know anything about java so I&#39;ve been flying by the seat of my pants.\r\n\r\n## What I&#39;ve tried\r\nI have my java file `GoogleAuth.java` (shown below), and I try to call `DisplayOneTapSignIn` in my cpp code:\r\n\r\n```cpp\r\n   // GoogleAuth.cpp\r\n   if (QJniObject::isClassAvailable(&quot;com/test/google/GoogleAuth&quot;)) {\r\n        qDebug() &lt;&lt; &quot;Found GoogleAuth Class&quot;;\r\n        QJniObject googleAuth = QJniObject(&quot;com/test/google/GoogleAuth&quot;);\r\n        googleAuth.callObjectMethod&lt;void&gt;(&quot;DisplayOneTapSignIn&quot;);\r\n    } else {\r\n        qDebug() &lt;&lt; &quot;Could not find GoogleAuth Class&quot;;\r\n    }\r\n```\r\n\r\nThis doesn&#39;t work, though, and fails with:\r\n\r\n`Can&#39;t create handler inside thread that has not called Looper.prepare()`\r\n\r\nI don&#39;t really know how to proceed from here. From what I&#39;ve read I need to run my java class in a UI thread. I tried a few things in the java class that I found on threads, but none of them work.\r\n\r\nThis lead me to find this from Qt 5.15 [https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html][2]\r\n\r\n## Main question\r\nDo I need to proceed by doing something along the lines in the Qt 5.15 example link above since my java class extends AppCompatActivity? Or should I be doing something via java like creating a wrapper class that runs my GoogleAuth class in a ui thread? If the latter, any suggestions on how to do that?\r\n\r\n## Java code reference\r\n\r\n```java\r\n// GoogleAuth.java\r\npackage com.test.google;\r\n\r\nimport android.util.Log;\r\nimport com.google.android.gms.auth.api.identity.SignInClient;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.Builder;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.GoogleIdTokenRequestOptions;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInResult;\r\nimport com.google.android.gms.auth.api.identity.Identity;\r\nimport android.os.PersistableBundle;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.IntentSender;\r\nimport android.content.IntentSender.SendIntentException;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\n\r\npublic class GoogleAuth extends AppCompatActivity {\r\n    // ...\r\n\r\n    private static final String TAG = &quot;GoogleAuth&quot;;\r\n\r\n    private static final int REQ_ONE_TAP = 2;\r\n    private boolean showOneTapUI = true;\r\n  \r\n    private SignInClient oneTapClient;\r\n    private BeginSignInRequest signInRequest;\r\n  \r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState,\r\n                         @Nullable PersistableBundle persistentState) {\r\n        super.onCreate(savedInstanceState, persistentState);\r\n\r\n        Log.d(TAG, &quot;onCreate start...&quot;);\r\n  \r\n        // This is where your UI code goes.\r\n        oneTapClient = Identity.getSignInClient(this);\r\n        signInRequest = BeginSignInRequest.builder()\r\n        // .setPasswordRequestOptions(PasswordRequestOptions.builder()\r\n        //         .setSupported(true)\r\n        //         .build())\r\n        .setGoogleIdTokenRequestOptions(GoogleIdTokenRequestOptions.builder()\r\n                .setSupported(true)\r\n                // Your server&#39;s client ID, not your Android client ID.\r\n                .setServerClientId(&quot;my-client-id&quot;)\r\n                // Only show accounts previously used to sign in.\r\n                .setFilterByAuthorizedAccounts(true)\r\n                .build())\r\n        // Automatically sign in when exactly one credential is retrieved.\r\n        .setAutoSelectEnabled(true)\r\n        .build();\r\n\r\n        Log.d(TAG, &quot;onCreate end...&quot;);\r\n\r\n    }\r\n\r\n    public void DisplayOneTapSignIn() {\r\n        Log.d(TAG, &quot;DisplayOneTapSignIn start...&quot;);\r\n\r\n        oneTapClient.beginSignIn(signInRequest)\r\n                .addOnSuccessListener(this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\r\n                @Override\r\n                public void onSuccess(BeginSignInResult result) {\r\n                        try {\r\n                        startIntentSenderForResult(\r\n                                result.getPendingIntent().getIntentSender(), REQ_ONE_TAP,\r\n                                null, 0, 0, 0);\r\n                        } catch (IntentSender.SendIntentException e) {\r\n                        Log.e(TAG, &quot;Couldn&#39;t start One Tap UI: &quot; + e.getLocalizedMessage());\r\n                        }\r\n                }\r\n                })\r\n                .addOnFailureListener(this, new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                        // No saved credentials found. Launch the One Tap sign-up flow, or\r\n                        // do nothing and continue presenting the signed-out UI.\r\n                        Log.d(TAG, e.getLocalizedMessage());\r\n                }\r\n                });\r\n        Log.d(TAG, &quot;DisplayOneTapSignIn end...&quot;);\r\n    }\r\n    // ...\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://developers.google.com/identity/one-tap/android/get-saved-credentials#java\r\n  [2]: https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html","title":"How to implement Google One Tap Sign On in QT 6.5?","body":"<h2>Overview</h2>\n<p>I've been trying to implement Google's one tap sign on for android with my Qt 6.5.3 android app. I've been trying to follow the steps listed in their docs <a href=\"https://developers.google.com/identity/one-tap/android/get-saved-credentials#java\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/one-tap/android/get-saved-credentials#java</a>, but I don't really know anything about java so I've been flying by the seat of my pants.</p>\n<h2>What I've tried</h2>\n<p>I have my java file <code>GoogleAuth.java</code> (shown below), and I try to call <code>DisplayOneTapSignIn</code> in my cpp code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>   // GoogleAuth.cpp\n   if (QJniObject::isClassAvailable(&quot;com/test/google/GoogleAuth&quot;)) {\n        qDebug() &lt;&lt; &quot;Found GoogleAuth Class&quot;;\n        QJniObject googleAuth = QJniObject(&quot;com/test/google/GoogleAuth&quot;);\n        googleAuth.callObjectMethod&lt;void&gt;(&quot;DisplayOneTapSignIn&quot;);\n    } else {\n        qDebug() &lt;&lt; &quot;Could not find GoogleAuth Class&quot;;\n    }\n</code></pre>\n<p>This doesn't work, though, and fails with:</p>\n<p><code>Can't create handler inside thread that has not called Looper.prepare()</code></p>\n<p>I don't really know how to proceed from here. From what I've read I need to run my java class in a UI thread. I tried a few things in the java class that I found on threads, but none of them work.</p>\n<p>This lead me to find this from Qt 5.15 <a href=\"https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html</a></p>\n<h2>Main question</h2>\n<p>Do I need to proceed by doing something along the lines in the Qt 5.15 example link above since my java class extends AppCompatActivity? Or should I be doing something via java like creating a wrapper class that runs my GoogleAuth class in a ui thread? If the latter, any suggestions on how to do that?</p>\n<h2>Java code reference</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// GoogleAuth.java\npackage com.test.google;\n\nimport android.util.Log;\nimport com.google.android.gms.auth.api.identity.SignInClient;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.Builder;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.GoogleIdTokenRequestOptions;\nimport com.google.android.gms.auth.api.identity.BeginSignInResult;\nimport com.google.android.gms.auth.api.identity.Identity;\nimport android.os.PersistableBundle;\nimport android.os.Bundle;\nimport android.os.Looper;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.IntentSender;\nimport android.content.IntentSender.SendIntentException;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.OnFailureListener;\n\npublic class GoogleAuth extends AppCompatActivity {\n    // ...\n\n    private static final String TAG = &quot;GoogleAuth&quot;;\n\n    private static final int REQ_ONE_TAP = 2;\n    private boolean showOneTapUI = true;\n  \n    private SignInClient oneTapClient;\n    private BeginSignInRequest signInRequest;\n  \n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState,\n                         @Nullable PersistableBundle persistentState) {\n        super.onCreate(savedInstanceState, persistentState);\n\n        Log.d(TAG, &quot;onCreate start...&quot;);\n  \n        // This is where your UI code goes.\n        oneTapClient = Identity.getSignInClient(this);\n        signInRequest = BeginSignInRequest.builder()\n        // .setPasswordRequestOptions(PasswordRequestOptions.builder()\n        //         .setSupported(true)\n        //         .build())\n        .setGoogleIdTokenRequestOptions(GoogleIdTokenRequestOptions.builder()\n                .setSupported(true)\n                // Your server's client ID, not your Android client ID.\n                .setServerClientId(&quot;my-client-id&quot;)\n                // Only show accounts previously used to sign in.\n                .setFilterByAuthorizedAccounts(true)\n                .build())\n        // Automatically sign in when exactly one credential is retrieved.\n        .setAutoSelectEnabled(true)\n        .build();\n\n        Log.d(TAG, &quot;onCreate end...&quot;);\n\n    }\n\n    public void DisplayOneTapSignIn() {\n        Log.d(TAG, &quot;DisplayOneTapSignIn start...&quot;);\n\n        oneTapClient.beginSignIn(signInRequest)\n                .addOnSuccessListener(this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\n                @Override\n                public void onSuccess(BeginSignInResult result) {\n                        try {\n                        startIntentSenderForResult(\n                                result.getPendingIntent().getIntentSender(), REQ_ONE_TAP,\n                                null, 0, 0, 0);\n                        } catch (IntentSender.SendIntentException e) {\n                        Log.e(TAG, &quot;Couldn't start One Tap UI: &quot; + e.getLocalizedMessage());\n                        }\n                }\n                })\n                .addOnFailureListener(this, new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                        // No saved credentials found. Launch the One Tap sign-up flow, or\n                        // do nothing and continue presenting the signed-out UI.\n                        Log.d(TAG, e.getLocalizedMessage());\n                }\n                });\n        Log.d(TAG, &quot;DisplayOneTapSignIn end...&quot;);\n    }\n    // ...\n  }\n</code></pre>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1699475508,"post_id":77448664,"comment_id":136537926,"body_markdown":"Is your input a single String of multiple lines with embedded newlines?","body":"Is your input a single String of multiple lines with embedded newlines?"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699475741,"post_id":77448664,"comment_id":136537970,"body_markdown":"`buffersize` and `file` cannot occupy the same space. Each assertion is tested from the same position. To cover both it is just 1 assertion: `(?=crashinfo (?:buffersize|file))`","body":"<code>buffersize</code> and <code>file</code> cannot occupy the same space. Each assertion is tested from the same position. To cover both it is just 1 assertion: <code>(?=crashinfo (?:buffersize|file))</code>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699477983,"post_id":77448664,"comment_id":136538345,"body_markdown":"Adjacent words was the attempt right ?  Even though everything is marked as a duplicate, this is not a duplicate of any order / anywhere !!","body":"Adjacent words was the attempt right ?  Even though everything is marked as a duplicate, this is not a duplicate of any order / anywhere !!"},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478188,"post_id":77448664,"comment_id":136538371,"body_markdown":"Whoever closed this **DID NOT** read the question. I am not asking how to write the regex, I am asking why the regex that I wrote, that seems like it *should* work, did not.","body":"Whoever closed this <b>DID NOT</b> read the question. I am not asking how to write the regex, I am asking why the regex that I wrote, that seems like it <i>should</i> work, did not."},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478586,"post_id":77448664,"comment_id":136538445,"body_markdown":"I think sln solved it, his regex worked in my test case so I expect it will work in my real one. Thanks, sln!","body":"I think sln solved it, his regex worked in my test case so I expect it will work in my real one. Thanks, sln!"},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699479598,"post_id":77448664,"comment_id":136538643,"body_markdown":"`(?=crashinfo (?:buffersize|file))` looks for *either* &quot;crashinfo buffersize&quot; *or* &quot;crashinfo file&quot; but not both.","body":"<code>(?=crashinfo (?:buffersize|file))</code> looks for <i>either</i> &quot;crashinfo buffersize&quot; <i>or</i> &quot;crashinfo file&quot; but not both."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699481839,"post_id":77448664,"comment_id":136538986,"body_markdown":"`(?s)\\bcrashinfo(?: buffersize\\b.*\\bcrashinfo file\\b| file\\b.*\\bcrashinfo buffersize\\b)` is another way.","body":"<code>(?s)\\bcrashinfo(?: buffersize\\b.*\\bcrashinfo file\\b| file\\b.*\\bcrashinfo buffersize\\b)</code> is another way."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699485339,"post_id":77448664,"comment_id":136539433,"body_markdown":"tosher, did anyone actually answer your question? To satisfy your first lookahead, `(?=crashinfo buffersize)`, the regex engine moves the string pointer it maintains to the fourth line of data, immediately before `&quot;crashinfo buffersize 32&quot;`. The engine then pins the string pointer to that location because that is the only location for which the assertion `(?=crashinfo buffersize)` is satisfied. It therefore is unable to satisfy the second assertion, `(?=crashinfo file)`. That `crashinfo info` appears earlier in file is irrelevant...","body":"tosher, did anyone actually answer your question? To satisfy your first lookahead, <code>(?=crashinfo buffersize)</code>, the regex engine moves the string pointer it maintains to the fourth line of data, immediately before <code>&quot;crashinfo buffersize 32&quot;</code>. The engine then pins the string pointer to that location because that is the only location for which the assertion <code>(?=crashinfo buffersize)</code> is satisfied. It therefore is unable to satisfy the second assertion, <code>(?=crashinfo file)</code>. That <code>crashinfo info</code> appears earlier in file is irrelevant..."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699486491,"post_id":77448664,"comment_id":136539578,"body_markdown":"...Note that the regex engine could have moved the string pointer beyond the first instance of `&quot;crashinfo buffersize&quot;` had there been one more other instances of that string. [Here](https://regex101.com/r/Abl92p/1) is an example. The answers show what you need. In @AztecCodes&#39; answer, for example, the string pointer remains at the beginning of the string.","body":"...Note that the regex engine could have moved the string pointer beyond the first instance of <code>&quot;crashinfo buffersize&quot;</code> had there been one more other instances of that string. <a href=\"https://regex101.com/r/Abl92p/1\" rel=\"nofollow noreferrer\">Here</a> is an example. The answers show what you need. In @AztecCodes&#39; answer, for example, the string pointer remains at the beginning of the string."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699486991,"post_id":77448664,"comment_id":136539649,"body_markdown":"This question had been closed because it was deemed to be a duplicate of an earlier question. I voted to reopen because the OP&#39;s question, given in the last sentence, was not answered in answers given to the earlier question. The answer to this questions concerns the way regex engines work, not what regex would work, very different things. From an education standpoint understanding why a solution doesn&#39;t work can be much more valuable than merely being pointed to a different solution that does work.","body":"This question had been closed because it was deemed to be a duplicate of an earlier question. I voted to reopen because the OP&#39;s question, given in the last sentence, was not answered in answers given to the earlier question. The answer to this questions concerns the way regex engines work, not what regex would work, very different things. From an education standpoint understanding why a solution doesn&#39;t work can be much more valuable than merely being pointed to a different solution that does work."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699527064,"post_id":77448664,"comment_id":136544464,"body_markdown":"In which context are you using the regex? Or, in other words, why are you using look-aheads?","body":"In which context are you using the regex? Or, in other words, why are you using look-aheads?"}],"answers":[{"comments":[{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699476935,"post_id":77448735,"comment_id":136538166,"body_markdown":"Poster seems to be focused on these words right next to crashinfo.  Not sure though.","body":"Poster seems to be focused on these words right next to crashinfo.  Not sure though."},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478796,"post_id":77448735,"comment_id":136538481,"body_markdown":"In my case I was only interested in whether both literal strings were present in the file in any order. Sorry, could have been more clear in my original posting.","body":"In my case I was only interested in whether both literal strings were present in the file in any order. Sorry, could have been more clear in my original posting."},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699479204,"post_id":77448735,"comment_id":136538554,"body_markdown":"See comments above. The proposed solution will match &quot;crashinfo buffersize&quot; OR &quot;crashover file&quot;. If one is missing the match still succeeds. I need the match to pass if one is missing. This is driving me nuts because I have no trouble with this regex in another file that has no spaces in the text. There is no reason I can see why this regex fails.","body":"See comments above. The proposed solution will match &quot;crashinfo buffersize&quot; OR &quot;crashover file&quot;. If one is missing the match still succeeds. I need the match to pass if one is missing. This is driving me nuts because I have no trouble with this regex in another file that has no spaces in the text. There is no reason I can see why this regex fails."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699481216,"post_id":77448735,"comment_id":136538907,"body_markdown":"I assume the OP does not wish to match `&quot;precrashinfo buffersize&quot;` or `&quot;crashinfo filename&quot;`. If so, consider adding word boundaries.","body":"I assume the OP does not wish to match <code>&quot;precrashinfo buffersize&quot;</code> or <code>&quot;crashinfo filename&quot;</code>. If so, consider adding word boundaries."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":4,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1699475100,"creation_date":1699475100,"answer_id":77448735,"question_id":77448664,"body_markdown":"**My Regex:**\r\n```\r\nString regex = &quot;(?s)(?=.*crashinfo buffersize)(?=.*crashinfo file)&quot;;\r\n```","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p><strong>My Regex:</strong></p>\n<pre><code>String regex = &quot;(?s)(?=.*crashinfo buffersize)(?=.*crashinfo file)&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478689,"post_id":77448848,"comment_id":136538464,"body_markdown":"That seems like it would look for `crashinfo buffersize` OR `crashinfo file` but at least according to RegexBuddy it works. Thanks for the solve!","body":"That seems like it would look for <code>crashinfo buffersize</code> OR <code>crashinfo file</code> but at least according to RegexBuddy it works. Thanks for the solve!"},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":1,"creation_date":1699479066,"post_id":77448848,"comment_id":136538534,"body_markdown":"That seems looks for `crashinfo buffersize` OR `crashinfo file` but not both. If I changed this to `(?=crashinfo (?:buffersize|foo))` it still matches, even though the liter string &quot;crashinfo foo&quot; does not appear anywhere in my test case","body":"That seems looks for <code>crashinfo buffersize</code> OR <code>crashinfo file</code> but not both. If I changed this to <code>(?=crashinfo (?:buffersize|foo))</code> it still matches, even though the liter string &quot;crashinfo foo&quot; does not appear anywhere in my test case"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699487134,"post_id":77448848,"comment_id":136539668,"body_markdown":"@cybertosher, it will match either _&quot;crashinfo buffersize&quot;_ or _&quot;crashinfo file&quot;_.  You&#39;re saying it should match only if both exist?  I overlooked that, I&#39;ll edit the answer.","body":"@cybertosher, it will match either <i>&quot;crashinfo buffersize&quot;</i> or <i>&quot;crashinfo file&quot;</i>.  You&#39;re saying it should match only if both exist?  I overlooked that, I&#39;ll edit the answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699476379,"creation_date":1699476379,"answer_id":77448848,"question_id":77448664,"body_markdown":"Use a _non-capturing group_, and the _union_ syntax.\r\n\r\n```none\r\n(?=crashinfo (?:buffersize|file))\r\n```\r\n\r\n","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p>Use a <em>non-capturing group</em>, and the <em>union</em> syntax.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?=crashinfo (?:buffersize|file))\n</code></pre>\n"}],"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"comment_count":11,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700340994,"answer_count":2,"score":-2,"last_activity_date":1699486632,"creation_date":1699474351,"question_id":77448664,"body_markdown":"I am trying to write a regex in the Java 8 flavor that looks for two different static strings to occur in a multiline text file in any order. I have a regex that works in other circumstances, but not this one, and I cannot determine why this is so.\r\n\r\nI am searching the following text, with the goal of determining whether the strings &quot;crashinfo buffersize&quot; and &quot;crashinfo file&quot; *both* appear, in any order. I am using the regex `(?=crashinfo buffersize)(?=crashinfo file)` on the data below:\r\n\r\n```\r\nexception data-corruption buffer truncate\r\nexception data-corruption buffer log\r\nexception crashinfo file flash:crashinfo\r\nexception crashinfo buffersize 32\r\nexception crashinfo maximum files 1\r\nno exception crashinfo dump garbage-detector\r\nno monitor environment temperature notifies\r\nmonitor environment temperature syslog\r\nno monitor environment temperature history\r\nmonitor environment temperature low -25\r\n```\r\n\r\nI expect this to match since both strings *are* in the file, but the regex match fails. \r\n\r\nI searched for just `(?=crashinfo buffersize)` by itself, and that matches. I also searched for just `(?=crashinfo file)` by itself and it also matches. I expected that putting the two together would also match, since each matched in isolation. But the match fails. \r\n\r\nI have used constructions like this in other contexts and they worked fine. On this file, each individual lookahead succeeds on its own, but they fail if I use them together. I am stuck. Can anyone shine some light on what I am doing wrong?","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p>I am trying to write a regex in the Java 8 flavor that looks for two different static strings to occur in a multiline text file in any order. I have a regex that works in other circumstances, but not this one, and I cannot determine why this is so.</p>\n<p>I am searching the following text, with the goal of determining whether the strings &quot;crashinfo buffersize&quot; and &quot;crashinfo file&quot; <em>both</em> appear, in any order. I am using the regex <code>(?=crashinfo buffersize)(?=crashinfo file)</code> on the data below:</p>\n<pre><code>exception data-corruption buffer truncate\nexception data-corruption buffer log\nexception crashinfo file flash:crashinfo\nexception crashinfo buffersize 32\nexception crashinfo maximum files 1\nno exception crashinfo dump garbage-detector\nno monitor environment temperature notifies\nmonitor environment temperature syslog\nno monitor environment temperature history\nmonitor environment temperature low -25\n</code></pre>\n<p>I expect this to match since both strings <em>are</em> in the file, but the regex match fails.</p>\n<p>I searched for just <code>(?=crashinfo buffersize)</code> by itself, and that matches. I also searched for just <code>(?=crashinfo file)</code> by itself and it also matches. I expected that putting the two together would also match, since each matched in isolation. But the match fails.</p>\n<p>I have used constructions like this in other contexts and they worked fine. On this file, each individual lookahead succeeds on its own, but they fail if I use them together. I am stuck. Can anyone shine some light on what I am doing wrong?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":7830302,"reputation":504,"user_id":5920608,"display_name":"MESP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699454246,"creation_date":1699454246,"answer_id":77446504,"question_id":77446467,"body_markdown":"Found this code in the google Android documentation:\r\n\r\nJava: \r\n\r\n    int currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n    switch (currentNightMode) {\r\n        case Configuration.UI_MODE_NIGHT_NO:\r\n            // Night mode is not active, we&#39;re using the light theme\r\n            break;\r\n        case Configuration.UI_MODE_NIGHT_YES:\r\n            // Night mode is active, we&#39;re using dark theme\r\n            break;\r\n    }\r\n\r\nKotlin:\r\n\r\n    val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\r\n    when (currentNightMode) {\r\n        Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we&#39;re using the light theme.\r\n        Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we&#39;re using dark theme.\r\n    }\r\n\r\nsource: [Android docs.][1]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/theming/darktheme","title":"how can I check System Dark mode is enabable or not","body":"<p>Found this code in the google Android documentation:</p>\n<p>Java:</p>\n<pre><code>int currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\nswitch (currentNightMode) {\n    case Configuration.UI_MODE_NIGHT_NO:\n        // Night mode is not active, we're using the light theme\n        break;\n    case Configuration.UI_MODE_NIGHT_YES:\n        // Night mode is active, we're using dark theme\n        break;\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\nwhen (currentNightMode) {\n    Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we're using the light theme.\n    Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we're using dark theme.\n}\n</code></pre>\n<p>source: <a href=\"https://developer.android.com/develop/ui/views/theming/darktheme\" rel=\"nofollow noreferrer\">Android docs.</a></p>\n"}],"owner":{"account_id":29855858,"reputation":1,"user_id":22880704,"display_name":"nayan Ghodadara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699484987,"creation_date":1699453927,"question_id":77446467,"body_markdown":"```\r\nbinding.switchh.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean check) {\r\n                if(check){\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                }else{\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nHelp me to check switch while system dark mode is enabled","title":"how can I check System Dark mode is enabable or not","body":"<pre><code>binding.switchh.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean check) {\n                if(check){\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                }else{\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                }\n            }\n        });\n</code></pre>\n<p>Help me to check switch while system dark mode is enabled</p>\n"},{"tags":["java","selenium","automated-tests","selenium-chromedriver","socketexception"],"comments":[{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":1,"creation_date":1689125671,"post_id":63303153,"comment_id":135167805,"body_markdown":"Getting the same error here with latest chromedriver and chrome (114.0.5735.90) and Selenium 4.10.0","body":"Getting the same error here with latest chromedriver and chrome (114.0.5735.90) and Selenium 4.10.0"},{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":0,"creation_date":1689126159,"post_id":63303153,"comment_id":135167847,"body_markdown":"See answer https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror which worked for me","body":"See answer <a href=\"https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror\" title=\"how to help this org openqa selenium remote http websocketlistener onerror\">stackoverflow.com/questions/72540689/&hellip;</a> which worked for me"}],"answers":[{"comments":[{"owner":{"account_id":19240262,"reputation":31,"user_id":14060413,"display_name":"Mythreyi R."},"score":0,"creation_date":1597049574,"post_id":63307353,"comment_id":111996981,"body_markdown":"I saw this suggestion on a few pages and upgraded my chrome driver accordingly. But the exception still occurs even though my browser and chrome driver are compatible versions (both are version 84).\nIs there anything else I can check or modify to avoid this exception?","body":"I saw this suggestion on a few pages and upgraded my chrome driver accordingly. But the exception still occurs even though my browser and chrome driver are compatible versions (both are version 84). Is there anything else I can check or modify to avoid this exception?"},{"owner":{"account_id":12817682,"reputation":257,"user_id":9273784,"display_name":"Ankit Agrawal"},"score":0,"creation_date":1597051468,"post_id":63307353,"comment_id":111997729,"body_markdown":"Try these two checks and let me know if it resolves issue\n1. see if your chromdriver is not left open. i think you should not get this issue on using driver.quit()\n\n2. if you are still getting error, also check selenium-java version used in project. Make sure its latest stable version","body":"Try these two checks and let me know if it resolves issue 1. see if your chromdriver is not left open. i think you should not get this issue on using driver.quit()  2. if you are still getting error, also check selenium-java version used in project. Make sure its latest stable version"},{"owner":{"account_id":8649360,"reputation":155,"user_id":6475590,"display_name":"Uday"},"score":0,"creation_date":1652694249,"post_id":63307353,"comment_id":127659346,"body_markdown":"not getting this issue in driver.quit(), but getting this issue in driver.close(), i have latest drivers too.","body":"not getting this issue in driver.quit(), but getting this issue in driver.close(), i have latest drivers too."}],"tags":[],"owner":{"account_id":12817682,"reputation":257,"user_id":9273784,"display_name":"Ankit Agrawal"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596824782,"creation_date":1596824782,"answer_id":63307353,"question_id":63303153,"body_markdown":"AS the name of exception suggest, there is issue in connection between your chromedriver and chrome browser.\r\n\r\nUpgrade chrome browser to 84 and then retry or you can also download downgraded version of chromedriver which is compatible with your version of chrome.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>AS the name of exception suggest, there is issue in connection between your chromedriver and chrome browser.</p>\n<p>Upgrade chrome browser to 84 and then retry or you can also download downgraded version of chromedriver which is compatible with your version of chrome.</p>\n"},{"comments":[{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":0,"creation_date":1657088828,"post_id":72869373,"comment_id":128723125,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72869373/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657396088,"post_id":72869373,"comment_id":128802082,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/32177011)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/32177011\">From Review</a>"}],"tags":[],"owner":{"account_id":16512918,"reputation":1,"user_id":11931177,"display_name":"Abhinav Pandey"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657023816,"creation_date":1657023816,"answer_id":72869373,"question_id":63303153,"body_markdown":"I was also getting same error but it was resolved after changing selenium version.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>I was also getting same error but it was resolved after changing selenium version.</p>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1697090323,"post_id":77256351,"comment_id":136236044,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/35103554)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/35103554\">From Review</a>"}],"tags":[],"owner":{"account_id":11420809,"reputation":1,"user_id":8372358,"display_name":"Shubham Rathi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696827718,"creation_date":1696827718,"answer_id":77256351,"question_id":63303153,"body_markdown":"Are you using driver listeners?\r\nIf yes, then driver is getting called even after quit and hence the error.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>Are you using driver listeners?\nIf yes, then driver is getting called even after quit and hence the error.</p>\n"}],"owner":{"account_id":19240262,"reputation":31,"user_id":14060413,"display_name":"Mythreyi R."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9057,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1699484720,"creation_date":1596808040,"question_id":63303153,"body_markdown":"I am seeing a *java.net.SocketException: Connection reset* almost every time I use a driver.close() or driver.quit() statement. The browser does get closed and the exception isn&#39;t affecting any of my tests so far, but I would still like to understand why this is happening.\r\n\r\nI checked for a version incompatibility, but the issue persists even after I updated my ChromeDriver. (I&#39;m using ChromeDriver 84.0.4147.30 with Google Chrome Version 84.0.4147.105.) \r\n\r\nThe issue is intermittent, but usually occurs about 80% of the time.\r\n\r\nCode:\r\n```\r\npublic static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n        driver.close();\r\n        System.exit(0);\r\n    }\r\n```\r\nError:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 84.0.4147.30 (48b3e868b4cc0aa7e8149519690b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 24445\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nAug 07, 2020 6:39:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nAug 07, 2020 6:39:14 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>I am seeing a <em>java.net.SocketException: Connection reset</em> almost every time I use a driver.close() or driver.quit() statement. The browser does get closed and the exception isn't affecting any of my tests so far, but I would still like to understand why this is happening.</p>\n<p>I checked for a version incompatibility, but the issue persists even after I updated my ChromeDriver. (I'm using ChromeDriver 84.0.4147.30 with Google Chrome Version 84.0.4147.105.)</p>\n<p>The issue is intermittent, but usually occurs about 80% of the time.</p>\n<p>Code:</p>\n<pre><code>public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com/&quot;);\n        driver.close();\n        System.exit(0);\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 84.0.4147.30 (48b3e868b4cc0aa7e8149519690b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 24445\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nAug 07, 2020 6:39:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nAug 07, 2020 6:39:14 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","logging","log4j2","c3p0"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1699479591,"post_id":77448944,"comment_id":136538639,"body_markdown":"That `&lt;logger&gt;` element should probably be a child of the `&lt;Loggers&gt; ... &lt;/Loggers&gt;` element. Also, not sure if it matters, but try setting the level of the logger as an _attribute_ rather than as a child element (e.g., `&lt;logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;trace&quot;/&gt;`).","body":"That <code>&lt;logger&gt;</code> element should probably be a child of the <code>&lt;Loggers&gt; ... &lt;&#47;Loggers&gt;</code> element. Also, not sure if it matters, but try setting the level of the logger as an <i>attribute</i> rather than as a child element (e.g., <code>&lt;logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;trace&quot;&#47;&gt;</code>)."},{"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"score":0,"creation_date":1699480816,"post_id":77448944,"comment_id":136538855,"body_markdown":"Tried that, still no go.","body":"Tried that, still no go."}],"answers":[{"comments":[{"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"score":0,"creation_date":1699486654,"post_id":77449494,"comment_id":136539601,"body_markdown":"I didn&#39;t create a c3p0 properties file when enabled it.  I added c3p0 to pom.xml file.   In my xml file I set the  &lt;bean id=&quot;userManagementDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt; ETC.  I didn&#39;t need a propties file.  If i have to set one, where does that go?","body":"I didn&#39;t create a c3p0 properties file when enabled it.  I added c3p0 to pom.xml file.   In my xml file I set the  &lt;bean id=&quot;userManagementDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt; ETC.  I didn&#39;t need a propties file.  If i have to set one, where does that go?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699493177,"post_id":77449494,"comment_id":136540228,"body_markdown":"Have you read c3p0 documentation?","body":"Have you read c3p0 documentation?"},{"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"score":0,"creation_date":1699539992,"post_id":77449494,"comment_id":136546983,"body_markdown":"yes, i still don&#39;t know where to create this properties files.","body":"yes, i still don&#39;t know where to create this properties files."},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1699553850,"post_id":77449494,"comment_id":136549946,"body_markdown":"[define](https://www.mchange.com/projects/c3p0/#c3p0_properties) the file `c3p0.properties` as a ClassLoader resource, that is somewhere in your application&#39;s `CLASSPATH`, at the top level. alternatively, you can set the same key-value pairs as System properties, e.g. by using `java -Dcom.mchange.v2.log.MLog=log4j2 ...` when you launch your application.","body":"<a href=\"https://www.mchange.com/projects/c3p0/#c3p0_properties\" rel=\"nofollow noreferrer\">define</a> the file <code>c3p0.properties</code> as a ClassLoader resource, that is somewhere in your application&#39;s <code>CLASSPATH</code>, at the top level. alternatively, you can set the same key-value pairs as System properties, e.g. by using <code>java -Dcom.mchange.v2.log.MLog=log4j2 ...</code> when you launch your application."}],"tags":[],"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699484645,"creation_date":1699484645,"answer_id":77449494,"question_id":77448944,"body_markdown":"You might place in your `c3p0.properties` file (or as a System property)\r\n\r\n    com.mchange.v2.log.MLog=log4j2\r\n\r\nc3p0 logs to its own logging facade, which supports fanning out to moust common log libraries.\r\n\r\nSee &quot;[configuring logging](https://www.mchange.com/projects/c3p0/#configuring_logging)&quot; for more.","title":"c3p0 log4j2 implementation","body":"<p>You might place in your <code>c3p0.properties</code> file (or as a System property)</p>\n<pre><code>com.mchange.v2.log.MLog=log4j2\n</code></pre>\n<p>c3p0 logs to its own logging facade, which supports fanning out to moust common log libraries.</p>\n<p>See &quot;<a href=\"https://www.mchange.com/projects/c3p0/#configuring_logging\" rel=\"nofollow noreferrer\">configuring logging</a>&quot; for more.</p>\n"}],"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77449494,"answer_count":1,"score":0,"last_activity_date":1699484645,"creation_date":1699477607,"question_id":77448944,"body_markdown":"I inherited a java tomcat web project project and I am trying to get c3p0 logging enabled and I cannot get it working for the life of me.\r\n\r\nI am using c3p0 with jdbc driver com.microsoft.sqlserver.jdbc.SQLServerDriver and this seems to work great.\r\n\r\nI&#39;ve done some research and there is no log4j2.properties file, but there is a log4j2.xml file that has logging def in it.  I added c3p0 logger name in but I cannot seem to get it to work.\r\n\r\n\r\nRegular logging is working.  What the application uses is \r\n\r\n\r\n\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nprivate static Logger logger = LogManager.getLogger(&quot;TrackerLogger&quot;);\r\nlogger.info(&quot;HOLA&quot;);\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried adding this in various places but when i start up my java app, nothing is logging.   \r\n\r\n\r\n```\r\n        &lt;logger name=&quot;com.mchange.v2.c3p0&quot;&gt;\r\n        &lt;level value=&quot;trace&quot;/&gt;\r\n    \t&lt;/logger&gt;\r\n```\r\n\r\n\r\nHere is my log4j2.file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;trace&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;logFile&quot; fileName=&quot;c:/Tracker/Logs/current.log&quot; filePattern=&quot;c:/Tracker/Logs/%d{yyyy-MM-dd} tracker.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%X] [%t] %-5level - %msg%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;   \r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;Logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\r\n    \t&lt;/Logger&gt;\r\n        &lt;Root level=&quot;trace&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n    \r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIt&#39;s probably something simple and stupid i am missing.\r\n\r\nAny suggestions?\r\n","title":"c3p0 log4j2 implementation","body":"<p>I inherited a java tomcat web project project and I am trying to get c3p0 logging enabled and I cannot get it working for the life of me.</p>\n<p>I am using c3p0 with jdbc driver com.microsoft.sqlserver.jdbc.SQLServerDriver and this seems to work great.</p>\n<p>I've done some research and there is no log4j2.properties file, but there is a log4j2.xml file that has logging def in it.  I added c3p0 logger name in but I cannot seem to get it to work.</p>\n<p>Regular logging is working.  What the application uses is</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nprivate static Logger logger = LogManager.getLogger(&quot;TrackerLogger&quot;);\nlogger.info(&quot;HOLA&quot;);\n\n</code></pre>\n<p>I've tried adding this in various places but when i start up my java app, nothing is logging.</p>\n<pre><code>        &lt;logger name=&quot;com.mchange.v2.c3p0&quot;&gt;\n        &lt;level value=&quot;trace&quot;/&gt;\n        &lt;/logger&gt;\n</code></pre>\n<p>Here is my log4j2.file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;trace&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;logFile&quot; fileName=&quot;c:/Tracker/Logs/current.log&quot; filePattern=&quot;c:/Tracker/Logs/%d{yyyy-MM-dd} tracker.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%X] [%t] %-5level - %msg%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;   \n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;Logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;trace&quot;&gt;\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n    \n&lt;/Configuration&gt;\n</code></pre>\n<p>It's probably something simple and stupid i am missing.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","hadoop","io","apache-spark","parquet"],"comments":[{"owner":{"account_id":2162429,"reputation":1801,"user_id":1916298,"display_name":"Franzi"},"score":1,"creation_date":1462366181,"post_id":34814082,"comment_id":61606470,"body_markdown":"Hi Lavd&#235;rim, Did you solve it?","body":"Hi Lavd&#235;rim, Did you solve it?"},{"owner":{"account_id":2180870,"reputation":1447,"user_id":1930402,"accept_rate":70,"display_name":"pnv"},"score":0,"creation_date":1575614523,"post_id":34814082,"comment_id":104633392,"body_markdown":"If it was any other format, say `.csv`, you should specify `format=&quot;com.databricks.spark.csv&quot;`, while you are reading.","body":"If it was any other format, say <code>.csv</code>, you should specify <code>format=&quot;com.databricks.spark.csv&quot;</code>, while you are reading."}],"answers":[{"tags":[],"owner":{"account_id":3088364,"reputation":3334,"user_id":2615065,"accept_rate":31,"display_name":"Srini"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1452893766,"creation_date":1452893766,"answer_id":34820249,"question_id":34814082,"body_markdown":"Can you try sqlContex.read.load, instead of sqlContext.parquetFile.?\r\n\r\nPlease refer the below link. \r\nhttp://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions\r\n\r\nPlease try and let me know, if that works. If not, we could try other way. ","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Can you try sqlContex.read.load, instead of sqlContext.parquetFile.?</p>\n\n<p>Please refer the below link. \n<a href=\"http://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions\" rel=\"nofollow\">http://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions</a></p>\n\n<p>Please try and let me know, if that works. If not, we could try other way. </p>\n"},{"tags":[],"owner":{"account_id":6859769,"reputation":177,"user_id":5274206,"display_name":"Ryan Garaygay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467756379,"creation_date":1467432537,"answer_id":38156385,"question_id":34814082,"body_markdown":"if you open a parquet file (text editor), at the very bottom you will see something like &quot;parquet-mr&quot; and that could help you know what version/format the file was created from\r\n\r\nthe method above though simple, the &quot;creator&quot; can be something else like impala or other component that can create parquet files and you can use parquet-tools https://github.com/apache/parquet-mr/tree/master/parquet-tools\r\n\r\nsince it looks like you are using spark to read the parquet file you might be able to work-around it by setting spark.sql.parquet.filterPushdown to false. maybe try that first (more info here - https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration - change latest to your version of spark).\r\n\r\nif that does not work then maybe try if this is an issue with latest version of spark - if it does then you can try to trace history of which commits fixed it and that might give you an insight on possible work-around\r\n\r\nor if you know the parquet version you can use (switch) the corresponding branch of parquet-mr (build the parquet-tools for that) and use the tools for that version to test your metadata files (_metadata, _common_metadata) or one of the parquet file - you should be able to reproduce the error and debug from there","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>if you open a parquet file (text editor), at the very bottom you will see something like \"parquet-mr\" and that could help you know what version/format the file was created from</p>\n\n<p>the method above though simple, the \"creator\" can be something else like impala or other component that can create parquet files and you can use parquet-tools <a href=\"https://github.com/apache/parquet-mr/tree/master/parquet-tools\" rel=\"nofollow\">https://github.com/apache/parquet-mr/tree/master/parquet-tools</a></p>\n\n<p>since it looks like you are using spark to read the parquet file you might be able to work-around it by setting spark.sql.parquet.filterPushdown to false. maybe try that first (more info here - <a href=\"https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration\" rel=\"nofollow\">https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration</a> - change latest to your version of spark).</p>\n\n<p>if that does not work then maybe try if this is an issue with latest version of spark - if it does then you can try to trace history of which commits fixed it and that might give you an insight on possible work-around</p>\n\n<p>or if you know the parquet version you can use (switch) the corresponding branch of parquet-mr (build the parquet-tools for that) and use the tools for that version to test your metadata files (_metadata, _common_metadata) or one of the parquet file - you should be able to reproduce the error and debug from there</p>\n"},{"comments":[{"owner":{"account_id":995271,"reputation":5074,"user_id":1080804,"accept_rate":49,"display_name":"ecoe"},"score":0,"creation_date":1585853353,"post_id":54735267,"comment_id":107917763,"body_markdown":"Similarly, I got this issue when trying to read parquet files from my local machine that I had `synced` from `S3`. Interestingly, after I deleted a `_spark_metadata` folder, which was present in the same directory I was reading from, this issue did not occur for me.","body":"Similarly, I got this issue when trying to read parquet files from my local machine that I had <code>synced</code> from <code>S3</code>. Interestingly, after I deleted a <code>_spark_metadata</code> folder, which was present in the same directory I was reading from, this issue did not occur for me."}],"tags":[],"owner":{"account_id":5669934,"reputation":549,"user_id":4484893,"display_name":"Bruno Faria"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550421237,"creation_date":1550421237,"answer_id":54735267,"question_id":34814082,"body_markdown":"I got the same problem trying to read a parquet file from S3. In my case the issue was the required libraries were not available for all workers in the cluster.\r\n\r\nThere are 2 ways to fix that:\r\n \r\n- Make sure you added the dependencies on the spark-submit command so it&#39;s distributed to the whole cluster\r\n- Add the dependencies on the /jars directory on your SPARK_HOME for each worker in the cluster.","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>I got the same problem trying to read a parquet file from S3. In my case the issue was the required libraries were not available for all workers in the cluster.</p>\n\n<p>There are 2 ways to fix that:</p>\n\n<ul>\n<li>Make sure you added the dependencies on the spark-submit command so it's distributed to the whole cluster</li>\n<li>Add the dependencies on the /jars directory on your SPARK_HOME for each worker in the cluster.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2783479,"reputation":592,"user_id":2395507,"display_name":"Ted"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596398971,"creation_date":1596398222,"answer_id":63220438,"question_id":34814082,"body_markdown":"Check your folder permissions. We have seen this error in other environments and it was caused by Spark not having the permission to access the file.","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Check your folder permissions. We have seen this error in other environments and it was caused by Spark not having the permission to access the file.</p>\n"},{"tags":[],"owner":{"account_id":6960023,"reputation":11,"user_id":12517135,"display_name":"Martin Lobet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693557008,"creation_date":1693557008,"answer_id":77021602,"question_id":34814082,"body_markdown":"Old thread but my fix was a bit different.\r\n\r\nThis error was thrown because I tried to create a external table pointing to an existing but empty parquet file (no rows, not even a schema).\r\n","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Old thread but my fix was a bit different.</p>\n<p>This error was thrown because I tried to create a external table pointing to an existing but empty parquet file (no rows, not even a schema).</p>\n"}],"owner":{"account_id":7643921,"reputation":141,"user_id":5795199,"display_name":"Lavd&#235;rim Shala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37216,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1699483997,"creation_date":1452870586,"question_id":34814082,"body_markdown":"I have a SPARK project running on a Cloudera VM. On my project I load the data from a parquet file and then process these data. Everything works fine but The problem is that I need to run this project on a school cluster but there I am having problems while reading the parquet file at this part of code:\r\n\r\n    DataFrame schemaRDF = sqlContext.parquetFile(&quot;/var/tmp/graphs/sib200.parquet&quot;);\r\n\r\nI get the following error:\r\n\r\n    \r\n\r\n&gt;  Could not read footer: java.io.IOException: Could not read footer for\r\n&gt; file\r\n&gt; FileStatus{path=file:/var/tmp/graphs/sib200.parquet/_common_metadata;\r\n&gt; isDirectory=false; length=413; replication=0; blocksize=0;\r\n&gt; modification_time=0; access_time=0; owner=; group=;\r\n&gt; permission=rw-rw-rw-; isSymlink=false} at\r\n&gt; parquet.hadoop.ParquetFileReader.readAllFootersInParallel(ParquetFileReader.java:248)\r\n&gt; at\r\n&gt; org.apache.spark.sql.execution.datasources.parquet.ParquetRelation$$anonfun$28.apply(ParquetRelation.scala:750)\r\n\r\nBased on the search online it seems to be a parquet version problem.\r\n\r\nWhat I would like from you is to tell me how can I find the installed parquet version in a computer in order to check if both have the same version. Or in addition, if you know the exact solution for this error would also be perfect!\r\n","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>I have a SPARK project running on a Cloudera VM. On my project I load the data from a parquet file and then process these data. Everything works fine but The problem is that I need to run this project on a school cluster but there I am having problems while reading the parquet file at this part of code:</p>\n\n<pre><code>DataFrame schemaRDF = sqlContext.parquetFile(\"/var/tmp/graphs/sib200.parquet\");\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Could not read footer: java.io.IOException: Could not read footer for\n  file\n  FileStatus{path=file:/var/tmp/graphs/sib200.parquet/_common_metadata;\n  isDirectory=false; length=413; replication=0; blocksize=0;\n  modification_time=0; access_time=0; owner=; group=;\n  permission=rw-rw-rw-; isSymlink=false} at\n  parquet.hadoop.ParquetFileReader.readAllFootersInParallel(ParquetFileReader.java:248)\n  at\n  org.apache.spark.sql.execution.datasources.parquet.ParquetRelation$$anonfun$28.apply(ParquetRelation.scala:750)</p>\n</blockquote>\n\n<p>Based on the search online it seems to be a parquet version problem.</p>\n\n<p>What I would like from you is to tell me how can I find the installed parquet version in a computer in order to check if both have the same version. Or in addition, if you know the exact solution for this error would also be perfect!</p>\n"},{"tags":["java","spring","swagger","openapi","springdoc"],"answers":[{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1579684883,"post_id":59430454,"comment_id":105844615,"body_markdown":"Could you please guide me here: https://github.com/springdoc/springdoc-openapi/issues/363 ?","body":"Could you please guide me here: <a href=\"https://github.com/springdoc/springdoc-openapi/issues/363\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/issues/363</a> ?"},{"owner":{"account_id":12488260,"reputation":9988,"user_id":9090751,"display_name":"Mafor"},"score":0,"creation_date":1579688449,"post_id":59430454,"comment_id":105846739,"body_markdown":"@PAA It seems to be solved, isn&#39;t it? If not, please post the question on SA, I&#39;ll be glad to help.","body":"@PAA It seems to be solved, isn&#39;t it? If not, please post the question on SA, I&#39;ll be glad to help."},{"owner":{"account_id":3024546,"reputation":18815,"user_id":2564847,"accept_rate":75,"display_name":"Robin Dijkhof"},"score":0,"creation_date":1609863308,"post_id":59430454,"comment_id":115951913,"body_markdown":"@Mafor is the same possible using annotations?","body":"@Mafor is the same possible using annotations?"}],"tags":[],"owner":{"account_id":12488260,"reputation":9988,"user_id":9090751,"display_name":"Mafor"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1602991180,"creation_date":1576870215,"answer_id":59430454,"question_id":59357205,"body_markdown":"Yes, you can do it in the same place calling `addSecurityItem`:\r\n```\r\n  @Bean\r\n  public OpenAPI customOpenAPI() {\r\n    return new OpenAPI()\r\n            .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\r\n                new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\r\n                    .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\r\n            .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;))\r\n            .addSecurityItem(\r\n                    new SecurityRequirement().addList(&quot;bearer-jwt&quot;, Arrays.asList(&quot;read&quot;, &quot;write&quot;)));\r\n  }\r\n```\r\nGlobal security schema can be overridden by a different one with the `@SecurityRequirements` annotation. Including removing security schemas for an operation. For example, we can remove security for registration path.\r\n\r\n```\r\n@SecurityRequirements\r\n@PostMapping(&quot;/registration&quot;)\r\npublic ResponseEntity post(@RequestBody @Valid Registration: registration) {\r\n    return registrationService.register(registration);\r\n}\r\n```\r\n\r\nWhile still keeping security schemas for other APIs.\r\n\r\n**Old answer (Dec 20 &#39;19):**\r\n\r\nGlobal security schema can be overridden by a different one with the `@SecurityRequirements` annotation. but it cannot be removed for unsecured  paths. It is acctualy missing fueature in the **springdoc-openapi**, OpenAPI standard allows it. See [disable global security for particular operation][1]\r\n\r\nThere is a workaround though. The **springdoc-openapi** has a concept of an OpenApiCustomiser which can be used to intercept generated schema. Inside the customizer, an operation can be modified programmatically. To remove any inherited security, the field `security` needs to be set to an empty array. The logic may be based on any arbitrary rules e.g operation name. I used tags.\r\n\r\nThe customizer:\r\n```\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.Operation;\r\nimport io.swagger.v3.oas.models.PathItem;\r\nimport org.springdoc.api.OpenApiCustomiser;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@Component\r\npublic class SecurityOverrideCustomizer implements OpenApiCustomiser {\r\n\r\n    public static final String UNSECURED = &quot;security.open&quot;;\r\n\r\n    private static final List&lt;Function&lt;PathItem, Operation&gt;&gt; OPERATION_GETTERS = Arrays.asList(\r\n            PathItem::getGet, PathItem::getPost, PathItem::getDelete, PathItem::getHead,\r\n            PathItem::getOptions, PathItem::getPatch, PathItem::getPut);\r\n\r\n    @Override\r\n    public void customise(OpenAPI openApi) {\r\n        openApi.getPaths().forEach((path, item) -&gt; getOperations(item).forEach(operation -&gt; {\r\n            List&lt;String&gt; tags = operation.getTags();\r\n            if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\r\n                operation.setSecurity(Collections.emptyList());\r\n                operation.setTags(filterTags(tags));\r\n            }\r\n        }));\r\n    }\r\n\r\n    private static Stream&lt;Operation&gt; getOperations(PathItem pathItem) {\r\n        return OPERATION_GETTERS.stream()\r\n                .map(getter -&gt; getter.apply(pathItem))\r\n                .filter(Objects::nonNull);\r\n    }\r\n\r\n    private static List&lt;String&gt; filterTags(List&lt;String&gt; tags) {\r\n        return tags.stream()\r\n                .filter(t -&gt; !t.equals(UNSECURED))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nNow we can add `@Tag(name = SecurityOverrideCustomizer.UNSECURED)` to unsecured methods:\r\n```\r\n    @Tag(name = SecurityOverrideCustomizer.UNSECURED)\r\n    @GetMapping(&quot;/open&quot;)\r\n    @ResponseBody\r\n    public String open() {\r\n        return &quot;It works!&quot;;\r\n    }\r\n```\r\nPlease bear in mind that it is just a workaround. Hopefully, the issue will be resolved in the next **springdoc-openapi** versions (at the time of writing it the current version is 1.2.18).\r\n\r\nFor a working example see [springdoc-security-override-fix][2]\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/issues/2844\r\n  [2]: https://github.com/mafor/springdoc-security-override-fix","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Yes, you can do it in the same place calling <code>addSecurityItem</code>:</p>\n<pre><code>  @Bean\n  public OpenAPI customOpenAPI() {\n    return new OpenAPI()\n            .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\n                new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\n                    .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\n            .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;))\n            .addSecurityItem(\n                    new SecurityRequirement().addList(&quot;bearer-jwt&quot;, Arrays.asList(&quot;read&quot;, &quot;write&quot;)));\n  }\n</code></pre>\n<p>Global security schema can be overridden by a different one with the <code>@SecurityRequirements</code> annotation. Including removing security schemas for an operation. For example, we can remove security for registration path.</p>\n<pre><code>@SecurityRequirements\n@PostMapping(&quot;/registration&quot;)\npublic ResponseEntity post(@RequestBody @Valid Registration: registration) {\n    return registrationService.register(registration);\n}\n</code></pre>\n<p>While still keeping security schemas for other APIs.</p>\n<p><strong>Old answer (Dec 20 '19):</strong></p>\n<p>Global security schema can be overridden by a different one with the <code>@SecurityRequirements</code> annotation. but it cannot be removed for unsecured  paths. It is acctualy missing fueature in the <strong>springdoc-openapi</strong>, OpenAPI standard allows it. See <a href=\"https://github.com/swagger-api/swagger-core/issues/2844\" rel=\"noreferrer\">disable global security for particular operation</a></p>\n<p>There is a workaround though. The <strong>springdoc-openapi</strong> has a concept of an OpenApiCustomiser which can be used to intercept generated schema. Inside the customizer, an operation can be modified programmatically. To remove any inherited security, the field <code>security</code> needs to be set to an empty array. The logic may be based on any arbitrary rules e.g operation name. I used tags.</p>\n<p>The customizer:</p>\n<pre><code>import io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.Operation;\nimport io.swagger.v3.oas.models.PathItem;\nimport org.springdoc.api.OpenApiCustomiser;\nimport org.springframework.stereotype.Component;\n\nimport javax.validation.constraints.NotNull;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@Component\npublic class SecurityOverrideCustomizer implements OpenApiCustomiser {\n\n    public static final String UNSECURED = &quot;security.open&quot;;\n\n    private static final List&lt;Function&lt;PathItem, Operation&gt;&gt; OPERATION_GETTERS = Arrays.asList(\n            PathItem::getGet, PathItem::getPost, PathItem::getDelete, PathItem::getHead,\n            PathItem::getOptions, PathItem::getPatch, PathItem::getPut);\n\n    @Override\n    public void customise(OpenAPI openApi) {\n        openApi.getPaths().forEach((path, item) -&gt; getOperations(item).forEach(operation -&gt; {\n            List&lt;String&gt; tags = operation.getTags();\n            if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\n                operation.setSecurity(Collections.emptyList());\n                operation.setTags(filterTags(tags));\n            }\n        }));\n    }\n\n    private static Stream&lt;Operation&gt; getOperations(PathItem pathItem) {\n        return OPERATION_GETTERS.stream()\n                .map(getter -&gt; getter.apply(pathItem))\n                .filter(Objects::nonNull);\n    }\n\n    private static List&lt;String&gt; filterTags(List&lt;String&gt; tags) {\n        return tags.stream()\n                .filter(t -&gt; !t.equals(UNSECURED))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Now we can add <code>@Tag(name = SecurityOverrideCustomizer.UNSECURED)</code> to unsecured methods:</p>\n<pre><code>    @Tag(name = SecurityOverrideCustomizer.UNSECURED)\n    @GetMapping(&quot;/open&quot;)\n    @ResponseBody\n    public String open() {\n        return &quot;It works!&quot;;\n    }\n</code></pre>\n<p>Please bear in mind that it is just a workaround. Hopefully, the issue will be resolved in the next <strong>springdoc-openapi</strong> versions (at the time of writing it the current version is 1.2.18).</p>\n<p>For a working example see <a href=\"https://github.com/mafor/springdoc-security-override-fix\" rel=\"noreferrer\">springdoc-security-override-fix</a></p>\n"},{"tags":[],"owner":{"display_name":"user11878890"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1580320530,"creation_date":1579797929,"answer_id":59883424,"question_id":59357205,"body_markdown":"Tested with v1.2.29 of springdoc-openapi: Its possible to disable security for particular Endpoint using: @SecurityRequirements\r\n\r\n\t@GetMapping(&quot;/open&quot;)\r\n\t@ResponseBody\r\n\t@SecurityRequirements\r\n\tpublic String open() {\r\n\t\treturn &quot;It works!&quot;;\r\n\t}\r\n\r\nFor older versions, for example tested with v1.2.28 using OperationCustomizer:\r\n\r\n    public static final String UNSECURED = &quot;security.open&quot;;\r\n    \r\n    @Bean\r\n    public OperationCustomizer customize() {\r\n    \treturn (Operation operation, HandlerMethod handlerMethod) -&gt; {\r\n    \t\tList&lt;String&gt; tags = operation.getTags();\r\n    \t\tif (tags != null &amp;&amp; tags.contains(UNSECURED)) {\r\n    \t\t\toperation.setSecurity(Collections.emptyList());\r\n    \t\t\toperation.setTags(tags.stream()\r\n    \t\t\t\t\t.filter(t -&gt; !t.equals(UNSECURED))\r\n    \t\t\t\t\t.collect(Collectors.toList()));\r\n    \t\t}\r\n    \t\treturn operation;\r\n    \t};\r\n    }","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Tested with v1.2.29 of springdoc-openapi: Its possible to disable security for particular Endpoint using: @SecurityRequirements</p>\n\n<pre><code>@GetMapping(\"/open\")\n@ResponseBody\n@SecurityRequirements\npublic String open() {\n    return \"It works!\";\n}\n</code></pre>\n\n<p>For older versions, for example tested with v1.2.28 using OperationCustomizer:</p>\n\n<pre><code>public static final String UNSECURED = \"security.open\";\n\n@Bean\npublic OperationCustomizer customize() {\n    return (Operation operation, HandlerMethod handlerMethod) -&gt; {\n        List&lt;String&gt; tags = operation.getTags();\n        if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\n            operation.setSecurity(Collections.emptyList());\n            operation.setTags(tags.stream()\n                    .filter(t -&gt; !t.equals(UNSECURED))\n                    .collect(Collectors.toList()));\n        }\n        return operation;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19964164,"reputation":319,"user_id":14631114,"display_name":"Ranjan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662439560,"creation_date":1662439560,"answer_id":73616809,"question_id":59357205,"body_markdown":"According to Documentation of springdoc, for new versions you can do this\r\n\r\nAdd the @SecurityRequirement for the protected route like\r\n\r\n\r\n```java\r\n @PostMapping(value = &quot;/example&quot;)\r\n @SecurityRequirement(name = &quot;bearer-key&quot;)\r\n public ResponseEntity&lt;Object&gt; exampleHandler() {\r\n    /// logic here\r\n }\r\n```\r\n\r\nand then in your Security config class add \r\n\r\n```java\r\n@Bean\r\n public OpenAPI customOpenAPI() {\r\n   return new OpenAPI()\r\n          .components(new Components()\r\n          .addSecuritySchemes(&quot;bearer-key&quot;,\r\n          new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)));\r\n}\r\n```\r\n\r\nHere is the link to the [docs](https://springdoc.org/#how-do-i-add-authorization-header-in-requests)\r\n\r\n","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>According to Documentation of springdoc, for new versions you can do this</p>\n<p>Add the @SecurityRequirement for the protected route like</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(value = &quot;/example&quot;)\n @SecurityRequirement(name = &quot;bearer-key&quot;)\n public ResponseEntity&lt;Object&gt; exampleHandler() {\n    /// logic here\n }\n</code></pre>\n<p>and then in your Security config class add</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n public OpenAPI customOpenAPI() {\n   return new OpenAPI()\n          .components(new Components()\n          .addSecuritySchemes(&quot;bearer-key&quot;,\n          new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)));\n}\n</code></pre>\n<p>Here is the link to the <a href=\"https://springdoc.org/#how-do-i-add-authorization-header-in-requests\" rel=\"nofollow noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699483993,"creation_date":1698851613,"answer_id":77403670,"question_id":59357205,"body_markdown":"Here is a variation for the opaque token (with Spring Boot 3):\r\n\r\n    @Configuration\r\n\tpublic class OpenApiConfiguration {\r\n\t\t@Bean\r\n\t\tpublic OpenAPI customOpenAPI() {\r\n\r\n\t\t\t// https://github.com/OAI/OpenAPI-Specification/blob/3.0.1/versions/3.0.1.md#securitySchemeObject\r\n\t\t\tvar securityScheme = new SecurityScheme()\r\n\t\t\t\t\t.type(SecurityScheme.Type.HTTP)\r\n\t\t\t\t\t.name(&quot;bearer&quot;)\r\n\t\t\t\t\t.scheme(&quot;bearer&quot;)\r\n\t\t\t\t\t.bearerFormat(&quot;opaque&quot;)\r\n\t\t\t\t\t.in(SecurityScheme.In.HEADER)\r\n\t\t\t\t\t.name(&quot;Authorization&quot;);\r\n\t\t\tvar securityComponent = new Components()\r\n\t\t\t\t\t.addSecuritySchemes(&quot;bearer&quot;, securityScheme);\r\n\t\t\tvar securityItem = new SecurityRequirement()\r\n\t\t\t\t\t.addList(&quot;bearer&quot;);\r\n\r\n\t\t\treturn new OpenAPI()\r\n\t\t\t\t\t.components(securityComponent)\r\n\t\t\t\t\t.addSecurityItem(securityItem);\r\n\t\t\t\t\t// ... other details as needed\r\n\t\t}\r\n\t}\r\n\r\nNote that if controller classes or methods are annotated with `@SecurityRequirement`, the name used in these requirements has to match name used in the scheme above, i.e.\r\n\r\n    @Operation(summary = &quot;...&quot;, security = {@SecurityRequirement(name = &quot;bearer&quot;)})\r\n\r\n","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Here is a variation for the opaque token (with Spring Boot 3):</p>\n<pre><code>@Configuration\npublic class OpenApiConfiguration {\n    @Bean\n    public OpenAPI customOpenAPI() {\n\n        // https://github.com/OAI/OpenAPI-Specification/blob/3.0.1/versions/3.0.1.md#securitySchemeObject\n        var securityScheme = new SecurityScheme()\n                .type(SecurityScheme.Type.HTTP)\n                .name(&quot;bearer&quot;)\n                .scheme(&quot;bearer&quot;)\n                .bearerFormat(&quot;opaque&quot;)\n                .in(SecurityScheme.In.HEADER)\n                .name(&quot;Authorization&quot;);\n        var securityComponent = new Components()\n                .addSecuritySchemes(&quot;bearer&quot;, securityScheme);\n        var securityItem = new SecurityRequirement()\n                .addList(&quot;bearer&quot;);\n\n        return new OpenAPI()\n                .components(securityComponent)\n                .addSecurityItem(securityItem);\n                // ... other details as needed\n    }\n}\n</code></pre>\n<p>Note that if controller classes or methods are annotated with <code>@SecurityRequirement</code>, the name used in these requirements has to match name used in the scheme above, i.e.</p>\n<pre><code>@Operation(summary = &quot;...&quot;, security = {@SecurityRequirement(name = &quot;bearer&quot;)})\n</code></pre>\n"}],"owner":{"account_id":337726,"reputation":2190,"user_id":666176,"accept_rate":75,"display_name":"Cortlendt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21116,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":59430454,"answer_count":4,"score":21,"last_activity_date":1699483993,"creation_date":1576501404,"question_id":59357205,"body_markdown":"I have the following [`SecurityScheme`][1] definition using springdoc-openapi for java SpringBoot RESTful app:\r\n\r\n```\r\n    @Bean\r\n    public OpenAPI customOpenAPI() {\r\n        return new OpenAPI()\r\n                .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\r\n                 new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\r\n                .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\r\n                .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;));\r\n    }\r\n```\r\nIs it possible to apply it globally to all paths, without having to go and add [`@SecurityRequirement`][2] annotations to [`@Operation`][3] annotation everywhere in the code?\r\n\r\nIf it is, how to add exclusions to unsecured paths?\r\n\r\n\r\n  [1]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityScheme.html\r\n  [2]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityRequirement.html\r\n  [3]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/Operation.html","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>I have the following <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityScheme.html\" rel=\"noreferrer\"><code>SecurityScheme</code></a> definition using springdoc-openapi for java SpringBoot RESTful app:</p>\n\n<pre><code>    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI()\n                .components(new Components().addSecuritySchemes(\"bearer-jwt\",\n                 new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(\"bearer\").bearerFormat(\"JWT\")\n                .in(SecurityScheme.In.HEADER).name(\"Authorization\")))\n                .info(new Info().title(\"App API\").version(\"snapshot\"));\n    }\n</code></pre>\n\n<p>Is it possible to apply it globally to all paths, without having to go and add <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityRequirement.html\" rel=\"noreferrer\"><code>@SecurityRequirement</code></a> annotations to <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/Operation.html\" rel=\"noreferrer\"><code>@Operation</code></a> annotation everywhere in the code?</p>\n\n<p>If it is, how to add exclusions to unsecured paths?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1699484803,"post_id":77449442,"comment_id":136539363,"body_markdown":"https://www.liquidweb.com/kb/installing-tomcat-9-on-windows/","body":"<a href=\"https://www.liquidweb.com/kb/installing-tomcat-9-on-windows/\" rel=\"nofollow noreferrer\">liquidweb.com/kb/installing-tomcat-9-on-windows</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699490907,"post_id":77449442,"comment_id":136540022,"body_markdown":"_Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;_ I have a similar (version 9.0.36) Tomcat installation on my computer (Windows OS and JDK 8), but have a _Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;_ when I run the `startup.bat`. I don&#39;t know if that makes a difference. With a successful Tomcat startup the a console page should remain open and closes on shutdown. I am using Windows Command Prompt.","body":"<i>Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;</i> I have a similar (version 9.0.36) Tomcat installation on my computer (Windows OS and JDK 8), but have a <i>Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;</i> when I run the <code>startup.bat</code>. I don&#39;t know if that makes a difference. With a successful Tomcat startup the a console page should remain open and closes on shutdown. I am using Windows Command Prompt."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1700033593,"post_id":77449442,"comment_id":136603880,"body_markdown":"Try .\\catalina.cmd run This will run the Tomcat in the current console and if any startup errors are encountered it should print on the console. Give it a try and check.","body":"Try .\\catalina.cmd run This will run the Tomcat in the current console and if any startup errors are encountered it should print on the console. Give it a try and check."}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699483885,"creation_date":1699483885,"question_id":77449442,"body_markdown":"I&#39;m trying to run [this][1] sample tomcat web application with **apache-tomcat-9.0.82** and java 8\r\n\r\nI&#39;ve moved the **sample.war** file to the recommended folder. Opened powershell with admin privileges:\r\n\r\n\r\n```\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; .\\startup.bat\r\nUsing CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;\r\nUsing CATALINA_HOME:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;\r\nUsing CATALINA_TMPDIR: &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps\\temp&quot;\r\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;\r\nUsing CLASSPATH:       &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\bootstrap.jar;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\n```\r\n\r\na console page opens for half a second and then closes...\r\n\r\nThe **C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\logs** directory is empty\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\r\n\r\n**EDIT**\r\nI haven&#39;t touched any config file. There&#39;s no process running on port 8080\r\n\r\n```\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; netstat -ano | findstr :8080\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt;\r\n```","title":"Tomcat sample application doesn&#39;t start","body":"<p>I'm trying to run <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\" rel=\"nofollow noreferrer\">this</a> sample tomcat web application with <strong>apache-tomcat-9.0.82</strong> and java 8</p>\n<p>I've moved the <strong>sample.war</strong> file to the recommended folder. Opened powershell with admin privileges:</p>\n<pre><code>PS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; .\\startup.bat\nUsing CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;\nUsing CATALINA_HOME:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;\nUsing CLASSPATH:       &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\bootstrap.jar;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\n</code></pre>\n<p>a console page opens for half a second and then closes...</p>\n<p>The <strong>C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\logs</strong> directory is empty</p>\n<p><strong>EDIT</strong>\nI haven't touched any config file. There's no process running on port 8080</p>\n<pre><code>PS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; netstat -ano | findstr :8080\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt;\n</code></pre>\n"},{"tags":["java","android","react-native","android-studio"],"owner":{"account_id":29822304,"reputation":17,"user_id":22855187,"display_name":"LH333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699483315,"creation_date":1699483315,"question_id":77449401,"body_markdown":"It started goes wrong after i changed the package name in:\r\n&gt; In: android/app/src/main/java/MY/APP/NEW_ID/MainActivity.java:\r\nand\r\n&gt; In android/app/src/main/java/MY/APP/NEW_ID/MainApplication.java:\r\n\r\nThen started to appear the following error: \r\n\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 9m 13s\r\ninfo Run CLI with --verbose flag for more details.\r\n\r\n```\r\n\r\nThis is the main, but appear others things:\r\n\r\n\r\n\r\n```\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\nw: Detected multiple Kotlin daemon sessions at build/kotlin/sessions\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n121 actionable tasks: 116 executed, 5 up-to-date\r\n\r\ninfo &#128161; Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \r\n\r\nNote: /home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/node_modules/react-native-document-picker/android/src/main/java/com/reactnativedocumentpicker/RNDocumentPickerModule.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n/home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/android/app/src/main/java/com/notaedeo/MainApplication.java:61: error: cannot find symbol\r\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n    ^\r\n  symbol:   variable ReactNativeFlipper\r\n  location: class MainApplication\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n```\r\n\r\n","title":"BUILD FAILED , Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>It started goes wrong after i changed the package name in:</p>\n<blockquote>\n<p>In: android/app/src/main/java/MY/APP/NEW_ID/MainActivity.java:\nand\nIn android/app/src/main/java/MY/APP/NEW_ID/MainApplication.java:</p>\n</blockquote>\n<p>Then started to appear the following error:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 9m 13s\ninfo Run CLI with --verbose flag for more details.\n\n</code></pre>\n<p>This is the main, but appear others things:</p>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\nw: Detected multiple Kotlin daemon sessions at build/kotlin/sessions\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\n121 actionable tasks: 116 executed, 5 up-to-date\n\ninfo 💡 Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \n\nNote: /home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/node_modules/react-native-document-picker/android/src/main/java/com/reactnativedocumentpicker/RNDocumentPickerModule.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n/home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/android/app/src/main/java/com/notaedeo/MainApplication.java:61: error: cannot find symbol\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n    ^\n  symbol:   variable ReactNativeFlipper\n  location: class MainApplication\n1 error\n\nFAILURE: Build failed with an exception.\n\n</code></pre>\n"},{"tags":["java","android","comparator","exoplayer"],"answers":[{"comments":[{"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"score":0,"creation_date":1699968255,"post_id":77449323,"comment_id":136594918,"body_markdown":"works excellent.","body":"works excellent."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699482077,"creation_date":1699482077,"answer_id":77449323,"question_id":77397257,"body_markdown":"&lt;h3&gt; Java Android Video Issue &lt;/h3&gt;\r\n\r\n**Comparator:**\r\nThe `Comparator Logic` you coded `(o1, o2) -&gt; Math.max(o1.height, o2.height)` is not correct. This `comparator` actually provides the maximum height when comparing two formats, but that&#39;s not the correct output for a comparator. A `comparator` should instead give an `integer` that indicates the order, like a negative number for `less than` zero for `equal` and a positive number for `greater than`.\r\n\r\nMake sure that the `TrackSelectionDialog` gets the `trackFormatComparator` correctly passed and is also used rightly.\r\n\r\nRegarding this replace the line of code with this:\r\n\r\n```java\r\n// Fixed the comparator logic code for sorting by height\r\ntrackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Integer.compare(o1.height, o2.height));\r\n```\r\n\r\nNow your `Comparator` should return an integer based on the height comparison, which is what is expected.","title":"ExoPlayer TrackSelectionDialog comparator not working","body":"<h3> Java Android Video Issue </h3>\n<p><strong>Comparator:</strong>\nThe <code>Comparator Logic</code> you coded <code>(o1, o2) -&gt; Math.max(o1.height, o2.height)</code> is not correct. This <code>comparator</code> actually provides the maximum height when comparing two formats, but that's not the correct output for a comparator. A <code>comparator</code> should instead give an <code>integer</code> that indicates the order, like a negative number for <code>less than</code> zero for <code>equal</code> and a positive number for <code>greater than</code>.</p>\n<p>Make sure that the <code>TrackSelectionDialog</code> gets the <code>trackFormatComparator</code> correctly passed and is also used rightly.</p>\n<p>Regarding this replace the line of code with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Fixed the comparator logic code for sorting by height\ntrackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Integer.compare(o1.height, o2.height));\n</code></pre>\n<p>Now your <code>Comparator</code> should return an integer based on the height comparison, which is what is expected.</p>\n"}],"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77449323,"answer_count":1,"score":1,"last_activity_date":1699482077,"creation_date":1698766519,"question_id":77397257,"body_markdown":"I am printing video tracks to user in &quot;height&quot; + &quot;p&quot; format.\r\nBy default `TrackSelectionDialog` printing them let&#39;s say in random order. I want to reorder them from min to max.\r\n\r\nSo I have this in my `TrackSelectionView` `init`:\r\n\r\n    /**\r\n     * Initialize the view to select tracks for a specified renderer using {@link MappedTrackInfo} and\r\n     * a set of {@link DefaultTrackSelector.Parameters}.\r\n     *\r\n     * @param mappedTrackInfo The {@link MappedTrackInfo}.\r\n     * @param rendererIndex The index of the renderer.\r\n     * @param isDisabled Whether the renderer should be initially shown as disabled.\r\n     * @param overrides List of initial overrides to be shown for this renderer. There must be at most\r\n     *     one override for each track group. If {@link #setAllowMultipleOverrides(boolean)} hasn&#39;t\r\n     *     been set to {@code true}, only the first override is used.\r\n     * @param trackFormatComparator An optional comparator used to determine the display order of the\r\n     *     tracks within each track group.\r\n     * @param listener An optional listener for track selection updates.\r\n     */\r\n    public void init(\r\n            MappedTrackInfo mappedTrackInfo,\r\n            int rendererIndex,\r\n            boolean isDisabled,\r\n            List&lt;SelectionOverride&gt; overrides,\r\n            @Nullable Comparator&lt;Format&gt; trackFormatComparator,\r\n            @Nullable TrackSelectionListener listener) {\r\n        this.mappedTrackInfo = mappedTrackInfo;\r\n        this.rendererIndex = rendererIndex;\r\n        this.isDisabled = isDisabled;\r\n        if (trackFormatComparator == null)\r\n            this.trackInfoComparator = null;\r\n        else\r\n            this.trackInfoComparator = new Comparator&lt;TrackInfo&gt;() {\r\n                @Override\r\n                public int compare(TrackInfo o1, TrackInfo o2) {\r\n                    return trackFormatComparator.compare(o1.format, o2.format);\r\n                }\r\n            };\r\n        this.listener = listener;\r\n        int maxOverrides = allowMultipleOverrides ? overrides.size() : Math.min(overrides.size(), 1);\r\n        for (int i = 0; i &lt; maxOverrides; i++) {\r\n            SelectionOverride override = overrides.get(i);\r\n            this.overrides.put(override.groupIndex, override);\r\n        }\r\n        updateViews();\r\n    }\r\n\r\nI&#39;ve add this to my `TrackSelectionDialog`:\r\n\r\n    public void setTrackFormatComparator(@Nullable Comparator&lt;Format&gt; trackFormatComparator) {\r\n            TrackSelectionDialog.trackFormatComparator = trackFormatComparator;\r\n        }\r\n\r\nand uncomment `trackFormatComparator` in `onCreateView` of `TrackSelectionViewFragment` (in `TrackSelectionDialog` class):\r\n\r\n        trackSelectionView.init(\r\n                mappedTrackInfo,\r\n                rendererIndex,\r\n                isDisabled,\r\n                overrides,\r\n                trackFormatComparator  /*null*/,\r\n                /* listener= */ this);\r\n\r\nThen in my player activity I wrote this to sort video tracks by frame height:\r\n\r\n            TrackSelectionDialog trackSelectionDialog = TrackSelectionDialog.createForTrackSelector(\r\n                    trackSelector, dismissedDialog -&gt; isShowingTrackSelectionDialog = false);\r\n            trackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Math.max(o1.height, o2.height));\r\n            trackSelectionDialog.show(getSupportFragmentManager(), null);\r\n\r\nBut nothing happens. **Video tracks still sorted default.** \r\n\r\nWhat is wrong with my code or what part of code I&#39;ve forgot?","title":"ExoPlayer TrackSelectionDialog comparator not working","body":"<p>I am printing video tracks to user in &quot;height&quot; + &quot;p&quot; format.\nBy default <code>TrackSelectionDialog</code> printing them let's say in random order. I want to reorder them from min to max.</p>\n<p>So I have this in my <code>TrackSelectionView</code> <code>init</code>:</p>\n<pre><code>/**\n * Initialize the view to select tracks for a specified renderer using {@link MappedTrackInfo} and\n * a set of {@link DefaultTrackSelector.Parameters}.\n *\n * @param mappedTrackInfo The {@link MappedTrackInfo}.\n * @param rendererIndex The index of the renderer.\n * @param isDisabled Whether the renderer should be initially shown as disabled.\n * @param overrides List of initial overrides to be shown for this renderer. There must be at most\n *     one override for each track group. If {@link #setAllowMultipleOverrides(boolean)} hasn't\n *     been set to {@code true}, only the first override is used.\n * @param trackFormatComparator An optional comparator used to determine the display order of the\n *     tracks within each track group.\n * @param listener An optional listener for track selection updates.\n */\npublic void init(\n        MappedTrackInfo mappedTrackInfo,\n        int rendererIndex,\n        boolean isDisabled,\n        List&lt;SelectionOverride&gt; overrides,\n        @Nullable Comparator&lt;Format&gt; trackFormatComparator,\n        @Nullable TrackSelectionListener listener) {\n    this.mappedTrackInfo = mappedTrackInfo;\n    this.rendererIndex = rendererIndex;\n    this.isDisabled = isDisabled;\n    if (trackFormatComparator == null)\n        this.trackInfoComparator = null;\n    else\n        this.trackInfoComparator = new Comparator&lt;TrackInfo&gt;() {\n            @Override\n            public int compare(TrackInfo o1, TrackInfo o2) {\n                return trackFormatComparator.compare(o1.format, o2.format);\n            }\n        };\n    this.listener = listener;\n    int maxOverrides = allowMultipleOverrides ? overrides.size() : Math.min(overrides.size(), 1);\n    for (int i = 0; i &lt; maxOverrides; i++) {\n        SelectionOverride override = overrides.get(i);\n        this.overrides.put(override.groupIndex, override);\n    }\n    updateViews();\n}\n</code></pre>\n<p>I've add this to my <code>TrackSelectionDialog</code>:</p>\n<pre><code>public void setTrackFormatComparator(@Nullable Comparator&lt;Format&gt; trackFormatComparator) {\n        TrackSelectionDialog.trackFormatComparator = trackFormatComparator;\n    }\n</code></pre>\n<p>and uncomment <code>trackFormatComparator</code> in <code>onCreateView</code> of <code>TrackSelectionViewFragment</code> (in <code>TrackSelectionDialog</code> class):</p>\n<pre><code>    trackSelectionView.init(\n            mappedTrackInfo,\n            rendererIndex,\n            isDisabled,\n            overrides,\n            trackFormatComparator  /*null*/,\n            /* listener= */ this);\n</code></pre>\n<p>Then in my player activity I wrote this to sort video tracks by frame height:</p>\n<pre><code>        TrackSelectionDialog trackSelectionDialog = TrackSelectionDialog.createForTrackSelector(\n                trackSelector, dismissedDialog -&gt; isShowingTrackSelectionDialog = false);\n        trackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Math.max(o1.height, o2.height));\n        trackSelectionDialog.show(getSupportFragmentManager(), null);\n</code></pre>\n<p>But nothing happens. <strong>Video tracks still sorted default.</strong></p>\n<p>What is wrong with my code or what part of code I've forgot?</p>\n"},{"tags":["java","error-handling","nested","try-catch-finally","try-finally"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699403098,"post_id":77442101,"comment_id":136526593,"body_markdown":"Looking at the byte code produced might help answer your questions, and also the language spec.","body":"Looking at the byte code produced might help answer your questions, and also the language spec."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699406743,"post_id":77442101,"comment_id":136526849,"body_markdown":"This is not &#39;all or none at all&#39;. This is &#39;all&#39;.","body":"This is not &#39;all or none at all&#39;. This is &#39;all&#39;."}],"answers":[{"comments":[{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1699477466,"post_id":77442343,"comment_id":136538247,"body_markdown":"&quot;It is not.&quot; Do you have any evidence for this (e.g. from the JLS)? To me it seems like that the JLS says that exceptions can happen basically everywhere. See JLS 11.1.3. Asynchronous Exceptions: https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3. This is exactly the reason why I&#39;m asking this question. Otherwise I wouldn&#39;t have nested the `try`-`finally` blocks but I would have done the same thing as in your first code example.","body":"&quot;It is not.&quot; Do you have any evidence for this (e.g. from the JLS)? To me it seems like that the JLS says that exceptions can happen basically everywhere. See JLS 11.1.3. Asynchronous Exceptions: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>. This is exactly the reason why I&#39;m asking this question. Otherwise I wouldn&#39;t have nested the <code>try</code>-<code>finally</code> blocks but I would have done the same thing as in your first code example."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699503303,"post_id":77442343,"comment_id":136541059,"body_markdown":"You&#39;re asking me to prove a negative. Which is not possible.","body":"You&#39;re asking me to prove a negative. Which is not possible."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699406566,"creation_date":1699406566,"answer_id":77442343,"question_id":77442101,"body_markdown":"Add an `s4` and an `s5` into the mix and it becomes even clearer than it already should be that this is a hard to maintain mess that requires comments explaining why you&#39;ve got this bizarro mix of nested try blocks.\r\n\r\nHence, I suggest you do this instead:\r\n\r\n```\r\nThrowable t = null;\r\ntry { s1(); } catch (Throwable e) {t = e;}\r\ntry { s2(); } catch (Throwable e) {t = e;}\r\ntry { s3(); } catch (Throwable e) {t = e;}\r\nif (t != null) throw t;\r\n```\r\n\r\nYou can fancy that up some and replace `t = e;` with a utility method (`t = update(t, e);`) which, if an exception has already occurred, will attach them as suppressed exceptions just like how try-finally does it.\r\n\r\nOr, even nicer, add lambda support:\r\n\r\n```\r\npublic final class Cleanup {\r\n  public interface CleanupJob&lt;T extends Throwable&gt; {\r\n    void cleanup() throws T;\r\n  }\r\n\r\n  @SafeVarargs\r\n  public static &lt;T extends Throwable&gt; void cleanup(CleanupJob&lt;? extends T&gt;... jobs) {\r\n    Throwable ex = null;\r\n    for (var job : jobs) try {\r\n      job.cleanup();\r\n    } catch (Exception e) {\r\n      if (ex == null) {\r\n        ex = e;\r\n      } else {\r\n        ex.addSuppressed(e);\r\n      }\r\n    }\r\n\r\n    if (ex != null) throw (T) ex;\r\n  }\r\n}\r\n```\r\n\r\nTo use:\r\n\r\n```\r\nimport static CleanupRunner.cleanup;\r\n\r\n...\r\n\r\ncleanup(\r\n() -&gt; s1(),\r\n() -&gt; s2(),\r\n() -&gt; s3(),\r\n() -&gt; s4());\r\n\r\n// or even\r\n\r\ncleanup(\r\n  this::s1,\r\n  ref::s2,\r\n  SomeClass::staticS3\r\n);\r\n```\r\n\r\n&gt; Also is it theoretically possible that an Error is thrown by the JVM in the first code example at // not a statement (see code below), such that the inner try block isn&#39;t attemped anymore?\r\n\r\nIt is not.\r\n","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<p>Add an <code>s4</code> and an <code>s5</code> into the mix and it becomes even clearer than it already should be that this is a hard to maintain mess that requires comments explaining why you've got this bizarro mix of nested try blocks.</p>\n<p>Hence, I suggest you do this instead:</p>\n<pre><code>Throwable t = null;\ntry { s1(); } catch (Throwable e) {t = e;}\ntry { s2(); } catch (Throwable e) {t = e;}\ntry { s3(); } catch (Throwable e) {t = e;}\nif (t != null) throw t;\n</code></pre>\n<p>You can fancy that up some and replace <code>t = e;</code> with a utility method (<code>t = update(t, e);</code>) which, if an exception has already occurred, will attach them as suppressed exceptions just like how try-finally does it.</p>\n<p>Or, even nicer, add lambda support:</p>\n<pre><code>public final class Cleanup {\n  public interface CleanupJob&lt;T extends Throwable&gt; {\n    void cleanup() throws T;\n  }\n\n  @SafeVarargs\n  public static &lt;T extends Throwable&gt; void cleanup(CleanupJob&lt;? extends T&gt;... jobs) {\n    Throwable ex = null;\n    for (var job : jobs) try {\n      job.cleanup();\n    } catch (Exception e) {\n      if (ex == null) {\n        ex = e;\n      } else {\n        ex.addSuppressed(e);\n      }\n    }\n\n    if (ex != null) throw (T) ex;\n  }\n}\n</code></pre>\n<p>To use:</p>\n<pre><code>import static CleanupRunner.cleanup;\n\n...\n\ncleanup(\n() -&gt; s1(),\n() -&gt; s2(),\n() -&gt; s3(),\n() -&gt; s4());\n\n// or even\n\ncleanup(\n  this::s1,\n  ref::s2,\n  SomeClass::staticS3\n);\n</code></pre>\n<blockquote>\n<p>Also is it theoretically possible that an Error is thrown by the JVM in the first code example at // not a statement (see code below), such that the inner try block isn't attemped anymore?</p>\n</blockquote>\n<p>It is not.</p>\n"},{"comments":[{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1699478994,"post_id":77442348,"comment_id":136538515,"body_markdown":"Sorry, I don&#39;t really find an answer to my actual question in your answer. I have edited my question, to make my actual point a bit clearer and to explain why I think nesting is necessary. &quot;You would need to place that code within a *try-catch* block as well.&quot; The point is, there is no code at this place and the question is, can the JVM still throw an error at this place. If so, this would contradict with your answer, that my two examples are equivalent. Also, I&#39;m aware what happens, when an exception is thrown. That was not my question.","body":"Sorry, I don&#39;t really find an answer to my actual question in your answer. I have edited my question, to make my actual point a bit clearer and to explain why I think nesting is necessary. &quot;You would need to place that code within a <i>try-catch</i> block as well.&quot; The point is, there is no code at this place and the question is, can the JVM still throw an error at this place. If so, this would contradict with your answer, that my two examples are equivalent. Also, I&#39;m aware what happens, when an exception is thrown. That was not my question."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699486742,"post_id":77442348,"comment_id":136539613,"body_markdown":"@stonar96, a _Throwable_ needs to originate from something in the code.","body":"@stonar96, a <i>Throwable</i> needs to originate from something in the code."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699418482,"creation_date":1699406815,"answer_id":77442348,"question_id":77442101,"body_markdown":"&gt; _&quot;... I wanted to make sure that each statement is attempted to be executed (either all or none at all). ...&quot;_\r\n\r\nTo preface, with the provided examples, all of the statements will be executed.\\\r\nThere would be no, _&quot;... or none at all&quot;_.\r\n\r\nUtilize a _boolean_, here is an example.\r\n\r\n```java\r\nboolean exit = false;\r\ntry {\r\n        \r\n} catch (Throwable t) {\r\n    exit = true;\r\n} finally {\r\n    if (!exit) {\r\n        try {\r\n\r\n        } catch (Throwable t) {\r\n            exit = true;\r\n        } finally {\r\n        \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTypically, a _finally_ code-block is used to simply apply a final procedure.\\\r\nWhich, in some cases is actually necessary, e.g., closing a _[Closeable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html)_ object.\\\r\nAnd realistically, this is why the _[AutoCloseable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html)_ interface, and the _[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)_ syntax, was implemented.\r\n\r\n```java\r\nint value;\r\ntry {\r\n    value = Integer.parseInt(&quot;abc&quot;);\r\n} finally {\r\n    value = 123;\r\n}\r\n```\r\n\r\nIn other-words, while your code is permissible, and valid, you typically would not want to keep nesting the _try_ code-blocks.\\\r\nSimply re-evaluate your current _design_ and _[control-flow](https://en.wikipedia.org/wiki/Control_flow)_.\r\n\r\n&gt; _&quot;... Then I noticed that there is another (maybe more correct?) way to do the same thing ...&quot;_\r\n\r\nCorrect, this example will provide the same functionality.\\\r\nAnd, I imagine the _interpreter_ would compile a similar _&quot;[bytecode](https://en.wikipedia.org/wiki/Java_bytecode)&quot;_, for each.\r\n\r\n&gt; _&quot;... Is there actually a difference between those approaches in terms of guarantees that the JVM provides? ...&quot;_\r\n\r\nThe guarantees would be the same; the abstraction is the same.\\\r\nEach _finally_ block will be executed, regardless of whether a _Throwable_ is thrown or not; unlike the _catch_ block.\r\n\r\n&gt; _&quot;... is it theoretically possible that an `Error` is thrown by the JVM in the first code example ... such that the inner `try` block isn&#39;t attemped anymore? ...&quot;_\r\n\r\nSimilarly, if an _Error_ is thrown at that line, any subsequent code would not be executed.\\\r\nThe program will simply halt and exit.\\\r\nYou would need to place that code within a _try-catch_ block as well.\r\n\r\n```java\r\ntry {\r\n\r\n} finally {\r\n    try {\r\n        throw new Error();\r\n    } finally {\r\n\r\n    }\r\n}\r\n```\r\n","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<blockquote>\n<p><em>&quot;... I wanted to make sure that each statement is attempted to be executed (either all or none at all). ...&quot;</em></p>\n</blockquote>\n<p>To preface, with the provided examples, all of the statements will be executed.<br />\nThere would be no, <em>&quot;... or none at all&quot;</em>.</p>\n<p>Utilize a <em>boolean</em>, here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean exit = false;\ntry {\n        \n} catch (Throwable t) {\n    exit = true;\n} finally {\n    if (!exit) {\n        try {\n\n        } catch (Throwable t) {\n            exit = true;\n        } finally {\n        \n        }\n    }\n}\n</code></pre>\n<p>Typically, a <em>finally</em> code-block is used to simply apply a final procedure.<br />\nWhich, in some cases is actually necessary, e.g., closing a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\">Closeable</a></em> object.<br />\nAnd realistically, this is why the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoCloseable</a></em> interface, and the <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a></em> syntax, was implemented.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int value;\ntry {\n    value = Integer.parseInt(&quot;abc&quot;);\n} finally {\n    value = 123;\n}\n</code></pre>\n<p>In other-words, while your code is permissible, and valid, you typically would not want to keep nesting the <em>try</em> code-blocks.<br />\nSimply re-evaluate your current <em>design</em> and <em><a href=\"https://en.wikipedia.org/wiki/Control_flow\" rel=\"nofollow noreferrer\">control-flow</a></em>.</p>\n<blockquote>\n<p><em>&quot;... Then I noticed that there is another (maybe more correct?) way to do the same thing ...&quot;</em></p>\n</blockquote>\n<p>Correct, this example will provide the same functionality.<br />\nAnd, I imagine the <em>interpreter</em> would compile a similar <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">bytecode</a>&quot;</em>, for each.</p>\n<blockquote>\n<p><em>&quot;... Is there actually a difference between those approaches in terms of guarantees that the JVM provides? ...&quot;</em></p>\n</blockquote>\n<p>The guarantees would be the same; the abstraction is the same.<br />\nEach <em>finally</em> block will be executed, regardless of whether a <em>Throwable</em> is thrown or not; unlike the <em>catch</em> block.</p>\n<blockquote>\n<p><em>&quot;... is it theoretically possible that an <code>Error</code> is thrown by the JVM in the first code example ... such that the inner <code>try</code> block isn't attemped anymore? ...&quot;</em></p>\n</blockquote>\n<p>Similarly, if an <em>Error</em> is thrown at that line, any subsequent code would not be executed.<br />\nThe program will simply halt and exit.<br />\nYou would need to place that code within a <em>try-catch</em> block as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\n} finally {\n    try {\n        throw new Error();\n    } finally {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699481495,"creation_date":1699400969,"question_id":77442101,"body_markdown":"Recently I was working on a &quot;cleanup&quot; method and I wanted to make sure that each statement is attempted to be executed. My first approach was something like this (where `s#;` are statements):\r\n\r\n```java\r\ntry {\r\n    s1;\r\n} finally {\r\n    try {\r\n        s2;\r\n    } finally {\r\n        s3;\r\n    }\r\n}\r\n```\r\n\r\nFor simplicity I have omitted the exception handling part here (the `catch` blocks), where I store the first occurring and subsequent suppressed `Throwable`s to rethrow later.\r\n\r\nThen I noticed that there is another (maybe more correct?) way to do the same thing:\r\n\r\n```java\r\ntry {\r\n    try {\r\n        s1;\r\n    } finally {\r\n        s2;\r\n    }\r\n} finally {\r\n    s3;\r\n}\r\n```\r\n\r\nIn my opinion the second approach *feels* more correct because as soon as `s1;` is attempted, we are already inside both `try` blocks, which guarantees that all `finally` blocks will be executed.\r\n\r\nMy question is: Is there actually a difference between those approaches in terms of guarantees that the JVM provides?\r\n\r\nAlso is it theoretically possible that an `Error` is thrown by the JVM in the first code example at `// not a statement` (see code below), such that the inner `try`-`finally` block isn&#39;t attemped anymore?\r\n\r\n```java\r\ntry {\r\n    s1;\r\n} finally {\r\n    // not a statement\r\n    try {\r\n        s2;\r\n    } finally {\r\n        s3;\r\n    }\r\n}\r\n```\r\n\r\nAccording to [11.1.3. Asynchronous Exceptions][1], exceptions can be thrown basically anywhere. This is the main reason why I think that nesting the `try`-`finally` blocks is necessary as shown in the second code example. Or do I understand the JLS wrong and exceptions can only occur if there is also a statement?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<p>Recently I was working on a &quot;cleanup&quot; method and I wanted to make sure that each statement is attempted to be executed. My first approach was something like this (where <code>s#;</code> are statements):</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    s1;\n} finally {\n    try {\n        s2;\n    } finally {\n        s3;\n    }\n}\n</code></pre>\n<p>For simplicity I have omitted the exception handling part here (the <code>catch</code> blocks), where I store the first occurring and subsequent suppressed <code>Throwable</code>s to rethrow later.</p>\n<p>Then I noticed that there is another (maybe more correct?) way to do the same thing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    try {\n        s1;\n    } finally {\n        s2;\n    }\n} finally {\n    s3;\n}\n</code></pre>\n<p>In my opinion the second approach <em>feels</em> more correct because as soon as <code>s1;</code> is attempted, we are already inside both <code>try</code> blocks, which guarantees that all <code>finally</code> blocks will be executed.</p>\n<p>My question is: Is there actually a difference between those approaches in terms of guarantees that the JVM provides?</p>\n<p>Also is it theoretically possible that an <code>Error</code> is thrown by the JVM in the first code example at <code>// not a statement</code> (see code below), such that the inner <code>try</code>-<code>finally</code> block isn't attemped anymore?</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    s1;\n} finally {\n    // not a statement\n    try {\n        s2;\n    } finally {\n        s3;\n    }\n}\n</code></pre>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3\" rel=\"nofollow noreferrer\">11.1.3. Asynchronous Exceptions</a>, exceptions can be thrown basically anywhere. This is the main reason why I think that nesting the <code>try</code>-<code>finally</code> blocks is necessary as shown in the second code example. Or do I understand the JLS wrong and exceptions can only occur if there is also a statement?</p>\n"},{"tags":["java","spring","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699481066,"creation_date":1699479953,"answer_id":77449154,"question_id":77449078,"body_markdown":"You can organize controllers and navigation this way:\r\n\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/index&quot;)\r\npublic class IndexController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;index&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n@Controller\r\n@RequestMapping(&quot;/account&quot;)\r\npublic class AccountController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;account&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n@Controller\r\n@RequestMapping(&quot;/register&quot;)\r\npublic class RegisterController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;register&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n```\r\n","title":"Thymeleaf not redirecting to any page beside index.html","body":"<p>You can organize controllers and navigation this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/index&quot;)\npublic class IndexController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;index&quot;;\n    }\n...\n\n}\n\n@Controller\n@RequestMapping(&quot;/account&quot;)\npublic class AccountController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;account&quot;;\n    }\n...\n\n}\n\n@Controller\n@RequestMapping(&quot;/register&quot;)\npublic class RegisterController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;register&quot;;\n    }\n...\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":15108042,"reputation":19,"user_id":10903074,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77449154,"answer_count":1,"score":0,"last_activity_date":1699481066,"creation_date":1699479032,"question_id":77449078,"body_markdown":"So basically my issue is I can get the index or the front page for my spring boot application to load but any redirection or anything I do outside of the pages returns a whitelabel error.\r\n\r\nThe file structure looks as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe login controller is like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd the page I&#39;m trying to redirect to is the register.html and the controller for that looks as below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2IH1p.png\r\n  [2]: https://i.stack.imgur.com/3GsTg.png\r\n  [3]: https://i.stack.imgur.com/5Iebt.png\r\n\r\nAny help with this would be greatly appreciated.","title":"Thymeleaf not redirecting to any page beside index.html","body":"<p>So basically my issue is I can get the index or the front page for my spring boot application to load but any redirection or anything I do outside of the pages returns a whitelabel error.</p>\n<p>The file structure looks as below:</p>\n<p><a href=\"https://i.stack.imgur.com/2IH1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IH1p.png\" alt=\"enter image description here\" /></a></p>\n<p>The login controller is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/3GsTg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GsTg.png\" alt=\"enter image description here\" /></a></p>\n<p>And the page I'm trying to redirect to is the register.html and the controller for that looks as below:</p>\n<p><a href=\"https://i.stack.imgur.com/5Iebt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Iebt.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help with this would be greatly appreciated.</p>\n"},{"tags":["java","testing","java.util.scanner","inputstream","junit5"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699481546,"post_id":77448384,"comment_id":136538947,"body_markdown":"`Scanner sc = new Scanner(System.in)` runs when the object is constructed. `init()` runs after that. At that point it is too late to reassign the scanner input.","body":"<code>Scanner sc = new Scanner(System.in)</code> runs when the object is constructed. <code>init()</code> runs after that. At that point it is too late to reassign the scanner input."}],"answers":[{"tags":[],"owner":{"account_id":18030424,"reputation":11,"user_id":13105206,"display_name":"tim-danger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699480079,"creation_date":1699480079,"answer_id":77449171,"question_id":77448384,"body_markdown":"I guess you cannot reassign the &quot;standard&quot; input stream (i. e. your System&#39;s input) to your mock-implementation. However, you can create your own instance of a Scanner that uses your mock instead (of the &quot;standard&quot; input stream):\r\n\r\n    @Test\r\n    void test_inputstream_fails_on_mismatch() {\r\n        sc = new Scanner(mockInputStream);\r\n        assertEquals(&quot;quiffdt&quot;, sc.nextLine());\r\n    }\r\n\r\nThat test fails. Is that what you want?","title":"Why is the test &quot;test_inputstream...&quot; succeeding, shouldnt it be failing?","body":"<p>I guess you cannot reassign the &quot;standard&quot; input stream (i. e. your System's input) to your mock-implementation. However, you can create your own instance of a Scanner that uses your mock instead (of the &quot;standard&quot; input stream):</p>\n<pre><code>@Test\nvoid test_inputstream_fails_on_mismatch() {\n    sc = new Scanner(mockInputStream);\n    assertEquals(&quot;quiffdt&quot;, sc.nextLine());\n}\n</code></pre>\n<p>That test fails. Is that what you want?</p>\n"}],"owner":{"account_id":20347088,"reputation":13,"user_id":14924651,"display_name":"Jake Snell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699480079,"creation_date":1699471383,"question_id":77448384,"body_markdown":"```\r\npackage com.skilldistillery.lordo.app;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Scanner;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass UITest {\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\tInputStream mockInputStream;\r\n\t\r\n    @BeforeEach\r\n    void init() {\r\n        // This will run once before any of the test methods in the class.\r\n        mockInputStream = new MockInputStream();\r\n        System.setIn(mockInputStream);\r\n    }\r\n\r\n\t@Test\r\n\tvoid test_inputstream_fails_on_mismatch() {\r\n\t\tassertEquals(&quot;quiffdt&quot;, sc.nextLine());\r\n\t}\r\n\r\n}\r\nclass MockGame implements CLIGame {\r\n\t@Override\r\n\tpublic void pushEvent(GameEvent event) {}\r\n}\r\n\r\nclass MockInputStream extends InputStream {\r\n\r\n    private byte[] inputBytes;\r\n    private int position = 0;\r\n\r\n    public MockInputStream() {\r\n        String input = &quot;quit&quot; + System.lineSeparator();\r\n        this.inputBytes = input.getBytes();\r\n    }\r\n\r\n    @Override\r\n    public int read() throws IOException {\r\n        if (position &lt; inputBytes.length) {\r\n            return inputBytes[position++];\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void close() throws IOException {\r\n        super.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIm really new to java, but i thought by setting my input stream to a custom one, i could mock the input stream. is this incorrect? Im trying to set up a mock for a project im working on. And i could be going about this completely wrong, im just not sure.","title":"Why is the test &quot;test_inputstream...&quot; succeeding, shouldnt it be failing?","body":"<pre><code>package com.skilldistillery.lordo.app;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Scanner;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nclass UITest {\n\n    Scanner sc = new Scanner(System.in);\n    InputStream mockInputStream;\n    \n    @BeforeEach\n    void init() {\n        // This will run once before any of the test methods in the class.\n        mockInputStream = new MockInputStream();\n        System.setIn(mockInputStream);\n    }\n\n    @Test\n    void test_inputstream_fails_on_mismatch() {\n        assertEquals(&quot;quiffdt&quot;, sc.nextLine());\n    }\n\n}\nclass MockGame implements CLIGame {\n    @Override\n    public void pushEvent(GameEvent event) {}\n}\n\nclass MockInputStream extends InputStream {\n\n    private byte[] inputBytes;\n    private int position = 0;\n\n    public MockInputStream() {\n        String input = &quot;quit&quot; + System.lineSeparator();\n        this.inputBytes = input.getBytes();\n    }\n\n    @Override\n    public int read() throws IOException {\n        if (position &lt; inputBytes.length) {\n            return inputBytes[position++];\n        } else {\n            return -1;\n        }\n    }\n    \n    @Override\n    public void close() throws IOException {\n        super.close();\n    }\n}\n\n</code></pre>\n<p>Im really new to java, but i thought by setting my input stream to a custom one, i could mock the input stream. is this incorrect? Im trying to set up a mock for a project im working on. And i could be going about this completely wrong, im just not sure.</p>\n"},{"tags":["java","spring","dependencies"],"comments":[{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699479233,"post_id":77449066,"comment_id":136538562,"body_markdown":"could you please add more `pom.xml` to the question?","body":"could you please add more <code>pom.xml</code> to the question?"},{"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"score":0,"creation_date":1699479638,"post_id":77449066,"comment_id":136538653,"body_markdown":"I added it into text","body":"I added it into text"},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699479883,"post_id":77449066,"comment_id":136538691,"body_markdown":"try removing `.idea` folder after closing the project. Roughly speaking, try re-initializing the project. Also, do you use public M2 repository?","body":"try removing <code>.idea</code> folder after closing the project. Roughly speaking, try re-initializing the project. Also, do you use public M2 repository?"},{"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"score":0,"creation_date":1699480708,"post_id":77449066,"comment_id":136538839,"body_markdown":"removing .idea helped. Thank you so much. And I have no idea honestly - I guess so from what I read","body":"removing .idea helped. Thank you so much. And I have no idea honestly - I guess so from what I read"}],"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699479704,"creation_date":1699478903,"question_id":77449066,"body_markdown":"I am creating my first microservice in Spring and I would like to add dependency spring-boot-starter-validation into my pom.xml, but I have errors that this dependency does not exist. \r\n\r\nI am using java version 17, model Version: 4.0.0 and version of parent 3.1.5\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthe errors I getting:\r\nhttps://i.stack.imgur.com/CEp9j.jpg\r\n\r\nhere is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;library&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;library&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;library&lt;/name&gt;\r\n\t&lt;description&gt;my first microservice - REST API library&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI am just trying to google I am new to non-university programming, so I would love to get some help. Thank you very much","title":"Why spring boot dependency spring-boot-starter-validation is missing","body":"<p>I am creating my first microservice in Spring and I would like to add dependency spring-boot-starter-validation into my pom.xml, but I have errors that this dependency does not exist.</p>\n<p>I am using java version 17, model Version: 4.0.0 and version of parent 3.1.5</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the errors I getting:\n<a href=\"https://i.stack.imgur.com/CEp9j.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CEp9j.jpg</a></p>\n<p>here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;library&lt;/groupId&gt;\n    &lt;artifactId&gt;library&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;library&lt;/name&gt;\n    &lt;description&gt;my first microservice - REST API library&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am just trying to google I am new to non-university programming, so I would love to get some help. Thank you very much</p>\n"},{"tags":["java","angular","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1699476198,"post_id":77448103,"comment_id":136538047,"body_markdown":"you can&#39;t use wild-cards when sending credentials... so be sure to specify methods and header names explicitly... you might also need to be https on both ends for that. A standard GET does not trigger pre-flight CORS check, or any CORS rules. Only the existence of a custom header (which your authorizationheader is) would trigger pre-flight. Also be aware that allowing script access to the cookie that contains your JWT could leave your clients vulnerable to XSS.","body":"you can&#39;t use wild-cards when sending credentials... so be sure to specify methods and header names explicitly... you might also need to be https on both ends for that. A standard GET does not trigger pre-flight CORS check, or any CORS rules. Only the existence of a custom header (which your authorizationheader is) would trigger pre-flight. Also be aware that allowing script access to the cookie that contains your JWT could leave your clients vulnerable to XSS."}],"answers":[{"tags":[],"owner":{"account_id":6483306,"reputation":39,"user_id":5019661,"display_name":"petereneric"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699473009,"creation_date":1699473009,"answer_id":77448543,"question_id":77448103,"body_markdown":"In my case I had to write the following code to my .htaccess file to prevent CORS error:\r\n\r\n    # Always set these headers.\r\n    Header always set Access-Control-Allow-Origin &quot;*&quot;\r\n    Header always set Access-Control-Allow-Methods &quot;POST, GET, OPTIONS, DELETE, PUT&quot;\r\n    Header always set Access-Control-Max-Age &quot;1000&quot;\r\n    Header always set Access-Control-Allow-Headers &quot;x-requested-with, Content-Type, \r\n    origin, authorization, accept, client-security-token&quot;\r\n    Header always set Access-Control-Expose-Headers: &quot;authorization&quot;\r\n\r\nFor changing or creating a .htaccess file you need access to the file system of your server.","title":"Allow the endpoint only if the user is authenticated","body":"<p>In my case I had to write the following code to my .htaccess file to prevent CORS error:</p>\n<pre><code># Always set these headers.\nHeader always set Access-Control-Allow-Origin &quot;*&quot;\nHeader always set Access-Control-Allow-Methods &quot;POST, GET, OPTIONS, DELETE, PUT&quot;\nHeader always set Access-Control-Max-Age &quot;1000&quot;\nHeader always set Access-Control-Allow-Headers &quot;x-requested-with, Content-Type, \norigin, authorization, accept, client-security-token&quot;\nHeader always set Access-Control-Expose-Headers: &quot;authorization&quot;\n</code></pre>\n<p>For changing or creating a .htaccess file you need access to the file system of your server.</p>\n"},{"tags":[],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699478958,"creation_date":1699478958,"answer_id":77449070,"question_id":77448103,"body_markdown":"This is how I resolved this issue:\r\n\r\nIn Angular, I created the file **proxy.conf.json** in **src**.\r\n```json\r\n{\r\n  &quot;/api&quot;: {\r\n    &quot;target&quot;: &quot;http://localhost:8080&quot;,\r\n    &quot;pathRewrite&quot;: {\r\n      &quot;^/api&quot;: &quot;/api/&quot;\r\n    },\r\n    &quot;secure&quot;: false,\r\n    &quot;changeOrigin&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nIn **angular.json** I added the following into `&quot;serve&quot;: {`\r\n```json\r\n&quot;options&quot;: {\r\n  &quot;browserTarget&quot;: &quot;angl:build&quot;,\r\n  &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\r\n},\r\n```\r\n\r\nIn **package.json** I replaced `&quot;start&quot;: &quot;ng serve&quot;,` with `&quot;start&quot;: &quot;ng serve --proxy-config src/proxy.conf.json&quot;,`.\r\n\r\nProblem solved, and it does exactly what I wanted. \r\nNothing changed in Spring Boot.","title":"Allow the endpoint only if the user is authenticated","body":"<p>This is how I resolved this issue:</p>\n<p>In Angular, I created the file <strong>proxy.conf.json</strong> in <strong>src</strong>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;/api&quot;: {\n    &quot;target&quot;: &quot;http://localhost:8080&quot;,\n    &quot;pathRewrite&quot;: {\n      &quot;^/api&quot;: &quot;/api/&quot;\n    },\n    &quot;secure&quot;: false,\n    &quot;changeOrigin&quot;: true\n  }\n}\n</code></pre>\n<p>In <strong>angular.json</strong> I added the following into <code>&quot;serve&quot;: {</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;options&quot;: {\n  &quot;browserTarget&quot;: &quot;angl:build&quot;,\n  &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\n},\n</code></pre>\n<p>In <strong>package.json</strong> I replaced <code>&quot;start&quot;: &quot;ng serve&quot;,</code> with <code>&quot;start&quot;: &quot;ng serve --proxy-config src/proxy.conf.json&quot;,</code>.</p>\n<p>Problem solved, and it does exactly what I wanted.\nNothing changed in Spring Boot.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77449070,"answer_count":2,"score":-1,"last_activity_date":1699478958,"creation_date":1699468314,"question_id":77448103,"body_markdown":"I am trying to send a GET request with Angular to my Spring Boot application. To be authenticated, this is how I pass the token to the headers:\r\n\r\n```typescript\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\r\n    const token = getCookieValue(&#39;token&#39;);\r\n\r\n    if (token) {\r\n      const authRequest = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      return next.handle(authRequest);\r\n    }\r\n    return next.handle(request);\r\n  }\r\n}\r\n```\r\n\r\nBrowser gives me this error:\r\n\r\n&gt; Access to XMLHttpRequest at\r\n&gt; &#39;http://localhost:8080/api/user-profile/get-data&#39; from origin\r\n&gt; &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to\r\n&gt; preflight request doesn&#39;t pass access control check: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource.\r\n\r\nThis is my configuration in Spring Boot:\r\n```java\r\npublic class SecurityConfiguration implements WebMvcConfigurer {\r\n    private final JwtFilter jwtFilter;\r\n    private final DataSource dataSource;\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:4200&quot;)\r\n                .allowedMethods(&quot;*&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n        http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\r\n\r\n        http.authorizeHttpRequests(auth -&gt;\r\n                auth\r\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;).authenticated() // also tried with &quot;/api/user-profile/**&quot;\r\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n        );\r\n\r\n        http.httpBasic(withDefaults());\r\n        http.oauth2Login(withDefaults());\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAnd this is how I can send a request and prevent a CORS error:\r\n\r\nSending a basic request (without token):\r\n```typescript\r\nthis.http.get(environment.apiBaseUrl + &#39;user-profile/get-data&#39;).subscribe(result =&gt; {\r\n  console.log(result);\r\n})\r\n```\r\nIn Spring Boot, replaced `.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()` with `.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/api/user-profile/**&quot;).permitAll()`.\r\n\r\nNow I don&#39;t receive an error message but I can send a request without being authenticated and this is not my goal.\r\n\r\nThis is how I try to read the token:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Component\r\npublic class JwtFilter extends OncePerRequestFilter {\r\n    private final CustomUserService customUserService;\r\n    private Jwt jwt;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String token = null;\r\n        String username = null;\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            token = authorizationHeader.substring(7);\r\n            // Check if token is valid\r\n            try {\r\n                jwt.isTokenValid(token, customUserService.loadUserByUsername(jwt.extractUsername(token)));\r\n            }\r\n            catch (Exception e) {\r\n                Response responseObj = Response.builder()\r\n                        .code(&quot;UNAUTHORIZED&quot;)\r\n                        .status(HttpStatus.UNAUTHORIZED)\r\n                        .timestamp(LocalDateTime.now())\r\n                        .messages(Collections.singletonList(&quot;Invalid token&quot;))\r\n                        .build();\r\n                ObjectMapper mapper = new ObjectMapper().registerModule(new JavaTimeModule());\r\n                String json = mapper.writeValueAsString(responseObj);\r\n                response.setContentType(&quot;application/json&quot;);\r\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                response.getWriter().write(json);\r\n                return;\r\n            }\r\n            username = jwt.extractUsername(token);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = customUserService.loadUserByUsername(username);\r\n\r\n            if (jwt.isTokenValid(token, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nI don&#39;t know what I am doing wrong, but `authorizationHeader` is always `null`.\r\n\r\n","title":"Allow the endpoint only if the user is authenticated","body":"<p>I am trying to send a GET request with Angular to my Spring Boot application. To be authenticated, this is how I pass the token to the headers:</p>\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n  constructor() {}\n\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\n    const token = getCookieValue('token');\n\n    if (token) {\n      const authRequest = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return next.handle(authRequest);\n    }\n    return next.handle(request);\n  }\n}\n</code></pre>\n<p>Browser gives me this error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at\n'http://localhost:8080/api/user-profile/get-data' from origin\n'http://localhost:4200' has been blocked by CORS policy: Response to\npreflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource.</p>\n</blockquote>\n<p>This is my configuration in Spring Boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfiguration implements WebMvcConfigurer {\n    private final JwtFilter jwtFilter;\n    private final DataSource dataSource;\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:4200&quot;)\n                .allowedMethods(&quot;*&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable);\n\n        http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\n\n        http.authorizeHttpRequests(auth -&gt;\n                auth\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;).authenticated() // also tried with &quot;/api/user-profile/**&quot;\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n        );\n\n        http.httpBasic(withDefaults());\n        http.oauth2Login(withDefaults());\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>And this is how I can send a request and prevent a CORS error:</p>\n<p>Sending a basic request (without token):</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.http.get(environment.apiBaseUrl + 'user-profile/get-data').subscribe(result =&gt; {\n  console.log(result);\n})\n</code></pre>\n<p>In Spring Boot, replaced <code>.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()</code> with <code>.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/api/user-profile/**&quot;).permitAll()</code>.</p>\n<p>Now I don't receive an error message but I can send a request without being authenticated and this is not my goal.</p>\n<p>This is how I try to read the token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    private final CustomUserService customUserService;\n    private Jwt jwt;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n        String token = null;\n        String username = null;\n\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            token = authorizationHeader.substring(7);\n            // Check if token is valid\n            try {\n                jwt.isTokenValid(token, customUserService.loadUserByUsername(jwt.extractUsername(token)));\n            }\n            catch (Exception e) {\n                Response responseObj = Response.builder()\n                        .code(&quot;UNAUTHORIZED&quot;)\n                        .status(HttpStatus.UNAUTHORIZED)\n                        .timestamp(LocalDateTime.now())\n                        .messages(Collections.singletonList(&quot;Invalid token&quot;))\n                        .build();\n                ObjectMapper mapper = new ObjectMapper().registerModule(new JavaTimeModule());\n                String json = mapper.writeValueAsString(responseObj);\n                response.setContentType(&quot;application/json&quot;);\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n                response.getWriter().write(json);\n                return;\n            }\n            username = jwt.extractUsername(token);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = customUserService.loadUserByUsername(username);\n\n            if (jwt.isTokenValid(token, userDetails)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>I don't know what I am doing wrong, but <code>authorizationHeader</code> is always <code>null</code>.</p>\n"},{"tags":["java","date-formatting","duration"],"answers":[{"comments":[{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":0,"creation_date":1407172814,"post_id":266846,"comment_id":39103476,"body_markdown":"Would you still recommend to use the Joda Time library when using Java 8?","body":"Would you still recommend to use the Joda Time library when using Java 8?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1407173226,"post_id":266846,"comment_id":39103682,"body_markdown":"@TimB&#252;the: No, I&#39;d start using java.time in that case. (Although I can&#39;t immediately find an equivalent of PeriodFormatter...)","body":"@TimB&#252;the: No, I&#39;d start using java.time in that case. (Although I can&#39;t immediately find an equivalent of PeriodFormatter...)"},{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":1,"creation_date":1407173589,"post_id":266846,"comment_id":39103879,"body_markdown":"PeriodFormatter isn&#39;t included. That one of the differences between Java 8 Date Time API and Joda Time.","body":"PeriodFormatter isn&#39;t included. That one of the differences between Java 8 Date Time API and Joda Time."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1407174136,"post_id":266846,"comment_id":39104150,"body_markdown":"@TimB&#252;the: Right. I&#39;d at least consider writing my own PeriodFormatter then - or possibly including Joda Time *just* for that, depending on context.","body":"@TimB&#252;the: Right. I&#39;d at least consider writing my own PeriodFormatter then - or possibly including Joda Time <i>just</i> for that, depending on context."},{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":0,"creation_date":1428886643,"post_id":266846,"comment_id":47339641,"body_markdown":"So is this where we currently stand? `java.time` is great unless you want to format durations (Really such an obscure feature?), in which case you need to have a bunch of kloogy joda-time uses? I really hope this gets addressed in something before Java-9","body":"So is this where we currently stand? <code>java.time</code> is great unless you want to format durations (Really such an obscure feature?), in which case you need to have a bunch of kloogy joda-time uses? I really hope this gets addressed in something before Java-9"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428904937,"post_id":266846,"comment_id":47343857,"body_markdown":"@Groostav: I think formatting a duration is *relatively* rare. An alternative to using a period text format would be to just transmit the number of nanoseconds as a number. But yes, it would be good to see this addressed in Java 9 :)","body":"@Groostav: I think formatting a duration is <i>relatively</i> rare. An alternative to using a period text format would be to just transmit the number of nanoseconds as a number. But yes, it would be good to see this addressed in Java 9 :)"},{"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"score":0,"creation_date":1445980756,"post_id":266846,"comment_id":54551245,"body_markdown":"This answer is inadequate for Java 8 (&quot;I suspect there is something somewhere&quot;), which is now standard.  The answer is thus out of date.","body":"This answer is inadequate for Java 8 (&quot;I suspect there is something somewhere&quot;), which is now standard.  The answer is thus out of date."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1446015613,"post_id":266846,"comment_id":54562337,"body_markdown":"@RexKerr: It&#39;s not that it&#39;s out of date - it&#39;s just that as far as I can see, Java 8 doesn&#39;t provide custom period formatting. The passage of time hasn&#39;t changed that fact as far as I can see. If you *do* know of a way of formatting a period in a custom way in Java 8, please give that information.","body":"@RexKerr: It&#39;s not that it&#39;s out of date - it&#39;s just that as far as I can see, Java 8 doesn&#39;t provide custom period formatting. The passage of time hasn&#39;t changed that fact as far as I can see. If you <i>do</i> know of a way of formatting a period in a custom way in Java 8, please give that information."},{"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"score":0,"creation_date":1446130313,"post_id":266846,"comment_id":54624600,"body_markdown":"I&#39;m not aware of any way to do it either, and I suspect it doesn&#39;t exist (excepting using LocalTime for periods under 24 hours, which is not ideal).  But neither &quot;you can&#39;t&quot; nor &quot;I don&#39;t know&quot; nor &quot;I suspect there&#39;s something&quot; are really a good answer to the &quot;how do I do it&quot; question, are they?  If someone else thinks, &quot;Oh, I&#39;d like to format a duration as H:MM:SS!&quot;, and they read your answer, they go, &quot;Okay, now I&#39;ve got a period and...I&#39;m stuck?!&quot;","body":"I&#39;m not aware of any way to do it either, and I suspect it doesn&#39;t exist (excepting using LocalTime for periods under 24 hours, which is not ideal).  But neither &quot;you can&#39;t&quot; nor &quot;I don&#39;t know&quot; nor &quot;I suspect there&#39;s something&quot; are really a good answer to the &quot;how do I do it&quot; question, are they?  If someone else thinks, &quot;Oh, I&#39;d like to format a duration as H:MM:SS!&quot;, and they read your answer, they go, &quot;Okay, now I&#39;ve got a period and...I&#39;m stuck?!&quot;"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1446130582,"post_id":266846,"comment_id":54624790,"body_markdown":"@RexKerr: Well, there&#39;s still &quot;use Joda Time&quot; if you want to, of course. Will edit again. (Looking back, I should have been recommending Duration anyway, by the sounds of it. Significant edit required...)","body":"@RexKerr: Well, there&#39;s still &quot;use Joda Time&quot; if you want to, of course. Will edit again. (Looking back, I should have been recommending Duration anyway, by the sounds of it. Significant edit required...)"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1525793329,"post_id":266846,"comment_id":87491812,"body_markdown":"Easier to use the new `Math.floorMod` and `Math.floorDiv` methods instead of manual negative checking.","body":"Easier to use the new <code>Math.floorMod</code> and <code>Math.floorDiv</code> methods instead of manual negative checking."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1525846373,"post_id":266846,"comment_id":87510596,"body_markdown":"@MarkJeronimus: I suggest you add a new answer, as I can&#39;t immediately see how this would make it simpler.","body":"@MarkJeronimus: I suggest you add a new answer, as I can&#39;t immediately see how this would make it simpler."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1525856232,"post_id":266846,"comment_id":87515888,"body_markdown":"My mistake. I thought I discovered something by accident when a bug in my program caused duration to be negative and then rendered. But it turned out to be rendered incorrect after all.","body":"My mistake. I thought I discovered something by accident when a bug in my program caused duration to be negative and then rendered. But it turned out to be rendered incorrect after all."},{"owner":{"account_id":8105050,"reputation":170,"user_id":6106895,"display_name":"recke96"},"score":8,"creation_date":1529083528,"post_id":266846,"comment_id":88762590,"body_markdown":"@MarkJeronimus Even easier would be to use the `Duration`s methods: `duration.toHours()`, `duration.toMinutesPart()` and `duration.toSecondsPart()` which are available since Java 9. And to get the absolute value one can use `duration.abs()`.","body":"@MarkJeronimus Even easier would be to use the <code>Duration</code>s methods: <code>duration.toHours()</code>, <code>duration.toMinutesPart()</code> and <code>duration.toSecondsPart()</code> which are available since Java 9. And to get the absolute value one can use <code>duration.abs()</code>."},{"owner":{"account_id":4098994,"reputation":2967,"user_id":3365033,"accept_rate":79,"display_name":"DGK"},"score":0,"creation_date":1576674659,"post_id":266846,"comment_id":104975111,"body_markdown":"@recke96&#39;s answer is great if you&#39;ve got a code checker which considers 60/3600 magic numbers","body":"@recke96&#39;s answer is great if you&#39;ve got a code checker which considers 60/3600 magic numbers"},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1653521148,"post_id":266846,"comment_id":127875779,"body_markdown":"This is a really weak answer, agree with @jonSkeet","body":"This is a really weak answer, agree with @jonSkeet"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":16,"down_vote_count":5,"up_vote_count":102,"is_accepted":true,"score":97,"last_activity_date":1446131072,"creation_date":1225921772,"answer_id":266846,"question_id":266825,"body_markdown":"If you&#39;re using a version of Java prior to 8... you can use [Joda Time][1] and [`PeriodFormatter`][2]. If you&#39;ve really got a duration (i.e. an elapsed amount of time, with no reference to a calendar system) then you should probably be using `Duration` for the most part - you can then call `toPeriod` (specifying whatever `PeriodType` you want to reflect whether 25 hours becomes 1 day and 1 hour or not, etc) to get a `Period` which you can format.\r\n\r\nIf you&#39;re using Java 8 or later: I&#39;d normally suggest using `java.time.Duration` to represent the duration. You can then call `getSeconds()` or the like to obtain an integer for standard string formatting as per bobince&#39;s answer if you need to - although you should be careful of the situation where the duration is negative, as you probably want a *single* negative sign in the output string. So something like:\r\n\r\n    public static String formatDuration(Duration duration) {\r\n        long seconds = duration.getSeconds();\r\n        long absSeconds = Math.abs(seconds);\r\n        String positive = String.format(\r\n            &quot;%d:%02d:%02d&quot;,\r\n            absSeconds / 3600,\r\n            (absSeconds % 3600) / 60,\r\n            absSeconds % 60);\r\n        return seconds &lt; 0 ? &quot;-&quot; + positive : positive;\r\n    }\r\n\r\nFormatting this way is *reasonably* simple, if annoyingly manual. For *parsing* it becomes a harder matter in general... You could still use Joda Time even with Java 8 if you want to, of course.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/PeriodFormatter.html","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>If you're using a version of Java prior to 8... you can use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a> and <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/PeriodFormatter.html\" rel=\"noreferrer\"><code>PeriodFormatter</code></a>. If you've really got a duration (i.e. an elapsed amount of time, with no reference to a calendar system) then you should probably be using <code>Duration</code> for the most part - you can then call <code>toPeriod</code> (specifying whatever <code>PeriodType</code> you want to reflect whether 25 hours becomes 1 day and 1 hour or not, etc) to get a <code>Period</code> which you can format.</p>\n\n<p>If you're using Java 8 or later: I'd normally suggest using <code>java.time.Duration</code> to represent the duration. You can then call <code>getSeconds()</code> or the like to obtain an integer for standard string formatting as per bobince's answer if you need to - although you should be careful of the situation where the duration is negative, as you probably want a <em>single</em> negative sign in the output string. So something like:</p>\n\n<pre><code>public static String formatDuration(Duration duration) {\n    long seconds = duration.getSeconds();\n    long absSeconds = Math.abs(seconds);\n    String positive = String.format(\n        \"%d:%02d:%02d\",\n        absSeconds / 3600,\n        (absSeconds % 3600) / 60,\n        absSeconds % 60);\n    return seconds &lt; 0 ? \"-\" + positive : positive;\n}\n</code></pre>\n\n<p>Formatting this way is <em>reasonably</em> simple, if annoyingly manual. For <em>parsing</em> it becomes a harder matter in general... You could still use Joda Time even with Java 8 if you want to, of course.</p>\n"},{"comments":[{"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"score":4,"creation_date":1225925472,"post_id":266970,"comment_id":122447,"body_markdown":"Doesn&#39;t have to be integer. If you have two dates, just plug date1.getTime() - date2.getTime() into the above equation which uses the long primitive and still works.","body":"Doesn&#39;t have to be integer. If you have two dates, just plug date1.getTime() - date2.getTime() into the above equation which uses the long primitive and still works."},{"owner":{"account_id":14391,"reputation":6765,"user_id":29576,"accept_rate":82,"display_name":"Rajish"},"score":0,"creation_date":1310723036,"post_id":266970,"comment_id":7937006,"body_markdown":"What if the time difference is longer than 24h?","body":"What if the time difference is longer than 24h?"},{"owner":{"account_id":10108,"reputation":530037,"user_id":18936,"display_name":"bobince"},"score":2,"creation_date":1310762243,"post_id":266970,"comment_id":7948342,"body_markdown":"@Rajish: you&#39;d have to ask the OP what they wanted in that case! Of course you can separate it out into `s/86400, (s%86400)/3600...` for days if necessary...","body":"@Rajish: you&#39;d have to ask the OP what they wanted in that case! Of course you can separate it out into <code>s&#47;86400, (s%86400)&#47;3600...</code> for days if necessary..."},{"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"score":0,"creation_date":1345764078,"post_id":266970,"comment_id":16173933,"body_markdown":"My solution to `s &gt; 8640`0 (one day): `&quot;\\u221E&quot;` - infinity","body":"My solution to <code>s &gt; 8640</code>0 (one day): <code>&quot;\\u221E&quot;</code> - infinity"},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"score":0,"creation_date":1440865893,"post_id":266970,"comment_id":52454037,"body_markdown":"If the time difference is over 24 hours, it still formats nicely the duration in hours, minutes and seconds. For my use case this is as expected.","body":"If the time difference is over 24 hours, it still formats nicely the duration in hours, minutes and seconds. For my use case this is as expected."}],"tags":[],"owner":{"account_id":10108,"reputation":530037,"user_id":18936,"display_name":"bobince"},"comment_count":5,"down_vote_count":1,"up_vote_count":233,"is_accepted":false,"score":232,"last_activity_date":1440865595,"creation_date":1225924132,"answer_id":266970,"question_id":266825,"body_markdown":"If you don&#39;t want to drag in libraries, it&#39;s simple enough to do yourself using a Formatter, or related shortcut eg. given integer number of seconds s:\r\n\r\n      String.format(&quot;%d:%02d:%02d&quot;, s / 3600, (s % 3600) / 60, (s % 60));","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>If you don't want to drag in libraries, it's simple enough to do yourself using a Formatter, or related shortcut eg. given integer number of seconds s:</p>\n\n<pre><code>  String.format(\"%d:%02d:%02d\", s / 3600, (s % 3600) / 60, (s % 60));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14391,"reputation":6765,"user_id":29576,"accept_rate":82,"display_name":"Rajish"},"score":14,"creation_date":1310723180,"post_id":6090189,"comment_id":7937036,"body_markdown":"Hah! Just hit the wall with time zone normalization when used this method. You have to add `sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0&quot;));` before using the `format` function.","body":"Hah! Just hit the wall with time zone normalization when used this method. You have to add <code>sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0&quot;));</code> before using the <code>format</code> function."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1595674730,"post_id":6090189,"comment_id":111560333,"body_markdown":"It&#39;s recommended to use `DateFormat.getDateInstance()` instead of concrete classes.","body":"It&#39;s recommended to use <code>DateFormat.getDateInstance()</code> instead of concrete classes."},{"owner":{"account_id":3146284,"reputation":683,"user_id":2660705,"display_name":"V.S."},"score":2,"creation_date":1597219206,"post_id":6090189,"comment_id":112058448,"body_markdown":"This solution is fragile. It will roll over to `00:00:00.000` when the number of hours reaches 24h. Further, negative one second is formatted as `23:59:59.000`.","body":"This solution is fragile. It will roll over to <code>00:00:00.000</code> when the number of hours reaches 24h. Further, negative one second is formatted as <code>23:59:59.000</code>."},{"owner":{"account_id":2779122,"reputation":1589,"user_id":2392024,"display_name":"Petr Nalevka"},"score":0,"creation_date":1647246963,"post_id":6090189,"comment_id":126313870,"body_markdown":"I&#39;m using: String\n        .format(&quot;Duration %tT&quot;, duration - TimeZone.getDefault().getOffset(0)) which works well if you are fine with duration &lt; 24 hours","body":"I&#39;m using: String         .format(&quot;Duration %tT&quot;, duration - TimeZone.getDefault().getOffset(0)) which works well if you are fine with duration &lt; 24 hours"}],"tags":[],"owner":{"account_id":204775,"reputation":317,"user_id":453178,"display_name":"Mihai Vasilache"},"comment_count":4,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1306092155,"creation_date":1306092155,"answer_id":6090189,"question_id":266825,"body_markdown":"    long duration = 4 * 60 * 60 * 1000;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;, Locale.getDefault());\r\n    log.info(&quot;Duration: &quot; + sdf.format(new Date(duration - TimeZone.getDefault().getRawOffset())));","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<pre><code>long duration = 4 * 60 * 60 * 1000;\nSimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss.SSS\", Locale.getDefault());\nlog.info(\"Duration: \" + sdf.format(new Date(duration - TimeZone.getDefault().getRawOffset())));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1512716,"reputation":1287,"user_id":1873877,"accept_rate":43,"display_name":"Marko"},"score":21,"creation_date":1427580379,"post_id":18633466,"comment_id":46837199,"body_markdown":"The easiest possible way (in apache commons style). You even have formatDurationHMS method that, you&#39;ll probably use most of the time.","body":"The easiest possible way (in apache commons style). You even have formatDurationHMS method that, you&#39;ll probably use most of the time."},{"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"score":3,"creation_date":1582042894,"post_id":18633466,"comment_id":106636728,"body_markdown":"Perfect! You can also add other text within apostrophe: DurationFormatUtils.formatDuration(durationInMillis, &quot;m &#39;minutes&#39; , s &#39;seconds&#39;&quot;)","body":"Perfect! You can also add other text within apostrophe: DurationFormatUtils.formatDuration(durationInMillis, &quot;m &#39;minutes&#39; , s &#39;seconds&#39;&quot;)"},{"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"score":1,"creation_date":1671217564,"post_id":18633466,"comment_id":132059446,"body_markdown":"Unfortunately the Apache stuff isn&#39;t localized, it only supports english.","body":"Unfortunately the Apache stuff isn&#39;t localized, it only supports english."}],"tags":[],"owner":{"account_id":41904,"reputation":5388,"user_id":121956,"accept_rate":44,"display_name":"Gili Nachum"},"comment_count":3,"down_vote_count":2,"up_vote_count":195,"is_accepted":false,"score":193,"last_activity_date":1542208572,"creation_date":1378375700,"answer_id":18633466,"question_id":266825,"body_markdown":"I use Apache common&#39;s [DurationFormatUtils][1] like so:  \r\n\r\n    DurationFormatUtils.formatDuration(millis, &quot;**H:mm:ss**&quot;, true);\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.0/org/apache/commons/lang3/time/DurationFormatUtils.html","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I use Apache common's <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.0/org/apache/commons/lang3/time/DurationFormatUtils.html\" rel=\"noreferrer\">DurationFormatUtils</a> like so:  </p>\n\n<pre><code>DurationFormatUtils.formatDuration(millis, \"**H:mm:ss**\", true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"score":4,"creation_date":1489186903,"post_id":22776038,"comment_id":72577833,"body_markdown":"This will fail for durations larger than 23:59:59.999.","body":"This will fail for durations larger than 23:59:59.999."}],"tags":[],"owner":{"account_id":4258459,"reputation":41,"user_id":3483443,"display_name":"sbclint"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396321352,"creation_date":1396321352,"answer_id":22776038,"question_id":266825,"body_markdown":"This is a working option.\r\n\r\n\r\n    public static String showDuration(LocalTime otherTime){          \r\n        DateTimeFormatter df = DateTimeFormatter.ISO_LOCAL_TIME;\r\n        LocalTime now = LocalTime.now();\r\n        System.out.println(&quot;now: &quot; + now);\r\n        System.out.println(&quot;otherTime: &quot; + otherTime);\r\n        System.out.println(&quot;otherTime: &quot; + otherTime.format(df));\r\n        \r\n        Duration span = Duration.between(otherTime, now);\r\n        LocalTime fTime = LocalTime.ofNanoOfDay(span.toNanos());\r\n        String output = fTime.format(df);\r\n        \r\n        System.out.println(output);\r\n        return output;\r\n    }\r\n\r\nCall the method with\r\n\r\n    System.out.println(showDuration(LocalTime.of(9, 30, 0, 0)));\r\n\r\nProduces something like:\r\n\r\n    otherTime: 09:30\r\n    otherTime: 09:30:00\r\n    11:31:27.463\r\n    11:31:27.463","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This is a working option.</p>\n\n<pre><code>public static String showDuration(LocalTime otherTime){          \n    DateTimeFormatter df = DateTimeFormatter.ISO_LOCAL_TIME;\n    LocalTime now = LocalTime.now();\n    System.out.println(\"now: \" + now);\n    System.out.println(\"otherTime: \" + otherTime);\n    System.out.println(\"otherTime: \" + otherTime.format(df));\n\n    Duration span = Duration.between(otherTime, now);\n    LocalTime fTime = LocalTime.ofNanoOfDay(span.toNanos());\n    String output = fTime.format(df);\n\n    System.out.println(output);\n    return output;\n}\n</code></pre>\n\n<p>Call the method with</p>\n\n<pre><code>System.out.println(showDuration(LocalTime.of(9, 30, 0, 0)));\n</code></pre>\n\n<p>Produces something like:</p>\n\n<pre><code>otherTime: 09:30\notherTime: 09:30:00\n11:31:27.463\n11:31:27.463\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":0,"creation_date":1428903485,"post_id":28131899,"comment_id":47343377,"body_markdown":"I just tried this, and I noticed that if I called format for &quot;hh:mm:ss&quot; when I _didnt_ have any hours or minutes to format (eg `Duration.ofSeconds(20)`), then I&#39;d get an `UnsupportedTemporalTypeException`). I&#39;ve simply removed the code checking if the difference is `== 01`. I figured `01` was some kind of masking value that I dont complete understand, can you explain it?","body":"I just tried this, and I noticed that if I called format for &quot;hh:mm:ss&quot; when I <i>didnt</i> have any hours or minutes to format (eg <code>Duration.ofSeconds(20)</code>), then I&#39;d get an <code>UnsupportedTemporalTypeException</code>). I&#39;ve simply removed the code checking if the difference is <code>== 01</code>. I figured <code>01</code> was some kind of masking value that I dont complete understand, can you explain it?"},{"owner":{"account_id":1250616,"reputation":686,"user_id":1211095,"display_name":"MrJames"},"score":0,"creation_date":1478625228,"post_id":28131899,"comment_id":68229583,"body_markdown":"This actually worked very well. On my case I even added milliseconds...  Regarding the `isSupported` method its returning the information if there is a valid field to show on the human readable string. Anyway the &quot;masking&quot; is actually not a mask. The code shows `return value!=0l` not `return value!=01`. Please do make use of copy-paste next time.","body":"This actually worked very well. On my case I even added milliseconds...  Regarding the <code>isSupported</code> method its returning the information if there is a valid field to show on the human readable string. Anyway the &quot;masking&quot; is actually not a mask. The code shows <code>return value!=0l</code> not <code>return value!=01</code>. Please do make use of copy-paste next time."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1483535228,"post_id":28131899,"comment_id":70134641,"body_markdown":"The interface `TemporalAccessor` is not supposed to be misused for durations. JSR-310 has designed the interface `TemporalAmount` for this purpose.","body":"The interface <code>TemporalAccessor</code> is not supposed to be misused for durations. JSR-310 has designed the interface <code>TemporalAmount</code> for this purpose."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1525615113,"post_id":28131899,"comment_id":87417547,"body_markdown":"I recommend you always use uppercase `L` for signifying a `long` value. It’s so easy to misread lowercase `l` for digit 1, as just demonstrated.","body":"I recommend you always use uppercase <code>L</code> for signifying a <code>long</code> value. It’s so easy to misread lowercase <code>l</code> for digit 1, as just demonstrated."}],"tags":[],"owner":{"account_id":2614507,"reputation":304,"user_id":2263885,"display_name":"patrick"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525708522,"creation_date":1422145866,"answer_id":28131899,"question_id":266825,"body_markdown":"This might be kind of hacky, but it is a good solution if one is bent on accomplishing this using Java 8&#39;s `java.time`:\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.time.temporal.ChronoField;\r\n    import java.time.temporal.Temporal;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.time.temporal.TemporalField;\r\n    import java.time.temporal.UnsupportedTemporalTypeException;\r\n    \r\n    public class TemporalDuration implements TemporalAccessor {\r\n        private static final Temporal BASE_TEMPORAL = LocalDateTime.of(0, 1, 1, 0, 0);\r\n        \r\n        private final Duration duration;\r\n        private final Temporal temporal;\r\n        \r\n        public TemporalDuration(Duration duration) {\r\n            this.duration = duration;\r\n            this.temporal = duration.addTo(BASE_TEMPORAL);\r\n        }\r\n        \r\n        @Override\r\n        public boolean isSupported(TemporalField field) {\r\n            if(!temporal.isSupported(field)) return false;\r\n            long value = temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\r\n            return value!=0L;\r\n        }\r\n    \r\n        @Override\r\n        public long getLong(TemporalField field) {\r\n            if(!isSupported(field)) throw new UnsupportedTemporalTypeException(new StringBuilder().append(field.toString()).toString());\r\n            return temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\r\n        }\r\n    \r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return dtf.format(this);\r\n        }\r\n        \r\n        private static final DateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n                .optionalStart()//second\r\n                .optionalStart()//minute\r\n                .optionalStart()//hour\r\n                .optionalStart()//day\r\n                .optionalStart()//month\r\n                .optionalStart()//year\r\n                .appendValue(ChronoField.YEAR).appendLiteral(&quot; Years &quot;).optionalEnd()\r\n                .appendValue(ChronoField.MONTH_OF_YEAR).appendLiteral(&quot; Months &quot;).optionalEnd()\r\n                .appendValue(ChronoField.DAY_OF_MONTH).appendLiteral(&quot; Days &quot;).optionalEnd()\r\n                .appendValue(ChronoField.HOUR_OF_DAY).appendLiteral(&quot; Hours &quot;).optionalEnd()\r\n                .appendValue(ChronoField.MINUTE_OF_HOUR).appendLiteral(&quot; Minutes &quot;).optionalEnd()\r\n                .appendValue(ChronoField.SECOND_OF_MINUTE).appendLiteral(&quot; Seconds&quot;).optionalEnd()\r\n                .toFormatter();\r\n    \r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This might be kind of hacky, but it is a good solution if one is bent on accomplishing this using Java 8's <code>java.time</code>:</p>\n\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.temporal.ChronoField;\nimport java.time.temporal.Temporal;\nimport java.time.temporal.TemporalAccessor;\nimport java.time.temporal.TemporalField;\nimport java.time.temporal.UnsupportedTemporalTypeException;\n\npublic class TemporalDuration implements TemporalAccessor {\n    private static final Temporal BASE_TEMPORAL = LocalDateTime.of(0, 1, 1, 0, 0);\n\n    private final Duration duration;\n    private final Temporal temporal;\n\n    public TemporalDuration(Duration duration) {\n        this.duration = duration;\n        this.temporal = duration.addTo(BASE_TEMPORAL);\n    }\n\n    @Override\n    public boolean isSupported(TemporalField field) {\n        if(!temporal.isSupported(field)) return false;\n        long value = temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\n        return value!=0L;\n    }\n\n    @Override\n    public long getLong(TemporalField field) {\n        if(!isSupported(field)) throw new UnsupportedTemporalTypeException(new StringBuilder().append(field.toString()).toString());\n        return temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\n    }\n\n    public Duration getDuration() {\n        return duration;\n    }\n\n    @Override\n    public String toString() {\n        return dtf.format(this);\n    }\n\n    private static final DateTimeFormatter dtf = new DateTimeFormatterBuilder()\n            .optionalStart()//second\n            .optionalStart()//minute\n            .optionalStart()//hour\n            .optionalStart()//day\n            .optionalStart()//month\n            .optionalStart()//year\n            .appendValue(ChronoField.YEAR).appendLiteral(\" Years \").optionalEnd()\n            .appendValue(ChronoField.MONTH_OF_YEAR).appendLiteral(\" Months \").optionalEnd()\n            .appendValue(ChronoField.DAY_OF_MONTH).appendLiteral(\" Days \").optionalEnd()\n            .appendValue(ChronoField.HOUR_OF_DAY).appendLiteral(\" Hours \").optionalEnd()\n            .appendValue(ChronoField.MINUTE_OF_HOUR).appendLiteral(\" Minutes \").optionalEnd()\n            .appendValue(ChronoField.SECOND_OF_MINUTE).appendLiteral(\" Seconds\").optionalEnd()\n            .toFormatter();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857429,"reputation":368,"user_id":1682715,"display_name":"Pavel_H"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473152435,"creation_date":1473152435,"answer_id":39344834,"question_id":266825,"body_markdown":"Here is one more sample how to format duration.\r\nNote that this sample shows both positive and negative duration as positive duration.\r\n\r\n    import static java.time.temporal.ChronoUnit.DAYS;\r\n    import static java.time.temporal.ChronoUnit.HOURS;\r\n    import static java.time.temporal.ChronoUnit.MINUTES;\r\n    import static java.time.temporal.ChronoUnit.SECONDS;\r\n    \r\n    import java.time.Duration;\r\n    \r\n    public class DurationSample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Let&#39;s say duration of 2days 3hours 12minutes and 46seconds\r\n    \t\tDuration d = Duration.ZERO.plus(2, DAYS).plus(3, HOURS).plus(12, MINUTES).plus(46, SECONDS);\r\n    \t\t\r\n    \t\t//in case of negative duration\r\n    \t\tif(d.isNegative()) d = d.negated();\r\n    \t\t\r\n    \t\t//format DAYS HOURS MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Total duration is %sdays %shrs %smin %ssec.\\n&quot;, d.toDays(), d.toHours() % 24, d.toMinutes() % 60, d.getSeconds() % 60);\r\n    \t\t\r\n    \t\t//or format HOURS MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Or total duration is %shrs %smin %sec.\\n&quot;, d.toHours(), d.toMinutes() % 60, d.getSeconds() % 60);\r\n    \r\n    \t\t//or format MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Or total duration is %smin %ssec.\\n&quot;, d.toMinutes(), d.getSeconds() % 60);\r\n    \r\n    \t\t//or format SECONDS only \r\n    \t\tSystem.out.printf(&quot;Or total duration is %ssec.\\n&quot;, d.getSeconds());\r\n    \t}\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Here is one more sample how to format duration.\nNote that this sample shows both positive and negative duration as positive duration.</p>\n\n<pre><code>import static java.time.temporal.ChronoUnit.DAYS;\nimport static java.time.temporal.ChronoUnit.HOURS;\nimport static java.time.temporal.ChronoUnit.MINUTES;\nimport static java.time.temporal.ChronoUnit.SECONDS;\n\nimport java.time.Duration;\n\npublic class DurationSample {\n    public static void main(String[] args) {\n        //Let's say duration of 2days 3hours 12minutes and 46seconds\n        Duration d = Duration.ZERO.plus(2, DAYS).plus(3, HOURS).plus(12, MINUTES).plus(46, SECONDS);\n\n        //in case of negative duration\n        if(d.isNegative()) d = d.negated();\n\n        //format DAYS HOURS MINUTES SECONDS \n        System.out.printf(\"Total duration is %sdays %shrs %smin %ssec.\\n\", d.toDays(), d.toHours() % 24, d.toMinutes() % 60, d.getSeconds() % 60);\n\n        //or format HOURS MINUTES SECONDS \n        System.out.printf(\"Or total duration is %shrs %smin %sec.\\n\", d.toHours(), d.toMinutes() % 60, d.getSeconds() % 60);\n\n        //or format MINUTES SECONDS \n        System.out.printf(\"Or total duration is %smin %ssec.\\n\", d.toMinutes(), d.getSeconds() % 60);\n\n        //or format SECONDS only \n        System.out.printf(\"Or total duration is %ssec.\\n\", d.getSeconds());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479146342,"creation_date":1479146342,"answer_id":40594963,"question_id":266825,"body_markdown":"My library [Time4J][1] offers a pattern-based solution (similar to `Apache DurationFormatUtils`, but more flexible):\r\n\r\n\tDuration&lt;ClockUnit&gt; duration =\r\n\t\tDuration.of(-573421, ClockUnit.SECONDS) // input in seconds only\r\n\t\t.with(Duration.STD_CLOCK_PERIOD); // performs normalization to h:mm:ss-structure\r\n\tString fs = Duration.formatter(ClockUnit.class, &quot;+##h:mm:ss&quot;).format(duration);\r\n\tSystem.out.println(fs); // output =&gt; -159:17:01\r\n\r\nThis code demonstrates the capabilities to handle hour overflow and sign handling, see also the API of duration-formatter [based on pattern][2].\r\n\r\n\r\n  [1]: https://github.com/MenoData/Time4J\r\n  [2]: http://time4j.net/javadoc-en/net/time4j/Duration.Formatter.html#ofPattern-java.lang.Class-java.lang.String-","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>My library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> offers a pattern-based solution (similar to <code>Apache DurationFormatUtils</code>, but more flexible):</p>\n\n<pre><code>Duration&lt;ClockUnit&gt; duration =\n    Duration.of(-573421, ClockUnit.SECONDS) // input in seconds only\n    .with(Duration.STD_CLOCK_PERIOD); // performs normalization to h:mm:ss-structure\nString fs = Duration.formatter(ClockUnit.class, \"+##h:mm:ss\").format(duration);\nSystem.out.println(fs); // output =&gt; -159:17:01\n</code></pre>\n\n<p>This code demonstrates the capabilities to handle hour overflow and sign handling, see also the API of duration-formatter <a href=\"http://time4j.net/javadoc-en/net/time4j/Duration.Formatter.html#ofPattern-java.lang.Class-java.lang.String-\" rel=\"nofollow noreferrer\">based on pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699478890,"creation_date":1492998954,"answer_id":43578628,"question_id":266825,"body_markdown":"    String formatDuration(Temporal from, Temporal to) {\r\n        final StringBuilder builder = new StringBuilder();\r\n        for (ChronoUnit unit : new ChronoUnit[]{YEARS, MONTHS, WEEKS, DAYS, HOURS, MINUTES, SECONDS}) {\r\n            long amount = unit.between(from, to);\r\n            if (amount == 0) {\r\n                continue;\r\n            }\r\n            builder.append(&#39; &#39;)\r\n                    .append(amount)\r\n                    .append(&#39; &#39;)\r\n                    .append(unit.name().toLowerCase());\r\n            from = from.plus(amount, unit);\r\n        }\r\n        return builder.toString().trim();\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<pre><code>String formatDuration(Temporal from, Temporal to) {\n    final StringBuilder builder = new StringBuilder();\n    for (ChronoUnit unit : new ChronoUnit[]{YEARS, MONTHS, WEEKS, DAYS, HOURS, MINUTES, SECONDS}) {\n        long amount = unit.between(from, to);\n        if (amount == 0) {\n            continue;\n        }\n        builder.append(' ')\n                .append(amount)\n                .append(' ')\n                .append(unit.name().toLowerCase());\n        from = from.plus(amount, unit);\n    }\n    return builder.toString().trim();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"score":0,"creation_date":1701261398,"post_id":44343699,"comment_id":136753308,"body_markdown":"Equivalent in Kotlin, for your copy-pasting convenience:`&quot;${diff.toHours()}:${diff.toMinutesPart()}:${diff.toSecondsPart()}&quot;`","body":"Equivalent in Kotlin, for your copy-pasting convenience:<code>&quot;${diff.toHours()}:${diff.toMinutesPart()}:${dif&zwnj;&#8203;f.toSecondsPart()}&quot;</code>"}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1579358841,"creation_date":1496491252,"answer_id":44343699,"question_id":266825,"body_markdown":"This is easier since Java 9. A `Duration` still isn’t formattable, but methods for getting the hours, minutes and seconds are added, which makes the task somewhat more straightforward:\r\n\r\n\t\tLocalDateTime start = LocalDateTime.of(2019, Month.JANUARY, 17, 15, 24, 12);\r\n\t\tLocalDateTime end = LocalDateTime.of(2019, Month.JANUARY, 18, 15, 43, 33);\r\n\t\tDuration diff = Duration.between(start, end);\r\n\t\tString hms = String.format(&quot;%d:%02d:%02d&quot;, \r\n\t\t\t\t\t\t\t\t\tdiff.toHours(), \r\n\t\t\t\t\t\t\t\t\tdiff.toMinutesPart(), \r\n\t\t\t\t\t\t\t\t\tdiff.toSecondsPart());\r\n\t\tSystem.out.println(hms);\r\n\r\nThe output from this snippet is:\r\n\r\n&gt; 24:19:21","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This is easier since Java 9. A <code>Duration</code> still isn’t formattable, but methods for getting the hours, minutes and seconds are added, which makes the task somewhat more straightforward:</p>\n\n<pre><code>    LocalDateTime start = LocalDateTime.of(2019, Month.JANUARY, 17, 15, 24, 12);\n    LocalDateTime end = LocalDateTime.of(2019, Month.JANUARY, 18, 15, 43, 33);\n    Duration diff = Duration.between(start, end);\n    String hms = String.format(\"%d:%02d:%02d\", \n                                diff.toHours(), \n                                diff.toMinutesPart(), \n                                diff.toSecondsPart());\n    System.out.println(hms);\n</code></pre>\n\n<p>The output from this snippet is:</p>\n\n<blockquote>\n  <p>24:19:21</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6645430,"reputation":12674,"user_id":5129715,"accept_rate":78,"display_name":"mksteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498637624,"creation_date":1498637624,"answer_id":44797053,"question_id":266825,"body_markdown":"How about the following function, which returns either \r\n+H:MM:SS\r\nor\r\n+H:MM:SS.sss\r\n\r\n\r\n    public static String formatInterval(final long interval, boolean millisecs )\r\n    {\r\n        final long hr = TimeUnit.MILLISECONDS.toHours(interval);\r\n        final long min = TimeUnit.MILLISECONDS.toMinutes(interval) %60;\r\n        final long sec = TimeUnit.MILLISECONDS.toSeconds(interval) %60;\r\n        final long ms = TimeUnit.MILLISECONDS.toMillis(interval) %1000;\r\n        if( millisecs ) {\r\n            return String.format(&quot;%02d:%02d:%02d.%03d&quot;, hr, min, sec, ms);\r\n        } else {\r\n            return String.format(&quot;%02d:%02d:%02d&quot;, hr, min, sec );\r\n        }\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>How about the following function, which returns either \n+H:MM:SS\nor\n+H:MM:SS.sss</p>\n\n<pre><code>public static String formatInterval(final long interval, boolean millisecs )\n{\n    final long hr = TimeUnit.MILLISECONDS.toHours(interval);\n    final long min = TimeUnit.MILLISECONDS.toMinutes(interval) %60;\n    final long sec = TimeUnit.MILLISECONDS.toSeconds(interval) %60;\n    final long ms = TimeUnit.MILLISECONDS.toMillis(interval) %1000;\n    if( millisecs ) {\n        return String.format(\"%02d:%02d:%02d.%03d\", hr, min, sec, ms);\n    } else {\n        return String.format(\"%02d:%02d:%02d\", hr, min, sec );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":5,"creation_date":1524493073,"post_id":49628638,"comment_id":86983081,"body_markdown":"This isn&#39;t a great advert for Scala? No library needed, but just as much code... ?","body":"This isn&#39;t a great advert for Scala? No library needed, but just as much code... ?"},{"owner":{"account_id":4411657,"reputation":755,"user_id":3594403,"accept_rate":50,"display_name":"dpoetzsch"},"score":0,"creation_date":1540479176,"post_id":49628638,"comment_id":92889694,"body_markdown":"I like the recursive approach, but it can be simplified a lot: https://stackoverflow.com/a/52992235/3594403","body":"I like the recursive approach, but it can be simplified a lot: <a href=\"https://stackoverflow.com/a/52992235/3594403\">stackoverflow.com/a/52992235/3594403</a>"}],"tags":[],"owner":{"account_id":277712,"reputation":1679,"user_id":571856,"accept_rate":100,"display_name":"YourBestBet"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1522753914,"creation_date":1522753914,"answer_id":49628638,"question_id":266825,"body_markdown":"in scala, no library needed:\r\n        \r\n    def prettyDuration(str:List[String],seconds:Long):List[String]={\r\n      seconds match {\r\n        case t if t &lt; 60 =&gt; str:::List(s&quot;${t} seconds&quot;)\r\n        case t if (t &gt;= 60 &amp;&amp; t&lt; 3600 ) =&gt; List(s&quot;${t / 60} minutes&quot;):::prettyDuration(str, t%60)\r\n        case t if (t &gt;= 3600 &amp;&amp; t&lt; 3600*24 ) =&gt; List(s&quot;${t / 3600} hours&quot;):::prettyDuration(str, t%3600)\r\n        case t if (t&gt;= 3600*24 ) =&gt; List(s&quot;${t / (3600*24)} days&quot;):::prettyDuration(str, t%(3600*24))\r\n      }\r\n    }\r\n    val dur = prettyDuration(List.empty[String], 12345).mkString(&quot;&quot;)\r\n\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>in scala, no library needed:</p>\n\n<pre><code>def prettyDuration(str:List[String],seconds:Long):List[String]={\n  seconds match {\n    case t if t &lt; 60 =&gt; str:::List(s\"${t} seconds\")\n    case t if (t &gt;= 60 &amp;&amp; t&lt; 3600 ) =&gt; List(s\"${t / 60} minutes\"):::prettyDuration(str, t%60)\n    case t if (t &gt;= 3600 &amp;&amp; t&lt; 3600*24 ) =&gt; List(s\"${t / 3600} hours\"):::prettyDuration(str, t%3600)\n    case t if (t&gt;= 3600*24 ) =&gt; List(s\"${t / (3600*24)} days\"):::prettyDuration(str, t%(3600*24))\n  }\n}\nval dur = prettyDuration(List.empty[String], 12345).mkString(\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":995236,"reputation":904,"user_id":1011366,"accept_rate":60,"display_name":"lauhub"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1667856532,"creation_date":1530222154,"answer_id":51091602,"question_id":266825,"body_markdown":"This answer only uses `Duration` methods and works with Java 8 :\r\n\r\n    public static String format(Duration d) {\r\n\t\tlong days = d.toDays();\r\n\t\td = d.minusDays(days);\r\n\t\tlong hours = d.toHours();\r\n\t\td = d.minusHours(hours);\r\n\t\tlong minutes = d.toMinutes();\r\n\t\td = d.minusMinutes(minutes);\r\n\t\tlong seconds = d.getSeconds() ;\r\n\t\treturn \r\n\t\t\t\t(days ==  0?&quot;&quot;:days+&quot; days,&quot;)+ \r\n\t\t\t\t(hours == 0?&quot;&quot;:hours+&quot; hours,&quot;)+ \r\n\t\t\t\t(minutes ==  0?&quot;&quot;:minutes+&quot; minutes,&quot;)+ \r\n\t\t\t\t(seconds == 0?&quot;&quot;:seconds+&quot; seconds,&quot;);\r\n    }\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This answer only uses <code>Duration</code> methods and works with Java 8 :</p>\n<pre><code>public static String format(Duration d) {\n    long days = d.toDays();\n    d = d.minusDays(days);\n    long hours = d.toHours();\n    d = d.minusHours(hours);\n    long minutes = d.toMinutes();\n    d = d.minusMinutes(minutes);\n    long seconds = d.getSeconds() ;\n    return \n            (days ==  0?&quot;&quot;:days+&quot; days,&quot;)+ \n            (hours == 0?&quot;&quot;:hours+&quot; hours,&quot;)+ \n            (minutes ==  0?&quot;&quot;:minutes+&quot; minutes,&quot;)+ \n            (seconds == 0?&quot;&quot;:seconds+&quot; seconds,&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1640263523,"post_id":52992235,"comment_id":124556087,"body_markdown":"OP asked for a solution to format a duration in seconds in... **Java**","body":"OP asked for a solution to format a duration in seconds in... <b>Java</b>"}],"tags":[],"owner":{"account_id":4411657,"reputation":755,"user_id":3594403,"accept_rate":50,"display_name":"dpoetzsch"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1540479126,"creation_date":1540479126,"answer_id":52992235,"question_id":266825,"body_markdown":"In Scala, building up on YourBestBet&#39;s solution but simplified:\r\n\r\n    def prettyDuration(seconds: Long): List[String] = seconds match {\r\n      case t if t &lt; 60      =&gt; List(s&quot;${t} seconds&quot;)\r\n      case t if t &lt; 3600    =&gt; s&quot;${t / 60} minutes&quot; :: prettyDuration(t % 60)\r\n      case t if t &lt; 3600*24 =&gt; s&quot;${t / 3600} hours&quot; :: prettyDuration(t % 3600)\r\n      case t                =&gt; s&quot;${t / (3600*24)} days&quot; :: prettyDuration(t % (3600*24))\r\n    }\r\n  \r\n    val dur = prettyDuration(12345).mkString(&quot;, &quot;) // =&gt; 3 hours, 25 minutes, 45 seconds","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>In Scala, building up on YourBestBet's solution but simplified:</p>\n\n<pre><code>def prettyDuration(seconds: Long): List[String] = seconds match {\n  case t if t &lt; 60      =&gt; List(s\"${t} seconds\")\n  case t if t &lt; 3600    =&gt; s\"${t / 60} minutes\" :: prettyDuration(t % 60)\n  case t if t &lt; 3600*24 =&gt; s\"${t / 3600} hours\" :: prettyDuration(t % 3600)\n  case t                =&gt; s\"${t / (3600*24)} days\" :: prettyDuration(t % (3600*24))\n}\n\nval dur = prettyDuration(12345).mkString(\", \") // =&gt; 3 hours, 25 minutes, 45 seconds\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":1,"creation_date":1624664074,"post_id":54794030,"comment_id":120428364,"body_markdown":"good trick,. For period&#39;s of more than 24 hours, this gives you the remainder mod 24hrs, which isn&#39;t quite what I need, but I agree this is the most elegant so far. Still, I&#39;m rather disappointed that java 8&#39;s Duration object doesn&#39;t have some built in formatting tools.","body":"good trick,. For period&#39;s of more than 24 hours, this gives you the remainder mod 24hrs, which isn&#39;t quite what I need, but I agree this is the most elegant so far. Still, I&#39;m rather disappointed that java 8&#39;s Duration object doesn&#39;t have some built in formatting tools."}],"tags":[],"owner":{"account_id":8180649,"reputation":615,"user_id":6157999,"display_name":"ctg"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1550691382,"creation_date":1550691382,"answer_id":54794030,"question_id":266825,"body_markdown":"There&#39;s a fairly simple and (IMO) elegant approach, at least for durations of less than 24 hours:\r\n\r\n`DateTimeFormatter.ISO_LOCAL_TIME.format(value.addTo(LocalTime.of(0, 0)))`\r\n\r\nFormatters need a temporal object to format, so you can create one by adding the duration to a LocalTime of 00:00 (i.e. midnight). This will give you a LocalTime representing the duration from midnight to that time, which is then easy to format in standard HH:mm:ss notation. This has the advantage of not needing an external library, and uses the java.time library to do the calculation, rather than manually calculating the hours, minutes and seconds.","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>There's a fairly simple and (IMO) elegant approach, at least for durations of less than 24 hours:</p>\n\n<p><code>DateTimeFormatter.ISO_LOCAL_TIME.format(value.addTo(LocalTime.of(0, 0)))</code></p>\n\n<p>Formatters need a temporal object to format, so you can create one by adding the duration to a LocalTime of 00:00 (i.e. midnight). This will give you a LocalTime representing the duration from midnight to that time, which is then easy to format in standard HH:mm:ss notation. This has the advantage of not needing an external library, and uses the java.time library to do the calculation, rather than manually calculating the hours, minutes and seconds.</p>\n"},{"comments":[{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1640263517,"post_id":62466864,"comment_id":124556085,"body_markdown":"OP asked for a solution to format a duration in seconds in... **Java**","body":"OP asked for a solution to format a duration in seconds in... <b>Java</b>"},{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":0,"creation_date":1643674884,"post_id":62466864,"comment_id":125398936,"body_markdown":"@maxxyme true enough. But I got to this question with a scala search term. The other scala answers (now heavily downvoted) were horrible. I wasn&#39;t about to leave those for others to find.\nOnce somebody links here with a specific q&amp;a (free to copy this text), then I&#39;ll remove it. Until then, it still has utility, even in the wrong place.","body":"@maxxyme true enough. But I got to this question with a scala search term. The other scala answers (now heavily downvoted) were horrible. I wasn&#39;t about to leave those for others to find. Once somebody links here with a specific q&amp;a (free to copy this text), then I&#39;ll remove it. Until then, it still has utility, even in the wrong place."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681311946,"post_id":62466864,"comment_id":134036709,"body_markdown":"@maxxyme I agree with Stephen here. Programmers of Scala, Kotlin and other JVM-based languages would often search for how to do in Java and end up here. So supplementing the Java answers with in this case a Scala answer is helpful.","body":"@maxxyme I agree with Stephen here. Programmers of Scala, Kotlin and other JVM-based languages would often search for how to do in Java and end up here. So supplementing the Java answers with in this case a Scala answer is helpful."}],"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1592557492,"creation_date":1592557492,"answer_id":62466864,"question_id":266825,"body_markdown":"In scala (I saw some other attempts, and wasn&#39;t impressed):\r\n\r\n``` scala\r\ndef formatDuration(duration: Duration): String = {\r\n  import duration._ // get access to all the members ;)\r\n  f&quot;$toDaysPart $toHoursPart%02d:$toMinutesPart%02d:$toSecondsPart%02d:$toMillisPart%03d&quot;\r\n}\r\n```\r\nLooks horrible yes? Well that&#39;s why we use IDEs to write this stuff so that the method calls (`$toHoursPart` etc) are a different color.\r\n\r\nThe `f&quot;...&quot;` is a `printf`/`String.format` style string interpolator (which is what allows the `$` code injection to work)\r\nGiven an output of `1 14:06:32.583`, the `f` interpolated string would be equivalent to `String.format(&quot;1 %02d:%02d:%02d.%03d&quot;, 14, 6, 32, 583)`","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>In scala (I saw some other attempts, and wasn't impressed):</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def formatDuration(duration: Duration): String = {\n  import duration._ // get access to all the members ;)\n  f\"$toDaysPart $toHoursPart%02d:$toMinutesPart%02d:$toSecondsPart%02d:$toMillisPart%03d\"\n}\n</code></pre>\n\n<p>Looks horrible yes? Well that's why we use IDEs to write this stuff so that the method calls (<code>$toHoursPart</code> etc) are a different color.</p>\n\n<p>The <code>f\"...\"</code> is a <code>printf</code>/<code>String.format</code> style string interpolator (which is what allows the <code>$</code> code injection to work)\nGiven an output of <code>1 14:06:32.583</code>, the <code>f</code> interpolated string would be equivalent to <code>String.format(\"1 %02d:%02d:%02d.%03d\", 14, 6, 32, 583)</code></p>\n"},{"comments":[{"owner":{"account_id":17513701,"reputation":29,"user_id":12701130,"display_name":"ipserc"},"score":0,"creation_date":1593958799,"post_id":62702984,"comment_id":110952379,"body_markdown":"Go to https://github.com/ipserc/duration to get a packaged version of this function","body":"Go to <a href=\"https://github.com/ipserc/duration\" rel=\"nofollow noreferrer\">github.com/ipserc/duration</a> to get a packaged version of this function"},{"owner":{"account_id":6062499,"reputation":1290,"user_id":4733879,"display_name":"Filnor"},"score":0,"creation_date":1595440452,"post_id":62702984,"comment_id":111478396,"body_markdown":"This was the code I was looking for, the accepted answer is great, but it lacks the days, which I needed","body":"This was the code I was looking for, the accepted answer is great, but it lacks the days, which I needed"}],"tags":[],"owner":{"account_id":17513701,"reputation":29,"user_id":12701130,"display_name":"ipserc"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593715091,"creation_date":1593715091,"answer_id":62702984,"question_id":266825,"body_markdown":"using this func\r\n\r\n\tprivate static String strDuration(long duration) {\r\n\t\tint ms, s, m, h, d;\r\n\t\tdouble dec;\r\n\t\tdouble time = duration * 1.0;\r\n\r\n\t\ttime = (time / 1000.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\tms = (int)(dec * 1000);\r\n\r\n\t\ttime = (time / 60.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\ts = (int)(dec * 60);\r\n\r\n\t\ttime = (time / 60.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\tm = (int)(dec * 60);\r\n\r\n\t\ttime = (time / 24.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\th = (int)(dec * 24);\r\n\t\t\r\n\t\td = (int)time;\r\n\t\t\r\n\t\treturn (String.format(&quot;%d d - %02d:%02d:%02d.%03d&quot;, d, h, m, s, ms));\r\n\t}\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>using this func</p>\n<pre><code>private static String strDuration(long duration) {\n    int ms, s, m, h, d;\n    double dec;\n    double time = duration * 1.0;\n\n    time = (time / 1000.0);\n    dec = time % 1;\n    time = time - dec;\n    ms = (int)(dec * 1000);\n\n    time = (time / 60.0);\n    dec = time % 1;\n    time = time - dec;\n    s = (int)(dec * 60);\n\n    time = (time / 60.0);\n    dec = time % 1;\n    time = time - dec;\n    m = (int)(dec * 60);\n\n    time = (time / 24.0);\n    dec = time % 1;\n    time = time - dec;\n    h = (int)(dec * 24);\n    \n    d = (int)time;\n    \n    return (String.format(&quot;%d d - %02d:%02d:%02d.%03d&quot;, d, h, m, s, ms));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17589878,"reputation":317,"user_id":12761967,"display_name":"Sergei Maleev"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1599071730,"creation_date":1599071730,"answer_id":63711661,"question_id":266825,"body_markdown":"I&#39;m not sure that is you want, but check this Android helper class \r\n\r\n    import android.text.format.DateUtils\r\n\r\n\r\nFor example: `DateUtils.formatElapsedTime()`\r\n\r\n\r\n[tag:Android] [tag:Date] [tag:Duration] [tag:ElapsedTime]","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I'm not sure that is you want, but check this Android helper class</p>\n<pre><code>import android.text.format.DateUtils\n</code></pre>\n<p>For example: <code>DateUtils.formatElapsedTime()</code></p>\n<p><a href=\"/questions/tagged/android\" class=\"post-tag\" title=\"show questions tagged &#39;android&#39;\" rel=\"tag\">android</a> <a href=\"/questions/tagged/date\" class=\"post-tag\" title=\"show questions tagged &#39;date&#39;\" rel=\"tag\">date</a> <a href=\"/questions/tagged/duration\" class=\"post-tag\" title=\"show questions tagged &#39;duration&#39;\" rel=\"tag\">duration</a> <a href=\"/questions/tagged/elapsedtime\" class=\"post-tag\" title=\"show questions tagged &#39;elapsedtime&#39;\" rel=\"tag\">elapsedtime</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609293106,"creation_date":1609293106,"answer_id":65501046,"question_id":266825,"body_markdown":"You can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.Month;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\r\n    \t\tLocalDateTime endDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 18, 24, 30);\r\n    \r\n    \t\tDuration duration = Duration.between(startDateTime, endDateTime);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\r\n    \t\t\t\tduration.toMinutes() % 60, duration.toSeconds() % 60);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\r\n    \t\t\t\tduration.toSecondsPart());\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT3H4M5S\r\n    03:04:05\r\n    03:04:05\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.Month;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\n        LocalDateTime endDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 18, 24, 30);\n\n        Duration duration = Duration.between(startDateTime, endDateTime);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\n                duration.toMinutes() % 60, duration.toSeconds() % 60);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\n                duration.toSecondsPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT3H4M5S\n03:04:05\n03:04:05\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"score":0,"creation_date":1611834879,"post_id":65586659,"comment_id":116580659,"body_markdown":"This works nicely but what kind of magic is this? LOL Why and how this actually works? `ofNanoOfDay`, `toNanos`... and why `LocalTime`. In the context of duration this makes no sense :-\\ and yet it does the trick.","body":"This works nicely but what kind of magic is this? LOL Why and how this actually works? <code>ofNanoOfDay</code>, <code>toNanos</code>... and why <code>LocalTime</code>. In the context of duration this makes no sense :-\\ and yet it does the trick."},{"owner":{"account_id":20376405,"reputation":139,"user_id":14947476,"display_name":"stanley"},"score":1,"creation_date":1612105982,"post_id":65586659,"comment_id":116657010,"body_markdown":"First vote! You made me happy today:) `Duration` needs to transform into `LocalTime` to use its `format` method. As for nanos, they were used to get number of milliseconds, but we can also write something like `LocalTime.ofSecondOfDay(duration.getSeconds()).format(formatter)`","body":"First vote! You made me happy today:) <code>Duration</code> needs to transform into <code>LocalTime</code> to use its <code>format</code> method. As for nanos, they were used to get number of milliseconds, but we can also write something like <code>LocalTime.ofSecondOfDay(duration.getSeconds()).format(format&zwnj;&#8203;ter)</code>"},{"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"score":0,"creation_date":1612109204,"post_id":65586659,"comment_id":116657993,"body_markdown":"Cool! Seconds feel more natural :-] Yeah, it&#39;s either a lot work to gain some rep here or you must be very lucky to get hundreds of votes for a question or an answer. People are pretty reluctant about voting. Sometimes in just requries a more time to someone notice your answer. Have fun and thanks again for this short solution. The other ones are so overengineered :)","body":"Cool! Seconds feel more natural :-] Yeah, it&#39;s either a lot work to gain some rep here or you must be very lucky to get hundreds of votes for a question or an answer. People are pretty reluctant about voting. Sometimes in just requries a more time to someone notice your answer. Have fun and thanks again for this short solution. The other ones are so overengineered :)"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":2,"creation_date":1634804076,"post_id":65586659,"comment_id":123125644,"body_markdown":"this is bad answer, this will fail if duration is longer than 24 hours!","body":"this is bad answer, this will fail if duration is longer than 24 hours!"}],"tags":[],"owner":{"account_id":20376405,"reputation":139,"user_id":14947476,"display_name":"stanley"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1634906509,"creation_date":1609881210,"answer_id":65586659,"question_id":266825,"body_markdown":"There is yet another way to make it for java8. But it works if duration is no longer than 24 hours\r\n\r\n    public String formatDuration(Duration duration) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm.SSS&quot;);\r\n        return LocalTime.ofNanoOfDay(duration.toNanos()).format(formatter);\r\n    }\r\n\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>There is yet another way to make it for java8. But it works if duration is no longer than 24 hours</p>\n<pre><code>public String formatDuration(Duration duration) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm.SSS&quot;);\n    return LocalTime.ofNanoOfDay(duration.toNanos()).format(formatter);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1640263477,"post_id":66066413,"comment_id":124556073,"body_markdown":"Doesn&#39;t answer the question, please stick to it.","body":"Doesn&#39;t answer the question, please stick to it."}],"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612540479,"creation_date":1612540479,"answer_id":66066413,"question_id":266825,"body_markdown":"Looking at all those calculations, it may is helpful that most of the Units (Hours, Minutes, etc.) have a `.toFooPart()` convenience method.\r\n\r\nE.g.\r\n\r\n    Duration.ofMinutes(110L).toMinutesPart() == 50\r\n\r\nRead: the minutes elapsed to the next value of the parent unit (Hour).","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Looking at all those calculations, it may is helpful that most of the Units (Hours, Minutes, etc.) have a <code>.toFooPart()</code> convenience method.</p>\n<p>E.g.</p>\n<pre><code>Duration.ofMinutes(110L).toMinutesPart() == 50\n</code></pre>\n<p>Read: the minutes elapsed to the next value of the parent unit (Hour).</p>\n"},{"tags":[],"owner":{"account_id":87714,"reputation":5897,"user_id":243104,"accept_rate":63,"display_name":"Graham Lea"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1635224322,"creation_date":1635224322,"answer_id":69717677,"question_id":266825,"body_markdown":"Here&#39;s a one-liner for converting a `java.time.Duration` to a nice string in Kotlin:\r\n```\r\nduration.run {\r\n   &quot;%d:%02d:%02d.%03d&quot;.format(toHours(), toMinutesPart(), toSecondsPart(), toMillisPart())\r\n}\r\n```\r\nExample output:\r\n```120:56:03.004```","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Here's a one-liner for converting a <code>java.time.Duration</code> to a nice string in Kotlin:</p>\n<pre><code>duration.run {\n   &quot;%d:%02d:%02d.%03d&quot;.format(toHours(), toMinutesPart(), toSecondsPart(), toMillisPart())\n}\n</code></pre>\n<p>Example output:\n<code>120:56:03.004</code></p>\n"}],"owner":{"display_name":"kofte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235767,"favorite_count":0,"down_vote_count":0,"up_vote_count":230,"accepted_answer_id":266846,"answer_count":22,"score":230,"last_activity_date":1699478890,"creation_date":1225921434,"question_id":266825,"body_markdown":"I&#39;d like to format a duration in seconds using a pattern like H:MM:SS. The current utilities in java are designed to format a time but not a duration.","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I'd like to format a duration in seconds using a pattern like H:MM:SS. The current utilities in java are designed to format a time but not a duration.</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1699474790,"post_id":77448687,"comment_id":136537810,"body_markdown":"`151034` would suggest that the pattern needs to be `HHmmss`","body":"<code>151034</code> would suggest that the pattern needs to be <code>HHmmss</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1699474962,"post_id":77448687,"comment_id":136537837,"body_markdown":"So, using Java 17, `yyyyMMddHHmmss` works for me. *&quot;using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them. I use JDK 17&quot;* - sorry, but that doesn&#39;t make sense to me, the [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) clearly state that they are valid patterns","body":"So, using Java 17, <code>yyyyMMddHHmmss</code> works for me. <i>&quot;using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them. I use JDK 17&quot;</i> - sorry, but that doesn&#39;t make sense to me, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">JavaDocs</a> clearly state that they are valid patterns"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699475188,"post_id":77448687,"comment_id":136537878,"body_markdown":"Have you looked at https://stackoverflow.com/questions/26431882/difference-between-year-of-era-and-week-based-year ?","body":"Have you looked at <a href=\"https://stackoverflow.com/questions/26431882/difference-between-year-of-era-and-week-based-year\" title=\"difference between year of era and week based year\">stackoverflow.com/questions/26431882/&hellip;</a> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699477521,"post_id":77448687,"comment_id":136538258,"body_markdown":"*&quot;I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.&quot;*  You should edit the question to explain *why* you can&#39;t  use them.","body":"<i>&quot;I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.&quot;</i>  You should edit the question to explain <i>why</i> you can&#39;t  use them."}],"answers":[{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1700147458,"post_id":77448871,"comment_id":136621088,"body_markdown":"Good catch on `HH` vs `hh`","body":"Good catch on <code>HH</code> vs <code>hh</code>"}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699476683,"creation_date":1699476683,"answer_id":77448871,"question_id":77448687,"body_markdown":"&gt; I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i\r\n&gt; can&#39;t use them.\r\n\r\nNot only &#39;yyyy&#39; and &#39;dd&#39;, you also need to use &#39;HH&#39; instead of &#39;hh&#39; because &#39;hh&#39; makes sense only with am/pm marker i.e. for a 12-hour time format. For a  time with an am/pm marker, you need to use &#39;hh&#39; along with &#39;a&#39; e.g. &#39;hhmmss a&#39;. Check the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) to learn more about them.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n    LocalDateTime dt = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\r\n    System.out.println(dt);\r\n\r\n**Output from a sample run:**\r\n\r\n    2012-08-23T15:10:34\r\n\r\n[Online Demo](https://ideone.com/iYpIXM)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Unable to convert String to LocalDateTime format &quot;YYYYMMDDhhmmss&quot; (week year) pattern with (day of month)","body":"<blockquote>\n<p>I know using 'yyyy' and 'dd' are suggested on some questions, but i\ncan't use them.</p>\n</blockquote>\n<p>Not only 'yyyy' and 'dd', you also need to use 'HH' instead of 'hh' because 'hh' makes sense only with am/pm marker i.e. for a 12-hour time format. For a  time with an am/pm marker, you need to use 'hh' along with 'a' e.g. 'hhmmss a'. Check the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">documentation</a> to learn more about them.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\nLocalDateTime dt = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\nSystem.out.println(dt);\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2012-08-23T15:10:34\n</code></pre>\n<p><a href=\"https://ideone.com/iYpIXM\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":7233072,"reputation":41,"user_id":5519221,"display_name":"cevelry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1699476683,"creation_date":1699474566,"question_id":77448687,"body_markdown":"I&#39;m getting the &quot;DateTimeParseException&quot; when parsing the given String:\r\n\r\nI know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.\r\nI use JDK 17\r\n\r\n```\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.*;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYYMMDDhhmmss&quot;);\r\nLocalDateTime date = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\r\n```\r\n\r\nResult:\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;20120823151034&#39; could not be parsed at index 0\r\n```","title":"Unable to convert String to LocalDateTime format &quot;YYYYMMDDhhmmss&quot; (week year) pattern with (day of month)","body":"<p>I'm getting the &quot;DateTimeParseException&quot; when parsing the given String:</p>\n<p>I know using 'yyyy' and 'dd' are suggested on some questions, but i can't use them.\nI use JDK 17</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.*;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYYMMDDhhmmss&quot;);\nLocalDateTime date = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\n</code></pre>\n<p>Result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '20120823151034' could not be parsed at index 0\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1693393131,"post_id":77006121,"comment_id":135753991,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)  Can you [edit] the question to include the source files and other information directly in the question as plain text?","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>  Can you <a href=\"https://stackoverflow.com/posts/77006121/edit\">edit</a> the question to include the source files and other information directly in the question as plain text?"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693393565,"post_id":77006121,"comment_id":135754070,"body_markdown":"yes updating ...","body":"yes updating ..."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1693399011,"post_id":77006121,"comment_id":135755274,"body_markdown":"&quot;when I pull the image and try to run the container from that image&quot; ... How? What exact commands (or clicks, if using a GUI) are you doing to initiate that process?","body":"&quot;when I pull the image and try to run the container from that image&quot; ... How? What exact commands (or clicks, if using a GUI) are you doing to initiate that process?"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1693400205,"post_id":77006121,"comment_id":135755561,"body_markdown":"`/.` and `./` are _very_ different things. It would be extremely abnormal to have a docker-compose.yml file in your root directory; are you sure this isn&#39;t just a typo?","body":"<code>&#47;.</code> and <code>.&#47;</code> are <i>very</i> different things. It would be extremely abnormal to have a docker-compose.yml file in your root directory; are you sure this isn&#39;t just a typo?"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1693400309,"post_id":77006121,"comment_id":135755587,"body_markdown":"(you aren&#39;t showing the commands you&#39;re running, so I don&#39;t know if `/.` is something you&#39;re typing or otherwise it came from; note that putting something in a screenshot [doesn&#39;t count as showing it](https://meta.stackoverflow.com/a/285557/14122) for [mre] purposes -- we need reproduction steps as _text in the question_, not images)","body":"(you aren&#39;t showing the commands you&#39;re running, so I don&#39;t know if <code>&#47;.</code> is something you&#39;re typing or otherwise it came from; note that putting something in a screenshot <a href=\"https://meta.stackoverflow.com/a/285557/14122\">doesn&#39;t count as showing it</a> for <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> purposes -- we need reproduction steps as <i>text in the question</i>, not images)"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693404545,"post_id":77006121,"comment_id":135756621,"body_markdown":"docker run --name fullstack-api -p 8080:8080 \\\n--network fullstack_db ahmadmujtaba200210/fullstack \\\n--spring.datasource.url=jdbc:postgresql://db:5432/customer","body":"docker run --name fullstack-api -p 8080:8080 \\ --network fullstack_db ahmadmujtaba200210/fullstack \\ --spring.datasource.url=jdbc:postgresql://db:5432/customer"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693404573,"post_id":77006121,"comment_id":135756630,"body_markdown":"&#128070;&#127995;&#128070;&#127995; command through which i am running my application","body":"👆🏻👆🏻 command through which i am running my application"}],"answers":[{"tags":[],"owner":{"account_id":18346641,"reputation":61,"user_id":13361708,"display_name":"heyValdemar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405712,"creation_date":1693405712,"answer_id":77008968,"question_id":77006121,"body_markdown":"Try running the Docker Compose setup without embedding it inside a Spring Boot app. Typically, you’d use Docker Compose to start your services from the host machine.\r\n\r\nUse `docker-compose up` to bring up your services and check for any errors.\r\n\r\nEnsure your application is waiting for the database to be fully ready before trying to connect. If your application starts before the database is ready, it might crash and restart continuously. There are tools like wait-for-it and dockerize that help with this.\r\n\r\n**Here&#39;s what you can do:**\r\n\r\n**Remove Docker Compose Dependencies:** In your `pom.xml` or `build.gradle`, look for a dependency related to `spring-boot-docker-compose` and remove it.\r\n\r\n**Remove Configuration:** In your Spring Boot `application.yml` or application.properties, look for any configuration property related to Docker Compose, like `spring.docker.compose.file`, and remove it.\r\n\r\n**Check Your Main Application Class**: In `FullstackApplication.java` (or wherever your main Spring Boot application class is), ensure you don&#39;t have any Docker Compose related beans or configurations. Remove any you find.\r\n\r\n**Rebuild &amp; Restart:** Once you&#39;ve made these changes, rebuild your Spring Boot application and restart the Docker Compose setup.\r\n\r\n**Check Logs:** Once you&#39;ve restarted, check the logs of the `fullstack-api` container again to make sure the error is resolved.\r\n\r\nRemember, when you&#39;re using Docker Compose outside of your Spring Boot application, you don&#39;t want any Docker Compose related logic inside your Spring Boot application. The two should operate independently.","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>Try running the Docker Compose setup without embedding it inside a Spring Boot app. Typically, you’d use Docker Compose to start your services from the host machine.</p>\n<p>Use <code>docker-compose up</code> to bring up your services and check for any errors.</p>\n<p>Ensure your application is waiting for the database to be fully ready before trying to connect. If your application starts before the database is ready, it might crash and restart continuously. There are tools like wait-for-it and dockerize that help with this.</p>\n<p><strong>Here's what you can do:</strong></p>\n<p><strong>Remove Docker Compose Dependencies:</strong> In your <code>pom.xml</code> or <code>build.gradle</code>, look for a dependency related to <code>spring-boot-docker-compose</code> and remove it.</p>\n<p><strong>Remove Configuration:</strong> In your Spring Boot <code>application.yml</code> or application.properties, look for any configuration property related to Docker Compose, like <code>spring.docker.compose.file</code>, and remove it.</p>\n<p><strong>Check Your Main Application Class</strong>: In <code>FullstackApplication.java</code> (or wherever your main Spring Boot application class is), ensure you don't have any Docker Compose related beans or configurations. Remove any you find.</p>\n<p><strong>Rebuild &amp; Restart:</strong> Once you've made these changes, rebuild your Spring Boot application and restart the Docker Compose setup.</p>\n<p><strong>Check Logs:</strong> Once you've restarted, check the logs of the <code>fullstack-api</code> container again to make sure the error is resolved.</p>\n<p>Remember, when you're using Docker Compose outside of your Spring Boot application, you don't want any Docker Compose related logic inside your Spring Boot application. The two should operate independently.</p>\n"},{"tags":[],"owner":{"account_id":29858468,"reputation":36,"user_id":22882740,"display_name":"MozzDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699475062,"creation_date":1699475062,"answer_id":77448733,"question_id":77006121,"body_markdown":"In your application.properties set `spring.docker.compose.enabled=false`.\r\nwhen you build and compile your image then push to dockerHub, docker-compose.yml is not includ so you&#39;ll run into errors while compiling your code","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>In your application.properties set <code>spring.docker.compose.enabled=false</code>.\nwhen you build and compile your image then push to dockerHub, docker-compose.yml is not includ so you'll run into errors while compiling your code</p>\n"}],"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77448733,"answer_count":2,"score":0,"last_activity_date":1699475062,"creation_date":1693383434,"question_id":77006121,"body_markdown":"I am using JIB for building my java docker image and pushing it into my repository. \r\n\r\nproblem: \r\n1. when I pull the image and try to run the container from that image, it shows no docker compose file found in the directory.\r\n2. container in the docker desktop is preventing from starting ( status: restarting)\r\n \r\nI am adding images of my docker-compose.yml file and docker log:\r\n\r\n\r\n    java.lang.IllegalStateException: No Docker Compose file found in directory &#39;/.&#39;\r\n\tat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getComposeFile(DockerComposeLifecycleManager.java:140) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:108) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.amigoes.fullstack.FullstackApplication.main(FullstackApplication.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\n\r\n\r\n\r\nthis is docker file:\r\n```\r\n services:\r\n  db:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 123456789\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    ports:\r\n      - &quot;5433:5432&quot;\r\n    networks:\r\n      - db\r\n    restart: unless-stopped\r\n  fullstack-api:\r\n    container_name: fullstack-api\r\n    image: ahmadmujtaba200210/fullstack\r\n    environment:\r\n      SPRING_DATASOURCE_URL: &quot;jdbc:postgresql://db:5432/customer&quot;\r\n    ports:\r\n      - &quot;8088:8080&quot;\r\n    networks:\r\n      - db\r\n    depends_on:\r\n      - db\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  db:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  db:\r\n\r\n```\r\n\r\n\r\nMy application.yml file:\r\n```\r\nserver:\r\n    error:\r\n        include-message: always\r\n    port: 8080\r\nspring:\r\n    datasource:\r\n        url: jdbc:postgresql://localhost:5433/customer\r\n        driver-class-name: org.postgresql.Driver\r\n        password: 123456789\r\n        username: postgres\r\n    jpa:\r\n        hibernate:\r\n            ddl-auto: none\r\n        properties:\r\n            hibernate:\r\n                dialect: org.hibernate.dialect.PostgreSQLDialect\r\n                format_sql: true\r\n                show_sql: true\r\n    main:\r\n        web-application-type: servlet\r\n    docker:\r\n        compose:\r\n            file: ./docker-compose.yaml\r\n\r\n```\r\n\r\n\r\n[docker desktop showing status of containers](https://i.stack.imgur.com/T0vHc.png)\r\n\r\nfound something interesting hope so yo may see some helping in solving my this problem as I am new to docker.\r\n\r\n[vulnerbility][1]\r\n\r\nmy docker file is there but still my code is not running.\r\nI am using Spring boot, docker, postgres and Jib \r\n\r\n I have tried with every file naming format given on google or spring guidlines: \r\n1.  ./docker/compose.yml (moved compose file in separate folder)\r\n2.  ./docker-compose.yaml\r\n3.  ./docker-compose.yml\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/obrhf.png","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>I am using JIB for building my java docker image and pushing it into my repository.</p>\n<p>problem:</p>\n<ol>\n<li>when I pull the image and try to run the container from that image, it shows no docker compose file found in the directory.</li>\n<li>container in the docker desktop is preventing from starting ( status: restarting)</li>\n</ol>\n<p>I am adding images of my docker-compose.yml file and docker log:</p>\n<pre><code>java.lang.IllegalStateException: No Docker Compose file found in directory '/.'\nat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-6.0.11.jar:6.0.11]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getComposeFile(DockerComposeLifecycleManager.java:140) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:108) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\nat com.amigoes.fullstack.FullstackApplication.main(FullstackApplication.java:18) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\n</code></pre>\n<p>this is docker file:</p>\n<pre><code> services:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 123456789\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5433:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n  fullstack-api:\n    container_name: fullstack-api\n    image: ahmadmujtaba200210/fullstack\n    environment:\n      SPRING_DATASOURCE_URL: &quot;jdbc:postgresql://db:5432/customer&quot;\n    ports:\n      - &quot;8088:8080&quot;\n    networks:\n      - db\n    depends_on:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n\n</code></pre>\n<p>My application.yml file:</p>\n<pre><code>server:\n    error:\n        include-message: always\n    port: 8080\nspring:\n    datasource:\n        url: jdbc:postgresql://localhost:5433/customer\n        driver-class-name: org.postgresql.Driver\n        password: 123456789\n        username: postgres\n    jpa:\n        hibernate:\n            ddl-auto: none\n        properties:\n            hibernate:\n                dialect: org.hibernate.dialect.PostgreSQLDialect\n                format_sql: true\n                show_sql: true\n    main:\n        web-application-type: servlet\n    docker:\n        compose:\n            file: ./docker-compose.yaml\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T0vHc.png\" rel=\"nofollow noreferrer\">docker desktop showing status of containers</a></p>\n<p>found something interesting hope so yo may see some helping in solving my this problem as I am new to docker.</p>\n<p><a href=\"https://i.stack.imgur.com/obrhf.png\" rel=\"nofollow noreferrer\">vulnerbility</a></p>\n<p>my docker file is there but still my code is not running.\nI am using Spring boot, docker, postgres and Jib</p>\n<p>I have tried with every file naming format given on google or spring guidlines:</p>\n<ol>\n<li>./docker/compose.yml (moved compose file in separate folder)</li>\n<li>./docker-compose.yaml</li>\n<li>./docker-compose.yml</li>\n</ol>\n"},{"tags":["java","post","httprequest","uri"],"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699474129,"creation_date":1699442730,"question_id":77445128,"body_markdown":"I want to post the request in same formate.\r\n```\r\nPOST /api/bla/bla/test/token HTTP/1.1\r\nHost: example.com\r\nContent-Type: application/x-www-form-urlencoded\r\nAuthorization: Basic aaabbbCCCdddeeefffGGG\r\nclient_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\r\n&amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\r\n&amp;redirect_uri=xyz%2Ffolder\r\n```\r\n\r\n\r\n\r\nI have Implemented but getting bad request(&quot;ERROR: The request could not be satisfied&quot;). \r\nThis is how I implemented my request \r\n\r\n```\r\nHttpRequest requestCrafted = HttpRequest.newBuilder()\r\n                            .POST(HttpRequest.BodyPublishers.ofString(&quot;Vaffanculo&quot;))\r\n                            //.uri(URI.create(url))\r\n                            .uri(URI.create(&quot;http://signin/v2/tokens?credential=passkey&quot;))\r\n                            .headers(listheaders.toArray(String[]::new))\r\n                            .build();\r\n```\r\n\r\nTrying to manually execute the post request by interacting with the site and analyzing it via Burpsuite, I encounter the same error if I modify the post request.\r\n\r\nThis works correctly\r\n```\r\nPOST /api/bla/bla/test/token HTTP/2\r\nHost: example.com\r\n```\r\n[image](https://i.stack.imgur.com/xEW6F.png)\r\n\r\nThis returns the same error found when running my code\r\n```\r\nPOST http://example.com/api/bla/bla/test/token HTTP/2\r\nHost: example.com\r\n```\r\n[image](https://i.stack.imgur.com/xJu26.png)\r\n\r\nI tried removing the host when creating the URI, just passing it /api/bla/bla/test/token, but it doesn&#39;t work. I used also in URI.create both http:/api/bla/bla/test/token and https:///api/bla/bla/test/token but it doesn&#39;t work. How can I fix it? (I have to use HttpRequest)\r\n","title":"How to post request in java to get the response","body":"<p>I want to post the request in same formate.</p>\n<pre><code>POST /api/bla/bla/test/token HTTP/1.1\nHost: example.com\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic aaabbbCCCdddeeefffGGG\nclient_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\n&amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\n&amp;redirect_uri=xyz%2Ffolder\n</code></pre>\n<p>I have Implemented but getting bad request(&quot;ERROR: The request could not be satisfied&quot;).\nThis is how I implemented my request</p>\n<pre><code>HttpRequest requestCrafted = HttpRequest.newBuilder()\n                            .POST(HttpRequest.BodyPublishers.ofString(&quot;Vaffanculo&quot;))\n                            //.uri(URI.create(url))\n                            .uri(URI.create(&quot;http://signin/v2/tokens?credential=passkey&quot;))\n                            .headers(listheaders.toArray(String[]::new))\n                            .build();\n</code></pre>\n<p>Trying to manually execute the post request by interacting with the site and analyzing it via Burpsuite, I encounter the same error if I modify the post request.</p>\n<p>This works correctly</p>\n<pre><code>POST /api/bla/bla/test/token HTTP/2\nHost: example.com\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xEW6F.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>This returns the same error found when running my code</p>\n<pre><code>POST http://example.com/api/bla/bla/test/token HTTP/2\nHost: example.com\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xJu26.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I tried removing the host when creating the URI, just passing it /api/bla/bla/test/token, but it doesn't work. I used also in URI.create both http:/api/bla/bla/test/token and https:///api/bla/bla/test/token but it doesn't work. How can I fix it? (I have to use HttpRequest)</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","message-hub","sslengine"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1517352884,"post_id":48454633,"comment_id":84059237,"body_markdown":"Looks like a bug in Kafka. The SSLEngine is a pretty difficult thing to drive correctly.","body":"Looks like a bug in Kafka. The SSLEngine is a pretty difficult thing to drive correctly."},{"owner":{"account_id":12812688,"reputation":111,"user_id":9270302,"display_name":"John Chu"},"score":1,"creation_date":1517506381,"post_id":48454633,"comment_id":84133368,"body_markdown":"Filed a issue on Kafka: https://issues.apache.org/jira/browse/KAFKA-6510","body":"Filed a issue on Kafka: <a href=\"https://issues.apache.org/jira/browse/KAFKA-6510\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-6510</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699478027,"post_id":48454633,"comment_id":136538352,"body_markdown":"The discussion there and at the other issue you linked doesn’t give much hope. They certainly didn’t understand the issue when the code was written.","body":"The discussion there and at the other issue you linked doesn’t give much hope. They certainly didn’t understand the issue when the code was written."}],"owner":{"account_id":12812688,"reputation":111,"user_id":9270302,"display_name":"John Chu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8154,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":0,"score":11,"last_activity_date":1699473855,"creation_date":1516930516,"question_id":48454633,"body_markdown":"I have a thread which once in a while is going to list the topics on the Message Hub. But once in a while, I am getting a :Failed to send SSL Close message.\r\n\r\nAny ideas?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerConfiguration());\r\n    try {\r\n        Map&lt;String, List&lt;PartitionInfo&gt;&gt; topics = consumer.listTopics();\r\n        return new ArrayList&lt;String&gt;(topics.keySet());\r\n    } finally {\r\n        if (consumer != null) {\r\n            **consumer.close();**\r\n        }\r\n    }\r\n\r\nI am getting the warning from **consumer.close**.\r\n\r\nThe configuration of the consumer:\r\n\r\n- sasl.mechanism = PLAIN \r\n- security.protocol = SASL_SSL \r\n- group.id = consumer1\r\n- ssl.enabled.protocol = TLSv1.2 \r\n- ssl.endpoint.identification.algorithm = HTTPS \r\n- ssl.protocol = TLSv1.2\r\n- sasl.jaas.config = org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;USERNAME&quot; password=&quot;PASSWORD&quot;;\r\n\r\n&gt; [WARN ] 2018-01-25 20:12:23.204 [ClusterChannelMonitorTaskThread]\r\n&gt; org.apache.kafka.common.network.SslTransportLayer  {} - Failed to send\r\n&gt; SSL Close message  java.io.IOException: Unexpected status returned by\r\n&gt; SSLEngine.wrap, expected CLOSED, received OK. Will not send close\r\n&gt; message to peer. \tat\r\n&gt; org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:158)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.utils.Utils.closeAll(Utils.java:663)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:59)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.doClose(Selector.java:582)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:573)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:539)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:250)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.close(NetworkClient.java:505)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.close(ConsumerNetworkClient.java:439)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:71)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1613)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1573)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1549)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; com.ibm.saas.msg.kafka.KafkaMessageService.listChannelNames(KafkaMessageService.java:305)\r\n&gt; [saas-msg-kafka-TRUNK-SNAPSHOT.jar:TRUNK-SNAPSHOT]","title":"Failed to send SSL Close message","body":"<p>I have a thread which once in a while is going to list the topics on the Message Hub. But once in a while, I am getting a :Failed to send SSL Close message.</p>\n\n<p>Any ideas?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerConfiguration());\ntry {\n    Map&lt;String, List&lt;PartitionInfo&gt;&gt; topics = consumer.listTopics();\n    return new ArrayList&lt;String&gt;(topics.keySet());\n} finally {\n    if (consumer != null) {\n        **consumer.close();**\n    }\n}\n</code></pre>\n\n<p>I am getting the warning from <strong>consumer.close</strong>.</p>\n\n<p>The configuration of the consumer:</p>\n\n<ul>\n<li>sasl.mechanism = PLAIN </li>\n<li>security.protocol = SASL_SSL </li>\n<li>group.id = consumer1</li>\n<li>ssl.enabled.protocol = TLSv1.2 </li>\n<li>ssl.endpoint.identification.algorithm = HTTPS </li>\n<li>ssl.protocol = TLSv1.2</li>\n<li>sasl.jaas.config = org.apache.kafka.common.security.plain.PlainLoginModule required username=\"USERNAME\" password=\"PASSWORD\";</li>\n</ul>\n\n<blockquote>\n  <p>[WARN ] 2018-01-25 20:12:23.204 [ClusterChannelMonitorTaskThread]\n  org.apache.kafka.common.network.SslTransportLayer  {} - Failed to send\n  SSL Close message  java.io.IOException: Unexpected status returned by\n  SSLEngine.wrap, expected CLOSED, received OK. Will not send close\n  message to peer.  at\n  org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:158)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.utils.Utils.closeAll(Utils.java:663)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:59)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.doClose(Selector.java:582)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:573)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:539)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:250)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.NetworkClient.close(NetworkClient.java:505)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.close(ConsumerNetworkClient.java:439)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:71)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1613)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1573)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1549)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  com.ibm.saas.msg.kafka.KafkaMessageService.listChannelNames(KafkaMessageService.java:305)\n  [saas-msg-kafka-TRUNK-SNAPSHOT.jar:TRUNK-SNAPSHOT]</p>\n</blockquote>\n"},{"tags":["java","spring-boot","junit","spring-boot-test"],"comments":[{"owner":{"account_id":8503881,"reputation":113,"user_id":6376077,"display_name":"Christian Gabrisch"},"score":0,"creation_date":1695109284,"post_id":59193282,"comment_id":135976506,"body_markdown":"From Spring Boot 2.4 onwards, junit-vintage-engine has been removed from spring-boot-starter-test. Thus no need to explicitly exclude it any longer. https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes","body":"From Spring Boot 2.4 onwards, junit-vintage-engine has been removed from spring-boot-starter-test. Thus no need to explicitly exclude it any longer. <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1575557466,"creation_date":1575557466,"answer_id":59197712,"question_id":59193282,"body_markdown":"`junit-vintage-engine` is used for running JUnit 4 tests; `junit-jupiter-engine` for JUnit 5 tests.\r\n\r\nPresumably since you&#39;ll be writing only JUnit 5 tests for a new Spring Boot project, the vintage engine won&#39;t be needed, hence the default dependency exclusion in the POM.\r\n\r\n**Reference:**\r\n\r\nhttps://junit.org/junit5/docs/current/user-guide","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p><code>junit-vintage-engine</code> is used for running JUnit 4 tests; <code>junit-jupiter-engine</code> for JUnit 5 tests.</p>\n\n<p>Presumably since you'll be writing only JUnit 5 tests for a new Spring Boot project, the vintage engine won't be needed, hence the default dependency exclusion in the POM.</p>\n\n<p><strong>Reference:</strong></p>\n\n<p><a href=\"https://junit.org/junit5/docs/current/user-guide\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide</a></p>\n"},{"tags":[],"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1581598273,"creation_date":1581598273,"answer_id":60208307,"question_id":59193282,"body_markdown":"**Answer : 1.** Based on reading i found some difference like,\r\n\r\n**junit-vintage-engine :** \r\n\r\n- Used in Junit-4 Testing.\r\n- Used to call core classes and annotations.\r\n- &#39;Assert&#39; which provide assertion methods for performing test.\r\n- &#39;Assume&#39; used to place assumptions.\r\n- Use annotation like, @Ignore, @Before, etc...\r\n\r\n\r\n**junit-jupiter-engine :** \r\n\r\n- Used in Junit-5 Testing\r\n- Provide some API which helpful to write test cases.\r\n- &#39;Assertions&#39; provides utility methods of assertion condition for testing.\r\n- &#39;Assumptions&#39; - utility method provide condition based on assumption.\r\n- Change the bit of annotation name like, @Disable, @BeforeAll, @BeforeEach, etc...\r\n\r\n**Answer : 2.** I&#39;m also amazed they are still providing older vintage library probably there is some reason which i don&#39;t know till now but based on current usage we&#39;ll see that in next update. \r\n\r\nHave a nice day!!! :)","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p><strong>Answer : 1.</strong> Based on reading i found some difference like,</p>\n\n<p><strong>junit-vintage-engine :</strong> </p>\n\n<ul>\n<li>Used in Junit-4 Testing.</li>\n<li>Used to call core classes and annotations.</li>\n<li>'Assert' which provide assertion methods for performing test.</li>\n<li>'Assume' used to place assumptions.</li>\n<li>Use annotation like, @Ignore, @Before, etc...</li>\n</ul>\n\n<p><strong>junit-jupiter-engine :</strong> </p>\n\n<ul>\n<li>Used in Junit-5 Testing</li>\n<li>Provide some API which helpful to write test cases.</li>\n<li>'Assertions' provides utility methods of assertion condition for testing.</li>\n<li>'Assumptions' - utility method provide condition based on assumption.</li>\n<li>Change the bit of annotation name like, @Disable, @BeforeAll, @BeforeEach, etc...</li>\n</ul>\n\n<p><strong>Answer : 2.</strong> I'm also amazed they are still providing older vintage library probably there is some reason which i don't know till now but based on current usage we'll see that in next update. </p>\n\n<p>Have a nice day!!! :)</p>\n"},{"tags":[],"owner":{"account_id":17658830,"reputation":84,"user_id":12817738,"display_name":"&#214;mer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583660350,"creation_date":1583660350,"answer_id":60586193,"question_id":59193282,"body_markdown":"First question is also related with the version of JDK. To be able to use jupiter engine, you must have Java 8 or higher. For second question; since the vintage engine is for JUnit4 and JUnit4 is greater than 10 years old, it is not recommended to be used. As far as I know, it has not been updated along this time although java has been evolved so much. I think that is why spring initializers enforce the use of junit-jupiter-engine.","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p>First question is also related with the version of JDK. To be able to use jupiter engine, you must have Java 8 or higher. For second question; since the vintage engine is for JUnit4 and JUnit4 is greater than 10 years old, it is not recommended to be used. As far as I know, it has not been updated along this time although java has been evolved so much. I think that is why spring initializers enforce the use of junit-jupiter-engine.</p>\n"}],"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42404,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":59197712,"answer_count":3,"score":38,"last_activity_date":1699473847,"creation_date":1575542291,"question_id":59193282,"body_markdown":"It&#39;s a two-fold question. \r\n\r\n1. What is the difference between `junit-vintage-engine` and `junit-jupiter-engine`?\r\n2. SpringBoot starter projects come with an exclusion for `junit-vintage-engine`. Is it to enforce the use of junit-jupiter-engine?\r\n\r\nBelow is the dependency of my SpringBoot project generated from [Spring Initializr][1]:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://start.spring.io/","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p>It's a two-fold question.</p>\n<ol>\n<li>What is the difference between <code>junit-vintage-engine</code> and <code>junit-jupiter-engine</code>?</li>\n<li>SpringBoot starter projects come with an exclusion for <code>junit-vintage-engine</code>. Is it to enforce the use of junit-jupiter-engine?</li>\n</ol>\n<p>Below is the dependency of my SpringBoot project generated from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","rest","wildfly","rest-client","microprofile"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697224435,"post_id":77286951,"comment_id":136258050,"body_markdown":"I don&#39;t see the `@Path(&quot;/user&quot;)`, but what version of WildFly are you running in? The 405  means you&#39;re not excepting the `POST` method on your server endpoint.","body":"I don&#39;t see the <code>@Path(&quot;&#47;user&quot;)</code>, but what version of WildFly are you running in? The 405  means you&#39;re not excepting the <code>POST</code> method on your server endpoint."}],"owner":{"account_id":29663271,"reputation":1,"user_id":22734388,"display_name":"Philipp W."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699473788,"creation_date":1697192513,"question_id":77286951,"body_markdown":"I&#39;m very new to RestAPI and I&#39;m stuck with this problem. I&#39;m trying to send a request using the Rest Client to my Wildfly Server, but I get this error:\r\n\r\n```\r\njavax.ws.rs.WebApplicationException: Unknown error, status code 405\r\n\r\n\tat org.jboss.resteasy.microprofile.client.DefaultResponseExceptionMapper.toThrowable(DefaultResponseExceptionMapper.java:21)\r\n\tat org.jboss.resteasy.microprofile.client.ExceptionMapping$HandlerException.mapException(ExceptionMapping.java:41)\r\n\tat org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:153)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy29.easy(Unknown Source)\r\n\tat UserResourceImplIT.add(UserResourceImplIT.java:30)\r\n```\r\n\r\nThis is my test:\r\n\r\n```\r\n\r\nimport java.net.URI;\r\nimport java.util.Date;\r\n\r\nimport javax.ws.rs.core.Response;\r\n\r\n\r\nimport org.eclipse.microprofile.rest.client.RestClientBuilder;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.tech11.startingasbackend.business.boundary.UserResource;\r\nimport com.tech11.startingasbackend.business.entity.CreateUserDTO;\r\n\r\npublic class UserResourceImplIT {\r\n\r\n    private UserResource client;\r\n\r\n     @BeforeEach\r\n     public void init() {\r\n     URI uri = URI.create(&quot;http://localhost:8080/starter&quot;);\r\n     this.client = RestClientBuilder\r\n     .newBuilder()\r\n     .baseUri(uri)\r\n     .build(UserResource.class);\r\n     }\r\n\r\n     @Test\r\n     public void add() {\r\n        Response response = this.client.easy(&quot;HELLO&quot;);\r\n\r\n     }\r\n}\r\n\r\n```\r\nMy Interface:\r\n\r\n```\r\npublic interface UserResource {\r\n\r\n    @POST\r\n    Response easy(String message);\r\n\r\n}\r\n```\r\n\r\nAnd my implementation:\r\n\r\n```\r\npublic class UserResourceImpl implements UserResource {\r\n   \r\n    @Override\r\n    public Response easy(String message) {\r\n       return Response.ok().build();\r\n    }\r\n```\r\nWhen I remove the @Path(&quot;/user&quot;) annotation from my Interface, the bug disappears, but nothing is posted in the database.\r\nDoes anyone know what I&#39;m missing and why this error occurs or how to proceed?","title":"Microprofile Rest Client Error javax.ws.rs.WebApplicationException: Unknown error, status code 405","body":"<p>I'm very new to RestAPI and I'm stuck with this problem. I'm trying to send a request using the Rest Client to my Wildfly Server, but I get this error:</p>\n<pre><code>javax.ws.rs.WebApplicationException: Unknown error, status code 405\n\n    at org.jboss.resteasy.microprofile.client.DefaultResponseExceptionMapper.toThrowable(DefaultResponseExceptionMapper.java:21)\n    at org.jboss.resteasy.microprofile.client.ExceptionMapping$HandlerException.mapException(ExceptionMapping.java:41)\n    at org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:153)\n    at jdk.proxy2/jdk.proxy2.$Proxy29.easy(Unknown Source)\n    at UserResourceImplIT.add(UserResourceImplIT.java:30)\n</code></pre>\n<p>This is my test:</p>\n<pre><code>\nimport java.net.URI;\nimport java.util.Date;\n\nimport javax.ws.rs.core.Response;\n\n\nimport org.eclipse.microprofile.rest.client.RestClientBuilder;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport com.tech11.startingasbackend.business.boundary.UserResource;\nimport com.tech11.startingasbackend.business.entity.CreateUserDTO;\n\npublic class UserResourceImplIT {\n\n    private UserResource client;\n\n     @BeforeEach\n     public void init() {\n     URI uri = URI.create(&quot;http://localhost:8080/starter&quot;);\n     this.client = RestClientBuilder\n     .newBuilder()\n     .baseUri(uri)\n     .build(UserResource.class);\n     }\n\n     @Test\n     public void add() {\n        Response response = this.client.easy(&quot;HELLO&quot;);\n\n     }\n}\n\n</code></pre>\n<p>My Interface:</p>\n<pre><code>public interface UserResource {\n\n    @POST\n    Response easy(String message);\n\n}\n</code></pre>\n<p>And my implementation:</p>\n<pre><code>public class UserResourceImpl implements UserResource {\n   \n    @Override\n    public Response easy(String message) {\n       return Response.ok().build();\n    }\n</code></pre>\n<p>When I remove the @Path(&quot;/user&quot;) annotation from my Interface, the bug disappears, but nothing is posted in the database.\nDoes anyone know what I'm missing and why this error occurs or how to proceed?</p>\n"},{"tags":["java","android","pdfbox"],"answers":[{"comments":[{"owner":{"account_id":5129838,"reputation":955,"user_id":4154016,"accept_rate":67,"display_name":"Usman lqbal"},"score":0,"creation_date":1699546208,"post_id":77448521,"comment_id":136548417,"body_markdown":"Actually I&#39;m trying to read individual text from each page of `&#39;.pdf&#39;` file. and I don&#39;t thing so that `PDFDocument` and `PdfRenderer` has this support.","body":"Actually I&#39;m trying to read individual text from each page of <code>&#39;.pdf&#39;</code> file. and I don&#39;t thing so that <code>PDFDocument</code> and <code>PdfRenderer</code> has this support."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1699546689,"post_id":77448521,"comment_id":136548507,"body_markdown":"Yes true, the native pdf libraries don&#39;t offer the ability to extract data from a PDF","body":"Yes true, the native pdf libraries don&#39;t offer the ability to extract data from a PDF"},{"owner":{"account_id":5129838,"reputation":955,"user_id":4154016,"accept_rate":67,"display_name":"Usman lqbal"},"score":0,"creation_date":1699547216,"post_id":77448521,"comment_id":136548638,"body_markdown":"Now im tring this library may be this will work `&#39;itextg&#39;`.","body":"Now im tring this library may be this will work <code>&#39;itextg&#39;</code>."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1699547617,"post_id":77448521,"comment_id":136548720,"body_markdown":"Just beware of the licensing problems with `itext`, you might need to buy a commercial license.","body":"Just beware of the licensing problems with <code>itext</code>, you might need to buy a commercial license."}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699472732,"creation_date":1699472732,"answer_id":77448521,"question_id":77448126,"body_markdown":"You cannot use the normal PDFBox on Android as it has dependencies on the Standard Java graphics library `awt` that the Java on Android does not use.\r\n\r\nThere is a port for Android, so use the following dependency\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.tom-roush:pdfbox-android:2.0.27.0&#39;\r\n}\r\n```\r\n\r\nThough I found the built in pdf libraries [PDFDocument][1] and [PdfRenderer][2] were good enough not to need external libraries like `pdfbox` or `itext` with their licensing/compatibility problems. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/pdf/PdfDocument\r\n  [2]: https://developer.android.com/reference/android/graphics/pdf/PdfRenderer","title":"pdfbox 3.0.0 library using in android studio for reading .pdf","body":"<p>You cannot use the normal PDFBox on Android as it has dependencies on the Standard Java graphics library <code>awt</code> that the Java on Android does not use.</p>\n<p>There is a port for Android, so use the following dependency</p>\n<pre><code>dependencies {\n    implementation 'com.tom-roush:pdfbox-android:2.0.27.0'\n}\n</code></pre>\n<p>Though I found the built in pdf libraries <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfDocument\" rel=\"nofollow noreferrer\">PDFDocument</a> and <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfRenderer\" rel=\"nofollow noreferrer\">PdfRenderer</a> were good enough not to need external libraries like <code>pdfbox</code> or <code>itext</code> with their licensing/compatibility problems.</p>\n"}],"owner":{"account_id":5129838,"reputation":955,"user_id":4154016,"accept_rate":67,"display_name":"Usman lqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699472732,"creation_date":1699468554,"question_id":77448126,"body_markdown":"I&#39;m trying to read .pdf file for that I&#39;m using following code in activity button click but `&#39;Loader.loadPDF(file);&#39;` not work every time it shows me the error. \r\n\r\n\r\n    public void ReadMyPdfFile(View v){\r\n    \r\n        Thread thread = new Thread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;mPDF.pdf&quot;);\r\n\r\n                List&lt;String&gt; pageTexts = new ArrayList&lt;&gt;();\r\n                PDDocument pdDocument = null;\r\n                try {\r\n                    pdDocument = Loader.loadPDF(file);//&lt;-- error on this line\r\n                    int k = 0;\r\n                } catch (IOException e) {\r\n                    Log.i(TAG, &quot;ReadMyPdfFile: Exception++ &quot; + e.getMessage());\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\nlogcat\r\n\r\n `java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point;\r\n                                                                                                    \tat org.apache.pdfbox.pdmodel.PDDocument.&lt;clinit&gt;(PDDocument.java:104)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.createDocument(PDFParser.java:209)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:156)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:466)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:348)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:303)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:246)`\r\n\r\n In &#39;build.gradle&#39; following dependencies are added\r\n\r\n    implementation &#39;org.apache.pdfbox:pdfbox:3.0.0&#39;    \r\n    implementation &#39;org.apache.pdfbox:fontbox:3.0.0&#39;\r\n\r\n\r\nCan any body help me to resolve this issue?","title":"pdfbox 3.0.0 library using in android studio for reading .pdf","body":"<p>I'm trying to read .pdf file for that I'm using following code in activity button click but <code>'Loader.loadPDF(file);'</code> not work every time it shows me the error.</p>\n<pre><code>public void ReadMyPdfFile(View v){\n\n    Thread thread = new Thread(new Runnable(){\n        @Override\n        public void run() {\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;mPDF.pdf&quot;);\n\n            List&lt;String&gt; pageTexts = new ArrayList&lt;&gt;();\n            PDDocument pdDocument = null;\n            try {\n                pdDocument = Loader.loadPDF(file);//&lt;-- error on this line\n                int k = 0;\n            } catch (IOException e) {\n                Log.i(TAG, &quot;ReadMyPdfFile: Exception++ &quot; + e.getMessage());\n                throw new RuntimeException(e);\n            }\n        }\n</code></pre>\n<p>logcat</p>\n<p><code>java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point; at org.apache.pdfbox.pdmodel.PDDocument.&lt;clinit&gt;(PDDocument.java:104) at org.apache.pdfbox.pdfparser.PDFParser.createDocument(PDFParser.java:209) at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187) at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:156) at org.apache.pdfbox.Loader.loadPDF(Loader.java:466) at org.apache.pdfbox.Loader.loadPDF(Loader.java:348) at org.apache.pdfbox.Loader.loadPDF(Loader.java:303) at org.apache.pdfbox.Loader.loadPDF(Loader.java:246)</code></p>\n<p>In 'build.gradle' following dependencies are added</p>\n<pre><code>implementation 'org.apache.pdfbox:pdfbox:3.0.0'    \nimplementation 'org.apache.pdfbox:fontbox:3.0.0'\n</code></pre>\n<p>Can any body help me to resolve this issue?</p>\n"},{"tags":["java","spring","spring-boot","authorization"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699471879,"creation_date":1699467747,"answer_id":77448041,"question_id":77447043,"body_markdown":"Instead of using `@PreAuthorize`, you can do it manually using the following class:\r\n\r\n```java\r\npublic class SecurityHelper {\r\n  public static boolean hasAuthority(String authority) {\r\n    Collection&lt;? extends GrantedAuthority&gt; authorities = SecurityContextHolder.getContext().getAuthentication().getAuthorities();\r\n    return authorities.contains(new SimpleGrantedAuthority(authority));\r\n  }\r\n}\r\n```\r\n\r\nThen, you can define an additional class with methods for checking each scope, for example:\r\n```java\r\npublic class AuthorityChecker {\r\n  public static boolean hasDisplayAuthorization(){\r\n    return SecurityHelper.hasAuthority(&quot;SomeScopeName&quot;);\r\n  }\r\n  //...\r\n}\r\n```\r\nKeep in mind, that it will work as long as `SecurityContext` is available in the current thread, otherwise, it will throw an exception.\r\n\r\n","title":"Can I calculate user authorization with Spring&#39;s hasAuthority without throwing/catching an exception?","body":"<p>Instead of using <code>@PreAuthorize</code>, you can do it manually using the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityHelper {\n  public static boolean hasAuthority(String authority) {\n    Collection&lt;? extends GrantedAuthority&gt; authorities = SecurityContextHolder.getContext().getAuthentication().getAuthorities();\n    return authorities.contains(new SimpleGrantedAuthority(authority));\n  }\n}\n</code></pre>\n<p>Then, you can define an additional class with methods for checking each scope, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthorityChecker {\n  public static boolean hasDisplayAuthorization(){\n    return SecurityHelper.hasAuthority(&quot;SomeScopeName&quot;);\n  }\n  //...\n}\n</code></pre>\n<p>Keep in mind, that it will work as long as <code>SecurityContext</code> is available in the current thread, otherwise, it will throw an exception.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699471879,"creation_date":1699458357,"question_id":77447043,"body_markdown":"My Java application uses Spring&#39;s `@PreAuthorize(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)` on methods to assert that the user is authorized to perform the actions in the methods. This annotation throws an `AccessDeniedException` if the user is unauthorized:\r\n```java\r\n@Override\r\n@PreAuthorize(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)\r\npublic void assertHasDisplayAuthorization() {\r\n    // empty on purpose\r\n}\r\n```\r\nOne of the application&#39;s endpoints wants to inform the user interface about which actions the user is able to perform. For that, it calculates an `Authorizations` object that renders as JSON like `{ canDisplay: true, canEdit: false, ... }`:\r\n```java\r\npublic Authorizations getAuthorizations() {\r\n    return new Authorizations(hasDisplayAuthorization(), hasEditAuthorization(), ...);\r\n}\r\n```\r\nThat calculation calls the `@PreAuthorize`&#39;d methods to determine the user&#39;s authorization:\r\n```java\r\nprivate boolean hasDisplayAuthorization() {\r\n    try {\r\n        validator.assertHasDisplayAuthorization();\r\n        return true;\r\n    } catch (AccessDeniedException e) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nThis works, but I don&#39;t like the fact that I need to throw and catch an exception just to calculate a simple true/false.\r\n\r\nIs there a possibility to calculate the `Authorizations` object without having to throw exceptions?\r\n\r\nFor example, would it be possible and reliable to calculate the authorization in an `@Value` annotation and just assign it to an object attribute?\r\n```java\r\n@Value(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)\r\nboolean canDisplay;\r\n\r\n... return new Authorizations(canDisplay, ...);\r\n```","title":"Can I calculate user authorization with Spring&#39;s hasAuthority without throwing/catching an exception?","body":"<p>My Java application uses Spring's <code>@PreAuthorize(&quot;hasAuthority('SomeScopeName')&quot;)</code> on methods to assert that the user is authorized to perform the actions in the methods. This annotation throws an <code>AccessDeniedException</code> if the user is unauthorized:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n@PreAuthorize(&quot;hasAuthority('SomeScopeName')&quot;)\npublic void assertHasDisplayAuthorization() {\n    // empty on purpose\n}\n</code></pre>\n<p>One of the application's endpoints wants to inform the user interface about which actions the user is able to perform. For that, it calculates an <code>Authorizations</code> object that renders as JSON like <code>{ canDisplay: true, canEdit: false, ... }</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Authorizations getAuthorizations() {\n    return new Authorizations(hasDisplayAuthorization(), hasEditAuthorization(), ...);\n}\n</code></pre>\n<p>That calculation calls the <code>@PreAuthorize</code>'d methods to determine the user's authorization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean hasDisplayAuthorization() {\n    try {\n        validator.assertHasDisplayAuthorization();\n        return true;\n    } catch (AccessDeniedException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>This works, but I don't like the fact that I need to throw and catch an exception just to calculate a simple true/false.</p>\n<p>Is there a possibility to calculate the <code>Authorizations</code> object without having to throw exceptions?</p>\n<p>For example, would it be possible and reliable to calculate the authorization in an <code>@Value</code> annotation and just assign it to an object attribute?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;hasAuthority('SomeScopeName')&quot;)\nboolean canDisplay;\n\n... return new Authorizations(canDisplay, ...);\n</code></pre>\n"},{"tags":["java","intellij-idea","console","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1699472343,"post_id":77448417,"comment_id":136537382,"body_markdown":"Please see https://plugins.jetbrains.com/docs/intellij/getting-help.html for the best resources to get help with the plug-in development for IntelliJ IDEA platform.","body":"Please see <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a> for the best resources to get help with the plug-in development for IntelliJ IDEA platform."}],"owner":{"account_id":21696747,"reputation":21,"user_id":16010521,"display_name":"Thebest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699471776,"creation_date":1699471776,"question_id":77448417,"body_markdown":"I&#39;m developing an IntelliJ plugin for PhpStorm, and I&#39;m encountering an error during the execution of my plugin. It occurs every time I run my plugin. Could someone help to resolve it?\r\n\r\nThe error message I&#39;m getting is:\r\n\r\n```\r\nconfiguration must be postponed until the project is fully loaded.\r\n\tat com.intellij.op2023-11-06 20:51:14,855 [   5485] SEVERE - #c.i.w.c.f.i.WorkspaceFileIndexImpl - WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project configuration must be postponed until the project is fully loaded.\r\njava.lang.Throwable: WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project enapi.diagnostic.Logger.error(Logger.java:370)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getMainIndexData(WorkspaceFileIndexImpl.kt:281)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getOrCreateIndexData(WorkspaceFileIndexImpl.kt:273)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getFileInfo(WorkspaceFileIndexImpl.kt:240)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.findFileSet(WorkspaceFileIndexImpl.kt:200)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.isInContent(WorkspaceFileIndexImpl.kt:73)\r\n\tat com.intellij.openapi.roots.impl.ProjectFileIndexImpl.isInContent(ProjectFileIndexImpl.java:206)\r\n\tat java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.AbstractList$RandomAccessSpliterator.tryAdvance(AbstractList.java:706)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632)\r\n\tat one.util.streamex.AbstractStreamEx.anyMatch(AbstractStreamEx.java:543)\r\n\tat com.jetbrains.php.robo.run.RoboTasksToolWindowUpdateService$RoboBulkFileListener.after(RoboTasksToolWindowUpdateService.java:74)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.invokeMethod(MessageBusImpl.kt:699)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:663)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.executeOrAddToQueue(MessageBusImpl.kt:491)\r\n\tat com.intellij.util.messages.impl.ToDirectChildrenMessagePublisher.publish$intellij_platform_core(CompositeMessageBus.kt:310)\r\n\tat com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:448)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy51.after(Unknown Source)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.lambda$fireAfterEvents$19(PersistentFSImpl.java:1326)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.runSuppressing(PersistentFSImpl.java:955)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.fireAfterEvents(PersistentFSImpl.java:1323)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.applyMultipleEvents(PersistentFSImpl.java:1300)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.processEventsImpl(PersistentFSImpl.java:1263)\r\n\tat com.intellij.openapi.vfs.newvfs.AsyncEventSupport.processEventsFromRefresh(AsyncEventSupport.java:152)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEventsInWriteAction(RefreshSessionImpl.java:233)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$1(RefreshSessionImpl.java:214)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$7(ApplicationImpl.java:972)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:61)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:150)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$8(ApplicationImpl.java:972)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:970)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:953)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$2(RefreshSessionImpl.java:209)\r\n\tat com.intellij.openapi.application.WriteAction.lambda$run$1(WriteAction.java:87)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1006)\r\n\tat com.intellij.openapi.application.WriteAction.run(WriteAction.java:86)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEvents(RefreshSessionImpl.java:208)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshQueueImpl.lambda$queueSession$2(RefreshQueueImpl.java:104)\r\n\tat com.intellij.openapi.application.impl.NonBlockingReadActionImpl$Submission.lambda$safeTransferToEdt$7(NonBlockingReadActionImpl.java:711)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\r\n\tat java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\r\n\tat java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\r\n\tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\r\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\r\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\r\n\tat com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\r\n\tat com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\r\n\tat com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\r\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n```\r\n\r\ngradle.build.kts\r\n```\r\nplugins {\r\n  id(&quot;java&quot;)\r\n  id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.9.0&quot;\r\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.15.0&quot;\r\n}\r\n\r\ngroup = &quot;MagicPoint&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\n// Configure Gradle IntelliJ Plugin\r\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\nintellij {\r\n  version.set(&quot;2023.2.2&quot;)\r\n  type.set(&quot;PS&quot;) // Target IDE Platform\r\n\r\n  plugins.set(listOf(&quot;com.jetbrains.php:232.9921.55&quot;))\r\n}\r\n\r\ntasks {\r\n  // Set the JVM compatibility versions\r\n  withType&lt;JavaCompile&gt; {\r\n    sourceCompatibility = &quot;17&quot;\r\n    targetCompatibility = &quot;17&quot;\r\n  }\r\n  withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\r\n    kotlinOptions.jvmTarget = &quot;17&quot;\r\n  }\r\n\r\n  patchPluginXml {\r\n    sinceBuild.set(&quot;222&quot;)\r\n    untilBuild.set(&quot;232.*&quot;)\r\n  }\r\n\r\n  signPlugin {\r\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\r\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\r\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\r\n  }\r\n\r\n  publishPlugin {\r\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\r\n  }\r\n}\r\n\r\ndependencies {\r\n  implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)\r\n}\r\n```\r\n\r\nplugin.xml\r\n\r\n```\r\n&lt;idea-plugin&gt;\r\n  &lt;id&gt;Magic point&lt;/id&gt;\r\n\r\n  &lt;name&gt;Magic point&lt;/name&gt;\r\n\r\n  &lt;vendor email=&quot;&quot; url=&quot;&quot;&gt;Magic point&lt;/vendor&gt;\r\n\r\n  &lt;depends&gt;com.jetbrains.php&lt;/depends&gt;\r\n  &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;\r\n\r\n  &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\r\n    &lt;codeInsight.lineMarkerProvider language=&quot;PHP&quot; implementationClass=&quot;MagicLineMarker&quot; /&gt;\r\n  &lt;/extensions&gt;\r\n\r\n  &lt;actions&gt;\r\n    &lt;group id=&quot;startPoint&quot; text=&quot;Test&quot; popup=&quot;true&quot;&gt;\r\n      &lt;add-to-group group-id=&quot;MainMenu&quot; anchor=&quot;last&quot;/&gt;\r\n      &lt;action class=&quot;controllers.ViewController&quot; text=&quot;Create View&quot;&gt;\r\n      &lt;/action&gt;\r\n    &lt;/group&gt;\r\n  &lt;/actions&gt;\r\n&lt;/idea-plugin&gt;\r\n```\r\n\r\n\r\n\r\nI have read the intellij open api sdk.\r\nI setup a new project but it did not solve the problem","title":"IntelliJ Plugin for PhpStorm: &quot;WorkspaceFileIndex is not initialized yet&quot; error during plugin execution","body":"<p>I'm developing an IntelliJ plugin for PhpStorm, and I'm encountering an error during the execution of my plugin. It occurs every time I run my plugin. Could someone help to resolve it?</p>\n<p>The error message I'm getting is:</p>\n<pre><code>configuration must be postponed until the project is fully loaded.\n    at com.intellij.op2023-11-06 20:51:14,855 [   5485] SEVERE - #c.i.w.c.f.i.WorkspaceFileIndexImpl - WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project configuration must be postponed until the project is fully loaded.\njava.lang.Throwable: WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project enapi.diagnostic.Logger.error(Logger.java:370)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getMainIndexData(WorkspaceFileIndexImpl.kt:281)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getOrCreateIndexData(WorkspaceFileIndexImpl.kt:273)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getFileInfo(WorkspaceFileIndexImpl.kt:240)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.findFileSet(WorkspaceFileIndexImpl.kt:200)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.isInContent(WorkspaceFileIndexImpl.kt:73)\n    at com.intellij.openapi.roots.impl.ProjectFileIndexImpl.isInContent(ProjectFileIndexImpl.java:206)\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.AbstractList$RandomAccessSpliterator.tryAdvance(AbstractList.java:706)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632)\n    at one.util.streamex.AbstractStreamEx.anyMatch(AbstractStreamEx.java:543)\n    at com.jetbrains.php.robo.run.RoboTasksToolWindowUpdateService$RoboBulkFileListener.after(RoboTasksToolWindowUpdateService.java:74)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeMethod(MessageBusImpl.kt:699)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:663)\n    at com.intellij.util.messages.impl.MessageBusImplKt.executeOrAddToQueue(MessageBusImpl.kt:491)\n    at com.intellij.util.messages.impl.ToDirectChildrenMessagePublisher.publish$intellij_platform_core(CompositeMessageBus.kt:310)\n    at com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:448)\n    at jdk.proxy2/jdk.proxy2.$Proxy51.after(Unknown Source)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.lambda$fireAfterEvents$19(PersistentFSImpl.java:1326)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.runSuppressing(PersistentFSImpl.java:955)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.fireAfterEvents(PersistentFSImpl.java:1323)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.applyMultipleEvents(PersistentFSImpl.java:1300)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.processEventsImpl(PersistentFSImpl.java:1263)\n    at com.intellij.openapi.vfs.newvfs.AsyncEventSupport.processEventsFromRefresh(AsyncEventSupport.java:152)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEventsInWriteAction(RefreshSessionImpl.java:233)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$1(RefreshSessionImpl.java:214)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$7(ApplicationImpl.java:972)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:61)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:150)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$8(ApplicationImpl.java:972)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:970)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:953)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$2(RefreshSessionImpl.java:209)\n    at com.intellij.openapi.application.WriteAction.lambda$run$1(WriteAction.java:87)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1006)\n    at com.intellij.openapi.application.WriteAction.run(WriteAction.java:86)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEvents(RefreshSessionImpl.java:208)\n    at com.intellij.openapi.vfs.newvfs.RefreshQueueImpl.lambda$queueSession$2(RefreshQueueImpl.java:104)\n    at com.intellij.openapi.application.impl.NonBlockingReadActionImpl$Submission.lambda$safeTransferToEdt$7(NonBlockingReadActionImpl.java:711)\n    at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\n    at com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\n    at com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\n    at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\n    at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\n    at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n<p>gradle.build.kts</p>\n<pre><code>plugins {\n  id(&quot;java&quot;)\n  id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.9.0&quot;\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.15.0&quot;\n}\n\ngroup = &quot;MagicPoint&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n}\n\n// Configure Gradle IntelliJ Plugin\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\nintellij {\n  version.set(&quot;2023.2.2&quot;)\n  type.set(&quot;PS&quot;) // Target IDE Platform\n\n  plugins.set(listOf(&quot;com.jetbrains.php:232.9921.55&quot;))\n}\n\ntasks {\n  // Set the JVM compatibility versions\n  withType&lt;JavaCompile&gt; {\n    sourceCompatibility = &quot;17&quot;\n    targetCompatibility = &quot;17&quot;\n  }\n  withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;17&quot;\n  }\n\n  patchPluginXml {\n    sinceBuild.set(&quot;222&quot;)\n    untilBuild.set(&quot;232.*&quot;)\n  }\n\n  signPlugin {\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\n  }\n\n  publishPlugin {\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\n  }\n}\n\ndependencies {\n  implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)\n}\n</code></pre>\n<p>plugin.xml</p>\n<pre><code>&lt;idea-plugin&gt;\n  &lt;id&gt;Magic point&lt;/id&gt;\n\n  &lt;name&gt;Magic point&lt;/name&gt;\n\n  &lt;vendor email=&quot;&quot; url=&quot;&quot;&gt;Magic point&lt;/vendor&gt;\n\n  &lt;depends&gt;com.jetbrains.php&lt;/depends&gt;\n  &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;\n\n  &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\n    &lt;codeInsight.lineMarkerProvider language=&quot;PHP&quot; implementationClass=&quot;MagicLineMarker&quot; /&gt;\n  &lt;/extensions&gt;\n\n  &lt;actions&gt;\n    &lt;group id=&quot;startPoint&quot; text=&quot;Test&quot; popup=&quot;true&quot;&gt;\n      &lt;add-to-group group-id=&quot;MainMenu&quot; anchor=&quot;last&quot;/&gt;\n      &lt;action class=&quot;controllers.ViewController&quot; text=&quot;Create View&quot;&gt;\n      &lt;/action&gt;\n    &lt;/group&gt;\n  &lt;/actions&gt;\n&lt;/idea-plugin&gt;\n</code></pre>\n<p>I have read the intellij open api sdk.\nI setup a new project but it did not solve the problem</p>\n"},{"tags":["java","spring","file","download","controller"],"comments":[{"owner":{"account_id":2278469,"reputation":2375,"user_id":2004186,"accept_rate":62,"display_name":"Krzysztof Skrzynecki"},"score":4,"creation_date":1565335934,"post_id":5673260,"comment_id":101329079,"body_markdown":"It worth mentioning that Spring Framework changed a lot since 2011, so you can do it in a reactive way as well - [here](https://stackoverflow.com/a/46766566/2004186) is an example","body":"It worth mentioning that Spring Framework changed a lot since 2011, so you can do it in a reactive way as well - <a href=\"https://stackoverflow.com/a/46766566/2004186\">here</a> is an example"},{"owner":{"account_id":13495113,"reputation":61,"user_id":9736184,"display_name":"Muhammad Asher Toqeer"},"score":1,"creation_date":1617024977,"post_id":5673260,"comment_id":118177795,"body_markdown":"With later versions of spring, you just need to return the byte array with appropriate headers in ResponseEntity. Here is a full example: https://allaboutspringframework.com/java-spring-download-file-from-controller/","body":"With later versions of spring, you just need to return the byte array with appropriate headers in ResponseEntity. Here is a full example: <a href=\"https://allaboutspringframework.com/java-spring-download-file-from-controller/\" rel=\"nofollow noreferrer\">allaboutspringframework.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":1,"creation_date":1402592440,"post_id":5673326,"comment_id":37342331,"body_markdown":"If I need two view resolvers, how can I also return the name of resolver or choose it in controller??","body":"If I need two view resolvers, how can I also return the name of resolver or choose it in controller??"}],"tags":[],"owner":{"account_id":96964,"reputation":3086,"user_id":263285,"accept_rate":75,"display_name":"kalyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1302851183,"creation_date":1302850569,"answer_id":5673326,"question_id":5673260,"body_markdown":"What I can quickly think of is, generate the pdf and store it in webapp/downloads/&lt; RANDOM-FILENAME&gt;.pdf from the code and send a forward to this file using HttpServletRequest\r\n\r\n    request.getRequestDispatcher(&quot;/downloads/&lt;RANDOM-FILENAME&gt;.pdf&quot;).forward(request, response);\r\n\r\nor if you can configure your view resolver something like, \r\n\r\n      &lt;bean id=&quot;pdfViewResolver&quot;\r\n            class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot;\r\n                  value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n        &lt;property name=&quot;order&quot; value=”2″/&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/downloads/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.pdf&quot; /&gt;\r\n      &lt;/bean&gt;\r\n\r\nthen just return \r\n    \r\n    return &quot;RANDOM-FILENAME&quot;;\r\n\r\n\r\n","title":"Downloading a file from spring controllers","body":"<p>What I can quickly think of is, generate the pdf and store it in webapp/downloads/&lt; RANDOM-FILENAME>.pdf from the code and send a forward to this file using HttpServletRequest</p>\n\n<pre><code>request.getRequestDispatcher(\"/downloads/&lt;RANDOM-FILENAME&gt;.pdf\").forward(request, response);\n</code></pre>\n\n<p>or if you can configure your view resolver something like, </p>\n\n<pre><code>  &lt;bean id=\"pdfViewResolver\"\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n              value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"order\" value=”2″/&gt;\n    &lt;property name=\"prefix\" value=\"/downloads/\" /&gt;\n    &lt;property name=\"suffix\" value=\".pdf\" /&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>then just return </p>\n\n<pre><code>return \"RANDOM-FILENAME\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":4,"creation_date":1302850873,"post_id":5673356,"comment_id":6475845,"body_markdown":"This is pretty much what I was about to say, but you should probably also set the response type header to something appropriate for the file.","body":"This is pretty much what I was about to say, but you should probably also set the response type header to something appropriate for the file."},{"owner":{"account_id":218893,"reputation":11735,"user_id":475456,"accept_rate":69,"display_name":"Infeligo"},"score":2,"creation_date":1302851143,"post_id":5673356,"comment_id":6475894,"body_markdown":"Yep, just edited the post. I had various file types generated, so I left it to the browser to determine the content type of the file by its extension.","body":"Yep, just edited the post. I had various file types generated, so I left it to the browser to determine the content type of the file by its extension."},{"owner":{"account_id":250668,"reputation":12542,"user_id":527533,"accept_rate":97,"display_name":"Jan Vladimir Mostert"},"score":0,"creation_date":1338106250,"post_id":5673356,"comment_id":14006823,"body_markdown":"Forgot the flushBuffer, thanks to your post, I saw why mine wasn&#39;t working :-)","body":"Forgot the flushBuffer, thanks to your post, I saw why mine wasn&#39;t working :-)"},{"owner":{"account_id":33478,"reputation":1691,"user_id":93773,"accept_rate":45,"display_name":"Matt"},"score":0,"creation_date":1341330284,"post_id":5673356,"comment_id":14890847,"body_markdown":"Remember to close InputStream.","body":"Remember to close InputStream."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":42,"creation_date":1347984722,"post_id":5673356,"comment_id":16791107,"body_markdown":"Any particular reason to use Apache&#39;s `IOUtils` instead of Spring&#39;s `FileCopyUtils`?","body":"Any particular reason to use Apache&#39;s <code>IOUtils</code> instead of Spring&#39;s <code>FileCopyUtils</code>?"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1361141078,"post_id":5673356,"comment_id":20945134,"body_markdown":"Normally yes you close your streams. In this case, though, I think not. http://stackoverflow.com/questions/1159168/should-one-call-close-on-httpservletresponse-getoutputstream-getwriter","body":"Normally yes you close your streams. In this case, though, I think not. <a href=\"http://stackoverflow.com/questions/1159168/should-one-call-close-on-httpservletresponse-getoutputstream-getwriter\" title=\"should one call close on httpservletresponse getoutputstream getwriter\">stackoverflow.com/questions/1159168/&hellip;</a>"},{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":0,"creation_date":1379369830,"post_id":5673356,"comment_id":27791982,"body_markdown":"Can I set the file name? I&#39;m actually interested in the file extension like .pdf or .csv","body":"Can I set the file name? I&#39;m actually interested in the file extension like .pdf or .csv"},{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1389197312,"post_id":5673356,"comment_id":31559672,"body_markdown":"@Gevorg look lobster1234 answer, you can set the header of the response and put any filename you want (the client will get).","body":"@Gevorg look lobster1234 answer, you can set the header of the response and put any filename you want (the client will get)."},{"owner":{"account_id":1487838,"reputation":1985,"user_id":1395688,"accept_rate":60,"display_name":"Dmytro Plekhotkin"},"score":4,"creation_date":1436886985,"post_id":5673356,"comment_id":50794506,"body_markdown":"Here is a better solution: http://stackoverflow.com/questions/16652760/return-generated-pdf-using-spring-mvc","body":"Here is a better solution: <a href=\"http://stackoverflow.com/questions/16652760/return-generated-pdf-using-spring-mvc\" title=\"return generated pdf using spring mvc\">stackoverflow.com/questions/16652760/&hellip;</a>"},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1456492625,"post_id":5673356,"comment_id":58985583,"body_markdown":"@Infeligo, i use these code, but my chrome not show a download link for the file. how can i do then?","body":"@Infeligo, i use these code, but my chrome not show a download link for the file. how can i do then?"},{"owner":{"account_id":67232,"reputation":2276,"user_id":196834,"accept_rate":88,"display_name":"Ashley"},"score":0,"creation_date":1487797805,"post_id":5673356,"comment_id":71951587,"body_markdown":"Same here. Blank PDFs.","body":"Same here. Blank PDFs."},{"owner":{"account_id":2758415,"reputation":3933,"user_id":2375843,"accept_rate":80,"display_name":"Tom"},"score":0,"creation_date":1513594024,"post_id":5673356,"comment_id":82698503,"body_markdown":"Be careful with `response.flushBuffer()`! If your Controller is `@Transactional`, it will send a response even if the transaction should be rolled back, which is most likely not what you want.","body":"Be careful with <code>response.flushBuffer()</code>! If your Controller is <code>@Transactional</code>, it will send a response even if the transaction should be rolled back, which is most likely not what you want."},{"owner":{"account_id":2786445,"reputation":1094,"user_id":2397723,"accept_rate":54,"display_name":"Comencau"},"score":2,"creation_date":1520456660,"post_id":5673356,"comment_id":85327918,"body_markdown":"@Powerlord Spring method closes the streams, Apache one does not. There are debates if the Servlet response output stream should be closed in the Controller code or by the Servlet container ...","body":"@Powerlord Spring method closes the streams, Apache one does not. There are debates if the Servlet response output stream should be closed in the Controller code or by the Servlet container ..."}],"tags":[],"owner":{"account_id":218893,"reputation":11735,"user_id":475456,"accept_rate":69,"display_name":"Infeligo"},"comment_count":13,"down_vote_count":7,"up_vote_count":442,"is_accepted":true,"score":435,"last_activity_date":1408822540,"creation_date":1302850791,"answer_id":5673356,"question_id":5673260,"body_markdown":"    @RequestMapping(value = &quot;/files/{file_name}&quot;, method = RequestMethod.GET)\r\n    public void getFile(\r\n        @PathVariable(&quot;file_name&quot;) String fileName, \r\n        HttpServletResponse response) {\r\n        try {\r\n          // get your file as InputStream\r\n          InputStream is = ...;\r\n          // copy it to response&#39;s OutputStream\r\n          org.apache.commons.io.IOUtils.copy(is, response.getOutputStream());\r\n          response.flushBuffer();\r\n        } catch (IOException ex) {\r\n          log.info(&quot;Error writing file to output stream. Filename was &#39;{}&#39;&quot;, fileName, ex);\r\n          throw new RuntimeException(&quot;IOError writing file to output stream&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nGenerally speaking, when you have `response.getOutputStream()`, you can write anything there. You can pass this output stream as a place to put generated PDF to your generator. Also, if you know what file type you are sending, you can set \r\n\r\n    response.setContentType(&quot;application/pdf&quot;);","title":"Downloading a file from spring controllers","body":"<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\npublic void getFile(\n    @PathVariable(\"file_name\") String fileName, \n    HttpServletResponse response) {\n    try {\n      // get your file as InputStream\n      InputStream is = ...;\n      // copy it to response's OutputStream\n      org.apache.commons.io.IOUtils.copy(is, response.getOutputStream());\n      response.flushBuffer();\n    } catch (IOException ex) {\n      log.info(\"Error writing file to output stream. Filename was '{}'\", fileName, ex);\n      throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n\n}\n</code></pre>\n\n<p>Generally speaking, when you have <code>response.getOutputStream()</code>, you can write anything there. You can pass this output stream as a place to put generated PDF to your generator. Also, if you know what file type you are sending, you can set </p>\n\n<pre><code>response.setContentType(\"application/pdf\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":8,"creation_date":1399441499,"post_id":5673375,"comment_id":36056925,"body_markdown":"isn&#39;t the &#39;Spring&#39; way to set the content type like this? `@RequestMapping(value = &quot;/foo/bar&quot;, produces = &quot;application/pdf&quot;)`","body":"isn&#39;t the &#39;Spring&#39; way to set the content type like this? <code>@RequestMapping(value = &quot;&#47;foo&#47;bar&quot;, produces = &quot;application&#47;pdf&quot;)</code>"},{"owner":{"account_id":213485,"reputation":2822,"user_id":466884,"accept_rate":62,"display_name":"Rose"},"score":4,"creation_date":1447381744,"post_id":5673375,"comment_id":55142613,"body_markdown":"@Francis what if your application downloads different file types? Lobster1234&#39;s answer enables you to dynamically set the content disposition.","body":"@Francis what if your application downloads different file types? Lobster1234&#39;s answer enables you to dynamically set the content disposition."},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":2,"creation_date":1447384215,"post_id":5673375,"comment_id":55143268,"body_markdown":"that&#39;s true @Rose, but I believe it would be better practice to define different end-points per format","body":"that&#39;s true @Rose, but I believe it would be better practice to define different end-points per format"},{"owner":{"account_id":213485,"reputation":2822,"user_id":466884,"accept_rate":62,"display_name":"Rose"},"score":3,"creation_date":1447391540,"post_id":5673375,"comment_id":55144992,"body_markdown":"I guess not, because it&#39;s not scalable. We are currently supporting a dozen types of resources. We might support more file types based on what users want to upload in that case we might end up with so many end points essentially doing the same thing. IMHO there has to be only one download end point and it handles multitude of file types. @Francis","body":"I guess not, because it&#39;s not scalable. We are currently supporting a dozen types of resources. We might support more file types based on what users want to upload in that case we might end up with so many end points essentially doing the same thing. IMHO there has to be only one download end point and it handles multitude of file types. @Francis"},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":3,"creation_date":1447713745,"post_id":5673375,"comment_id":55260413,"body_markdown":"it&#39;s absolutely &quot;scalable&quot;, but we can agree to disagree whether it&#39;s the best practice","body":"it&#39;s absolutely &quot;scalable&quot;, but we can agree to disagree whether it&#39;s the best practice"}],"tags":[],"owner":{"account_id":97762,"reputation":7689,"user_id":265022,"display_name":"lobster1234"},"comment_count":5,"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1483732106,"creation_date":1302850918,"answer_id":5673375,"question_id":5673260,"body_markdown":"You should be able to write the file on the response directly. Something like \r\n \r\n\r\n    response.setContentType(&quot;application/pdf&quot;);      \r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;somefile.pdf\\&quot;&quot;); \r\n\r\nand then write the file as a binary stream on `response.getOutputStream()`. Remember to do `response.flush()` at the end and that should do it.\r\n","title":"Downloading a file from spring controllers","body":"<p>You should be able to write the file on the response directly. Something like </p>\n\n<pre><code>response.setContentType(\"application/pdf\");      \nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"somefile.pdf\\\"\"); \n</code></pre>\n\n<p>and then write the file as a binary stream on <code>response.getOutputStream()</code>. Remember to do <code>response.flush()</code> at the end and that should do it.</p>\n"},{"comments":[{"owner":{"account_id":18957,"reputation":977,"user_id":43952,"accept_rate":84,"display_name":"Ajay"},"score":1,"creation_date":1348617501,"post_id":10837053,"comment_id":16971454,"body_markdown":"I think this is the best &amp; most clean way of handling file requests.","body":"I think this is the best &amp; most clean way of handling file requests."},{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":2,"creation_date":1354603397,"post_id":10837053,"comment_id":18808528,"body_markdown":"absolutely the best response see also http://stackoverflow.com/questions/3526523/spring-mvc-pathvariable-getting-truncated for pathvariable being truncated (spring 3.0.7 in my case)","body":"absolutely the best response see also <a href=\"http://stackoverflow.com/questions/3526523/spring-mvc-pathvariable-getting-truncated\" title=\"spring mvc pathvariable getting truncated\">stackoverflow.com/questions/3526523/&hellip;</a> for pathvariable being truncated (spring 3.0.7 in my case)"},{"owner":{"account_id":537021,"reputation":1209,"user_id":905741,"accept_rate":89,"display_name":"Ruairi O&#39;Brien"},"score":0,"creation_date":1370339001,"post_id":10837053,"comment_id":24414281,"body_markdown":"This method looks great but can&#39;t get it to work 100%. I don&#39;t want to open a question for this but on the off chance someone can help. I can&#39;t seem to set any details on what is returned such as the file name. Also on good old IE7 &amp; IE8 the file extension seems to get lost somehow so it doesn&#39;t even know what file type is being downloaded. Does anyone have some useful example explaining the usage of this to a Spring noob. I&#39;m currently just using HttpServletResponse but would like to use the above method if I could get to send back a little more details in the response.","body":"This method looks great but can&#39;t get it to work 100%. I don&#39;t want to open a question for this but on the off chance someone can help. I can&#39;t seem to set any details on what is returned such as the file name. Also on good old IE7 &amp; IE8 the file extension seems to get lost somehow so it doesn&#39;t even know what file type is being downloaded. Does anyone have some useful example explaining the usage of this to a Spring noob. I&#39;m currently just using HttpServletResponse but would like to use the above method if I could get to send back a little more details in the response."},{"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"score":14,"creation_date":1373617616,"post_id":10837053,"comment_id":25633228,"body_markdown":"This works. But the file (.csv file) is displayed in the browser and not downloaded - how can I force the browser to download?","body":"This works. But the file (.csv file) is displayed in the browser and not downloaded - how can I force the browser to download?"},{"owner":{"account_id":1692645,"reputation":326,"user_id":1554721,"display_name":"David Kago"},"score":49,"creation_date":1380130434,"post_id":10837053,"comment_id":28088503,"body_markdown":"You can add produces = MediaType.APPLICATION_OCTET_STREAM_VALUE to the @RequestMapping to force download","body":"You can add produces = MediaType.APPLICATION_OCTET_STREAM_VALUE to the @RequestMapping to force download"},{"owner":{"account_id":948450,"reputation":3058,"user_id":975169,"display_name":"Enginer"},"score":8,"creation_date":1385727353,"post_id":10837053,"comment_id":30263637,"body_markdown":"Also You should add **&lt;bean class=&quot;org.springframework.http.converter.ResourceHttpMessageConverter&quot;/&gt;** to messageConverters list (&lt;mvc:annotation-driven&gt;&lt;mvc:message-converters&gt;)","body":"Also You should add <b>&lt;bean class=&quot;org.springframework.http.converter.ResourceHttpMessag&zwnj;&#8203;eConverter&quot;/&gt;</b> to messageConverters list (&lt;mvc:annotation-driven&gt;&lt;mvc:message-converters&gt;)"},{"owner":{"account_id":90792,"reputation":448,"user_id":249724,"display_name":"Kacper86"},"score":0,"creation_date":1388651749,"post_id":10837053,"comment_id":31331264,"body_markdown":"And can you set content-type with this method?","body":"And can you set content-type with this method?"},{"owner":{"account_id":88559,"reputation":2849,"user_id":244847,"accept_rate":86,"display_name":"JayL"},"score":0,"creation_date":1399503122,"post_id":10837053,"comment_id":36095272,"body_markdown":"ClassPathResource is a nice alternative to FileSystemResource.","body":"ClassPathResource is a nice alternative to FileSystemResource."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":5,"creation_date":1429102453,"post_id":10837053,"comment_id":47441272,"body_markdown":"Is there a way to set the `Content-Disposition` header with this way?","body":"Is there a way to set the <code>Content-Disposition</code> header with this way?"},{"owner":{"account_id":1531824,"reputation":3794,"user_id":1428862,"display_name":"Scott Carlson"},"score":10,"creation_date":1429191742,"post_id":10837053,"comment_id":47490715,"body_markdown":"I didn&#39;t have a need for that, but I think you could add HttpResponse as a parameter to the method, and then &quot;response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=somefile.pdf&quot;);&quot;","body":"I didn&#39;t have a need for that, but I think you could add HttpResponse as a parameter to the method, and then &quot;response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=somefile.pdf&quot;);&quot;"},{"owner":{"account_id":2142017,"reputation":2275,"user_id":1900445,"accept_rate":100,"display_name":"Sajad"},"score":0,"creation_date":1470660743,"post_id":10837053,"comment_id":65024910,"body_markdown":"@ScottCarlson Can i create a custom class and extend from `FileSystemResource` and use that class type as return type of download controller?","body":"@ScottCarlson Can i create a custom class and extend from <code>FileSystemResource</code> and use that class type as return type of download controller?"},{"owner":{"account_id":2200862,"reputation":489,"user_id":1945298,"display_name":"Alex Vazquez Fente"},"score":0,"creation_date":1498578236,"post_id":10837053,"comment_id":76549882,"body_markdown":"I like this way more than @Infeligo&#39;s one but if the file doesn&#39;t exist, this doesn&#39;t throw any exception and the client download hangs forever (until client times out). Is there something wrong in the builtin ResourceHttpMessageConverter?","body":"I like this way more than @Infeligo&#39;s one but if the file doesn&#39;t exist, this doesn&#39;t throw any exception and the client download hangs forever (until client times out). Is there something wrong in the builtin ResourceHttpMessageConverter?"},{"owner":{"account_id":2200862,"reputation":489,"user_id":1945298,"display_name":"Alex Vazquez Fente"},"score":0,"creation_date":1498646912,"post_id":10837053,"comment_id":76580528,"body_markdown":"To answer myself: it seems ResourceHttpMessageConverter silently discards Exceptions for some reasons related to SPR-12999 and SPR-13620. To get what I want (an error if the file does not exist or some other error happens trying to stream the file) I had to write a custom converter extending ResourceHttpMessageConverter (overwriting writeContent) and a custom web config extending WebMvcConfigurerAdapter (overwriting configureMessageConverters).","body":"To answer myself: it seems ResourceHttpMessageConverter silently discards Exceptions for some reasons related to SPR-12999 and SPR-13620. To get what I want (an error if the file does not exist or some other error happens trying to stream the file) I had to write a custom converter extending ResourceHttpMessageConverter (overwriting writeContent) and a custom web config extending WebMvcConfigurerAdapter (overwriting configureMessageConverters)."},{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1581379074,"post_id":10837053,"comment_id":106405607,"body_markdown":"what is myService?","body":"what is myService?"}],"tags":[],"owner":{"account_id":1531824,"reputation":3794,"user_id":1428862,"display_name":"Scott Carlson"},"comment_count":14,"down_vote_count":0,"up_vote_count":307,"is_accepted":false,"score":307,"last_activity_date":1338479628,"creation_date":1338479628,"answer_id":10837053,"question_id":5673260,"body_markdown":"I was able to stream line this by using the built in support in Spring with it&#39;s ResourceHttpMessageConverter.  This will set the content-length and content-type if it can determine the mime-type\r\n\r\n\r\n    @RequestMapping(value = &quot;/files/{file_name}&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public FileSystemResource getFile(@PathVariable(&quot;file_name&quot;) String fileName) {\r\n    \treturn new FileSystemResource(myService.getFileFor(fileName)); \r\n    }\r\n","title":"Downloading a file from spring controllers","body":"<p>I was able to stream line this by using the built in support in Spring with it's ResourceHttpMessageConverter.  This will set the content-length and content-type if it can determine the mime-type</p>\n\n<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\n@ResponseBody\npublic FileSystemResource getFile(@PathVariable(\"file_name\") String fileName) {\n    return new FileSystemResource(myService.getFileFor(fileName)); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"score":15,"creation_date":1394195955,"post_id":13120104,"comment_id":33791866,"body_markdown":"-1 this will un-neccessarily load the whole file in memory can easily casue OutOfMemoryErrors.","body":"-1 this will un-neccessarily load the whole file in memory can easily casue OutOfMemoryErrors."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":2,"creation_date":1394213417,"post_id":13120104,"comment_id":33804060,"body_markdown":"@FaisalFeroz: yes this is right, but the file document is anyway created in memory (see the question: &quot;PDF needs to be generated within the code&quot;). Anyway - what is your solution that overcome this problem?","body":"@FaisalFeroz: yes this is right, but the file document is anyway created in memory (see the question: &quot;PDF needs to be generated within the code&quot;). Anyway - what is your solution that overcome this problem?"},{"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"score":1,"creation_date":1412766975,"post_id":13120104,"comment_id":41186859,"body_markdown":"You may also use ResponseEntity which is a super of HttpEntity which allows you to specify the response http status code. Example: `return new ResponseEntity&lt;byte[]&gt;(documentBody, headers, HttpStatus.CREATED)`","body":"You may also use ResponseEntity which is a super of HttpEntity which allows you to specify the response http status code. Example: <code>return new ResponseEntity&lt;byte[]&gt;(documentBody, headers, HttpStatus.CREATED)</code>"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1412771996,"post_id":13120104,"comment_id":41189685,"body_markdown":"@Amr Mostafa: `ResponseEntity` is a subclass of `HttpEntity` (but I get it) on the other hand 201 CREATED is not what I would use when I return just an view to the data. (see http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html for 201 CREATED)","body":"@Amr Mostafa: <code>ResponseEntity</code> is a subclass of <code>HttpEntity</code> (but I get it) on the other hand 201 CREATED is not what I would use when I return just an view to the data. (see <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"nofollow noreferrer\">w3.org/Protocols/rfc2616/rfc2616-sec10.html</a> for 201 CREATED)"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":1,"creation_date":1540214141,"post_id":13120104,"comment_id":92769722,"body_markdown":"Is there a reason why you are replacing whitespaces with underscore in the filename? You can wrap it in quotes to send the actual name.","body":"Is there a reason why you are replacing whitespaces with underscore in the filename? You can wrap it in quotes to send the actual name."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1540663937,"post_id":13120104,"comment_id":92951633,"body_markdown":"@Alexandru Severin: you are right, I would use quotes nowadays. But when I remember right, there was some problems with Whitespaces (not in the http header) but with the browser or fielsystem (maybe just with some strange file system in our testing environment)","body":"@Alexandru Severin: you are right, I would use quotes nowadays. But when I remember right, there was some problems with Whitespaces (not in the http header) but with the browser or fielsystem (maybe just with some strange file system in our testing environment)"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":6,"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1481130343,"creation_date":1351507577,"answer_id":13120104,"question_id":5673260,"body_markdown":"With Spring 3.0 you can use the `HttpEntity` return object. If you use this, then your controller does not need a `HttpServletResponse` object, and therefore it is easier to test. \r\n*Except this, this answer is relative equals to the one of Infeligo*.\r\n\r\nIf the return value of your pdf framework is an byte array *(read the second part of my answer for other return values)* :\r\n\r\n\r\n    @RequestMapping(value = &quot;/files/{fileName}&quot;, method = RequestMethod.GET)\r\n    public HttpEntity&lt;byte[]&gt; createPdf(\r\n                     @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n        byte[] documentBody = this.pdfFramework.createPdf(filename);\r\n\r\n        HttpHeaders header = new HttpHeaders();\r\n        header.setContentType(MediaType.APPLICATION_PDF);\r\n        header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                       &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n        header.setContentLength(documentBody.length);\r\n\r\n        return new HttpEntity&lt;byte[]&gt;(documentBody, header);\r\n    }\r\n\r\n\r\n----\r\n**If the return type of your PDF Framework (`documentBbody`) is not already a byte array** (and also no `ByteArrayInputStream`) then it would been wise **NOT** to make it a byte array first. Instead it is better to use:\r\n\r\n- [`InputStreamResource`][1],\r\n- [`PathResource`][2] (since Spring 4.0) or\r\n- [`FileSystemResource`][3], \r\n\r\nexample with `FileSystemResource`:\r\n\r\n    @RequestMapping(value = &quot;/files/{fileName}&quot;, method = RequestMethod.GET)\r\n    public HttpEntity&lt;byte[]&gt; createPdf(\r\n                     @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n        File document = this.pdfFramework.createPdf(filename);\r\n\r\n        HttpHeaders header = new HttpHeaders();\r\n        header.setContentType(MediaType.APPLICATION_PDF);\r\n        header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                       &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n        header.setContentLength(document.length());\r\n\r\n        return new HttpEntity&lt;byte[]&gt;(new FileSystemResource(document),\r\n                                      header);\r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\r\n  [2]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/PathResource.html\r\n  [3]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/FileSystemResource.html","title":"Downloading a file from spring controllers","body":"<p>With Spring 3.0 you can use the <code>HttpEntity</code> return object. If you use this, then your controller does not need a <code>HttpServletResponse</code> object, and therefore it is easier to test. \n<em>Except this, this answer is relative equals to the one of Infeligo</em>.</p>\n\n<p>If the return value of your pdf framework is an byte array <em>(read the second part of my answer for other return values)</em> :</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    byte[] documentBody = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(documentBody.length);\n\n    return new HttpEntity&lt;byte[]&gt;(documentBody, header);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>If the return type of your PDF Framework (<code>documentBbody</code>) is not already a byte array</strong> (and also no <code>ByteArrayInputStream</code>) then it would been wise <strong>NOT</strong> to make it a byte array first. Instead it is better to use:</p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"noreferrer\"><code>InputStreamResource</code></a>,</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/PathResource.html\" rel=\"noreferrer\"><code>PathResource</code></a> (since Spring 4.0) or</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"noreferrer\"><code>FileSystemResource</code></a>, </li>\n</ul>\n\n<p>example with <code>FileSystemResource</code>:</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    File document = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(document.length());\n\n    return new HttpEntity&lt;byte[]&gt;(new FileSystemResource(document),\n                                  header);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"score":0,"creation_date":1604916181,"post_id":20260077,"comment_id":114482883,"body_markdown":"you will face an issue in case of filename contains space,;, etc","body":"you will face an issue in case of filename contains space,;, etc"}],"tags":[],"owner":{"account_id":2981494,"reputation":492,"user_id":2531361,"display_name":"Sunil"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1422294488,"creation_date":1385623478,"answer_id":20260077,"question_id":5673260,"body_markdown":"This code is working fine to download a file automatically from spring controller on clicking a link on jsp.     \r\n\r\n\r\n\r\n    @RequestMapping(value=&quot;/downloadLogFile&quot;)\r\n    public void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\r\n        try {\r\n            String filePathToBeServed = //complete file name with path;\r\n            File fileToDownload = new File(filePathToBeServed);\r\n            InputStream inputStream = new FileInputStream(fileToDownload);\r\n            response.setContentType(&quot;application/force-download&quot;);\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+fileName+&quot;.txt&quot;); \r\n            IOUtils.copy(inputStream, response.getOutputStream());\r\n            response.flushBuffer();\r\n            inputStream.close();\r\n        } catch (Exception e){\r\n            LOGGER.debug(&quot;Request could not be completed at this moment. Please try again.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }","title":"Downloading a file from spring controllers","body":"<p>This code is working fine to download a file automatically from spring controller on clicking a link on jsp.     </p>\n\n<pre><code>@RequestMapping(value=\"/downloadLogFile\")\npublic void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\n    try {\n        String filePathToBeServed = //complete file name with path;\n        File fileToDownload = new File(filePathToBeServed);\n        InputStream inputStream = new FileInputStream(fileToDownload);\n        response.setContentType(\"application/force-download\");\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\"+fileName+\".txt\"); \n        IOUtils.copy(inputStream, response.getOutputStream());\n        response.flushBuffer();\n        inputStream.close();\n    } catch (Exception e){\n        LOGGER.debug(\"Request could not be completed at this moment. Please try again.\");\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1415140761,"post_id":26537519,"comment_id":42078030,"body_markdown":"You don&#39;t advise for the use of the FileSystemResource class ?","body":"You don&#39;t advise for the use of the FileSystemResource class ?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1430148909,"post_id":26537519,"comment_id":47922676,"body_markdown":"Actually, I do believe it is OK to use the `FileSystemResource` there. It is even advisable *if your resource is a file*. In this sample, `FileSystemResource` can be used where `InputStreamResource` is.","body":"Actually, I do believe it is OK to use the <code>FileSystemResource</code> there. It is even advisable <i>if your resource is a file</i>. In this sample, <code>FileSystemResource</code> can be used where <code>InputStreamResource</code> is."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1431530470,"post_id":26537519,"comment_id":48542017,"body_markdown":"About the file length calculation part: If you are worried, don&#39;t be. `File#length()` should be good enough in the general case. I just mentioned it because [it does can be slow](http://stackoverflow.com/questions/116574/), specially if the file is in a remote system or something more elaborated like that - a database, maybe?. But only worry if it becomes a problem (or if you have hard evidence it will become one), not before. The main point is: you are making an effort to stream the file, if you have to preload all of it before, then the streaming ends up making no difference, eh?","body":"About the file length calculation part: If you are worried, don&#39;t be. <code>File#length()</code> should be good enough in the general case. I just mentioned it because <a href=\"http://stackoverflow.com/questions/116574/\">it does can be slow</a>, specially if the file is in a remote system or something more elaborated like that - a database, maybe?. But only worry if it becomes a problem (or if you have hard evidence it will become one), not before. The main point is: you are making an effort to stream the file, if you have to preload all of it before, then the streaming ends up making no difference, eh?"},{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":0,"creation_date":1446483684,"post_id":26537519,"comment_id":54750808,"body_markdown":"why does the above code not working for me ? It downloads 0 bytes file. I checked and made sure ByteArray &amp; ResourceMessage converters are there. Am I missing something ?","body":"why does the above code not working for me ? It downloads 0 bytes file. I checked and made sure ByteArray &amp; ResourceMessage converters are there. Am I missing something ?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1446504258,"post_id":26537519,"comment_id":54761542,"body_markdown":"Why are you worrying about ByteArray &amp; ResourceMessage converters?","body":"Why are you worrying about ByteArray &amp; ResourceMessage converters?"},{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":0,"creation_date":1495532289,"post_id":26537519,"comment_id":75280633,"body_markdown":"What would be the stream buffer size of `InputStreamResource`?","body":"What would be the stream buffer size of <code>InputStreamResource</code>?"},{"owner":{"account_id":1799154,"reputation":5077,"user_id":1637867,"accept_rate":58,"display_name":"Hussain"},"score":0,"creation_date":1542351667,"post_id":26537519,"comment_id":93545330,"body_markdown":"Specifying `respHeaders.setContentLength(12345678);` makes the download super slow I guess.","body":"Specifying <code>respHeaders.setContentLength(12345678);</code> makes the download super slow I guess."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1608289061,"post_id":26537519,"comment_id":115543598,"body_markdown":"`setContentLength()` [is optional](https://stackoverflow.com/q/27228343/355438) so it can be omitted","body":"<code>setContentLength()</code> <a href=\"https://stackoverflow.com/q/27228343/355438\">is optional</a> so it can be omitted"},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1629505554,"post_id":26537519,"comment_id":121712235,"body_markdown":"what do you mean by - If your resource is not a file, then use `new InputStreamResource(new FileInputStream(file));` .. what is this file?","body":"what do you mean by - If your resource is not a file, then use <code>new InputStreamResource(new FileInputStream(file));</code> .. what is this file?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1629938255,"post_id":26537519,"comment_id":121822139,"body_markdown":"@RamPrakash actually, by &quot;if it is not a file&quot; I mean if you want to send to the user some resource from other source than a file (e.g. you are streaming directly from a database). In this case, you should construct an `InputStreamResource` object. (The example I had left, which I now removed, had an example of constructing an `InputStreamResource` using a file -- which was just an example but you shouldn&#39;t do anyway, since if you do want a file you should construct a `FileSystemResource` directly instead).","body":"@RamPrakash actually, by &quot;if it is not a file&quot; I mean if you want to send to the user some resource from other source than a file (e.g. you are streaming directly from a database). In this case, you should construct an <code>InputStreamResource</code> object. (The example I had left, which I now removed, had an example of constructing an <code>InputStreamResource</code> using a file -- which was just an example but you shouldn&#39;t do anyway, since if you do want a file you should construct a <code>FileSystemResource</code> directly instead)."}],"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":10,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1629938105,"creation_date":1414098555,"answer_id":26537519,"question_id":5673260,"body_markdown":"If you:\r\n\r\n- Don&#39;t want to load the whole file into a `byte[]` before sending to the response;\r\n- Want/need to send/download it via `InputStream`;\r\n- Want to have full control of the Mime Type and file name sent;\r\n- Have other `@ControllerAdvice` picking up exceptions for you (or not).\r\n\r\nThe code below is what you need:\r\n\r\n    @RequestMapping(value = &quot;/stuff/{stuffId}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;FileSystemResource&gt; downloadStuff(@PathVariable int stuffId)\r\n                                                                          throws IOException {\r\n        String fullPath = stuffService.figureOutFileNameFor(stuffId);\r\n        File file = new File(fullPath);\r\n        long fileLength = file.length(); // this is ok, but see note below\r\n\r\n        HttpHeaders respHeaders = new HttpHeaders();\r\n        respHeaders.setContentType(&quot;application/pdf&quot;);\r\n        respHeaders.setContentLength(fileLength);\r\n        respHeaders.setContentDispositionFormData(&quot;attachment&quot;, &quot;fileNameIwant.pdf&quot;);\r\n\r\n        return new ResponseEntity&lt;FileSystemResource&gt;(\r\n            new FileSystemResource(file), respHeaders, HttpStatus.OK\r\n        );\r\n    }\r\n\r\n\r\n**More on `setContentLength()`:** First of all, the [`content-length` header is optional per the HTTP 1.1 RFC][1]. Still, if you can provide a value, it is better. To obtain such value, know that `File#length()` should be good enough in the general case, so it is a safe default choice.&lt;br&gt;\r\nIn very specific scenarios, though, it [can be slow][2], in which case you should have it stored previously (e.g. in the DB), not calculated on the fly. Slow scenarios include: if the file is _very_ large, specially if it is on a remote system or something more elaborated like that - a database, maybe.\r\n\r\n---\r\n\r\n&lt;br&gt;\r\n\r\n### `InputStreamResource`\r\n\r\nIf your resource is not a file, e.g. you pick the data up from the DB, you should use [`InputStreamResource`][3]. Example:\r\n\r\n    InputStreamResource isr = new InputStreamResource(...);\r\n    return new ResponseEntity&lt;InputStreamResource&gt;(isr, respHeaders, HttpStatus.OK);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27228549/1850609\r\n  [2]: http://stackoverflow.com/questions/116574/\r\n  [3]: http://docs.spring.io/spring/docs/4.1.1.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html","title":"Downloading a file from spring controllers","body":"<p>If you:</p>\n<ul>\n<li>Don't want to load the whole file into a <code>byte[]</code> before sending to the response;</li>\n<li>Want/need to send/download it via <code>InputStream</code>;</li>\n<li>Want to have full control of the Mime Type and file name sent;</li>\n<li>Have other <code>@ControllerAdvice</code> picking up exceptions for you (or not).</li>\n</ul>\n<p>The code below is what you need:</p>\n<pre><code>@RequestMapping(value = &quot;/stuff/{stuffId}&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;FileSystemResource&gt; downloadStuff(@PathVariable int stuffId)\n                                                                      throws IOException {\n    String fullPath = stuffService.figureOutFileNameFor(stuffId);\n    File file = new File(fullPath);\n    long fileLength = file.length(); // this is ok, but see note below\n\n    HttpHeaders respHeaders = new HttpHeaders();\n    respHeaders.setContentType(&quot;application/pdf&quot;);\n    respHeaders.setContentLength(fileLength);\n    respHeaders.setContentDispositionFormData(&quot;attachment&quot;, &quot;fileNameIwant.pdf&quot;);\n\n    return new ResponseEntity&lt;FileSystemResource&gt;(\n        new FileSystemResource(file), respHeaders, HttpStatus.OK\n    );\n}\n</code></pre>\n<p><strong>More on <code>setContentLength()</code>:</strong> First of all, the <a href=\"https://stackoverflow.com/a/27228549/1850609\"><code>content-length</code> header is optional per the HTTP 1.1 RFC</a>. Still, if you can provide a value, it is better. To obtain such value, know that <code>File#length()</code> should be good enough in the general case, so it is a safe default choice.<br>\nIn very specific scenarios, though, it <a href=\"http://stackoverflow.com/questions/116574/\">can be slow</a>, in which case you should have it stored previously (e.g. in the DB), not calculated on the fly. Slow scenarios include: if the file is <em>very</em> large, specially if it is on a remote system or something more elaborated like that - a database, maybe.</p>\n<hr />\n<br>\n<h3><code>InputStreamResource</code></h3>\n<p>If your resource is not a file, e.g. you pick the data up from the DB, you should use <a href=\"http://docs.spring.io/spring/docs/4.1.1.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"noreferrer\"><code>InputStreamResource</code></a>. Example:</p>\n<pre><code>InputStreamResource isr = new InputStreamResource(...);\nreturn new ResponseEntity&lt;InputStreamResource&gt;(isr, respHeaders, HttpStatus.OK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233258,"reputation":560,"user_id":2728007,"display_name":"Siva Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1451382744,"creation_date":1451382744,"answer_id":34508533,"question_id":5673260,"body_markdown":"Below code worked for me to generate and download a text file.\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;byte[]&gt; getDownloadData() throws Exception {\r\n\t\t\t\r\n\t\tString regData = &quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;;\r\n\t\tbyte[] output = regData.getBytes();\r\n\r\n\t\tHttpHeaders responseHeaders = new HttpHeaders();\r\n\t\tresponseHeaders.set(&quot;charset&quot;, &quot;utf-8&quot;);\r\n\t\tresponseHeaders.setContentType(MediaType.valueOf(&quot;text/html&quot;));\r\n\t\tresponseHeaders.setContentLength(output.length);\r\n\t\tresponseHeaders.set(&quot;Content-disposition&quot;, &quot;attachment; filename=filename.txt&quot;);\r\n\r\n\t\treturn new ResponseEntity&lt;byte[]&gt;(output, responseHeaders, HttpStatus.OK);\r\n\t}","title":"Downloading a file from spring controllers","body":"<p>Below code worked for me to generate and download a text file.</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic ResponseEntity&lt;byte[]&gt; getDownloadData() throws Exception {\n\n    String regData = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\n    byte[] output = regData.getBytes();\n\n    HttpHeaders responseHeaders = new HttpHeaders();\n    responseHeaders.set(\"charset\", \"utf-8\");\n    responseHeaders.setContentType(MediaType.valueOf(\"text/html\"));\n    responseHeaders.setContentLength(output.length);\n    responseHeaders.set(\"Content-disposition\", \"attachment; filename=filename.txt\");\n\n    return new ResponseEntity&lt;byte[]&gt;(output, responseHeaders, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2780715,"reputation":1058,"user_id":2393364,"display_name":"xxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465981432,"creation_date":1465981432,"answer_id":37830837,"question_id":5673260,"body_markdown":"something like below\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n    public void getFile(HttpServletResponse response) {\r\n        try {\r\n            DefaultResourceLoader loader = new DefaultResourceLoader();\r\n            InputStream is = loader.getResource(&quot;classpath:META-INF/resources/Accepted.pdf&quot;).getInputStream();\r\n            IOUtils.copy(is, response.getOutputStream());\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=Accepted.pdf&quot;);\r\n            response.flushBuffer();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(&quot;IOError writing file to output stream&quot;);\r\n        }\r\n    }\r\n\r\nYou can display PDF or download it examples [here][1]\r\n\r\n\r\n  [1]: http://www.henryxi.com/display-pdf-in-spring-example","title":"Downloading a file from spring controllers","body":"<p>something like below</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic void getFile(HttpServletResponse response) {\n    try {\n        DefaultResourceLoader loader = new DefaultResourceLoader();\n        InputStream is = loader.getResource(\"classpath:META-INF/resources/Accepted.pdf\").getInputStream();\n        IOUtils.copy(is, response.getOutputStream());\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=Accepted.pdf\");\n        response.flushBuffer();\n    } catch (IOException ex) {\n        throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n}\n</code></pre>\n\n<p>You can display PDF or download it examples <a href=\"http://www.henryxi.com/display-pdf-in-spring-example\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10872990,"reputation":1661,"user_id":7994269,"display_name":"Jorge Santos Neill"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535643516,"creation_date":1535643516,"answer_id":52100829,"question_id":5673260,"body_markdown":"The following solution work for me\r\n\r\n        @RequestMapping(value=&quot;/download&quot;)\r\n    \tpublic void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\r\n    \t    try {\r\n    \t    \t\r\n    \t    \tString fileName=&quot;archivo demo.pdf&quot;;\r\n    \t        String filePathToBeServed = &quot;C:\\\\software\\\\Tomcat 7.0\\\\tmpFiles\\\\&quot;;\r\n    \t        File fileToDownload = new File(filePathToBeServed+fileName);\r\n    \t        \r\n    \t        InputStream inputStream = new FileInputStream(fileToDownload);\r\n    \t        response.setContentType(&quot;application/force-download&quot;);\r\n    \t        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+fileName); \r\n    \t        IOUtils.copy(inputStream, response.getOutputStream());\r\n    \t        response.flushBuffer();\r\n    \t        inputStream.close();\r\n    \t    } catch (Exception exception){\r\n    \t        System.out.println(exception.getMessage());\r\n    \t    }\r\n    \r\n    \t}","title":"Downloading a file from spring controllers","body":"<p>The following solution work for me</p>\n\n<pre><code>    @RequestMapping(value=\"/download\")\n    public void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\n        try {\n\n            String fileName=\"archivo demo.pdf\";\n            String filePathToBeServed = \"C:\\\\software\\\\Tomcat 7.0\\\\tmpFiles\\\\\";\n            File fileToDownload = new File(filePathToBeServed+fileName);\n\n            InputStream inputStream = new FileInputStream(fileToDownload);\n            response.setContentType(\"application/force-download\");\n            response.setHeader(\"Content-Disposition\", \"attachment; filename=\"+fileName); \n            IOUtils.copy(inputStream, response.getOutputStream());\n            response.flushBuffer();\n            inputStream.close();\n        } catch (Exception exception){\n            System.out.println(exception.getMessage());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11913708,"reputation":107,"user_id":8718158,"accept_rate":100,"display_name":"Sagar Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556737673,"creation_date":1556737673,"answer_id":55941344,"question_id":5673260,"body_markdown":"If it helps anyone. You can do what the accepted answer by Infeligo has suggested but just put this extra bit in the code for a forced download.\r\n\r\n    response.setContentType(&quot;application/force-download&quot;);","title":"Downloading a file from spring controllers","body":"<p>If it helps anyone. You can do what the accepted answer by Infeligo has suggested but just put this extra bit in the code for a forced download.</p>\n\n<pre><code>response.setContentType(\"application/force-download\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444350,"reputation":131,"user_id":9061048,"accept_rate":100,"display_name":"theNextBigThing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580718186,"creation_date":1580718186,"answer_id":60035475,"question_id":5673260,"body_markdown":"This can be a useful answer.\r\n\r\nhttps://stackoverflow.com/questions/60034234/is-it-ok-to-export-data-as-pdf-format-in-frontend/\r\n\r\nExtending to this, adding content-disposition as an attachment(default) will download the file. If you want to view it, you need to set it to inline.","title":"Downloading a file from spring controllers","body":"<p>This can be a useful answer.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/60034234/is-it-ok-to-export-data-as-pdf-format-in-frontend/\">Is it ok to export data as pdf format in frontend?</a></p>\n\n<p>Extending to this, adding content-disposition as an attachment(default) will download the file. If you want to view it, you need to set it to inline.</p>\n"},{"tags":[],"owner":{"account_id":1854035,"reputation":3827,"user_id":1679995,"accept_rate":85,"display_name":"Tomasz Dzięcielewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582626212,"creation_date":1582626212,"answer_id":60392347,"question_id":5673260,"body_markdown":"In my case I&#39;m generating some file on demand, so also url has to be generated.\r\n\r\nFor me works something like that:\r\n\r\n    @RequestMapping(value = &quot;/files/{filename:.+}&quot;, method = RequestMethod.GET, produces = &quot;text/csv&quot;)\r\n\t@ResponseBody\r\n\tpublic FileSystemResource getFile(@PathVariable String filename) {\r\n\t\tString path = dataProvider.getFullPath(filename);\r\n\t\treturn new FileSystemResource(new File(path));\r\n\t}\r\n\r\nVery important is mime type in `produces` and also that, that name of the file is a part of the link so you has to use `@PathVariable`.\r\n\r\nHTML code looks like that:\r\n\r\n    &lt;a th:href=&quot;@{|/dbreport/files/${file_name}|}&quot;&gt;Download&lt;/a&gt;\r\n\r\nWhere `${file_name}` is generated by Thymeleaf in controller and is i.e.: result_20200225.csv, so that whole url behing link is: `example.com/aplication/dbreport/files/result_20200225.csv`.\r\n\r\nAfter clicking on link browser asks me what to do with file - save or open.","title":"Downloading a file from spring controllers","body":"<p>In my case I'm generating some file on demand, so also url has to be generated.</p>\n\n<p>For me works something like that:</p>\n\n<pre><code>@RequestMapping(value = \"/files/{filename:.+}\", method = RequestMethod.GET, produces = \"text/csv\")\n@ResponseBody\npublic FileSystemResource getFile(@PathVariable String filename) {\n    String path = dataProvider.getFullPath(filename);\n    return new FileSystemResource(new File(path));\n}\n</code></pre>\n\n<p>Very important is mime type in <code>produces</code> and also that, that name of the file is a part of the link so you has to use <code>@PathVariable</code>.</p>\n\n<p>HTML code looks like that:</p>\n\n<pre><code>&lt;a th:href=\"@{|/dbreport/files/${file_name}|}\"&gt;Download&lt;/a&gt;\n</code></pre>\n\n<p>Where <code>${file_name}</code> is generated by Thymeleaf in controller and is i.e.: result_20200225.csv, so that whole url behing link is: <code>example.com/aplication/dbreport/files/result_20200225.csv</code>.</p>\n\n<p>After clicking on link browser asks me what to do with file - save or open.</p>\n"},{"comments":[{"owner":{"account_id":10901704,"reputation":323,"user_id":8013788,"accept_rate":75,"display_name":"Mathias Mamsch"},"score":10,"creation_date":1601025891,"post_id":62862021,"comment_id":113281824,"body_markdown":"This should be the accepted answer. It seems to provide the only clean handling of ContentDisposition and gives clear explanations.","body":"This should be the accepted answer. It seems to provide the only clean handling of ContentDisposition and gives clear explanations."},{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":5,"creation_date":1609372628,"post_id":62862021,"comment_id":115828526,"body_markdown":"Definitely the best answer","body":"Definitely the best answer"},{"owner":{"account_id":5878185,"reputation":252,"user_id":4628439,"display_name":"Indrajit Kanjilal"},"score":2,"creation_date":1633610997,"post_id":62862021,"comment_id":122809485,"body_markdown":"Works perfectly, and works with &quot;springdoc-openapi-ui&quot; v1.5.11, swagger-ui. The &quot;Download&quot; link appears as expected with &quot;attachment()&quot; flag.","body":"Works perfectly, and works with &quot;springdoc-openapi-ui&quot; v1.5.11, swagger-ui. The &quot;Download&quot; link appears as expected with &quot;attachment()&quot; flag."}],"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1660329340,"creation_date":1594562528,"answer_id":62862021,"question_id":5673260,"body_markdown":"### Do\r\n\r\n1. Return `ResponseEntity&lt;Resource&gt;` from a handler method\r\n1. Specify `Content-Type`\r\n1. Set `Content-Disposition` if necessary:\r\n    1. filename\r\n    1. type\r\n        1. [`inline`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#inline--) to force preview in a browser\r\n        1. [`attachment`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#attachment--) to force a download\r\n\r\n### Example\r\n\r\n```java\r\n@Controller\r\npublic class DownloadController {\r\n    @GetMapping(&quot;/downloadPdf.pdf&quot;)\r\n    // 1.\r\n    public ResponseEntity&lt;Resource&gt; downloadPdf() {\r\n        FileSystemResource resource = new FileSystemResource(&quot;/home/caco3/Downloads/JMC_Tutorial.pdf&quot;);\r\n        // 2.\r\n        MediaType mediaType = MediaTypeFactory\r\n                .getMediaType(resource)\r\n                .orElse(MediaType.APPLICATION_OCTET_STREAM);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(mediaType);\r\n        // 3\r\n        ContentDisposition disposition = ContentDisposition\r\n                // 3.2\r\n                .inline() // or .attachment()\r\n                // 3.1\r\n                .filename(resource.getFilename())\r\n                .build();\r\n        headers.setContentDisposition(disposition);\r\n        return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n### Explanation\r\n\r\n**Return `ResponseEntity&lt;Resource&gt;`**\r\n\r\nWhen you return a [`ResponseEntity&lt;Resource&gt;`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html), the [`ResourceHttpMessageConverter`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html) writes file contents\r\n\r\nExamples of `Resource` implementations:\r\n\r\n* [`ByteArrayResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html) - based in `byte[]`\r\n* [`FileSystemResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html) - for a `File` or a `Path`\r\n* [`UrlResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html) - retrieved from `java.net.URL`\r\n* [`GridFsResource`](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/gridfs/GridFsResource.html) - a blob stored in MongoDB\r\n* [`ClassPathResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html) - for files in classpath, for example files from `resources` directory. [My answer to question &quot;Read file from resources folder in Spring Boot&quot;](https://stackoverflow.com/a/68913967/6486622) explains how to locate the resource in classpath in details\r\n\r\n**Specify `Content-Type` explicitly**:\r\n\r\n_Reason: see &quot;[FileSystemResource is returned with content type json](https://stackoverflow.com/questions/28193999/filesystemresource-is-returned-with-content-type-json)&quot; question_\r\n\r\n\r\nOptions:\r\n\r\n* Hardcode the header\r\n* Use the [`MediaTypeFactory`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaTypeFactory.html) from Spring. The `MediaTypeFactory` maps `Resource` to `MediaType` using the `/org/springframework/http/mime.types` file\r\n* Use a third party library like [Apache Tika](https://tika.apache.org/)\r\n\r\n**Set `Content-Disposition` if necessary**:\r\n\r\nAbout [`Content-Disposition`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) header:\r\n\r\n&gt; The first parameter in the HTTP context is either `inline` (default value, indicating it can be displayed inside the Web page, or as the Web page) or `attachment` (indicating it should be downloaded; most browsers presenting a &#39;Save as&#39; dialog, prefilled with the value of the filename parameters if present).\r\n\r\nUse [`ContentDisposition`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html) in application:\r\n\r\n* To *preview* a file in a browser:\r\n    ```java\r\n    ContentDisposition disposition = ContentDisposition\r\n            .inline()\r\n            .filename(resource.getFilename())\r\n            .build();\r\n    ```\r\n\r\n* To force a *download*:\r\n    ```java\r\n    ContentDisposition disposition = ContentDisposition\r\n            .attachment()\r\n            .filename(resource.getFilename())\r\n            .build();\r\n    ```\r\n\r\n**Use `InputStreamResource` carefully**:\r\n\r\nSpecify `Content-Length` using the [`HttpHeaders#setContentLength`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setContentLength-long-) method if:\r\n\r\n1. The length is known\r\n2. You use `InputStreamResource`\r\n\r\n_Reason: Spring won&#39;t write `Content-Length` for `InputStreamResource` because Spring can&#39;t determine the length of the resource. Here is a snippet of code from `ResourceHttpMessageConverter`_:\r\n\r\n```java\r\n@Override\r\nprotected Long getContentLength(Resource resource, @Nullable MediaType contentType) throws IOException {\r\n\t// Don&#39;t try to determine contentLength on InputStreamResource - cannot be read afterwards...\r\n\t// Note: custom InputStreamResource subclasses could provide a pre-calculated content length!\r\n\tif (InputStreamResource.class == resource.getClass()) {\r\n\t\treturn null;\r\n\t}\r\n\tlong contentLength = resource.contentLength();\r\n\treturn (contentLength &lt; 0 ? null : contentLength);\r\n}\r\n```\r\n\r\nIn other cases Spring sets the `Content-Length`:\r\n\r\n```bash\r\n~ $ curl -I localhost:8080/downloadPdf.pdf  | grep &quot;Content-Length&quot;\r\nContent-Length: 7554270\r\n```","title":"Downloading a file from spring controllers","body":"<h3>Do</h3>\n<ol>\n<li>Return <code>ResponseEntity&lt;Resource&gt;</code> from a handler method</li>\n<li>Specify <code>Content-Type</code></li>\n<li>Set <code>Content-Disposition</code> if necessary:\n<ol>\n<li>filename</li>\n<li>type\n<ol>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#inline--\" rel=\"noreferrer\"><code>inline</code></a> to force preview in a browser</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#attachment--\" rel=\"noreferrer\"><code>attachment</code></a> to force a download</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h3>Example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class DownloadController {\n    @GetMapping(&quot;/downloadPdf.pdf&quot;)\n    // 1.\n    public ResponseEntity&lt;Resource&gt; downloadPdf() {\n        FileSystemResource resource = new FileSystemResource(&quot;/home/caco3/Downloads/JMC_Tutorial.pdf&quot;);\n        // 2.\n        MediaType mediaType = MediaTypeFactory\n                .getMediaType(resource)\n                .orElse(MediaType.APPLICATION_OCTET_STREAM);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(mediaType);\n        // 3\n        ContentDisposition disposition = ContentDisposition\n                // 3.2\n                .inline() // or .attachment()\n                // 3.1\n                .filename(resource.getFilename())\n                .build();\n        headers.setContentDisposition(disposition);\n        return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);\n    }\n}\n</code></pre>\n<h3>Explanation</h3>\n<p><strong>Return <code>ResponseEntity&lt;Resource&gt;</code></strong></p>\n<p>When you return a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\"><code>ResponseEntity&lt;Resource&gt;</code></a>, the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\" rel=\"noreferrer\"><code>ResourceHttpMessageConverter</code></a> writes file contents</p>\n<p>Examples of <code>Resource</code> implementations:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"noreferrer\"><code>ByteArrayResource</code></a> - based in <code>byte[]</code></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"noreferrer\"><code>FileSystemResource</code></a> - for a <code>File</code> or a <code>Path</code></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html\" rel=\"noreferrer\"><code>UrlResource</code></a> - retrieved from <code>java.net.URL</code></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/gridfs/GridFsResource.html\" rel=\"noreferrer\"><code>GridFsResource</code></a> - a blob stored in MongoDB</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html\" rel=\"noreferrer\"><code>ClassPathResource</code></a> - for files in classpath, for example files from <code>resources</code> directory. <a href=\"https://stackoverflow.com/a/68913967/6486622\">My answer to question &quot;Read file from resources folder in Spring Boot&quot;</a> explains how to locate the resource in classpath in details</li>\n</ul>\n<p><strong>Specify <code>Content-Type</code> explicitly</strong>:</p>\n<p><em>Reason: see &quot;<a href=\"https://stackoverflow.com/questions/28193999/filesystemresource-is-returned-with-content-type-json\">FileSystemResource is returned with content type json</a>&quot; question</em></p>\n<p>Options:</p>\n<ul>\n<li>Hardcode the header</li>\n<li>Use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaTypeFactory.html\" rel=\"noreferrer\"><code>MediaTypeFactory</code></a> from Spring. The <code>MediaTypeFactory</code> maps <code>Resource</code> to <code>MediaType</code> using the <code>/org/springframework/http/mime.types</code> file</li>\n<li>Use a third party library like <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a></li>\n</ul>\n<p><strong>Set <code>Content-Disposition</code> if necessary</strong>:</p>\n<p>About <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"noreferrer\"><code>Content-Disposition</code></a> header:</p>\n<blockquote>\n<p>The first parameter in the HTTP context is either <code>inline</code> (default value, indicating it can be displayed inside the Web page, or as the Web page) or <code>attachment</code> (indicating it should be downloaded; most browsers presenting a 'Save as' dialog, prefilled with the value of the filename parameters if present).</p>\n</blockquote>\n<p>Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html\" rel=\"noreferrer\"><code>ContentDisposition</code></a> in application:</p>\n<ul>\n<li><p>To <em>preview</em> a file in a browser:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentDisposition disposition = ContentDisposition\n        .inline()\n        .filename(resource.getFilename())\n        .build();\n</code></pre>\n</li>\n<li><p>To force a <em>download</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentDisposition disposition = ContentDisposition\n        .attachment()\n        .filename(resource.getFilename())\n        .build();\n</code></pre>\n</li>\n</ul>\n<p><strong>Use <code>InputStreamResource</code> carefully</strong>:</p>\n<p>Specify <code>Content-Length</code> using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setContentLength-long-\" rel=\"noreferrer\"><code>HttpHeaders#setContentLength</code></a> method if:</p>\n<ol>\n<li>The length is known</li>\n<li>You use <code>InputStreamResource</code></li>\n</ol>\n<p><em>Reason: Spring won't write <code>Content-Length</code> for <code>InputStreamResource</code> because Spring can't determine the length of the resource. Here is a snippet of code from <code>ResourceHttpMessageConverter</code></em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected Long getContentLength(Resource resource, @Nullable MediaType contentType) throws IOException {\n    // Don't try to determine contentLength on InputStreamResource - cannot be read afterwards...\n    // Note: custom InputStreamResource subclasses could provide a pre-calculated content length!\n    if (InputStreamResource.class == resource.getClass()) {\n        return null;\n    }\n    long contentLength = resource.contentLength();\n    return (contentLength &lt; 0 ? null : contentLength);\n}\n</code></pre>\n<p>In other cases Spring sets the <code>Content-Length</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>~ $ curl -I localhost:8080/downloadPdf.pdf  | grep &quot;Content-Length&quot;\nContent-Length: 7554270\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637606055,"creation_date":1637606055,"answer_id":70070761,"question_id":5673260,"body_markdown":"I had to add this to download any file\r\n\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\r\nall code:\r\n\r\n    @Controller\r\n    public class FileController {\r\n\r\n    @RequestMapping(value = &quot;/file&quot;, method =RequestMethod.GET)\r\n    @ResponseBody\r\n    public FileSystemResource getFile(HttpServletResponse response) {\r\n\r\n        final File file = new File(&quot;file.txt&quot;);\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\r\n        return new FileSystemResource(file);\r\n     }\r\n    }\r\n    ","title":"Downloading a file from spring controllers","body":"<p>I had to add this to download any file</p>\n<pre><code>    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;,\n            &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\n</code></pre>\n<p>all code:</p>\n<pre><code>@Controller\npublic class FileController {\n\n@RequestMapping(value = &quot;/file&quot;, method =RequestMethod.GET)\n@ResponseBody\npublic FileSystemResource getFile(HttpServletResponse response) {\n\n    final File file = new File(&quot;file.txt&quot;);\n    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;,\n            &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\n    return new FileSystemResource(file);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10368273,"reputation":742,"user_id":10195307,"display_name":"BugsForBreakfast"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470691,"creation_date":1699469747,"answer_id":77448240,"question_id":5673260,"body_markdown":"Very simple way to do it with SpringBoot:\r\n\r\n    import org.springframework.http.ContentDisposition;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;    \r\n    \r\n    @GetMapping(&quot;/file/{fileName}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String fileName) {\r\n            // Create Headers for &quot;forcing download&quot;\r\n            HttpHeaders httpHeaders = new HttpHeaders();\r\n            httpHeaders.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n            // Headers for giving a custom name to the file and also the file extension, in this example .zip\r\n            httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                ContentDisposition.attachment().filename(String.format(&quot;%s.%s&quot;, fileName, &quot;zip&quot;)).build().toString());\r\n            // Get the bytes from your service (for example an aws bucket)\r\n            return ResponseEntity.ok().headers(httpHeaders).body(service.getFile(fileName));\r\n        }\r\n\r\nthe above code works, but its only for showing you how simple and easy it can be, but you should first check if the file exists before doing anything, then create the headers in another method and finally return (for clean code).","title":"Downloading a file from spring controllers","body":"<p>Very simple way to do it with SpringBoot:</p>\n<pre><code>import org.springframework.http.ContentDisposition;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;    \n\n@GetMapping(&quot;/file/{fileName}&quot;)\npublic ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String fileName) {\n        // Create Headers for &quot;forcing download&quot;\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\n        // Headers for giving a custom name to the file and also the file extension, in this example .zip\n        httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\n            ContentDisposition.attachment().filename(String.format(&quot;%s.%s&quot;, fileName, &quot;zip&quot;)).build().toString());\n        // Get the bytes from your service (for example an aws bucket)\n        return ResponseEntity.ok().headers(httpHeaders).body(service.getFile(fileName));\n    }\n</code></pre>\n<p>the above code works, but its only for showing you how simple and easy it can be, but you should first check if the file exists before doing anything, then create the headers in another method and finally return (for clean code).</p>\n"}],"owner":{"account_id":182385,"reputation":7573,"user_id":417045,"accept_rate":67,"display_name":"MilindaD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594828,"favorite_count":0,"down_vote_count":0,"up_vote_count":454,"accepted_answer_id":5673356,"answer_count":16,"score":454,"last_activity_date":1699470691,"creation_date":1302850004,"question_id":5673260,"body_markdown":"I have a requirement where I need to download a PDF from the website. The PDF needs to be generated within the code, which I thought would be a combination of freemarker and a PDF generation framework like iText. Any better way? \r\n\r\nHowever, my main problem is how do I allow the user to download a file through a Spring Controller?","title":"Downloading a file from spring controllers","body":"<p>I have a requirement where I need to download a PDF from the website. The PDF needs to be generated within the code, which I thought would be a combination of freemarker and a PDF generation framework like iText. Any better way? </p>\n\n<p>However, my main problem is how do I allow the user to download a file through a Spring Controller?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1699450929,"post_id":77445985,"comment_id":136532654,"body_markdown":"Way too much improper use of the `static` keyword.","body":"Way too much improper use of the <code>static</code> keyword."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1699450986,"post_id":77445985,"comment_id":136532680,"body_markdown":"@Ishan This isn&#39;t Swing code. It&#39;s using [StdDraw](https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html). Calling `StdDraw.show()` and `StdDraw.pause()` in a loop is the recommended way to do double-buffered animation.","body":"@Ishan This isn&#39;t Swing code. It&#39;s using <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\">StdDraw</a>. Calling <code>StdDraw.show()</code> and <code>StdDraw.pause()</code> in a loop is the recommended way to do double-buffered animation."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1699452851,"post_id":77445985,"comment_id":136533162,"body_markdown":"You call `.clear()` in the `draw()` method of each individual ball. In addition to anything else that may be wrong, that alone would also show only the last ball to be drawn. You should call `clear()` *before drawing any balls* and never again.","body":"You call <code>.clear()</code> in the <code>draw()</code> method of each individual ball. In addition to anything else that may be wrong, that alone would also show only the last ball to be drawn. You should call <code>clear()</code> <i>before drawing any balls</i> and never again."},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699462893,"post_id":77445985,"comment_id":136535664,"body_markdown":"@JoachimSauer when I did what you said, it creates so many same balls in the same time so it looks like a moving snake. When I add ```clear()``` method into the while loop, same thing happens again. And when I add it into the for loop, it only creates one ball.","body":"@JoachimSauer when I did what you said, it creates so many same balls in the same time so it looks like a moving snake. When I add <code>clear()</code> method into the while loop, same thing happens again. And when I add it into the for loop, it only creates one ball."}],"answers":[{"comments":[{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699463529,"post_id":77446065,"comment_id":136535800,"body_markdown":"I know I&#39;m not a smooth code writer yet, but is that the cause of the problem I&#39;m facing? Because it still doesn&#39;t work.","body":"I know I&#39;m not a smooth code writer yet, but is that the cause of the problem I&#39;m facing? Because it still doesn&#39;t work."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1699464089,"post_id":77446065,"comment_id":136535912,"body_markdown":"That was at least one problem. By making those fields static, they were shared across all instances. With them static, if you change the values in one instance, then all  instances would also only see those values. This would effectively give you just ONE BALL.","body":"That was at least one problem. By making those fields static, they were shared across all instances. With them static, if you change the values in one instance, then all  instances would also only see those values. This would effectively give you just ONE BALL."},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699465226,"post_id":77446065,"comment_id":136536130,"body_markdown":"You&#39;re right. I completely forgot object oriented programming&#39;s purpose. I just was so focused the wirte and run this code the way that I want. Thanks for the answer.","body":"You&#39;re right. I completely forgot object oriented programming&#39;s purpose. I just was so focused the wirte and run this code the way that I want. Thanks for the answer."}],"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699451005,"creation_date":1699451005,"answer_id":77446065,"question_id":77445985,"body_markdown":"The only fields in your &quot;Ball&quot; class that should be `static` are &quot;number&quot;, &quot;balls&quot;, and &quot;ballColors&quot; as they are shared across all instances. All other fields need the `static` REMOVED so that each instance gets its own copy that is independent of the other instances.\r\n\r\nSo the fields would be:\r\n\r\n    public class Ball {\r\n\r\n        private double x;\r\n        private double y;\r\n        private double vx;\r\n        private double vy;\r\n        private double r;\r\n        private Color c;\r\n        private static int number;\r\n        private static Ball[] balls;\r\n        private static Color[] ballColors;\r\n\r\n        // ... other existing code ...\r\n\r\n    }","title":"Random bouncing balls","body":"<p>The only fields in your &quot;Ball&quot; class that should be <code>static</code> are &quot;number&quot;, &quot;balls&quot;, and &quot;ballColors&quot; as they are shared across all instances. All other fields need the <code>static</code> REMOVED so that each instance gets its own copy that is independent of the other instances.</p>\n<p>So the fields would be:</p>\n<pre><code>public class Ball {\n\n    private double x;\n    private double y;\n    private double vx;\n    private double vy;\n    private double r;\n    private Color c;\n    private static int number;\n    private static Ball[] balls;\n    private static Color[] ballColors;\n\n    // ... other existing code ...\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699463422,"post_id":77446464,"comment_id":136535777,"body_markdown":"Thanks for the answer, but when I apply what you said, it only creates 100 different balls. They are not moving, even I add the ```x += x + vx``` codes.","body":"Thanks for the answer, but when I apply what you said, it only creates 100 different balls. They are not moving, even I add the <code>x += x + vx</code> codes."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1699464967,"post_id":77446464,"comment_id":136536082,"body_markdown":"@refik I updated my response. See the new code at the beginning.","body":"@refik I updated my response. See the new code at the beginning."},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699465160,"post_id":77446464,"comment_id":136536115,"body_markdown":"It works now. Thank you.","body":"It works now. Thank you."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1699465283,"post_id":77446464,"comment_id":136536139,"body_markdown":"@refik I called `StdDraw.show()` and `StdDraw.pause(20)` outside of the `for`-loop.","body":"@refik I called <code>StdDraw.show()</code> and <code>StdDraw.pause(20)</code> outside of the <code>for</code>-loop."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1699465403,"post_id":77446464,"comment_id":136536161,"body_markdown":"If this helped you, feel free to accept this.","body":"If this helped you, feel free to accept this."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699464935,"creation_date":1699453916,"answer_id":77446464,"question_id":77445985,"body_markdown":"## Updated response\r\n\r\nInstead of pulling in `StdDraw` from Maven (as I did below), I just copy-pasted the [source code](https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java) of the original class into my own local copy. This version comes with the `enableDoubleBuffering` and `pause` methods.\r\n\r\nYour main issue is calling `show()` and `pause(20)` each time your render `Ball` to the canvas. Loop over all the balls and update their positions. After you have updated all the positions (and accounted for collisions), you can draw them. Once you draw them, you can call `show()`.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n    private static final Color[] BALL_COLORS;\r\n\r\n    private static int number;\r\n    private static Ball[] balls;\r\n\r\n    static {\r\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        initialize();\r\n\r\n        while (true) {\r\n            loop();\r\n        }\r\n    }\r\n\r\n    public static void setImage() {\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setCanvasSize(500, 500);\r\n        StdDraw.setXscale(-1.0, 1.0);\r\n        StdDraw.setYscale(-1.0, 1.0);\r\n    }\r\n\r\n    private static void initialize() {\r\n        setImage();\r\n\r\n        double x, y, vx, vy, r;\r\n        Color c;\r\n\r\n        number = 100;\r\n        balls = new Ball[number];\r\n\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02;\r\n            c = BALL_COLORS[(random.nextInt(3))];\r\n\r\n            do {\r\n                x = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n                y = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n    }\r\n\r\n    private static void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        // Update positions\r\n        for (int i = 0; i &lt; number; i++) {\r\n            Ball ball = balls[i];\r\n\r\n            ball.move();\r\n\r\n            // check if ball has hit a wall and change direction\r\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVx(-ball.getVx());\r\n            }\r\n\r\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVy(-ball.getVy());\r\n            }\r\n        }\r\n\r\n        // Render\r\n        for (int i = 0; i &lt; number; i++) {\r\n            balls[i].draw();\r\n        }\r\n\r\n        // Update canvas\r\n        StdDraw.show();\r\n        StdDraw.pause(20);\r\n    }\r\n\r\n    public static class Ball {\r\n        private double x, y;\r\n        private double vx, vy;\r\n        private double r;\r\n        private Color c;\r\n\r\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.vx = vx;\r\n            this.vy = vy;\r\n            this.r = r;\r\n            this.c = c;\r\n        }\r\n\r\n        public void test() {\r\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n        }\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.filledCircle(x, y, r);\r\n            StdDraw.setPenColor(c);\r\n        }\r\n\r\n        public double getX() {\r\n            return x;\r\n        }\r\n\r\n        public double getY() {\r\n            return y;\r\n        }\r\n\r\n        public double getVy() {\r\n            return vy;\r\n        }\r\n\r\n        public double getVx() {\r\n            return vx;\r\n        }\r\n\r\n        public double getR() {\r\n            return r;\r\n        }\r\n\r\n        public void setX(double newX) {\r\n            x = newX;\r\n        }\r\n\r\n        public void setY(double newY) {\r\n            y = newY;\r\n        }\r\n\r\n        public void setVx(double newVx) {\r\n            vx = newVx;\r\n        }\r\n\r\n        public void setVy(double newVy) {\r\n            vy = newVy;\r\n        }\r\n\r\n        public void setR(double newR) {\r\n            r = newR;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Original response\r\n\r\nYou should restructure the program. The `Ball` class should not be responsible for drawing all the balls.\r\n\r\nMove this to its own class.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport edu.princeton.cs.introcs.StdDraw;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n    private static final Color[] BALL_COLORS;\r\n\r\n    private static int number;\r\n    private static Ball[] balls;\r\n\r\n    static {\r\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        initialize();\r\n\r\n        while (true) {\r\n            loop();\r\n        }\r\n    }\r\n\r\n    public static void setImage() {\r\n        StdDraw.setCanvasSize(500, 500);\r\n        StdDraw.setXscale(-1.0, 1.0);\r\n        StdDraw.setYscale(-1.0, 1.0);\r\n    }\r\n\r\n    private static void initialize() {\r\n        setImage();\r\n\r\n        double x, y, vx, vy, r;\r\n        Color c;\r\n\r\n        number = 100;\r\n        balls = new Ball[number];\r\n\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02;\r\n            c = BALL_COLORS[(random.nextInt(3))];\r\n\r\n            do {\r\n                x = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n                y = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n    }\r\n\r\n    private static void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        for (int i = 0; i &lt; number; i++) {\r\n            Ball ball = balls[i];\r\n\r\n            ball.draw();\r\n            ball.move();\r\n\r\n            // check if ball has hit a wall and change direction\r\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVx(-ball.getVx());\r\n            }\r\n\r\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVy(-ball.getVy());\r\n            }\r\n\r\n            //balls[i].test();\r\n        }\r\n\r\n        StdDraw.show();\r\n        StdDraw.pause(20); // The pause method is undefined in version 1.0.1\r\n    }\r\n\r\n    public static class Ball {\r\n        private double x, y;\r\n        private double vx, vy;\r\n        private double r;\r\n        private Color c;\r\n\r\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.vx = vx;\r\n            this.vy = vy;\r\n            this.r = r;\r\n            this.c = c;\r\n        }\r\n\r\n        public void test() {\r\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n        }\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.filledCircle(x, y, r);\r\n            StdDraw.setPenColor(c);\r\n        }\r\n\r\n        public double getX() {\r\n            return x;\r\n        }\r\n\r\n        public double getY() {\r\n            return y;\r\n        }\r\n\r\n        public double getVy() {\r\n            return vy;\r\n        }\r\n\r\n        public double getVx() {\r\n            return vx;\r\n        }\r\n\r\n        public double getR() {\r\n            return r;\r\n        }\r\n\r\n        public void setX(double newX) {\r\n            x = newX;\r\n        }\r\n\r\n        public void setY(double newY) {\r\n            y = newY;\r\n        }\r\n\r\n        public void setVx(double newVx) {\r\n            vx = newVx;\r\n        }\r\n\r\n        public void setVy(double newVy) {\r\n            vy = newVy;\r\n        }\r\n\r\n        public void setR(double newR) {\r\n            r = newR;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlso, you should make this a Maven project, if you haven&#39;t already. Here is the required dependency.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\r\n    &lt;artifactId&gt;stdlib&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Boilerplate and Lombok\r\n\r\nIf you use Lombok, you can reduce your `Ball` class to simply:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Ball {\r\n    private double x, y;\r\n    private double vx, vy;\r\n    private double r;\r\n    private Color c;\r\n\r\n    public void move() {\r\n        x += vx;\r\n        y += vy;\r\n    }\r\n\r\n    public void draw() {\r\n        StdDraw.filledCircle(x, y, r);\r\n        StdDraw.setPenColor(c);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void test() {\r\n        System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n    }\r\n}\r\n```\r\n\r\nHere is the Maven dependency for Lombok:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.30&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\n**Note:** I noticed that both the `1.0.0` and `1.0.1` dependencies lack a `StdDraw::pause(int)` method...\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\r\n    &lt;artifactId&gt;introcs&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Random bouncing balls","body":"<h2>Updated response</h2>\n<p>Instead of pulling in <code>StdDraw</code> from Maven (as I did below), I just copy-pasted the <a href=\"https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java\" rel=\"nofollow noreferrer\">source code</a> of the original class into my own local copy. This version comes with the <code>enableDoubleBuffering</code> and <code>pause</code> methods.</p>\n<p>Your main issue is calling <code>show()</code> and <code>pause(20)</code> each time your render <code>Ball</code> to the canvas. Loop over all the balls and update their positions. After you have updated all the positions (and accounted for collisions), you can draw them. Once you draw them, you can call <code>show()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.Random;\nimport java.awt.Color;\n\npublic class App {\n    private static final Color[] BALL_COLORS;\n\n    private static int number;\n    private static Ball[] balls;\n\n    static {\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n    }\n\n    public static void main(String[] args) {\n        initialize();\n\n        while (true) {\n            loop();\n        }\n    }\n\n    public static void setImage() {\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n    }\n\n    private static void initialize() {\n        setImage();\n\n        double x, y, vx, vy, r;\n        Color c;\n\n        number = 100;\n        balls = new Ball[number];\n\n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02;\n            c = BALL_COLORS[(random.nextInt(3))];\n\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n    }\n\n    private static void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        // Update positions\n        for (int i = 0; i &lt; number; i++) {\n            Ball ball = balls[i];\n\n            ball.move();\n\n            // check if ball has hit a wall and change direction\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\n                ball.setVx(-ball.getVx());\n            }\n\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\n                ball.setVy(-ball.getVy());\n            }\n        }\n\n        // Render\n        for (int i = 0; i &lt; number; i++) {\n            balls[i].draw();\n        }\n\n        // Update canvas\n        StdDraw.show();\n        StdDraw.pause(20);\n    }\n\n    public static class Ball {\n        private double x, y;\n        private double vx, vy;\n        private double r;\n        private Color c;\n\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\n            this.x = x;\n            this.y = y;\n            this.vx = vx;\n            this.vy = vy;\n            this.r = r;\n            this.c = c;\n        }\n\n        public void test() {\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n        }\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.filledCircle(x, y, r);\n            StdDraw.setPenColor(c);\n        }\n\n        public double getX() {\n            return x;\n        }\n\n        public double getY() {\n            return y;\n        }\n\n        public double getVy() {\n            return vy;\n        }\n\n        public double getVx() {\n            return vx;\n        }\n\n        public double getR() {\n            return r;\n        }\n\n        public void setX(double newX) {\n            x = newX;\n        }\n\n        public void setY(double newY) {\n            y = newY;\n        }\n\n        public void setVx(double newVx) {\n            vx = newVx;\n        }\n\n        public void setVy(double newVy) {\n            vy = newVy;\n        }\n\n        public void setR(double newR) {\n            r = newR;\n        }\n    }\n}\n</code></pre>\n<h2>Original response</h2>\n<p>You should restructure the program. The <code>Ball</code> class should not be responsible for drawing all the balls.</p>\n<p>Move this to its own class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport edu.princeton.cs.introcs.StdDraw;\n\nimport java.util.Random;\nimport java.awt.Color;\n\npublic class App {\n    private static final Color[] BALL_COLORS;\n\n    private static int number;\n    private static Ball[] balls;\n\n    static {\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n    }\n\n    public static void main(String[] args) {\n        initialize();\n\n        while (true) {\n            loop();\n        }\n    }\n\n    public static void setImage() {\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n    }\n\n    private static void initialize() {\n        setImage();\n\n        double x, y, vx, vy, r;\n        Color c;\n\n        number = 100;\n        balls = new Ball[number];\n\n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02;\n            c = BALL_COLORS[(random.nextInt(3))];\n\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n    }\n\n    private static void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        for (int i = 0; i &lt; number; i++) {\n            Ball ball = balls[i];\n\n            ball.draw();\n            ball.move();\n\n            // check if ball has hit a wall and change direction\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\n                ball.setVx(-ball.getVx());\n            }\n\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\n                ball.setVy(-ball.getVy());\n            }\n\n            //balls[i].test();\n        }\n\n        StdDraw.show();\n        StdDraw.pause(20); // The pause method is undefined in version 1.0.1\n    }\n\n    public static class Ball {\n        private double x, y;\n        private double vx, vy;\n        private double r;\n        private Color c;\n\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\n            this.x = x;\n            this.y = y;\n            this.vx = vx;\n            this.vy = vy;\n            this.r = r;\n            this.c = c;\n        }\n\n        public void test() {\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n        }\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.filledCircle(x, y, r);\n            StdDraw.setPenColor(c);\n        }\n\n        public double getX() {\n            return x;\n        }\n\n        public double getY() {\n            return y;\n        }\n\n        public double getVy() {\n            return vy;\n        }\n\n        public double getVx() {\n            return vx;\n        }\n\n        public double getR() {\n            return r;\n        }\n\n        public void setX(double newX) {\n            x = newX;\n        }\n\n        public void setY(double newY) {\n            y = newY;\n        }\n\n        public void setVx(double newVx) {\n            vx = newVx;\n        }\n\n        public void setVy(double newVy) {\n            vy = newVy;\n        }\n\n        public void setR(double newR) {\n            r = newR;\n        }\n    }\n}\n</code></pre>\n<p>Also, you should make this a Maven project, if you haven't already. Here is the required dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\n    &lt;artifactId&gt;stdlib&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Boilerplate and Lombok</h3>\n<p>If you use Lombok, you can reduce your <code>Ball</code> class to simply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class Ball {\n    private double x, y;\n    private double vx, vy;\n    private double r;\n    private Color c;\n\n    public void move() {\n        x += vx;\n        y += vy;\n    }\n\n    public void draw() {\n        StdDraw.filledCircle(x, y, r);\n        StdDraw.setPenColor(c);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void test() {\n        System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n    }\n}\n</code></pre>\n<p>Here is the Maven dependency for Lombok:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.30&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p><strong>Note:</strong> I noticed that both the <code>1.0.0</code> and <code>1.0.1</code> dependencies lack a <code>StdDraw::pause(int)</code> method...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\n    &lt;artifactId&gt;introcs&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699463274,"post_id":77447542,"comment_id":136535746,"body_markdown":"when I do this it creates a bunch of same balls one after the other and draws a moving snake, not hundred different balls. The ```clear()``` method only works properly in for loop, I don&#39;t understand why.","body":"when I do this it creates a bunch of same balls one after the other and draws a moving snake, not hundred different balls. The <code>clear()</code> method only works properly in for loop, I don&#39;t understand why."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470563,"creation_date":1699462797,"answer_id":77447542,"question_id":77445985,"body_markdown":"To make all balls visible, just move `StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);` out of `box.draw()` to the `while` loop.\r\n\r\nAdditionnaly you should split `move()` and `draw()` for all balls at once  \r\n\r\n```java\r\npublic class App {\r\n\r\n    private static final int XMIN = -1;\r\n    private static final int XMAX = 1;\r\n    private static final int YMIN = -1;\r\n    private static final int YMAX = 1;\r\n\r\n    private final Color[] colors = { StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE };\r\n    private final Ball[] balls;\r\n\r\n    public App(int totalBalls) {\r\n        balls = new Ball[totalBalls];\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        int totalBalls = 100;\r\n        int canvasWidth = 500;\r\n        int canvasHeight = 500;\r\n\r\n        App app = new App(totalBalls);\r\n        app.init(canvasWidth, canvasHeight);\r\n\r\n        while (true) {\r\n            app.loop();\r\n        }\r\n    }\r\n\r\n    private void init(int canvasWidth, int canvasHeight) {\r\n        setImage(canvasWidth, canvasHeight);\r\n\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; balls.length; i++) {\r\n            double radius = random.nextDouble() * 0.08 + 0.02;\r\n            Color color = colors[random.nextInt(3)];\r\n\r\n            balls[i] = new Ball(radius, color);\r\n            balls[i].x = getCoordinate(random, XMIN, XMAX, radius);\r\n            balls[i].y = getCoordinate(random, YMIN, YMAX, radius);\r\n            balls[i].vx = getSpeed(random);\r\n            balls[i].vy = getSpeed(random);\r\n        }\r\n    }\r\n\r\n    private static double getCoordinate(Random random,\r\n                                        double min, double max,\r\n                                        double radius) {\r\n        min += radius;\r\n        max -= radius;\r\n        return (random.nextDouble() * (max - min)) + min;\r\n    }\r\n\r\n    private static double getSpeed(Random random) {\r\n        return random.nextDouble() * 0.04 - 0.02;\r\n    }\r\n\r\n    private static void setImage(int canvasWidth, int canvasHeight) {\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setCanvasSize(canvasWidth, canvasHeight);\r\n        StdDraw.setXscale(XMIN, XMAX);\r\n        StdDraw.setYscale(YMIN, YMAX);\r\n    }\r\n\r\n    private void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        moveBalls();\r\n        drawBalls();\r\n\r\n        StdDraw.show();\r\n        StdDraw.pause(20);\r\n    }\r\n\r\n    private void moveBalls() {\r\n        for (Ball ball : balls) {\r\n            ball.move();\r\n\r\n            hitTheWallX(ball);\r\n            hitTheWallY(ball);\r\n        }\r\n    }\r\n\r\n    private void drawBalls() {\r\n        for (Ball ball : balls)\r\n            ball.draw();\r\n    }\r\n\r\n    private static void hitTheWallX(Ball ball) {\r\n        if (ball.x - ball.radius &lt;= XMIN || ball.x + ball.radius &gt;= XMAX)\r\n            ball.vx = -ball.vx;\r\n    }\r\n\r\n    private static void hitTheWallY(Ball ball) {\r\n        if (ball.y - ball.radius &lt;= YMIN || ball.y + ball.radius &gt;= YMAX)\r\n            ball.vy = -ball.vy;\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    private static class Ball {\r\n\r\n        private final double radius;\r\n        private final Color color;\r\n\r\n        private double x;\r\n        private double y;\r\n        private double vx;\r\n        private double vy;\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.setPenColor(color);\r\n            StdDraw.filledCircle(x, y, radius);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n","title":"Random bouncing balls","body":"<p>To make all balls visible, just move <code>StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);</code> out of <code>box.draw()</code> to the <code>while</code> loop.</p>\n<p>Additionnaly you should split <code>move()</code> and <code>draw()</code> for all balls at once</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n\n    private static final int XMIN = -1;\n    private static final int XMAX = 1;\n    private static final int YMIN = -1;\n    private static final int YMAX = 1;\n\n    private final Color[] colors = { StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE };\n    private final Ball[] balls;\n\n    public App(int totalBalls) {\n        balls = new Ball[totalBalls];\n    }\n\n    public static void main(String... args) {\n        int totalBalls = 100;\n        int canvasWidth = 500;\n        int canvasHeight = 500;\n\n        App app = new App(totalBalls);\n        app.init(canvasWidth, canvasHeight);\n\n        while (true) {\n            app.loop();\n        }\n    }\n\n    private void init(int canvasWidth, int canvasHeight) {\n        setImage(canvasWidth, canvasHeight);\n\n        Random random = new Random();\n\n        for (int i = 0; i &lt; balls.length; i++) {\n            double radius = random.nextDouble() * 0.08 + 0.02;\n            Color color = colors[random.nextInt(3)];\n\n            balls[i] = new Ball(radius, color);\n            balls[i].x = getCoordinate(random, XMIN, XMAX, radius);\n            balls[i].y = getCoordinate(random, YMIN, YMAX, radius);\n            balls[i].vx = getSpeed(random);\n            balls[i].vy = getSpeed(random);\n        }\n    }\n\n    private static double getCoordinate(Random random,\n                                        double min, double max,\n                                        double radius) {\n        min += radius;\n        max -= radius;\n        return (random.nextDouble() * (max - min)) + min;\n    }\n\n    private static double getSpeed(Random random) {\n        return random.nextDouble() * 0.04 - 0.02;\n    }\n\n    private static void setImage(int canvasWidth, int canvasHeight) {\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setCanvasSize(canvasWidth, canvasHeight);\n        StdDraw.setXscale(XMIN, XMAX);\n        StdDraw.setYscale(YMIN, YMAX);\n    }\n\n    private void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        moveBalls();\n        drawBalls();\n\n        StdDraw.show();\n        StdDraw.pause(20);\n    }\n\n    private void moveBalls() {\n        for (Ball ball : balls) {\n            ball.move();\n\n            hitTheWallX(ball);\n            hitTheWallY(ball);\n        }\n    }\n\n    private void drawBalls() {\n        for (Ball ball : balls)\n            ball.draw();\n    }\n\n    private static void hitTheWallX(Ball ball) {\n        if (ball.x - ball.radius &lt;= XMIN || ball.x + ball.radius &gt;= XMAX)\n            ball.vx = -ball.vx;\n    }\n\n    private static void hitTheWallY(Ball ball) {\n        if (ball.y - ball.radius &lt;= YMIN || ball.y + ball.radius &gt;= YMAX)\n            ball.vy = -ball.vy;\n    }\n\n    @RequiredArgsConstructor\n    private static class Ball {\n\n        private final double radius;\n        private final Color color;\n\n        private double x;\n        private double y;\n        private double vx;\n        private double vy;\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.setPenColor(color);\n            StdDraw.filledCircle(x, y, radius);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77446464,"answer_count":3,"score":0,"last_activity_date":1699470563,"creation_date":1699450506,"question_id":77445985,"body_markdown":"I&#39;m trying to write a program that contains 100 random balls with only red, green or blue colors. I can only use [`edu.princeton.cs.introcs.StdDraw`](https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html) and `java.util.Random` libraries. Also I have to store the ball objects in an array.\r\n\r\nI wrote this code but when I run it, I only see one ball. What am I doing wrong?\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class Ball {\r\n\tprivate static double x;\r\n\tprivate static double y;\r\n\tprivate static double vx;\r\n\tprivate static double vy;\r\n\tprivate static double r;\r\n\tprivate static Color c;\r\n\tprivate static int number;\r\n\tprivate static Ball[] balls;\r\n\tprivate static Color[] ballColors;\r\n\t\r\n\tpublic Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.vx = vx;\r\n\t\tthis.vy = vy;\r\n\t\tthis.r = r;\r\n\t\tthis.c= c;\r\n\t}\r\n\t\r\n\tpublic void test() {\r\n\t\tSystem.out.println(&quot;vx: &quot;+vx+&quot; ve vy: &quot;+vy);\r\n\t}\r\n\t\r\n\tpublic static void setImage() {\r\n\t\tStdDraw.setCanvasSize(500, 500);\r\n\t\tStdDraw.setXscale(-1.0, 1.0);\r\n\t\tStdDraw.setYscale(-1.0, 1.0);\r\n\t\tStdDraw.enableDoubleBuffering();\r\n\t}\r\n\t\r\n\tpublic void move() {\r\n\t\t/*\r\n\t\tif(Math.abs(x + vx) &gt; (1.0 - r)) {\r\n\t\t\tvx = -vx;\r\n\t\t}\r\n\t\t\r\n\t\tif(Math.abs(y + vy) &gt; (1.0 - r)) {\r\n\t\t\tvy = -vy;\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\tx = x + vx;\r\n\t\ty = y + vy;\r\n\t}\r\n\t\r\n\tpublic void draw() {\r\n\t\tStdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\t\tStdDraw.filledCircle(x, y, r);\t\r\n\t\tStdDraw.setPenColor(c);\r\n\t}\r\n\t\r\n\tpublic static double getX() {\r\n\t\treturn x;\r\n\t}\r\n\t\r\n\tpublic double getY() {\r\n\t\treturn y;\r\n\t}\r\n\t\r\n\tpublic double getVy() {\r\n\t\treturn vy;\r\n\t}\r\n\t\r\n\tpublic static double getVx() {\r\n\t\treturn vx;\r\n\t}\r\n\t\r\n\tpublic double getR() {\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tpublic void setX(double newX) {\r\n\t\tx = newX;\r\n\t}\r\n\t\r\n\tpublic void setY(double newY) {\r\n\t\ty = newY;\r\n\t}\r\n\t\r\n\tpublic void setVx(double newVx) {\r\n\t\tvx = newVx;\r\n\t}\r\n\t\r\n\tpublic void setVy(double newVy) {\r\n\t\tvy = newVy;\r\n\t}\r\n\t\r\n\tpublic void setR(double newR) {\r\n\t\tr = newR;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBall.setImage();\r\n\t\t\r\n\t\tnumber = 100; //number of balls\r\n\t\tballs = new Ball[number];\r\n\t\tballColors = new Color[] {StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n\t\t\r\n\t\tRandom random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n        \tdo {\r\n            \tx = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n            \ty = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            \r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02; \r\n            c = ballColors[(random.nextInt(3))];\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n       \r\n        while(true) {\r\n        \tfor (int i = 0; i &lt; number; i++) {\r\n\t\t\t\tballs[i].draw();\r\n\t\t\t\tballs[i].move();\r\n\r\n                // check if ball has hit a wall and change direction\r\n\t\t\t\tif(Math.abs(balls[i].getX() + balls[i].getVx()) &gt; (1.0 - r)) {\r\n\t\t\t\t\tballs[i].setVx(-balls[i].getVx());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(Math.abs(balls[i].getY() + balls[i].getVy()) &gt; (1.0 - r)) {\r\n\t\t\t\t\tballs[i].setVy(-balls[i].getVy());\r\n\t\t\t\t}\r\n\r\n                //balls[i].test();\r\n                StdDraw.show();\r\n    \t\t\tStdDraw.pause(20);\r\n            }\r\n        }\r\n\t}\r\n}\r\n```","title":"Random bouncing balls","body":"<p>I'm trying to write a program that contains 100 random balls with only red, green or blue colors. I can only use <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\"><code>edu.princeton.cs.introcs.StdDraw</code></a> and <code>java.util.Random</code> libraries. Also I have to store the ball objects in an array.</p>\n<p>I wrote this code but when I run it, I only see one ball. What am I doing wrong?</p>\n<pre><code>import java.util.Random;\nimport java.awt.Color;\n\npublic class Ball {\n    private static double x;\n    private static double y;\n    private static double vx;\n    private static double vy;\n    private static double r;\n    private static Color c;\n    private static int number;\n    private static Ball[] balls;\n    private static Color[] ballColors;\n    \n    public Ball(double x, double y, double vx, double vy, double r, Color c) {\n        this.x = x;\n        this.y = y;\n        this.vx = vx;\n        this.vy = vy;\n        this.r = r;\n        this.c= c;\n    }\n    \n    public void test() {\n        System.out.println(&quot;vx: &quot;+vx+&quot; ve vy: &quot;+vy);\n    }\n    \n    public static void setImage() {\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n        StdDraw.enableDoubleBuffering();\n    }\n    \n    public void move() {\n        /*\n        if(Math.abs(x + vx) &gt; (1.0 - r)) {\n            vx = -vx;\n        }\n        \n        if(Math.abs(y + vy) &gt; (1.0 - r)) {\n            vy = -vy;\n        }\n        */\n        \n        x = x + vx;\n        y = y + vy;\n    }\n    \n    public void draw() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n        StdDraw.filledCircle(x, y, r);  \n        StdDraw.setPenColor(c);\n    }\n    \n    public static double getX() {\n        return x;\n    }\n    \n    public double getY() {\n        return y;\n    }\n    \n    public double getVy() {\n        return vy;\n    }\n    \n    public static double getVx() {\n        return vx;\n    }\n    \n    public double getR() {\n        return r;\n    }\n    \n    public void setX(double newX) {\n        x = newX;\n    }\n    \n    public void setY(double newY) {\n        y = newY;\n    }\n    \n    public void setVx(double newVx) {\n        vx = newVx;\n    }\n    \n    public void setVy(double newVy) {\n        vy = newVy;\n    }\n    \n    public void setR(double newR) {\n        r = newR;\n    }\n\n    public static void main(String[] args) {\n        Ball.setImage();\n        \n        number = 100; //number of balls\n        balls = new Ball[number];\n        ballColors = new Color[] {StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n        \n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            \n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02; \n            c = ballColors[(random.nextInt(3))];\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n       \n        while(true) {\n            for (int i = 0; i &lt; number; i++) {\n                balls[i].draw();\n                balls[i].move();\n\n                // check if ball has hit a wall and change direction\n                if(Math.abs(balls[i].getX() + balls[i].getVx()) &gt; (1.0 - r)) {\n                    balls[i].setVx(-balls[i].getVx());\n                }\n                \n                if(Math.abs(balls[i].getY() + balls[i].getVy()) &gt; (1.0 - r)) {\n                    balls[i].setVy(-balls[i].getVy());\n                }\n\n                //balls[i].test();\n                StdDraw.show();\n                StdDraw.pause(20);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1642612503,"post_id":70774947,"comment_id":125119448,"body_markdown":"Each time you invoke a method, you might get back a different result. Store `response.getBody()` in a variable.","body":"Each time you invoke a method, you might get back a different result. Store <code>response.getBody()</code> in a variable."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1642612723,"post_id":70774947,"comment_id":125119549,"body_markdown":"Your fix now returns `null` in some possible cases (I guess), maybe you created just another *Possible null pointer dereference in mypackage.myMethod(String) due to* **return value of called method**. The error message is right, I think. `… ? response.getBody().getData() : null;` is what I mean. You could define some default response data (initialized) and return that if the response you get is `null`.","body":"Your fix now returns <code>null</code> in some possible cases (I guess), maybe you created just another <i>Possible null pointer dereference in mypackage.myMethod(String) due to</i> <b>return value of called method</b>. The error message is right, I think. <code>… ? response.getBody().getData() : null;</code> is what I mean. You could define some default response data (initialized) and return that if the response you get is <code>null</code>."},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642612885,"post_id":70774947,"comment_id":125119635,"body_markdown":"what is the type of response ?","body":"what is the type of response ?"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642613178,"post_id":70774947,"comment_id":125119751,"body_markdown":"Show more code.","body":"Show more code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642617736,"post_id":70774947,"comment_id":125121585,"body_markdown":"Are you expecting `response` or `response.getBody()` to return null during normal operation of your application?  If not, you should treat such conditions as errors by throwing exceptions, rather than just returning null to indicate an error.","body":"Are you expecting <code>response</code> or <code>response.getBody()</code> to return null during normal operation of your application?  If not, you should treat such conditions as errors by throwing exceptions, rather than just returning null to indicate an error."},{"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"score":0,"creation_date":1642667427,"post_id":70774947,"comment_id":125133329,"body_markdown":"@AndyTurner your solution works perfect! if you want, include as answer to mark it as solution. Thanks","body":"@AndyTurner your solution works perfect! if you want, include as answer to mark it as solution. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642674205,"creation_date":1642673899,"answer_id":70784406,"question_id":70774947,"body_markdown":"Each time you invoke a method, you might get back a different result. You may know that you will get the same result back each time, but Sonarqube doesn&#39;t.\r\n\r\nAssign `response.getBody()` to a variable so you don&#39;t have to call it again:\r\n\r\n```\r\nif (response != null) {\r\n  var body = response.getBody();\r\n  if (body != null) {\r\n    return body.getData();\r\n  }\r\n}\r\nreturn null;\r\n```\r\n\r\nYou can do it with Optional, alternatively:\r\n\r\n```\r\nreturn Optional.ofNullable(response).map(ResponseType::getBody).map(BodyType::getData).orElse(null);\r\n```\r\n","title":"sonar rule &quot;possible null pointer exception&quot;","body":"<p>Each time you invoke a method, you might get back a different result. You may know that you will get the same result back each time, but Sonarqube doesn't.</p>\n<p>Assign <code>response.getBody()</code> to a variable so you don't have to call it again:</p>\n<pre><code>if (response != null) {\n  var body = response.getBody();\n  if (body != null) {\n    return body.getData();\n  }\n}\nreturn null;\n</code></pre>\n<p>You can do it with Optional, alternatively:</p>\n<pre><code>return Optional.ofNullable(response).map(ResponseType::getBody).map(BodyType::getData).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70784406,"answer_count":1,"score":1,"last_activity_date":1699469981,"creation_date":1642612443,"question_id":70774947,"body_markdown":"I&#39;m finding a problem in my Sonar I don&#39;t know how to solve.\r\n\r\nThe error I have is:\r\n\r\n    Possible null pointer dereference in mypackage.myMethod(String) due to return value of called method\r\n\r\nAt the very begining it was:\r\n\r\n     response.getBody().getData();\r\n\r\n\r\nSo what I did was:\r\n\r\n\r\n    return (response != null &amp;&amp; response.getBody() != null) ? response.getBody().getData() : null;\r\n\r\n\r\nBut the error is still there. \r\n\r\nAm I missunderstanding the error?? How can I solve?\r\n","title":"sonar rule &quot;possible null pointer exception&quot;","body":"<p>I'm finding a problem in my Sonar I don't know how to solve.</p>\n<p>The error I have is:</p>\n<pre><code>Possible null pointer dereference in mypackage.myMethod(String) due to return value of called method\n</code></pre>\n<p>At the very begining it was:</p>\n<pre><code> response.getBody().getData();\n</code></pre>\n<p>So what I did was:</p>\n<pre><code>return (response != null &amp;&amp; response.getBody() != null) ? response.getBody().getData() : null;\n</code></pre>\n<p>But the error is still there.</p>\n<p>Am I missunderstanding the error?? How can I solve?</p>\n"},{"tags":["java","android","widget","admob","ads"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699473326,"post_id":77448186,"comment_id":136537551,"body_markdown":"&quot;I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;&quot; -- your code uses `com.google.android.gms.ads.AdView`. App widgets can use neither that nor `WebView`, and there is no requirement for the launcher app to have the SDK for any particular ad network.","body":"&quot;I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;&quot; -- your code uses <code>com.google.android.gms.ads.AdView</code>. App widgets can use neither that nor <code>WebView</code>, and there is no requirement for the launcher app to have the SDK for any particular ad network."}],"owner":{"account_id":29857818,"reputation":1,"user_id":22882233,"display_name":"Niklas Strasser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699469265,"creation_date":1699469265,"question_id":77448186,"body_markdown":"is it possible to show an ad in a widget in android studio? I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;. Widgets do support certain views, but not the required &quot;WebView&quot;.\r\nI got this info out of following discussion (2016): https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q .\r\n\r\nDoes anyone of you know if they added something since then or if it&#39;s still not possible. I also would be interested in any workarounds if you got some.\r\n\r\n\r\nI&#39;ve already tested to implement a basic widget with an an ad, provided from AdMob for terms of testing, but the widget only shows the text &quot;Can&#39;t load widget&quot;.\r\n\r\n\r\n**Java:**\r\n\r\n```\r\npublic class AdWidget extends AppWidgetProvider {\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        // There may be multiple widgets active, so update all of them\r\n        for (int appWidgetId : appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onEnabled(Context context) {\r\n        // Enter relevant functionality for when the first widget is created\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        // Enter relevant functionality for when the last widget is disabled\r\n    }\r\n\r\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\r\n            int appWidgetId) {\r\n\r\n        CharSequence widgetText = context.getString(R.string.appwidget_text);\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.ad_widget);\r\n\r\n        // Instruct the widget manager to update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**XML:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/AdWidget_Body&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AdWidget&quot;&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/AdWidget_Ad&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        ads:adSize=&quot;BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThanks,\r\n\r\nNiklas\r\n\r\n","title":"Android Studio Ad in Widget","body":"<p>is it possible to show an ad in a widget in android studio? I've already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;. Widgets do support certain views, but not the required &quot;WebView&quot;.\nI got this info out of following discussion (2016): <a href=\"https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q\" rel=\"nofollow noreferrer\">https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q</a> .</p>\n<p>Does anyone of you know if they added something since then or if it's still not possible. I also would be interested in any workarounds if you got some.</p>\n<p>I've already tested to implement a basic widget with an an ad, provided from AdMob for terms of testing, but the widget only shows the text &quot;Can't load widget&quot;.</p>\n<p><strong>Java:</strong></p>\n<pre><code>public class AdWidget extends AppWidgetProvider {\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        // There may be multiple widgets active, so update all of them\n        for (int appWidgetId : appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n    @Override\n    public void onEnabled(Context context) {\n        // Enter relevant functionality for when the first widget is created\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        // Enter relevant functionality for when the last widget is disabled\n    }\n\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\n            int appWidgetId) {\n\n        CharSequence widgetText = context.getString(R.string.appwidget_text);\n        // Construct the RemoteViews object\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.ad_widget);\n\n        // Instruct the widget manager to update the widget\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n    }\n}\n</code></pre>\n<p><strong>XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/AdWidget_Body&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.AdWidget&quot;&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/AdWidget_Ad&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\n\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Thanks,</p>\n<p>Niklas</p>\n"},{"tags":["java","servlets","https","jetty","keystore"],"answers":[{"comments":[{"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"score":0,"creation_date":1636805427,"post_id":69945374,"comment_id":123658213,"body_markdown":"It is no longer showing me an Invalid SNI error, thank you for help, but now it fails on SEC_E_INVALID_TOKEN (0x80090308) - The token supplied to the function is invalid, when I try to connect with curl, because the browser told me only &quot;This site can’t provide a secure connection, ERR_SSL_PROTOCOL_ERROR&quot;.","body":"It is no longer showing me an Invalid SNI error, thank you for help, but now it fails on SEC_E_INVALID_TOKEN (0x80090308) - The token supplied to the function is invalid, when I try to connect with curl, because the browser told me only &quot;This site can’t provide a secure connection, ERR_SSL_PROTOCOL_ERROR&quot;."},{"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"score":0,"creation_date":1636807776,"post_id":69945374,"comment_id":123658715,"body_markdown":"I created the next question https://stackoverflow.com/questions/69954338/sec-e-invalid-token-0x80090308-jetty-https-servlet","body":"I created the next question <a href=\"https://stackoverflow.com/questions/69954338/sec-e-invalid-token-0x80090308-jetty-https-servlet\" title=\"sec e invalid token 0x80090308 jetty https servlet\">stackoverflow.com/questions/69954338/&hellip;</a>"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636731292,"creation_date":1636731292,"answer_id":69945374,"question_id":69945173,"body_markdown":"This message means that the SNI provided by your HTTP Client&#39;s TLS layer doesn&#39;t match one of the SNI hosts in your keystore.\r\n\r\nKnow that SNI itself has restrictions:\r\n\r\n* `localhost` is not allowed\r\n* IP Address Literals are not allowed (eg: `192.168.1.215` or `fe80::3831:400c:dc07:7c40`)\r\n* All SNI HostNames must contain at least 1 `.` in it&#39;s name (so don&#39;t use shorthand host/domain names, use fully qualified canonical host/domain names)\r\n\r\nThese restrictions are in the spec and are often the cause of most of the issues like what you are experiencing.\r\n\r\nDepending on your version of Java these SNI restrictions are checked sooner in the Java networking stack then other versions of Java. (Java 11 is less restrictive with the `.` in hostname restriction vs Java 17+ which enforces it)","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>This message means that the SNI provided by your HTTP Client's TLS layer doesn't match one of the SNI hosts in your keystore.</p>\n<p>Know that SNI itself has restrictions:</p>\n<ul>\n<li><code>localhost</code> is not allowed</li>\n<li>IP Address Literals are not allowed (eg: <code>192.168.1.215</code> or <code>fe80::3831:400c:dc07:7c40</code>)</li>\n<li>All SNI HostNames must contain at least 1 <code>.</code> in it's name (so don't use shorthand host/domain names, use fully qualified canonical host/domain names)</li>\n</ul>\n<p>These restrictions are in the spec and are often the cause of most of the issues like what you are experiencing.</p>\n<p>Depending on your version of Java these SNI restrictions are checked sooner in the Java networking stack then other versions of Java. (Java 11 is less restrictive with the <code>.</code> in hostname restriction vs Java 17+ which enforces it)</p>\n"},{"tags":[],"owner":{"account_id":6828033,"reputation":611,"user_id":5253113,"display_name":"Nitin Singhal"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1643653209,"creation_date":1643653209,"answer_id":70930917,"question_id":69945173,"body_markdown":"I was also facing same issue when I was running my application from local. As localhost is not allowed for SNI, I disabled the SNI check temporarily in my code. Below is the code I modified for running my application locally :\r\n\r\n    SecureRequestCustomizer src = new SecureRequestCustomizer();\r\n    src.setSniHostCheck(false);\r\n    https_config.addCustomizer(src);\r\n\r\nNote: For PROD version, SniHostCheck is still set to true for us. And I don&#39;t recommend anyone to set it to false.","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>I was also facing same issue when I was running my application from local. As localhost is not allowed for SNI, I disabled the SNI check temporarily in my code. Below is the code I modified for running my application locally :</p>\n<pre><code>SecureRequestCustomizer src = new SecureRequestCustomizer();\nsrc.setSniHostCheck(false);\nhttps_config.addCustomizer(src);\n</code></pre>\n<p>Note: For PROD version, SniHostCheck is still set to true for us. And I don't recommend anyone to set it to false.</p>\n"},{"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":0,"creation_date":1677804461,"post_id":75556567,"comment_id":133414845,"body_markdown":"Please include the info from the link to this answer (and just mark a link as a source).","body":"Please include the info from the link to this answer (and just mark a link as a source)."}],"tags":[],"owner":{"account_id":27869276,"reputation":1,"user_id":21280176,"display_name":"CY Cc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241631,"creation_date":1677241631,"answer_id":75556567,"question_id":69945173,"body_markdown":"For self-signed keystore, It&#39;s tricky that needs to put the hostname (e.g. localhost) int the name.\r\n\r\nhttps://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US\r\n\r\n&quot;When prompted for a first name and the last name, enter the domain name of the server. For example, myserver or myserver.mycompany.com&quot;","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>For self-signed keystore, It's tricky that needs to put the hostname (e.g. localhost) int the name.</p>\n<p><a href=\"https://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US\" rel=\"nofollow noreferrer\">https://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US</a></p>\n<p>&quot;When prompted for a first name and the last name, enter the domain name of the server. For example, myserver or myserver.mycompany.com&quot;</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699469260,"creation_date":1699469260,"answer_id":77448185,"question_id":69945173,"body_markdown":"An adaptation of [@nitin-singhal&#39;s answer](https://stackoverflow.com/a/70930917/3196753) with before/after context added for better understanding.\r\n\r\n\r\nBefore:\r\n```java\r\nHttpConnectionFactory(new HttpConfiguration());\r\n```\r\n\r\nAfter:\r\n```java\r\n// Disable SNI checks for easier testing (replicates Jetty 9.x behavior)\r\nHttpConfiguration httpsConfig = new HttpConfiguration();\r\nSecureRequestCustomizer customizer = new SecureRequestCustomizer();\r\ncustomizer.setSniHostCheck(false);\r\nhttpsConfig.addCustomizer(customizer);\r\n\r\nHttpConnectionFactory httpConnection = new HttpConnectionFactory(httpsConfig);\r\n```\r\n","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>An adaptation of <a href=\"https://stackoverflow.com/a/70930917/3196753\">@nitin-singhal's answer</a> with before/after context added for better understanding.</p>\n<p>Before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpConnectionFactory(new HttpConfiguration());\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Disable SNI checks for easier testing (replicates Jetty 9.x behavior)\nHttpConfiguration httpsConfig = new HttpConfiguration();\nSecureRequestCustomizer customizer = new SecureRequestCustomizer();\ncustomizer.setSniHostCheck(false);\nhttpsConfig.addCustomizer(customizer);\n\nHttpConnectionFactory httpConnection = new HttpConnectionFactory(httpsConfig);\n</code></pre>\n"}],"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14268,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":69945374,"answer_count":4,"score":9,"last_activity_date":1699469260,"creation_date":1636730444,"question_id":69945173,"body_markdown":"I am trying to solve an issue with my Jetty servlet running over HTTPS.\r\n\r\nIt is showing this error page in the browser:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I did:\r\n\r\n1) I created my Keystore and Truststore as is described here: https://stackoverflow.com/questions/47434877/how-to-generate-keystore-and-truststore\r\n\r\n2) Both files were placed in the directory of my project and code was written up to load these files.\r\n\r\n```\r\npackage sk.cood.metahost.server;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.eclipse.jetty.server.*;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\r\n\r\nimport java.io.*;\r\n\r\n@WebServlet(displayName = &quot;MetaHostServlet&quot;, urlPatterns = { &quot;/*&quot; })\r\npublic class MetaHostServlet extends HttpServlet {\r\n    private static File keyStoreFile;\r\n    private static File trustStoreFile;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        loadKeyStores();\r\n\r\n        Server server = new Server(8080);\r\n        ServerConnector connector = createSSLConnector(server, &quot;password&quot;, &quot;password&quot;, false);\r\n        server.addConnector(connector);\r\n\r\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n        context.addServlet(new ServletHolder(new MetaHostServlet()),&quot;/*&quot;);\r\n        context.setContextPath(&quot;/&quot;);\r\n        server.setHandler(context);\r\n\r\n        server.start();\r\n        server.join();\r\n    }\r\n\r\n    private static void loadKeyStores() {\r\n        keyStoreFile = new File(&quot;keystore.jks&quot;);\r\n        trustStoreFile = new File(&quot;truststore.jks&quot;);\r\n        if (!keyStoreFile.exists()) {\r\n            throw new RuntimeException(&quot;Key store file does not exist on path &#39;&quot;+keyStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n        }\r\n        if (!trustStoreFile.exists()) {\r\n            throw new RuntimeException(&quot;Trust store file does not exist on path &#39;&quot;+trustStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n        }\r\n    }\r\n\r\n    private static ServerConnector createSSLConnector(Server server, String keyStorePassword, String trustStorePassword, boolean isClientAuthNeeded) {\r\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\r\n        sslContextFactory.setKeyStorePassword(keyStorePassword);\r\n        sslContextFactory.setTrustStorePath(trustStoreFile.getAbsolutePath());\r\n        sslContextFactory.setTrustStorePassword(trustStorePassword);\r\n        sslContextFactory.setNeedClientAuth(isClientAuthNeeded);\r\n\r\n        HttpConfiguration https_config = new HttpConfiguration();\r\n        https_config.setSendServerVersion(false);\r\n        https_config.setRequestHeaderSize(512 * 1024);\r\n        https_config.setResponseHeaderSize(512 * 1024);\r\n\r\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\r\n        https_config.addCustomizer(src);\r\n\r\n        return new ServerConnector(server, sslContextFactory, new HttpConnectionFactory(https_config));\r\n    }\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException {\r\n        res.setContentType(&quot;text/html&quot;);\r\n        res.setStatus(HttpServletResponse.SC_OK);\r\n        res.getWriter().println(&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;);\r\n        res.getWriter().println(&quot;session=&quot; + req.getSession(true).getId());\r\n    }\r\n}\r\n```\r\n\r\n3) I started my servlet with jetty and tried to connect to localhost:8080 and mentioned error appears.\r\n\r\nThen I tried to create other Keystores and Truststores by other guides, for example, I added DNS alternative names to my new Keystore as is described here: https://serverfault.com/questions/488003/keytool-subjectalternativename but nothing helped me.\r\n\r\nI don&#39;t know what is wrong in my case, maybe someone more experienced with jetty and certificates will help.\r\n\r\nThank you so much!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2JgYH.png","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>I am trying to solve an issue with my Jetty servlet running over HTTPS.</p>\n<p>It is showing this error page in the browser:</p>\n<p><a href=\"https://i.stack.imgur.com/2JgYH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2JgYH.png\" alt=\"enter image description here\" /></a></p>\n<p>What I did:</p>\n<ol>\n<li><p>I created my Keystore and Truststore as is described here: <a href=\"https://stackoverflow.com/questions/47434877/how-to-generate-keystore-and-truststore\">How to generate keystore and truststore</a></p>\n</li>\n<li><p>Both files were placed in the directory of my project and code was written up to load these files.</p>\n</li>\n</ol>\n<pre><code>package sk.cood.metahost.server;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\n\nimport java.io.*;\n\n@WebServlet(displayName = &quot;MetaHostServlet&quot;, urlPatterns = { &quot;/*&quot; })\npublic class MetaHostServlet extends HttpServlet {\n    private static File keyStoreFile;\n    private static File trustStoreFile;\n\n    public static void main(String[] args) throws Exception {\n        loadKeyStores();\n\n        Server server = new Server(8080);\n        ServerConnector connector = createSSLConnector(server, &quot;password&quot;, &quot;password&quot;, false);\n        server.addConnector(connector);\n\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n        context.addServlet(new ServletHolder(new MetaHostServlet()),&quot;/*&quot;);\n        context.setContextPath(&quot;/&quot;);\n        server.setHandler(context);\n\n        server.start();\n        server.join();\n    }\n\n    private static void loadKeyStores() {\n        keyStoreFile = new File(&quot;keystore.jks&quot;);\n        trustStoreFile = new File(&quot;truststore.jks&quot;);\n        if (!keyStoreFile.exists()) {\n            throw new RuntimeException(&quot;Key store file does not exist on path '&quot;+keyStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n        if (!trustStoreFile.exists()) {\n            throw new RuntimeException(&quot;Trust store file does not exist on path '&quot;+trustStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n    }\n\n    private static ServerConnector createSSLConnector(Server server, String keyStorePassword, String trustStorePassword, boolean isClientAuthNeeded) {\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\n        sslContextFactory.setKeyStorePassword(keyStorePassword);\n        sslContextFactory.setTrustStorePath(trustStoreFile.getAbsolutePath());\n        sslContextFactory.setTrustStorePassword(trustStorePassword);\n        sslContextFactory.setNeedClientAuth(isClientAuthNeeded);\n\n        HttpConfiguration https_config = new HttpConfiguration();\n        https_config.setSendServerVersion(false);\n        https_config.setRequestHeaderSize(512 * 1024);\n        https_config.setResponseHeaderSize(512 * 1024);\n\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\n        https_config.addCustomizer(src);\n\n        return new ServerConnector(server, sslContextFactory, new HttpConnectionFactory(https_config));\n    }\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException {\n        res.setContentType(&quot;text/html&quot;);\n        res.setStatus(HttpServletResponse.SC_OK);\n        res.getWriter().println(&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;);\n        res.getWriter().println(&quot;session=&quot; + req.getSession(true).getId());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>I started my servlet with jetty and tried to connect to localhost:8080 and mentioned error appears.</li>\n</ol>\n<p>Then I tried to create other Keystores and Truststores by other guides, for example, I added DNS alternative names to my new Keystore as is described here: <a href=\"https://serverfault.com/questions/488003/keytool-subjectalternativename\">https://serverfault.com/questions/488003/keytool-subjectalternativename</a> but nothing helped me.</p>\n<p>I don't know what is wrong in my case, maybe someone more experienced with jetty and certificates will help.</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","spring","authentication","spring-security"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699462627,"post_id":77447003,"comment_id":136535596,"body_markdown":"Your question confused me somewhat - `the user may remain logged in for a very long time despite his password was changed` - this seems to imply that someone other than the user himself can change his password, correct? If my understanding is correct, then this is a security issue - first someone else will be aware of the user&#39;s password, and second this someone will have to send the password somehow to the user (email for example). The standard flow is that the user remains logged in, if his password expires during active session, and the next time he logs in you force him to change it.","body":"Your question confused me somewhat - <code>the user may remain logged in for a very long time despite his password was changed</code> - this seems to imply that someone other than the user himself can change his password, correct? If my understanding is correct, then this is a security issue - first someone else will be aware of the user&#39;s password, and second this someone will have to send the password somehow to the user (email for example). The standard flow is that the user remains logged in, if his password expires during active session, and the next time he logs in you force him to change it."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1699465431,"post_id":77447003,"comment_id":136536170,"body_markdown":"What do you mean with a password expiring? How can a password expire?","body":"What do you mean with a password expiring? How can a password expire?"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699466016,"post_id":77447003,"comment_id":136536271,"body_markdown":"No, I mean that user changes his password by himself via api that I should implement. But as he stays in an active session, I suppose a method “ authenticate” will not be called until this session expires even if password was changed. I’m trying to figure out is there any way to force closing session right after password was changed by user in order to call method “authenticate” with new password that he will pass","body":"No, I mean that user changes his password by himself via api that I should implement. But as he stays in an active session, I suppose a method “ authenticate” will not be called until this session expires even if password was changed. I’m trying to figure out is there any way to force closing session right after password was changed by user in order to call method “authenticate” with new password that he will pass"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699466240,"post_id":77447003,"comment_id":136536303,"body_markdown":"@Toerktumlare I will add column “expiration_date” in table with users and I will check if expiration_date + 1 year &gt; current_date while authenticate user","body":"@Toerktumlare I will add column “expiration_date” in table with users and I will check if expiration_date + 1 year &gt; current_date while authenticate user"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1699467277,"post_id":77447003,"comment_id":136536489,"body_markdown":"Just invalidate the session then","body":"Just invalidate the session then"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699467556,"post_id":77447003,"comment_id":136536535,"body_markdown":"How can I do it properly? At what point of my app? I would be grateful if you share some examples","body":"How can I do it properly? At what point of my app? I would be grateful if you share some examples"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699467804,"post_id":77447003,"comment_id":136536580,"body_markdown":"@Toerktumlare And also how can invalidate session right after password expires?","body":"@Toerktumlare And also how can invalidate session right after password expires?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699477636,"post_id":77447003,"comment_id":136538281,"body_markdown":"Why? Password expiry doesn’t have to be enforced to the minute and second. The user had a valid password when he logged in, and he won’t next time. This requirement cannot be serious.","body":"Why? Password expiry doesn’t have to be enforced to the minute and second. The user had a valid password when he logged in, and he won’t next time. This requirement cannot be serious."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1699483887,"post_id":77447003,"comment_id":136539245,"body_markdown":"Let&#39;s say you enforce password renewal the moment the old one expires (user definitely won&#39;t be happy that you disrupt him for no good reason, but ...). Why do you want to do that? From security pov, you already know that the user is changing his own password (he is logged), from user experience pov you are giving him bad experience for no benefit. If you are calling the shots, I am urging you to rethink your choice (you will be reworking it). If that&#39;s a client request, do your best to convince him this is a bad idea (he will have you reworking it) and choose some stardard (sane) workflow.","body":"Let&#39;s say you enforce password renewal the moment the old one expires (user definitely won&#39;t be happy that you disrupt him for no good reason, but ...). Why do you want to do that? From security pov, you already know that the user is changing his own password (he is logged), from user experience pov you are giving him bad experience for no benefit. If you are calling the shots, I am urging you to rethink your choice (you will be reworking it). If that&#39;s a client request, do your best to convince him this is a bad idea (he will have you reworking it) and choose some stardard (sane) workflow."}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699468493,"creation_date":1699458104,"question_id":77447003,"body_markdown":"I have a simple Spring security config for &quot;Basic auth&quot; in my app. Now I need to implement password expiration. My question is how can I close a user&#39;s active session if his password was changed? First I thought about `server.servlet.session.timeout` but then I have discovered that this timeout starts from the last user&#39;s request. But in my application it is normal, if I receive requests every 5 seconds from a particular user, this means that the user may remain logged in for a very long time despite his password was changed by user (for avoiding password expiration) or expired.\r\n\r\nHere is my security config:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        private final AuthenticationProvider customAuthenticationProvider;\r\n    \r\n        public SecurityConfig(AuthenticationProvider customAuthenticationProvider) {\r\n            this.customAuthenticationProvider = customAuthenticationProvider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                    .antMatchers(\r\n                            &quot;/app/user&quot;,\r\n                            &quot;/app/user/password/refresh&quot;\r\n                    ).hasRole(&quot;ADMIN&quot;)\r\n                    .antMatchers(&quot;/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and().httpBasic();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) {\r\n            auth.authenticationProvider(customAuthenticationProvider);\r\n        }\r\n    \r\n    }\r\n    \r\n\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n        private static final Logger log = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n        private final UserService userService;\r\n    \r\n        public CustomAuthenticationProvider(@NonNull final UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) {\r\n            String userName = authentication.getName();\r\n            User user = userService.getUserByName(userName);\r\n            String encryptedPassword = DigestUtils.encodePassword(authentication.getCredentials().toString(), user.getSalt());\r\n            String encryptedPasswordFromDb = user.getPassword();\r\n    \r\n            //TODO add validating expiration date\r\n            if (encryptedPassword.equals(encryptedPasswordFromDb)) {\r\n                return new UsernamePasswordAuthenticationToken(\r\n                        userName,\r\n                        encryptedPassword,\r\n                        List.of(new SimpleGrantedAuthority(String.format(\r\n                                &quot;ROLE_%s&quot;,\r\n                                user.getRoleName()\r\n                        ))));\r\n            }\r\n    \r\n            log.error(&quot;Incorrect password for user {}&quot;, userName);\r\n            throw new IllegalArgumentException(String.format(&quot;Incorrect password for user %s&quot;, userName));\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }\r\n\r\n","title":"How to reopen user&#39;s session and force him to authenticate if his password was changed or expired in Sping security?","body":"<p>I have a simple Spring security config for &quot;Basic auth&quot; in my app. Now I need to implement password expiration. My question is how can I close a user's active session if his password was changed? First I thought about <code>server.servlet.session.timeout</code> but then I have discovered that this timeout starts from the last user's request. But in my application it is normal, if I receive requests every 5 seconds from a particular user, this means that the user may remain logged in for a very long time despite his password was changed by user (for avoiding password expiration) or expired.</p>\n<p>Here is my security config:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final AuthenticationProvider customAuthenticationProvider;\n\n    public SecurityConfig(AuthenticationProvider customAuthenticationProvider) {\n        this.customAuthenticationProvider = customAuthenticationProvider;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .antMatchers(\n                        &quot;/app/user&quot;,\n                        &quot;/app/user/password/refresh&quot;\n                ).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and().httpBasic();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n}\n\n\n\n@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n    private static final Logger log = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n    private final UserService userService;\n\n    public CustomAuthenticationProvider(@NonNull final UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) {\n        String userName = authentication.getName();\n        User user = userService.getUserByName(userName);\n        String encryptedPassword = DigestUtils.encodePassword(authentication.getCredentials().toString(), user.getSalt());\n        String encryptedPasswordFromDb = user.getPassword();\n\n        //TODO add validating expiration date\n        if (encryptedPassword.equals(encryptedPasswordFromDb)) {\n            return new UsernamePasswordAuthenticationToken(\n                    userName,\n                    encryptedPassword,\n                    List.of(new SimpleGrantedAuthority(String.format(\n                            &quot;ROLE_%s&quot;,\n                            user.getRoleName()\n                    ))));\n        }\n\n        log.error(&quot;Incorrect password for user {}&quot;, userName);\n        throw new IllegalArgumentException(String.format(&quot;Incorrect password for user %s&quot;, userName));\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","saml","x509certificate","saml-2.0","opensaml"],"answers":[{"tags":[],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467830,"creation_date":1699467830,"answer_id":77448052,"question_id":77445817,"body_markdown":"just add these lines after creating Signature, createSignature();\r\n\r\n\r\n\t\t\tassertion.setSignature(signature);\r\n\t\t\tResponseMarshaller marshaller = new ResponseMarshaller();\r\n\t\t\tElement element = marshaller.marshall(response);\r\n\t\t\t\r\n\t\t\tif (signature != null) {\r\n\t\t\t\tSigner.signObject(signature);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tXMLHelper.writeNode(element, baos);\r\n","title":"Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling,","body":"<p>just add these lines after creating Signature, createSignature();</p>\n<pre><code>        assertion.setSignature(signature);\n        ResponseMarshaller marshaller = new ResponseMarshaller();\n        Element element = marshaller.marshall(response);\n        \n        if (signature != null) {\n            Signer.signObject(signature);\n        }\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        XMLHelper.writeNode(element, baos);\n</code></pre>\n"}],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699467830,"creation_date":1699449064,"question_id":77445817,"body_markdown":"I am not able to generate SAMLResponse, receiving errors; &quot;Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling&quot;, &quot;XMLObject does not have an XMLSignature instance, unable to compute signature&quot;.\r\n\r\nI also tried logging the input stream of the public key by inStream.read(), It prints &quot;inStream: -1&quot;, which I believe is returned when the input file is empty, which is definitely not empty, I am confused, is this is the error or what?\r\n\r\nReceiving following lines of error logs;\r\n\r\n    { role=ADMIN } - Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling\r\n    { role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - org.opensaml.xml.signature.SignatureException: XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    java.lang.NullPointerException: null // at the mentioned error point\r\n\r\n\r\nCode:\r\n\r\n    package HIE.utils;\r\n    \r\n    \r\n    public class SSOSAMLResponse1 {\r\n    \r\n        public Response createSAMLResponse(final String subjectId, final HashMap&lt;String, List&lt;String&gt;&gt; attributes, String issuer) {\r\n            try {\r\n                DefaultBootstrap.bootstrap();\r\n                DateTime datetime = new DateTime(Utilities.getCurrentTimeStamp());\r\n    \r\n                Issuer responseIssuer = null;\r\n                Issuer assertionIssuer = null;\r\n                Subject subject = null;\r\n                AttributeStatement attributeStatement = null;\r\n    \r\n                Status status = createStatus();\r\n    \r\n                if (!Utilities.isNull(issuer)) {\r\n                    responseIssuer = createIssuer(issuer);\r\n                    assertionIssuer = createIssuer(issuer);\r\n                }\r\n    \r\n                if (!Utilities.isNull(subjectId)) {\r\n                    subject = createSubject(subjectId);\r\n                }\r\n    \r\n                if (!Utilities.isNull(attributes) &amp;&amp; attributes.size() != 0) {\r\n                    attributeStatement = createAttributeStatement(attributes);\r\n                }\r\n    \r\n                Conditions conditions = createConditions(datetime);\r\n    \r\n                AuthnStatement authnStatement = createAuthnStatement(datetime);\r\n    \r\n                Assertion assertion = createAssertion(datetime, subject, assertionIssuer, authnStatement, attributeStatement, conditions);\r\n    \r\n                Signature signature = createSignature();\r\n                assertion.setSignature(signature);\r\n                Signer.signObject(signature); // point of error\r\n    \r\n                return createResponse(datetime, responseIssuer, status, assertion);\r\n    \r\n            } catch(Throwable t) {\r\n                log.warn(t.getMessage());\r\n                log.warn(t.getLocalizedMessage());\r\n                log.warn(t.toString());\r\n                t.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        // skipping other defined functions\r\n    \r\n        private Signature createSignature() throws Throwable {\r\n            String absolutePath = &quot;C:/Users/USER/Desktop/office-projects/medicalservice/src/main/resources/sso/&quot;;\r\n            String privateKeyLocation = absolutePath + &quot;x509_priv.pem&quot;;\r\n            String publicKeyLocation =  absolutePath + &quot;x509_cert.crt&quot;;\r\n    \r\n            SignatureBuilder builder = new SignatureBuilder();\r\n            Signature signature = builder.buildObject();\r\n            Credential credential = getSigningCredential(publicKeyLocation, privateKeyLocation);\r\n            signature.setSigningCredential(credential);\r\n            signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\r\n            signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    \r\n            return signature;\r\n        }\r\n    \r\n        public Credential getSigningCredential(String publicKeyLocation, String privateKeyLocation) throws Throwable {\r\n            // create public key (cert) portion of credential\r\n            InputStream inStream = new FileInputStream(publicKeyLocation);\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate x509Certificate = (X509Certificate) cf.generateCertificate(inStream);\r\n            log.info(&quot;inStream: {}&quot;, inStream.read());\r\n            inStream.close();\r\n    \r\n            // create private key\r\n            File file = new File(privateKeyLocation);\r\n            String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\r\n    \r\n            String privateKeyPEM = key\r\n                    .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                    .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n                    .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n    \r\n            log.info(&quot;privateKeyPEM {}&quot;, privateKeyPEM);\r\n    \r\n            byte[] encoded = Base64.decodeBase64(privateKeyPEM);\r\n    \r\n            PKCS8EncodedKeySpec kSpec = new PKCS8EncodedKeySpec(encoded);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = kf.generatePrivate(kSpec);\r\n    \r\n            // create credential and initialize\r\n            BasicX509Credential credential = new BasicX509Credential();\r\n            credential.setEntityCertificate(x509Certificate);\r\n            credential.setPrivateKey(privateKey);\r\n    \r\n            return credential;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling,","body":"<p>I am not able to generate SAMLResponse, receiving errors; &quot;Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling&quot;, &quot;XMLObject does not have an XMLSignature instance, unable to compute signature&quot;.</p>\n<p>I also tried logging the input stream of the public key by inStream.read(), It prints &quot;inStream: -1&quot;, which I believe is returned when the input file is empty, which is definitely not empty, I am confused, is this is the error or what?</p>\n<p>Receiving following lines of error logs;</p>\n<pre><code>{ role=ADMIN } - Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling\n{ role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - org.opensaml.xml.signature.SignatureException: XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\njava.lang.NullPointerException: null // at the mentioned error point\n</code></pre>\n<p>Code:</p>\n<pre><code>package HIE.utils;\n\n\npublic class SSOSAMLResponse1 {\n\n    public Response createSAMLResponse(final String subjectId, final HashMap&lt;String, List&lt;String&gt;&gt; attributes, String issuer) {\n        try {\n            DefaultBootstrap.bootstrap();\n            DateTime datetime = new DateTime(Utilities.getCurrentTimeStamp());\n\n            Issuer responseIssuer = null;\n            Issuer assertionIssuer = null;\n            Subject subject = null;\n            AttributeStatement attributeStatement = null;\n\n            Status status = createStatus();\n\n            if (!Utilities.isNull(issuer)) {\n                responseIssuer = createIssuer(issuer);\n                assertionIssuer = createIssuer(issuer);\n            }\n\n            if (!Utilities.isNull(subjectId)) {\n                subject = createSubject(subjectId);\n            }\n\n            if (!Utilities.isNull(attributes) &amp;&amp; attributes.size() != 0) {\n                attributeStatement = createAttributeStatement(attributes);\n            }\n\n            Conditions conditions = createConditions(datetime);\n\n            AuthnStatement authnStatement = createAuthnStatement(datetime);\n\n            Assertion assertion = createAssertion(datetime, subject, assertionIssuer, authnStatement, attributeStatement, conditions);\n\n            Signature signature = createSignature();\n            assertion.setSignature(signature);\n            Signer.signObject(signature); // point of error\n\n            return createResponse(datetime, responseIssuer, status, assertion);\n\n        } catch(Throwable t) {\n            log.warn(t.getMessage());\n            log.warn(t.getLocalizedMessage());\n            log.warn(t.toString());\n            t.printStackTrace();\n            return null;\n        }\n    }\n\n    // skipping other defined functions\n\n    private Signature createSignature() throws Throwable {\n        String absolutePath = &quot;C:/Users/USER/Desktop/office-projects/medicalservice/src/main/resources/sso/&quot;;\n        String privateKeyLocation = absolutePath + &quot;x509_priv.pem&quot;;\n        String publicKeyLocation =  absolutePath + &quot;x509_cert.crt&quot;;\n\n        SignatureBuilder builder = new SignatureBuilder();\n        Signature signature = builder.buildObject();\n        Credential credential = getSigningCredential(publicKeyLocation, privateKeyLocation);\n        signature.setSigningCredential(credential);\n        signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\n        signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n\n        return signature;\n    }\n\n    public Credential getSigningCredential(String publicKeyLocation, String privateKeyLocation) throws Throwable {\n        // create public key (cert) portion of credential\n        InputStream inStream = new FileInputStream(publicKeyLocation);\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n        X509Certificate x509Certificate = (X509Certificate) cf.generateCertificate(inStream);\n        log.info(&quot;inStream: {}&quot;, inStream.read());\n        inStream.close();\n\n        // create private key\n        File file = new File(privateKeyLocation);\n        String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\n\n        String privateKeyPEM = key\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        log.info(&quot;privateKeyPEM {}&quot;, privateKeyPEM);\n\n        byte[] encoded = Base64.decodeBase64(privateKeyPEM);\n\n        PKCS8EncodedKeySpec kSpec = new PKCS8EncodedKeySpec(encoded);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey privateKey = kf.generatePrivate(kSpec);\n\n        // create credential and initialize\n        BasicX509Credential credential = new BasicX509Credential();\n        credential.setEntityCertificate(x509Certificate);\n        credential.setPrivateKey(privateKey);\n\n        return credential;\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user9455968"},"score":2,"creation_date":1525541400,"post_id":50192200,"comment_id":87401283,"body_markdown":"Show use some code that demonstrates your problem.","body":"Show use some code that demonstrates your problem."},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1525541519,"post_id":50192200,"comment_id":87401320,"body_markdown":"Anjula, you are obviously a newbie Java coder, so instead of trying to guess what the root cause is and ask about that, please post the full details of your actual problem.","body":"Anjula, you are obviously a newbie Java coder, so instead of trying to guess what the root cause is and ask about that, please post the full details of your actual problem."},{"owner":{"account_id":12921108,"reputation":717,"user_id":9343566,"display_name":"Anjula Serasinghe"},"score":0,"creation_date":1525542297,"post_id":50192200,"comment_id":87401588,"body_markdown":"Hi @RobinGreen yes i am and at no point was i meaning to hide it the only reason i didnt post is since it is a group project that we are working on and the rest of the members are not keen on the information being posted on the internet. No other reason. Although i have added some information hope thats sufficient","body":"Hi @RobinGreen yes i am and at no point was i meaning to hide it the only reason i didnt post is since it is a group project that we are working on and the rest of the members are not keen on the information being posted on the internet. No other reason. Although i have added some information hope thats sufficient"}],"answers":[{"comments":[{"owner":{"account_id":12921108,"reputation":717,"user_id":9343566,"display_name":"Anjula Serasinghe"},"score":0,"creation_date":1525542554,"post_id":50192285,"comment_id":87401671,"body_markdown":"HI , thank you so much for your input, I have used the ..close() and the case is some data is written while a selected amount is not . And the only connection i could find was that the data that is not written comes from the same class as the BufferedWriter is in.Therefor the only difference i could find was that everything that is written has something to catch the data entered by the use except the ones i have listen above.","body":"HI , thank you so much for your input, I have used the ..close() and the case is some data is written while a selected amount is not . And the only connection i could find was that the data that is not written comes from the same class as the BufferedWriter is in.Therefor the only difference i could find was that everything that is written has something to catch the data entered by the use except the ones i have listen above."}],"tags":[],"owner":{"account_id":12033869,"reputation":130,"user_id":8803161,"display_name":"Dmich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467749,"creation_date":1525541784,"answer_id":50192285,"question_id":50192200,"body_markdown":"To answer your question, a BufferedWriter by itself does not &#39;require&#39; getters. \r\n\r\nIf your BufferedWriter is not writing data, then the problem might be how you are actually writing the data. You also might want to check if you are calling `.close()` when you are done writing the data. \r\n\r\nAnother problem might be how your data is returned from the get-er. \r\n\r\n*Edit:\r\nThank you for updating your question. &lt;br/&gt;\r\nIf you want to write out the details of `character_Class`, you do need to call the getters of the specific information that you want to get from the class. \r\n\r\nThe reason why `bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);` doesn&#39;t throw an exception or crash is because of how java coerces classes to String. \r\n\r\nThe line of code: &lt;br/&gt;\r\n`&quot;Your Character Class:&quot; + character_Class`&lt;br/&gt;\r\nis the same as: &lt;br/&gt;\r\n`&quot;Your Character Class:&quot; + character_Class.toString()`\r\n\r\nSame happens with objects from skillInfo: \r\n`bufWrite.write(&quot;&quot; + o.toString() + &quot;-  Rank(skill Points) :&quot; + rank);`\r\n\r\nBasically, if you concatenate &#39;+&#39; a String and an object, it calls toString() on the object. If you concatenate a String and a primitive type, it just converts them to Strings first. \r\n","title":"does bufferedWriter require getters","body":"<p>To answer your question, a BufferedWriter by itself does not 'require' getters.</p>\n<p>If your BufferedWriter is not writing data, then the problem might be how you are actually writing the data. You also might want to check if you are calling <code>.close()</code> when you are done writing the data.</p>\n<p>Another problem might be how your data is returned from the get-er.</p>\n<p>*Edit:\nThank you for updating your question. <br/>\nIf you want to write out the details of <code>character_Class</code>, you do need to call the getters of the specific information that you want to get from the class.</p>\n<p>The reason why <code>bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);</code> doesn't throw an exception or crash is because of how java coerces classes to String.</p>\n<p>The line of code: <br/>\n<code>&quot;Your Character Class:&quot; + character_Class</code><br/>\nis the same as: <br/>\n<code>&quot;Your Character Class:&quot; + character_Class.toString()</code></p>\n<p>Same happens with objects from skillInfo:\n<code>bufWrite.write(&quot;&quot; + o.toString() + &quot;-  Rank(skill Points) :&quot; + rank);</code></p>\n<p>Basically, if you concatenate '+' a String and an object, it calls toString() on the object. If you concatenate a String and a primitive type, it just converts them to Strings first.</p>\n"}],"owner":{"account_id":12921108,"reputation":717,"user_id":9343566,"display_name":"Anjula Serasinghe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1699467749,"creation_date":1525541210,"question_id":50192200,"body_markdown":"Hi i know the use of getters is to restrict access. The issue is i have a buffered writer that is using some information in another class. Therefore using getters i have gotten that information and written into a file using the bufferedWriter.\r\n\r\nThe issue comes when i am trying to use some information in the same class as the bufferedWriter. It doesnt write those details . Shows no error in the code either just doesnt write it. If the data is in the same class as the buffered writer i assume that it doesnt need to be accessed using getters? although the values are stored in another method. Explain this\r\nThank you alot\r\n\r\n     bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);\r\n        bufWrite.write(&quot;Your Character Level:&quot; + level + &quot;\\n&quot;);\r\nThe character class and level here are from 1 class called character. To access these information i have used getters (Since the buffered writer is inside another class.Basically i have 3 classes. Character details in one and i am using the bufferedWriter which is in a different class to store these details into a file.)\r\nThese details are written into the file completely.\r\n\r\n    for(Object o:skillInfo){\r\n                bufWrite.write(&quot;&quot; + o + &quot;-  Rank(skill Points) :&quot; + rank);\r\n            }\r\n\r\ni am trying to use this foreach loop to write stuff inside a linkedlist. This linked list is inside the same class as the buffered writer statements are. But this doesnt get written while the other details(as listed above) get written. The only difference is that those details are using getters since they are not in the same class as the bufferedWriter is while the linked list is in the same as the bufferedWriter thus doesnt use a getter.\r\n\r\nI hope this is clear enough\r\n\r\n**Update \r\n\r\nAlso please note that the character.Level and the rank are user entered values.\r\n\r\n\r\n","title":"does bufferedWriter require getters","body":"<p>Hi i know the use of getters is to restrict access. The issue is i have a buffered writer that is using some information in another class. Therefore using getters i have gotten that information and written into a file using the bufferedWriter.</p>\n\n<p>The issue comes when i am trying to use some information in the same class as the bufferedWriter. It doesnt write those details . Shows no error in the code either just doesnt write it. If the data is in the same class as the buffered writer i assume that it doesnt need to be accessed using getters? although the values are stored in another method. Explain this\nThank you alot</p>\n\n<pre><code> bufWrite.write(\"Your Character Class:\" + character_Class + \"\\n\");\n    bufWrite.write(\"Your Character Level:\" + level + \"\\n\");\n</code></pre>\n\n<p>The character class and level here are from 1 class called character. To access these information i have used getters (Since the buffered writer is inside another class.Basically i have 3 classes. Character details in one and i am using the bufferedWriter which is in a different class to store these details into a file.)\nThese details are written into the file completely.</p>\n\n<pre><code>for(Object o:skillInfo){\n            bufWrite.write(\"\" + o + \"-  Rank(skill Points) :\" + rank);\n        }\n</code></pre>\n\n<p>i am trying to use this foreach loop to write stuff inside a linkedlist. This linked list is inside the same class as the buffered writer statements are. But this doesnt get written while the other details(as listed above) get written. The only difference is that those details are using getters since they are not in the same class as the bufferedWriter is while the linked list is in the same as the bufferedWriter thus doesnt use a getter.</p>\n\n<p>I hope this is clear enough</p>\n\n<p>**Update </p>\n\n<p>Also please note that the character.Level and the rank are user entered values.</p>\n"},{"tags":["java","spring-boot","maven","spring-kafka"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1699466784,"post_id":77447372,"comment_id":136536393,"body_markdown":"Are the package names same?","body":"Are the package names same?"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699466859,"post_id":77447372,"comment_id":136536401,"body_markdown":"@springenthusiast you can give try\n1. `@Import(CommonProjectConfig.class)`\n2. `@ComponentScan(&quot;common project package&quot;)`\n3. Suggest you to keep different properties file name like common.properties|yaml so that we can override in other projects\n`--spring.config.location=classpath:/default.properties,classpath:/common.properties`","body":"@springenthusiast you can give try 1. <code>@Import(CommonProjectConfig.class)</code> 2. <code>@ComponentScan(&quot;common project package&quot;)</code> 3. Suggest you to keep different properties file name like common.properties|yaml so that we can override in other projects <code>--spring.config.location=classpath:&#47;default.properties,class&zwnj;&#8203;path:&#47;common.propert&zwnj;&#8203;ies</code>"}],"answers":[{"comments":[{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1700027753,"post_id":77448038,"comment_id":136603258,"body_markdown":"Thank you for the suggestion. I had to add componentscan both inside JAR and client project to get autowiring working, not sure why it&#39;s not working if I remove it from JAR. On the 2nd point, I changed yml file to different name and loaded using EnvironmentPostProcessor approach, but the kafka-consumer using kafka-binder approach is not able to find some of properties in client project, but other properties like logging.level, metrics are all getting loaded properly. Any idea whether kafka-binder approach doesn&#39;t support this type of loading?","body":"Thank you for the suggestion. I had to add componentscan both inside JAR and client project to get autowiring working, not sure why it&#39;s not working if I remove it from JAR. On the 2nd point, I changed yml file to different name and loaded using EnvironmentPostProcessor approach, but the kafka-consumer using kafka-binder approach is not able to find some of properties in client project, but other properties like logging.level, metrics are all getting loaded properly. Any idea whether kafka-binder approach doesn&#39;t support this type of loading?"}],"tags":[],"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467632,"creation_date":1699467632,"answer_id":77448038,"question_id":77447372,"body_markdown":"**For the first question**\r\n\r\nIf the dependency has a different package name, then use `@ComponentScan` like below to load any beans from another package.\r\n\r\n`@ComponentScan(basePackages = &quot;com.test.dependency&quot;)`\r\n\r\nYou can also declare beans programmatically in your main application.\r\n\r\n**For second question**\r\n\r\nThere are many ways to do this. You can \r\n1. Import the property source (using @Import)\r\n2. Have an auto configuration annotation (Have a look at this [AutoConfiguration example][1])\r\n3. Have defaults loaded from the properties using classpath resolution. (See the same SO on how the application.properties was read) \r\n\r\n**For question 3:**\r\n\r\nIMO, the dependency must allow override properties from the main application. As defaults, you can keep the values in the dependency, but whether it is the default ones to pick up must be dictated by the main application. This approach can be seen in many other sdks and even spring modules itself.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring","title":"how to have repeated configurations in springboot as jar and use as dependency","body":"<p><strong>For the first question</strong></p>\n<p>If the dependency has a different package name, then use <code>@ComponentScan</code> like below to load any beans from another package.</p>\n<p><code>@ComponentScan(basePackages = &quot;com.test.dependency&quot;)</code></p>\n<p>You can also declare beans programmatically in your main application.</p>\n<p><strong>For second question</strong></p>\n<p>There are many ways to do this. You can</p>\n<ol>\n<li>Import the property source (using @Import)</li>\n<li>Have an auto configuration annotation (Have a look at this <a href=\"https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring\">AutoConfiguration example</a>)</li>\n<li>Have defaults loaded from the properties using classpath resolution. (See the same SO on how the application.properties was read)</li>\n</ol>\n<p><strong>For question 3:</strong></p>\n<p>IMO, the dependency must allow override properties from the main application. As defaults, you can keep the values in the dependency, but whether it is the default ones to pick up must be dictated by the main application. This approach can be seen in many other sdks and even spring modules itself.</p>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699467632,"creation_date":1699461355,"question_id":77447372,"body_markdown":"We have many microservices for multiple tasks and most of them have some common functionality like log configuration, metrics configuration and kafka configuration etc.\r\nWe are planning to have a common JAR with common functionalities and utilise in all microservices.\r\n\r\nWhen we created custom springboot jar with `application.yml` having these common configuration and few other @Component and @Service classes and included as dependency in microservices it&#39;s not reading any property from JAR specific `application.yml` inside the JAR.\r\n\r\nCustom springboot jar -\r\n\r\n    src/main/java - \r\n    \r\n        @Configuration\r\n        public class KafkaConfiguration {}\r\n        \r\n        @Service\r\n        public class CommonProcessor {}\r\n    \r\n   src/main/resources -\r\n    \r\n **application.yml**\r\n    \r\n    logging:\r\n      level:\r\n        org.apache: DEBUG\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          kafka:\r\n            binder:\r\n              autoCreateTopics: false\r\n              brokers: localhost:9092\r\n              configuration:\r\n                sasl:\r\n                  jaas:\r\n                    config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;&quot; password=&quot;&quot;;\r\n\r\nIn `KafkaConfiguration.java` I am reading above properties and creating kafka connection, kafka template object etc. and if I write sample consumer/producer inside this jar and run as springboot project everything works fine.\r\n\r\nBu I want to use this jar as dependency in my microservice and utilise the kafka connections/kafkatemplate etc. i.e when it is unable to load any properties from above `application.yml` and fails creating bean.\r\n\r\nMicroservice structure -\r\n\r\n*src/main/java* \r\n\r\n    @Component\r\n    public class Consumer {\r\n    @Autowired\r\n    KafkaTemplate kafkaTemplate;\r\n    }\r\n\r\n*src/main/resources*\r\n\r\n**application.yml**\r\n\r\n    test:\r\n     property: test\r\n    example:\r\n     service:\r\n      url: https://localhost:8080/service\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common-jar&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\nWhat am I missing here because of which my JAR file fails to create the beans defined inside it by loading the properties? Is this approach of having 2 application.yml not correct? what is best way to have common properties in one place?","title":"how to have repeated configurations in springboot as jar and use as dependency","body":"<p>We have many microservices for multiple tasks and most of them have some common functionality like log configuration, metrics configuration and kafka configuration etc.\nWe are planning to have a common JAR with common functionalities and utilise in all microservices.</p>\n<p>When we created custom springboot jar with <code>application.yml</code> having these common configuration and few other @Component and @Service classes and included as dependency in microservices it's not reading any property from JAR specific <code>application.yml</code> inside the JAR.</p>\n<p>Custom springboot jar -</p>\n<pre><code>src/main/java - \n\n    @Configuration\n    public class KafkaConfiguration {}\n    \n    @Service\n    public class CommonProcessor {}\n</code></pre>\n<p>src/main/resources -</p>\n<p><strong>application.yml</strong></p>\n<pre><code>logging:\n  level:\n    org.apache: DEBUG\nspring:\n  cloud:\n    stream:\n      kafka:\n        binder:\n          autoCreateTopics: false\n          brokers: localhost:9092\n          configuration:\n            sasl:\n              jaas:\n                config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;&quot; password=&quot;&quot;;\n</code></pre>\n<p>In <code>KafkaConfiguration.java</code> I am reading above properties and creating kafka connection, kafka template object etc. and if I write sample consumer/producer inside this jar and run as springboot project everything works fine.</p>\n<p>Bu I want to use this jar as dependency in my microservice and utilise the kafka connections/kafkatemplate etc. i.e when it is unable to load any properties from above <code>application.yml</code> and fails creating bean.</p>\n<p>Microservice structure -</p>\n<p><em>src/main/java</em></p>\n<pre><code>@Component\npublic class Consumer {\n@Autowired\nKafkaTemplate kafkaTemplate;\n}\n</code></pre>\n<p><em>src/main/resources</em></p>\n<p><strong>application.yml</strong></p>\n<pre><code>test:\n property: test\nexample:\n service:\n  url: https://localhost:8080/service\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.test&lt;/groupId&gt;\n&lt;artifactId&gt;common-jar&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n</code></pre>\n<p>What am I missing here because of which my JAR file fails to create the beans defined inside it by loading the properties? Is this approach of having 2 application.yml not correct? what is best way to have common properties in one place?</p>\n"},{"tags":["java","spring","testing","module","spring-data-jpa"],"comments":[{"owner":{"account_id":3597402,"reputation":1164,"user_id":3001675,"accept_rate":86,"display_name":"LIvanov"},"score":0,"creation_date":1698384373,"post_id":77218252,"comment_id":136400978,"body_markdown":"How do you configure modulith, so that your domain classes in every module can live in a `domain` subpackage? When running `org.springframework.modulith.core.ApplicationModules#verify` I get `Duplicate key domain (attempted merging values # Domain ...`","body":"How do you configure modulith, so that your domain classes in every module can live in a <code>domain</code> subpackage? When running <code>org.springframework.modulith.core.ApplicationModules#verify</code> I get <code>Duplicate key domain (attempted merging values # Domain ...</code>"}],"answers":[{"comments":[{"owner":{"account_id":4512875,"reputation":108,"user_id":3668523,"display_name":"DanieldeJong93"},"score":0,"creation_date":1696451567,"post_id":77232762,"comment_id":136156438,"body_markdown":"Thanks for the answer, but I think the solution should be in a way where we can exclude the repository from being included while in the ApplicationModuleTest instead of expanding the scope. The goal of this test is to have a scoped test, we should not break that. Sadly I am not able to find a way yet to configure my  test in this way.","body":"Thanks for the answer, but I think the solution should be in a way where we can exclude the repository from being included while in the ApplicationModuleTest instead of expanding the scope. The goal of this test is to have a scoped test, we should not break that. Sadly I am not able to find a way yet to configure my  test in this way."},{"owner":{"account_id":7745899,"reputation":1296,"user_id":5863693,"accept_rate":89,"display_name":"Yos"},"score":0,"creation_date":1696452675,"post_id":77232762,"comment_id":136156644,"body_markdown":"Your logic is right, but Spring Modulith doesn&#39;t give a solution for this problem which is really a Spring Boot problem. There&#39;re probably some complicated workarounds which are either not worth the effort or which will not hold for a real project. Perhaps check Spring Boot slices https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4","body":"Your logic is right, but Spring Modulith doesn&#39;t give a solution for this problem which is really a Spring Boot problem. There&#39;re probably some complicated workarounds which are either not worth the effort or which will not hold for a real project. Perhaps check Spring Boot slices <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"nofollow noreferrer\">spring.io/blog/2016/08/30/&hellip;</a>"}],"tags":[],"owner":{"account_id":7745899,"reputation":1296,"user_id":5863693,"accept_rate":89,"display_name":"Yos"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696451603,"creation_date":1696451172,"answer_id":77232762,"question_id":77218252,"body_markdown":"The problem is that `@EnableJpaRepositories` will look for all repositories defined in the project including `OutboundOrderJpaPersistence` to initialize them as Spring beans. However, the `@ApplicationModuleTest` annotation by default will import [only the module under test][1] which will exclude `orderfulfillment` module which contains `OutboundOrderJpaPersistence`. As a result the application crashes.\r\n\r\nYou have several options here:\r\n1. Add `@SpringBootTest` and `@EnableScenarios` annotations to the test class.\r\n2. Use `@ApplicationModuleTest(extraIncludes = &quot;orderfulfillment&quot;)` - not recommended because as soon as you add another repository which `inventorymanagement` doesn&#39;t depend on, you will run into the same issue again.\r\n3. In case `inventorymanagement` module depends on `orderfulfillment` then you could use `@ApplicationModuleTest(ApplicationModuleTest.BootstrapMode.DIRECT_DEPENDENCIES)` but I wouldn&#39;t recommend this because as soon as you add another repository which `inventorymanagement` doesn&#39;t depend on, you will run into the same issue again.\r\n\r\n  [1]: https://docs.spring.io/spring-modulith/docs/current/reference/html/#testing.bootstrap-modes","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>The problem is that <code>@EnableJpaRepositories</code> will look for all repositories defined in the project including <code>OutboundOrderJpaPersistence</code> to initialize them as Spring beans. However, the <code>@ApplicationModuleTest</code> annotation by default will import <a href=\"https://docs.spring.io/spring-modulith/docs/current/reference/html/#testing.bootstrap-modes\" rel=\"nofollow noreferrer\">only the module under test</a> which will exclude <code>orderfulfillment</code> module which contains <code>OutboundOrderJpaPersistence</code>. As a result the application crashes.</p>\n<p>You have several options here:</p>\n<ol>\n<li>Add <code>@SpringBootTest</code> and <code>@EnableScenarios</code> annotations to the test class.</li>\n<li>Use <code>@ApplicationModuleTest(extraIncludes = &quot;orderfulfillment&quot;)</code> - not recommended because as soon as you add another repository which <code>inventorymanagement</code> doesn't depend on, you will run into the same issue again.</li>\n<li>In case <code>inventorymanagement</code> module depends on <code>orderfulfillment</code> then you could use <code>@ApplicationModuleTest(ApplicationModuleTest.BootstrapMode.DIRECT_DEPENDENCIES)</code> but I wouldn't recommend this because as soon as you add another repository which <code>inventorymanagement</code> doesn't depend on, you will run into the same issue again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4512875,"reputation":108,"user_id":3668523,"display_name":"DanieldeJong93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699467140,"creation_date":1699467140,"answer_id":77448003,"question_id":77218252,"body_markdown":"After discussion with the maintainer of the spring-modulith it has been resolved in a later version. This version is of not yet fully released by spring.\r\n\r\nSee https://github.com/spring-projects/spring-modulith/issues/316 for more information.","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>After discussion with the maintainer of the spring-modulith it has been resolved in a later version. This version is of not yet fully released by spring.</p>\n<p>See <a href=\"https://github.com/spring-projects/spring-modulith/issues/316\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-modulith/issues/316</a> for more information.</p>\n"}],"owner":{"account_id":4512875,"reputation":108,"user_id":3668523,"display_name":"DanieldeJong93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77448003,"answer_count":2,"score":1,"last_activity_date":1699467140,"creation_date":1696277419,"question_id":77218252,"body_markdown":"While working with Spring Modulith I am trying to test the ApplicationModuleTest in a multi module application. I am running into problems when spring is trying to create JpaRepositories implementations for modules that are not under test.\r\n\r\nMy project structure is as follows:\r\n\r\n&gt; nl.daniel.dejong\r\n&gt; - Application.java\r\n&gt; - inventorymanagement\r\n&gt;   - domain\r\n&gt;     - ProductService.java\r\n&gt;     - Product.java\r\n&gt;     - ProductId.java\r\n&gt;   - infrastructure.persistence\r\n&gt;     - ProductJpaPersistence.java\r\n&gt; - orderfulfillment\r\n&gt;   - domain\r\n&gt;     - OutboundOrder.java\r\n&gt;   - infrastructure.persistence\r\n&gt;     - OutboundOrderJpaPersistence.java\r\n\r\nThe persistences are default JpaPersistences using the domain object as domain object eg:\r\n\r\n    @Repository\r\n    public interface ProductJpaPersistence extends ProductPersistence, JpaRepository&lt;Product, ProductId&gt; {\r\n    }\r\n\r\nMy Application.java looks as follows\r\n\r\n    @SpringBootApplication\r\n    @EnableAsync\r\n    @ConfigurationPropertiesScan\r\n    @EnableJpaRepositories\r\n    public class Application {\r\n        public static void main(String... args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nWhen creating a `ApplicationModuleTest` for the product module It is trying to create a `OutboundOrderJpaPersistence` bean. The results into the problem that the ApplicationModuleTest annotation filters the scope of the test and therefor it cannot find the OutboundOrder that the Repository is managing. \r\n\r\nTest:\r\n\r\n    @ApplicationModuleTest\r\n    @RequiredArgsConstructor\r\n    class ProductIntegrationTest {\r\n        private static final String PRODUCT_NAME = &quot;Product 1&quot;;\r\n        private final ProductService productService;\r\n    \r\n        @Test\r\n        public void createProduct(Scenario scenario) {\r\n            var createProduct = new Product();\r\n            createProduct.setName(PRODUCT_NAME);\r\n    \r\n            scenario.stimulate(() -&gt; productService.create(createProduct))\r\n                    .andWaitForEventOfType(ProductCreated.class)\r\n                    .matchingMappedValue(ProductCreated::name, PRODUCT_NAME);\r\n    \r\n        }\r\n    }\r\n\r\nStackTrace:\r\n\r\n    org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [final nl.daniel.dejong.inventorymanagement.application.product.ProductService productService] in constructor [public nl.daniel.dejong.inventorymanagement.ProductIntegrationTest(nl.daniel.dejong.inventorymanagement.application.product.ProductService)]: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:159)\r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameters(ParameterResolutionUtils.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:59)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.getApplicationContext(SpringExtension.java:283)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.resolveParameter(SpringExtension.java:269)\r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:136)\r\n    \t... 51 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;outboundOrderJpaPersistence&#39; defined in nl.daniel.dejong.orderfulfillment.infrastructure.persistence.OutboundOrderJpaPersistence defined in @EnableJpaRepositories declared on Application: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n    \t... 55 more\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82)\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n    \t... 76 more\r\n\r\nWhen changing the `@EnableJpaRepositories` to point to the module under test `@EnableJpaRepositories(&quot;nl.daniel.dejong.inventorymanagement&quot;)` the test works as expected.\r\n\r\nPS: The situation described above is a representation as close as possible to the full implementation, but it could miss some information. Left out some of the details to not cloud the post.\r\n\r\nAm I doing something wrong here or is this unexpected behavior?\r\n\r\nEdit: by actually removing the ‘EnableJpaRepositories’ from the ‘Application.Java’ I am able to override the repository locations by using a configuration containing ‘EnableJpaRepositories’ in the test. I am still of opinion that SpringModulith should have a way of doing this by itself.","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>While working with Spring Modulith I am trying to test the ApplicationModuleTest in a multi module application. I am running into problems when spring is trying to create JpaRepositories implementations for modules that are not under test.</p>\n<p>My project structure is as follows:</p>\n<blockquote>\n<p>nl.daniel.dejong</p>\n<ul>\n<li>Application.java</li>\n<li>inventorymanagement\n<ul>\n<li>domain\n<ul>\n<li>ProductService.java</li>\n<li>Product.java</li>\n<li>ProductId.java</li>\n</ul>\n</li>\n<li>infrastructure.persistence\n<ul>\n<li>ProductJpaPersistence.java</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>orderfulfillment\n<ul>\n<li>domain\n<ul>\n<li>OutboundOrder.java</li>\n</ul>\n</li>\n<li>infrastructure.persistence\n<ul>\n<li>OutboundOrderJpaPersistence.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>The persistences are default JpaPersistences using the domain object as domain object eg:</p>\n<pre><code>@Repository\npublic interface ProductJpaPersistence extends ProductPersistence, JpaRepository&lt;Product, ProductId&gt; {\n}\n</code></pre>\n<p>My Application.java looks as follows</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\n@ConfigurationPropertiesScan\n@EnableJpaRepositories\npublic class Application {\n    public static void main(String... args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>When creating a <code>ApplicationModuleTest</code> for the product module It is trying to create a <code>OutboundOrderJpaPersistence</code> bean. The results into the problem that the ApplicationModuleTest annotation filters the scope of the test and therefor it cannot find the OutboundOrder that the Repository is managing.</p>\n<p>Test:</p>\n<pre><code>@ApplicationModuleTest\n@RequiredArgsConstructor\nclass ProductIntegrationTest {\n    private static final String PRODUCT_NAME = &quot;Product 1&quot;;\n    private final ProductService productService;\n\n    @Test\n    public void createProduct(Scenario scenario) {\n        var createProduct = new Product();\n        createProduct.setName(PRODUCT_NAME);\n\n        scenario.stimulate(() -&gt; productService.create(createProduct))\n                .andWaitForEventOfType(ProductCreated.class)\n                .matchingMappedValue(ProductCreated::name, PRODUCT_NAME);\n\n    }\n}\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [final nl.daniel.dejong.inventorymanagement.application.product.ProductService productService] in constructor [public nl.daniel.dejong.inventorymanagement.ProductIntegrationTest(nl.daniel.dejong.inventorymanagement.application.product.ProductService)]: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:159)\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameters(ParameterResolutionUtils.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:59)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.getApplicationContext(SpringExtension.java:283)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.resolveParameter(SpringExtension.java:269)\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:136)\n    ... 51 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'outboundOrderJpaPersistence' defined in nl.daniel.dejong.orderfulfillment.infrastructure.persistence.OutboundOrderJpaPersistence defined in @EnableJpaRepositories declared on Application: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n    ... 55 more\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82)\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\n    at org.springframework.data.util.Lazy.get(Lazy.java:114)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 76 more\n</code></pre>\n<p>When changing the <code>@EnableJpaRepositories</code> to point to the module under test <code>@EnableJpaRepositories(&quot;nl.daniel.dejong.inventorymanagement&quot;)</code> the test works as expected.</p>\n<p>PS: The situation described above is a representation as close as possible to the full implementation, but it could miss some information. Left out some of the details to not cloud the post.</p>\n<p>Am I doing something wrong here or is this unexpected behavior?</p>\n<p>Edit: by actually removing the ‘EnableJpaRepositories’ from the ‘Application.Java’ I am able to override the repository locations by using a configuration containing ‘EnableJpaRepositories’ in the test. I am still of opinion that SpringModulith should have a way of doing this by itself.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9843,"page":74,"page_size":100}
