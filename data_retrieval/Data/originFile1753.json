{"items":[{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1515692412,"post_id":42695632,"comment_id":83407270,"body_markdown":"did you find a silution","body":"did you find a silution"}],"answers":[{"tags":[],"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639723714,"creation_date":1639723714,"answer_id":70389380,"question_id":42695632,"body_markdown":"Use `contains` or `in` operator\r\n\r\n    $.queryResponse[?(@.childList[*].type contains &#39;B&#39;)]\r\n\r\n**OR**\r\n\r\n    $.queryResponse[?(&#39;B&#39; in @.childList[*].type )]\r\n\r\n","title":"Jayway JsonPath Filter expression for inner array","body":"<p>Use <code>contains</code> or <code>in</code> operator</p>\n<pre><code>$.queryResponse[?(@.childList[*].type contains 'B')]\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>$.queryResponse[?('B' in @.childList[*].type )]\n</code></pre>\n"}],"owner":{"account_id":10420077,"reputation":61,"user_id":7682969,"display_name":"rush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1639723714,"creation_date":1489063161,"question_id":42695632,"body_markdown":"I have a JSON file in the format below. \r\n\r\n\r\n    {  \r\n       &quot;queryResponse&quot;:[  \r\n          {  \r\n             &quot;id&quot;:&quot;1&quot;,\r\n             &quot;name&quot;:&quot;Parent1&quot;,\r\n             &quot;childList&quot;:[  \r\n                {  \r\n                   &quot;id&quot;:&quot;11&quot;,\r\n                   &quot;type&quot;:&quot;A&quot;\r\n                },\r\n                {  \r\n                   &quot;id&quot;:&quot;12&quot;,\r\n                   &quot;type&quot;:&quot;B&quot;\r\n                }\r\n             ]\r\n          },\r\n          {  \r\n             &quot;id&quot;:&quot;2&quot;,\r\n             &quot;name&quot;:&quot;Parent2&quot;,\r\n             &quot;childList&quot;:[  \r\n                {  \r\n                   &quot;id&quot;:&quot;21&quot;,\r\n                   &quot;type&quot;:&quot;B&quot;\r\n                },\r\n                {  \r\n                   &quot;id&quot;:&quot;22&quot;,\r\n                   &quot;type&quot;:&quot;C&quot;\r\n                }\r\n             ]\r\n          }\r\n       ]\r\n    }\r\n\r\nUsing jayway JsonPath, how do I get all the Parent nodes which have child nodes with type &quot;B&quot;?\r\n\r\nThese filter expressions returned an empty array:\r\n\r\n* a wild card in the index like *$.queryResponse[?(@.childList[\\*].type==&#39;B&#39;)]*\r\n* a deep scan operator in the filter field like *$.queryResponse[?(@.childList..type==&#39;B&#39;)]*\r\n\r\nThe only filter expression that is closest to what I want is the one with array index for ex: *$.queryResponse[?(@.childList[0].type==&#39;A&#39;)]*\r\n\r\n\r\n","title":"Jayway JsonPath Filter expression for inner array","body":"<p>I have a JSON file in the format below. </p>\n\n<pre><code>{  \n   \"queryResponse\":[  \n      {  \n         \"id\":\"1\",\n         \"name\":\"Parent1\",\n         \"childList\":[  \n            {  \n               \"id\":\"11\",\n               \"type\":\"A\"\n            },\n            {  \n               \"id\":\"12\",\n               \"type\":\"B\"\n            }\n         ]\n      },\n      {  \n         \"id\":\"2\",\n         \"name\":\"Parent2\",\n         \"childList\":[  \n            {  \n               \"id\":\"21\",\n               \"type\":\"B\"\n            },\n            {  \n               \"id\":\"22\",\n               \"type\":\"C\"\n            }\n         ]\n      }\n   ]\n}\n</code></pre>\n\n<p>Using jayway JsonPath, how do I get all the Parent nodes which have child nodes with type \"B\"?</p>\n\n<p>These filter expressions returned an empty array:</p>\n\n<ul>\n<li>a wild card in the index like <em>$.queryResponse[?(@.childList[*].type=='B')]</em></li>\n<li>a deep scan operator in the filter field like <em>$.queryResponse[?(@.childList..type=='B')]</em></li>\n</ul>\n\n<p>The only filter expression that is closest to what I want is the one with array index for ex: <em>$.queryResponse[?(@.childList[0].type=='A')]</em></p>\n"},{"tags":["javascript","java","internet-explorer","selenium"],"comments":[{"owner":{"account_id":3498641,"reputation":827,"user_id":2925985,"accept_rate":87,"display_name":"Susannah Potts"},"score":0,"creation_date":1471529693,"post_id":39020381,"comment_id":65391462,"body_markdown":"What version of Internet Explorer are you testing on?  It could be that the version you&#39;re using doesn&#39;t [support this method](http://stackoverflow.com/a/9830222/2925985) (see second comment).  w3schools suggests I.E. is [supported](http://www.w3schools.com/jsref/met_win_scrollby.asp) (doesn&#39;t specify version), but also says that the scrollbar must have its visible property set to true.","body":"What version of Internet Explorer are you testing on?  It could be that the version you&#39;re using doesn&#39;t <a href=\"http://stackoverflow.com/a/9830222/2925985\">support this method</a> (see second comment).  w3schools suggests I.E. is <a href=\"http://www.w3schools.com/jsref/met_win_scrollby.asp\" rel=\"nofollow noreferrer\">supported</a> (doesn&#39;t specify version), but also says that the scrollbar must have its visible property set to true."},{"owner":{"account_id":5150340,"reputation":45,"user_id":4125115,"accept_rate":36,"display_name":"Mateusz J"},"score":0,"creation_date":1471530403,"post_id":39020381,"comment_id":65392000,"body_markdown":"Using IE 11.0.96. Is there any way to set that property without breaking how the code works for Chrome/Firefox? I basically want the same thing to ideally work for all three platforms.","body":"Using IE 11.0.96. Is there any way to set that property without breaking how the code works for Chrome/Firefox? I basically want the same thing to ideally work for all three platforms."},{"owner":{"account_id":3498641,"reputation":827,"user_id":2925985,"accept_rate":87,"display_name":"Susannah Potts"},"score":0,"creation_date":1471530747,"post_id":39020381,"comment_id":65392262,"body_markdown":"I&#39;m not sure if it can be set...I know it&#39;s located at `window.scrollbars.visible`.  You can also check it like [this](http://stackoverflow.com/a/4814526/2925985).  Also, what happens if you try the same process but with `scrollTo()`?","body":"I&#39;m not sure if it can be set...I know it&#39;s located at <code>window.scrollbars.visible</code>.  You can also check it like <a href=\"http://stackoverflow.com/a/4814526/2925985\">this</a>.  Also, what happens if you try the same process but with <code>scrollTo()</code>?"},{"owner":{"account_id":3498641,"reputation":827,"user_id":2925985,"accept_rate":87,"display_name":"Susannah Potts"},"score":0,"creation_date":1471530997,"post_id":39020381,"comment_id":65392458,"body_markdown":"So I just ran this command on my IE on that website and I was able to get it to scroll.  There might be a problem with your IE settings or the installation all together.","body":"So I just ran this command on my IE on that website and I was able to get it to scroll.  There might be a problem with your IE settings or the installation all together."},{"owner":{"account_id":5150340,"reputation":45,"user_id":4125115,"accept_rate":36,"display_name":"Mateusz J"},"score":0,"creation_date":1471531058,"post_id":39020381,"comment_id":65392515,"body_markdown":"scrollTo returns the same error, which is to say the lack of one due to the lack of stacktrace information.","body":"scrollTo returns the same error, which is to say the lack of one due to the lack of stacktrace information."},{"owner":{"account_id":5150340,"reputation":45,"user_id":4125115,"accept_rate":36,"display_name":"Mateusz J"},"score":0,"creation_date":1471531387,"post_id":39020381,"comment_id":65392746,"body_markdown":"I seem to get the same vague error with any javascript I try to run with IE, not just this example code. I am able to replicate this error on multiple VMs so I&#39;m not sure if its a problem with the web driver or something else.","body":"I seem to get the same vague error with any javascript I try to run with IE, not just this example code. I am able to replicate this error on multiple VMs so I&#39;m not sure if its a problem with the web driver or something else."},{"owner":{"account_id":3498641,"reputation":827,"user_id":2925985,"accept_rate":87,"display_name":"Susannah Potts"},"score":0,"creation_date":1471531660,"post_id":39020381,"comment_id":65392956,"body_markdown":"That is bizarre.  It might be something with the webdriver then, have you tested directly on I.E. with the console or are you doing it through the webdriver every time?","body":"That is bizarre.  It might be something with the webdriver then, have you tested directly on I.E. with the console or are you doing it through the webdriver every time?"},{"owner":{"account_id":5995371,"reputation":1577,"user_id":5120498,"accept_rate":44,"display_name":"Striter Alfa"},"score":0,"creation_date":1471534713,"post_id":39020381,"comment_id":65395100,"body_markdown":"Are you using IEDriverServer64? The 32x version shoud work fine while the 64x version have some werid bugs even in a 64x OS","body":"Are you using IEDriverServer64? The 32x version shoud work fine while the 64x version have some werid bugs even in a 64x OS"},{"owner":{"account_id":5150340,"reputation":45,"user_id":4125115,"accept_rate":36,"display_name":"Mateusz J"},"score":0,"creation_date":1471595743,"post_id":39020381,"comment_id":65418912,"body_markdown":"Both the 64 and 32 versions cause the same error. I have tested directly on IE and the commands seem to work without any problems. I still have no clue what the problem is.","body":"Both the 64 and 32 versions cause the same error. I have tested directly on IE and the commands seem to work without any problems. I still have no clue what the problem is."}],"owner":{"account_id":5150340,"reputation":45,"user_id":4125115,"accept_rate":36,"display_name":"Mateusz J"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639723522,"creation_date":1471529276,"question_id":39020381,"body_markdown":"I&#39;ve come across an issue with some simple javascript when working with IE. This issue has happened on both Windows 7 and 8. At first I had the standard issue which has been [well described here][1] and I applied the regex fixes that can be downloaded [here][2] but the error simply changed from &quot;Unable to get browser&quot; to \r\n     \r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: JavaScript error (WARNING: The server did not provide any stacktrace information)\r\n\r\nSo I thought that something might be wrong with the simple piece of Javascript, but all my Javascript seems to run fine in both firefox and chrome but break down on IE.\r\n\r\nThis is the simple piece of code I used:\r\n\r\n    WebDriver dr = new InternetExplorerDriver();\r\n\tdr.get(&quot;https://www.bbc.co.uk&quot;);\r\n \tJavascriptExecutor js = (JavascriptExecutor)dr; \r\n  \tjs.executeScript(&quot;window.scrollBy(0,150)&quot;, &quot;&quot;);\r\n\r\nDue to the IE Web Driver not providing any stack trace information I have no idea how to actually fix this issue. \r\n\r\nAnd yes my protection levels on IE seem to be in working order. Adding BBC to a list of trusted sites didn&#39;t solve the problem either. \r\n\r\n  [1]: https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/6511\r\n  [2]: https://github.com/mherrmann/selenium-python-helium","title":"Selenium (2.53) and IE Driver - Javascript injections do not work","body":"<p>I've come across an issue with some simple javascript when working with IE. This issue has happened on both Windows 7 and 8. At first I had the standard issue which has been <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/6511\" rel=\"nofollow noreferrer\">well described here</a> and I applied the regex fixes that can be downloaded <a href=\"https://github.com/mherrmann/selenium-python-helium\" rel=\"nofollow noreferrer\">here</a> but the error simply changed from &quot;Unable to get browser&quot; to</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: JavaScript error (WARNING: The server did not provide any stacktrace information)\n</code></pre>\n<p>So I thought that something might be wrong with the simple piece of Javascript, but all my Javascript seems to run fine in both firefox and chrome but break down on IE.</p>\n<p>This is the simple piece of code I used:</p>\n<pre><code>WebDriver dr = new InternetExplorerDriver();\ndr.get(&quot;https://www.bbc.co.uk&quot;);\nJavascriptExecutor js = (JavascriptExecutor)dr; \njs.executeScript(&quot;window.scrollBy(0,150)&quot;, &quot;&quot;);\n</code></pre>\n<p>Due to the IE Web Driver not providing any stack trace information I have no idea how to actually fix this issue.</p>\n<p>And yes my protection levels on IE seem to be in working order. Adding BBC to a list of trusted sites didn't solve the problem either.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1471417764,"post_id":38989185,"comment_id":65332412,"body_markdown":"Could you show the `inicializaSubvencio` method and enough of `Subvencio` to see, how you implement the properties?","body":"Could you show the <code>inicializaSubvencio</code> method and enough of <code>Subvencio</code> to see, how you implement the properties?"},{"owner":{"account_id":2442919,"reputation":456,"user_id":2130930,"accept_rate":100,"display_name":"iMan"},"score":0,"creation_date":1471418301,"post_id":38989185,"comment_id":65332734,"body_markdown":"I don&#39;t see the definition of TableView and what the template class (if, you have) is you have created it with. I think you can show a bit more of code, to start with, the methods you have referenced in these snippets.","body":"I don&#39;t see the definition of TableView and what the template class (if, you have) is you have created it with. I think you can show a bit more of code, to start with, the methods you have referenced in these snippets."},{"owner":{"account_id":2442919,"reputation":456,"user_id":2130930,"accept_rate":100,"display_name":"iMan"},"score":0,"creation_date":1471418481,"post_id":38989185,"comment_id":65332840,"body_markdown":"About not seeing data in the TableView. Assume, `data` is the ObservableList and `tabV` is the TableView. Try the following, `tabV.setItems(data); data.add(Object of your TableView type);`","body":"About not seeing data in the TableView. Assume, <code>data</code> is the ObservableList and <code>tabV</code> is the TableView. Try the following, <code>tabV.setItems(data); data.add(Object of your TableView type);</code>"},{"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"score":0,"creation_date":1471420140,"post_id":38989185,"comment_id":65333788,"body_markdown":"@fabian show us all of my program. thanks for help me with my problem. The problem with update the tableview is solved ^^","body":"@fabian show us all of my program. thanks for help me with my problem. The problem with update the tableview is solved ^^"},{"owner":{"account_id":2442919,"reputation":456,"user_id":2130930,"accept_rate":100,"display_name":"iMan"},"score":1,"creation_date":1471421333,"post_id":38989185,"comment_id":65334484,"body_markdown":"@joseclimentpenades is this question completely answered (self answered) or is something remaining? I am not entirely sure.","body":"@joseclimentpenades is this question completely answered (self answered) or is something remaining? I am not entirely sure."},{"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"score":0,"creation_date":1471422716,"post_id":38989185,"comment_id":65335290,"body_markdown":"@iMan on of 2 questions is solved the question about empty tableview isn&#39;t solved. i try to do  `tab.setitems(data)` but it do&#39;t result. Thanks for correct my spelling faults.","body":"@iMan on of 2 questions is solved the question about empty tableview isn&#39;t solved. i try to do  <code>tab.setitems(data)</code> but it do&#39;t result. Thanks for correct my spelling faults."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1471439628,"post_id":38989185,"comment_id":65346975,"body_markdown":"If you use the [JavaFX Properties Pattern](http://www.oracle.com/pls/topic/lookup?ctx=javase80&amp;id=JFXBD107) and fix the values you pass to the `PropertyValueFactory` (i.e. `esport` and `total` instead of `Esport` and `Total`) you should not need the ugly hack of removing a column and adding it back.","body":"If you use the <a href=\"http://www.oracle.com/pls/topic/lookup?ctx=javase80&amp;id=JFXBD107\" rel=\"nofollow noreferrer\">JavaFX Properties Pattern</a> and fix the values you pass to the <code>PropertyValueFactory</code> (i.e. <code>esport</code> and <code>total</code> instead of <code>Esport</code> and <code>Total</code>) you should not need the ugly hack of removing a column and adding it back."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1471439876,"post_id":38989185,"comment_id":65347204,"body_markdown":"It&#39;s not really clear what is still not working. It would be really helpful if you would post a [MCVE] - this means simplifying your example code so that it has enough to reproduce the problem (&quot;complete&quot;) but contains no more code than is needed (&quot;minimal&quot;). I am certain that you don&#39;t need a model class with 11 properties to reproduce this, for example: one is probably enough. Similarly there is no reason to have so many controls in the example code. OTOH, no-one can actually run this as you don&#39;t have any FXML, so the code is not particularly useful for anyone who might want to help you.","body":"It&#39;s not really clear what is still not working. It would be really helpful if you would post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - this means simplifying your example code so that it has enough to reproduce the problem (&quot;complete&quot;) but contains no more code than is needed (&quot;minimal&quot;). I am certain that you don&#39;t need a model class with 11 properties to reproduce this, for example: one is probably enough. Similarly there is no reason to have so many controls in the example code. OTOH, no-one can actually run this as you don&#39;t have any FXML, so the code is not particularly useful for anyone who might want to help you."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1471440030,"post_id":38989185,"comment_id":65347333,"body_markdown":"Having said all that, it is extremely suspicious that you are creating an instance of one of your controllers &quot;by hand&quot;: `GeneralController aux = new GeneralController();`. This controller instance is obviously not connected to any UI elements, so it&#39;s completely unclear what it is for and what you expect it to do. Assuming there are still problems, I suspect this might be the cause of them.","body":"Having said all that, it is extremely suspicious that you are creating an instance of one of your controllers &quot;by hand&quot;: <code>GeneralController aux = new GeneralController();</code>. This controller instance is obviously not connected to any UI elements, so it&#39;s completely unclear what it is for and what you expect it to do. Assuming there are still problems, I suspect this might be the cause of them."},{"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"score":0,"creation_date":1471502514,"post_id":38989185,"comment_id":65374186,"body_markdown":"@James_D I think i putt a minimal code, added full app in mega and explain better my error. Thanks for help and sorry for my grammar.","body":"@James_D I think i putt a minimal code, added full app in mega and explain better my error. Thanks for help and sorry for my grammar."},{"owner":{"account_id":2442919,"reputation":456,"user_id":2130930,"accept_rate":100,"display_name":"iMan"},"score":0,"creation_date":1471950080,"post_id":38989185,"comment_id":65545219,"body_markdown":"@joseclimentpenades Is this question answered yet? If not, I might try helping you on this tonight.","body":"@joseclimentpenades Is this question answered yet? If not, I might try helping you on this tonight."},{"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"score":0,"creation_date":1472019063,"post_id":38989185,"comment_id":65577840,"body_markdown":"@iMan I can solve the questin. I show my answered for help other people that have a problem like this. Thanks for help me.","body":"@iMan I can solve the questin. I show my answered for help other people that have a problem like this. Thanks for help me."}],"answers":[{"tags":[],"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1472018988,"creation_date":1472018988,"answer_id":39115587,"question_id":38989185,"body_markdown":"To solve this question you can do this:\r\nIn Main class load the correct controller when you open the 2 window:\r\n\r\n     private void afegir(ActionEvent event) throws IOException {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/model/Afegir.fxml&quot;));\r\n        Parent root = loader.load();\r\n        //load the correct controller\r\n        AfegirController controller = loader.getController();\r\n        Scene scene = new Scene(root);\r\n        Stage ventana2= new Stage();\r\n        ventana2.setMinHeight(380);\r\n        ventana2.getIcons().add(new Image(&quot;/estil/Boo.png&quot;));\r\n        ventana2.setMinWidth(770);\r\n        ventana2.setTitle(&quot;Afegir dades&quot;);\r\n        ventana2.initModality(Modality.APPLICATION_MODAL);\r\n        ventana2.setScene(scene);\r\n        taula.subs = new ObservableList&lt;Subvencio&gt;();\r\n        ventana2.showAndWait();\r\n        //Add the sub to Observable list here and add the observableList to tableview.\r\n        subs.add(controller.getSub());\r\n        tabla.setItems(subs);\r\n    }\r\n\r\nNext in Afegir class do this:\r\n\r\n     public Subvencio getSub() {\r\n        return sub;\r\n    }\r\n\r\nThis is a public method to get acces to the sub that i like add to the list.\r\nand finally remove this line at afegir Class\r\n\r\n    GeneralController aux = new GeneralController();\r\n    aux.subs.add(sub);\r\n\r\nI do this and my tableview show the items correctly.\r\nThanks for help me.","title":"tableview is empty when i add an item","body":"<p>To solve this question you can do this:\nIn Main class load the correct controller when you open the 2 window:</p>\n\n<pre><code> private void afegir(ActionEvent event) throws IOException {\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(\"/model/Afegir.fxml\"));\n    Parent root = loader.load();\n    //load the correct controller\n    AfegirController controller = loader.getController();\n    Scene scene = new Scene(root);\n    Stage ventana2= new Stage();\n    ventana2.setMinHeight(380);\n    ventana2.getIcons().add(new Image(\"/estil/Boo.png\"));\n    ventana2.setMinWidth(770);\n    ventana2.setTitle(\"Afegir dades\");\n    ventana2.initModality(Modality.APPLICATION_MODAL);\n    ventana2.setScene(scene);\n    taula.subs = new ObservableList&lt;Subvencio&gt;();\n    ventana2.showAndWait();\n    //Add the sub to Observable list here and add the observableList to tableview.\n    subs.add(controller.getSub());\n    tabla.setItems(subs);\n}\n</code></pre>\n\n<p>Next in Afegir class do this:</p>\n\n<pre><code> public Subvencio getSub() {\n    return sub;\n}\n</code></pre>\n\n<p>This is a public method to get acces to the sub that i like add to the list.\nand finally remove this line at afegir Class</p>\n\n<pre><code>GeneralController aux = new GeneralController();\naux.subs.add(sub);\n</code></pre>\n\n<p>I do this and my tableview show the items correctly.\nThanks for help me.</p>\n"}],"owner":{"account_id":8998967,"reputation":61,"user_id":6708221,"display_name":"jose climent penades"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39115587,"answer_count":1,"score":4,"last_activity_date":1639723517,"creation_date":1471414005,"question_id":38989185,"body_markdown":"I need help with an empty tableview.\r\nWhen I put items in an ObservableList and do setItems with this list, the tableview doesn&#39;t show the items from the list.\r\n\r\nI have included Minimal, Complete, and Verifiable example(I think).\r\n\r\nMain class.\r\n\r\n   \r\n\r\n     public class GeneralController implements Initializable {\r\n\r\n        @FXML\r\n        private TableView&lt;Subvencio&gt; tabla;\r\n        @FXML\r\n        private TableColumn&lt;Subvencio, Double&gt; ctotal;\r\n         @FXML\r\n        private TableColumn&lt;Subvencio, String&gt; cesport;\r\n        ObservableList&lt;Subvencio&gt; subs = FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            cesport.setCellValueFactory(new PropertyValueFactory&lt;Subvencio, String&gt;(&quot;Esport&quot;));\r\n            ctotal.setCellValueFactory(new PropertyValueFactory&lt;Subvencio, Double&gt;(&quot;Total&quot;));\r\n            tabla.setItems(subs);\r\n        }\r\n    \r\n        //M&#232;tode per a afegir una subvenci&#243; a la llista(Mitjansant un scene diferent i un showandWait).\r\n        @FXML\r\n        private void afegir(ActionEvent event) throws IOException {\r\n            //Carregem el controlador i inicialitzem la finestra a obrir.\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/model/Afegir.fxml&quot;));\r\n            Parent root = loader.load();\r\n            Scene scene = new Scene(root);\r\n            Stage ventana2= new Stage();\r\n            ventana2.setMinHeight(380);\r\n            ventana2.getIcons().add(new Image(&quot;/estil/Boo.png&quot;));\r\n            ventana2.setMinWidth(770);\r\n            ventana2.setTitle(&quot;Afegir dades&quot;);\r\n            ventana2.initModality(Modality.APPLICATION_MODAL);\r\n            ventana2.setScene(scene);\r\n            //Fem que espere fins a ser tancada i coloquem els elements a la taula.subs = new ObservableList&lt;Subvencio&gt;();\r\n            ventana2.showAndWait();\r\n            tabla.setItems(subs);\r\n    }\r\n\r\nAfegir Class.\r\n\r\n \r\n\r\n       public class AfegirController implements Initializable {\r\n    \r\n        @FXML\r\n        private TextField esport;\r\n        @FXML\r\n        private TextField equips;\r\n        @FXML\r\n        private TextField despeses;\r\n        @FXML\r\n        private TextField esportistes;\r\n        @FXML\r\n        private TextField puntuacio;\r\n        @FXML\r\n        private TextField socis;\r\n        @FXML\r\n        private CheckBox festes;\r\n        @FXML\r\n        private CheckBox disiplina;\r\n        @FXML\r\n        private CheckBox voluntari;\r\n        @FXML\r\n        private CheckBox instalacions;\r\n        @FXML\r\n        private Button bafegir;\r\n        Subvencio sub = new Subvencio();\r\n        \r\n        //Metode per a afegir una subvencio a la llista de elements.\r\n        @FXML\r\n        private void afegir(ActionEvent event) {\r\n            //Comprobem si tots els textfielsd estan omplits, sino es aix&#237;, mostrem un error.\r\n             if ((!equips.getText().isEmpty())\r\n            \t&amp;&amp; (equips.getText().trim().length()!=0)\r\n            \t&amp;&amp; (!despeses.getText().isEmpty())\r\n            \t&amp;&amp; (despeses.getText().trim().length()!=0)\r\n                    &amp;&amp; (!esportistes.getText().isEmpty())\r\n            \t&amp;&amp; (esportistes.getText().trim().length()!=0)\r\n                    &amp;&amp; (!puntuacio.getText().isEmpty())\r\n            \t&amp;&amp; (puntuacio.getText().trim().length()!=0)\r\n                    &amp;&amp; (!socis.getText().isEmpty())\r\n            \t&amp;&amp; (socis.getText().trim().length()!=0)\r\n                    &amp;&amp; (!esport.getText().isEmpty())\r\n            \t&amp;&amp; (esport.getText().trim().length()!=0))\r\n             { \r\n                 //Passem els valors de el textfield als seus corresponents formats.\r\n                int aux1 = Integer.parseInt(equips.getText());\r\n                double aux2 = Double.parseDouble(despeses.getText());\r\n                int aux3 = Integer.parseInt(esportistes.getText());\r\n                int aux4 = Integer.parseInt(puntuacio.getText());\r\n                int aux5 = Integer.parseInt(socis.getText());\r\n                boolean aux6 = festes.isSelected();\r\n                boolean aux7 = disiplina.isSelected();\r\n                boolean aux8 = voluntari.isSelected();\r\n                boolean aux9 = instalacions.isSelected();\r\n                String aux10 = esport.getText();\r\n               //Carregem un controllardor per poder crear subvencions i la creeem. en cabar aques proces la finestra es tanca.\r\n               GeneralController aux = new GeneralController();\r\n               sub.setEsport(aux10);\r\n               sub.setEquips(aux1);\r\n               sub.setEsportistes(aux3);\r\n               sub.setFestes(aux6);\r\n               sub.setFormacio(aux7);\r\n               sub.setInstalacions(aux9);\r\n               sub.setPuntuacio(aux4);\r\n               sub.setSocis(aux5);\r\n               sub.setVoluntari(aux8);\r\n               sub.setdespeses(aux2);\r\n               aux.subs.add(sub);\r\n               Node minodo = (Node) event.getSource(); \r\n               minodo.getScene().getWindow().hide();\r\n             }\r\n             else {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR);\r\n                //Apliquem el css cridant al metode dialogpane\r\n                DialogPane dialogPane = alert.getDialogPane();\r\n                dialogPane.getStylesheets().add(getClass().getResource(&quot;/estil/flatterfx.css&quot;).toExternalForm());\r\n                dialogPane.getStyleClass().add(&quot;button&quot;);\r\n                Stage stage = (Stage) alert.getDialogPane().getScene().getWindow();\r\n                stage.getIcons().add(\r\n                    new Image(this.getClass().getResource(&quot;/estil/Boo.png&quot;).toString()));\r\n                alert.setTitle(&quot;Error&quot;);\r\n                alert.setHeaderText(&quot;Error al afegir una subvenci&#243;.&quot;);\r\n                alert.setContentText(&quot;Deus emplenar tots els cuadres de text per poder afegir una subvenci&#243;.&quot;);\r\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n             \r\n             }\r\n        }\r\n        public void inicializaSubvencio (Subvencio aux){\r\n            sub = aux;\r\n            String aux1 = String.valueOf(aux.getEsport());\r\n            String aux2 = String.valueOf(aux.getEquips());\r\n            String aux3 = String.valueOf(aux.getDespeses());\r\n            String aux4 = String.valueOf(aux.getEsportistes());\r\n            String aux5 = String.valueOf(aux.getEsportistes());\r\n            String aux6 = String.valueOf(aux.getPuntuacio());\r\n            String aux7 = String.valueOf(aux.getSocis());\r\n            String aux8 = String.valueOf(aux.getTotal());\r\n            double total = aux.getTotal();\r\n            esport.setText(aux1);\r\n            equips.setText(aux2);\r\n            despeses.setText(aux3);\r\n            esportistes.setText(aux5);\r\n            puntuacio.setText(aux6);\r\n            socis.setText(aux7);\r\n            festes.setSelected(aux.getFestes());\r\n            disiplina.setSelected(aux.getFormacio());\r\n            voluntari.setSelected(aux.getVoluntari());\r\n            instalacions.setSelected(aux.getInstalacions());\r\n        }\r\n    }\r\n\r\nAnd subvencio class.\r\n\r\n    public class Subvencio {\r\n        String esport;\r\n        int equips;\r\n        double despeses;\r\n        int esportistes;\r\n        int puntuacio;\r\n        int socis;\r\n        boolean festes;\r\n        boolean formacio;\r\n        boolean voluntari;\r\n        boolean instalacions;\r\n        double total;\r\n        \r\n        //M&#232;todes generals de creacio d&#39;una subvenci&#243;.\r\n        public Subvencio() {\r\n            this(null, 0, 0, 0, 0, 0, 0, false, false, false, false);\r\n        }\r\n        \r\n        public Subvencio(String esport, double total, double despeses, int equips, int esportistes, int puntuacio, \r\n                int socis, boolean festes, boolean formacio, \r\n                boolean voluntari, boolean instalacions) {\r\n            this.esport = esport;\r\n            this.total = 0;\r\n            this.despeses = despeses;\r\n            this.equips = equips;\r\n            this.esportistes = esportistes;\r\n            this.puntuacio = puntuacio;\r\n            this.socis = socis;\r\n            this.festes = festes;\r\n            this.formacio = formacio;\r\n            this.instalacions = instalacions;\r\n            this.voluntari = voluntari;\r\n        }\r\n        \r\n        //M&#232;todes getters i setters per poder treballar amb els valors que cont&#232; una subvenci&#243;.\r\n        public String getEsport() {\r\n    \treturn esport;\r\n        }\r\n    \r\n        public void setEsport(String esport) {\r\n    \tthis.esport = esport;\r\n        }\r\n    }\r\n\r\nEdit: @James_D : I use an instance of one of your controllers because if i don&#39;t do this, netbeans say me &quot;non-static variable subs can not be referenced from a static context&quot; and my professor at university say me that this rapair that error. I have other example form a pc store and i use this fix and this erros isn&#39;t appear in the example but in this app it appears.\r\n\r\nMi idea for this app is like this:\r\nWhen a push a button and  textfields are fill the program close that windows and put a subvencio in a tableview at the 2nd window.My problem is when i do that the tableview don&#39;t show any item on tableview.\r\n\r\nAdded a mega link with my app for check all of code and test the error.\r\n[Subvencio App][1]\r\n\r\nI added a link because i don&#39;t know if in my minimal code can test the error.\r\nTo reproduce the error you can open the app push afegir button and fill the textfields.After that, push afegir again.\r\nThanks for helpping me.\r\n\r\n\r\n  [1]: https://mega.nz/#!9sV0VLII!aMQvOnmzp6REhZKWH-6hzt1_w5Cye9ZefAIUIgvElA0","title":"tableview is empty when i add an item","body":"<p>I need help with an empty tableview.\nWhen I put items in an ObservableList and do setItems with this list, the tableview doesn't show the items from the list.</p>\n<p>I have included Minimal, Complete, and Verifiable example(I think).</p>\n<p>Main class.</p>\n<pre><code> public class GeneralController implements Initializable {\n\n    @FXML\n    private TableView&lt;Subvencio&gt; tabla;\n    @FXML\n    private TableColumn&lt;Subvencio, Double&gt; ctotal;\n     @FXML\n    private TableColumn&lt;Subvencio, String&gt; cesport;\n    ObservableList&lt;Subvencio&gt; subs = FXCollections.observableArrayList();\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        cesport.setCellValueFactory(new PropertyValueFactory&lt;Subvencio, String&gt;(&quot;Esport&quot;));\n        ctotal.setCellValueFactory(new PropertyValueFactory&lt;Subvencio, Double&gt;(&quot;Total&quot;));\n        tabla.setItems(subs);\n    }\n\n    //Mètode per a afegir una subvenció a la llista(Mitjansant un scene diferent i un showandWait).\n    @FXML\n    private void afegir(ActionEvent event) throws IOException {\n        //Carregem el controlador i inicialitzem la finestra a obrir.\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/model/Afegir.fxml&quot;));\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        Stage ventana2= new Stage();\n        ventana2.setMinHeight(380);\n        ventana2.getIcons().add(new Image(&quot;/estil/Boo.png&quot;));\n        ventana2.setMinWidth(770);\n        ventana2.setTitle(&quot;Afegir dades&quot;);\n        ventana2.initModality(Modality.APPLICATION_MODAL);\n        ventana2.setScene(scene);\n        //Fem que espere fins a ser tancada i coloquem els elements a la taula.subs = new ObservableList&lt;Subvencio&gt;();\n        ventana2.showAndWait();\n        tabla.setItems(subs);\n}\n</code></pre>\n<p>Afegir Class.</p>\n<pre><code>   public class AfegirController implements Initializable {\n\n    @FXML\n    private TextField esport;\n    @FXML\n    private TextField equips;\n    @FXML\n    private TextField despeses;\n    @FXML\n    private TextField esportistes;\n    @FXML\n    private TextField puntuacio;\n    @FXML\n    private TextField socis;\n    @FXML\n    private CheckBox festes;\n    @FXML\n    private CheckBox disiplina;\n    @FXML\n    private CheckBox voluntari;\n    @FXML\n    private CheckBox instalacions;\n    @FXML\n    private Button bafegir;\n    Subvencio sub = new Subvencio();\n    \n    //Metode per a afegir una subvencio a la llista de elements.\n    @FXML\n    private void afegir(ActionEvent event) {\n        //Comprobem si tots els textfielsd estan omplits, sino es així, mostrem un error.\n         if ((!equips.getText().isEmpty())\n            &amp;&amp; (equips.getText().trim().length()!=0)\n            &amp;&amp; (!despeses.getText().isEmpty())\n            &amp;&amp; (despeses.getText().trim().length()!=0)\n                &amp;&amp; (!esportistes.getText().isEmpty())\n            &amp;&amp; (esportistes.getText().trim().length()!=0)\n                &amp;&amp; (!puntuacio.getText().isEmpty())\n            &amp;&amp; (puntuacio.getText().trim().length()!=0)\n                &amp;&amp; (!socis.getText().isEmpty())\n            &amp;&amp; (socis.getText().trim().length()!=0)\n                &amp;&amp; (!esport.getText().isEmpty())\n            &amp;&amp; (esport.getText().trim().length()!=0))\n         { \n             //Passem els valors de el textfield als seus corresponents formats.\n            int aux1 = Integer.parseInt(equips.getText());\n            double aux2 = Double.parseDouble(despeses.getText());\n            int aux3 = Integer.parseInt(esportistes.getText());\n            int aux4 = Integer.parseInt(puntuacio.getText());\n            int aux5 = Integer.parseInt(socis.getText());\n            boolean aux6 = festes.isSelected();\n            boolean aux7 = disiplina.isSelected();\n            boolean aux8 = voluntari.isSelected();\n            boolean aux9 = instalacions.isSelected();\n            String aux10 = esport.getText();\n           //Carregem un controllardor per poder crear subvencions i la creeem. en cabar aques proces la finestra es tanca.\n           GeneralController aux = new GeneralController();\n           sub.setEsport(aux10);\n           sub.setEquips(aux1);\n           sub.setEsportistes(aux3);\n           sub.setFestes(aux6);\n           sub.setFormacio(aux7);\n           sub.setInstalacions(aux9);\n           sub.setPuntuacio(aux4);\n           sub.setSocis(aux5);\n           sub.setVoluntari(aux8);\n           sub.setdespeses(aux2);\n           aux.subs.add(sub);\n           Node minodo = (Node) event.getSource(); \n           minodo.getScene().getWindow().hide();\n         }\n         else {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            //Apliquem el css cridant al metode dialogpane\n            DialogPane dialogPane = alert.getDialogPane();\n            dialogPane.getStylesheets().add(getClass().getResource(&quot;/estil/flatterfx.css&quot;).toExternalForm());\n            dialogPane.getStyleClass().add(&quot;button&quot;);\n            Stage stage = (Stage) alert.getDialogPane().getScene().getWindow();\n            stage.getIcons().add(\n                new Image(this.getClass().getResource(&quot;/estil/Boo.png&quot;).toString()));\n            alert.setTitle(&quot;Error&quot;);\n            alert.setHeaderText(&quot;Error al afegir una subvenció.&quot;);\n            alert.setContentText(&quot;Deus emplenar tots els cuadres de text per poder afegir una subvenció.&quot;);\n            Optional&lt;ButtonType&gt; result = alert.showAndWait();\n         \n         }\n    }\n    public void inicializaSubvencio (Subvencio aux){\n        sub = aux;\n        String aux1 = String.valueOf(aux.getEsport());\n        String aux2 = String.valueOf(aux.getEquips());\n        String aux3 = String.valueOf(aux.getDespeses());\n        String aux4 = String.valueOf(aux.getEsportistes());\n        String aux5 = String.valueOf(aux.getEsportistes());\n        String aux6 = String.valueOf(aux.getPuntuacio());\n        String aux7 = String.valueOf(aux.getSocis());\n        String aux8 = String.valueOf(aux.getTotal());\n        double total = aux.getTotal();\n        esport.setText(aux1);\n        equips.setText(aux2);\n        despeses.setText(aux3);\n        esportistes.setText(aux5);\n        puntuacio.setText(aux6);\n        socis.setText(aux7);\n        festes.setSelected(aux.getFestes());\n        disiplina.setSelected(aux.getFormacio());\n        voluntari.setSelected(aux.getVoluntari());\n        instalacions.setSelected(aux.getInstalacions());\n    }\n}\n</code></pre>\n<p>And subvencio class.</p>\n<pre><code>public class Subvencio {\n    String esport;\n    int equips;\n    double despeses;\n    int esportistes;\n    int puntuacio;\n    int socis;\n    boolean festes;\n    boolean formacio;\n    boolean voluntari;\n    boolean instalacions;\n    double total;\n    \n    //Mètodes generals de creacio d'una subvenció.\n    public Subvencio() {\n        this(null, 0, 0, 0, 0, 0, 0, false, false, false, false);\n    }\n    \n    public Subvencio(String esport, double total, double despeses, int equips, int esportistes, int puntuacio, \n            int socis, boolean festes, boolean formacio, \n            boolean voluntari, boolean instalacions) {\n        this.esport = esport;\n        this.total = 0;\n        this.despeses = despeses;\n        this.equips = equips;\n        this.esportistes = esportistes;\n        this.puntuacio = puntuacio;\n        this.socis = socis;\n        this.festes = festes;\n        this.formacio = formacio;\n        this.instalacions = instalacions;\n        this.voluntari = voluntari;\n    }\n    \n    //Mètodes getters i setters per poder treballar amb els valors que contè una subvenció.\n    public String getEsport() {\n    return esport;\n    }\n\n    public void setEsport(String esport) {\n    this.esport = esport;\n    }\n}\n</code></pre>\n<p>Edit: @James_D : I use an instance of one of your controllers because if i don't do this, netbeans say me &quot;non-static variable subs can not be referenced from a static context&quot; and my professor at university say me that this rapair that error. I have other example form a pc store and i use this fix and this erros isn't appear in the example but in this app it appears.</p>\n<p>Mi idea for this app is like this:\nWhen a push a button and  textfields are fill the program close that windows and put a subvencio in a tableview at the 2nd window.My problem is when i do that the tableview don't show any item on tableview.</p>\n<p>Added a mega link with my app for check all of code and test the error.\n<a href=\"https://mega.nz/#!9sV0VLII!aMQvOnmzp6REhZKWH-6hzt1_w5Cye9ZefAIUIgvElA0\" rel=\"nofollow noreferrer\">Subvencio App</a></p>\n<p>I added a link because i don't know if in my minimal code can test the error.\nTo reproduce the error you can open the app push afegir button and fill the textfields.After that, push afegir again.\nThanks for helpping me.</p>\n"},{"tags":["java","oracle","ojdbc","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1639571367,"post_id":70362704,"comment_id":124381526,"body_markdown":"As a start, I would look at your` target/app.jar` &lt;-- Springboot generated app jar, and see if it contains this `ojdbc14.jar` as a start before we consider the Pod/Docker.","body":"As a start, I would look at your` target/app.jar` &lt;-- Springboot generated app jar, and see if it contains this <code>ojdbc14.jar</code> as a start before we consider the Pod/Docker."}],"answers":[{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639723034,"creation_date":1639723034,"answer_id":70389304,"question_id":70362704,"body_markdown":"Refer to the correct [central maven repository for Oracle JDBC driver.][1] \r\nThe other repository that you are using for 10.2.0.4 is not from Oracle and is very old and not supported. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/com/oracle/database/jdbc/","title":"Oracle 10.2.0.4.0 and ojdbc11-21.1.0.0.jar || Failed to obtain JDBC Connection; nested exception is ja │ │ ORA-01882: timezone region not found","body":"<p>Refer to the correct <a href=\"https://repo1.maven.org/maven2/com/oracle/database/jdbc/\" rel=\"nofollow noreferrer\">central maven repository for Oracle JDBC driver.</a>\nThe other repository that you are using for 10.2.0.4 is not from Oracle and is very old and not supported.</p>\n"}],"owner":{"account_id":8328231,"reputation":429,"user_id":6257625,"accept_rate":40,"display_name":"Sandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639723034,"creation_date":1639566813,"question_id":70362704,"body_markdown":"I am having a springboot application where I am trying to connect to very old Oracle version 10.2.0.4.0 datasource.\r\n\r\nMy pom.xml has: \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAnd my dockerfile has the similar above settings. While deploying code on the pod level, I get an exception that:\r\n\r\n**Failed to obtain JDBC Connection; nested exception is ja │ │ ORA-01882: timezone region not found**\r\n\r\nOracle 10.2.0.4.0 has a Timezone 4. And my springboot application ojdbc driver is not compatible with the older oracle datasource.\r\n\r\nI googled and found that I can use below dependency for this Oracle 10.2.0.4.0 version.\r\n\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n        &lt;version&gt;10.2.0.4.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nojdbc14 is the correct jar file to be pulled either by Maven which fails : no artifacts found.\r\n\r\nWhen I tried to download ojdbc14.jar and tried manual settings in pom.xml \r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n   \t \t\t&lt;version&gt;10.2.0.4.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;system&lt;/scope&gt;\r\n    \t\t&lt;systemPath&gt;${project.basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThen I get an error while deployment at pod level which says that no suitable driver found.\r\n\r\nNow I am stuck, on how to solve this problem.","title":"Oracle 10.2.0.4.0 and ojdbc11-21.1.0.0.jar || Failed to obtain JDBC Connection; nested exception is ja │ │ ORA-01882: timezone region not found","body":"<p>I am having a springboot application where I am trying to connect to very old Oracle version 10.2.0.4.0 datasource.</p>\n<p>My pom.xml has:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\n        &lt;version&gt;21.1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And my dockerfile has the similar above settings. While deploying code on the pod level, I get an exception that:</p>\n<p><strong>Failed to obtain JDBC Connection; nested exception is ja │ │ ORA-01882: timezone region not found</strong></p>\n<p>Oracle 10.2.0.4.0 has a Timezone 4. And my springboot application ojdbc driver is not compatible with the older oracle datasource.</p>\n<p>I googled and found that I can use below dependency for this Oracle 10.2.0.4.0 version.</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0.4.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>ojdbc14 is the correct jar file to be pulled either by Maven which fails : no artifacts found.</p>\n<p>When I tried to download ojdbc14.jar and tried manual settings in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n        &lt;version&gt;10.2.0.4.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then I get an error while deployment at pod level which says that no suitable driver found.</p>\n<p>Now I am stuck, on how to solve this problem.</p>\n"},{"tags":["java","excel","sharepoint","microsoft-graph-api","microsoft-teams"],"owner":{"account_id":5288895,"reputation":1547,"user_id":4222003,"accept_rate":67,"display_name":"Maulik Kakadiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639721179,"creation_date":1639637144,"question_id":70374897,"body_markdown":"I want to programmatically create an excel document and add it to the Sharepoint list. I didn&#39;t find any java libraries to create Excel files programmatically and works with SharePoint. I&#39;m using graph-API to access the SharePoint documents. \r\nIs there any way to do this and what&#39;s the best way to do it or even start researching about it?","title":"How to create excel file in sharepoint from java?","body":"<p>I want to programmatically create an excel document and add it to the Sharepoint list. I didn't find any java libraries to create Excel files programmatically and works with SharePoint. I'm using graph-API to access the SharePoint documents.\nIs there any way to do this and what's the best way to do it or even start researching about it?</p>\n"},{"tags":["java","mysql","spring-boot","groovy","java-8"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1639486740,"post_id":70347790,"comment_id":124356046,"body_markdown":"&quot;What is the efficient and optimised solution of this particular scenario?&quot; - Do you want to optimize for network traffic, processor time, memory consumption, or something else?","body":"&quot;What is the efficient and optimised solution of this particular scenario?&quot; - Do you want to optimize for network traffic, processor time, memory consumption, or something else?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1639486820,"post_id":70347790,"comment_id":124356075,"body_markdown":"FYI.... You have `String query = &quot;select * from order_details where uuid = ${uuid}&quot;` followed by `if(query) { ... }`.  That `if` clause is *always* going to be `true`.","body":"FYI.... You have <code>String query = &quot;select * from order_details where uuid = ${uuid}&quot;</code> followed by <code>if(query) { ... }</code>.  That <code>if</code> clause is <i>always</i> going to be <code>true</code>."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1639486968,"post_id":70347790,"comment_id":124356130,"body_markdown":"@JeffScottBrown i about that if condition this is just a code snippet i will do refracotring in my code befor pushing it \nLook i want to know that is there is any better approach, my approach is setting the fields in ResultMetaDataVO class \nBut my query will contains more than 100 fields","body":"@JeffScottBrown i about that if condition this is just a code snippet i will do refracotring in my code befor pushing it  Look i want to know that is there is any better approach, my approach is setting the fields in ResultMetaDataVO class  But my query will contains more than 100 fields"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1639486997,"post_id":70347790,"comment_id":124356147,"body_markdown":"proecessor time","body":"proecessor time"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1639491351,"post_id":70347790,"comment_id":124358027,"body_markdown":"&quot;my approach is setting the fields in ResultMetaDataVO class&quot; - It looks like you are creating 1 instance of `ResultMetaDataVO` and then later iterating over query results.  Is it the case that all of the query results will be bound to properties that are in `ResultMetaDataVO` or in classes that properties in `ResultMetaDataVO` point to?","body":"&quot;my approach is setting the fields in ResultMetaDataVO class&quot; - It looks like you are creating 1 instance of <code>ResultMetaDataVO</code> and then later iterating over query results.  Is it the case that all of the query results will be bound to properties that are in <code>ResultMetaDataVO</code> or in classes that properties in <code>ResultMetaDataVO</code> point to?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1639491383,"post_id":70347790,"comment_id":124358044,"body_markdown":"Seeing the source code for `ResultMetaDataVO` and `ResultMetaDataDomain` will help.","body":"Seeing the source code for <code>ResultMetaDataVO</code> and <code>ResultMetaDataDomain</code> will help."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1639492474,"post_id":70347790,"comment_id":124358544,"body_markdown":"See i will bound that query result fields to variables of ResultMetaDataVO \n\nFor Example - resultMetaDataVO.orderId = resultSet.getString(&quot;orderId&quot;) - my query which return a order details it may have around 200 fields some of them i know and some of them i dont know the fields which i know i declared it as a varable in ResultMetaDataVO class\n\nBut in my case the i have list of uuid and i am iterating in that list of uuid and then i am querying the database by single uuid.\n\nI have list of uuid -&gt; iterating over uuid -&gt; query database of a single uuid -&gt; set the results in ResultMetaDataVo","body":"See i will bound that query result fields to variables of ResultMetaDataVO   For Example - resultMetaDataVO.orderId = resultSet.getString(&quot;orderId&quot;) - my query which return a order details it may have around 200 fields some of them i know and some of them i dont know the fields which i know i declared it as a varable in ResultMetaDataVO class  But in my case the i have list of uuid and i am iterating in that list of uuid and then i am querying the database by single uuid.  I have list of uuid -&gt; iterating over uuid -&gt; query database of a single uuid -&gt; set the results in ResultMetaDataVo"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1639550009,"post_id":70347790,"comment_id":124374258,"body_markdown":"@JeffScottBrown","body":"@JeffScottBrown"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1639642044,"post_id":70347790,"comment_id":124402243,"body_markdown":"Can you please share the code of ResultMetaDataVO  and ResultMetaDataDomain that you&#39;ve mentioned in the comment - what is the connection between these classes?","body":"Can you please share the code of ResultMetaDataVO  and ResultMetaDataDomain that you&#39;ve mentioned in the comment - what is the connection between these classes?"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1639720832,"post_id":70347790,"comment_id":124425869,"body_markdown":"@MarkBramnik Its a typo both the class are same","body":"@MarkBramnik Its a typo both the class are same"}],"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639720855,"creation_date":1639479720,"question_id":70347790,"body_markdown":"I want to fetch some records from my my-sql database through java code \r\nbelow is the code snippet\r\n\r\n\r\n**Sql Query Result contains almost 200 fields and i have to set all the 200 fields in ResultMetaDataVO domain.**\r\n\r\nWhat is the efficient and optimised solution of this particular scenario?\r\n\r\n        String datasourceUrl = dataSourceUtil.dataSourceUrl\r\n        String datasourceUsername = dataSourceUtil.dataSourceUserName\r\n        String datasourcePassword = dataSourceUtil.dataSourcePassword\r\n    \r\n        Connection connection = null\r\n        ResultSet resultSet = null\r\n        ResultMetaDataVO resultMetaDataVO = new ResultMetaDataVO()\r\n    \r\n        try {\r\n            connection = DriverManager.getConnection(datasourceUrl, datasourceUsername, datasourcePassword)\r\n            Statement statement = connection.createStatement()\r\n            String query = &quot;select * from order_details where uuid = ${uuid}&quot;\r\n            //uuid comes from method parameter\r\n            if (query) {\r\n                resultSet = statement.executeQuery(query)\r\n                if (resultSet) {\r\n                    while (resultSet.next()) {\r\n\r\n                         // Set every fields of result set in ResultMetaDataVO\r\n                    \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nSee i will bound that query result fields to variables of ResultMetaDataVO \r\n\r\nFor Example - \r\n`resultMetaDataVO.orderId = resultSet.getString(&quot;orderId&quot;)`\r\n\r\n \r\nmy query which return a order details it may have around 200 fields some of them i know and some of them i dont know the fields which i know i declared it as a varable in ResultMetaDataVO class But in my case the \r\n\r\n\r\ni have list of uuid and i am iterating in that list of uuid and then i am querying the database by single uuid. I have list of uuid -&gt; iterating over uuid -&gt; query database of a single uuid -&gt; set the results in ResultMetaDataVo","title":"Efficient and Optimised way to map all the resuts of a sql query in Spring Boot","body":"<p>I want to fetch some records from my my-sql database through java code\nbelow is the code snippet</p>\n<p><strong>Sql Query Result contains almost 200 fields and i have to set all the 200 fields in ResultMetaDataVO domain.</strong></p>\n<p>What is the efficient and optimised solution of this particular scenario?</p>\n<pre><code>    String datasourceUrl = dataSourceUtil.dataSourceUrl\n    String datasourceUsername = dataSourceUtil.dataSourceUserName\n    String datasourcePassword = dataSourceUtil.dataSourcePassword\n\n    Connection connection = null\n    ResultSet resultSet = null\n    ResultMetaDataVO resultMetaDataVO = new ResultMetaDataVO()\n\n    try {\n        connection = DriverManager.getConnection(datasourceUrl, datasourceUsername, datasourcePassword)\n        Statement statement = connection.createStatement()\n        String query = &quot;select * from order_details where uuid = ${uuid}&quot;\n        //uuid comes from method parameter\n        if (query) {\n            resultSet = statement.executeQuery(query)\n            if (resultSet) {\n                while (resultSet.next()) {\n\n                     // Set every fields of result set in ResultMetaDataVO\n                \n                    }\n                }\n            }\n        }\n</code></pre>\n<p>See i will bound that query result fields to variables of ResultMetaDataVO</p>\n<p>For Example -\n<code>resultMetaDataVO.orderId = resultSet.getString(&quot;orderId&quot;)</code></p>\n<p>my query which return a order details it may have around 200 fields some of them i know and some of them i dont know the fields which i know i declared it as a varable in ResultMetaDataVO class But in my case the</p>\n<p>i have list of uuid and i am iterating in that list of uuid and then i am querying the database by single uuid. I have list of uuid -&gt; iterating over uuid -&gt; query database of a single uuid -&gt; set the results in ResultMetaDataVo</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1639728132,"post_id":70388032,"comment_id":124427498,"body_markdown":"Try enabling `Settings/Preferences | Build, Execution, Deployment | Debugger | Kill the debug process immediately`. If the problem remains report the problem at https://youtrack.jetbrains.com/issues/IDEA or https://intellij-support.jetbrains.com/hc/en-us/requests/new","body":"Try enabling <code>Settings&#47;Preferences | Build, Execution, Deployment | Debugger | Kill the debug process immediately</code>. If the problem remains report the problem at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> or <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a>"},{"owner":{"account_id":12872311,"reputation":63,"user_id":9310310,"display_name":"Harrish A"},"score":0,"creation_date":1640136431,"post_id":70388032,"comment_id":124522811,"body_markdown":"Tried the &quot;Kill the debug process immediately&quot;. Didnt work. But I tried debug mode on Eclipse for the same project and when stopped, everything stops and there is no Java process left behind.","body":"Tried the &quot;Kill the debug process immediately&quot;. Didnt work. But I tried debug mode on Eclipse for the same project and when stopped, everything stops and there is no Java process left behind."}],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639720655,"creation_date":1639720655,"answer_id":70388991,"question_id":70388032,"body_markdown":"You can use following below command to kill all your java processes as,\r\n\r\n```sudo kill $(ps aux | grep -i java | awk &#39;{print $2}&#39;)```","title":"Java process is not killed after stopping Debug in Intellij","body":"<p>You can use following below command to kill all your java processes as,</p>\n<p><code>sudo kill $(ps aux | grep -i java | awk '{print $2}')</code></p>\n"}],"owner":{"account_id":12872311,"reputation":63,"user_id":9310310,"display_name":"Harrish A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639720655,"creation_date":1639711068,"question_id":70388032,"body_markdown":"I have a Java project which uses Gradle to build. I am using IntelliJ IDEA 2021.3 (Community Edition). When I click on debug, it creates a Java process. But it doesnt kill this process when I click on stop. So, everytime I click on debug, the Java processes keep accumulating. Also, in the activity monitor a new no name process shows up every time with parent process as IntelliJ idea. Also, in the dock/taskbar, the Java processes accumulate.\r\n\r\nBefore debug -\r\n\r\n    % ps -fea | grep java\r\n      503   509 97339   0  7:07PM ttys002    0:00.00 grep java\r\n    % \r\n\r\nAfter 2 debug and stop cycle (This can go more. Just 2 for example) -\r\n\r\n    % ps -fea | grep java\r\n      503 90731 82751   0  5:18PM ??         0:27.31 /Users/name/Library/Java/JavaVirtualMachines/azul-15.0.5/Contents/Home/bin/java -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=127.0.0.1:61543 --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xms256m -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp /Users/akashravi.vasishta/.gradle/wrapper/dists/gradle-6.9-workday-1-bin/5xnutbozhlaeef1xb3yswps8s/gradle-6.9/lib/gradle-launcher-6.9.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9\r\n      503 90802 82751   0  5:24PM ??         0:18.60 /Users/name/Library/Java/JavaVirtualMachines/azul-15.0.5/Contents/Home/bin/java -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=127.0.0.1:61580 --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xms256m -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp /Users/akashravi.vasishta/.gradle/wrapper/dists/gradle-6.9-workday-1-bin/5xnutbozhlaeef1xb3yswps8s/gradle-6.9/lib/gradle-launcher-6.9.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9\r\n    % \r\n\r\nI have to kill these 2 process manually. First of, are these 2 processes the JVM processes ? If not, what are they ? In my code I am also creating a Jetty server, is it that ? Even if it is the Jetty server shouldnt it be killed when I stop debug ? How to kill these Java process when I stop debug ?\r\n\r\nP.S. The activity monitor image and $ps output differ because screenshot was taken at a different time.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/auTGi.png\r\n  [2]: https://i.stack.imgur.com/odX6N.png","title":"Java process is not killed after stopping Debug in Intellij","body":"<p>I have a Java project which uses Gradle to build. I am using IntelliJ IDEA 2021.3 (Community Edition). When I click on debug, it creates a Java process. But it doesnt kill this process when I click on stop. So, everytime I click on debug, the Java processes keep accumulating. Also, in the activity monitor a new no name process shows up every time with parent process as IntelliJ idea. Also, in the dock/taskbar, the Java processes accumulate.</p>\n<p>Before debug -</p>\n<pre><code>% ps -fea | grep java\n  503   509 97339   0  7:07PM ttys002    0:00.00 grep java\n% \n</code></pre>\n<p>After 2 debug and stop cycle (This can go more. Just 2 for example) -</p>\n<pre><code>% ps -fea | grep java\n  503 90731 82751   0  5:18PM ??         0:27.31 /Users/name/Library/Java/JavaVirtualMachines/azul-15.0.5/Contents/Home/bin/java -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=127.0.0.1:61543 --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xms256m -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp /Users/akashravi.vasishta/.gradle/wrapper/dists/gradle-6.9-workday-1-bin/5xnutbozhlaeef1xb3yswps8s/gradle-6.9/lib/gradle-launcher-6.9.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9\n  503 90802 82751   0  5:24PM ??         0:18.60 /Users/name/Library/Java/JavaVirtualMachines/azul-15.0.5/Contents/Home/bin/java -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=127.0.0.1:61580 --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xms256m -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp /Users/akashravi.vasishta/.gradle/wrapper/dists/gradle-6.9-workday-1-bin/5xnutbozhlaeef1xb3yswps8s/gradle-6.9/lib/gradle-launcher-6.9.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9\n% \n</code></pre>\n<p>I have to kill these 2 process manually. First of, are these 2 processes the JVM processes ? If not, what are they ? In my code I am also creating a Jetty server, is it that ? Even if it is the Jetty server shouldnt it be killed when I stop debug ? How to kill these Java process when I stop debug ?</p>\n<p>P.S. The activity monitor image and $ps output differ because screenshot was taken at a different time.</p>\n<p><a href=\"https://i.stack.imgur.com/auTGi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auTGi.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/odX6N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odX6N.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","pagination"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1639716755,"post_id":70388483,"comment_id":124425271,"body_markdown":"What html does the next page element have?","body":"What html does the next page element have?"},{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1639716934,"post_id":70388483,"comment_id":124425290,"body_markdown":"You need to wrap the two color checks in a loop and then click the next page element. If you can&#39;t click the next page element you exit or if you have a default number of pages etc.","body":"You need to wrap the two color checks in a loop and then click the next page element. If you can&#39;t click the next page element you exit or if you have a default number of pages etc."}],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639720427,"creation_date":1639720427,"answer_id":70388961,"question_id":70388483,"body_markdown":"You have to add logic for going to the next page like in web pages, we can either scroll down further or click on `next page` to perform pagination.\r\n\r\nSo for all pages that you have got, you can call a separate function to check your `css` values onto them.","title":"Pagination code required to fetch all links and perform action?","body":"<p>You have to add logic for going to the next page like in web pages, we can either scroll down further or click on <code>next page</code> to perform pagination.</p>\n<p>So for all pages that you have got, you can call a separate function to check your <code>css</code> values onto them.</p>\n"}],"owner":{"account_id":23671478,"reputation":1,"user_id":17698178,"display_name":"Siddhant Gaikwad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639720427,"creation_date":1639715719,"question_id":70388483,"body_markdown":"I need to write a selenium with java code where I need to perform all image font and size check but there is a pagination\r\nwhere the default page set is 50 what if I need to perform font and size check in each page. I have attached my code but it will \r\ncheck only first page. \r\n\r\nScenario: \r\n1.On Parent page only 50 links are displayed I need to click on each record and perform font/size check in same page \r\nI need to again click on next page and perform same font/size check after completing it should navigate to parent page and \r\nagain click on other records and vice versa  but again we have pagination on parent page as well.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    List&lt;WebElement&gt; list=driver.findElements(By.xpath(&quot;//a[@class=&#39;primary-cell-text link&#39;]&quot;));\r\n    System.out.println(list.size());\r\n    \r\n    //Here Pagination code is required ???\r\n    \r\n    \r\n    ArrayList&lt;String&gt; hrefs = new ArrayList&lt;String&gt;(); //List for storing all href values \r\n    for (WebElement var : list) {\r\n    \tSystem.out.println(var.getText()); // fetch the text present between the anchor tags\r\n    \tSystem.out.println(var.getAttribute(&quot;href&quot;));\r\n    \threfs.add(var.getAttribute(&quot;href&quot;)); \r\n    \tSystem.out.println(&quot;*************************************&quot;);\r\n    }\r\n    \r\n    //Navigating to each link\r\n    int i=0;\r\n    for (String href : hrefs) {\r\n    \tdriver.navigate().to(href);\r\n    \tSystem.out.println((++i)+&quot;: navigated to URL with href: &quot;+href);\r\n    \tThread.sleep(3000); // To check if the navigation is done properly.\r\n    \tSystem.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&quot;);\r\n    \r\n    \r\n    \tThread.sleep(5000);\r\n    \r\n    \t//Here Pagination code is required ????\r\n    \r\n    \r\n    \r\n    \t//Below code is to perform action\r\n    \tList&lt;WebElement&gt; block=driver.findElements(By.xpath(&quot;//*[text()=&#39;High&#39; or text()=&#39;Medium&#39; or text()=&#39;Low&#39;]/preceding-sibling::div&quot;));\r\n    \tfor(int b=0;b&lt;block.size();b++) {\r\n    \t\tSystem.out.println(block.get(b).getCssValue(&quot;height&quot;));\r\n    \t\tSystem.out.println(block.get(b).getCssValue(&quot;width&quot;));\r\n    \t\tString h=block.get(b).getCssValue(&quot;height&quot;);\r\n    \t\tString w=block.get(b).getCssValue(&quot;width&quot;);\r\n    \r\n    \t\tif(h.equals(&quot;16px&quot;) &amp;&amp; w.equals(&quot;16px&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Height/Width is Matching &quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;height/Width not matching&quot;);\r\n    \r\n    \t\t}\t\r\n    \t}\r\n    \tThread.sleep(3000);\r\n    \r\n    \r\n    \t//High Color Check\r\n    \tList&lt;WebElement&gt; high=driver.findElements(By.xpath(&quot;//*[text()=&#39;High&#39;]/preceding-sibling::div&quot;));\r\n    \tfor(int h=0;h&lt;high.size();h++) {\r\n    \t\tWebElement hvar=driver.findElement(By.xpath((&quot;(//*[text()=&#39;High&#39;]/preceding-sibling::div)[&quot;+(h + 1)+&quot;]&quot;)));\r\n    \t\tString highColor=hvar.getCssValue(&quot;background-color&quot;);\r\n    \r\n    \t\tSystem.out.println(highColor);\r\n    \t\tString hexHighcolor=Color.fromString(highColor).asHex();\r\n    \t\tSystem.out.println(hexHighcolor);\r\n    \t\tif(hexHighcolor.equals(&quot;#e11900&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;:  High color is matching i.e:#e11900&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;:  Low color is not matching :#e11900&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n","title":"Pagination code required to fetch all links and perform action?","body":"<p>I need to write a selenium with java code where I need to perform all image font and size check but there is a pagination\nwhere the default page set is 50 what if I need to perform font and size check in each page. I have attached my code but it will\ncheck only first page.</p>\n<p>Scenario:\n1.On Parent page only 50 links are displayed I need to click on each record and perform font/size check in same page\nI need to again click on next page and perform same font/size check after completing it should navigate to parent page and\nagain click on other records and vice versa  but again we have pagination on parent page as well.</p>\n<pre><code>List&lt;WebElement&gt; list=driver.findElements(By.xpath(&quot;//a[@class='primary-cell-text link']&quot;));\nSystem.out.println(list.size());\n\n//Here Pagination code is required ???\n\n\nArrayList&lt;String&gt; hrefs = new ArrayList&lt;String&gt;(); //List for storing all href values \nfor (WebElement var : list) {\n    System.out.println(var.getText()); // fetch the text present between the anchor tags\n    System.out.println(var.getAttribute(&quot;href&quot;));\n    hrefs.add(var.getAttribute(&quot;href&quot;)); \n    System.out.println(&quot;*************************************&quot;);\n}\n\n//Navigating to each link\nint i=0;\nfor (String href : hrefs) {\n    driver.navigate().to(href);\n    System.out.println((++i)+&quot;: navigated to URL with href: &quot;+href);\n    Thread.sleep(3000); // To check if the navigation is done properly.\n    System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&quot;);\n\n\n    Thread.sleep(5000);\n\n    //Here Pagination code is required ????\n\n\n\n    //Below code is to perform action\n    List&lt;WebElement&gt; block=driver.findElements(By.xpath(&quot;//*[text()='High' or text()='Medium' or text()='Low']/preceding-sibling::div&quot;));\n    for(int b=0;b&lt;block.size();b++) {\n        System.out.println(block.get(b).getCssValue(&quot;height&quot;));\n        System.out.println(block.get(b).getCssValue(&quot;width&quot;));\n        String h=block.get(b).getCssValue(&quot;height&quot;);\n        String w=block.get(b).getCssValue(&quot;width&quot;);\n\n        if(h.equals(&quot;16px&quot;) &amp;&amp; w.equals(&quot;16px&quot;)) {\n            System.out.println(&quot;Height/Width is Matching &quot;);\n        }\n        else {\n            System.out.println(&quot;height/Width not matching&quot;);\n\n        }   \n    }\n    Thread.sleep(3000);\n\n\n    //High Color Check\n    List&lt;WebElement&gt; high=driver.findElements(By.xpath(&quot;//*[text()='High']/preceding-sibling::div&quot;));\n    for(int h=0;h&lt;high.size();h++) {\n        WebElement hvar=driver.findElement(By.xpath((&quot;(//*[text()='High']/preceding-sibling::div)[&quot;+(h + 1)+&quot;]&quot;)));\n        String highColor=hvar.getCssValue(&quot;background-color&quot;);\n\n        System.out.println(highColor);\n        String hexHighcolor=Color.fromString(highColor).asHex();\n        System.out.println(hexHighcolor);\n        if(hexHighcolor.equals(&quot;#e11900&quot;)) {\n            System.out.println(&quot;:  High color is matching i.e:#e11900&quot;);\n        }\n        else {\n            System.out.println(&quot;:  Low color is not matching :#e11900&quot;);\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","code-completion","google-code"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1598505010,"post_id":63609379,"comment_id":112481573,"body_markdown":"what is the question?","body":"what is the question?"},{"owner":{"account_id":13924802,"reputation":105,"user_id":10054398,"display_name":"MrVaishnav Kuldeep"},"score":0,"creation_date":1598505845,"post_id":63609379,"comment_id":112481800,"body_markdown":"https://stackoverflow.com/questions/63591631/getting-sample-failed-in-google-kick-start-2020-round-a Please Check this out","body":"<a href=\"https://stackoverflow.com/questions/63591631/getting-sample-failed-in-google-kick-start-2020-round-a\" title=\"getting sample failed in google kick start 2020 round a\">stackoverflow.com/questions/63591631/&hellip;</a> Please Check this out"},{"owner":{"account_id":12986209,"reputation":820,"user_id":9387017,"display_name":"CaffeinatedCod3r"},"score":0,"creation_date":1598508906,"post_id":63609379,"comment_id":112482627,"body_markdown":"It means you are getting wrong answer on sample test case.","body":"It means you are getting wrong answer on sample test case."},{"owner":{"account_id":13924802,"reputation":105,"user_id":10054398,"display_name":"MrVaishnav Kuldeep"},"score":0,"creation_date":1598513871,"post_id":63609379,"comment_id":112484727,"body_markdown":"yes exactly but I have cleared all sample test cases and there is no issue for anything. As Google is not specified what is wrong with my code  and which test cases not passed my code ....so can&#39;t figure it out that what is wrong with my code","body":"yes exactly but I have cleared all sample test cases and there is no issue for anything. As Google is not specified what is wrong with my code  and which test cases not passed my code ....so can&#39;t figure it out that what is wrong with my code"}],"owner":{"account_id":13924802,"reputation":105,"user_id":10054398,"display_name":"MrVaishnav Kuldeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639719396,"creation_date":1598503723,"question_id":63609379,"body_markdown":"Anyone please help me out to solve this problem in java \r\nAs I have tried with following code \r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.Arrays;\r\n    \r\n    public class Solution1 {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tBufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(System.out));\r\n    \t\tlong testCases = Integer.parseInt(br.readLine());\r\n    \t\tint n;\r\n    \t\tlong b;\r\n    \t\tint[] a;\r\n    \t\tint count;\r\n    \t\tfor (int i = 1; i &lt;= testCases; i++) {\r\n    \t\t\tString[] inputs = br.readLine().split(&quot; &quot;);\r\n    \t\t\tn = Integer.parseInt(inputs[0]);\r\n    \t\t\ta = new int[n];\r\n    \t\t\tb = Integer.parseInt(inputs[1]);\r\n    \t\t\tString[] input2 = br.readLine().split(&quot; &quot;);\r\n    \t\t\tfor (int j = 0; j &lt; n; j++)\r\n    \t\t\t\ta[j] = Integer.parseInt(input2[j]);\r\n    \r\n    \t\t\tArrays.sort(a);\r\n    \t\t\tcount = 0;\r\n    \r\n    \t\t\tfor (int j = 0; j &lt; n; j++) {\r\n    \t\t\t\tb = b - a[j];\r\n    \t\t\t\tif (b &lt; 0) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t\tbufferedWriter.write((String.format(&quot;Case #%d :%d&quot;, i, count)));\r\n    \t\t\tbufferedWriter.newLine();\r\n    \t\t}\r\n    \t\tbr.close();\r\n    \t\tbufferedWriter.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nI have passed all test cases but whenever I submit my code, got sample failed: WA in resul....I dont know where I left something","title":"Google kick Start 2020 Round A Allocation problem In java","body":"<p>Anyone please help me out to solve this problem in java\nAs I have tried with following code</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.Arrays;\n\npublic class Solution1 {\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(System.out));\n        long testCases = Integer.parseInt(br.readLine());\n        int n;\n        long b;\n        int[] a;\n        int count;\n        for (int i = 1; i &lt;= testCases; i++) {\n            String[] inputs = br.readLine().split(&quot; &quot;);\n            n = Integer.parseInt(inputs[0]);\n            a = new int[n];\n            b = Integer.parseInt(inputs[1]);\n            String[] input2 = br.readLine().split(&quot; &quot;);\n            for (int j = 0; j &lt; n; j++)\n                a[j] = Integer.parseInt(input2[j]);\n\n            Arrays.sort(a);\n            count = 0;\n\n            for (int j = 0; j &lt; n; j++) {\n                b = b - a[j];\n                if (b &lt; 0) {\n                    break;\n                }\n                count++;\n            }\n            bufferedWriter.write((String.format(&quot;Case #%d :%d&quot;, i, count)));\n            bufferedWriter.newLine();\n        }\n        br.close();\n        bufferedWriter.close();\n    }\n\n}\n</code></pre>\n<p>I have passed all test cases but whenever I submit my code, got sample failed: WA in resul....I dont know where I left something</p>\n"},{"tags":["java","postman","spark-java"],"answers":[{"tags":[],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639718159,"creation_date":1639718159,"answer_id":70388716,"question_id":70371041,"body_markdown":"(Edit: thanks to @Aravinth for helping me find this information via their post: https://stackoverflow.com/questions/54939681/swagger-openapi-spec-3-0-delete-opeartion .)\r\n\r\nPayloads on a DELETE are not supported.  While this is not *de jure*, it appears Spark Java abides by not supporting payload retrieval via `queryParams`.\r\n\r\nRFC7231 states:\r\n\r\n&gt; A payload within a DELETE request message has no defined semantics;\r\n&gt; sending a payload body on a DELETE request might cause some existing\r\n&gt; implementations to reject the request.\r\n\r\n(Source: https://www.rfc-editor.org/rfc/rfc7231#section-4.3)\r\n","title":"Spark&#39;s DELETE handler returns NULL when accessing any request.queryParams key","body":"<p>(Edit: thanks to @Aravinth for helping me find this information via their post: <a href=\"https://stackoverflow.com/questions/54939681/swagger-openapi-spec-3-0-delete-opeartion\">Swagger openApi Spec 3.0 - DELETE opeartion</a> .)</p>\n<p>Payloads on a DELETE are not supported.  While this is not <em>de jure</em>, it appears Spark Java abides by not supporting payload retrieval via <code>queryParams</code>.</p>\n<p>RFC7231 states:</p>\n<blockquote>\n<p>A payload within a DELETE request message has no defined semantics;\nsending a payload body on a DELETE request might cause some existing\nimplementations to reject the request.</p>\n</blockquote>\n<p>(Source: <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.3\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7231#section-4.3</a>)</p>\n"}],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639718159,"creation_date":1639606883,"question_id":70371041,"body_markdown":"I developed a very simple API using the Spark Framework (ref: sparkjava.com).  I wrote a delete handler and tested it with Postman.  \r\n\r\n## The Problem ##\r\nWhen I try to assign a value using `request.queryParams`, a NULL value is assigned even though the data is in the HTTP request and shows up in `request.body`.\r\n\r\n##### My Java: #####\r\n```\r\ndelete(&quot;/threat&quot;, (req,res) -&gt; {\r\n    System.out.println(&quot;DELETE /threat&quot;);\r\n    System.out.println(&quot;tid = &quot;+ req.queryParams(&quot;tid&quot;));\r\n    res.status(200);\r\n    return &quot;done&quot;;\r\n}); \r\n```\r\n\r\n##### The Postman Request/Response #####\r\n```\r\nDELETE http://localhost:4567/threat 200 7ms\r\nRequest Headers\r\n   Content-Type: application/x-www-form-urlencoded\r\n   User-Agent: PostmanRuntime/7.28.4\r\n   Accept: */*\r\n   Postman-Token: 90615059-38c6-4901-9838-249b36c35887\r\n   Host: localhost:4567\r\n   Accept-Encoding: gzip, deflate, br\r\n   Connection: keep-alive\r\n   Content-Length: 40\r\nRequest Body\r\n   tid: &quot;839c9af2-9ab4-495d-883b-3cd509b8116d&quot;\r\nResponse Headers\r\n   Date: Wed, 15 Dec 2021 22:03:02 GMT\r\n   Access-Control-Allow-Origin: *\r\n   Content-Type: text/html;charset=utf-8\r\n   Transfer-Encoding: chunked\r\n   Server: Jetty(9.4.z-SNAPSHOT)\r\nResponse Body\r\n   done\r\n```\r\n\r\n##### Console output #####\r\n```\r\nDELETE /threat\r\ntid = null\r\n```\r\n\r\nIf I output `req.body()` then it outputs `tid=839c9af2-9ab4-495d-883b-3cd509b8116d`, but it is strange that the output is `null` when trying to get `req.queryParams(&quot;tid&quot;)`.  \r\n\r\n##### Testing I&#39;ve done #####\r\n\r\nIf I use `post()` instead of `delete()` it works!  The script outputs:\r\n\r\n```\r\nPOST /threat\r\ntid = 839c9af2-9ab4-495d-883b-3cd509b8116d\r\n```\r\n\r\n##### The question for the community #####\r\nSo before I go and write up my own body parser for the delete handler, can anybody tell me why `req.queryParams(&quot;tid&quot;)` returns null inside a `delete()` handler?\r\n\r\n##### Research I&#39;ve done #####\r\nGoogled, searched StackOverflow, read through the docs at SparkJava.com\r\n\r\n\r\n##### Maven information (taken from my pom.xml) #####\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\r\n   &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spark&#39;s DELETE handler returns NULL when accessing any request.queryParams key","body":"<p>I developed a very simple API using the Spark Framework (ref: sparkjava.com).  I wrote a delete handler and tested it with Postman.</p>\n<h2>The Problem</h2>\n<p>When I try to assign a value using <code>request.queryParams</code>, a NULL value is assigned even though the data is in the HTTP request and shows up in <code>request.body</code>.</p>\n<h5>My Java:</h5>\n<pre><code>delete(&quot;/threat&quot;, (req,res) -&gt; {\n    System.out.println(&quot;DELETE /threat&quot;);\n    System.out.println(&quot;tid = &quot;+ req.queryParams(&quot;tid&quot;));\n    res.status(200);\n    return &quot;done&quot;;\n}); \n</code></pre>\n<h5>The Postman Request/Response</h5>\n<pre><code>DELETE http://localhost:4567/threat 200 7ms\nRequest Headers\n   Content-Type: application/x-www-form-urlencoded\n   User-Agent: PostmanRuntime/7.28.4\n   Accept: */*\n   Postman-Token: 90615059-38c6-4901-9838-249b36c35887\n   Host: localhost:4567\n   Accept-Encoding: gzip, deflate, br\n   Connection: keep-alive\n   Content-Length: 40\nRequest Body\n   tid: &quot;839c9af2-9ab4-495d-883b-3cd509b8116d&quot;\nResponse Headers\n   Date: Wed, 15 Dec 2021 22:03:02 GMT\n   Access-Control-Allow-Origin: *\n   Content-Type: text/html;charset=utf-8\n   Transfer-Encoding: chunked\n   Server: Jetty(9.4.z-SNAPSHOT)\nResponse Body\n   done\n</code></pre>\n<h5>Console output</h5>\n<pre><code>DELETE /threat\ntid = null\n</code></pre>\n<p>If I output <code>req.body()</code> then it outputs <code>tid=839c9af2-9ab4-495d-883b-3cd509b8116d</code>, but it is strange that the output is <code>null</code> when trying to get <code>req.queryParams(&quot;tid&quot;)</code>.</p>\n<h5>Testing I've done</h5>\n<p>If I use <code>post()</code> instead of <code>delete()</code> it works!  The script outputs:</p>\n<pre><code>POST /threat\ntid = 839c9af2-9ab4-495d-883b-3cd509b8116d\n</code></pre>\n<h5>The question for the community</h5>\n<p>So before I go and write up my own body parser for the delete handler, can anybody tell me why <code>req.queryParams(&quot;tid&quot;)</code> returns null inside a <code>delete()</code> handler?</p>\n<h5>Research I've done</h5>\n<p>Googled, searched StackOverflow, read through the docs at SparkJava.com</p>\n<h5>Maven information (taken from my pom.xml)</h5>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\n   &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\n   &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jcmd"],"comments":[{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1581585865,"post_id":60202446,"comment_id":106487317,"body_markdown":"Hope this might help: https://stackoverflow.com/questions/25438983/com-sun-tools-attach-attachnotsupportedexception-unable-to-open-socket-file-ta","body":"Hope this might help: <a href=\"https://stackoverflow.com/questions/25438983/com-sun-tools-attach-attachnotsupportedexception-unable-to-open-socket-file-ta\" title=\"com sun tools attach attachnotsupportedexception unable to open socket file ta\">stackoverflow.com/questions/25438983/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3455172,"reputation":1777,"user_id":2893839,"accept_rate":53,"display_name":"Lorenzo Belli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589292854,"creation_date":1589292854,"answer_id":61754019,"question_id":60202446,"body_markdown":"It can be a user permission issue: jmap has to be run with the same user as the java process. e.g. if the owner is `usera` and this is running in a docker contained execute jmap as user `usera`\r\n\r\n    docker exec --user usera -it container_id jmap -dump:format=b,file=/home/usera/memorydump.bin 1","title":"Running jcmd using JDK-11 on JDK-8 java process not running successfully","body":"<p>It can be a user permission issue: jmap has to be run with the same user as the java process. e.g. if the owner is <code>usera</code> and this is running in a docker contained execute jmap as user <code>usera</code></p>\n\n<pre><code>docker exec --user usera -it container_id jmap -dump:format=b,file=/home/usera/memorydump.bin 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1151186,"reputation":71,"user_id":1132863,"display_name":"Aslam Sayyed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639717881,"creation_date":1639717881,"answer_id":70388685,"question_id":60202446,"body_markdown":"If you are running tomcat as a service on linux check following config in unit file i.e. tomcat.service\r\n 1. PrivateTmp=yes, should be removed. As PrivateTmp=yes create private /tmp folder which is not accessible by tool\r\n 2. If you have ProtectSystem=strict, add ReadWritePaths=/tmp/ \r\n\r\nGo through man page for systemd unit file config","title":"Running jcmd using JDK-11 on JDK-8 java process not running successfully","body":"<p>If you are running tomcat as a service on linux check following config in unit file i.e. tomcat.service</p>\n<ol>\n<li>PrivateTmp=yes, should be removed. As PrivateTmp=yes create private /tmp folder which is not accessible by tool</li>\n<li>If you have ProtectSystem=strict, add ReadWritePaths=/tmp/</li>\n</ol>\n<p>Go through man page for systemd unit file config</p>\n"}],"owner":{"account_id":2274721,"reputation":21,"user_id":2001313,"display_name":"Mohit Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639717881,"creation_date":1581578543,"question_id":60202446,"body_markdown":"I am trying to monitor native memory of tomcat using jcmd but getting following exception:\r\nCommand: `jcmd 14533&lt;pid of tomcat&gt; VM.native_memory summary`\r\n\r\nI have installed 2 `jdk&#39;s` `jdk-11` AND `jdk-8`.\r\n\r\nTomcat is running by `jdk-8` and jcmd used `jdk-11` then i got following exception:\r\n```\r\ncom.sun.tools.attach.AttachNotSupportedException: Unable to open socket file /proc/31752/root/tmp/.java_pid31752: target process 31752 doesn&#39;t respond within 10500ms or HotSpot VM not loaded\r\n\tat jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:100)\r\n\tat jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\r\n\tat jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\r\n\tat jdk.jcmd/sun.tools.jcmd.JCmd.executeCommandForPid(JCmd.java:114)\r\n\tat jdk.jcmd/sun.tools.jcmd.JCmd.main(JCmd.java:98)\r\n```\r\nI attched `-XX:+StartAttachListener` with java process but it didn&#39;t work.","title":"Running jcmd using JDK-11 on JDK-8 java process not running successfully","body":"<p>I am trying to monitor native memory of tomcat using jcmd but getting following exception:\nCommand: <code>jcmd 14533&lt;pid of tomcat&gt; VM.native_memory summary</code></p>\n\n<p>I have installed 2 <code>jdk's</code> <code>jdk-11</code> AND <code>jdk-8</code>.</p>\n\n<p>Tomcat is running by <code>jdk-8</code> and jcmd used <code>jdk-11</code> then i got following exception:</p>\n\n<pre><code>com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file /proc/31752/root/tmp/.java_pid31752: target process 31752 doesn't respond within 10500ms or HotSpot VM not loaded\n    at jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:100)\n    at jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\n    at jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\n    at jdk.jcmd/sun.tools.jcmd.JCmd.executeCommandForPid(JCmd.java:114)\n    at jdk.jcmd/sun.tools.jcmd.JCmd.main(JCmd.java:98)\n</code></pre>\n\n<p>I attched <code>-XX:+StartAttachListener</code> with java process but it didn't work.</p>\n"},{"tags":["java","android","video","frames"],"comments":[{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":1,"creation_date":1450367439,"post_id":33625764,"comment_id":56418705,"body_markdown":"Did you find the answer?","body":"Did you find the answer?"},{"owner":{"account_id":3464264,"reputation":591,"user_id":2900336,"accept_rate":88,"display_name":"Richard Poole"},"score":0,"creation_date":1451900712,"post_id":33625764,"comment_id":56921532,"body_markdown":"@AntonShkurenko unfortunately not no. I tried to &#39;speed it up&#39; by introducing multithreading, but it appears FFMpeg isn&#39;t threadsafe.","body":"@AntonShkurenko unfortunately not no. I tried to &#39;speed it up&#39; by introducing multithreading, but it appears FFMpeg isn&#39;t threadsafe."}],"answers":[{"tags":[],"owner":{"account_id":23639670,"reputation":1,"user_id":17670098,"display_name":"Trify"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639716789,"creation_date":1639716789,"answer_id":70388576,"question_id":33625764,"body_markdown":"I use the MediaMetadataRetriver, the process time is about 0.7 second in average. I also find some methods to decrease the time to get the frame.","title":"Android FFmpegMediaMetadataRetriever.getFrameAtTime() is slow","body":"<p>I use the MediaMetadataRetriver, the process time is about 0.7 second in average. I also find some methods to decrease the time to get the frame.</p>\n"}],"owner":{"account_id":3464264,"reputation":591,"user_id":2900336,"accept_rate":88,"display_name":"Richard Poole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2370,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1639716789,"creation_date":1447144494,"question_id":33625764,"body_markdown":"I&#39;m working on an app which will ultimately cut up a video into frames at say 200 millisecond intervals.\r\n\r\nThe app works, you select a video and the app will cut it up into Bitmaps which are stored on the device. The problem is, FFmpegMediaMetaRetriever.getFrameAtTime() is incredibly slow. I mean, it takes longer to process the video than the video length itself, I&#39;m seeing around 1.1 second average per frame.\r\n\r\nI&#39;ve tracked the delay down to the call for getFrameAtTime. Does anyone else out there know of a better way of achieving obtaining frames from a video at specific times?\r\n\r\nCode:\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FFmpegMediaMetadataRetriever retriever = new FFmpegMediaMetadataRetriever();\r\n                retriever.setDataSource(getPath(EditVideo.this, mMediaUri));\r\n                String time = retriever.extractMetadata(FFmpegMediaMetadataRetriever.METADATA_KEY_DURATION);\r\n\r\n                // FFmpegMediaMetadataRetriever doesn&#39;t have the ability to get Width and Height of video, needed to scale down to 1024.\r\n                MediaMetadataRetriever retriever1 = new MediaMetadataRetriever();\r\n                retriever1.setDataSource(getPath(EditVideo.this, mMediaUri));\r\n                int width = Integer.parseInt(retriever1.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_WIDTH));\r\n                int height = Integer.parseInt(retriever1.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_HEIGHT));\r\n                retriever1.release();\r\n\r\n                int videoDuration = Integer.parseInt(time);\r\n\r\n                int newWidth = 1024;\r\n                int newHeight = Math.round(height * (1024f / width));\r\n\r\n                Bitmap bitmap;\r\n                for(int i=0;i&lt;videoDuration;i+=mFrameEvery){\r\n\r\n                    long startTime = System.currentTimeMillis();\r\n                    bitmap = retriever.getFrameAtTime(i*1000, FFmpegMediaMetadataRetriever.OPTION_CLOSEST);\r\n                    long endTime = System.currentTimeMillis();\r\n\r\n                    Log.d(TAG,&quot;Took: &quot; + ((endTime - startTime) / 1000f));\r\n\r\n                    final Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, newWidth, newHeight, false);\r\n\r\n                    try {\r\n                        File frameFile = getOutputMediaFile(&quot;IMAGEFILE&quot;,rev.size());\r\n                        FileOutputStream fos = new FileOutputStream(frameFile);\r\n                        scaledBitmap.compress(Bitmap.CompressFormat.PNG, 80, fos);\r\n                        fos.close();\r\n\r\n                        rev.add(frameFile.getAbsolutePath());\r\n\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                imageView.setImageBitmap(scaledBitmap);\r\n                                totalFrames.setText(&quot;Total Frames: &quot; + rev.size());\r\n                            }\r\n                        });\r\n                    } catch (FileNotFoundException e) {\r\n                        Log.d(TAG, &quot;File not found: &quot; + e.getMessage());\r\n                    } catch (IOException e) {\r\n                        Log.d(TAG, &quot;Error accessing file: &quot; + e.getMessage());\r\n                    }\r\n                }\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        progressBar.setVisibility(View.INVISIBLE);\r\n                        seekBar.setEnabled(true);\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n\r\nLog:\r\n\r\n    D/EditVideo: Took: 1.448\r\n    D/EditVideo: Took: 1.147\r\n    D/EditVideo: Took: 1.162\r\n    D/EditVideo: Took: 1.322\r\n    D/EditVideo: Took: 1.301\r\n    D/EditVideo: Took: 1.453\r\n    D/EditVideo: Took: 1.108\r\n    D/EditVideo: Took: 1.165\r\n    D/EditVideo: Took: 1.292\r\n    D/EditVideo: Took: 1.358\r\n    D/EditVideo: Took: 1.369\r\n    D/EditVideo: Took: 1.06\r\n    D/EditVideo: Took: 1.13\r\n    D/EditVideo: Took: 1.183\r\n    D/EditVideo: Took: 1.177\r\n    D/EditVideo: Took: 1.231\r\n    D/EditVideo: Took: 0.924\r\n    D/EditVideo: Took: 1.007\r\n    D/EditVideo: Took: 1.092\r\n    D/EditVideo: Took: 1.104\r\n    D/EditVideo: Took: 1.211\r\n    D/EditVideo: Took: 0.923\r\n    D/EditVideo: Took: 0.994\r\n    D/EditVideo: Took: 1.119\r\n    D/EditVideo: Took: 1.138\r\n    D/EditVideo: Took: 1.193","title":"Android FFmpegMediaMetadataRetriever.getFrameAtTime() is slow","body":"<p>I'm working on an app which will ultimately cut up a video into frames at say 200 millisecond intervals.</p>\n\n<p>The app works, you select a video and the app will cut it up into Bitmaps which are stored on the device. The problem is, FFmpegMediaMetaRetriever.getFrameAtTime() is incredibly slow. I mean, it takes longer to process the video than the video length itself, I'm seeing around 1.1 second average per frame.</p>\n\n<p>I've tracked the delay down to the call for getFrameAtTime. Does anyone else out there know of a better way of achieving obtaining frames from a video at specific times?</p>\n\n<p>Code:</p>\n\n<pre><code>    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            FFmpegMediaMetadataRetriever retriever = new FFmpegMediaMetadataRetriever();\n            retriever.setDataSource(getPath(EditVideo.this, mMediaUri));\n            String time = retriever.extractMetadata(FFmpegMediaMetadataRetriever.METADATA_KEY_DURATION);\n\n            // FFmpegMediaMetadataRetriever doesn't have the ability to get Width and Height of video, needed to scale down to 1024.\n            MediaMetadataRetriever retriever1 = new MediaMetadataRetriever();\n            retriever1.setDataSource(getPath(EditVideo.this, mMediaUri));\n            int width = Integer.parseInt(retriever1.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_WIDTH));\n            int height = Integer.parseInt(retriever1.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_HEIGHT));\n            retriever1.release();\n\n            int videoDuration = Integer.parseInt(time);\n\n            int newWidth = 1024;\n            int newHeight = Math.round(height * (1024f / width));\n\n            Bitmap bitmap;\n            for(int i=0;i&lt;videoDuration;i+=mFrameEvery){\n\n                long startTime = System.currentTimeMillis();\n                bitmap = retriever.getFrameAtTime(i*1000, FFmpegMediaMetadataRetriever.OPTION_CLOSEST);\n                long endTime = System.currentTimeMillis();\n\n                Log.d(TAG,\"Took: \" + ((endTime - startTime) / 1000f));\n\n                final Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, newWidth, newHeight, false);\n\n                try {\n                    File frameFile = getOutputMediaFile(\"IMAGEFILE\",rev.size());\n                    FileOutputStream fos = new FileOutputStream(frameFile);\n                    scaledBitmap.compress(Bitmap.CompressFormat.PNG, 80, fos);\n                    fos.close();\n\n                    rev.add(frameFile.getAbsolutePath());\n\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            imageView.setImageBitmap(scaledBitmap);\n                            totalFrames.setText(\"Total Frames: \" + rev.size());\n                        }\n                    });\n                } catch (FileNotFoundException e) {\n                    Log.d(TAG, \"File not found: \" + e.getMessage());\n                } catch (IOException e) {\n                    Log.d(TAG, \"Error accessing file: \" + e.getMessage());\n                }\n            }\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    progressBar.setVisibility(View.INVISIBLE);\n                    seekBar.setEnabled(true);\n                }\n            });\n        }\n    }).start();\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>D/EditVideo: Took: 1.448\nD/EditVideo: Took: 1.147\nD/EditVideo: Took: 1.162\nD/EditVideo: Took: 1.322\nD/EditVideo: Took: 1.301\nD/EditVideo: Took: 1.453\nD/EditVideo: Took: 1.108\nD/EditVideo: Took: 1.165\nD/EditVideo: Took: 1.292\nD/EditVideo: Took: 1.358\nD/EditVideo: Took: 1.369\nD/EditVideo: Took: 1.06\nD/EditVideo: Took: 1.13\nD/EditVideo: Took: 1.183\nD/EditVideo: Took: 1.177\nD/EditVideo: Took: 1.231\nD/EditVideo: Took: 0.924\nD/EditVideo: Took: 1.007\nD/EditVideo: Took: 1.092\nD/EditVideo: Took: 1.104\nD/EditVideo: Took: 1.211\nD/EditVideo: Took: 0.923\nD/EditVideo: Took: 0.994\nD/EditVideo: Took: 1.119\nD/EditVideo: Took: 1.138\nD/EditVideo: Took: 1.193\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":23168297,"reputation":41,"user_id":17267888,"display_name":"rfcpp"},"score":0,"creation_date":1639712543,"post_id":70388160,"comment_id":124424685,"body_markdown":"Also I couldn&#39;t fit all the exception bugs as it was too much","body":"Also I couldn&#39;t fit all the exception bugs as it was too much"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1639713081,"post_id":70388160,"comment_id":124424758,"body_markdown":"Close Android Studio and delete the `.gradle` folder entirely?","body":"Close Android Studio and delete the <code>.gradle</code> folder entirely?"},{"owner":{"account_id":23168297,"reputation":41,"user_id":17267888,"display_name":"rfcpp"},"score":0,"creation_date":1639713708,"post_id":70388160,"comment_id":124424845,"body_markdown":"in the folder of the project?","body":"in the folder of the project?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1639713873,"post_id":70388160,"comment_id":124424874,"body_markdown":"Yeah - it is [safe to delete](https://stackoverflow.com/a/50903926/9473786) and will re-download a bunch of stuff when you launch Android Studio again.","body":"Yeah - it is <a href=\"https://stackoverflow.com/a/50903926/9473786\">safe to delete</a> and will re-download a bunch of stuff when you launch Android Studio again."},{"owner":{"account_id":23168297,"reputation":41,"user_id":17267888,"display_name":"rfcpp"},"score":0,"creation_date":1639713892,"post_id":70388160,"comment_id":124424877,"body_markdown":"it does not work it gives the same message","body":"it does not work it gives the same message"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1639713918,"post_id":70388160,"comment_id":124424883,"body_markdown":"No idea then...","body":"No idea then..."}],"answers":[{"tags":[],"owner":{"account_id":23168297,"reputation":41,"user_id":17267888,"display_name":"rfcpp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639715472,"creation_date":1639715472,"answer_id":70388464,"question_id":70388160,"body_markdown":"update here. After trying a lot of things, such as invalidate cache, restarting, deleting .gradle, etc. After a couple of minutes of messing around I saw a new message different from before on the problems which was compileSDKversion could not be found. I checked the buildgradle.app and I found that it was already there, I searched about it and found that usually there was a buildToolsVersion below it. I added it and somehow it worked. Perhaps it wasn&#39;t that that fixed it but it worked out in the end. It could be me restarting it a lot or something.","title":"AndroidStudio gradle and class broke","body":"<p>update here. After trying a lot of things, such as invalidate cache, restarting, deleting .gradle, etc. After a couple of minutes of messing around I saw a new message different from before on the problems which was compileSDKversion could not be found. I checked the buildgradle.app and I found that it was already there, I searched about it and found that usually there was a buildToolsVersion below it. I added it and somehow it worked. Perhaps it wasn't that that fixed it but it worked out in the end. It could be me restarting it a lot or something.</p>\n"}],"owner":{"account_id":23168297,"reputation":41,"user_id":17267888,"display_name":"rfcpp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639715472,"creation_date":1639712466,"question_id":70388160,"body_markdown":"So I opened my android studio to find this message\r\n\r\n  ```* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; Could not load compiled classes for build file &#39;(my build gradle)&#39; from cache.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:app&#39;.\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:75)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:51)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:102)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.api.GradleException: Could not load compiled classes for build file &#39;C:\\Users\\rafaw\\OneDrive\\Desktop\\pp_rafa\\pp_rafa\\remindertest\\app\\build.gradle&#39; from cache.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$ClassesDirCompiledScript.loadClass(DefaultScriptCompilationHandler.java:333)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.getScript(DefaultScriptRunnerFactory.java:55)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:86)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:277)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\t\r\n\t\r\n```\r\nAlong with that I found\r\n\r\n```\r\nUnable to load class &#39;build_9ox44yv7hgyib8h2by1qfwuux&#39;.\r\n\r\nThis is an unexpected error. Please file a bug containing the idea.log file.\r\n```\r\n\r\nDo you guys know how to fix this? Invalidate cache and restart doesn&#39;t work and sync project with gradle files doesn&#39;t either. Also the majority of the problems mainly resides in Activity 2. Local history also doesn&#39;t work. Do I have to restart everything?\r\n","title":"AndroidStudio gradle and class broke","body":"<p>So I opened my android studio to find this message</p>\n<pre><code>A problem occurred configuring project ':app'.\n&gt; Could not load compiled classes for build file '(my build gradle)' from cache.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.\n  at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:75)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:68)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:51)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:102)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\n  at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\n  at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\n  at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\n  at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\n  at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\n  at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\n  at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n  at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n  at org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\n  at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\n  at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n  at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\n  at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\n  at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n  at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n  at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n  at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\n  at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\n  at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n  at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n  at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\n  at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n  at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\n  at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n  at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n  at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n  at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n  at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\n  at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n  at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\n  at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n  at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\n  at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n  at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n  at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\n  at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n  at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n  at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n  at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n  at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n  at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n  at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n  at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n  at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n  at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n  at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n  at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n  at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n  at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n  at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n  at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n  at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n  at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n  at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n  at org.gradle.util.Swapper.swap(Swapper.java:38)\n  at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n  at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n  at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n  at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n  at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n  at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n  at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n  at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n  at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.GradleException: Could not load compiled classes for build file 'C:\\Users\\rafaw\\OneDrive\\Desktop\\pp_rafa\\pp_rafa\\remindertest\\app\\build.gradle' from cache.\n  at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$ClassesDirCompiledScript.loadClass(DefaultScriptCompilationHandler.java:333)\n  at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.getScript(DefaultScriptRunnerFactory.java:55)\n  at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:86)\n  at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n  at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\n  at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n  at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n  at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\n  at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:277)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\n  at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n  at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n  at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\n  at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\n  at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\n  at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\n  at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\n  at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\n  at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\n  at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\n  at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n  at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n  at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n  at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n  at org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\n  at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\n  at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n  at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\n  at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\n  at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n  at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n  at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n  at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\n  at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\n  at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n  at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n  at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\n  at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n  at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\n  at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n  at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n  at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n  at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n  \n  \n</code></pre>\n<p>Along with that I found</p>\n<pre><code>Unable to load class 'build_9ox44yv7hgyib8h2by1qfwuux'.\n\nThis is an unexpected error. Please file a bug containing the idea.log file.\n</code></pre>\n<p>Do you guys know how to fix this? Invalidate cache and restart doesn't work and sync project with gradle files doesn't either. Also the majority of the problems mainly resides in Activity 2. Local history also doesn't work. Do I have to restart everything?</p>\n"},{"tags":["java","swing","jpanel","drawing"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1639707412,"post_id":70387612,"comment_id":124423997,"body_markdown":"One problem is that this is not how you should be using graphics in Swing. You should not be calling `.getGraphics()` on components and using that Graphics object. Rather use the one passed into your paintComponent method.","body":"One problem is that this is not how you should be using graphics in Swing. You should not be calling <code>.getGraphics()</code> on components and using that Graphics object. Rather use the one passed into your paintComponent method."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1639707580,"post_id":70387612,"comment_id":124424020,"body_markdown":"What *exact* behavior are you trying to elicit?","body":"What <i>exact</i> behavior are you trying to elicit?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1639707683,"post_id":70387612,"comment_id":124424038,"body_markdown":"Note that none of us can reproduce your program&#39;s misbehavior given your current code since we cannot compile nor run it. Consider condensing it to the smallest runnable code that reproduces your problem, a [mre].","body":"Note that none of us can reproduce your program&#39;s misbehavior given your current code since we cannot compile nor run it. Consider condensing it to the smallest runnable code that reproduces your problem, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10812935,"reputation":3,"user_id":7953002,"display_name":"Isaac Zarzuri"},"score":0,"creation_date":1639708177,"post_id":70387612,"comment_id":124424111,"body_markdown":"I added all the code needed to run it. Thank you for your time and help.","body":"I added all the code needed to run it. Thank you for your time and help."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1639708390,"post_id":70387612,"comment_id":124424143,"body_markdown":"Nope. Your code throws a NullPointerException due to uninitialized objects in the GUI, such as the undoButton and others","body":"Nope. Your code throws a NullPointerException due to uninitialized objects in the GUI, such as the undoButton and others"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1639708544,"post_id":70387612,"comment_id":124424165,"body_markdown":"Plus other issues. Please fix. Also, again please tell the details of your code and your problem. Please go through the [ask] and the [tour] links.","body":"Plus other issues. Please fix. Also, again please tell the details of your code and your problem. Please go through the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the <a href=\"https://stackoverflow.com/tour\">tour</a> links."},{"owner":{"account_id":10812935,"reputation":3,"user_id":7953002,"display_name":"Isaac Zarzuri"},"score":0,"creation_date":1639708634,"post_id":70387612,"comment_id":124424176,"body_markdown":"I just updated the code, i refactor a bit.\nMy issue is: after clearing the jpanel i am not able to draw again inside the jpanel, is just cleared and not going for the paintComponent()","body":"I just updated the code, i refactor a bit. My issue is: after clearing the jpanel i am not able to draw again inside the jpanel, is just cleared and not going for the paintComponent()"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1639708809,"post_id":70387612,"comment_id":124424198,"body_markdown":"Test ***the posted code*** in isolation first to make sure that it compiles and runs. You&#39;re not doing this most important step.","body":"Test <b><i>the posted code</i></b> in isolation first to make sure that it compiles and runs. You&#39;re not doing this most important step."},{"owner":{"account_id":10812935,"reputation":3,"user_id":7953002,"display_name":"Isaac Zarzuri"},"score":0,"creation_date":1639709701,"post_id":70387612,"comment_id":124424308,"body_markdown":"I just tested in a new project and and has no errors now.","body":"I just tested in a new project and and has no errors now."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1639711004,"post_id":70387612,"comment_id":124424499,"body_markdown":"You are not testing the posted code. For instance, your undoButton still throws a NullPointerException, since nowhere in your posted code do you initialize it with an object (e.g., nowhere in the code above do you have `undoButton = new JButton():`). Again, you need to test the code that you&#39;ve posted, separate from the code that you already have on your computer.","body":"You are not testing the posted code. For instance, your undoButton still throws a NullPointerException, since nowhere in your posted code do you initialize it with an object (e.g., nowhere in the code above do you have <code>undoButton = new JButton():</code>). Again, you need to test the code that you&#39;ve posted, separate from the code that you already have on your computer."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639714698,"creation_date":1639710845,"answer_id":70388011,"question_id":70387612,"body_markdown":"Again, you&#39;re not drawing correctly. You are trying to render using a JPanel, cliente, that is never added to the GUI, and you&#39;re trying to use a Graphics object that is extracted from this unrendered component, making the Graphics object thus obtained short-lived and unstable. \r\n\r\nInstead, do all drawing in the paintComponent method. You can use a BufferedImage and draw that in paintComponent if desired, especially if you want images with objects that show different colors, or you can use your List (here a LinkedList, but ArrayList will work) and draw in paintComponent. For instance, something simple like:\r\n\r\n\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class Cliente2 extends JPanel {\r\n\tprivate static final int BI_WIDTH = 800;\r\n\tprivate static final int BI_HEIGHT = 650;\r\n\tprivate Rectangle drawingRect = null;\r\n\t// private java.util.List&lt;Rectangulo&gt; rectangulos = new ArrayList&lt;&gt;();\r\n\tList&lt;Rectangulo2&gt; rectangulos = new ArrayList&lt;&gt;();\r\n\tprivate JButton clearBtn = new JButton(&quot;Clear&quot;);\r\n\r\n\tpublic Cliente2() {\r\n\t\tsetBackground(Color.WHITE);\r\n\t\tMyMouse myMouse = new MyMouse();\r\n\t\taddMouseListener(myMouse);\r\n\t\taddMouseMotionListener(myMouse);\r\n\r\n\t\tclearBtn.addActionListener(e -&gt; clear());\r\n\t\tadd(clearBtn);\r\n\t}\r\n\r\n\tprivate void clear() {\r\n\t\trectangulos.clear();\r\n\t\trepaint();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(BI_WIDTH, BI_HEIGHT);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tif (drawingRect != null) {\r\n\t\t\tg2.setColor(Color.LIGHT_GRAY);\r\n\t\t\tg2.draw(drawingRect);\r\n\t\t}\r\n\r\n\t\tfor (Rectangulo2 rectangulo : rectangulos) {\r\n\t\t\trectangulo.draw(g2);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\tprivate Point p0;\r\n\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tp0 = e.getPoint();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\tdrawingRect = createDrawingRect(e);\r\n\t\t\trepaint();\r\n\t\t}\r\n\r\n\t\tprivate Rectangle createDrawingRect(MouseEvent e) {\r\n\t\t\tPoint p1 = e.getPoint();\r\n\t\t\tint x = Math.min(p0.x, p1.x);\r\n\t\t\tint y = Math.min(p0.y, p1.y);\r\n\t\t\tint width = Math.abs(p0.x - p1.x);\r\n\t\t\tint height = Math.abs(p0.y - p1.y);\r\n\t\t\treturn new Rectangle(x, y, width, height);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseReleased(MouseEvent e) {\r\n\r\n            // lets create some random colors:\r\n\t\t\tfloat hue = (float) Math.random();\r\n\t\t\tfloat brightness = (float) Math.random();\r\n\t\t\tColor color = Color.getHSBColor(hue, 1f, brightness);\r\n\r\n\t\t\tRectangulo2 rectangulo = new Rectangulo2(color, p0, e.getPoint());\r\n\t\t\trectangulos.add(rectangulo);\r\n\t\t\tdrawingRect = null;\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame.setDefaultLookAndFeelDecorated(true);\r\n\t\tJFrame frame = new JFrame(&quot;Patron Memento&quot;);\r\n\t\t\r\n\t\t// Cliente cliente = new Cliente();\r\n\t\t// frame.setContentPane(cliente.panel1);\r\n\t\t\r\n\t\tframe.add(new Cliente2());\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass Rectangulo2 {\r\n\tprivate static final Stroke STROKE = new BasicStroke(3f);\r\n\tprivate Color color;\r\n\tprivate Point p0, p1;\r\n\r\n\tpublic Rectangulo2() {\r\n\t}\r\n\r\n\tpublic Rectangulo2(Color color, Point p0, Point p1) {\r\n\t\tsuper();\r\n\t\tthis.color = color;\r\n\t\tthis.p0 = p0;\r\n\t\tthis.p1 = p1;\r\n\t}\r\n\r\n\tpublic Color getColor() {\r\n\t\treturn color;\r\n\t}\r\n\r\n\tpublic Point getP0() {\r\n\t\treturn p0;\r\n\t}\r\n\r\n\tpublic Point getP1() {\r\n\t\treturn p1;\r\n\t}\r\n\r\n\tpublic void draw(Graphics g) {\r\n\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n\r\n\t\tg2.setColor(color);\r\n\t\tint x = Math.min(p0.x, p1.x);\r\n\t\tint y = Math.min(p0.y, p1.y);\r\n\t\tint width = Math.abs(p0.x - p1.x);\r\n\t\tint height = Math.abs(p0.y - p1.y);\r\n\t\tg2.fillRect(x, y, width, height);\r\n\r\n\t\tg2.setStroke(STROKE);\r\n\t\tg2.setColor(Color.BLACK);\r\n\t\tg2.drawRect(x, y, width, height);\r\n\t\tg2.dispose();\r\n\t}\r\n\r\n}\r\n```","title":"I am not able to draw after clear my jpanel","body":"<p>Again, you're not drawing correctly. You are trying to render using a JPanel, cliente, that is never added to the GUI, and you're trying to use a Graphics object that is extracted from this unrendered component, making the Graphics object thus obtained short-lived and unstable.</p>\n<p>Instead, do all drawing in the paintComponent method. You can use a BufferedImage and draw that in paintComponent if desired, especially if you want images with objects that show different colors, or you can use your List (here a LinkedList, but ArrayList will work) and draw in paintComponent. For instance, something simple like:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\n\n\npublic class Cliente2 extends JPanel {\n    private static final int BI_WIDTH = 800;\n    private static final int BI_HEIGHT = 650;\n    private Rectangle drawingRect = null;\n    // private java.util.List&lt;Rectangulo&gt; rectangulos = new ArrayList&lt;&gt;();\n    List&lt;Rectangulo2&gt; rectangulos = new ArrayList&lt;&gt;();\n    private JButton clearBtn = new JButton(&quot;Clear&quot;);\n\n    public Cliente2() {\n        setBackground(Color.WHITE);\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);\n        addMouseMotionListener(myMouse);\n\n        clearBtn.addActionListener(e -&gt; clear());\n        add(clearBtn);\n    }\n\n    private void clear() {\n        rectangulos.clear();\n        repaint();\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(BI_WIDTH, BI_HEIGHT);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        if (drawingRect != null) {\n            g2.setColor(Color.LIGHT_GRAY);\n            g2.draw(drawingRect);\n        }\n\n        for (Rectangulo2 rectangulo : rectangulos) {\n            rectangulo.draw(g2);\n        }\n    }\n\n    private class MyMouse extends MouseAdapter {\n        private Point p0;\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            p0 = e.getPoint();\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            drawingRect = createDrawingRect(e);\n            repaint();\n        }\n\n        private Rectangle createDrawingRect(MouseEvent e) {\n            Point p1 = e.getPoint();\n            int x = Math.min(p0.x, p1.x);\n            int y = Math.min(p0.y, p1.y);\n            int width = Math.abs(p0.x - p1.x);\n            int height = Math.abs(p0.y - p1.y);\n            return new Rectangle(x, y, width, height);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n\n            // lets create some random colors:\n            float hue = (float) Math.random();\n            float brightness = (float) Math.random();\n            Color color = Color.getHSBColor(hue, 1f, brightness);\n\n            Rectangulo2 rectangulo = new Rectangulo2(color, p0, e.getPoint());\n            rectangulos.add(rectangulo);\n            drawingRect = null;\n            repaint();\n        }\n    }\n    \n    public static void main(String[] args) {\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        JFrame frame = new JFrame(&quot;Patron Memento&quot;);\n        \n        // Cliente cliente = new Cliente();\n        // frame.setContentPane(cliente.panel1);\n        \n        frame.add(new Cliente2());\n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<pre><code>class Rectangulo2 {\n    private static final Stroke STROKE = new BasicStroke(3f);\n    private Color color;\n    private Point p0, p1;\n\n    public Rectangulo2() {\n    }\n\n    public Rectangulo2(Color color, Point p0, Point p1) {\n        super();\n        this.color = color;\n        this.p0 = p0;\n        this.p1 = p1;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public Point getP0() {\n        return p0;\n    }\n\n    public Point getP1() {\n        return p1;\n    }\n\n    public void draw(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g.create();\n\n        g2.setColor(color);\n        int x = Math.min(p0.x, p1.x);\n        int y = Math.min(p0.y, p1.y);\n        int width = Math.abs(p0.x - p1.x);\n        int height = Math.abs(p0.y - p1.y);\n        g2.fillRect(x, y, width, height);\n\n        g2.setStroke(STROKE);\n        g2.setColor(Color.BLACK);\n        g2.drawRect(x, y, width, height);\n        g2.dispose();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10812935,"reputation":3,"user_id":7953002,"display_name":"Isaac Zarzuri"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70388011,"answer_count":1,"score":0,"last_activity_date":1639714698,"creation_date":1639706321,"question_id":70387612,"body_markdown":"```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.border.BevelBorder;\r\n\r\npublic class Cliente extends JPanel {\r\n    private JButton adelanteButton;\r\n    private JButton undoButton;\r\n    private JPanel panel1;\r\n    private JPanel panelDibujo;\r\n\r\n    private Rectangulo rectangulo = new Rectangulo();\r\n    Originator originator;\r\n    Caretaker caretaker;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        JFrame frame = new JFrame(&quot;Patron Memento&quot;);\r\n        Cliente cliente = new Cliente();\r\n        frame.setContentPane(cliente.panel1);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        for (Memento m : caretaker.history) {\r\n            System.out.println(&quot;forcitooooooo&quot;);\r\n            dibujar(m.getState(), Color.GREEN);\r\n        }\r\n    }\r\n\r\n    public Cliente() {\r\n\r\n        caretaker = new Caretaker();\r\n        originator = new Originator();\r\n        createUIComponents();\r\n        undoButton.addActionListener(e -&gt; {\r\n            caretaker.anterior();\r\n            panelDibujo.repaint();\r\n        });\r\n\r\n        panelDibujo.setBackground(Color.WHITE);\r\n        panelDibujo.setBorder(BorderFactory.createBevelBorder(BevelBorder.RAISED));\r\n\r\n        panelDibujo.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                MousePressedEvent(e);\r\n            }\r\n\r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                MouseReleasedEvent(e);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    private void createUIComponents() {\r\n    }\r\n\r\n    private void MousePressedEvent(MouseEvent e){\r\n        rectangulo.setX1(e.getX());\r\n        rectangulo.setY1(e.getY());\r\n    }\r\n\r\n    private void MouseReleasedEvent(MouseEvent e){\r\n        rectangulo.setX2(e.getX());\r\n        rectangulo.setY2(e.getY());\r\n        originator.setState(rectangulo);\r\n        dibujar(rectangulo, Color.orange);\r\n        caretaker.addMemento(originator.CreateMemento());\r\n        rectangulo = new Rectangulo();\r\n    }\r\n\r\n    public void dibujar(Rectangulo r, Color c) {\r\n        Graphics g = panelDibujo.getGraphics();\r\n        g.setColor(c);\r\n        g.drawRect(r.getX1(), r.getY1(), r.getX2() - r.getX1(), r.getY2() - r.getY1());\r\n        g.dispose();\r\n    }\r\n\r\n}\r\n```\r\n\r\nHello i am applying the memento pattern by using a jpanel and drawing some rectangles inside, right now my code is working fine about drawing with the mouse events, but the issue is when i try to undo. My logic so far is clear the jpanel and redo all the rectangles minus the last one. \r\nBut after clearing my jpanel is not drawing again :( can someone help me to fix it? thank you\r\n\r\nCaretaker.java\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedList;\r\nimport java.util.Stack;\r\n\r\npublic class Caretaker {\r\n    LinkedList&lt;Memento&gt; history;\r\n    int indice;\r\n\r\n    public Caretaker(){\r\n        history = new LinkedList&lt;&gt;();\r\n        indice = 0;\r\n    }\r\n\r\n    void addMemento(Memento m){\r\n        if (history.size() == indice || history.isEmpty()){\r\n            indice++;\r\n            history.add(m);\r\n        }else {\r\n            indice = history.size()-1;\r\n            history.subList(indice +1, history.size()).clear();\r\n        }\r\n    }\r\n\r\n    Memento anterior(){\r\n        if (history.size() &gt; 0){\r\n            indice--;\r\n            return history.removeLast();\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;No hay mas wey!&quot;);\r\n        return null;\r\n    }\r\n\r\n    Memento siguiente(){\r\n        if (indice &lt; history.size()+1){\r\n            indice++;\r\n            return history.get(indice+1);\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;No hay mas wey!&quot;);\r\n        return null;\r\n    }\r\n\r\n    public void redibujar(JPanel f){\r\n        Graphics g = f.getGraphics();\r\n\r\n        for (Memento m: history) {\r\n            g.drawRect(m.getState().getX1(), m.getState().getY1(), m.getState().getX2() - m.getState().getX1(), m.getState().getY2() - m.getState().getY1());\r\n            g.dispose();\r\n        }\r\n\r\n    }\r\n\r\n    public void clear(){\r\n        history.clear();\r\n        indice = 0;\r\n    }\r\n}\r\n```\r\nMemento.java\r\n```\r\npublic class Memento {\r\n    Rectangulo state;\r\n\r\n    /*\r\n    Constructor, unica manera de mandar/crear/guardar los datos\r\n     */\r\n    public Memento(Rectangulo state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public Memento(){\r\n        state = new Rectangulo();\r\n    }\r\n\r\n    Rectangulo getState(){\r\n        return state;\r\n    }\r\n}\r\n```\r\nOriginator.java\r\n```\r\npublic class Originator {\r\n    Rectangulo state;\r\n\r\n    public void setState(Rectangulo rectangulo){\r\n        this.state = rectangulo;\r\n    }\r\n\r\n    public Memento CreateMemento(){\r\n        return new Memento(state);\r\n    }\r\n\r\n    public void setMemento(Memento m) {\r\n        setState(m.getState());\r\n    }\r\n}\r\n```\r\n\r\nRectangulo.java\r\n```\r\nimport java.awt.*;\r\n\r\npublic class Rectangulo {\r\n    private int x1;\r\n    private int x2;\r\n    private int y1;\r\n    private int y2;\r\n\r\n    \r\n\r\n    Rectangulo(){\r\n    }\r\n\r\n    public Rectangulo(int x1, int x2, int y1, int y2) {\r\n        this.x1 = x1;\r\n        this.x2 = x2;\r\n        this.y1 = y1;\r\n        this.y2 = y2;\r\n    }\r\n\r\n    public int getX1() {\r\n        return x1;\r\n    }\r\n\r\n    public void setX1(int x1) {\r\n        this.x1 = x1;\r\n    }\r\n\r\n    public int getX2() {\r\n        return x2;\r\n    }\r\n\r\n    public void setX2(int x2) {\r\n        this.x2 = x2;\r\n    }\r\n\r\n    public int getY1() {\r\n        return y1;\r\n    }\r\n\r\n    public void setY1(int y1) {\r\n        this.y1 = y1;\r\n    }\r\n\r\n    public int getY2() {\r\n        return y2;\r\n    }\r\n\r\n    public void setY2(int y2) {\r\n        this.y2 = y2;\r\n    }\r\n\r\n    public void draw(Graphics g){\r\n        g.setColor(Color.orange);\r\n        g.drawRect(this.getX1(), this.getY1(), this.getX2() - this.getX1(), this.getY2() - this.getY1());\r\n    }\r\n}\r\n```\r\n","title":"I am not able to draw after clear my jpanel","body":"<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.border.BevelBorder;\n\npublic class Cliente extends JPanel {\n    private JButton adelanteButton;\n    private JButton undoButton;\n    private JPanel panel1;\n    private JPanel panelDibujo;\n\n    private Rectangulo rectangulo = new Rectangulo();\n    Originator originator;\n    Caretaker caretaker;\n\n\n    public static void main(String[] args) {\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        JFrame frame = new JFrame(&quot;Patron Memento&quot;);\n        Cliente cliente = new Cliente();\n        frame.setContentPane(cliente.panel1);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (Memento m : caretaker.history) {\n            System.out.println(&quot;forcitooooooo&quot;);\n            dibujar(m.getState(), Color.GREEN);\n        }\n    }\n\n    public Cliente() {\n\n        caretaker = new Caretaker();\n        originator = new Originator();\n        createUIComponents();\n        undoButton.addActionListener(e -&gt; {\n            caretaker.anterior();\n            panelDibujo.repaint();\n        });\n\n        panelDibujo.setBackground(Color.WHITE);\n        panelDibujo.setBorder(BorderFactory.createBevelBorder(BevelBorder.RAISED));\n\n        panelDibujo.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                MousePressedEvent(e);\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n                MouseReleasedEvent(e);\n            }\n\n        });\n    }\n\n    private void createUIComponents() {\n    }\n\n    private void MousePressedEvent(MouseEvent e){\n        rectangulo.setX1(e.getX());\n        rectangulo.setY1(e.getY());\n    }\n\n    private void MouseReleasedEvent(MouseEvent e){\n        rectangulo.setX2(e.getX());\n        rectangulo.setY2(e.getY());\n        originator.setState(rectangulo);\n        dibujar(rectangulo, Color.orange);\n        caretaker.addMemento(originator.CreateMemento());\n        rectangulo = new Rectangulo();\n    }\n\n    public void dibujar(Rectangulo r, Color c) {\n        Graphics g = panelDibujo.getGraphics();\n        g.setColor(c);\n        g.drawRect(r.getX1(), r.getY1(), r.getX2() - r.getX1(), r.getY2() - r.getY1());\n        g.dispose();\n    }\n\n}\n</code></pre>\n<p>Hello i am applying the memento pattern by using a jpanel and drawing some rectangles inside, right now my code is working fine about drawing with the mouse events, but the issue is when i try to undo. My logic so far is clear the jpanel and redo all the rectangles minus the last one.\nBut after clearing my jpanel is not drawing again :( can someone help me to fix it? thank you</p>\n<p>Caretaker.java</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.Stack;\n\npublic class Caretaker {\n    LinkedList&lt;Memento&gt; history;\n    int indice;\n\n    public Caretaker(){\n        history = new LinkedList&lt;&gt;();\n        indice = 0;\n    }\n\n    void addMemento(Memento m){\n        if (history.size() == indice || history.isEmpty()){\n            indice++;\n            history.add(m);\n        }else {\n            indice = history.size()-1;\n            history.subList(indice +1, history.size()).clear();\n        }\n    }\n\n    Memento anterior(){\n        if (history.size() &gt; 0){\n            indice--;\n            return history.removeLast();\n        }\n        JOptionPane.showMessageDialog(null, &quot;No hay mas wey!&quot;);\n        return null;\n    }\n\n    Memento siguiente(){\n        if (indice &lt; history.size()+1){\n            indice++;\n            return history.get(indice+1);\n        }\n        JOptionPane.showMessageDialog(null, &quot;No hay mas wey!&quot;);\n        return null;\n    }\n\n    public void redibujar(JPanel f){\n        Graphics g = f.getGraphics();\n\n        for (Memento m: history) {\n            g.drawRect(m.getState().getX1(), m.getState().getY1(), m.getState().getX2() - m.getState().getX1(), m.getState().getY2() - m.getState().getY1());\n            g.dispose();\n        }\n\n    }\n\n    public void clear(){\n        history.clear();\n        indice = 0;\n    }\n}\n</code></pre>\n<p>Memento.java</p>\n<pre><code>public class Memento {\n    Rectangulo state;\n\n    /*\n    Constructor, unica manera de mandar/crear/guardar los datos\n     */\n    public Memento(Rectangulo state) {\n        this.state = state;\n    }\n\n    public Memento(){\n        state = new Rectangulo();\n    }\n\n    Rectangulo getState(){\n        return state;\n    }\n}\n</code></pre>\n<p>Originator.java</p>\n<pre><code>public class Originator {\n    Rectangulo state;\n\n    public void setState(Rectangulo rectangulo){\n        this.state = rectangulo;\n    }\n\n    public Memento CreateMemento(){\n        return new Memento(state);\n    }\n\n    public void setMemento(Memento m) {\n        setState(m.getState());\n    }\n}\n</code></pre>\n<p>Rectangulo.java</p>\n<pre><code>import java.awt.*;\n\npublic class Rectangulo {\n    private int x1;\n    private int x2;\n    private int y1;\n    private int y2;\n\n    \n\n    Rectangulo(){\n    }\n\n    public Rectangulo(int x1, int x2, int y1, int y2) {\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n\n    public int getX1() {\n        return x1;\n    }\n\n    public void setX1(int x1) {\n        this.x1 = x1;\n    }\n\n    public int getX2() {\n        return x2;\n    }\n\n    public void setX2(int x2) {\n        this.x2 = x2;\n    }\n\n    public int getY1() {\n        return y1;\n    }\n\n    public void setY1(int y1) {\n        this.y1 = y1;\n    }\n\n    public int getY2() {\n        return y2;\n    }\n\n    public void setY2(int y2) {\n        this.y2 = y2;\n    }\n\n    public void draw(Graphics g){\n        g.setColor(Color.orange);\n        g.drawRect(this.getX1(), this.getY1(), this.getX2() - this.getX1(), this.getY2() - this.getY1());\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":3,"creation_date":1386012031,"post_id":20336087,"comment_id":30352658,"body_markdown":"What do you want to do in case of a tie? There seem to be four possibilities: return the first one, return the last one, return an arbitrary one, or return a list of all tied names. (For the last, you&#39;d probably design the method to always return a list, even if there are no ties.)","body":"What do you want to do in case of a tie? There seem to be four possibilities: return the first one, return the last one, return an arbitrary one, or return a list of all tied names. (For the last, you&#39;d probably design the method to always return a list, even if there are no ties.)"},{"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"score":0,"creation_date":1386012079,"post_id":20336087,"comment_id":30352681,"body_markdown":"I&#39;m not really sure. I want to be able to print all of the &quot;winners&quot; in case of a tie. I&#39;m not sure how to go about it. `System.out.println(&quot;The winners are &quot;+winner+...);`","body":"I&#39;m not really sure. I want to be able to print all of the &quot;winners&quot; in case of a tie. I&#39;m not sure how to go about it. <code>System.out.println(&quot;The winners are &quot;+winner+...);</code>"},{"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"score":2,"creation_date":1386012112,"post_id":20336087,"comment_id":30352697,"body_markdown":"What have you tried? Maybe a loop? Some conditions? Anything you can show us?","body":"What have you tried? Maybe a loop? Some conditions? Anything you can show us?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1386012132,"post_id":20336087,"comment_id":30352710,"body_markdown":"All it requires is a single loop. There are millions of code samples that find max and/or min of something in arrays.","body":"All it requires is a single loop. There are millions of code samples that find max and/or min of something in arrays."},{"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"score":0,"creation_date":1386013120,"post_id":20336087,"comment_id":30353238,"body_markdown":"@ZongZhengLi, I&#39;ve appended code I&#39;m working with now.","body":"@ZongZhengLi, I&#39;ve appended code I&#39;m working with now."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639713161,"creation_date":1386012306,"answer_id":20336188,"question_id":20336087,"body_markdown":"If you want all names corresponding to the maximum funds raised, you should design the method to always return a list. Here&#39;s one possibility:\r\n\r\n    List&lt;String&gt; bestFundraisers(String[] names, double[] totals) {\r\n        final List&lt;String&gt; winners = new ArrayList&lt;&gt;();\r\n        final int n = names.length;\r\n        // optional: throw an exception if totals.length != n\r\n        double max = Double.NEGATIVE_INFINITY;\r\n        for (int i = 0; i &lt; n; ++i) {\r\n            double raised = totals[i];\r\n            if (raised &gt;= max) {\r\n                if (raised &gt; max) {\r\n                    winners.clear();\r\n                    max = raised;\r\n                }\r\n                winners.add(names[i]);\r\n            }\r\n        }\r\n        return winners;\r\n    }","title":"Search array for highest value, even if a tie","body":"<p>If you want all names corresponding to the maximum funds raised, you should design the method to always return a list. Here's one possibility:</p>\n<pre><code>List&lt;String&gt; bestFundraisers(String[] names, double[] totals) {\n    final List&lt;String&gt; winners = new ArrayList&lt;&gt;();\n    final int n = names.length;\n    // optional: throw an exception if totals.length != n\n    double max = Double.NEGATIVE_INFINITY;\n    for (int i = 0; i &lt; n; ++i) {\n        double raised = totals[i];\n        if (raised &gt;= max) {\n            if (raised &gt; max) {\n                winners.clear();\n                max = raised;\n            }\n            winners.add(names[i]);\n        }\n    }\n    return winners;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3207797,"reputation":48,"user_id":2708483,"accept_rate":50,"display_name":"Wyatt"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1386012436,"creation_date":1386012436,"answer_id":20336229,"question_id":20336087,"body_markdown":"I would recommend first creating a class called Person. Each person holds a string, name, and a number, their funds. In another class create a way to enter in all of the information to various Persons. Create an array of Persons and sort it by score. Use the persons high score and return their name.","title":"Search array for highest value, even if a tie","body":"<p>I would recommend first creating a class called Person. Each person holds a string, name, and a number, their funds. In another class create a way to enter in all of the information to various Persons. Create an array of Persons and sort it by score. Use the persons high score and return their name.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386013301,"creation_date":1386012650,"answer_id":20336291,"question_id":20336087,"body_markdown":"For such a small array, the simplest solution is to find the maximum and take all the values which are the maximum.  This creates no objects.\r\n\r\n    public static void printBestFundraisers(String[] names, double[] totals) {\r\n        double max = totals[0];\r\n        for(double d: totals) \r\n            if(max &lt; d)\r\n                max = d;\r\n        for(int i = 0; i &lt; names.length; i++)\r\n            if(totals[i] == max)\r\n                System.out.println(names[i]);\r\n    }","title":"Search array for highest value, even if a tie","body":"<p>For such a small array, the simplest solution is to find the maximum and take all the values which are the maximum.  This creates no objects.</p>\n\n<pre><code>public static void printBestFundraisers(String[] names, double[] totals) {\n    double max = totals[0];\n    for(double d: totals) \n        if(max &lt; d)\n            max = d;\n    for(int i = 0; i &lt; names.length; i++)\n        if(totals[i] == max)\n            System.out.println(names[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":20336188,"answer_count":3,"score":2,"last_activity_date":1639713161,"creation_date":1386011941,"question_id":20336087,"body_markdown":"I have two arrays:\r\n\r\n    String [] nameArr = new String[10];\r\n    double [] totalArr = new double[10];\r\n\r\n`nameArr` contains names of people, and `totalArr` contains the amounts those people raised in a fundraiser. I want to get the name of the person or persons who raised the most money. Some pseudocode to illustrate:\r\n\r\n    int winner = array_maximum(totalArr); //would return array element 0-9\r\n    //winner = 4 if totalArr[4] has the highest value\r\n\r\nSo I can then do something like:\r\n\r\n    String winPerson = nameArr[winner];\r\n    System.out.println(winPerson);\r\n\r\nI&#39;m sure the method to do this doesn&#39;t involve returning the array element number, but this is just a way I figure it could potentially work. Does there exist such a method in Java to do what I want? What if there is a tie?\r\n\r\nHere&#39;s some rough work I did, still testing:\r\n\r\n    private String winner() {\r\n        int i;\r\n        double tentativeMaximum = totalArr[0];\r\n        String winningPersons = nameArr[0];\r\n        for (i = 1; i &lt; totalArr.length; i++) {\r\n            if (totalArr[i] &gt; tentativeMaximum) {\r\n                winningPersons = nameArr[i];\r\n                tentativeMaximum = totalArr[i];\r\n            } else if (totalArr[i] == tentativeMaximum) {\r\n                winningPersons = winningPersons + &quot; plus &quot; + nameArr[i];\r\n            }\r\n        }\r\n        winningPersons = winningPersons + &quot; has won&quot;;\r\n        return winningPersons;\r\n    }","title":"Search array for highest value, even if a tie","body":"<p>I have two arrays:</p>\n\n<pre><code>String [] nameArr = new String[10];\ndouble [] totalArr = new double[10];\n</code></pre>\n\n<p><code>nameArr</code> contains names of people, and <code>totalArr</code> contains the amounts those people raised in a fundraiser. I want to get the name of the person or persons who raised the most money. Some pseudocode to illustrate:</p>\n\n<pre><code>int winner = array_maximum(totalArr); //would return array element 0-9\n//winner = 4 if totalArr[4] has the highest value\n</code></pre>\n\n<p>So I can then do something like:</p>\n\n<pre><code>String winPerson = nameArr[winner];\nSystem.out.println(winPerson);\n</code></pre>\n\n<p>I'm sure the method to do this doesn't involve returning the array element number, but this is just a way I figure it could potentially work. Does there exist such a method in Java to do what I want? What if there is a tie?</p>\n\n<p>Here's some rough work I did, still testing:</p>\n\n<pre><code>private String winner() {\n    int i;\n    double tentativeMaximum = totalArr[0];\n    String winningPersons = nameArr[0];\n    for (i = 1; i &lt; totalArr.length; i++) {\n        if (totalArr[i] &gt; tentativeMaximum) {\n            winningPersons = nameArr[i];\n            tentativeMaximum = totalArr[i];\n        } else if (totalArr[i] == tentativeMaximum) {\n            winningPersons = winningPersons + \" plus \" + nameArr[i];\n        }\n    }\n    winningPersons = winningPersons + \" has won\";\n    return winningPersons;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","authorization"],"comments":[{"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"score":0,"creation_date":1639330689,"post_id":70308578,"comment_id":124315935,"body_markdown":"Dont feel discouraged by downvotes. Someone is consistently downvoting spring authorization server related questions even though there is 0 documentation. Samples cover only basic scenarios and there are very little resources online. After spending weeks unsuccessfully trying to replace old authroization server with the new one. Digging through the source code and tests i can tell you i do not (yet) know the answer to your question. I am guessing the down voter is expecting everyone to get deep understanding of IETF specification, which i, admittedly, do not have.","body":"Dont feel discouraged by downvotes. Someone is consistently downvoting spring authorization server related questions even though there is 0 documentation. Samples cover only basic scenarios and there are very little resources online. After spending weeks unsuccessfully trying to replace old authroization server with the new one. Digging through the source code and tests i can tell you i do not (yet) know the answer to your question. I am guessing the down voter is expecting everyone to get deep understanding of IETF specification, which i, admittedly, do not have."},{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1639485664,"post_id":70308578,"comment_id":124355645,"body_markdown":"It seems you may be confusing roles, authorities and scopes. Take a look at the question below to understand the difference. In short, it doesn&#39;t make sense to use roles in the resource server. https://stackoverflow.com/questions/68693386/using-user-roles-in-resource-server-to-restrict-acces-on-path/68723813#68723813","body":"It seems you may be confusing roles, authorities and scopes. Take a look at the question below to understand the difference. In short, it doesn&#39;t make sense to use roles in the resource server. <a href=\"https://stackoverflow.com/questions/68693386/using-user-roles-in-resource-server-to-restrict-acces-on-path/68723813#68723813\" title=\"using user roles in resource server to restrict acces on path\">stackoverflow.com/questions/68693386/&hellip;</a>"},{"owner":{"account_id":7631898,"reputation":19,"user_id":5786687,"display_name":"Raymond Nathan"},"score":0,"creation_date":1639713724,"post_id":70308578,"comment_id":124424847,"body_markdown":"@EleftheriaStein-Kousathana I needed to use both scopes for OAuth client authorization and also user role to restrict the API&#39;s. I managed to find a way to do it in my answer by retrieving the user roles using the username claim from token and setting the authorities to the token again.","body":"@EleftheriaStein-Kousathana I needed to use both scopes for OAuth client authorization and also user role to restrict the API&#39;s. I managed to find a way to do it in my answer by retrieving the user roles using the username claim from token and setting the authorities to the token again."}],"answers":[{"tags":[],"owner":{"account_id":7631898,"reputation":19,"user_id":5786687,"display_name":"Raymond Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639713018,"creation_date":1639713018,"answer_id":70388222,"question_id":70308578,"body_markdown":"I kinda figured out a way to do it, which was to implement a custom converter for my jwt token, where I then can query the user and their roles from db using the claim from token and then injecting that to the request filter.\r\n\r\n[CustomJWTAuthenticationConverter][1]\r\n[ResourceServer SecurityFilterChain][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wQaQT.png\r\n  [2]: https://i.stack.imgur.com/64JFu.png","title":"How to implement role based authorization on resource server with new Spring Authorization Server","body":"<p>I kinda figured out a way to do it, which was to implement a custom converter for my jwt token, where I then can query the user and their roles from db using the claim from token and then injecting that to the request filter.</p>\n<p><a href=\"https://i.stack.imgur.com/wQaQT.png\" rel=\"nofollow noreferrer\">CustomJWTAuthenticationConverter</a>\n<a href=\"https://i.stack.imgur.com/64JFu.png\" rel=\"nofollow noreferrer\">ResourceServer SecurityFilterChain</a></p>\n"}],"owner":{"account_id":7631898,"reputation":19,"user_id":5786687,"display_name":"Raymond Nathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639713018,"creation_date":1639158810,"question_id":70308578,"body_markdown":"I am trying out the new Spring Authorization Server, and I have hit a dead end in my endless googling.\r\n\r\nWithout the @Secured and @EnableGlobalMethodSecurity configured, it works like a charm, but the moment I try to secure the resource server with the above annotations I now get a 403 Forbidden error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Authorization Server Configuration**\r\n\r\nDefaultSecurityConfig.java\r\n[![enter image description here][2]][2]\r\n\r\nMongoDBUserDetailsService.java (User Detail Service)\r\n\r\n[![enter image description here][3]][3]\r\nThe roles are in the format of &quot;ADMIN&quot; without the prefix &quot;ROLE_&quot; since its already added during runtime.\r\n\r\n**Resource Server Configuration**\r\n\r\nResourceServerConfig.java\r\n[![enter image description here][4]][4]\r\n\r\nArticlesController.java\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/REmZ3.png\r\n  [2]: https://i.stack.imgur.com/t5K2j.png\r\n  [3]: https://i.stack.imgur.com/4w2Sp.png\r\n  [4]: https://i.stack.imgur.com/QLHjA.png\r\n  [5]: https://i.stack.imgur.com/aRFlM.png","title":"How to implement role based authorization on resource server with new Spring Authorization Server","body":"<p>I am trying out the new Spring Authorization Server, and I have hit a dead end in my endless googling.</p>\n<p>Without the @Secured and @EnableGlobalMethodSecurity configured, it works like a charm, but the moment I try to secure the resource server with the above annotations I now get a 403 Forbidden error.</p>\n<p><a href=\"https://i.stack.imgur.com/REmZ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/REmZ3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Authorization Server Configuration</strong></p>\n<p>DefaultSecurityConfig.java\n<a href=\"https://i.stack.imgur.com/t5K2j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t5K2j.png\" alt=\"enter image description here\" /></a></p>\n<p>MongoDBUserDetailsService.java (User Detail Service)</p>\n<p><a href=\"https://i.stack.imgur.com/4w2Sp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4w2Sp.png\" alt=\"enter image description here\" /></a>\nThe roles are in the format of &quot;ADMIN&quot; without the prefix &quot;ROLE_&quot; since its already added during runtime.</p>\n<p><strong>Resource Server Configuration</strong></p>\n<p>ResourceServerConfig.java\n<a href=\"https://i.stack.imgur.com/QLHjA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QLHjA.png\" alt=\"enter image description here\" /></a></p>\n<p>ArticlesController.java\n<a href=\"https://i.stack.imgur.com/aRFlM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aRFlM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","mybatis"],"answers":[{"tags":[],"owner":{"account_id":21186056,"reputation":23,"user_id":15579395,"display_name":"joca1128"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639712916,"creation_date":1639712916,"answer_id":70388210,"question_id":70299870,"body_markdown":"In my case it was because i was creating the class PublisherJboss with new PublisherJboss(), so that way spring creates the Mapper bean but doesn&#180;t know about the existence of the PublisherJboss class that i am trying to inject the mapper bean to.","title":"The Mybatis @MapperScan doesn&#39;t inject the mapper interface into the class, and my mapper is always null","body":"<p>In my case it was because i was creating the class PublisherJboss with new PublisherJboss(), so that way spring creates the Mapper bean but doesn´t know about the existence of the PublisherJboss class that i am trying to inject the mapper bean to.</p>\n"}],"owner":{"account_id":21186056,"reputation":23,"user_id":15579395,"display_name":"joca1128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70388210,"answer_count":1,"score":1,"last_activity_date":1639712916,"creation_date":1639111687,"question_id":70299870,"body_markdown":"Like the tittle say, i have this configuration class where i define all the necesary thing for my batis to work\r\n```\r\npackage my.package.noti.config;\r\n\r\n@Configuration\r\n@ComponentScan(&quot;my.package&quot;)\r\n@MapperScan(&quot;my.package.noti.bd&quot;)\r\npublic class AppConfig {\r\n\r\n\tprivate final static Logger logger = LogManager.getLogger(AppConfig.class);\r\n\r\n\tstatic {\r\n\t\tSystem.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Obtener el datasource\r\n\t * @return\r\n\t */\r\n\t@Bean(destroyMethod = &quot;&quot;)\r\n\tpublic DataSource getDataSource() {\r\n\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;getDataSource&quot;);\r\n\t\t}\r\n\t\tInitialContext ic2;\r\n\t\tDataSource ds = null;\r\n\t\ttry {\r\n\t\t\tic2 = new InitialContext();\r\n\t\t\tds = (DataSource) ic2.lookup(&quot;java:jboss/datasources/MyDS&quot;);\r\n\t\t} catch (NamingException e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t}\r\n\r\n\t\treturn ds;\r\n\t}\r\n\r\n\t/**\r\n\t * Obtener el transactionManager\r\n\t * @return\r\n\t */\r\n\t@Bean\r\n\tpublic DataSourceTransactionManager transactionManager() {\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;transactionManager&quot;);\r\n\t\t}\r\n\t\treturn new DataSourceTransactionManager(getDataSource());\r\n\t}\r\n\r\n\t/**\r\n\t * Obtener el sqlSessionFactory\r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\t@Bean\r\n\tpublic SqlSessionFactory sqlSessionFactory() throws Exception {\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;sqlSessionFactory&quot;);\r\n\t\t}\r\n\t\tSqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\r\n\t\tsessionFactory.setDataSource(getDataSource());\r\n\t\treturn sessionFactory.getObject();\r\n\t}\r\n\r\n\t/**\r\n\t * Obtener el propertySourcesPlaceholderConfigurer\r\n\t * @return\r\n\t */\r\n\t@Bean\r\n\tpublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n\t\treturn new PropertySourcesPlaceholderConfigurer();\r\n\t}\r\n\r\n}\r\n```\r\nand this is my mapper:\r\n\r\n```\r\n@Mapper\r\npublic interface NotiMapper {\r\n\r\n\t@Select(value=&quot;{ CALL MYPACKAGUE.MYPROCEDURE(&quot;\r\n\t\t\t+ &quot;#{response.notis.noti, javaType=java.sql.ResultSet , jdbcType=CURSOR, mode=OUT, resultMap = notification})}&quot;)\r\n\t@ResultType(notification.class)\r\n\t@Options(statementType = StatementType.CALLABLE)\r\n\t@Results(id = &quot;notification&quot;,\r\n    value = {\r\n            @Result(property = &quot;noti_n&quot;, column = &quot;NOTI_N&quot;),\r\n            @Result(property = &quot;noti_t&quot;, column = &quot;NOTI_T&quot;),\r\n            @Result(property = &quot;tpno_f&quot;, column = &quot;TPNO_F&quot;),\r\n            @Result(property = &quot;tpno_tp&quot;, column = &quot;TPNO_TP&quot;),\r\n    })\r\n\tpublic void ObtainNoti(@Param(&quot;response&quot;)Response response);\r\n\t\r\n}\r\n\r\n```\r\nBut when a class call the Mapper it is always null\r\n\r\n```\r\n@Service\r\npublic class PublisherJboss {\r\n@Autowired\r\n\tNotiMapper notiMapper ;\r\n\t\r\n\tpublic void process() {\r\n\t\ttry {\r\n\t\t\t//Iniciando JMS\r\n\t\t\tInitialContext ic = getInitialContext(Config.getProperties().getProperty(&quot;providerURLJboss&quot;));\r\n\t\t\tinit(ic, DEFAULT_DESTINATION);\r\n\t\t\t\r\n\t\t\tResponse respuesta = new Response();\r\n\t\t\tnotiMapper .ObtainNoti(response);\r\n            //Do some other things .... but the notiMapper is always null\r\n}\r\n}\r\n```\r\n\r\nMaybe some of you have encunter this problem before, i have read something about the MapperScannerConfigurer is a BeanDefinitionRegistryPostProcessor which fires before BeanFactoryPostProcessor, but i didn&#39;t understand it.","title":"The Mybatis @MapperScan doesn&#39;t inject the mapper interface into the class, and my mapper is always null","body":"<p>Like the tittle say, i have this configuration class where i define all the necesary thing for my batis to work</p>\n<pre><code>package my.package.noti.config;\n\n@Configuration\n@ComponentScan(&quot;my.package&quot;)\n@MapperScan(&quot;my.package.noti.bd&quot;)\npublic class AppConfig {\n\n    private final static Logger logger = LogManager.getLogger(AppConfig.class);\n\n    static {\n        System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);\n    }\n\n    /**\n     * Obtener el datasource\n     * @return\n     */\n    @Bean(destroyMethod = &quot;&quot;)\n    public DataSource getDataSource() {\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;getDataSource&quot;);\n        }\n        InitialContext ic2;\n        DataSource ds = null;\n        try {\n            ic2 = new InitialContext();\n            ds = (DataSource) ic2.lookup(&quot;java:jboss/datasources/MyDS&quot;);\n        } catch (NamingException e) {\n            logger.error(e.getMessage(), e);\n        }\n\n        return ds;\n    }\n\n    /**\n     * Obtener el transactionManager\n     * @return\n     */\n    @Bean\n    public DataSourceTransactionManager transactionManager() {\n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;transactionManager&quot;);\n        }\n        return new DataSourceTransactionManager(getDataSource());\n    }\n\n    /**\n     * Obtener el sqlSessionFactory\n     * @return\n     * @throws Exception\n     */\n    @Bean\n    public SqlSessionFactory sqlSessionFactory() throws Exception {\n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;sqlSessionFactory&quot;);\n        }\n        SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\n        sessionFactory.setDataSource(getDataSource());\n        return sessionFactory.getObject();\n    }\n\n    /**\n     * Obtener el propertySourcesPlaceholderConfigurer\n     * @return\n     */\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n\n}\n</code></pre>\n<p>and this is my mapper:</p>\n<pre><code>@Mapper\npublic interface NotiMapper {\n\n    @Select(value=&quot;{ CALL MYPACKAGUE.MYPROCEDURE(&quot;\n            + &quot;#{response.notis.noti, javaType=java.sql.ResultSet , jdbcType=CURSOR, mode=OUT, resultMap = notification})}&quot;)\n    @ResultType(notification.class)\n    @Options(statementType = StatementType.CALLABLE)\n    @Results(id = &quot;notification&quot;,\n    value = {\n            @Result(property = &quot;noti_n&quot;, column = &quot;NOTI_N&quot;),\n            @Result(property = &quot;noti_t&quot;, column = &quot;NOTI_T&quot;),\n            @Result(property = &quot;tpno_f&quot;, column = &quot;TPNO_F&quot;),\n            @Result(property = &quot;tpno_tp&quot;, column = &quot;TPNO_TP&quot;),\n    })\n    public void ObtainNoti(@Param(&quot;response&quot;)Response response);\n    \n}\n\n</code></pre>\n<p>But when a class call the Mapper it is always null</p>\n<pre><code>@Service\npublic class PublisherJboss {\n@Autowired\n    NotiMapper notiMapper ;\n    \n    public void process() {\n        try {\n            //Iniciando JMS\n            InitialContext ic = getInitialContext(Config.getProperties().getProperty(&quot;providerURLJboss&quot;));\n            init(ic, DEFAULT_DESTINATION);\n            \n            Response respuesta = new Response();\n            notiMapper .ObtainNoti(response);\n            //Do some other things .... but the notiMapper is always null\n}\n}\n</code></pre>\n<p>Maybe some of you have encunter this problem before, i have read something about the MapperScannerConfigurer is a BeanDefinitionRegistryPostProcessor which fires before BeanFactoryPostProcessor, but i didn't understand it.</p>\n"},{"tags":["javascript","java","api","request","postman"],"answers":[{"tags":[],"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639712834,"creation_date":1639712834,"answer_id":70388201,"question_id":70384962,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qWBXL.png\r\n\r\n\r\nIt works as expected just try printing console.log(Date()) in test script of all requests. You can see the time difference is 25 second\r\n\r\nNote that settimeout is asynchronous. It doesnt stop the code flow within the test script it resolves after 25 second and within that time all other code wil get executed and waits for settimeout function call tobe completed before exiting the test script","title":"Collection Monitor unable to recognize setTimeout between Requests (Postman)","body":"<p><a href=\"https://i.stack.imgur.com/qWBXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qWBXL.png\" alt=\"enter image description here\" /></a></p>\n<p>It works as expected just try printing console.log(Date()) in test script of all requests. You can see the time difference is 25 second</p>\n<p>Note that settimeout is asynchronous. It doesnt stop the code flow within the test script it resolves after 25 second and within that time all other code wil get executed and waits for settimeout function call tobe completed before exiting the test script</p>\n"}],"owner":{"account_id":16902077,"reputation":233,"user_id":12223162,"display_name":"William Zebrowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70388201,"answer_count":1,"score":0,"last_activity_date":1639712834,"creation_date":1639684924,"question_id":70384962,"body_markdown":"I can&#39;t seem to understand why a POSTMAN Monitor is unable to obey by the `setTimeout()` rule I have inputted in one of the Requests in the Collection.  \r\n\r\nI have 3 Requests in a Collection (below).  Once the first Request is made, the Second one, Retrieve Request is delayed 25000 ms.\r\n\r\n    Create Request\r\n    Retrieve Request &lt;- setTimeout() Pre-Request Script\r\n    Delete Request \r\n\r\nThe setTimeout() is located in the Pre-Request Script like so:\r\n\r\n    setTimeout(() =&gt; {}, 25000)\r\n\r\n\r\n\r\n The Collections works fine as expected (&amp; passes) if I manually run it.  However, if the collection runs in the Monitor, it does not compute it and it all fails.  \r\n\r\nYou can easily see this in the Monitored Console log which shows the Collection run times through in milliseconds and without adhering to the setTimeout():\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, on Postman&#39;s Learning Center it reads that adding delays should definitely work in the Monitor if placed in the Pre-Request or Test Script sections: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nNot sure what I&#39;m missing here - help is appreciated. \r\n\r\n_________________________________________\r\n\r\nUpdate:\r\n\r\nAdjusted some settings in the Monitor itself.  However, after setting both &#39;Set Request Timeout&#39; &amp; &#39;Set delay between Requests&#39; at 25000 ms a piece, running the Collection again in the Monitor, the Console Log still shows that the collection is running Straight through in about a second....\r\n\r\n [![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N8EpZ.png\r\n  [2]: https://i.stack.imgur.com/c1z6m.png\r\n  [3]: https://i.stack.imgur.com/clxTo.png","title":"Collection Monitor unable to recognize setTimeout between Requests (Postman)","body":"<p>I can't seem to understand why a POSTMAN Monitor is unable to obey by the <code>setTimeout()</code> rule I have inputted in one of the Requests in the Collection.</p>\n<p>I have 3 Requests in a Collection (below).  Once the first Request is made, the Second one, Retrieve Request is delayed 25000 ms.</p>\n<pre><code>Create Request\nRetrieve Request &lt;- setTimeout() Pre-Request Script\nDelete Request \n</code></pre>\n<p>The setTimeout() is located in the Pre-Request Script like so:</p>\n<pre><code>setTimeout(() =&gt; {}, 25000)\n</code></pre>\n<p>The Collections works fine as expected (&amp; passes) if I manually run it.  However, if the collection runs in the Monitor, it does not compute it and it all fails.</p>\n<p>You can easily see this in the Monitored Console log which shows the Collection run times through in milliseconds and without adhering to the setTimeout():</p>\n<p><a href=\"https://i.stack.imgur.com/N8EpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N8EpZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, on Postman's Learning Center it reads that adding delays should definitely work in the Monitor if placed in the Pre-Request or Test Script sections:</p>\n<p><a href=\"https://i.stack.imgur.com/c1z6m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c1z6m.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what I'm missing here - help is appreciated.</p>\n<hr />\n<p>Update:</p>\n<p>Adjusted some settings in the Monitor itself.  However, after setting both 'Set Request Timeout' &amp; 'Set delay between Requests' at 25000 ms a piece, running the Collection again in the Monitor, the Console Log still shows that the collection is running Straight through in about a second....</p>\n<p><a href=\"https://i.stack.imgur.com/clxTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clxTo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa","orm","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2624730,"reputation":6476,"user_id":2272004,"accept_rate":52,"display_name":"greyfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439867552,"creation_date":1439867552,"answer_id":32062920,"question_id":32062828,"body_markdown":"Okay false alarm, it appears Spring Boot loads it by default, however my Intellij / Gradle setup had another issue, where it was not deploying the latest build / WAR so it deployed without the orm.xml. I had to do a gradle clean, and invalidate the cache in Intellij and restart. ","title":"Spring Boot Load orm.xml","body":"<p>Okay false alarm, it appears Spring Boot loads it by default, however my Intellij / Gradle setup had another issue, where it was not deploying the latest build / WAR so it deployed without the orm.xml. I had to do a gradle clean, and invalidate the cache in Intellij and restart. </p>\n"},{"tags":[],"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1476544186,"creation_date":1476544186,"answer_id":40060677,"question_id":32062828,"body_markdown":"Yeah. Spring Boot should load it by default if `orm.xml` exists in  `META-INF` directory in result jar.  \r\nOtherwise it&#39;s possible to load it manually by creating custom `LocalContainerEntityManagerFactoryBean` as follows below:\r\n\r\nApplication.properties\r\n\r\n    spring.jpa.orm=orm.xml\r\n\r\nDBConfig.java (In case you use Hibernate as a persistence provider)\r\n\r\n    @Configuration\r\n    public class DBConfig extends HibernateJpaAutoConfiguration {\r\n\r\n    @Value(&quot;${spring.jpa.orm}&quot;)\r\n    private String orm;\r\n\r\n    @SuppressWarnings(&quot;SpringJavaAutowiringInspection&quot;)\r\n    public DBConfig(DataSource dataSource, JpaProperties jpaProperties, ObjectProvider&lt;JtaTransactionManager&gt; jtaTransactionManagerProvider) {\r\n        super(dataSource, jpaProperties, jtaTransactionManagerProvider);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder factoryBuilder)\r\n    {\r\n        final LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = super.entityManagerFactory(factoryBuilder);\r\n        entityManagerFactoryBean.setMappingResources(orm);\r\n        return entityManagerFactoryBean;\r\n    }\r\n\r\n    }\r\n\r\nI found it quite usefull for me to move all mappings to external xml-files while entities stay clean. \r\n\r\n","title":"Spring Boot Load orm.xml","body":"<p>Yeah. Spring Boot should load it by default if <code>orm.xml</code> exists in  <code>META-INF</code> directory in result jar.<br>\nOtherwise it's possible to load it manually by creating custom <code>LocalContainerEntityManagerFactoryBean</code> as follows below:</p>\n\n<p>Application.properties</p>\n\n<pre><code>spring.jpa.orm=orm.xml\n</code></pre>\n\n<p>DBConfig.java (In case you use Hibernate as a persistence provider)</p>\n\n<pre><code>@Configuration\npublic class DBConfig extends HibernateJpaAutoConfiguration {\n\n@Value(\"${spring.jpa.orm}\")\nprivate String orm;\n\n@SuppressWarnings(\"SpringJavaAutowiringInspection\")\npublic DBConfig(DataSource dataSource, JpaProperties jpaProperties, ObjectProvider&lt;JtaTransactionManager&gt; jtaTransactionManagerProvider) {\n    super(dataSource, jpaProperties, jtaTransactionManagerProvider);\n}\n\n@Override\n@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\n        EntityManagerFactoryBuilder factoryBuilder)\n{\n    final LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = super.entityManagerFactory(factoryBuilder);\n    entityManagerFactoryBean.setMappingResources(orm);\n    return entityManagerFactoryBean;\n}\n\n}\n</code></pre>\n\n<p>I found it quite usefull for me to move all mappings to external xml-files while entities stay clean. </p>\n"},{"tags":[],"owner":{"account_id":1795695,"reputation":828,"user_id":1635133,"display_name":"jasxir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639712441,"creation_date":1639712441,"answer_id":70388159,"question_id":32062828,"body_markdown":"I was having the same issue in 2021, things have changed and **orm.xml** doesn&#39;t load even if included in **persistence.xml**. Trying random things and thanks to autocomplete/code-assist I found the entry in the yaml.\r\nBelow is the solution to save the time of anyone who comes looking for an answer.\r\n\r\n```yaml\r\nspring:\r\n  jpa:\r\n    mapping-resources:\r\n    - META-INF/orm.xml\r\n```","title":"Spring Boot Load orm.xml","body":"<p>I was having the same issue in 2021, things have changed and <strong>orm.xml</strong> doesn't load even if included in <strong>persistence.xml</strong>. Trying random things and thanks to autocomplete/code-assist I found the entry in the yaml.\nBelow is the solution to save the time of anyone who comes looking for an answer.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    mapping-resources:\n    - META-INF/orm.xml\n</code></pre>\n"}],"owner":{"account_id":2624730,"reputation":6476,"user_id":2272004,"accept_rate":52,"display_name":"greyfox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13732,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":32062920,"answer_count":3,"score":9,"last_activity_date":1639712441,"creation_date":1439866889,"question_id":32062828,"body_markdown":"I want to externalize my custom mappings for Jpa to an XML file. I&#39;ve seen examples of using orm.xml however when I create orm.xml in resources/META-INF it does not appear to be loaded. All the examples I&#39;ve seen it gets loaded through persistence.xml, which I don&#39;t have with Spring Boot. I didn&#39;t turn up much searching for answers. How do I make Spring Boot load my orm.xml file?\r\n\r\nExample orm.xml\r\n\r\n    &lt;entity-mappings version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence/orm&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence/orm\r\n        http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd&quot;&gt;\r\n    &lt;sql-result-set-mapping name=&quot;AuthorMappingXml&quot;&gt;\r\n        &lt;entity-result entity-class=&quot;org.thoughts.on.java.jpa.model.Author&quot;&gt;\r\n            &lt;field-result name=&quot;id&quot; column=&quot;authorId&quot;/&gt;\r\n            &lt;field-result name=&quot;firstName&quot; column=&quot;firstName&quot;/&gt;\r\n            &lt;field-result name=&quot;lastName&quot; column=&quot;lastName&quot;/&gt;\r\n            &lt;field-result name=&quot;version&quot; column=&quot;version&quot;/&gt;\r\n        &lt;/entity-result&gt;\r\n    &lt;/sql-result-set-mapping&gt;\r\n    &lt;sql-result-set-mapping name=&quot;AuthorBookCountMappingXml&quot;&gt;\r\n        &lt;entity-result entity-class=&quot;org.thoughts.on.java.jpa.model.Author&quot;&gt;\r\n            &lt;field-result name=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n            &lt;field-result name=&quot;firstName&quot; column=&quot;firstName&quot;/&gt;\r\n            &lt;field-result name=&quot;lastName&quot; column=&quot;lastName&quot;/&gt;\r\n            &lt;field-result name=&quot;version&quot; column=&quot;version&quot;/&gt;\r\n        &lt;/entity-result&gt;\r\n        &lt;column-result name=&quot;bookCount&quot; class=&quot;java.lang.Long&quot; /&gt;\r\n    &lt;/sql-result-set-mapping&gt;\r\n    &lt;sql-result-set-mapping name=&quot;BookAuthorMappingXml&quot;&gt;\r\n        &lt;entity-result entity-class=&quot;org.thoughts.on.java.jpa.model.Author&quot;&gt;\r\n            &lt;field-result name=&quot;id&quot; column=&quot;authorId&quot;/&gt;\r\n            &lt;field-result name=&quot;firstName&quot; column=&quot;firstName&quot;/&gt;\r\n            &lt;field-result name=&quot;lastName&quot; column=&quot;lastName&quot;/&gt;\r\n            &lt;field-result name=&quot;version&quot; column=&quot;authorVersion&quot;/&gt;\r\n        &lt;/entity-result&gt;\r\n        &lt;entity-result entity-class=&quot;org.thoughts.on.java.jpa.model.Book&quot;&gt;\r\n            &lt;field-result name=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n            &lt;field-result name=&quot;title&quot; column=&quot;title&quot;/&gt;\r\n            &lt;field-result name=&quot;author&quot; column=&quot;author_id&quot;/&gt;\r\n            &lt;field-result name=&quot;version&quot; column=&quot;version&quot;/&gt;\r\n        &lt;/entity-result&gt;\r\n    &lt;/sql-result-set-mapping&gt;\r\n    &lt;sql-result-set-mapping name=&quot;BookValueMappingXml&quot;&gt;\r\n        &lt;constructor-result target-class=&quot;org.thoughts.on.java.jpa.value.BookValue&quot;&gt;\r\n            &lt;column name=&quot;id&quot; class=&quot;java.lang.Long&quot;/&gt;\r\n            &lt;column name=&quot;title&quot;/&gt;\r\n            &lt;column name=&quot;version&quot; class=&quot;java.lang.Long&quot;/&gt;\r\n            &lt;column name=&quot;authorName&quot;/&gt;\r\n        &lt;/constructor-result&gt;\r\n    &lt;/sql-result-set-mapping&gt;\r\n    &lt;/entity-mappings&gt;","title":"Spring Boot Load orm.xml","body":"<p>I want to externalize my custom mappings for Jpa to an XML file. I've seen examples of using orm.xml however when I create orm.xml in resources/META-INF it does not appear to be loaded. All the examples I've seen it gets loaded through persistence.xml, which I don't have with Spring Boot. I didn't turn up much searching for answers. How do I make Spring Boot load my orm.xml file?</p>\n\n<p>Example orm.xml</p>\n\n<pre><code>&lt;entity-mappings version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence/orm\"\n                 xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                 xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence/orm\n    http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd\"&gt;\n&lt;sql-result-set-mapping name=\"AuthorMappingXml\"&gt;\n    &lt;entity-result entity-class=\"org.thoughts.on.java.jpa.model.Author\"&gt;\n        &lt;field-result name=\"id\" column=\"authorId\"/&gt;\n        &lt;field-result name=\"firstName\" column=\"firstName\"/&gt;\n        &lt;field-result name=\"lastName\" column=\"lastName\"/&gt;\n        &lt;field-result name=\"version\" column=\"version\"/&gt;\n    &lt;/entity-result&gt;\n&lt;/sql-result-set-mapping&gt;\n&lt;sql-result-set-mapping name=\"AuthorBookCountMappingXml\"&gt;\n    &lt;entity-result entity-class=\"org.thoughts.on.java.jpa.model.Author\"&gt;\n        &lt;field-result name=\"id\" column=\"id\"/&gt;\n        &lt;field-result name=\"firstName\" column=\"firstName\"/&gt;\n        &lt;field-result name=\"lastName\" column=\"lastName\"/&gt;\n        &lt;field-result name=\"version\" column=\"version\"/&gt;\n    &lt;/entity-result&gt;\n    &lt;column-result name=\"bookCount\" class=\"java.lang.Long\" /&gt;\n&lt;/sql-result-set-mapping&gt;\n&lt;sql-result-set-mapping name=\"BookAuthorMappingXml\"&gt;\n    &lt;entity-result entity-class=\"org.thoughts.on.java.jpa.model.Author\"&gt;\n        &lt;field-result name=\"id\" column=\"authorId\"/&gt;\n        &lt;field-result name=\"firstName\" column=\"firstName\"/&gt;\n        &lt;field-result name=\"lastName\" column=\"lastName\"/&gt;\n        &lt;field-result name=\"version\" column=\"authorVersion\"/&gt;\n    &lt;/entity-result&gt;\n    &lt;entity-result entity-class=\"org.thoughts.on.java.jpa.model.Book\"&gt;\n        &lt;field-result name=\"id\" column=\"id\"/&gt;\n        &lt;field-result name=\"title\" column=\"title\"/&gt;\n        &lt;field-result name=\"author\" column=\"author_id\"/&gt;\n        &lt;field-result name=\"version\" column=\"version\"/&gt;\n    &lt;/entity-result&gt;\n&lt;/sql-result-set-mapping&gt;\n&lt;sql-result-set-mapping name=\"BookValueMappingXml\"&gt;\n    &lt;constructor-result target-class=\"org.thoughts.on.java.jpa.value.BookValue\"&gt;\n        &lt;column name=\"id\" class=\"java.lang.Long\"/&gt;\n        &lt;column name=\"title\"/&gt;\n        &lt;column name=\"version\" class=\"java.lang.Long\"/&gt;\n        &lt;column name=\"authorName\"/&gt;\n    &lt;/constructor-result&gt;\n&lt;/sql-result-set-mapping&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1639709814,"post_id":70387921,"comment_id":124424322,"body_markdown":"Use an `ArrayList`. You currently are using an **array**. An array has a fixed length, so you can&#39;t *remove* a value from an array. For that you use an `ArrayList`.","body":"Use an <code>ArrayList</code>. You currently are using an <b>array</b>. An array has a fixed length, so you can&#39;t <i>remove</i> a value from an array. For that you use an <code>ArrayList</code>."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639712213,"creation_date":1639711642,"answer_id":70388078,"question_id":70387921,"body_markdown":"As someone suggested in the comments, `java.util.ArrayList` would be the easiest solution.  \r\n\r\nOtherwise, below are two easy solutions.  \r\n\r\nUsing a boolean array to keep track of which value has been removed.\r\n\r\n```\r\n\t    //the array\r\n\t    int[] a = {0,1,2,3,4,5,6,7};\r\n\t    \r\n\t    //flagging which element is removed.\r\n\t    boolean[] removed = new boolean[a.length];\r\n\t    \r\n\t    //removing value at index 3\r\n\t    removed[3] = true;\r\n\t    \r\n\t    //removing value at index 5\r\n\t    removed[5] = true;\r\n\t    \r\n\t    //printing the content of array a \r\n\t    for(int i=0; i&lt;a.length; i++)\r\n\t       if (!removed[i]) \r\n\t         System.out.print(a[i] + (i&lt;a.length-1 ? &quot;, &quot; : &quot;&quot;));\r\n```\r\n\r\nUsing Integer array and use the value null for deleted elements.\r\n```\r\n        Integer[] a =  {0,1,2,3,4,5,6,7};\r\n        \r\n        //removing value at index 3 \r\n        a[3] = null;\r\n        \r\n        //removing value at 5 \r\n        a[5] = null;\r\n        \r\n  \t    //printing the content of array a \r\n\t    for(int i=0; i&lt;a.length; i++)\r\n\t       if (a[i] != null) \r\n\t         System.out.print(a[i] + (i&lt;a.length-1 ? &quot;, &quot; : &quot;&quot;));      \r\n```\r\n\r\nA third solution would require shifting of the values in the array and keeping track of how many values are still in the array.  This is how `java.util.ArrayList` works internally.\r\n\r\n```\r\n    static int indexOf(int[] a, int size, int val){\r\n        for(int i=0; i&lt;size; i++)\r\n          if (val == a[i])\r\n            return i;\r\n        return -1;\r\n    }\r\n    \r\n    static void remove(int[] a, int size, int val){\r\n        int index = indexOf(a, size, val);\r\n        for(int i=index; i&lt;size-1; i++){\r\n            a[i] = a[i+1];\r\n        }\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t  \r\n\t   int[] a = {0,1,2,3,4,5,6,7};\r\n\t   int size = a.length;\r\n\t   \r\n\t   remove(a, size--, 3);\r\n\t   remove(a, size--, 5);\r\n\t   \r\n\t   for(int i=0; i&lt;size; i++){\r\n\t       System.out.print(a[i] + (i&lt;size-1 ? &quot;, &quot; : &quot;&quot;));      \r\n\t   }\r\n\t}\r\n```","title":"How to remove int from arrayList","body":"<p>As someone suggested in the comments, <code>java.util.ArrayList</code> would be the easiest solution.</p>\n<p>Otherwise, below are two easy solutions.</p>\n<p>Using a boolean array to keep track of which value has been removed.</p>\n<pre><code>        //the array\n        int[] a = {0,1,2,3,4,5,6,7};\n        \n        //flagging which element is removed.\n        boolean[] removed = new boolean[a.length];\n        \n        //removing value at index 3\n        removed[3] = true;\n        \n        //removing value at index 5\n        removed[5] = true;\n        \n        //printing the content of array a \n        for(int i=0; i&lt;a.length; i++)\n           if (!removed[i]) \n             System.out.print(a[i] + (i&lt;a.length-1 ? &quot;, &quot; : &quot;&quot;));\n</code></pre>\n<p>Using Integer array and use the value null for deleted elements.</p>\n<pre><code>        Integer[] a =  {0,1,2,3,4,5,6,7};\n        \n        //removing value at index 3 \n        a[3] = null;\n        \n        //removing value at 5 \n        a[5] = null;\n        \n        //printing the content of array a \n        for(int i=0; i&lt;a.length; i++)\n           if (a[i] != null) \n             System.out.print(a[i] + (i&lt;a.length-1 ? &quot;, &quot; : &quot;&quot;));      \n</code></pre>\n<p>A third solution would require shifting of the values in the array and keeping track of how many values are still in the array.  This is how <code>java.util.ArrayList</code> works internally.</p>\n<pre><code>    static int indexOf(int[] a, int size, int val){\n        for(int i=0; i&lt;size; i++)\n          if (val == a[i])\n            return i;\n        return -1;\n    }\n    \n    static void remove(int[] a, int size, int val){\n        int index = indexOf(a, size, val);\n        for(int i=index; i&lt;size-1; i++){\n            a[i] = a[i+1];\n        }\n    }\n    \n    public static void main(String[] args) {\n      \n       int[] a = {0,1,2,3,4,5,6,7};\n       int size = a.length;\n       \n       remove(a, size--, 3);\n       remove(a, size--, 5);\n       \n       for(int i=0; i&lt;size; i++){\n           System.out.print(a[i] + (i&lt;size-1 ? &quot;, &quot; : &quot;&quot;));      \n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":22435728,"reputation":11,"user_id":16641009,"display_name":"Nicholas Cheah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70388078,"answer_count":1,"score":0,"last_activity_date":1639712213,"creation_date":1639709733,"question_id":70387921,"body_markdown":"\r\n```\r\nimport java.util.*\r\nclass Main {\r\n  public static void main(String[] args)\r\n  {\r\n    int [] random = new int [25];\r\n    int [] masking_array = new int [25];\r\n    int [] array = new int [25];\r\n    Scanner scanner = new Scanner(System.in);\r\n    int number;\r\n    int token = 3;\r\n\r\n    for (int x = 0; x&lt;random.length; x++)\r\n    random [x] = x+1;\r\n\r\n    int rand;\r\n    for (int x = 0; x&lt;random.length; x++)\r\n    {\r\n      rand = (int)(Math.random()*25);\r\n      while (random[rand] == -1)\r\n      rand = (int)(Math.random()*25);\r\n      if (random[rand] != -1)\r\n      array[x] = random [rand];\r\n      random [rand] = -1;\r\n    }\r\n\r\n    for (int i = 0; i&lt; 25; i++) \r\n    {\r\n      masking_array[i] = 0;\r\n    }\r\n\r\n    int bombCount = 0;\r\n    while (bombCount &lt;10)\r\n    {\r\n      rand = (int)(Math.random()*25);\r\n\r\n      if (masking_array[rand] == 0)\r\n      {\r\n        masking_array[rand] = 1;\r\n        bombCount += 1;\r\n      }\r\n    }\r\n\r\n    System.out.println();\r\n    for (int x = 0; x&lt;array.length; x++)\r\n    {\r\n      if ( x % 5 == 0)\r\n      {\r\n        System.out.println();\r\n      }\r\n      System.out.printf(&quot;%03d &quot; , array[x]);\r\n    }\r\n    \r\n    String s1 = &quot; &quot;;\r\n    String s2 = &quot;-B-&quot;;\r\n    for (int j = 0; j&lt;array.length; j++)\r\n    {\r\n      System.out.println(&quot;\\nPlease enter a number&quot;);\r\n      number = scanner.nextInt();\r\n      for (int x = 0; x&lt;array.length; x++)\r\n      {\r\n        if (number == array[x] &amp;&amp; masking_array[x] == 1)\r\n        {\r\n          System.out.println(&quot;Boom&quot;);\r\n          System.out.println(&quot;Token left is: &quot;+(--token));\r\n        }\r\n        else if (number == array[x] &amp;&amp; masking_array[x] == 0)\r\n        {\r\n          System.out.println(&quot;Good try, proceed next&quot;);\r\n          System.out.println(&quot;Token left is: &quot;+(++token));\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n[current sample code][1]\r\n\r\n  [1]: https://i.stack.imgur.com/lmFjn.png\r\n\r\nI&#39;ve attached both my current sample code and source code. How do I remove the number in the array list whenever the user input *the number*. For example, when the user input 020, how do I remove 020 from the array shown. Is it possible to remove it without converting it into string. Hopefully, the question is clear.","title":"How to remove int from arrayList","body":"<pre><code>import java.util.*\nclass Main {\n  public static void main(String[] args)\n  {\n    int [] random = new int [25];\n    int [] masking_array = new int [25];\n    int [] array = new int [25];\n    Scanner scanner = new Scanner(System.in);\n    int number;\n    int token = 3;\n\n    for (int x = 0; x&lt;random.length; x++)\n    random [x] = x+1;\n\n    int rand;\n    for (int x = 0; x&lt;random.length; x++)\n    {\n      rand = (int)(Math.random()*25);\n      while (random[rand] == -1)\n      rand = (int)(Math.random()*25);\n      if (random[rand] != -1)\n      array[x] = random [rand];\n      random [rand] = -1;\n    }\n\n    for (int i = 0; i&lt; 25; i++) \n    {\n      masking_array[i] = 0;\n    }\n\n    int bombCount = 0;\n    while (bombCount &lt;10)\n    {\n      rand = (int)(Math.random()*25);\n\n      if (masking_array[rand] == 0)\n      {\n        masking_array[rand] = 1;\n        bombCount += 1;\n      }\n    }\n\n    System.out.println();\n    for (int x = 0; x&lt;array.length; x++)\n    {\n      if ( x % 5 == 0)\n      {\n        System.out.println();\n      }\n      System.out.printf(&quot;%03d &quot; , array[x]);\n    }\n    \n    String s1 = &quot; &quot;;\n    String s2 = &quot;-B-&quot;;\n    for (int j = 0; j&lt;array.length; j++)\n    {\n      System.out.println(&quot;\\nPlease enter a number&quot;);\n      number = scanner.nextInt();\n      for (int x = 0; x&lt;array.length; x++)\n      {\n        if (number == array[x] &amp;&amp; masking_array[x] == 1)\n        {\n          System.out.println(&quot;Boom&quot;);\n          System.out.println(&quot;Token left is: &quot;+(--token));\n        }\n        else if (number == array[x] &amp;&amp; masking_array[x] == 0)\n        {\n          System.out.println(&quot;Good try, proceed next&quot;);\n          System.out.println(&quot;Token left is: &quot;+(++token));\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lmFjn.png\" rel=\"nofollow noreferrer\">current sample code</a></p>\n<p>I've attached both my current sample code and source code. How do I remove the number in the array list whenever the user input <em>the number</em>. For example, when the user input 020, how do I remove 020 from the array shown. Is it possible to remove it without converting it into string. Hopefully, the question is clear.</p>\n"},{"tags":["java","windows","spring-boot","command-line","command-prompt"],"answers":[{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554467308,"creation_date":1554467308,"answer_id":55535411,"question_id":55535118,"body_markdown":"Can you try performing the following :\r\n\r\n 1. Check `netstat -ano` to see if the springboot application has an open\r\n    connection   (check port as specified).If you don&#39;t find the port\r\n    being exposed then your application is not up.\r\n 2. If you have included springboot actuator as dependency use\r\n    ***&#39;/health&#39;*** endpoint to check the health of the application.\r\n 3. Use postman or any rest client and try hitting the application rest\r\n    endpoints (if anu) manually to see if logs are getting printed in\r\n    console.\r\n 4. Check and verify the springboot autologging configurations to see if\r\n    console output is disabled or not.","title":"spring-boot application command line running issue","body":"<p>Can you try performing the following :</p>\n\n<ol>\n<li>Check <code>netstat -ano</code> to see if the springboot application has an open\nconnection   (check port as specified).If you don't find the port\nbeing exposed then your application is not up.</li>\n<li>If you have included springboot actuator as dependency use\n<strong><em>'/health'</em></strong> endpoint to check the health of the application.</li>\n<li>Use postman or any rest client and try hitting the application rest\nendpoints (if anu) manually to see if logs are getting printed in\nconsole.</li>\n<li>Check and verify the springboot autologging configurations to see if\nconsole output is disabled or not.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8738258,"reputation":1,"user_id":13515033,"display_name":"Hein Thet Aung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639711942,"creation_date":1639711942,"answer_id":70388103,"question_id":55535118,"body_markdown":"This is probably late. I have the same issue. If I use &quot;mvn spring-boot:run&quot; to start my app, it would run normally, and after a while, the logs stop and the endpoints are not working anymore. I need to press &quot;Enter key&quot; in the console to continue running again. In my case, I have solved the issue by removing all &quot;System.out.println&quot; in the endpoint code.","title":"spring-boot application command line running issue","body":"<p>This is probably late. I have the same issue. If I use &quot;mvn spring-boot:run&quot; to start my app, it would run normally, and after a while, the logs stop and the endpoints are not working anymore. I need to press &quot;Enter key&quot; in the console to continue running again. In my case, I have solved the issue by removing all &quot;System.out.println&quot; in the endpoint code.</p>\n"}],"owner":{"account_id":15683674,"reputation":1,"user_id":11316969,"display_name":"AKSHAY MOHITE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1639711942,"creation_date":1554466373,"question_id":55535118,"body_markdown":"I am running a spring boot application jar on a windows command prompt.\r\n2.1.3.RELEASE is parent dependency for the application.\r\nMy application does not show any logs printing on command prompt after some time. Kind of becoming unresponsive and giving effect as the application is paused/not functioning. If I hit &#39;Ctrl + C&#39; then it starts working again.\r\nDoes anyone experience this? please help","title":"spring-boot application command line running issue","body":"<p>I am running a spring boot application jar on a windows command prompt.\n2.1.3.RELEASE is parent dependency for the application.\nMy application does not show any logs printing on command prompt after some time. Kind of becoming unresponsive and giving effect as the application is paused/not functioning. If I hit 'Ctrl + C' then it starts working again.\nDoes anyone experience this? please help</p>\n"},{"tags":["java","log4j","log4j2"],"owner":{"account_id":11249739,"reputation":11,"user_id":8251207,"display_name":"Better"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639711250,"creation_date":1639711250,"question_id":70388047,"body_markdown":"I&#39;m looking for anything to replace SocketHubAppender Class in log4j2.\r\nSocketHubAppender class supports logging server function through tcp/ip socket easily from log4j1.\r\nI&#39;ve been using this class for a long time.\r\n\r\nI have to update log4j2 from log4j1 for some security issues. \r\nBut, I couldn&#39;t find it yet.\r\n\r\nIs there anything to replace SocketHubAppender class or \r\nDo I need to change logging library?\r\n\r\nI&#39;d appreciate it if you could help me.","title":"Is there anything to replace SocketHubAppender in log4j2?","body":"<p>I'm looking for anything to replace SocketHubAppender Class in log4j2.\nSocketHubAppender class supports logging server function through tcp/ip socket easily from log4j1.\nI've been using this class for a long time.</p>\n<p>I have to update log4j2 from log4j1 for some security issues.\nBut, I couldn't find it yet.</p>\n<p>Is there anything to replace SocketHubAppender class or\nDo I need to change logging library?</p>\n<p>I'd appreciate it if you could help me.</p>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":946072,"reputation":812,"user_id":973325,"accept_rate":100,"display_name":"Gil Julio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418159022,"creation_date":1418159022,"answer_id":27388797,"question_id":27388569,"body_markdown":"You can do this by making a timer and setting a schedule fixed rate. Call init in the views constructors.\r\n    \r\n    private void init(){\r\n        Timer timer = new Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask(){\r\n            public void run() {\r\n                 postInvalidate();\r\n            }\r\n        }, 0, 5 * 1000L);//5 seconds\r\n    }","title":"How to make the android canvas re-draw every 5 seconds","body":"<p>You can do this by making a timer and setting a schedule fixed rate. Call init in the views constructors.</p>\n\n<pre><code>private void init(){\n    Timer timer = new Timer();\n    timer.scheduleAtFixedRate(new TimerTask(){\n        public void run() {\n             postInvalidate();\n        }\n    }, 0, 5 * 1000L);//5 seconds\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1418335721,"creation_date":1418159037,"answer_id":27388800,"question_id":27388569,"body_markdown":"You don&#39;t really can get the control on when the `onDraw` will be called: when a view is invalidate then the `onDraw` will be called at some point in future.\r\n\r\nThere is a fundamental design flaw in your code: the position of player is modified during the execution  of the `onDraw` : you will be unable to control it.\r\n\r\nTo move your players every 5 sec : you can use a `Handler.postDelayed` re-posting the same `Runnable` every 5 sec. The `Runnable` will update the player position and then invalidate the View.\r\n\r\nHere is some code to illustrate the idea \r\n\r\n(Disclaimer: this is pseudo code, it only care about player at index 0, there is more to do to move all the players, ...)\r\n\r\n    public class myView extends View {\r\n        Paint paint = new Paint();\r\n        public myView(Context context) {\r\n            super(context);\r\n            paint.setColor(Color.YELLOW);\r\n            movePlayer0Runnable.run(); //this is the initial call to draw player at index 0\r\n        }\r\n\r\n        @Override\r\n        public void onDraw(final Canvas canvas) {\r\n            super.onDraw(canvas);  //IMPORTANT to draw the background\r\n            arr[0].draw(canvas, paint);\r\n        }\r\n\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        Runnable movePlayer0Runnable = new Runnable(){\r\n            public void run(){\r\n                arr[0].update(true, true);\r\n                invalidate(); //will trigger the onDraw\r\n                handler.postDelayed(this,5000); //in 5 sec player0 will move again\r\n            }\r\n        }   \r\n        ... \r\n    }","title":"How to make the android canvas re-draw every 5 seconds","body":"<p>You don't really can get the control on when the <code>onDraw</code> will be called: when a view is invalidate then the <code>onDraw</code> will be called at some point in future.</p>\n\n<p>There is a fundamental design flaw in your code: the position of player is modified during the execution  of the <code>onDraw</code> : you will be unable to control it.</p>\n\n<p>To move your players every 5 sec : you can use a <code>Handler.postDelayed</code> re-posting the same <code>Runnable</code> every 5 sec. The <code>Runnable</code> will update the player position and then invalidate the View.</p>\n\n<p>Here is some code to illustrate the idea </p>\n\n<p>(Disclaimer: this is pseudo code, it only care about player at index 0, there is more to do to move all the players, ...)</p>\n\n<pre><code>public class myView extends View {\n    Paint paint = new Paint();\n    public myView(Context context) {\n        super(context);\n        paint.setColor(Color.YELLOW);\n        movePlayer0Runnable.run(); //this is the initial call to draw player at index 0\n    }\n\n    @Override\n    public void onDraw(final Canvas canvas) {\n        super.onDraw(canvas);  //IMPORTANT to draw the background\n        arr[0].draw(canvas, paint);\n    }\n\n    Handler handler = new Handler(Looper.getMainLooper());\n    Runnable movePlayer0Runnable = new Runnable(){\n        public void run(){\n            arr[0].update(true, true);\n            invalidate(); //will trigger the onDraw\n            handler.postDelayed(this,5000); //in 5 sec player0 will move again\n        }\n    }   \n    ... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639711096,"creation_date":1639711096,"answer_id":70388034,"question_id":27388569,"body_markdown":"Calling `postInvalidateDelayed(5000)` inside of the `onDraw` method as shown in [How to animate a path on canvas - android](https://stackoverflow.com/a/18617993/6243352) is a bit simpler than the existing answers that spawn timers or runnables. Like them, it&#39;s not a high-resolution timer.\r\n\r\nHere&#39;s a minimal, complete example:\r\n\r\n### Layout:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:keepScreenOn=&quot;true&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n&gt;\r\n    &lt;view\r\n        class=&quot;com.example.foo.FooActivity$Drawer&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n    /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n### Activity:\r\n\r\n```java\r\npackage com.example.foo;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\nimport android.util.AttributeSet;\r\nimport android.view.View;\r\n\r\nimport java.util.Random;\r\n\r\npublic class FooActivity extends Activity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_foo);\r\n    }\r\n\r\n    public static class Drawer extends View {\r\n        private static final int delayMS = 5000;\r\n        private static Random rnd;\r\n        private static Paint paint;\r\n        private static int viewWidth;\r\n        private static int viewHeight;\r\n\r\n        public Drawer(Context con, AttributeSet attr) {\r\n            super(con, attr);\r\n            rnd = new Random();\r\n            paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n            paint.setStyle(Paint.Style.FILL);\r\n        }\r\n\r\n        // https://stackoverflow.com/a/9718512/6243352\r\n        @Override\r\n        protected void onSizeChanged(int xNew, int yNew, int xOld, int yOld) {\r\n            super.onSizeChanged(xNew, yNew, xOld, yOld);\r\n            viewWidth = xNew;\r\n            viewHeight = yNew;\r\n        }\r\n\r\n        @Override\r\n        protected void onDraw(final Canvas c) {\r\n            super.onDraw(c);\r\n\r\n            // https://stackoverflow.com/a/18617993/6243352\r\n            postInvalidateDelayed(delayMS);\r\n\r\n            int color = rnd.nextInt(256);\r\n            paint.setARGB(255, color, color, color);\r\n            c.drawCircle(\r\n                viewWidth / 2,\r\n                viewHeight / 2,\r\n                viewWidth / 4,\r\n                paint\r\n            );\r\n        }\r\n    }\r\n}\r\n```","title":"How to make the android canvas re-draw every 5 seconds","body":"<p>Calling <code>postInvalidateDelayed(5000)</code> inside of the <code>onDraw</code> method as shown in <a href=\"https://stackoverflow.com/a/18617993/6243352\">How to animate a path on canvas - android</a> is a bit simpler than the existing answers that spawn timers or runnables. Like them, it's not a high-resolution timer.</p>\n<p>Here's a minimal, complete example:</p>\n<h3>Layout:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:keepScreenOn=&quot;true&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n&gt;\n    &lt;view\n        class=&quot;com.example.foo.FooActivity$Drawer&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n    /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<h3>Activity:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.foo;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.os.Bundle;\nimport android.util.AttributeSet;\nimport android.view.View;\n\nimport java.util.Random;\n\npublic class FooActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_foo);\n    }\n\n    public static class Drawer extends View {\n        private static final int delayMS = 5000;\n        private static Random rnd;\n        private static Paint paint;\n        private static int viewWidth;\n        private static int viewHeight;\n\n        public Drawer(Context con, AttributeSet attr) {\n            super(con, attr);\n            rnd = new Random();\n            paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n            paint.setStyle(Paint.Style.FILL);\n        }\n\n        // https://stackoverflow.com/a/9718512/6243352\n        @Override\n        protected void onSizeChanged(int xNew, int yNew, int xOld, int yOld) {\n            super.onSizeChanged(xNew, yNew, xOld, yOld);\n            viewWidth = xNew;\n            viewHeight = yNew;\n        }\n\n        @Override\n        protected void onDraw(final Canvas c) {\n            super.onDraw(c);\n\n            // https://stackoverflow.com/a/18617993/6243352\n            postInvalidateDelayed(delayMS);\n\n            int color = rnd.nextInt(256);\n            paint.setARGB(255, color, color, color);\n            c.drawCircle(\n                viewWidth / 2,\n                viewHeight / 2,\n                viewWidth / 4,\n                paint\n            );\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5446513,"reputation":71,"user_id":4332866,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6735,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27388800,"answer_count":3,"score":4,"last_activity_date":1639711096,"creation_date":1418158210,"question_id":27388569,"body_markdown":"I am making a app that requires dynamic animations. (Player movements) I&#39;m using the `Canvas` object to do this. My first question is &quot;Is the `Canvas` really the best way to handle these animations?&quot;,\r\nand my second question is &quot;How do I re-draw the player(s) to the `Canvas`?&quot; Here is my code: \r\n\r\ntheGame.java:\r\n\r\n    package birdprograms.freezetag;\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n\r\n    public class theGame extends Activity {\r\n        players[] arr = {\r\n                new player(),\r\n                new player(),\r\n                new player(),\r\n                new player()\r\n        };\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(new myView(this));\r\n        }\r\n        public class myView extends View {\r\n            Paint paint = new Paint();\r\n            public myView(Context context) {\r\n                super(context);\r\n                paint.setColor(Color.YELLOW);\r\n            }\r\n            @Override\r\n            public void onDraw(final Canvas canvas) {\r\n                arr[0].update(true, true);\r\n                arr[0].draw(canvas, paint);\r\n            }\r\n        }\r\n    }\r\nplayer.java\r\n\r\n    package birdprograms.freezetag;\r\n    \r\n    import android.graphics.*;\r\n    \r\n    public class player {\r\n        int y = 0;\r\n        int x = 0;\r\n        int vy = 5;\r\n        int vx = 5;\r\n        int height = y + 15;\r\n        int width = x + 15;\r\n        public void draw(Canvas canvas, Paint paint){\r\n            canvas.drawRect(x,y,width,height,paint);\r\n        }\r\n        public void update(boolean left, boolean top){\r\n            if(left){x += vx; width = x + 15;}\r\n            else{x -= vx; width = x + 15;}\r\n            if(top){y += vy; height = y + 15;}\r\n            else{y -= vy; height = y + 15;}\r\n        }\r\n    }\r\n\r\n","title":"How to make the android canvas re-draw every 5 seconds","body":"<p>I am making a app that requires dynamic animations. (Player movements) I'm using the <code>Canvas</code> object to do this. My first question is \"Is the <code>Canvas</code> really the best way to handle these animations?\",\nand my second question is \"How do I re-draw the player(s) to the <code>Canvas</code>?\" Here is my code: </p>\n\n<p>theGame.java:</p>\n\n<pre><code>package birdprograms.freezetag;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class theGame extends Activity {\n    players[] arr = {\n            new player(),\n            new player(),\n            new player(),\n            new player()\n    };\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new myView(this));\n    }\n    public class myView extends View {\n        Paint paint = new Paint();\n        public myView(Context context) {\n            super(context);\n            paint.setColor(Color.YELLOW);\n        }\n        @Override\n        public void onDraw(final Canvas canvas) {\n            arr[0].update(true, true);\n            arr[0].draw(canvas, paint);\n        }\n    }\n}\n</code></pre>\n\n<p>player.java</p>\n\n<pre><code>package birdprograms.freezetag;\n\nimport android.graphics.*;\n\npublic class player {\n    int y = 0;\n    int x = 0;\n    int vy = 5;\n    int vx = 5;\n    int height = y + 15;\n    int width = x + 15;\n    public void draw(Canvas canvas, Paint paint){\n        canvas.drawRect(x,y,width,height,paint);\n    }\n    public void update(boolean left, boolean top){\n        if(left){x += vx; width = x + 15;}\n        else{x -= vx; width = x + 15;}\n        if(top){y += vy; height = y + 15;}\n        else{y -= vy; height = y + 15;}\n    }\n}\n</code></pre>\n"},{"tags":["java","testng","testng-dataprovider","testng-annotation-test"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1639689762,"post_id":70385732,"comment_id":124420492,"body_markdown":"The `data` is a class variable which is not reset by TestNG and that field can be seen by all test methods. Does it behave the same if you make it scoped to the method? If not, then something else (like your before suite) is influencing the results. The 2d array is for multiple test executions, e.g. `{ /* run1 */ { param1, param2 }, /* run2 */ { ... } }`.","body":"The <code>data</code> is a class variable which is not reset by TestNG and that field can be seen by all test methods. Does it behave the same if you make it scoped to the method? If not, then something else (like your before suite) is influencing the results. The 2d array is for multiple test executions, e.g. <code>{ &#47;* run1 *&#47; { param1, param2 }, &#47;* run2 *&#47; { ... } }</code>."},{"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"score":0,"creation_date":1639690795,"post_id":70385732,"comment_id":124420800,"body_markdown":"@BenManes  Interesting!  I didn&#39;t know that data would be globally visible.  I don&#39;t believe that the BeforeSuite is influencing it, so if I wanted to add more arguments to the testing method, I&#39;d append them into data.  Hmmm....  Thanks!","body":"@BenManes  Interesting!  I didn&#39;t know that data would be globally visible.  I don&#39;t believe that the BeforeSuite is influencing it, so if I wanted to add more arguments to the testing method, I&#39;d append them into data.  Hmmm....  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639709696,"creation_date":1639709696,"answer_id":70387916,"question_id":70385732,"body_markdown":"data has no significance.  The arguments to your @Test method are being provided by @DataProvider.  The return type of Dataprovider is Object[x][y].\r\nx means sets of arguments.  y means the arguments.  \r\n\r\nIn your case, the dataprovider must be returning multiple values for a set of {String RUN, String TYPE, String ENVIRONMENT, String TESTNAME}.  TestNG reads these sets and provides @Test, which would be run x times with each set of arguments.\r\n\r\nHow? If you are interested, you should read the implementation in testng code, but simply said, TestNG searches for annotations using the reflections API, creates multiple methods at runtime x times with y arguments and invokes them.\r\n\r\nIf you have to add an argument, then you need to add something to y - so you would need to make your dataprovider return it and your Test method accept it.","title":"Java TestNG :: How are Arguments Suppled to my Test Method?","body":"<p>data has no significance.  The arguments to your @Test method are being provided by @DataProvider.  The return type of Dataprovider is Object[x][y].\nx means sets of arguments.  y means the arguments.</p>\n<p>In your case, the dataprovider must be returning multiple values for a set of {String RUN, String TYPE, String ENVIRONMENT, String TESTNAME}.  TestNG reads these sets and provides @Test, which would be run x times with each set of arguments.</p>\n<p>How? If you are interested, you should read the implementation in testng code, but simply said, TestNG searches for annotations using the reflections API, creates multiple methods at runtime x times with y arguments and invokes them.</p>\n<p>If you have to add an argument, then you need to add something to y - so you would need to make your dataprovider return it and your Test method accept it.</p>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639710310,"creation_date":1639710310,"answer_id":70387968,"question_id":70385732,"body_markdown":"Since you have mentioned the name of the data provider in the annotation of your test method, testNG would scan for any matching data provider methods. Thus the `GetSyncConfigData` data provider method is invoked. Now, each 1d array within the 2d array returned by the data provider represents a test case. So if your data is of size `Object[3][4]`, then there are 3 test cases and each test case provides 4 arguments to your test method.\r\n\r\nIn case if a matching data provider is not found or in case of any mismatch in the number/type of arguments, an exception would be thrown.\r\n\r\n[More info](https://stackoverflow.com/a/69113645/7804477)","title":"Java TestNG :: How are Arguments Suppled to my Test Method?","body":"<p>Since you have mentioned the name of the data provider in the annotation of your test method, testNG would scan for any matching data provider methods. Thus the <code>GetSyncConfigData</code> data provider method is invoked. Now, each 1d array within the 2d array returned by the data provider represents a test case. So if your data is of size <code>Object[3][4]</code>, then there are 3 test cases and each test case provides 4 arguments to your test method.</p>\n<p>In case if a matching data provider is not found or in case of any mismatch in the number/type of arguments, an exception would be thrown.</p>\n<p><a href=\"https://stackoverflow.com/a/69113645/7804477\">More info</a></p>\n"}],"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70387916,"answer_count":2,"score":0,"last_activity_date":1639710451,"creation_date":1639689440,"question_id":70385732,"body_markdown":"I&#39;m struggling to understand the flow of execution of some Java TestNG code that my boss assigned to me.  Unfortunately, the original author is no longer with my company, so I&#39;m on my own.  I&#39;ve read through a few TestNG tutorials (especially [this one][1]) but still have questions.\r\n\r\nHere is the code&#39;s test class, which learns about the tests it is to run from an external file, runs the tests, then closes everything up:\r\n\r\n    public class MyTestDriver {\r\n    \r\n    \tpublic Object[][] data = null;\r\n    \r\n    \t@BeforeSuite\r\n    \tpublic void beforeSuite() {\r\n   \t\t\t// open external info file\r\n    \t}\r\n    \r\n    \t@DataProvider(name = &quot;GetConfigData&quot;)\r\n    \tpublic Object[][] GetSyncConfigData() throws IOException {\r\n    \t\ttry {\r\n    \t\t\t// Using external file, gather info about individual tests\r\n    \t\t\t// load that info into Object[][] data, I think\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// log errors\r\n    \t\t}\r\n    \t\treturn data;\r\n    \t}\r\n    }\r\n\r\nA test may be either an async&#39;ed test or a sync&#39;ed test, so those cases are handled by a subclass each.  Here&#39;s the async&#39;ed subclass:\r\n\r\n    public class AsyncAPITest extends MyTestDriver {\r\n    \r\n    \t@Test(dataProvider = &quot;GetConfigData&quot;)\r\n    \tpublic void asyncTestExecution(String RUN, String TYPE, String ENVIRONMENT, String TESTNAME) throws Exception {\r\n    \t\ttry {\r\n    \t\t\t// run tests\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// log errors\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nCoders familiar with Java TestNG will spot the annotations.\r\n\r\nNow, let&#39;s say I run the code and the external file specifies only one Async test should be run.  In that event, I&#39;m certain the code&#39;s order of execution would be:\r\n\r\n    @BeforeSuite\r\n    MyTestDriver.beforeSuite()\r\n    \r\n    @DataProvider(name = &quot;GetConfigData&quot;)\r\n    MyTestDriver.GetSyncConfigData()\r\n    \r\n    @Test(dataProvider = &quot;GetConfigData&quot;)\r\n    AsyncAPITest.asyncTestExecution()\r\n\r\nBut here&#39;s what I don&#39;t understand:  How is information passed from `MyTestDriver.GetSyncConfigData()` to `AsyncAPITest.asyncTestExecution()`?  If you look at method `asyncTestExecution()`, that method actually takes in quite a few arguments:\r\n\r\n    public void asyncTestExecution(String RUN, String TYPE, String ENVIRONMENT, String TESTNAME) throws Exception\r\n\r\nWhat is supplying those arguments?  If I look through the code of `MyTestDriver.GetSyncConfigData()`, shouldn&#39;t I see something like this somewhere:\r\n\r\n    // data initialized as Object[][]\r\n    // data = AsyncAPITest.asyncTestExecution(RUN, TYPE, ENVIRONMENT, TESTNAME);\r\n    return data;\r\n\r\nI just don&#39;t understand how `AsyncAPITest.asyncTestExecution()` is called, or what is supplying those arguments.  I&#39;m largely asking because I want to send in more arguments for later modifications.  Thank you in advance for any suggestions or observations.\r\n\r\n  [1]: https://www.tutorialspoint.com/testng/index.htm","title":"Java TestNG :: How are Arguments Suppled to my Test Method?","body":"<p>I'm struggling to understand the flow of execution of some Java TestNG code that my boss assigned to me.  Unfortunately, the original author is no longer with my company, so I'm on my own.  I've read through a few TestNG tutorials (especially <a href=\"https://www.tutorialspoint.com/testng/index.htm\" rel=\"nofollow noreferrer\">this one</a>) but still have questions.</p>\n<p>Here is the code's test class, which learns about the tests it is to run from an external file, runs the tests, then closes everything up:</p>\n<pre><code>public class MyTestDriver {\n\n    public Object[][] data = null;\n\n    @BeforeSuite\n    public void beforeSuite() {\n        // open external info file\n    }\n\n    @DataProvider(name = &quot;GetConfigData&quot;)\n    public Object[][] GetSyncConfigData() throws IOException {\n        try {\n            // Using external file, gather info about individual tests\n            // load that info into Object[][] data, I think\n        } catch (Exception e) {\n            // log errors\n        }\n        return data;\n    }\n}\n</code></pre>\n<p>A test may be either an async'ed test or a sync'ed test, so those cases are handled by a subclass each.  Here's the async'ed subclass:</p>\n<pre><code>public class AsyncAPITest extends MyTestDriver {\n\n    @Test(dataProvider = &quot;GetConfigData&quot;)\n    public void asyncTestExecution(String RUN, String TYPE, String ENVIRONMENT, String TESTNAME) throws Exception {\n        try {\n            // run tests\n        } catch (Exception e) {\n            // log errors\n        }\n    }\n}\n</code></pre>\n<p>Coders familiar with Java TestNG will spot the annotations.</p>\n<p>Now, let's say I run the code and the external file specifies only one Async test should be run.  In that event, I'm certain the code's order of execution would be:</p>\n<pre><code>@BeforeSuite\nMyTestDriver.beforeSuite()\n\n@DataProvider(name = &quot;GetConfigData&quot;)\nMyTestDriver.GetSyncConfigData()\n\n@Test(dataProvider = &quot;GetConfigData&quot;)\nAsyncAPITest.asyncTestExecution()\n</code></pre>\n<p>But here's what I don't understand:  How is information passed from <code>MyTestDriver.GetSyncConfigData()</code> to <code>AsyncAPITest.asyncTestExecution()</code>?  If you look at method <code>asyncTestExecution()</code>, that method actually takes in quite a few arguments:</p>\n<pre><code>public void asyncTestExecution(String RUN, String TYPE, String ENVIRONMENT, String TESTNAME) throws Exception\n</code></pre>\n<p>What is supplying those arguments?  If I look through the code of <code>MyTestDriver.GetSyncConfigData()</code>, shouldn't I see something like this somewhere:</p>\n<pre><code>// data initialized as Object[][]\n// data = AsyncAPITest.asyncTestExecution(RUN, TYPE, ENVIRONMENT, TESTNAME);\nreturn data;\n</code></pre>\n<p>I just don't understand how <code>AsyncAPITest.asyncTestExecution()</code> is called, or what is supplying those arguments.  I'm largely asking because I want to send in more arguments for later modifications.  Thank you in advance for any suggestions or observations.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639678846,"creation_date":1639678846,"answer_id":70383851,"question_id":70382264,"body_markdown":"You should change the `stack` item. Example :\r\n```\r\n@Override\r\npublic ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target, Hand hand) {\r\n    if (!playerIn.world.isRemote()) {\r\n        stack = myNewItem;\r\n        // or just directly edit item:\r\n        stack.setAmount(1); // example\r\n    }\r\n    return super.itemInteractionForEntity(stack, playerIn, target, hand);\r\n}\r\n```","title":"How to replace an item in inventory? (1.16.5)","body":"<p>You should change the <code>stack</code> item. Example :</p>\n<pre><code>@Override\npublic ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target, Hand hand) {\n    if (!playerIn.world.isRemote()) {\n        stack = myNewItem;\n        // or just directly edit item:\n        stack.setAmount(1); // example\n    }\n    return super.itemInteractionForEntity(stack, playerIn, target, hand);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12871131,"reputation":80,"user_id":12229438,"display_name":"DigitalCyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639710400,"creation_date":1639710400,"answer_id":70387974,"question_id":70382264,"body_markdown":"I&#39;ve managed to do it like this:\r\n\r\n\r\n```java\r\n// Within your ItemA class\r\n@Override\r\npublic ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target,\r\n    Hand hand) {\r\n\r\n    // To make sure the code runs on the server\r\n    if (playerIn.world.isRemote()) {\r\n        return super.itemInteractionForEntity(stack, playerIn, target, hand);\r\n    }\r\n\r\n    // We check if the item is held in the main hand, if so we do the\r\n    // main hand item sawp. This check prevents usage of the item from\r\n    // the secondary hand too. If there was no check at all we could put\r\n    // the item in our left hand and use it in order to get a new item in\r\n    // our right hand.\r\n\r\n    if (playerIn.getHeldItemMainhand().getItem() instanceof ItemA) {\r\n        // ItemRegistrator just holds static refrences to all my registered items\r\n        ItemStack itemB = new ItemStack(ItemRegistrator.ITEM_B.get()); \r\n\r\n        playerIn.setHeldItem(Hand.MAIN_HAND, itemB);\r\n    }\r\n\r\n    return super.itemInteractionForEntity(stack, playerIn, target, hand);\r\n}\r\n```","title":"How to replace an item in inventory? (1.16.5)","body":"<p>I've managed to do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Within your ItemA class\n@Override\npublic ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target,\n    Hand hand) {\n\n    // To make sure the code runs on the server\n    if (playerIn.world.isRemote()) {\n        return super.itemInteractionForEntity(stack, playerIn, target, hand);\n    }\n\n    // We check if the item is held in the main hand, if so we do the\n    // main hand item sawp. This check prevents usage of the item from\n    // the secondary hand too. If there was no check at all we could put\n    // the item in our left hand and use it in order to get a new item in\n    // our right hand.\n\n    if (playerIn.getHeldItemMainhand().getItem() instanceof ItemA) {\n        // ItemRegistrator just holds static refrences to all my registered items\n        ItemStack itemB = new ItemStack(ItemRegistrator.ITEM_B.get()); \n\n        playerIn.setHeldItem(Hand.MAIN_HAND, itemB);\n    }\n\n    return super.itemInteractionForEntity(stack, playerIn, target, hand);\n}\n</code></pre>\n"}],"owner":{"account_id":12871131,"reputation":80,"user_id":12229438,"display_name":"DigitalCyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70387974,"answer_count":2,"score":0,"last_activity_date":1639710400,"creation_date":1639671199,"question_id":70382264,"body_markdown":"I want the item to be replaced with an another item when the overridden function fires.\r\n\r\n```java\r\n    @Override\r\n    public ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target, Hand hand) {\r\n\r\n        if (!playerIn.world.isRemote()) {\r\n            // Replace an item with xyz\r\n        }\r\n\r\n        return super.itemInteractionForEntity(stack, playerIn, target, hand);\r\n    }\r\n```\r\n\r\nHow can I achieve this?\r\n\r\nNote: I&#39;m using MCP mappings.","title":"How to replace an item in inventory? (1.16.5)","body":"<p>I want the item to be replaced with an another item when the overridden function fires.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public ActionResultType itemInteractionForEntity(ItemStack stack, PlayerEntity playerIn, LivingEntity target, Hand hand) {\n\n        if (!playerIn.world.isRemote()) {\n            // Replace an item with xyz\n        }\n\n        return super.itemInteractionForEntity(stack, playerIn, target, hand);\n    }\n</code></pre>\n<p>How can I achieve this?</p>\n<p>Note: I'm using MCP mappings.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639636640,"post_id":70374713,"comment_id":124400838,"body_markdown":"It would help if you explained what part of the conversion you are having trouble with.","body":"It would help if you explained what part of the conversion you are having trouble with."},{"owner":{"account_id":12262063,"reputation":1,"user_id":8949472,"display_name":"Dawi Lu"},"score":0,"creation_date":1639638774,"post_id":70374713,"comment_id":124401298,"body_markdown":"Thanks for your feedback. I have updated my question.","body":"Thanks for your feedback. I have updated my question."}],"answers":[{"tags":[],"owner":{"account_id":14243669,"reputation":91,"user_id":10289360,"display_name":"zephyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639648679,"creation_date":1639648679,"answer_id":70377024,"question_id":70374713,"body_markdown":"you can use library like [apache commons math][1] to do same thing as numpy. \r\n\r\nIt is not recommended to implement it by yourself, it is difficult to do better.\r\n\r\n\r\nClass `org.apache.commons.math3.analysis.interpolation.LinearInterpolator` meets your needs.\r\n\r\nCode Example:\r\n```\r\nimport org.apache.commons.math3.analysis.interpolation.LinearInterpolator;\r\nimport org.apache.commons.math3.analysis.polynomials.PolynomialSplineFunction;\r\n\r\n// Test on commons-math3 version 3.6.1\r\npublic class InterpolatorTest {\r\n    public static void main(String[] args){\r\n        // will output 384.0\r\n        System.out.println(interpolator(110f, new double[]{100d, 150d}, new double[]{0d, 1920d}));\r\n        // will output 432.0\r\n        System.out.println(interpolator(120f, new double[]{100d, 150d}, new double[]{0d, 1080d}));\r\n    }\r\n\r\n    public static double interpolator(double value, double[] x, double[] y) {\r\n        LinearInterpolator interpolator = new LinearInterpolator();\r\n        PolynomialSplineFunction function = interpolator.interpolate(x, y);\r\n        return function.value(value);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/","title":"How to convert a point from a small area to a big area in the same scale with Java?","body":"<p>you can use library like <a href=\"https://commons.apache.org/proper/commons-math/\" rel=\"nofollow noreferrer\">apache commons math</a> to do same thing as numpy.</p>\n<p>It is not recommended to implement it by yourself, it is difficult to do better.</p>\n<p>Class <code>org.apache.commons.math3.analysis.interpolation.LinearInterpolator</code> meets your needs.</p>\n<p>Code Example:</p>\n<pre><code>import org.apache.commons.math3.analysis.interpolation.LinearInterpolator;\nimport org.apache.commons.math3.analysis.polynomials.PolynomialSplineFunction;\n\n// Test on commons-math3 version 3.6.1\npublic class InterpolatorTest {\n    public static void main(String[] args){\n        // will output 384.0\n        System.out.println(interpolator(110f, new double[]{100d, 150d}, new double[]{0d, 1920d}));\n        // will output 432.0\n        System.out.println(interpolator(120f, new double[]{100d, 150d}, new double[]{0d, 1080d}));\n    }\n\n    public static double interpolator(double value, double[] x, double[] y) {\n        LinearInterpolator interpolator = new LinearInterpolator();\n        PolynomialSplineFunction function = interpolator.interpolate(x, y);\n        return function.value(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12262063,"reputation":1,"user_id":8949472,"display_name":"Dawi Lu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639698765,"creation_date":1639676314,"answer_id":70383365,"question_id":70374713,"body_markdown":"Thanks for you help. I think I can solve it!\r\n\r\nHere is my solution :D  \r\n\r\nPython version:\r\n\r\n    def interp(input_vlaue, small_area, big_area):\r\n    \r\n        small_area_x = small_area[2][0] - small_area[0][0]\r\n        big_area_x = big_area[2][0] - big_area[0][0]\r\n        \r\n        small_area_y = small_area[2][1] - small_area[0][1]\r\n        big_area_y = big_area[2][1] - big_area[0][1]\r\n    \r\n        out_x = (big_area_x / small_area_x) * (input_vlaue[0] - small_area[0][0])\r\n        out_y = (big_area_y / small_area_y) * (input_vlaue[1] - small_area[0][1])\r\n    \r\n        output = [out_x, out_y]\r\n        return output\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        \r\n        intput_poiint = [110, 120]\r\n    \r\n        small_area = [(100, 100), (150, 100), (150, 150), (100, 150)]\r\n        big_area = [(0, 0), (1920, 0), (1920, 1080), (0, 1080)]\r\n    \r\n        convert_output = interp(input_vlaue=intput_poiint, small_area=small_area, big_area=big_area)\r\n    \r\n        print(f&#39;\\nintput_poiint: {intput_poiint}&#39;)\r\n        print(f&#39;\\nconvert_output: {convert_output}&#39;)\r\n\r\nJava version:\r\n\r\n    public class Interp{\r\n    \r\n         public static void main(String[] args){\r\n            float [] intput_value = new float[2];\r\n            float [] small_area_left_up_point = new float[2];\r\n            float [] small_area_right_down_point = new float[2];\r\n            float [] big_area_left_up_point = new float[2];\r\n            float [] big_area_right_down_point = new float[2];\r\n            float [] fraction_small = new float[2];\r\n            float [] fraction_big = new float[2];\r\n            float [] output = new float[2];\r\n            \r\n            intput_value[0] = (float) 110;\r\n            intput_value[1] = (float) 120;\r\n            \r\n            small_area_left_up_point[0] = (float) 100;\r\n            small_area_left_up_point[1] = (float) 100;\r\n            \r\n            small_area_right_down_point[0] = (float) 150;\r\n            small_area_right_down_point[1] = (float) 150;\r\n            \r\n            big_area_left_up_point[0] = (float) 0;\r\n            big_area_left_up_point[1] = (float) 0;\r\n            \r\n            big_area_right_down_point[0] = (float) 1920;\r\n            big_area_right_down_point[1] = (float) 1080;\r\n            \r\n            fraction_small[0] = small_area_right_down_point[0] - small_area_left_up_point[0];\r\n            fraction_small[1] = small_area_right_down_point[1] - small_area_left_up_point[1];\r\n            \r\n            fraction_big[0] = big_area_right_down_point[0] - big_area_left_up_point[0];\r\n            fraction_big[1] = big_area_right_down_point[1] - big_area_left_up_point[1];\r\n            \r\n            output[0] = interp(intput_value[0], fraction_small[0], fraction_big[0], small_area_left_up_point[0]);\r\n            output[1] = interp(intput_value[1], fraction_small[1], fraction_big[1], small_area_left_up_point[1]);\r\n            \r\n            System.out.println(&quot;(intput_x, intput_y): &quot; + intput_value[0] +&quot;, &quot;+ intput_value[1]);\r\n            System.out.println(&quot;(output_x, output_y): &quot; + output[0]  +&quot;, &quot;+ output[1]);\r\n        }\r\n        \r\n        public static Float interp(float input_value, float small_fraction, float big_fraction, float mapping_left_point){\r\n            return (big_fraction/small_fraction) * (input_value-mapping_left_point);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nBoth version input (110, 120) can get the output (384, 432).  \r\nI am pleased to convert it! :D","title":"How to convert a point from a small area to a big area in the same scale with Java?","body":"<p>Thanks for you help. I think I can solve it!</p>\n<p>Here is my solution :D</p>\n<p>Python version:</p>\n<pre><code>def interp(input_vlaue, small_area, big_area):\n\n    small_area_x = small_area[2][0] - small_area[0][0]\n    big_area_x = big_area[2][0] - big_area[0][0]\n    \n    small_area_y = small_area[2][1] - small_area[0][1]\n    big_area_y = big_area[2][1] - big_area[0][1]\n\n    out_x = (big_area_x / small_area_x) * (input_vlaue[0] - small_area[0][0])\n    out_y = (big_area_y / small_area_y) * (input_vlaue[1] - small_area[0][1])\n\n    output = [out_x, out_y]\n    return output\n\n\nif __name__ == '__main__':\n    \n    intput_poiint = [110, 120]\n\n    small_area = [(100, 100), (150, 100), (150, 150), (100, 150)]\n    big_area = [(0, 0), (1920, 0), (1920, 1080), (0, 1080)]\n\n    convert_output = interp(input_vlaue=intput_poiint, small_area=small_area, big_area=big_area)\n\n    print(f'\\nintput_poiint: {intput_poiint}')\n    print(f'\\nconvert_output: {convert_output}')\n</code></pre>\n<p>Java version:</p>\n<pre><code>public class Interp{\n\n     public static void main(String[] args){\n        float [] intput_value = new float[2];\n        float [] small_area_left_up_point = new float[2];\n        float [] small_area_right_down_point = new float[2];\n        float [] big_area_left_up_point = new float[2];\n        float [] big_area_right_down_point = new float[2];\n        float [] fraction_small = new float[2];\n        float [] fraction_big = new float[2];\n        float [] output = new float[2];\n        \n        intput_value[0] = (float) 110;\n        intput_value[1] = (float) 120;\n        \n        small_area_left_up_point[0] = (float) 100;\n        small_area_left_up_point[1] = (float) 100;\n        \n        small_area_right_down_point[0] = (float) 150;\n        small_area_right_down_point[1] = (float) 150;\n        \n        big_area_left_up_point[0] = (float) 0;\n        big_area_left_up_point[1] = (float) 0;\n        \n        big_area_right_down_point[0] = (float) 1920;\n        big_area_right_down_point[1] = (float) 1080;\n        \n        fraction_small[0] = small_area_right_down_point[0] - small_area_left_up_point[0];\n        fraction_small[1] = small_area_right_down_point[1] - small_area_left_up_point[1];\n        \n        fraction_big[0] = big_area_right_down_point[0] - big_area_left_up_point[0];\n        fraction_big[1] = big_area_right_down_point[1] - big_area_left_up_point[1];\n        \n        output[0] = interp(intput_value[0], fraction_small[0], fraction_big[0], small_area_left_up_point[0]);\n        output[1] = interp(intput_value[1], fraction_small[1], fraction_big[1], small_area_left_up_point[1]);\n        \n        System.out.println(&quot;(intput_x, intput_y): &quot; + intput_value[0] +&quot;, &quot;+ intput_value[1]);\n        System.out.println(&quot;(output_x, output_y): &quot; + output[0]  +&quot;, &quot;+ output[1]);\n    }\n    \n    public static Float interp(float input_value, float small_fraction, float big_fraction, float mapping_left_point){\n        return (big_fraction/small_fraction) * (input_value-mapping_left_point);\n        \n    }\n    \n}\n</code></pre>\n<p>Both version input (110, 120) can get the output (384, 432).<br />\nI am pleased to convert it! :D</p>\n"}],"owner":{"account_id":12262063,"reputation":1,"user_id":8949472,"display_name":"Dawi Lu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639710293,"creation_date":1639635940,"question_id":70374713,"body_markdown":"I want to convert a point from a rectangle area  to a mapping rectangle area which convert point is in the same scale.   \r\n\r\nFor instance, the samll area has 4 points from (mx0, my0) to (mx3, my3), and the big area is from (x0, y0) to (x3, y3) . \r\n\r\nNow that can get the input (intput_x, intput_y) to get the output (x,y) as the follow:  \r\ninput (100, 100), get output (0, 0).  \r\ninput (150, 100), get output (1920, 0).  \r\ninput (100, 150), get output (0, 1080).  \r\ninput (150, 150), get output (19200, 1080).\r\n\r\nAssume the intput (intput_x, intput_y) = (110, 120), and the output (x, y) can get (384, 432).\r\n\r\nThe described as the diagram: [click me][1].\r\n\r\nHere is the python code:\r\n\r\n    import numpy as np\r\n    \r\n    def interp(x, xp, fp, is_loop_test=True):\r\n        if (is_loop_test==True):\r\n            for i in range(100, 151):\r\n                bb = np.interp(i, xp, fp)\r\n                print(f&#39;{i}, bb: {bb}&#39;)\r\n                return bb\r\n        else:\r\n            return np.interp(x, xp, fp)\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        \r\n        in_x, in_y = 110, 120\r\n    \r\n        xp = (100, 150)\r\n        fp = (0, 1920)\r\n    \r\n        yp = (100, 150)\r\n        fyp = (0, 1080)\r\n    \r\n        x, y = interp(in_x, xp, fp, False), interp(in_y, yp, fyp, False)\r\n    \r\n        print(f&#39;(x, y): ({x}, {y})&#39;)\r\n\r\nI can using numpy interp() function to get the output with Python. However, I want to implement the same thing with Java without using numpy.\r\n\r\nI have found the similar liner interp function named evaluate() in Java, I calculated the input x: 110, and the output was 251.40625. \r\n\r\nIt&#39;s not my expect value 384. I have no idea where is wrong.  \r\n\r\nHere&#39;s the Jave code:\r\n\r\n    public class Interp{\r\n    \r\n         public static void main(String[] args){\r\n            \r\n            float fraction = 0.078125f;  // 150/1920=0.078125f\r\n            float startValue = 110.0f;   // intput x\r\n            float endValue = 1920.0f;    // 0 to 1920     \r\n            \r\n            float aa = evaluate(fraction, startValue, endValue);\r\n            System.out.println(&quot;x: &quot; + aa);\r\n         \r\n        }\r\n        \r\n        public static Float evaluate(float fraction, Number startValue, Number endValue) {\r\n            float startFloat = startValue.floatValue();\r\n                return startFloat + fraction * (endValue.floatValue() - startFloat);\r\n            }\r\n    \r\n    }\r\n\r\n\r\nCould you help me or give me some idea to solve this problem? Thanks a lot!\r\n\r\n  [1]: https://i.stack.imgur.com/7sSDK.jpg","title":"How to convert a point from a small area to a big area in the same scale with Java?","body":"<p>I want to convert a point from a rectangle area  to a mapping rectangle area which convert point is in the same scale.</p>\n<p>For instance, the samll area has 4 points from (mx0, my0) to (mx3, my3), and the big area is from (x0, y0) to (x3, y3) .</p>\n<p>Now that can get the input (intput_x, intput_y) to get the output (x,y) as the follow:<br />\ninput (100, 100), get output (0, 0).<br />\ninput (150, 100), get output (1920, 0).<br />\ninput (100, 150), get output (0, 1080).<br />\ninput (150, 150), get output (19200, 1080).</p>\n<p>Assume the intput (intput_x, intput_y) = (110, 120), and the output (x, y) can get (384, 432).</p>\n<p>The described as the diagram: <a href=\"https://i.stack.imgur.com/7sSDK.jpg\" rel=\"nofollow noreferrer\">click me</a>.</p>\n<p>Here is the python code:</p>\n<pre><code>import numpy as np\n\ndef interp(x, xp, fp, is_loop_test=True):\n    if (is_loop_test==True):\n        for i in range(100, 151):\n            bb = np.interp(i, xp, fp)\n            print(f'{i}, bb: {bb}')\n            return bb\n    else:\n        return np.interp(x, xp, fp)\n\n\nif __name__ == '__main__':\n    \n    in_x, in_y = 110, 120\n\n    xp = (100, 150)\n    fp = (0, 1920)\n\n    yp = (100, 150)\n    fyp = (0, 1080)\n\n    x, y = interp(in_x, xp, fp, False), interp(in_y, yp, fyp, False)\n\n    print(f'(x, y): ({x}, {y})')\n</code></pre>\n<p>I can using numpy interp() function to get the output with Python. However, I want to implement the same thing with Java without using numpy.</p>\n<p>I have found the similar liner interp function named evaluate() in Java, I calculated the input x: 110, and the output was 251.40625.</p>\n<p>It's not my expect value 384. I have no idea where is wrong.</p>\n<p>Here's the Jave code:</p>\n<pre><code>public class Interp{\n\n     public static void main(String[] args){\n        \n        float fraction = 0.078125f;  // 150/1920=0.078125f\n        float startValue = 110.0f;   // intput x\n        float endValue = 1920.0f;    // 0 to 1920     \n        \n        float aa = evaluate(fraction, startValue, endValue);\n        System.out.println(&quot;x: &quot; + aa);\n     \n    }\n    \n    public static Float evaluate(float fraction, Number startValue, Number endValue) {\n        float startFloat = startValue.floatValue();\n            return startFloat + fraction * (endValue.floatValue() - startFloat);\n        }\n\n}\n</code></pre>\n<p>Could you help me or give me some idea to solve this problem? Thanks a lot!</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1639710208,"post_id":70387693,"comment_id":124424398,"body_markdown":"It looks like driver is null.  Make sure to call chromeDriverConnection().","body":"It looks like driver is null.  Make sure to call chromeDriverConnection()."}],"answers":[{"tags":[],"owner":{"account_id":15887052,"reputation":31,"user_id":11463133,"display_name":"Trần Đ&#236;nh Khanh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639709246,"creation_date":1639709246,"answer_id":70387874,"question_id":70387693,"body_markdown":"You tried \r\n\r\n```\r\nchromeDriverConnection();\r\nString mensaje = getText(homePath.txtMesajeExito);\r\nSystem.out.println(mensaje);\r\n```\r\nright? and can you show me see homePath.txtMesajeExito","title":"NullPointerException in POM Project","body":"<p>You tried</p>\n<pre><code>chromeDriverConnection();\nString mensaje = getText(homePath.txtMesajeExito);\nSystem.out.println(mensaje);\n</code></pre>\n<p>right? and can you show me see homePath.txtMesajeExito</p>\n"}],"owner":{"account_id":17188986,"reputation":17,"user_id":12443062,"display_name":"Juan Rebatta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639709246,"creation_date":1639707156,"question_id":70387693,"body_markdown":"I have two pages, in one everything is fine, but in the other I get **java.lang.NullPointerException**\r\n\r\nWhat is my mistake? Please help\r\n\r\nLoginPage.java  -  all good\r\n\r\n    package page;\r\n    \r\n    import Base.Base;;\r\n    import paths.LoginPath;\r\n    \r\n    public class LoginPage extends Base {\r\n    \r\n        LoginPath loginPath = new LoginPath();\r\n    \r\n        public void ingresarPagina(){\r\n            chromeDriverConnection();\r\n            visit(loginPath.url);\r\n            maximize();\r\n        }\r\n    \r\n        public void iniciarSesion(){\r\n            type(&quot;Qualityadmin&quot;, loginPath.txtUser);\r\n            type(&quot;pass1&quot;, loginPath.txtPass);\r\n        }\r\n    \r\n        public void clickEnBoton(){\r\n            click(loginPath.btnLogin);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHomePage.java - I tried placing the chromeDriverConnection() again, but I get the same error\r\n\r\n    package page;\r\n    \r\n    import Base.Base;\r\n    import paths.HomePath;\r\n    \r\n    \r\n    public class HomePage extends Base {\r\n    \r\n        HomePath homePath = new HomePath();\r\n    \r\n        public void mensajeExitoso() {\r\n            String mensaje = getText(homePath.txtMesajeExito);\r\n            System.out.println(mensaje);\r\n        }\r\n    }\r\n\r\n\r\nError\r\n    \r\n    java.lang.NullPointerException\r\n    \tat Base.Base.getText(Base.java:35)\r\n    \tat page.HomePage.mensajeExitoso(HomePage.java:12)\r\n    \tat step.HomeStep.mensajeExitoso(HomeStep.java:10)\r\n    \tat stepdefinition.HomeStepDefinition.seMuestraUnMensajeDeExito(HomeStepDefinition.java:11)\r\n    \tat ✽.se muestra un mensaje de exito(file:///D:/Project/aer/features/src/test/resources/features/formulario.feature:22)\r\n    \r\n    \r\n    Process finished with exit code -1\r\n\r\n\r\nBase.java - I don&#39;t think the error is in the Base class, but I put it anyway\r\n\r\nLine 35: return driver.findElement (locator) .getText ();\r\n\r\nWhen I put the mensajeExitoso() method in the LoginPage class everything goes fine \r\n\r\n    package Base;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class Base {\r\n    \r\n        public WebDriver driver;\r\n    \r\n        public Base(WebDriver driver){\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public Base() {\r\n    \r\n        }\r\n    \r\n        public WebDriver chromeDriverConnection() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./src/test/resources/drivers/chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n            return driver;\r\n        }\r\n    \r\n        public WebElement findElement(By locator){\r\n            return driver.findElement(locator);\r\n        }\r\n    \r\n        public String getText(WebElement element){\r\n            return element.getText();\r\n        }\r\n    \r\n        public String getText(By locator){\r\n            return driver.findElement(locator).getText();\r\n        }\r\n    \r\n        public void type(String inputText, By locator){\r\n            driver.findElement(locator).sendKeys(inputText);\r\n        }\r\n        public void iniciarSesion(String user, String pass){\r\n    \r\n        }\r\n    \r\n        public void click(By locator){\r\n            driver.findElement(locator).click();\r\n        }\r\n    \r\n        Double num1 = 20.00;\r\n        String num2 = num1.toString();\r\n    \r\n        public void visit(String url){\r\n            driver.get(url);\r\n        }\r\n    \r\n        public void isDisplayed(By locator){\r\n            driver.findElement(locator).isDisplayed();\r\n        }\r\n    \r\n        public void maximize(){\r\n            driver.manage().window().maximize();\r\n        }\r\n    \r\n    }\r\n","title":"NullPointerException in POM Project","body":"<p>I have two pages, in one everything is fine, but in the other I get <strong>java.lang.NullPointerException</strong></p>\n<p>What is my mistake? Please help</p>\n<p>LoginPage.java  -  all good</p>\n<pre><code>package page;\n\nimport Base.Base;;\nimport paths.LoginPath;\n\npublic class LoginPage extends Base {\n\n    LoginPath loginPath = new LoginPath();\n\n    public void ingresarPagina(){\n        chromeDriverConnection();\n        visit(loginPath.url);\n        maximize();\n    }\n\n    public void iniciarSesion(){\n        type(&quot;Qualityadmin&quot;, loginPath.txtUser);\n        type(&quot;pass1&quot;, loginPath.txtPass);\n    }\n\n    public void clickEnBoton(){\n        click(loginPath.btnLogin);\n    }\n\n\n}\n</code></pre>\n<p>HomePage.java - I tried placing the chromeDriverConnection() again, but I get the same error</p>\n<pre><code>package page;\n\nimport Base.Base;\nimport paths.HomePath;\n\n\npublic class HomePage extends Base {\n\n    HomePath homePath = new HomePath();\n\n    public void mensajeExitoso() {\n        String mensaje = getText(homePath.txtMesajeExito);\n        System.out.println(mensaje);\n    }\n}\n</code></pre>\n<p>Error</p>\n<pre><code>java.lang.NullPointerException\n    at Base.Base.getText(Base.java:35)\n    at page.HomePage.mensajeExitoso(HomePage.java:12)\n    at step.HomeStep.mensajeExitoso(HomeStep.java:10)\n    at stepdefinition.HomeStepDefinition.seMuestraUnMensajeDeExito(HomeStepDefinition.java:11)\n    at ✽.se muestra un mensaje de exito(file:///D:/Project/aer/features/src/test/resources/features/formulario.feature:22)\n\n\nProcess finished with exit code -1\n</code></pre>\n<p>Base.java - I don't think the error is in the Base class, but I put it anyway</p>\n<p>Line 35: return driver.findElement (locator) .getText ();</p>\n<p>When I put the mensajeExitoso() method in the LoginPage class everything goes fine</p>\n<pre><code>package Base;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Base {\n\n    public WebDriver driver;\n\n    public Base(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public Base() {\n\n    }\n\n    public WebDriver chromeDriverConnection() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./src/test/resources/drivers/chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        return driver;\n    }\n\n    public WebElement findElement(By locator){\n        return driver.findElement(locator);\n    }\n\n    public String getText(WebElement element){\n        return element.getText();\n    }\n\n    public String getText(By locator){\n        return driver.findElement(locator).getText();\n    }\n\n    public void type(String inputText, By locator){\n        driver.findElement(locator).sendKeys(inputText);\n    }\n    public void iniciarSesion(String user, String pass){\n\n    }\n\n    public void click(By locator){\n        driver.findElement(locator).click();\n    }\n\n    Double num1 = 20.00;\n    String num2 = num1.toString();\n\n    public void visit(String url){\n        driver.get(url);\n    }\n\n    public void isDisplayed(By locator){\n        driver.findElement(locator).isDisplayed();\n    }\n\n    public void maximize(){\n        driver.manage().window().maximize();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","nashorn","java-15"],"comments":[{"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"score":0,"creation_date":1639707861,"post_id":70387730,"comment_id":124424070,"body_markdown":"Thanks @tgdavies just found that thread as well and managed to solve this by adding that standalone implementation.","body":"Thanks @tgdavies just found that thread as well and managed to solve this by adding that standalone implementation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639707981,"post_id":70387730,"comment_id":124424080,"body_markdown":"I found that via your answer, but I think closing as duplicate is more helpful to SO generally.","body":"I found that via your answer, but I think closing as duplicate is more helpful to SO generally."}],"answers":[{"tags":[],"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639708914,"creation_date":1639707690,"answer_id":70387742,"question_id":70387730,"body_markdown":"Found the following similar thread https://stackoverflow.com/questions/66061017/different-nashorn-engine-for-java-15-and-15 which pointed me to standalone implementation which can be added as a test dependency: \r\n\r\n```\r\ntestImplementation &#39;org.openjdk.nashorn:nashorn-core:15.2&#39;\r\n```\r\n\r\nAnd then instantiated as follows: \r\n\r\n```\r\nfinal NashornScriptEngine scriptEngine = (NashornScriptEngine) new NashornScriptEngineFactory().getScriptEngine();\r\n```","title":"Javascript Validation in Java 15+ JUnit Test","body":"<p>Found the following similar thread <a href=\"https://stackoverflow.com/questions/66061017/different-nashorn-engine-for-java-15-and-15\">Different Nashorn engine for Java &lt; 15 and &gt;= 15?</a> which pointed me to standalone implementation which can be added as a test dependency:</p>\n<pre><code>testImplementation 'org.openjdk.nashorn:nashorn-core:15.2'\n</code></pre>\n<p>And then instantiated as follows:</p>\n<pre><code>final NashornScriptEngine scriptEngine = (NashornScriptEngine) new NashornScriptEngineFactory().getScriptEngine();\n</code></pre>\n"}],"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639707881,"answer_count":1,"score":0,"last_activity_date":1639708914,"creation_date":1639707593,"question_id":70387730,"body_markdown":"Now that Nashorn has been deprecated &amp; removed in [JDK 15](https://openjdk.java.net/jeps/372) what is the best approach to validate that a String is valid Javascript in a JUnit test?\r\n\r\nPrevious Code: \r\n\r\n```\r\n\tprivate void validateJavascript(final String js) throws ScriptException {\r\n\t\tfinal NashornScriptEngine scriptEngine = (NashornScriptEngine) new NashornScriptEngineFactory().getScriptEngine();\r\n\t\tfinal CompiledScript compile = scriptEngine.compile(js);\r\n\t}\r\n```\r\n\r\n ","title":"Javascript Validation in Java 15+ JUnit Test","body":"<p>Now that Nashorn has been deprecated &amp; removed in <a href=\"https://openjdk.java.net/jeps/372\" rel=\"nofollow noreferrer\">JDK 15</a> what is the best approach to validate that a String is valid Javascript in a JUnit test?</p>\n<p>Previous Code:</p>\n<pre><code>    private void validateJavascript(final String js) throws ScriptException {\n        final NashornScriptEngine scriptEngine = (NashornScriptEngine) new NashornScriptEngineFactory().getScriptEngine();\n        final CompiledScript compile = scriptEngine.compile(js);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1639708797,"post_id":70387634,"comment_id":124424195,"body_markdown":"Are you talking about inspecting variables in the debugger when your application is paused for debugging? I don&#39;t understand what you mean by &quot;I can evaluate the &quot;c&quot; and other variable&quot;.","body":"Are you talking about inspecting variables in the debugger when your application is paused for debugging? I don&#39;t understand what you mean by &quot;I can evaluate the &quot;c&quot; and other variable&quot;."},{"owner":{"account_id":4397231,"reputation":11,"user_id":3583856,"display_name":"asl"},"score":0,"creation_date":1639709472,"post_id":70387634,"comment_id":124424278,"body_markdown":"yeah, “c” is not in this method stack, thanks for YWNKM\nchoose corresponding method stack in frames window,then it can show the variable &quot;c&quot;","body":"yeah, “c” is not in this method stack, thanks for YWNKM choose corresponding method stack in frames window,then it can show the variable &quot;c&quot;"}],"owner":{"account_id":4397231,"reputation":11,"user_id":3583856,"display_name":"asl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1639708569,"creation_date":1639706586,"question_id":70387634,"body_markdown":"\r\nwhen I use debug mode\r\n\r\nIn java code, if breakpoint in first &quot;call&quot; function code &quot;int j = 0&quot;, I can evaluate variable&#39;c&#39; = 11.\r\n\r\nbut in &quot;call&quot; lambda function code &quot;int j = 0&quot;, I cant evaluate variable&#39;c&#39;.\r\n\r\nIf I use the similar code in Kotlin， neither object or lambda argument evaluate the variable &#39;c&#39;.\r\n\r\nI want to use kotlin code replace java code in my project,but this phenomenon make me anxious. consider this scene: a code is running ,but sometimes one state is unexpected, I want to know some variable&#39;s value to infer the cause,like&#39;c&#39;(I expected c = 11,but in fact,maby c = 5, c is not used in &quot;invoke&quot; function, something was happened with c), but it looks like impossible\r\n\r\nIf in java code, like clickListener, I can click to trigger &quot;invoke()&quot; as onClick() function, then I can evaluate the &quot;c&quot; and other variable, then I can infer something. But in kotlin, I cant evaluate &quot;c&quot; if i never used &quot;c&quot; in function. I only know what happened in &quot;invoke()&quot;, no way to know outside situtation in this moment.\r\n\r\nwhat should I do ?(maby, android studio can not support kotlin very well like java?)\r\n\r\n\r\njava code \r\n```\r\npublic class TTTE {\r\n\r\n    int c = 11;\r\n\r\n    @Test\r\n    public void ttt(){\r\n        call(new Inc(){\r\n             public void invoke(int t) {\r\n                int j = 0;\r\n            }\r\n        });\r\n        call(t-&gt;{\r\n\r\n            int j = 0;\r\n        });\r\n    }\r\n    \r\n    private void call(Inc arg) {\r\n        arg.invoke(1);\r\n    }\r\n\r\n    public interface Inc{\r\n        public void invoke(int t);\r\n    }\r\n}\r\n```\r\n\r\nkotlin code\r\n```\r\nclass EnvTT  {\r\n\r\n    var c = 0\r\n\r\n    @Test\r\n    fun ttt(){\r\n        var dd = 0\r\n        val jj = 13\r\n        call(object: Inc{\r\n            override fun invoke() {\r\n                var j = 0\r\n            }\r\n        })\r\n    }\r\n\r\n    private fun call(arg: Inc) {\r\n        arg.invoke()\r\n    }\r\n\r\n    interface Inc{\r\n        fun invoke()\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\next.kotlin_version = &quot;1.5.30&quot;\r\n\r\nclasspath &quot;com.android.tools.build:gradle:4.2.2&quot;\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.0&quot;\r\n\r\nAndroid Studio Arctic Fox | 2020.3.1 Patch 3\r\n```\r\n","title":"java-lambda-Unresolved reference: variable; kotlin-&#39;variable&#39; is not captured","body":"<p>when I use debug mode</p>\n<p>In java code, if breakpoint in first &quot;call&quot; function code &quot;int j = 0&quot;, I can evaluate variable'c' = 11.</p>\n<p>but in &quot;call&quot; lambda function code &quot;int j = 0&quot;, I cant evaluate variable'c'.</p>\n<p>If I use the similar code in Kotlin， neither object or lambda argument evaluate the variable 'c'.</p>\n<p>I want to use kotlin code replace java code in my project,but this phenomenon make me anxious. consider this scene: a code is running ,but sometimes one state is unexpected, I want to know some variable's value to infer the cause,like'c'(I expected c = 11,but in fact,maby c = 5, c is not used in &quot;invoke&quot; function, something was happened with c), but it looks like impossible</p>\n<p>If in java code, like clickListener, I can click to trigger &quot;invoke()&quot; as onClick() function, then I can evaluate the &quot;c&quot; and other variable, then I can infer something. But in kotlin, I cant evaluate &quot;c&quot; if i never used &quot;c&quot; in function. I only know what happened in &quot;invoke()&quot;, no way to know outside situtation in this moment.</p>\n<p>what should I do ?(maby, android studio can not support kotlin very well like java?)</p>\n<p>java code</p>\n<pre><code>public class TTTE {\n\n    int c = 11;\n\n    @Test\n    public void ttt(){\n        call(new Inc(){\n             public void invoke(int t) {\n                int j = 0;\n            }\n        });\n        call(t-&gt;{\n\n            int j = 0;\n        });\n    }\n    \n    private void call(Inc arg) {\n        arg.invoke(1);\n    }\n\n    public interface Inc{\n        public void invoke(int t);\n    }\n}\n</code></pre>\n<p>kotlin code</p>\n<pre><code>class EnvTT  {\n\n    var c = 0\n\n    @Test\n    fun ttt(){\n        var dd = 0\n        val jj = 13\n        call(object: Inc{\n            override fun invoke() {\n                var j = 0\n            }\n        })\n    }\n\n    private fun call(arg: Inc) {\n        arg.invoke()\n    }\n\n    interface Inc{\n        fun invoke()\n    }\n}\n</code></pre>\n<pre><code>ext.kotlin_version = &quot;1.5.30&quot;\n\nclasspath &quot;com.android.tools.build:gradle:4.2.2&quot;\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.0&quot;\n\nAndroid Studio Arctic Fox | 2020.3.1 Patch 3\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1500887535,"post_id":45276410,"comment_id":77515420,"body_markdown":"This sounds like a strange setup. If your code does not have direct access to the database, why should it create the SQL statements? Shouldn&#39;t it be enough to update the XML and have the code accessing the database doing the SQL stuff?","body":"This sounds like a strange setup. If your code does not have direct access to the database, why should it create the SQL statements? Shouldn&#39;t it be enough to update the XML and have the code accessing the database doing the SQL stuff?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1500887882,"post_id":45276410,"comment_id":77515672,"body_markdown":"@TimothyTruckle Well, I am not the one who dumps the query into the database. The person who is going to run the query, may or may not know Java and she may or may not know much about coding either. She might just simply copy the query and run the query in some GUI SQL program. Or... simply put, my task here is to rip all the data from a huge amount of CSVs and make the data into a huge INSERT query, Java is just my chosen tool for automation. You got any better ideas?","body":"@TimothyTruckle Well, I am not the one who dumps the query into the database. The person who is going to run the query, may or may not know Java and she may or may not know much about coding either. She might just simply copy the query and run the query in some GUI SQL program. Or... simply put, my task here is to rip all the data from a huge amount of CSVs and make the data into a huge INSERT query, Java is just my chosen tool for automation. You got any better ideas?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1500888069,"post_id":45276410,"comment_id":77515791,"body_markdown":"Possible duplicate of [Escaping SQL Strings in Java](https://stackoverflow.com/questions/10522257/escaping-sql-strings-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10522257/escaping-sql-strings-in-java\">Escaping SQL Strings in Java</a>"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1500888451,"post_id":45276410,"comment_id":77516072,"body_markdown":"This means you problem is an undefined/broken workflow which you have to bypass with a solution that is broken by design. I&#39;d try to sell my customer an additional program connected to the database where the end user can drag and drop the XML file to that does the SQL stuff.","body":"This means you problem is an undefined/broken workflow which you have to bypass with a solution that is broken by design. I&#39;d try to sell my customer an additional program connected to the database where the end user can drag and drop the XML file to that does the SQL stuff."},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1500888788,"post_id":45276410,"comment_id":77516301,"body_markdown":"@OHGODSPIDERS The thing is... with MySQL, there are two styles of escaping special characters - the double character style and the slash style. May be I&#39;d just write a string manipulating method and add slashes accordingly?","body":"@OHGODSPIDERS The thing is... with MySQL, there are two styles of escaping special characters - the double character style and the slash style. May be I&#39;d just write a string manipulating method and add slashes accordingly?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1500889282,"post_id":45276410,"comment_id":77516667,"body_markdown":"@TimothyTruckle Hmmm.... yes and no... I won&#39;t entirely agree so. May be you are assuming things too perfectly... and may be you have a MS SQL background instead of a MySQL one. First of all, I am not doing this for my client. I am doing this for internal use. Secondly, this operation is going to be done a few times in a year, except there are loads of files each time. Thirdly, I am not the one who manage the database. I am just doing so because my boss said I should help with any automation. Lastly, I think inserting XMLs directly to MySQL directly can be a mess. Why not just insert SQLs?","body":"@TimothyTruckle Hmmm.... yes and no... I won&#39;t entirely agree so. May be you are assuming things too perfectly... and may be you have a MS SQL background instead of a MySQL one. First of all, I am not doing this for my client. I am doing this for internal use. Secondly, this operation is going to be done a few times in a year, except there are loads of files each time. Thirdly, I am not the one who manage the database. I am just doing so because my boss said I should help with any automation. Lastly, I think inserting XMLs directly to MySQL directly can be a mess. Why not just insert SQLs?"}],"answers":[{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500904135,"creation_date":1500904135,"answer_id":45282374,"question_id":45276410,"body_markdown":"You can use the designated [Special Character Escape Sequences][1] for MySQL\r\n\r\n    Escape Sequence\tCharacter Represented by Sequence\r\n    \\0\tAn ASCII NUL (X&#39;00&#39;) character\r\n    \\&#39;\tA single quote (&#39;) character\r\n    \\&quot;\tA double quote (&quot;) character\r\n    \\b\tA backspace character\r\n    \\n\tA newline (linefeed) character\r\n    \\r\tA carriage return character\r\n    \\t\tA tab character\r\n    \\Z\tASCII 26 (Control+Z); see note following the table\r\n    \\\\\tA backslash (\\) character\r\n    \\%\tA % character; see note following the table\r\n    \\_\tA _ character; see note following the table\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/string-literals.html","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>You can use the designated <a href=\"https://dev.mysql.com/doc/refman/5.7/en/string-literals.html\" rel=\"nofollow noreferrer\">Special Character Escape Sequences</a> for MySQL</p>\n\n<pre><code>Escape Sequence Character Represented by Sequence\n\\0  An ASCII NUL (X'00') character\n\\'  A single quote (') character\n\\\"  A double quote (\") character\n\\b  A backspace character\n\\n  A newline (linefeed) character\n\\r  A carriage return character\n\\t  A tab character\n\\Z  ASCII 26 (Control+Z); see note following the table\n\\\\  A backslash (\\) character\n\\%  A % character; see note following the table\n\\_  A _ character; see note following the table\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1500962149,"creation_date":1500962149,"answer_id":45294943,"question_id":45276410,"body_markdown":"It seems like there isn&#39;t any existing lib/framework out there that does such thing. So I guess a simple `String` manipulator will do? \r\n\r\n    class xxx {\r\n\r\n\t    private String escapeStringForMySQL(String s) {\r\n    \t\treturn s.replaceAll(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)\r\n                    .replaceAll(&quot;\\b&quot;,&quot;\\\\b&quot;)\r\n                    .replaceAll(&quot;\\n&quot;,&quot;\\\\n&quot;)\r\n                    .replaceAll(&quot;\\r&quot;, &quot;\\\\r&quot;)\r\n                    .replaceAll(&quot;\\t&quot;, &quot;\\\\t&quot;)\r\n                    .replaceAll(&quot;\\\\x1A&quot;, &quot;\\\\Z&quot;)\r\n                    .replaceAll(&quot;\\\\x00&quot;, &quot;\\\\0&quot;)\r\n                    .replaceAll(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;)\r\n                    .replaceAll(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n    \t}\r\n\t\r\n    \tprivate String escapeWildcardsForMySQL(String s) {\r\n    \t\treturn escapeStringForMySQL(s)\r\n    \t\t\t\t.replaceAll(&quot;%&quot;, &quot;\\\\%&quot;)\r\n                    .replaceAll(&quot;_&quot;,&quot;\\\\_&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>It seems like there isn't any existing lib/framework out there that does such thing. So I guess a simple <code>String</code> manipulator will do? </p>\n\n<pre><code>class xxx {\n\n    private String escapeStringForMySQL(String s) {\n        return s.replaceAll(\"\\\\\", \"\\\\\\\\\")\n                .replaceAll(\"\\b\",\"\\\\b\")\n                .replaceAll(\"\\n\",\"\\\\n\")\n                .replaceAll(\"\\r\", \"\\\\r\")\n                .replaceAll(\"\\t\", \"\\\\t\")\n                .replaceAll(\"\\\\x1A\", \"\\\\Z\")\n                .replaceAll(\"\\\\x00\", \"\\\\0\")\n                .replaceAll(\"'\", \"\\\\'\")\n                .replaceAll(\"\\\"\", \"\\\\\\\"\");\n    }\n\n    private String escapeWildcardsForMySQL(String s) {\n        return escapeStringForMySQL(s)\n                .replaceAll(\"%\", \"\\\\%\")\n                .replaceAll(\"_\",\"\\\\_\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4196943,"reputation":19,"user_id":3438137,"display_name":"user3438137"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510841671,"creation_date":1510841671,"answer_id":47331910,"question_id":45276410,"body_markdown":"Try [StringEscapeUtils.escapeSql()][1]\r\nThis will do what you are expecting. \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/index.html?org/apache/commons/lang/StringEscapeUtils.html","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>Try <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/index.html?org/apache/commons/lang/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils.escapeSql()</a>\nThis will do what you are expecting. </p>\n"},{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575988163,"creation_date":1575988163,"answer_id":59269489,"question_id":45276410,"body_markdown":"You could be using [OWASP&#39;s ESAPI](https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.md) which was designed for this very purpose. It has MySQL codec.","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>You could be using <a href=\"https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.md\" rel=\"nofollow noreferrer\">OWASP's ESAPI</a> which was designed for this very purpose. It has MySQL codec.</p>\n"},{"tags":[],"owner":{"account_id":7015572,"reputation":518,"user_id":5377042,"display_name":"Uchephilz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576495340,"creation_date":1576495340,"answer_id":59355640,"question_id":45276410,"body_markdown":"I used org.apache.commons.lang3.StringEscapeUtils.escapeHtml4(input);\r\n\r\nYou can check the documentation here\r\n[String Escape Util (Commons Lang 3.1 API)][1]\r\n\r\n\r\n&gt; public static final String escapeHtml4(String input) Escapes the\r\n&gt; characters in a String using HTML entities.\r\n&gt; \r\n&gt; For example:\r\n&gt; \r\n&gt; &quot;bread&quot; &amp; &quot;butter&quot;\r\n&gt; \r\n&gt; becomes: `&amp;quot;bread&amp;quot; &amp;amp; &amp;quot;butter&amp;quot;.`\r\n&gt; \r\n&gt; Supports all known HTML 4.0 entities, including funky accents. Note\r\n&gt; that the commonly used apostrophe escape character (&amp;apos;) is not a\r\n&gt; legal entity and so is not supported).\r\n&gt; \r\n&gt; Parameters: input - the String to escape, may be null Returns: a new\r\n&gt; escaped String, null if null string input Since:\r\n&gt; 3.0\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>I used org.apache.commons.lang3.StringEscapeUtils.escapeHtml4(input);</p>\n\n<p>You can check the documentation here\n<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">String Escape Util (Commons Lang 3.1 API)</a></p>\n\n<blockquote>\n  <p>public static final String escapeHtml4(String input) Escapes the\n  characters in a String using HTML entities.</p>\n  \n  <p>For example:</p>\n  \n  <p>\"bread\" &amp; \"butter\"</p>\n  \n  <p>becomes: <code>&amp;quot;bread&amp;quot; &amp;amp; &amp;quot;butter&amp;quot;.</code></p>\n  \n  <p>Supports all known HTML 4.0 entities, including funky accents. Note\n  that the commonly used apostrophe escape character (&apos;) is not a\n  legal entity and so is not supported).</p>\n  \n  <p>Parameters: input - the String to escape, may be null Returns: a new\n  escaped String, null if null string input Since:\n  3.0</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3681393,"reputation":321,"user_id":3066271,"display_name":"Sinri Edogawa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639708343,"creation_date":1639708343,"answer_id":70387798,"question_id":45276410,"body_markdown":"````java\r\npackage io.github.sinri.Keel.test.mysql;\r\n\r\npublic class MySQLTest {\r\n    public static void main(String[] args) {\r\n        StringBuilder sb=new StringBuilder();\r\n        sb.append(&#39;\\0&#39;).append(&#39;\\&#39;&#39;).append(&#39;&quot;&#39;).append(&#39;\\b&#39;).append(&#39;\\n&#39;).append(&#39;\\t&#39;).append(&#39;\\r&#39;)\r\n                .append(Character.toChars(26)).append(&#39;\\\\&#39;).append(&#39;_&#39;).append(&#39;%&#39;);\r\n\r\n        String raw=sb.toString();\r\n        System.out.println(&quot;raw: &quot;+raw);\r\n        System.out.println(&quot;escapeStringForMySQL: &quot;+escapeStringForMySQL(raw));\r\n        System.out.println(&quot;escapeWildcardsForMySQL: &quot;+escapeWildcardsForMySQL(raw));\r\n\r\n    }\r\n\r\n    private static String escapeStringForMySQL(String s) {\r\n        return s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)\r\n                .replace(&quot;\\b&quot;,&quot;\\\\b&quot;)\r\n                .replace(&quot;\\n&quot;,&quot;\\\\n&quot;)\r\n                .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\r\n                .replace(&quot;\\t&quot;, &quot;\\\\t&quot;)\r\n                .replace(new String(Character.toChars(26)), &quot;\\\\Z&quot;)\r\n                .replace(new String(Character.toChars(0)), &quot;\\\\0&quot;)\r\n                .replace(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;)\r\n                .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n    }\r\n\r\n    private static String escapeWildcardsForMySQL(String s) {\r\n        return escapeStringForMySQL(s)\r\n                .replace(&quot;%&quot;, &quot;\\\\%&quot;)\r\n                .replace(&quot;_&quot;,&quot;\\\\_&quot;);\r\n    }\r\n}\r\n\r\n````\r\n\r\n","title":"Escape MySQL strings in Java... without prepared statements","body":"<pre class=\"lang-java prettyprint-override\"><code>package io.github.sinri.Keel.test.mysql;\n\npublic class MySQLTest {\n    public static void main(String[] args) {\n        StringBuilder sb=new StringBuilder();\n        sb.append('\\0').append('\\'').append('&quot;').append('\\b').append('\\n').append('\\t').append('\\r')\n                .append(Character.toChars(26)).append('\\\\').append('_').append('%');\n\n        String raw=sb.toString();\n        System.out.println(&quot;raw: &quot;+raw);\n        System.out.println(&quot;escapeStringForMySQL: &quot;+escapeStringForMySQL(raw));\n        System.out.println(&quot;escapeWildcardsForMySQL: &quot;+escapeWildcardsForMySQL(raw));\n\n    }\n\n    private static String escapeStringForMySQL(String s) {\n        return s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)\n                .replace(&quot;\\b&quot;,&quot;\\\\b&quot;)\n                .replace(&quot;\\n&quot;,&quot;\\\\n&quot;)\n                .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\n                .replace(&quot;\\t&quot;, &quot;\\\\t&quot;)\n                .replace(new String(Character.toChars(26)), &quot;\\\\Z&quot;)\n                .replace(new String(Character.toChars(0)), &quot;\\\\0&quot;)\n                .replace(&quot;'&quot;, &quot;\\\\'&quot;)\n                .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n    }\n\n    private static String escapeWildcardsForMySQL(String s) {\n        return escapeStringForMySQL(s)\n                .replace(&quot;%&quot;, &quot;\\\\%&quot;)\n                .replace(&quot;_&quot;,&quot;\\\\_&quot;);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9760,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":45294943,"answer_count":6,"score":5,"last_activity_date":1639708343,"creation_date":1500887094,"question_id":45276410,"body_markdown":"I am looking for a way to escape strings for MySQL queries with Java.\r\n\r\nBut WAIT, before some of you jump straight away to the conclusion of &quot;prepared statements&quot;, I wish to explain a little more. \r\n\r\nThe problem is, I don&#39;t have a MySQL connection. I am not executing any MySQL queries directly from Java. I don&#39;t know much about prepared statement, but AFAIK, prepared statements need a live connection to work. \r\n\r\nI want to my code to read in a bunch of CSV/XLS files, get the data and then generate a huge INSERT query for MySQL. BUT this query will be stored in a text file for now. It won&#39;t execute just yet until someone gives the green light and dump this text file into the database. \r\n\r\nIs there an easy way to do so without employing an overkill framework/library? Thank you all. \r\n","title":"Escape MySQL strings in Java... without prepared statements","body":"<p>I am looking for a way to escape strings for MySQL queries with Java.</p>\n\n<p>But WAIT, before some of you jump straight away to the conclusion of \"prepared statements\", I wish to explain a little more. </p>\n\n<p>The problem is, I don't have a MySQL connection. I am not executing any MySQL queries directly from Java. I don't know much about prepared statement, but AFAIK, prepared statements need a live connection to work. </p>\n\n<p>I want to my code to read in a bunch of CSV/XLS files, get the data and then generate a huge INSERT query for MySQL. BUT this query will be stored in a text file for now. It won't execute just yet until someone gives the green light and dump this text file into the database. </p>\n\n<p>Is there an easy way to do so without employing an overkill framework/library? Thank you all. </p>\n"},{"tags":["java","audio","export"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1468361582,"post_id":38339542,"comment_id":64093848,"body_markdown":"I have no direct knowledge of how the audio subsystem works, but from the stack trace it would appear that `AudioSystem.getAudioInputStream(...)` wants something that supports mark/reset, but the concrete class returned by `getResourceAsStream` does not support it.  Are you running this out of a jar file where the sound is also in the jar file?  That might not be allowed since a jar (zip) member is probably read-forwards only and highly unlikely to support seeking.","body":"I have no direct knowledge of how the audio subsystem works, but from the stack trace it would appear that <code>AudioSystem.getAudioInputStream(...)</code> wants something that supports mark/reset, but the concrete class returned by <code>getResourceAsStream</code> does not support it.  Are you running this out of a jar file where the sound is also in the jar file?  That might not be allowed since a jar (zip) member is probably read-forwards only and highly unlikely to support seeking."},{"owner":{"account_id":1965763,"reputation":19,"user_id":1766089,"display_name":"user1766089"},"score":0,"creation_date":1468362282,"post_id":38339542,"comment_id":64094047,"body_markdown":"The sounds are in the Resources package as .wav and .mp3 files. Does that affect it?","body":"The sounds are in the Resources package as .wav and .mp3 files. Does that affect it?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1468362367,"post_id":38339542,"comment_id":64094077,"body_markdown":"The key is whether the whole thing (code and sounds) are packaged into a jar file and you&#39;re running it with `java -jar filename.jar`.  If that&#39;s true you may need to copy the sound files to temporary files on disk.","body":"The key is whether the whole thing (code and sounds) are packaged into a jar file and you&#39;re running it with <code>java -jar filename.jar</code>.  If that&#39;s true you may need to copy the sound files to temporary files on disk."},{"owner":{"account_id":1965763,"reputation":19,"user_id":1766089,"display_name":"user1766089"},"score":0,"creation_date":1468363236,"post_id":38339542,"comment_id":64094355,"body_markdown":"I exported this game as a Java jar and I just run in from the desktop and when I open it, it has the files but should I export it differently?","body":"I exported this game as a Java jar and I just run in from the desktop and when I open it, it has the files but should I export it differently?"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468365479,"creation_date":1468362967,"answer_id":38339938,"question_id":38339542,"body_markdown":"From the Javadoc (my hilighting):\r\n\r\n&gt;     public static AudioInputStream getAudioInputStream(InputStream stream)\r\n                                            throws UnsupportedAudioFileException,\r\n                                                   IOException\r\n\r\n&gt;Obtains an audio input stream from the provided input stream. The stream must point to valid audio file data. ***The implementation of this method may require multiple parsers to examine the stream to determine whether they support it. These parsers must be able to mark the stream, read enough data to determine whether they support the stream, and, if not, reset the stream&#39;s read pointer to its original position. If the input stream does not support these operation, this method may fail with an IOException.***\r\n\r\nYou appear to be running from a jar file that contains both the code and the sound files.  The `InputStream` returned from `getResourceAsStream()` will not work as it will be backed (or implemented) by a `ZipInputStream`, which treats `mark()` as a no-op, and throws an `IOException` for `reset()`.\r\n\r\nTo solve the problem you should only need to wrap the input stream in a `BufferedInputStream`.\r\n\r\n    AudioInputStream ais =\r\n        AudioSystem.getAudioInputStream(\r\n            new BufferedInputStream(\r\n                JukeBox.class.getResourceAsStream(s)\r\n            )\r\n        };\r\n","title":"java.io.IOException: mark/reset not supported","body":"<p>From the Javadoc (my hilighting):</p>\n\n<blockquote>\n<pre><code>public static AudioInputStream getAudioInputStream(InputStream stream)\n                                        throws UnsupportedAudioFileException,\n                                               IOException\n</code></pre>\n  \n  <p>Obtains an audio input stream from the provided input stream. The stream must point to valid audio file data. <strong><em>The implementation of this method may require multiple parsers to examine the stream to determine whether they support it. These parsers must be able to mark the stream, read enough data to determine whether they support the stream, and, if not, reset the stream's read pointer to its original position. If the input stream does not support these operation, this method may fail with an IOException.</em></strong></p>\n</blockquote>\n\n<p>You appear to be running from a jar file that contains both the code and the sound files.  The <code>InputStream</code> returned from <code>getResourceAsStream()</code> will not work as it will be backed (or implemented) by a <code>ZipInputStream</code>, which treats <code>mark()</code> as a no-op, and throws an <code>IOException</code> for <code>reset()</code>.</p>\n\n<p>To solve the problem you should only need to wrap the input stream in a <code>BufferedInputStream</code>.</p>\n\n<pre><code>AudioInputStream ais =\n    AudioSystem.getAudioInputStream(\n        new BufferedInputStream(\n            JukeBox.class.getResourceAsStream(s)\n        )\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1965763,"reputation":19,"user_id":1766089,"display_name":"user1766089"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468364106,"creation_date":1468364106,"answer_id":38340108,"question_id":38339542,"body_markdown":"Thank you everyone for your help but I&#39;ve figured out that only .mp3 files work and not anything else as it does not process and encode them properly. I knew it was something easy like that and I don&#39;t yet have the ability to make it take any kind of sound files so I&#39;ll just leave this here for people who have the same problem and haven&#39;t thought of the easiest answer which took me a long while to figure out.\r\nThank you!","title":"java.io.IOException: mark/reset not supported","body":"<p>Thank you everyone for your help but I've figured out that only .mp3 files work and not anything else as it does not process and encode them properly. I knew it was something easy like that and I don't yet have the ability to make it take any kind of sound files so I'll just leave this here for people who have the same problem and haven't thought of the easiest answer which took me a long while to figure out.\nThank you!</p>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639707908,"creation_date":1639707908,"answer_id":70387757,"question_id":38339542,"body_markdown":"@Jim Garrison gives a good analysis of the issues involved. But a cleaner solution is to use `getResource()` instead of `getResourceAsStream()`. With this, there is no need for a wrapping class.\r\n\r\nIn the Javadocs for `AudioSystem.getAudioInputStream()` there are multiple entries, each with a different input parameter.\r\n\r\n- [getAudioInputStream(File file)][1]\r\nA `File` as an input is not a good choice, because files can&#39;t be specified within a jar.\r\n\r\n- [getAudioInputStream(InputStream inputStream)][2]\r\nIf an `InputStream` is the argument, we have a warning that the `mark` and `reset` operations on the stream have to be supported (my highlight):\r\n\r\n&gt; Obtains an audio input stream from the provided input stream. The\r\n&gt; stream must point to valid audio file data. The implementation of this\r\n&gt; method may require multiple parsers to examine the stream to determine\r\n&gt; whether they support it. **These parsers must be able to mark the\r\n&gt; stream, read enough data to determine whether they support the stream,\r\n&gt; and reset the stream&#39;s read pointer to its original position.** If the\r\n&gt; input stream does not support these operation, this method may fail\r\n&gt; with an IOException.\r\n\r\n- [getAudioInputStream(URL url)][3]\r\nWith the `URL` as the argument, the comment is simply the following line, with no warnings about *mark/reset*.\r\n\r\n&gt; Obtains an audio input stream from the URL provided. The URL must\r\n&gt; point to valid audio file data.\r\n\r\nThus, for a `wav` resource, the following should work:\r\n\r\n    URL url = Jukebox.class.getResource(s);\r\n    AudioInputStream = AudioSystem.getAudioInputStream(url);\r\n\r\nI don&#39;t know how you were able to bring in `mp3` files. They are not supported by `javax.sound.sampled`. Perhaps they worked for you because you employed a library for decoding `mp3` files as an intermediary step?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.File)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)","title":"java.io.IOException: mark/reset not supported","body":"<p>@Jim Garrison gives a good analysis of the issues involved. But a cleaner solution is to use <code>getResource()</code> instead of <code>getResourceAsStream()</code>. With this, there is no need for a wrapping class.</p>\n<p>In the Javadocs for <code>AudioSystem.getAudioInputStream()</code> there are multiple entries, each with a different input parameter.</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.File)\" rel=\"nofollow noreferrer\">getAudioInputStream(File file)</a>\nA <code>File</code> as an input is not a good choice, because files can't be specified within a jar.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">getAudioInputStream(InputStream inputStream)</a>\nIf an <code>InputStream</code> is the argument, we have a warning that the <code>mark</code> and <code>reset</code> operations on the stream have to be supported (my highlight):</p>\n</li>\n</ul>\n<blockquote>\n<p>Obtains an audio input stream from the provided input stream. The\nstream must point to valid audio file data. The implementation of this\nmethod may require multiple parsers to examine the stream to determine\nwhether they support it. <strong>These parsers must be able to mark the\nstream, read enough data to determine whether they support the stream,\nand reset the stream's read pointer to its original position.</strong> If the\ninput stream does not support these operation, this method may fail\nwith an IOException.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)\" rel=\"nofollow noreferrer\">getAudioInputStream(URL url)</a>\nWith the <code>URL</code> as the argument, the comment is simply the following line, with no warnings about <em>mark/reset</em>.</li>\n</ul>\n<blockquote>\n<p>Obtains an audio input stream from the URL provided. The URL must\npoint to valid audio file data.</p>\n</blockquote>\n<p>Thus, for a <code>wav</code> resource, the following should work:</p>\n<pre><code>URL url = Jukebox.class.getResource(s);\nAudioInputStream = AudioSystem.getAudioInputStream(url);\n</code></pre>\n<p>I don't know how you were able to bring in <code>mp3</code> files. They are not supported by <code>javax.sound.sampled</code>. Perhaps they worked for you because you employed a library for decoding <code>mp3</code> files as an intermediary step?</p>\n"}],"owner":{"account_id":1965763,"reputation":19,"user_id":1766089,"display_name":"user1766089"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1639707908,"creation_date":1468360805,"question_id":38339542,"body_markdown":"I know this has been asked a ton of times but it&#39;s different in some scenarios so I can&#39;t figure it out. When I run my game in Eclipse, everything is going smoothly and the game runs perfectly but after I export it, it collapses. I can open the game and move around in the menu but no sounds are playing and after I hit play, the game just freezes and it gives me this error with cmd (I can paste any class necessary but hopefully just the Audio class is necessary):\r\n\r\n    java.io.IOException: mark/reset not supported\r\n        at java.util.zip.InflaterInputStream.reset(Unknown Source)\r\n        at java.io.FilterInputStream.reset(Unknown Source)\r\n        at com.sun.media.sound.SoftMidiAudioFileReader.getAudioInputStream(Unknown Source)\r\n        at javax.sound.sampled.AudioSystem.getAudioInputStream(Unknown Source)\r\n        at com.neet.Audio.JukeBox.load(JukeBox.java:26)\r\n        at com.neet.GameState.IntroState.&lt;init&gt;(IntroState.java:28)\r\n        at com.neet.GameState.GameStateManager.loadState(GameStateManager.java:48)\r\n        at com.neet.GameState.GameStateManager.setState(GameStateManager.java:72)\r\n        at com.neet.GameState.GameStateManager.&lt;init&gt;(GameStateManager.java:31)\r\n        at com.neet.Main.GamePanel.init(GamePanel.java:70)\r\n        at com.neet.Main.GamePanel.run(GamePanel.java:75)\r\n        at java.lang.Thread.run(Unknown Source)\r\n\r\nAnd here is the Audio class: `\r\n\r\n    package com.neet.Audio;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    \r\n    public class JukeBox {\r\n    \t\r\n    \tprivate static HashMap&lt;String, Clip&gt; clips;\r\n    \tprivate static int gap;\r\n    \tprivate static boolean mute = false;\r\n    \t\r\n    \tpublic static void init() {\r\n    \t\tclips = new HashMap&lt;String, Clip&gt;();\r\n    \t\tgap = 0;\r\n    \t}\r\n    \t\r\n    \tpublic static void load(String s, String n) {\r\n    \t\tif(clips.get(n) != null) return;\r\n    \t\tClip clip;\r\n    \t\ttry {\t\t\t\r\n    \t\t\tAudioInputStream ais =\r\n    \t\t\t\tAudioSystem.getAudioInputStream(\r\n    \t\t\t\t\tJukeBox.class.getResourceAsStream(s)\r\n    \t\t\t\t);\r\n    \t\t\tAudioFormat baseFormat = ais.getFormat();\r\n    \t\t\tAudioFormat decodeFormat = new AudioFormat(\r\n    \t\t\t\tAudioFormat.Encoding.PCM_SIGNED,\r\n    \t\t\t\tbaseFormat.getSampleRate(),\r\n    \t\t\t\t16,\r\n    \t\t\t\tbaseFormat.getChannels(),\r\n    \t\t\t\tbaseFormat.getChannels() * 2,\r\n    \t\t\t\tbaseFormat.getSampleRate(),\r\n    \t\t\t\tfalse\r\n    \t\t\t);\r\n    \t\t\tAudioInputStream dais = AudioSystem.getAudioInputStream(decodeFormat, ais);\r\n    \t\t\tclip = AudioSystem.getClip();\r\n    \t\t\tclip.open(dais);\r\n    \t\t\tclips.put(n, clip);\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void play(String s) {\r\n    \t\tplay(s, gap);\r\n    \t}\r\n    \t\r\n    \tpublic static void play(String s, int i) {\r\n    \t\tif(mute) return;\r\n    \t\tClip c = clips.get(s);\r\n    \t\tif(c == null) return;\r\n    \t\tif(c.isRunning()) c.stop();\r\n    \t\tc.setFramePosition(i);\r\n    \t\twhile(!c.isRunning()) c.start();\r\n    \t}\r\n    \t\r\n    \tpublic static void stop(String s) {\r\n    \t\tif(clips.get(s) == null) return;\r\n    \t\tif(clips.get(s).isRunning()) clips.get(s).stop();\r\n    \t}\r\n    \t\r\n    \tpublic static void resume(String s) {\r\n    \t\tif(mute) return;\r\n    \t\tif(clips.get(s).isRunning()) return;\r\n    \t\tclips.get(s).start();\r\n    \t}\r\n    \t\r\n    \tpublic static void loop(String s) {\r\n    \t\tloop(s, gap, gap, clips.get(s).getFrameLength() - 1);\r\n    \t}\r\n    \t\r\n    \tpublic static void loop(String s, int frame) {\r\n    \t\tloop(s, frame, gap, clips.get(s).getFrameLength() - 1);\r\n    \t}\r\n    \t\r\n    \tpublic static void loop(String s, int start, int end) {\r\n    \t\tloop(s, gap, start, end);\r\n    \t}\r\n    \t\r\n    \tpublic static void loop(String s, int frame, int start, int end) {\r\n    \t\tstop(s);\r\n    \t\tif(mute) return;\r\n    \t\tclips.get(s).setLoopPoints(start, end);\r\n    \t\tclips.get(s).setFramePosition(frame);\r\n    \t\tclips.get(s).loop(Clip.LOOP_CONTINUOUSLY);\r\n    \t}\r\n    \t\r\n    \tpublic static void setPosition(String s, int frame) {\r\n    \t\tclips.get(s).setFramePosition(frame);\r\n    \t}\r\n    \t\r\n    \tpublic static int getFrames(String s) { return clips.get(s).getFrameLength(); }\r\n    \tpublic static int getPosition(String s) { return clips.get(s).getFramePosition(); }\r\n    \t\r\n    \tpublic static void close(String s) {\r\n    \t\tstop(s);\r\n    \t\tclips.get(s).close();\r\n    \t}\r\n    \t\r\n    }`","title":"java.io.IOException: mark/reset not supported","body":"<p>I know this has been asked a ton of times but it's different in some scenarios so I can't figure it out. When I run my game in Eclipse, everything is going smoothly and the game runs perfectly but after I export it, it collapses. I can open the game and move around in the menu but no sounds are playing and after I hit play, the game just freezes and it gives me this error with cmd (I can paste any class necessary but hopefully just the Audio class is necessary):</p>\n\n<pre><code>java.io.IOException: mark/reset not supported\n    at java.util.zip.InflaterInputStream.reset(Unknown Source)\n    at java.io.FilterInputStream.reset(Unknown Source)\n    at com.sun.media.sound.SoftMidiAudioFileReader.getAudioInputStream(Unknown Source)\n    at javax.sound.sampled.AudioSystem.getAudioInputStream(Unknown Source)\n    at com.neet.Audio.JukeBox.load(JukeBox.java:26)\n    at com.neet.GameState.IntroState.&lt;init&gt;(IntroState.java:28)\n    at com.neet.GameState.GameStateManager.loadState(GameStateManager.java:48)\n    at com.neet.GameState.GameStateManager.setState(GameStateManager.java:72)\n    at com.neet.GameState.GameStateManager.&lt;init&gt;(GameStateManager.java:31)\n    at com.neet.Main.GamePanel.init(GamePanel.java:70)\n    at com.neet.Main.GamePanel.run(GamePanel.java:75)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>And here is the Audio class: `</p>\n\n<pre><code>package com.neet.Audio;\n\nimport java.util.HashMap;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\n\npublic class JukeBox {\n\n    private static HashMap&lt;String, Clip&gt; clips;\n    private static int gap;\n    private static boolean mute = false;\n\n    public static void init() {\n        clips = new HashMap&lt;String, Clip&gt;();\n        gap = 0;\n    }\n\n    public static void load(String s, String n) {\n        if(clips.get(n) != null) return;\n        Clip clip;\n        try {           \n            AudioInputStream ais =\n                AudioSystem.getAudioInputStream(\n                    JukeBox.class.getResourceAsStream(s)\n                );\n            AudioFormat baseFormat = ais.getFormat();\n            AudioFormat decodeFormat = new AudioFormat(\n                AudioFormat.Encoding.PCM_SIGNED,\n                baseFormat.getSampleRate(),\n                16,\n                baseFormat.getChannels(),\n                baseFormat.getChannels() * 2,\n                baseFormat.getSampleRate(),\n                false\n            );\n            AudioInputStream dais = AudioSystem.getAudioInputStream(decodeFormat, ais);\n            clip = AudioSystem.getClip();\n            clip.open(dais);\n            clips.put(n, clip);\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void play(String s) {\n        play(s, gap);\n    }\n\n    public static void play(String s, int i) {\n        if(mute) return;\n        Clip c = clips.get(s);\n        if(c == null) return;\n        if(c.isRunning()) c.stop();\n        c.setFramePosition(i);\n        while(!c.isRunning()) c.start();\n    }\n\n    public static void stop(String s) {\n        if(clips.get(s) == null) return;\n        if(clips.get(s).isRunning()) clips.get(s).stop();\n    }\n\n    public static void resume(String s) {\n        if(mute) return;\n        if(clips.get(s).isRunning()) return;\n        clips.get(s).start();\n    }\n\n    public static void loop(String s) {\n        loop(s, gap, gap, clips.get(s).getFrameLength() - 1);\n    }\n\n    public static void loop(String s, int frame) {\n        loop(s, frame, gap, clips.get(s).getFrameLength() - 1);\n    }\n\n    public static void loop(String s, int start, int end) {\n        loop(s, gap, start, end);\n    }\n\n    public static void loop(String s, int frame, int start, int end) {\n        stop(s);\n        if(mute) return;\n        clips.get(s).setLoopPoints(start, end);\n        clips.get(s).setFramePosition(frame);\n        clips.get(s).loop(Clip.LOOP_CONTINUOUSLY);\n    }\n\n    public static void setPosition(String s, int frame) {\n        clips.get(s).setFramePosition(frame);\n    }\n\n    public static int getFrames(String s) { return clips.get(s).getFrameLength(); }\n    public static int getPosition(String s) { return clips.get(s).getFramePosition(); }\n\n    public static void close(String s) {\n        stop(s);\n        clips.get(s).close();\n    }\n\n}`\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-firestore","spring-data-jpa","spring-cloud-gcp"],"answers":[{"tags":[],"owner":{"account_id":2867777,"reputation":21,"user_id":2461728,"display_name":"Dmitry S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591122501,"creation_date":1591114697,"answer_id":62156530,"question_id":62043573,"body_markdown":"That should work. Take a look at this [sample][1] - it does something similar.\r\nYou can run it and see if it works for you (it definitely works for me).\r\n\r\nOne potential issue is - are you missing public setters in your City class? They are required in order for conversion to work properly.\r\n\r\nIf that doesn&#39;t help, could you create a minimal application that replicates the issue (maybe on github) so I can take a closer look?\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-gcp/tree/master/spring-cloud-gcp-samples/spring-cloud-gcp-data-firestore-sample","title":"How to fetch documents from subcollection in firestore using spring data","body":"<p>That should work. Take a look at this <a href=\"https://github.com/spring-cloud/spring-cloud-gcp/tree/master/spring-cloud-gcp-samples/spring-cloud-gcp-data-firestore-sample\" rel=\"nofollow noreferrer\">sample</a> - it does something similar.\nYou can run it and see if it works for you (it definitely works for me).</p>\n\n<p>One potential issue is - are you missing public setters in your City class? They are required in order for conversion to work properly.</p>\n\n<p>If that doesn't help, could you create a minimal application that replicates the issue (maybe on github) so I can take a closer look?</p>\n"}],"owner":{"account_id":18467029,"reputation":71,"user_id":13452905,"display_name":"piyush garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1857,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1639707550,"creation_date":1590583937,"question_id":62043573,"body_markdown":"How to fetch documents from subcollection using spring FirestoreReactiveRepository?\r\n\r\n**Ask is:** how subcollection name or path can be given dynamically to @Document annotation?\r\n\r\nMy firestore collection: (cities is first level collection and apartments is subcollection of this)\r\n\r\n```\r\ncities - nyc (id)- |- name: New York City\r\n                   |- country: USA\r\n                   └ apartments - part_avenue (document id)\r\n                                ├ name: Park Avenue\r\n                                └ zip: 10022\r\n                                - plaza (document id)\r\n                                ├ name: Plaza Riverhouse \r\n                                └ zip: 10132\r\n```\r\n\r\nCity POJO is\r\n```\r\n@Document(collectionName = &quot;cities&quot;)\r\npublic class City {\r\n\r\n  @DocumentId\r\n  private String id;\r\n  private String name;\r\n  private String country;\r\n  private List&lt;Apartment&gt; apartments;\r\n}\r\n```\r\n\r\nApartment POJO is:\r\n```\r\n@Document(collectionName = &quot;apartments&quot;)\r\npublic class Apartment {\r\n\r\n  @DocumentId\r\n  private String id;\r\n  private String name;\r\n  private Integer zip;\r\n}\r\n```\r\n\r\nCityRepository which fetches data from cities collection\r\n```\r\npublic interface CityRepository extends FirestoreReactiveRepository&lt;City&gt; {\r\n\r\n}\r\n```\r\nOn calling findById(nyc) returns apartments as null. I want to populate subcollection as well in city object.\r\n\r\n\r\n\r\nHi Dmirty,\r\n\r\nIn the given example pets are stored as part of user object(collection) but I want to store pets in a separate sub collection under users collection.\r\n\r\nResult of given example:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nActual ask is pets should be subcollection like below:\r\nSo, it would be helpful if you can provide an example to store pets as subcollection and then how to retrieve it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xyC3I.png\r\n  [2]: https://i.stack.imgur.com/j6b8E.png","title":"How to fetch documents from subcollection in firestore using spring data","body":"<p>How to fetch documents from subcollection using spring FirestoreReactiveRepository?</p>\n\n<p><strong>Ask is:</strong> how subcollection name or path can be given dynamically to @Document annotation?</p>\n\n<p>My firestore collection: (cities is first level collection and apartments is subcollection of this)</p>\n\n<pre><code>cities - nyc (id)- |- name: New York City\n                   |- country: USA\n                   └ apartments - part_avenue (document id)\n                                ├ name: Park Avenue\n                                └ zip: 10022\n                                - plaza (document id)\n                                ├ name: Plaza Riverhouse \n                                └ zip: 10132\n</code></pre>\n\n<p>City POJO is</p>\n\n<pre><code>@Document(collectionName = \"cities\")\npublic class City {\n\n  @DocumentId\n  private String id;\n  private String name;\n  private String country;\n  private List&lt;Apartment&gt; apartments;\n}\n</code></pre>\n\n<p>Apartment POJO is:</p>\n\n<pre><code>@Document(collectionName = \"apartments\")\npublic class Apartment {\n\n  @DocumentId\n  private String id;\n  private String name;\n  private Integer zip;\n}\n</code></pre>\n\n<p>CityRepository which fetches data from cities collection</p>\n\n<pre><code>public interface CityRepository extends FirestoreReactiveRepository&lt;City&gt; {\n\n}\n</code></pre>\n\n<p>On calling findById(nyc) returns apartments as null. I want to populate subcollection as well in city object.</p>\n\n<p>Hi Dmirty,</p>\n\n<p>In the given example pets are stored as part of user object(collection) but I want to store pets in a separate sub collection under users collection.</p>\n\n<p>Result of given example:\n<a href=\"https://i.stack.imgur.com/xyC3I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xyC3I.png\" alt=\"enter image description here\"></a></p>\n\n<p>Actual ask is pets should be subcollection like below:\nSo, it would be helpful if you can provide an example to store pets as subcollection and then how to retrieve it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/j6b8E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j6b8E.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":9244151,"reputation":41,"user_id":6866571,"display_name":"Iurii Volobuev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639611037,"creation_date":1639611037,"answer_id":70371557,"question_id":70370273,"body_markdown":"Use `UNCONSTRAINED_RESIZE_POLICY` instead of `CONSTRAINED_RESIZE_POLICY` as a column policy of `TableView`.","title":"JavaFX table column won&#39;t resize to prefWidth","body":"<p>Use <code>UNCONSTRAINED_RESIZE_POLICY</code> instead of <code>CONSTRAINED_RESIZE_POLICY</code> as a column policy of <code>TableView</code>.</p>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639706955,"creation_date":1639611357,"answer_id":70371599,"question_id":70370273,"body_markdown":"It is because you included the CONSTRAINED_RESIZE_POLICY to the table view.\r\n\r\nThe java doc says::\r\n\r\n&gt; Simple policy that ensures the width of all visible leaf columns in\r\n&gt; this table sum up to equal the width of the table itself.\r\n&gt; \r\n&gt; When the user resizes a column width with this policy, the table\r\n&gt; automatically adjusts the width of the right hand side columns. When\r\n&gt; the user increases a column width, the table decreases the width of\r\n&gt; the rightmost column until it reaches its minimum width. Then it\r\n&gt; decreases the width of the second rightmost column until it reaches\r\n&gt; minimum width and so on. When all right hand side columns reach\r\n&gt; minimum size, the user cannot increase the size of resized column any\r\n&gt; more.\r\n\r\nHaving said that, if you included the CONSTRAINED_RESIZE_POLICY on purpose, then you may need to add a bit more custom logic to satisfy the custom widths along with the policy.\r\n\r\n**UPDATE:**\r\n\r\nIf you want to acheive a feature something like &quot;percentWidth&quot; feature in GridPane, you can try the below approach.\r\n\r\nThe idea is :\r\n* Create a custom TableColumn that has a new property &quot;percentWidth&quot;\r\n* Create a custom TableView that has a listener to its widthProperty and adjust the columns prefWidth based on the percentWidth.\r\n* Import these controls in fxml and update the fxml with the new controls.\r\n\r\n***CustomTableColumn.java***\r\n\r\n    public class CustomTableColumn&lt;S, T&gt; extends TableColumn&lt;S, T&gt; {\r\n        private DoubleProperty percentWidth = new SimpleDoubleProperty();\r\n    \r\n        public CustomTableColumn(String columnName) {\r\n            super(columnName);\r\n        }\r\n    \r\n        public DoubleProperty percentWidth() {\r\n            return percentWidth;\r\n        }\r\n    \r\n        public double getPercentWidth() {\r\n            return percentWidth.get();\r\n        }\r\n    \r\n        public void setPercentWidth(double percentWidth) {\r\n            this.percentWidth.set(percentWidth);\r\n        }\r\n    }\r\n\r\n***CustomTableView.java***\r\n\r\n    public class CustomTableView&lt;S&gt; extends TableView&lt;S&gt; {\r\n        public CustomTableView() {\r\n            widthProperty().addListener((obs, old, tableWidth) -&gt; {\r\n                // Deduct 2px from the total table width for borders. Otherwise you will see a horizontal scroll bar.\r\n                double width = tableWidth.doubleValue() - 2;\r\n                getColumns().stream().filter(col -&gt; col instanceof CustomTableColumn)\r\n                        .map(col -&gt; (CustomTableColumn) col)\r\n                        .forEach(col -&gt; col.setPrefWidth(width * (col.getPercentWidth() / 100)));\r\n            });\r\n        }\r\n    }\r\n\r\n***Updated fxml code:***\r\n\r\n    &lt;CustomTableView fx:id=&quot;reportTableView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n    \t&lt;columns&gt;\r\n    \t  &lt;CustomTableColumn fx:id=&quot;date&quot; percentWidth=&quot;35&quot; text=&quot;Date&quot; /&gt;\r\n    \t  &lt;CustomTableColumn fx:id=&quot;company&quot; percentWidth=&quot;40&quot; text=&quot;Company&quot; /&gt;\r\n    \t  &lt;CustomTableColumn fx:id=&quot;number&quot; percentWidth=&quot;25&quot; text=&quot;Number&quot; /&gt;\r\n    \t  ...\r\n    \t&lt;/columns&gt;\r\n    &lt;/CustomTableView&gt;\r\n\r\n*Please note that sum of all columns percentWidth should be equal to 100 for better results :)*\r\n\r\nA full working demo of this implementation(non fxml) is below: *(I updated the code to fix the horizontal scroll bar in the gif)*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.DoubleProperty;\r\n    import javafx.beans.property.SimpleDoubleProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class PercentageTableColumnDemo extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ObservableList&lt;Person&gt; persons = FXCollections.observableArrayList();\r\n            persons.add(new Person(&quot;Harry&quot;, &quot;John&quot;, &quot;LS&quot;));\r\n            persons.add(new Person(&quot;Mary&quot;, &quot;King&quot;, &quot;MS&quot;));\r\n    \r\n            CustomTableColumn&lt;Person, String&gt; fnCol = new CustomTableColumn&lt;&gt;(&quot;First Name&quot;);\r\n            fnCol.setPercentWidth(30);\r\n            fnCol.setCellValueFactory(param -&gt; param.getValue().firstNameProperty());\r\n    \r\n            CustomTableColumn&lt;Person, String&gt; lnCol = new CustomTableColumn&lt;&gt;(&quot;Last Name&quot;);\r\n            lnCol.setPercentWidth(25);\r\n            lnCol.setCellValueFactory(param -&gt; param.getValue().lastNameProperty());\r\n    \r\n            CustomTableColumn&lt;Person, String&gt; cityCol = new CustomTableColumn&lt;&gt;(&quot;City&quot;);\r\n            cityCol.setPercentWidth(45);\r\n            cityCol.setCellValueFactory(param -&gt; param.getValue().cityProperty());\r\n    \r\n            CustomTableView&lt;Person&gt; tableView = new CustomTableView&lt;&gt;();\r\n            tableView.getColumns().addAll(fnCol, lnCol, cityCol);\r\n            tableView.setItems(persons);\r\n    \r\n            VBox root = new VBox();\r\n            root.getChildren().addAll(tableView);\r\n            VBox.setVgrow(tableView, Priority.ALWAYS);\r\n    \r\n            Scene scene = new Scene(root, 500, 500);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Table demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        class CustomTableColumn&lt;S, T&gt; extends TableColumn&lt;S, T&gt; {\r\n            private DoubleProperty percentWidth = new SimpleDoubleProperty();\r\n    \r\n            public CustomTableColumn(String columnName) {\r\n                super(columnName);\r\n            }\r\n    \r\n            public DoubleProperty percentWidth() {\r\n                return percentWidth;\r\n            }\r\n    \r\n            public double getPercentWidth() {\r\n                return percentWidth.get();\r\n            }\r\n    \r\n            public void setPercentWidth(double percentWidth) {\r\n                this.percentWidth.set(percentWidth);\r\n            }\r\n        }\r\n    \r\n        class CustomTableView&lt;S&gt; extends TableView&lt;S&gt; {\r\n            public CustomTableView() {\r\n                widthProperty().addListener((obs, old, tableWidth) -&gt; {\r\n                    // Deduct 2px from the total table width for borders. Otherwise you will see a horizontal scroll bar.\r\n                    double width = tableWidth.doubleValue() - 2;\r\n                    getColumns().stream().filter(col -&gt; col instanceof CustomTableColumn)\r\n                            .map(col -&gt; (CustomTableColumn) col)\r\n                            .forEach(col -&gt; col.setPrefWidth(width * (col.getPercentWidth() / 100)));\r\n                });\r\n            }\r\n        }\r\n    \r\n        class Person {\r\n            private StringProperty firstName = new SimpleStringProperty();\r\n            private StringProperty lastName = new SimpleStringProperty();\r\n            private StringProperty city = new SimpleStringProperty();\r\n    \r\n            public Person(String fn, String ln, String cty) {\r\n                setFirstName(fn);\r\n                setLastName(ln);\r\n                setCity(cty);\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return firstName.get();\r\n            }\r\n    \r\n            public StringProperty firstNameProperty() {\r\n                return firstName;\r\n            }\r\n    \r\n            public void setFirstName(String firstName) {\r\n                this.firstName.set(firstName);\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName.get();\r\n            }\r\n    \r\n            public StringProperty lastNameProperty() {\r\n                return lastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                this.lastName.set(lastName);\r\n            }\r\n    \r\n            public String getCity() {\r\n                return city.get();\r\n            }\r\n    \r\n            public StringProperty cityProperty() {\r\n                return city;\r\n            }\r\n    \r\n            public void setCity(String city) {\r\n                this.city.set(city);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78LIG.gif","title":"JavaFX table column won&#39;t resize to prefWidth","body":"<p>It is because you included the CONSTRAINED_RESIZE_POLICY to the table view.</p>\n<p>The java doc says::</p>\n<blockquote>\n<p>Simple policy that ensures the width of all visible leaf columns in\nthis table sum up to equal the width of the table itself.</p>\n<p>When the user resizes a column width with this policy, the table\nautomatically adjusts the width of the right hand side columns. When\nthe user increases a column width, the table decreases the width of\nthe rightmost column until it reaches its minimum width. Then it\ndecreases the width of the second rightmost column until it reaches\nminimum width and so on. When all right hand side columns reach\nminimum size, the user cannot increase the size of resized column any\nmore.</p>\n</blockquote>\n<p>Having said that, if you included the CONSTRAINED_RESIZE_POLICY on purpose, then you may need to add a bit more custom logic to satisfy the custom widths along with the policy.</p>\n<p><strong>UPDATE:</strong></p>\n<p>If you want to acheive a feature something like &quot;percentWidth&quot; feature in GridPane, you can try the below approach.</p>\n<p>The idea is :</p>\n<ul>\n<li>Create a custom TableColumn that has a new property &quot;percentWidth&quot;</li>\n<li>Create a custom TableView that has a listener to its widthProperty and adjust the columns prefWidth based on the percentWidth.</li>\n<li>Import these controls in fxml and update the fxml with the new controls.</li>\n</ul>\n<p><em><strong>CustomTableColumn.java</strong></em></p>\n<pre><code>public class CustomTableColumn&lt;S, T&gt; extends TableColumn&lt;S, T&gt; {\n    private DoubleProperty percentWidth = new SimpleDoubleProperty();\n\n    public CustomTableColumn(String columnName) {\n        super(columnName);\n    }\n\n    public DoubleProperty percentWidth() {\n        return percentWidth;\n    }\n\n    public double getPercentWidth() {\n        return percentWidth.get();\n    }\n\n    public void setPercentWidth(double percentWidth) {\n        this.percentWidth.set(percentWidth);\n    }\n}\n</code></pre>\n<p><em><strong>CustomTableView.java</strong></em></p>\n<pre><code>public class CustomTableView&lt;S&gt; extends TableView&lt;S&gt; {\n    public CustomTableView() {\n        widthProperty().addListener((obs, old, tableWidth) -&gt; {\n            // Deduct 2px from the total table width for borders. Otherwise you will see a horizontal scroll bar.\n            double width = tableWidth.doubleValue() - 2;\n            getColumns().stream().filter(col -&gt; col instanceof CustomTableColumn)\n                    .map(col -&gt; (CustomTableColumn) col)\n                    .forEach(col -&gt; col.setPrefWidth(width * (col.getPercentWidth() / 100)));\n        });\n    }\n}\n</code></pre>\n<p><em><strong>Updated fxml code:</strong></em></p>\n<pre><code>&lt;CustomTableView fx:id=&quot;reportTableView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n    &lt;columns&gt;\n      &lt;CustomTableColumn fx:id=&quot;date&quot; percentWidth=&quot;35&quot; text=&quot;Date&quot; /&gt;\n      &lt;CustomTableColumn fx:id=&quot;company&quot; percentWidth=&quot;40&quot; text=&quot;Company&quot; /&gt;\n      &lt;CustomTableColumn fx:id=&quot;number&quot; percentWidth=&quot;25&quot; text=&quot;Number&quot; /&gt;\n      ...\n    &lt;/columns&gt;\n&lt;/CustomTableView&gt;\n</code></pre>\n<p><em>Please note that sum of all columns percentWidth should be equal to 100 for better results :)</em></p>\n<p>A full working demo of this implementation(non fxml) is below: <em>(I updated the code to fix the horizontal scroll bar in the gif)</em></p>\n<p><a href=\"https://i.stack.imgur.com/78LIG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78LIG.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class PercentageTableColumnDemo extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ObservableList&lt;Person&gt; persons = FXCollections.observableArrayList();\n        persons.add(new Person(&quot;Harry&quot;, &quot;John&quot;, &quot;LS&quot;));\n        persons.add(new Person(&quot;Mary&quot;, &quot;King&quot;, &quot;MS&quot;));\n\n        CustomTableColumn&lt;Person, String&gt; fnCol = new CustomTableColumn&lt;&gt;(&quot;First Name&quot;);\n        fnCol.setPercentWidth(30);\n        fnCol.setCellValueFactory(param -&gt; param.getValue().firstNameProperty());\n\n        CustomTableColumn&lt;Person, String&gt; lnCol = new CustomTableColumn&lt;&gt;(&quot;Last Name&quot;);\n        lnCol.setPercentWidth(25);\n        lnCol.setCellValueFactory(param -&gt; param.getValue().lastNameProperty());\n\n        CustomTableColumn&lt;Person, String&gt; cityCol = new CustomTableColumn&lt;&gt;(&quot;City&quot;);\n        cityCol.setPercentWidth(45);\n        cityCol.setCellValueFactory(param -&gt; param.getValue().cityProperty());\n\n        CustomTableView&lt;Person&gt; tableView = new CustomTableView&lt;&gt;();\n        tableView.getColumns().addAll(fnCol, lnCol, cityCol);\n        tableView.setItems(persons);\n\n        VBox root = new VBox();\n        root.getChildren().addAll(tableView);\n        VBox.setVgrow(tableView, Priority.ALWAYS);\n\n        Scene scene = new Scene(root, 500, 500);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Table demo&quot;);\n        stage.show();\n    }\n\n    class CustomTableColumn&lt;S, T&gt; extends TableColumn&lt;S, T&gt; {\n        private DoubleProperty percentWidth = new SimpleDoubleProperty();\n\n        public CustomTableColumn(String columnName) {\n            super(columnName);\n        }\n\n        public DoubleProperty percentWidth() {\n            return percentWidth;\n        }\n\n        public double getPercentWidth() {\n            return percentWidth.get();\n        }\n\n        public void setPercentWidth(double percentWidth) {\n            this.percentWidth.set(percentWidth);\n        }\n    }\n\n    class CustomTableView&lt;S&gt; extends TableView&lt;S&gt; {\n        public CustomTableView() {\n            widthProperty().addListener((obs, old, tableWidth) -&gt; {\n                // Deduct 2px from the total table width for borders. Otherwise you will see a horizontal scroll bar.\n                double width = tableWidth.doubleValue() - 2;\n                getColumns().stream().filter(col -&gt; col instanceof CustomTableColumn)\n                        .map(col -&gt; (CustomTableColumn) col)\n                        .forEach(col -&gt; col.setPrefWidth(width * (col.getPercentWidth() / 100)));\n            });\n        }\n    }\n\n    class Person {\n        private StringProperty firstName = new SimpleStringProperty();\n        private StringProperty lastName = new SimpleStringProperty();\n        private StringProperty city = new SimpleStringProperty();\n\n        public Person(String fn, String ln, String cty) {\n            setFirstName(fn);\n            setLastName(ln);\n            setCity(cty);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public StringProperty firstNameProperty() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName.set(firstName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public StringProperty lastNameProperty() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName.set(lastName);\n        }\n\n        public String getCity() {\n            return city.get();\n        }\n\n        public StringProperty cityProperty() {\n            return city;\n        }\n\n        public void setCity(String city) {\n            this.city.set(city);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22905263,"reputation":15,"user_id":17043430,"display_name":"Mr. ATC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70371599,"answer_count":2,"score":1,"last_activity_date":1639706955,"creation_date":1639602248,"question_id":70370273,"body_markdown":"I have a `TableView` in the center of a `BorderPane` with different prefWidth values for the columns. Inside SceneBuilder the columns are resized correctly according to the prefWidth value, but when I run the program the columns all have the same width (75.0). This is the .fxml file:\r\n```\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;1500.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;ReportController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;TableView fx:id=&quot;reportTableView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;date&quot; prefWidth=&quot;60.0&quot; text=&quot;Date&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;company&quot; prefWidth=&quot;75.0&quot; text=&quot;Company&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;number&quot; prefWidth=&quot;40.0&quot; text=&quot;Number&quot; /&gt;\r\n          ...\r\n        &lt;/columns&gt;\r\n         &lt;columnResizePolicy&gt;\r\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n         &lt;/columnResizePolicy&gt;\r\n      &lt;/TableView&gt;\r\n   &lt;/center&gt;\r\n   &lt;bottom&gt;\r\n      &lt;TitledPane text=&quot;Summary&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;content&gt;\r\n            &lt;HBox alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Details:&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;20.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                  &lt;/Text&gt;\r\n               &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/content&gt;\r\n      &lt;/TitledPane&gt;\r\n   &lt;/bottom&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\nAnd this is the code  that loads the frame:\r\n\r\n```\r\n    try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getClassLoader().getResource(&quot;report.fxml&quot;));\r\n            Parent parent = loader.load();\r\n\r\n            Stage stage = new Stage(StageStyle.DECORATED);\r\n            stage.setTitle(&quot;Tax Sheet Report&quot;);\r\n            stage.getIcons().add(new Image(&quot;icons/icon.png&quot;));\r\n            stage.setScene(new Scene(parent));\r\n            stage.setMaximized( true );\r\n            stage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"JavaFX table column won&#39;t resize to prefWidth","body":"<p>I have a <code>TableView</code> in the center of a <code>BorderPane</code> with different prefWidth values for the columns. Inside SceneBuilder the columns are resized correctly according to the prefWidth value, but when I run the program the columns all have the same width (75.0). This is the .fxml file:</p>\n<pre><code>&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;1500.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;ReportController&quot;&gt;\n   &lt;center&gt;\n      &lt;TableView fx:id=&quot;reportTableView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;date&quot; prefWidth=&quot;60.0&quot; text=&quot;Date&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;company&quot; prefWidth=&quot;75.0&quot; text=&quot;Company&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;number&quot; prefWidth=&quot;40.0&quot; text=&quot;Number&quot; /&gt;\n          ...\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n      &lt;/TableView&gt;\n   &lt;/center&gt;\n   &lt;bottom&gt;\n      &lt;TitledPane text=&quot;Summary&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;content&gt;\n            &lt;HBox alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Details:&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;20.0&quot; /&gt;\n                     &lt;/font&gt;\n                  &lt;/Text&gt;\n               &lt;/children&gt;\n            &lt;/HBox&gt;\n         &lt;/content&gt;\n      &lt;/TitledPane&gt;\n   &lt;/bottom&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>And this is the code  that loads the frame:</p>\n<pre><code>    try {\n            FXMLLoader loader = new FXMLLoader(getClass().getClassLoader().getResource(&quot;report.fxml&quot;));\n            Parent parent = loader.load();\n\n            Stage stage = new Stage(StageStyle.DECORATED);\n            stage.setTitle(&quot;Tax Sheet Report&quot;);\n            stage.getIcons().add(new Image(&quot;icons/icon.png&quot;));\n            stage.setScene(new Scene(parent));\n            stage.setMaximized( true );\n            stage.show();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","avro","publish-subscribe","google-cloud-pubsub"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1639615544,"post_id":70371145,"comment_id":124397153,"body_markdown":"The error suggests that the code did not compile correctly (&quot;Unresolved compilation problem&quot;) when you ran `mvn install`. Rather than include what may be a lengthy set of logs, please review the output from that step and update your question with any errors. I assume you&#39;ve followed the prereqs including creating a project, enabling billing, setting up pub/sub ...","body":"The error suggests that the code did not compile correctly (&quot;Unresolved compilation problem&quot;) when you ran <code>mvn install</code>. Rather than include what may be a lengthy set of logs, please review the output from that step and update your question with any errors. I assume you&#39;ve followed the prereqs including creating a project, enabling billing, setting up pub/sub ..."},{"owner":{"account_id":2796434,"reputation":901,"user_id":2405589,"accept_rate":50,"display_name":"user2405589"},"score":0,"creation_date":1639680498,"post_id":70371145,"comment_id":124417398,"body_markdown":"Yes, I did. The Build was Successful. I don&#39;t know what else could be the issue.","body":"Yes, I did. The Build was Successful. I don&#39;t know what else could be the issue."}],"answers":[{"tags":[],"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639706931,"creation_date":1639636166,"answer_id":70374755,"question_id":70371145,"body_markdown":"I cannot reproduce this issue. My guess is that when you ran `mvn clean install`, it also ran the tests included in the snippets. Some of those tests can take time and may fail, which can ruin the build process. If you simply want to test a snippet, then you can just skip those tests.\r\n\r\nMy suggestion is to add a flag to skip tests:\r\n\r\n**UPDATE**: Check your current directory. Make sure to run this command at your `$HOME/cloudshell_open/java-pubsub-3/samples/snippets`. \r\n\r\n```\r\nmvn clean install -DskipTests\r\n```\r\n\r\nAfterwards, make sure the build returns success and then rerun the sample via Cloud Editor.\r\n\r\n\r\nThe steps I did:\r\n1. Open a Terminal.\r\n2. Clone repo to **$HOME** dir: `git clone https://github.com/googleapis/java-pubsub.git`\r\n3. `cd java-pubsub/samples/snippets` \r\n4. `mvn clean install -DskipTests` build result should look like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n5. Open `samples/snippets` workspace at Cloud Shell Editor.\r\n6. Go to your preferred class and click **Run** button near the main method. Right Click and Run should also work.\r\n\r\n\r\nI was able to make it work properly. Here&#39;s a screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/zztOP.png\r\n  [2]: https://i.stack.imgur.com/aFd2a.png","title":"Running sample Google Maven project in Google Cloud Shell","body":"<p>I cannot reproduce this issue. My guess is that when you ran <code>mvn clean install</code>, it also ran the tests included in the snippets. Some of those tests can take time and may fail, which can ruin the build process. If you simply want to test a snippet, then you can just skip those tests.</p>\n<p>My suggestion is to add a flag to skip tests:</p>\n<p><strong>UPDATE</strong>: Check your current directory. Make sure to run this command at your <code>$HOME/cloudshell_open/java-pubsub-3/samples/snippets</code>.</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>Afterwards, make sure the build returns success and then rerun the sample via Cloud Editor.</p>\n<p>The steps I did:</p>\n<ol>\n<li>Open a Terminal.</li>\n<li>Clone repo to <strong>$HOME</strong> dir: <code>git clone https://github.com/googleapis/java-pubsub.git</code></li>\n<li><code>cd java-pubsub/samples/snippets</code></li>\n<li><code>mvn clean install -DskipTests</code> build result should look like this:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/aFd2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aFd2a.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>Open <code>samples/snippets</code> workspace at Cloud Shell Editor.</li>\n<li>Go to your preferred class and click <strong>Run</strong> button near the main method. Right Click and Run should also work.</li>\n</ol>\n<p>I was able to make it work properly. Here's a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/zztOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zztOP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2796434,"reputation":901,"user_id":2405589,"accept_rate":50,"display_name":"user2405589"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70374755,"answer_count":1,"score":0,"last_activity_date":1639706931,"creation_date":1639607730,"question_id":70371145,"body_markdown":"I am brand new to GCP world. I am trying to run one of the pubsub examples (https://github.com/googleapis/java-pubsub/blob/HEAD/samples/snippets/src/main/java/pubsub/SubscribeWithAvroSchemaExample.java) in Google&#39;s Github repo on Cloud Shell.\r\n\r\n Their documentation also has links to Cloud Shell (https://github.com/googleapis/java-pubsub/tree/ff9c9c15a9efb10d5cbc9328c7a703a20b5d4b44#samples)\r\n\r\nI am able to build on the cloud shell by running `mvn clean install`. But when I run that Java class SubscribeWithAvroSchemaExample.java (after filling in the project id and subscrption id), I get the below error\r\n\r\n&gt; satish_anupindi84@cloudshell:~$ cd &#39;/home/satish_anupindi84&#39; &amp;&amp; env\r\n&gt; &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39; &#39;-Dfile.encoding=UTF-8&#39;\r\n&gt; &#39;-cp&#39;\r\n&gt; &#39;/home/satish_anupindi84/.theia/workspace-storage/e742f48ad7fde7236560e8cf9e48d278/redhat.java/jdt_ws/jdt.ls-java-project/bin&#39;\r\n&gt; &#39;pubsub.SubscribeWithAvroSchemaExample&#39; Exception in thread &quot;main&quot;\r\n&gt; java.lang.Error: Unresolved compilation problem:\r\n&gt; \r\n&gt;     at pubsub.SubscribeWithAvroSchemaExample.main(SubscribeWithAvroSchemaExample.java:39)\r\n\r\n\r\nWould someone try this out and let me know what they get? \r\n\r\nRan it manually, and did not get any headway\r\n\r\n&gt; satish_anupindi84@cloudshell:~/cloudshell_open/java-pubsub-2$ cd\r\n&gt; samples/snippets/\r\n&gt; satish_anupindi84@cloudshell:~/cloudshell_open/java-pubsub-2/samples/snippets$\r\n&gt; env &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;\r\n&gt; &#39;-Dfile-encoding=UTF-8&#39; &#39;pubsub.SubscribeWithAvroSchemaExample&#39; Error:\r\n&gt; Could not find or load main class\r\n&gt; pubsub.SubscribeWithAvroSchemaExample Caused by:\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; pubsub.SubscribeWithAvroSchemaExample\r\n\r\n\r\nAttached screenshot.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mHWhM.png","title":"Running sample Google Maven project in Google Cloud Shell","body":"<p>I am brand new to GCP world. I am trying to run one of the pubsub examples (<a href=\"https://github.com/googleapis/java-pubsub/blob/HEAD/samples/snippets/src/main/java/pubsub/SubscribeWithAvroSchemaExample.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-pubsub/blob/HEAD/samples/snippets/src/main/java/pubsub/SubscribeWithAvroSchemaExample.java</a>) in Google's Github repo on Cloud Shell.</p>\n<p>Their documentation also has links to Cloud Shell (<a href=\"https://github.com/googleapis/java-pubsub/tree/ff9c9c15a9efb10d5cbc9328c7a703a20b5d4b44#samples\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-pubsub/tree/ff9c9c15a9efb10d5cbc9328c7a703a20b5d4b44#samples</a>)</p>\n<p>I am able to build on the cloud shell by running <code>mvn clean install</code>. But when I run that Java class SubscribeWithAvroSchemaExample.java (after filling in the project id and subscrption id), I get the below error</p>\n<blockquote>\n<p>satish_anupindi84@cloudshell:~$ cd '/home/satish_anupindi84' &amp;&amp; env\n'/usr/lib/jvm/java-11-openjdk-amd64/bin/java' '-Dfile.encoding=UTF-8'\n'-cp'\n'/home/satish_anupindi84/.theia/workspace-storage/e742f48ad7fde7236560e8cf9e48d278/redhat.java/jdt_ws/jdt.ls-java-project/bin'\n'pubsub.SubscribeWithAvroSchemaExample' Exception in thread &quot;main&quot;\njava.lang.Error: Unresolved compilation problem:</p>\n<pre><code>at pubsub.SubscribeWithAvroSchemaExample.main(SubscribeWithAvroSchemaExample.java:39)\n</code></pre>\n</blockquote>\n<p>Would someone try this out and let me know what they get?</p>\n<p>Ran it manually, and did not get any headway</p>\n<blockquote>\n<p>satish_anupindi84@cloudshell:~/cloudshell_open/java-pubsub-2$ cd\nsamples/snippets/\nsatish_anupindi84@cloudshell:~/cloudshell_open/java-pubsub-2/samples/snippets$\nenv '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'\n'-Dfile-encoding=UTF-8' 'pubsub.SubscribeWithAvroSchemaExample' Error:\nCould not find or load main class\npubsub.SubscribeWithAvroSchemaExample Caused by:\njava.lang.ClassNotFoundException:\npubsub.SubscribeWithAvroSchemaExample</p>\n</blockquote>\n<p>Attached screenshot.\n<a href=\"https://i.stack.imgur.com/mHWhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHWhM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1639705385,"post_id":70387265,"comment_id":124423749,"body_markdown":"This seems wrong `else if(front == rear){ front = rear = -1;` front and rear should also be the same if the queue is full, but you seem to being trying to set the queue to &quot;empty&quot; here.","body":"This seems wrong <code>else if(front == rear){ front = rear = -1;</code> front and rear should also be the same if the queue is full, but you seem to being trying to set the queue to &quot;empty&quot; here."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639706617,"creation_date":1639706617,"answer_id":70387639,"question_id":70387265,"body_markdown":"In enqueue, you just need to store the value, increment rear and size.  In dequeue, you just need to increment front and decrement size.  \r\n\r\n```\r\n    private final int[] data = new int[10];\r\n    private int size, front, rear;\r\n\r\n    public int enqueue(int n) {\r\n        if (size == data.length) {\r\n            throw new RuntimeException(&quot;Queue is full.&quot;);\r\n        }\r\n        data[rear] = n;\r\n        rear = (rear + 1) % data.length;\r\n        size++;\r\n        return n;\r\n    }\r\n\r\n    public int dequeue() {\r\n        if (size == 0) {\r\n            throw new RuntimeException(&quot;Queue is empty.&quot;);\r\n        }\r\n        int e = data[front];\r\n        front = (front + 1) % data.length;\r\n        size--;\r\n        return e;\r\n    }\r\n```","title":"Manual enqueue and dequeue in Java","body":"<p>In enqueue, you just need to store the value, increment rear and size.  In dequeue, you just need to increment front and decrement size.</p>\n<pre><code>    private final int[] data = new int[10];\n    private int size, front, rear;\n\n    public int enqueue(int n) {\n        if (size == data.length) {\n            throw new RuntimeException(&quot;Queue is full.&quot;);\n        }\n        data[rear] = n;\n        rear = (rear + 1) % data.length;\n        size++;\n        return n;\n    }\n\n    public int dequeue() {\n        if (size == 0) {\n            throw new RuntimeException(&quot;Queue is empty.&quot;);\n        }\n        int e = data[front];\n        front = (front + 1) % data.length;\n        size--;\n        return e;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user17618436"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639706617,"creation_date":1639702110,"question_id":70387265,"body_markdown":"I have a manual implementation of the Queue data structure, and am trying to enqueue the numbers 1-10 inside a queue of a maximum size of 10. My queue should then look like 1,2,3,4,5,6,7,8,9,10, but for some reason, it looks like 10,1,2,3,4,5,6,7,8,9. Here is my enqueue method, where I am adding each element from the rear:\r\n\r\n    public int enqueue(int n) { \r\n\t\t//where n is the item we want to add \r\n\t\tif(isFull()){ //checks to see if rear+1 % data.length == front\r\n\t\t\tSystem.out.println(&quot;Cannot add item, queue is currently full.&quot;);\r\n\t\t\treturn n;\r\n\t\t}\r\n\r\n\t\telse if(isEmpty()){ //checks to see if the front = rear = -1\r\n\t\t\tfront = rear = 0;\r\n\t\t\trear+=1;\r\n\t\t}\r\n\r\n\t\telse{ //allows for cyclic array\r\n\t\t\trear = (rear + 1) % data.length;\r\n\t\t}\r\n\r\n\t\tdata[rear] = n;\t\r\n\t\tsize ++;\r\n\t\treturn n;\r\n\t}\r\nAdditionally, when I try to dequeue all the numbers from the array, and then display the product of the dequeued numbers, the front element should be dequeued every time, however, the product of my dequeued numbers is somehow -10 and my dequeued array looks like: 10,1,2,3,4,5,6,7,8. Here is my dequeue method:\r\n\r\n    public int dequeue() { //remove the object from the front of queue \r\n\t\tif(front == -1 &amp;&amp; rear == -1){ //need for the and condition?\t\r\n\t\t\tSystem.out.println(&quot;Cannot dequeue, queue is currently empty!&quot;);\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\telse if(front == rear){\r\n\t\t\tfront = rear = -1;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\telse{\r\n\t\t\tfront = (front + 1) % data.length;\r\n\t\t}\r\n\r\n\t\tsize --;\r\n\t\treturn 0;\r\n\r\n\t}\r\nI also get a ton of &quot;Cannot dequeue, queue is currently empty!&quot; and &quot;Queue is currently empty!&quot; outputs in my console. Where did I go wrong?","title":"Manual enqueue and dequeue in Java","body":"<p>I have a manual implementation of the Queue data structure, and am trying to enqueue the numbers 1-10 inside a queue of a maximum size of 10. My queue should then look like 1,2,3,4,5,6,7,8,9,10, but for some reason, it looks like 10,1,2,3,4,5,6,7,8,9. Here is my enqueue method, where I am adding each element from the rear:</p>\n<pre><code>public int enqueue(int n) { \n    //where n is the item we want to add \n    if(isFull()){ //checks to see if rear+1 % data.length == front\n        System.out.println(&quot;Cannot add item, queue is currently full.&quot;);\n        return n;\n    }\n\n    else if(isEmpty()){ //checks to see if the front = rear = -1\n        front = rear = 0;\n        rear+=1;\n    }\n\n    else{ //allows for cyclic array\n        rear = (rear + 1) % data.length;\n    }\n\n    data[rear] = n; \n    size ++;\n    return n;\n}\n</code></pre>\n<p>Additionally, when I try to dequeue all the numbers from the array, and then display the product of the dequeued numbers, the front element should be dequeued every time, however, the product of my dequeued numbers is somehow -10 and my dequeued array looks like: 10,1,2,3,4,5,6,7,8. Here is my dequeue method:</p>\n<pre><code>public int dequeue() { //remove the object from the front of queue \n    if(front == -1 &amp;&amp; rear == -1){ //need for the and condition?    \n        System.out.println(&quot;Cannot dequeue, queue is currently empty!&quot;);\n        return -1;\n    }\n\n    else if(front == rear){\n        front = rear = -1;\n        \n    }\n\n    else{\n        front = (front + 1) % data.length;\n    }\n\n    size --;\n    return 0;\n\n}\n</code></pre>\n<p>I also get a ton of &quot;Cannot dequeue, queue is currently empty!&quot; and &quot;Queue is currently empty!&quot; outputs in my console. Where did I go wrong?</p>\n"},{"tags":["java","selenium","google-chrome","certificate","registry"],"answers":[{"tags":[],"owner":{"account_id":14944273,"reputation":1,"user_id":10790006,"display_name":"Samrat Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639706575,"creation_date":1639648107,"answer_id":70376904,"question_id":67174628,"body_markdown":"\r\n~~~\r\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\nMap&lt;String, Object&gt; pref = new Hashtable&lt;&gt;();\r\nfinal String[] certs = new String[size()];\r\ncerts[index]=certificateString; \r\npref.put(&quot;profile.managed_auto_select_certificate_for_urls&quot;,certs);\r\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, pref);\r\ncapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n~~~","title":"Java Selenium: an example for profile.managed_auto_select_certificate_for_urls to select a certificate","body":"<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nMap&lt;String, Object&gt; pref = new Hashtable&lt;&gt;();\nfinal String[] certs = new String[size()];\ncerts[index]=certificateString; \npref.put(&quot;profile.managed_auto_select_certificate_for_urls&quot;,certs);\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, pref);\ncapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\n</code></pre>\n"}],"owner":{"account_id":8117448,"reputation":170,"user_id":6115491,"display_name":"CCC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639706575,"creation_date":1618904967,"question_id":67174628,"body_markdown":"Is it possible to use `profile.managed_auto_select_certificate_for_urls`in java with Selenium?\r\nI have to select a certificate in a list in order to do the login.\r\nI can&#39;t change the registry key since i have multiple certificates.\r\n\r\nIf it&#39;s possible can you give me a hint of the code?\r\nI don&#39;t know where to start.\r\n","title":"Java Selenium: an example for profile.managed_auto_select_certificate_for_urls to select a certificate","body":"<p>Is it possible to use <code>profile.managed_auto_select_certificate_for_urls</code>in java with Selenium?\nI have to select a certificate in a list in order to do the login.\nI can't change the registry key since i have multiple certificates.</p>\n<p>If it's possible can you give me a hint of the code?\nI don't know where to start.</p>\n"},{"tags":["java","arrays","button","2d"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1639616422,"post_id":70371004,"comment_id":124397308,"body_markdown":"See: https://stackoverflow.com/questions/70340694/how-to-randomize-placement-of-a-jlabel-on-a-gridlayout-of-jbuttons for a similar question asked a couple of days ago.","body":"See: <a href=\"https://stackoverflow.com/questions/70340694/how-to-randomize-placement-of-a-jlabel-on-a-gridlayout-of-jbuttons\" title=\"how to randomize placement of a jlabel on a gridlayout of jbuttons\">stackoverflow.com/questions/70340694/&hellip;</a> for a similar question asked a couple of days ago."}],"answers":[{"tags":[],"owner":{"account_id":14909559,"reputation":1,"user_id":10765542,"display_name":"Mike Charnecke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639706556,"creation_date":1639706556,"answer_id":70387630,"question_id":70371004,"body_markdown":"nvm, I got it I just made a separate array with values that differentiate the buttons bc they are in the same order.","title":"How to randomize the order of a 2d Array of buttons and have indevidual buttons do different things","body":"<p>nvm, I got it I just made a separate array with values that differentiate the buttons bc they are in the same order.</p>\n"}],"owner":{"account_id":14909559,"reputation":1,"user_id":10765542,"display_name":"Mike Charnecke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639706556,"creation_date":1639606654,"question_id":70371004,"body_markdown":"I am trying to use a 2D array of buttons that will be randomly generated in order, however, they do different things. Is there any way to use an action listener to do different things when clicking different buttons of the same 2d array? I want to keep 1 array because the buttons are on in a grid and it will be much simpler to do what I need to later If I can just use the coordinate of a button to change its color depending on what button is currently pressed. maybe there is a solution with grid layout where I can use coordinates of that or something? That way I could use multiple 2d arrays but then I need to have the different arrays randomly spread into the grid.\r\n\r\n\r\n    public class MyFrame extends JFrame implements ActionListener \r\n    \t{\r\n    \t\tJFrame mainWindow;\r\n    \t\tJLabel label = new JLabel();\r\n    \t\tprivate JButton[][] board = new JButton[8][8];\r\n    \t\t\r\n    \t\tMyFrame()\r\n    \t\t\t{\t\r\n    \t\t\t\tint[] piece = {1,1,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6};\r\n    \t\t\t\tthis.setSize(520,540);//setting main frame attributes\r\n    \t\t\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\t\tthis.setResizable(false);\r\n    \t\t\t\tthis.setLayout(new GridLayout(8,8));\t\t\t\t\r\n    \t\t\t\tthis.setPreferredSize(new Dimension(500,500));\r\n    \t\t\t\tthis.setLayout(new GridLayout(8,8));\r\n    \t\t\t\t\r\n    \t\t\t\tint a = 0;\r\n    \t\t\t\t\r\n    \t\t\t\t  for(int r = 0; r &lt; 8; r++)\r\n    \t\t\t\t    {\r\n    \t\t\t\t        for(int c = 0; c &lt; 8; c++)\r\n    \t\t\t\t\t        {\r\n    \t\t\t\t\t            board[r][c] = new JButton();\r\n    \t\t\t\t\t            \r\n    \t\t\t\t\t            board[r][c].addActionListener(this);\r\n    \t\t\t\t\t            \r\n    \t\t\t\t\t            board[r][c].putClientProperty(&quot;Type&quot;,1);\r\n    \t\t\t\t\t            \r\n    \t\t\t\t\t            this.add(board[r][c]);  \r\n    \t\t\t\t\t        }\r\n    \t\t\t\t    }\t\t\t\t  \r\n    \t\t\t\t setColor();\r\n    \t\t\t\t setVisible(true);\r\n    \t\t\t}\r\n    \t\tpublic void setColor() \r\n    \t\t\t{\r\n    \t\t\t\tint a = 0;\r\n    \t\t\t\tfor(int r = 0; r &lt; 8; r++)\r\n    \t\t\t\t    {\r\n    \t\t\t\t        for(int c = 0; c &lt; 8; c++)\r\n    \t\t\t\t\t        {\r\n    \t\t\t\t\t            if(a % 2 == 0)\r\n    \t\t\t\t\t            \t{\r\n    \t\t\t\t\t\t           \t\tboard[r][c].setBackground(Color.BLACK);\r\n    \t\t\t\t\t\t           \t}      \r\n    \t\t\t\t\t            a++;    \r\n    \t\t\t\t\t\t        \r\n    \t\t\t\t\t            if(c == 7) \r\n    \t\t\t\t\t\t            {\r\n    \t\t\t\t\t\t           \t\ta++;\r\n    \t\t\t\t\t\t           \t}  \r\n    \t\t\t\t\t\t    }\r\n    \t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) \r\n    \t\t\t{\r\n    \t\t\tif(e.getSource() == board.getClientProperty(&quot;Type&quot;,1)) \r\n    \t\t\t\t{//if button pressed create instance\r\n    \t\t\t\t\r\n    \t\t\t\t\tpeicePopup newWindow = new peicePopup(); \r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t}\r\n\r\nhere are my instructions\r\n\r\nUsing good OOP and GUI-based development, create a chessboard. A sample chessboard is shown. \r\n\r\nEach player has two Rooks, two Knights, two Bishops, a King, a Queen, and eight Pawns. Player One has white pieces while Player Two has black pieces. To show the pieces, you can either use icons (you can research chess piece images on the web) or use letters. For the latter, you could use K for King, Q for Queen, R for Rook, B for Bishop, KN for Knight, and P for Pawns. \r\n\r\nInitially, across the chessboard, place all the chess pieces, i.e., the black and white pieces, using a randomization. That is, when the program is run, all pieces are placed in a random order across the chessboard. Every run of the program will randomize the initial placement of the chess pieces. \r\n\r\nEach square of the chessboard should be a button that is actionable. When any empty square is clicked, a second window should open containing textual instructions on the movement of all the pieces of the chess game. The user should be able to close the second window without closing the first window, i.e., one displaying the chessboard. \r\n\r\nFor any of the chess pieces, when its square (button) is clicked, highlight the possible spots that piece can legally move to. A piece can only move to an empty square and as per the rules of the game. When highlighting the possible spots a piece can move to, use a different color for the different chess pieces. When another piece’s square is clicked the previously clicked piece’s possible movement positions are unhighlighted, while the possible spots of the newly clicked piece are highlighted. That is, the program highlights the possible spots for only one piece (when clicked) at a time on the chess board.\r\n","title":"How to randomize the order of a 2d Array of buttons and have indevidual buttons do different things","body":"<p>I am trying to use a 2D array of buttons that will be randomly generated in order, however, they do different things. Is there any way to use an action listener to do different things when clicking different buttons of the same 2d array? I want to keep 1 array because the buttons are on in a grid and it will be much simpler to do what I need to later If I can just use the coordinate of a button to change its color depending on what button is currently pressed. maybe there is a solution with grid layout where I can use coordinates of that or something? That way I could use multiple 2d arrays but then I need to have the different arrays randomly spread into the grid.</p>\n<pre><code>public class MyFrame extends JFrame implements ActionListener \n    {\n        JFrame mainWindow;\n        JLabel label = new JLabel();\n        private JButton[][] board = new JButton[8][8];\n        \n        MyFrame()\n            {   \n                int[] piece = {1,1,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6};\n                this.setSize(520,540);//setting main frame attributes\n                this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                this.setResizable(false);\n                this.setLayout(new GridLayout(8,8));                \n                this.setPreferredSize(new Dimension(500,500));\n                this.setLayout(new GridLayout(8,8));\n                \n                int a = 0;\n                \n                  for(int r = 0; r &lt; 8; r++)\n                    {\n                        for(int c = 0; c &lt; 8; c++)\n                            {\n                                board[r][c] = new JButton();\n                                \n                                board[r][c].addActionListener(this);\n                                \n                                board[r][c].putClientProperty(&quot;Type&quot;,1);\n                                \n                                this.add(board[r][c]);  \n                            }\n                    }                 \n                 setColor();\n                 setVisible(true);\n            }\n        public void setColor() \n            {\n                int a = 0;\n                for(int r = 0; r &lt; 8; r++)\n                    {\n                        for(int c = 0; c &lt; 8; c++)\n                            {\n                                if(a % 2 == 0)\n                                    {\n                                        board[r][c].setBackground(Color.BLACK);\n                                    }      \n                                a++;    \n                                \n                                if(c == 7) \n                                    {\n                                        a++;\n                                    }  \n                            }\n                    }\n            }\n        @Override\n        public void actionPerformed(ActionEvent e) \n            {\n            if(e.getSource() == board.getClientProperty(&quot;Type&quot;,1)) \n                {//if button pressed create instance\n                \n                    peicePopup newWindow = new peicePopup(); \n                \n                }\n            \n            }\n    }\n</code></pre>\n<p>here are my instructions</p>\n<p>Using good OOP and GUI-based development, create a chessboard. A sample chessboard is shown.</p>\n<p>Each player has two Rooks, two Knights, two Bishops, a King, a Queen, and eight Pawns. Player One has white pieces while Player Two has black pieces. To show the pieces, you can either use icons (you can research chess piece images on the web) or use letters. For the latter, you could use K for King, Q for Queen, R for Rook, B for Bishop, KN for Knight, and P for Pawns.</p>\n<p>Initially, across the chessboard, place all the chess pieces, i.e., the black and white pieces, using a randomization. That is, when the program is run, all pieces are placed in a random order across the chessboard. Every run of the program will randomize the initial placement of the chess pieces.</p>\n<p>Each square of the chessboard should be a button that is actionable. When any empty square is clicked, a second window should open containing textual instructions on the movement of all the pieces of the chess game. The user should be able to close the second window without closing the first window, i.e., one displaying the chessboard.</p>\n<p>For any of the chess pieces, when its square (button) is clicked, highlight the possible spots that piece can legally move to. A piece can only move to an empty square and as per the rules of the game. When highlighting the possible spots a piece can move to, use a different color for the different chess pieces. When another piece’s square is clicked the previously clicked piece’s possible movement positions are unhighlighted, while the possible spots of the newly clicked piece are highlighted. That is, the program highlights the possible spots for only one piece (when clicked) at a time on the chess board.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","flyway"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1639526304,"post_id":70356859,"comment_id":124370004,"body_markdown":"Guessing the default behavior converts `groupId` to snake_case, which results in the query as `select ..., group_id ...`.  Try specifying the column name, e.g., @Column(name = &quot;groupId&quot;)","body":"Guessing the default behavior converts <code>groupId</code> to snake_case, which results in the query as <code>select ..., group_id ...</code>.  Try specifying the column name, e.g., @Column(name = &quot;groupId&quot;)"},{"owner":{"account_id":1897555,"reputation":1117,"user_id":1714159,"accept_rate":92,"display_name":"Giles Thompson"},"score":0,"creation_date":1639535949,"post_id":70356859,"comment_id":124371713,"body_markdown":"Whilst in development you can just the DDL.update flag to true in your config file.","body":"Whilst in development you can just the DDL.update flag to true in your config file."}],"answers":[{"tags":[],"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639706367,"creation_date":1639704128,"answer_id":70387432,"question_id":70356859,"body_markdown":"I&#39;m not sure that you _can_ just script this directly in code. Flyway migrations are covered in the Spring Boot docs at https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-database-initialization.html#howto-use-a-higher-level-database-migration-tool.\r\n\r\nThe general idea is that you enable flyway, put the migration scripts in a common location, and spring initialization and flyway take over from there. &quot;Enable flyway&quot;, in our case, was just add the dependency to pom.xml (I _think_ that achieves what the docs describe as &quot;add the org.flywaydb:flyway-core to your classpath&quot;) and we put a property `spring.flyway.enabled=true` in application.properties.\r\n\r\nYour filename alone looks rather fishy; xyz.sql. Flyway migrations usually have the form `V&lt;VERSION&gt;__&lt;NAME&gt;.sql`. Note that those are 2 &#39;_&#39; in a row separating the &quot;Version string&quot; from the &quot;Name string&quot;.\r\n\r\nFlyway wants that name to be &quot;Version&quot; and if you do it with static sql in a db.migrations directory, the names look like...\r\n\r\n`Vabc__some_friendly_text.sql`\r\n\r\nFlyway is using the stuff to the right of that initial &quot;V&quot; to &quot;version&quot; the migrations. So &quot;xyz&quot; isn&#39;t a great place to start as there isn&#39;t much room for new migrations (xyz, xzz, yyz, yzz, zyz, zzz, uh oh...). Usually you see people using something like ISO-8601 strings there.\r\n\r\n```\r\nV20210101__create.sql\r\nV20210102__add_foo_table.sql\r\nV20210201__index_something_add_some_data.sql\r\n```\r\n\r\nI don&#39;t know if this is remotely what you asked...but this is how we leverage Flyway in Spring Boot to get our Database Schema under version control. The Spring Docs are a great place to start. The baeldung folks do a good summary too: https://www.baeldung.com/database-migrations-with-flyway","title":"How to add new column in existing pojo : Spring boot","body":"<p>I'm not sure that you <em>can</em> just script this directly in code. Flyway migrations are covered in the Spring Boot docs at <a href=\"https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-database-initialization.html#howto-use-a-higher-level-database-migration-tool\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-database-initialization.html#howto-use-a-higher-level-database-migration-tool</a>.</p>\n<p>The general idea is that you enable flyway, put the migration scripts in a common location, and spring initialization and flyway take over from there. &quot;Enable flyway&quot;, in our case, was just add the dependency to pom.xml (I <em>think</em> that achieves what the docs describe as &quot;add the org.flywaydb:flyway-core to your classpath&quot;) and we put a property <code>spring.flyway.enabled=true</code> in application.properties.</p>\n<p>Your filename alone looks rather fishy; xyz.sql. Flyway migrations usually have the form <code>V&lt;VERSION&gt;__&lt;NAME&gt;.sql</code>. Note that those are 2 '_' in a row separating the &quot;Version string&quot; from the &quot;Name string&quot;.</p>\n<p>Flyway wants that name to be &quot;Version&quot; and if you do it with static sql in a db.migrations directory, the names look like...</p>\n<p><code>Vabc__some_friendly_text.sql</code></p>\n<p>Flyway is using the stuff to the right of that initial &quot;V&quot; to &quot;version&quot; the migrations. So &quot;xyz&quot; isn't a great place to start as there isn't much room for new migrations (xyz, xzz, yyz, yzz, zyz, zzz, uh oh...). Usually you see people using something like ISO-8601 strings there.</p>\n<pre><code>V20210101__create.sql\nV20210102__add_foo_table.sql\nV20210201__index_something_add_some_data.sql\n</code></pre>\n<p>I don't know if this is remotely what you asked...but this is how we leverage Flyway in Spring Boot to get our Database Schema under version control. The Spring Docs are a great place to start. The baeldung folks do a good summary too: <a href=\"https://www.baeldung.com/database-migrations-with-flyway\" rel=\"nofollow noreferrer\">https://www.baeldung.com/database-migrations-with-flyway</a></p>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639706454,"creation_date":1639525397,"question_id":70356859,"body_markdown":"I am working on spring boot and using Postgres DB.\r\nI have a requirement like I need to add a new column in an existing table. \r\n    \r\n``` java\r\n    @Entity\r\n    @TypeDefs({@TypeDef(name = &quot;EnumUserType&quot;, typeClass = EnumUserType.class)})\r\n    public class P_user {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \r\n    &quot;p_user_row_id_generator&quot;)\r\n    @SequenceGenerator(name = &quot;p_user_row_id_generator&quot;,\r\n            sequenceName = &quot;p_user_row_id_sequence&quot;,\r\n            allocationSize = 50)\r\n    @Column(name = &quot;row_id&quot;)\r\n    private Long rowId;\r\n\r\n    private UUID p_Id;\r\n\r\n    private String username;\r\n\r\n    @Type(type = &quot;EnumUserType&quot;, parameters = {\r\n            @Parameter(name = &quot;enumClassName&quot;, value = &quot;P_userRole&quot;)})\r\n    private P_userRole role;\r\n\r\n    private Date startTime;\r\n\r\n    private Date endTime;\r\n\r\n\t//new Id tobe added\r\n\tprivate UUID groupId;\r\n\t}\r\n```\r\nI am uisng script to dynamically alter the table in db.\r\n\r\nin xyz.sql file\r\n\r\n      ALTER TABLE p_user ADD COLUMN groupId UUID;\r\n\r\n```  \r\n Caused by: org.springframework.beans.factory.BeanCreationException: Error creating \r\n   bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateSqlException: \r\n\t\r\n    Migration xyz.sql failed\r\n\t-----------------------------------------------\r\n\tSQL State  : 42701\r\n\tError Code : 0\r\n\tMessage    : ERROR: column &quot;groupid&quot; of relation &quot;p_user&quot; already exists\r\n\tLocation   : ../db/migration/xyz.sql \r\n\tLine       : 4\r\n\tStatement  : ALTER TABLE p_user ADD COLUMN groupId UUID\r\n```\r\n\r\nif i don&#39;t run this script then i get \r\n\r\n    ERROR: column &quot;group_id&quot; of relation &quot;p_user&quot; does not exist.\r\n\r\nHow can i get new column to existing the entity and i need to alter the table too in db.\r\n\r\nPlease help me here .Any suggestion is welcome!\r\nTIA!","title":"How to add new column in existing pojo : Spring boot","body":"<p>I am working on spring boot and using Postgres DB.\nI have a requirement like I need to add a new column in an existing table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @TypeDefs({@TypeDef(name = &quot;EnumUserType&quot;, typeClass = EnumUserType.class)})\n    public class P_user {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \n    &quot;p_user_row_id_generator&quot;)\n    @SequenceGenerator(name = &quot;p_user_row_id_generator&quot;,\n            sequenceName = &quot;p_user_row_id_sequence&quot;,\n            allocationSize = 50)\n    @Column(name = &quot;row_id&quot;)\n    private Long rowId;\n\n    private UUID p_Id;\n\n    private String username;\n\n    @Type(type = &quot;EnumUserType&quot;, parameters = {\n            @Parameter(name = &quot;enumClassName&quot;, value = &quot;P_userRole&quot;)})\n    private P_userRole role;\n\n    private Date startTime;\n\n    private Date endTime;\n\n    //new Id tobe added\n    private UUID groupId;\n    }\n</code></pre>\n<p>I am uisng script to dynamically alter the table in db.</p>\n<p>in xyz.sql file</p>\n<pre><code>  ALTER TABLE p_user ADD COLUMN groupId UUID;\n</code></pre>\n<pre><code> Caused by: org.springframework.beans.factory.BeanCreationException: Error creating \n   bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateSqlException: \n    \n    Migration xyz.sql failed\n    -----------------------------------------------\n    SQL State  : 42701\n    Error Code : 0\n    Message    : ERROR: column &quot;groupid&quot; of relation &quot;p_user&quot; already exists\n    Location   : ../db/migration/xyz.sql \n    Line       : 4\n    Statement  : ALTER TABLE p_user ADD COLUMN groupId UUID\n</code></pre>\n<p>if i don't run this script then i get</p>\n<pre><code>ERROR: column &quot;group_id&quot; of relation &quot;p_user&quot; does not exist.\n</code></pre>\n<p>How can i get new column to existing the entity and i need to alter the table too in db.</p>\n<p>Please help me here .Any suggestion is welcome!\nTIA!</p>\n"},{"tags":["java","sockets","networking","client-server"],"answers":[{"tags":[],"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1334931768,"creation_date":1334900222,"answer_id":10240832,"question_id":10240694,"body_markdown":"It is general practice in various messaging protocols to keep heartbeating each other (keep sending ping packets) the packet does not need to be very large. The probing mechanism will allow you to detect the disconnected client even before TCP figures it out in general (TCP timeout is far higher) Send a probe and wait for say 5 seconds for a reply, if you do not see reply for say 2-3 subsequent probes, your player is disconnected.\r\n\r\nAlso, [related question](https://stackoverflow.com/questions/485855/how-do-you-handle-socket-disconnecting-in-java)","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>It is general practice in various messaging protocols to keep heartbeating each other (keep sending ping packets) the packet does not need to be very large. The probing mechanism will allow you to detect the disconnected client even before TCP figures it out in general (TCP timeout is far higher) Send a probe and wait for say 5 seconds for a reply, if you do not see reply for say 2-3 subsequent probes, your player is disconnected.</p>\n\n<p>Also, <a href=\"https://stackoverflow.com/questions/485855/how-do-you-handle-socket-disconnecting-in-java\">related question</a></p>\n"},{"tags":[],"owner":{"account_id":1221697,"reputation":91,"user_id":1188223,"display_name":"Scottley"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1334900427,"creation_date":1334900427,"answer_id":10240854,"question_id":10240694,"body_markdown":"I see the other answer just posted, but I think you are interactive with clients playing your game, so I may pose another approach (while BufferedReader is definitely valid in some cases).\r\n\r\nIf you wanted to... you could delegate the &quot;registration&quot; responsibility to the client. I.e. you would have a collection of connected users with a timestamp on the last message received from each... if a client times out, you would force a re-registration of the client, but that leads to the quote and idea below.\r\n\r\n&gt; I have read that to actually determine whether or not a socket has\r\n&gt; been closed data must be written to the output stream and an exception\r\n&gt; must be caught. This seems like a really unclean way to handle this\r\n&gt; situation.\r\n\r\nIf your Java code did not close/disconnect the Socket, then how else would you be notified that the remote host closed your connection?  Ultimately, your try/catch is doing roughly the same thing that a poller listening for events on the ACTUAL socket would be doing.  Consider the following:\r\n\r\n - your local system could close your socket without notifying you... that is just the implementation of Socket (i.e. it doesn&#39;t poll the hardware/driver/firmware/whatever for state change).\r\n - new Socket(Proxy p)... there are multiple parties (6 endpoints really) that could be closing the connection on you...\r\n\r\nI think one of the features of the abstracted languages is that you are abstracted from the minutia.  Think of the using keyword in C# (try/finally) for SqlConnection s or whatever... it&#39;s just the cost of doing business... I think that try/catch/finally is the accepted and necesary pattern for Socket use.","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>I see the other answer just posted, but I think you are interactive with clients playing your game, so I may pose another approach (while BufferedReader is definitely valid in some cases).</p>\n\n<p>If you wanted to... you could delegate the \"registration\" responsibility to the client. I.e. you would have a collection of connected users with a timestamp on the last message received from each... if a client times out, you would force a re-registration of the client, but that leads to the quote and idea below.</p>\n\n<blockquote>\n  <p>I have read that to actually determine whether or not a socket has\n  been closed data must be written to the output stream and an exception\n  must be caught. This seems like a really unclean way to handle this\n  situation.</p>\n</blockquote>\n\n<p>If your Java code did not close/disconnect the Socket, then how else would you be notified that the remote host closed your connection?  Ultimately, your try/catch is doing roughly the same thing that a poller listening for events on the ACTUAL socket would be doing.  Consider the following:</p>\n\n<ul>\n<li>your local system could close your socket without notifying you... that is just the implementation of Socket (i.e. it doesn't poll the hardware/driver/firmware/whatever for state change).</li>\n<li>new Socket(Proxy p)... there are multiple parties (6 endpoints really) that could be closing the connection on you...</li>\n</ul>\n\n<p>I think one of the features of the abstracted languages is that you are abstracted from the minutia.  Think of the using keyword in C# (try/finally) for SqlConnection s or whatever... it's just the cost of doing business... I think that try/catch/finally is the accepted and necesary pattern for Socket use.</p>\n"},{"tags":[],"owner":{"account_id":61658,"reputation":4802,"user_id":183652,"accept_rate":45,"display_name":"Ehsan Khodarahmi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1334901320,"creation_date":1334901320,"answer_id":10240995,"question_id":10240694,"body_markdown":"I think this is nature of tcp connections, in that standards it takes about 6 minutes of  silence in transmission before we conclude that out connection is gone!\r\nSo I don`t think you can find an exact solution for this problem. Maybe the better way is to write some handy code to guess when server should suppose a user connection is closed.","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>I think this is nature of tcp connections, in that standards it takes about 6 minutes of  silence in transmission before we conclude that out connection is gone!\nSo I don`t think you can find an exact solution for this problem. Maybe the better way is to write some handy code to guess when server should suppose a user connection is closed.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":3,"up_vote_count":219,"is_accepted":false,"score":216,"last_activity_date":1463616974,"creation_date":1334901643,"answer_id":10241044,"question_id":10240694,"body_markdown":"There is no TCP API that will tell you the current state of the connection. `isConnected()` and `isClosed()` tell you the current state *of your socket*. Not the same thing.\r\n\r\n1. `isConnected()` tells you whether *you* have connected *this socket*. You have, so it returns true.\r\n\r\n2. `isClosed()` tells you whether *you* have closed *this socket.* Until you have, it returns false.\r\n\r\n3. If the *peer* has closed the *connection* in an orderly way \r\n\r\n - `read()` returns -1\r\n- `readLine()` returns `null`\r\n- `readXXX()` throws `EOFException` for any other XXX.\r\n\r\n - A write will throw an `IOException`: &#39;connection reset by peer&#39;, eventually, subject to buffering delays.\r\n\r\n4. If the connection has dropped for any other reason, a write will throw an `IOException`, eventually, as above, and a read may do the same thing.\r\n\r\n5. If the peer is still connected but not using the connection, a read timeout can be used.\r\n\r\n6. Contrary to what you may read elsewhere, `ClosedChannelException` doesn&#39;t tell you this. [Neither does `SocketException: socket closed.`] It only tells you that *you* closed the *channel,* and then continued to use it. In other words, a programming error on your part. It does not indicate a closed *connection.*\r\n\r\n7. As a result of some experiments with Java 7 on Windows XP it also appears that if:\r\n\r\n- you&#39;re selecting on `OP_READ`\r\n- `select()` returns a value of greater than zero\r\n- the associated `SelectionKey` is already invalid (`key.isValid() == false`)\r\n\r\n    it means the peer has reset the connection. However this may be peculiar to either the JRE version or platform.\r\n\r\n","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>There is no TCP API that will tell you the current state of the connection. <code>isConnected()</code> and <code>isClosed()</code> tell you the current state <em>of your socket</em>. Not the same thing.</p>\n\n<ol>\n<li><p><code>isConnected()</code> tells you whether <em>you</em> have connected <em>this socket</em>. You have, so it returns true.</p></li>\n<li><p><code>isClosed()</code> tells you whether <em>you</em> have closed <em>this socket.</em> Until you have, it returns false.</p></li>\n<li><p>If the <em>peer</em> has closed the <em>connection</em> in an orderly way </p>\n\n<ul>\n<li><code>read()</code> returns -1</li>\n<li><code>readLine()</code> returns <code>null</code></li>\n<li><p><code>readXXX()</code> throws <code>EOFException</code> for any other XXX.</p></li>\n<li><p>A write will throw an <code>IOException</code>: 'connection reset by peer', eventually, subject to buffering delays.</p></li>\n</ul></li>\n<li><p>If the connection has dropped for any other reason, a write will throw an <code>IOException</code>, eventually, as above, and a read may do the same thing.</p></li>\n<li><p>If the peer is still connected but not using the connection, a read timeout can be used.</p></li>\n<li><p>Contrary to what you may read elsewhere, <code>ClosedChannelException</code> doesn't tell you this. [Neither does <code>SocketException: socket closed.</code>] It only tells you that <em>you</em> closed the <em>channel,</em> and then continued to use it. In other words, a programming error on your part. It does not indicate a closed <em>connection.</em></p></li>\n<li><p>As a result of some experiments with Java 7 on Windows XP it also appears that if:</p>\n\n<ul>\n<li>you're selecting on <code>OP_READ</code></li>\n<li><code>select()</code> returns a value of greater than zero</li>\n<li>the associated <code>SelectionKey</code> is already invalid (<code>key.isValid() == false</code>)</li>\n</ul>\n\n<p>it means the peer has reset the connection. However this may be peculiar to either the JRE version or platform.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11016614,"reputation":13,"user_id":8092280,"display_name":"MikeK"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1496237342,"creation_date":1496237342,"answer_id":44286162,"question_id":10240694,"body_markdown":"On Linux when write()ing into a socket which the other side, unknown to you, closed will provoke a SIGPIPE signal/exception however you want to call it. However if you don&#39;t want to be caught out by the SIGPIPE you can use send() with the flag MSG_NOSIGNAL. The send() call will return with -1 and in this case you can check errno which will tell you that you tried to write a broken pipe (in this case a socket) with the value EPIPE which according to errno.h is equivalent to 32. As a reaction to the EPIPE you could double back and try to reopen the socket and try to send your information again.","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>On Linux when write()ing into a socket which the other side, unknown to you, closed will provoke a SIGPIPE signal/exception however you want to call it. However if you don't want to be caught out by the SIGPIPE you can use send() with the flag MSG_NOSIGNAL. The send() call will return with -1 and in this case you can check errno which will tell you that you tried to write a broken pipe (in this case a socket) with the value EPIPE which according to errno.h is equivalent to 32. As a reaction to the EPIPE you could double back and try to reopen the socket and try to send your information again.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546518566,"creation_date":1546518566,"answer_id":54022325,"question_id":10240694,"body_markdown":"As @user207421 say there is no way to know the current state of the connection because of the TCP/IP Protocol Architecture Model. So the server has to notice you before closing the connection or you check it by yourself. &lt;br&gt;\r\nThis is a simple example that shows how to know the socket is closed by the server:\r\n\r\n    sockAdr = new InetSocketAddress(SERVER_HOSTNAME, SERVER_PORT);\r\n    socket = new Socket();\r\n    timeout = 5000;\r\n    socket.connect(sockAdr, timeout);\r\n    reader = new BufferedReader(new InputStreamReader(socket.getInputStream());\r\n    while ((data = reader.readLine())!=null) \r\n          log.e(TAG, &quot;received -&gt; &quot; + data);\r\n    log.e(TAG, &quot;Socket closed !&quot;);\r\n","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>As @user207421 say there is no way to know the current state of the connection because of the TCP/IP Protocol Architecture Model. So the server has to notice you before closing the connection or you check it by yourself. <br>\nThis is a simple example that shows how to know the socket is closed by the server:</p>\n\n<pre><code>sockAdr = new InetSocketAddress(SERVER_HOSTNAME, SERVER_PORT);\nsocket = new Socket();\ntimeout = 5000;\nsocket.connect(sockAdr, timeout);\nreader = new BufferedReader(new InputStreamReader(socket.getInputStream());\nwhile ((data = reader.readLine())!=null) \n      log.e(TAG, \"received -&gt; \" + data);\nlog.e(TAG, \"Socket closed !\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13730819,"reputation":124,"user_id":11202759,"display_name":"Petar Ceho"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564700603,"creation_date":1564700603,"answer_id":57318009,"question_id":10240694,"body_markdown":"Thats how I handle it \r\n\r\n\r\n     while(true) {\r\n            if((receiveMessage = receiveRead.readLine()) != null ) {  \r\n\r\n            System.out.println(&quot;first message same :&quot;+receiveMessage);\r\n            System.out.println(receiveMessage); \t \r\n            \t \r\n            }\r\n            else if(receiveRead.readLine()==null)\r\n            {\r\n\r\n            System.out.println(&quot;Client has disconected: &quot;+sock.isClosed());\t\r\n            System.exit(1);\r\n             }    } \r\nif the result.code == null \r\n\r\n\r\n\r\n ","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>Thats how I handle it </p>\n\n<pre><code> while(true) {\n        if((receiveMessage = receiveRead.readLine()) != null ) {  \n\n        System.out.println(\"first message same :\"+receiveMessage);\n        System.out.println(receiveMessage);      \n\n        }\n        else if(receiveRead.readLine()==null)\n        {\n\n        System.out.println(\"Client has disconected: \"+sock.isClosed()); \n        System.exit(1);\n         }    } \n</code></pre>\n\n<p>if the result.code == null </p>\n"},{"tags":[],"owner":{"account_id":949732,"reputation":1711,"user_id":976115,"accept_rate":43,"display_name":"hurelhuyag"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598236234,"creation_date":1598236234,"answer_id":63554001,"question_id":10240694,"body_markdown":"I faced similar problem. In my case client must send data periodically. I hope you have same requirement. Then I set SO_TIMEOUT `socket.setSoTimeout(1000 * 60 * 5);` which is throw `java.net.SocketTimeoutException` when specified time is expired. Then I can detect dead client easily.","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>I faced similar problem. In my case client must send data periodically. I hope you have same requirement. Then I set SO_TIMEOUT <code>socket.setSoTimeout(1000 * 60 * 5);</code> which is throw <code>java.net.SocketTimeoutException</code> when specified time is expired. Then I can detect dead client easily.</p>\n"},{"tags":[],"owner":{"account_id":3180051,"reputation":101,"user_id":2687015,"display_name":"Thomas."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606427321,"creation_date":1606427321,"answer_id":65029614,"question_id":10240694,"body_markdown":"Here you are another general solution for any data type.\r\n\r\n```java\r\nint offset = 0;\r\nbyte[] buffer = new byte[8192];\r\n\r\ntry {\r\n    do {\r\n        int b = inputStream.read();\r\n\r\n        if (b == -1)\r\n           break;\r\n\r\n        buffer[offset++] = (byte) b;\r\n\r\n        //check offset with buffer length and reallocate array if needed\r\n    } while (inputStream.available() &gt; 0);\r\n} catch (SocketException e) {\r\n    //connection was lost\r\n}\r\n\r\n//process buffer\r\n```","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>Here you are another general solution for any data type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int offset = 0;\nbyte[] buffer = new byte[8192];\n\ntry {\n    do {\n        int b = inputStream.read();\n\n        if (b == -1)\n           break;\n\n        buffer[offset++] = (byte) b;\n\n        //check offset with buffer length and reallocate array if needed\n    } while (inputStream.available() &gt; 0);\n} catch (SocketException e) {\n    //connection was lost\n}\n\n//process buffer\n</code></pre>\n"}],"owner":{"account_id":1421074,"reputation":1161,"user_id":1345652,"display_name":"Dan Brouwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138845,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"answer_count":9,"score":116,"last_activity_date":1639706376,"creation_date":1334899259,"question_id":10240694,"body_markdown":"I am running into some issues with the Java socket API. I am trying to display the number of players currently connected to my game.  It is easy to determine when a player has connected.  However, it seems unnecessarily difficult to determine when a player has disconnected using the socket API.\r\n\r\nCalling `isConnected()` on a socket that has been disconnected remotely always seems to return `true`.  Similarly, calling `isClosed()` on a socket that has been closed remotely always seems to return `false`.  I have read that to actually determine whether or not a socket has been closed, data must be written to the output stream and an exception must be caught.  This seems like a really unclean way to handle this situation.  We would just constantly have to spam a garbage message over the network to ever know when a socket had closed.\r\n\r\nIs there any other solution?","title":"Java socket API: How to tell if a connection has been closed?","body":"<p>I am running into some issues with the Java socket API. I am trying to display the number of players currently connected to my game.  It is easy to determine when a player has connected.  However, it seems unnecessarily difficult to determine when a player has disconnected using the socket API.</p>\n\n<p>Calling <code>isConnected()</code> on a socket that has been disconnected remotely always seems to return <code>true</code>.  Similarly, calling <code>isClosed()</code> on a socket that has been closed remotely always seems to return <code>false</code>.  I have read that to actually determine whether or not a socket has been closed, data must be written to the output stream and an exception must be caught.  This seems like a really unclean way to handle this situation.  We would just constantly have to spam a garbage message over the network to ever know when a socket had closed.</p>\n\n<p>Is there any other solution?</p>\n"},{"tags":["java","csv","filter","parameters","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1639692820,"post_id":70386194,"comment_id":124421412,"body_markdown":"What doesn&#39;t work? Please include a [mcve].","body":"What doesn&#39;t work? Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1639693403,"post_id":70386194,"comment_id":124421566,"body_markdown":"By the way, you have a wealth of Java libraries to choose from that handle CSV files for you.","body":"By the way, you have a wealth of Java libraries to choose from that handle CSV files for you."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639693551,"post_id":70386194,"comment_id":124421623,"body_markdown":"Actually, [CSV](https://en.wikipedia.org/wiki/Comma-separated_values) use COMMA as delimiter, not the SEMICOLON seen in your sample.","body":"Actually, <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV</a> use COMMA as delimiter, not the SEMICOLON seen in your sample."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":1,"creation_date":1639694162,"post_id":70386194,"comment_id":124421763,"body_markdown":"If you can use a library [univocity-parsers](https://www.univocity.com/pages/univocity_parsers_tutorial) is a great option to handle CSV files.","body":"If you can use a library <a href=\"https://www.univocity.com/pages/univocity_parsers_tutorial\" rel=\"nofollow noreferrer\">univocity-parsers</a> is a great option to handle CSV files."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1639694564,"post_id":70386194,"comment_id":124421850,"body_markdown":"You have one line of a CSV file and the fields could be a variety of types.  You need to provide a [mre] as asked and include additional details on exactly what you want to do,  Show output for specific input.","body":"You have one line of a CSV file and the fields could be a variety of types.  You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as asked and include additional details on exactly what you want to do,  Show output for specific input."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1639696425,"post_id":70386194,"comment_id":124422240,"body_markdown":"What is `data` that has `contains()` method: a String representing entire file, a collection of strings (each representing a cell), a fancy class?  What is the purpose of counting the matched parameters?  Should not you need a filtered collection of rows which contain the parameters?  Should _all_ parameters be found or _any_ of them?","body":"What is <code>data</code> that has <code>contains()</code> method: a String representing entire file, a collection of strings (each representing a cell), a fancy class?  What is the purpose of counting the matched parameters?  Should not you need a filtered collection of rows which contain the parameters?  Should <i>all</i> parameters be found or <i>any</i> of them?"}],"answers":[{"tags":[],"owner":{"account_id":22429349,"reputation":130,"user_id":16635445,"display_name":"evren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639693943,"creation_date":1639693943,"answer_id":70386395,"question_id":70386194,"body_markdown":"It will be good to add a [minimal, reproducible example][1] as stated but assuming you want to collect the params that exist in the data.\r\n\r\nSo, you can try the below code snippet;\r\n\r\n        \r\n    List&lt;String&gt; params = new ArrayList&lt;&gt;();\r\n    params.add(&quot;Newcastle&quot;);\r\n    params.add(&quot;H&quot;);\r\n    params.add(&quot;E&quot;);\r\n    \r\n            \r\n    List&lt;String&gt; data = Arrays.asList(&quot;17/08/2019&quot;,&quot;15:0&quot;,&quot;Norwich&quot;,&quot;Newcastle&quot;,&quot;3&quot;,&quot;1&quot;,&quot;H&quot;,&quot;S Attwell&quot;,&quot;1&quot;,&quot;3&quot;,&quot;0&quot;,&quot;0&quot;);\r\n    \r\n    List&lt;String&gt; existingParamList = params.stream()\r\n        .filter(data::contains)\r\n        .collect(Collectors.toList());\r\n\r\n\r\nIf it is not the case, pls add an example.\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"How to check params in a stream in java?","body":"<p>It will be good to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> as stated but assuming you want to collect the params that exist in the data.</p>\n<p>So, you can try the below code snippet;</p>\n<pre><code>List&lt;String&gt; params = new ArrayList&lt;&gt;();\nparams.add(&quot;Newcastle&quot;);\nparams.add(&quot;H&quot;);\nparams.add(&quot;E&quot;);\n\n        \nList&lt;String&gt; data = Arrays.asList(&quot;17/08/2019&quot;,&quot;15:0&quot;,&quot;Norwich&quot;,&quot;Newcastle&quot;,&quot;3&quot;,&quot;1&quot;,&quot;H&quot;,&quot;S Attwell&quot;,&quot;1&quot;,&quot;3&quot;,&quot;0&quot;,&quot;0&quot;);\n\nList&lt;String&gt; existingParamList = params.stream()\n    .filter(data::contains)\n    .collect(Collectors.toList());\n</code></pre>\n<p>If it is not the case, pls add an example.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639705928,"creation_date":1639694110,"answer_id":70386418,"question_id":70386194,"body_markdown":"# tl;r\r\n\r\n    List\r\n    .of( &quot;Newcastle&quot; , &quot;H&quot; )  \r\n    .stream()\r\n    .anyMatch( \r\n        List\r\n        .of( \r\n            &quot;17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0&quot;\r\n            .split( &quot;;&quot; )  // Returns an array of `String` objects.\r\n        )                  // Returns a `List` object.\r\n        :: contains        // Defines a method reference, to be passed as a `Predicate` object in our call to `Stream#anyMatch`.\r\n    )\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt; true\r\n\r\n\r\n# Details\r\n\r\nParse your input string into pieces, using SEMICOLON as the delimiter.\r\n\r\n    List &lt; String &gt; inputs = List.of( &quot;17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0&quot;.split( &quot;;&quot; ) ) ;\r\n\r\nThat line above first parses the input string into an array of `String` objects, by calling `String#split`. That array is then passed to `List.of` to instantiate a `List` collection object.\r\n\r\nDefine your targets. \r\n\r\n    List &lt; String &gt; targets = List.of( &quot;Newcastle&quot; , &quot;H&quot; ) ;\r\n\r\nRun your comparison. Use `Stream#anyMatch` to stop comparing after one hit.\r\n\r\n    boolean inputsContainAtLeastOneTarget = \r\n        targets.stream().anyMatch( target -&gt; inputs.contains( target ) ) ;\r\n\r\nWe could shorten that `.anyMatch` call by using a method reference.\r\n\r\n    boolean inputsContainAtLeastOneTarget = \r\n         targets.stream().anyMatch( inputs :: contains ) ;\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n&gt;true\r\n\r\n\r\n  [1]: https://ideone.com/ZQ8prZ\r\n  [2]: https://ideone.com/qnPf61","title":"How to check params in a stream in java?","body":"<h1>tl;r</h1>\n<pre><code>List\n.of( &quot;Newcastle&quot; , &quot;H&quot; )  \n.stream()\n.anyMatch( \n    List\n    .of( \n        &quot;17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0&quot;\n        .split( &quot;;&quot; )  // Returns an array of `String` objects.\n    )                  // Returns a `List` object.\n    :: contains        // Defines a method reference, to be passed as a `Predicate` object in our call to `Stream#anyMatch`.\n)\n</code></pre>\n<p>See this <a href=\"https://ideone.com/ZQ8prZ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>true</p>\n</blockquote>\n<h1>Details</h1>\n<p>Parse your input string into pieces, using SEMICOLON as the delimiter.</p>\n<pre><code>List &lt; String &gt; inputs = List.of( &quot;17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0&quot;.split( &quot;;&quot; ) ) ;\n</code></pre>\n<p>That line above first parses the input string into an array of <code>String</code> objects, by calling <code>String#split</code>. That array is then passed to <code>List.of</code> to instantiate a <code>List</code> collection object.</p>\n<p>Define your targets.</p>\n<pre><code>List &lt; String &gt; targets = List.of( &quot;Newcastle&quot; , &quot;H&quot; ) ;\n</code></pre>\n<p>Run your comparison. Use <code>Stream#anyMatch</code> to stop comparing after one hit.</p>\n<pre><code>boolean inputsContainAtLeastOneTarget = \n    targets.stream().anyMatch( target -&gt; inputs.contains( target ) ) ;\n</code></pre>\n<p>We could shorten that <code>.anyMatch</code> call by using a method reference.</p>\n<pre><code>boolean inputsContainAtLeastOneTarget = \n     targets.stream().anyMatch( inputs :: contains ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/qnPf61\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>true</p>\n</blockquote>\n"}],"owner":{"account_id":15936882,"reputation":1,"user_id":11499818,"display_name":"komlo"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1639699900,"accepted_answer_id":70386395,"answer_count":2,"score":-5,"last_activity_date":1639705928,"creation_date":1639692364,"question_id":70386194,"body_markdown":"I have a .csv file like this:\r\n\r\n    17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0\r\n\r\nI have to implement a &quot;process&quot; class to work with the data.\r\nGet a string array with parameters to search for like:\r\n\r\n    List&lt;String&gt; params = new ArrayList&lt;&gt;();\r\n    params.add(&quot;Newcastle&quot;);\r\n    params.add(&quot;H&quot;);\r\n\r\nI have to work with streams to find the params in the string.\r\nI tried this but not works:\r\n\r\n    return params.stream()\r\n     .filter(item -&gt; data.contains(item))\r\n     .count();\r\n\r\ndata is the .csv file read in and parsed.","title":"How to check params in a stream in java?","body":"<p>I have a .csv file like this:</p>\n<pre><code>17/08/2019;15:00;Norwich;Newcastle;3;1;H;S Attwell;1;3;0;0\n</code></pre>\n<p>I have to implement a &quot;process&quot; class to work with the data.\nGet a string array with parameters to search for like:</p>\n<pre><code>List&lt;String&gt; params = new ArrayList&lt;&gt;();\nparams.add(&quot;Newcastle&quot;);\nparams.add(&quot;H&quot;);\n</code></pre>\n<p>I have to work with streams to find the params in the string.\nI tried this but not works:</p>\n<pre><code>return params.stream()\n .filter(item -&gt; data.contains(item))\n .count();\n</code></pre>\n<p>data is the .csv file read in and parsed.</p>\n"},{"tags":["java","javasound"],"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":3,"creation_date":1639669264,"post_id":70381705,"comment_id":124412932,"body_markdown":"Possibly related to [this](https://stackoverflow.com/a/38339938/991710) question and its answer. Have you tried wrapping `Audio.class.getClassLoader().getResourceAsStream(path)` in a `new BufferedInputStream()` (or other `InputStream` implementations which support `mark/reset`?","body":"Possibly related to <a href=\"https://stackoverflow.com/a/38339938/991710\">this</a> question and its answer. Have you tried wrapping <code>Audio.class.getClassLoader().getResourceAsStream(path)</code> in a <code>new BufferedInputStream()</code> (or other <code>InputStream</code> implementations which support <code>mark&#47;reset</code>?"},{"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"score":0,"creation_date":1639669734,"post_id":70381705,"comment_id":124413161,"body_markdown":"@filpa Thanks a lot! It turned out that the solution is ridiculously simple XD I obviously should rediscover java.io for myself...","body":"@filpa Thanks a lot! It turned out that the solution is ridiculously simple XD I obviously should rediscover java.io for myself..."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639704758,"creation_date":1639704077,"answer_id":70387427,"question_id":70381705,"body_markdown":"A simpler way to bring in sound resources is to use `getResource()` instead of `getResourceAsStream()`. There is no need to wrap in that case. If you provide a `URL` to the `getAudioInputStream()` method instead of an `InputStream`, issues/errors pertaining to mark/reset capabilities are avoided.\r\n\r\nThere are examples posted at Stackoverflow&#39;s [info area for the javasound tag][1]. Basically:\r\n\r\n    URL url = YourClass.class.getResource(&quot;youraudio.wav&quot;);\r\n    AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(url);\r\n\r\nThe above assumes the audio resource is in the same folder as the class YourClass. \r\n\r\nP.S. If you prefer the answer (using `getResourceAsStream()` and wrapping, please actually write this as an answer, and select it. Otherwise this question will lure in people who like to help others, thinking this question has not yet been answered. Alternatively, invite @filpa to post his info as an answer and select it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/javasound/info","title":"An IOexception when I try to get an InputStream connected with a file inside a jar Java Sound API","body":"<p>A simpler way to bring in sound resources is to use <code>getResource()</code> instead of <code>getResourceAsStream()</code>. There is no need to wrap in that case. If you provide a <code>URL</code> to the <code>getAudioInputStream()</code> method instead of an <code>InputStream</code>, issues/errors pertaining to mark/reset capabilities are avoided.</p>\n<p>There are examples posted at Stackoverflow's <a href=\"https://stackoverflow.com/tags/javasound/info\">info area for the javasound tag</a>. Basically:</p>\n<pre><code>URL url = YourClass.class.getResource(&quot;youraudio.wav&quot;);\nAudioInputStream audioInputStream = AudioSystem.getAudioInputStream(url);\n</code></pre>\n<p>The above assumes the audio resource is in the same folder as the class YourClass.</p>\n<p>P.S. If you prefer the answer (using <code>getResourceAsStream()</code> and wrapping, please actually write this as an answer, and select it. Otherwise this question will lure in people who like to help others, thinking this question has not yet been answered. Alternatively, invite @filpa to post his info as an answer and select it.</p>\n"}],"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70387427,"answer_count":1,"score":1,"last_activity_date":1639704758,"creation_date":1639668905,"question_id":70381705,"body_markdown":"I am writting a simple method to play sounds using Java Sound API. My idea is to play only .wav files included in the jar. With images I can easily get an `InputStream` using `ClassLoader.getResourceAsStream()` and load an image from this stream. However, when I use the same approach with sounds, I get an `IOException`.\r\n\r\n```\r\nCaused by: java.io.IOException: mark/reset not supported\r\n\tat java.base/java.util.zip.InflaterInputStream.reset(InflaterInputStream.java:290)\r\n\tat java.base/java.io.FilterInputStream.reset(FilterInputStream.java:224)\r\n\tat java.desktop/com.sun.media.sound.SunFileReader.getAudioFileFormat(SunFileReader.java:59)\r\n\tat java.desktop/com.sun.media.sound.WaveExtensibleFileReader.getAudioInputStream(WaveExtensibleFileReader.java:259)\r\n\tat java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1010)\r\n\tat ru.mrkefir.stepan.engine.sound.Audio.playImpl(Audio.java:34)\r\n```\r\n\r\nThe cause is `AudioSystem.getAudioInputStream()` which I use from the following code:\r\n\r\n```\r\nAudioInputStream stream = AudioSystem.getAudioInputStream(\r\n     Audio.class.getClassLoader().getResourceAsStream(path)\r\n);\r\nClip clip = AudioSystem.getClip();\r\nclip.open(stream);\r\nclip.setFramePosition(0);\r\nclip.start();\r\n```\r\n\r\nI check that resulting InputStream can be read and obviously it isn&#39;t null. As I understand from the description of exception, Java Sound API and particularly the `AudioSystem` class, which I use to get an instance of `AudioInputStream`, try to use mark or reset operations on underlaying `InputStream`. Seems like these operations are not allowed on such input streams. \r\n\r\nI am completely confused. It&#39;s strange for me that `javax.sound.sampled.AudioSystem` reads an `InputStream` in completely different way than `javax.imageio.ImageIO` (with `ImageIO` I can read images from a jar without problems).\r\n\r\nHow can I fix it? I may obviously read a regular file, not from the jar, but if it is possible, I want to read sounds exactly from jars.\r\n\r\nI tried to run this code with Java 8.0.302-open and Java 16.0.2-open. Besides, if this problem is platform specific, I use Desktop Ubuntu 20.04 with Linux Kernel version 5.11.0-41-generic and, unfortunatly, I don&#39;t have an opportunity to test this code on other platforms.\r\n\r\n**SOLVED** Thanks for @filpa, the solution is to wrap a `InputStream` obtained by `ClassLoader.getResourceAsStream()` into `BufferedInputStream` or any other input stream which supported `mark/reset` operations. ","title":"An IOexception when I try to get an InputStream connected with a file inside a jar Java Sound API","body":"<p>I am writting a simple method to play sounds using Java Sound API. My idea is to play only .wav files included in the jar. With images I can easily get an <code>InputStream</code> using <code>ClassLoader.getResourceAsStream()</code> and load an image from this stream. However, when I use the same approach with sounds, I get an <code>IOException</code>.</p>\n<pre><code>Caused by: java.io.IOException: mark/reset not supported\n    at java.base/java.util.zip.InflaterInputStream.reset(InflaterInputStream.java:290)\n    at java.base/java.io.FilterInputStream.reset(FilterInputStream.java:224)\n    at java.desktop/com.sun.media.sound.SunFileReader.getAudioFileFormat(SunFileReader.java:59)\n    at java.desktop/com.sun.media.sound.WaveExtensibleFileReader.getAudioInputStream(WaveExtensibleFileReader.java:259)\n    at java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1010)\n    at ru.mrkefir.stepan.engine.sound.Audio.playImpl(Audio.java:34)\n</code></pre>\n<p>The cause is <code>AudioSystem.getAudioInputStream()</code> which I use from the following code:</p>\n<pre><code>AudioInputStream stream = AudioSystem.getAudioInputStream(\n     Audio.class.getClassLoader().getResourceAsStream(path)\n);\nClip clip = AudioSystem.getClip();\nclip.open(stream);\nclip.setFramePosition(0);\nclip.start();\n</code></pre>\n<p>I check that resulting InputStream can be read and obviously it isn't null. As I understand from the description of exception, Java Sound API and particularly the <code>AudioSystem</code> class, which I use to get an instance of <code>AudioInputStream</code>, try to use mark or reset operations on underlaying <code>InputStream</code>. Seems like these operations are not allowed on such input streams.</p>\n<p>I am completely confused. It's strange for me that <code>javax.sound.sampled.AudioSystem</code> reads an <code>InputStream</code> in completely different way than <code>javax.imageio.ImageIO</code> (with <code>ImageIO</code> I can read images from a jar without problems).</p>\n<p>How can I fix it? I may obviously read a regular file, not from the jar, but if it is possible, I want to read sounds exactly from jars.</p>\n<p>I tried to run this code with Java 8.0.302-open and Java 16.0.2-open. Besides, if this problem is platform specific, I use Desktop Ubuntu 20.04 with Linux Kernel version 5.11.0-41-generic and, unfortunatly, I don't have an opportunity to test this code on other platforms.</p>\n<p><strong>SOLVED</strong> Thanks for @filpa, the solution is to wrap a <code>InputStream</code> obtained by <code>ClassLoader.getResourceAsStream()</code> into <code>BufferedInputStream</code> or any other input stream which supported <code>mark/reset</code> operations.</p>\n"},{"tags":["java","zk","zul"],"comments":[{"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"score":0,"creation_date":1638869402,"post_id":70199334,"comment_id":124196193,"body_markdown":"The java codes looks like initialize `displayedFolders` with a collections of folder names. The zul will create a list of folder label in vertical order if any.\n\nThey both looks fine. So I don&#39;t see any problems. Could tell me what is not you expect?","body":"The java codes looks like initialize <code>displayedFolders</code> with a collections of folder names. The zul will create a list of folder label in vertical order if any.  They both looks fine. So I don&#39;t see any problems. Could tell me what is not you expect?"}],"answers":[{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639703928,"creation_date":1639703928,"answer_id":70387417,"question_id":70199334,"body_markdown":"I&#39;m not sure what you want, it looks like you can just:\r\n\r\n```xml\r\n    &lt;div children=&quot;@bind(vm.displayedFolders)&quot; if=&quot;${vm.isEmpty}&quot;&gt;\r\n        &lt;template name=&quot;children&quot; var=&quot;folders&quot;&gt;\r\n           &lt;div&gt; \r\n              &lt;label value=&quot;${folders}&quot; sclass=&quot;inbox-widget-label&quot;/&gt;\r\n              &lt;label value=&quot;@init(vm.sender)&quot; /&gt;\r\n              &lt;label value=&quot;@init(vm.date)&quot; /&gt;\r\n           &lt;/div&gt;\r\n        &lt;/template&gt;\r\n     &lt;/div&gt;\r\n```","title":"How to display some folder properties under it?","body":"<p>I'm not sure what you want, it looks like you can just:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;div children=&quot;@bind(vm.displayedFolders)&quot; if=&quot;${vm.isEmpty}&quot;&gt;\n        &lt;template name=&quot;children&quot; var=&quot;folders&quot;&gt;\n           &lt;div&gt; \n              &lt;label value=&quot;${folders}&quot; sclass=&quot;inbox-widget-label&quot;/&gt;\n              &lt;label value=&quot;@init(vm.sender)&quot; /&gt;\n              &lt;label value=&quot;@init(vm.date)&quot; /&gt;\n           &lt;/div&gt;\n        &lt;/template&gt;\n     &lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":17938475,"reputation":29,"user_id":13034326,"display_name":"GetsugaTensho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639703928,"creation_date":1638447567,"question_id":70199334,"body_markdown":"I&#39;m making an inbox widget and i need to show the Email of the sender and the Date under each folder in the inbox widget. \r\n\r\nthis is a part of the code\r\n\r\n    &#39;&#39;&#39;\r\n    &lt;div children=&quot;@bind(vm.displayedFolders)&quot; if=&quot;${vm.isEmpty}&quot;&gt;\r\n            &lt;template name=&quot;children&quot; var=&quot;folders&quot;&gt;\r\n               &lt;div&gt; \r\n                  &lt;label value=&quot;${folders}&quot; sclass=&quot;inbox-widget-label&quot;/&gt;\r\n               &lt;/div&gt;\r\n            &lt;/template&gt;\r\n         &lt;/div&gt;\r\n    &#39;&#39;&#39;\r\n\r\nand this is the java code\r\n\r\n     private void initDisplayedFolders() {\r\n      displayedFolders = new ArrayList&lt;&gt;();\r\n\r\n      for (final CmisObject child : inboxFolder.getChildren()) {\r\n         if (displayedFolders.size() &gt;= NUMBER_OF_FOLDERS_TO_DISPLAY) {\r\n            break;\r\n         }\r\n         if (child instanceof Folder) {\r\n            final Folder childFolder = (Folder) child;\r\n            for (final CmisObject grandChild : childFolder.getChildren()) {\r\n               if (displayedFolders.size() &gt;= NUMBER_OF_FOLDERS_TO_DISPLAY) {\r\n                  break;\r\n               } else {\r\n                  displayedFolders.add(grandChild.getName());\r\n               }\r\n            }\r\n         }\r\n      }\r\n      if (!displayedFolders.isEmpty()) {\r\n         isEmpty = true;\r\n      }\r\n   }\r\n\r\n\r\nAny suggestions ?\r\n\r\n    \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XUfQV.png","title":"How to display some folder properties under it?","body":"<p>I'm making an inbox widget and i need to show the Email of the sender and the Date under each folder in the inbox widget.</p>\n<p>this is a part of the code</p>\n<pre><code>'''\n&lt;div children=&quot;@bind(vm.displayedFolders)&quot; if=&quot;${vm.isEmpty}&quot;&gt;\n        &lt;template name=&quot;children&quot; var=&quot;folders&quot;&gt;\n           &lt;div&gt; \n              &lt;label value=&quot;${folders}&quot; sclass=&quot;inbox-widget-label&quot;/&gt;\n           &lt;/div&gt;\n        &lt;/template&gt;\n     &lt;/div&gt;\n'''\n</code></pre>\n<p>and this is the java code</p>\n<pre><code> private void initDisplayedFolders() {\n  displayedFolders = new ArrayList&lt;&gt;();\n\n  for (final CmisObject child : inboxFolder.getChildren()) {\n     if (displayedFolders.size() &gt;= NUMBER_OF_FOLDERS_TO_DISPLAY) {\n        break;\n     }\n     if (child instanceof Folder) {\n        final Folder childFolder = (Folder) child;\n        for (final CmisObject grandChild : childFolder.getChildren()) {\n           if (displayedFolders.size() &gt;= NUMBER_OF_FOLDERS_TO_DISPLAY) {\n              break;\n           } else {\n              displayedFolders.add(grandChild.getName());\n           }\n        }\n     }\n  }\n  if (!displayedFolders.isEmpty()) {\n     isEmpty = true;\n  }\n</code></pre>\n<p>}</p>\n<p>Any suggestions ?</p>\n"},{"tags":["java","junit","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"score":2,"creation_date":1497335930,"post_id":44513608,"comment_id":76020459,"body_markdown":"Possible duplicate of [Unable to run JUnit test with PowerMockRunner](https://stackoverflow.com/questions/26192929/unable-to-run-junit-test-with-powermockrunner)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26192929/unable-to-run-junit-test-with-powermockrunner\">Unable to run JUnit test with PowerMockRunner</a>"},{"owner":{"account_id":10357807,"reputation":233,"user_id":7639143,"accept_rate":80,"display_name":"LPatil"},"score":1,"creation_date":1497336712,"post_id":44513608,"comment_id":76020913,"body_markdown":"I have read that and i have also tried this","body":"I have read that and i have also tried this"},{"owner":{"account_id":10357807,"reputation":233,"user_id":7639143,"accept_rate":80,"display_name":"LPatil"},"score":1,"creation_date":1497336718,"post_id":44513608,"comment_id":76020916,"body_markdown":"junit: 4.12\npowermock-api-mockito: 1.6.1\npowermock-module-junit4: 1.6.1","body":"junit: 4.12 powermock-api-mockito: 1.6.1 powermock-module-junit4: 1.6.1"},{"owner":{"account_id":10357807,"reputation":233,"user_id":7639143,"accept_rate":80,"display_name":"LPatil"},"score":0,"creation_date":1497336750,"post_id":44513608,"comment_id":76020943,"body_markdown":"But it did not worked.What should i do next?","body":"But it did not worked.What should i do next?"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1497337592,"post_id":44513608,"comment_id":76021440,"body_markdown":"It looks like PowerMock determines a wrong version of JUnit. See https://github.com/powermock/powermock/blob/master/powermock-modules/powermock-module-junit4/src/main/java/org/powermock/modules/junit4/internal/impl/testcaseworkaround/PowerMockJUnit4MethodValidator.java","body":"It looks like PowerMock determines a wrong version of JUnit. See <a href=\"https://github.com/powermock/powermock/blob/master/powermock-modules/powermock-module-junit4/src/main/java/org/powermock/modules/junit4/internal/impl/testcaseworkaround/PowerMockJUnit4MethodValidator.java\" rel=\"nofollow noreferrer\">github.com/powermock/powermock/blob/master/powermock-modules&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1497337734,"post_id":44513608,"comment_id":76021530,"body_markdown":"Can you build your project with a build tool like Ant, Maven or Gradle?","body":"Can you build your project with a build tool like Ant, Maven or Gradle?"},{"owner":{"account_id":6531688,"reputation":2044,"user_id":5052651,"display_name":"Artur Zagretdinov"},"score":0,"creation_date":1497371363,"post_id":44513608,"comment_id":76045671,"body_markdown":"Looks like another version of junit in class path. PowerMock uses `junit.runner.Version` class to determinate jUnit version.","body":"Looks like another version of junit in class path. PowerMock uses <code>junit.runner.Version</code> class to determinate jUnit version."},{"owner":{"account_id":3348579,"reputation":3242,"user_id":2813161,"display_name":"Dipankar"},"score":0,"creation_date":1604602934,"post_id":44513608,"comment_id":114404533,"body_markdown":"junit: 4.12 powermock-api-mockito: 1.6.1 powermock-module-junit4: 1.6.1 worked for me as LPatil mentioned above.","body":"junit: 4.12 powermock-api-mockito: 1.6.1 powermock-module-junit4: 1.6.1 worked for me as LPatil mentioned above."}],"owner":{"account_id":10357807,"reputation":233,"user_id":7639143,"accept_rate":80,"display_name":"LPatil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3550,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1639703547,"creation_date":1497334503,"question_id":44513608,"body_markdown":"While I am running JUnit file I am getting the following type of error.\r\nHere is the complete stacktrace below:\r\n\r\n\r\n    org.powermock.reflect.exceptions.FieldNotFoundException: Field &#39;fTestClass&#39; was not found in class org.junit.internal.runners.MethodValidator.\r\n    \tat org.powermock.reflect.internal.WhiteboxImpl.getInternalState(WhiteboxImpl.java:643)\r\n    \tat org.powermock.reflect.Whitebox.getInternalState(Whitebox.java:308)\r\n    \tat org.powermock.modules.junit4.internal.impl.testcaseworkaround.PowerMockJUnit4MethodValidator.validateTestMethods(PowerMockJUnit4MethodValidator.java:79)\r\n    \tat org.powermock.modules.junit4.internal.impl.testcaseworkaround.PowerMockJUnit4MethodValidator.validateInstanceMethods(PowerMockJUnit4MethodValidator.java:49)\r\n    \tat org.junit.internal.runners.MethodValidator.validateMethodsForDefaultRunner(MethodValidator.java:51)\r\n    \tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.validate(PowerMockJUnit44RunnerDelegateImpl.java:108)\r\n    \tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.&lt;init&gt;(PowerMockJUnit44RunnerDelegateImpl.java:70)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:144)\r\n    \tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:39)\r\n    \tat org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:111)\r\n    \tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:59)\r\n    \tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:32)\r\n    \tat org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:26)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:84)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:70)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:43)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:444)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\nI am using \r\njunit 4.12 jar,\r\npowermock-api-mockito 1.6.6 jar,\r\npowermock-module-junit4 1.6.6 jar,\r\npowermock-module-junit4 common 1.6.6 jar,\r\npowermock-core 1.6.6 jar\r\n\r\nCan anyone help me to resolve this issue ?","title":"Error while using powermock in JUnit","body":"<p>While I am running JUnit file I am getting the following type of error.\nHere is the complete stacktrace below:</p>\n\n<pre><code>org.powermock.reflect.exceptions.FieldNotFoundException: Field 'fTestClass' was not found in class org.junit.internal.runners.MethodValidator.\n    at org.powermock.reflect.internal.WhiteboxImpl.getInternalState(WhiteboxImpl.java:643)\n    at org.powermock.reflect.Whitebox.getInternalState(Whitebox.java:308)\n    at org.powermock.modules.junit4.internal.impl.testcaseworkaround.PowerMockJUnit4MethodValidator.validateTestMethods(PowerMockJUnit4MethodValidator.java:79)\n    at org.powermock.modules.junit4.internal.impl.testcaseworkaround.PowerMockJUnit4MethodValidator.validateInstanceMethods(PowerMockJUnit4MethodValidator.java:49)\n    at org.junit.internal.runners.MethodValidator.validateMethodsForDefaultRunner(MethodValidator.java:51)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.validate(PowerMockJUnit44RunnerDelegateImpl.java:108)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.&lt;init&gt;(PowerMockJUnit44RunnerDelegateImpl.java:70)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:144)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:39)\n    at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:111)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:59)\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:32)\n    at org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:26)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:84)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:70)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:43)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:444)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n\n<p>I am using \njunit 4.12 jar,\npowermock-api-mockito 1.6.6 jar,\npowermock-module-junit4 1.6.6 jar,\npowermock-module-junit4 common 1.6.6 jar,\npowermock-core 1.6.6 jar</p>\n\n<p>Can anyone help me to resolve this issue ?</p>\n"},{"tags":["java","findbugs"],"comments":[{"owner":{"account_id":6401689,"reputation":21,"user_id":4964116,"display_name":"learning_to_code"},"score":0,"creation_date":1433251344,"post_id":30597368,"comment_id":49263107,"body_markdown":"the other error which it shows is the same but when wrt compareTo().","body":"the other error which it shows is the same but when wrt compareTo()."}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433326981,"creation_date":1433326981,"answer_id":30617381,"question_id":30597368,"body_markdown":"For me the issue is resolved. This code does not produce a bug report:\r\n\r\n\tString sTypeName1 = row1.getFieldValue(&quot;qqq&quot;);\r\n\tString sTypeName2 = row2.getFieldValue(&quot;www&quot;);\r\n\tif (sTypeName1 != null &amp;&amp; sTypeName1.indexOf(&quot;~&quot;) != -1) {\r\n\t\tsTypeName1 = m_oc.getString(sTypeName1);\r\n\t}\r\n\tif (sTypeName2 != null &amp;&amp; sTypeName2.indexOf(&quot;~&quot;) != -1) {\r\n\t\tsTypeName2 = m_oc.getString(sTypeName2);\r\n\t}\r\n\tint cf = 0;\r\n\tif (sTypeName1 != null &amp;&amp; sTypeName2 != null) {\r\n\t\tcf = sTypeName1.compareTo(sTypeName2);\r\n\t}\r\n\tif (cf == 0) {\r\n\t\tcf = o1.toString().compareTo(o2.toString());\r\n\t}\r\n\r\n\treturn cf;\r\n\r\nProbably you did not recompile your code or did not perform the FindBugs analysis again.","title":"Findbugs-NP - NP_NULL_ON_SOME_PATH","body":"<p>For me the issue is resolved. This code does not produce a bug report:</p>\n\n<pre><code>String sTypeName1 = row1.getFieldValue(\"qqq\");\nString sTypeName2 = row2.getFieldValue(\"www\");\nif (sTypeName1 != null &amp;&amp; sTypeName1.indexOf(\"~\") != -1) {\n    sTypeName1 = m_oc.getString(sTypeName1);\n}\nif (sTypeName2 != null &amp;&amp; sTypeName2.indexOf(\"~\") != -1) {\n    sTypeName2 = m_oc.getString(sTypeName2);\n}\nint cf = 0;\nif (sTypeName1 != null &amp;&amp; sTypeName2 != null) {\n    cf = sTypeName1.compareTo(sTypeName2);\n}\nif (cf == 0) {\n    cf = o1.toString().compareTo(o2.toString());\n}\n\nreturn cf;\n</code></pre>\n\n<p>Probably you did not recompile your code or did not perform the FindBugs analysis again.</p>\n"},{"tags":[],"owner":{"account_id":3214944,"reputation":337,"user_id":2713948,"display_name":"Philip Dodson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639703246,"creation_date":1639703246,"answer_id":70387349,"question_id":30597368,"body_markdown":"From my experience this can be caused by situations like this:\r\n\r\n**Situation 1** - Findbugs will complain if you only set **b** under some conditions, such as if **a** is not null, then later reference b.  If **a** could really be null, you need to handle what to do if **b** is null too as a result.  If **a** is never null, remove the null check.  Also, for me it identified the line where **b** was defined as the first problematic line, rather than when **b.doSomething()** is called.\r\n\r\n    if (a != null) {\r\n    b = a.getB();\r\n    }\r\n    \r\n    b.doSomething();\r\n\r\n**Situation 2** - You nullcheck in one place, but not another.  Nullcheck everywhere, or nowhere\r\n\r\n    if (x != null) {\r\n    x.doSomething1();\r\n    }\r\n    \r\n    x.doSomething2();","title":"Findbugs-NP - NP_NULL_ON_SOME_PATH","body":"<p>From my experience this can be caused by situations like this:</p>\n<p><strong>Situation 1</strong> - Findbugs will complain if you only set <strong>b</strong> under some conditions, such as if <strong>a</strong> is not null, then later reference b.  If <strong>a</strong> could really be null, you need to handle what to do if <strong>b</strong> is null too as a result.  If <strong>a</strong> is never null, remove the null check.  Also, for me it identified the line where <strong>b</strong> was defined as the first problematic line, rather than when <strong>b.doSomething()</strong> is called.</p>\n<pre><code>if (a != null) {\nb = a.getB();\n}\n\nb.doSomething();\n</code></pre>\n<p><strong>Situation 2</strong> - You nullcheck in one place, but not another.  Nullcheck everywhere, or nowhere</p>\n<pre><code>if (x != null) {\nx.doSomething1();\n}\n\nx.doSomething2();\n</code></pre>\n"}],"owner":{"account_id":6401689,"reputation":21,"user_id":4964116,"display_name":"learning_to_code"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639703246,"creation_date":1433251260,"question_id":30597368,"body_markdown":"Findbugs is showing `NP_NULL_ON_SOME_PATH` for a line. \r\n\r\nIt says that there is a branch of statement that, if executed, guarantees that a `null` value will be dereferenced, which would generate a `NullPointerException` when the code is executed. \r\n\r\nOf course, the problem might be that the branch or statement is infeasible and that the `null` pointer exception can&#39;t ever be executed; deciding that is beyond the ability of FindBugs.\r\n\r\n**Here is the code:**\r\n\r\n          public int compare(Object o1, Object o2)\r\n          {\r\n             ....\r\n             String sTypeName1 = row1.getFieldValue(OBJECT_TYPE_FIELD_NAME);\r\n             String sTypeName2 = row2.getFieldValue(OBJECT_TYPE_FIELD_NAME);\r\n             if (sTypeName1!= null &amp;&amp; sTypeName1.indexOf(&quot;~&quot;) != -1)\r\n             {\r\n                sTypeName1 = m_oc.getString(sTypeName1);\r\n             }\r\n             if (sTypeName2!= null &amp;&amp; sTypeName2.indexOf(&quot;~&quot;) != -1)\r\n             {\r\n                sTypeName2 = m_oc.getString(sTypeName2);\r\n             }\r\n    \r\n             int cf = sTypeName1.compareTo(sTypeName2);\r\n             if (cf == 0)\r\n             {\r\n                cf = o1.toString().compareTo(o2.toString());\r\n             }\r\n    \r\n             return cf;\r\n           }\r\n    \r\nIt is showing 2 errors of same kind for the code:\r\n\r\n    int cf = sTypeName1.compareTo(sTypeName2);\r\n\r\nHere it says that there is a possible null pointer dereference from the value loaded from `sTypeName1`.\r\n    \r\nSo I had to put a `null` check before this code like:\r\n\r\n    if(sTypeName1 != null &amp;&amp; sTypeName2 != null)\r\n    {\r\n      int cf = sTypeName1.compareTo(sTypeName2);\r\n    }\r\n    \r\nbut the issue is not resolved. :(\r\n    \r\n    \r\nCould anyone suggest a solution and also what is wrong with my approach?\r\n    \r\nThanks a lot for going through my question :)\r\n\r\n\r\n","title":"Findbugs-NP - NP_NULL_ON_SOME_PATH","body":"<p>Findbugs is showing <code>NP_NULL_ON_SOME_PATH</code> for a line. </p>\n\n<p>It says that there is a branch of statement that, if executed, guarantees that a <code>null</code> value will be dereferenced, which would generate a <code>NullPointerException</code> when the code is executed. </p>\n\n<p>Of course, the problem might be that the branch or statement is infeasible and that the <code>null</code> pointer exception can't ever be executed; deciding that is beyond the ability of FindBugs.</p>\n\n<p><strong>Here is the code:</strong></p>\n\n<pre><code>      public int compare(Object o1, Object o2)\n      {\n         ....\n         String sTypeName1 = row1.getFieldValue(OBJECT_TYPE_FIELD_NAME);\n         String sTypeName2 = row2.getFieldValue(OBJECT_TYPE_FIELD_NAME);\n         if (sTypeName1!= null &amp;&amp; sTypeName1.indexOf(\"~\") != -1)\n         {\n            sTypeName1 = m_oc.getString(sTypeName1);\n         }\n         if (sTypeName2!= null &amp;&amp; sTypeName2.indexOf(\"~\") != -1)\n         {\n            sTypeName2 = m_oc.getString(sTypeName2);\n         }\n\n         int cf = sTypeName1.compareTo(sTypeName2);\n         if (cf == 0)\n         {\n            cf = o1.toString().compareTo(o2.toString());\n         }\n\n         return cf;\n       }\n</code></pre>\n\n<p>It is showing 2 errors of same kind for the code:</p>\n\n<pre><code>int cf = sTypeName1.compareTo(sTypeName2);\n</code></pre>\n\n<p>Here it says that there is a possible null pointer dereference from the value loaded from <code>sTypeName1</code>.</p>\n\n<p>So I had to put a <code>null</code> check before this code like:</p>\n\n<pre><code>if(sTypeName1 != null &amp;&amp; sTypeName2 != null)\n{\n  int cf = sTypeName1.compareTo(sTypeName2);\n}\n</code></pre>\n\n<p>but the issue is not resolved. :(</p>\n\n<p>Could anyone suggest a solution and also what is wrong with my approach?</p>\n\n<p>Thanks a lot for going through my question :)</p>\n"},{"tags":["java","caesar-cipher"],"comments":[{"owner":{"account_id":11700332,"reputation":461,"user_id":8565659,"display_name":"Discoverer98"},"score":0,"creation_date":1506474134,"post_id":46437897,"comment_id":79832620,"body_markdown":"Just a small piece of advice: I would highly recommend that you use a StringBuilder object to concatenate lots of strings, instead of the usage of the &quot;+=&quot; operator. It&#39;s going to make your code a lot more efficient.","body":"Just a small piece of advice: I would highly recommend that you use a StringBuilder object to concatenate lots of strings, instead of the usage of the &quot;+=&quot; operator. It&#39;s going to make your code a lot more efficient."}],"answers":[{"tags":[],"owner":{"account_id":10562699,"reputation":564,"user_id":7781984,"display_name":"Carlos A. Jimenez Holmquist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506613262,"creation_date":1506479952,"answer_id":46438647,"question_id":46437897,"body_markdown":"The problem is you are passing an upper case letter to the method `indexOf()`, which checks `ALPHABET` but doesn&#39;t find it, so it returns -1. You need to either transform the upper case letter to lower case, or add an upper case alphabet.\r\n\r\nMy solution, transforming the upper case letter to a lower case letter and then encrypting/decrypting is:\r\n\r\n    public class CaesarCipherCaseSensitive{\r\n\tpublic static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;; \r\n\r\n\tpublic static String encrypt(String pt, int shiftKey){\r\n\t\tString ct = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; pt.length(); i++){\r\n\t\t\tchar letter = pt.charAt(i);\r\n\t\t\tboolean upperCase = false;\r\n\t\t\tif((int)letter &lt; 91){\r\n\t\t\t\tletter = (char)((int)letter + 32);\r\n\t\t\t\tupperCase = true;\r\n\t\t\t}\r\n\t\t    int charPosition = ALPHABET.indexOf(letter);\r\n\t\t    int keyVal = (shiftKey + charPosition) % 26;\r\n\t\t    char replaceVal = ALPHABET.charAt(keyVal);\r\n\t\t\tif(upperCase){\r\n\t\t\t\treplaceVal = (char)((int)replaceVal - 32);\r\n\t\t\t}\r\n\t\t    ct += replaceVal;\r\n\t\t}\r\n\t\treturn ct;\r\n\t}\r\n\r\n\tpublic static String decrypt(String ct, int shiftKey){\r\n\t\tString pt = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; ct.length(); i++){\r\n\t\t\tchar letter = ct.charAt(i);\r\n\t\t\tboolean upperCase = false;\r\n\t\t\tif((int)letter &lt; 91){\r\n\t\t\t\tletter = (char)((int)letter + 32);\r\n\t\t\t\tupperCase = true;\r\n\t\t\t}\r\n\t\t    int charPosition = ALPHABET.indexOf(letter);\r\n\t\t    int keyVal = (charPosition - shiftKey) % 26;\r\n\t\t    if (keyVal &lt; 0){\r\n\t\t        keyVal = ALPHABET.length() + keyVal;\r\n\t\t    }\r\n\t\t    char replaceVal = ALPHABET.charAt(keyVal);\r\n\t\t\tif(upperCase){\r\n\t\t\t\treplaceVal = (char)((int)replaceVal - 32);\r\n\t\t\t}\r\n\t\t    pt += replaceVal;\r\n\t\t}\r\n\t\treturn pt;\r\n\t}\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tString message1 = &quot;ABCDEFGHIJKLMOPQRSTUVWXYZ&quot;;\r\n\t\tSystem.out.println(encrypt(message1, 3));\r\n\t\tSystem.out.println(decrypt(encrypt(message1, 3), 3));\r\n\t\tSystem.out.println(encrypt(message1.toLowerCase(),5));   \r\n\t\tSystem.out.println(decrypt(encrypt(message1.toLowerCase(),5),5));  \r\n\t}\r\n    }","title":"Java Caesar Cipher","body":"<p>The problem is you are passing an upper case letter to the method <code>indexOf()</code>, which checks <code>ALPHABET</code> but doesn't find it, so it returns -1. You need to either transform the upper case letter to lower case, or add an upper case alphabet.</p>\n\n<p>My solution, transforming the upper case letter to a lower case letter and then encrypting/decrypting is:</p>\n\n<pre><code>public class CaesarCipherCaseSensitive{\npublic static final String ALPHABET = \"abcdefghijklmnopqrstuvwxyz\"; \n\npublic static String encrypt(String pt, int shiftKey){\n    String ct = \"\";\n    for (int i = 0; i &lt; pt.length(); i++){\n        char letter = pt.charAt(i);\n        boolean upperCase = false;\n        if((int)letter &lt; 91){\n            letter = (char)((int)letter + 32);\n            upperCase = true;\n        }\n        int charPosition = ALPHABET.indexOf(letter);\n        int keyVal = (shiftKey + charPosition) % 26;\n        char replaceVal = ALPHABET.charAt(keyVal);\n        if(upperCase){\n            replaceVal = (char)((int)replaceVal - 32);\n        }\n        ct += replaceVal;\n    }\n    return ct;\n}\n\npublic static String decrypt(String ct, int shiftKey){\n    String pt = \"\";\n    for (int i = 0; i &lt; ct.length(); i++){\n        char letter = ct.charAt(i);\n        boolean upperCase = false;\n        if((int)letter &lt; 91){\n            letter = (char)((int)letter + 32);\n            upperCase = true;\n        }\n        int charPosition = ALPHABET.indexOf(letter);\n        int keyVal = (charPosition - shiftKey) % 26;\n        if (keyVal &lt; 0){\n            keyVal = ALPHABET.length() + keyVal;\n        }\n        char replaceVal = ALPHABET.charAt(keyVal);\n        if(upperCase){\n            replaceVal = (char)((int)replaceVal - 32);\n        }\n        pt += replaceVal;\n    }\n    return pt;\n}\n\npublic static void main(String[] args){\n    String message1 = \"ABCDEFGHIJKLMOPQRSTUVWXYZ\";\n    System.out.println(encrypt(message1, 3));\n    System.out.println(decrypt(encrypt(message1, 3), 3));\n    System.out.println(encrypt(message1.toLowerCase(),5));   \n    System.out.println(decrypt(encrypt(message1.toLowerCase(),5),5));  \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639703057,"creation_date":1639703057,"answer_id":70387331,"question_id":46437897,"body_markdown":"Here&#39;s a solution,\r\n\r\n    private static final List&lt;String&gt; upperAlphabets = Arrays.asList(\r\n                &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;,\r\n                &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;,\r\n                &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;, &quot;T&quot;, &quot;U&quot;,\r\n                &quot;V&quot;, &quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;);\r\n    \r\n        private static final List&lt;String&gt; upperAlphabetsRev = Arrays.asList(\r\n                &quot;Z&quot;, &quot;Y&quot;, &quot;X&quot;, &quot;W&quot;, &quot;V&quot;, &quot;U&quot;, &quot;T&quot;,\r\n                &quot;S&quot;, &quot;R&quot;, &quot;Q&quot;, &quot;P&quot;, &quot;O&quot;, &quot;N&quot;, &quot;M&quot;,\r\n                &quot;L&quot;, &quot;K&quot;, &quot;J&quot;, &quot;I&quot;, &quot;H&quot;, &quot;G&quot;, &quot;F&quot;,\r\n                &quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;);\r\n    \r\n        private static List&lt;String&gt; lowerAlphabets = new ArrayList&lt;&gt;();\r\n        private static List&lt;String&gt; lowerAlphabetsRev = new ArrayList&lt;&gt;();\r\n    \r\n        private static void init() {\r\n            for (String c : upperAlphabets) {\r\n                lowerAlphabets.add(c.toLowerCase());\r\n            }\r\n    \r\n            for (String c : upperAlphabetsRev) {\r\n                lowerAlphabetsRev.add(c.toLowerCase());\r\n            }\r\n        }\r\n\r\n\r\n    public static String encryptCaesar(String toEncrypt, int shiftTo) throws IllegalArgumentException {\r\n    \r\n            if (shiftTo &gt;= 26 || shiftTo &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;shiftTo should be lesser than 26 and greater than 0&quot;);\r\n            }\r\n    \r\n            char[] encryptedString = new char[toEncrypt.length()];\r\n            int position = -1, pos, newPos;\r\n            boolean upper;\r\n            for (char c : toEncrypt.toCharArray()) {\r\n                position++;\r\n                pos = upperAlphabets.indexOf(String.valueOf(c));\r\n                if (pos == -1) {\r\n                    upper = false;\r\n                    pos = lowerAlphabets.indexOf(String.valueOf(c));\r\n                } else {\r\n                    upper = true;\r\n                }\r\n    \r\n                newPos = (pos + shiftTo) % 26;\r\n    \r\n                encryptedString[position] = upper ? upperAlphabets.get(newPos).charAt(0) : lowerAlphabets.get(newPos).charAt(0);\r\n            }\r\n    \r\n            return String.valueOf(encryptedString);\r\n        }\r\n    \r\n        public static String decryptCaesar(String toDecrypt, int shiftTo) {\r\n            if (shiftTo &gt;= 26 || shiftTo &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;shiftTo should be lesser than 26 and greater than 0&quot;);\r\n            }\r\n    \r\n            char[] decryptedString = new char[toDecrypt.length()];\r\n            int position = -1, pos, newPos;\r\n            boolean upper;\r\n            for (char c : toDecrypt.toCharArray()) {\r\n                position++;\r\n                pos = upperAlphabetsRev.indexOf(String.valueOf(c));\r\n                if (pos == -1) {\r\n                    upper = false;\r\n                    pos = lowerAlphabetsRev.indexOf(String.valueOf(c));\r\n                } else {\r\n                    upper = true;\r\n                }\r\n    \r\n                newPos = (pos + shiftTo) % 26;\r\n    \r\n                decryptedString[position] = upper ? upperAlphabetsRev.get(newPos).charAt(0) : lowerAlphabetsRev.get(newPos).charAt(0);\r\n            }\r\n    \r\n            return String.valueOf(decryptedString);\r\n        }","title":"Java Caesar Cipher","body":"<p>Here's a solution,</p>\n<pre><code>private static final List&lt;String&gt; upperAlphabets = Arrays.asList(\n            &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;,\n            &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;,\n            &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;, &quot;T&quot;, &quot;U&quot;,\n            &quot;V&quot;, &quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;);\n\n    private static final List&lt;String&gt; upperAlphabetsRev = Arrays.asList(\n            &quot;Z&quot;, &quot;Y&quot;, &quot;X&quot;, &quot;W&quot;, &quot;V&quot;, &quot;U&quot;, &quot;T&quot;,\n            &quot;S&quot;, &quot;R&quot;, &quot;Q&quot;, &quot;P&quot;, &quot;O&quot;, &quot;N&quot;, &quot;M&quot;,\n            &quot;L&quot;, &quot;K&quot;, &quot;J&quot;, &quot;I&quot;, &quot;H&quot;, &quot;G&quot;, &quot;F&quot;,\n            &quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;);\n\n    private static List&lt;String&gt; lowerAlphabets = new ArrayList&lt;&gt;();\n    private static List&lt;String&gt; lowerAlphabetsRev = new ArrayList&lt;&gt;();\n\n    private static void init() {\n        for (String c : upperAlphabets) {\n            lowerAlphabets.add(c.toLowerCase());\n        }\n\n        for (String c : upperAlphabetsRev) {\n            lowerAlphabetsRev.add(c.toLowerCase());\n        }\n    }\n\n\npublic static String encryptCaesar(String toEncrypt, int shiftTo) throws IllegalArgumentException {\n\n        if (shiftTo &gt;= 26 || shiftTo &lt; 0) {\n            throw new IllegalArgumentException(&quot;shiftTo should be lesser than 26 and greater than 0&quot;);\n        }\n\n        char[] encryptedString = new char[toEncrypt.length()];\n        int position = -1, pos, newPos;\n        boolean upper;\n        for (char c : toEncrypt.toCharArray()) {\n            position++;\n            pos = upperAlphabets.indexOf(String.valueOf(c));\n            if (pos == -1) {\n                upper = false;\n                pos = lowerAlphabets.indexOf(String.valueOf(c));\n            } else {\n                upper = true;\n            }\n\n            newPos = (pos + shiftTo) % 26;\n\n            encryptedString[position] = upper ? upperAlphabets.get(newPos).charAt(0) : lowerAlphabets.get(newPos).charAt(0);\n        }\n\n        return String.valueOf(encryptedString);\n    }\n\n    public static String decryptCaesar(String toDecrypt, int shiftTo) {\n        if (shiftTo &gt;= 26 || shiftTo &lt; 0) {\n            throw new IllegalArgumentException(&quot;shiftTo should be lesser than 26 and greater than 0&quot;);\n        }\n\n        char[] decryptedString = new char[toDecrypt.length()];\n        int position = -1, pos, newPos;\n        boolean upper;\n        for (char c : toDecrypt.toCharArray()) {\n            position++;\n            pos = upperAlphabetsRev.indexOf(String.valueOf(c));\n            if (pos == -1) {\n                upper = false;\n                pos = lowerAlphabetsRev.indexOf(String.valueOf(c));\n            } else {\n                upper = true;\n            }\n\n            newPos = (pos + shiftTo) % 26;\n\n            decryptedString[position] = upper ? upperAlphabetsRev.get(newPos).charAt(0) : lowerAlphabetsRev.get(newPos).charAt(0);\n        }\n\n        return String.valueOf(decryptedString);\n    }\n</code></pre>\n"}],"owner":{"account_id":7855018,"reputation":39,"user_id":5937188,"display_name":"RaymondRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1639703057,"creation_date":1506473942,"question_id":46437897,"body_markdown":"In this Caesar cipher i am obtaining the incorrect output for capital letters.\r\nThe code is as follows:\r\n\r\n    public class CaesarCipherCaseSensitive\r\n    {\r\n    public static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n \r\n    public static String encrypt(String pt, int shiftKey)\r\n    {\r\n        String ct = &quot;&quot;;\r\n        for (int i = 0; i &lt; pt.length(); i++)\r\n        {\r\n            int charPosition = ALPHABET.indexOf(pt.charAt(i));\r\n            int keyVal = (shiftKey + charPosition) % 26;\r\n            char replaceVal = ALPHABET.charAt(keyVal);\r\n            ct += replaceVal;\r\n        }\r\n        return ct;\r\n    }\r\n \r\n    public static String decrypt(String ct, int shiftKey)\r\n    {\r\n        String pt = &quot;&quot;;\r\n        for (int i = 0; i &lt; ct.length(); i++)\r\n        {\r\n            int charPosition = ALPHABET.indexOf(ct.charAt(i));\r\n            int keyVal = (charPosition - shiftKey) % 26;\r\n            if (keyVal &lt; 0)\r\n            {\r\n                keyVal = ALPHABET.length() + keyVal;\r\n            }\r\n            char replaceVal = ALPHABET.charAt(keyVal);\r\n            pt += replaceVal;\r\n        }\r\n        return pt;\r\n    }\r\n \r\n    public static void main(String[] args)\r\n    {\r\n        String message1 = &quot;ABCDEFGHIJKLMOPQRSTUVWXYZ&quot;;\r\n        System.out.println(encrypt(message1, 3));\r\n        System.out.println(decrypt(encrypt(message1, 3), 3));\r\n        System.out.println(encrypt(message1.toLowerCase(),5));   \r\n        System.out.println(decrypt(encrypt(message1.toLowerCase(),5),5));  \r\n\r\n    }\r\n    }\r\n\r\nThe output looks like:\r\nccccccccccccccccccccccccc\r\nzzzzzzzzzzzzzzzzzzzzzzzzz\r\nfghijklmnopqrtuvwxyzabcde\r\nabcdefghijklmopqrstuvwxyz\r\n  \r\nDesired output is:\r\nDEFGHIJKLMOPQRSTUVWXYZABC\r\nABCDEFGHIJKLMOPQRSTUVWXYZ\r\nfghijklmnopqrtuvwxyzabcde\r\nabcdefghijklmopqrstuvwxyz","title":"Java Caesar Cipher","body":"<p>In this Caesar cipher i am obtaining the incorrect output for capital letters.\nThe code is as follows:</p>\n\n<pre><code>public class CaesarCipherCaseSensitive\n{\npublic static final String ALPHABET = \"abcdefghijklmnopqrstuvwxyz\";\n\npublic static String encrypt(String pt, int shiftKey)\n{\n    String ct = \"\";\n    for (int i = 0; i &lt; pt.length(); i++)\n    {\n        int charPosition = ALPHABET.indexOf(pt.charAt(i));\n        int keyVal = (shiftKey + charPosition) % 26;\n        char replaceVal = ALPHABET.charAt(keyVal);\n        ct += replaceVal;\n    }\n    return ct;\n}\n\npublic static String decrypt(String ct, int shiftKey)\n{\n    String pt = \"\";\n    for (int i = 0; i &lt; ct.length(); i++)\n    {\n        int charPosition = ALPHABET.indexOf(ct.charAt(i));\n        int keyVal = (charPosition - shiftKey) % 26;\n        if (keyVal &lt; 0)\n        {\n            keyVal = ALPHABET.length() + keyVal;\n        }\n        char replaceVal = ALPHABET.charAt(keyVal);\n        pt += replaceVal;\n    }\n    return pt;\n}\n\npublic static void main(String[] args)\n{\n    String message1 = \"ABCDEFGHIJKLMOPQRSTUVWXYZ\";\n    System.out.println(encrypt(message1, 3));\n    System.out.println(decrypt(encrypt(message1, 3), 3));\n    System.out.println(encrypt(message1.toLowerCase(),5));   \n    System.out.println(decrypt(encrypt(message1.toLowerCase(),5),5));  \n\n}\n}\n</code></pre>\n\n<p>The output looks like:\nccccccccccccccccccccccccc\nzzzzzzzzzzzzzzzzzzzzzzzzz\nfghijklmnopqrtuvwxyzabcde\nabcdefghijklmopqrstuvwxyz</p>\n\n<p>Desired output is:\nDEFGHIJKLMOPQRSTUVWXYZABC\nABCDEFGHIJKLMOPQRSTUVWXYZ\nfghijklmnopqrtuvwxyzabcde\nabcdefghijklmopqrstuvwxyz</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1639701330,"post_id":70387176,"comment_id":124423157,"body_markdown":"That message is telling you that the problem is on line 35 of Base.java, which is one file you haven&#39;t shown us.","body":"That message is telling you that the problem is on line 35 of Base.java, which is one file you haven&#39;t shown us."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1639704471,"post_id":70387176,"comment_id":124423626,"body_markdown":"So the value that you&#39;re passing to `getText` is null.  Pretty much what the message says.  That is, you haven&#39;t set `homePath.txtMesajeExito` to anything when you call the `mensajeExitoso` method.","body":"So the value that you&#39;re passing to <code>getText</code> is null.  Pretty much what the message says.  That is, you haven&#39;t set <code>homePath.txtMesajeExito</code> to anything when you call the <code>mensajeExitoso</code> method."},{"owner":{"account_id":20192750,"reputation":3,"user_id":14810529,"display_name":"jrebatta"},"score":0,"creation_date":1639705256,"post_id":70387176,"comment_id":124423729,"body_markdown":"why the homePath.txtMesajeExito is null, when I put the mensajeExitoso() method in the LoginPage class everything goes fine","body":"why the homePath.txtMesajeExito is null, when I put the mensajeExitoso() method in the LoginPage class everything goes fine"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1639802582,"post_id":70387176,"comment_id":124447533,"body_markdown":"It&#39;s not really possible to answer that from the code that you&#39;ve shown.  You may need to use your debugger to figure this out.","body":"It&#39;s not really possible to answer that from the code that you&#39;ve shown.  You may need to use your debugger to figure this out."}],"owner":{"account_id":20192750,"reputation":3,"user_id":14810529,"display_name":"jrebatta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639702657,"creation_date":1639701107,"question_id":70387176,"body_markdown":"I have two pages, in one everything is fine, but in the other I get **java.lang.NullPointerException**\r\n\r\nWhat is my mistake? Please help\r\n\r\nLoginPage.java  -  all good\r\n\r\n    package page;\r\n    \r\n    import Base.Base;;\r\n    import paths.LoginPath;\r\n    \r\n    public class LoginPage extends Base {\r\n    \r\n        LoginPath loginPath = new LoginPath();\r\n    \r\n        public void ingresarPagina(){\r\n            chromeDriverConnection();\r\n            visit(loginPath.url);\r\n            maximize();\r\n        }\r\n    \r\n        public void iniciarSesion(){\r\n            type(&quot;Qualityadmin&quot;, loginPath.txtUser);\r\n            type(&quot;pass1&quot;, loginPath.txtPass);\r\n        }\r\n    \r\n        public void clickEnBoton(){\r\n            click(loginPath.btnLogin);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHomePage.java - I tried placing the chromeDriverConnection() again, but I get the same error\r\n\r\n    package page;\r\n    \r\n    import Base.Base;\r\n    import paths.HomePath;\r\n    \r\n    \r\n    public class HomePage extends Base {\r\n    \r\n        HomePath homePath = new HomePath();\r\n    \r\n        public void mensajeExitoso() {\r\n            String mensaje = getText(homePath.txtMesajeExito);\r\n            System.out.println(mensaje);\r\n        }\r\n    }\r\n\r\n\r\nError\r\n    \r\n    java.lang.NullPointerException\r\n    \tat Base.Base.getText(Base.java:35)\r\n    \tat page.HomePage.mensajeExitoso(HomePage.java:12)\r\n    \tat step.HomeStep.mensajeExitoso(HomeStep.java:10)\r\n    \tat stepdefinition.HomeStepDefinition.seMuestraUnMensajeDeExito(HomeStepDefinition.java:11)\r\n    \tat ✽.se muestra un mensaje de exito(file:///D:/Project/aer/features/src/test/resources/features/formulario.feature:22)\r\n    \r\n    \r\n    Process finished with exit code -1\r\n\r\n\r\nBase.java - I don&#39;t think the error is in the Base class, but I put it anyway\r\n\r\nLine 35: return driver.findElement (locator) .getText ();\r\n\r\n    package Base;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class Base {\r\n    \r\n        public WebDriver driver;\r\n    \r\n        public Base(WebDriver driver){\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public Base() {\r\n    \r\n        }\r\n    \r\n        public WebDriver chromeDriverConnection() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./src/test/resources/drivers/chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n            return driver;\r\n        }\r\n    \r\n        public WebElement findElement(By locator){\r\n            return driver.findElement(locator);\r\n        }\r\n    \r\n        public String getText(WebElement element){\r\n            return element.getText();\r\n        }\r\n    \r\n        public String getText(By locator){\r\n            return driver.findElement(locator).getText();\r\n        }\r\n    \r\n        public void type(String inputText, By locator){\r\n            driver.findElement(locator).sendKeys(inputText);\r\n        }\r\n        public void iniciarSesion(String user, String pass){\r\n    \r\n        }\r\n    \r\n        public void click(By locator){\r\n            driver.findElement(locator).click();\r\n        }\r\n    \r\n        Double num1 = 20.00;\r\n        String num2 = num1.toString();\r\n    \r\n        public void visit(String url){\r\n            driver.get(url);\r\n        }\r\n    \r\n        public void isDisplayed(By locator){\r\n            driver.findElement(locator).isDisplayed();\r\n        }\r\n    \r\n        public void maximize(){\r\n            driver.manage().window().maximize();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"java.lang.NullPointerException in PageObjectModel Project","body":"<p>I have two pages, in one everything is fine, but in the other I get <strong>java.lang.NullPointerException</strong></p>\n<p>What is my mistake? Please help</p>\n<p>LoginPage.java  -  all good</p>\n<pre><code>package page;\n\nimport Base.Base;;\nimport paths.LoginPath;\n\npublic class LoginPage extends Base {\n\n    LoginPath loginPath = new LoginPath();\n\n    public void ingresarPagina(){\n        chromeDriverConnection();\n        visit(loginPath.url);\n        maximize();\n    }\n\n    public void iniciarSesion(){\n        type(&quot;Qualityadmin&quot;, loginPath.txtUser);\n        type(&quot;pass1&quot;, loginPath.txtPass);\n    }\n\n    public void clickEnBoton(){\n        click(loginPath.btnLogin);\n    }\n\n\n}\n</code></pre>\n<p>HomePage.java - I tried placing the chromeDriverConnection() again, but I get the same error</p>\n<pre><code>package page;\n\nimport Base.Base;\nimport paths.HomePath;\n\n\npublic class HomePage extends Base {\n\n    HomePath homePath = new HomePath();\n\n    public void mensajeExitoso() {\n        String mensaje = getText(homePath.txtMesajeExito);\n        System.out.println(mensaje);\n    }\n}\n</code></pre>\n<p>Error</p>\n<pre><code>java.lang.NullPointerException\n    at Base.Base.getText(Base.java:35)\n    at page.HomePage.mensajeExitoso(HomePage.java:12)\n    at step.HomeStep.mensajeExitoso(HomeStep.java:10)\n    at stepdefinition.HomeStepDefinition.seMuestraUnMensajeDeExito(HomeStepDefinition.java:11)\n    at ✽.se muestra un mensaje de exito(file:///D:/Project/aer/features/src/test/resources/features/formulario.feature:22)\n\n\nProcess finished with exit code -1\n</code></pre>\n<p>Base.java - I don't think the error is in the Base class, but I put it anyway</p>\n<p>Line 35: return driver.findElement (locator) .getText ();</p>\n<pre><code>package Base;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Base {\n\n    public WebDriver driver;\n\n    public Base(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public Base() {\n\n    }\n\n    public WebDriver chromeDriverConnection() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./src/test/resources/drivers/chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        return driver;\n    }\n\n    public WebElement findElement(By locator){\n        return driver.findElement(locator);\n    }\n\n    public String getText(WebElement element){\n        return element.getText();\n    }\n\n    public String getText(By locator){\n        return driver.findElement(locator).getText();\n    }\n\n    public void type(String inputText, By locator){\n        driver.findElement(locator).sendKeys(inputText);\n    }\n    public void iniciarSesion(String user, String pass){\n\n    }\n\n    public void click(By locator){\n        driver.findElement(locator).click();\n    }\n\n    Double num1 = 20.00;\n    String num2 = num1.toString();\n\n    public void visit(String url){\n        driver.get(url);\n    }\n\n    public void isDisplayed(By locator){\n        driver.findElement(locator).isDisplayed();\n    }\n\n    public void maximize(){\n        driver.manage().window().maximize();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422001375,"creation_date":1422001375,"answer_id":28105720,"question_id":28105603,"body_markdown":"The path is build as $repository_dir/groupId/artifactId/version/artifactId-version.jar\r\n\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.11&lt;/version&gt;","title":"How to get path to dependency jar with maven","body":"<p>The path is build as $repository_dir/groupId/artifactId/version/artifactId-version.jar</p>\n\n<pre><code>&lt;groupId&gt;junit&lt;/groupId&gt;\n&lt;artifactId&gt;junit&lt;/artifactId&gt;\n&lt;version&gt;4.11&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202991,"reputation":12489,"user_id":450383,"accept_rate":50,"display_name":"muhqu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639702534,"creation_date":1422002299,"answer_id":28105931,"question_id":28105603,"body_markdown":"A *hacky solution* using `mvn dependency:build-classpath` and some unix shell magic to extract the jar-path from the classpath.\r\n\r\nWe have a `pom.xml` like this...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThen we generate a `build_classpath` file.\r\n\r\n    $ mvn dependency:build-classpath -Dmdep.outputFile=build_classpath\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building myproject 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:build-classpath (default-cli) @ myproject ---\r\n    [INFO] Wrote classpath file &#39;/Users/foobar/maven-test/build_classpath&#39;.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.050 s\r\n    [INFO] Finished at: 2015-01-23T09:17:40+01:00\r\n    [INFO] Final Memory: 11M/245M\r\n    [INFO] ------------------------------------------------------------------------\r\n    $ cat build_classpath\r\n    /Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar:/Users/foobar/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar\r\n\r\nNow we can extract the jar file path from `build_classpath` using some scripting foo...\r\n\r\n    $ cat build_classpath | perl -ne &#39;print &quot;$1&quot; if /(?:^|:)([^:]+?\\/junit-[0-9\\.]+\\.jar)/&#39;\r\n    /Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar\r\n\r\nEDIT\r\n\r\nSimpler shell command, used in OSX, which simply splits each entry onto it&#39;s own line. It&#39;s simple to grep the output for whichever dependency is desired. Note, the command literally uses a newline line(wraps to the next line) instead of a newline character.\r\n\r\n    $ tr &#39;:&#39; &#39;\r\n    &#39; &lt; build_classpath; echo","title":"How to get path to dependency jar with maven","body":"<p>A <em>hacky solution</em> using <code>mvn dependency:build-classpath</code> and some unix shell magic to extract the jar-path from the classpath.</p>\n<p>We have a <code>pom.xml</code> like this...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Then we generate a <code>build_classpath</code> file.</p>\n<pre><code>$ mvn dependency:build-classpath -Dmdep.outputFile=build_classpath\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building myproject 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:build-classpath (default-cli) @ myproject ---\n[INFO] Wrote classpath file '/Users/foobar/maven-test/build_classpath'.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.050 s\n[INFO] Finished at: 2015-01-23T09:17:40+01:00\n[INFO] Final Memory: 11M/245M\n[INFO] ------------------------------------------------------------------------\n$ cat build_classpath\n/Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar:/Users/foobar/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar\n</code></pre>\n<p>Now we can extract the jar file path from <code>build_classpath</code> using some scripting foo...</p>\n<pre><code>$ cat build_classpath | perl -ne 'print &quot;$1&quot; if /(?:^|:)([^:]+?\\/junit-[0-9\\.]+\\.jar)/'\n/Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar\n</code></pre>\n<p>EDIT</p>\n<p>Simpler shell command, used in OSX, which simply splits each entry onto it's own line. It's simple to grep the output for whichever dependency is desired. Note, the command literally uses a newline line(wraps to the next line) instead of a newline character.</p>\n<pre><code>$ tr ':' '\n' &lt; build_classpath; echo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2344625,"reputation":543,"user_id":2055199,"accept_rate":100,"display_name":"Jim Sellers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585062204,"creation_date":1436414224,"answer_id":31307855,"question_id":28105603,"body_markdown":"From [the following SO answer](https://stackoverflow.com/a/2359947/2055199), it looks like the easiest is to use the antrun plugin.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;tasks&gt;\r\n                    &lt;echo&gt;${maven.dependency.junit.junit.jar.path}&lt;/echo&gt;\r\n                &lt;/tasks&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to get path to dependency jar with maven","body":"<p>From <a href=\"https://stackoverflow.com/a/2359947/2055199\">the following SO answer</a>, it looks like the easiest is to use the antrun plugin.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;tasks&gt;\n                    &lt;echo&gt;${maven.dependency.junit.junit.jar.path}&lt;/echo&gt;\n                &lt;/tasks&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118444,"reputation":20506,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455207096,"creation_date":1455207096,"answer_id":35344358,"question_id":28105603,"body_markdown":"If you want to get the path inside your running code, you can do this:\r\n\r\nPOM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.nodyn&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jvm-npm&lt;/artifactId&gt;\r\n            &lt;version&gt;a0c3f12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aether-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aether-transport-file&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aether-connector-basic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nCode:\r\n\r\n    final String mavenRepositoryPath = &quot;c:\\\\mvn\\\\repository&quot;;\r\n\r\n    private static RepositorySystem newRepositorySystem() {\r\n        DefaultServiceLocator locator = MavenRepositorySystemUtils.newServiceLocator();\r\n        locator.addService(RepositoryConnectorFactory.class, BasicRepositoryConnectorFactory.class);\r\n        locator.addService(TransporterFactory.class, FileTransporterFactory.class);\r\n\r\n        locator.setErrorHandler(new DefaultServiceLocator.ErrorHandler() {\r\n            @Override\r\n            public void serviceCreationFailed(Class&lt;?&gt; type, Class&lt;?&gt; impl, Throwable exception) {\r\n                throw new RuntimeException(exception);\r\n            }\r\n        });\r\n\r\n        return locator.getService(RepositorySystem.class);\r\n    }\r\n\r\n    private static File getJvmNpmFile() {\r\n        Artifact artifact = new DefaultArtifact(&quot;com.github.nodyn:jvm-npm:a0c3f12&quot;);\r\n\r\n        DefaultRepositorySystemSession session = new org.eclipse.aether.DefaultRepositorySystemSession();\r\n        RepositorySystem system = newRepositorySystem();\r\n        ArtifactRequest request = new ArtifactRequest();\r\n        request.setArtifact(artifact);\r\n        //request.setRepositories(new ArrayList&lt;&gt;( Arrays.asList( new RemoteRepository.Builder( &quot;central&quot;, &quot;default&quot;, &quot;http://central.maven.org/maven2/&quot; ).build()) ));\r\n        //request.setRepositories( new org.eclipse.aether.DefaultRepositorySystemSession().getLocalRepository() );\r\n        LocalRepository localRepo = new LocalRepository(mvnRepositoryPath);\r\n        session.setLocalRepositoryManager(system.newLocalRepositoryManager(session, localRepo));\r\n\r\n        ArtifactResult result;\r\n        try {\r\n            result = system.resolveArtifact(session, request);\r\n        } catch (ArtifactResolutionException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n\r\n        //System.out.println(&quot;Resolved artifact &quot; + artifact + &quot; to &quot; + result.getArtifact().getFile() + &quot; from &quot; + result.getRepository());\r\n        return result.getArtifact().getFile();\r\n    }","title":"How to get path to dependency jar with maven","body":"<p>If you want to get the path inside your running code, you can do this:</p>\n\n<p>POM:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.nodyn&lt;/groupId&gt;\n        &lt;artifactId&gt;jvm-npm&lt;/artifactId&gt;\n        &lt;version&gt;a0c3f12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\n        &lt;artifactId&gt;aether-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\n        &lt;artifactId&gt;aether-transport-file&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\n        &lt;artifactId&gt;aether-connector-basic&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>final String mavenRepositoryPath = \"c:\\\\mvn\\\\repository\";\n\nprivate static RepositorySystem newRepositorySystem() {\n    DefaultServiceLocator locator = MavenRepositorySystemUtils.newServiceLocator();\n    locator.addService(RepositoryConnectorFactory.class, BasicRepositoryConnectorFactory.class);\n    locator.addService(TransporterFactory.class, FileTransporterFactory.class);\n\n    locator.setErrorHandler(new DefaultServiceLocator.ErrorHandler() {\n        @Override\n        public void serviceCreationFailed(Class&lt;?&gt; type, Class&lt;?&gt; impl, Throwable exception) {\n            throw new RuntimeException(exception);\n        }\n    });\n\n    return locator.getService(RepositorySystem.class);\n}\n\nprivate static File getJvmNpmFile() {\n    Artifact artifact = new DefaultArtifact(\"com.github.nodyn:jvm-npm:a0c3f12\");\n\n    DefaultRepositorySystemSession session = new org.eclipse.aether.DefaultRepositorySystemSession();\n    RepositorySystem system = newRepositorySystem();\n    ArtifactRequest request = new ArtifactRequest();\n    request.setArtifact(artifact);\n    //request.setRepositories(new ArrayList&lt;&gt;( Arrays.asList( new RemoteRepository.Builder( \"central\", \"default\", \"http://central.maven.org/maven2/\" ).build()) ));\n    //request.setRepositories( new org.eclipse.aether.DefaultRepositorySystemSession().getLocalRepository() );\n    LocalRepository localRepo = new LocalRepository(mvnRepositoryPath);\n    session.setLocalRepositoryManager(system.newLocalRepositoryManager(session, localRepo));\n\n    ArtifactResult result;\n    try {\n        result = system.resolveArtifact(session, request);\n    } catch (ArtifactResolutionException ex) {\n        throw new RuntimeException(ex);\n    }\n\n    //System.out.println(\"Resolved artifact \" + artifact + \" to \" + result.getArtifact().getFile() + \" from \" + result.getRepository());\n    return result.getArtifact().getFile();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1559309561,"creation_date":1559309561,"answer_id":56396097,"question_id":28105603,"body_markdown":"The maven dependency plugin has a goal &#39;properties&#39;. From [documentation][1]:\r\n\r\n&gt; Goal that sets a property pointing to the artifact file for each project dependency. For each dependency (direct and transitive) a project property will be set which follows the groupId:artifactId:type:[classifier] form and contains the path to the resolved artifact.\r\n\r\nSo something like this should do the trick:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven-dependency-plugin.version&gt;3.1.1&lt;/maven-dependency-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen the property `${junit:junit:jar}` should contain the jar file path\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/properties-mojo.html","title":"How to get path to dependency jar with maven","body":"<p>The maven dependency plugin has a goal 'properties'. From <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/properties-mojo.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Goal that sets a property pointing to the artifact file for each project dependency. For each dependency (direct and transitive) a project property will be set which follows the groupId:artifactId:type:[classifier] form and contains the path to the resolved artifact.</p>\n</blockquote>\n\n<p>So something like this should do the trick:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven-dependency-plugin.version&gt;3.1.1&lt;/maven-dependency-plugin.version&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;properties&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then the property <code>${junit:junit:jar}</code> should contain the jar file path</p>\n"}],"owner":{"account_id":202991,"reputation":12489,"user_id":450383,"accept_rate":50,"display_name":"muhqu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13824,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":56396097,"answer_count":5,"score":14,"last_activity_date":1639702534,"creation_date":1422000886,"question_id":28105603,"body_markdown":"Given a simple Maven project with for example JUnit as dependency, how do I get the full filepath to the `junit.jar` inside the local maven repository it will be installed into?!\r\n\r\ne.g. How to get from artifact `junit:junit` to `/Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar`?\r\n","title":"How to get path to dependency jar with maven","body":"<p>Given a simple Maven project with for example JUnit as dependency, how do I get the full filepath to the <code>junit.jar</code> inside the local maven repository it will be installed into?!</p>\n\n<p>e.g. How to get from artifact <code>junit:junit</code> to <code>/Users/foobar/.m2/repository/junit/junit/4.11/junit-4.11.jar</code>?</p>\n"},{"tags":["java","simulation","anylogic","vehicle-routing"],"comments":[{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1639502929,"post_id":70352835,"comment_id":124363149,"body_markdown":"Could you please elaborate on this: _The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map._ Don&#39;t you define the agent speed manually?","body":"Could you please elaborate on this: <i>The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map.</i> Don&#39;t you define the agent speed manually?"},{"owner":{"account_id":23646764,"reputation":21,"user_id":17676287,"display_name":"Jo&#227;o"},"score":0,"creation_date":1639573906,"post_id":70352835,"comment_id":124382576,"body_markdown":"No, because I use the function &quot;moveToInTime&quot; by providing latitude and longitude, and then the agent moves in the GIS Map. And although I define a certain speed for the agent at my choice, when the agent is moving through the paths/roads in the map, it takes into account and assumes the speed limits (or averages speeds maybe) of the road. Actually, the travel times correspond approximately to what Google Maps would give you for that path.","body":"No, because I use the function &quot;moveToInTime&quot; by providing latitude and longitude, and then the agent moves in the GIS Map. And although I define a certain speed for the agent at my choice, when the agent is moving through the paths/roads in the map, it takes into account and assumes the speed limits (or averages speeds maybe) of the road. Actually, the travel times correspond approximately to what Google Maps would give you for that path."},{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1639576252,"post_id":70352835,"comment_id":124383655,"body_markdown":"But `void moveToInTime(Point location, double tripTime)` has tripTime as input...","body":"But <code>void moveToInTime(Point location, double tripTime)</code> has tripTime as input..."},{"owner":{"account_id":23646764,"reputation":21,"user_id":17676287,"display_name":"Jo&#227;o"},"score":0,"creation_date":1639659765,"post_id":70352835,"comment_id":124408628,"body_markdown":"Yeah, but while running the model, it doesn&#39;t take into account that time estimate, it just uses its own calculations from the GIS Map.","body":"Yeah, but while running the model, it doesn&#39;t take into account that time estimate, it just uses its own calculations from the GIS Map."},{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1639667030,"post_id":70352835,"comment_id":124411886,"body_markdown":"I have doubts about this explanation. Quoting AnyLogic help: When you use the function moveToInTime(), an agent moves with a constant speed so that it reaches the destination over the length of time specified as one of the function’s arguments.","body":"I have doubts about this explanation. Quoting AnyLogic help: When you use the function moveToInTime(), an agent moves with a constant speed so that it reaches the destination over the length of time specified as one of the function’s arguments."},{"owner":{"account_id":23646764,"reputation":21,"user_id":17676287,"display_name":"Jo&#227;o"},"score":0,"creation_date":1639688082,"post_id":70352835,"comment_id":124419935,"body_markdown":"I understand your doubts, but I get the vehicle speeds as an output and I can watch them real time, they vary depending on the road they are driving. This is what happens.","body":"I understand your doubts, but I get the vehicle speeds as an output and I can watch them real time, they vary depending on the road they are driving. This is what happens."}],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639534647,"creation_date":1639534647,"answer_id":70357717,"question_id":70352835,"body_markdown":"you have the method `timeToArrival()` for that.\r\n\r\nbut if you use a moveTo block to move to the destination, then you need to calculate this at least 1 milisecond after the movement started... \r\n\r\nAny time you can do agent.timeToArrival() and if the agent is moving, then it will return a non-zero value","title":"How to get time by route (instead of distance) on Anylogic?","body":"<p>you have the method <code>timeToArrival()</code> for that.</p>\n<p>but if you use a moveTo block to move to the destination, then you need to calculate this at least 1 milisecond after the movement started...</p>\n<p>Any time you can do agent.timeToArrival() and if the agent is moving, then it will return a non-zero value</p>\n"},{"tags":[],"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639702201,"creation_date":1639701585,"answer_id":70387221,"question_id":70352835,"body_markdown":"&gt; The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map by Anylogic\r\n\r\nMovement on the GIS map does *not* change the speed in any way relative to the roads; that is one of the main things &#39;missing&#39; from GIS functionality in AnyLogic (i.e., no meta-knowledge of speed limits or ability to hook in to things such as traffic/roadworks). [That would be a major new feature if ever added and would definitely not &#39;just occur&#39; because it would mean many historic models would then be wrong.]\r\n\r\nI just tested it for `moveTo` and `moveToInTime` to be sure and the latter also always ensures the arrival in the time specified as expected (setting a fixed speed from the start that is the speed needed to arrive in the given time).\r\n\r\nSo you always know the potential arrival time: distance/speed if using `moveTo` and specified-time if using `moveToInTime`.\r\n\r\nIf you&#39;re seeing anything else I suspect either a bug or that you&#39;re not printing the speed you think you are (or there is something in your own model logic that is dynamically changing the speed of the vehicle).\r\n\r\nIf you explicitly change the speed whilst movement is occurring, AnyLogic *will* recalculate `timeToArrival()` when you call it. And `moveToInTime` will no longer arrive in the time specified (because all that does is pre-set the speed initially; it&#39;s not &#39;monitoring&#39; the movement as it occurs).","title":"How to get time by route (instead of distance) on Anylogic?","body":"<blockquote>\n<p>The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map by Anylogic</p>\n</blockquote>\n<p>Movement on the GIS map does <em>not</em> change the speed in any way relative to the roads; that is one of the main things 'missing' from GIS functionality in AnyLogic (i.e., no meta-knowledge of speed limits or ability to hook in to things such as traffic/roadworks). [That would be a major new feature if ever added and would definitely not 'just occur' because it would mean many historic models would then be wrong.]</p>\n<p>I just tested it for <code>moveTo</code> and <code>moveToInTime</code> to be sure and the latter also always ensures the arrival in the time specified as expected (setting a fixed speed from the start that is the speed needed to arrive in the given time).</p>\n<p>So you always know the potential arrival time: distance/speed if using <code>moveTo</code> and specified-time if using <code>moveToInTime</code>.</p>\n<p>If you're seeing anything else I suspect either a bug or that you're not printing the speed you think you are (or there is something in your own model logic that is dynamically changing the speed of the vehicle).</p>\n<p>If you explicitly change the speed whilst movement is occurring, AnyLogic <em>will</em> recalculate <code>timeToArrival()</code> when you call it. And <code>moveToInTime</code> will no longer arrive in the time specified (because all that does is pre-set the speed initially; it's not 'monitoring' the movement as it occurs).</p>\n"}],"owner":{"account_id":23646764,"reputation":21,"user_id":17676287,"display_name":"Jo&#227;o"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639702201,"creation_date":1639501605,"question_id":70352835,"body_markdown":"I&#39;m developing a simulation model in Anylogic where there is a vehicle fleet that provides ridesharing services to travellers. To determine if a vehicle can pick up a certain traveller, I have a function that determines how distant he is from the vehicle, that is based on this: &quot;getDistanceByRoute​&quot; and then I divide it by an average speed to get a value of &quot;waiting time&quot; (if the calculated waiting time is bellow a certain defined value, the vehicle is authorized to pick it up). In truth, what really matters is the waiting time and not the distance. But right now, I can&#39;t find a function that calculates time instead of distance. The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map by Anylogic. But I don&#39;t know this road speed until the vehicle is already travelling the road, Ideally I should know it previously in the calculation to determine the real &quot;waiting time&quot; (instead of an estimate based on the calculated distance and defined average speed).\r\nCan someone help please ?\r\nThank you for your time!","title":"How to get time by route (instead of distance) on Anylogic?","body":"<p>I'm developing a simulation model in Anylogic where there is a vehicle fleet that provides ridesharing services to travellers. To determine if a vehicle can pick up a certain traveller, I have a function that determines how distant he is from the vehicle, that is based on this: &quot;getDistanceByRoute​&quot; and then I divide it by an average speed to get a value of &quot;waiting time&quot; (if the calculated waiting time is bellow a certain defined value, the vehicle is authorized to pick it up). In truth, what really matters is the waiting time and not the distance. But right now, I can't find a function that calculates time instead of distance. The speed of the vehicle will depend on the type of road the vehicle is using and that is entirely calculated within the GIS Map by Anylogic. But I don't know this road speed until the vehicle is already travelling the road, Ideally I should know it previously in the calculation to determine the real &quot;waiting time&quot; (instead of an estimate based on the calculated distance and defined average speed).\nCan someone help please ?\nThank you for your time!</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1639641283,"post_id":70375503,"comment_id":124402006,"body_markdown":"Welcome to Stack Overflow! You seem to be asking for someone to write some code for you. Stack Overflow is a question and answer site, not a code-writing service. Please [see here](https://stackoverflow.com/help/how-to-ask) to learn how to write effective questions","body":"Welcome to Stack Overflow! You seem to be asking for someone to write some code for you. Stack Overflow is a question and answer site, not a code-writing service. Please <a href=\"https://stackoverflow.com/help/how-to-ask\">see here</a> to learn how to write effective questions"}],"answers":[{"tags":[],"owner":{"account_id":2480954,"reputation":317,"user_id":2160443,"display_name":"Rakib Hasan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1639645206,"creation_date":1639645206,"answer_id":70376298,"question_id":70375503,"body_markdown":"**Split By Space**\r\n\r\nFor splitting by space we can use the **split()** method &amp; can pass the Space string (**&quot;&quot;**) in the parameter.\r\n```\r\nString[] texts = text.split(&quot; &quot;);\r\n```\r\n\r\n**Delete The duplicate elements**\r\n\r\nIf We can use java 1.8 or greater than 1.8, we can use stream API for getting distinct elements like.\r\n```\r\nArrays.stream(texts).distinct().toArray(String[]::new);\r\n``` \r\nOr if we need to implement it with java 1.7, we can use HashSet for getting distinct elements like.\r\n```\r\nString[] distinctElements = new HashSet&lt;String&gt;(Arrays.asList(texts)).toArray(new String[0]);\r\n```\r\n\r\n**The final Source code can be like this:**\r\n```\r\npublic static String[] textToArray1_7(String text) {\r\n        //split by space\r\n        String[] texts = text.split(&quot; &quot;);\r\n        //Distinct value\r\n        return Arrays.stream(texts).distinct().toArray(String[]::new);\r\n    }\r\n\r\n    public static String[] textToArray1_8(String text) {\r\n        //split by space\r\n        String[] texts = text.split(&quot; &quot;);\r\n        //Distinct value\r\n        return  new HashSet&lt;String&gt;(Arrays.asList(texts)).toArray(new String[0]);\r\n    }\r\n```\r\nIf any further question, can ask for more clarification.\r\n","title":"Text to string array and delete duplicates","body":"<p><strong>Split By Space</strong></p>\n<p>For splitting by space we can use the <strong>split()</strong> method &amp; can pass the Space string (<strong>&quot;&quot;</strong>) in the parameter.</p>\n<pre><code>String[] texts = text.split(&quot; &quot;);\n</code></pre>\n<p><strong>Delete The duplicate elements</strong></p>\n<p>If We can use java 1.8 or greater than 1.8, we can use stream API for getting distinct elements like.</p>\n<pre><code>Arrays.stream(texts).distinct().toArray(String[]::new);\n</code></pre>\n<p>Or if we need to implement it with java 1.7, we can use HashSet for getting distinct elements like.</p>\n<pre><code>String[] distinctElements = new HashSet&lt;String&gt;(Arrays.asList(texts)).toArray(new String[0]);\n</code></pre>\n<p><strong>The final Source code can be like this:</strong></p>\n<pre><code>public static String[] textToArray1_7(String text) {\n        //split by space\n        String[] texts = text.split(&quot; &quot;);\n        //Distinct value\n        return Arrays.stream(texts).distinct().toArray(String[]::new);\n    }\n\n    public static String[] textToArray1_8(String text) {\n        //split by space\n        String[] texts = text.split(&quot; &quot;);\n        //Distinct value\n        return  new HashSet&lt;String&gt;(Arrays.asList(texts)).toArray(new String[0]);\n    }\n</code></pre>\n<p>If any further question, can ask for more clarification.</p>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639653948,"creation_date":1639653595,"answer_id":70378108,"question_id":70375503,"body_markdown":"You forgot to mark i-th element as duplicate in case when it really is. See my comments in the below code\r\n\r\n```java\r\npublic static String Dublicate(String text) {\r\n    String[] dublic = text.split(&quot; &quot;);\r\n    String result=&quot;&quot;;\r\n    for (int i=0; i&lt;dublic.length; i++){\r\n        if (dublic[i].equals(&quot;delete&quot;)) { // Minor optimization: \r\n            // skip elements that are already marked\r\n            continue;\r\n        }\r\n        boolean isDub = false;   // we need to track i-th element\r\n        for(int j=i+1; j&lt;dublic.length; j++) {\r\n            if (dublic[i].equals(dublic[j])) {\r\n                dublic[j] = &quot;delete&quot;;\r\n                isDub = true;   // i-th element is also a duplicate...\r\n            }\r\n        }\r\n        if (isDub) {\r\n            dublic[i] = &quot;delete&quot;;  // ...so you should also mark it\r\n        }\r\n    }\r\n    for(String s: dublic){\r\n        if(!s.equals(&quot;delete&quot;)) { // for strings you should use &quot;!equals&quot; instead of &quot;!=&quot;\r\n            result = result + s + &quot; &quot;;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nP.S. if original text contains &quot;delete&quot; the result will be incorrect since you use &quot;delete&quot; as a reserved marker word ","title":"Text to string array and delete duplicates","body":"<p>You forgot to mark i-th element as duplicate in case when it really is. See my comments in the below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String Dublicate(String text) {\n    String[] dublic = text.split(&quot; &quot;);\n    String result=&quot;&quot;;\n    for (int i=0; i&lt;dublic.length; i++){\n        if (dublic[i].equals(&quot;delete&quot;)) { // Minor optimization: \n            // skip elements that are already marked\n            continue;\n        }\n        boolean isDub = false;   // we need to track i-th element\n        for(int j=i+1; j&lt;dublic.length; j++) {\n            if (dublic[i].equals(dublic[j])) {\n                dublic[j] = &quot;delete&quot;;\n                isDub = true;   // i-th element is also a duplicate...\n            }\n        }\n        if (isDub) {\n            dublic[i] = &quot;delete&quot;;  // ...so you should also mark it\n        }\n    }\n    for(String s: dublic){\n        if(!s.equals(&quot;delete&quot;)) { // for strings you should use &quot;!equals&quot; instead of &quot;!=&quot;\n            result = result + s + &quot; &quot;;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>P.S. if original text contains &quot;delete&quot; the result will be incorrect since you use &quot;delete&quot; as a reserved marker word</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639702164,"creation_date":1639702164,"answer_id":70387276,"question_id":70375503,"body_markdown":"If *the array of unique strings* needs to be returned, then the initial array of strings after the splitting the input has to be compacted to exclude invalid values, and a smaller copy needs to be returned:\r\n```java\r\npublic static String[] uniques(String text) { \r\n    String[] words = text.split(&quot; &quot;);\r\n\r\n    int p = 0; // index/counter of unique elements\r\n    for (int i = 0; i &lt; words.length; i++) {\r\n        String curr = words[i];\r\n        if (null == curr) {\r\n            continue;\r\n        }\r\n        boolean dupFound = false;\r\n        for (int j = i + 1; j &lt; words.length; j++) {\r\n            if (null == words[j]) {\r\n                continue;\r\n            }\r\n            if (curr.equals(words[j])) {\r\n                words[j] = null;\r\n                dupFound = true;\r\n            }\r\n        }\r\n        if (dupFound) {\r\n            words[i] = null;\r\n        } else {\r\n            words[p++] = words[i]; // shift unique elements to the start of array\r\n        }\r\n    }\r\n    \r\n    return Arrays.copyOf(words, p);\r\n}\r\n```\r\nIf the array of unique strings is returned, it may be conveniently converted into String using `String::join` as shown below in the test.\r\nTest:\r\n```java\r\nSystem.out.println(Arrays.toString(uniques(&quot;a b a b c a b d&quot;)));\r\nSystem.out.println(String.join(&quot; &quot;, uniques(&quot;a b a b c a b d&quot;)));\r\n```\r\nOutput\r\n```\r\n[c, d]\r\nc d\r\n```","title":"Text to string array and delete duplicates","body":"<p>If <em>the array of unique strings</em> needs to be returned, then the initial array of strings after the splitting the input has to be compacted to exclude invalid values, and a smaller copy needs to be returned:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] uniques(String text) { \n    String[] words = text.split(&quot; &quot;);\n\n    int p = 0; // index/counter of unique elements\n    for (int i = 0; i &lt; words.length; i++) {\n        String curr = words[i];\n        if (null == curr) {\n            continue;\n        }\n        boolean dupFound = false;\n        for (int j = i + 1; j &lt; words.length; j++) {\n            if (null == words[j]) {\n                continue;\n            }\n            if (curr.equals(words[j])) {\n                words[j] = null;\n                dupFound = true;\n            }\n        }\n        if (dupFound) {\n            words[i] = null;\n        } else {\n            words[p++] = words[i]; // shift unique elements to the start of array\n        }\n    }\n    \n    return Arrays.copyOf(words, p);\n}\n</code></pre>\n<p>If the array of unique strings is returned, it may be conveniently converted into String using <code>String::join</code> as shown below in the test.\nTest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Arrays.toString(uniques(&quot;a b a b c a b d&quot;)));\nSystem.out.println(String.join(&quot; &quot;, uniques(&quot;a b a b c a b d&quot;)));\n</code></pre>\n<p>Output</p>\n<pre><code>[c, d]\nc d\n</code></pre>\n"}],"owner":{"account_id":23392823,"reputation":9,"user_id":17457284,"display_name":"Giminon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1639702164,"creation_date":1639640987,"question_id":70375503,"body_markdown":"The idea of the program is that it gets the text divided by space from the scanner. \r\n\r\nI need to write a method to create an array from text, delete duplicates and return an array of the words which are used only once and don&#39;t have duplicates. \r\n\r\nI can&#39;t find out how to make a new array of unique words. Using only simple and basic construction without *HashSet* etc.*\r\n\r\nFor example:\r\n```\r\na b a b c a b d\r\n```\r\nresult: \r\n```\r\nc d\r\n```\r\n\r\n```java\r\npublic static String Dublicate(String text) { \r\n    String[] dublic = text.split(&quot; &quot;);\r\n    String result=&quot;&quot;;\r\n    for (int i = 0; i &lt; dublic.length; i++) {\r\n        for (int j = i + 1; j &lt; dublic.length; j++)\r\n            if (dublic[i].equals(dublic[j]))\r\n                dublic[j] = &quot;delete&quot;;\r\n    }\r\n    for (String s: dublic) {\r\n        if (s !=&quot;delete&quot;) {\r\n            result =result + s + &quot; &quot;;  \r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"Text to string array and delete duplicates","body":"<p>The idea of the program is that it gets the text divided by space from the scanner.</p>\n<p>I need to write a method to create an array from text, delete duplicates and return an array of the words which are used only once and don't have duplicates.</p>\n<p>I can't find out how to make a new array of unique words. Using only simple and basic construction without <em>HashSet</em> etc.*</p>\n<p>For example:</p>\n<pre><code>a b a b c a b d\n</code></pre>\n<p>result:</p>\n<pre><code>c d\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String Dublicate(String text) { \n    String[] dublic = text.split(&quot; &quot;);\n    String result=&quot;&quot;;\n    for (int i = 0; i &lt; dublic.length; i++) {\n        for (int j = i + 1; j &lt; dublic.length; j++)\n            if (dublic[i].equals(dublic[j]))\n                dublic[j] = &quot;delete&quot;;\n    }\n    for (String s: dublic) {\n        if (s !=&quot;delete&quot;) {\n            result =result + s + &quot; &quot;;  \n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","macos","scala","sbt","jna"],"answers":[{"tags":[],"owner":{"account_id":21780898,"reputation":219,"user_id":16082624,"display_name":"Zack"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1639671788,"creation_date":1639594282,"answer_id":70368908,"question_id":70368863,"body_markdown":"Quoted from [GitHub](https://github.com/sbt/io/issues/320)\r\n&gt; And replacing .sbt/boot/scala-2.12.14/org.scala-sbt/sbt/1.5.5/jna- 5.5.0.jar \r\n&gt; with a jna-5.8.0.jar fixes the issue, so bumping the dependency in sbt.io is \r\n&gt; definitely required\r\n\r\nBasically remove the existing jna in `../sbt/1.5.5/jna-...` and copy new jar of jna version &gt;= 5.6.0 in as `jna-v.v.v.jar`\r\n\r\nSpecifically, I&#39;m using 5.10.0 and the server runs now! :tada:\r\n\r\nCredits to Github user `vbabenkoru` and Elia for helping me with this!\r\n\r\nEDIT: Amended to 5.6.0 as per the release notes, thanks Daniel Widdis for pointing it out!","title":"UnsatisfiedLinkError for M1 Macs while running Play server locally","body":"<p>Quoted from <a href=\"https://github.com/sbt/io/issues/320\" rel=\"noreferrer\">GitHub</a></p>\n<blockquote>\n<p>And replacing .sbt/boot/scala-2.12.14/org.scala-sbt/sbt/1.5.5/jna- 5.5.0.jar\nwith a jna-5.8.0.jar fixes the issue, so bumping the dependency in sbt.io is\ndefinitely required</p>\n</blockquote>\n<p>Basically remove the existing jna in <code>../sbt/1.5.5/jna-...</code> and copy new jar of jna version &gt;= 5.6.0 in as <code>jna-v.v.v.jar</code></p>\n<p>Specifically, I'm using 5.10.0 and the server runs now! :tada:</p>\n<p>Credits to Github user <code>vbabenkoru</code> and Elia for helping me with this!</p>\n<p>EDIT: Amended to 5.6.0 as per the release notes, thanks Daniel Widdis for pointing it out!</p>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639702039,"creation_date":1639599413,"answer_id":70369813,"question_id":70368863,"body_markdown":"There are two compatibility issues associated with macOS and M1 chips that can cause `UnsatisfiedLinkErrors`.\r\n\r\nThe issue you experienced was associated with a lack of support for `aarch64`, the M1 architecture. This was [fixed][1] in [JNA 5.7.0][2], and upgrading to that or later versions resolves the problem.\r\n\r\nAnother issue that may produce this error is associated with how Apple changed the way system libraries are loaded in macOS 11 (Big Sur), continuing on in future versions. \r\n\r\nFrom the [macOS Big Sur 11.0.1 Release Notes][3]:\r\n\r\n&gt; New in macOS Big Sur 11.0.1, the system ships with a built-in dynamic linker cache of all system-provided libraries. As part of this change, copies of dynamic libraries are no longer present on the filesystem. Code that attempts to check for dynamic library presence by looking for a file at a path or enumerating a directory will fail. Instead, check for library presence by attempting to dlopen() the path, which will correctly check for the library in the cache. \r\n\r\nJNA fixed this loading issue in [Release 5.6.0][4].\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna/pull/1238\r\n  [2]: https://github.com/java-native-access/jna/blob/master/CHANGES.md#release-570\r\n  [3]: https://developer.apple.com/documentation/macos-release-notes/macos-big-sur-11_0_1-release-notes\r\n  [4]: https://github.com/java-native-access/jna/blob/master/CHANGES.md#release-560","title":"UnsatisfiedLinkError for M1 Macs while running Play server locally","body":"<p>There are two compatibility issues associated with macOS and M1 chips that can cause <code>UnsatisfiedLinkErrors</code>.</p>\n<p>The issue you experienced was associated with a lack of support for <code>aarch64</code>, the M1 architecture. This was <a href=\"https://github.com/java-native-access/jna/pull/1238\" rel=\"noreferrer\">fixed</a> in <a href=\"https://github.com/java-native-access/jna/blob/master/CHANGES.md#release-570\" rel=\"noreferrer\">JNA 5.7.0</a>, and upgrading to that or later versions resolves the problem.</p>\n<p>Another issue that may produce this error is associated with how Apple changed the way system libraries are loaded in macOS 11 (Big Sur), continuing on in future versions.</p>\n<p>From the <a href=\"https://developer.apple.com/documentation/macos-release-notes/macos-big-sur-11_0_1-release-notes\" rel=\"noreferrer\">macOS Big Sur 11.0.1 Release Notes</a>:</p>\n<blockquote>\n<p>New in macOS Big Sur 11.0.1, the system ships with a built-in dynamic linker cache of all system-provided libraries. As part of this change, copies of dynamic libraries are no longer present on the filesystem. Code that attempts to check for dynamic library presence by looking for a file at a path or enumerating a directory will fail. Instead, check for library presence by attempting to dlopen() the path, which will correctly check for the library in the cache.</p>\n</blockquote>\n<p>JNA fixed this loading issue in <a href=\"https://github.com/java-native-access/jna/blob/master/CHANGES.md#release-560\" rel=\"noreferrer\">Release 5.6.0</a>.</p>\n"}],"owner":{"account_id":21780898,"reputation":219,"user_id":16082624,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11725,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":2,"score":11,"last_activity_date":1639702121,"creation_date":1639594077,"question_id":70368863,"body_markdown":"When running a new project utilising LeadIQ&#39;s play boilerplate, we will run into an UnsatisfiedLinkError in older versions of JNA below version 5.7.0.\r\n\r\nI think this is due to incompatible binaries between the ARM M1 architecture. How can it be resolved? \r\n\r\nHere&#39;s the full stack trace, showing &quot;no matching architecture&quot; from the JNA binaries.\r\n\r\n```\r\n[error] java.lang.UnsatisfiedLinkError: /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: dlopen(/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp, 1): no suitable image found.  Did find:\r\n[error] \t/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\r\n[error] \t/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\r\n[error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n[error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\r\n[error] \tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\r\n[error] \tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\r\n[error] \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\r\n[error] \tat java.base/java.lang.Runtime.load0(Runtime.java:768)\r\n[error] \tat java.base/java.lang.System.load(System.java:1837)\r\n[error] \tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\r\n[error] \tat com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\r\n[error] \tat com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n[error] \tat io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:20)\r\n[error] \tat io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\r\n[error] \tat io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:127)\r\n[error] \tat io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\r\n[error] \tat io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:400)\r\n[error] \tat io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:373)\r\n[error] \tat io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:193)\r\n[error] \tat io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:122)\r\n[error] \tat play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:44)\r\n[error] \tat play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:95)\r\n[error] \tat play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:443)\r\n[error] \tat play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:283)\r\n[error] \tat play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:275)\r\n[error] \tat play.runsupport.Reloader$.startDevMode(Reloader.scala:306)\r\n[error] \tat play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:100)\r\n[error] \tat play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\r\n[error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:107)\r\n[error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:67)\r\n[error] \tat scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n[error] stack trace is suppressed; run last Compile / run for the full output\r\n[error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: dlopen(/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp, 1): no suitable image found.  Did find:\r\n[error] \t/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\r\n[error] \t/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\r\n[error] Total time: 1 s, completed Dec 15, 2021, 10:36:16 AM\r\n```","title":"UnsatisfiedLinkError for M1 Macs while running Play server locally","body":"<p>When running a new project utilising LeadIQ's play boilerplate, we will run into an UnsatisfiedLinkError in older versions of JNA below version 5.7.0.</p>\n<p>I think this is due to incompatible binaries between the ARM M1 architecture. How can it be resolved?</p>\n<p>Here's the full stack trace, showing &quot;no matching architecture&quot; from the JNA binaries.</p>\n<pre><code>[error] java.lang.UnsatisfiedLinkError: /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: dlopen(/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp, 1): no suitable image found.  Did find:\n[error]     /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\n[error]     /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\n[error]     at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n[error]     at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\n[error]     at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\n[error]     at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\n[error]     at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\n[error]     at java.base/java.lang.Runtime.load0(Runtime.java:768)\n[error]     at java.base/java.lang.System.load(System.java:1837)\n[error]     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\n[error]     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\n[error]     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n[error]     at io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:20)\n[error]     at io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\n[error]     at io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:127)\n[error]     at io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\n[error]     at io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:400)\n[error]     at io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:373)\n[error]     at io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:193)\n[error]     at io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:122)\n[error]     at play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:44)\n[error]     at play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:95)\n[error]     at play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:443)\n[error]     at play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:283)\n[error]     at play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:275)\n[error]     at play.runsupport.Reloader$.startDevMode(Reloader.scala:306)\n[error]     at play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:100)\n[error]     at play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\n[error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:107)\n[error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:67)\n[error]     at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n[error] stack trace is suppressed; run last Compile / run for the full output\n[error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: dlopen(/Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp, 1): no suitable image found.  Did find:\n[error]     /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\n[error]     /Users/zackng/Library/Caches/JNA/temp/jna1415930593236960966.tmp: no matching architecture in universal wrapper\n[error] Total time: 1 s, completed Dec 15, 2021, 10:36:16 AM\n</code></pre>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639162509,"creation_date":1639162509,"answer_id":70309198,"question_id":70300949,"body_markdown":"You will need to programmatically validate the bean as follows:\r\n```java\r\n@Autowired\r\nValidator validator;\r\n\r\npublic RequestResponse create(EntityV1 entityV1, BindingResult bindingResult){\r\n    Entity entity = transform(entityV1);\r\n\r\n    validator.validate(entity, bindingResult);\r\n    if (bindingResult.hasErrors()) {\r\n        // validation errors\r\n    } else {\r\n        // no errors\r\n    }\r\n}\r\n```","title":"How to use @Valid annotation on return type of a internal method","body":"<p>You will need to programmatically validate the bean as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nValidator validator;\n\npublic RequestResponse create(EntityV1 entityV1, BindingResult bindingResult){\n    Entity entity = transform(entityV1);\n\n    validator.validate(entity, bindingResult);\n    if (bindingResult.hasErrors()) {\n        // validation errors\n    } else {\n        // no errors\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23379560,"reputation":1,"user_id":17447077,"display_name":"MHM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639701952,"creation_date":1639120632,"question_id":70300949,"body_markdown":"I have a REST API, inside which I&#39;m transforming the request passed. Now I want to validate the entity which was transformed using @Valid annotation.\r\n\r\n```\r\npublic RequestResponse create(EntityV1 entityV1){\r\n    Entity entity = transform(entityV1)\r\n}\r\n\r\nprivate Entity transform(EntityV1 entityV1){\r\n    Entity entity = new Entity();\r\n    //Transformation logic\r\n    return entity;\r\n}\r\n```\r\n\r\nPlease suggest me a way through which the return type of transform can be validated using my custom annotation.\r\n\r\nConstraint:\r\nI cannot change the Input of my rest api from EntityV1 to Entity\r\n\r\n","title":"How to use @Valid annotation on return type of a internal method","body":"<p>I have a REST API, inside which I'm transforming the request passed. Now I want to validate the entity which was transformed using @Valid annotation.</p>\n<pre><code>public RequestResponse create(EntityV1 entityV1){\n    Entity entity = transform(entityV1)\n}\n\nprivate Entity transform(EntityV1 entityV1){\n    Entity entity = new Entity();\n    //Transformation logic\n    return entity;\n}\n</code></pre>\n<p>Please suggest me a way through which the return type of transform can be validated using my custom annotation.</p>\n<p>Constraint:\nI cannot change the Input of my rest api from EntityV1 to Entity</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639701399,"creation_date":1639701399,"answer_id":70387201,"question_id":70386672,"body_markdown":"Discord requires that you *acknowledge* the button interaction. This can be done with one of the following:\r\n\r\n- [deferReply](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/Interaction.html#deferReply(boolean))\r\n    Reply with a &quot;bot is thinking...&quot; message and edit it later\r\n- [reply](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/Interaction.html#reply(java.lang.String))\r\n    Reply with a message\r\n- [deferEdit](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/components/ComponentInteraction.html#deferEdit())\r\n    Do nothing (or edit later)\r\n- [editMessage](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/components/ComponentInteraction.html#editMessage(net.dv8tion.jda.api.entities.Message))\r\n    Edit the message the button was clicked on\r\n\r\nIf you only want to acknowledge the button was clicked, without responding with a message or editing the message, you can simply use `event.deferEdit().queue();`.","title":"Button interaction failed","body":"<p>Discord requires that you <em>acknowledge</em> the button interaction. This can be done with one of the following:</p>\n<ul>\n<li><a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/Interaction.html#deferReply(boolean)\" rel=\"nofollow noreferrer\">deferReply</a>\nReply with a &quot;bot is thinking...&quot; message and edit it later</li>\n<li><a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/Interaction.html#reply(java.lang.String)\" rel=\"nofollow noreferrer\">reply</a>\nReply with a message</li>\n<li><a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/components/ComponentInteraction.html#deferEdit()\" rel=\"nofollow noreferrer\">deferEdit</a>\nDo nothing (or edit later)</li>\n<li><a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/interactions/components/ComponentInteraction.html#editMessage(net.dv8tion.jda.api.entities.Message)\" rel=\"nofollow noreferrer\">editMessage</a>\nEdit the message the button was clicked on</li>\n</ul>\n<p>If you only want to acknowledge the button was clicked, without responding with a message or editing the message, you can simply use <code>event.deferEdit().queue();</code>.</p>\n"}],"owner":{"account_id":23659859,"reputation":33,"user_id":17687584,"display_name":"CzarnaWoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70387201,"answer_count":1,"score":3,"last_activity_date":1639701466,"creation_date":1639696376,"question_id":70386672,"body_markdown":"i have problem because i made smth in ButtonClickEvent and it works well but when someone click button under this button i have error &quot;This interaction failed&quot;, i have to finish in code action with button or what can i do with this ?\r\n\r\nDeclaring button:\r\n    \r\n```java\r\nchannel.sendFile(file,&quot;paint.png&quot;).setEmbeds(embed.build()).setActionRow(Button.success(&quot;veryfication&quot;,&quot;VERYFI!&quot;)).queue();\r\n```\r\n\r\n\r\nAnd ButtonClickEvent:\r\n\r\n    public void onButtonClick(ButtonClickEvent e){\r\n        if(e.getButton() != null) {\r\n            if (e.getButton().getId().equalsIgnoreCase(&quot;veryfication&quot;)) {\r\n                final Member member = e.getMember();\r\n                if (member != null &amp;&amp; member.getRoles() != null) {\r\n                    if (!member.getRoles().contains(e.getGuild().getRoleById(&quot;920701070831939669&quot;))) {\r\n                        e.getGuild().addRoleToMember(member, e.getGuild().getRoleById(&quot;920701070831939669&quot;)).queue();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nImage:\r\n\r\n![Button error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sI72F.jpg","title":"Button interaction failed","body":"<p>i have problem because i made smth in ButtonClickEvent and it works well but when someone click button under this button i have error &quot;This interaction failed&quot;, i have to finish in code action with button or what can i do with this ?</p>\n<p>Declaring button:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.sendFile(file,&quot;paint.png&quot;).setEmbeds(embed.build()).setActionRow(Button.success(&quot;veryfication&quot;,&quot;VERYFI!&quot;)).queue();\n</code></pre>\n<p>And ButtonClickEvent:</p>\n<pre><code>public void onButtonClick(ButtonClickEvent e){\n    if(e.getButton() != null) {\n        if (e.getButton().getId().equalsIgnoreCase(&quot;veryfication&quot;)) {\n            final Member member = e.getMember();\n            if (member != null &amp;&amp; member.getRoles() != null) {\n                if (!member.getRoles().contains(e.getGuild().getRoleById(&quot;920701070831939669&quot;))) {\n                    e.getGuild().addRoleToMember(member, e.getGuild().getRoleById(&quot;920701070831939669&quot;)).queue();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Image:</p>\n<p><img src=\"https://i.stack.imgur.com/sI72F.jpg\" alt=\"Button error\" /></p>\n"},{"tags":["java","generics","jackson"],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639697194,"creation_date":1639697194,"answer_id":70386786,"question_id":70386632,"body_markdown":"The problem is that through type erasure, the compiler will produce the method below for your generic method.\r\n\r\n```\r\n    public static JsonNode of(String key, Object value) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectNode root = objectMapper.createObjectNode();\r\n        root.put(key, value); // &lt;== error shows up on this line\r\n        return root;\r\n}\r\n```\r\n\r\nPer Jackson documentation, there&#39;s no such method `put(String key, Object value)`.\r\n\r\nInstead of calling the method `of(String key, T value)`, I would just do the following:\r\n\r\n```\r\n  ObjectNode root = new ObjectMapper().createObjectNode();\r\n  root.put(key, value);\r\n```\r\n\r\nOr you could write write several overloaded methods `of(...)`.\r\n","title":"How to create generic method for ObjectNode put","body":"<p>The problem is that through type erasure, the compiler will produce the method below for your generic method.</p>\n<pre><code>    public static JsonNode of(String key, Object value) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        ObjectNode root = objectMapper.createObjectNode();\n        root.put(key, value); // &lt;== error shows up on this line\n        return root;\n}\n</code></pre>\n<p>Per Jackson documentation, there's no such method <code>put(String key, Object value)</code>.</p>\n<p>Instead of calling the method <code>of(String key, T value)</code>, I would just do the following:</p>\n<pre><code>  ObjectNode root = new ObjectMapper().createObjectNode();\n  root.put(key, value);\n</code></pre>\n<p>Or you could write write several overloaded methods <code>of(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639699562,"creation_date":1639699562,"answer_id":70387033,"question_id":70386632,"body_markdown":"There is another approach that works for any json object:\r\n\r\n    Map&lt;String, Object&gt; map = new ObjectMapper().readValue(json, new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {});\r\n\r\nThe object in the value can be any value object (`String`, `Integer`, etc), another `Map&lt;String, Object&gt;` as a nested object or a `List&lt;Object&gt;`/`List&lt;Map&lt;String, Object&gt;&gt;` and so on down to any depth.","title":"How to create generic method for ObjectNode put","body":"<p>There is another approach that works for any json object:</p>\n<pre><code>Map&lt;String, Object&gt; map = new ObjectMapper().readValue(json, new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {});\n</code></pre>\n<p>The object in the value can be any value object (<code>String</code>, <code>Integer</code>, etc), another <code>Map&lt;String, Object&gt;</code> as a nested object or a <code>List&lt;Object&gt;</code>/<code>List&lt;Map&lt;String, Object&gt;&gt;</code> and so on down to any depth.</p>\n"},{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639701401,"creation_date":1639701401,"answer_id":70387203,"question_id":70386632,"body_markdown":"If you look at the signature of the *ObjectNode#put* method you will see that\r\n\r\n    public JsonNode put(String fieldName, JsonNode value)\r\nthe second argument is actually bound to a specific type and it is `JsonNode `, not just any `T` (much like your method allows). \r\n\r\nSo, because of the type erasure - the compiler has to ensure you provided a compatible type at compile time and I suggest you to put a suitable bound on the method, for example:\r\n\r\n    public static &lt;T extends JsonNode&gt; JsonNode of(String key, T value) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectNode root = objectMapper.createObjectNode();\r\n        root.set(key, value);\r\n\r\n        return root;\r\n    }\r\n\r\nmaking sure your method accepts only JsonNode or its descendants.\r\n\r\n\r\n----------\r\n\r\nSmall note 1: it is not a good thing to instantiate ObjectMapper every time the method gets called as it is a bit expensive object to create, better to make it a field.\r\n\r\nSmall note 2: The method *ObjectNode#put* gets deprecated since version 2.4, and it is recommended to use *ObjectNode#set* instead.","title":"How to create generic method for ObjectNode put","body":"<p>If you look at the signature of the <em>ObjectNode#put</em> method you will see that</p>\n<pre><code>public JsonNode put(String fieldName, JsonNode value)\n</code></pre>\n<p>the second argument is actually bound to a specific type and it is <code>JsonNode </code>, not just any <code>T</code> (much like your method allows).</p>\n<p>So, because of the type erasure - the compiler has to ensure you provided a compatible type at compile time and I suggest you to put a suitable bound on the method, for example:</p>\n<pre><code>public static &lt;T extends JsonNode&gt; JsonNode of(String key, T value) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    ObjectNode root = objectMapper.createObjectNode();\n    root.set(key, value);\n\n    return root;\n}\n</code></pre>\n<p>making sure your method accepts only JsonNode or its descendants.</p>\n<hr />\n<p>Small note 1: it is not a good thing to instantiate ObjectMapper every time the method gets called as it is a bit expensive object to create, better to make it a field.</p>\n<p>Small note 2: The method <em>ObjectNode#put</em> gets deprecated since version 2.4, and it is recommended to use <em>ObjectNode#set</em> instead.</p>\n"}],"owner":{"account_id":8387380,"reputation":935,"user_id":6297333,"display_name":"pure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1639701401,"creation_date":1639695950,"question_id":70386632,"body_markdown":"I have a use case where I need to support multiple types of values to be inserted into the ObjectNode (of Jackson ObjectMapper), however when I try to use generics it has errors `Cannot resolve method &#39;put(java.lang.String, T)&#39;` \r\n\r\n```java\r\n    public static &lt;T&gt; JsonNode of(String key, T value) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectNode root = objectMapper.createObjectNode();\r\n        root.put(key, value); // &lt;== error shows up on this line\r\n\r\n\r\n        return root;\r\n}\r\n```\r\n\r\nThe underlying ObjectNode does support many types for the value, e.g. `&lt;String, Boolean&gt;`, `&lt;String, String&gt;`, `&lt;String, Integer&gt;`, etc. \r\n\r\nFor full documentation [Jackson](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html)\r\n\r\nWhat&#39;s the correct way to do this? Thanks.\r\n\r\n    ","title":"How to create generic method for ObjectNode put","body":"<p>I have a use case where I need to support multiple types of values to be inserted into the ObjectNode (of Jackson ObjectMapper), however when I try to use generics it has errors <code>Cannot resolve method 'put(java.lang.String, T)'</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T&gt; JsonNode of(String key, T value) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        ObjectNode root = objectMapper.createObjectNode();\n        root.put(key, value); // &lt;== error shows up on this line\n\n\n        return root;\n}\n</code></pre>\n<p>The underlying ObjectNode does support many types for the value, e.g. <code>&lt;String, Boolean&gt;</code>, <code>&lt;String, String&gt;</code>, <code>&lt;String, Integer&gt;</code>, etc.</p>\n<p>For full documentation <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html\" rel=\"nofollow noreferrer\">Jackson</a></p>\n<p>What's the correct way to do this? Thanks.</p>\n"},{"tags":["java","nanotime"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1639705447,"post_id":70387186,"comment_id":124423756,"body_markdown":"The Java runtime is complex.  The just-in-time compiler may have decided to compile HashMap into native code by the time the second pair of `get` calls occurred.  Single runs are rarely a good way to perform benchmarking in Java.","body":"The Java runtime is complex.  The just-in-time compiler may have decided to compile HashMap into native code by the time the second pair of <code>get</code> calls occurred.  Single runs are rarely a good way to perform benchmarking in Java."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639705671,"post_id":70387186,"comment_id":124423788,"body_markdown":"[*Java Microbenchmark Harness (JMH)*](https://github.com/openjdk/jmh#java-microbenchmark-harness-jmh)","body":"<a href=\"https://github.com/openjdk/jmh#java-microbenchmark-harness-jmh\" rel=\"nofollow noreferrer\"><i>Java Microbenchmark Harness (JMH)</i></a>"}],"owner":{"account_id":23663210,"reputation":9,"user_id":17691018,"display_name":"richi_urb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1639708740,"answer_count":0,"score":0,"last_activity_date":1639701243,"creation_date":1639701243,"question_id":70387186,"body_markdown":"I want to know the working time of some methods in my study project by Java tools. When I tried to use ```System.nanoTime()```, I had noticed, that comparison of the working time of two methods looks a litle bit strange. The first and the second methods should work for the same time, but I got another result in console - the working time distinguished in several times.\r\n\r\nWhether calculating time by ```System.nanoTime()``` function gives different efficiency results on the simple code:\r\n\r\n```\r\nString a = &quot;a&quot;;\r\nString b = &quot;b&quot;;\r\nString c = &quot;c&quot;;\r\nString d = &quot;d&quot;;\r\n\r\nHashMap&lt;String, String&gt; stringMap = new HashMap&lt;&gt;();\r\nstringMap.put(a, &quot;map_a&quot;);\r\nstringMap.put(b, &quot;map_b&quot;);\r\n\r\nHashMap&lt;String, String&gt; secondStringMap = new HashMap&lt;&gt;();\r\nsecondStringMap.put(c, &quot;map_c&quot;);\r\nsecondStringMap.put(d, &quot;map_d&quot;);\r\n\r\nString[] firstArray = new String[2];\r\nString[] secondArray = new String[2];\r\n\r\nlong startTime = System.nanoTime();\r\n\r\nfirstArray[0] = stringMap.get(a);\r\nsecondArray[1] = stringMap.get(b);\r\n\r\nlong midTime = System.nanoTime();\r\n\r\nfirstArray[0] = secondStringMap.get(c);\r\nsecondArray[1] = secondStringMap.get(d);\r\n\r\nlong endTime = System.nanoTime();\r\n\r\nSystem.out.println(midTime - startTime);\r\nSystem.out.println(endTime - midTime);\r\n```\r\n\r\nAnd I got a very interesting result - the first part worked for approximately 5-10 times slower than the second.\r\n\r\nSo the question is:\r\n\r\n**Why does calculating working time with ```System.nanoTime()``` give different result for the first and the second part of the code? Is there any better way to count time?**","title":"The problem with using System.nanoTime() for calculating the working time of the method","body":"<p>I want to know the working time of some methods in my study project by Java tools. When I tried to use <code>System.nanoTime()</code>, I had noticed, that comparison of the working time of two methods looks a litle bit strange. The first and the second methods should work for the same time, but I got another result in console - the working time distinguished in several times.</p>\n<p>Whether calculating time by <code>System.nanoTime()</code> function gives different efficiency results on the simple code:</p>\n<pre><code>String a = &quot;a&quot;;\nString b = &quot;b&quot;;\nString c = &quot;c&quot;;\nString d = &quot;d&quot;;\n\nHashMap&lt;String, String&gt; stringMap = new HashMap&lt;&gt;();\nstringMap.put(a, &quot;map_a&quot;);\nstringMap.put(b, &quot;map_b&quot;);\n\nHashMap&lt;String, String&gt; secondStringMap = new HashMap&lt;&gt;();\nsecondStringMap.put(c, &quot;map_c&quot;);\nsecondStringMap.put(d, &quot;map_d&quot;);\n\nString[] firstArray = new String[2];\nString[] secondArray = new String[2];\n\nlong startTime = System.nanoTime();\n\nfirstArray[0] = stringMap.get(a);\nsecondArray[1] = stringMap.get(b);\n\nlong midTime = System.nanoTime();\n\nfirstArray[0] = secondStringMap.get(c);\nsecondArray[1] = secondStringMap.get(d);\n\nlong endTime = System.nanoTime();\n\nSystem.out.println(midTime - startTime);\nSystem.out.println(endTime - midTime);\n</code></pre>\n<p>And I got a very interesting result - the first part worked for approximately 5-10 times slower than the second.</p>\n<p>So the question is:</p>\n<p><strong>Why does calculating working time with <code>System.nanoTime()</code> give different result for the first and the second part of the code? Is there any better way to count time?</strong></p>\n"},{"tags":["java","generics","design-patterns","factory","strategy-pattern"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639693272,"post_id":70386210,"comment_id":124421546,"body_markdown":"You haven&#39;t shown the code for `retrievePaymentService`.","body":"You haven&#39;t shown the code for <code>retrievePaymentService</code>."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1639693814,"post_id":70386210,"comment_id":124421685,"body_markdown":"@tgdavies Sorry for the typo. Its in the factory class.","body":"@tgdavies Sorry for the typo. Its in the factory class."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1639694560,"post_id":70386210,"comment_id":124421849,"body_markdown":"`Float amount;`? Oh. Oh no. No no.","body":"<code>Float amount;</code>? Oh. Oh no. No no."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1639694761,"post_id":70386210,"comment_id":124421896,"body_markdown":"@rzwitserloot What is the recommendation? BigDecimal ... We support only 2 decimal digits like 1000.25 or 80.74 .... The amount wont exceed more than 10K","body":"@rzwitserloot What is the recommendation? BigDecimal ... We support only 2 decimal digits like 1000.25 or 80.74 .... The amount wont exceed more than 10K"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639698389,"post_id":70386210,"comment_id":124422608,"body_markdown":"Use an int or long in cents (or tenths or hundredths of cents if necessary)","body":"Use an int or long in cents (or tenths or hundredths of cents if necessary)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1639698600,"post_id":70386210,"comment_id":124422650,"body_markdown":"There doesn&#39;t seem to be any need for `PaymentFactory` (which should be named `PaymentServiceFactory`) to have a type parameter.","body":"There doesn&#39;t seem to be any need for <code>PaymentFactory</code> (which should be named <code>PaymentServiceFactory</code>) to have a type parameter."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1639698651,"post_id":70386210,"comment_id":124422660,"body_markdown":"Please elaborate","body":"Please elaborate"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639698926,"post_id":70386210,"comment_id":124422719,"body_markdown":"It&#39;s declared as `class PaymentFactory&lt;T&gt;` but `T` is never used.","body":"It&#39;s declared as <code>class PaymentFactory&lt;T&gt;</code> but <code>T</code> is never used."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1639699352,"post_id":70386210,"comment_id":124422795,"body_markdown":"I am confused with that and not sure why I had to tyoecast after getting the instance from the factory. PaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory\n                        .retrievePaymentService(paymentReq.getPaymentType());","body":"I am confused with that and not sure why I had to tyoecast after getting the instance from the factory. PaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory                         .retrievePaymentService(paymentReq.getPaymentType());"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639699825,"post_id":70386210,"comment_id":124422890,"body_markdown":"I don&#39;t think you need the upper bound on the type parameter in `PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService(...)`.","body":"I don&#39;t think you need the upper bound on the type parameter in <code>PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService(...)</code>."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1639699852,"post_id":70386210,"comment_id":124422899,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/240222/discussion-between-user1578872-and-tgdavies).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/240222/discussion-between-user1578872-and-tgdavies\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639700727,"creation_date":1639700727,"answer_id":70387131,"question_id":70386210,"body_markdown":"Here&#39;s a simplified version of your code which I think maintains what you need to do, from a type perspective:\r\n```\r\nimport java.util.Optional;\r\n\r\npublic class App {\r\n\r\n    public interface PaymentModel { }\r\n\r\n    public static class CashModel implements PaymentModel { }\r\n\r\n    public interface PaymentService&lt;T extends PaymentModel&gt; {\r\n        void pay(T model);\r\n        void pay2(PaymentModel model);\r\n    }\r\n\r\n    public static class PaymentFactory {\r\n        public PaymentService&lt;PaymentModel&gt; retrievePaymentService(final String paymentMethod) {\r\n            Optional&lt;PaymentService&lt;PaymentModel&gt;&gt; paymentService = null;\r\n            return paymentService.get();\r\n        }\r\n        public PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService2(final String paymentMethod) {\r\n            Optional&lt;PaymentService&lt;PaymentModel&gt;&gt; paymentService = null;\r\n            return paymentService.get();\r\n        }\r\n    }\r\n\r\n    public static void main(String... args) throws NoSuchFieldException, IllegalAccessException {\r\n        PaymentFactory paymentFactory = null;\r\n        PaymentService&lt;PaymentModel&gt; paymentService = paymentFactory\r\n                .retrievePaymentService(&quot;foo&quot;);\r\n        paymentService.pay(new CashModel());\r\n        \r\n        PaymentService&lt;? extends PaymentModel&gt; paymentService2 = paymentFactory\r\n                .retrievePaymentService2(&quot;foo&quot;);\r\n        paymentService2.pay(new CashModel()); // error\r\n        paymentService2.pay2(new CashModel()); // ok\r\n    }\r\n}\r\n```\r\nLook at the difference between `retrievePaymentService` and `retrievePaymentService2`.\r\n\r\n`retrievePaymentService` returns `PaymentService&lt;PaymentModel&gt;` which says that it is a payment service which works on any `PaymentModel` implementation.\r\n`retrievePaymentService2` returns `PaymentService&lt;? extends PaymentModel&gt;` which says that it is a payment service which works on some specific, unknown `PaymentModel` implementation.\r\n\r\nAs you have already made sure that your `PaymentModel` type matches the `PaymentService` you are getting from the factory, the first form is what you want.\r\n\r\nA better design might try to *not* have two parallel class hierarchies which need to be matched up carefully at runtime.\r\n\r\nAlso, `processCardPayment` seems as though it should handle all `PaymentModel`s?","title":"Java - Generic for Payment processing with Strategy pattern","body":"<p>Here's a simplified version of your code which I think maintains what you need to do, from a type perspective:</p>\n<pre><code>import java.util.Optional;\n\npublic class App {\n\n    public interface PaymentModel { }\n\n    public static class CashModel implements PaymentModel { }\n\n    public interface PaymentService&lt;T extends PaymentModel&gt; {\n        void pay(T model);\n        void pay2(PaymentModel model);\n    }\n\n    public static class PaymentFactory {\n        public PaymentService&lt;PaymentModel&gt; retrievePaymentService(final String paymentMethod) {\n            Optional&lt;PaymentService&lt;PaymentModel&gt;&gt; paymentService = null;\n            return paymentService.get();\n        }\n        public PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService2(final String paymentMethod) {\n            Optional&lt;PaymentService&lt;PaymentModel&gt;&gt; paymentService = null;\n            return paymentService.get();\n        }\n    }\n\n    public static void main(String... args) throws NoSuchFieldException, IllegalAccessException {\n        PaymentFactory paymentFactory = null;\n        PaymentService&lt;PaymentModel&gt; paymentService = paymentFactory\n                .retrievePaymentService(&quot;foo&quot;);\n        paymentService.pay(new CashModel());\n        \n        PaymentService&lt;? extends PaymentModel&gt; paymentService2 = paymentFactory\n                .retrievePaymentService2(&quot;foo&quot;);\n        paymentService2.pay(new CashModel()); // error\n        paymentService2.pay2(new CashModel()); // ok\n    }\n}\n</code></pre>\n<p>Look at the difference between <code>retrievePaymentService</code> and <code>retrievePaymentService2</code>.</p>\n<p><code>retrievePaymentService</code> returns <code>PaymentService&lt;PaymentModel&gt;</code> which says that it is a payment service which works on any <code>PaymentModel</code> implementation.\n<code>retrievePaymentService2</code> returns <code>PaymentService&lt;? extends PaymentModel&gt;</code> which says that it is a payment service which works on some specific, unknown <code>PaymentModel</code> implementation.</p>\n<p>As you have already made sure that your <code>PaymentModel</code> type matches the <code>PaymentService</code> you are getting from the factory, the first form is what you want.</p>\n<p>A better design might try to <em>not</em> have two parallel class hierarchies which need to be matched up carefully at runtime.</p>\n<p>Also, <code>processCardPayment</code> seems as though it should handle all <code>PaymentModel</code>s?</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639700727,"creation_date":1639692492,"question_id":70386210,"body_markdown":"I am trying to implement Strategy pattern approach for payment processing in my Spring webflux based application.\r\n\r\n\r\nMy application supports multiple payment method like, Card Payment, Cash Payment, ...\r\nAlso, we have to support Square &amp; Stripe for Card payment.\r\n\r\n**Model class,**\r\n\r\n    // Model interface\r\n    public interface PaymentModel {\r\n    \r\n    }\r\n    \r\n    // Base model with attributes needed for all payment types\r\n    public class BaseModel implements PaymentModel {\r\n    \r\n    \tprivate Float amount;\r\n    \tprivate Integer userId;\r\n    }\r\n    \r\n    public class SquareCardModel extends BaseModel {\r\n    \r\n    \tprivate String merchantId;\r\n    \tprivate String device;\r\n    \tprivate String orderId;\r\n    \r\n    }\r\n    \r\n    public class StripeCardModel extends BaseModel {\r\n    \r\n    \tprivate String merchantId;\r\n    \tprivate String orderId;\r\n    \r\n    }\r\n    \r\n    public class CashModel extends BaseModel {\r\n    \r\n        private String name;\r\n    \tprivate String orderId;\r\n    \r\n    }\r\n\r\n**Service Class,**\r\n\r\n    @Service\r\n    public interface PaymentService&lt;T extends PaymentModel&gt; {\r\n    \r\n    \tMono&lt;ServerResponse&gt; pay(T model);\r\n    \r\n    \tString method();\r\n    }\r\n    \r\n    @Service\r\n    public class CashPaymentService implements PaymentService&lt;CashModel&gt; {\r\n    \r\n    \tprivate static final String PAYMENT_METHOD = &quot;cash&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic Mono&lt;ServerResponse&gt; pay(CashModel model) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String method() {\r\n    \t\treturn PAYMENT_METHOD;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class SquarePaymentService implements PaymentService&lt;SquareCardModel&gt; {\r\n    \r\n    \tprivate static final String PAYMENT_METHOD = &quot;cash&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic Mono&lt;ServerResponse&gt; pay(SquareCardModel model) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String method() {\r\n    \t\treturn PAYMENT_METHOD;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class StripePaymentService implements PaymentService&lt;StripeCardModel&gt; {\r\n    \r\n    \tprivate static final String PAYMENT_METHOD = &quot;cash&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic Mono&lt;ServerResponse&gt; pay(SquareCardModel model) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String method() {\r\n    \t\treturn PAYMENT_METHOD;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Factory Class,**\r\n\r\n    @Service\r\n    public class PaymentFactory&lt;T&gt; {\r\n    \r\n    \tprivate final List&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentServices;\r\n    \r\n    \t@Autowired\r\n    \tpublic PaymentFactory(List&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentServices) {\r\n    \t\tthis.paymentServices = paymentServices;\r\n    \t}\r\n    \r\n    \tpublic PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService(final String paymentMethod) {\r\n    \t\tOptional&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentService = paymentServices.stream()\r\n    \t\t\t\t.filter(service -&gt; service.method().equals(paymentMethod)).findFirst();\r\n    \r\n    \t\tif (paymentService.isEmpty()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Unsupported Payment method &quot;);\r\n    \t\t}\r\n    \t\treturn paymentService.get();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**User choose the payment method and the call comes to the backend,**\r\n\r\n    @Transactional\r\n    \tpublic Mono&lt;ServerResponse&gt; payBilling(ServerRequest request) {\r\n    \t\t\treturn request.bodyToMono(PaymentDto.class).flatMap(paymentReq -&gt; {\r\n    \t\t\t\tif (paymentReq.getPaymentType().equals(&quot;CC&quot;)) { // For Card\r\n    \t\t\t\t\treturn processCardPayment(usr, paymentReq);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn badRequest().bodyValue(&quot;Not supported yet !&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t}\r\n    \r\n    private Mono&lt;? extends ServerResponse&gt; processCardPayment(\r\n    \t\t\tPaymentDto paymentReq) {\r\n    \t\t\tPaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory\r\n    \t\t\t\t\t.retrievePaymentService(paymentReq.getPaymentType());\r\n    \t\t\tPaymentModel paymentModel = buildPaymentModel((String) paymentReq.getPaymentType(), paymentReq,\r\n    \t\t\t\t\tjsonMap);\r\n    \t\t\treturn paymentService.pay(paymentModel);\r\n    \t}\r\n    \r\n    \tprivate PaymentModel buildPaymentModel(final String paymentMethod, final PaymentDto paymentReq,\r\n    \t\tif (paymentMethod.equals(&quot;squarePayment&quot;)) {\r\n    \t\t\tSquareCardModel model = new SquareCardModel();\r\n    \t\t\tmodel.setAmount(paymentReq.getTotal());\r\n    \t\t\tmodel.setMerchantId(paymentReq.getMerchantid());\r\n    \t\t\tmodel.setOrderId(orderId);\r\n    \r\n    \t\t\treturn model;\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \r\n    \t}\r\n\r\n\r\n**Questions:**\r\n\r\n 1. **Not sure if I have implemented generics properly with the strategy pattern.**\r\n 2. Also, I dont like type casting here. (PaymentService&lt;PaymentModel&gt;). is there any better approach?\r\n 3. Why do I still need to use if for creating different model.\r\n\r\n&gt; if (paymentMethod.equals(&quot;squarePayment&quot;)) {\r\n\r\n\r\n    PaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory\r\n        \t\t\t\t\t.retrievePaymentService(paymentReq.getPaymentType());\r\n        \t\t\tPaymentModel paymentModel = buildPaymentModel((String) paymentReq.getPaymentType(), paymentReq,\r\n        \t\t\t\t\tjsonMap);\r\n        \t\t\treturn paymentService.pay(paymentModel);","title":"Java - Generic for Payment processing with Strategy pattern","body":"<p>I am trying to implement Strategy pattern approach for payment processing in my Spring webflux based application.</p>\n<p>My application supports multiple payment method like, Card Payment, Cash Payment, ...\nAlso, we have to support Square &amp; Stripe for Card payment.</p>\n<p><strong>Model class,</strong></p>\n<pre><code>// Model interface\npublic interface PaymentModel {\n\n}\n\n// Base model with attributes needed for all payment types\npublic class BaseModel implements PaymentModel {\n\n    private Float amount;\n    private Integer userId;\n}\n\npublic class SquareCardModel extends BaseModel {\n\n    private String merchantId;\n    private String device;\n    private String orderId;\n\n}\n\npublic class StripeCardModel extends BaseModel {\n\n    private String merchantId;\n    private String orderId;\n\n}\n\npublic class CashModel extends BaseModel {\n\n    private String name;\n    private String orderId;\n\n}\n</code></pre>\n<p><strong>Service Class,</strong></p>\n<pre><code>@Service\npublic interface PaymentService&lt;T extends PaymentModel&gt; {\n\n    Mono&lt;ServerResponse&gt; pay(T model);\n\n    String method();\n}\n\n@Service\npublic class CashPaymentService implements PaymentService&lt;CashModel&gt; {\n\n    private static final String PAYMENT_METHOD = &quot;cash&quot;;\n\n    @Override\n    public Mono&lt;ServerResponse&gt; pay(CashModel model) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String method() {\n        return PAYMENT_METHOD;\n    }\n\n}\n\n@Service\npublic class SquarePaymentService implements PaymentService&lt;SquareCardModel&gt; {\n\n    private static final String PAYMENT_METHOD = &quot;cash&quot;;\n\n    @Override\n    public Mono&lt;ServerResponse&gt; pay(SquareCardModel model) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String method() {\n        return PAYMENT_METHOD;\n    }\n\n}\n\n@Service\npublic class StripePaymentService implements PaymentService&lt;StripeCardModel&gt; {\n\n    private static final String PAYMENT_METHOD = &quot;cash&quot;;\n\n    @Override\n    public Mono&lt;ServerResponse&gt; pay(SquareCardModel model) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String method() {\n        return PAYMENT_METHOD;\n    }\n\n}\n</code></pre>\n<p><strong>Factory Class,</strong></p>\n<pre><code>@Service\npublic class PaymentFactory&lt;T&gt; {\n\n    private final List&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentServices;\n\n    @Autowired\n    public PaymentFactory(List&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentServices) {\n        this.paymentServices = paymentServices;\n    }\n\n    public PaymentService&lt;? extends PaymentModel&gt; retrievePaymentService(final String paymentMethod) {\n        Optional&lt;PaymentService&lt;? extends PaymentModel&gt;&gt; paymentService = paymentServices.stream()\n                .filter(service -&gt; service.method().equals(paymentMethod)).findFirst();\n\n        if (paymentService.isEmpty()) {\n            throw new IllegalArgumentException(&quot;Unsupported Payment method &quot;);\n        }\n        return paymentService.get();\n    }\n\n}\n</code></pre>\n<p><strong>User choose the payment method and the call comes to the backend,</strong></p>\n<pre><code>@Transactional\n    public Mono&lt;ServerResponse&gt; payBilling(ServerRequest request) {\n            return request.bodyToMono(PaymentDto.class).flatMap(paymentReq -&gt; {\n                if (paymentReq.getPaymentType().equals(&quot;CC&quot;)) { // For Card\n                    return processCardPayment(usr, paymentReq);\n                } else {\n                    return badRequest().bodyValue(&quot;Not supported yet !&quot;);\n                }\n            });\n    }\n\nprivate Mono&lt;? extends ServerResponse&gt; processCardPayment(\n            PaymentDto paymentReq) {\n            PaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory\n                    .retrievePaymentService(paymentReq.getPaymentType());\n            PaymentModel paymentModel = buildPaymentModel((String) paymentReq.getPaymentType(), paymentReq,\n                    jsonMap);\n            return paymentService.pay(paymentModel);\n    }\n\n    private PaymentModel buildPaymentModel(final String paymentMethod, final PaymentDto paymentReq,\n        if (paymentMethod.equals(&quot;squarePayment&quot;)) {\n            SquareCardModel model = new SquareCardModel();\n            model.setAmount(paymentReq.getTotal());\n            model.setMerchantId(paymentReq.getMerchantid());\n            model.setOrderId(orderId);\n\n            return model;\n        }\n\n        return null;\n\n    }\n</code></pre>\n<p><strong>Questions:</strong></p>\n<ol>\n<li><strong>Not sure if I have implemented generics properly with the strategy pattern.</strong></li>\n<li>Also, I dont like type casting here. (PaymentService). is there any better approach?</li>\n<li>Why do I still need to use if for creating different model.</li>\n</ol>\n<blockquote>\n<p>if (paymentMethod.equals(&quot;squarePayment&quot;)) {</p>\n</blockquote>\n<pre><code>PaymentService&lt;PaymentModel&gt; paymentService = (PaymentService&lt;PaymentModel&gt;) paymentFactory\n                        .retrievePaymentService(paymentReq.getPaymentType());\n                PaymentModel paymentModel = buildPaymentModel((String) paymentReq.getPaymentType(), paymentReq,\n                        jsonMap);\n                return paymentService.pay(paymentModel);\n</code></pre>\n"},{"tags":["java","sql","database","jdbc"],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639700059,"creation_date":1639700059,"answer_id":70387070,"question_id":70386881,"body_markdown":"You need a space between radnik and where.\r\n\r\n```\r\n        String query = &quot;select mbr,ime,prz&quot;\r\n                + &quot; from radnik&quot;\r\n                + &quot; where mbr in (select distinct sef from radnik)&quot;;\r\n```","title":"SQL Query works in SQLDeveloper but won&#39;t run in JDBC","body":"<p>You need a space between radnik and where.</p>\n<pre><code>        String query = &quot;select mbr,ime,prz&quot;\n                + &quot; from radnik&quot;\n                + &quot; where mbr in (select distinct sef from radnik)&quot;;\n</code></pre>\n"}],"owner":{"account_id":23670033,"reputation":11,"user_id":17696928,"display_name":"Anja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70387070,"answer_count":1,"score":-1,"last_activity_date":1639700059,"creation_date":1639698132,"question_id":70386881,"body_markdown":"My query is &quot;SELECT mbr,ime,prz FROM radnik\r\nWHERE mbr IN (SELECT DISTINCT sef FROM radnik)&quot; , and it does the job in SQLDeveloper. However when I run it in Eclipse i get the error &quot;SQL command not properly ended&quot;. The issue persists even after removing the semicolon from the query.\r\nHere&#39;s the code:\r\n```\r\n\r\npublic class Upit2_Sefovi {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry (Connection connection = ConnectionUtil_Basic.getConnection();\r\n\t\t\t\tPreparedStatement preparedStatement = connection.prepareStatement(generateQuery());\r\n\t\t\t\tResultSet resultSet = preparedStatement.executeQuery()) {\r\n\t\t\t\r\n\t\t\twhile (resultSet.next()) {\r\n\t\t\t\tint mbr = resultSet.getInt(1);\r\n\t\t\t\tString ime = resultSet.getString(2);\r\n\t\t\t\tString prezime = resultSet.getString(3);\r\n\t\t\t\tint brRadnika=ExecuteFun.getRadnici(mbr);\r\n\r\n\t\t\t\tSystem.out.printf(&quot;%-4d %-8s %-8s %-4d\\n&quot;, mbr, ime, prezime,brRadnika);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static String generateQuery() {\r\n\t\tString query = &quot;select mbr,ime,prz&quot;\r\n\t\t\t\t+ &quot; from radnik&quot;\r\n\t\t\t\t+ &quot;where mbr in (select distinct sef from radnik)&quot;;\r\n\t\treturn query;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n Here&#39;s the stacktrace:\r\n\r\n \r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:447)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:951)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:513)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:227)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:208)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:886)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1175)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1296)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3613)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3657)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1495)\r\n\tat upit2.Upit2_Sefovi.main(Upit2_Sefovi.java:16)\r\n\r\n```\r\n\r\n\r\n  ","title":"SQL Query works in SQLDeveloper but won&#39;t run in JDBC","body":"<p>My query is &quot;SELECT mbr,ime,prz FROM radnik\nWHERE mbr IN (SELECT DISTINCT sef FROM radnik)&quot; , and it does the job in SQLDeveloper. However when I run it in Eclipse i get the error &quot;SQL command not properly ended&quot;. The issue persists even after removing the semicolon from the query.\nHere's the code:</p>\n<pre><code>\npublic class Upit2_Sefovi {\n\n    public static void main(String[] args) {\n        \n        try (Connection connection = ConnectionUtil_Basic.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(generateQuery());\n                ResultSet resultSet = preparedStatement.executeQuery()) {\n            \n            while (resultSet.next()) {\n                int mbr = resultSet.getInt(1);\n                String ime = resultSet.getString(2);\n                String prezime = resultSet.getString(3);\n                int brRadnika=ExecuteFun.getRadnici(mbr);\n\n                System.out.printf(&quot;%-4d %-8s %-8s %-4d\\n&quot;, mbr, ime, prezime,brRadnika);\n            }\n                \n            \n            \n        }catch(SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private static String generateQuery() {\n        String query = &quot;select mbr,ime,prz&quot;\n                + &quot; from radnik&quot;\n                + &quot;where mbr in (select distinct sef from radnik)&quot;;\n        return query;\n    }\n    \n    \n\n}\n\n\n\n\n</code></pre>\n<p>Here's the stacktrace:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\n\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:447)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:951)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:513)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:227)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:208)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:886)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1175)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1296)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3613)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3657)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1495)\n    at upit2.Upit2_Sefovi.main(Upit2_Sefovi.java:16)\n\n</code></pre>\n"},{"tags":["java","arrays","string","hashmap"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1639662341,"post_id":70379981,"comment_id":124409718,"body_markdown":"Looks like you have all the info you need. Where, exactly, are you stuck?","body":"Looks like you have all the info you need. Where, exactly, are you stuck?"},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1639662490,"post_id":70379981,"comment_id":124409785,"body_markdown":"Now I have an array of words. Next step I think is to count the frequency of the first letter of each word ? Count the charAt(0) and which char is it ?","body":"Now I have an array of words. Next step I think is to count the frequency of the first letter of each word ? Count the charAt(0) and which char is it ?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1639662687,"post_id":70379981,"comment_id":124409860,"body_markdown":"Yes, use a `for` loop. For each word in the array, get the first letter - possibly converting to lower case. Then check your map to see if that letter is in there. If not, create a `LinkedList` and add it to the hash map with the key being the letter. Lastly, add the word to the list.","body":"Yes, use a <code>for</code> loop. For each word in the array, get the first letter - possibly converting to lower case. Then check your map to see if that letter is in there. If not, create a <code>LinkedList</code> and add it to the hash map with the key being the letter. Lastly, add the word to the list."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1639662957,"post_id":70379981,"comment_id":124409978,"body_markdown":"Note that `charAt` returns a `char` but your map uses `String`. You either need to convert the `char` to `String` or use `word.substring(0, 1)`","body":"Note that <code>charAt</code> returns a <code>char</code> but your map uses <code>String</code>. You either need to convert the <code>char</code> to <code>String</code> or use <code>word.substring(0, 1)</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1639663388,"post_id":70379981,"comment_id":124410196,"body_markdown":"It is a bit strange that you must use Map to store only SINGLE key -&gt; value pair (even if value is linked list). If instead we would group all words with same starting character under key which would be that character like `a -&gt; [a, ab, ac, ..]; b-&gt;[ba, bab, ...]` we could easily tell which character was used most often at start by comparing amount of words in each list (and that would be my guess what your homework is about).","body":"It is a bit strange that you must use Map to store only SINGLE key -&gt; value pair (even if value is linked list). If instead we would group all words with same starting character under key which would be that character like <code>a -&gt; [a, ab, ac, ..]; b-&gt;[ba, bab, ...]</code> we could easily tell which character was used most often at start by comparing amount of words in each list (and that would be my guess what your homework is about)."},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1639667693,"post_id":70379981,"comment_id":124412185,"body_markdown":"I&#39;m trying  ```if (wordBegins.containsKey(arr[i].substring(0,1))) {\n                    wordBegins.put(arr[i].substring(0,1), null); ```&#39; but insert LinkedList instead of null ?","body":"I&#39;m trying  <code>if (wordBegins.containsKey(arr[i].substring(0,1))) {                     wordBegins.put(arr[i].substring(0,1), null); </code>&#39; but insert LinkedList instead of null ?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1639667865,"post_id":70379981,"comment_id":124412270,"body_markdown":"`String firstLetter = arr[i].substring(0,1); if (!wordBegins.containsKey(firstLetter)) { wordBegins.put(firstLetter, new LinkedList&lt;String&gt;()); }`","body":"<code>String firstLetter = arr[i].substring(0,1); if (!wordBegins.containsKey(firstLetter)) { wordBegins.put(firstLetter, new LinkedList&lt;String&gt;()); }</code>"},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1639668921,"post_id":70379981,"comment_id":124412763,"body_markdown":"Thank You Johnny this is good. If one more hint You could give me how to insert the words that start with searched letter to the LinekList?","body":"Thank You Johnny this is good. If one more hint You could give me how to insert the words that start with searched letter to the LinekList?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1639669732,"post_id":70379981,"comment_id":124413158,"body_markdown":"`wordBegins.get(firstLetter).add(arr[i]);`","body":"<code>wordBegins.get(firstLetter).add(arr[i]);</code>"},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1639685068,"post_id":70379981,"comment_id":124418981,"body_markdown":"Thanks for the answers Johnny. The topic is too hard for me. I got to get back to basics. :/","body":"Thanks for the answers Johnny. The topic is too hard for me. I got to get back to basics. :/"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639699364,"creation_date":1639699007,"answer_id":70386978,"question_id":70379981,"body_markdown":"The most frequent character and its frequency can be easily tracked while populating the map, then appropriate word list is retrieved after the loop:\r\n```java\r\nMap&lt;Character, LinkedList&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\nchar maxChar = &#39; &#39;;\r\nint maxFreq = 0;\r\nfor (String word : LYRICS.split(&quot;\\\\W+&quot;)) {\r\n    char letter = Character.toLowerCase(word.charAt(0));\r\n    map.computeIfAbsent(letter, k -&gt; new LinkedList&lt;&gt;()).add(word);\r\n    int freq = map.get(letter).size();\r\n    if (maxFreq &lt; freq) {\r\n        maxFreq = freq;\r\n        maxChar = letter;\r\n    }\r\n}\r\nSystem.out.println(&quot;Most frequent: &quot; + maxChar + &quot;; frequency = &quot; + maxFreq);\r\nSystem.out.println(map.get(maxChar));\r\n```\r\nOutput:\r\n```\r\nMost frequent: i; frequency = 47\r\n[I, i, I, I, innego, I, i, i, I, innych, ich, i, ich, I, i, I, inny, i, inaczej, I, I, I, I, innych, I, I, i, I, i, i, I, i, I, innych, I, i, i, I, i, i, i, i, i, i, innego, I, I]\r\n```\r\nIf uppercase and lowercase letters are counted separately without applying `Character.toLowerCase`:\r\n```\r\nchar letter = word.charAt(0);\r\n```\r\nthen the champion is:\r\n```\r\nMost frequent: n; frequency = 38\r\n[niej, nic, nie, nie, noc, nim, na, noc, nie, nawrotem, nie, noc, nim, nagle, nie, nigdy, nie, nigdy, nigdy, nich, nie, nie, noc, nie, nim, nic, nic, ni, niczyjego, nic, nie, niewiadomosc, nie, nicosc, na, naglych, niebie, nie]\r\n```\r\n----\r\nTop 10 most frequent first letters may be output using Stream API to sort the entries in the map by the size of the lists:\r\n```java\r\nfinal int mx = maxFreq;\r\nmap.entrySet().stream()\r\n    .sorted(Comparator.&lt;Map.Entry&lt;Character, LinkedList&lt;String&gt;&gt;&gt;comparingInt(e -&gt; e.getValue().size())\r\n        .reversed()\r\n        .thenComparing(Map.Entry.comparingByKey())\r\n    )\r\n    .limit(10)\r\n    .forEach(e -&gt; System.out.println(e.getKey() + &quot; = &quot; + e.getValue().size()));\r\n```\r\nOutput (case-insensitive check):\r\n```\r\ni = 47\r\nn = 42\r\ns = 36\r\nw = 34\r\nd = 31\r\nm = 30\r\np = 28\r\nt = 26\r\nz = 25\r\nc = 20\r\n```","title":"Create HashMap where key equals most frequent first letter in a text, and value is a linked list of all words starting on that letter","body":"<p>The most frequent character and its frequency can be easily tracked while populating the map, then appropriate word list is retrieved after the loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Character, LinkedList&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nchar maxChar = ' ';\nint maxFreq = 0;\nfor (String word : LYRICS.split(&quot;\\\\W+&quot;)) {\n    char letter = Character.toLowerCase(word.charAt(0));\n    map.computeIfAbsent(letter, k -&gt; new LinkedList&lt;&gt;()).add(word);\n    int freq = map.get(letter).size();\n    if (maxFreq &lt; freq) {\n        maxFreq = freq;\n        maxChar = letter;\n    }\n}\nSystem.out.println(&quot;Most frequent: &quot; + maxChar + &quot;; frequency = &quot; + maxFreq);\nSystem.out.println(map.get(maxChar));\n</code></pre>\n<p>Output:</p>\n<pre><code>Most frequent: i; frequency = 47\n[I, i, I, I, innego, I, i, i, I, innych, ich, i, ich, I, i, I, inny, i, inaczej, I, I, I, I, innych, I, I, i, I, i, i, I, i, I, innych, I, i, i, I, i, i, i, i, i, i, innego, I, I]\n</code></pre>\n<p>If uppercase and lowercase letters are counted separately without applying <code>Character.toLowerCase</code>:</p>\n<pre><code>char letter = word.charAt(0);\n</code></pre>\n<p>then the champion is:</p>\n<pre><code>Most frequent: n; frequency = 38\n[niej, nic, nie, nie, noc, nim, na, noc, nie, nawrotem, nie, noc, nim, nagle, nie, nigdy, nie, nigdy, nigdy, nich, nie, nie, noc, nie, nim, nic, nic, ni, niczyjego, nic, nie, niewiadomosc, nie, nicosc, na, naglych, niebie, nie]\n</code></pre>\n<hr />\n<p>Top 10 most frequent first letters may be output using Stream API to sort the entries in the map by the size of the lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int mx = maxFreq;\nmap.entrySet().stream()\n    .sorted(Comparator.&lt;Map.Entry&lt;Character, LinkedList&lt;String&gt;&gt;&gt;comparingInt(e -&gt; e.getValue().size())\n        .reversed()\n        .thenComparing(Map.Entry.comparingByKey())\n    )\n    .limit(10)\n    .forEach(e -&gt; System.out.println(e.getKey() + &quot; = &quot; + e.getValue().size()));\n</code></pre>\n<p>Output (case-insensitive check):</p>\n<pre><code>i = 47\nn = 42\ns = 36\nw = 34\nd = 31\nm = 30\np = 28\nt = 26\nz = 25\nc = 20\n</code></pre>\n"}],"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70386978,"answer_count":1,"score":1,"last_activity_date":1639699364,"creation_date":1639661955,"question_id":70379981,"body_markdown":"It is a homework I admit. But it&#39;s to hard for me, I need some suggestions please. Method `getWordsInLyrics()` splits the text to words. Now how to get the most frequent first letter, and the words starting at that letter ? Store it in `HashMap&lt;String letter, LinkedList&lt;String words &gt;&gt; wordBegins = new HashMap&lt;&gt;();` Must I use the `charAt(0)` ?\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.LinkedList;\r\n\r\npublic class LyricsCounter {\r\n\r\n    private static final String LYRICS = &quot;Dwunastu braci, wierzac w sny, zbadalo mur od marzen strony,\\n&quot; +\r\n            &quot;A poza murem plakal glos, dziewczecy glos zaprzepaszczony.\\n&quot; +\r\n            &quot;I pokochali glosu dzwiek i chetny domysl o Dziewczynie,\\n&quot; +\r\n            &quot;I zgadywali ksztalty ust po tym, jak spiew od zalu ginie...\\n&quot; +\r\n            &quot;Mowili o niej: \\&quot;lka, wiec jest!\\&quot; - I nic innego nie mowili,\\n&quot; +\r\n            &quot;I przezegnali caly swiat - i swiat zadumal sie w tej chwili...\\n&quot; +\r\n            &quot;Porwali mloty w twarda dlon i jeli w mury tluc z loskotem!\\n&quot; +\r\n            &quot;I nie wiedziala slepa noc, kto jest czlowiekiem, a kto mlotem?\\n&quot; +\r\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\r\n            &quot;Tak, walac w mur, dwunasty brat do jedenastu innych rzecze.\\n&quot; +\r\n            &quot;Ale daremny byl ich trud, daremny ramion sprzeg i usil!\\n&quot; +\r\n            &quot;Oddali ciala swe na strwon owemu snowi, co ich kusil!\\n&quot; +\r\n            &quot;lamia sie piersi, trzeszczy kosc, prochnieja dlonie, twarze bledna...\\n&quot; +\r\n            &quot;I wszyscy w jednym zmarli dniu i noc wieczysta mieli jedna!\\n&quot; +\r\n            &quot;Lecz cienie zmarlych - Boze moj! - nie wypuscily mlotow z dloni!\\n&quot; +\r\n            &quot;I tylko inny plynie czas - i tylko mlot inaczej dzwoni...\\n&quot; +\r\n            &quot;I dzwoni w przod! I dzwoni wspak! I wzwyz za kazdym grzmi nawrotem!\\n&quot; +\r\n            &quot;I nie wiedziala slepa noc, kto tu jest cieniem, a kto mlotem?\\n&quot; +\r\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\r\n            &quot;Tak, walac w mur, dwunasty cien do jedenastu innych rzecze.\\n&quot; +\r\n            &quot;Lecz cieniom zbraklo nagle sil, a cien sie mrokom nie opiera!\\n&quot; +\r\n            &quot;I powymarly jeszcze raz, bo nigdy dosc sie nie umiera...\\n&quot; +\r\n            &quot;I nigdy dosc, i nigdy tak, jak pragnie tego ow, co kona!...\\n&quot; +\r\n            &quot;I znikla tresc - i zginal slad - i powiesc o nich juz skonczona!\\n&quot; +\r\n            &quot;Lecz dzielne mloty - Boze moj - mdlej nie poddaly sie zalobie!\\n&quot; +\r\n            &quot;I same przez sie bily w mur, huczaly spizem same w sobie!\\n&quot; +\r\n            &quot;Huczaly w mrok, huczaly w blask i ociekaly ludzkim potem!\\n&quot; +\r\n            &quot;I nie wiedziala slepa noc, czym bywa mlot, gdy nie jest mlotem?\\n&quot; +\r\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\r\n            &quot;Tak, walac w mur, dwunasty mlot do jedenastu innych rzecze.\\n&quot; +\r\n            &quot;I runal mur, tysiacem ech wstrzasajac wzgorza i doliny!\\n&quot; +\r\n            &quot;Lecz poza murem - nic i nic! Ni zywej duszy, ni Dziewczyny!\\n&quot; +\r\n            &quot;Niczyich oczu ani ust! I niczyjego w kwiatach losu!\\n&quot; +\r\n            &quot;Bo to byl glos i tylko - glos, i nic nie bylo oprocz glosu!\\n&quot; +\r\n            &quot;Nic - tylko placz i zal i mrok i niewiadomosc i zatrata!\\n&quot; +\r\n            &quot;Takiz to swiat! Niedobry swiat! Czemuz innego nie ma swiata?\\n&quot; +\r\n            &quot;Wobec klamliwych jawnie snow, wobec zmarnialych w nicosc cudow,\\n&quot; +\r\n            &quot;Potezne mloty legly w rzad, na znak spelnionych godnie trudow.\\n&quot; +\r\n            &quot;I byla zgroza naglych cisz. I byla proznia w calym niebie!\\n&quot; +\r\n            &quot;A ty z tej prozni czemu drwisz, kiedy ta proznia nie drwi z ciebie?&quot;;\r\n\r\n    private static String[] getWordsInLyrics() {\r\n        return LYRICS.split(&quot;\\\\W+&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        HashMap&lt;String, LinkedList&lt;String&gt;&gt; wordBegins = new HashMap&lt;&gt;();\r\n    }\r\n}","title":"Create HashMap where key equals most frequent first letter in a text, and value is a linked list of all words starting on that letter","body":"<p>It is a homework I admit. But it's to hard for me, I need some suggestions please. Method <code>getWordsInLyrics()</code> splits the text to words. Now how to get the most frequent first letter, and the words starting at that letter ? Store it in <code>HashMap&lt;String letter, LinkedList&lt;String words &gt;&gt; wordBegins = new HashMap&lt;&gt;();</code> Must I use the <code>charAt(0)</code> ?</p>\n<pre><code>import java.util.HashMap;\nimport java.util.LinkedList;\n\npublic class LyricsCounter {\n\n    private static final String LYRICS = &quot;Dwunastu braci, wierzac w sny, zbadalo mur od marzen strony,\\n&quot; +\n            &quot;A poza murem plakal glos, dziewczecy glos zaprzepaszczony.\\n&quot; +\n            &quot;I pokochali glosu dzwiek i chetny domysl o Dziewczynie,\\n&quot; +\n            &quot;I zgadywali ksztalty ust po tym, jak spiew od zalu ginie...\\n&quot; +\n            &quot;Mowili o niej: \\&quot;lka, wiec jest!\\&quot; - I nic innego nie mowili,\\n&quot; +\n            &quot;I przezegnali caly swiat - i swiat zadumal sie w tej chwili...\\n&quot; +\n            &quot;Porwali mloty w twarda dlon i jeli w mury tluc z loskotem!\\n&quot; +\n            &quot;I nie wiedziala slepa noc, kto jest czlowiekiem, a kto mlotem?\\n&quot; +\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\n            &quot;Tak, walac w mur, dwunasty brat do jedenastu innych rzecze.\\n&quot; +\n            &quot;Ale daremny byl ich trud, daremny ramion sprzeg i usil!\\n&quot; +\n            &quot;Oddali ciala swe na strwon owemu snowi, co ich kusil!\\n&quot; +\n            &quot;lamia sie piersi, trzeszczy kosc, prochnieja dlonie, twarze bledna...\\n&quot; +\n            &quot;I wszyscy w jednym zmarli dniu i noc wieczysta mieli jedna!\\n&quot; +\n            &quot;Lecz cienie zmarlych - Boze moj! - nie wypuscily mlotow z dloni!\\n&quot; +\n            &quot;I tylko inny plynie czas - i tylko mlot inaczej dzwoni...\\n&quot; +\n            &quot;I dzwoni w przod! I dzwoni wspak! I wzwyz za kazdym grzmi nawrotem!\\n&quot; +\n            &quot;I nie wiedziala slepa noc, kto tu jest cieniem, a kto mlotem?\\n&quot; +\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\n            &quot;Tak, walac w mur, dwunasty cien do jedenastu innych rzecze.\\n&quot; +\n            &quot;Lecz cieniom zbraklo nagle sil, a cien sie mrokom nie opiera!\\n&quot; +\n            &quot;I powymarly jeszcze raz, bo nigdy dosc sie nie umiera...\\n&quot; +\n            &quot;I nigdy dosc, i nigdy tak, jak pragnie tego ow, co kona!...\\n&quot; +\n            &quot;I znikla tresc - i zginal slad - i powiesc o nich juz skonczona!\\n&quot; +\n            &quot;Lecz dzielne mloty - Boze moj - mdlej nie poddaly sie zalobie!\\n&quot; +\n            &quot;I same przez sie bily w mur, huczaly spizem same w sobie!\\n&quot; +\n            &quot;Huczaly w mrok, huczaly w blask i ociekaly ludzkim potem!\\n&quot; +\n            &quot;I nie wiedziala slepa noc, czym bywa mlot, gdy nie jest mlotem?\\n&quot; +\n            &quot;\\&quot;O, predzej skruszmy zimny glaz, nim smierc Dziewczyne rdza powlecze!\\&quot; -\\n&quot; +\n            &quot;Tak, walac w mur, dwunasty mlot do jedenastu innych rzecze.\\n&quot; +\n            &quot;I runal mur, tysiacem ech wstrzasajac wzgorza i doliny!\\n&quot; +\n            &quot;Lecz poza murem - nic i nic! Ni zywej duszy, ni Dziewczyny!\\n&quot; +\n            &quot;Niczyich oczu ani ust! I niczyjego w kwiatach losu!\\n&quot; +\n            &quot;Bo to byl glos i tylko - glos, i nic nie bylo oprocz glosu!\\n&quot; +\n            &quot;Nic - tylko placz i zal i mrok i niewiadomosc i zatrata!\\n&quot; +\n            &quot;Takiz to swiat! Niedobry swiat! Czemuz innego nie ma swiata?\\n&quot; +\n            &quot;Wobec klamliwych jawnie snow, wobec zmarnialych w nicosc cudow,\\n&quot; +\n            &quot;Potezne mloty legly w rzad, na znak spelnionych godnie trudow.\\n&quot; +\n            &quot;I byla zgroza naglych cisz. I byla proznia w calym niebie!\\n&quot; +\n            &quot;A ty z tej prozni czemu drwisz, kiedy ta proznia nie drwi z ciebie?&quot;;\n\n    private static String[] getWordsInLyrics() {\n        return LYRICS.split(&quot;\\\\W+&quot;);\n    }\n\n    public static void main(String[] args) {\n        HashMap&lt;String, LinkedList&lt;String&gt;&gt; wordBegins = new HashMap&lt;&gt;();\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1638541578,"post_id":70215755,"comment_id":124123215,"body_markdown":"What kind of reports you are using?","body":"What kind of reports you are using?"},{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1638541827,"post_id":70215755,"comment_id":124123325,"body_markdown":"@NandanA Cucumber  Master thoughts ( https://github.com/damianszczepanik/cucumber-reporting )","body":"@NandanA Cucumber  Master thoughts ( <a href=\"https://github.com/damianszczepanik/cucumber-reporting\" rel=\"nofollow noreferrer\">github.com/damianszczepanik/cucumber-reporting</a> )"},{"owner":{"account_id":9616958,"reputation":104,"user_id":12843029,"display_name":"Jagruuti"},"score":0,"creation_date":1662625445,"post_id":70215755,"comment_id":130050264,"body_markdown":"@Hari, Is this issue solved at your end?","body":"@Hari, Is this issue solved at your end?"}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638542310,"creation_date":1638542310,"answer_id":70216040,"question_id":70215755,"body_markdown":"To attach the screenshot as base 64 image you need capture that as `byte[]`  instead of `String`  \r\n\r\n\t@AfterStep\r\n\tpublic void takeScreenShotAfterStep(Scenario scenario) throws IOException {\r\n\t\tif (scenario.isFailed()) {\r\n\t\t\tfinal byte[] screenShot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n\t\t\tscenario.attach(screenShot, &quot;image/jpg&quot;, scenario.getName());\r\n\t\t}\r\n\t}","title":"How to attach base64 Screenshots for cucumber reports?","body":"<p>To attach the screenshot as base 64 image you need capture that as <code>byte[]</code>  instead of <code>String</code></p>\n<pre><code>@AfterStep\npublic void takeScreenShotAfterStep(Scenario scenario) throws IOException {\n    if (scenario.isFailed()) {\n        final byte[] screenShot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        scenario.attach(screenShot, &quot;image/jpg&quot;, scenario.getName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639698970,"creation_date":1638541059,"question_id":70215755,"body_markdown":"What i have tried is, \r\n\r\n\r\n    final String Screenshot =((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\r\n    SCENARIO.attach(Screenshot,&quot;image/png&quot;,&quot;BASE64&quot;);\r\n\r\nor \r\n\r\n    SCENARIO.attach(Screenshot,&quot;image/png:base64&quot;,&quot;Test 1&quot;);\r\n\r\n**Details :** \r\n\r\n    io.cucumber - 6.9.1\r\n    Report - net.masterthought cucumber-reporting -5.6.1\r\n    Language -- Java\r\n\r\n","title":"How to attach base64 Screenshots for cucumber reports?","body":"<p>What i have tried is,</p>\n<pre><code>final String Screenshot =((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\nSCENARIO.attach(Screenshot,&quot;image/png&quot;,&quot;BASE64&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>SCENARIO.attach(Screenshot,&quot;image/png:base64&quot;,&quot;Test 1&quot;);\n</code></pre>\n<p><strong>Details :</strong></p>\n<pre><code>io.cucumber - 6.9.1\nReport - net.masterthought cucumber-reporting -5.6.1\nLanguage -- Java\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1639780505,"post_id":70386546,"comment_id":124444708,"body_markdown":"Does this answer your question? [NoSuchElement using scanner](https://stackoverflow.com/questions/27701568/nosuchelement-using-scanner)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27701568/nosuchelement-using-scanner\">NoSuchElement using scanner</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639698483,"creation_date":1639698483,"answer_id":70386923,"question_id":70386546,"body_markdown":"The issue is the line `guessScanner.close();`, because once you do that you will also close the `in` Scanner, which is the one you call in the faulty line `option = in.nextLine();`. If you remove it your program will work as intended.\r\n\r\nIn fact, you should avoid creating multiple Scanners for the same `InputStream` (in your case `System.in`), so just use a single one as follows:\r\n\r\n```java\r\nimport java.util.Scanner;\r\npublic class GuessingGame {\r\n    //constants\r\n    private static final int MIN_NUMBER = 1;\r\n    private static final int MAX_NUMBER = 100;\r\n    //stats\r\n    private static int totalGames = 0;\r\n    private static int totalGuesses = 0;\r\n    private static int bestGame = Integer.MAX_VALUE;\r\n    private static int guesses;\r\n\r\n    private static int guess;\r\n    private static Scanner in = new Scanner(System.in);\r\n    public static void main(String[] args)\r\n    {\r\n        String option = &quot;Y&quot;;\r\n        introduce();\r\n        //while user keeps answering &#39;yes&#39;\r\n        while(option.toUpperCase().startsWith(&quot;Y&quot;))\r\n        {\r\n            playOneGame();\r\n            System.out.println(&quot;Would you like to play another game? (y or n) &quot;);\r\n            option = in.next();\r\n        }\r\n        printResults();\r\n        in.close();\r\n    }\r\n    private static void introduce()\r\n    {\r\n        System.out.println(&quot;This program allows you to play a guessing game. \\nI will think of a number between &quot;\r\n                + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot; and will allow you to guess until you get it. \\nFor each guess, I will tell you whether the right answer is higher or lower than your guess&quot;);\r\n    }\r\n    private static void playOneGame()\r\n    {\r\n        guesses = 0;\r\n        //generates random number\r\n        int number = (int)(Math.random() * MAX_NUMBER + MIN_NUMBER);\r\n        System.out.println(&quot;I&#39;m thinking of a number between &quot; + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot;...&quot;);\r\n        //print out random number for debugging\r\n        System.out.println(number);\r\n        System.out.print(&quot;Your guess? &quot;);\r\n        validInput();\r\n        guesses++;\r\n        //while user guesses wrong\r\n        while(guess != number)\r\n        {\r\n            if(guess &gt; number)\r\n            {\r\n                System.out.println(&quot;It&#39;s lower.&quot;);\r\n                guesses++;\r\n            }\r\n            else if(guess &lt; number)\r\n            {\r\n                System.out.println(&quot;It&#39;s higher.&quot;);\r\n                guesses++;\r\n            }\r\n            //if guess = random number\r\n            else\r\n            {\r\n                guess++;\r\n                break;\r\n\r\n            }\r\n            System.out.print(&quot;Your guess? &quot;);\r\n            validInput();\r\n        }\r\n        if(guesses == 1)\r\n        {\r\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guess&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guesses&quot;);\r\n        }\r\n        totalGuesses += guesses;\r\n        totalGames++;\r\n        if(guesses &lt; bestGame)\r\n        {\r\n            bestGame = guesses;\r\n        }\r\n\r\n    }\r\n    private static void printResults()\r\n    {\r\n        System.out.println(&quot;Overall results: &quot;);\r\n        System.out.println(&quot;total games = &quot; + totalGames);\r\n        System.out.println(&quot;total guesses = &quot; + totalGuesses);\r\n        System.out.println(&quot;guesses/game = &quot; + (double)((double)totalGuesses / (double)totalGames ));\r\n        System.out.println(&quot;Best game = &quot; + bestGame);\r\n    }\r\n    private static void validInput()\r\n    {   //while user inputs non ints\r\n        while (!in.hasNextInt())\r\n        {\r\n            System.out.println(&quot;Invalid data, try again&quot;);\r\n            in.next();\r\n        }\r\n        guess = in.nextInt();\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found, tried other solutions on here but none of them worked","body":"<p>The issue is the line <code>guessScanner.close();</code>, because once you do that you will also close the <code>in</code> Scanner, which is the one you call in the faulty line <code>option = in.nextLine();</code>. If you remove it your program will work as intended.</p>\n<p>In fact, you should avoid creating multiple Scanners for the same <code>InputStream</code> (in your case <code>System.in</code>), so just use a single one as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class GuessingGame {\n    //constants\n    private static final int MIN_NUMBER = 1;\n    private static final int MAX_NUMBER = 100;\n    //stats\n    private static int totalGames = 0;\n    private static int totalGuesses = 0;\n    private static int bestGame = Integer.MAX_VALUE;\n    private static int guesses;\n\n    private static int guess;\n    private static Scanner in = new Scanner(System.in);\n    public static void main(String[] args)\n    {\n        String option = &quot;Y&quot;;\n        introduce();\n        //while user keeps answering 'yes'\n        while(option.toUpperCase().startsWith(&quot;Y&quot;))\n        {\n            playOneGame();\n            System.out.println(&quot;Would you like to play another game? (y or n) &quot;);\n            option = in.next();\n        }\n        printResults();\n        in.close();\n    }\n    private static void introduce()\n    {\n        System.out.println(&quot;This program allows you to play a guessing game. \\nI will think of a number between &quot;\n                + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot; and will allow you to guess until you get it. \\nFor each guess, I will tell you whether the right answer is higher or lower than your guess&quot;);\n    }\n    private static void playOneGame()\n    {\n        guesses = 0;\n        //generates random number\n        int number = (int)(Math.random() * MAX_NUMBER + MIN_NUMBER);\n        System.out.println(&quot;I'm thinking of a number between &quot; + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot;...&quot;);\n        //print out random number for debugging\n        System.out.println(number);\n        System.out.print(&quot;Your guess? &quot;);\n        validInput();\n        guesses++;\n        //while user guesses wrong\n        while(guess != number)\n        {\n            if(guess &gt; number)\n            {\n                System.out.println(&quot;It's lower.&quot;);\n                guesses++;\n            }\n            else if(guess &lt; number)\n            {\n                System.out.println(&quot;It's higher.&quot;);\n                guesses++;\n            }\n            //if guess = random number\n            else\n            {\n                guess++;\n                break;\n\n            }\n            System.out.print(&quot;Your guess? &quot;);\n            validInput();\n        }\n        if(guesses == 1)\n        {\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guess&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guesses&quot;);\n        }\n        totalGuesses += guesses;\n        totalGames++;\n        if(guesses &lt; bestGame)\n        {\n            bestGame = guesses;\n        }\n\n    }\n    private static void printResults()\n    {\n        System.out.println(&quot;Overall results: &quot;);\n        System.out.println(&quot;total games = &quot; + totalGames);\n        System.out.println(&quot;total guesses = &quot; + totalGuesses);\n        System.out.println(&quot;guesses/game = &quot; + (double)((double)totalGuesses / (double)totalGames ));\n        System.out.println(&quot;Best game = &quot; + bestGame);\n    }\n    private static void validInput()\n    {   //while user inputs non ints\n        while (!in.hasNextInt())\n        {\n            System.out.println(&quot;Invalid data, try again&quot;);\n            in.next();\n        }\n        guess = in.nextInt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23669833,"reputation":3,"user_id":17696751,"display_name":"d1mistergreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70386923,"answer_count":1,"score":0,"last_activity_date":1639698483,"creation_date":1639695319,"question_id":70386546,"body_markdown":"I do not understand why I get this error. When I run the code below, it runs the way it should, right up until when it asks me if I would like to play another game, and then I do not have a chance to answer and I get the error. \r\n```java\r\npackage src.GuessingGame;\r\nimport java.util.Scanner;\r\npublic class GuessingGame {\r\n\t//constants\r\n\tprivate static final int MIN_NUMBER = 1;\r\n    private static final int MAX_NUMBER = 100;\r\n\t//stats\r\n\tprivate static int totalGames = 0;\r\n\tprivate static int totalGuesses = 0;\r\n\tprivate static int bestGame = Integer.MAX_VALUE;\r\n    private static int guesses;\r\n    \r\n\tprivate static int guess;\r\n\tprivate static Scanner guessScanner = new Scanner(System.in);\r\n\tprivate static Scanner in = new Scanner(System.in);\r\n\tpublic static void main(String[] args) \r\n    {\r\n    \tString option = &quot;Y&quot;;\r\n\t\tintroduce();\r\n\t\t//while user keeps answering &#39;yes&#39;\r\n\t\twhile(option.toUpperCase().startsWith(&quot;Y&quot;))\r\n         {\r\n\t\t\tplayOneGame();\r\n\t\t\tSystem.out.println(&quot;Would you like to play another game? (y or n) &quot;);\r\n\t\t\toption = in.nextLine();\r\n\t\t}\r\n\t\tprintResults();\r\n        in.close();\r\n\t}\r\n\tprivate static void introduce() \r\n    {\r\n\t\tSystem.out.println(&quot;This program allows you to play a guessing game. \\nI will think of a number between &quot;\r\n\t\t\t\t+ MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot; and will allow you to guess until you get it. \\nFor each guess, I will tell you whether the right answer is higher or lower than your guess&quot;);\r\n\t}\r\n\tprivate static void playOneGame() \r\n    {\r\n\t    guesses = 0;\r\n\t    //generates random number\r\n\t    int number = (int)(Math.random() * MAX_NUMBER + MIN_NUMBER);\r\n\t    System.out.println(&quot;I&#39;m thinking of a number between &quot; + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot;...&quot;);\r\n        //print out random number for debugging\r\n\t\tSystem.out.println(number);\r\n\t    System.out.print(&quot;Your guess? &quot;);\r\n\t    validInput();\r\n\t    guesses++;\r\n\t\t//while user guesses wrong\r\n\t    while(guess != number) \r\n        {\r\n\t    \tif(guess &gt; number) \r\n            {\r\n\t    \t\tSystem.out.println(&quot;It&#39;s lower.&quot;);\r\n\t    \t\tguesses++;\r\n\t    \t}\r\n\t    \telse if(guess &lt; number) \r\n            {\r\n\t    \t\tSystem.out.println(&quot;It&#39;s higher.&quot;);\r\n\t    \t\tguesses++;\r\n\t    \t}\r\n\t\t\t//if guess = random number\r\n\t    \telse \r\n            {\r\n\t    \t\tguess++;\r\n\t    \t\tbreak;\r\n\t    \t\t\r\n\t    \t}\r\n\t    \tSystem.out.print(&quot;Your guess? &quot;);\r\n\t    \tvalidInput();\r\n\t    }\r\n\t    if(guesses == 1) \r\n        {\r\n\t    \tSystem.out.println(&quot;You got it right in &quot; + guesses + &quot; guess&quot;);\r\n\t    }\r\n\t    else \r\n        {\r\n\t    \tSystem.out.println(&quot;You got it right in &quot; + guesses + &quot; guesses&quot;);\r\n\t    }\r\n\t    totalGuesses += guesses;\r\n\t    totalGames++;\r\n\t    if(guesses &lt; bestGame) \r\n        {\r\n\t    \tbestGame = guesses;\r\n\t    }\r\n\t\t\r\n\t\tguessScanner.close();\r\n\r\n\t    \r\n\t}\r\n\tprivate static void printResults() \r\n    {\r\n\t\tSystem.out.println(&quot;Overall results: &quot;);\r\n\t\tSystem.out.println(&quot;total games = &quot; + totalGames);\r\n\t\tSystem.out.println(&quot;total guesses = &quot; + totalGuesses);\r\n\t\tSystem.out.println(&quot;guesses/game = &quot; + (double)((double)totalGuesses / (double)totalGames ));\r\n\t\tSystem.out.println(&quot;Best game = &quot; + bestGame);\r\n\t}\r\n\tprivate static void validInput()\r\n    {   //while user inputs non ints\r\n        while (!guessScanner.hasNextInt()) \r\n        {\r\n            System.out.println(&quot;Invalid data, try again&quot;);\r\n            guessScanner.next();\r\n        }\r\n        guess = guessScanner.nextInt();      \r\n       \r\n    }\r\n}\r\n````\r\nHere is the output:\r\n```\r\nThis program allows you to play a guessing game. \r\nI will think of a number between 1 and 100 and will allow you to guess until you get it.   \r\nFor each guess, I will tell you whether the right answer is higher or lower than your guess\r\nI&#39;m thinking of a number between 1 and 100...\r\n42\r\nYour guess? \r\n42\r\nYou got it right in 1 guess\r\nWould you like to play another game? (y or n) \r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at LetterCounter/src.GuessingGame.GuessingGame.main(GuessingGame.java:29)\r\n```\r\nI&#39;ve looked at other posts about this and tried the things in them, but none of them seemed to work. I&#39;m coding in Visual Studio Code and using JDK 17.0.1, if that helps. I&#39;m still pretty new to Java programming, so I could be missing something pretty obvious, but I haven&#39;t been able to find anything on this so far. I have also tried this in Eclipse and IntelliJ to see if there is something wrong with the Java in VSCode, but the same result occurs. Thank you in advance!","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found, tried other solutions on here but none of them worked","body":"<p>I do not understand why I get this error. When I run the code below, it runs the way it should, right up until when it asks me if I would like to play another game, and then I do not have a chance to answer and I get the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package src.GuessingGame;\nimport java.util.Scanner;\npublic class GuessingGame {\n    //constants\n    private static final int MIN_NUMBER = 1;\n    private static final int MAX_NUMBER = 100;\n    //stats\n    private static int totalGames = 0;\n    private static int totalGuesses = 0;\n    private static int bestGame = Integer.MAX_VALUE;\n    private static int guesses;\n    \n    private static int guess;\n    private static Scanner guessScanner = new Scanner(System.in);\n    private static Scanner in = new Scanner(System.in);\n    public static void main(String[] args) \n    {\n        String option = &quot;Y&quot;;\n        introduce();\n        //while user keeps answering 'yes'\n        while(option.toUpperCase().startsWith(&quot;Y&quot;))\n         {\n            playOneGame();\n            System.out.println(&quot;Would you like to play another game? (y or n) &quot;);\n            option = in.nextLine();\n        }\n        printResults();\n        in.close();\n    }\n    private static void introduce() \n    {\n        System.out.println(&quot;This program allows you to play a guessing game. \\nI will think of a number between &quot;\n                + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot; and will allow you to guess until you get it. \\nFor each guess, I will tell you whether the right answer is higher or lower than your guess&quot;);\n    }\n    private static void playOneGame() \n    {\n        guesses = 0;\n        //generates random number\n        int number = (int)(Math.random() * MAX_NUMBER + MIN_NUMBER);\n        System.out.println(&quot;I'm thinking of a number between &quot; + MIN_NUMBER + &quot; and &quot; + MAX_NUMBER + &quot;...&quot;);\n        //print out random number for debugging\n        System.out.println(number);\n        System.out.print(&quot;Your guess? &quot;);\n        validInput();\n        guesses++;\n        //while user guesses wrong\n        while(guess != number) \n        {\n            if(guess &gt; number) \n            {\n                System.out.println(&quot;It's lower.&quot;);\n                guesses++;\n            }\n            else if(guess &lt; number) \n            {\n                System.out.println(&quot;It's higher.&quot;);\n                guesses++;\n            }\n            //if guess = random number\n            else \n            {\n                guess++;\n                break;\n                \n            }\n            System.out.print(&quot;Your guess? &quot;);\n            validInput();\n        }\n        if(guesses == 1) \n        {\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guess&quot;);\n        }\n        else \n        {\n            System.out.println(&quot;You got it right in &quot; + guesses + &quot; guesses&quot;);\n        }\n        totalGuesses += guesses;\n        totalGames++;\n        if(guesses &lt; bestGame) \n        {\n            bestGame = guesses;\n        }\n        \n        guessScanner.close();\n\n        \n    }\n    private static void printResults() \n    {\n        System.out.println(&quot;Overall results: &quot;);\n        System.out.println(&quot;total games = &quot; + totalGames);\n        System.out.println(&quot;total guesses = &quot; + totalGuesses);\n        System.out.println(&quot;guesses/game = &quot; + (double)((double)totalGuesses / (double)totalGames ));\n        System.out.println(&quot;Best game = &quot; + bestGame);\n    }\n    private static void validInput()\n    {   //while user inputs non ints\n        while (!guessScanner.hasNextInt()) \n        {\n            System.out.println(&quot;Invalid data, try again&quot;);\n            guessScanner.next();\n        }\n        guess = guessScanner.nextInt();      \n       \n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>This program allows you to play a guessing game. \nI will think of a number between 1 and 100 and will allow you to guess until you get it.   \nFor each guess, I will tell you whether the right answer is higher or lower than your guess\nI'm thinking of a number between 1 and 100...\n42\nYour guess? \n42\nYou got it right in 1 guess\nWould you like to play another game? (y or n) \nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at LetterCounter/src.GuessingGame.GuessingGame.main(GuessingGame.java:29)\n</code></pre>\n<p>I've looked at other posts about this and tried the things in them, but none of them seemed to work. I'm coding in Visual Studio Code and using JDK 17.0.1, if that helps. I'm still pretty new to Java programming, so I could be missing something pretty obvious, but I haven't been able to find anything on this so far. I have also tried this in Eclipse and IntelliJ to see if there is something wrong with the Java in VSCode, but the same result occurs. Thank you in advance!</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639698091,"creation_date":1639697750,"answer_id":70386843,"question_id":70386486,"body_markdown":"Saving the old state in a transient field (which is not managed by jpa) would probably be a good way of realizing this functionality, as it also avoids the need for an additional DB roundtrip.\r\n\r\nYou could e.g. clone the original map content (not only the reference) in a &#39;@PostLoad&#39; callback, similar to what is done here for the complete entity:\r\nhttps://stackoverflow.com/questions/19313629/getting-object-field-previous-value-hibernate-jpa/19313914\r\n","title":"JPA Clear cache for reading one item","body":"<p>Saving the old state in a transient field (which is not managed by jpa) would probably be a good way of realizing this functionality, as it also avoids the need for an additional DB roundtrip.</p>\n<p>You could e.g. clone the original map content (not only the reference) in a '@PostLoad' callback, similar to what is done here for the complete entity:\n<a href=\"https://stackoverflow.com/questions/19313629/getting-object-field-previous-value-hibernate-jpa/19313914\">Getting object field previous value hibernate JPA</a></p>\n"}],"owner":{"account_id":18351980,"reputation":31,"user_id":13365939,"display_name":"Escanor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70386843,"answer_count":1,"score":2,"last_activity_date":1639698091,"creation_date":1639694762,"question_id":70386486,"body_markdown":"We&#39;re working on a headless CMS, and we have a huge system with some objects we call `EntityItems/ContentItems`. These are basically entities in the database that can be modeled by the users. They have a `JSON`-style approach where these models can contain numbers, strings, and so on. This means that these items are at the core of our system and in big projects can be used quite a bit.\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper = true, exclude = {&quot;children&quot;, &quot;parent&quot;})\r\n@NoArgsConstructor\r\n@Table(indexes = {\r\n    @Index(name = &quot;entityitem_objectState&quot;, columnList = &quot;objectState&quot;),\r\n    @Index(name = &quot;entityitem_appscope&quot;, columnList = &quot;appScope&quot;),\r\n    @Index(name = &quot;entityitem_type_id&quot;, columnList = &quot;type_id&quot;)})\r\npublic class EntityItem extends AbstractContentItem {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private EntityItemType type;\r\n\r\n    ....\r\n\r\n    @Convert(converter = ObjectMapToJsonConverter.class)\r\n    @Column(name = &quot;itemProperties&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private Map&lt;String, String&gt; itemPropertiesJson;\r\n   \r\n}\r\n```\r\n\r\nWe also have an event based system, where we offer the user to react to deleting, creating and updating such `EntityItems/ContentItems`. On one of these events we have a property called `changedProperties` that logs what was changed in this event.\r\n\r\n\r\n```\r\npublic class ContentItemChangedEvent {\r\n\r\n    private final long itemId;\r\n\r\n    private final List&lt;String&gt; changedProperties;\r\n}\r\n```\r\n\r\nFinally, we have an `EntityItemServiceImpl` which works with such `EntityItems`. This has a container managed Entity Manager and a `@Transactional` save method.\r\n\r\n```\r\n@Service\r\n@Log4j\r\n@Validated\r\npublic class EntityItemServiceImpl {\r\n\r\n    @Autowired\r\n    private EntityItemRepository entityItemRepository;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;defaultEntityManager&quot;)\r\n    private EntityManager entityManager;\r\n   \r\n    //...\r\n}\r\n```\r\n\r\nThe `entityItemRepository` is a basic Jpa/Crud repository.\r\n\r\n```\r\npublic interface EntityItemRepository extends CrudRepository&lt;EntityItem, Long&gt;, JpaRepository&lt;EntityItem, Long&gt;, JpaSpecificationExecutor&lt;EntityItem&gt; {\r\n   ....\r\n}\r\n```\r\n\r\n\r\nWhen the `save` method is called, we want to receive the item, fetch its JSON properties and compare them with what currently is uncommitted in the database.\r\n\r\n```\r\n    @Transactional\r\n    public synchronized EntityItem save(EntityItem item, ...) {\r\n        ...\r\n        if (item.getId() != null) {\r\n           var oldItem = this.entityItemRepository.findById(item.getId()).orElse(null);\r\n           var changedProperties = this.getChangedProperties(item, oldItem);\r\n        }\r\n        ...\r\n        this.entityItemRepository.save(item);\r\n        ...\r\n    }\r\n```\r\n\r\nNow for the issue:\r\n\r\nWhen saving the item sometimes, it is already managed by the `EntityManager`, due to it being in the same transaction, thus the first level cache kicks in and always returns the same instance of the item. In fewer words, when calling `this.entityItemRepository.findById(item.getId())` the same instance as the one passed as parameter is given (due to the 1st level cache, as mentioned above).\r\n\r\nIn order to fix this we have tried the following, we have introduced another method called `fetchOldVersionOfItem(EntityItem item)` and the method now looks like :\r\n\r\n```\r\n    @Transactional\r\n    public synchronized EntityItem save(EntityItem item, ...) {\r\n        ...\r\n        if (item.getId() != null) {\r\n           var oldItem = this.entityItemRepository.fetchOldVersionOfItem(item).orElse(null);\r\n           var changedProperties = this.getChangedProperties(item, oldItem);\r\n        }\r\n        ...\r\n        this.entityItemRepository.save(item);\r\n        ...\r\n    }\r\n```\r\n\r\nWe have tried the following implementations but all have failed for a reason or another:\r\n1)\r\n```\r\n    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\r\n        this.entityManager.clear();\r\n        var oldItemOpt = this.findById(item.getId());\r\n        this.entityManager.clear();\r\n        return oldItemOpt;\r\n    }\r\n```\r\nHere, two saves were happening very quickly (as this is our core feature in the CMS) and was resulting in a `row was updated or deleted` error. Replacing this code with the usual `findById` no longer yielded this error.\r\n\r\n2)\r\n```\r\n    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\r\n        if (this.entityManager.contains(item)) {\r\n            this.entityManager.detach(item);\r\n            var oldItemOpt = this.findById(item.getId());\r\n            oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\r\n            this.entityManager.merge(item);\r\n            return oldItemOpt;\r\n        }\r\n        return findById(item.getId());\r\n    }\r\n```\r\nThis code was producing an Optimistic Lock Exception, due to some succession of saves. Removing it no longer produced the error.\r\n\r\n3)\r\n```\r\n    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\r\n        if (this.entityManager.contains(item)) {\r\n            this.entityManager.detach(item);\r\n            var oldItemOpt = this.findById(item.getId());\r\n            oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\r\n            this.entityManager.merge(item);\r\n            return oldItemOpt;\r\n        }\r\n        var oldItemOpt = findById(item.getId());\r\n        oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\r\n        return oldItemOpt;\r\n    }\r\n```\r\nHere it had the same issue as the above one.\r\n\r\nNow for the question:\r\nWhat did we do wrong with these two solutions and what is the best way to do something like this? \r\n\r\nNote that we tested different variants of the given solutions (introducing and removing `.contains` checks and etc.) and the results were the same. Also, this functionality of the system will be under a lot of stress as basically everything that happens in our projects is somehow related to saving the items somehow.\r\n\r\nThanks for your time!","title":"JPA Clear cache for reading one item","body":"<p>We're working on a headless CMS, and we have a huge system with some objects we call <code>EntityItems/ContentItems</code>. These are basically entities in the database that can be modeled by the users. They have a <code>JSON</code>-style approach where these models can contain numbers, strings, and so on. This means that these items are at the core of our system and in big projects can be used quite a bit.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode(callSuper = true, exclude = {&quot;children&quot;, &quot;parent&quot;})\n@NoArgsConstructor\n@Table(indexes = {\n    @Index(name = &quot;entityitem_objectState&quot;, columnList = &quot;objectState&quot;),\n    @Index(name = &quot;entityitem_appscope&quot;, columnList = &quot;appScope&quot;),\n    @Index(name = &quot;entityitem_type_id&quot;, columnList = &quot;type_id&quot;)})\npublic class EntityItem extends AbstractContentItem {\n\n    private static final long serialVersionUID = 1L;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    private EntityItemType type;\n\n    ....\n\n    @Convert(converter = ObjectMapToJsonConverter.class)\n    @Column(name = &quot;itemProperties&quot;, columnDefinition = &quot;jsonb&quot;)\n    private Map&lt;String, String&gt; itemPropertiesJson;\n   \n}\n</code></pre>\n<p>We also have an event based system, where we offer the user to react to deleting, creating and updating such <code>EntityItems/ContentItems</code>. On one of these events we have a property called <code>changedProperties</code> that logs what was changed in this event.</p>\n<pre><code>public class ContentItemChangedEvent {\n\n    private final long itemId;\n\n    private final List&lt;String&gt; changedProperties;\n}\n</code></pre>\n<p>Finally, we have an <code>EntityItemServiceImpl</code> which works with such <code>EntityItems</code>. This has a container managed Entity Manager and a <code>@Transactional</code> save method.</p>\n<pre><code>@Service\n@Log4j\n@Validated\npublic class EntityItemServiceImpl {\n\n    @Autowired\n    private EntityItemRepository entityItemRepository;\n\n    @Autowired\n    @Qualifier(&quot;defaultEntityManager&quot;)\n    private EntityManager entityManager;\n   \n    //...\n}\n</code></pre>\n<p>The <code>entityItemRepository</code> is a basic Jpa/Crud repository.</p>\n<pre><code>public interface EntityItemRepository extends CrudRepository&lt;EntityItem, Long&gt;, JpaRepository&lt;EntityItem, Long&gt;, JpaSpecificationExecutor&lt;EntityItem&gt; {\n   ....\n}\n</code></pre>\n<p>When the <code>save</code> method is called, we want to receive the item, fetch its JSON properties and compare them with what currently is uncommitted in the database.</p>\n<pre><code>    @Transactional\n    public synchronized EntityItem save(EntityItem item, ...) {\n        ...\n        if (item.getId() != null) {\n           var oldItem = this.entityItemRepository.findById(item.getId()).orElse(null);\n           var changedProperties = this.getChangedProperties(item, oldItem);\n        }\n        ...\n        this.entityItemRepository.save(item);\n        ...\n    }\n</code></pre>\n<p>Now for the issue:</p>\n<p>When saving the item sometimes, it is already managed by the <code>EntityManager</code>, due to it being in the same transaction, thus the first level cache kicks in and always returns the same instance of the item. In fewer words, when calling <code>this.entityItemRepository.findById(item.getId())</code> the same instance as the one passed as parameter is given (due to the 1st level cache, as mentioned above).</p>\n<p>In order to fix this we have tried the following, we have introduced another method called <code>fetchOldVersionOfItem(EntityItem item)</code> and the method now looks like :</p>\n<pre><code>    @Transactional\n    public synchronized EntityItem save(EntityItem item, ...) {\n        ...\n        if (item.getId() != null) {\n           var oldItem = this.entityItemRepository.fetchOldVersionOfItem(item).orElse(null);\n           var changedProperties = this.getChangedProperties(item, oldItem);\n        }\n        ...\n        this.entityItemRepository.save(item);\n        ...\n    }\n</code></pre>\n<p>We have tried the following implementations but all have failed for a reason or another:\n1)</p>\n<pre><code>    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\n        this.entityManager.clear();\n        var oldItemOpt = this.findById(item.getId());\n        this.entityManager.clear();\n        return oldItemOpt;\n    }\n</code></pre>\n<p>Here, two saves were happening very quickly (as this is our core feature in the CMS) and was resulting in a <code>row was updated or deleted</code> error. Replacing this code with the usual <code>findById</code> no longer yielded this error.</p>\n<p>2)</p>\n<pre><code>    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\n        if (this.entityManager.contains(item)) {\n            this.entityManager.detach(item);\n            var oldItemOpt = this.findById(item.getId());\n            oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\n            this.entityManager.merge(item);\n            return oldItemOpt;\n        }\n        return findById(item.getId());\n    }\n</code></pre>\n<p>This code was producing an Optimistic Lock Exception, due to some succession of saves. Removing it no longer produced the error.</p>\n<p>3)</p>\n<pre><code>    private Optional&lt;EntityItem&gt; fetchOldVersionOfItem(EntityItem item) {\n        if (this.entityManager.contains(item)) {\n            this.entityManager.detach(item);\n            var oldItemOpt = this.findById(item.getId());\n            oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\n            this.entityManager.merge(item);\n            return oldItemOpt;\n        }\n        var oldItemOpt = findById(item.getId());\n        oldItemOpt.ifPresent(oldItem -&gt; this.entityManager.detach(oldItem));\n        return oldItemOpt;\n    }\n</code></pre>\n<p>Here it had the same issue as the above one.</p>\n<p>Now for the question:\nWhat did we do wrong with these two solutions and what is the best way to do something like this?</p>\n<p>Note that we tested different variants of the given solutions (introducing and removing <code>.contains</code> checks and etc.) and the results were the same. Also, this functionality of the system will be under a lot of stress as basically everything that happens in our projects is somehow related to saving the items somehow.</p>\n<p>Thanks for your time!</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":5433881,"reputation":1294,"user_id":4323911,"display_name":"BrightFlow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639697129,"creation_date":1639697129,"answer_id":70386778,"question_id":70378269,"body_markdown":"I think you could check the input data to Flink streaming to verify whether the result is what you expect. \r\n\r\nFor the first streaming, the aggregate operation runs 4 times(every 15 sec) over the data set of 60 seconds&#39; window. Not sure your logic in the aggregation. E.g. assuming we have a window of 3 sec, and the trigger is every 1 sec. The operator is to get the max element in the window. Also assuming the input is generated every 1 sec. If the input is 1, 3, 2, ..., then we will see output like 1, 3, 3... from Flink as the first window has [1, 3, 2] in its pane, and for each trigger to get max element, the result will be 1, 3, 3.\r\n\r\nFor the second streaming job, each window has one trigger time, so e.g. using the input from above as an example, if the window is for 1 sec, we will get 1, 3, 2, ... ","title":"window trigger doesn&#39;t return the most updated result","body":"<p>I think you could check the input data to Flink streaming to verify whether the result is what you expect.</p>\n<p>For the first streaming, the aggregate operation runs 4 times(every 15 sec) over the data set of 60 seconds' window. Not sure your logic in the aggregation. E.g. assuming we have a window of 3 sec, and the trigger is every 1 sec. The operator is to get the max element in the window. Also assuming the input is generated every 1 sec. If the input is 1, 3, 2, ..., then we will see output like 1, 3, 3... from Flink as the first window has [1, 3, 2] in its pane, and for each trigger to get max element, the result will be 1, 3, 3.</p>\n<p>For the second streaming job, each window has one trigger time, so e.g. using the input from above as an example, if the window is for 1 sec, we will get 1, 3, 2, ...</p>\n"}],"owner":{"account_id":15617072,"reputation":27,"user_id":11267004,"display_name":"Canelupo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639697129,"creation_date":1639654311,"question_id":70378269,"body_markdown":"I&#39;m trying to measure the latency of a Flink application which have a window operation as shown below:\r\n``` \r\nSingleOutputStreamOperator&lt;String&gt; branch = stream\r\n                .getSideOutput(outputTag2)\r\n                .keyBy(MetricObject::getRootAssetId)\r\n                .window(TumblingEventTimeWindows.of(Time.seconds(60)))\r\n                .trigger(ContinuousEventTimeTrigger.of(Time.seconds(15)))\r\n                .aggregate(new CountDistinctAggregate(), new CountDistinctProcess())\r\n                .name(&quot;windowed-count-distinct&quot;)\r\n                .uid(&quot;windowed-count-distinct&quot;)\r\n                .map((value)-&gt;String.valueOf(value.getTimestamp().toEpochMilli()))\r\n                .name(&quot;send-timestamp&quot;);\r\n ```\r\nI&#39;m considering event time and to extract timestamp I use this watermark strategy:\r\n\r\n``` .assignTimestampsAndWatermarks(WatermarkStrategy\r\n                        .&lt;SingleRecord&gt;forBoundedOutOfOrderness(Duration.ofSeconds(15))\r\n                        .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp().toEpochMilli()))\r\n``` \r\nThe aggregation function saves a particular object as an accumulator containing also the timestamp extracted; these timestamps are written in a kafka topic. The problem is that the timestamps returned are these:\r\n```\r\n1639651859988\r\n1639651890163\r\n1639651904900\r\n1639651919728\r\n1639651919728\r\n1639651949973\r\n1639651965085\r\n1639651979870\r\n```\r\nthe timestamps returned aren&#39;t equally spaced as I was expecting, and the fourth and fifth are equal but they have been returned spaced by 15 seconds and this isn&#39;t possible because the input of the application records are continuously generated every second (10 per second). In other tests I obtained also worse situations like this:\r\n```\r\n1639651979870\r\n1639651992771\r\n1639651992771\r\n1639651992771\r\n1639651992771\r\n1639652189791\r\n1639652205001\r\n1639652219876\r\n```\r\nthe curious fact is that, when I use a simple tumbling window without trigger:\r\n```\r\n .window(TumblingEventTimeWindows.of(Time.seconds(15)))\r\n```\r\nthe timestamps returned are equally spaced as expected:\r\n```\r\n1639652429766\r\n1639652444930\r\n1639652459900\r\n1639652474609\r\n1639652489746\r\n1639652504862\r\n1639652519734\r\n1639652534847\r\n ```\r\nI really don&#39;t understand which is the problem, it seems like the accumulators in the aggregation function doesn&#39;t upgrade properly.\r\n","title":"window trigger doesn&#39;t return the most updated result","body":"<p>I'm trying to measure the latency of a Flink application which have a window operation as shown below:</p>\n<pre><code>SingleOutputStreamOperator&lt;String&gt; branch = stream\n                .getSideOutput(outputTag2)\n                .keyBy(MetricObject::getRootAssetId)\n                .window(TumblingEventTimeWindows.of(Time.seconds(60)))\n                .trigger(ContinuousEventTimeTrigger.of(Time.seconds(15)))\n                .aggregate(new CountDistinctAggregate(), new CountDistinctProcess())\n                .name(&quot;windowed-count-distinct&quot;)\n                .uid(&quot;windowed-count-distinct&quot;)\n                .map((value)-&gt;String.valueOf(value.getTimestamp().toEpochMilli()))\n                .name(&quot;send-timestamp&quot;);\n</code></pre>\n<p>I'm considering event time and to extract timestamp I use this watermark strategy:</p>\n<pre><code>                        .&lt;SingleRecord&gt;forBoundedOutOfOrderness(Duration.ofSeconds(15))\n                        .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp().toEpochMilli()))\n</code></pre>\n<p>The aggregation function saves a particular object as an accumulator containing also the timestamp extracted; these timestamps are written in a kafka topic. The problem is that the timestamps returned are these:</p>\n<pre><code>1639651859988\n1639651890163\n1639651904900\n1639651919728\n1639651919728\n1639651949973\n1639651965085\n1639651979870\n</code></pre>\n<p>the timestamps returned aren't equally spaced as I was expecting, and the fourth and fifth are equal but they have been returned spaced by 15 seconds and this isn't possible because the input of the application records are continuously generated every second (10 per second). In other tests I obtained also worse situations like this:</p>\n<pre><code>1639651979870\n1639651992771\n1639651992771\n1639651992771\n1639651992771\n1639652189791\n1639652205001\n1639652219876\n</code></pre>\n<p>the curious fact is that, when I use a simple tumbling window without trigger:</p>\n<pre><code> .window(TumblingEventTimeWindows.of(Time.seconds(15)))\n</code></pre>\n<p>the timestamps returned are equally spaced as expected:</p>\n<pre><code>1639652429766\n1639652444930\n1639652459900\n1639652474609\n1639652489746\n1639652504862\n1639652519734\n1639652534847\n</code></pre>\n<p>I really don't understand which is the problem, it seems like the accumulators in the aggregation function doesn't upgrade properly.</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639696921,"creation_date":1639668102,"answer_id":70381488,"question_id":70380071,"body_markdown":"The [field-by-field recursive comparison][1] is what you are looking for:\r\n\r\n    AddressDTO addressDTO = new AddressDTO(...);\r\n    AddressEntity addressEntity = new AddressEntity(...);\r\n    \r\n    assertThat(addressDTO).usingRecursiveComparison()\r\n                          .isEqualTo(addressEntity);\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core-recursive-comparison","title":"assertj: compare fields between dto and entity classes","body":"<p>The <a href=\"https://assertj.github.io/doc/#assertj-core-recursive-comparison\" rel=\"nofollow noreferrer\">field-by-field recursive comparison</a> is what you are looking for:</p>\n<pre><code>AddressDTO addressDTO = new AddressDTO(...);\nAddressEntity addressEntity = new AddressEntity(...);\n\nassertThat(addressDTO).usingRecursiveComparison()\n                      .isEqualTo(addressEntity);\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70381488,"answer_count":1,"score":3,"last_activity_date":1639696921,"creation_date":1639662281,"question_id":70380071,"body_markdown":"I need to compare a `DTO` class with its `Entity` class.\r\n\r\nFor example, an `AddressDTO` class would be:\r\n\r\n```lang-java\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AddressDTO {\r\n\r\n    private StringTypeDTO text;\r\n    private List&lt;StringTypeDTO&gt; line;\r\n    private StringTypeDTO city;\r\n    private StringTypeDTO district;\r\n    private StringTypeDTO state;\r\n    private StringTypeDTO postalCode;\r\n    private StringTypeDTO country;\r\n\r\n}\r\n```\r\n\r\nand my `AddressEntity` class would be:\r\n\r\n```lang-java\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Address {\r\n\r\n    private StringType text;\r\n    private List&lt;StringType&gt; line;\r\n    private StringType city;\r\n    private StringType district;\r\n    private StringType state;\r\n    private StringType postalCode;\r\n    private StringType country;\r\n\r\n}\r\n```\r\n\r\nIs there any way to compare those two objects using `assertj`?\r\n\r\n`StringType`:\r\n\r\n```lang-java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class StringTypeDTO {\r\n\r\n    private String value;\r\n    \r\n}\r\n```\r\n\r\nAnd `StringType`:\r\n\r\n```lang-java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class StringType {\r\n\r\n    private String value;\r\n    \r\n}\r\n```\r\n\r\nI want to avoid to make code like:\r\n\r\n```\r\nassertThat dto.field1 is equals to entity.field1 of object\r\nassertThat dto.field2 is equals to entity.field2 of object\r\nassertThat dto.field3 is equals to entity.field3 of object\r\n```\r\n\r\nAny ideas?","title":"assertj: compare fields between dto and entity classes","body":"<p>I need to compare a <code>DTO</code> class with its <code>Entity</code> class.</p>\n<p>For example, an <code>AddressDTO</code> class would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AddressDTO {\n\n    private StringTypeDTO text;\n    private List&lt;StringTypeDTO&gt; line;\n    private StringTypeDTO city;\n    private StringTypeDTO district;\n    private StringTypeDTO state;\n    private StringTypeDTO postalCode;\n    private StringTypeDTO country;\n\n}\n</code></pre>\n<p>and my <code>AddressEntity</code> class would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address {\n\n    private StringType text;\n    private List&lt;StringType&gt; line;\n    private StringType city;\n    private StringType district;\n    private StringType state;\n    private StringType postalCode;\n    private StringType country;\n\n}\n</code></pre>\n<p>Is there any way to compare those two objects using <code>assertj</code>?</p>\n<p><code>StringType</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StringTypeDTO {\n\n    private String value;\n    \n}\n</code></pre>\n<p>And <code>StringType</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StringType {\n\n    private String value;\n    \n}\n</code></pre>\n<p>I want to avoid to make code like:</p>\n<pre><code>assertThat dto.field1 is equals to entity.field1 of object\nassertThat dto.field2 is equals to entity.field2 of object\nassertThat dto.field3 is equals to entity.field3 of object\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1639443272,"post_id":70340294,"comment_id":124345170,"body_markdown":"Are you expecting a JSON `Map&lt;String, String&gt;` where for every event the key is mapped to the value (and all other attributes are ignored), or do you expect that the event objects still have their other properties and only `key` and `value` are changed?","body":"Are you expecting a JSON <code>Map&lt;String, String&gt;</code> where for every event the key is mapped to the value (and all other attributes are ignored), or do you expect that the event objects still have their other properties and only <code>key</code> and <code>value</code> are changed?"},{"owner":{"account_id":20893140,"reputation":43,"user_id":15348067,"display_name":"user15348067"},"score":0,"creation_date":1639476003,"post_id":70340294,"comment_id":124352251,"body_markdown":"Yes thank you, I need the event objects to have the eventID, the type as they stand they map OK as the attribute names are the keys, and then as you suggested just the key values replaced with the passed values.","body":"Yes thank you, I need the event objects to have the eventID, the type as they stand they map OK as the attribute names are the keys, and then as you suggested just the key values replaced with the passed values."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639696857,"creation_date":1639696857,"answer_id":70386740,"question_id":70340294,"body_markdown":"You can solve this by writing a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which obtains the default adapter for your class (that is the reflection based one) and uses it to create an in-memory JSON representation in the form of a [`JsonObject`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html). That `JsonObject` can then be modified to have the structure you expect; afterwards it has to be written to the `JsonWriter`:\r\n\r\n```java\r\nclass RewritingEventPropertyAdapterFactory implements TypeAdapterFactory {\r\n  public static final RewritingEventPropertyAdapterFactory INSTANCE = new RewritingEventPropertyAdapterFactory();\r\n\r\n  private RewritingEventPropertyAdapterFactory() {}\r\n\r\n  @Override\r\n  public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n    // Only consider AnalyticsEventProperty or subtypes\r\n    if (!AnalyticsEventProperty.class.isAssignableFrom(type.getRawType())) {\r\n      return null;\r\n    }\r\n\r\n    TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\r\n    TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\r\n\r\n    return new TypeAdapter&lt;T&gt;() {\r\n      @Override\r\n      public T read(JsonReader in) throws IOException {\r\n        throw new UnsupportedOperationException(&quot;Deserialization is not supported&quot;);\r\n      }\r\n\r\n      @Override\r\n      public void write(JsonWriter out, T value) throws IOException {\r\n        if (value == null) {\r\n          out.nullValue();\r\n          return;\r\n        }\r\n\r\n        JsonObject jsonObject = delegate.toJsonTree(value).getAsJsonObject();\r\n\r\n        // Remove &quot;key&quot; and &quot;value&quot;\r\n        String eventKey = jsonObject.remove(&quot;key&quot;).getAsString();\r\n        JsonElement eventValue = jsonObject.remove(&quot;value&quot;);\r\n\r\n        // Add back an entry in the form of `&quot;key&quot;: &quot;value&quot;`\r\n        jsonObject.add(eventKey, eventValue);\r\n\r\n        // Write the transformed JsonObject\r\n        jsonObjectAdapter.write(out, jsonObject);\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\nYou then have to [register the factory](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeAdapterFactory(com.google.gson.TypeAdapterFactory)) with a `GsonBuilder`.\r\n\r\nAn alternative would be to perform the complete serialization of the class manually by directly writing the properties to the `JsonWriter`. This will most likely be a bit more performant, but is also more error-prone.","title":"Java Gson to Json Conversion","body":"<p>You can solve this by writing a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which obtains the default adapter for your class (that is the reflection based one) and uses it to create an in-memory JSON representation in the form of a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JsonObject</code></a>. That <code>JsonObject</code> can then be modified to have the structure you expect; afterwards it has to be written to the <code>JsonWriter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RewritingEventPropertyAdapterFactory implements TypeAdapterFactory {\n  public static final RewritingEventPropertyAdapterFactory INSTANCE = new RewritingEventPropertyAdapterFactory();\n\n  private RewritingEventPropertyAdapterFactory() {}\n\n  @Override\n  public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n    // Only consider AnalyticsEventProperty or subtypes\n    if (!AnalyticsEventProperty.class.isAssignableFrom(type.getRawType())) {\n      return null;\n    }\n\n    TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\n    TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\n\n    return new TypeAdapter&lt;T&gt;() {\n      @Override\n      public T read(JsonReader in) throws IOException {\n        throw new UnsupportedOperationException(&quot;Deserialization is not supported&quot;);\n      }\n\n      @Override\n      public void write(JsonWriter out, T value) throws IOException {\n        if (value == null) {\n          out.nullValue();\n          return;\n        }\n\n        JsonObject jsonObject = delegate.toJsonTree(value).getAsJsonObject();\n\n        // Remove &quot;key&quot; and &quot;value&quot;\n        String eventKey = jsonObject.remove(&quot;key&quot;).getAsString();\n        JsonElement eventValue = jsonObject.remove(&quot;value&quot;);\n\n        // Add back an entry in the form of `&quot;key&quot;: &quot;value&quot;`\n        jsonObject.add(eventKey, eventValue);\n\n        // Write the transformed JsonObject\n        jsonObjectAdapter.write(out, jsonObject);\n      }\n    };\n  }\n}\n</code></pre>\n<p>You then have to <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeAdapterFactory(com.google.gson.TypeAdapterFactory)\" rel=\"nofollow noreferrer\">register the factory</a> with a <code>GsonBuilder</code>.</p>\n<p>An alternative would be to perform the complete serialization of the class manually by directly writing the properties to the <code>JsonWriter</code>. This will most likely be a bit more performant, but is also more error-prone.</p>\n"}],"owner":{"account_id":20893140,"reputation":43,"user_id":15348067,"display_name":"user15348067"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639696857,"creation_date":1639425632,"question_id":70340294,"body_markdown":"I have a class with the following attributes,\r\n```\r\npublic AnalyticsEventProperty(String eventID, String key, Object value, EventPropertyValueType valueType) {\r\n        this.eventID = eventID;\r\n        this.key = key;\r\n        this.value = value;\r\n        this.type = valueType();\r\n}\r\n\r\n```\r\nThis object is created and passed to an array of event properties, when I do the Json Conversion I get the output below:\r\n```\r\n{&quot;eventID&quot;:&quot;afc970ef-80cf-4d6e-86e6-e8f3a56f26f5&quot;,&quot;name&quot;:&quot;app_start&quot;,&quot;propertyArrayList&quot;:[{&quot;eventID&quot;:&quot;afc970ef-80cf-4d6e-86e6-e8f3a56f26f5&quot;,&quot;key&quot;:&quot;session_id&quot;,&quot;value&quot;:&quot;69200430-95a0-4e14-9a36-67942917573d&quot;}\r\n```\r\nI am getting &#39;key and &#39;value&#39; used, I can see why, but how do I use the key and values as key and values i.e. &quot;session_id&quot;:&quot;69200430-95a0-4e14-9a36-67942917573d&quot;, bearing in mind that these key and values may have different property names depending on what is passed in the constructor.\r\n\r\nWhen i create the String i am simply calling\r\n```\r\nString text_to_send = new Gson().toJson(events);\r\n```\r\nWhere events is the ArrayList.","title":"Java Gson to Json Conversion","body":"<p>I have a class with the following attributes,</p>\n<pre><code>public AnalyticsEventProperty(String eventID, String key, Object value, EventPropertyValueType valueType) {\n        this.eventID = eventID;\n        this.key = key;\n        this.value = value;\n        this.type = valueType();\n}\n\n</code></pre>\n<p>This object is created and passed to an array of event properties, when I do the Json Conversion I get the output below:</p>\n<pre><code>{&quot;eventID&quot;:&quot;afc970ef-80cf-4d6e-86e6-e8f3a56f26f5&quot;,&quot;name&quot;:&quot;app_start&quot;,&quot;propertyArrayList&quot;:[{&quot;eventID&quot;:&quot;afc970ef-80cf-4d6e-86e6-e8f3a56f26f5&quot;,&quot;key&quot;:&quot;session_id&quot;,&quot;value&quot;:&quot;69200430-95a0-4e14-9a36-67942917573d&quot;}\n</code></pre>\n<p>I am getting 'key and 'value' used, I can see why, but how do I use the key and values as key and values i.e. &quot;session_id&quot;:&quot;69200430-95a0-4e14-9a36-67942917573d&quot;, bearing in mind that these key and values may have different property names depending on what is passed in the constructor.</p>\n<p>When i create the String i am simply calling</p>\n<pre><code>String text_to_send = new Gson().toJson(events);\n</code></pre>\n<p>Where events is the ArrayList.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":986113,"reputation":2448,"user_id":1004555,"accept_rate":83,"display_name":"Niall Byrne"},"score":1,"creation_date":1328422318,"post_id":9147270,"comment_id":11500889,"body_markdown":"I believe it should be: \\b(\\w+)\\b\\s+\\1\\b or else it would think &#39;ice&#39; and &#39;icecream&#39; are duplicates.","body":"I believe it should be: \\b(\\w+)\\b\\s+\\1\\b or else it would think &#39;ice&#39; and &#39;icecream&#39; are duplicates."},{"owner":{"account_id":986113,"reputation":2448,"user_id":1004555,"accept_rate":83,"display_name":"Niall Byrne"},"score":0,"creation_date":1328422711,"post_id":9147270,"comment_id":11500927,"body_markdown":"http://rubular.com/r/Qr3twc03RR (I adjusted it again, it looks like a word boundary problem... \\b(\\w+)\\b\\s+\\b\\1\\b )","body":"<a href=\"http://rubular.com/r/Qr3twc03RR\" rel=\"nofollow noreferrer\">rubular.com/r/Qr3twc03RR</a> (I adjusted it again, it looks like a word boundary problem... \\b(\\w+)\\b\\s+\\b\\1\\b )"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1328432909,"post_id":9147270,"comment_id":11501875,"body_markdown":"Adding another word boundary to the end works perfectly for me.  But even without that, your regex should never have matched `This is`.  Your problem may lie elsewhere, though I can&#39;t imagine where that would be.","body":"Adding another word boundary to the end works perfectly for me.  But even without that, your regex should never have matched <code>This is</code>.  Your problem may lie elsewhere, though I can&#39;t imagine where that would be."},{"owner":{"account_id":359438,"reputation":1664,"user_id":700848,"display_name":"M Platvoet"},"score":0,"creation_date":1328438233,"post_id":9147270,"comment_id":11502612,"body_markdown":"Though you have your answer, you might consider changing your approach. A basic tokenizer and a Set like structure is more understandable and probably more efficient.","body":"Though you have your answer, you might consider changing your approach. A basic tokenizer and a Set like structure is more understandable and probably more efficient."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":2,"creation_date":1328438668,"post_id":9147270,"comment_id":11502678,"body_markdown":"The regex is correct now, but you need to double up all those backslashes again.  As it is, the code won&#39;t even compile.  Also, you&#39;re doing an amazing amount of unnecessary work. The whole method could be written as `return input.replaceAll(&quot;(?i)\\\\b(\\\\w+)\\\\s+\\\\1\\\\b&quot;, &quot;$1&quot;);`","body":"The regex is correct now, but you need to double up all those backslashes again.  As it is, the code won&#39;t even compile.  Also, you&#39;re doing an amazing amount of unnecessary work. The whole method could be written as <code>return input.replaceAll(&quot;(?i)\\\\b(\\\\w+)\\\\s+\\\\1\\\\b&quot;, &quot;$1&quot;);</code>"},{"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"score":0,"creation_date":1328794220,"post_id":9147270,"comment_id":11595903,"body_markdown":"@user1190265 : hope the problem is solved...","body":"@user1190265 : hope the problem is solved..."}],"answers":[{"tags":[],"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448044863,"creation_date":1328423084,"answer_id":9147372,"question_id":9147270,"body_markdown":"you should have used `\\b(\\w+)\\b\\s+\\b\\1\\b`, click [here](http://www.rubular.com/r/kn4ZMtBnny) to see the result...\r\n\r\nHope this is what you want...\r\n\r\nUpdate 1\r\n-\r\n\r\nWell well well, the output that you have is \r\nthe final string after removing duplicates\r\n-\r\n\r\n\timport java.util.regex.*;\r\n\t\r\n\tpublic class MyDup {\r\n\t\tpublic static void main (String args[]) {\r\n\t\tString input=&quot;This This is text text another another&quot;;\r\n\t\tString originalText = input;\r\n\t\tString output = &quot;&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;\\\\b(\\\\w+)\\\\b\\\\s+\\\\b\\\\1\\\\b&quot;, Pattern.MULTILINE+Pattern.CASE_INSENSITIVE);\r\n\t\tMatcher m = p.matcher(input);\r\n\t\tSystem.out.println(m);\r\n\t\tif (!m.find())\r\n\t\t\toutput = &quot;No duplicates found, no changes made to data&quot;;\r\n\t\telse\r\n\t\t{\r\n\t\t\twhile (m.find())\r\n\t\t\t{\r\n\t\t\t\tif (output == &quot;&quot;) {\r\n\t\t\t\t\toutput = input.replaceFirst(m.group(), m.group(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput = output.replaceAll(m.group(), m.group(1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinput = output;\r\n\t\t\tm = p.matcher(input);\r\n\t\t\twhile (m.find())\r\n\t\t\t{\r\n\t\t\t\toutput = &quot;&quot;;\r\n\t\t\t\tif (output == &quot;&quot;) {\r\n\t\t\t\t\toutput = input.replaceAll(m.group(), m.group(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput = output.replaceAll(m.group(), m.group(1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;After removing duplicate the final string is &quot; + output);\r\n\t}\r\n\r\nRun this code and see what you get as output... Your queries will be solved...\r\n\r\nNote\r\n-\r\n\r\nIn `output` you are replacing duplicate by single word... Isn&#39;t it??\r\n\r\nWhen I put `System.out.println(m.group() + &quot; : &quot; + m.group(1));` in first if condition I get output as `text text : text` i.e. duplicates are replacing by single word.\r\n\r\n    else\r\n\t\t{\r\n\t\t\twhile (m.find())\r\n\t\t\t{\r\n\t\t\t\tif (output == &quot;&quot;) {\r\n\t\t\t\t\tSystem.out.println(m.group() + &quot; : &quot; + m.group(1));\r\n\t\t\t\t\toutput = input.replaceFirst(m.group(), m.group(1));\r\n\t\t\t\t} else {\r\n\r\n\r\nHope you got now what is going on... :)\r\n--\r\n\r\nGood Luck!!! Cheers!!!\r\n--","title":"Regex in java for finding duplicate consecutive words","body":"<p>you should have used <code>\\b(\\w+)\\b\\s+\\b\\1\\b</code>, click <a href=\"http://www.rubular.com/r/kn4ZMtBnny\" rel=\"noreferrer\">here</a> to see the result...</p>\n\n<p>Hope this is what you want...</p>\n\n<h2>Update 1</h2>\n\n<p>Well well well, the output that you have is </p>\n\n<h2>the final string after removing duplicates</h2>\n\n<pre><code>import java.util.regex.*;\n\npublic class MyDup {\n    public static void main (String args[]) {\n    String input=\"This This is text text another another\";\n    String originalText = input;\n    String output = \"\";\n    Pattern p = Pattern.compile(\"\\\\b(\\\\w+)\\\\b\\\\s+\\\\b\\\\1\\\\b\", Pattern.MULTILINE+Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(input);\n    System.out.println(m);\n    if (!m.find())\n        output = \"No duplicates found, no changes made to data\";\n    else\n    {\n        while (m.find())\n        {\n            if (output == \"\") {\n                output = input.replaceFirst(m.group(), m.group(1));\n            } else {\n                output = output.replaceAll(m.group(), m.group(1));\n            }\n        }\n        input = output;\n        m = p.matcher(input);\n        while (m.find())\n        {\n            output = \"\";\n            if (output == \"\") {\n                output = input.replaceAll(m.group(), m.group(1));\n            } else {\n                output = output.replaceAll(m.group(), m.group(1));\n            }\n        }\n    }\n    System.out.println(\"After removing duplicate the final string is \" + output);\n}\n</code></pre>\n\n<p>Run this code and see what you get as output... Your queries will be solved...</p>\n\n<h2>Note</h2>\n\n<p>In <code>output</code> you are replacing duplicate by single word... Isn't it??</p>\n\n<p>When I put <code>System.out.println(m.group() + \" : \" + m.group(1));</code> in first if condition I get output as <code>text text : text</code> i.e. duplicates are replacing by single word.</p>\n\n<pre><code>else\n    {\n        while (m.find())\n        {\n            if (output == \"\") {\n                System.out.println(m.group() + \" : \" + m.group(1));\n                output = input.replaceFirst(m.group(), m.group(1));\n            } else {\n</code></pre>\n\n<h2>Hope you got now what is going on... :)</h2>\n\n<h2>Good Luck!!! Cheers!!!</h2>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328437969,"creation_date":1328437969,"answer_id":9148534,"question_id":9147270,"body_markdown":"I believe this is the regular expression you should be using to detect 2 consecutive words separated by any number of non-word characters:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\b(\\\\w+)\\\\b\\\\W+\\\\b\\\\1\\\\b&quot;, Pattern.CASE_INSENSITIVE);","title":"Regex in java for finding duplicate consecutive words","body":"<p>I believe this is the regular expression you should be using to detect 2 consecutive words separated by any number of non-word characters:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\b(\\\\w+)\\\\b\\\\W+\\\\b\\\\1\\\\b\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5393067"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1449660571,"creation_date":1449660571,"answer_id":34177732,"question_id":9147270,"body_markdown":"The below pattern will match duplicate words even with any number of occurrences. \r\n\r\n    Pattern.compile(&quot;\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b)*&quot;, Pattern.MULTILINE+Pattern.CASE_INSENSITIVE); \r\n\r\nFor e-g, &quot;This is is my my my pal pal pal pal pal pal pal pal&quot;\r\nwill output &quot;This is my pal&quot;\r\n\r\nAlso, Only one iteration with &quot;while (m.find())&quot; is enough with this pattern.\r\n        \r\n","title":"Regex in java for finding duplicate consecutive words","body":"<p>The below pattern will match duplicate words even with any number of occurrences. </p>\n\n<pre><code>Pattern.compile(\"\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b)*\", Pattern.MULTILINE+Pattern.CASE_INSENSITIVE); \n</code></pre>\n\n<p>For e-g, \"This is is my my my pal pal pal pal pal pal pal pal\"\nwill output \"This is my pal\"</p>\n\n<p>Also, Only one iteration with \"while (m.find())\" is enough with this pattern.</p>\n"},{"tags":[],"owner":{"account_id":84015,"reputation":10943,"user_id":235123,"accept_rate":76,"display_name":"Mina Wissa"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1533320549,"creation_date":1462896729,"answer_id":37143875,"question_id":9147270,"body_markdown":"Try this one:\r\n\r\n    String pattern = &quot;(?i)\\\\b([a-z]+)\\\\b(?:\\\\s+\\\\1\\\\b)+&quot;;\r\n    Pattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\r\n    \r\n    String input = &quot;your string&quot;;\r\n    Matcher m = r.matcher(input);\r\n    while (m.find()) {\r\n        input = input.replaceAll(m.group(), m.group(1));\r\n    }\r\n    System.out.println(input);\r\n\r\n\r\nThe Java regular expressions are explained very well in the [API documentation of the Pattern class][1]. After adding some spaces to indicate the different parts of the regular expression:\r\n\r\n    &quot;(?i) \\\\b ([a-z]+) \\\\b (?: \\\\s+ \\\\1 \\\\b )+&quot;\r\n\r\n    \\b       match a word boundary\r\n    [a-z]+   match a word with one or more characters;\r\n             the parentheses capture the word as a group    \r\n    \\b       match a word boundary\r\n    (?:      indicates a non-capturing group (which starts here)\r\n    \\s+      match one or more white space characters\r\n    \\1       is a back reference to the first (captured) group;\r\n             so the word is repeated here\r\n    \\b       match a word boundary\r\n    )+       indicates the end of the non-capturing group and\r\n             allows it to occur one or more times\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\r\n","title":"Regex in java for finding duplicate consecutive words","body":"<p>Try this one:</p>\n\n<pre><code>String pattern = \"(?i)\\\\b([a-z]+)\\\\b(?:\\\\s+\\\\1\\\\b)+\";\nPattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\n\nString input = \"your string\";\nMatcher m = r.matcher(input);\nwhile (m.find()) {\n    input = input.replaceAll(m.group(), m.group(1));\n}\nSystem.out.println(input);\n</code></pre>\n\n<p>The Java regular expressions are explained very well in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">API documentation of the Pattern class</a>. After adding some spaces to indicate the different parts of the regular expression:</p>\n\n<pre><code>\"(?i) \\\\b ([a-z]+) \\\\b (?: \\\\s+ \\\\1 \\\\b )+\"\n\n\\b       match a word boundary\n[a-z]+   match a word with one or more characters;\n         the parentheses capture the word as a group    \n\\b       match a word boundary\n(?:      indicates a non-capturing group (which starts here)\n\\s+      match one or more white space characters\n\\1       is a back reference to the first (captured) group;\n         so the word is repeated here\n\\b       match a word boundary\n)+       indicates the end of the non-capturing group and\n         allows it to occur one or more times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6181130,"reputation":2050,"user_id":4816597,"accept_rate":67,"display_name":"imbond"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493668040,"creation_date":1472542369,"answer_id":39221422,"question_id":9147270,"body_markdown":"    \\b(\\w+)(\\b\\W+\\1\\b)*\r\n\r\n**Explanation:**\r\n\r\n    \\b : Any word boundary &lt;br/&gt;(\\w+) : Select any word character (letter, number, underscore)\r\n\r\nOnce all the words are selected, now it&#39;s time to select the common words.\r\n\r\n    ( : Grouping starts&lt;br/&gt;\r\n    \\b : Any word boundary&lt;br/&gt;\r\n    \\W+ : Any non-word character&lt;br/&gt;\r\n    \\1 : Select repeated words&lt;br/&gt;\r\n    \\b : Un select if it repeated word is joined with another word&lt;br/&gt;\r\n    ) : Grouping ends\r\n\r\nReference : [Example][1]\r\n\r\n\r\n  [1]: http://www.rubular.com/r/98MZ0vzUeX\r\n","title":"Regex in java for finding duplicate consecutive words","body":"<pre><code>\\b(\\w+)(\\b\\W+\\1\\b)*\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>\\b : Any word boundary &lt;br/&gt;(\\w+) : Select any word character (letter, number, underscore)\n</code></pre>\n\n<p>Once all the words are selected, now it's time to select the common words.</p>\n\n<pre><code>( : Grouping starts&lt;br/&gt;\n\\b : Any word boundary&lt;br/&gt;\n\\W+ : Any non-word character&lt;br/&gt;\n\\1 : Select repeated words&lt;br/&gt;\n\\b : Un select if it repeated word is joined with another word&lt;br/&gt;\n) : Grouping ends\n</code></pre>\n\n<p>Reference : <a href=\"http://www.rubular.com/r/98MZ0vzUeX\" rel=\"nofollow noreferrer\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":1875314,"reputation":3415,"user_id":1696653,"display_name":"Andr&#225;s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546524556,"creation_date":1546524556,"answer_id":54023951,"question_id":9147270,"body_markdown":"if unicodes are important than you should use this: \r\n\r\n     Pattern.compile(&quot;\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b)*&quot;,\r\n            Pattern.MULTILINE + Pattern.CASE_INSENSITIVE + Pattern.UNICODE_CHARACTER_CLASS)","title":"Regex in java for finding duplicate consecutive words","body":"<p>if unicodes are important than you should use this: </p>\n\n<pre><code> Pattern.compile(\"\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b)*\",\n        Pattern.MULTILINE + Pattern.CASE_INSENSITIVE + Pattern.UNICODE_CHARACTER_CLASS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379884,"reputation":1,"user_id":4285461,"display_name":"Ryan Berrio Cardona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639696705,"creation_date":1639696705,"answer_id":70386718,"question_id":9147270,"body_markdown":"Also try with this Regex that find only repeat words\r\n\r\n    (?i)\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b){1,}","title":"Regex in java for finding duplicate consecutive words","body":"<p>Also try with this Regex that find only repeat words</p>\n<pre><code>(?i)\\\\b(\\\\w+)(\\\\b\\\\W+\\\\b\\\\1\\\\b){1,}\n</code></pre>\n"}],"owner":{"account_id":1224367,"reputation":203,"user_id":1190265,"display_name":"user1190265"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33208,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1639696705,"creation_date":1328421707,"question_id":9147270,"body_markdown":"I saw this as an answer for finding repeated words in a string. But when I use it, it thinks `This` and `is` are the same and deletes the `is`.\r\n\r\nRegex\r\n\r\n    &quot;\\\\b(\\\\w+)\\\\b\\\\s+\\\\1&quot;\r\n\r\nAny idea why this is happening?\r\n\r\nHere is the code that I am using for duplicate removal\r\n\r\n\tpublic static String RemoveDuplicateWords(String input)\r\n\t{\r\n\t\tString originalText = input;\r\n\t\tString output = &quot;&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;\\b(\\w+)\\b\\s+\\b\\1\\b&quot;, Pattern.MULTILINE+Pattern.CASE_INSENSITIVE); \r\n\t\t//Pattern p = Pattern.compile(&quot;\\\\b(\\\\w+)\\\\b\\\\s+\\\\1&quot;, Pattern.MULTILINE+Pattern.CASE_INSENSITIVE);\r\n\t\tMatcher m = p.matcher(input);\r\n\t\tif (!m.find())\r\n\t\t\toutput = &quot;No duplicates found, no changes made to data&quot;;\r\n\t\telse\r\n\t\t{\r\n\t\t\twhile (m.find())\r\n\t\t\t{\r\n\t\t\t\tif (output == &quot;&quot;)\r\n\t\t\t\t\toutput = input.replaceFirst(m.group(), m.group(1));\r\n\t\t\t\telse\r\n\t\t\t\t\toutput = output.replaceAll(m.group(), m.group(1));\r\n\t\t\t}\r\n\t\t\tinput = output;\r\n\t\t\tm = p.matcher(input);\r\n\t\t\twhile (m.find())\r\n\t\t\t{\r\n\t\t\t\toutput = &quot;&quot;;\r\n\t\t\t\tif (output == &quot;&quot;)\r\n\t\t\t\t\toutput = input.replaceAll(m.group(), m.group(1));\r\n\t\t\t\telse\r\n\t\t\t\t\toutput = output.replaceAll(m.group(), m.group(1));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}","title":"Regex in java for finding duplicate consecutive words","body":"<p>I saw this as an answer for finding repeated words in a string. But when I use it, it thinks <code>This</code> and <code>is</code> are the same and deletes the <code>is</code>.</p>\n\n<p>Regex</p>\n\n<pre><code>\"\\\\b(\\\\w+)\\\\b\\\\s+\\\\1\"\n</code></pre>\n\n<p>Any idea why this is happening?</p>\n\n<p>Here is the code that I am using for duplicate removal</p>\n\n<pre><code>public static String RemoveDuplicateWords(String input)\n{\n    String originalText = input;\n    String output = \"\";\n    Pattern p = Pattern.compile(\"\\b(\\w+)\\b\\s+\\b\\1\\b\", Pattern.MULTILINE+Pattern.CASE_INSENSITIVE); \n    //Pattern p = Pattern.compile(\"\\\\b(\\\\w+)\\\\b\\\\s+\\\\1\", Pattern.MULTILINE+Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(input);\n    if (!m.find())\n        output = \"No duplicates found, no changes made to data\";\n    else\n    {\n        while (m.find())\n        {\n            if (output == \"\")\n                output = input.replaceFirst(m.group(), m.group(1));\n            else\n                output = output.replaceAll(m.group(), m.group(1));\n        }\n        input = output;\n        m = p.matcher(input);\n        while (m.find())\n        {\n            output = \"\";\n            if (output == \"\")\n                output = input.replaceAll(m.group(), m.group(1));\n            else\n                output = output.replaceAll(m.group(), m.group(1));\n        }\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":["java","datetime","datetime-format","data-conversion","datetimeformatter"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1639692870,"post_id":70384955,"comment_id":124421428,"body_markdown":"This makes no sense. You receive an `Instant` and return an `Instant`? Do you want to return a value that represents a different point on the timeline? Otherwise, `return incomingDate;`","body":"This makes no sense. You receive an <code>Instant</code> and return an <code>Instant</code>? Do you want to return a value that represents a different point on the timeline? Otherwise, <code>return incomingDate;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639686966,"creation_date":1639686059,"answer_id":70385160,"question_id":70384955,"body_markdown":"&gt; I have to convert from `yyyy-MM-dd&#39;T&#39;HH:mm:ss` to `MM/dd/yyyy HH:mm:ss`\r\n\r\nYour incoming date time format is ISO_LOCAL_DATE_TIME.\r\n```\r\nString datetime = &quot;2021-12-16T16:22:34&quot;;\r\nLocalDateTime source = LocalDateTime.parse(datetime,DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n\r\n// desired output format\r\nString AUTH_DATE_PATTERN = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(AUTH_DATE_PATTERN);\r\nString output = source.format(formatter);\r\nSystem.out.println(output);\r\n```\r\nprints\r\n```\r\n12/16/2021 16:22:34\r\n```\r\nIf your incoming date is `2021-10-22T06:39:13Z` that is a zoned date time and can be parsed-from/formatted-to using\r\n`DateTimeFormatter.ISO_ZONED_DATE_TIME`.","title":"Converting one date time format into another in Java","body":"<blockquote>\n<p>I have to convert from <code>yyyy-MM-dd'T'HH:mm:ss</code> to <code>MM/dd/yyyy HH:mm:ss</code></p>\n</blockquote>\n<p>Your incoming date time format is ISO_LOCAL_DATE_TIME.</p>\n<pre><code>String datetime = &quot;2021-12-16T16:22:34&quot;;\nLocalDateTime source = LocalDateTime.parse(datetime,DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n\n// desired output format\nString AUTH_DATE_PATTERN = &quot;MM/dd/yyyy HH:mm:ss&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(AUTH_DATE_PATTERN);\nString output = source.format(formatter);\nSystem.out.println(output);\n</code></pre>\n<p>prints</p>\n<pre><code>12/16/2021 16:22:34\n</code></pre>\n<p>If your incoming date is <code>2021-10-22T06:39:13Z</code> that is a zoned date time and can be parsed-from/formatted-to using\n<code>DateTimeFormatter.ISO_ZONED_DATE_TIME</code>.</p>\n"},{"tags":[],"owner":{"account_id":68206,"reputation":353,"user_id":199153,"display_name":"dev101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639687199,"creation_date":1639687199,"answer_id":70385350,"question_id":70384955,"body_markdown":"Append timezone &#39;z&#39; info at the end of the format pattern otherwise parsing throws an exception.\r\n\r\nHere&#39;s a working example.\r\n\r\n### Unit Test (Passing)\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    class DateFormatConverterTest {\r\n    \r\n        @Test\r\n        void convertDate() {\r\n            final String incomingDate = &quot;2021-10-22T06:39:13Z&quot;;\r\n            final String expectedOutgoingDate = &quot;2021/10/22T06:39:13Z&quot;;\r\n    \r\n            String actualOutgoingDate = new DateFormatConverter().convertDate(incomingDate);\r\n            assertThat(actualOutgoingDate).isEqualTo(expectedOutgoingDate);\r\n        }\r\n    \r\n    }\r\n\r\n### Implementation\r\n    \r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class DateFormatConverter {\r\n    \r\n        private static final DateTimeFormatter INCOMING_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;);\r\n        private static final DateTimeFormatter OUTGOING_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&#39;T&#39;HH:mm:ssz&quot;);\r\n    \r\n        String convertDate(String incoming) {\r\n            return OUTGOING_DATE_TIME_FORMAT.format(INCOMING_DATE_TIME_FORMAT.parse(incoming));\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Converting one date time format into another in Java","body":"<p>Append timezone 'z' info at the end of the format pattern otherwise parsing throws an exception.</p>\n<p>Here's a working example.</p>\n<h3>Unit Test (Passing)</h3>\n<pre><code>import org.junit.jupiter.api.Test;\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass DateFormatConverterTest {\n\n    @Test\n    void convertDate() {\n        final String incomingDate = &quot;2021-10-22T06:39:13Z&quot;;\n        final String expectedOutgoingDate = &quot;2021/10/22T06:39:13Z&quot;;\n\n        String actualOutgoingDate = new DateFormatConverter().convertDate(incomingDate);\n        assertThat(actualOutgoingDate).isEqualTo(expectedOutgoingDate);\n    }\n\n}\n</code></pre>\n<h3>Implementation</h3>\n<pre><code>import java.time.format.DateTimeFormatter;\n\npublic class DateFormatConverter {\n\n    private static final DateTimeFormatter INCOMING_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssz&quot;);\n    private static final DateTimeFormatter OUTGOING_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd'T'HH:mm:ssz&quot;);\n\n    String convertDate(String incoming) {\n        return OUTGOING_DATE_TIME_FORMAT.format(INCOMING_DATE_TIME_FORMAT.parse(incoming));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639696281,"creation_date":1639692326,"answer_id":70386189,"question_id":70384955,"body_markdown":"# tl;dr\r\n\r\n    Instant                           // Represents a point on the time line. \r\n    .parse( &quot;2021-10-22T06:39:13Z&quot; )  // Returns an `Instant` object. By default, parses text in standard ISO 8601 for at where `Z` means offset of zero.\r\n    .atOffset( ZoneOffset.UTC )       // Returns an `OffsetDateTime` object. \r\n    .format(\r\n        DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu HH:mm:ss&quot; )\r\n    )                                 // Returns a `String` object.\r\n\r\nSee this [code run live at IdeOne.com][1]. \r\n\r\n&gt; 10/22/2021 06:39:13\r\n\r\n\r\n\r\n\r\n# Details \r\n\r\nYou said:\r\n\r\n&gt; `incomingDate = 2021-10-22T06:39:13Z`\r\n\r\nYour formatting pattern fails to match your input string. \r\n\r\nYour input string happens to comply with the ISO 8691 format used by default in `Instant.parse`. So no need to specify a formatting pattern.\r\n\r\n    Instant instant = Instant.parse( &quot;2021-10-22T06:39:13Z&quot; ) ;\r\n\r\nThe `Z` on the end means an offset of zero hours-minutes-seconds from the prime meridian of UTC. \r\n\r\nYou asked to generate text representing that moment in the format of MM/dd/yyyy HH:mm:ss. I recommend including an indicator of the offset or time zone. But it you insist on omitting that, read on.\r\n\r\nConvert from the basic class `Instant` to the more flexible `OffsetDateTime` class. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nSpecify your formatting pattern. \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu HH:mm:ss&quot; ) ;\r\n\r\nGenerate your desired text. \r\n\r\n    String output = odt.format( f ) ;\r\n\r\n\r\nTo learn more, search Stack Overflow. These topics have already been addressed many times.\r\n\r\n\r\n  [1]: https://ideone.com/Wn9oj6","title":"Converting one date time format into another in Java","body":"<h1>tl;dr</h1>\n<pre><code>Instant                           // Represents a point on the time line. \n.parse( &quot;2021-10-22T06:39:13Z&quot; )  // Returns an `Instant` object. By default, parses text in standard ISO 8601 for at where `Z` means offset of zero.\n.atOffset( ZoneOffset.UTC )       // Returns an `OffsetDateTime` object. \n.format(\n    DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu HH:mm:ss&quot; )\n)                                 // Returns a `String` object.\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Wn9oj6\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>10/22/2021 06:39:13</p>\n</blockquote>\n<h1>Details</h1>\n<p>You said:</p>\n<blockquote>\n<p><code>incomingDate = 2021-10-22T06:39:13Z</code></p>\n</blockquote>\n<p>Your formatting pattern fails to match your input string.</p>\n<p>Your input string happens to comply with the ISO 8691 format used by default in <code>Instant.parse</code>. So no need to specify a formatting pattern.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2021-10-22T06:39:13Z&quot; ) ;\n</code></pre>\n<p>The <code>Z</code> on the end means an offset of zero hours-minutes-seconds from the prime meridian of UTC.</p>\n<p>You asked to generate text representing that moment in the format of MM/dd/yyyy HH:mm:ss. I recommend including an indicator of the offset or time zone. But it you insist on omitting that, read on.</p>\n<p>Convert from the basic class <code>Instant</code> to the more flexible <code>OffsetDateTime</code> class.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Specify your formatting pattern.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu HH:mm:ss&quot; ) ;\n</code></pre>\n<p>Generate your desired text.</p>\n<pre><code>String output = odt.format( f ) ;\n</code></pre>\n<p>To learn more, search Stack Overflow. These topics have already been addressed many times.</p>\n"}],"owner":{"account_id":9371109,"reputation":105,"user_id":8344848,"display_name":"lukederienzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70385160,"answer_count":3,"score":0,"last_activity_date":1639696281,"creation_date":1639684892,"question_id":70384955,"body_markdown":"I have a situation where I need to convert one Java date time format into another but have been having just a bear of a time doing so. Been searching for solutions a long time and have tried many things that have just not worked but I&#39;m at my wits end :(.\r\n\r\nI have to convert from\r\n**yyyy-MM-dd&#39;T&#39;HH:mm:ss**\r\nto\r\n**MM/dd/yyyy HH:mm:ss**\r\n\r\nThis is the last thing I&#39;ve tried, but alas it has no effect at all at transforming the pattern:\r\n```\r\nprivate Instant convertInstantFormat(Instant incomingDate) {\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(AUTH_DATE_PATTERN)\r\n\t\t.withZone(ZoneId.systemDefault());\r\n\treturn Instant.parse(formatter.format(incomingDate));\r\n}\r\n```\r\nWhere\r\n```\r\nAUTH_DATE_PATTERN = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n```\r\nincomingDate = 2021-10-22T06:39:13Z\r\nand outgoing date = 2021-10-22T06:39:13Z\r\n\r\nI&#39;m sure this is probably just the most naive attempt.\r\nI&#39;ve tried standardizing the date format and then reformatting, but no go.\r\n\r\nI&#39;m just sort of out of steam.\r\nAs always, any and all help from this incredible community is tremendously appreciated!\r\n\r\n\r\n******\r\nUPDATE\r\n******\r\nI just wanted to point out that the input and output to this method are of type &quot;Instant.&quot;\r\nApologies for not making this clear initially.","title":"Converting one date time format into another in Java","body":"<p>I have a situation where I need to convert one Java date time format into another but have been having just a bear of a time doing so. Been searching for solutions a long time and have tried many things that have just not worked but I'm at my wits end :(.</p>\n<p>I have to convert from\n<strong>yyyy-MM-dd'T'HH:mm:ss</strong>\nto\n<strong>MM/dd/yyyy HH:mm:ss</strong></p>\n<p>This is the last thing I've tried, but alas it has no effect at all at transforming the pattern:</p>\n<pre><code>private Instant convertInstantFormat(Instant incomingDate) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(AUTH_DATE_PATTERN)\n        .withZone(ZoneId.systemDefault());\n    return Instant.parse(formatter.format(incomingDate));\n}\n</code></pre>\n<p>Where</p>\n<pre><code>AUTH_DATE_PATTERN = &quot;MM/dd/yyyy HH:mm:ss&quot;;\n</code></pre>\n<p>incomingDate = 2021-10-22T06:39:13Z\nand outgoing date = 2021-10-22T06:39:13Z</p>\n<p>I'm sure this is probably just the most naive attempt.\nI've tried standardizing the date format and then reformatting, but no go.</p>\n<p>I'm just sort of out of steam.\nAs always, any and all help from this incredible community is tremendously appreciated!</p>\n<hr />\n<p>UPDATE</p>\n<hr />\n<p>I just wanted to point out that the input and output to this method are of type &quot;Instant.&quot;\nApologies for not making this clear initially.</p>\n"},{"tags":["java","swing","nullpointerexception","jframe"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639584438,"post_id":70365902,"comment_id":124387416,"body_markdown":"I’m pretty sure you should be using `getText()` and not getName().  getName() returns *internal* text which is never displayed in the window, and which is null by default.  that said, Agzam’s recommendation is better than using one large actionPerformed method.","body":"I’m pretty sure you should be using <code>getText()</code> and not getName().  getName() returns <i>internal</i> text which is never displayed in the window, and which is null by default.  that said, Agzam’s recommendation is better than using one large actionPerformed method."},{"owner":{"account_id":23656268,"reputation":15,"user_id":17684517,"display_name":"Afsal Baaqir A"},"score":0,"creation_date":1639586438,"post_id":70365902,"comment_id":124388193,"body_markdown":"No bro i need internal text only for shifting between frames","body":"No bro i need internal text only for shifting between frames"},{"owner":{"account_id":8015275,"reputation":18609,"user_id":6045800,"display_name":"Tomerikoo"},"score":1,"creation_date":1639660876,"post_id":70365902,"comment_id":124409118,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":20417160,"reputation":138,"user_id":17667932,"display_name":"Agzam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639596997,"creation_date":1639581139,"answer_id":70366032,"question_id":70365902,"body_markdown":"I don&#39;t really understand why such a confusing implementation of `ActionListener`, if you can use a lambda expression:\r\n\r\n```\r\n        ...\r\n\r\n        Game1.addActionListener(this);\r\n        Game2.addActionListener(this);\r\n        Credits.addActionListener(this);\r\n        Exit.addActionListener(e -&gt; {   // &lt;---- NEW HERE\r\n            System.exit(0);             // &lt;---- NEW HERE\r\n        });                             // &lt;---- NEW HERE\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        gbc.anchor = GridBagConstraints.NORTH;\r\n        Content.add(Title, gbc);\r\n        gbc.anchor = GridBagConstraints.CENTER;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        JPanel Buttons = new JPanel(new GridBagLayout());\r\n\r\n        ...\r\n```\r\n\r\n### EDIT:\r\n\r\nor you can make this:\r\n```\r\nExit.addActionListener(new ActionListener() {\r\n\t\t\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\tSystem.exit(0);\t\r\n\t}\r\n});\r\n```\r\n\r\nor:\r\nYou don&#39;t have to compare names, you can compare object references:\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\npublic class HumanBenchmarkApp implements ActionListener {\r\n\t\r\n\tJFrame appWindow, reflexFrame, visualFrame, creditsFrame;\r\n\tJLabel title;\r\n\tJButton game1, game2, credits, exit;\r\n\t\r\n\tpublic HumanBenchmarkApp() {\r\n\t\tappWindow = new JFrame(&quot;Human Benchmark&quot;);\r\n\t\tappWindow.setSize(400, 400);\r\n\t\tJPanel content = new JPanel();\r\n\t\tcontent.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n\t\tcontent.setLayout(new GridBagLayout());\r\n\t\ttry{\r\n\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t\tappWindow.setLayout(new BoxLayout(appWindow.getContentPane(),BoxLayout.Y_AXIS));\r\n\t\ttitle = new JLabel(&quot;&lt;html&gt;&lt;h1&gt;&lt;strong&gt;Human Benchmark App&lt;/strong&gt;&lt;/h1&gt;&lt;br&gt;&lt;/html&gt;&quot;);\r\n\t\tgame1 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Reflex Action Test&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n\t\tgame2 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Visual Memory Test&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n\t\tcredits = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Credits&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n\t\texit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n\t\tgame1.addActionListener(this);\r\n\t\tgame2.addActionListener(this);\r\n\t\tcredits.addActionListener(this);\r\n\t\texit.addActionListener(this);\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\tgbc.anchor = GridBagConstraints.NORTH;\r\n\t\tcontent.add(title, gbc);\r\n\t\tgbc.anchor = GridBagConstraints.CENTER;\r\n\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tJPanel Buttons = new JPanel(new GridBagLayout());\r\n\t\tButtons.add(game1, gbc);\r\n\t\tButtons.add(game2, gbc);\r\n\t\tButtons.add(credits, gbc);\r\n\t\tButtons.add(exit, gbc);\r\n\t\tgbc.weighty = 1;\r\n\t\tcontent.add(Buttons);\r\n\t\tappWindow.add(content);\r\n\t\tappWindow.setVisible(true);\r\n\t\tappWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew HumanBenchmarkApp();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tJButton clicked = (JButton)e.getSource();\r\n\t\tif (clicked == game1) {\r\n\r\n\t\t}\r\n\t\telse if(clicked == game2) {\r\n\r\n\t\t}\r\n\t\telse if(clicked == credits) {\r\n\r\n\t\t}\r\n\t\telse if(clicked == exit) {\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Need to close JFrame on clicking Exit button on JFrame","body":"<p>I don't really understand why such a confusing implementation of <code>ActionListener</code>, if you can use a lambda expression:</p>\n<pre><code>        ...\n\n        Game1.addActionListener(this);\n        Game2.addActionListener(this);\n        Credits.addActionListener(this);\n        Exit.addActionListener(e -&gt; {   // &lt;---- NEW HERE\n            System.exit(0);             // &lt;---- NEW HERE\n        });                             // &lt;---- NEW HERE\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.NORTH;\n        Content.add(Title, gbc);\n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        JPanel Buttons = new JPanel(new GridBagLayout());\n\n        ...\n</code></pre>\n<h3>EDIT:</h3>\n<p>or you can make this:</p>\n<pre><code>Exit.addActionListener(new ActionListener() {\n            \n    @Override\n    public void actionPerformed(ActionEvent arg0) {\n        System.exit(0); \n    }\n});\n</code></pre>\n<p>or:\nYou don't have to compare names, you can compare object references:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\n\npublic class HumanBenchmarkApp implements ActionListener {\n    \n    JFrame appWindow, reflexFrame, visualFrame, creditsFrame;\n    JLabel title;\n    JButton game1, game2, credits, exit;\n    \n    public HumanBenchmarkApp() {\n        appWindow = new JFrame(&quot;Human Benchmark&quot;);\n        appWindow.setSize(400, 400);\n        JPanel content = new JPanel();\n        content.setBorder(new EmptyBorder(10, 10, 10, 10));\n        content.setLayout(new GridBagLayout());\n        try{\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        }\n        catch(Exception e){\n            System.err.println(e.getMessage());\n        }\n        appWindow.setLayout(new BoxLayout(appWindow.getContentPane(),BoxLayout.Y_AXIS));\n        title = new JLabel(&quot;&lt;html&gt;&lt;h1&gt;&lt;strong&gt;Human Benchmark App&lt;/strong&gt;&lt;/h1&gt;&lt;br&gt;&lt;/html&gt;&quot;);\n        game1 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Reflex Action Test&lt;/h4&gt;&lt;/html&gt;&quot;);\n        game2 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Visual Memory Test&lt;/h4&gt;&lt;/html&gt;&quot;);\n        credits = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Credits&lt;/h4&gt;&lt;/html&gt;&quot;);\n        exit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\n        game1.addActionListener(this);\n        game2.addActionListener(this);\n        credits.addActionListener(this);\n        exit.addActionListener(this);\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.NORTH;\n        content.add(title, gbc);\n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        JPanel Buttons = new JPanel(new GridBagLayout());\n        Buttons.add(game1, gbc);\n        Buttons.add(game2, gbc);\n        Buttons.add(credits, gbc);\n        Buttons.add(exit, gbc);\n        gbc.weighty = 1;\n        content.add(Buttons);\n        appWindow.add(content);\n        appWindow.setVisible(true);\n        appWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    \n    public static void main(String[] args) {\n        new HumanBenchmarkApp();\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        JButton clicked = (JButton)e.getSource();\n        if (clicked == game1) {\n\n        }\n        else if(clicked == game2) {\n\n        }\n        else if(clicked == credits) {\n\n        }\n        else if(clicked == exit) {\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639695927,"creation_date":1639695927,"answer_id":70386627,"question_id":70365902,"body_markdown":"The problem is that your button Exit&#39;s name is not &quot;Exit&quot;.  Here&#39;s your code:   \r\n\r\n```\r\nExit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n```\r\n\r\nInstead you can compare if exit and clicked refers the same button as described by Agzam.\r\n\r\n```\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        JButton clicked = (JButton)e.getSource();\r\n        if (clicked == game1) {\r\n\r\n        }\r\n        else if(clicked == game2) {\r\n\r\n        }\r\n        else if(clicked == credits) {\r\n\r\n        }\r\n        else if(clicked == exit) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n```","title":"Need to close JFrame on clicking Exit button on JFrame","body":"<p>The problem is that your button Exit's name is not &quot;Exit&quot;.  Here's your code:</p>\n<pre><code>Exit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\n</code></pre>\n<p>Instead you can compare if exit and clicked refers the same button as described by Agzam.</p>\n<pre><code>    @Override\n    public void actionPerformed(ActionEvent e) {\n        JButton clicked = (JButton)e.getSource();\n        if (clicked == game1) {\n\n        }\n        else if(clicked == game2) {\n\n        }\n        else if(clicked == credits) {\n\n        }\n        else if(clicked == exit) {\n            System.exit(0);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23656268,"reputation":15,"user_id":17684517,"display_name":"Afsal Baaqir A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1639695927,"creation_date":1639580573,"question_id":70365902,"body_markdown":"I am creating a simple Java application and I&#39;m new to Java. kindly help me with this problem\r\n\r\nI am using java 8 and I am trying to move from one frame to another frame and i can do that but for that, I have some exceptions occurring in the code and I can&#39;t figure it out why and what is that\r\n\r\nBelow is my code and the error occurred in given below.\r\n```\r\npackage oops;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport javax.swing.border.EmptyBorder;\r\npublic class HumanBenchmarkApp implements ActionListener{\r\n    JFrame AppWindow, ReflexFrame, VisualFrame, CreditsFrame;\r\n    JLabel Title;\r\n    JButton Game1, Game2, Credits, Exit;\r\n    public HumanBenchmarkApp(){\r\n        AppWindow = new JFrame(&quot;Human Benchmark&quot;);\r\n        AppWindow.setSize(400, 400);\r\n        JPanel Content = new JPanel();\r\n        Content.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n        Content.setLayout(new GridBagLayout());\r\n        try{\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        }\r\n        catch(Exception e){\r\n            System.err.println(e.getMessage());\r\n        }\r\n        AppWindow.setLayout(new BoxLayout(AppWindow.getContentPane(),BoxLayout.Y_AXIS));\r\n        Title = new JLabel(&quot;&lt;html&gt;&lt;h1&gt;&lt;strong&gt;Human Benchmark App&lt;/strong&gt;&lt;/h1&gt;&lt;br&gt;&lt;/html&gt;&quot;);\r\n        Game1 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Reflex Action Test&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n        Game2 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Visual Memory Test&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n        Credits = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Credits&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n        Exit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\r\n        Game1.addActionListener(this);\r\n        Game2.addActionListener(this);\r\n        Credits.addActionListener(this);\r\n        Exit.addActionListener(this);\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        gbc.anchor = GridBagConstraints.NORTH;\r\n        Content.add(Title, gbc);\r\n        gbc.anchor = GridBagConstraints.CENTER;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        JPanel Buttons = new JPanel(new GridBagLayout());\r\n        Buttons.add(Game1, gbc);\r\n        Buttons.add(Game2, gbc);\r\n        Buttons.add(Credits, gbc);\r\n        Buttons.add(Exit, gbc);\r\n        gbc.weighty = 1;\r\n        Content.add(Buttons);\r\n        AppWindow.add(Content);\r\n        AppWindow.setVisible(true);\r\n        AppWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n    public static void main(String[] args){\r\n        new HumanBenchmarkApp();\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        JButton clicked = (JButton)e.getSource();\r\n        if (clicked.getName().equals(&quot;Game1&quot;)){\r\n            \r\n        }\r\n        else if(clicked.getName().equals(&quot;Game2&quot;)){\r\n            \r\n        }\r\n        else if(clicked.getName().equals(&quot;Credits&quot;)){\r\n            \r\n        }\r\n        else if(clicked.getName().equals(&quot;Exit&quot;)){\r\n            System.exit(0);\r\n        }\r\n    }\r\n}\r\n```\r\nThis is my code and when I execute it, I get the below error on the NetBeans output area.\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat oops.HumanBenchmarkApp.actionPerformed(HumanBenchmarkApp.java:56)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```\r\nError is on console and the JFrame is not even closing.\r\n","title":"Need to close JFrame on clicking Exit button on JFrame","body":"<p>I am creating a simple Java application and I'm new to Java. kindly help me with this problem</p>\n<p>I am using java 8 and I am trying to move from one frame to another frame and i can do that but for that, I have some exceptions occurring in the code and I can't figure it out why and what is that</p>\n<p>Below is my code and the error occurred in given below.</p>\n<pre><code>package oops;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\npublic class HumanBenchmarkApp implements ActionListener{\n    JFrame AppWindow, ReflexFrame, VisualFrame, CreditsFrame;\n    JLabel Title;\n    JButton Game1, Game2, Credits, Exit;\n    public HumanBenchmarkApp(){\n        AppWindow = new JFrame(&quot;Human Benchmark&quot;);\n        AppWindow.setSize(400, 400);\n        JPanel Content = new JPanel();\n        Content.setBorder(new EmptyBorder(10, 10, 10, 10));\n        Content.setLayout(new GridBagLayout());\n        try{\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        }\n        catch(Exception e){\n            System.err.println(e.getMessage());\n        }\n        AppWindow.setLayout(new BoxLayout(AppWindow.getContentPane(),BoxLayout.Y_AXIS));\n        Title = new JLabel(&quot;&lt;html&gt;&lt;h1&gt;&lt;strong&gt;Human Benchmark App&lt;/strong&gt;&lt;/h1&gt;&lt;br&gt;&lt;/html&gt;&quot;);\n        Game1 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Reflex Action Test&lt;/h4&gt;&lt;/html&gt;&quot;);\n        Game2 = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Visual Memory Test&lt;/h4&gt;&lt;/html&gt;&quot;);\n        Credits = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Credits&lt;/h4&gt;&lt;/html&gt;&quot;);\n        Exit = new JButton(&quot;&lt;html&gt;&lt;h4&gt;Exit&lt;/h4&gt;&lt;/html&gt;&quot;);\n        Game1.addActionListener(this);\n        Game2.addActionListener(this);\n        Credits.addActionListener(this);\n        Exit.addActionListener(this);\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.NORTH;\n        Content.add(Title, gbc);\n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        JPanel Buttons = new JPanel(new GridBagLayout());\n        Buttons.add(Game1, gbc);\n        Buttons.add(Game2, gbc);\n        Buttons.add(Credits, gbc);\n        Buttons.add(Exit, gbc);\n        gbc.weighty = 1;\n        Content.add(Buttons);\n        AppWindow.add(Content);\n        AppWindow.setVisible(true);\n        AppWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    public static void main(String[] args){\n        new HumanBenchmarkApp();\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        JButton clicked = (JButton)e.getSource();\n        if (clicked.getName().equals(&quot;Game1&quot;)){\n            \n        }\n        else if(clicked.getName().equals(&quot;Game2&quot;)){\n            \n        }\n        else if(clicked.getName().equals(&quot;Credits&quot;)){\n            \n        }\n        else if(clicked.getName().equals(&quot;Exit&quot;)){\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<p>This is my code and when I execute it, I get the below error on the NetBeans output area.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\n    at oops.HumanBenchmarkApp.actionPerformed(HumanBenchmarkApp.java:56)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<p>Error is on console and the JFrame is not even closing.</p>\n"},{"tags":["java","json","rest","serialization","deserialization"],"comments":[{"owner":{"account_id":3732491,"reputation":4286,"user_id":3104399,"accept_rate":70,"display_name":"Ben Wainwright"},"score":0,"creation_date":1639688203,"post_id":70385515,"comment_id":124419986,"body_markdown":"What is your intended output?","body":"What is your intended output?"},{"owner":{"account_id":307579,"reputation":1692,"user_id":618951,"accept_rate":94,"display_name":"RisingSun"},"score":4,"creation_date":1639688467,"post_id":70385515,"comment_id":124420069,"body_markdown":"put it into a map","body":"put it into a map"},{"owner":{"account_id":7073417,"reputation":51,"user_id":5414297,"display_name":"Ben Davies"},"score":0,"creation_date":1639690284,"post_id":70385515,"comment_id":124420647,"body_markdown":"Are you using any libraries like Gson or Jackson?","body":"Are you using any libraries like Gson or Jackson?"},{"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"score":0,"creation_date":1639695546,"post_id":70385515,"comment_id":124422083,"body_markdown":"im using jackson. Maybe I didnt explain it well, those dates and hour field are random. I want to put that data in an entity that have a date field and a list with hour, id and cupo","body":"im using jackson. Maybe I didnt explain it well, those dates and hour field are random. I want to put that data in an entity that have a date field and a list with hour, id and cupo"},{"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1639697077,"post_id":70385515,"comment_id":124422368,"body_markdown":"Just do it yourself. Load up the JSON, iterate across the raw result, and stuff the appropriate bits in to the appropriate places. You can likely do this far faster than beating some framework in to submission to &quot;do it for you&quot;.","body":"Just do it yourself. Load up the JSON, iterate across the raw result, and stuff the appropriate bits in to the appropriate places. You can likely do this far faster than beating some framework in to submission to &quot;do it for you&quot;."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639695629,"creation_date":1639695629,"answer_id":70386584,"question_id":70385515,"body_markdown":"You could model the JSON as follows:\r\n```java\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class YourClass {\r\n    private String text1;\r\n    private String text2;\r\n    private List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days;\r\n\r\n    public YourClass(String text1, String text2, List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days) {\r\n        this.text1 = text1;\r\n        this.text2 = text2;\r\n        this.days = days;\r\n    }\r\n\r\n    public String getText1() {\r\n        return text1;\r\n    }\r\n\r\n    public void setText1(String text1) {\r\n        this.text1 = text1;\r\n    }\r\n\r\n    public String getText2() {\r\n        return text2;\r\n    }\r\n\r\n    public void setText2(String text2) {\r\n        this.text2 = text2;\r\n    }\r\n\r\n    public List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; getDays() {\r\n        return days;\r\n    }\r\n\r\n    public void setDays(List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days) {\r\n        this.days = days;\r\n    }\r\n}\r\n```\r\n\r\nAnd then the other class to model `id` and `cupo` as follows:\r\n```java\r\npublic class YourOtherClass {\r\n    private String id;\r\n    private int cupo;\r\n\r\n    public YourOtherClass(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getCupo() {\r\n        return cupo;\r\n    }\r\n\r\n    public void setCupo(int cupo) {\r\n        this.cupo = cupo;\r\n    }\r\n}\r\n```","title":"how to deserealize JSON without field names","body":"<p>You could model the JSON as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\n\npublic class YourClass {\n    private String text1;\n    private String text2;\n    private List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days;\n\n    public YourClass(String text1, String text2, List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days) {\n        this.text1 = text1;\n        this.text2 = text2;\n        this.days = days;\n    }\n\n    public String getText1() {\n        return text1;\n    }\n\n    public void setText1(String text1) {\n        this.text1 = text1;\n    }\n\n    public String getText2() {\n        return text2;\n    }\n\n    public void setText2(String text2) {\n        this.text2 = text2;\n    }\n\n    public List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; getDays() {\n        return days;\n    }\n\n    public void setDays(List&lt;Map&lt;String, Map&lt;String, YourOtherClass&gt;&gt;&gt; days) {\n        this.days = days;\n    }\n}\n</code></pre>\n<p>And then the other class to model <code>id</code> and <code>cupo</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourOtherClass {\n    private String id;\n    private int cupo;\n\n    public YourOtherClass(String id) {\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public int getCupo() {\n        return cupo;\n    }\n\n    public void setCupo(int cupo) {\n        this.cupo = cupo;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70386584,"answer_count":1,"score":0,"last_activity_date":1639695629,"creation_date":1639688067,"question_id":70385515,"body_markdown":"I invoke a REST service that returns a JSON, I&#39;m trying to deserialize it (convert it into an entity) but the thing is that it doesn&#39;t have field names to match.\r\nThe JSON is like this one:\r\n```json\r\n{\r\n    &quot;text1&quot;: &quot;&quot;,\r\n    &quot;text2&quot;: null,\r\n    &quot;days&quot;: [\r\n        {\r\n            &quot;20211217&quot;: {\r\n                &quot;07:00&quot;: {\r\n                    &quot;id&quot;: &quot;1187067&quot;,\r\n                    &quot;cupo&quot;: 9\r\n                },\r\n                &quot;08:00&quot;: {\r\n                    &quot;id&quot;: &quot;1187068&quot;,\r\n                    &quot;cupo&quot;: 10\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;20211219&quot;: {\r\n                &quot;07:00&quot;: {\r\n                    &quot;id&quot;: &quot;1187077&quot;,\r\n                    &quot;cupo&quot;: 10\r\n                },\r\n                &quot;08:00&quot;: {\r\n                    &quot;id&quot;: &quot;1187078&quot;,\r\n                    &quot;cupo&quot;: 10\r\n                }\r\n            \r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nAs you could see it have some fields like text1, text2, days, id and cupo, the problem is how to map the date text (20211217,20211219) and hours text. How could I manipulate this data?","title":"how to deserealize JSON without field names","body":"<p>I invoke a REST service that returns a JSON, I'm trying to deserialize it (convert it into an entity) but the thing is that it doesn't have field names to match.\nThe JSON is like this one:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;text1&quot;: &quot;&quot;,\n    &quot;text2&quot;: null,\n    &quot;days&quot;: [\n        {\n            &quot;20211217&quot;: {\n                &quot;07:00&quot;: {\n                    &quot;id&quot;: &quot;1187067&quot;,\n                    &quot;cupo&quot;: 9\n                },\n                &quot;08:00&quot;: {\n                    &quot;id&quot;: &quot;1187068&quot;,\n                    &quot;cupo&quot;: 10\n                }\n            }\n        },\n        {\n            &quot;20211219&quot;: {\n                &quot;07:00&quot;: {\n                    &quot;id&quot;: &quot;1187077&quot;,\n                    &quot;cupo&quot;: 10\n                },\n                &quot;08:00&quot;: {\n                    &quot;id&quot;: &quot;1187078&quot;,\n                    &quot;cupo&quot;: 10\n                }\n            \n            }\n        }\n    ]\n}\n</code></pre>\n<p>As you could see it have some fields like text1, text2, days, id and cupo, the problem is how to map the date text (20211217,20211219) and hours text. How could I manipulate this data?</p>\n"},{"tags":["java","javafx","openjfx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1639596188,"post_id":70369081,"comment_id":124391830,"body_markdown":"Is that `}` after `backgroundColor = Color.TRANSPARENT;` supposed to be there? Either way, you have too many `}`. Can you create and post a [mre] so that we can reproduce this ourselves?","body":"Is that <code>}</code> after <code>backgroundColor = Color.TRANSPARENT;</code> supposed to be there? Either way, you have too many <code>}</code>. Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can reproduce this ourselves?"},{"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"score":0,"creation_date":1639598699,"post_id":70369081,"comment_id":124392690,"body_markdown":"@James_D No, it&#39;s not supposed to be there.  There was more code in the actual class and I tried to cut out the irrelevant parts as I was posting the question.","body":"@James_D No, it&#39;s not supposed to be there.  There was more code in the actual class and I tried to cut out the irrelevant parts as I was posting the question."},{"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"score":0,"creation_date":1639602470,"post_id":70369081,"comment_id":124393950,"body_markdown":"@James_D I have added a minimal reproduceable example.  Thanks for your interest.","body":"@James_D I have added a minimal reproduceable example.  Thanks for your interest."},{"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"score":0,"creation_date":1639602815,"post_id":70369081,"comment_id":124394062,"body_markdown":"@James_D The problem only exists with a custom `TreeTableCell` class.","body":"@James_D The problem only exists with a custom <code>TreeTableCell</code> class."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1639612492,"post_id":70369081,"comment_id":124396569,"body_markdown":"Would it be correct to infer that `name` and `description` must have distinct colors?","body":"Would it be correct to infer that <code>name</code> and <code>description</code> must have distinct colors?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639694887,"creation_date":1639614915,"answer_id":70371971,"question_id":70369081,"body_markdown":"I&#39;m not sure how this worked with Java 8, but the API for [`updateItem()`][1] seems to require invoking `setText()` for non-empty cells, even if the text is not visible. As @VGR [suggests][2], use a zero-width space:\r\n\r\n    setText(&quot;\\u2060&quot;);\r\n\r\nAlternatively, display the `description` as usual and set the `name` as a graphic, as shown below.\r\n\r\nAs @kleopatra [verifies][3], this is a bug, fixed in [fx18][4]. See also [*JDK-8278904—Cell: misleading doc of updateItem*][5].\r\n\r\n[![image][6]][6]\r\n\r\nAs tested:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.beans.property.ReadOnlyObjectWrapper;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TreeItem;\r\nimport javafx.scene.control.TreeTableCell;\r\nimport javafx.scene.control.TreeTableColumn;\r\nimport javafx.scene.control.TreeTableView;\r\nimport javafx.scene.control.TreeTableColumn.CellDataFeatures;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\n/** https://stackoverflow.com/q/70369081/230513 */\r\npublic class TreeTableApp extends javafx.application.Application {\r\n\r\n    // Class for holding tree table data\r\n    public static class MyTreeItem {\r\n\r\n        public String name;\r\n        public String description;\r\n        public final List&lt;MyTreeItem&gt; children = new ArrayList&lt;&gt;();\r\n\r\n        public MyTreeItem(final String name, final String description, final MyTreeItem parent) {\r\n            this.name = name;\r\n            this.description = description;\r\n            if (parent != null) {\r\n                parent.children.add(this);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return this.name + &quot;—&quot; + this.description;\r\n        }\r\n    }\r\n\r\n    // Class for cell factory (to create TreeTableCell objects for TreeTableView)\r\n    private static class MyTreeCell extends TreeTableCell&lt;MyTreeItem, MyTreeItem&gt; {\r\n\r\n        private final Label nameLabel = new Label();\r\n\r\n        @Override\r\n        protected void updateItem(MyTreeItem item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty || item == null) {\r\n                setText(null);\r\n                setGraphic(null);\r\n            } else {\r\n                nameLabel.setText(item.name);\r\n                nameLabel.setTextFill(Color.DARKGOLDENROD);\r\n                setGraphicTextGap(8);\r\n                setGraphic(nameLabel);\r\n                setText(item.description);\r\n                setTextFill(Color.BLACK);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        // Make a tree table view\r\n        final TreeTableView&lt;MyTreeItem&gt; treeTableView = new TreeTableView&lt;&gt;();\r\n        // Set data for tree table\r\n        final MyTreeItem root = new MyTreeItem(&quot;Root Node&quot;, &quot;This is the root node&quot;, null);\r\n        final TreeItem&lt;MyTreeItem&gt; rootTreeItem = new TreeItem&lt;&gt;(root);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            final MyTreeItem nodeI = new MyTreeItem(&quot;Node &quot; + i, &quot;This is node &quot; + i, root);\r\n            final TreeItem&lt;MyTreeItem&gt; treeItemI = new TreeItem&lt;&gt;(nodeI);\r\n            rootTreeItem.getChildren().add(treeItemI);\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                final MyTreeItem nodeJ = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j, &quot;This is node &quot; + i + &quot;.&quot; + j, nodeI);\r\n                final TreeItem&lt;MyTreeItem&gt; treeItemJ = new TreeItem&lt;&gt;(nodeJ);\r\n                treeItemI.getChildren().add(treeItemJ);\r\n                for (int k = 0; k &lt; 10; k++) {\r\n                    final MyTreeItem nodeK = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, &quot;This is node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, nodeJ);\r\n                    final TreeItem&lt;MyTreeItem&gt; treeItemK = new TreeItem&lt;&gt;(nodeK);\r\n                    treeItemJ.getChildren().add(treeItemK);\r\n                }\r\n            }\r\n        }\r\n        rootTreeItem.setExpanded(true);\r\n        // Create a column\r\n        final TreeTableColumn&lt;MyTreeItem, MyTreeItem&gt; ttc = new TreeTableColumn&lt;&gt;();\r\n        ttc.setCellValueFactory((CellDataFeatures&lt;MyTreeItem, MyTreeItem&gt; p) -&gt; {\r\n            final TreeItem&lt;MyTreeItem&gt; treeItem = p.getValue();\r\n            return new ReadOnlyObjectWrapper&lt;&gt;(treeItem == null ? null : treeItem.getValue());\r\n        });\r\n        ttc.setCellFactory(param -&gt; new MyTreeCell());\r\n        ttc.setPrefWidth(320);\r\n        treeTableView.getColumns().add(ttc);\r\n        treeTableView.setRoot(rootTreeItem);\r\n        StackPane mainPane = new StackPane(treeTableView);\r\n        Scene scene = new Scene(new StackPane(mainPane), 320, 240);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\r\n  [2]: https://stackoverflow.com/questions/70369081/openjfx-16-custom-treetablecell-not-indenting-properly/70371971?noredirect=1#comment124399850_70371971\r\n  [3]: https://stackoverflow.com/questions/70369081/openjfx-16-custom-treetablecell-not-indenting-properly/70371971?noredirect=1#comment124408100_70371971\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-8231644\r\n  [5]: https://bugs.openjdk.java.net/browse/JDK-8278904\r\n  [6]: https://i.stack.imgur.com/1fAPz.png","title":"OpenJFX 16 custom TreeTableCell not indenting properly","body":"<p>I'm not sure how this worked with Java 8, but the API for <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\" rel=\"nofollow noreferrer\"><code>updateItem()</code></a> seems to require invoking <code>setText()</code> for non-empty cells, even if the text is not visible. As @VGR <a href=\"https://stackoverflow.com/questions/70369081/openjfx-16-custom-treetablecell-not-indenting-properly/70371971?noredirect=1#comment124399850_70371971\">suggests</a>, use a zero-width space:</p>\n<pre><code>setText(&quot;\\u2060&quot;);\n</code></pre>\n<p>Alternatively, display the <code>description</code> as usual and set the <code>name</code> as a graphic, as shown below.</p>\n<p>As @kleopatra <a href=\"https://stackoverflow.com/questions/70369081/openjfx-16-custom-treetablecell-not-indenting-properly/70371971?noredirect=1#comment124408100_70371971\">verifies</a>, this is a bug, fixed in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8231644\" rel=\"nofollow noreferrer\">fx18</a>. See also <a href=\"https://bugs.openjdk.java.net/browse/JDK-8278904\" rel=\"nofollow noreferrer\"><em>JDK-8278904—Cell: misleading doc of updateItem</em></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/1fAPz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1fAPz.png\" alt=\"image\" /></a></p>\n<p>As tested:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.beans.property.ReadOnlyObjectWrapper;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeTableCell;\nimport javafx.scene.control.TreeTableColumn;\nimport javafx.scene.control.TreeTableView;\nimport javafx.scene.control.TreeTableColumn.CellDataFeatures;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\n/** https://stackoverflow.com/q/70369081/230513 */\npublic class TreeTableApp extends javafx.application.Application {\n\n    // Class for holding tree table data\n    public static class MyTreeItem {\n\n        public String name;\n        public String description;\n        public final List&lt;MyTreeItem&gt; children = new ArrayList&lt;&gt;();\n\n        public MyTreeItem(final String name, final String description, final MyTreeItem parent) {\n            this.name = name;\n            this.description = description;\n            if (parent != null) {\n                parent.children.add(this);\n            }\n        }\n\n        @Override\n        public String toString() {\n            return this.name + &quot;—&quot; + this.description;\n        }\n    }\n\n    // Class for cell factory (to create TreeTableCell objects for TreeTableView)\n    private static class MyTreeCell extends TreeTableCell&lt;MyTreeItem, MyTreeItem&gt; {\n\n        private final Label nameLabel = new Label();\n\n        @Override\n        protected void updateItem(MyTreeItem item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                setText(null);\n                setGraphic(null);\n            } else {\n                nameLabel.setText(item.name);\n                nameLabel.setTextFill(Color.DARKGOLDENROD);\n                setGraphicTextGap(8);\n                setGraphic(nameLabel);\n                setText(item.description);\n                setTextFill(Color.BLACK);\n            }\n        }\n    }\n\n    @Override\n    public void start(Stage stage) {\n        // Make a tree table view\n        final TreeTableView&lt;MyTreeItem&gt; treeTableView = new TreeTableView&lt;&gt;();\n        // Set data for tree table\n        final MyTreeItem root = new MyTreeItem(&quot;Root Node&quot;, &quot;This is the root node&quot;, null);\n        final TreeItem&lt;MyTreeItem&gt; rootTreeItem = new TreeItem&lt;&gt;(root);\n        for (int i = 0; i &lt; 5; i++) {\n            final MyTreeItem nodeI = new MyTreeItem(&quot;Node &quot; + i, &quot;This is node &quot; + i, root);\n            final TreeItem&lt;MyTreeItem&gt; treeItemI = new TreeItem&lt;&gt;(nodeI);\n            rootTreeItem.getChildren().add(treeItemI);\n            for (int j = 0; j &lt; 3; j++) {\n                final MyTreeItem nodeJ = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j, &quot;This is node &quot; + i + &quot;.&quot; + j, nodeI);\n                final TreeItem&lt;MyTreeItem&gt; treeItemJ = new TreeItem&lt;&gt;(nodeJ);\n                treeItemI.getChildren().add(treeItemJ);\n                for (int k = 0; k &lt; 10; k++) {\n                    final MyTreeItem nodeK = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, &quot;This is node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, nodeJ);\n                    final TreeItem&lt;MyTreeItem&gt; treeItemK = new TreeItem&lt;&gt;(nodeK);\n                    treeItemJ.getChildren().add(treeItemK);\n                }\n            }\n        }\n        rootTreeItem.setExpanded(true);\n        // Create a column\n        final TreeTableColumn&lt;MyTreeItem, MyTreeItem&gt; ttc = new TreeTableColumn&lt;&gt;();\n        ttc.setCellValueFactory((CellDataFeatures&lt;MyTreeItem, MyTreeItem&gt; p) -&gt; {\n            final TreeItem&lt;MyTreeItem&gt; treeItem = p.getValue();\n            return new ReadOnlyObjectWrapper&lt;&gt;(treeItem == null ? null : treeItem.getValue());\n        });\n        ttc.setCellFactory(param -&gt; new MyTreeCell());\n        ttc.setPrefWidth(320);\n        treeTableView.getColumns().add(ttc);\n        treeTableView.setRoot(rootTreeItem);\n        StackPane mainPane = new StackPane(treeTableView);\n        Scene scene = new Scene(new StackPane(mainPane), 320, 240);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70371971,"answer_count":1,"score":1,"last_activity_date":1639694887,"creation_date":1639595148,"question_id":70369081,"body_markdown":"### UPDATE - Added minimal reproduceable example at end \r\n\r\nI am working to migrate a JavaFX 8 application to OpenJFX / JDK 16.\r\n\r\nEverything works pretty well, except the application has a TreeTableView control with custom cell factory.  The cells are all being laid out left-aligned to the TreeTableView bounds.  My expectation is that each would be laid out with the proper indentation for its level in the tree.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code for the custom TreeTableCell that the cell factory calls.\r\n\r\n    package com.mycorp.myapp.features.saleshierarchy;\r\n    \r\n    import com.mycorp.myapp.domain.SalesEntity;\r\n    \r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.control.ContentDisplay;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TreeTableCell;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.BackgroundFill;\r\n    import javafx.scene.layout.CornerRadii;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.FontPosture;\r\n    import javafx.scene.text.TextAlignment;\r\n    \r\n    public class SalesTreeCell extends TreeTableCell&lt;SalesEntity, SalesEntity&gt; {\r\n    \tprivate Label codeLabel = new Label();\r\n    \tprivate Label descriptionLabel = new Label();\r\n    \tprivate HBox group = new HBox(codeLabel, descriptionLabel);\r\n    \t\r\n    \tpublic SalesTreeCell() {\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void updateItem(SalesEntity item, boolean empty) {\r\n    \t\tsuper.updateItem(item, empty);\r\n    \t\tif ( empty || item == null ) {\r\n    \t\t\tsetGraphic(null);\r\n    \t\t} else {\r\n    \t\t\tfinal Color textColor;\r\n    \t\t\tfinal Color backgroundColor;\r\n  \t\t\t\ttextColor = Color.DARKGOLDENROD; \r\n   \t\t\t\tbackgroundColor = Color.TRANSPARENT;\r\n    \t\t\t\r\n    \t\t\tcodeLabel.setText(item.getDisplayName());\r\n    \t\t\tcodeLabel.setFont(Font.font(&quot;Arial&quot;, 12));\r\n    \t\t\tcodeLabel.setTextFill(textColor); \r\n    \t\t\tcodeLabel.setBackground(new Background(new BackgroundFill(backgroundColor, CornerRadii.EMPTY, Insets.EMPTY)));\r\n    \t\t\tdescriptionLabel.setText(item.getDisplayDescription());\r\n    \t\t\tdescriptionLabel.setFont(Font.font(&quot;Arial&quot;, FontPosture.ITALIC, 10));\r\n    \t\t\tdescriptionLabel.setTextFill(canControlNode ? Color.DARKSLATEGRAY : Color.GRAY); \r\n    \t\t\tgroup.setSpacing(10);\r\n    \t\t\t\r\n    \t\t\tsetGraphic(group);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHow can I make OpenJFX 16 align my custom TreeTableCell correctly?  I tried various alignments and tried reviewing the Javadocs but nothing has worked so far.  I am thinking maybe there is something I could do with a CSS style?\r\n\r\nJDK is Amazon Corretto 16, if it matters.  (Note: version 16 is forced on us for external reasons).\r\n\r\n\r\n### Minimal reproduceable example:\r\n\r\n    package com.subaru.SAM.sandbox;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javafx.beans.property.ReadOnlyObjectWrapper;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeTableCell;\r\n    import javafx.scene.control.TreeTableColumn;\r\n    import javafx.scene.control.TreeTableView;\r\n    import javafx.scene.control.TreeTableColumn.CellDataFeatures;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.BackgroundFill;\r\n    import javafx.scene.layout.CornerRadii;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.FontPosture;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TestApp extends javafx.application.Application  {\r\n    \t\r\n    \t// Class for holding tree table data\r\n    \tpublic static class MyTreeItem {\r\n     \t\tpublic String name;\r\n    \t\tpublic String description;\r\n    \t\tpublic final List&lt;TestApp.MyTreeItem&gt; children = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tpublic MyTreeItem( final String name, final String description, final MyTreeItem parent ) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.description = description;\r\n    \t\t\tif ( parent != null ) {\r\n    \t\t\t\tparent.children.add(this);  // Bad form to allow this to escape constructor, but this is quick and dirty and we&#39;re single threaded anyway.\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn this.name + &quot; ... &quot; + this.description;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// Class for cell factory (to create TreeTableCell objects for TreeTableView)\r\n    \tpublic static class MyTreeCell extends TreeTableCell&lt;TestApp.MyTreeItem, TestApp.MyTreeItem&gt; {\r\n    \t\tprivate Label nameLabel = new Label();\r\n    \t\tprivate Label descriptionLabel = new Label();\r\n    \t\tprivate HBox group = new HBox(nameLabel, descriptionLabel);\r\n    \t\t\r\n    \t\tpublic MyTreeCell() {\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void updateItem(MyTreeItem item, boolean empty) {\r\n    \t\t\tsuper.updateItem(item, empty);\r\n    \t\t\tif ( empty || item == null ) {\r\n    \t\t\t\tsetGraphic(null);\r\n    \t\t\t} else {\r\n    \t\t\t\tfinal Color textColor;\r\n    \t\t\t\tfinal Color backgroundColor;\r\n    \t\t\t\ttextColor = Color.DARKGOLDENROD;  \r\n    \t\t\t\tbackgroundColor = Color.TRANSPARENT;\r\n    \t\t\t\t\r\n    \t\t\t\tnameLabel.setText(item.name);\r\n    \t\t\t\tnameLabel.setFont(Font.font(&quot;Arial&quot;, 12));   // FIXME Make this a preference\r\n    \t\t\t\tnameLabel.setTextFill(textColor); \r\n    \t\t\t\tnameLabel.setBackground(new Background(new BackgroundFill(backgroundColor, CornerRadii.EMPTY, Insets.EMPTY)));\r\n    \t\t\t\tdescriptionLabel.setText(item.description);\r\n    \t\t\t\tdescriptionLabel.setFont(Font.font(&quot;Arial&quot;, FontPosture.ITALIC, 10));\r\n    \t\t\t\tgroup.setSpacing(10);\r\n    \t\t\t\tsetGraphic(group);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n        \t\r\n        \t// Make a tree table view\r\n            final TreeTableView&lt;MyTreeItem&gt; treeTableView = new TreeTableView&lt;&gt;();\r\n        \t\r\n        \t// Set data for tree table\r\n        \tfinal MyTreeItem root = new MyTreeItem(&quot;Root Node&quot;,&quot;This is the root node&quot;, null);\r\n    \t\tfinal TreeItem&lt;MyTreeItem&gt; rootTreeItem = new TreeItem&lt;&gt;(root);\r\n    \r\n        \tfor ( int i = 0; i &lt; 5; i++) {\r\n        \t\tfinal MyTreeItem nodeI = new MyTreeItem(&quot;Node &quot; + i,&quot;This is node &quot; + i, root);\r\n        \t\tfinal TreeItem&lt;MyTreeItem&gt; treeItemI = new TreeItem&lt;&gt;(nodeI); \r\n        \t\trootTreeItem.getChildren().add(treeItemI);\r\n        \t\tfor ( int j = 0; j &lt; 3; j++ ) {\r\n            \t\tfinal MyTreeItem nodeJ = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j,&quot;This is node &quot; + i + &quot;.&quot; + j, nodeI);\r\n            \t\tfinal TreeItem&lt;MyTreeItem&gt; treeItemJ = new TreeItem&lt;&gt;(nodeJ);\r\n            \t\ttreeItemI.getChildren().add(treeItemJ);\r\n            \t\tfor ( int k = 0; k &lt; 10; k++ ) {\r\n                \t\tfinal MyTreeItem nodeK = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k,&quot;This is node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, nodeJ);\r\n                \t\tfinal TreeItem&lt;MyTreeItem&gt; treeItemK = new TreeItem&lt;&gt;(nodeK); \r\n                \t\ttreeItemJ.getChildren().add(treeItemK);\r\n            \t\t}\r\n        \t\t}\r\n        \t}\r\n        \t\r\n    \t\trootTreeItem.setExpanded(true);\r\n        \t\r\n    \t\t// Create a column\r\n    \t\tfinal TreeTableColumn&lt;MyTreeItem, MyTreeItem&gt; ttc = new TreeTableColumn&lt;&gt;();\r\n    //\t\tttc.setMinWidth(600);\r\n    \t\tttc.setCellValueFactory((CellDataFeatures&lt;MyTreeItem, MyTreeItem&gt; p) -&gt; {\r\n    \t\t\tfinal TreeItem&lt;MyTreeItem&gt; treeItem = p.getValue();\r\n    \t\t\treturn new ReadOnlyObjectWrapper&lt;MyTreeItem&gt;(treeItem == null ? null : treeItem.getValue());\r\n    \t\t});\r\n    \t\tttc.setCellFactory(param -&gt; new MyTreeCell());\r\n    \r\n    \t\t\r\n    \t\ttreeTableView.getColumns().add(ttc);\r\n    \t\ttreeTableView.setRoot(rootTreeItem);\r\n        \t\r\n            \r\n            StackPane mainPane = new StackPane(treeTableView);\r\n            \r\n            Scene scene = new Scene(new StackPane(mainPane), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nResults:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf I comment out this line:\r\n\r\n\tttc.setCellFactory(param -&gt; new MyTreeCell());\r\n\r\n... the problem does not occur.  It seems limited to using a custom TreeTableCell class.\r\n\r\n  [1]: https://i.stack.imgur.com/jaZDr.png\r\n  [2]: https://i.stack.imgur.com/CsVuQ.png\r\n","title":"OpenJFX 16 custom TreeTableCell not indenting properly","body":"<h3>UPDATE - Added minimal reproduceable example at end</h3>\n<p>I am working to migrate a JavaFX 8 application to OpenJFX / JDK 16.</p>\n<p>Everything works pretty well, except the application has a TreeTableView control with custom cell factory.  The cells are all being laid out left-aligned to the TreeTableView bounds.  My expectation is that each would be laid out with the proper indentation for its level in the tree.</p>\n<p><a href=\"https://i.stack.imgur.com/jaZDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaZDr.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for the custom TreeTableCell that the cell factory calls.</p>\n<pre><code>package com.mycorp.myapp.features.saleshierarchy;\n\nimport com.mycorp.myapp.domain.SalesEntity;\n\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.ContentDisplay;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeTableCell;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.FontPosture;\nimport javafx.scene.text.TextAlignment;\n\npublic class SalesTreeCell extends TreeTableCell&lt;SalesEntity, SalesEntity&gt; {\n    private Label codeLabel = new Label();\n    private Label descriptionLabel = new Label();\n    private HBox group = new HBox(codeLabel, descriptionLabel);\n    \n    public SalesTreeCell() {\n    }\n    \n    @Override\n    protected void updateItem(SalesEntity item, boolean empty) {\n        super.updateItem(item, empty);\n        if ( empty || item == null ) {\n            setGraphic(null);\n        } else {\n            final Color textColor;\n            final Color backgroundColor;\n            textColor = Color.DARKGOLDENROD; \n            backgroundColor = Color.TRANSPARENT;\n            \n            codeLabel.setText(item.getDisplayName());\n            codeLabel.setFont(Font.font(&quot;Arial&quot;, 12));\n            codeLabel.setTextFill(textColor); \n            codeLabel.setBackground(new Background(new BackgroundFill(backgroundColor, CornerRadii.EMPTY, Insets.EMPTY)));\n            descriptionLabel.setText(item.getDisplayDescription());\n            descriptionLabel.setFont(Font.font(&quot;Arial&quot;, FontPosture.ITALIC, 10));\n            descriptionLabel.setTextFill(canControlNode ? Color.DARKSLATEGRAY : Color.GRAY); \n            group.setSpacing(10);\n            \n            setGraphic(group);\n        }\n    }\n}\n</code></pre>\n<p>How can I make OpenJFX 16 align my custom TreeTableCell correctly?  I tried various alignments and tried reviewing the Javadocs but nothing has worked so far.  I am thinking maybe there is something I could do with a CSS style?</p>\n<p>JDK is Amazon Corretto 16, if it matters.  (Note: version 16 is forced on us for external reasons).</p>\n<h3>Minimal reproduceable example:</h3>\n<pre><code>package com.subaru.SAM.sandbox;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javafx.beans.property.ReadOnlyObjectWrapper;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeTableCell;\nimport javafx.scene.control.TreeTableColumn;\nimport javafx.scene.control.TreeTableView;\nimport javafx.scene.control.TreeTableColumn.CellDataFeatures;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.FontPosture;\nimport javafx.stage.Stage;\n\npublic class TestApp extends javafx.application.Application  {\n    \n    // Class for holding tree table data\n    public static class MyTreeItem {\n        public String name;\n        public String description;\n        public final List&lt;TestApp.MyTreeItem&gt; children = new ArrayList&lt;&gt;();\n        \n        public MyTreeItem( final String name, final String description, final MyTreeItem parent ) {\n            this.name = name;\n            this.description = description;\n            if ( parent != null ) {\n                parent.children.add(this);  // Bad form to allow this to escape constructor, but this is quick and dirty and we're single threaded anyway.\n            }\n        }\n        \n        @Override\n        public String toString() {\n            return this.name + &quot; ... &quot; + this.description;\n        }\n    }\n    \n    // Class for cell factory (to create TreeTableCell objects for TreeTableView)\n    public static class MyTreeCell extends TreeTableCell&lt;TestApp.MyTreeItem, TestApp.MyTreeItem&gt; {\n        private Label nameLabel = new Label();\n        private Label descriptionLabel = new Label();\n        private HBox group = new HBox(nameLabel, descriptionLabel);\n        \n        public MyTreeCell() {\n        }\n        \n        @Override\n        protected void updateItem(MyTreeItem item, boolean empty) {\n            super.updateItem(item, empty);\n            if ( empty || item == null ) {\n                setGraphic(null);\n            } else {\n                final Color textColor;\n                final Color backgroundColor;\n                textColor = Color.DARKGOLDENROD;  \n                backgroundColor = Color.TRANSPARENT;\n                \n                nameLabel.setText(item.name);\n                nameLabel.setFont(Font.font(&quot;Arial&quot;, 12));   // FIXME Make this a preference\n                nameLabel.setTextFill(textColor); \n                nameLabel.setBackground(new Background(new BackgroundFill(backgroundColor, CornerRadii.EMPTY, Insets.EMPTY)));\n                descriptionLabel.setText(item.description);\n                descriptionLabel.setFont(Font.font(&quot;Arial&quot;, FontPosture.ITALIC, 10));\n                group.setSpacing(10);\n                setGraphic(group);\n            }\n        }\n    }\n\n\n    @Override\n    public void start(Stage stage) {\n        \n        // Make a tree table view\n        final TreeTableView&lt;MyTreeItem&gt; treeTableView = new TreeTableView&lt;&gt;();\n        \n        // Set data for tree table\n        final MyTreeItem root = new MyTreeItem(&quot;Root Node&quot;,&quot;This is the root node&quot;, null);\n        final TreeItem&lt;MyTreeItem&gt; rootTreeItem = new TreeItem&lt;&gt;(root);\n\n        for ( int i = 0; i &lt; 5; i++) {\n            final MyTreeItem nodeI = new MyTreeItem(&quot;Node &quot; + i,&quot;This is node &quot; + i, root);\n            final TreeItem&lt;MyTreeItem&gt; treeItemI = new TreeItem&lt;&gt;(nodeI); \n            rootTreeItem.getChildren().add(treeItemI);\n            for ( int j = 0; j &lt; 3; j++ ) {\n                final MyTreeItem nodeJ = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j,&quot;This is node &quot; + i + &quot;.&quot; + j, nodeI);\n                final TreeItem&lt;MyTreeItem&gt; treeItemJ = new TreeItem&lt;&gt;(nodeJ);\n                treeItemI.getChildren().add(treeItemJ);\n                for ( int k = 0; k &lt; 10; k++ ) {\n                    final MyTreeItem nodeK = new MyTreeItem(&quot;Node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k,&quot;This is node &quot; + i + &quot;.&quot; + j + &quot;.&quot; + k, nodeJ);\n                    final TreeItem&lt;MyTreeItem&gt; treeItemK = new TreeItem&lt;&gt;(nodeK); \n                    treeItemJ.getChildren().add(treeItemK);\n                }\n            }\n        }\n        \n        rootTreeItem.setExpanded(true);\n        \n        // Create a column\n        final TreeTableColumn&lt;MyTreeItem, MyTreeItem&gt; ttc = new TreeTableColumn&lt;&gt;();\n//      ttc.setMinWidth(600);\n        ttc.setCellValueFactory((CellDataFeatures&lt;MyTreeItem, MyTreeItem&gt; p) -&gt; {\n            final TreeItem&lt;MyTreeItem&gt; treeItem = p.getValue();\n            return new ReadOnlyObjectWrapper&lt;MyTreeItem&gt;(treeItem == null ? null : treeItem.getValue());\n        });\n        ttc.setCellFactory(param -&gt; new MyTreeCell());\n\n        \n        treeTableView.getColumns().add(ttc);\n        treeTableView.setRoot(rootTreeItem);\n        \n        \n        StackPane mainPane = new StackPane(treeTableView);\n        \n        Scene scene = new Scene(new StackPane(mainPane), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n    \n}\n</code></pre>\n<p>Results:</p>\n<p><a href=\"https://i.stack.imgur.com/CsVuQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CsVuQ.png\" alt=\"enter image description here\" /></a></p>\n<p>If I comment out this line:</p>\n<pre><code>ttc.setCellFactory(param -&gt; new MyTreeCell());\n</code></pre>\n<p>... the problem does not occur.  It seems limited to using a custom TreeTableCell class.</p>\n"},{"tags":["java","arrays","postgresql","hibernate"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":1,"creation_date":1412672089,"post_id":21940642,"comment_id":41144183,"body_markdown":"possible duplicate of [mapping a postgres array with hibernate](http://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate\">mapping a postgres array with hibernate</a>"}],"answers":[{"tags":[],"owner":{"account_id":2611171,"reputation":1028,"user_id":2261243,"display_name":"Damien C"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1517494312,"creation_date":1393236358,"answer_id":21984484,"question_id":21940642,"body_markdown":"I tried few versions based on Array Type introduced by JDBC4 : https://stackoverflow.com/questions/12042181/how-can-i-set-a-string-parameter-to-a-native-query. Problem is also Hibernate (even in last version 4.3.1.final) does not work with this new features and gave me following error message\r\n \r\n    Could not determine a type for class: org.postgresql.jdbc4.Jdbc4Array\r\n\r\nSo I had to make a Specific UserType (based on several articles in stackoverflow, and others sources)\r\n\r\nMy Model \r\n\r\n    @Type(type = &quot;fr.mycompany.dao.hibernate.types.ArrayUserType&quot;)\r\n    private String[] values;\r\n\r\nMy `ArrayUserType`\r\n\r\n    public class ArrayUserType implements UserType {\r\n\t\r\n\t/** Constante contenant le type SQL &quot;Array&quot;.\r\n\t */\r\n\tprotected static final int[] SQL_TYPES = { Types.ARRAY };\r\n\t\r\n\t/**\r\n\t * Return the SQL type codes for the columns mapped by this type. The\r\n\t * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\r\n\t * \r\n\t * @return int[] the typecodes\r\n\t * @see java.sql.Types\r\n\t */\r\n\tpublic final int[] sqlTypes() {\r\n\t\treturn SQL_TYPES;\r\n\t}\r\n\t\r\n\t/**\r\n\t * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\r\n\t * \r\n\t * @return Class\r\n\t */\r\n\tpublic final Class returnedClass() {\r\n\t\treturn String[].class;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\r\n\t * should handle possibility of null values.\r\n\t * \r\n\t * @param resultSet a JDBC result set.\r\n\t * @param names the column names.\r\n\t * @param session SQL en cours.\r\n\t * @param owner the containing entity \r\n\t * @return Object\r\n\t * @throws org.hibernate.HibernateException exception lev&#233;e par Hibernate\r\n\t * lors de la r&#233;cup&#233;ration des donn&#233;es.\r\n\t * @throws java.sql.SQLException exception SQL \r\n\t * lev&#233;es lors de la r&#233;cup&#233;ration des donn&#233;es.\r\n\t */\r\n\t@Override\r\n\tpublic final Object nullSafeGet(\r\n\t\t\tfinal ResultSet resultSet, \r\n\t\t\tfinal String[] names, \r\n\t\t\tfinal SessionImplementor session, \r\n\t\t\tfinal Object owner) throws HibernateException, SQLException {\r\n\t\tif (resultSet.wasNull()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tString[] array = (String[]) resultSet.getArray(names[0]).getArray();\r\n\t\treturn array;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Write an instance of the mapped class to a prepared statement. Implementors\r\n\t * should handle possibility of null values. A multi-column type should be written\r\n\t * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\r\n\t * \r\n\t * @param statement a JDBC prepared statement.\r\n\t * @param value the object to write\r\n\t * @param index statement parameter index\r\n\t * @param session sql en cours\r\n\t * @throws org.hibernate.HibernateException exception lev&#233;e par Hibernate\r\n\t * lors de la r&#233;cup&#233;ration des donn&#233;es.\r\n\t * @throws java.sql.SQLException exception SQL \r\n\t * lev&#233;es lors de la r&#233;cup&#233;ration des donn&#233;es.\r\n\t */\r\n\t@Override\r\n\tpublic final void nullSafeSet(final PreparedStatement statement, final Object value, \r\n\t\t\tfinal int index, final SessionImplementor session) throws HibernateException, SQLException {\r\n\t\t\r\n\t\tif (value == null) {\r\n\t\t\tstatement.setNull(index, SQL_TYPES[0]);\r\n\t\t} else {\r\n\t\t\tString[] castObject = (String[]) value;\r\n\t\t    Array array = session.connection().createArrayOf(&quot;text&quot;, castObject);\r\n\t\t\tstatement.setArray(index, array);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final Object deepCopy(final Object value) throws HibernateException {\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final boolean isMutable() {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final Object assemble(final Serializable arg0, final Object arg1)\r\n\t\t\tthrows HibernateException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final Serializable disassemble(final Object arg0) throws HibernateException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final boolean equals(final Object x, final Object y) throws HibernateException {\r\n\t\tif (x == y) {\r\n\t\t\treturn true;\r\n\t\t} else if (x == null || y == null) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn x.equals(y);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final int hashCode(final Object x) throws HibernateException {\r\n\t\treturn x.hashCode();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic final Object replace(\r\n\t\tfinal Object original,\r\n\t\tfinal Object target,\r\n\t\tfinal Object owner) throws HibernateException {\r\n\t\treturn original;\r\n\t}\r\n\r\n}\r\n\r\n\r\nAnd the last, but least (that&#39;s what I missed) : when I need to run SQL Native Query, I have to force the parameter type with the following syntax\r\n\r\n    String[] values = ...\r\n    Type arrayType = new CustomType(new ArrayUserType());\r\n    query.setParameter(&quot;value&quot;, values, arrayType);\r\n\r\n","title":"Hibernate, Postgres &amp; Array Type","body":"<p>I tried few versions based on Array Type introduced by JDBC4 : <a href=\"https://stackoverflow.com/questions/12042181/how-can-i-set-a-string-parameter-to-a-native-query\">How can I set a String[] parameter to a native query?</a>. Problem is also Hibernate (even in last version 4.3.1.final) does not work with this new features and gave me following error message</p>\n\n<pre><code>Could not determine a type for class: org.postgresql.jdbc4.Jdbc4Array\n</code></pre>\n\n<p>So I had to make a Specific UserType (based on several articles in stackoverflow, and others sources)</p>\n\n<p>My Model </p>\n\n<pre><code>@Type(type = \"fr.mycompany.dao.hibernate.types.ArrayUserType\")\nprivate String[] values;\n</code></pre>\n\n<p>My <code>ArrayUserType</code></p>\n\n<pre><code>public class ArrayUserType implements UserType {\n\n/** Constante contenant le type SQL \"Array\".\n */\nprotected static final int[] SQL_TYPES = { Types.ARRAY };\n\n/**\n * Return the SQL type codes for the columns mapped by this type. The\n * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\n * \n * @return int[] the typecodes\n * @see java.sql.Types\n */\npublic final int[] sqlTypes() {\n    return SQL_TYPES;\n}\n\n/**\n * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\n * \n * @return Class\n */\npublic final Class returnedClass() {\n    return String[].class;\n}\n\n/**\n * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\n * should handle possibility of null values.\n * \n * @param resultSet a JDBC result set.\n * @param names the column names.\n * @param session SQL en cours.\n * @param owner the containing entity \n * @return Object\n * @throws org.hibernate.HibernateException exception levée par Hibernate\n * lors de la récupération des données.\n * @throws java.sql.SQLException exception SQL \n * levées lors de la récupération des données.\n */\n@Override\npublic final Object nullSafeGet(\n        final ResultSet resultSet, \n        final String[] names, \n        final SessionImplementor session, \n        final Object owner) throws HibernateException, SQLException {\n    if (resultSet.wasNull()) {\n        return null;\n    }\n\n    String[] array = (String[]) resultSet.getArray(names[0]).getArray();\n    return array;\n}\n\n/**\n * Write an instance of the mapped class to a prepared statement. Implementors\n * should handle possibility of null values. A multi-column type should be written\n * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\n * \n * @param statement a JDBC prepared statement.\n * @param value the object to write\n * @param index statement parameter index\n * @param session sql en cours\n * @throws org.hibernate.HibernateException exception levée par Hibernate\n * lors de la récupération des données.\n * @throws java.sql.SQLException exception SQL \n * levées lors de la récupération des données.\n */\n@Override\npublic final void nullSafeSet(final PreparedStatement statement, final Object value, \n        final int index, final SessionImplementor session) throws HibernateException, SQLException {\n\n    if (value == null) {\n        statement.setNull(index, SQL_TYPES[0]);\n    } else {\n        String[] castObject = (String[]) value;\n        Array array = session.connection().createArrayOf(\"text\", castObject);\n        statement.setArray(index, array);\n    }\n}\n\n@Override\npublic final Object deepCopy(final Object value) throws HibernateException {\n    return value;\n}\n\n@Override\npublic final boolean isMutable() {\n    return false;\n}\n\n@Override\npublic final Object assemble(final Serializable arg0, final Object arg1)\n        throws HibernateException {\n    // TODO Auto-generated method stub\n    return null;\n}\n\n@Override\npublic final Serializable disassemble(final Object arg0) throws HibernateException {\n    // TODO Auto-generated method stub\n    return null;\n}\n\n@Override\npublic final boolean equals(final Object x, final Object y) throws HibernateException {\n    if (x == y) {\n        return true;\n    } else if (x == null || y == null) {\n        return false;\n    } else {\n        return x.equals(y);\n    }\n}\n\n@Override\npublic final int hashCode(final Object x) throws HibernateException {\n    return x.hashCode();\n}\n\n@Override\npublic final Object replace(\n    final Object original,\n    final Object target,\n    final Object owner) throws HibernateException {\n    return original;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And the last, but least (that's what I missed) : when I need to run SQL Native Query, I have to force the parameter type with the following syntax</p>\n\n<pre><code>String[] values = ...\nType arrayType = new CustomType(new ArrayUserType());\nquery.setParameter(\"value\", values, arrayType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1172729,"reputation":5492,"user_id":1149528,"accept_rate":92,"display_name":"xav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639694846,"creation_date":1639694846,"answer_id":70386496,"question_id":21940642,"body_markdown":"Same answer as &quot;Damien C&quot; but updated for Hibernate v5.4 (their solution doesn&#39;t work anymore with Hibernate v5.4):\r\n\r\n\r\n\timport java.io.Serializable;\r\n\timport java.sql.Array;\r\n\timport java.sql.PreparedStatement;\r\n\timport java.sql.ResultSet;\r\n\timport java.sql.SQLException;\r\n\timport java.sql.Types;\r\n\r\n\timport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\n\timport org.hibernate.type.CustomType;\r\n\timport org.hibernate.type.Type;\r\n\timport org.hibernate.usertype.UserType;\r\n\r\n\tpublic class ArrayUserType implements UserType {\r\n\r\n\t\tprotected static final int[] SQL_TYPES = { Types.ARRAY };\r\n\r\n\r\n\t\tpublic static Type createCustomType() {\r\n\t\t\treturn new CustomType(new ArrayUserType());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Return the SQL type codes for the columns mapped by this type. The\r\n\t\t * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\r\n\t\t * \r\n\t\t * @return int[] typecodes\r\n\t\t * @see java.sql.Types\r\n\t\t */\r\n\t\tpublic final int[] sqlTypes() {\r\n\t\t\treturn SQL_TYPES;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\r\n\t\t * \r\n\t\t * @return Class\r\n\t\t */\r\n\t\tpublic final Class&lt;?&gt; returnedClass() {\r\n\t\t\treturn String[].class;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\r\n\t\t * should handle possibility of null values.\r\n\t\t * \r\n\t\t * @param resultSet A JDBC result set\r\n\t\t * @param names Column names\r\n\t\t * @param session  Session in progress\r\n\t\t * @param owner The containing entity \r\n\t\t * @return Object\r\n\t\t * @throws java.sql.SQLException If the data can&#39;t be fetched\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic Object nullSafeGet(ResultSet resultSet, String[] names, SharedSessionContractImplementor session, Object owner)\r\n\t\t\t\tthrows SQLException {\r\n\t\t\tif (resultSet.wasNull()) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn resultSet.getArray(names[0]).getArray();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Write an instance of the mapped class to a prepared statement. Implementors\r\n\t\t * should handle possibility of null values. A multi-column type should be written\r\n\t\t * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\r\n\t\t * \r\n\t\t * @param statement A JDBC prepared statement\r\n\t\t * @param value Object to write\r\n\t\t * @param index Statement parameter index\r\n\t\t * @param session Session in progress\r\n\t\t * @throws java.sql.SQLException If the data can&#39;t be fetched\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic final void nullSafeSet(PreparedStatement statement, Object value, int index, SharedSessionContractImplementor session)\r\n\t\t\t\tthrows SQLException {\r\n\r\n\t\t\tif (value == null) {\r\n\t\t\t\tstatement.setNull(index, SQL_TYPES[0]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tString[] castObject = (String[]) value;\r\n\t\t\t\tArray array = session.connection().createArrayOf(&quot;text&quot;, castObject);\r\n\t\t\t\tstatement.setArray(index, array);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final Object deepCopy(final Object value) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final boolean isMutable() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final Object assemble(final Serializable arg0, final Object arg1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final Serializable disassemble(final Object arg0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final boolean equals(final Object x, final Object y) {\r\n\t\t\tif (x == y) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse if (x == null || y == null) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn x.equals(y);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final int hashCode(final Object x) {\r\n\t\t\treturn x.hashCode();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final Object replace(final Object original, final Object target, final Object owner) {\r\n\t\t\treturn original;\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnd to use it:\r\n\r\n    String[] values = ...\r\n    query.setParameter(&quot;myArray&quot;, values, ArrayUserType.createCustomType());","title":"Hibernate, Postgres &amp; Array Type","body":"<p>Same answer as &quot;Damien C&quot; but updated for Hibernate v5.4 (their solution doesn't work anymore with Hibernate v5.4):</p>\n<pre><code>import java.io.Serializable;\nimport java.sql.Array;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.type.CustomType;\nimport org.hibernate.type.Type;\nimport org.hibernate.usertype.UserType;\n\npublic class ArrayUserType implements UserType {\n\n    protected static final int[] SQL_TYPES = { Types.ARRAY };\n\n\n    public static Type createCustomType() {\n        return new CustomType(new ArrayUserType());\n    }\n\n    /**\n     * Return the SQL type codes for the columns mapped by this type. The\n     * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\n     * \n     * @return int[] typecodes\n     * @see java.sql.Types\n     */\n    public final int[] sqlTypes() {\n        return SQL_TYPES;\n    }\n\n    /**\n     * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\n     * \n     * @return Class\n     */\n    public final Class&lt;?&gt; returnedClass() {\n        return String[].class;\n    }\n\n    /**\n     * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\n     * should handle possibility of null values.\n     * \n     * @param resultSet A JDBC result set\n     * @param names Column names\n     * @param session  Session in progress\n     * @param owner The containing entity \n     * @return Object\n     * @throws java.sql.SQLException If the data can't be fetched\n     */\n    @Override\n    public Object nullSafeGet(ResultSet resultSet, String[] names, SharedSessionContractImplementor session, Object owner)\n            throws SQLException {\n        if (resultSet.wasNull()) {\n            return null;\n        }\n\n        return resultSet.getArray(names[0]).getArray();\n    }\n\n    /**\n     * Write an instance of the mapped class to a prepared statement. Implementors\n     * should handle possibility of null values. A multi-column type should be written\n     * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\n     * \n     * @param statement A JDBC prepared statement\n     * @param value Object to write\n     * @param index Statement parameter index\n     * @param session Session in progress\n     * @throws java.sql.SQLException If the data can't be fetched\n     */\n    @Override\n    public final void nullSafeSet(PreparedStatement statement, Object value, int index, SharedSessionContractImplementor session)\n            throws SQLException {\n\n        if (value == null) {\n            statement.setNull(index, SQL_TYPES[0]);\n        }\n        else {\n            String[] castObject = (String[]) value;\n            Array array = session.connection().createArrayOf(&quot;text&quot;, castObject);\n            statement.setArray(index, array);\n        }\n    }\n\n    @Override\n    public final Object deepCopy(final Object value) {\n        return value;\n    }\n\n    @Override\n    public final boolean isMutable() {\n        return false;\n    }\n\n    @Override\n    public final Object assemble(final Serializable arg0, final Object arg1) {\n        return null;\n    }\n\n    @Override\n    public final Serializable disassemble(final Object arg0) {\n        return null;\n    }\n\n    @Override\n    public final boolean equals(final Object x, final Object y) {\n        if (x == y) {\n            return true;\n        }\n        else if (x == null || y == null) {\n            return false;\n        }\n        else {\n            return x.equals(y);\n        }\n    }\n\n    @Override\n    public final int hashCode(final Object x) {\n        return x.hashCode();\n    }\n\n    @Override\n    public final Object replace(final Object original, final Object target, final Object owner) {\n        return original;\n    }\n}\n</code></pre>\n<p>And to use it:</p>\n<pre><code>String[] values = ...\nquery.setParameter(&quot;myArray&quot;, values, ArrayUserType.createCustomType());\n</code></pre>\n"}],"owner":{"account_id":2611171,"reputation":1028,"user_id":2261243,"display_name":"Damien C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19727,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":21984484,"answer_count":2,"score":14,"last_activity_date":1639694846,"creation_date":1393002315,"question_id":21940642,"body_markdown":"I&#39;m stuck on a specific issue using **[array type][1]** in postgresql 9.3 mapped with hibernate 4.1.0. \r\nThis type allows me to have really strong data model, without building lots of tables and joins.\r\n\r\nIn order to map a field stored with this particular type, I have used a [UserType][2]\r\n\r\nAnyway, it works well with pure hibernate (hql) but I need also to send **sql native query** to my database. When I do it, in spite of many tries, I have not found any way to do that. \r\n\r\nI try many syntaxes based on this\r\n\r\n    String[] values = {&quot;value1&quot;, &quot;value2&quot;};\r\n    String queryString = &quot;SELECT * FROM instances WHERE values &amp;&amp; :values&quot;;\r\n    Query query = this.getSession().createSQLQuery(queryString).addEntity(Instance.class);\r\n    query.setParameterList(&quot;values&quot;, values);\r\n    query.list();\r\n\r\nI got\r\n  Operator does not exists : text[] &amp;&amp; character varying\r\n  \r\nIt should give following syntax in jdbc : [&#39;value1&#39;, &#39;value2&#39;] and it seems to give &#39;value1&#39;...\r\n\r\nI tried many syntaxes\r\nwith\r\n\r\n - Collection \r\n - Pure Arrays\r\n - [ :values ] syntax :  I got \r\n    Syntax error near &quot;[&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nI need to send native query because I use [Materialized View][3] for performance gains.\r\n\r\nMy SQL Query works in postgresql console. So it is an hibernate specific issue.\r\n\r\n  [1]: http://www.postgresql.org/docs/9.3/static/functions-array.html\r\n  [2]: http://finethinking.wordpress.com/2011/10/27/hibernate-arrays-and-postgres/\r\n  [3]: http://wiki.postgresql.org/wiki/Materialized_Views","title":"Hibernate, Postgres &amp; Array Type","body":"<p>I'm stuck on a specific issue using <strong><a href=\"http://www.postgresql.org/docs/9.3/static/functions-array.html\">array type</a></strong> in postgresql 9.3 mapped with hibernate 4.1.0. \nThis type allows me to have really strong data model, without building lots of tables and joins.</p>\n\n<p>In order to map a field stored with this particular type, I have used a <a href=\"http://finethinking.wordpress.com/2011/10/27/hibernate-arrays-and-postgres/\">UserType</a></p>\n\n<p>Anyway, it works well with pure hibernate (hql) but I need also to send <strong>sql native query</strong> to my database. When I do it, in spite of many tries, I have not found any way to do that. </p>\n\n<p>I try many syntaxes based on this</p>\n\n<pre><code>String[] values = {\"value1\", \"value2\"};\nString queryString = \"SELECT * FROM instances WHERE values &amp;&amp; :values\";\nQuery query = this.getSession().createSQLQuery(queryString).addEntity(Instance.class);\nquery.setParameterList(\"values\", values);\nquery.list();\n</code></pre>\n\n<p>I got\n  Operator does not exists : text[] &amp;&amp; character varying</p>\n\n<p>It should give following syntax in jdbc : ['value1', 'value2'] and it seems to give 'value1'...</p>\n\n<p>I tried many syntaxes\nwith</p>\n\n<ul>\n<li>Collection </li>\n<li>Pure Arrays</li>\n<li>[ :values ] syntax :  I got \nSyntax error near \"[\"</li>\n</ul>\n\n<hr>\n\n<p>I need to send native query because I use <a href=\"http://wiki.postgresql.org/wiki/Materialized_Views\">Materialized View</a> for performance gains.</p>\n\n<p>My SQL Query works in postgresql console. So it is an hibernate specific issue.</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1639671116,"post_id":70382127,"comment_id":124413753,"body_markdown":"And which line do you get that error for?","body":"And which line do you get that error for?"},{"owner":{"account_id":18430607,"reputation":11,"user_id":17686854,"display_name":"barsikeeee"},"score":0,"creation_date":1639671897,"post_id":70382127,"comment_id":124414144,"body_markdown":"`JSONObject lesson = lessons.getJSONObject(i);` @Mike&#39;Pomax&#39;Kamermans","body":"<code>JSONObject lesson = lessons.getJSONObject(i);</code> @Mike&#39;Pomax&#39;Kamermans"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1639672031,"post_id":70382127,"comment_id":124414210,"body_markdown":"Please remember to say that [in your post](/help/how-to-ask).","body":"Please remember to say that <a href=\"/help/how-to-ask\">in your post</a>."}],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639691387,"creation_date":1639691387,"answer_id":70386034,"question_id":70382127,"body_markdown":"For example:\r\n\r\n      StringBuilder response = new StringBuilder();\r\n            while (days.hasNext()) {\r\n                String key = days.next();\r\n                JSONObject day = json.getJSONObject(key);\r\n                JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\r\n                for (int i = 0; i &lt; lessons.length(); i++) {\r\n                    JSONObject lesson = lessons.getJSONObject(i);\r\n                    Iterator&lt;String&gt; item = lesson.keys();\r\n                    while (item.hasNext()) {\r\n                        String jKey = item.next();\r\n                        JSONObject jsonObject = lesson.optJSONObject(jKey);\r\n                        if (jsonObject != null) {\r\n                            parse(response, jsonObject);\r\n                        } else {\r\n                            if (lesson.get(jKey) != null) {\r\n                                response.append(lesson.getString(jKey)).append(&quot;\\n&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                response.append(&#39;\\n&#39;);\r\n            }\r\n    \r\n    \r\n    private void parse(StringBuilder response, JSONObject jsonObject) {\r\n            if (jsonObject != null) {\r\n                Iterator&lt;String&gt; item = jsonObject.keys();\r\n                while (item.hasNext()) {\r\n                    String jKey = item.next();\r\n                    JSONObject jObject = jsonObject.optJSONObject(jKey);\r\n                    if (jObject != null) {\r\n                        parse(response, jsonObject);\r\n                    } else {\r\n                        response.append(jsonObject.get(jKey)).append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Parse JSON multidimensional array with Java","body":"<p>For example:</p>\n<pre><code>  StringBuilder response = new StringBuilder();\n        while (days.hasNext()) {\n            String key = days.next();\n            JSONObject day = json.getJSONObject(key);\n            JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\n            for (int i = 0; i &lt; lessons.length(); i++) {\n                JSONObject lesson = lessons.getJSONObject(i);\n                Iterator&lt;String&gt; item = lesson.keys();\n                while (item.hasNext()) {\n                    String jKey = item.next();\n                    JSONObject jsonObject = lesson.optJSONObject(jKey);\n                    if (jsonObject != null) {\n                        parse(response, jsonObject);\n                    } else {\n                        if (lesson.get(jKey) != null) {\n                            response.append(lesson.getString(jKey)).append(&quot;\\n&quot;);\n                        }\n                    }\n                }\n            }\n            response.append('\\n');\n        }\n\n\nprivate void parse(StringBuilder response, JSONObject jsonObject) {\n        if (jsonObject != null) {\n            Iterator&lt;String&gt; item = jsonObject.keys();\n            while (item.hasNext()) {\n                String jKey = item.next();\n                JSONObject jObject = jsonObject.optJSONObject(jKey);\n                if (jObject != null) {\n                    parse(response, jsonObject);\n                } else {\n                    response.append(jsonObject.get(jKey)).append(&quot;\\n&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639694582,"creation_date":1639694582,"answer_id":70386469,"question_id":70382127,"body_markdown":"I updated your provided function to have your required fields\r\n\r\n         while(days.hasNext()) {\r\n\t\t    String key = days.next();\r\n\t\t    JSONObject day = json.getJSONObject(key);\r\n\t\t    JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\r\n\r\n\t\t    int lessonsCount = lessons.length(), i;\r\n\t\t    for (i = 0; i &lt; lessonsCount; i = i + 1) {\r\n\t\t        JSONObject lesson = lessons.getJSONObject(i);\r\n\t\t        Iterator&lt;String&gt; lessonKeys = lesson.keys();\r\n\t\t        while(lessonKeys.hasNext()) {\r\n\t\t        \tString lessonKey = lessonKeys.next();\r\n\t\t        \tif(!lessonKey.equals(&quot;type&quot;)) {\r\n\t\t        \t\tJSONObject lessonData = lesson.getJSONObject(lessonKey);\r\n\t\t        \t\tresponse += lessonData.getString(&quot;subject&quot;)+&quot; - &quot;+lessonData.getString(&quot;teacher&quot;)+&quot; - &quot;+lessonData.get(&quot;room&quot;)+&#39;\\n&#39;;\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\r\nThe output as follow:\r\n\r\n    ПМ.2.Р1. ТРОПО - Ахметова Ф.Т. - 212\r\n    ПМ.2.Р1. ТРОПО - Ахметова Ф.Т. - 212\r\n    ОР и АБД - Кузьмина В.М. - null\r\n    ПМ.2.Р5. РС и ПИР со С и ДК - Голубева Я.С. - 211","title":"Parse JSON multidimensional array with Java","body":"<p>I updated your provided function to have your required fields</p>\n<pre><code>     while(days.hasNext()) {\n        String key = days.next();\n        JSONObject day = json.getJSONObject(key);\n        JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\n\n        int lessonsCount = lessons.length(), i;\n        for (i = 0; i &lt; lessonsCount; i = i + 1) {\n            JSONObject lesson = lessons.getJSONObject(i);\n            Iterator&lt;String&gt; lessonKeys = lesson.keys();\n            while(lessonKeys.hasNext()) {\n                String lessonKey = lessonKeys.next();\n                if(!lessonKey.equals(&quot;type&quot;)) {\n                    JSONObject lessonData = lesson.getJSONObject(lessonKey);\n                    response += lessonData.getString(&quot;subject&quot;)+&quot; - &quot;+lessonData.getString(&quot;teacher&quot;)+&quot; - &quot;+lessonData.get(&quot;room&quot;)+'\\n';\n                }\n            }\n        }\n    }\n</code></pre>\n<p>The output as follow:</p>\n<pre><code>ПМ.2.Р1. ТРОПО - Ахметова Ф.Т. - 212\nПМ.2.Р1. ТРОПО - Ахметова Ф.Т. - 212\nОР и АБД - Кузьмина В.М. - null\nПМ.2.Р5. РС и ПИР со С и ДК - Голубева Я.С. - 211\n</code></pre>\n"}],"owner":{"account_id":18430607,"reputation":11,"user_id":17686854,"display_name":"barsikeeee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70386034,"answer_count":2,"score":0,"last_activity_date":1639694582,"creation_date":1639670617,"question_id":70382127,"body_markdown":"I&#39;m new to Java coding and I want to parse json response, it looks like this:\r\n\r\n    {\r\n        &quot;13.12.2021  Monday&quot;: {\r\n            &quot;lessons&quot;: [\r\n                {\r\n                &quot;type&quot;: &quot;second&quot;,\r\n                &quot;lesson&quot;:{\r\n                    &quot;subject&quot;: &quot;ОР и АБД&quot;,\r\n                    &quot;teacher&quot;: &quot;Кузьмина В.М.&quot;,\r\n                    &quot;room&quot;: null\r\n                    }\r\n                },\r\n                {\r\n                    &quot;type&quot;: &quot;common&quot;,\r\n                    &quot;0&quot;: {\r\n                        &quot;subject&quot;: &quot;ПМ.2.Р5. РС и ПИР со С и ДК&quot;,\r\n                        &quot;teacher&quot;: &quot;Голубева Я.С.&quot;,\r\n                        &quot;room&quot;: &quot;211&quot;\r\n                    }\r\n                }\r\n            ],\r\n            &quot;dinner&quot;: &quot;11.00 &quot;\r\n            },\r\n        &quot;14.12.2021  Tuesday&quot;: {\r\n            &quot;lessons&quot;:[\r\n                {\r\n                    &quot;type&quot;: &quot;common&quot;,\r\n                    &quot;0&quot;:{\r\n                        &quot;subject&quot;: &quot;ПМ.2.Р1. ТРОПО&quot;,\r\n                        &quot;teacher&quot;: &quot;Ахметова Ф.Т.&quot;,&quot;room&quot;:&quot;212&quot;\r\n                    }\r\n                },\r\n                {\r\n                    &quot;type&quot;: &quot;common&quot;,\r\n                    &quot;0&quot;:{\r\n                        &quot;subject&quot;: &quot;ПМ.2.Р1. ТРОПО&quot;,\r\n                        &quot;teacher&quot;: &quot;Ахметова Ф.Т.&quot;,\r\n                        &quot;room&quot;: &quot;212&quot;\r\n                    }\r\n                }\r\n            ],\r\n            &quot;dinner&quot;: &quot;11:00 &quot;\r\n        }\r\n    }\r\n\r\nI use this code\r\n\r\n    JSONObject json = new JSONObject(result);\r\n    Iterator&lt;String&gt; days = json.keys();\r\n    \r\n    String response = &quot;&quot;;\r\n    \r\n    while(days.hasNext()) {\r\n        String key = days.next();\r\n        JSONObject day = json.getJSONObject(key);\r\n        JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\r\n    \r\n        int lessonsCount = lessons.length(), i;\r\n        for (i = 0; i &lt; lessonsCount; i = i + 1) {\r\n        \tJSONObject lesson = lessons.getJSONObject(i);\r\n            response += lesson.getString(&quot;type&quot;) + &#39;\\n&#39;;\r\n    \t}\r\n    \r\n    \r\n        response += &#39;\\n&#39;;\r\n    }\r\nBut get this error: \r\n\r\n&gt; org.json.JSONException: Value [] at 4 of type org.json.JSONArray\r\n&gt; cannot be converted to JSONObject\r\n\r\nPlease, explain me how can I access all the child elements such as &quot;lesson&quot; block and it&#39;s &quot;subject&quot;, &quot;teacher&quot;, &quot;room&quot;. \r\nI&#39;ve checked similar questions but none helped me","title":"Parse JSON multidimensional array with Java","body":"<p>I'm new to Java coding and I want to parse json response, it looks like this:</p>\n<pre><code>{\n    &quot;13.12.2021  Monday&quot;: {\n        &quot;lessons&quot;: [\n            {\n            &quot;type&quot;: &quot;second&quot;,\n            &quot;lesson&quot;:{\n                &quot;subject&quot;: &quot;ОР и АБД&quot;,\n                &quot;teacher&quot;: &quot;Кузьмина В.М.&quot;,\n                &quot;room&quot;: null\n                }\n            },\n            {\n                &quot;type&quot;: &quot;common&quot;,\n                &quot;0&quot;: {\n                    &quot;subject&quot;: &quot;ПМ.2.Р5. РС и ПИР со С и ДК&quot;,\n                    &quot;teacher&quot;: &quot;Голубева Я.С.&quot;,\n                    &quot;room&quot;: &quot;211&quot;\n                }\n            }\n        ],\n        &quot;dinner&quot;: &quot;11.00 &quot;\n        },\n    &quot;14.12.2021  Tuesday&quot;: {\n        &quot;lessons&quot;:[\n            {\n                &quot;type&quot;: &quot;common&quot;,\n                &quot;0&quot;:{\n                    &quot;subject&quot;: &quot;ПМ.2.Р1. ТРОПО&quot;,\n                    &quot;teacher&quot;: &quot;Ахметова Ф.Т.&quot;,&quot;room&quot;:&quot;212&quot;\n                }\n            },\n            {\n                &quot;type&quot;: &quot;common&quot;,\n                &quot;0&quot;:{\n                    &quot;subject&quot;: &quot;ПМ.2.Р1. ТРОПО&quot;,\n                    &quot;teacher&quot;: &quot;Ахметова Ф.Т.&quot;,\n                    &quot;room&quot;: &quot;212&quot;\n                }\n            }\n        ],\n        &quot;dinner&quot;: &quot;11:00 &quot;\n    }\n}\n</code></pre>\n<p>I use this code</p>\n<pre><code>JSONObject json = new JSONObject(result);\nIterator&lt;String&gt; days = json.keys();\n\nString response = &quot;&quot;;\n\nwhile(days.hasNext()) {\n    String key = days.next();\n    JSONObject day = json.getJSONObject(key);\n    JSONArray lessons = day.getJSONArray(&quot;lessons&quot;);\n\n    int lessonsCount = lessons.length(), i;\n    for (i = 0; i &lt; lessonsCount; i = i + 1) {\n        JSONObject lesson = lessons.getJSONObject(i);\n        response += lesson.getString(&quot;type&quot;) + '\\n';\n    }\n\n\n    response += '\\n';\n}\n</code></pre>\n<p>But get this error:</p>\n<blockquote>\n<p>org.json.JSONException: Value [] at 4 of type org.json.JSONArray\ncannot be converted to JSONObject</p>\n</blockquote>\n<p>Please, explain me how can I access all the child elements such as &quot;lesson&quot; block and it's &quot;subject&quot;, &quot;teacher&quot;, &quot;room&quot;.\nI've checked similar questions but none helped me</p>\n"},{"tags":["java","while-loop","java.util.scanner","skip"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1639692706,"post_id":70385070,"comment_id":124421375,"body_markdown":"You use `.equals()` to compare strings and not `==`.","body":"You use <code>.equals()</code> to compare strings and not <code>==</code>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1639692884,"post_id":70385070,"comment_id":124421437,"body_markdown":"You can also use `sc.nextInt` instead of converting scanned strings to int.","body":"You can also use <code>sc.nextInt</code> instead of converting scanned strings to int."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639694575,"creation_date":1639694575,"answer_id":70386468,"question_id":70385070,"body_markdown":"Here&#39;s an example I created based on your problem.  This should solve your problem.\r\n\r\n```\r\n\t    String str = &quot;x;a1;b1;c1;d1\\ny;a2;b2;c2;d2\\nx;a3;b3;c3;d4&quot;;\r\n\t    Scanner s = new Scanner(str);\r\n\t    \r\n\t\twhile(s.hasNextLine()){\r\n\t\t    Scanner s2 = new Scanner(s.nextLine());\r\n\t\t    s2.useDelimiter(&quot;;&quot;);\r\n\t\t    String h = s2.next();\r\n\t\t    String a = s2.next();\r\n\t\t    String b = s2.next();\r\n\t\t    String c = s2.next();\r\n\t\t    String d = s2.next();\r\n\t\t    \r\n\t\t    if (h.equals(&quot;x&quot;)){\r\n\t\t        System.out.printf(&quot;%s|%s|%s|%s\\n&quot;, a,b,c,d);\r\n\t\t    }\r\n\t\t}\r\n```\r\n\r\nThe output is:\r\n```\r\na1|b1|c1|d1\r\na3|b3|c3|d3\r\n```","title":"Skipping a line when it doesn&#39;t have the correct name with the scanner class","body":"<p>Here's an example I created based on your problem.  This should solve your problem.</p>\n<pre><code>        String str = &quot;x;a1;b1;c1;d1\\ny;a2;b2;c2;d2\\nx;a3;b3;c3;d4&quot;;\n        Scanner s = new Scanner(str);\n        \n        while(s.hasNextLine()){\n            Scanner s2 = new Scanner(s.nextLine());\n            s2.useDelimiter(&quot;;&quot;);\n            String h = s2.next();\n            String a = s2.next();\n            String b = s2.next();\n            String c = s2.next();\n            String d = s2.next();\n            \n            if (h.equals(&quot;x&quot;)){\n                System.out.printf(&quot;%s|%s|%s|%s\\n&quot;, a,b,c,d);\n            }\n        }\n</code></pre>\n<p>The output is:</p>\n<pre><code>a1|b1|c1|d1\na3|b3|c3|d3\n</code></pre>\n"}],"owner":{"account_id":23654355,"reputation":63,"user_id":17682864,"display_name":"Senti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70386468,"answer_count":1,"score":2,"last_activity_date":1639694575,"creation_date":1639685537,"question_id":70385070,"body_markdown":"    public void populateFromFile(String filename)\r\n    {\r\n        \r\n        try\r\n        {\r\n            Scanner sc = new Scanner(new File(filename));\r\n            \r\n            //variables\r\n            String firstName;\r\n            String lastName;\r\n            String emailAddress;\r\n            String startYear;\r\n            String startMonth;\r\n            String clubName;\r\n            Member tmp;\r\n            \r\n        \r\n            //skip first line\r\n            sc.nextLine();\r\n            sc.useDelimiter(&quot;;&quot;);\r\n            sc.skip(\r\n            while (sc.hasNext())\r\n            {\r\n                sc.next();\r\n                firstName = sc.next();\r\n                lastName = sc.next();\r\n                emailAddress = sc.next();\r\n                startYear = sc.next();\r\n                int year = Integer.parseInt(startYear);\r\n                startMonth = sc.next();\r\n                int month = Integer.parseInt(startMonth);\r\n                clubName = sc.next();\r\n                tmp = new Member(firstName,lastName,emailAddress,month,year);\r\n                if(clubName == name)\r\n                {\r\n                    addMember(tmp);\r\n                }\r\n\r\n            }\r\n            sc.close();\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(e);\r\n        };\r\n    }\r\n\r\n&gt; I&#39;m trying to find a way how I only can add the &#39;Members&#39; who are from the correct club. But when I am trying to put an if statement in the while loop the program runs forever. Do you have any other idea how I could do this?","title":"Skipping a line when it doesn&#39;t have the correct name with the scanner class","body":"<pre><code>public void populateFromFile(String filename)\n{\n    \n    try\n    {\n        Scanner sc = new Scanner(new File(filename));\n        \n        //variables\n        String firstName;\n        String lastName;\n        String emailAddress;\n        String startYear;\n        String startMonth;\n        String clubName;\n        Member tmp;\n        \n    \n        //skip first line\n        sc.nextLine();\n        sc.useDelimiter(&quot;;&quot;);\n        sc.skip(\n        while (sc.hasNext())\n        {\n            sc.next();\n            firstName = sc.next();\n            lastName = sc.next();\n            emailAddress = sc.next();\n            startYear = sc.next();\n            int year = Integer.parseInt(startYear);\n            startMonth = sc.next();\n            int month = Integer.parseInt(startMonth);\n            clubName = sc.next();\n            tmp = new Member(firstName,lastName,emailAddress,month,year);\n            if(clubName == name)\n            {\n                addMember(tmp);\n            }\n\n        }\n        sc.close();\n    }\n    catch(Exception e){\n        System.out.println(e);\n    };\n}\n</code></pre>\n<blockquote>\n<p>I'm trying to find a way how I only can add the 'Members' who are from the correct club. But when I am trying to put an if statement in the while loop the program runs forever. Do you have any other idea how I could do this?</p>\n</blockquote>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1639694428,"post_id":70386440,"comment_id":124421827,"body_markdown":"`\\+\\+(?:(?!\\+\\+).)*?--`, https://regex101.com/r/qRWHkD/1","body":"<code>\\+\\+(?:(?!\\+\\+).)*?--</code>, <a href=\"https://regex101.com/r/qRWHkD/1\" rel=\"nofollow noreferrer\">regex101.com/r/qRWHkD/1</a>"},{"owner":{"account_id":264299,"reputation":3507,"user_id":550478,"accept_rate":80,"display_name":"Emadpres"},"score":0,"creation_date":1639695043,"post_id":70386440,"comment_id":124421966,"body_markdown":"@WiktorStribiżew I think the brilliant part of this solution is the `(&lt;negative-lookahead&gt;.)*`. But it&#39;s not clear to me how negative-lookahead works in a repetition part. What if we swap `negative-lookahead` and `.`, it seems to work, right?","body":"@WiktorStribiżew I think the brilliant part of this solution is the <code>(&lt;negative-lookahead&gt;.)*</code>. But it&#39;s not clear to me how negative-lookahead works in a repetition part. What if we swap <code>negative-lookahead</code> and <code>.</code>, it seems to work, right?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1639695235,"post_id":70386440,"comment_id":124422017,"body_markdown":"See [Tempered Greedy Token - What is different about placing the dot before the negative lookahead?](https://stackoverflow.com/a/37343088/3832970)","body":"See <a href=\"https://stackoverflow.com/a/37343088/3832970\">Tempered Greedy Token - What is different about placing the dot before the negative lookahead?</a>"},{"owner":{"account_id":264299,"reputation":3507,"user_id":550478,"accept_rate":80,"display_name":"Emadpres"},"score":0,"creation_date":1639695544,"post_id":70386440,"comment_id":124422082,"body_markdown":"@WiktorStribiżew Thanks, your comment really helped me and I agree with you upon the duplicate flag. However I can&#39;t understand why you downvoted. of course I searched for similar questions before posting mine, but finding other questions is not straight-forward.","body":"@WiktorStribiżew Thanks, your comment really helped me and I agree with you upon the duplicate flag. However I can&#39;t understand why you downvoted. of course I searched for similar questions before posting mine, but finding other questions is not straight-forward."}],"owner":{"account_id":264299,"reputation":3507,"user_id":550478,"accept_rate":80,"display_name":"Emadpres"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1639694405,"answer_count":0,"score":0,"last_activity_date":1639694413,"creation_date":1639694313,"question_id":70386440,"body_markdown":"I&#39;m trying to write a regex to capture all substrings in form of `++`+text+`--` in a given input. So an example input could be:\r\n```\r\nSome text ++ not interesting text ++interesting part1-- and again some more text ++interesting part2-- and more text and ...\r\n```\r\nwhich I&#39;d like to extract `++interesting part1--` and `++interesting part2--`.\r\n\r\n\r\n\r\n\r\n**My regex attempts**\r\n\r\n1. Obviously `++.*?--` does not work. Because for input above it matches &quot;++ not interesting text ++interesting part1--&quot; which is wrong.\r\n\r\n2. My other broken solution was the following regex `++(?!.*++).*--` which only captures the second instance (&quot;interesting part2&quot;).\r\n\r\n\r\nAny explanation and answer is welcome.\r\n\r\n\r\n---\r\nNote: I do want to solve the issue with regex to master it, though I know the problem has easier solution by just looking for `++` and `--` indices repeatedly.","title":"Using regex to extract substrings enclosed in certain characters","body":"<p>I'm trying to write a regex to capture all substrings in form of <code>++</code>+text+<code>--</code> in a given input. So an example input could be:</p>\n<pre><code>Some text ++ not interesting text ++interesting part1-- and again some more text ++interesting part2-- and more text and ...\n</code></pre>\n<p>which I'd like to extract <code>++interesting part1--</code> and <code>++interesting part2--</code>.</p>\n<p><strong>My regex attempts</strong></p>\n<ol>\n<li><p>Obviously <code>++.*?--</code> does not work. Because for input above it matches &quot;++ not interesting text ++interesting part1--&quot; which is wrong.</p>\n</li>\n<li><p>My other broken solution was the following regex <code>++(?!.*++).*--</code> which only captures the second instance (&quot;interesting part2&quot;).</p>\n</li>\n</ol>\n<p>Any explanation and answer is welcome.</p>\n<hr />\n<p>Note: I do want to solve the issue with regex to master it, though I know the problem has easier solution by just looking for <code>++</code> and <code>--</code> indices repeatedly.</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1639508089,"post_id":70348636,"comment_id":124364985,"body_markdown":"You might look at [`SymbolAxis`](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20SymbolAxis).","body":"You might look at <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20SymbolAxis\"><code>SymbolAxis</code></a>."},{"owner":{"account_id":4441420,"reputation":63,"user_id":15376214,"display_name":"leroyv"},"score":1,"creation_date":1639679260,"post_id":70348636,"comment_id":124416948,"body_markdown":"thank you! was indeed what i was looking for","body":"thank you! was indeed what i was looking for"}],"owner":{"account_id":4441420,"reputation":63,"user_id":15376214,"display_name":"leroyv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639694269,"answer_count":0,"score":0,"last_activity_date":1639694402,"creation_date":1639483730,"question_id":70348636,"body_markdown":"Im trying to only show 2 ticks on my subplots number axis, but i just cant get it to work. Any help on how to do this would be greatly appreciated! \r\n\r\nI want to have 1 tick unit at value 20 and the other at 80.  \r\n\r\n     private NumberAxis getRsiValueAxis() {\r\n        final NumberAxis rangeAxis2 = new NumberAxis(ChartConstants.RSI_AXIS_LABEL);\r\n\r\n        rangeAxis2.setRange(0, 100);\r\n        rangeAxis2.setAutoRange(false);\r\n\r\n        TickUnits units = new TickUnits();\r\n        units.add(new NumberTickUnit(20));\r\n        units.add(new NumberTickUnit(80));\r\n\r\n        rangeAxis2.setStandardTickUnits(units);\r\n\r\n    //  rangeAxis2.setTickUnit(new NumberTickUnit(20));\r\n        return rangeAxis2;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K8ySh.png","title":"JfreeChart, how to show only 2 tick units at default position on NumberAxis?","body":"<p>Im trying to only show 2 ticks on my subplots number axis, but i just cant get it to work. Any help on how to do this would be greatly appreciated!</p>\n<p>I want to have 1 tick unit at value 20 and the other at 80.</p>\n<pre><code> private NumberAxis getRsiValueAxis() {\n    final NumberAxis rangeAxis2 = new NumberAxis(ChartConstants.RSI_AXIS_LABEL);\n\n    rangeAxis2.setRange(0, 100);\n    rangeAxis2.setAutoRange(false);\n\n    TickUnits units = new TickUnits();\n    units.add(new NumberTickUnit(20));\n    units.add(new NumberTickUnit(80));\n\n    rangeAxis2.setStandardTickUnits(units);\n\n//  rangeAxis2.setTickUnit(new NumberTickUnit(20));\n    return rangeAxis2;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K8ySh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8ySh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","processing","gradient"],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639162427,"creation_date":1639162427,"answer_id":70309178,"question_id":70307394,"body_markdown":"Your method works great for grayscale colours.\r\n\r\nTo easily interpolate between two colours with multiple channels you can use [`lerpColor()`][1]. It takes two colours as the first two arguments (colour to interpolate from and colour to interpolate to) and the first argument is the amount of interpolation (a value between 0.0 and 1.0 where 0 means it&#39;s the first colour, 1.0 is the second colour and 0.5 for example is a 50% mix between the two)\r\n\r\nYou could then map r as you do already from in the 0.0 to 1.0 range:\r\n\r\n```java\r\nvoid setup(){\r\n  desenhar_grad(50, 50, 50, color(0, 192, 192), color(192, 0, 192));\r\n}\r\nvoid desenhar_grad(float posX, float posY, int raio, color color1, color color2) {\r\n  pushStyle();\r\n  noStroke();\r\n  for (int r = raio; r &gt; 0; r--) {\r\n    // the last 2 values are the colours. first is the center, second is the exterior\r\n    int tom = lerpColor(color1, color2, map(r, 0, raio, 0.0, 1.0));\r\n    fill(tom);\r\n    circle(posX, posY, r * 2);\r\n  }\r\n  popStyle();\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://processing.org/reference/lerpColor_.html","title":"Create Colour Gradiente on Processing","body":"<p>Your method works great for grayscale colours.</p>\n<p>To easily interpolate between two colours with multiple channels you can use <a href=\"https://processing.org/reference/lerpColor_.html\" rel=\"nofollow noreferrer\"><code>lerpColor()</code></a>. It takes two colours as the first two arguments (colour to interpolate from and colour to interpolate to) and the first argument is the amount of interpolation (a value between 0.0 and 1.0 where 0 means it's the first colour, 1.0 is the second colour and 0.5 for example is a 50% mix between the two)</p>\n<p>You could then map r as you do already from in the 0.0 to 1.0 range:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup(){\n  desenhar_grad(50, 50, 50, color(0, 192, 192), color(192, 0, 192));\n}\nvoid desenhar_grad(float posX, float posY, int raio, color color1, color color2) {\n  pushStyle();\n  noStroke();\n  for (int r = raio; r &gt; 0; r--) {\n    // the last 2 values are the colours. first is the center, second is the exterior\n    int tom = lerpColor(color1, color2, map(r, 0, raio, 0.0, 1.0));\n    fill(tom);\n    circle(posX, posY, r * 2);\n  }\n  popStyle();\n}\n</code></pre>\n"}],"owner":{"account_id":23611330,"reputation":61,"user_id":17646296,"display_name":"Maria Nolasco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70309178,"answer_count":1,"score":1,"last_activity_date":1639694007,"creation_date":1639152760,"question_id":70307394,"body_markdown":"I have a code to map out colours in order to create a radial gradient in a circle. Right know it&#39;s going from black to white. How can I switch up the colours, and use other values?\r\nI have tried to create values for different colours but it&#39;s not working.\r\nDoes anyone knows how to do it?\r\nHere&#39;s the piece of code:\r\n\r\n```\r\n// function to draw the gradient\r\nvoid desenhar_grad(float posX, float posY, int raio) {\r\n  pushStyle();\r\n  noStroke();\r\n  for (int r = raio; r &gt; 0; r--) {\r\n    int tom = round(map(r, raio, 0, 255, 0)); // the last 2 values are the colours. first is the center, second is the exterior\r\n    fill(tom);\r\n    circle(posX, posY, r * 2);\r\n  }\r\n  popStyle();\r\n}\r\n```","title":"Create Colour Gradiente on Processing","body":"<p>I have a code to map out colours in order to create a radial gradient in a circle. Right know it's going from black to white. How can I switch up the colours, and use other values?\nI have tried to create values for different colours but it's not working.\nDoes anyone knows how to do it?\nHere's the piece of code:</p>\n<pre><code>// function to draw the gradient\nvoid desenhar_grad(float posX, float posY, int raio) {\n  pushStyle();\n  noStroke();\n  for (int r = raio; r &gt; 0; r--) {\n    int tom = round(map(r, raio, 0, 255, 0)); // the last 2 values are the colours. first is the center, second is the exterior\n    fill(tom);\n    circle(posX, posY, r * 2);\n  }\n  popStyle();\n}\n</code></pre>\n"},{"tags":["java","android","android-gridview","android-selector"],"answers":[{"tags":[],"owner":{"account_id":355173,"reputation":6464,"user_id":693959,"accept_rate":64,"display_name":"VJ V&#233;lan Solutions"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639693595,"creation_date":1385862083,"answer_id":20307795,"question_id":20254232,"body_markdown":"1. Try setting the xml `attribute android:drawSelectorOnTop` in your `activity_collections.xml` file.\r\n\r\n2. See if placing `gridView.setDrawSelectorOnTop(true);` after `gridView.setAdapter();` helps. Sometimes, the order matters (weird).\r\n\r\n3. If all else fails, you may have to switch `GridView` to some other view where `setDrawSelectorOnTop()` is proven to work consistently.","title":"Android drawSelectorOnTop with GridView","body":"<ol>\n<li><p>Try setting the xml <code>attribute android:drawSelectorOnTop</code> in your <code>activity_collections.xml</code> file.</p>\n</li>\n<li><p>See if placing <code>gridView.setDrawSelectorOnTop(true);</code> after <code>gridView.setAdapter();</code> helps. Sometimes, the order matters (weird).</p>\n</li>\n<li><p>If all else fails, you may have to switch <code>GridView</code> to some other view where <code>setDrawSelectorOnTop()</code> is proven to work consistently.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3017024,"reputation":51373,"user_id":2558882,"accept_rate":50,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1386027285,"creation_date":1385884692,"answer_id":20310011,"question_id":20254232,"body_markdown":"I think you are mistaken about `setDrawSelectorOnTop(boolean)`. The `selector` drawable that is being referenced here is GridView&#39;s internal `selector` drawable.\r\n\r\nEven in the simplest implementation of `GridView`, when a grid item is clicked, the blue border is drawn around it. This is because, by default, gridview&#39;s own selector is drawn `behind` the item. If you call `setDrawSelectorOnTop(true)`, the selector (blue) will be drawn over the item.\r\n\r\nBut `setDrawSelectorOnTop(boolean)` has nothing to do with the selector you are setting in the adapter. Whether you pass `true`, or `false`, the ImageView&#39;s selector&#39;s behavior won&#39;t change.\r\n\r\n**Solution:**\r\n\r\nInstead of setting the selector on each ImageView inside the adapter, make the GridView use your selector drawable:\r\n\r\n    GridView gridView = (GridView)view.findViewById(R.id.gridview);\r\n    gridView.setDrawSelectorOnTop(true);\r\n\r\n    // Make GridView use your custom selector drawable\r\n    gridView.setSelector(getResources().getDrawable(R.drawable.selector));\r\n\r\nNow, there&#39;s no need for:\r\n\r\n    picture.setBackgroundResource(R.drawable.selector);\r\n\r\n**Edit:**\r\n\r\nAlthough I don&#39;t recommend this (obvious overhead), it should work:\r\n\r\n    @Override\r\n    public View getView(int i, View view, ViewGroup viewGroup) {\r\n        View v = view;\r\n        ImageView picture;\r\n        \r\n        ....\r\n        ....\r\n \r\n        LayerDrawable ld = new LayerDrawable(new Drawable[] \r\n       \r\n                               // Drawable from item\r\n                               { getResources().getDrawable(item.drawableId), \r\n\r\n                               // Selector\r\n                               getResources().getDrawable(R.drawable.selector)});\r\n\r\n        // Set the LayerDrawable\r\n        picture.setImageDrawable(ld);\r\n\r\n        // Don&#39;t need this\r\n        // picture.setBackgroundResource(R.drawable.selector);\r\n\r\n        return v;\r\n    }","title":"Android drawSelectorOnTop with GridView","body":"<p>I think you are mistaken about <code>setDrawSelectorOnTop(boolean)</code>. The <code>selector</code> drawable that is being referenced here is GridView's internal <code>selector</code> drawable.</p>\n\n<p>Even in the simplest implementation of <code>GridView</code>, when a grid item is clicked, the blue border is drawn around it. This is because, by default, gridview's own selector is drawn <code>behind</code> the item. If you call <code>setDrawSelectorOnTop(true)</code>, the selector (blue) will be drawn over the item.</p>\n\n<p>But <code>setDrawSelectorOnTop(boolean)</code> has nothing to do with the selector you are setting in the adapter. Whether you pass <code>true</code>, or <code>false</code>, the ImageView's selector's behavior won't change.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>Instead of setting the selector on each ImageView inside the adapter, make the GridView use your selector drawable:</p>\n\n<pre><code>GridView gridView = (GridView)view.findViewById(R.id.gridview);\ngridView.setDrawSelectorOnTop(true);\n\n// Make GridView use your custom selector drawable\ngridView.setSelector(getResources().getDrawable(R.drawable.selector));\n</code></pre>\n\n<p>Now, there's no need for:</p>\n\n<pre><code>picture.setBackgroundResource(R.drawable.selector);\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Although I don't recommend this (obvious overhead), it should work:</p>\n\n<pre><code>@Override\npublic View getView(int i, View view, ViewGroup viewGroup) {\n    View v = view;\n    ImageView picture;\n\n    ....\n    ....\n\n    LayerDrawable ld = new LayerDrawable(new Drawable[] \n\n                           // Drawable from item\n                           { getResources().getDrawable(item.drawableId), \n\n                           // Selector\n                           getResources().getDrawable(R.drawable.selector)});\n\n    // Set the LayerDrawable\n    picture.setImageDrawable(ld);\n\n    // Don't need this\n    // picture.setBackgroundResource(R.drawable.selector);\n\n    return v;\n}\n</code></pre>\n"}],"owner":{"account_id":1442764,"reputation":2626,"user_id":1362348,"accept_rate":94,"display_name":"lbrendanl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14691,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20310011,"answer_count":2,"score":8,"last_activity_date":1639693595,"creation_date":1385591092,"question_id":20254232,"body_markdown":"I am developing a tabbed application in which one of the fragments, CollectionsFragment, contains a GridView with an ImageView in each slot.  I would like the to use a selector to give feedback to users when the user clicks on one of the images.  \r\n\r\nI have successfully implemented the selector, however, my problem is that the selector is only drawing in the background of the image, but I would like to the selector to draw over the entire image.  I have seen this problem referenced elsewhere, however, the solution selected by many, setting the drawSelectorOnTop property of the GridView, is not working for me.\r\n\r\nThe relevant fragment with the relevant adapter code:\r\n\r\n    public class CollectionsFragment extends Fragment {\r\n        @Override\r\n        \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n        \t\t\tBundle savedInstanceState) {\r\n                 View view = inflater.inflate(R.layout.activity_collections, container, false);\r\n                 // Grid view is inside the xml view inflated above\r\n                 GridView gridView = (GridView)view.findViewById(R.id.gridview);\r\n                 gridView.setDrawSelectorOnTop(true);\r\n                 ((GridView) gridView).setAdapter(new CustomGridViewAdapter(getActivity()));\r\n                 return view;\r\n            }\r\n        \r\n            private class CustomGridViewAdapter extends BaseAdapter {\r\n        \t    @Override\r\n        \t    public View getView(int i, View view, ViewGroup viewGroup) {\r\n        \t        View v = view;\r\n        \t        ImageView picture;\r\n        \t        TextView name;\r\n        \r\n        \t        if(v == null) {\r\n        \t            v = inflater.inflate(R.layout.collections_item, viewGroup, false);\r\n        \t            v.setTag(R.id.picture, v.findViewById(R.id.picture));\r\n        \t            v.setTag(R.id.text, v.findViewById(R.id.text));\r\n        \t        }\r\n        \r\n        \t        picture = (ImageView)v.getTag(R.id.picture);\r\n        \r\n        \t        name = (TextView)v.getTag(R.id.text);\r\n        \r\n        \t        Item item = (Item)getItem(i);\r\n        \t        name.setText(item.name);\r\n        \t        \r\n        \t        picture.setImageResource(item.drawableId);\r\n        \t        picture.setBackgroundResource(R.drawable.selector);\r\n        \t          \r\n      \t            return v;\r\n        \t    }\r\n        \t}\r\n    }\r\n\r\nAnd my selector for completeness sake:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_pressed=&quot;true&quot; \r\n          android:drawable=&quot;@color/buttonhighlight&quot;/&gt; &lt;!-- pressed state --&gt;\r\n    &lt;item android:state_focused=&quot;true&quot; \r\n          android:drawable=&quot;@color/buttonhighlight&quot;/&gt; &lt;!-- focused state --&gt;\r\n    &lt;item android:drawable=&quot;@android:color/transparent&quot;/&gt; &lt;!-- default state --&gt; \r\n    &lt;/selector&gt;\r\n\r\nThanks for any help,","title":"Android drawSelectorOnTop with GridView","body":"<p>I am developing a tabbed application in which one of the fragments, CollectionsFragment, contains a GridView with an ImageView in each slot.  I would like the to use a selector to give feedback to users when the user clicks on one of the images.  </p>\n\n<p>I have successfully implemented the selector, however, my problem is that the selector is only drawing in the background of the image, but I would like to the selector to draw over the entire image.  I have seen this problem referenced elsewhere, however, the solution selected by many, setting the drawSelectorOnTop property of the GridView, is not working for me.</p>\n\n<p>The relevant fragment with the relevant adapter code:</p>\n\n<pre><code>public class CollectionsFragment extends Fragment {\n    @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                Bundle savedInstanceState) {\n             View view = inflater.inflate(R.layout.activity_collections, container, false);\n             // Grid view is inside the xml view inflated above\n             GridView gridView = (GridView)view.findViewById(R.id.gridview);\n             gridView.setDrawSelectorOnTop(true);\n             ((GridView) gridView).setAdapter(new CustomGridViewAdapter(getActivity()));\n             return view;\n        }\n\n        private class CustomGridViewAdapter extends BaseAdapter {\n            @Override\n            public View getView(int i, View view, ViewGroup viewGroup) {\n                View v = view;\n                ImageView picture;\n                TextView name;\n\n                if(v == null) {\n                    v = inflater.inflate(R.layout.collections_item, viewGroup, false);\n                    v.setTag(R.id.picture, v.findViewById(R.id.picture));\n                    v.setTag(R.id.text, v.findViewById(R.id.text));\n                }\n\n                picture = (ImageView)v.getTag(R.id.picture);\n\n                name = (TextView)v.getTag(R.id.text);\n\n                Item item = (Item)getItem(i);\n                name.setText(item.name);\n\n                picture.setImageResource(item.drawableId);\n                picture.setBackgroundResource(R.drawable.selector);\n\n                return v;\n            }\n        }\n}\n</code></pre>\n\n<p>And my selector for completeness sake:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item android:state_pressed=\"true\" \n      android:drawable=\"@color/buttonhighlight\"/&gt; &lt;!-- pressed state --&gt;\n&lt;item android:state_focused=\"true\" \n      android:drawable=\"@color/buttonhighlight\"/&gt; &lt;!-- focused state --&gt;\n&lt;item android:drawable=\"@android:color/transparent\"/&gt; &lt;!-- default state --&gt; \n&lt;/selector&gt;\n</code></pre>\n\n<p>Thanks for any help,</p>\n"},{"tags":["java","android","firebase","if-statement","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639693258,"creation_date":1639693258,"answer_id":70386315,"question_id":70382731,"body_markdown":"Data is loaded from Firestore (and most modern cloud APIs) asynchronously, and your main code continues while that is happening. Then when the data is available, your `onComplete` is called with it, so that you can use that data.\r\n\r\nIn your current code this means that your `if (fristtimekey == 1) {` [sic] runs before the `fristtimekey = document.getLong(&quot;Frist time&quot;)` ever runs. If you set breakpoints on these lines and run the code in a debugger, or add some logging around the lines you can most easily see this.\r\n\r\nWhat this means in practice is that **any code that needs the data from the database, must be inside `onComplete`, be called from there, or be otherwise synchronized.**\r\n\r\nApplying the above to your code means:\r\n```\r\ndocRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n        progressBar.setVisibility(View.GONE); // &#128072;\r\n\r\n        if (task.isSuccessful()) {\r\n            DocumentSnapshot document = task.getResult();\r\n            if (document.exists()) {\r\n                fristtimekey = document.getLong(&quot;Frist time&quot;);\r\n                Log.d(&quot;TAG&quot;, String.valueOf(fristtimekey));\r\n                Log.d(&quot;TAG&quot;, &quot;DocumentSnapshot data: &quot; + document.getLong(&quot;Frist time&quot;) + &quot; int: &quot; + fristtimekey);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\r\n            }\r\n            // &#128071;\r\n            if (fristtimekey == 1) {\r\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n            } else {\r\n                startActivity(new Intent(getApplicationContext(), PersonalDetails2.class));\r\n            }\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nI recommend also checking out:\r\n\r\n* https://stackoverflow.com/questions/51000169/how-to-check-a-certain-data-already-exists-in-firestore-or-not/51002413#51002413\r\n* https://stackoverflow.com/questions/52057313/problems-with-firestore-connections-executing-threads/52059411#52059411\r\n* https://stackoverflow.com/questions/53244038/user-login-in-firebase/53244113#53244113","title":"Having trouble with retrived data from firebase while comparing using if","body":"<p>Data is loaded from Firestore (and most modern cloud APIs) asynchronously, and your main code continues while that is happening. Then when the data is available, your <code>onComplete</code> is called with it, so that you can use that data.</p>\n<p>In your current code this means that your <code>if (fristtimekey == 1) {</code> [sic] runs before the <code>fristtimekey = document.getLong(&quot;Frist time&quot;)</code> ever runs. If you set breakpoints on these lines and run the code in a debugger, or add some logging around the lines you can most easily see this.</p>\n<p>What this means in practice is that <strong>any code that needs the data from the database, must be inside <code>onComplete</code>, be called from there, or be otherwise synchronized.</strong></p>\n<p>Applying the above to your code means:</p>\n<pre><code>docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n        progressBar.setVisibility(View.GONE); // 👈\n\n        if (task.isSuccessful()) {\n            DocumentSnapshot document = task.getResult();\n            if (document.exists()) {\n                fristtimekey = document.getLong(&quot;Frist time&quot;);\n                Log.d(&quot;TAG&quot;, String.valueOf(fristtimekey));\n                Log.d(&quot;TAG&quot;, &quot;DocumentSnapshot data: &quot; + document.getLong(&quot;Frist time&quot;) + &quot; int: &quot; + fristtimekey);\n            } else {\n                Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\n            }\n            // 👇\n            if (fristtimekey == 1) {\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\n            } else {\n                startActivity(new Intent(getApplicationContext(), PersonalDetails2.class));\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\n        }\n    }\n});\n</code></pre>\n<p>I recommend also checking out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51000169/how-to-check-a-certain-data-already-exists-in-firestore-or-not/51002413#51002413\">How to check a certain data already exists in firestore or not</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52057313/problems-with-firestore-connections-executing-threads/52059411#52059411\">Problems with Firestore connections executing threads</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53244038/user-login-in-firebase/53244113#53244113\">User login in Firebase</a></li>\n</ul>\n"}],"owner":{"account_id":23234635,"reputation":1,"user_id":17324784,"display_name":"MagicTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639693258,"creation_date":1639673345,"question_id":70382731,"body_markdown":"I am very new to android studio and could really use your help.\r\ni am having problem with logIn page code where after login using firebase auth. i would retrive a int value from firestore in login page and then decide where to go next(layout). it always goes to main activity rather personaldetails2(i.e, the if condition is always false even the value inside fristtimekey = 1).\r\n\r\nplease check where the problem is at if(fristtimekey ==1), other then that ever thing is correct(logcat is correct too with value 1 in it).  \r\n\r\nhere my code:\r\n\r\n    fAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Toast.makeText(Login.this, &quot;LogedIn succesfully&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                userid = fAuth.getCurrentUser().getUid();\r\n                DocumentReference docRef = foster.collection(&quot;users&quot;).document(userid);\r\n                DocumentReference document = foster.document(&quot;users/email&quot;);\r\n                docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            DocumentSnapshot document = task.getResult();\r\n                            if (document.exists()) {\r\n                                fristtimekey = document.getLong(&quot;Frist time&quot;);\r\n                                Log.d(&quot;TAG&quot;, String.valueOf(fristtimekey));\r\n                                Log.d(&quot;TAG&quot;, &quot;DocumentSnapshot data: &quot; + document.getLong(&quot;Frist time&quot;) + &quot; int: &quot; + fristtimekey);\r\n                            } else {\r\n                                Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\r\n                            }\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n                progressBar.setVisibility(View.GONE);\r\n                if (fristtimekey == 1) {\r\n                    startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n                } else {\r\n                    startActivity(new Intent(getApplicationContext(), PersonalDetails2.class));\r\n                }\r\n            } else {\r\n                Toast.makeText(Login.this, &quot;LogedIn unsuccesfully&quot;, Toast.LENGTH_SHORT).show();\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    }); \r\n\r\n","title":"Having trouble with retrived data from firebase while comparing using if","body":"<p>I am very new to android studio and could really use your help.\ni am having problem with logIn page code where after login using firebase auth. i would retrive a int value from firestore in login page and then decide where to go next(layout). it always goes to main activity rather personaldetails2(i.e, the if condition is always false even the value inside fristtimekey = 1).</p>\n<p>please check where the problem is at if(fristtimekey ==1), other then that ever thing is correct(logcat is correct too with value 1 in it).</p>\n<p>here my code:</p>\n<pre><code>fAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n            Toast.makeText(Login.this, &quot;LogedIn succesfully&quot;, Toast.LENGTH_SHORT).show();\n\n            userid = fAuth.getCurrentUser().getUid();\n            DocumentReference docRef = foster.collection(&quot;users&quot;).document(userid);\n            DocumentReference document = foster.document(&quot;users/email&quot;);\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        DocumentSnapshot document = task.getResult();\n                        if (document.exists()) {\n                            fristtimekey = document.getLong(&quot;Frist time&quot;);\n                            Log.d(&quot;TAG&quot;, String.valueOf(fristtimekey));\n                            Log.d(&quot;TAG&quot;, &quot;DocumentSnapshot data: &quot; + document.getLong(&quot;Frist time&quot;) + &quot; int: &quot; + fristtimekey);\n                        } else {\n                            Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\n                        }\n                    } else {\n                        Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\n                    }\n                }\n            });\n            progressBar.setVisibility(View.GONE);\n            if (fristtimekey == 1) {\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\n            } else {\n                startActivity(new Intent(getApplicationContext(), PersonalDetails2.class));\n            }\n        } else {\n            Toast.makeText(Login.this, &quot;LogedIn unsuccesfully&quot;, Toast.LENGTH_SHORT).show();\n            progressBar.setVisibility(View.GONE);\n        }\n    }\n}); \n</code></pre>\n"},{"tags":["java","eclipse","arduino","windows-7-x64"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1410995742,"post_id":25901213,"comment_id":40540802,"body_markdown":"If you&#39;re COM40 is what device manager lists for your Uno can you also try `&quot;\\\\\\\\.\\\\COM40&quot;` ?","body":"If you&#39;re COM40 is what device manager lists for your Uno can you also try <code>&quot;\\\\\\\\.\\\\COM40&quot;</code> ?"},{"owner":{"account_id":2247078,"reputation":75,"user_id":1980183,"accept_rate":17,"display_name":"Ted Mad"},"score":0,"creation_date":1410996682,"post_id":25901213,"comment_id":40541050,"body_markdown":"I tried that, but still i get the same output!","body":"I tried that, but still i get the same output!"},{"owner":{"account_id":4103338,"reputation":2846,"user_id":3368201,"accept_rate":75,"display_name":"frarugi87"},"score":0,"creation_date":1411042185,"post_id":25901213,"comment_id":40559288,"body_markdown":"Are you sure no one else is using that port?","body":"Are you sure no one else is using that port?"},{"owner":{"account_id":2247078,"reputation":75,"user_id":1980183,"accept_rate":17,"display_name":"Ted Mad"},"score":0,"creation_date":1411042621,"post_id":25901213,"comment_id":40559532,"body_markdown":"It is the port that is used by the arduino IDE. Communication between the arduino board and the IDE is just fine as i can upload sketches and view the output via the serial monitor.","body":"It is the port that is used by the arduino IDE. Communication between the arduino board and the IDE is just fine as i can upload sketches and view the output via the serial monitor."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1411043881,"post_id":25901213,"comment_id":40560354,"body_markdown":"Very strange. Unfortunately I don&#39;t have enough time at the moment to debug but I have a hacky suggestion: try [Processing](https://processing.org/download/?processing). If you go to **Examples &gt; Libraries &gt; serial** you should be able to modify one of the samples to use your port and see if the port can be opened to begin with. If it does, go one step further and try reading/writing to the port. If this is all fine, you can use the Processing&#39;s serial library in your java project, or see it&#39;s implementation (e.g. `C:\\Program Files (x86)\\processing-2.0.1\\modes\\java\\libraries\\serial`). HTH","body":"Very strange. Unfortunately I don&#39;t have enough time at the moment to debug but I have a hacky suggestion: try <a href=\"https://processing.org/download/?processing\" rel=\"nofollow noreferrer\">Processing</a>. If you go to <b>Examples &gt; Libraries &gt; serial</b> you should be able to modify one of the samples to use your port and see if the port can be opened to begin with. If it does, go one step further and try reading/writing to the port. If this is all fine, you can use the Processing&#39;s serial library in your java project, or see it&#39;s implementation (e.g. <code>C:\\Program Files (x86)\\processing-2.0.1\\modes\\java\\libraries\\serial</code>). HTH"},{"owner":{"account_id":2247078,"reputation":75,"user_id":1980183,"accept_rate":17,"display_name":"Ted Mad"},"score":0,"creation_date":1411058177,"post_id":25901213,"comment_id":40570352,"body_markdown":"@GeorgeProfenza i used this sketch [sketch](http://arduinobasics.blogspot.co.uk/2012/07/arduino-basics-simple-arduino-serial.html) , and i was able to read and write to the arduino board via serial communication. I will check out the Processing&#39;s serial library, and if you find a solution to this please get back her and post it.","body":"@GeorgeProfenza i used this sketch <a href=\"http://arduinobasics.blogspot.co.uk/2012/07/arduino-basics-simple-arduino-serial.html\" rel=\"nofollow noreferrer\">sketch</a> , and i was able to read and write to the arduino board via serial communication. I will check out the Processing&#39;s serial library, and if you find a solution to this please get back her and post it."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1411066866,"post_id":25901213,"comment_id":40575058,"body_markdown":"so there is a problem with your implementation above, have a look at `C:\\Program Files (x86)\\processing-2.0.1\\modes\\java\\libraries\\serial\\src\\processing\\serial\\Serial.java`. Note that their implementation depends on Processing&#39;s PApplet class, but it&#39;s fairly easy to understand what&#39;s going on, so you can reuse code for your own thing","body":"so there is a problem with your implementation above, have a look at <code>C:\\Program Files (x86)\\processing-2.0.1\\modes\\java\\libraries\\serial\\src\\proce&zwnj;&#8203;ssing\\serial\\Serial.&zwnj;&#8203;java</code>. Note that their implementation depends on Processing&#39;s PApplet class, but it&#39;s fairly easy to understand what&#39;s going on, so you can reuse code for your own thing"},{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":0,"creation_date":1432848416,"post_id":25901213,"comment_id":49109797,"body_markdown":"Did you find a solution for this ?","body":"Did you find a solution for this ?"}],"answers":[{"tags":[],"owner":{"account_id":7422762,"reputation":11,"user_id":5646433,"display_name":"Bancila Sorin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491849146,"creation_date":1491735389,"answer_id":43305895,"question_id":25901213,"body_markdown":"\r\n\t\r\nThis code is working with both, Arduino and Raspberry Pi.\r\n\r\nBut in order to run that properly with Arduino, you need to comment (or delete) this line of code &quot;System.setProperty(&quot;gnu.io.rxtx.SerialPorts&quot;, &quot;/dev/ttyACM0&quot;);&quot;. It is the first line of public void initialize() ","title":"Arduino Could not find COM port","body":"<p>This code is working with both, Arduino and Raspberry Pi.</p>\n\n<p>But in order to run that properly with Arduino, you need to comment (or delete) this line of code \"System.setProperty(\"gnu.io.rxtx.SerialPorts\", \"/dev/ttyACM0\");\". It is the first line of public void initialize() </p>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639692351,"creation_date":1505596820,"answer_id":46258529,"question_id":25901213,"body_markdown":"On **Windows**, just deleted the following line:\r\n\r\n    System.setProperty(&quot;gnu.io.rxtx.SerialPorts&quot;, &quot;/dev/ttyACM0&quot;);","title":"Arduino Could not find COM port","body":"<p>On <strong>Windows</strong>, just deleted the following line:</p>\n<pre><code>System.setProperty(&quot;gnu.io.rxtx.SerialPorts&quot;, &quot;/dev/ttyACM0&quot;);\n</code></pre>\n"}],"owner":{"account_id":2247078,"reputation":75,"user_id":1980183,"accept_rate":17,"display_name":"Ted Mad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639692351,"creation_date":1410992194,"question_id":25901213,"body_markdown":"I used the below code sample to communicate with my Arduino-uno board. The board uses COM40. But when i ran this code from Eclipse, i get the message &quot;Could not find COM port&quot;. The board connects via COM40 from the Arduino IDE. My machine is a 64bit Windows7. \r\n   \r\n    package control;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import gnu.io.CommPortIdentifier; \r\n    import gnu.io.SerialPort;\r\n    import gnu.io.SerialPortEvent; \r\n    import gnu.io.SerialPortEventListener; \r\n    import java.util.Enumeration;\r\n\r\n\r\n    public class SerialTest implements SerialPortEventListener {\r\n\tSerialPort serialPort;\r\n        /** The port we&#39;re normally going to use. */\r\n\tprivate static final String PORT_NAMES[] = { \r\n\t\t\t&quot;/dev/tty.usbserial-A9007UX1&quot;, // Mac OS X\r\n                        &quot;/dev/ttyACM0&quot;, // Raspberry Pi\r\n\t\t\t&quot;/dev/ttyUSB0&quot;, // Linux\r\n\t\t\t&quot;COM40&quot;, // Windows\r\n\t};\r\n\t/**\r\n\t* A BufferedReader which will be fed by a InputStreamReader \r\n\t* converting the bytes into characters \r\n\t* making the displayed results codepage independent\r\n\t*/\r\n\tprivate BufferedReader input;\r\n\t/** The output stream to the port */\r\n\tprivate OutputStream output;\r\n\t/** Milliseconds to block while waiting for port open */\r\n\tprivate static final int TIME_OUT = 2000;\r\n\t/** Default bits per second for COM port. */\r\n\tprivate static final int DATA_RATE = 9600;\r\n\r\n\tpublic void initialize() {\r\n                // the next line is for Raspberry Pi and \r\n                // gets us into the while loop and was suggested here was suggested http://www.raspberrypi.org/phpBB3/viewtopic.php?f=81&amp;t=32186\r\n                System.setProperty(&quot;gnu.io.rxtx.SerialPorts&quot;, &quot;/dev/ttyACM0&quot;);\r\n\r\n\t\tCommPortIdentifier portId = null;\r\n\t\tEnumeration portEnum = CommPortIdentifier.getPortIdentifiers();\r\n\r\n\t\t//First, Find an instance of serial port as set in PORT_NAMES.\r\n\t\twhile (portEnum.hasMoreElements()) {\r\n\t\t\tCommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();\r\n\t\t\tfor (String portName : PORT_NAMES) {\r\n\t\t\t\tif (currPortId.getName().equals(portName)) {\r\n\t\t\t\t\tportId = currPortId;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (portId == null) {\r\n\t\t\tSystem.out.println(&quot;Could not find COM port.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// open serial port, and use class name for the appName.\r\n\t\t\tserialPort = (SerialPort) portId.open(this.getClass().getName(),\r\n\t\t\t\t\tTIME_OUT);\r\n\r\n\t\t\t// set port parameters\r\n\t\t\tserialPort.setSerialPortParams(DATA_RATE,\r\n\t\t\t\t\tSerialPort.DATABITS_8,\r\n\t\t\t\t\tSerialPort.STOPBITS_1,\r\n\t\t\t\t\tSerialPort.PARITY_NONE);\r\n\r\n\t\t\t// open the streams\r\n\t\t\tinput = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));\r\n\t\t\toutput = serialPort.getOutputStream();\r\n\r\n\t\t\t// add event listeners\r\n\t\t\tserialPort.addEventListener(this);\r\n\t\t\tserialPort.notifyOnDataAvailable(true);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e.toString());\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * This should be called when you stop using the port.\r\n\t * This will prevent port locking on platforms like Linux.\r\n\t */\r\n\tpublic synchronized void close() {\r\n\t\tif (serialPort != null) {\r\n\t\t\tserialPort.removeEventListener();\r\n\t\t\tserialPort.close();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Handle an event on the serial port. Read the data and print it.\r\n\t */\r\n\tpublic synchronized void serialEvent(SerialPortEvent oEvent) {\r\n\t\tif (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {\r\n\t\t\ttry {\r\n\t\t\t\tString inputLine=input.readLine();\r\n\t\t\t\tSystem.out.println(inputLine);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.err.println(e.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Ignore all the other eventTypes, but you should consider the other ones.\r\n\t}\r\n\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSerialTest main = new SerialTest();\r\n\t\tmain.initialize();\r\n\t\tThread t=new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\t//the following line will keep this app alive for 1000 seconds,\r\n\t\t\t\t//waiting for events to occur and responding to them (printing incoming messages to console).\r\n\t\t\t\ttry {Thread.sleep(1000000);} catch (InterruptedException ie) {}\r\n\t\t\t}\r\n\t\t};\r\n\t\tt.start();\r\n\t\tSystem.out.println(&quot;Started&quot;);\r\n\t}\r\n}\r\n","title":"Arduino Could not find COM port","body":"<p>I used the below code sample to communicate with my Arduino-uno board. The board uses COM40. But when i ran this code from Eclipse, i get the message \"Could not find COM port\". The board connects via COM40 from the Arduino IDE. My machine is a 64bit Windows7. </p>\n\n<pre><code>package control;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport gnu.io.CommPortIdentifier; \nimport gnu.io.SerialPort;\nimport gnu.io.SerialPortEvent; \nimport gnu.io.SerialPortEventListener; \nimport java.util.Enumeration;\n\n\npublic class SerialTest implements SerialPortEventListener {\nSerialPort serialPort;\n    /** The port we're normally going to use. */\nprivate static final String PORT_NAMES[] = { \n        \"/dev/tty.usbserial-A9007UX1\", // Mac OS X\n                    \"/dev/ttyACM0\", // Raspberry Pi\n        \"/dev/ttyUSB0\", // Linux\n        \"COM40\", // Windows\n};\n/**\n* A BufferedReader which will be fed by a InputStreamReader \n* converting the bytes into characters \n* making the displayed results codepage independent\n*/\nprivate BufferedReader input;\n/** The output stream to the port */\nprivate OutputStream output;\n/** Milliseconds to block while waiting for port open */\nprivate static final int TIME_OUT = 2000;\n/** Default bits per second for COM port. */\nprivate static final int DATA_RATE = 9600;\n\npublic void initialize() {\n            // the next line is for Raspberry Pi and \n            // gets us into the while loop and was suggested here was suggested http://www.raspberrypi.org/phpBB3/viewtopic.php?f=81&amp;t=32186\n            System.setProperty(\"gnu.io.rxtx.SerialPorts\", \"/dev/ttyACM0\");\n\n    CommPortIdentifier portId = null;\n    Enumeration portEnum = CommPortIdentifier.getPortIdentifiers();\n\n    //First, Find an instance of serial port as set in PORT_NAMES.\n    while (portEnum.hasMoreElements()) {\n        CommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();\n        for (String portName : PORT_NAMES) {\n            if (currPortId.getName().equals(portName)) {\n                portId = currPortId;\n                break;\n            }\n        }\n    }\n    if (portId == null) {\n        System.out.println(\"Could not find COM port.\");\n        return;\n    }\n\n    try {\n        // open serial port, and use class name for the appName.\n        serialPort = (SerialPort) portId.open(this.getClass().getName(),\n                TIME_OUT);\n\n        // set port parameters\n        serialPort.setSerialPortParams(DATA_RATE,\n                SerialPort.DATABITS_8,\n                SerialPort.STOPBITS_1,\n                SerialPort.PARITY_NONE);\n\n        // open the streams\n        input = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));\n        output = serialPort.getOutputStream();\n\n        // add event listeners\n        serialPort.addEventListener(this);\n        serialPort.notifyOnDataAvailable(true);\n    } catch (Exception e) {\n        System.err.println(e.toString());\n    }\n}\n\n/**\n * This should be called when you stop using the port.\n * This will prevent port locking on platforms like Linux.\n */\npublic synchronized void close() {\n    if (serialPort != null) {\n        serialPort.removeEventListener();\n        serialPort.close();\n    }\n}\n\n/**\n * Handle an event on the serial port. Read the data and print it.\n */\npublic synchronized void serialEvent(SerialPortEvent oEvent) {\n    if (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {\n        try {\n            String inputLine=input.readLine();\n            System.out.println(inputLine);\n        } catch (Exception e) {\n            System.err.println(e.toString());\n        }\n    }\n    // Ignore all the other eventTypes, but you should consider the other ones.\n}\n\n\n\npublic static void main(String[] args) throws Exception {\n    SerialTest main = new SerialTest();\n    main.initialize();\n    Thread t=new Thread() {\n        public void run() {\n            //the following line will keep this app alive for 1000 seconds,\n            //waiting for events to occur and responding to them (printing incoming messages to console).\n            try {Thread.sleep(1000000);} catch (InterruptedException ie) {}\n        }\n    };\n    t.start();\n    System.out.println(\"Started\");\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","jackson","fasterxml"],"comments":[{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":0,"creation_date":1593598445,"post_id":62674295,"comment_id":110835051,"body_markdown":"If it&#39;s 40GB of JSON, I doubt that the whole dataset will fit in your memory. Even once deserialized into a Set of Objects.","body":"If it&#39;s 40GB of JSON, I doubt that the whole dataset will fit in your memory. Even once deserialized into a Set of Objects."},{"owner":{"account_id":5004307,"reputation":3369,"user_id":4022390,"accept_rate":55,"display_name":"Viet"},"score":0,"creation_date":1593598461,"post_id":62674295,"comment_id":110835062,"body_markdown":"may write your self parser with `JsonParser.nextToken()`","body":"may write your self parser with <code>JsonParser.nextToken()</code>"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":1,"creation_date":1593599267,"post_id":62674295,"comment_id":110835472,"body_markdown":"https://www.baeldung.com/jackson-streaming-api","body":"<a href=\"https://www.baeldung.com/jackson-streaming-api\" rel=\"nofollow noreferrer\">baeldung.com/jackson-streaming-api</a>"},{"owner":{"account_id":9909147,"reputation":7615,"user_id":11377112,"display_name":"Animesh Sahu"},"score":0,"creation_date":1593599434,"post_id":62674295,"comment_id":110835553,"body_markdown":"Streaming APIs are available like: https://sites.google.com/site/gson/streaming these will dispose string data (json) as soon as they are decompiled into Java objects.","body":"Streaming APIs are available like: <a href=\"https://sites.google.com/site/gson/streaming\" rel=\"nofollow noreferrer\">sites.google.com/site/gson/streaming</a> these will dispose string data (json) as soon as they are decompiled into Java objects."},{"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"score":0,"creation_date":1593600452,"post_id":62674295,"comment_id":110836042,"body_markdown":"Why do you need it as a list of objects?","body":"Why do you need it as a list of objects?"}],"answers":[{"tags":[],"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639692057,"creation_date":1593598425,"answer_id":62674541,"question_id":62674295,"body_markdown":"&gt; is there a way to read this file using BufferedReader and then to push\r\n&gt; object by object ?\r\n\r\nOf course, not. Even you can open this file how you can store 40GB as java objects in memory? I think you don&#39;t have such amount of memory in you computers (but technically using `ObjectMapper` you should have about 2 times more operation memory - 40GB for store json + 40GB for store results as java objects = 80 GB). \r\n\r\nI think you should use any way from this [questions][1], but store information in databases or files instead of memory. For example, if you have millions rows in json, you should parse and save every rows to database without keeping it all in memory. And then you can get this data from database step by step (for example, not more then 1GB for every time). \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file","title":"Read a huge json array file of objects","body":"<blockquote>\n<p>is there a way to read this file using BufferedReader and then to push\nobject by object ?</p>\n</blockquote>\n<p>Of course, not. Even you can open this file how you can store 40GB as java objects in memory? I think you don't have such amount of memory in you computers (but technically using <code>ObjectMapper</code> you should have about 2 times more operation memory - 40GB for store json + 40GB for store results as java objects = 80 GB).</p>\n<p>I think you should use any way from this <a href=\"https://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file\">questions</a>, but store information in databases or files instead of memory. For example, if you have millions rows in json, you should parse and save every rows to database without keeping it all in memory. And then you can get this data from database step by step (for example, not more then 1GB for every time).</p>\n"},{"tags":[],"owner":{"account_id":13520802,"reputation":316,"user_id":9754114,"display_name":"Ayk Borstelmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593603890,"creation_date":1593600278,"answer_id":62675071,"question_id":62674295,"body_markdown":"You should definitly have a look at the Jackson Streaming API (https://www.baeldung.com/jackson-streaming-api). I used it myself for GB large JSON files. The great thing is you can divide your JSON into several smaller JSON objects and then parse them with `mapper.readTree(parser)`. That way you can combine the convenience of normal Jackson with the speed and scalability of the Streaming API.  \r\n\r\nRelated to your problem:\r\n\r\nI understood that your have a really large array (which is the reason for the file size) and some much more readable objects:\r\n\r\ne.g.:\r\n```json\r\n[ // 40GB\r\n{}, // Only 400 MB\r\n{},\r\n]\r\n```\r\n\r\nWhat you can do now is to parse the file with Jackson&#39;s Streaming API and go through the array. But each individual object can be parsed as &quot;regular&quot; Jackson object and then processed easily.\r\n\r\nYou may have a look at this https://stackoverflow.com/questions/24835431/use-jackson-to-stream-parse-an-array-of-json-objects which actually matches your problem pretty well.","title":"Read a huge json array file of objects","body":"<p>You should definitly have a look at the Jackson Streaming API (<a href=\"https://www.baeldung.com/jackson-streaming-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-streaming-api</a>). I used it myself for GB large JSON files. The great thing is you can divide your JSON into several smaller JSON objects and then parse them with <code>mapper.readTree(parser)</code>. That way you can combine the convenience of normal Jackson with the speed and scalability of the Streaming API.</p>\n<p>Related to your problem:</p>\n<p>I understood that your have a really large array (which is the reason for the file size) and some much more readable objects:</p>\n<p>e.g.:</p>\n<pre><code>[ // 40GB\n{}, // Only 400 MB\n{},\n]\n</code></pre>\n<p>What you can do now is to parse the file with Jackson's Streaming API and go through the array. But each individual object can be parsed as &quot;regular&quot; Jackson object and then processed easily.</p>\n<p>You may have a look at this <a href=\"https://stackoverflow.com/questions/24835431/use-jackson-to-stream-parse-an-array-of-json-objects\">Use Jackson To Stream Parse an Array of Json Objects</a> which actually matches your problem pretty well.</p>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4673,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62674541,"answer_count":2,"score":5,"last_activity_date":1639692057,"creation_date":1593597520,"question_id":62674295,"body_markdown":"I have a big json file, about ~40Gb in size. When I try to convert this file of array of objects to a list of java objects, it crashes. I&#39;ve used all sizes of maximum heap `xmx` but nothing has worked!\r\n\r\n    public Set&lt;Interlocutor&gt; readJsonInterlocutorsToPersist() {\r\n    \tString userHome = System.getProperty(USER_HOME);\r\n    \tlog.debug(&quot;Read file interlocutors &quot;+userHome);\r\n    \ttry {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\t// JSON file to Java object\r\n    \t\tSet&lt;Interlocutor&gt; interlocutorDeEntities = mapper.readValue(\r\n    \t\t\t\tnew File(userHome + INTERLOCUTORS_TO_PERSIST),\r\n    \t\t\t\tnew TypeReference&lt;Set&lt;Interlocutor&gt;&gt;() {\r\n    \t\t\t\t});\r\n    \t\treturn interlocutorDeEntities;\r\n    \t} catch (Exception e) {\r\n    \t\tlog.error(&quot;Exception while Reading InterlocutorsToPersist file.&quot;,\r\n    \t\t\t\te.getMessage());\r\n    \t\treturn null;\r\n    \t}\r\n    } \r\n\r\n\r\nIs there a way to read this file using `BufferedReader` and then to push object by object?","title":"Read a huge json array file of objects","body":"<p>I have a big json file, about ~40Gb in size. When I try to convert this file of array of objects to a list of java objects, it crashes. I've used all sizes of maximum heap <code>xmx</code> but nothing has worked!</p>\n<pre><code>public Set&lt;Interlocutor&gt; readJsonInterlocutorsToPersist() {\n    String userHome = System.getProperty(USER_HOME);\n    log.debug(&quot;Read file interlocutors &quot;+userHome);\n    try {\n        ObjectMapper mapper = new ObjectMapper();\n        // JSON file to Java object\n        Set&lt;Interlocutor&gt; interlocutorDeEntities = mapper.readValue(\n                new File(userHome + INTERLOCUTORS_TO_PERSIST),\n                new TypeReference&lt;Set&lt;Interlocutor&gt;&gt;() {\n                });\n        return interlocutorDeEntities;\n    } catch (Exception e) {\n        log.error(&quot;Exception while Reading InterlocutorsToPersist file.&quot;,\n                e.getMessage());\n        return null;\n    }\n} \n</code></pre>\n<p>Is there a way to read this file using <code>BufferedReader</code> and then to push object by object?</p>\n"},{"tags":["java","junit","autowired","junit5","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":7455221,"reputation":397,"user_id":5668681,"display_name":"bausov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632085169,"creation_date":1632085169,"answer_id":69247038,"question_id":69246261,"body_markdown":"Try this:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {FormatBO.class,Mapper.class, DetailsServiceImpl.class})\r\n    public class SimpleImplTest {\r\n    \r\n        @MockBean\r\n        Mapper mapper;\r\n    \r\n        @Autowired\r\n        FormatBO formatBO;\r\n    \r\n        @Autowired\r\n        private DetailsServiceImpl service;\r\n    \r\n        static TestBean bean;\r\n    \r\n        @BeforeEach\r\n        public void initData() {\r\n            bean = new TestBean();\r\n            bean.setCategoryId(&quot;1&quot;);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void getBasicDetailsTest(){\r\n            service.fetchBasicDetails(bean);\r\n        }\r\n    }","title":"@Autowired annotation does not work in Junit5 Jupiter","body":"<p>Try this:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {FormatBO.class,Mapper.class, DetailsServiceImpl.class})\npublic class SimpleImplTest {\n\n    @MockBean\n    Mapper mapper;\n\n    @Autowired\n    FormatBO formatBO;\n\n    @Autowired\n    private DetailsServiceImpl service;\n\n    static TestBean bean;\n\n    @BeforeEach\n    public void initData() {\n        bean = new TestBean();\n        bean.setCategoryId(&quot;1&quot;);\n    }\n\n\n    @Test\n    public void getBasicDetailsTest(){\n        service.fetchBasicDetails(bean);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1678,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639691904,"creation_date":1632077915,"question_id":69246261,"body_markdown":"With Junit 4 Autowired functionality was working fine. But once I migrated to Junit 5, I am not able to make Autowired work and there are lot of dependencies to make everything cover by mocking each object. Went through lot of websites and tried various annotations and dependencies, but still not able to make it work. \r\nBelow is my Service implementation class.\r\n\r\n    @Service\r\n    public class DetailsServiceImpl implements IDetailsService {\r\n    \t@Autowired\r\n    \tFormatBO formatBO;\r\n    \t\r\n    \tpublic List&lt;TestBean&gt; fetchChargeDetails(TestBean bean){\r\n    \t\tresponse = //api call\r\n    \t\t\r\n    \t\tList&lt;TestBean&gt; details = formatBO.fetchMoreDetails(response);\r\n    \t\treturn details;\r\n    \t}\r\n    }\r\n\r\nBelow is my test class\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ExtendWith(SpringExtension.class)\r\n    @RunWith(JUnitPlatform.class)\r\n    @ContextConfiguration(classes = {FormatBO.class,Mapper.class})\r\n    public class SimpleImplTest {\r\n    \t\r\n    \t@MockBean\r\n    \tMapper mapper;\r\n    \r\n    \t@Autowired\r\n    \tFormatBO formatBO;\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate DetailsServiceImpl service = new DetailsServiceImpl();\r\n    \t\r\n    \tstatic TestBean bean;\r\n    \t\r\n    \t@BeforeEach\r\n    \tpublic void initData() {\r\n    \t\tbean = new TestBean();\r\n    \t\tbean.setCategoryId(&quot;1&quot;);\r\n    \t}\r\n    \r\n    \t\r\n    \t@Test\r\n    \tpublic void getBasicDetailsTest(){\r\n    \t\tservice.fetchBasicDetails(bean);\r\n    \t}\r\n    }\r\n\r\nFormatBO.class is another class where other functionalities are there which I am trying to autowire, which is not happening. Instead getting null pointer when invoking fetchMoreDetails method since formatBO is null. Please help to fix this issue","title":"@Autowired annotation does not work in Junit5 Jupiter","body":"<p>With Junit 4 Autowired functionality was working fine. But once I migrated to Junit 5, I am not able to make Autowired work and there are lot of dependencies to make everything cover by mocking each object. Went through lot of websites and tried various annotations and dependencies, but still not able to make it work.\nBelow is my Service implementation class.</p>\n<pre><code>@Service\npublic class DetailsServiceImpl implements IDetailsService {\n    @Autowired\n    FormatBO formatBO;\n    \n    public List&lt;TestBean&gt; fetchChargeDetails(TestBean bean){\n        response = //api call\n        \n        List&lt;TestBean&gt; details = formatBO.fetchMoreDetails(response);\n        return details;\n    }\n}\n</code></pre>\n<p>Below is my test class</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ExtendWith(SpringExtension.class)\n@RunWith(JUnitPlatform.class)\n@ContextConfiguration(classes = {FormatBO.class,Mapper.class})\npublic class SimpleImplTest {\n    \n    @MockBean\n    Mapper mapper;\n\n    @Autowired\n    FormatBO formatBO;\n    \n    @InjectMocks\n    private DetailsServiceImpl service = new DetailsServiceImpl();\n    \n    static TestBean bean;\n    \n    @BeforeEach\n    public void initData() {\n        bean = new TestBean();\n        bean.setCategoryId(&quot;1&quot;);\n    }\n\n    \n    @Test\n    public void getBasicDetailsTest(){\n        service.fetchBasicDetails(bean);\n    }\n}\n</code></pre>\n<p>FormatBO.class is another class where other functionalities are there which I am trying to autowire, which is not happening. Instead getting null pointer when invoking fetchMoreDetails method since formatBO is null. Please help to fix this issue</p>\n"},{"tags":["java","curl","pact"],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639691572,"creation_date":1600773399,"answer_id":64008577,"question_id":64008576,"body_markdown":"There may be better ways to do this, but I was able to do it using this logCurlFromPact() method that I wrote and calling it from  `pactTestTemplate`.\r\n\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n    void pactTestTemplate(PactVerificationContext context, HttpRequest request) throws IOException {\r\n        request.addHeader(&quot;Authorization&quot;, AUTHORIZATION_TOKEN);\r\n\r\n        logCurlFromPact(context, request);\r\n\r\n        context.verifyInteraction();\r\n    }\r\n\r\n\r\n    public static void logCurlFromPact(PactVerificationContext context, HttpRequest request) throws IOException {\r\n\r\n        String bodyParam = ((RequestResponseInteraction) context.getInteraction()).getRequest().getBody().valueAsString();\r\n\r\n        String bodyResponse = ((RequestResponseInteraction) context.getInteraction()).getResponse().getBody().valueAsString();\r\n\r\n        String method = ((RequestResponseInteraction) context.getInteraction()).getRequest().getMethod();\r\n\r\n        String baseUrl = &quot;&quot;;\r\n        if (method.equals(&quot;POST&quot;)) {\r\n            baseUrl = ((HttpPost) request).getURI().toString();\r\n        } else if (method.equals(&quot;GET&quot;)) {\r\n            baseUrl = ((HttpGet) request).getURI().toString();\r\n        }\r\n\r\n        Header[] headers = request.getAllHeaders();\r\n\r\n        String headersString = &quot;&quot;;\r\n\r\n        for (Header s : headers) {\r\n            headersString = headersString + &quot;--header &quot; + &quot;&#39;&quot; + s.getName() + &quot;: &quot; + s.getValue() + &quot;&#39;&quot; + &quot;\\\\&quot; + &quot;\\n&quot;;\r\n        }\r\n\r\n        String curl = &quot;&quot; +\r\n                &quot;curl &quot; +\r\n                &quot;&#39;&quot; + baseUrl + &quot;&#39; \\\\&quot; + &quot;\\n&quot; +\r\n                headersString +\r\n                &quot;--data-binary &quot; + &quot;&#39;&quot; + bodyParam + &quot;&#39; \\\\&quot; + &quot;\\n&quot; +\r\n                &quot;--compressed \\\\&quot; + &quot;\\n&quot; +\r\n                &quot;--insecure \\\\&quot; + &quot;\\n&quot; +\r\n                &quot;--verbose&quot; +\r\n                &quot;&quot;;\r\n\r\n        System.out.println(curl + &quot;\\n\\n &quot; + bodyResponse + &quot;\\n ---- \\n\\n&quot;);\r\n\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/ZICju.png\r\n\r\nAnd here a sample for a logback.xml file in case you may want to use logs instead of System.out.print() \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} %-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;File&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;logback.log&lt;/file&gt;\r\n            &lt;append&gt;true&lt;/append&gt;\r\n    \r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-5level] %logger{15} - %msg%n%rEx&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;com.my.package.packagewiththelogmethod&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;File&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;curl&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;File&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nFor `Pact 4.3.2` and ```&lt;http.client.version&gt;5.1.2&lt;/http.client.version&gt;```\r\n\r\n    public static void logCurlFromPact(PactVerificationContext context, HttpRequest request) {\r\n    \r\n            String bodyParam = ((RequestResponseInteraction) context.getInteraction()).getRequest().getBody().valueAsString();\r\n    \r\n            String bodyResponse = ((RequestResponseInteraction) context.getInteraction()).getResponse().getBody().valueAsString();\r\n    \r\n            String method = ((RequestResponseInteraction) context.getInteraction()).getRequest().getMethod();\r\n    \r\n            String baseUrl = &quot;&quot;;\r\n            switch (method) {\r\n                case &quot;POST&quot;:\r\n                    baseUrl = ((HttpPost) request).getURI().toString();\r\n                    break;\r\n                case &quot;GET&quot;:\r\n                    baseUrl = ((HttpGet) request).getURI().toString();\r\n                    break;\r\n                case &quot;PUT&quot;:\r\n                    baseUrl = ((HttpPut) request).getURI().toString();\r\n                    break;\r\n                case &quot;PATCH&quot;:\r\n                    baseUrl = ((HttpPatch) request).getURI().toString();\r\n                    break;\r\n                case &quot;DELETE&quot;:\r\n                    baseUrl = ((HttpDelete) request).getURI().toString();\r\n                    break;\r\n            }\r\n    \r\n            Header[] headers = request.getAllHeaders();\r\n    \r\n            String headersString = &quot;&quot;;\r\n    \r\n            for (Header s : headers) {\r\n                headersString = headersString + &quot;--header &quot; + &quot;&#39;&quot; + s.getName() + &quot;: &quot; + s.getValue() + &quot;&#39;&quot; + &quot;\\\\&quot; + &quot;\\n&quot;;\r\n            }\r\n    \r\n            String curl = &quot;&quot; +\r\n                    &quot;curl &quot; +\r\n                    &quot;--request &quot; + method + &quot; &quot; +\r\n                    &quot;&#39;&quot; + baseUrl + &quot;&#39; \\\\&quot; + &quot;\\n&quot; +\r\n                    headersString +\r\n                    &quot;--data-binary &quot; + &quot;&#39;&quot; + bodyParam + &quot;&#39; \\\\&quot; + &quot;\\n&quot; +\r\n                    &quot;--compressed \\\\&quot; + &quot;\\n&quot; +\r\n                    &quot;--insecure \\\\&quot; + &quot;\\n&quot; +\r\n                    &quot;--verbose&quot; +\r\n                    &quot;&quot;;\r\n    \r\n            log.debug(curl + &quot;\\n\\n &quot; + bodyResponse + &quot;\\n ---- \\n\\n&quot;);\r\n        }\r\n","title":"How to turn Pact HTTP Request interactions into Curl","body":"<p>There may be better ways to do this, but I was able to do it using this logCurlFromPact() method that I wrote and calling it from  <code>pactTestTemplate</code>.</p>\n<pre><code>@TestTemplate\n@ExtendWith(PactVerificationInvocationContextProvider.class)\nvoid pactTestTemplate(PactVerificationContext context, HttpRequest request) throws IOException {\n    request.addHeader(&quot;Authorization&quot;, AUTHORIZATION_TOKEN);\n\n    logCurlFromPact(context, request);\n\n    context.verifyInteraction();\n}\n\n\npublic static void logCurlFromPact(PactVerificationContext context, HttpRequest request) throws IOException {\n\n    String bodyParam = ((RequestResponseInteraction) context.getInteraction()).getRequest().getBody().valueAsString();\n\n    String bodyResponse = ((RequestResponseInteraction) context.getInteraction()).getResponse().getBody().valueAsString();\n\n    String method = ((RequestResponseInteraction) context.getInteraction()).getRequest().getMethod();\n\n    String baseUrl = &quot;&quot;;\n    if (method.equals(&quot;POST&quot;)) {\n        baseUrl = ((HttpPost) request).getURI().toString();\n    } else if (method.equals(&quot;GET&quot;)) {\n        baseUrl = ((HttpGet) request).getURI().toString();\n    }\n\n    Header[] headers = request.getAllHeaders();\n\n    String headersString = &quot;&quot;;\n\n    for (Header s : headers) {\n        headersString = headersString + &quot;--header &quot; + &quot;'&quot; + s.getName() + &quot;: &quot; + s.getValue() + &quot;'&quot; + &quot;\\\\&quot; + &quot;\\n&quot;;\n    }\n\n    String curl = &quot;&quot; +\n            &quot;curl &quot; +\n            &quot;'&quot; + baseUrl + &quot;' \\\\&quot; + &quot;\\n&quot; +\n            headersString +\n            &quot;--data-binary &quot; + &quot;'&quot; + bodyParam + &quot;' \\\\&quot; + &quot;\\n&quot; +\n            &quot;--compressed \\\\&quot; + &quot;\\n&quot; +\n            &quot;--insecure \\\\&quot; + &quot;\\n&quot; +\n            &quot;--verbose&quot; +\n            &quot;&quot;;\n\n    System.out.println(curl + &quot;\\n\\n &quot; + bodyResponse + &quot;\\n ---- \\n\\n&quot;);\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZICju.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZICju.png\" alt=\"enter image description here\" /></a></p>\n<p>And here a sample for a logback.xml file in case you may want to use logs instead of System.out.print()</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;File&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logback.log&lt;/file&gt;\n        &lt;append&gt;true&lt;/append&gt;\n\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-5level] %logger{15} - %msg%n%rEx&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;com.my.package.packagewiththelogmethod&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;File&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;curl&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;File&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>For <code>Pact 4.3.2</code> and <code>&lt;http.client.version&gt;5.1.2&lt;/http.client.version&gt;</code></p>\n<pre><code>public static void logCurlFromPact(PactVerificationContext context, HttpRequest request) {\n\n        String bodyParam = ((RequestResponseInteraction) context.getInteraction()).getRequest().getBody().valueAsString();\n\n        String bodyResponse = ((RequestResponseInteraction) context.getInteraction()).getResponse().getBody().valueAsString();\n\n        String method = ((RequestResponseInteraction) context.getInteraction()).getRequest().getMethod();\n\n        String baseUrl = &quot;&quot;;\n        switch (method) {\n            case &quot;POST&quot;:\n                baseUrl = ((HttpPost) request).getURI().toString();\n                break;\n            case &quot;GET&quot;:\n                baseUrl = ((HttpGet) request).getURI().toString();\n                break;\n            case &quot;PUT&quot;:\n                baseUrl = ((HttpPut) request).getURI().toString();\n                break;\n            case &quot;PATCH&quot;:\n                baseUrl = ((HttpPatch) request).getURI().toString();\n                break;\n            case &quot;DELETE&quot;:\n                baseUrl = ((HttpDelete) request).getURI().toString();\n                break;\n        }\n\n        Header[] headers = request.getAllHeaders();\n\n        String headersString = &quot;&quot;;\n\n        for (Header s : headers) {\n            headersString = headersString + &quot;--header &quot; + &quot;'&quot; + s.getName() + &quot;: &quot; + s.getValue() + &quot;'&quot; + &quot;\\\\&quot; + &quot;\\n&quot;;\n        }\n\n        String curl = &quot;&quot; +\n                &quot;curl &quot; +\n                &quot;--request &quot; + method + &quot; &quot; +\n                &quot;'&quot; + baseUrl + &quot;' \\\\&quot; + &quot;\\n&quot; +\n                headersString +\n                &quot;--data-binary &quot; + &quot;'&quot; + bodyParam + &quot;' \\\\&quot; + &quot;\\n&quot; +\n                &quot;--compressed \\\\&quot; + &quot;\\n&quot; +\n                &quot;--insecure \\\\&quot; + &quot;\\n&quot; +\n                &quot;--verbose&quot; +\n                &quot;&quot;;\n\n        log.debug(curl + &quot;\\n\\n &quot; + bodyResponse + &quot;\\n ---- \\n\\n&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64008577,"answer_count":1,"score":2,"last_activity_date":1639691572,"creation_date":1600773399,"question_id":64008576,"body_markdown":"I&#39;ve been looking for a way to turn interactions for my Pact tests into a cUrl to easy debugging but not sure how to do that please.","title":"How to turn Pact HTTP Request interactions into Curl","body":"<p>I've been looking for a way to turn interactions for my Pact tests into a cUrl to easy debugging but not sure how to do that please.</p>\n"},{"tags":["java","android","android-studio","kotlin","sharedpreferences"],"comments":[{"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"score":0,"creation_date":1639684984,"post_id":70384811,"comment_id":124418945,"body_markdown":"Any reason why you are not using static variables ?","body":"Any reason why you are not using static variables ?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639684392,"creation_date":1639684392,"answer_id":70384861,"question_id":70384811,"body_markdown":"What&#39;s most likely happening is your Activity is being killed and restarted.  When this happens, you can implement onSaveInstanceState and onRestoreInstanceState to save and restore important information.\r\n\r\nThere is a limit to how much you can do via that though (about 1 MB).  It works great for simple data structures, but you&#39;re not going to save bitmaps or big network responses that way.  For that, you need to think about the right way to store things and what data belongs to the activity and should be scoped there vs the application and should be saved elsewhere and only accessed by the activity.","title":"How to not delete variables in an activity in Android studio with going in a different activity?","body":"<p>What's most likely happening is your Activity is being killed and restarted.  When this happens, you can implement onSaveInstanceState and onRestoreInstanceState to save and restore important information.</p>\n<p>There is a limit to how much you can do via that though (about 1 MB).  It works great for simple data structures, but you're not going to save bitmaps or big network responses that way.  For that, you need to think about the right way to store things and what data belongs to the activity and should be scoped there vs the application and should be saved elsewhere and only accessed by the activity.</p>\n"},{"tags":[],"owner":{"account_id":17145168,"reputation":21,"user_id":12408270,"display_name":"Dust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639691434,"creation_date":1639691434,"answer_id":70386043,"question_id":70384811,"body_markdown":"This answer https://stackoverflow.com/a/15083749/12408270 is probably what you want. \r\n\r\nYou can also use Intent.putExtra to pass data between activities.\r\n\r\nKotlin Companion objects might help you as well.","title":"How to not delete variables in an activity in Android studio with going in a different activity?","body":"<p>This answer <a href=\"https://stackoverflow.com/a/15083749/12408270\">https://stackoverflow.com/a/15083749/12408270</a> is probably what you want.</p>\n<p>You can also use Intent.putExtra to pass data between activities.</p>\n<p>Kotlin Companion objects might help you as well.</p>\n"}],"owner":{"account_id":23668836,"reputation":1,"user_id":17695921,"display_name":"Niklas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639691434,"creation_date":1639684166,"question_id":70384811,"body_markdown":"I want to program an app but have big issues mentioned in the top. I have some variables in my main activity which, when I switch in a different activity and back again, are resetted. But I want that they keep there until I close the app. I cannot use SharedPreferences I think, because there, the value of the variables will be safed also when I close the app, which I doesn&#39;t want to. Please help...","title":"How to not delete variables in an activity in Android studio with going in a different activity?","body":"<p>I want to program an app but have big issues mentioned in the top. I have some variables in my main activity which, when I switch in a different activity and back again, are resetted. But I want that they keep there until I close the app. I cannot use SharedPreferences I think, because there, the value of the variables will be safed also when I close the app, which I doesn't want to. Please help...</p>\n"},{"tags":["java","java-threads"],"answers":[{"tags":[],"owner":{"account_id":15892507,"reputation":193,"user_id":13874918,"display_name":"al pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639690209,"creation_date":1639690209,"answer_id":70385841,"question_id":70385804,"body_markdown":"I think I found the problem. I have to call the invokeAll method on my RecursiveAction rather than thread pool.","title":"Getting compile error on passing my tasks to for join pool","body":"<p>I think I found the problem. I have to call the invokeAll method on my RecursiveAction rather than thread pool.</p>\n"}],"owner":{"account_id":15892507,"reputation":193,"user_id":13874918,"display_name":"al pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639691188,"creation_date":1639689898,"question_id":70385804,"body_markdown":"I have the following code trying to create my own RecursiveAction and use fork join framework in java to run them:\r\n\r\n    class MyTask extends RecursiveAction {\r\n      int[] a;\r\n      int start;\r\n      int end;\r\n\r\n      public MyTask(int[] a, int start, int end) {\r\n        this.a = a;\r\n        this.start = start;\r\n        this.end = end;\r\n      }\r\n\r\n      @Override\r\n      protected void compute() {\r\n        if(end - start &lt;= 3) {\r\n            for(int i=0; i&lt;a.length; i++)   a[i]++;\r\n        }else {\r\n            int middle = (end + start) / 2;\r\n            List&lt;MyTask&gt; myTasks = Arrays.asList(\r\n                    new MyTask(a, start, middle),\r\n                    new MyTask(a, middle, end)\r\n            );\r\n            ForkJoinPool.commonPool().invokeAll(myTasks);\r\n        }\r\n      }\r\n    }\r\n\r\nBut when I try to call invokeAll method on my thread pool and pass the list of my tasks I get the following compilation error:\r\n\r\n&gt; java: no suitable method found for invokeAll(java.util.List&lt;MyTask&gt;)\r\n    method java.util.concurrent.AbstractExecutorService.&lt;T&gt;invokeAll(java.util.Collection&lt;? extends java.util.concurrent.Callable&lt;T&gt;&gt;) is not applicable\r\n\r\nI appreciate if you can tell me what I am missing here.\r\n\r\nP.S. I think the problem was that I had to call the invokeAll method on my task instead of thread pool but still what I don&#39;t get is why it fails if I call thread pool invokeAll method?!","title":"Getting compile error on passing my tasks to for join pool","body":"<p>I have the following code trying to create my own RecursiveAction and use fork join framework in java to run them:</p>\n<pre><code>class MyTask extends RecursiveAction {\n  int[] a;\n  int start;\n  int end;\n\n  public MyTask(int[] a, int start, int end) {\n    this.a = a;\n    this.start = start;\n    this.end = end;\n  }\n\n  @Override\n  protected void compute() {\n    if(end - start &lt;= 3) {\n        for(int i=0; i&lt;a.length; i++)   a[i]++;\n    }else {\n        int middle = (end + start) / 2;\n        List&lt;MyTask&gt; myTasks = Arrays.asList(\n                new MyTask(a, start, middle),\n                new MyTask(a, middle, end)\n        );\n        ForkJoinPool.commonPool().invokeAll(myTasks);\n    }\n  }\n}\n</code></pre>\n<p>But when I try to call invokeAll method on my thread pool and pass the list of my tasks I get the following compilation error:</p>\n<blockquote>\n<p>java: no suitable method found for invokeAll(java.util.List)\nmethod java.util.concurrent.AbstractExecutorService.invokeAll(java.util.Collection&lt;? extends java.util.concurrent.Callable&gt;) is not applicable</p>\n</blockquote>\n<p>I appreciate if you can tell me what I am missing here.</p>\n<p>P.S. I think the problem was that I had to call the invokeAll method on my task instead of thread pool but still what I don't get is why it fails if I call thread pool invokeAll method?!</p>\n"},{"tags":["java","spring-boot","spock","spring-transactions","testcontainers"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639694841,"post_id":70385698,"comment_id":124421915,"body_markdown":"on the other hand: &quot;only Propagation.NOT_SUPPORTED and Propagation.NEVER are supported&quot; for &quot;test-managed transactions&quot; [ref](https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx-enabling-transactions)","body":"on the other hand: &quot;only Propagation.NOT_SUPPORTED and Propagation.NEVER are supported&quot; for &quot;test-managed transactions&quot; <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx-enabling-transactions\" rel=\"nofollow noreferrer\">ref</a>"}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639690560,"creation_date":1639690228,"answer_id":70385848,"question_id":70385698,"body_markdown":"Your tests start an app that listens on a real port. And you use TestRestTemplate to make HTTP calls. It&#39;s the same as if you ran your test from a remote machine - would you expect `@Transactional` on such tests to be some how applied to the app?\r\n\r\n`@Transactional` will work only if you invoke your endpoint directly, without any network calls:\r\n- either inject endpoint object directly to your test and call its method\r\n- or use MockMvc (or RestAssured+MockMvc) - it will also eventually call the endpoint directly\r\n\r\nBoth of these options will simplify debugging - you&#39;ll be able to see in call stack which test is calling your production code at the moment.\r\n\r\nPS: also it shouldn&#39;t be a problem when your data is kept between test runs. You can isolate your tests with [randomization][1].\r\n\r\n\r\n  [1]: http://qala.io/blog/randomized-testing.html","title":"Data from test with @Transactional are persisting between tests","body":"<p>Your tests start an app that listens on a real port. And you use TestRestTemplate to make HTTP calls. It's the same as if you ran your test from a remote machine - would you expect <code>@Transactional</code> on such tests to be some how applied to the app?</p>\n<p><code>@Transactional</code> will work only if you invoke your endpoint directly, without any network calls:</p>\n<ul>\n<li>either inject endpoint object directly to your test and call its method</li>\n<li>or use MockMvc (or RestAssured+MockMvc) - it will also eventually call the endpoint directly</li>\n</ul>\n<p>Both of these options will simplify debugging - you'll be able to see in call stack which test is calling your production code at the moment.</p>\n<p>PS: also it shouldn't be a problem when your data is kept between test runs. You can isolate your tests with <a href=\"http://qala.io/blog/randomized-testing.html\" rel=\"nofollow noreferrer\">randomization</a>.</p>\n"}],"owner":{"account_id":23669227,"reputation":53,"user_id":17696252,"display_name":"sqarpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70385848,"answer_count":1,"score":5,"last_activity_date":1639690560,"creation_date":1639689166,"question_id":70385698,"body_markdown":"I have a small problem. I have started writing tests for my small project.\r\nThe project uses SpringBoot, standard JpaRepository from Spring, as a testing framework I am using Spock and for testing the database, I&#39;m using PostgreSQL container from TestContainers.\r\nThe problem is, that data between tests is being persisted, despite the @Transacional on each of the tests.\r\nThe strangest part is, that in the logs I can see, that transaction is rolled back. \r\nI would appreciate any help.\r\n\r\nSo, these are the files: \r\n1) File with a shared container for tests, that all integration tests should extend from:\r\n\r\n```\r\n@SpringBootTest(classes = DatabaseMain.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Testcontainers\r\nclass BaseTestIT extends Specification {\r\n    private static final Logger LOG = LoggerFactory.getLogger(BaseTestIT.class);\r\n    @Shared\r\n    private static final PostgreSQLContainer POSTGRES_CONTAINER = new PostgreSQLContainer(&quot;postgres&quot;)\r\n            .withDatabaseName(&#39;test&#39;).withUsername(\r\n            &#39;test&#39;).withPassword(&#39;test&#39;);\r\n...\r\n}\r\n```\r\n2) File with configuration:\r\n```\r\n@Configuration\r\n@PropertySource(&quot;database.properties&quot;)\r\npublic class ConfigurationIT {\r\n    private final String databaseUrl;\r\n    private final String databaseDialect;\r\n    private final String databaseType;\r\n\r\n    @Autowired\r\n    public ConfigurationIT(@Value(&quot;${test.database.url}&quot;) String databaseUrl,\r\n            @Value(&quot;${test.database.dialect}&quot;) String databaseDialect,\r\n            @Value(&quot;${test.database.type}&quot;) String databaseType) {\r\n        this.databaseDialect = databaseDialect;\r\n        this.databaseUrl = databaseUrl;\r\n        this.databaseType = databaseType;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;testIT&quot;);\r\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.testproject&quot;);\r\n        Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;spring.jpa.database&quot;, this.databaseType);\r\n        properties.put(&quot;spring.jpa.database-platform&quot;, this.databaseDialect);\r\n        properties.put(&quot;hibernate.dialect&quot;, this.databaseDialect);\r\n        properties.put(&quot;hibernate.connection.url&quot;, this.databaseUrl);\r\n        entityManagerFactoryBean.setJpaPropertyMap(properties);\r\n        return entityManagerFactoryBean;\r\n    }\r\n\r\n    @Bean\r\n    @Autowired\r\n    public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean emf) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf.getObject());\r\n        return transactionManager;\r\n    }\r\n}\r\n```\r\n3) application.yaml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\r\n    url: ${test.database.url}\r\n    username: ${test.database.username}\r\n    password: ${test.database.password}\r\n  jpa:\r\n    database-platform: ${test.database.dialect}\r\n    database: ${test.database.type}\r\n```\r\n4) and test file:\r\n```\r\n@SpringBootTest(classes = DatabaseMain.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n@Testcontainers\r\nclass ArchitectTestIT extends BaseTestIT {\r\n    private static final String NAME = &quot;name&quot;;\r\n    private static final String LAST_NAME = &quot;last_name&quot;;\r\n\r\n    @Autowired\r\n    private TestRestTemplate restTemplate;\r\n    @Autowired\r\n    private ArchitectRepository architectRepository;\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    def &quot;Creating Architect with proper DTO should return created architect and 201 code&quot;() {\r\n        given: &quot;proper architect dto&quot;\r\n            ArchitectBasicDto architectBasicDto = new ArchitectBasicDto();\r\n            architectBasicDto.setFirstName(NAME);\r\n            architectBasicDto.setLastName(LAST_NAME);\r\n            HttpEntity entity = new HttpEntity(architectBasicDto);\r\n        when: &quot;passed to architect post method&quot;\r\n            def exchange = this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity, ArchitectBasicDto.class);\r\n        then: &quot;returns code 201 with dto of created Architected with location in the header&quot;\r\n            exchange.statusCode == HttpStatus.CREATED;\r\n        and:\r\n            exchange.getBody().getFirstName() == NAME;\r\n        and:\r\n            exchange.getBody().getLastName() == LAST_NAME;\r\n        and:\r\n            def id = exchange.getBody().getId()\r\n            id != null;\r\n        and:\r\n            exchange.getHeaders().get(&quot;Location&quot;).get(0) == &quot;/architects/&quot; + id;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    def &quot;Creating Architect with not proper DTO should return code 400 and not create new Architect&quot;() {\r\n        given:\r\n            ArchitectBasicDto architectBasicDto = new ArchitectBasicDto();\r\n            architectBasicDto.setFirstName(null);\r\n            architectBasicDto.setLastName(LAST_NAME);\r\n            HttpEntity entity = new HttpEntity(architectBasicDto);\r\n        when:\r\n            def exchange = this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity, ArchitectBasicDto.class);\r\n        then:\r\n            exchange.statusCode == HttpStatus.BAD_REQUEST;\r\n        and:\r\n            exchange.getBody().getId() == null;\r\n        amd:\r\n            exchange.getBody().getFirstName() == null;\r\n        and:\r\n            exchange.getBody().getLastName() == null;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    def &quot;Removing existing Architect will return code 200 and remove it from database&quot;() {\r\n        given:\r\n            ArchitectBasicDto architectBasicDto5 = new ArchitectBasicDto();\r\n            architectBasicDto5.setFirstName(NAME);\r\n            architectBasicDto5.setLastName(LAST_NAME);\r\n            HttpEntity entity5 = new HttpEntity(architectBasicDto5);\r\n            ResponseEntity&lt;ArchitectBasicDto&gt; exchange5 =\r\n                    this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity5, ArchitectBasicDto.class);\r\n            HttpEntity entity = new HttpEntity(null);\r\n        when:\r\n            ResponseEntity&lt;ArchitectBasicDto&gt; exchange =\r\n                    this.restTemplate.exchange(&quot;/architects/&quot; + exchange5.getBody().getId(), HttpMethod.DELETE, entity,\r\n                            ArchitectBasicDto.class);\r\n        then:\r\n            exchange.statusCode == HttpStatus.OK;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    def &quot;Removing not existing Architect will give code 400 and error message about not existing Architect&quot;() {\r\n        given:\r\n            HttpEntity entity = new HttpEntity(null);\r\n        when:\r\n            ResponseEntity&lt;Map&lt;String, String&gt;&gt; exchange =\r\n                    this.restTemplate.exchange(&quot;/architects/&quot; + 2000, HttpMethod.DELETE, entity,\r\n                            Map&lt;String, String&gt;.class);\r\n        then:\r\n            exchange.statusCode == HttpStatus.BAD_REQUEST;\r\n        and:\r\n            exchange.getBody().get(&quot;message&quot;) == &quot;Architect with id 2,000 does not exist.&quot;;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    def &quot;Calling get on /architects should return all architects basic dto&quot;() {\r\n        given:\r\n            HttpEntity entity = new HttpEntity(null);\r\n        when:\r\n            ResponseEntity&lt;List&lt;ArchitectBasicDto&gt;&gt; exchange =\r\n                    this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.GET, entity,\r\n                            List&lt;ArchitectBasicDto&gt;.class);\r\n        then:\r\n            exchange.getBody().size() == 0;\r\n    }\r\n}\r\n```\r\n\r\nThe last test was a bit modified, just to show the problem. As I do not save any of the Entities, it should pass, while it does not:\r\n```\r\nCondition not satisfied:\r\n\r\nexchange.getBody().size() == 0\r\n|        |         |      |\r\n|        |         1      false\r\n|        [[id:100, firstName:name, lastName:last_name]]\r\n&lt;200,[{id=100, firstName=name, lastName=last_name}],[Content-Type:&quot;application/json&quot;, Transfer-Encoding:&quot;chunked&quot;, Date:&quot;Thu, 16 Dec 2021 20:55:38 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\r\n```\r\nAnd as for logs, they show that transactions are being rolled back:\r\n```\r\n[2021-12-16T21:55:38,337]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@5a30ab46, testMethod = $spock_feature_1_0@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\r\n[2021-12-16T21:55:38,589]  INFO [http-nio-8080-exec-1][] - DirectJDKLog.log(DirectJDKLog.java:173) - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2021-12-16T21:55:38,589]  INFO [http-nio-8080-exec-1][] - FrameworkServlet.initServletBean(FrameworkServlet.java:525) - Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2021-12-16T21:55:38,591]  INFO [http-nio-8080-exec-1][] - FrameworkServlet.initServletBean(FrameworkServlet.java:547) - Completed initialization in 2 ms\r\n[2021-12-16T21:55:38,745]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@5a30ab46, testMethod = $spock_feature_1_0@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST&#39; -&gt; list[[empty]], &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]\r\n[2021-12-16T21:55:38,749]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@317e9cf5, testMethod = $spock_feature_1_1@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST&#39; -&gt; list[[empty]], &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\r\n[2021-12-16T21:55:38,759] ERROR [http-nio-8080-exec-2][] - GlobalExceptionHandler.handleException(GlobalExceptionHandler.java:33) - isNull.architect.firstName\r\ncom.testproject.task.sharedkernel.exceptions.IllegalArgumentException: isNull.architect.firstName\r\n\tat com.testproject.task.sharedkernel.exceptions.BaseValidator.assertIsTrue(BaseValidator.java:36) ~[classes/:?]\r\n\tat com.testproject.task.architect.application.ArchitectValidator.validateName(ArchitectValidator.java:50) ~[classes/:?]\r\n\tat com.testproject.task.architect.application.ArchitectValidator.validateBasicArchitectDto(ArchitectValidator.java:38) ~[classes/:?]\r\n\tat com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl.createArchitect(ArchitectApplicationServiceImpl.java:41) ~[classes/:?]\r\n\tat com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl$$FastClassBySpringCGLIB$$e4b5b2ac.invoke(&lt;generated&gt;) ~[classes/:?]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]\r\n\tat com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl$$EnhancerBySpringCGLIB$$e31df751.createArchitect(&lt;generated&gt;) ~[classes/:?]\r\n\tat com.testproject.task.architect.rest.ArchitectRestController.createArchitect(ArchitectRestController.java:36) ~[classes/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\t...\r\n\tat java.lang.Thread.run(Thread.java:832) [?:?]\r\n[2021-12-16T21:55:38,810]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@317e9cf5, testMethod = $spock_feature_1_1@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST&#39; -&gt; list[[empty]], &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]\r\n[2021-12-16T21:55:38,818]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@9b8d3db, testMethod = $spock_feature_1_2@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST&#39; -&gt; list[[empty]], &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\r\n[2021-12-16T21:55:39,054]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@9b8d3db, testMethod = $spock_feature_1_2@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = &#39;{}&#39;, classes = &#39;{class com.testproject.task.DatabaseMain}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST&#39; -&gt; list[[empty]], &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]\r\n\r\n```\r\n\r\nSo I&#39;m a bit stuck, as for what could be the reason why those are not actually being rolled back and I would appreciate any help with that. Thanks! ","title":"Data from test with @Transactional are persisting between tests","body":"<p>I have a small problem. I have started writing tests for my small project.\nThe project uses SpringBoot, standard JpaRepository from Spring, as a testing framework I am using Spock and for testing the database, I'm using PostgreSQL container from TestContainers.\nThe problem is, that data between tests is being persisted, despite the @Transacional on each of the tests.\nThe strangest part is, that in the logs I can see, that transaction is rolled back.\nI would appreciate any help.</p>\n<p>So, these are the files:</p>\n<ol>\n<li>File with a shared container for tests, that all integration tests should extend from:</li>\n</ol>\n<pre><code>@SpringBootTest(classes = DatabaseMain.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Testcontainers\nclass BaseTestIT extends Specification {\n    private static final Logger LOG = LoggerFactory.getLogger(BaseTestIT.class);\n    @Shared\n    private static final PostgreSQLContainer POSTGRES_CONTAINER = new PostgreSQLContainer(&quot;postgres&quot;)\n            .withDatabaseName('test').withUsername(\n            'test').withPassword('test');\n...\n}\n</code></pre>\n<ol start=\"2\">\n<li>File with configuration:</li>\n</ol>\n<pre><code>@Configuration\n@PropertySource(&quot;database.properties&quot;)\npublic class ConfigurationIT {\n    private final String databaseUrl;\n    private final String databaseDialect;\n    private final String databaseType;\n\n    @Autowired\n    public ConfigurationIT(@Value(&quot;${test.database.url}&quot;) String databaseUrl,\n            @Value(&quot;${test.database.dialect}&quot;) String databaseDialect,\n            @Value(&quot;${test.database.type}&quot;) String databaseType) {\n        this.databaseDialect = databaseDialect;\n        this.databaseUrl = databaseUrl;\n        this.databaseType = databaseType;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;testIT&quot;);\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.testproject&quot;);\n        Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;spring.jpa.database&quot;, this.databaseType);\n        properties.put(&quot;spring.jpa.database-platform&quot;, this.databaseDialect);\n        properties.put(&quot;hibernate.dialect&quot;, this.databaseDialect);\n        properties.put(&quot;hibernate.connection.url&quot;, this.databaseUrl);\n        entityManagerFactoryBean.setJpaPropertyMap(properties);\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    @Autowired\n    public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean emf) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf.getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>application.yaml</li>\n</ol>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\n    url: ${test.database.url}\n    username: ${test.database.username}\n    password: ${test.database.password}\n  jpa:\n    database-platform: ${test.database.dialect}\n    database: ${test.database.type}\n</code></pre>\n<ol start=\"4\">\n<li>and test file:</li>\n</ol>\n<pre><code>@SpringBootTest(classes = DatabaseMain.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@Testcontainers\nclass ArchitectTestIT extends BaseTestIT {\n    private static final String NAME = &quot;name&quot;;\n    private static final String LAST_NAME = &quot;last_name&quot;;\n\n    @Autowired\n    private TestRestTemplate restTemplate;\n    @Autowired\n    private ArchitectRepository architectRepository;\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    def &quot;Creating Architect with proper DTO should return created architect and 201 code&quot;() {\n        given: &quot;proper architect dto&quot;\n            ArchitectBasicDto architectBasicDto = new ArchitectBasicDto();\n            architectBasicDto.setFirstName(NAME);\n            architectBasicDto.setLastName(LAST_NAME);\n            HttpEntity entity = new HttpEntity(architectBasicDto);\n        when: &quot;passed to architect post method&quot;\n            def exchange = this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity, ArchitectBasicDto.class);\n        then: &quot;returns code 201 with dto of created Architected with location in the header&quot;\n            exchange.statusCode == HttpStatus.CREATED;\n        and:\n            exchange.getBody().getFirstName() == NAME;\n        and:\n            exchange.getBody().getLastName() == LAST_NAME;\n        and:\n            def id = exchange.getBody().getId()\n            id != null;\n        and:\n            exchange.getHeaders().get(&quot;Location&quot;).get(0) == &quot;/architects/&quot; + id;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    def &quot;Creating Architect with not proper DTO should return code 400 and not create new Architect&quot;() {\n        given:\n            ArchitectBasicDto architectBasicDto = new ArchitectBasicDto();\n            architectBasicDto.setFirstName(null);\n            architectBasicDto.setLastName(LAST_NAME);\n            HttpEntity entity = new HttpEntity(architectBasicDto);\n        when:\n            def exchange = this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity, ArchitectBasicDto.class);\n        then:\n            exchange.statusCode == HttpStatus.BAD_REQUEST;\n        and:\n            exchange.getBody().getId() == null;\n        amd:\n            exchange.getBody().getFirstName() == null;\n        and:\n            exchange.getBody().getLastName() == null;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    def &quot;Removing existing Architect will return code 200 and remove it from database&quot;() {\n        given:\n            ArchitectBasicDto architectBasicDto5 = new ArchitectBasicDto();\n            architectBasicDto5.setFirstName(NAME);\n            architectBasicDto5.setLastName(LAST_NAME);\n            HttpEntity entity5 = new HttpEntity(architectBasicDto5);\n            ResponseEntity&lt;ArchitectBasicDto&gt; exchange5 =\n                    this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.POST, entity5, ArchitectBasicDto.class);\n            HttpEntity entity = new HttpEntity(null);\n        when:\n            ResponseEntity&lt;ArchitectBasicDto&gt; exchange =\n                    this.restTemplate.exchange(&quot;/architects/&quot; + exchange5.getBody().getId(), HttpMethod.DELETE, entity,\n                            ArchitectBasicDto.class);\n        then:\n            exchange.statusCode == HttpStatus.OK;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    def &quot;Removing not existing Architect will give code 400 and error message about not existing Architect&quot;() {\n        given:\n            HttpEntity entity = new HttpEntity(null);\n        when:\n            ResponseEntity&lt;Map&lt;String, String&gt;&gt; exchange =\n                    this.restTemplate.exchange(&quot;/architects/&quot; + 2000, HttpMethod.DELETE, entity,\n                            Map&lt;String, String&gt;.class);\n        then:\n            exchange.statusCode == HttpStatus.BAD_REQUEST;\n        and:\n            exchange.getBody().get(&quot;message&quot;) == &quot;Architect with id 2,000 does not exist.&quot;;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    def &quot;Calling get on /architects should return all architects basic dto&quot;() {\n        given:\n            HttpEntity entity = new HttpEntity(null);\n        when:\n            ResponseEntity&lt;List&lt;ArchitectBasicDto&gt;&gt; exchange =\n                    this.restTemplate.exchange(&quot;/architects&quot;, HttpMethod.GET, entity,\n                            List&lt;ArchitectBasicDto&gt;.class);\n        then:\n            exchange.getBody().size() == 0;\n    }\n}\n</code></pre>\n<p>The last test was a bit modified, just to show the problem. As I do not save any of the Entities, it should pass, while it does not:</p>\n<pre><code>Condition not satisfied:\n\nexchange.getBody().size() == 0\n|        |         |      |\n|        |         1      false\n|        [[id:100, firstName:name, lastName:last_name]]\n&lt;200,[{id=100, firstName=name, lastName=last_name}],[Content-Type:&quot;application/json&quot;, Transfer-Encoding:&quot;chunked&quot;, Date:&quot;Thu, 16 Dec 2021 20:55:38 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\n</code></pre>\n<p>And as for logs, they show that transactions are being rolled back:</p>\n<pre><code>[2021-12-16T21:55:38,337]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@5a30ab46, testMethod = $spock_feature_1_0@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\n[2021-12-16T21:55:38,589]  INFO [http-nio-8080-exec-1][] - DirectJDKLog.log(DirectJDKLog.java:173) - Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2021-12-16T21:55:38,589]  INFO [http-nio-8080-exec-1][] - FrameworkServlet.initServletBean(FrameworkServlet.java:525) - Initializing Servlet 'dispatcherServlet'\n[2021-12-16T21:55:38,591]  INFO [http-nio-8080-exec-1][] - FrameworkServlet.initServletBean(FrameworkServlet.java:547) - Completed initialization in 2 ms\n[2021-12-16T21:55:38,745]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@5a30ab46, testMethod = $spock_feature_1_0@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST' -&gt; list[[empty]], 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]\n[2021-12-16T21:55:38,749]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@317e9cf5, testMethod = $spock_feature_1_1@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST' -&gt; list[[empty]], 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\n[2021-12-16T21:55:38,759] ERROR [http-nio-8080-exec-2][] - GlobalExceptionHandler.handleException(GlobalExceptionHandler.java:33) - isNull.architect.firstName\ncom.testproject.task.sharedkernel.exceptions.IllegalArgumentException: isNull.architect.firstName\n    at com.testproject.task.sharedkernel.exceptions.BaseValidator.assertIsTrue(BaseValidator.java:36) ~[classes/:?]\n    at com.testproject.task.architect.application.ArchitectValidator.validateName(ArchitectValidator.java:50) ~[classes/:?]\n    at com.testproject.task.architect.application.ArchitectValidator.validateBasicArchitectDto(ArchitectValidator.java:38) ~[classes/:?]\n    at com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl.createArchitect(ArchitectApplicationServiceImpl.java:41) ~[classes/:?]\n    at com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl$$FastClassBySpringCGLIB$$e4b5b2ac.invoke(&lt;generated&gt;) ~[classes/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]\n    at com.testproject.task.architect.application.impl.ArchitectApplicationServiceImpl$$EnhancerBySpringCGLIB$$e31df751.createArchitect(&lt;generated&gt;) ~[classes/:?]\n    at com.testproject.task.architect.rest.ArchitectRestController.createArchitect(ArchitectRestController.java:36) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    ...\n    at java.lang.Thread.run(Thread.java:832) [?:?]\n[2021-12-16T21:55:38,810]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@317e9cf5, testMethod = $spock_feature_1_1@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST' -&gt; list[[empty]], 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]\n[2021-12-16T21:55:38,818]  INFO [main][] - TransactionContext.startTransaction(TransactionContext.java:107) - Began transaction (1) for test context [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@9b8d3db, testMethod = $spock_feature_1_2@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST' -&gt; list[[empty]], 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4df4f611]; rollback [true]\n[2021-12-16T21:55:39,054]  INFO [main][] - TransactionContext.endTransaction(TransactionContext.java:139) - Rolled back transaction for test: [DefaultTestContext@4a8d8f50 testClass = ArchitectTestIT, testInstance = com.testproject.task.architect.application.ArchitectTestIT@9b8d3db, testMethod = $spock_feature_1_2@ArchitectTestIT, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7772549d testClass = ArchitectTestIT, locations = '{}', classes = '{class com.testproject.task.DatabaseMain}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.spockframework.spring.mock.SpockContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@628c4ac0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@363042d7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@447a020, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@56113384, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@41dd05a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@39ba5a14], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.spockframework.spring.SpringMockTestExecutionListener.MOCKED_BEANS_LIST' -&gt; list[[empty]], 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]\n\n</code></pre>\n<p>So I'm a bit stuck, as for what could be the reason why those are not actually being rolled back and I would appreciate any help with that. Thanks!</p>\n"},{"tags":["java","ssl","web-scraping","jsoup","htmlunit"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1639690091,"post_id":70385794,"comment_id":124420592,"body_markdown":"I&#39;m seeing quite a few posts on Stackoveflow when I search for `java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)` already, did none of those contain any data that allowed you to do further debugging?","body":"I&#39;m seeing quite a few posts on Stackoveflow when I search for <code>java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)</code> already, did none of those contain any data that allowed you to do further debugging?"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1639692764,"post_id":70385794,"comment_id":124421394,"body_markdown":"Does this answer your question? [Java and SSL - java.security.NoSuchAlgorithmException](https://stackoverflow.com/questions/6365209/java-and-ssl-java-security-nosuchalgorithmexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6365209/java-and-ssl-java-security-nosuchalgorithmexception\">Java and SSL - java.security.NoSuchAlgorithmException</a>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1639700825,"post_id":70385794,"comment_id":124423066,"body_markdown":"@fantaghirocco: except that this one is clearly identified as truststore, not keystore. OP: do you have sysprops `javax.net.ssl.trustStore*` set? Has the file `$JRE/lib/security/cacerts` been modified, removed, or made inaccessible? Can you read that file using `keytool -list -cacerts` with password `changeit`?","body":"@fantaghirocco: except that this one is clearly identified as truststore, not keystore. OP: do you have sysprops <code>javax.net.ssl.trustStore*</code> set? Has the file <code>$JRE&#47;lib&#47;security&#47;cacerts</code> been modified, removed, or made inaccessible? Can you read that file using <code>keytool -list -cacerts</code> with password <code>changeit</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639690358,"creation_date":1639690358,"answer_id":70385874,"question_id":70385794,"body_markdown":"Your JVM is trying to establish an encrypted connection.\r\nHowever when negotiating which encyption algorithm to use the parties cannot agree on one known to both sides so that is when they fail.\r\n\r\nThis may mean the algorithms allowed for your JVM are not good. It may also mean the algorithms allowed for the other side are not good. There is just no common ground.\r\n\r\nTry to install latest software versions on both sides. Check the SSL or encryption settings for allowed ciphers.","title":"Unable to extract data from the internet with any technology - java.net.SocketException: java.security.NoSuchAlgorithmException","body":"<p>Your JVM is trying to establish an encrypted connection.\nHowever when negotiating which encyption algorithm to use the parties cannot agree on one known to both sides so that is when they fail.</p>\n<p>This may mean the algorithms allowed for your JVM are not good. It may also mean the algorithms allowed for the other side are not good. There is just no common ground.</p>\n<p>Try to install latest software versions on both sides. Check the SSL or encryption settings for allowed ciphers.</p>\n"}],"owner":{"account_id":3477736,"reputation":2160,"user_id":2910546,"accept_rate":56,"display_name":"Loa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639690358,"creation_date":1639689835,"question_id":70385794,"body_markdown":"For some time now, I have been trying to extract data from the internet using technologies such as:\r\n\r\n - [HtmlUnit][1]\r\n - [Java Selenium][2]\r\n - [JSoup][3] \r\n - [Apache HttpClient][4]\r\n - [Java 11, java.net.http][5]\r\n\r\nProblem\r\n-------\r\n\r\nI never had a problem doing data extraction before. Everything always worked correctly. However, I&#39;m suddenly starting to get the following error:\r\n\r\n    java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat java.base/javax.net.ssl.DefaultSSLSocketFactory.throwException(SSLSocketFactory.java:266)\r\n    \tat java.base/javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java:273)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.createSocket(HttpsClient.java:420)\r\n    \tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:162)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:497)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:600)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:265)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:379)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:189)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1120)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:175)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\r\n    \tat com.plua.jsoupteste.JSoupTest.main(JSoupTest.java:13)\r\n    Caused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat java.base/java.security.Provider$Service.newInstance(Provider.java:1900)\r\n    \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n    \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n    \tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:184)\r\n    \tat java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:110)\r\n    \tat java.base/javax.net.ssl.SSLSocketFactory.getDefault(SSLSocketFactory.java:83)\r\n    \tat java.base/javax.net.ssl.HttpsURLConnection.getDefaultSSLSocketFactory(HttpsURLConnection.java:334)\r\n    \tat java.base/javax.net.ssl.HttpsURLConnection.&lt;init&gt;(HttpsURLConnection.java:291)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.&lt;init&gt;(HttpsURLConnectionImpl.java:81)\r\n    \tat java.base/sun.net.www.protocol.https.Handler.openConnection(Handler.java:62)\r\n    \tat java.base/sun.net.www.protocol.https.Handler.openConnection(Handler.java:57)\r\n    \tat java.base/java.net.URL.openConnection(URL.java:1101)\r\n    \tat org.jsoup.helper.HttpConnection$Response.createConnection(HttpConnection.java:1020)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:856)\r\n    \t... 4 more\r\n    Caused by: java.security.KeyManagementException: problem accessing trust store\r\n    \tat java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:942)\r\n    \tat java.base/sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1112)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat java.base/java.security.Provider.newInstanceUtil(Provider.java:155)\r\n    \tat java.base/java.security.Provider$Service.newInstance(Provider.java:1893)\r\n    \t... 17 more\r\n\r\nThis error is persistent and **is displayed regardless of using any of the technologies listed above** (JSoup, HtmlUnit, java.net.http, etc.). Even a simple code like the one shown below is causing this problem (in the example, JSoup was used for demonstration purposes only):\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n    \t\tDocument doc = Jsoup.connect(&quot;https://en.wikipedia.org/&quot;).get();\r\n    \t\r\n    \t\tSystem.out.println(doc.title());\r\n    \t\tElements newsHeadlines = doc.select(&quot;#mp-itn b a&quot;);\r\n    \t\t\r\n    \t\tfor (Element headline : newsHeadlines) {\r\n    \t\t  System.out.printf(&quot;%s\\n\\t%s&quot;, \r\n    \t\t    headline.attr(&quot;title&quot;), headline.absUrl(&quot;href&quot;));\r\n    \t\t}\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n[Example Source][3]\r\n\r\nI am fully aware that this is a problem related to certificates, SSL, etc., something that **unfortunately I am not able to solve on my own**. \r\n\r\nThe problem is that I never messed with anything, any files, configuration, or anything that could make any changes compromising the application to work properly (at least, not that I&#39;m aware of).\r\n\r\nDesired Goal\r\n------------\r\n\r\nI&#39;ve already been looking on the internet for solutions for this type of exception, **but my case has a very specific detail**:\r\n\r\nI am developing **an application that will be used on home computers**, that is, this data extraction application will need to be used by common people, who are not programmers, such as **friends, family, etc**.\r\n\r\nI&#39;m not sure if solving this certificate issue here on my personal computer (creating commands, applying JVM arguments, extracting and manipulating certificates, etc.), I would have to do the same on every computer the application will be distributed to (which would be a nightmare, and completely unfeasible in this case).\r\n\r\nIn summary: I want to be able to develop **an application for extracting data** from the internet, **distribute it**, **and not need to do any configuration on the computers** that will receive the application, after all, **they would only need to have Java installed**.\r\n\r\nThe graphical interface I&#39;m doing using JavaFX, something I&#39;ve been able to do before. My problem is extracting data, precisely because I&#39;m ALWAYS getting this error.\r\n\r\nDevelopment Environment\r\n-----------------------\r\n\r\n - Eclipse IDE for Java Developers Version 2018-09 (4.9.0), Build id\r\n   20180917-1800\r\n - JSoup 1.14.3\r\n - JDK 16\r\n - JRE 1.8.0_311\r\n\r\n  [1]: https://htmlunit.sourceforge.io/\r\n  [2]: https://www.selenium.dev/documentation/\r\n  [3]: https://jsoup.org/\r\n  [4]: https://hc.apache.org/httpcomponents-client-5.1.x/\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html","title":"Unable to extract data from the internet with any technology - java.net.SocketException: java.security.NoSuchAlgorithmException","body":"<p>For some time now, I have been trying to extract data from the internet using technologies such as:</p>\n<ul>\n<li><a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">HtmlUnit</a></li>\n<li><a href=\"https://www.selenium.dev/documentation/\" rel=\"nofollow noreferrer\">Java Selenium</a></li>\n<li><a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a></li>\n<li><a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache HttpClient</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">Java 11, java.net.http</a></li>\n</ul>\n<h2>Problem</h2>\n<p>I never had a problem doing data extraction before. Everything always worked correctly. However, I'm suddenly starting to get the following error:</p>\n<pre><code>java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.base/javax.net.ssl.DefaultSSLSocketFactory.throwException(SSLSocketFactory.java:266)\n    at java.base/javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java:273)\n    at java.base/sun.net.www.protocol.https.HttpsClient.createSocket(HttpsClient.java:420)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:162)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:497)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:600)\n    at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:265)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:379)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:189)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1120)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:175)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\n    at com.plua.jsoupteste.JSoupTest.main(JSoupTest.java:13)\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1900)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:184)\n    at java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:110)\n    at java.base/javax.net.ssl.SSLSocketFactory.getDefault(SSLSocketFactory.java:83)\n    at java.base/javax.net.ssl.HttpsURLConnection.getDefaultSSLSocketFactory(HttpsURLConnection.java:334)\n    at java.base/javax.net.ssl.HttpsURLConnection.&lt;init&gt;(HttpsURLConnection.java:291)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.&lt;init&gt;(HttpsURLConnectionImpl.java:81)\n    at java.base/sun.net.www.protocol.https.Handler.openConnection(Handler.java:62)\n    at java.base/sun.net.www.protocol.https.Handler.openConnection(Handler.java:57)\n    at java.base/java.net.URL.openConnection(URL.java:1101)\n    at org.jsoup.helper.HttpConnection$Response.createConnection(HttpConnection.java:1020)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:856)\n    ... 4 more\nCaused by: java.security.KeyManagementException: problem accessing trust store\n    at java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:942)\n    at java.base/sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1112)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/java.security.Provider.newInstanceUtil(Provider.java:155)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1893)\n    ... 17 more\n</code></pre>\n<p>This error is persistent and <strong>is displayed regardless of using any of the technologies listed above</strong> (JSoup, HtmlUnit, java.net.http, etc.). Even a simple code like the one shown below is causing this problem (in the example, JSoup was used for demonstration purposes only):</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        Document doc = Jsoup.connect(&quot;https://en.wikipedia.org/&quot;).get();\n    \n        System.out.println(doc.title());\n        Elements newsHeadlines = doc.select(&quot;#mp-itn b a&quot;);\n        \n        for (Element headline : newsHeadlines) {\n          System.out.printf(&quot;%s\\n\\t%s&quot;, \n            headline.attr(&quot;title&quot;), headline.absUrl(&quot;href&quot;));\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Example Source</a></p>\n<p>I am fully aware that this is a problem related to certificates, SSL, etc., something that <strong>unfortunately I am not able to solve on my own</strong>.</p>\n<p>The problem is that I never messed with anything, any files, configuration, or anything that could make any changes compromising the application to work properly (at least, not that I'm aware of).</p>\n<h2>Desired Goal</h2>\n<p>I've already been looking on the internet for solutions for this type of exception, <strong>but my case has a very specific detail</strong>:</p>\n<p>I am developing <strong>an application that will be used on home computers</strong>, that is, this data extraction application will need to be used by common people, who are not programmers, such as <strong>friends, family, etc</strong>.</p>\n<p>I'm not sure if solving this certificate issue here on my personal computer (creating commands, applying JVM arguments, extracting and manipulating certificates, etc.), I would have to do the same on every computer the application will be distributed to (which would be a nightmare, and completely unfeasible in this case).</p>\n<p>In summary: I want to be able to develop <strong>an application for extracting data</strong> from the internet, <strong>distribute it</strong>, <strong>and not need to do any configuration on the computers</strong> that will receive the application, after all, <strong>they would only need to have Java installed</strong>.</p>\n<p>The graphical interface I'm doing using JavaFX, something I've been able to do before. My problem is extracting data, precisely because I'm ALWAYS getting this error.</p>\n<h2>Development Environment</h2>\n<ul>\n<li>Eclipse IDE for Java Developers Version 2018-09 (4.9.0), Build id\n20180917-1800</li>\n<li>JSoup 1.14.3</li>\n<li>JDK 16</li>\n<li>JRE 1.8.0_311</li>\n</ul>\n"},{"tags":["java","android","admob","ads"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1639692480,"post_id":70385204,"comment_id":124421326,"body_markdown":"Try moving `mAdView=findViewById(R.id.adView1);` into your `onCreate()` after `setContentView` instead of setting it outside.","body":"Try moving <code>mAdView=findViewById(R.id.adView1);</code> into your <code>onCreate()</code> after <code>setContentView</code> instead of setting it outside."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1639697842,"post_id":70385204,"comment_id":124422521,"body_markdown":"If you call `findViewById` (or `getSupportActionBar().hide()`) before `setContentView` it will return null. Those calls must be inside `onCreate` and after the super call and the `setContentView` call, not inline or before it.","body":"If you call <code>findViewById</code> (or <code>getSupportActionBar().hide()</code>) before <code>setContentView</code> it will return null. Those calls must be inside <code>onCreate</code> and after the super call and the <code>setContentView</code> call, not inline or before it."}],"answers":[{"tags":[],"owner":{"account_id":14142619,"reputation":131,"user_id":10216843,"display_name":"Raphael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639687547,"creation_date":1639687547,"answer_id":70385406,"question_id":70385204,"body_markdown":"check out your manifest if you add this code\r\n\r\n  \r\n\r\n     ...&lt;application ...  &gt; ...\r\n     &lt; meta-data \r\n       android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n       android:value=&quot;ad_user_id_here_from_admob&quot; /&gt; \r\n    ...&lt;/application&gt;...","title":"Android Studio Ads Throw Errors","body":"<p>check out your manifest if you add this code</p>\n<pre><code> ...&lt;application ...  &gt; ...\n &lt; meta-data \n   android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n   android:value=&quot;ad_user_id_here_from_admob&quot; /&gt; \n...&lt;/application&gt;...\n</code></pre>\n"}],"owner":{"account_id":23669055,"reputation":1,"user_id":17696107,"display_name":"AndrewA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639917100,"answer_count":1,"score":0,"last_activity_date":1639689586,"creation_date":1639686371,"question_id":70385204,"body_markdown":"I have been trying to implement ads into my android studio project, but whenever I try and run my app it crashes before showing anything likely due to the OnStart function. The code is:\r\n   \r\n    private AdView mAdView = findViewById(R.id.adView1);\r\n    public String Input;\r\n    public search search = new search();\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n\r\n        getSupportActionBar().hide();\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n        \r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n\r\n\r\n\r\n    }\r\n\r\nThe app runs when I remove the private AdView mAdView line from the start but no ads are shown.\r\n\r\nMy XML is:\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        android:id=&quot;@+id/adView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;53dp&quot;\r\n        android:layout_marginTop=&quot;420dp&quot;\r\n        app:adSize=&quot;BANNER&quot;\r\n        app:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\nThe error code that is thrown when the app is run is:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.firstever, PID: 10185\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.firstever/com.example.firstever.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:173)\r\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\r\n        at android.content.Context.obtainStyledAttributes(Context.java:744)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:839)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:806)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:630)\r\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:223)\r\n        at com.example.firstever.MainActivity.&lt;init&gt;(MainActivity.java:24)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n\r\n\r\n","title":"Android Studio Ads Throw Errors","body":"<p>I have been trying to implement ads into my android studio project, but whenever I try and run my app it crashes before showing anything likely due to the OnStart function. The code is:</p>\n<pre><code>private AdView mAdView = findViewById(R.id.adView1);\npublic String Input;\npublic search search = new search();\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n\n    getSupportActionBar().hide();\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    MobileAds.initialize(this, new OnInitializationCompleteListener() {\n        @Override\n        public void onInitializationComplete(InitializationStatus initializationStatus) {\n        }\n    });\n    \n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdView.loadAd(adRequest);\n\n\n\n}\n</code></pre>\n<p>The app runs when I remove the private AdView mAdView line from the start but no ads are shown.</p>\n<p>My XML is:</p>\n<pre><code>&lt;com.google.android.gms.ads.AdView\n    android:id=&quot;@+id/adView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginStart=&quot;53dp&quot;\n    android:layout_marginTop=&quot;420dp&quot;\n    app:adSize=&quot;BANNER&quot;\n    app:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/com.google.android.gms.ads.AdView&gt;\n</code></pre>\n<p>The error code that is thrown when the app is run is:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.firstever, PID: 10185\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.firstever/com.example.firstever.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n    at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:173)\n    at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\n    at android.content.Context.obtainStyledAttributes(Context.java:744)\n    at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:839)\n    at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:806)\n    at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:630)\n    at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:223)\n    at com.example.firstever.MainActivity.&lt;init&gt;(MainActivity.java:24)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n    at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:223) \n    at android.app.ActivityThread.main(ActivityThread.java:7656) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n"},{"tags":["java","unicode","mariadb"],"answers":[{"tags":[],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639689267,"creation_date":1639689267,"answer_id":70385710,"question_id":70350607,"body_markdown":"What solved it for me: Lifting MySQL Connector/J from 8.0.23 to 8.0.27.\r\n\r\nFrom 8.0.26, MySQL changed the way the JDBC driver negotiates unicode handling with the server ([link](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html)).","title":"JPA + MariaDB: how does the collation affect unicode support?","body":"<p>What solved it for me: Lifting MySQL Connector/J from 8.0.23 to 8.0.27.</p>\n<p>From 8.0.26, MySQL changed the way the JDBC driver negotiates unicode handling with the server (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html\" rel=\"nofollow noreferrer\">link</a>).</p>\n"}],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639689267,"creation_date":1639492077,"question_id":70350607,"body_markdown":"My java service stores stuff in MariaDB (10.3) in database tables, using JPA 3 with EclipseLink as the JPA provider. The database is using encoding `uft8mb4` with default collation `utf8mb4_general_ci`. The RDBMS is configured with `character-set-server = utf8mb4`.\r\n\r\nHere&#39;s a simple table, mapping to a DAO.\r\n\r\n```\r\nCREATE TABLE `directory_entries` (\r\n  `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,\r\n  `version` int(11) NOT NULL,\r\n  `name` varchar(250) CHARACTER SET utf8mb4 DEFAULT NULL,\r\n  PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n```\r\n\r\nSo far so good. Storing a string in a column `name`, then retrieving the entity again works fine: Unicode characters are stored and fetched.\r\n\r\nNow, I discovered that, when querying entries by values in the `name` column, `&quot;A  &quot; == &quot;A&quot;`, unless a _no-pad collation_ is used. Switching the collation for the column to `utf8mb4_general_nopad_ci` fixes the whitespace-comparison, but no longer stores unicode characters unmodified: &quot;&#252;&quot; becomes &quot;&#195;&#188;&quot;.\r\n\r\nWhat is going on here? My understanding is the collation only plays a part in _sorting_ and _comparing_, not in _storing &amp; fetching_?! How do I store &amp; fetch unicode strings _and_ compare them without padding?\r\n","title":"JPA + MariaDB: how does the collation affect unicode support?","body":"<p>My java service stores stuff in MariaDB (10.3) in database tables, using JPA 3 with EclipseLink as the JPA provider. The database is using encoding <code>uft8mb4</code> with default collation <code>utf8mb4_general_ci</code>. The RDBMS is configured with <code>character-set-server = utf8mb4</code>.</p>\n<p>Here's a simple table, mapping to a DAO.</p>\n<pre><code>CREATE TABLE `directory_entries` (\n  `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,\n  `version` int(11) NOT NULL,\n  `name` varchar(250) CHARACTER SET utf8mb4 DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n</code></pre>\n<p>So far so good. Storing a string in a column <code>name</code>, then retrieving the entity again works fine: Unicode characters are stored and fetched.</p>\n<p>Now, I discovered that, when querying entries by values in the <code>name</code> column, <code>&quot;A  &quot; == &quot;A&quot;</code>, unless a <em>no-pad collation</em> is used. Switching the collation for the column to <code>utf8mb4_general_nopad_ci</code> fixes the whitespace-comparison, but no longer stores unicode characters unmodified: &quot;ü&quot; becomes &quot;Ã¼&quot;.</p>\n<p>What is going on here? My understanding is the collation only plays a part in <em>sorting</em> and <em>comparing</em>, not in <em>storing &amp; fetching</em>?! How do I store &amp; fetch unicode strings <em>and</em> compare them without padding?</p>\n"},{"tags":["java","sockets","exception"],"comments":[{"owner":{"account_id":1335648,"reputation":4408,"user_id":1278476,"accept_rate":75,"display_name":"barsju"},"score":0,"creation_date":1334663563,"post_id":10190568,"comment_id":13081242,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/6826331/java-net-socketexception-network-is-unreachable-connect","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/6826331/java-net-socketexception-network-is-unreachable-connect\" title=\"java net socketexception network is unreachable connect\">stackoverflow.com/questions/6826331/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334664851,"creation_date":1334664851,"answer_id":10191035,"question_id":10190568,"body_markdown":"The problem is that your network settings do not allow you to connect to this machine. This is not a Java problem as such.\r\n\r\ntry\r\n\r\n    ping {hostname}\r\n\r\nuntil this works, there is nothing you can do in java to work around this.","title":"Network is unreachable?","body":"<p>The problem is that your network settings do not allow you to connect to this machine. This is not a Java problem as such.</p>\n\n<p>try</p>\n\n<pre><code>ping {hostname}\n</code></pre>\n\n<p>until this works, there is nothing you can do in java to work around this.</p>\n"},{"tags":[],"owner":{"account_id":1415864,"reputation":16,"user_id":1341555,"display_name":"David Baxter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1334757586,"creation_date":1334757586,"answer_id":10210976,"question_id":10190568,"body_markdown":"If you have the same version I have, it&#39;s trying to establish a connection to a Cyc image with the hostname and port defined by\r\n\r\n\r\nCycConnection.DEFAULT_HOSTNAME  \r\nCycConnection.DEFAULT_BASE_PORT  \r\n\r\n\r\nYou can find the proper values to use by evaluating the following in your Cyc image:\r\n\r\n&lt;pre&gt;\r\n(get-machine-name)\r\n*BASE-TCP-PORT*\r\n&lt;/pre&gt;\r\n\r\nHope this works for you.","title":"Network is unreachable?","body":"<p>If you have the same version I have, it's trying to establish a connection to a Cyc image with the hostname and port defined by</p>\n\n<p>CycConnection.DEFAULT_HOSTNAME<br>\nCycConnection.DEFAULT_BASE_PORT  </p>\n\n<p>You can find the proper values to use by evaluating the following in your Cyc image:</p>\n\n<pre>\n(get-machine-name)\n*BASE-TCP-PORT*\n</pre>\n\n<p>Hope this works for you.</p>\n"},{"tags":[],"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639689085,"creation_date":1639684944,"answer_id":70384966,"question_id":10190568,"body_markdown":"A dev on my team encountered this today, only their machine is seeing this issue out of many on the team.\r\n\r\nThrough much debugging we eventually discovered that `localhost` would not resolve for some reason. It would work in some JVM contexts and fail in others so it was completely inconsistent.\r\n\r\nReplacing `localhost` with explicitly `127.0.0.1` fixed the issue. My hunch is that something was different with a local network and IPv6 perhaps, but we still don&#39;t really understand why this is the fix.\r\n","title":"Network is unreachable?","body":"<p>A dev on my team encountered this today, only their machine is seeing this issue out of many on the team.</p>\n<p>Through much debugging we eventually discovered that <code>localhost</code> would not resolve for some reason. It would work in some JVM contexts and fail in others so it was completely inconsistent.</p>\n<p>Replacing <code>localhost</code> with explicitly <code>127.0.0.1</code> fixed the issue. My hunch is that something was different with a local network and IPv6 perhaps, but we still don't really understand why this is the fix.</p>\n"}],"owner":{"account_id":470514,"reputation":730,"user_id":877759,"accept_rate":81,"display_name":"Rosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10210976,"answer_count":3,"score":0,"last_activity_date":1639689085,"creation_date":1334663085,"question_id":10190568,"body_markdown":"I want to run a cyc (opencyc) Java class, but when I run this class I got an error mentioning that the network is unreachable. I am working on NetBeans 7.0 and opencyc 2.0 win 32 version. I am using localhost (127.0.0.1) to test. The error is below. \r\n\r\n    Network is unreachable: connect\r\n    java.net.SocketException: Network is unreachable: connect\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n\tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n\tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\r\n\tat java.net.Socket.connect(Socket.java:519)\r\n\tat java.net.Socket.connect(Socket.java:469)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:366)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:180)\r\n\tat org.opencyc.api.CycConnection.initializeApiConnections(CycConnection.java:223)\r\n\tat org.opencyc.api.CycConnection.&lt;init&gt;(CycConnection.java:199)\r\n\tat org.opencyc.api.CycAccess.&lt;init&gt;(CycAccess.java:121)\r\n\tat org.opencyc.api.CycAccess.&lt;init&gt;(CycAccess.java:61)\r\n\tat org.opencyc.api.ApiDemo.&lt;init&gt;(ApiDemo.java:50)\r\n\tat org.opencyc.api.ApiDemo.main(ApiDemo.java:147)\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat org.opencyc.api.ApiDemo.&lt;init&gt;(ApiDemo.java:56)\r\n\tat org.opencyc.api.ApiDemo.main(ApiDemo.java:147)\r\n    Interruption while waiting Cyc connection establishment, closing sockets\r\n    Exception in thread &quot;Thread-1&quot; java.lang.NullPointerException\r\n\tat org.opencyc.api.CycConnection$TaskProcessorBinaryResponseHandler.access$002(CycConnection.java:988)\r\n\tat org.opencyc.api.CycConnection.close(CycConnection.java:268)\r\n\tat org.opencyc.api.CycConnection$ConnectionTimer.run(CycConnection.java:1351)\r\n\r\nWhy is this happening? How can I connect to the cyc?  ","title":"Network is unreachable?","body":"<p>I want to run a cyc (opencyc) Java class, but when I run this class I got an error mentioning that the network is unreachable. I am working on NetBeans 7.0 and opencyc 2.0 win 32 version. I am using localhost (127.0.0.1) to test. The error is below. </p>\n\n<pre><code>Network is unreachable: connect\njava.net.SocketException: Network is unreachable: connect\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\nat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\nat java.net.Socket.connect(Socket.java:519)\nat java.net.Socket.connect(Socket.java:469)\nat java.net.Socket.&lt;init&gt;(Socket.java:366)\nat java.net.Socket.&lt;init&gt;(Socket.java:180)\nat org.opencyc.api.CycConnection.initializeApiConnections(CycConnection.java:223)\nat org.opencyc.api.CycConnection.&lt;init&gt;(CycConnection.java:199)\nat org.opencyc.api.CycAccess.&lt;init&gt;(CycAccess.java:121)\nat org.opencyc.api.CycAccess.&lt;init&gt;(CycAccess.java:61)\nat org.opencyc.api.ApiDemo.&lt;init&gt;(ApiDemo.java:50)\nat org.opencyc.api.ApiDemo.main(ApiDemo.java:147)\nException in thread \"main\" java.lang.NullPointerException\nat org.opencyc.api.ApiDemo.&lt;init&gt;(ApiDemo.java:56)\nat org.opencyc.api.ApiDemo.main(ApiDemo.java:147)\nInterruption while waiting Cyc connection establishment, closing sockets\nException in thread \"Thread-1\" java.lang.NullPointerException\nat org.opencyc.api.CycConnection$TaskProcessorBinaryResponseHandler.access$002(CycConnection.java:988)\nat org.opencyc.api.CycConnection.close(CycConnection.java:268)\nat org.opencyc.api.CycConnection$ConnectionTimer.run(CycConnection.java:1351)\n</code></pre>\n\n<p>Why is this happening? How can I connect to the cyc?  </p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638188294,"creation_date":1598000573,"answer_id":63519766,"question_id":63519344,"body_markdown":"well, it behaves exacly as it should - scroll position is on e.g. 200px from top and this doesn&#39;t change when new item changes its visibility\r\n\r\nyou should scroll by yourself to proper (new) point, use [scrollTo][1] method - measure height of this new `View` and call `scrollView.scrollTo(0, currentScrollY + heightOfNewView)`\r\n\r\nbe aware that when you change visibility then you can&#39;t call above `scrollTo` just one line below, you have to wait for this `View` being measured and drawn. so you should call `scrollTo` in e.g.\r\n\r\n    visibilityChangedView.setVisibility(View.VISIBLE);\r\n    visibilityChangedView.post(new Runnable() {\r\n\r\n            // this will be called when visibilityChangedView won&#39;t have\r\n            // any pending tasks to do, but we just changed visibility,\r\n            // so at first view will be measured and drawn, after that\r\n            // below run() method will be called\r\n\r\n            @Override\r\n            public void run() {\r\n                int heightOfNewView = visibilityChangedView.getMeasuredHeight();\r\n                int currentScrollY = scrollView.getScrollY();\r\n                scrollView.scrollTo(0, currentScrollY + heightOfNewView);\r\n            }\r\n    );\r\n\r\nthere is a chance that this automatic scroll will be visible to user as quick jump - at first whole view will be drawn as #2 and after split second/one frame it will redraw at new position like #3. I don&#39;t know how your content is built (rest of childs in `Scrollview`), but I suspect that this should be `RecyclerView` or at least `ListView` with proper `Adapter`, not `ScrollView` with fixed layout\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)","title":"Android ScrollView jumps up after changing child element visibility","body":"<p>well, it behaves exacly as it should - scroll position is on e.g. 200px from top and this doesn't change when new item changes its visibility</p>\n<p>you should scroll by yourself to proper (new) point, use <a href=\"https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)\" rel=\"nofollow noreferrer\">scrollTo</a> method - measure height of this new <code>View</code> and call <code>scrollView.scrollTo(0, currentScrollY + heightOfNewView)</code></p>\n<p>be aware that when you change visibility then you can't call above <code>scrollTo</code> just one line below, you have to wait for this <code>View</code> being measured and drawn. so you should call <code>scrollTo</code> in e.g.</p>\n<pre><code>visibilityChangedView.setVisibility(View.VISIBLE);\nvisibilityChangedView.post(new Runnable() {\n\n        // this will be called when visibilityChangedView won't have\n        // any pending tasks to do, but we just changed visibility,\n        // so at first view will be measured and drawn, after that\n        // below run() method will be called\n\n        @Override\n        public void run() {\n            int heightOfNewView = visibilityChangedView.getMeasuredHeight();\n            int currentScrollY = scrollView.getScrollY();\n            scrollView.scrollTo(0, currentScrollY + heightOfNewView);\n        }\n);\n</code></pre>\n<p>there is a chance that this automatic scroll will be visible to user as quick jump - at first whole view will be drawn as #2 and after split second/one frame it will redraw at new position like #3. I don't know how your content is built (rest of childs in <code>Scrollview</code>), but I suspect that this should be <code>RecyclerView</code> or at least <code>ListView</code> with proper <code>Adapter</code>, not <code>ScrollView</code> with fixed layout</p>\n"},{"tags":[],"owner":{"account_id":18175865,"reputation":1,"user_id":13224616,"display_name":"chiccoss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631864490,"creation_date":1631864490,"answer_id":69219557,"question_id":63519344,"body_markdown":"You can use NestedScrollView. It did the job.","title":"Android ScrollView jumps up after changing child element visibility","body":"<p>You can use NestedScrollView. It did the job.</p>\n"},{"tags":[],"owner":{"account_id":14372311,"reputation":1,"user_id":10381727,"display_name":"Alexey Redchets"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639689076,"creation_date":1639687790,"answer_id":70385455,"question_id":63519344,"body_markdown":"Put your `scrollView` inside constraint layout and set all constraints to parent.","title":"Android ScrollView jumps up after changing child element visibility","body":"<p>Put your <code>scrollView</code> inside constraint layout and set all constraints to parent.</p>\n"}],"owner":{"account_id":19342201,"reputation":3,"user_id":14141452,"display_name":"jfoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63519766,"answer_count":3,"score":0,"last_activity_date":1639689076,"creation_date":1597998752,"question_id":63519344,"body_markdown":"I have a ScrollView that contains elements with visibility set to View.GONE by default. The problem is that whenever this visibility changes from View.GONE to View.VISIBLE, scroll jumps up as it is shown on second picture:\r\nhttps://i.stack.imgur.com/F2aKS.png\r\n\r\nThe red box represents current scroll position, blue rectangle is an element which visibility is changed, and green rectangle is some element (for example button) that I can refer to. I want my ScrollView to work as it is shown on third picture. If green button is on the screen, it should also be visible on screen after displaying new element (the blue one) above it. Any ideas how can I achieve it?","title":"Android ScrollView jumps up after changing child element visibility","body":"<p>I have a ScrollView that contains elements with visibility set to View.GONE by default. The problem is that whenever this visibility changes from View.GONE to View.VISIBLE, scroll jumps up as it is shown on second picture:\n<a href=\"https://i.stack.imgur.com/F2aKS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/F2aKS.png</a></p>\n<p>The red box represents current scroll position, blue rectangle is an element which visibility is changed, and green rectangle is some element (for example button) that I can refer to. I want my ScrollView to work as it is shown on third picture. If green button is on the screen, it should also be visible on screen after displaying new element (the blue one) above it. Any ideas how can I achieve it?</p>\n"},{"tags":["java","math","type-conversion","fractions"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":2,"creation_date":1639688254,"post_id":70385453,"comment_id":124420006,"body_markdown":"You have some minor problems with your code, but the main issue is that this task is mathematically impossible unless you have some pre-known limits for possible values of numerator and denominator. For any fraction there is infinite number of other fractions which have the same BigDecimal representation up to any given precision.","body":"You have some minor problems with your code, but the main issue is that this task is mathematically impossible unless you have some pre-known limits for possible values of numerator and denominator. For any fraction there is infinite number of other fractions which have the same BigDecimal representation up to any given precision."},{"owner":{"account_id":13585482,"reputation":73325,"user_id":12046409,"display_name":"JohanC"},"score":0,"creation_date":1639688835,"post_id":70385453,"comment_id":124420173,"body_markdown":"Does this answer your question? [How to convert floats to human-readable fractions?](https://stackoverflow.com/questions/95727/how-to-convert-floats-to-human-readable-fractions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/95727/how-to-convert-floats-to-human-readable-fractions\">How to convert floats to human-readable fractions?</a>"},{"owner":{"account_id":13585482,"reputation":73325,"user_id":12046409,"display_name":"JohanC"},"score":0,"creation_date":1639688951,"post_id":70385453,"comment_id":124420214,"body_markdown":"See also [Generate Continued Fractions for a float](https://stackoverflow.com/questions/4637967/algorithm-challenge-generate-continued-fractions-for-a-float)","body":"See also <a href=\"https://stackoverflow.com/questions/4637967/algorithm-challenge-generate-continued-fractions-for-a-float\">Generate Continued Fractions for a float</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1639692725,"post_id":70385453,"comment_id":124421383,"body_markdown":"BigDecimal cannot precisely represent 1/3, which takes an infinite number of decimal digits, so you can&#39;t get that fraction back out again.","body":"BigDecimal cannot precisely represent 1/3, which takes an infinite number of decimal digits, so you can&#39;t get that fraction back out again."}],"answers":[{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639688927,"creation_date":1639688927,"answer_id":70385665,"question_id":70385453,"body_markdown":"I would recommend you look into continued fractions, an in particular read https://en.wikipedia.org/wiki/Continued_fraction#Best_rational_approximations. That section describes how computing continued fractions can be used to represent a given real number with increasing accuracy.\r\n\r\nYou will still have two problems to deal with.\r\n\r\nOne is that you will need to make a choice how long to continue, i.e. which of these values you feel are actually contributing detail that should be represented, and which of them are merely noise from the computation. If your big decimal is free of numerical noise, i.e. the direct and correctly rounded result of a single division of integers, then you can just compute the decimal representation of each convergent with the same number of digits, and see which of them exactly matches your input.\r\n\r\nThe other problem is that computing continued fractions requires a number of operations that would entail their own rounding errors when performed using big decimals. In particular you will need to compute a number of inversions, i.e. mapping x to 1/x. You might be better off if in the very first step you convert your big decimal to some form of big rational (i.e. a quotient of two big integers) and then perform all the steps there. Both the initial conversion and all the subsequent transformations should be exact in big rational representation.","title":"How to restore initial fraction from a big decimal","body":"<p>I would recommend you look into continued fractions, an in particular read <a href=\"https://en.wikipedia.org/wiki/Continued_fraction#Best_rational_approximations\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Continued_fraction#Best_rational_approximations</a>. That section describes how computing continued fractions can be used to represent a given real number with increasing accuracy.</p>\n<p>You will still have two problems to deal with.</p>\n<p>One is that you will need to make a choice how long to continue, i.e. which of these values you feel are actually contributing detail that should be represented, and which of them are merely noise from the computation. If your big decimal is free of numerical noise, i.e. the direct and correctly rounded result of a single division of integers, then you can just compute the decimal representation of each convergent with the same number of digits, and see which of them exactly matches your input.</p>\n<p>The other problem is that computing continued fractions requires a number of operations that would entail their own rounding errors when performed using big decimals. In particular you will need to compute a number of inversions, i.e. mapping x to 1/x. You might be better off if in the very first step you convert your big decimal to some form of big rational (i.e. a quotient of two big integers) and then perform all the steps there. Both the initial conversion and all the subsequent transformations should be exact in big rational representation.</p>\n"}],"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70385665,"answer_count":1,"score":1,"last_activity_date":1639688927,"creation_date":1639687776,"question_id":70385453,"body_markdown":"I have a list of fractions that have to be converted to a bigDecimal first and then converted to a fraction again. I have made two methods: first converts from fraction to bigDecimal and the second does the opposite. However, I have noticed that during the conversion I am losing on some precision, hence I was wondering if there is a way to restore a fraction to its initial state with 100% confidence, assuming that I can store any amount of decimals.\r\n\r\nHere is my code, and on the prints, you can notice that I am losing precision on very small fractions. \r\n\r\n    package Docs;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.math3.fraction.BigFraction;\r\n    \r\n    public class FractionalApproximation{\r\n    \r\n        private static BigDecimal fractionToPercentage(String fraction) {\r\n            final String[] split = fraction.split(&quot;/&quot;);\r\n            final float numerator = Float.valueOf(split[0]);\r\n            final float denominator = Float.valueOf(split[1]);\r\n            return new BigDecimal((numerator / denominator) * 100).setScale(3, BigDecimal.ROUND_HALF_DOWN);\r\n        }\r\n    \r\n    \r\n        private static String percentageToFraction(double share){\r\n            double percentage = share / 100;\r\n            BigFraction bigFraction = new BigFraction(percentage, 0.002D, 1000);\r\n            return bigFraction.getNumerator() + &quot;/&quot; + bigFraction.getDenominator();\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; initialFractions = new ArrayList&lt;String&gt;(Arrays.asList(&quot;1/3&quot;,&quot;1/112&quot;,&quot;1/6&quot;,&quot;1/1&quot;,&quot;1/56&quot;,&quot;1/224&quot;, &quot;1/448&quot;, &quot;4/448&quot;));\r\n            System.out.println(initialFractions);\r\n    \r\n            List&lt;BigDecimal&gt; percentageResultList = new ArrayList&lt;BigDecimal&gt;();\r\n            for(String fraction : initialFractions){\r\n                percentageResultList.add(fractionToPercentage(fraction));\r\n            }\r\n            System.out.println(percentageResultList);\r\n    \r\n    \r\n            List&lt;String&gt; fractionResultList = new ArrayList&lt;String&gt;();\r\n            for(BigDecimal value : percentageResultList){\r\n                fractionResultList.add(percentageToFraction(value.doubleValue()));\r\n            }\r\n            System.out.println(fractionResultList);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n     Initial fractions :[1/3, 1/112, 1/6, 1/1, 1/56, 1/224, 1/448, 4/448]\r\n     Fractions converted to BigDecimal: [33.333, 0.893, 16.667, 100.000, 1.786, 0.446, 0.223, 0.893]\r\n     BigDecimal converted to fraction:  [1/3, 1/111, 1/6, 1/1, 1/55, 1/224, 1/448, 1/111]\r\n\r\n","title":"How to restore initial fraction from a big decimal","body":"<p>I have a list of fractions that have to be converted to a bigDecimal first and then converted to a fraction again. I have made two methods: first converts from fraction to bigDecimal and the second does the opposite. However, I have noticed that during the conversion I am losing on some precision, hence I was wondering if there is a way to restore a fraction to its initial state with 100% confidence, assuming that I can store any amount of decimals.</p>\n<p>Here is my code, and on the prints, you can notice that I am losing precision on very small fractions.</p>\n<pre><code>package Docs;\n\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.apache.commons.math3.fraction.BigFraction;\n\npublic class FractionalApproximation{\n\n    private static BigDecimal fractionToPercentage(String fraction) {\n        final String[] split = fraction.split(&quot;/&quot;);\n        final float numerator = Float.valueOf(split[0]);\n        final float denominator = Float.valueOf(split[1]);\n        return new BigDecimal((numerator / denominator) * 100).setScale(3, BigDecimal.ROUND_HALF_DOWN);\n    }\n\n\n    private static String percentageToFraction(double share){\n        double percentage = share / 100;\n        BigFraction bigFraction = new BigFraction(percentage, 0.002D, 1000);\n        return bigFraction.getNumerator() + &quot;/&quot; + bigFraction.getDenominator();\n    }\n\n\n    public static void main(String[] args) {\n        List&lt;String&gt; initialFractions = new ArrayList&lt;String&gt;(Arrays.asList(&quot;1/3&quot;,&quot;1/112&quot;,&quot;1/6&quot;,&quot;1/1&quot;,&quot;1/56&quot;,&quot;1/224&quot;, &quot;1/448&quot;, &quot;4/448&quot;));\n        System.out.println(initialFractions);\n\n        List&lt;BigDecimal&gt; percentageResultList = new ArrayList&lt;BigDecimal&gt;();\n        for(String fraction : initialFractions){\n            percentageResultList.add(fractionToPercentage(fraction));\n        }\n        System.out.println(percentageResultList);\n\n\n        List&lt;String&gt; fractionResultList = new ArrayList&lt;String&gt;();\n        for(BigDecimal value : percentageResultList){\n            fractionResultList.add(percentageToFraction(value.doubleValue()));\n        }\n        System.out.println(fractionResultList);\n    }\n}\n\n\n\n Initial fractions :[1/3, 1/112, 1/6, 1/1, 1/56, 1/224, 1/448, 4/448]\n Fractions converted to BigDecimal: [33.333, 0.893, 16.667, 100.000, 1.786, 0.446, 0.223, 0.893]\n BigDecimal converted to fraction:  [1/3, 1/111, 1/6, 1/1, 1/55, 1/224, 1/448, 1/111]\n</code></pre>\n"},{"tags":["java","hibernate","spring-mvc","jpa","hql"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1437322827,"creation_date":1437322827,"answer_id":31503275,"question_id":31503103,"body_markdown":"The `@Modifying` annotation must be placed on the `updateMaterialInventory` method, along to the `@Query` annotation, to let Spring-data know that the query is not a query used to select values, but to update values.","title":"Not supported for DML operations with JPA update query","body":"<p>The <code>@Modifying</code> annotation must be placed on the <code>updateMaterialInventory</code> method, along to the <code>@Query</code> annotation, to let Spring-data know that the query is not a query used to select values, but to update values.</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513560713,"creation_date":1509587030,"answer_id":47066289,"question_id":31503103,"body_markdown":"As far as I understand, you should not use `@Transactional` annotation in the repository class. Find the below answer.\r\n\r\n&gt; Service Impl class\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    ...\r\n    @Test\r\n    @Transactional\r\n    public void updateMaterialInventory() throws Exception{\r\n\r\n        // Initialize the database\r\n        materialRepository.saveAndFlush(material);\r\n\r\n        long id =  material.getId();\r\n        materialRepository.updateMaterialInventory(id,UPDATED_INVENTORY_COUNT);\r\n\r\n        assertEquals(material.getInventory_count(), UPDATED_INVENTORY_COUNT, 0);\r\n    }\r\n\r\n&gt; Repository class\r\n\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    ...\r\n\r\n      @Modifying\r\n      @Query(&quot;UPDATE Material m SET m.inventory_count = ?2 WHERE m.id = ?1&quot;)\r\n      void updateMaterialInventory(Long id,int newInventoryAmount);\r\n\r\n\r\nmake sure to use the correct imports. hope this is helpful.","title":"Not supported for DML operations with JPA update query","body":"<p>As far as I understand, you should not use <code>@Transactional</code> annotation in the repository class. Find the below answer.</p>\n\n<blockquote>\n  <p>Service Impl class</p>\n</blockquote>\n\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n...\n@Test\n@Transactional\npublic void updateMaterialInventory() throws Exception{\n\n    // Initialize the database\n    materialRepository.saveAndFlush(material);\n\n    long id =  material.getId();\n    materialRepository.updateMaterialInventory(id,UPDATED_INVENTORY_COUNT);\n\n    assertEquals(material.getInventory_count(), UPDATED_INVENTORY_COUNT, 0);\n}\n</code></pre>\n\n<blockquote>\n  <p>Repository class</p>\n</blockquote>\n\n<pre><code>import org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\n...\n\n  @Modifying\n  @Query(\"UPDATE Material m SET m.inventory_count = ?2 WHERE m.id = ?1\")\n  void updateMaterialInventory(Long id,int newInventoryAmount);\n</code></pre>\n\n<p>make sure to use the correct imports. hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":6268431,"reputation":49,"user_id":4873339,"display_name":"Champika Wijesundara"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1546597810,"creation_date":1546597810,"answer_id":54037151,"question_id":31503103,"body_markdown":"    @Transactional\r\n\t@Modifying\r\n\t@Query(DELETE_INVOICE_BY_NUMBER)\r\n\tpublic void deleteInvoiceByNumber(@Param(&quot;number&quot;) int number);\r\n\r\nThis worked for me, But without @Transactional in the repository class it give an error.","title":"Not supported for DML operations with JPA update query","body":"<pre><code>@Transactional\n@Modifying\n@Query(DELETE_INVOICE_BY_NUMBER)\npublic void deleteInvoiceByNumber(@Param(\"number\") int number);\n</code></pre>\n\n<p>This worked for me, But without @Transactional in the repository class it give an error.</p>\n"},{"tags":[],"owner":{"account_id":5923705,"reputation":290,"user_id":4660328,"accept_rate":57,"display_name":"thomasso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639688840,"creation_date":1639688840,"answer_id":70385656,"question_id":31503103,"body_markdown":"When you added the `@Modifying` and it&#39;s still not working then make sure your query is of type `void`, so nothing is returned.\r\n\r\nHibernate in its internals tries then to fetch the date which causes then that exception (not the update statement itselfs).\r\n","title":"Not supported for DML operations with JPA update query","body":"<p>When you added the <code>@Modifying</code> and it's still not working then make sure your query is of type <code>void</code>, so nothing is returned.</p>\n<p>Hibernate in its internals tries then to fetch the date which causes then that exception (not the update statement itselfs).</p>\n"}],"owner":{"account_id":6091899,"reputation":11481,"user_id":4753897,"accept_rate":71,"display_name":"Mike3355"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59700,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":31503275,"answer_count":4,"score":63,"last_activity_date":1639688840,"creation_date":1437321539,"question_id":31503103,"body_markdown":"This has been asked once before but the solution did not solve the issue. I am creating a JUnit test:\r\n\r\n     @Test\r\n        @Transactional\r\n        @Modifying\r\n        public void updateMaterialInventory() throws Exception{\r\n    \r\n            // Initialize the database\r\n            materialRepository.saveAndFlush(material);\r\n    \r\n            long id =  material.getId();\r\n            materialRepository.updateMaterialInventory(id,UPDATED_INVENTORY_COUNT);\r\n    \r\n            assertEquals(material.getInventory_count(), UPDATED_INVENTORY_COUNT, 0);\r\n        }\r\n\r\nThe query the above test is calling is:\r\n   \r\n\r\n     @Query(&quot;UPDATE Material m SET m.inventory_count = ?2 WHERE m.id = ?1&quot;)\r\n        void updateMaterialInventory(Long id,int newInventoryAmount);\r\n\r\nError:\r\n\r\n\r\n    Caused by: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations [UPDATE com.htd.domain.Material m SET m.inventory_count = ?2 WHERE m.id = ?1]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.errorIfDML(QueryTranslatorImpl.java:318)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:369)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:231)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1264)\r\n    \tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\r\n    \t... 55 more\r\n\r\n","title":"Not supported for DML operations with JPA update query","body":"<p>This has been asked once before but the solution did not solve the issue. I am creating a JUnit test:</p>\n\n<pre><code> @Test\n    @Transactional\n    @Modifying\n    public void updateMaterialInventory() throws Exception{\n\n        // Initialize the database\n        materialRepository.saveAndFlush(material);\n\n        long id =  material.getId();\n        materialRepository.updateMaterialInventory(id,UPDATED_INVENTORY_COUNT);\n\n        assertEquals(material.getInventory_count(), UPDATED_INVENTORY_COUNT, 0);\n    }\n</code></pre>\n\n<p>The query the above test is calling is:</p>\n\n<pre><code> @Query(\"UPDATE Material m SET m.inventory_count = ?2 WHERE m.id = ?1\")\n    void updateMaterialInventory(Long id,int newInventoryAmount);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Caused by: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations [UPDATE com.htd.domain.Material m SET m.inventory_count = ?2 WHERE m.id = ?1]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.errorIfDML(QueryTranslatorImpl.java:318)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:369)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:231)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1264)\n    at org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\n    at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\n    at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\n    ... 55 more\n</code></pre>\n"},{"tags":["java","multithreading","minecraft"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":2,"creation_date":1639688029,"post_id":70385440,"comment_id":124419917,"body_markdown":"a24 takes ~3s to complete. a35 waits 3s before starting. Not sure what you&#39;re expecting.","body":"a24 takes ~3s to complete. a35 waits 3s before starting. Not sure what you&#39;re expecting."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1639688492,"post_id":70385440,"comment_id":124420075,"body_markdown":"[1] the app is doing exactly what you said it should: a24 finishes before a35 starts because a24&#39;s code literally runs that fast (and a35 waits that long before doing anything visible). [2] wait() is a thing that works in tandem with notify() and is a primitive thread synchronization mechanism. It is nothing at all to do with &#39;I want to wait X milliseconds before continuing&#39;. That&#39;s what `pause` is for.","body":"[1] the app is doing exactly what you said it should: a24 finishes before a35 starts because a24&#39;s code literally runs that fast (and a35 waits that long before doing anything visible). [2] wait() is a thing that works in tandem with notify() and is a primitive thread synchronization mechanism. It is nothing at all to do with &#39;I want to wait X milliseconds before continuing&#39;. That&#39;s what <code>pause</code> is for."},{"owner":{"account_id":23669141,"reputation":1,"user_id":17696173,"display_name":"NamoyedAZ"},"score":0,"creation_date":1639769305,"post_id":70385440,"comment_id":124441967,"body_markdown":"I get that the code is doing what I&#39;m telling it to do, but what I *want* it to do is run both a24 and a35 at the same time, and not wait on each other. I&#39;m just asking if there even is a way to do this, and if anyone can point me in the right direction to figuring it out","body":"I get that the code is doing what I&#39;m telling it to do, but what I <i>want</i> it to do is run both a24 and a35 at the same time, and not wait on each other. I&#39;m just asking if there even is a way to do this, and if anyone can point me in the right direction to figuring it out"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639688613,"creation_date":1639688613,"answer_id":70385612,"question_id":70385440,"body_markdown":"Do **NOT** use `Thread` with Bukkit&#39;s plugins. Spigot has his own threading system.\r\n\r\n```java\r\nBukkitTask task = Bukkit.getScheduler().runTaskTimer(myPlugin, new Runnable() {\r\n   private int timer = 4;\r\n\r\n   @Override\r\n   public void run() {\r\n      if(timer == 4 || timer ==2) {\r\n          sender.sendMessage(&quot;Time: &quot; + timer);\r\n      }\r\n      if(timer == 0) {\r\n          task.cancel();\r\n      }\r\n      timer--;\r\n   }\r\n});\r\n```\r\n[Documentation](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html)","title":"Multithreading problems","body":"<p>Do <strong>NOT</strong> use <code>Thread</code> with Bukkit's plugins. Spigot has his own threading system.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BukkitTask task = Bukkit.getScheduler().runTaskTimer(myPlugin, new Runnable() {\n   private int timer = 4;\n\n   @Override\n   public void run() {\n      if(timer == 4 || timer ==2) {\n          sender.sendMessage(&quot;Time: &quot; + timer);\n      }\n      if(timer == 0) {\n          task.cancel();\n      }\n      timer--;\n   }\n});\n</code></pre>\n<p><a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":23669141,"reputation":1,"user_id":17696173,"display_name":"NamoyedAZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639688613,"creation_date":1639687711,"question_id":70385440,"body_markdown":"I&#39;m trying get more into multithreading in Java, but my endeavors have been stopped at this code:\r\n```\r\npackage io.nlaz.test.commands;\r\n\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.command.TabExecutor;\r\nimport org.bukkit.entity.Player;\r\n\r\nimport java.util.List;\r\n\r\npublic class test implements TabExecutor {\r\n        @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        try {\r\n            Thread a24 = new Thread(() -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    sender.sendMessage(&quot;2&quot;);\r\n                    Thread.sleep(2000);\r\n                    sender.sendMessage(&quot;4&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n\r\n            Thread a35 = new Thread(() -&gt; {\r\n                try {\r\n                    Thread.sleep(3000);\r\n                    sender.sendMessage(&quot;3&quot;);\r\n                    Thread.sleep(2000);\r\n                    sender.sendMessage(&quot;5&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n\r\n            sender.sendMessage(&quot;1&quot;);\r\n            a24.start();\r\n            a35.start();\r\n        } catch (Exception e) { e.printStackTrace(); }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; onTabComplete(CommandSender sender, Command command, String alias, String[] args) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nWhen the code is run, it supposed to send a message counting up to 5 every second. but when run it get&#39;s up to 2, then waits for the a24 thread to finish, then executes a35. I&#39;ve looked up possible solutions to this, however they all either lead to the main thread getting paused, or the exact same problem as I already have.\r\n\r\nI do have a part of it might be because I&#39;m using ```Thread.sleep()``` and not something like ```Thread.currentThread().wait()```. However when I use that method, I get an error saying ```java.lang.IllegalMonitorStateException: current thread is not owner```. Any suggestions help, thank you!","title":"Multithreading problems","body":"<p>I'm trying get more into multithreading in Java, but my endeavors have been stopped at this code:</p>\n<pre><code>package io.nlaz.test.commands;\n\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.command.TabExecutor;\nimport org.bukkit.entity.Player;\n\nimport java.util.List;\n\npublic class test implements TabExecutor {\n        @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        try {\n            Thread a24 = new Thread(() -&gt; {\n                try {\n                    Thread.sleep(1000);\n                    sender.sendMessage(&quot;2&quot;);\n                    Thread.sleep(2000);\n                    sender.sendMessage(&quot;4&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            });\n\n            Thread a35 = new Thread(() -&gt; {\n                try {\n                    Thread.sleep(3000);\n                    sender.sendMessage(&quot;3&quot;);\n                    Thread.sleep(2000);\n                    sender.sendMessage(&quot;5&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            });\n\n            sender.sendMessage(&quot;1&quot;);\n            a24.start();\n            a35.start();\n        } catch (Exception e) { e.printStackTrace(); }\n        return false;\n    }\n\n    @Override\n    public List&lt;String&gt; onTabComplete(CommandSender sender, Command command, String alias, String[] args) {\n        return null;\n    }\n}\n</code></pre>\n<p>When the code is run, it supposed to send a message counting up to 5 every second. but when run it get's up to 2, then waits for the a24 thread to finish, then executes a35. I've looked up possible solutions to this, however they all either lead to the main thread getting paused, or the exact same problem as I already have.</p>\n<p>I do have a part of it might be because I'm using <code>Thread.sleep()</code> and not something like <code>Thread.currentThread().wait()</code>. However when I use that method, I get an error saying <code>java.lang.IllegalMonitorStateException: current thread is not owner</code>. Any suggestions help, thank you!</p>\n"},{"tags":["java","triangle"],"comments":[{"owner":{"account_id":307579,"reputation":1692,"user_id":618951,"accept_rate":94,"display_name":"RisingSun"},"score":0,"creation_date":1639688699,"post_id":70385555,"comment_id":124420131,"body_markdown":"what are `a b c d e f` variables for and what are their values?","body":"what are <code>a b c d e f</code> variables for and what are their values?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1639688771,"post_id":70385555,"comment_id":124420160,"body_markdown":"You are aware of how integer arithmetic works, yes?  Truncation and such","body":"You are aware of how integer arithmetic works, yes?  Truncation and such"},{"owner":{"account_id":23669233,"reputation":11,"user_id":17696256,"display_name":"asdasfazamasqwexyraz"},"score":0,"creation_date":1639688898,"post_id":70385555,"comment_id":124420193,"body_markdown":"@RisingSun (a,b) (c,d) (e,f) these are the coordinates of vertices. In this example, they are (-5,3) (0,6) (5,3)","body":"@RisingSun (a,b) (c,d) (e,f) these are the coordinates of vertices. In this example, they are (-5,3) (0,6) (5,3)"},{"owner":{"account_id":23669233,"reputation":11,"user_id":17696256,"display_name":"asdasfazamasqwexyraz"},"score":0,"creation_date":1639688993,"post_id":70385555,"comment_id":124420232,"body_markdown":"@OldProgrammer Yes, i guess.","body":"@OldProgrammer Yes, i guess."},{"owner":{"account_id":307579,"reputation":1692,"user_id":618951,"accept_rate":94,"display_name":"RisingSun"},"score":0,"creation_date":1639689134,"post_id":70385555,"comment_id":124420278,"body_markdown":"You just need another check to see if the current coordinates are within those vertices and only print if so","body":"You just need another check to see if the current coordinates are within those vertices and only print if so"}],"owner":{"account_id":23669233,"reputation":11,"user_id":17696256,"display_name":"asdasfazamasqwexyraz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639688400,"creation_date":1639688295,"question_id":70385555,"body_markdown":"I have been trying to draw triangle by specific coordinates on java. I kinda drew it but there is a problem. I put the output and my code down there. As you can see, sides of the triangle are too long, I need to limit them. Can you guys help me out with this, maybe give me some idea?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n    System.out.print(&quot;For triangle, we need the coordinates of the points for three vertices. \\nPlease enter the coordinates of 3 vertices a, b, c, d, e, f:-5 2 0 6 5 2 \\n&quot;);\r\n            \r\n    \r\n    a=input.nextInt();\r\n\r\n    int b=input.nextInt();\r\n\r\n    int c=input.nextInt();\r\n    int d=input.nextInt();\r\n    int e=input.nextInt();\r\n    int f=input.nextInt();\r\n    for (int y = 10; y &gt;= -11; y--) {\r\n\t\tfor (int x = -10; x &lt;= 11; x++) {\r\n\t\t\r\n\t\tif(y==0) {   \t\t\t\r\n   \t\t\tif(((x-c)*(d-b)/(c-a)+d==0)||((x-e)*(f-d)/(e-c)+f==0)||(x-a)*(b-f)/(a-e)+b==0)  \r\n   \t\t\t\tSystem.out.print(&quot;*&quot;);   \r\n\t\t\t\telse if(x==0)\r\n\t\t\t\t\tSystem.out.print(&quot;|&quot;);\r\n\t\t\t\telse if(x==11)\r\n\t\t\t\t\tSystem.out.print(&quot;x&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.print(&quot;-&quot;);\r\n\t\t\t}\r\n\t\telse if(((x-c)*(d-b)/(c-a)+d==y)||((x-e)*(f-d)/(e-c)+f==y)||(x-a)*(b-f)/(a-e)+b==y)    \t\t\t \r\n\t\t\tSystem.out.print(&quot;*&quot;); \r\n\t\t\telse if(x==0) {\r\n\t\t\t\tif(y==10)\r\n\t\t\t\t\tSystem.out.print(&quot;y&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.print(&quot;|&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);    \r\n\t}    \t   \r\n\r\n  [1]: https://i.stack.imgur.com/WGP6i.png\r\n\r\n\r\n","title":"Drawing triangle on the console","body":"<p>I have been trying to draw triangle by specific coordinates on java. I kinda drew it but there is a problem. I put the output and my code down there. As you can see, sides of the triangle are too long, I need to limit them. Can you guys help me out with this, maybe give me some idea?</p>\n<p><img src=\"https://i.stack.imgur.com/WGP6i.png\" alt=\"enter image description here\" /></p>\n<pre><code>System.out.print(&quot;For triangle, we need the coordinates of the points for three vertices. \\nPlease enter the coordinates of 3 vertices a, b, c, d, e, f:-5 2 0 6 5 2 \\n&quot;);\n        \n\na=input.nextInt();\n\nint b=input.nextInt();\n\nint c=input.nextInt();\nint d=input.nextInt();\nint e=input.nextInt();\nint f=input.nextInt();\nfor (int y = 10; y &gt;= -11; y--) {\n    for (int x = -10; x &lt;= 11; x++) {\n    \n    if(y==0) {              \n        if(((x-c)*(d-b)/(c-a)+d==0)||((x-e)*(f-d)/(e-c)+f==0)||(x-a)*(b-f)/(a-e)+b==0)  \n            System.out.print(&quot;*&quot;);   \n            else if(x==0)\n                System.out.print(&quot;|&quot;);\n            else if(x==11)\n                System.out.print(&quot;x&quot;);\n            else\n                System.out.print(&quot;-&quot;);\n        }\n    else if(((x-c)*(d-b)/(c-a)+d==y)||((x-e)*(f-d)/(e-c)+f==y)||(x-a)*(b-f)/(a-e)+b==y)              \n        System.out.print(&quot;*&quot;); \n        else if(x==0) {\n            if(y==10)\n                System.out.print(&quot;y&quot;);\n            else\n                System.out.print(&quot;|&quot;);\n        }\n        else\n            System.out.print(&quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);    \n}          \n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","jpql"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1638860102,"post_id":70255941,"comment_id":124193204,"body_markdown":"You should write this logic in you java program not in the query","body":"You should write this logic in you java program not in the query"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1638860200,"post_id":70255941,"comment_id":124193229,"body_markdown":"@Jens Its a big query with lot of parameters. JPA supports directly exposing a Repository as a REST endpoint. Are you saying the whole feature in Spring Data JPA is wrong?","body":"@Jens Its a big query with lot of parameters. JPA supports directly exposing a Repository as a REST endpoint. Are you saying the whole feature in Spring Data JPA is wrong?"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1638860274,"post_id":70255941,"comment_id":124193241,"body_markdown":"You seem to imply that @RestResource shouldn&#39;t be used. https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/core/annotation/RestResource.html","body":"You seem to imply that @RestResource shouldn&#39;t be used. <a href=\"https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/core/annotation/RestResource.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1638860334,"post_id":70255941,"comment_id":124193261,"body_markdown":"@Jens Would be great if you can provide even a code alternative. I am not getting what is the other option in this situation.","body":"@Jens Would be great if you can provide even a code alternative. I am not getting what is the other option in this situation."}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639688220,"creation_date":1639688220,"answer_id":70385542,"question_id":70255941,"body_markdown":"JPQL grammar from Jakarta Persistence 3.0 specification doesn&#39;t allow that. (I had 3.0 by hand, but I don&#39;t expect that earlier ones differ.) Boolean comparison corresponds to this production rule:\r\n\r\n    comparison_expression ::=\r\n        ...\r\n        boolean_expression {= | &lt;&gt;} {boolean_expression | all_or_any_expression} |\r\n        ...\r\n\r\nThen `comparison_expression` is only ever encountered as a part of `conditional_expression` production rules:\r\n\r\n    conditional_expression ::= conditional_term | conditional_expression OR conditional_term\r\n    conditional_term ::= conditional_factor | conditional_term AND conditional_factor\r\n    conditional_factor ::= [NOT] conditional_primary\r\n    conditional_primary ::= simple_cond_expression | (conditional_expression)\r\n    simple_cond_expression ::=\r\n        comparison_expression |\r\n        ...\r\n\r\n And `conditional_expression` is what goes directly in `WHEN`, `WHERE`, `HAVING` and `ON` clauses. This means that `comparison_expression` cannot be a `boolean_expression`.\r\n\r\nApart from your solution with `AND`, this one seems to work too:\r\n\r\n    SELECT r \r\n    FROM Records r \r\n    WHERE CASE WHEN r.status = &#39;DRAFT&#39; THEN TRUE ELSE FALSE END = :searchDrafts;\r\n\r\nIt&#39;s quite ugly, but it does convert a `conditional_expression` into a `boolean_expression`.\r\n\r\nIn practice you&#39;d better have two different queries: one for &quot;=&quot; and the other for &quot;&lt;&gt;&quot;.\r\n\r\nOverall, it feels like an omission in the JPA standard.","title":"Does JPQL support the use of a boolean result in another expression?","body":"<p>JPQL grammar from Jakarta Persistence 3.0 specification doesn't allow that. (I had 3.0 by hand, but I don't expect that earlier ones differ.) Boolean comparison corresponds to this production rule:</p>\n<pre><code>comparison_expression ::=\n    ...\n    boolean_expression {= | &lt;&gt;} {boolean_expression | all_or_any_expression} |\n    ...\n</code></pre>\n<p>Then <code>comparison_expression</code> is only ever encountered as a part of <code>conditional_expression</code> production rules:</p>\n<pre><code>conditional_expression ::= conditional_term | conditional_expression OR conditional_term\nconditional_term ::= conditional_factor | conditional_term AND conditional_factor\nconditional_factor ::= [NOT] conditional_primary\nconditional_primary ::= simple_cond_expression | (conditional_expression)\nsimple_cond_expression ::=\n    comparison_expression |\n    ...\n</code></pre>\n<p>And <code>conditional_expression</code> is what goes directly in <code>WHEN</code>, <code>WHERE</code>, <code>HAVING</code> and <code>ON</code> clauses. This means that <code>comparison_expression</code> cannot be a <code>boolean_expression</code>.</p>\n<p>Apart from your solution with <code>AND</code>, this one seems to work too:</p>\n<pre><code>SELECT r \nFROM Records r \nWHERE CASE WHEN r.status = 'DRAFT' THEN TRUE ELSE FALSE END = :searchDrafts;\n</code></pre>\n<p>It's quite ugly, but it does convert a <code>conditional_expression</code> into a <code>boolean_expression</code>.</p>\n<p>In practice you'd better have two different queries: one for &quot;=&quot; and the other for &quot;&lt;&gt;&quot;.</p>\n<p>Overall, it feels like an omission in the JPA standard.</p>\n"}],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":70385542,"answer_count":1,"score":-3,"last_activity_date":1639688220,"creation_date":1638859873,"question_id":70255941,"body_markdown":"I am trying to write a query to back a search API. Specifically for a flag `searchDrafts` - if the flag is `true` I have to get rows with `status` `DRAFT` and else I have to get all rows that have any `status` other than `DRAFT`.\r\n\r\nIn regular SQL, the below query works fine:\r\n\r\n```SQL\r\nSELECT id, status\r\nFROM records\r\nwhere ((status = &#39;DRAFT&#39;) = :searchDrafts);\r\n```\r\n\r\nHowever, a similar thing in JPQL doesn&#39;t work:\r\n\r\n```\r\nSELECT r \r\nFROM Records r \r\nWHERE ((r.status = &#39;DRAFT&#39;) = :searchDrafts);\r\n```\r\n\r\n\r\nIt gives the error:\r\n\r\n`unexpected AST node: = near line 1, column nn`\r\n\r\nIs there any way in JPQL to use the value of a boolean result in another expression?\r\n\r\nThe alternative would be doing it the longer way, but its a bit verbose. This works fine in JPQL:\r\n\r\n```SQL\r\nSELECT id, status\r\nFROM records\r\nwhere (:searchDrafts=true AND (status = &#39;DRAFT&#39;)) \r\nor (:searchDrafts=false AND (status != &#39;DRAFT&#39;));\r\n```","title":"Does JPQL support the use of a boolean result in another expression?","body":"<p>I am trying to write a query to back a search API. Specifically for a flag <code>searchDrafts</code> - if the flag is <code>true</code> I have to get rows with <code>status</code> <code>DRAFT</code> and else I have to get all rows that have any <code>status</code> other than <code>DRAFT</code>.</p>\n<p>In regular SQL, the below query works fine:</p>\n<pre><code>SELECT id, status\nFROM records\nwhere ((status = 'DRAFT') = :searchDrafts);\n</code></pre>\n<p>However, a similar thing in JPQL doesn't work:</p>\n<pre><code>SELECT r \nFROM Records r \nWHERE ((r.status = 'DRAFT') = :searchDrafts);\n</code></pre>\n<p>It gives the error:</p>\n<p><code>unexpected AST node: = near line 1, column nn</code></p>\n<p>Is there any way in JPQL to use the value of a boolean result in another expression?</p>\n<p>The alternative would be doing it the longer way, but its a bit verbose. This works fine in JPQL:</p>\n<pre><code>SELECT id, status\nFROM records\nwhere (:searchDrafts=true AND (status = 'DRAFT')) \nor (:searchDrafts=false AND (status != 'DRAFT'));\n</code></pre>\n"},{"tags":["java","android-studio","pdf","adobe"],"comments":[{"owner":{"account_id":11860024,"reputation":1493,"user_id":8678978,"display_name":"chrisbyte"},"score":1,"creation_date":1639668244,"post_id":70381266,"comment_id":124412449,"body_markdown":"What language(s) are you planning to use? There is an example of converting images to pdf using a library in `c#` that could be useful.\nhttps://stackoverflow.com/a/36053104/8678978","body":"What language(s) are you planning to use? There is an example of converting images to pdf using a library in <code>c#</code> that could be useful. <a href=\"https://stackoverflow.com/a/36053104/8678978\">stackoverflow.com/a/36053104/8678978</a>"},{"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"score":1,"creation_date":1639670623,"post_id":70381266,"comment_id":124413541,"body_markdown":"Actually, I am trying it with java in android studio and also wanted to know how a pdf file is made in general? @chrisbyte","body":"Actually, I am trying it with java in android studio and also wanted to know how a pdf file is made in general? @chrisbyte"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":1,"creation_date":1639763938,"post_id":70381266,"comment_id":124440357,"body_markdown":"A PDF file is a binary file. It has a specific structure with objects that are identified through a.map to byte offsets. Get a copy of the specification and read it.","body":"A PDF file is a binary file. It has a specific structure with objects that are identified through a.map to byte offsets. Get a copy of the specification and read it."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1639786514,"post_id":70381266,"comment_id":124445772,"body_markdown":"To find out *how a pdf file is made in general* consider looking at the specification.","body":"To find out <i>how a pdf file is made in general</i> consider looking at the specification."}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8882,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639687829,"creation_date":1639683183,"answer_id":70384628,"question_id":70381266,"body_markdown":"You can write an image.PDF file as plain text by adding a header and trailer, so here is a simple mono image as seen by the simple f and 0 NOTE a color image would be more varied. so each black pixel is `000000` and each white one is `FFFFFF`\r\n\r\n```\r\n%PDF-1.7\r\n%&#181;&#182;\r\n\r\n1 0 obj\r\n&lt;&lt;\r\n  /Type /Catalog\r\n  /Pages 2 0 R\r\n&gt;&gt;\r\nendobj\r\n\r\n2 0 obj\r\n&lt;&lt;\r\n  /Type /Pages\r\n  /Count 1\r\n  /Kids [ 5 0 R ]\r\n&gt;&gt;\r\nendobj\r\n\r\n3 0 obj\r\n&lt;&lt;\r\n  /Length 2683981\r\n  /Type /XObject\r\n  /Subtype /Image\r\n  /Width 744\r\n  /Height 592\r\n  /BitsPerComponent 8\r\n  /ColorSpace /DeviceRGB\r\n  /Filter /ASCIIHexDecode\r\n&gt;&gt;\r\nstream\r\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\r\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\r\n....\r\nDozens of lines later\r\nffffffffffffffffffffffffffffffffff000000ffffffffffffffffffffffff\r\nffffffffffffffffffffffffffffff000000000000000000000000ffffffffff\r\nffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000\r\n....\r\nThousands of lines later\r\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\r\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\r\n&gt;\r\nendstream\r\nendobj\r\n\r\n4 0 obj\r\n&lt;&lt;\r\n  /Length 43\r\n&gt;&gt;\r\nstream\r\nq\r\n557.93026 0 0 443.9445 0 0 cm\r\n/Img3 Do\r\nQ\r\n\r\nendstream\r\nendobj\r\n\r\n5 0 obj\r\n&lt;&lt;\r\n  /Type /Page\r\n  /MediaBox [ 0 0 557.93026 443.9445 ]\r\n  /Rotate 0\r\n  /Resources &lt;&lt;\r\n    /XObject &lt;&lt;\r\n      /Img3 3 0 R\r\n    &gt;&gt;\r\n  &gt;&gt;\r\n  /Contents 4 0 R\r\n  /Parent 2 0 R\r\n&gt;&gt;\r\nendobj\r\n\r\nxref\r\n0 6\r\n0000000000 65536 f \r\n0000000016 00000 n \r\n0000000070 00000 n \r\n0000000136 00000 n \r\n0002684310 00000 n \r\n0002684406 00000 n \r\n\r\ntrailer\r\n&lt;&lt;\r\n  /Size 6\r\n  /Info &lt;&lt;\r\n    /Producer (SumatraPDF 3.4.14236)\r\n  &gt;&gt;\r\n  /Root 1 0 R\r\n&gt;&gt;\r\nstartxref\r\n2684589\r\n%%EOF\r\n```\r\nThis would be very bloated for publication so a source crisp.PNG or fuzzy.peg is more normally imported and zip style &quot;DeFlated&quot; (&quot;FlateDecode&quot; re-encrypted as binary)\r\n\r\nThe source PDF generated by SumatraPDF was only 23082 bytes as shown below, but for this question it was deliberately expanded to show the internal workings however the image can be compressed back down to binary by any PDF library back to\r\n\r\n```\r\n3 0 obj\r\n&lt;&lt;/DecodeParms&lt;&lt;&gt;&gt;/Type/XObject/Subtype/Image/Width 744/Height 592/BitsPerComponent 8/ColorSpace/DeviceRGB/Length 23082/Filter/FlateDecode&gt;&gt;\r\nstream\r\nxœ&#237;&#217;–&#219;&#186;&#174;E&#243;&#255;?&#237;&#251;p&#198;&#168;&#235;m‰&#224;B&#195;Nš&#243;)&#177;&#209;AX&#174;T&gt;..............\r\n```\r\n\r\n**NOTE an image does NOT have a PNG identity NOR DPI once placed in a PDF** *(PDFs are NOT reversible)*","title":"What Makes a Pdf file a Pdf file?","body":"<p>You can write an image.PDF file as plain text by adding a header and trailer, so here is a simple mono image as seen by the simple f and 0 NOTE a color image would be more varied. so each black pixel is <code>000000</code> and each white one is <code>FFFFFF</code></p>\n<pre><code>%PDF-1.7\n%µ¶\n\n1 0 obj\n&lt;&lt;\n  /Type /Catalog\n  /Pages 2 0 R\n&gt;&gt;\nendobj\n\n2 0 obj\n&lt;&lt;\n  /Type /Pages\n  /Count 1\n  /Kids [ 5 0 R ]\n&gt;&gt;\nendobj\n\n3 0 obj\n&lt;&lt;\n  /Length 2683981\n  /Type /XObject\n  /Subtype /Image\n  /Width 744\n  /Height 592\n  /BitsPerComponent 8\n  /ColorSpace /DeviceRGB\n  /Filter /ASCIIHexDecode\n&gt;&gt;\nstream\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n....\nDozens of lines later\nffffffffffffffffffffffffffffffffff000000ffffffffffffffffffffffff\nffffffffffffffffffffffffffffff000000000000000000000000ffffffffff\nffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000\n....\nThousands of lines later\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\nffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n&gt;\nendstream\nendobj\n\n4 0 obj\n&lt;&lt;\n  /Length 43\n&gt;&gt;\nstream\nq\n557.93026 0 0 443.9445 0 0 cm\n/Img3 Do\nQ\n\nendstream\nendobj\n\n5 0 obj\n&lt;&lt;\n  /Type /Page\n  /MediaBox [ 0 0 557.93026 443.9445 ]\n  /Rotate 0\n  /Resources &lt;&lt;\n    /XObject &lt;&lt;\n      /Img3 3 0 R\n    &gt;&gt;\n  &gt;&gt;\n  /Contents 4 0 R\n  /Parent 2 0 R\n&gt;&gt;\nendobj\n\nxref\n0 6\n0000000000 65536 f \n0000000016 00000 n \n0000000070 00000 n \n0000000136 00000 n \n0002684310 00000 n \n0002684406 00000 n \n\ntrailer\n&lt;&lt;\n  /Size 6\n  /Info &lt;&lt;\n    /Producer (SumatraPDF 3.4.14236)\n  &gt;&gt;\n  /Root 1 0 R\n&gt;&gt;\nstartxref\n2684589\n%%EOF\n</code></pre>\n<p>This would be very bloated for publication so a source crisp.PNG or fuzzy.peg is more normally imported and zip style &quot;DeFlated&quot; (&quot;FlateDecode&quot; re-encrypted as binary)</p>\n<p>The source PDF generated by SumatraPDF was only 23082 bytes as shown below, but for this question it was deliberately expanded to show the internal workings however the image can be compressed back down to binary by any PDF library back to</p>\n<pre><code>3 0 obj\n&lt;&lt;/DecodeParms&lt;&lt;&gt;&gt;/Type/XObject/Subtype/Image/Width 744/Height 592/BitsPerComponent 8/ColorSpace/DeviceRGB/Length 23082/Filter/FlateDecode&gt;&gt;\nstream\nxœíÙ–Ûº®Eóÿ?íûpÆ¨ëm‰àBÃNšó)±ÑAX®T&gt;..............\n</code></pre>\n<p><strong>NOTE an image does NOT have a PNG identity NOR DPI once placed in a PDF</strong> <em>(PDFs are NOT reversible)</em></p>\n"}],"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1639687829,"creation_date":1639667116,"question_id":70381266,"body_markdown":"I was wondering if we could change the file type from png, jpeg to pdf using only coding.\r\nSo in order to do that, I first have to figure out what exactly makes a pdf file different from other files.","title":"What Makes a Pdf file a Pdf file?","body":"<p>I was wondering if we could change the file type from png, jpeg to pdf using only coding.\nSo in order to do that, I first have to figure out what exactly makes a pdf file different from other files.</p>\n"},{"tags":["java","android","handler","runnable","postdelayed"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1639137595,"post_id":70304137,"comment_id":124277708,"body_markdown":"What variable exactly ? whatever variable you use inside run you can make it global so when next time your run block runs it will get updated value . Your question is not clear enough right now .","body":"What variable exactly ? whatever variable you use inside run you can make it global so when next time your run block runs it will get updated value . Your question is not clear enough right now ."},{"owner":{"account_id":23608996,"reputation":1,"user_id":17644281,"display_name":"kencoder"},"score":0,"creation_date":1639138704,"post_id":70304137,"comment_id":124278056,"body_markdown":"My current project is about displaying the location (latitude and longitude) in a textview. So i want to get the latest location that it request from location manager. Because when im using postDelayed it only displays the initial longitude and latitude that it gets.","body":"My current project is about displaying the location (latitude and longitude) in a textview. So i want to get the latest location that it request from location manager. Because when im using postDelayed it only displays the initial longitude and latitude that it gets."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1639138923,"post_id":70304137,"comment_id":124278129,"body_markdown":"First of you do not need to use handler here . you can setup the LocationProvider to provide location in certain intervals . So with this way you show location as you gets it . if you need to use handler just have a global variable and update it whenever you get location update and use it inside run method .","body":"First of you do not need to use handler here . you can setup the LocationProvider to provide location in certain intervals . So with this way you show location as you gets it . if you need to use handler just have a global variable and update it whenever you get location update and use it inside run method ."},{"owner":{"account_id":23608996,"reputation":1,"user_id":17644281,"display_name":"kencoder"},"score":0,"creation_date":1639139263,"post_id":70304137,"comment_id":124278258,"body_markdown":"sorry kindly check it out again","body":"sorry kindly check it out again"}],"owner":{"account_id":23608996,"reputation":1,"user_id":17644281,"display_name":"kencoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639687815,"creation_date":1639137320,"question_id":70304137,"body_markdown":"Is it possible to make a runnable `postDelayed` method changes the value of its variable when running? Because it only loops the initial longitude and latitude that it gets even though the location is changing. So for example there is a new location, the run method should also get that not repeating only the initial value that it gets. Here is the code below.\r\n\r\n```\r\n@Override\r\npublic void onLocationChanged(@NonNull Location location) {\r\n\r\n    latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n    mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;My Location&quot;));\r\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n\r\n    phoneNumberInput = (EditText) findViewById(R.id.phoneNumberInput);\r\n    startButton = (Button) findViewById(R.id.startButton);\r\n    stopButton = (Button) findViewById(R.id.stopButton);\r\n    \r\n    stopButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            onDestroy();\r\n            Toast.makeText(MapsActivity.this, &quot;Location logging stopped!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n \r\n    startButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            Toast.makeText(MapsActivity.this, &quot;Location logging started!&quot;, Toast.LENGTH_SHORT).show();\r\n            mToastRunnable.run();\r\n        }\r\n\r\n        private Runnable mToastRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                delayInput = (EditText) findViewById(R.id.delayInput);\r\n                nameInput = (EditText) findViewById(R.id.nameInput);\r\n                messageInput = (EditText) findViewById(R.id.messageInput);\r\n                String messageText = messageInput.getText().toString();\r\n                String nameText = nameInput.getText().toString();\r\n                Calendar calendar = Calendar.getInstance();\r\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                String dateTime = simpleDateFormat.format(calendar.getTime());\r\n                String myLatitude = String.valueOf(location.getLatitude());\r\n                String myLongitude = String.valueOf(location.getLongitude());\r\n            \r\n                String message = &quot;Origin: &quot; + nameText + &quot;\\nReason: &quot; + messageText + &quot;\\n\\nLatitude = &quot; + myLatitude + &quot;\\nLongitude = &quot; + myLongitude + &quot;\\n\\nLink: https://maps.google.com/?q=&quot; + myLatitude + &quot;,&quot; + myLongitude + &quot;\\n\\n Sent on: &quot; + dateTime;\r\n            \r\n                SmsManager smsManager = SmsManager.getDefault();\r\n                String phoneNumber = phoneNumberInput.getText().toString();\r\n \r\n                if (phoneNumber.length() == 0) {\r\n                    phoneNumberInput.requestFocus();\r\n                    phoneNumberInput.setError(&quot;Field cannot be empty!&quot;);\r\n                } else if (phoneNumber.length() &lt; 11) {\r\n                    phoneNumberInput.requestFocus();\r\n                    phoneNumberInput.setError(&quot;Phone Number is invalid!&quot;);\r\n                } else {\r\n                    String delayNum = delayInput.getText().toString();\r\n    \r\n                    if (delayNum.length() == 0) {\r\n                        delayInput.requestFocus();\r\n                        delayInput.setError(&quot;Missing!&quot;);\r\n                    } else {\r\n                         int delay = Integer.parseInt(delayNum);\r\n                         smsManager.sendTextMessage(phoneNumber, null, message, null, null);\r\n                         mHandler.postDelayed(mToastRunnable, delay * 1000);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n}\r\n\r\n\r\n};\r\nlocationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\ntry {\r\n     locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\r\n      locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\r\n} catch (SecurityException e) {\r\n     e.printStackTrace();\r\n}\r\n}\r\n```\r\n","title":"Changing variable inside Runnable postDelayed method","body":"<p>Is it possible to make a runnable <code>postDelayed</code> method changes the value of its variable when running? Because it only loops the initial longitude and latitude that it gets even though the location is changing. So for example there is a new location, the run method should also get that not repeating only the initial value that it gets. Here is the code below.</p>\n<pre><code>@Override\npublic void onLocationChanged(@NonNull Location location) {\n\n    latLng = new LatLng(location.getLatitude(), location.getLongitude());\n    mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;My Location&quot;));\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n\n    phoneNumberInput = (EditText) findViewById(R.id.phoneNumberInput);\n    startButton = (Button) findViewById(R.id.startButton);\n    stopButton = (Button) findViewById(R.id.stopButton);\n    \n    stopButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            onDestroy();\n            Toast.makeText(MapsActivity.this, &quot;Location logging stopped!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n \n    startButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Toast.makeText(MapsActivity.this, &quot;Location logging started!&quot;, Toast.LENGTH_SHORT).show();\n            mToastRunnable.run();\n        }\n\n        private Runnable mToastRunnable = new Runnable() {\n            @Override\n            public void run() {\n                delayInput = (EditText) findViewById(R.id.delayInput);\n                nameInput = (EditText) findViewById(R.id.nameInput);\n                messageInput = (EditText) findViewById(R.id.messageInput);\n                String messageText = messageInput.getText().toString();\n                String nameText = nameInput.getText().toString();\n                Calendar calendar = Calendar.getInstance();\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n                String dateTime = simpleDateFormat.format(calendar.getTime());\n                String myLatitude = String.valueOf(location.getLatitude());\n                String myLongitude = String.valueOf(location.getLongitude());\n            \n                String message = &quot;Origin: &quot; + nameText + &quot;\\nReason: &quot; + messageText + &quot;\\n\\nLatitude = &quot; + myLatitude + &quot;\\nLongitude = &quot; + myLongitude + &quot;\\n\\nLink: https://maps.google.com/?q=&quot; + myLatitude + &quot;,&quot; + myLongitude + &quot;\\n\\n Sent on: &quot; + dateTime;\n            \n                SmsManager smsManager = SmsManager.getDefault();\n                String phoneNumber = phoneNumberInput.getText().toString();\n \n                if (phoneNumber.length() == 0) {\n                    phoneNumberInput.requestFocus();\n                    phoneNumberInput.setError(&quot;Field cannot be empty!&quot;);\n                } else if (phoneNumber.length() &lt; 11) {\n                    phoneNumberInput.requestFocus();\n                    phoneNumberInput.setError(&quot;Phone Number is invalid!&quot;);\n                } else {\n                    String delayNum = delayInput.getText().toString();\n    \n                    if (delayNum.length() == 0) {\n                        delayInput.requestFocus();\n                        delayInput.setError(&quot;Missing!&quot;);\n                    } else {\n                         int delay = Integer.parseInt(delayNum);\n                         smsManager.sendTextMessage(phoneNumber, null, message, null, null);\n                         mHandler.postDelayed(mToastRunnable, delay * 1000);\n                    }\n                }\n            }\n        };\n    });\n}\n\n\n};\nlocationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\ntry {\n     locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\n      locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\n} catch (SecurityException e) {\n     e.printStackTrace();\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640004218,"post_id":70346411,"comment_id":124484267,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":23626133,"reputation":1,"user_id":17658629,"display_name":"Sri Shres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639687079,"creation_date":1639682530,"answer_id":70384503,"question_id":70346411,"body_markdown":"Figured it out.\r\nLooks like `.queryForRowSet()` and `.queryForObject()` does not like SQL `union` operator so I had to use `myPreparedStatement.executeQuery(mySql)`.\r\n\r\n","title":"Spring JdbcTemplate select alias table column","body":"<p>Figured it out.\nLooks like <code>.queryForRowSet()</code> and <code>.queryForObject()</code> does not like SQL <code>union</code> operator so I had to use <code>myPreparedStatement.executeQuery(mySql)</code>.</p>\n"}],"owner":{"account_id":23626133,"reputation":1,"user_id":17658629,"display_name":"Sri Shres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639687079,"creation_date":1639473389,"question_id":70346411,"body_markdown":"JdbcTransfersDao.java:\r\n\r\n    //row mapper\r\n    private TransfersHistory mapRowsToTransfersHistory(SqlRowSet rowset){\r\n        TransfersHistory newTransfersHistory = new TransfersHistory();\r\n        newTransfersHistory.setTransferId(rowset.getInt(&quot;transfer_id&quot;));\r\n        newTransfersHistory.setToFrom(rowset.getString(&quot;to_from&quot;));\r\n        newTransfersHistory.setAmount(rowset.getBigDecimal(&quot;amount&quot;));\r\n\r\n        return newTransfersHistory;\r\n    }\r\n\r\n    public TransfersHistory[] transfersHistoryByUserId(int loggedInUser){\r\n\r\n        String sqlTransfersHistory = &quot;select t.transfer_id, &#39;to: &#39;||(select username from users as fu join accounts fa on fu.user_id = fa.user_id where account_id = t.account_from) as to_from, t.amount from transfers as t&quot; +\r\n                &quot; where&quot; +\r\n                &quot; t.account_to = (select account_id from accounts as ta join users tu on ta.user_id = tu.user_id where tu.user_id= ?)&quot; +\r\n                &quot; union&quot; +\r\n                &quot; select t.transfer_id, &#39;from: &#39;||(select username from users as fu join accounts fa on fu.user_id = fa.user_id where account_id = t.account_to) as to_from, t.amount from transfers as t&quot; +\r\n                &quot; where&quot; +\r\n                &quot; t.account_from = (select account_id from accounts as ta join users tu on ta.user_id = tu.user_id where tu.user_id= ?);&quot;;\r\n        \r\n        SqlRowSet rs = jdbcTemplate.queryForRowSet(sqlTransfersHistory, loggedInUser);\r\n        rs.getMetaData();\r\n        List&lt;TransfersHistory&gt; tempTransfersHistory = new ArrayList&lt;&gt;();\r\n        while (rs.next()){\r\n            tempTransfersHistory.add(mapRowsToTransfersHistory(rs));\r\n        }\r\n        TransfersHistory[] tempTransferHistoryArr = new TransfersHistory[tempTransfersHistory.size()];\r\n        tempTransfersHistory.toArray(tempTransferHistoryArr);\r\n        return tempTransferHistoryArr;\r\n    }\r\n\r\nController.java\r\n\r\n    public List&lt;TransfersHistory&gt; transfersHistory(String base_url, AuthenticatedUser authenticatedUser){\r\n        HttpHeaders headers = setupAuth(authenticatedUser);\r\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n        ResponseEntity&lt;TransfersHistory[]&gt; res =  restTemplate.exchange(base_url + transfers_history_resource, HttpMethod.POST, entity, TransfersHistory[].class);\r\n        List&lt;TransfersHistory&gt; tempTransfers = new ArrayList&lt;&gt;();\r\n        tempTransfers = Arrays.asList(res.getBody());\r\n        return tempTransfers;\r\n    }\r\n\r\nTransfersHistory.java\r\n\r\n    public class TransfersHistory {\r\n        private int transferId;\r\n        private String toFrom;\r\n        private BigDecimal amount;\r\n    }\r\n\r\nWhy is this returning error: *&quot;PreparedStatementCallback; SQL [select t.transfer_id, &#39;to:&#39;||(select username from users as fu join...&quot;? Is it because of nested Select statements?*\r\n&lt;br&gt;to_from: is &quot;alias column&quot;","title":"Spring JdbcTemplate select alias table column","body":"<p>JdbcTransfersDao.java:</p>\n<pre><code>//row mapper\nprivate TransfersHistory mapRowsToTransfersHistory(SqlRowSet rowset){\n    TransfersHistory newTransfersHistory = new TransfersHistory();\n    newTransfersHistory.setTransferId(rowset.getInt(&quot;transfer_id&quot;));\n    newTransfersHistory.setToFrom(rowset.getString(&quot;to_from&quot;));\n    newTransfersHistory.setAmount(rowset.getBigDecimal(&quot;amount&quot;));\n\n    return newTransfersHistory;\n}\n\npublic TransfersHistory[] transfersHistoryByUserId(int loggedInUser){\n\n    String sqlTransfersHistory = &quot;select t.transfer_id, 'to: '||(select username from users as fu join accounts fa on fu.user_id = fa.user_id where account_id = t.account_from) as to_from, t.amount from transfers as t&quot; +\n            &quot; where&quot; +\n            &quot; t.account_to = (select account_id from accounts as ta join users tu on ta.user_id = tu.user_id where tu.user_id= ?)&quot; +\n            &quot; union&quot; +\n            &quot; select t.transfer_id, 'from: '||(select username from users as fu join accounts fa on fu.user_id = fa.user_id where account_id = t.account_to) as to_from, t.amount from transfers as t&quot; +\n            &quot; where&quot; +\n            &quot; t.account_from = (select account_id from accounts as ta join users tu on ta.user_id = tu.user_id where tu.user_id= ?);&quot;;\n    \n    SqlRowSet rs = jdbcTemplate.queryForRowSet(sqlTransfersHistory, loggedInUser);\n    rs.getMetaData();\n    List&lt;TransfersHistory&gt; tempTransfersHistory = new ArrayList&lt;&gt;();\n    while (rs.next()){\n        tempTransfersHistory.add(mapRowsToTransfersHistory(rs));\n    }\n    TransfersHistory[] tempTransferHistoryArr = new TransfersHistory[tempTransfersHistory.size()];\n    tempTransfersHistory.toArray(tempTransferHistoryArr);\n    return tempTransferHistoryArr;\n}\n</code></pre>\n<p>Controller.java</p>\n<pre><code>public List&lt;TransfersHistory&gt; transfersHistory(String base_url, AuthenticatedUser authenticatedUser){\n    HttpHeaders headers = setupAuth(authenticatedUser);\n    HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n    ResponseEntity&lt;TransfersHistory[]&gt; res =  restTemplate.exchange(base_url + transfers_history_resource, HttpMethod.POST, entity, TransfersHistory[].class);\n    List&lt;TransfersHistory&gt; tempTransfers = new ArrayList&lt;&gt;();\n    tempTransfers = Arrays.asList(res.getBody());\n    return tempTransfers;\n}\n</code></pre>\n<p>TransfersHistory.java</p>\n<pre><code>public class TransfersHistory {\n    private int transferId;\n    private String toFrom;\n    private BigDecimal amount;\n}\n</code></pre>\n<p>Why is this returning error: <em>&quot;PreparedStatementCallback; SQL [select t.transfer_id, 'to:'||(select username from users as fu join...&quot;? Is it because of nested Select statements?</em>\n<br>to_from: is &quot;alias column&quot;</p>\n"},{"tags":["java","spring-boot","ldap","spring-rest"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1580953773,"post_id":60086596,"comment_id":106270871,"body_markdown":"read this - https://spring.io/guides/gs/authenticating-ldap/","body":"read this - <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/authenticating-ldap</a>"}],"answers":[{"tags":[],"owner":{"account_id":5419624,"reputation":695,"user_id":4313726,"display_name":"nelsw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1598994755,"creation_date":1598994755,"answer_id":63695533,"question_id":60086596,"body_markdown":"This can actually be accomplished pretty succinctly with Spring Boot.\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.so&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-ldap&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;name&gt;rest-ldap&lt;/name&gt;\r\n    &lt;description&gt;SO REST LDAP Solution&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**App.java**\r\n```java\r\npackage com.so;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@EnableWebSecurity\r\n@RestController\r\n@SpringBootApplication\r\npublic class App extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .httpBasic()\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .csrf()\r\n                .disable();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder\r\n                .ldapAuthentication()\r\n                .contextSource()\r\n                .url(&quot;ldap://ldap-server.com:3268&quot;)\r\n                .managerDn(&quot;CN=MGR_USERNAME&quot;)\r\n                .managerPassword(&quot;MGR_PASSWORD&quot;)\r\n                .and()\r\n                .userSearchFilter(&quot;CN={0}&quot;);\r\n    }\r\n\r\n    @RequestMapping\r\n    public Authentication getAuth() {\r\n        return SecurityContextHolder.getContext().getAuthentication();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(com.so.App.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Send request**\r\n`http://USERNAME:PASSWORD@localhost:8080`\r\n\r\n**Receive (successful) response**\r\n```http request\r\nHTTP/1.1 200\r\nSet-Cookie: JSESSIONID=COOKIE-VALUE; Path=/; HttpOnly\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Mon, 01 Jan 1970 00:00:00 GMT\r\n```\r\n```json\r\n{\r\n  &quot;authorities&quot;: [],\r\n  &quot;details&quot;: {\r\n    &quot;remoteAddress&quot;: &quot;127.0.0.1&quot;,\r\n    &quot;sessionId&quot;: null\r\n  },\r\n  &quot;authenticated&quot;: true,\r\n  &quot;principal&quot;: {\r\n    &quot;dn&quot;: &quot;cn=USERNAME&quot;,\r\n    &quot;password&quot;: null,\r\n    &quot;username&quot;: &quot;USERNAME&quot;,\r\n    &quot;authorities&quot;: [],\r\n    &quot;accountNonExpired&quot;: true,\r\n    &quot;accountNonLocked&quot;: true,\r\n    &quot;credentialsNonExpired&quot;: true,\r\n    &quot;enabled&quot;: true,\r\n    &quot;timeBeforeExpiration&quot;: 2147483647,\r\n    &quot;graceLoginsRemaining&quot;: 2147483647\r\n  },\r\n  &quot;credentials&quot;: null,\r\n  &quot;name&quot;: &quot;USERNAME&quot;\r\n}\r\n```\r\nEnjoy!\r\n\r\n","title":"Spring Boot REST API using LDAP authentication","body":"<p>This can actually be accomplished pretty succinctly with Spring Boot.</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.so&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-ldap&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;name&gt;rest-ldap&lt;/name&gt;\n    &lt;description&gt;SO REST LDAP Solution&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.so;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@EnableWebSecurity\n@RestController\n@SpringBootApplication\npublic class App extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .httpBasic()\n                .and()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .csrf()\n                .disable();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder\n                .ldapAuthentication()\n                .contextSource()\n                .url(&quot;ldap://ldap-server.com:3268&quot;)\n                .managerDn(&quot;CN=MGR_USERNAME&quot;)\n                .managerPassword(&quot;MGR_PASSWORD&quot;)\n                .and()\n                .userSearchFilter(&quot;CN={0}&quot;);\n    }\n\n    @RequestMapping\n    public Authentication getAuth() {\n        return SecurityContextHolder.getContext().getAuthentication();\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(com.so.App.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Send request</strong>\n<code>http://USERNAME:PASSWORD@localhost:8080</code></p>\n<p><strong>Receive (successful) response</strong></p>\n<pre><code>HTTP/1.1 200\nSet-Cookie: JSESSIONID=COOKIE-VALUE; Path=/; HttpOnly\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Mon, 01 Jan 1970 00:00:00 GMT\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;authorities&quot;: [],\n  &quot;details&quot;: {\n    &quot;remoteAddress&quot;: &quot;127.0.0.1&quot;,\n    &quot;sessionId&quot;: null\n  },\n  &quot;authenticated&quot;: true,\n  &quot;principal&quot;: {\n    &quot;dn&quot;: &quot;cn=USERNAME&quot;,\n    &quot;password&quot;: null,\n    &quot;username&quot;: &quot;USERNAME&quot;,\n    &quot;authorities&quot;: [],\n    &quot;accountNonExpired&quot;: true,\n    &quot;accountNonLocked&quot;: true,\n    &quot;credentialsNonExpired&quot;: true,\n    &quot;enabled&quot;: true,\n    &quot;timeBeforeExpiration&quot;: 2147483647,\n    &quot;graceLoginsRemaining&quot;: 2147483647\n  },\n  &quot;credentials&quot;: null,\n  &quot;name&quot;: &quot;USERNAME&quot;\n}\n</code></pre>\n<p>Enjoy!</p>\n"}],"owner":{"account_id":10378793,"reputation":440,"user_id":7654233,"display_name":"Lee Merlas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7755,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":63695533,"answer_count":1,"score":5,"last_activity_date":1639686959,"creation_date":1580953546,"question_id":60086596,"body_markdown":"So I&#39;m trying to build a REST API that will use LDAP authentication. Basically, when my login endpoint is consumed, I want it to detect credentials using httpBasic authentication and then use those credentials against my LDAP server. I also want to take into account user roles, protecting endpoints so that only certain users with the proper roles can access said endpoints.\r\n\r\nIs it possible to do this? In my readings so far, I haven&#39;t seen a tutorial or article that clearly states how to implement this.\r\n\r\n\r\n***UPDATE:** I managed to configure it to be able to accept credentials using httpBasic. Now I would like to know how to set permissions for specific endpoints using user roles based on LDAP groups (e.g. managers, developers)","title":"Spring Boot REST API using LDAP authentication","body":"<p>So I'm trying to build a REST API that will use LDAP authentication. Basically, when my login endpoint is consumed, I want it to detect credentials using httpBasic authentication and then use those credentials against my LDAP server. I also want to take into account user roles, protecting endpoints so that only certain users with the proper roles can access said endpoints.</p>\n\n<p>Is it possible to do this? In my readings so far, I haven't seen a tutorial or article that clearly states how to implement this.</p>\n\n<p><strong>*UPDATE:</strong> I managed to configure it to be able to accept credentials using httpBasic. Now I would like to know how to set permissions for specific endpoints using user roles based on LDAP groups (e.g. managers, developers)</p>\n"},{"tags":["java","sql-server","netbeans","netbeans-8"],"comments":[{"owner":{"account_id":23227201,"reputation":57,"user_id":17318569,"display_name":"Ștefan Tătărucă"},"score":0,"creation_date":1639684506,"post_id":70384093,"comment_id":124418777,"body_markdown":"Update : I change :con=DriverManager.getConnection(&quot;jdbc:sqlserver:DESKTOP-4N1HNP8;databaseName=Cities_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;); into : con=DriverManager.getConnection(&quot;jdbc:sqlserver://DESKTOP-4N1HNP8;databaseName=Cities_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;); and now i receive this: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near &#39;Cities_names&#39;.","body":"Update : I change :con=DriverManager.getConnection(&quot;jdbc:sqlserver:DESKTOP-4N1&zwnj;&#8203;HNP8;databaseName=Ci&zwnj;&#8203;ties_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;); into : con=DriverManager.getConnection(&quot;jdbc:sqlserver://DESKTOP-4N&zwnj;&#8203;1HNP8;databaseName=C&zwnj;&#8203;ities_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;); and now i receive this: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near &#39;Cities_names&#39;."}],"answers":[{"tags":[],"owner":{"account_id":23227201,"reputation":57,"user_id":17318569,"display_name":"Ștefan Tătărucă"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639686931,"creation_date":1639686893,"answer_id":70385298,"question_id":70384093,"body_markdown":"I changed: \r\n\r\n    String Query = &quot;SELECT * FROM Cities_names&quot;;\r\n\r\nto:\r\n\r\n    String Query = &quot;SELECT TOP (1000) [City] FROM [Cities_names].[dbo]. [Cities]&quot;;\r\n\r\nand it&#39;s working &lt;3","title":"No suitable driver found for jdbc:sqlserver:ex;databaseName=Cities_names","body":"<p>I changed:</p>\n<pre><code>String Query = &quot;SELECT * FROM Cities_names&quot;;\n</code></pre>\n<p>to:</p>\n<pre><code>String Query = &quot;SELECT TOP (1000) [City] FROM [Cities_names].[dbo]. [Cities]&quot;;\n</code></pre>\n<p>and it's working &lt;3</p>\n"}],"owner":{"account_id":23227201,"reputation":57,"user_id":17318569,"display_name":"Ștefan Tătărucă"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639686931,"creation_date":1639680132,"question_id":70384093,"body_markdown":"I&#39; trying to connect a db and showing with combobox in NetBeans I have this as output:\r\n\r\n&gt; SEVERE: null  \r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:sqlserver:DESKTOP-4N1HNP8;databaseName=Cities_names  \r\n&gt; at java.sql.DriverManager.getConnection(DriverManager.java:689)  \r\n&gt; at java.sql.DriverManager.getConnection(DriverManager.java:247)  \r\n&gt; at com.mycompany.acam.Panel1.Fillcombo(Panel1.java:31)  \r\n&gt; at com.mycompany.acam.Panel1.&lt;init&gt;(Panel1.java:27)\r\n&gt;    \r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException \r\n&gt; \r\n&gt; at com.mycompany.acam.Panel1.Fillcombo(Panel1.java:46) //con.close();  \r\n&gt; at com.mycompany.acam.Panel1.&lt;init&gt;(Panel1.java:27) //Fillcombo();\r\n&gt;\r\n&gt; The POM for mssql:mssql-jdbc:jar:9.4.1 is missing, no dependency information available\r\n\r\nHere is where I connect to the database and where I fill the combobox:\r\n\r\n```\r\npublic class Panel1 extends javax.swing.JFrame {\r\n    static Connection con;\r\n    static ResultSet rs;\r\n    static PreparedStatement pst;\r\n    static Statement st;\r\n\r\n    public Panel1() {\r\n        initComponents();\r\n        this.setLocationRelativeTo(null);\r\n        Fillcombo();\r\n    }\r\n\r\n    public  void Fillcombo() {\r\n        try {\r\n           con = DriverManager.getConnection(&quot;jdbc:sqlserver:DESKTOP-4N1HNP8;databaseName=Cities_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;);\r\n           String Query = &quot;SELECT * FROM Cities_names&quot;;\r\n           st = con.createStatement();\r\n           pst = con.prepareStatement(Query);\r\n           rs = st.executeQuery(Query);\r\n\r\n           while (rs.next())\r\n           {\r\n               Combo_box.addItem(rs.getString(&quot;City&quot;));\r\n           }\r\n\r\n           Combo_box.setSelectedItem(null);\r\n      } catch(SQLException ex) {\r\n         Logger.getLogger(Panel1.class.getName()).log(Level.SEVERE,null,ex);\r\n      }\r\n      finally {\r\n          try {\r\n             con.close();\r\n             pst.close();\r\n             rs.close();\r\n          } catch(SQLException ex) {\r\n              Logger.getLogger(Panel1.class.getName()).log(Level.SEVERE,null,ex);\r\n          }\r\n    }\r\n}\r\n```\r\n\r\nThe dependency from pom.xml -maven:\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mssql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI added dependency from  dependencies node.I installed manually the jar file. \r\n\r\n\r\n","title":"No suitable driver found for jdbc:sqlserver:ex;databaseName=Cities_names","body":"<p>I' trying to connect a db and showing with combobox in NetBeans I have this as output:</p>\n<blockquote>\n<p>SEVERE: null<br />\njava.sql.SQLException: No suitable driver found for jdbc:sqlserver:DESKTOP-4N1HNP8;databaseName=Cities_names<br />\nat java.sql.DriverManager.getConnection(DriverManager.java:689)<br />\nat java.sql.DriverManager.getConnection(DriverManager.java:247)<br />\nat com.mycompany.acam.Panel1.Fillcombo(Panel1.java:31)<br />\nat com.mycompany.acam.Panel1.(Panel1.java:27)</p>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException</p>\n<p>at com.mycompany.acam.Panel1.Fillcombo(Panel1.java:46) //con.close();<br />\nat com.mycompany.acam.Panel1.(Panel1.java:27) //Fillcombo();</p>\n<p>The POM for mssql:mssql-jdbc:jar:9.4.1 is missing, no dependency information available</p>\n</blockquote>\n<p>Here is where I connect to the database and where I fill the combobox:</p>\n<pre><code>public class Panel1 extends javax.swing.JFrame {\n    static Connection con;\n    static ResultSet rs;\n    static PreparedStatement pst;\n    static Statement st;\n\n    public Panel1() {\n        initComponents();\n        this.setLocationRelativeTo(null);\n        Fillcombo();\n    }\n\n    public  void Fillcombo() {\n        try {\n           con = DriverManager.getConnection(&quot;jdbc:sqlserver:DESKTOP-4N1HNP8;databaseName=Cities_names&quot;, &quot;Stefan&quot;, &quot;stefan&quot;);\n           String Query = &quot;SELECT * FROM Cities_names&quot;;\n           st = con.createStatement();\n           pst = con.prepareStatement(Query);\n           rs = st.executeQuery(Query);\n\n           while (rs.next())\n           {\n               Combo_box.addItem(rs.getString(&quot;City&quot;));\n           }\n\n           Combo_box.setSelectedItem(null);\n      } catch(SQLException ex) {\n         Logger.getLogger(Panel1.class.getName()).log(Level.SEVERE,null,ex);\n      }\n      finally {\n          try {\n             con.close();\n             pst.close();\n             rs.close();\n          } catch(SQLException ex) {\n              Logger.getLogger(Panel1.class.getName()).log(Level.SEVERE,null,ex);\n          }\n    }\n}\n</code></pre>\n<p>The dependency from pom.xml -maven:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mssql&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;9.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I added dependency from  dependencies node.I installed manually the jar file.</p>\n"},{"tags":["java","spring-boot","junit5","pact"],"answers":[{"tags":[],"owner":{"account_id":7232663,"reputation":45,"user_id":5518925,"display_name":"Divyaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639686849,"creation_date":1639672557,"answer_id":70382559,"question_id":70358811,"body_markdown":"The version of `@PactTestFor` method still needs to use version 3.\r\n```\r\n@Test\r\n@PactTestFor(providerName = PACT_PROVIDER, port = &quot;8080&quot;, pactVersion = PactSpecVersion.V3)\r\n```","title":"Pact consumer junit5 - No ParameterResolver registered for parameter [au.com.dius.pact.consumer.MockServer mockServer]","body":"<p>The version of <code>@PactTestFor</code> method still needs to use version 3.</p>\n<pre><code>@Test\n@PactTestFor(providerName = PACT_PROVIDER, port = &quot;8080&quot;, pactVersion = PactSpecVersion.V3)\n</code></pre>\n"}],"owner":{"account_id":7232663,"reputation":45,"user_id":5518925,"display_name":"Divyaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70382559,"answer_count":1,"score":3,"last_activity_date":1639686849,"creation_date":1639546071,"question_id":70358811,"body_markdown":"I am figuring out how to implement consumer driven contract testing using pact junit5. But the test keeps failing because of no parameter resolver for the injected MockServer, even though the test class is extended with PactConsumerTestExt. My understanding is the parameter resolver for MockServer should be provided with PactConsumerTestExt extension. Would be great if anyone could help me out here!!\r\n\r\nJava version : 11\r\n\r\nSpring boot version : 2.6.1\r\n\r\nPact library used :\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit5&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.3.2&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy consumer pact test class with one interaction : \r\n\r\n```\r\nimport au.com.dius.pact.consumer.MockServer;\r\nimport au.com.dius.pact.consumer.dsl.PactDslJsonBody;\r\nimport au.com.dius.pact.consumer.dsl.PactDslWithProvider;\r\nimport au.com.dius.pact.consumer.junit5.PactConsumerTestExt;\r\nimport au.com.dius.pact.consumer.junit5.PactTestFor;\r\nimport au.com.dius.pact.consumer.junit5.ProviderType;\r\nimport au.com.dius.pact.core.model.RequestResponsePact;\r\nimport au.com.dius.pact.core.model.annotations.Pact;\r\nimport com.divyaa.consumer.beans.Product;\r\nimport com.divyaa.consumer.services.ProductService;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n@ExtendWith(PactConsumerTestExt.class)\r\npublic class AddProductPact {\r\n\r\n    @Pact(provider = &quot;ProviderService&quot;, consumer = &quot;ConsumerService&quot;)\r\n    public RequestResponsePact createPact(PactDslWithProvider builder){\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n\r\n        PactDslJsonBody body = new PactDslJsonBody()\r\n                .stringType(&quot;id&quot;,&quot;10&quot;)\r\n                .stringType(&quot;type&quot;, &quot;CREDIT_CARD&quot;)\r\n                .stringType(&quot;name&quot;, &quot;Gem Visa&quot;);\r\n        return builder\r\n                .given(&quot;Product doesn&#39;t exist&quot;)\r\n                .uponReceiving(&quot;Add product&quot;)\r\n                    .path(&quot;/products&quot;)\r\n                    .method(&quot;POST&quot;)\r\n                .willRespondWith()\r\n                    .status(200)\r\n                    .headers(headers)\r\n                    .body(body)\r\n                .toPact();\r\n    }\r\n\r\n    @Test\r\n    @PactTestFor(providerName = &quot;ProviderService&quot;, providerType = ProviderType.ASYNCH)\r\n    public void example(MockServer mockServer){\r\n        Product expectedProduct = new Product();\r\n        expectedProduct.setId(&quot;10&quot;);\r\n        expectedProduct.setType(&quot;CREDIT_CARD&quot;);\r\n        expectedProduct.setName(&quot;Gem Visa&quot;);\r\n        List&lt;Product&gt; expected = Arrays.asList(expectedProduct);\r\n\r\n        String baseUrl = mockServer.getUrl();\r\n        RestTemplate restTemplate = new RestTemplateBuilder()\r\n                .rootUri(baseUrl)\r\n                .build();\r\n        Product product = new ProductService(restTemplate).addProduct(expectedProduct);\r\n\r\n        assertEquals(expected, product);\r\n    }\r\n}\r\n```\r\n\r\nThe above test fails with following error :\r\n\r\n```\r\norg.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [au.com.dius.pact.consumer.MockServer mockServer] in method [public void AddProductPact.example(au.com.dius.pact.consumer.MockServer)].\r\n\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameter(ExecutableInvoker.java:200)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:183)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:144)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:96)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nI noticed I was using org.junit.Test instead of org.junit.jupiter.api.Test, but got the same error even after changing. \r\n\r\nTried using ParametrizedTest, but my test got ignored.\r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:61332&#39;, transport: &#39;socket&#39;\r\n\r\nTest ignored.\r\n11:10:22.545 [main] INFO au.com.dius.pact.consumer.junit5.PactConsumerTestExt - Writing pacts out to default directory\r\n```","title":"Pact consumer junit5 - No ParameterResolver registered for parameter [au.com.dius.pact.consumer.MockServer mockServer]","body":"<p>I am figuring out how to implement consumer driven contract testing using pact junit5. But the test keeps failing because of no parameter resolver for the injected MockServer, even though the test class is extended with PactConsumerTestExt. My understanding is the parameter resolver for MockServer should be provided with PactConsumerTestExt extension. Would be great if anyone could help me out here!!</p>\n<p>Java version : 11</p>\n<p>Spring boot version : 2.6.1</p>\n<p>Pact library used :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n    &lt;artifactId&gt;junit5&lt;/artifactId&gt;\n    &lt;version&gt;4.3.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My consumer pact test class with one interaction :</p>\n<pre><code>import au.com.dius.pact.consumer.MockServer;\nimport au.com.dius.pact.consumer.dsl.PactDslJsonBody;\nimport au.com.dius.pact.consumer.dsl.PactDslWithProvider;\nimport au.com.dius.pact.consumer.junit5.PactConsumerTestExt;\nimport au.com.dius.pact.consumer.junit5.PactTestFor;\nimport au.com.dius.pact.consumer.junit5.ProviderType;\nimport au.com.dius.pact.core.model.RequestResponsePact;\nimport au.com.dius.pact.core.model.annotations.Pact;\nimport com.divyaa.consumer.beans.Product;\nimport com.divyaa.consumer.services.ProductService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n@ExtendWith(PactConsumerTestExt.class)\npublic class AddProductPact {\n\n    @Pact(provider = &quot;ProviderService&quot;, consumer = &quot;ConsumerService&quot;)\n    public RequestResponsePact createPact(PactDslWithProvider builder){\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\n\n        PactDslJsonBody body = new PactDslJsonBody()\n                .stringType(&quot;id&quot;,&quot;10&quot;)\n                .stringType(&quot;type&quot;, &quot;CREDIT_CARD&quot;)\n                .stringType(&quot;name&quot;, &quot;Gem Visa&quot;);\n        return builder\n                .given(&quot;Product doesn't exist&quot;)\n                .uponReceiving(&quot;Add product&quot;)\n                    .path(&quot;/products&quot;)\n                    .method(&quot;POST&quot;)\n                .willRespondWith()\n                    .status(200)\n                    .headers(headers)\n                    .body(body)\n                .toPact();\n    }\n\n    @Test\n    @PactTestFor(providerName = &quot;ProviderService&quot;, providerType = ProviderType.ASYNCH)\n    public void example(MockServer mockServer){\n        Product expectedProduct = new Product();\n        expectedProduct.setId(&quot;10&quot;);\n        expectedProduct.setType(&quot;CREDIT_CARD&quot;);\n        expectedProduct.setName(&quot;Gem Visa&quot;);\n        List&lt;Product&gt; expected = Arrays.asList(expectedProduct);\n\n        String baseUrl = mockServer.getUrl();\n        RestTemplate restTemplate = new RestTemplateBuilder()\n                .rootUri(baseUrl)\n                .build();\n        Product product = new ProductService(restTemplate).addProduct(expectedProduct);\n\n        assertEquals(expected, product);\n    }\n}\n</code></pre>\n<p>The above test fails with following error :</p>\n<pre><code>org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [au.com.dius.pact.consumer.MockServer mockServer] in method [public void AddProductPact.example(au.com.dius.pact.consumer.MockServer)].\n\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameter(ExecutableInvoker.java:200)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:183)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:144)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:96)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>I noticed I was using org.junit.Test instead of org.junit.jupiter.api.Test, but got the same error even after changing.</p>\n<p>Tried using ParametrizedTest, but my test got ignored.</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:61332', transport: 'socket'\n\nTest ignored.\n11:10:22.545 [main] INFO au.com.dius.pact.consumer.junit5.PactConsumerTestExt - Writing pacts out to default directory\n</code></pre>\n"},{"tags":["java","azure","selenium","cucumber"],"owner":{"account_id":20174487,"reputation":85,"user_id":14796497,"display_name":"ruansmit2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639684918,"creation_date":1621894085,"question_id":67679476,"body_markdown":"I am running a selenium cucumber application. \r\nIf I run my tests locally it passes my tests pass as expected.\r\nIf I run it on Azure on my release pipeline I get the following error: `org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_TIMED_OUT`\r\n\r\nBrowser Version: 90.0.4430.212\r\n\r\nChromeDriver 90.0.4430.24\r\n\r\nThe site that I am navigating to works if I browse to it from my local browser. However I see that on azure the some tests fail with the error. If I have 15 tests about 10 will randomly fail with the error and the rest will navigate to the site fine.\r\n\r\nMy code snippet:\r\n\r\n```\r\n getDriver().get(url);\r\n        Thread.sleep(10000);\r\n        if (driver.findElement(By.tagName(&quot;body&quot;)).getText().contains(&quot;This site can’t be reached&quot;) | driver.findElement(By.tagName(&quot;body&quot;)).getText().contains(&quot;ERR_CONNECTION_TIMED_OUT&quot;)) {\r\n            driver.manage().deleteAllCookies();\r\n            Thread.sleep(10000);\r\n            getDriver().get(url);\r\n        }\r\n```\r\n\r\nI added the if statement after the fact because somebody suggested to clear cache. \r\n\r\nThe `url` comes from cucumber side where I gave the example. \r\n\r\n```\r\n    Examples:\r\n      | url                                             |\r\n      | https://uat.somesite.com/animal?nogeoredirect=1 |\r\n```\r\n\r\nThe site is a UAT site but is publicaly avalible with the `?nogeoredirect=1 ` added","title":"ERR_CONNECTION_TIMED_OUT using Selenium and Cucumber in Azure","body":"<p>I am running a selenium cucumber application.\nIf I run my tests locally it passes my tests pass as expected.\nIf I run it on Azure on my release pipeline I get the following error: <code>org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_TIMED_OUT</code></p>\n<p>Browser Version: 90.0.4430.212</p>\n<p>ChromeDriver 90.0.4430.24</p>\n<p>The site that I am navigating to works if I browse to it from my local browser. However I see that on azure the some tests fail with the error. If I have 15 tests about 10 will randomly fail with the error and the rest will navigate to the site fine.</p>\n<p>My code snippet:</p>\n<pre><code> getDriver().get(url);\n        Thread.sleep(10000);\n        if (driver.findElement(By.tagName(&quot;body&quot;)).getText().contains(&quot;This site can’t be reached&quot;) | driver.findElement(By.tagName(&quot;body&quot;)).getText().contains(&quot;ERR_CONNECTION_TIMED_OUT&quot;)) {\n            driver.manage().deleteAllCookies();\n            Thread.sleep(10000);\n            getDriver().get(url);\n        }\n</code></pre>\n<p>I added the if statement after the fact because somebody suggested to clear cache.</p>\n<p>The <code>url</code> comes from cucumber side where I gave the example.</p>\n<pre><code>    Examples:\n      | url                                             |\n      | https://uat.somesite.com/animal?nogeoredirect=1 |\n</code></pre>\n<p>The site is a UAT site but is publicaly avalible with the <code>?nogeoredirect=1 </code> added</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8239,"page":1753,"page_size":100}
