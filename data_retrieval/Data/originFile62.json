{"items":[{"tags":["java","file","io","large-files","filechannel"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699999129,"post_id":37318667,"comment_id":136600547,"body_markdown":"‘Considering I/O in Java is slow’: where did you get that motion. I/O is I/O. It’s affected by several things, but the language is among the least of them.","body":"‘Considering I/O in Java is slow’: where did you get that motion. I/O is I/O. It’s affected by several things, but the language is among the least of them."}],"answers":[{"tags":[],"owner":{"account_id":1398005,"reputation":3053,"user_id":1327386,"accept_rate":100,"display_name":"hgrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463650033,"creation_date":1463650033,"answer_id":37319099,"question_id":37318667,"body_markdown":"You probably should use [RandomAccessFile][1], it supports seek by position and write. Also I don&#39;t think it is accurate to describe IO in Java as slow, often you can achieve C like performance if you use java.io properly.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html","title":"What is the best way for Files IO in java","body":"<p>You probably should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow\">RandomAccessFile</a>, it supports seek by position and write. Also I don't think it is accurate to describe IO in Java as slow, often you can achieve C like performance if you use java.io properly.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699999167,"post_id":37319115,"comment_id":136600552,"body_markdown":"Images don&#39;t have lines, and the problem statement requires random access.","body":"Images don&#39;t have lines, and the problem statement requires random access."}],"tags":[],"owner":{"account_id":3530193,"reputation":811,"user_id":2950010,"accept_rate":67,"display_name":"mubeen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463650072,"creation_date":1463650072,"answer_id":37319115,"question_id":37318667,"body_markdown":"You can use Java 8 Stream features \r\n\r\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(args[1]));\r\n\r\nBut, If you are not using Java-8. You use `java.nio` package\r\n \r\n\r\n&gt; If I read data in chunks, what is the proper size of a chunk?\r\n \r\nYou can uses a buffer size of only 1 KB.\r\n","title":"What is the best way for Files IO in java","body":"<p>You can use Java 8 Stream features </p>\n\n<pre><code>Stream&lt;String&gt; lines = Files.lines(Paths.get(args[1]));\n</code></pre>\n\n<p>But, If you are not using Java-8. You use <code>java.nio</code> package</p>\n\n<blockquote>\n  <p>If I read data in chunks, what is the proper size of a chunk?</p>\n</blockquote>\n\n<p>You can uses a buffer size of only 1 KB.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1699999217,"post_id":77483849,"comment_id":136600557,"body_markdown":"Doesn’t answer the question.","body":"Doesn’t answer the question."}],"tags":[],"owner":{"account_id":29898937,"reputation":1,"user_id":22913125,"display_name":"smgcuv587"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699996254,"creation_date":1699996254,"answer_id":77483849,"question_id":37318667,"body_markdown":"try this:\r\n\r\n    //readfile(byte stream)\r\n        InputStream in = new FileInputStream(&quot;d:\\\\1.txt&quot;);\r\n        //output file\r\n        OutputStream out = new FileOutputStream(&quot;d:\\\\2.txt&quot;);\r\n        //read data\r\n        //how many bytes read in once\r\n        byte[] bytes = new byte[2048];\r\n        //receive data (n represents relative data,in this case, it&#39;s numeric )\r\n        int n = -1;\r\n        //loop get data\r\n        while ((n = in.read(bytes,0,bytes.length)) != -1) {\r\n            //transform to string\r\n            String str = new String(bytes,0,n,&quot;GBK&quot;); # byte-&gt;string\r\n            System.out.println(str);\r\n            //write data\r\n            out.write(bytes, 0, n);\r\n        }\r\n        //close stream\r\n        in.close();\r\n        out.close();","title":"What is the best way for Files IO in java","body":"<p>try this:</p>\n<pre><code>//readfile(byte stream)\n    InputStream in = new FileInputStream(&quot;d:\\\\1.txt&quot;);\n    //output file\n    OutputStream out = new FileOutputStream(&quot;d:\\\\2.txt&quot;);\n    //read data\n    //how many bytes read in once\n    byte[] bytes = new byte[2048];\n    //receive data (n represents relative data,in this case, it's numeric )\n    int n = -1;\n    //loop get data\n    while ((n = in.read(bytes,0,bytes.length)) != -1) {\n        //transform to string\n        String str = new String(bytes,0,n,&quot;GBK&quot;); # byte-&gt;string\n        System.out.println(str);\n        //write data\n        out.write(bytes, 0, n);\n    }\n    //close stream\n    in.close();\n    out.close();\n</code></pre>\n"}],"owner":{"account_id":6542693,"reputation":357,"user_id":5492178,"accept_rate":7,"display_name":"aga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1699996254,"creation_date":1463648838,"question_id":37318667,"body_markdown":"I need to do some basic operations on image file in java . My requirements are like :    \r\n- opening a file.\r\n- read bytes in some order. \r\n- write the updated byte at the particular offset\r\n- seeking at some offset in file.\r\n\r\nFiles can be of any size like 2 GB image files.\r\n\r\nI want to know, which class in java can provide me the flexibility to do all these operations with ease and with performance efficiency, considering IO in java is slow.\r\n\r\nCurrently I am considering FileChannel, but I dont know about its performance with files of larger size like in GB. Also it use to read file bytes in ByteBuffer, but if file is large enough , is it appropriate to read all the bytes at same time or should read in chunks. If I read data in chunks, what is the proper size of a chunk?\r\n\r\nPlease guide me.\r\n\r\nThanks","title":"What is the best way for Files IO in java","body":"<p>I need to do some basic operations on image file in java . My requirements are like :<br>\n- opening a file.\n- read bytes in some order. \n- write the updated byte at the particular offset\n- seeking at some offset in file.</p>\n\n<p>Files can be of any size like 2 GB image files.</p>\n\n<p>I want to know, which class in java can provide me the flexibility to do all these operations with ease and with performance efficiency, considering IO in java is slow.</p>\n\n<p>Currently I am considering FileChannel, but I dont know about its performance with files of larger size like in GB. Also it use to read file bytes in ByteBuffer, but if file is large enough , is it appropriate to read all the bytes at same time or should read in chunks. If I read data in chunks, what is the proper size of a chunk?</p>\n\n<p>Please guide me.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","generics","functional-programming"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1699871158,"post_id":77473182,"comment_id":136580872,"body_markdown":"it&#39;s a warning, not an error. Why not ask those of the platform you use?","body":"it&#39;s a warning, not an error. Why not ask those of the platform you use?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":4,"creation_date":1699871353,"post_id":77473182,"comment_id":136580905,"body_markdown":"never post images of code! pasting them here makes it way way easier for us ;)","body":"never post images of code! pasting them here makes it way way easier for us ;)"},{"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"score":2,"creation_date":1699875227,"post_id":77473182,"comment_id":136581627,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1699878033,"post_id":77473182,"comment_id":136582045,"body_markdown":"I removed the code screenshots and extracted the code.","body":"I removed the code screenshots and extracted the code."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1699878521,"post_id":77473182,"comment_id":136582129,"body_markdown":"Even if your code compiled, it doesn&#39;t make sense. You are calling `Supplier.get` in that 2nd path when you know there is no item. It should just be `return null` or something.","body":"Even if your code compiled, it doesn&#39;t make sense. You are calling <code>Supplier.get</code> in that 2nd path when you know there is no item. It should just be <code>return null</code> or something."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699995573,"creation_date":1699995573,"answer_id":77483796,"question_id":77473182,"body_markdown":"You probably mean\r\n\r\n    public T orElseGet(Supplier&lt;? extends T&gt; supplier) {\r\n        if (this.isPresent()) {\r\n            return this.get();\r\n        } else {\r\n            return castFromSupplier(supplier);\r\n        }\r\n    }\r\n    \r\n    private static &lt;R&gt; R castFromSupplier(Supplier&lt;? extends R&gt; supplier) {\r\n        return (R) supplier.get();\r\n    }\r\n\r\nThis would be in alignment with [`Optional.orElseGet`](https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)):\r\n\r\n&gt;     public T orElseGet(Supplier&lt;? extends T&gt; supplier)\r\n\r\n---\r\n\r\nThe problem with your version is that\r\n\r\n    class SupplierTest {\r\n        private static &lt;R&gt; R castFromSupplier(Supplier&lt;? super R&gt; supplier) {\r\n            return (R) supplier.get();\r\n        }\r\n\r\n        public static void main(String... args) {\r\n            Supplier&lt;Object&gt; so = Object::new;\r\n            String s = castFromSupplier(so);\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\ncompiles (with the warning about the unchecked cast) but will fail at runtime with a `ClassCastException` because the supplier returns an `Object` but the `test()` method expects a `String` from the `castFromSupplier()`.","title":"compilation error due to type mismatch in generic class","body":"<p>You probably mean</p>\n<pre><code>public T orElseGet(Supplier&lt;? extends T&gt; supplier) {\n    if (this.isPresent()) {\n        return this.get();\n    } else {\n        return castFromSupplier(supplier);\n    }\n}\n\nprivate static &lt;R&gt; R castFromSupplier(Supplier&lt;? extends R&gt; supplier) {\n    return (R) supplier.get();\n}\n</code></pre>\n<p>This would be in alignment with <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.orElseGet</code></a>:</p>\n<blockquote>\n<pre><code>public T orElseGet(Supplier&lt;? extends T&gt; supplier)\n</code></pre>\n</blockquote>\n<hr />\n<p>The problem with your version is that</p>\n<pre><code>class SupplierTest {\n    private static &lt;R&gt; R castFromSupplier(Supplier&lt;? super R&gt; supplier) {\n        return (R) supplier.get();\n    }\n\n    public static void main(String... args) {\n        Supplier&lt;Object&gt; so = Object::new;\n        String s = castFromSupplier(so);\n        System.out.println(s);\n    }\n}\n</code></pre>\n<p>compiles (with the warning about the unchecked cast) but will fail at runtime with a <code>ClassCastException</code> because the supplier returns an <code>Object</code> but the <code>test()</code> method expects a <code>String</code> from the <code>castFromSupplier()</code>.</p>\n"}],"owner":{"account_id":28734240,"reputation":1,"user_id":22005552,"display_name":"jumbo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699995573,"creation_date":1699871102,"question_id":77473182,"body_markdown":"**CODE:**\r\n\r\n```\r\npublic T orElseGet(Supplier&lt;? super T&gt; supplier) {\r\n    if (this.isPresent()) {\r\n        return this.get();\r\n    } else {\r\n        return castFromSupplier(supplier);\r\n    }\r\n}\r\n\r\nprivate static &lt;R&gt; R castFromSupplier(Supplier&lt;? super R&gt; supplier) {\r\n    return (R) supplier.get();\r\n}\r\n```\r\n\r\n**COMPILATION ERRORS:**\r\n\r\n```\r\nMaybe.java:74: warning: [unchecked] unchecked cast\r\nreturn (R) supplier.get();\r\n\r\nrequired: R\r\nfound: — CAP#1\r\nwhere R is a type-variable:\r\nR extends Object declared in method &lt;R&gt;castFromSupplier(Supplier&lt;? super R&gt;)\r\nwhere CAP#1 is a fresh type-variable:\r\nCAP#1 extends Object super: R from capture of ? super R\r\n1 warning\r\nGrading terminated.\r\n```\r\n\r\n\r\nThe problem essentially lies within a specific `Java` generic context that I have created (which operates in a manner quite similar to other contexts such as Optional or Log). The `orElseGet` method essentially examines whether the value exists or not. If it exists, it merely returns the value; otherwise, it obtains the value from the input supplier&#39;s `get` method.\r\n \r\n\r\n\r\nI don&#39;t know why my code works perfectly fine in jshell, no compilation error, right output, but only in this platform that I have to submit this code it gives me this error. Any ideas that can help me debug this error statement?","title":"compilation error due to type mismatch in generic class","body":"<p><strong>CODE:</strong></p>\n<pre><code>public T orElseGet(Supplier&lt;? super T&gt; supplier) {\n    if (this.isPresent()) {\n        return this.get();\n    } else {\n        return castFromSupplier(supplier);\n    }\n}\n\nprivate static &lt;R&gt; R castFromSupplier(Supplier&lt;? super R&gt; supplier) {\n    return (R) supplier.get();\n}\n</code></pre>\n<p><strong>COMPILATION ERRORS:</strong></p>\n<pre><code>Maybe.java:74: warning: [unchecked] unchecked cast\nreturn (R) supplier.get();\n\nrequired: R\nfound: — CAP#1\nwhere R is a type-variable:\nR extends Object declared in method &lt;R&gt;castFromSupplier(Supplier&lt;? super R&gt;)\nwhere CAP#1 is a fresh type-variable:\nCAP#1 extends Object super: R from capture of ? super R\n1 warning\nGrading terminated.\n</code></pre>\n<p>The problem essentially lies within a specific <code>Java</code> generic context that I have created (which operates in a manner quite similar to other contexts such as Optional or Log). The <code>orElseGet</code> method essentially examines whether the value exists or not. If it exists, it merely returns the value; otherwise, it obtains the value from the input supplier's <code>get</code> method.</p>\n<p>I don't know why my code works perfectly fine in jshell, no compilation error, right output, but only in this platform that I have to submit this code it gives me this error. Any ideas that can help me debug this error statement?</p>\n"},{"tags":["java","rest","intellij-idea","web-api-testing"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699547121,"post_id":77454783,"comment_id":136548609,"body_markdown":"Please update the question with the original input string.","body":"Please update the question with the original input string."},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699547902,"post_id":77454783,"comment_id":136548775,"body_markdown":"@AndrewS updated","body":"@AndrewS updated"},{"owner":{"account_id":8416486,"reputation":165,"user_id":6316763,"accept_rate":100,"display_name":"newlearner"},"score":0,"creation_date":1699548239,"post_id":77454783,"comment_id":136548847,"body_markdown":"@Bubbles so you need to feed the Response string and remove the `}}[{` characters from it right ?","body":"@Bubbles so you need to feed the Response string and remove the <code>}}[{</code> characters from it right ?"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699548375,"post_id":77454783,"comment_id":136548880,"body_markdown":"Yes but not all `}]}]}}[{` needs to be replaced. At the end we need to keep it. So how do I replace it only in the middle ?","body":"Yes but not all <code>}]}]}}[{</code> needs to be replaced. At the end we need to keep it. So how do I replace it only in the middle ?"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699548428,"post_id":77454783,"comment_id":136548895,"body_markdown":"It should look identical to expected results basically","body":"It should look identical to expected results basically"}],"answers":[{"comments":[{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699548234,"post_id":77454889,"comment_id":136548844,"body_markdown":"in replaceAll(pattern, &quot;,&quot;, Pattern.MULTILINE); what does pattern refers to ?","body":"in replaceAll(pattern, &quot;,&quot;, Pattern.MULTILINE); what does pattern refers to ?"},{"owner":{"account_id":8416486,"reputation":165,"user_id":6316763,"accept_rate":100,"display_name":"newlearner"},"score":0,"creation_date":1699548435,"post_id":77454889,"comment_id":136548898,"body_markdown":"`replaceAll(pattern,&quot;,&quot;,Pattern.MULTILINE)` there are 3 parameters in `replaceall()`method\n1st param is pattern to match\n2nd param is replacement string\n3rd param sets optional regex flags","body":"<code>replaceAll(pattern,&quot;,&quot;,Pattern.MULTILINE)</code> there are 3 parameters in <code>replaceall()</code>method 1st param is pattern to match 2nd param is replacement string 3rd param sets optional regex flags"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699548621,"post_id":77454889,"comment_id":136548934,"body_markdown":"Its not working. Giving error `required type is String but provided int`","body":"Its not working. Giving error <code>required type is String but provided int</code>"},{"owner":{"account_id":8416486,"reputation":165,"user_id":6316763,"accept_rate":100,"display_name":"newlearner"},"score":0,"creation_date":1699548825,"post_id":77454889,"comment_id":136548967,"body_markdown":"`replaceall()` method is giving this error ? or whole block ?","body":"<code>replaceall()</code> method is giving this error ? or whole block ?"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1699550203,"post_id":77454889,"comment_id":136549289,"body_markdown":"replaceAll() is giving error","body":"replaceAll() is giving error"}],"tags":[],"owner":{"account_id":8416486,"reputation":165,"user_id":6316763,"accept_rate":100,"display_name":"newlearner"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699547666,"creation_date":1699547666,"answer_id":77454889,"question_id":77454783,"body_markdown":"```\r\npublic static String getResponseString(String response){\r\n\r\n  String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];\r\n  \r\n  String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\r\n\r\n  String getStringwithBracket = &quot;}]}]&quot; + getStringWithoutIDErrorCode + &quot;}}[{&quot;;\r\n\r\n  String pattern = Pattern.quote(getStringwithBracket);\r\n  String actualResults = getStringWithoutIDErrorCode.replaceAll(pattern, &quot;,&quot;, Pattern.MULTILINE);\r\n\r\n  return actualResults;\r\n\r\n}\r\n```\r\ntry using `Pattern.quote()` to escape the pattern string for regex and then\r\nAdd the `Pattern.MULTILINE` flag so `^` and `$` match start/end of each line after this use the `g` flag in the regex to replace all occurrences\r\nThis will do a global regex replace to replace that pattern on each line.\r\n\r\n-- Hope this helps","title":"How to replace repetitive pattern in a string in Java?","body":"<pre><code>public static String getResponseString(String response){\n\n  String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];\n  \n  String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\n\n  String getStringwithBracket = &quot;}]}]&quot; + getStringWithoutIDErrorCode + &quot;}}[{&quot;;\n\n  String pattern = Pattern.quote(getStringwithBracket);\n  String actualResults = getStringWithoutIDErrorCode.replaceAll(pattern, &quot;,&quot;, Pattern.MULTILINE);\n\n  return actualResults;\n\n}\n</code></pre>\n<p>try using <code>Pattern.quote()</code> to escape the pattern string for regex and then\nAdd the <code>Pattern.MULTILINE</code> flag so <code>^</code> and <code>$</code> match start/end of each line after this use the <code>g</code> flag in the regex to replace all occurrences\nThis will do a global regex replace to replace that pattern on each line.</p>\n<p>-- Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699552049,"creation_date":1699552049,"answer_id":77455350,"question_id":77454783,"body_markdown":"Start by removing all occurrences of `{&quot;isSuccess&quot;:&lt;testData&gt;`.\r\n\r\n```java\r\ns = s.replace(&quot;{\\&quot;isSuccess\\&quot;:&lt;testData&gt;&quot;, &quot;&quot;);\r\n```\r\n\r\nThen, replace `]}}[`, with `,`.\r\n\r\n```java\r\ns = s.replace(&quot;]}}[&quot;, &quot;,&quot;);\r\n```\r\n\r\nAnd finally, insert a `}`, at _n &amp;minus; 6_.\r\n\r\n```java\r\ns = s.substring(0, s.length() - 6) + &#39;}&#39; + s.substring(s.length() - 6);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:&lt;testData&gt;}}]}]}}\r\n```","title":"How to replace repetitive pattern in a string in Java?","body":"<p>Start by removing all occurrences of <code>{&quot;isSuccess&quot;:&lt;testData&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.replace(&quot;{\\&quot;isSuccess\\&quot;:&lt;testData&gt;&quot;, &quot;&quot;);\n</code></pre>\n<p>Then, replace <code>]}}[</code>, with <code>,</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.replace(&quot;]}}[&quot;, &quot;,&quot;);\n</code></pre>\n<p>And finally, insert a <code>}</code>, at <em>n − 6</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.substring(0, s.length() - 6) + '}' + s.substring(s.length() - 6);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:&lt;testData&gt;}}]}]}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699994821,"creation_date":1699994821,"answer_id":77483743,"question_id":77454783,"body_markdown":"It was very simple than I wrote originally,\r\n\r\n    public static String getResponseString(String response){\r\n            String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];                  \r\n            \r\n            String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\r\n            String actualResults = getStringWithoutIDErrorCode.replaceAll(&quot;]}}\\\\[&quot;, &quot;,&quot;);\r\n\r\n        return actualResults;","title":"How to replace repetitive pattern in a string in Java?","body":"<p>It was very simple than I wrote originally,</p>\n<pre><code>public static String getResponseString(String response){\n        String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];                  \n        \n        String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\n        String actualResults = getStringWithoutIDErrorCode.replaceAll(&quot;]}}\\\\[&quot;, &quot;,&quot;);\n\n    return actualResults;\n</code></pre>\n"}],"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77483743,"answer_count":3,"score":0,"last_activity_date":1699994821,"creation_date":1699546766,"question_id":77454783,"body_markdown":"I have intelliJ running with Java/REST API and having trouble removing and replacing string in a certain format. \r\n\r\nResponse string :\r\n\r\n&gt;    {&quot;isSuccess&quot;:&lt;testData&gt;[{&quot;frequency&quot;:&lt;testData&gt;}]}]}}{&quot;isSuccess&quot;:&lt;testData&gt;[{&quot;frequency&quot;:&lt;testData&gt;}]}]}}{&quot;isSuccess&quot;:\\&lt;testData&gt;[{&quot;frequency&quot;:\\&lt;testData&gt;}]}]}}\r\n\r\nExpected string : \r\n\r\n&gt;    [{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:\\&lt;testData&gt;}]},{&quot;frequency&quot;:\\&lt;testData&gt;}}]}]}}\r\n\r\nActual String : \r\n\r\n&gt;    [{&quot;frequency&quot;:\\&lt;testData&gt;}]}]}}[{&quot;frequency&quot;:\\&lt;testData&gt;}]}]}}[{&quot;frequency&quot;:&quot;\\&lt;testData&gt;}]}]}}\r\n\r\nCode : \r\n\r\n  \r\n\r\n          \r\n    public static String getResponseString(String response){\r\n            String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];                 \r\n            String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\r\n            String getStringwithBracket = &quot;}]}]&quot; + getStringWithoutIDErrorCode + &quot;}}[{&quot;;\r\n    \r\n            String actualResults = getStringWithoutIDErrorCode.replaceAll(Pattern.quote(getStringwithBracket), &quot;,&quot;);\r\n    \r\n            return actualResults;\r\n    }\r\n\r\nThe original string had the `}}[{` in the beginning of the line which got removed in the actual results but still pattern is not recognizing and finding the correct string to replace not just in the beginning but in the entire string. Anyone knows how to do this? ","title":"How to replace repetitive pattern in a string in Java?","body":"<p>I have intelliJ running with Java/REST API and having trouble removing and replacing string in a certain format.</p>\n<p>Response string :</p>\n<blockquote>\n<p>{&quot;isSuccess&quot;:[{&quot;frequency&quot;:}]}]}}{&quot;isSuccess&quot;:[{&quot;frequency&quot;:}]}]}}{&quot;isSuccess&quot;:&lt;testData&gt;[{&quot;frequency&quot;:&lt;testData&gt;}]}]}}</p>\n</blockquote>\n<p>Expected string :</p>\n<blockquote>\n<p>[{&quot;frequency&quot;:}]},{&quot;frequency&quot;:&lt;testData&gt;}]},{&quot;frequency&quot;:&lt;testData&gt;}}]}]}}</p>\n</blockquote>\n<p>Actual String :</p>\n<blockquote>\n<p>[{&quot;frequency&quot;:&lt;testData&gt;}]}]}}[{&quot;frequency&quot;:&lt;testData&gt;}]}]}}[{&quot;frequency&quot;:&quot;&lt;testData&gt;}]}]}}</p>\n</blockquote>\n<p>Code :</p>\n<pre><code>public static String getResponseString(String response){\n        String getIDErrorCodeString = response.split(&quot;\\\\[&quot;)[0];                 \n        String getStringWithoutIDErrorCode = response.replaceAll(Pattern.quote(getIDErrorCodeString), &quot;&quot;);\n        String getStringwithBracket = &quot;}]}]&quot; + getStringWithoutIDErrorCode + &quot;}}[{&quot;;\n\n        String actualResults = getStringWithoutIDErrorCode.replaceAll(Pattern.quote(getStringwithBracket), &quot;,&quot;);\n\n        return actualResults;\n}\n</code></pre>\n<p>The original string had the <code>}}[{</code> in the beginning of the line which got removed in the actual results but still pattern is not recognizing and finding the correct string to replace not just in the beginning but in the entire string. Anyone knows how to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1699936686,"post_id":77478218,"comment_id":136590331,"body_markdown":"Welcome to Stack Overflow.  I&#39;m a little confused.  Are you asking about Python or Java?","body":"Welcome to Stack Overflow.  I&#39;m a little confused.  Are you asking about Python or Java?"},{"owner":{"account_id":29897081,"reputation":9,"user_id":22911695,"display_name":"Buuule"},"score":0,"creation_date":1699943811,"post_id":77478218,"comment_id":136590914,"body_markdown":"It&#39;s apparently about Java.  The question description says it&#39;s a Java project. And only Java Standard libs can be used.","body":"It&#39;s apparently about Java.  The question description says it&#39;s a Java project. And only Java Standard libs can be used."},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1699944502,"post_id":77478218,"comment_id":136590995,"body_markdown":"Then why mention python?","body":"Then why mention python?"},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1700010621,"post_id":77478218,"comment_id":136601873,"body_markdown":"@ewokx in the future, I recommend just removing the tag yourself unless you have a real reason to doubt your judgment. You are now somewhat above 2,000 reputation, so you should have the privilege to do so unilaterally.","body":"@ewokx in the future, I recommend just removing the tag yourself unless you have a real reason to doubt your judgment. You are now somewhat above 2,000 reputation, so you should have the privilege to do so unilaterally."},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700013300,"post_id":77478218,"comment_id":136602099,"body_markdown":"@KarlKnechtel thanks for the tip.  Will keep that in mind.","body":"@KarlKnechtel thanks for the tip.  Will keep that in mind."}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699940934,"post_id":77478224,"comment_id":136590662,"body_markdown":"Nice, +1.  I recommend, _line.split(&quot;,&quot;, -1)_, to preserve trailing, empty entries; i.e., _&quot;a,b,c,,,&quot;_.  _https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)_.","body":"Nice, +1.  I recommend, <i>line.split(&quot;,&quot;, -1)</i>, to preserve trailing, empty entries; i.e., <i>&quot;a,b,c,,,&quot;</i>.  <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a></i>."},{"owner":{"account_id":29892702,"reputation":36,"user_id":22908460,"display_name":"Pass1912"},"score":0,"creation_date":1699943530,"post_id":77478224,"comment_id":136590877,"body_markdown":"A useful coomment. And i have updated","body":"A useful coomment. And i have updated"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699951777,"post_id":77478224,"comment_id":136591977,"body_markdown":"did you add a way to read the XML file?","body":"did you add a way to read the XML file?"},{"owner":{"account_id":29892702,"reputation":36,"user_id":22908460,"display_name":"Pass1912"},"score":0,"creation_date":1699968609,"post_id":77478224,"comment_id":136594986,"body_markdown":"now there is a way to read XML file. And it works on my device","body":"now there is a way to read XML file. And it works on my device"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1700014209,"post_id":77478224,"comment_id":136602162,"body_markdown":"thanks for the effort. I havent really worked with XMLs before and it was really annoying to read an XML. bookmarking this in case i need it in the future. +1 updoot","body":"thanks for the effort. I havent really worked with XMLs before and it was really annoying to read an XML. bookmarking this in case i need it in the future. +1 updoot"}],"tags":[],"owner":{"account_id":29892702,"reputation":36,"user_id":22908460,"display_name":"Pass1912"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699994779,"creation_date":1699936678,"answer_id":77478224,"question_id":77478218,"body_markdown":"write csv file\r\n\r\n    public static void main(String[] args) {\r\n            String csvFilePath = &quot;test.csv&quot;;\r\n    \r\n            try (FileWriter csvWriter = new FileWriter(csvFilePath)) {\r\n                //FileWriter csvWriter = new FileWriter(csvFilePath, true) can write in a addition mode\r\n                // Write the header\r\n                csvWriter.append(&quot;Name, Age, City\\n&quot;);\r\n    \r\n                // Write some data rows\r\n                csvWriter.append(&quot;John Doe, 25, New York\\n&quot;);\r\n                csvWriter.append(&quot;Jane Smith, 30, San Francisco\\n&quot;);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n  \r\neach data is a liststring and the data variable should be list of list string\r\n\r\nread csv\r\n\r\n    public class readCsv {\r\n        public static void main(String[] args) {\r\n                String csvFilePath = &quot;test.csv&quot;;\r\n    \r\n                try {\r\n                    // Read all lines from the CSV file into a List\r\n                    List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\r\n    \r\n                    // Process each line\r\n                    for (String line : lines) {\r\n                        // Split the line into fields based on the CSV format (comma-separated)\r\n                        String[] fields = line.split(&quot;,&quot;);\r\n    \r\n                        // Process the fields as needed\r\n                        for (String field : fields) {\r\n                            System.out.print(field + &quot; &quot;);\r\n                        }\r\n                        System.out.println(); // Move to the next line for the next record\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\ncsvfilePath is the file path which you want to read\r\n\r\ncreate a new XML\r\n\r\n    try {\r\n            // Create a DocumentBuilder\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n            // Create a new Document\r\n            Document document = builder.newDocument();\r\n\r\n            // Create root element\r\n            Element rootElement = document.createElement(&quot;people&quot;);\r\n            document.appendChild(rootElement);\r\n\r\n            // Create person elements\r\n            Element person1 = document.createElement(&quot;person&quot;);\r\n            Element name1 = document.createElement(&quot;name&quot;);\r\n            Element age1 = document.createElement(&quot;age&quot;);\r\n\r\n            name1.appendChild(document.createTextNode(&quot;John Doe&quot;));\r\n            age1.appendChild(document.createTextNode(&quot;30&quot;));\r\n\r\n            person1.appendChild(name1);\r\n            person1.appendChild(age1);\r\n\r\n            Element person2 = document.createElement(&quot;person&quot;);\r\n            Element name2 = document.createElement(&quot;name&quot;);\r\n            Element age2 = document.createElement(&quot;age&quot;);\r\n\r\n            name2.appendChild(document.createTextNode(&quot;Alice Smith&quot;));\r\n            age2.appendChild(document.createTextNode(&quot;25&quot;));\r\n\r\n            person2.appendChild(name2);\r\n            person2.appendChild(age2);\r\n\r\n            rootElement.appendChild(person1);\r\n            rootElement.appendChild(person2);\r\n\r\n            // Write the XML content to a file\r\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n            Transformer transformer = transformerFactory.newTransformer();\r\n            DOMSource source = new DOMSource(document);\r\n            StreamResult result = new StreamResult(new File(&quot;path/to/your/output/file.xml&quot;));\r\n            transformer.transform(source, result);\r\n\r\n            System.out.println(&quot;XML data written to file&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nHope it&#39;s helpful\r\n\r\nAdd a way to read plain text:\r\n\r\n    public static String read(String filePath)  {\r\n            StringBuilder content = new StringBuilder();\r\n    \r\n            try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\r\n                String line;\r\n    \r\n                while ((line = reader.readLine()) != null) {\r\n                    content.append(line).append(&quot;\\n&quot;);\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(content.toString());\r\n            return content.toString();\r\n        }\r\n\r\nread xml file\r\n\r\n    public class ReadXml {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Specify the path to your XML file\r\n                //attention the directory is based on your root directory\r\n                File inputFile = new File(&quot;yourfile.xml&quot;);\r\n    \r\n                // Create a DocumentBuilderFactory\r\n                DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    \r\n                // Create a DocumentBuilder\r\n                DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    \r\n                // Parse the XML file to create a Document object\r\n                Document doc = dBuilder.parse(inputFile);\r\n    \r\n                // Optional: normalize the document to remove unnecessary whitespace\r\n                doc.getDocumentElement().normalize();\r\n    \r\n                // Get the root element\r\n                System.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\r\n    \r\n                 //Get a NodeList of elements with a specific tag name\r\n                NodeList nodeList = doc.getElementsByTagName(&quot;element&quot;);\r\n    \r\n                // Iterate through the NodeList\r\n                for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                    Node node = nodeList.item(i);\r\n    \r\n                    // Check if the node is an element node\r\n                    if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n                        // Get element attributes or text content\r\n                        System.out.println(&quot;Element: &quot; + node.getNodeName());\r\n    \r\n                        // Example: Get text content of an element\r\n                        System.out.println(&quot;Value: &quot; + node.getTextContent());\r\n    \r\n                        // Example: Get attribute value\r\n                        // String attributeValue = ((Element) node).getAttribute(&quot;attributeName&quot;);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nthe former write xml is to create a Xml file. Now there is a method to add data to an existing method.\r\n\r\n    public class AddXml {//add data to an existing content\r\n        //xml structure L1:&lt;company&gt; L2:&lt;employee&gt; L3:&lt;id&gt;&lt;name&gt;&lt;position&gt;&lt;salary&gt;\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Specify the path to your XML file\r\n                File inputFile = new File(&quot;src/company.xml&quot;);\r\n                // Create a DocumentBuilderFactory\r\n                DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n                // Create a DocumentBuilder\r\n                DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n                // Parse the XML file to create a Document object\r\n                Document doc = dBuilder.parse(inputFile);\r\n                // Optional: normalize the document to remove unnecessary whitespace\r\n                doc.getDocumentElement().normalize();\r\n                // Get the root element\r\n                Element rootElement = doc.getDocumentElement();//root:company\r\n    \r\n                // Create a new element to add to the XML file: first create then give value\r\n                Element newEmployee = doc.createElement(&quot;employee&quot;);\r\n                Element newID = doc.createElement(&quot;id&quot;);\r\n                newID.setTextContent(&quot;1234&quot;);\r\n                Element newName = doc.createElement(&quot;name&quot;);\r\n                newName.setTextContent(&quot;tester&quot;);\r\n                Element newPos = doc.createElement(&quot;position&quot;);\r\n                newPos.setTextContent(&quot;Internship&quot;);\r\n                Element newSalary = doc.createElement(&quot;salary&quot;);\r\n                newSalary.setTextContent(&quot;10000&quot;);\r\n                newEmployee.appendChild(newID);\r\n                newEmployee.appendChild(newName);\r\n                newEmployee.appendChild(newPos);\r\n                newEmployee.appendChild(newSalary);\r\n    \r\n                // Append the new element to the root element\r\n                rootElement.appendChild(newEmployee);\r\n    \r\n                // Write the modified document back to the XML file\r\n                TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                Transformer transformer = transformerFactory.newTransformer();\r\n                DOMSource source = new DOMSource(doc);\r\n                StreamResult result = new StreamResult(inputFile);\r\n                transformer.transform(source, result);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nwrite plain text:\r\n\r\n    String mdFilePath = &quot;path/to/your/file.md&quot;;\r\n    \r\n            try {\r\n                // Content to be written to the Markdown file\r\n                String content = &quot;# Heading 1\\n\\nThis is a paragraph.\\n\\n* Bullet 1\\n* Bullet 2\\n&quot;;\r\n    \r\n                // Write content to the Markdown file\r\n                Path path = Paths.get(mdFilePath);\r\n                Files.write(path, content.getBytes(), StandardOpenOption.CREATE, StandardOpenOption.WRITE);\r\n    \r\n                System.out.println(&quot;Markdown file created successfully: &quot; + mdFilePath);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }","title":"How to read and write csv and xml file","body":"<p>write csv file</p>\n<pre><code>public static void main(String[] args) {\n        String csvFilePath = &quot;test.csv&quot;;\n\n        try (FileWriter csvWriter = new FileWriter(csvFilePath)) {\n            //FileWriter csvWriter = new FileWriter(csvFilePath, true) can write in a addition mode\n            // Write the header\n            csvWriter.append(&quot;Name, Age, City\\n&quot;);\n\n            // Write some data rows\n            csvWriter.append(&quot;John Doe, 25, New York\\n&quot;);\n            csvWriter.append(&quot;Jane Smith, 30, San Francisco\\n&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>each data is a liststring and the data variable should be list of list string</p>\n<p>read csv</p>\n<pre><code>public class readCsv {\n    public static void main(String[] args) {\n            String csvFilePath = &quot;test.csv&quot;;\n\n            try {\n                // Read all lines from the CSV file into a List\n                List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\n\n                // Process each line\n                for (String line : lines) {\n                    // Split the line into fields based on the CSV format (comma-separated)\n                    String[] fields = line.split(&quot;,&quot;);\n\n                    // Process the fields as needed\n                    for (String field : fields) {\n                        System.out.print(field + &quot; &quot;);\n                    }\n                    System.out.println(); // Move to the next line for the next record\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>csvfilePath is the file path which you want to read</p>\n<p>create a new XML</p>\n<pre><code>try {\n        // Create a DocumentBuilder\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        // Create a new Document\n        Document document = builder.newDocument();\n\n        // Create root element\n        Element rootElement = document.createElement(&quot;people&quot;);\n        document.appendChild(rootElement);\n\n        // Create person elements\n        Element person1 = document.createElement(&quot;person&quot;);\n        Element name1 = document.createElement(&quot;name&quot;);\n        Element age1 = document.createElement(&quot;age&quot;);\n\n        name1.appendChild(document.createTextNode(&quot;John Doe&quot;));\n        age1.appendChild(document.createTextNode(&quot;30&quot;));\n\n        person1.appendChild(name1);\n        person1.appendChild(age1);\n\n        Element person2 = document.createElement(&quot;person&quot;);\n        Element name2 = document.createElement(&quot;name&quot;);\n        Element age2 = document.createElement(&quot;age&quot;);\n\n        name2.appendChild(document.createTextNode(&quot;Alice Smith&quot;));\n        age2.appendChild(document.createTextNode(&quot;25&quot;));\n\n        person2.appendChild(name2);\n        person2.appendChild(age2);\n\n        rootElement.appendChild(person1);\n        rootElement.appendChild(person2);\n\n        // Write the XML content to a file\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        DOMSource source = new DOMSource(document);\n        StreamResult result = new StreamResult(new File(&quot;path/to/your/output/file.xml&quot;));\n        transformer.transform(source, result);\n\n        System.out.println(&quot;XML data written to file&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Hope it's helpful</p>\n<p>Add a way to read plain text:</p>\n<pre><code>public static String read(String filePath)  {\n        StringBuilder content = new StringBuilder();\n\n        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\n            String line;\n\n            while ((line = reader.readLine()) != null) {\n                content.append(line).append(&quot;\\n&quot;);\n            }\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(content.toString());\n        return content.toString();\n    }\n</code></pre>\n<p>read xml file</p>\n<pre><code>public class ReadXml {\n    public static void main(String[] args) {\n        try {\n            // Specify the path to your XML file\n            //attention the directory is based on your root directory\n            File inputFile = new File(&quot;yourfile.xml&quot;);\n\n            // Create a DocumentBuilderFactory\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n\n            // Create a DocumentBuilder\n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n\n            // Parse the XML file to create a Document object\n            Document doc = dBuilder.parse(inputFile);\n\n            // Optional: normalize the document to remove unnecessary whitespace\n            doc.getDocumentElement().normalize();\n\n            // Get the root element\n            System.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\n\n             //Get a NodeList of elements with a specific tag name\n            NodeList nodeList = doc.getElementsByTagName(&quot;element&quot;);\n\n            // Iterate through the NodeList\n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\n                Node node = nodeList.item(i);\n\n                // Check if the node is an element node\n                if (node.getNodeType() == Node.ELEMENT_NODE) {\n                    // Get element attributes or text content\n                    System.out.println(&quot;Element: &quot; + node.getNodeName());\n\n                    // Example: Get text content of an element\n                    System.out.println(&quot;Value: &quot; + node.getTextContent());\n\n                    // Example: Get attribute value\n                    // String attributeValue = ((Element) node).getAttribute(&quot;attributeName&quot;);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>the former write xml is to create a Xml file. Now there is a method to add data to an existing method.</p>\n<pre><code>public class AddXml {//add data to an existing content\n    //xml structure L1:&lt;company&gt; L2:&lt;employee&gt; L3:&lt;id&gt;&lt;name&gt;&lt;position&gt;&lt;salary&gt;\n    public static void main(String[] args) {\n        try {\n            // Specify the path to your XML file\n            File inputFile = new File(&quot;src/company.xml&quot;);\n            // Create a DocumentBuilderFactory\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n            // Create a DocumentBuilder\n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n            // Parse the XML file to create a Document object\n            Document doc = dBuilder.parse(inputFile);\n            // Optional: normalize the document to remove unnecessary whitespace\n            doc.getDocumentElement().normalize();\n            // Get the root element\n            Element rootElement = doc.getDocumentElement();//root:company\n\n            // Create a new element to add to the XML file: first create then give value\n            Element newEmployee = doc.createElement(&quot;employee&quot;);\n            Element newID = doc.createElement(&quot;id&quot;);\n            newID.setTextContent(&quot;1234&quot;);\n            Element newName = doc.createElement(&quot;name&quot;);\n            newName.setTextContent(&quot;tester&quot;);\n            Element newPos = doc.createElement(&quot;position&quot;);\n            newPos.setTextContent(&quot;Internship&quot;);\n            Element newSalary = doc.createElement(&quot;salary&quot;);\n            newSalary.setTextContent(&quot;10000&quot;);\n            newEmployee.appendChild(newID);\n            newEmployee.appendChild(newName);\n            newEmployee.appendChild(newPos);\n            newEmployee.appendChild(newSalary);\n\n            // Append the new element to the root element\n            rootElement.appendChild(newEmployee);\n\n            // Write the modified document back to the XML file\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\n            Transformer transformer = transformerFactory.newTransformer();\n            DOMSource source = new DOMSource(doc);\n            StreamResult result = new StreamResult(inputFile);\n            transformer.transform(source, result);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>write plain text:</p>\n<pre><code>String mdFilePath = &quot;path/to/your/file.md&quot;;\n\n        try {\n            // Content to be written to the Markdown file\n            String content = &quot;# Heading 1\\n\\nThis is a paragraph.\\n\\n* Bullet 1\\n* Bullet 2\\n&quot;;\n\n            // Write content to the Markdown file\n            Path path = Paths.get(mdFilePath);\n            Files.write(path, content.getBytes(), StandardOpenOption.CREATE, StandardOpenOption.WRITE);\n\n            System.out.println(&quot;Markdown file created successfully: &quot; + mdFilePath);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":29897081,"reputation":9,"user_id":22911695,"display_name":"Buuule"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1700010642,"accepted_answer_id":77478224,"answer_count":1,"score":-2,"last_activity_date":1699994779,"creation_date":1699936531,"question_id":77478218,"body_markdown":"I&#39;m currently working on a data processing project in Java and need to handle both XML and CSV files. I&#39;m relatively new to file manipulation in Java and looking for guidance on efficiently reading and writing data in these formats. Here are my specific queries.\r\n\r\nOnly Java standard libs are acceptable. Because the version dependence of external libs are too complex","title":"How to read and write csv and xml file","body":"<p>I'm currently working on a data processing project in Java and need to handle both XML and CSV files. I'm relatively new to file manipulation in Java and looking for guidance on efficiently reading and writing data in these formats. Here are my specific queries.</p>\n<p>Only Java standard libs are acceptable. Because the version dependence of external libs are too complex</p>\n"},{"tags":["java","regex","java-11","string-matching"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":2,"creation_date":1699986357,"post_id":77482977,"comment_id":136598649,"body_markdown":"Were you looking for `.replaceAll` or `.replaceFirst` instead of `.replace` ?","body":"Were you looking for <code>.replaceAll</code> or <code>.replaceFirst</code> instead of <code>.replace</code> ?"},{"owner":{"account_id":5205475,"reputation":153,"user_id":4163568,"display_name":"Andy Knipp"},"score":0,"creation_date":1699986529,"post_id":77482977,"comment_id":136598680,"body_markdown":"Thanks,  replaceAll did it.  Why did I need replaceAll ?  There is a single instance in the string.","body":"Thanks,  replaceAll did it.  Why did I need replaceAll ?  There is a single instance in the string."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1699986851,"post_id":77482977,"comment_id":136598730,"body_markdown":"Using `.replace` does not take a regex. If you want to replace a single occurrence, then use `.replaceFirst`","body":"Using <code>.replace</code> does not take a regex. If you want to replace a single occurrence, then use <code>.replaceFirst</code>"}],"answers":[{"comments":[{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":2,"creation_date":1699986731,"post_id":77483021,"comment_id":136598707,"body_markdown":"Do not use URL for checking/parsing, use URI instead:  &quot;As mentioned, URL and URLConnection rely on protocol handlers which must be present, otherwise an Exception is thrown.&quot;","body":"Do not use URL for checking/parsing, use URI instead:  &quot;As mentioned, URL and URLConnection rely on protocol handlers which must be present, otherwise an Exception is thrown.&quot;"},{"owner":{"account_id":5205475,"reputation":153,"user_id":4163568,"display_name":"Andy Knipp"},"score":0,"creation_date":1699986805,"post_id":77483021,"comment_id":136598725,"body_markdown":"Its not a URL per se,  but I see your point.  Thanks.","body":"Its not a URL per se,  but I see your point.  Thanks."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1699986881,"post_id":77483021,"comment_id":136598738,"body_markdown":"@UsagiMiyamoto I addressed this. Thanks.","body":"@UsagiMiyamoto I addressed this. Thanks."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700047175,"post_id":77483021,"comment_id":136606101,"body_markdown":"When you’re going to wrap the `URISyntaxException` in an unchecked exception anyway, you can use `return URI.create(location).getPath();` in the first place. Then, you’ll get an `IllegalArgumentException` wrapping the `URISyntaxException` if one occurred, without the need to do it yourself.","body":"When you’re going to wrap the <code>URISyntaxException</code> in an unchecked exception anyway, you can use <code>return URI.create(location).getPath();</code> in the first place. Then, you’ll get an <code>IllegalArgumentException</code> wrapping the <code>URISyntaxException</code> if one occurred, without the need to do it yourself."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699986863,"creation_date":1699986451,"answer_id":77483021,"question_id":77482977,"body_markdown":"Please refrain from using a regular expression to parse a URI. Most languages these days include libraries to parse a URI/URL into a various parts.\r\n\r\nHere is a proper example:\r\n\r\n```java\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\n\r\npublic class ExtractPath {\r\n    public static void main(String[] args) {\r\n        String rootPath = &quot;//server.myco.com/some/path/to/a/doc/root&quot;;\r\n        String path = extractPath(rootPath);\r\n        System.out.println(path.equals(&quot;/some/path/to/a/doc/root&quot;)); // true\r\n    }\r\n\r\n    public static String extractPath(String location) {\r\n        try {\r\n            return new URI(location).getPath();\r\n        } catch (URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Having trouble with regex in Java 11","body":"<p>Please refrain from using a regular expression to parse a URI. Most languages these days include libraries to parse a URI/URL into a various parts.</p>\n<p>Here is a proper example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.URI;\nimport java.net.URISyntaxException;\n\npublic class ExtractPath {\n    public static void main(String[] args) {\n        String rootPath = &quot;//server.myco.com/some/path/to/a/doc/root&quot;;\n        String path = extractPath(rootPath);\n        System.out.println(path.equals(&quot;/some/path/to/a/doc/root&quot;)); // true\n    }\n\n    public static String extractPath(String location) {\n        try {\n            return new URI(location).getPath();\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699987698,"creation_date":1699987296,"answer_id":77483093,"question_id":77482977,"body_markdown":"You should use this from the String class:\r\n\r\n    public String replaceAll(String regex, String replacement) \r\n\r\ninstead of this:\r\n\r\n    public String replace(CharSequence target, CharSequence replacement)\r\n\r\nWhen you are calling `replace(&quot;//[\\\\w.]*&quot;,&quot;&quot;)` or `replace(&quot;//[^/]*&quot;,&quot;&quot;)`, it&#39;s searching `&quot;//[\\\\w.]*&quot;` or `&quot;//[^/]*&quot;` respectively, and trying to replace with the empty string. As there is no such string in the given string, no change is there.\r\n\r\nBut `replaceAll(&quot;//[\\\\w.]*&quot;,&quot;&quot;)` takes regex as the first argument. Hence it will work. \r\n\r\nOracle Java 11 reference for String [replace()][1] and [replaceAll()][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)","title":"Having trouble with regex in Java 11","body":"<p>You should use this from the String class:</p>\n<pre><code>public String replaceAll(String regex, String replacement) \n</code></pre>\n<p>instead of this:</p>\n<pre><code>public String replace(CharSequence target, CharSequence replacement)\n</code></pre>\n<p>When you are calling <code>replace(&quot;//[\\\\w.]*&quot;,&quot;&quot;)</code> or <code>replace(&quot;//[^/]*&quot;,&quot;&quot;)</code>, it's searching <code>&quot;//[\\\\w.]*&quot;</code> or <code>&quot;//[^/]*&quot;</code> respectively, and trying to replace with the empty string. As there is no such string in the given string, no change is there.</p>\n<p>But <code>replaceAll(&quot;//[\\\\w.]*&quot;,&quot;&quot;)</code> takes regex as the first argument. Hence it will work.</p>\n<p>Oracle Java 11 reference for String <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">replace()</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll()</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699992665,"creation_date":1699992665,"answer_id":77483550,"question_id":77482977,"body_markdown":"You can utilize the _[URI](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html)_ class for this.\r\n\r\n```java\r\nURI u = new URI(&quot;//server.myco.com/some/path/to/a/doc/root&quot;);\r\nString p = u.getPath();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n/some/path/to/a/doc/root\r\n```","title":"Having trouble with regex in Java 11","body":"<p>You can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a></em> class for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI u = new URI(&quot;//server.myco.com/some/path/to/a/doc/root&quot;);\nString p = u.getPath();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>/some/path/to/a/doc/root\n</code></pre>\n"}],"owner":{"account_id":5205475,"reputation":153,"user_id":4163568,"display_name":"Andy Knipp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77483093,"answer_count":3,"score":-1,"last_activity_date":1699992665,"creation_date":1699985986,"question_id":77482977,"body_markdown":"Trying to strip server name from: //some.server.name/path/to/a/dir (finishing with /path/to/a/dir) \r\n\r\nI have tried 3 different regexes (hardcoded works), but the other two look like they should work but are not. Can anyone point me to why ?  \r\n\r\ncat test.java\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\npublic class test\r\n{\r\npublic static void main(String[] args) throws Exception\r\n{\r\n\r\n        String rootPath=&quot;//server.myco.com/some/path/to/a/doc/root&quot;;\r\n        rootPath = rootPath.replace(&quot;//[\\\\w.]*&quot;,&quot;&quot;);\r\n        System.out.println(&quot;rootPath - &quot;+rootPath);\r\n        rootPath = rootPath.replace(&quot;//[^/]*&quot;,&quot;&quot;);\r\n        System.out.println(&quot;rootPath - &quot;+rootPath);\r\n        rootPath = rootPath.replace(&quot;//server.myco.com&quot;,&quot;&quot;);\r\n        System.out.println(&quot;rootPath - &quot;+rootPath);\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n\r\n    rootPath - //server.myco.com/some/path/to/a/doc/root\r\n    rootPath - //server.myco.com/some/path/to/a/doc/root\r\n    rootPath - /some/path/to/a/doc/root\r\n\r\n\r\nJava 11.0.6:\r\n\r\n\r\n    $ java --version\r\n    openjdk 11.0.6 2020-01-14\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.6+10)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.6+10, mixed mode)\r\n\r\n","title":"Having trouble with regex in Java 11","body":"<p>Trying to strip server name from: //some.server.name/path/to/a/dir (finishing with /path/to/a/dir)</p>\n<p>I have tried 3 different regexes (hardcoded works), but the other two look like they should work but are not. Can anyone point me to why ?</p>\n<p>cat test.java</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\npublic class test\n{\npublic static void main(String[] args) throws Exception\n{\n\n        String rootPath=&quot;//server.myco.com/some/path/to/a/doc/root&quot;;\n        rootPath = rootPath.replace(&quot;//[\\\\w.]*&quot;,&quot;&quot;);\n        System.out.println(&quot;rootPath - &quot;+rootPath);\n        rootPath = rootPath.replace(&quot;//[^/]*&quot;,&quot;&quot;);\n        System.out.println(&quot;rootPath - &quot;+rootPath);\n        rootPath = rootPath.replace(&quot;//server.myco.com&quot;,&quot;&quot;);\n        System.out.println(&quot;rootPath - &quot;+rootPath);\n\n}\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>rootPath - //server.myco.com/some/path/to/a/doc/root\nrootPath - //server.myco.com/some/path/to/a/doc/root\nrootPath - /some/path/to/a/doc/root\n</code></pre>\n<p>Java 11.0.6:</p>\n<pre><code>$ java --version\nopenjdk 11.0.6 2020-01-14\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.6+10)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.6+10, mixed mode)\n</code></pre>\n"},{"tags":["java","maven","configuration","pom.xml","project"],"comments":[{"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"score":0,"creation_date":1699992621,"post_id":77483370,"comment_id":136599596,"body_markdown":"I was able to remove those problems simply by going into the pom.xml and clicking &quot;Reload Projects.&quot; However, I am not out of the woods yet because the imports are still white in my Java classes, and I still can&#39;t use the Test Runner beaker.","body":"I was able to remove those problems simply by going into the pom.xml and clicking &quot;Reload Projects.&quot; However, I am not out of the woods yet because the imports are still white in my Java classes, and I still can&#39;t use the Test Runner beaker."}],"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699991616,"creation_date":1699990500,"question_id":77483370,"body_markdown":"Version: 1.84.2 (user setup)\r\nCommit: 1a5daa3a0231a0fbba4f14db7ec463cf99d7768e\r\nDate: 2023-11-09T10:51:52.184Z\r\nElectron: 25.9.2\r\nElectronBuildId: 24603566\r\nChromium: 114.0.5735.289\r\nNode.js: 18.15.0\r\nV8: 11.4.183.29-electron.0\r\nOS: Windows_NT x64 10.0.19045\r\n\r\n[{\r\n\t&quot;resource&quot;: &quot;/C:/Automation/automation-selenium/Reports-CDC/pom.xml&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#3&quot;,\r\n\t&quot;code&quot;: &quot;0&quot;,\r\n\t&quot;severity&quot;: 4,\r\n\t&quot;message&quot;: &quot;Project configuration is not up-to-date with pom.xml, requires an update.&quot;,\r\n\t&quot;source&quot;: &quot;Java&quot;,\r\n\t&quot;startLineNumber&quot;: 1,\r\n\t&quot;startColumn&quot;: 1,\r\n\t&quot;endLineNumber&quot;: 1,\r\n\t&quot;endColumn&quot;: 1\r\n}]\r\n\r\n[Problems with pom.xml](https://i.stack.imgur.com/c8sRs.png)\r\n\r\nJava 11 is installed, although when I go to **Configure Java Runtime**, I only see the pencils for **Java Version**. If I click on one of those pencils, then it just takes me back to the pom.xml file. It&#39;s a bit of a vicious cycle that I don&#39;t know how to get out of. As a result, when I attempt to run my Selenide tests, I get **No tests found in this file.**\r\n\r\n[Configure Runtime for Projects](https://i.stack.imgur.com/qWZdP.png)\r\n\r\nI have tried rebooting, uninstalling and reinstalling both VSCode and Java 11 JDK, but none of it helps. The **import** items at the top of my Java classes used to be green, but now they are in white.\r\n\r\nI have testing extensions installed, including Test Runner for Java. I also have Git &amp; GitHub Extension Pack and so forth.\r\n\r\nI have tried the command **mvn clean install -U **\r\n\r\nI have updated my **defaultSettings.json** file to match that of my colleague who does not seem to be experiencing any of these problems.\r\n\r\nWhen I click on the **Testing** beaker, I see &quot;No tests have been found in this workspace yet.&quot; When I click **Install Additional Test Extensions**, it shows **Test Runner for Java** already installed.","title":"Visual Studio Code: Project configuration is not up-to-date with pom.xml, requires an update","body":"<p>Version: 1.84.2 (user setup)\nCommit: 1a5daa3a0231a0fbba4f14db7ec463cf99d7768e\nDate: 2023-11-09T10:51:52.184Z\nElectron: 25.9.2\nElectronBuildId: 24603566\nChromium: 114.0.5735.289\nNode.js: 18.15.0\nV8: 11.4.183.29-electron.0\nOS: Windows_NT x64 10.0.19045</p>\n<p>[{\n&quot;resource&quot;: &quot;/C:/Automation/automation-selenium/Reports-CDC/pom.xml&quot;,\n&quot;owner&quot;: &quot;<em>generated_diagnostic_collection_name</em>#3&quot;,\n&quot;code&quot;: &quot;0&quot;,\n&quot;severity&quot;: 4,\n&quot;message&quot;: &quot;Project configuration is not up-to-date with pom.xml, requires an update.&quot;,\n&quot;source&quot;: &quot;Java&quot;,\n&quot;startLineNumber&quot;: 1,\n&quot;startColumn&quot;: 1,\n&quot;endLineNumber&quot;: 1,\n&quot;endColumn&quot;: 1\n}]</p>\n<p><a href=\"https://i.stack.imgur.com/c8sRs.png\" rel=\"nofollow noreferrer\">Problems with pom.xml</a></p>\n<p>Java 11 is installed, although when I go to <strong>Configure Java Runtime</strong>, I only see the pencils for <strong>Java Version</strong>. If I click on one of those pencils, then it just takes me back to the pom.xml file. It's a bit of a vicious cycle that I don't know how to get out of. As a result, when I attempt to run my Selenide tests, I get <strong>No tests found in this file.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qWZdP.png\" rel=\"nofollow noreferrer\">Configure Runtime for Projects</a></p>\n<p>I have tried rebooting, uninstalling and reinstalling both VSCode and Java 11 JDK, but none of it helps. The <strong>import</strong> items at the top of my Java classes used to be green, but now they are in white.</p>\n<p>I have testing extensions installed, including Test Runner for Java. I also have Git &amp; GitHub Extension Pack and so forth.</p>\n<p>I have tried the command **mvn clean install -U **</p>\n<p>I have updated my <strong>defaultSettings.json</strong> file to match that of my colleague who does not seem to be experiencing any of these problems.</p>\n<p>When I click on the <strong>Testing</strong> beaker, I see &quot;No tests have been found in this workspace yet.&quot; When I click <strong>Install Additional Test Extensions</strong>, it shows <strong>Test Runner for Java</strong> already installed.</p>\n"},{"tags":["java","intellij-idea","kotlin","quasar"],"comments":[{"owner":{"account_id":4635403,"reputation":836,"user_id":3756789,"display_name":"circlespainter"},"score":1,"creation_date":1445778000,"post_id":33287227,"comment_id":54456718,"body_markdown":"Please note that Quasar 0.7.4-SNAPSHOT (available on SonaType snapshots) [supports 1.0 beta now](https://github.com/puniverse/quasar/issues/132).","body":"Please note that Quasar 0.7.4-SNAPSHOT (available on SonaType snapshots) <a href=\"https://github.com/puniverse/quasar/issues/132\" rel=\"nofollow noreferrer\">supports 1.0 beta now</a>."},{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445808288,"post_id":33287227,"comment_id":54467132,"body_markdown":"@circlespainter yes, I opened the issue. Thank you! :)","body":"@circlespainter yes, I opened the issue. Thank you! :)"}],"answers":[{"comments":[{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445536211,"post_id":33287355,"comment_id":54374869,"body_markdown":"This is what I thought however I had changed the version to the latest M14 and it no longer will compile. `build.gradle` seems to specify the library version of Kotlin rather than the compiler.\n\nMy `build.gradle`: https://gist.github.com/Jire/5b517fd767ad498bc18f","body":"This is what I thought however I had changed the version to the latest M14 and it no longer will compile. <code>build.gradle</code> seems to specify the library version of Kotlin rather than the compiler.  My <code>build.gradle</code>: <a href=\"https://gist.github.com/Jire/5b517fd767ad498bc18f\" rel=\"nofollow noreferrer\">gist.github.com/Jire/5b517fd767ad498bc18f</a>"},{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445536344,"post_id":33287355,"comment_id":54374971,"body_markdown":"Updated original question with image of build attempt.","body":"Updated original question with image of build attempt."},{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445536584,"post_id":33287355,"comment_id":54375103,"body_markdown":"Yes, I am using the latest IntelliJ EAP and Kotlin plugin.","body":"Yes, I am using the latest IntelliJ EAP and Kotlin plugin."},{"owner":{"account_id":73481,"reputation":3104,"user_id":211601,"accept_rate":82,"display_name":"Jeremy Lyman"},"score":0,"creation_date":1445537094,"post_id":33287355,"comment_id":54375396,"body_markdown":"Try syncing gradle, gradle clean and if all else, deleting your build directory?","body":"Try syncing gradle, gradle clean and if all else, deleting your build directory?"},{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445537484,"post_id":33287355,"comment_id":54375610,"body_markdown":"Tried and it did not work. @yole says that it&#39;s not possible yet and that I&#39;d have to downgrade to the M14 version.","body":"Tried and it did not work. @yole says that it&#39;s not possible yet and that I&#39;d have to downgrade to the M14 version."}],"tags":[],"owner":{"account_id":73481,"reputation":3104,"user_id":211601,"accept_rate":82,"display_name":"Jeremy Lyman"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445536285,"creation_date":1445536038,"answer_id":33287355,"question_id":33287227,"body_markdown":"The kotlin versions are defined in your build.gradle file. \r\n\r\nSee the following example :\r\n\r\n[build.gradle][1]\r\n\r\n\r\n  [1]: https://gist.github.com/maarek/df972cac0165bf480bd7","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<p>The kotlin versions are defined in your build.gradle file. </p>\n\n<p>See the following example :</p>\n\n<p><a href=\"https://gist.github.com/maarek/df972cac0165bf480bd7\" rel=\"nofollow\">build.gradle</a></p>\n"},{"comments":[{"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1445537423,"post_id":33287710,"comment_id":54375579,"body_markdown":"How can I downgrade to the M14 version of the plugin?","body":"How can I downgrade to the M14 version of the plugin?"},{"owner":{"account_id":73481,"reputation":3104,"user_id":211601,"accept_rate":82,"display_name":"Jeremy Lyman"},"score":1,"creation_date":1445537597,"post_id":33287710,"comment_id":54375684,"body_markdown":"I have v1.0.0-beta of the plugin installed and I am able to run his build.gradle without any problems.","body":"I have v1.0.0-beta of the plugin installed and I am able to run his build.gradle without any problems."},{"owner":{"account_id":73481,"reputation":3104,"user_id":211601,"accept_rate":82,"display_name":"Jeremy Lyman"},"score":0,"creation_date":1445538434,"post_id":33287710,"comment_id":54376130,"body_markdown":"To downgrade you&#39;d have to manually install the plugin right? I wonder if I can build and you cant due to the gradle cache mentioned in your output? Maybe Yole can provide more insight.","body":"To downgrade you&#39;d have to manually install the plugin right? I wonder if I can build and you cant due to the gradle cache mentioned in your output? Maybe Yole can provide more insight."}],"tags":[],"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"comment_count":3,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1445537171,"creation_date":1445537171,"answer_id":33287710,"question_id":33287227,"body_markdown":"You can&#39;t do this at the moment. Building your project in IntelliJ IDEA always uses the version of the Kotlin compiler bundled with the plugin, regardless of what your build.gradle file says. If you need to downgrade to M14, you need to install the M14 version of the plugin.","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<p>You can't do this at the moment. Building your project in IntelliJ IDEA always uses the version of the Kotlin compiler bundled with the plugin, regardless of what your build.gradle file says. If you need to downgrade to M14, you need to install the M14 version of the plugin.</p>\n"},{"comments":[{"owner":{"account_id":8550964,"reputation":3152,"user_id":6407858,"accept_rate":100,"display_name":"Yug Singh"},"score":0,"creation_date":1564383739,"post_id":52702706,"comment_id":100997408,"body_markdown":"This should be the accepted answer.IMHO no. of upvotes proof of the same.","body":"This should be the accepted answer.IMHO no. of upvotes proof of the same."}],"tags":[],"owner":{"account_id":2817884,"reputation":5396,"user_id":2422453,"display_name":"Defuera"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1557075627,"creation_date":1539002914,"answer_id":52702706,"question_id":33287227,"body_markdown":"Go to Intellij Preferences -&gt; Build, Execution, Deployment -&gt; Kotlin Compiler.\r\nUpdate **Language version** and **Api version** to the one you wish.\r\n\r\n(You can also use &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt; and type *Kotlin Compiler* to get to this preference)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gEgDj.png","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<p>Go to Intellij Preferences -> Build, Execution, Deployment -> Kotlin Compiler.\nUpdate <strong>Language version</strong> and <strong>Api version</strong> to the one you wish.</p>\n\n<p>(You can also use <kbd>cmd</kbd> + <kbd>shift</kbd> + <kbd>A</kbd> and type <em>Kotlin Compiler</em> to get to this preference)</p>\n\n<p><a href=\"https://i.stack.imgur.com/gEgDj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gEgDj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1627914667,"creation_date":1592146370,"answer_id":62374153,"question_id":33287227,"body_markdown":"#### Precondition: \r\n\r\nThe compiler bundled to Kotlin plugin (IDE) must be greater or equal than external compiler (project) used for building modules. So update Intellij IDEA to be compatible with the most up-to-date plugins.\r\n\r\nHelp &gt; Check for Updates\r\n\r\n[![Check for Updates][1]][1]\r\n\r\n*Note: If you do not have the most updated version in Language and API version you will not be able to see the latest version of the plugin.*\r\n____\r\n\r\n1- Install a new version of the compiler\r\n---------------------------\r\n\r\n - **Languages &amp; Frameworks &gt; Kotlin** \r\n\r\n 1. Check version: \t`1.3.61`\r\n 2. Update channel: Early Access Preview 1.4x and press **Check again**\r\n 3. A new version 1.4-M3-xxx is available and press **Install**\r\n\r\n - Invalidate Caches &amp; Restart\r\n\r\n - Observe in **Languages &amp; Frameworks &gt; Kotlin** that:\r\n\r\n&gt; You have the latest version of the plugin installed.\r\n\r\n - **Build, Execution, Deployment &gt; Compiler &gt; Kotlin Compiler**\r\n\r\n 1. Language and API version: Change from `1.2` To Latest stable `1.4-M3` *(if the Latest stable `1.4-M3` version do not appear, so update the IDE)*\r\n\r\nFinally, check version in **Project Settings &gt; Modules &gt; Module SDK &gt; Kotlin SDK**: `1.4-M3`\r\n\r\n\r\n2- Update compiler version in project\r\n--------------\r\n\r\nI recommend is to synchronize gradle with a non-existent version in order to clean the external libraries. This is because it could happen that our libraries continue to use the old version of the compiler after updating.\r\n\r\n\r\n 1. For example: change from `1.4-M3` to `1.4.20-M1`\r\n\r\nbuild.gradle.kts\r\n----------------\r\n\r\n    plugins {\r\n\t    kotlin(&quot;jvm&quot;) version &quot;1.4-M3&quot; apply false \r\n    }\r\n\r\n 2. It is important to synchronize with a wrong version like X to clean the external libraries with which we would get the following message.\r\n\r\nbuild.gradle.kts\r\n----------------\r\n\r\n    plugins {\r\n\t    kotlin(&quot;jvm&quot;) version &quot;X&quot; apply false \r\n    }\r\n\r\n\r\n[![Message][2]][2]\r\n\r\n\r\n\r\n 3. Then we define and synchronize with the new version.\r\n\r\nbuild.gradle.kts\r\n----------------\r\n\r\n    plugins {\r\n\t    kotlin(&quot;jvm&quot;) version &quot;1.4.20-M1&quot; apply false \r\n    }\r\n \r\n\r\nGL\r\n\r\n[Kotlin versions][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7B9v0.png\r\n  [2]: https://i.stack.imgur.com/x0mTt.png\r\n  [3]: https://plugins.jetbrains.com/plugin/6954-kotlin/versions/eap-next","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<h4>Precondition:</h4>\n<p>The compiler bundled to Kotlin plugin (IDE) must be greater or equal than external compiler (project) used for building modules. So update Intellij IDEA to be compatible with the most up-to-date plugins.</p>\n<p>Help &gt; Check for Updates</p>\n<p><a href=\"https://i.stack.imgur.com/7B9v0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7B9v0.png\" alt=\"Check for Updates\" /></a></p>\n<p><em>Note: If you do not have the most updated version in Language and API version you will not be able to see the latest version of the plugin.</em></p>\n<hr />\n<h2>1- Install a new version of the compiler</h2>\n<ul>\n<li><strong>Languages &amp; Frameworks &gt; Kotlin</strong></li>\n</ul>\n<ol>\n<li>Check version:  <code>1.3.61</code></li>\n<li>Update channel: Early Access Preview 1.4x and press <strong>Check again</strong></li>\n<li>A new version 1.4-M3-xxx is available and press <strong>Install</strong></li>\n</ol>\n<ul>\n<li><p>Invalidate Caches &amp; Restart</p>\n</li>\n<li><p>Observe in <strong>Languages &amp; Frameworks &gt; Kotlin</strong> that:</p>\n</li>\n</ul>\n<blockquote>\n<p>You have the latest version of the plugin installed.</p>\n</blockquote>\n<ul>\n<li><strong>Build, Execution, Deployment &gt; Compiler &gt; Kotlin Compiler</strong></li>\n</ul>\n<ol>\n<li>Language and API version: Change from <code>1.2</code> To Latest stable <code>1.4-M3</code> <em>(if the Latest stable <code>1.4-M3</code> version do not appear, so update the IDE)</em></li>\n</ol>\n<p>Finally, check version in <strong>Project Settings &gt; Modules &gt; Module SDK &gt; Kotlin SDK</strong>: <code>1.4-M3</code></p>\n<h2>2- Update compiler version in project</h2>\n<p>I recommend is to synchronize gradle with a non-existent version in order to clean the external libraries. This is because it could happen that our libraries continue to use the old version of the compiler after updating.</p>\n<ol>\n<li>For example: change from <code>1.4-M3</code> to <code>1.4.20-M1</code></li>\n</ol>\n<h2>build.gradle.kts</h2>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.4-M3&quot; apply false \n}\n</code></pre>\n<ol start=\"2\">\n<li>It is important to synchronize with a wrong version like X to clean the external libraries with which we would get the following message.</li>\n</ol>\n<h2>build.gradle.kts</h2>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;X&quot; apply false \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x0mTt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/x0mTt.png\" alt=\"Message\" /></a></p>\n<ol start=\"3\">\n<li>Then we define and synchronize with the new version.</li>\n</ol>\n<h2>build.gradle.kts</h2>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.4.20-M1&quot; apply false \n}\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin/versions/eap-next\" rel=\"noreferrer\">Kotlin versions</a></p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699989536,"creation_date":1655803248,"answer_id":72698263,"question_id":33287227,"body_markdown":"`File` -&gt; `Settings` -&gt; `Build, Execution &amp; Deployment` -&gt; `Kotlin Compiler`.\r\n\r\nYou should get something like in this image, and here you can change the version of Kotlin Compiler\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jomoi.png","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<p><code>File</code> -&gt; <code>Settings</code> -&gt; <code>Build, Execution &amp; Deployment</code> -&gt; <code>Kotlin Compiler</code>.</p>\n<p>You should get something like in this image, and here you can change the version of Kotlin Compiler\n<a href=\"https://i.stack.imgur.com/Jomoi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jomoi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67557,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":52702706,"answer_count":5,"score":36,"last_activity_date":1699989536,"creation_date":1445535631,"question_id":33287227,"body_markdown":"In IntelliJ you can set the target Java version like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUnfortunately I don&#39;t see a place where I can do the same for Kotlin. This makes it not possible for me to use Quasar-Kotlin. I want to switch to M14 even though I have 1.0 beta installed. How can I change back?\r\n\r\nAfter changing the `build.gradle` file back to M14 I am greeted with compilation errors in my project.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OpNnA.png\r\n  [2]: http://i.stack.imgur.com/6VGwH.png\r\n\r\nMy `build.gradle`: https://gist.github.com/Jire/5b517fd767ad498bc18f","title":"How can I change the Kotlin compiler version on IntelliJ?","body":"<p>In IntelliJ you can set the target Java version like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OpNnA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OpNnA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately I don't see a place where I can do the same for Kotlin. This makes it not possible for me to use Quasar-Kotlin. I want to switch to M14 even though I have 1.0 beta installed. How can I change back?</p>\n\n<p>After changing the <code>build.gradle</code> file back to M14 I am greeted with compilation errors in my project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6VGwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6VGwH.png\" alt=\"enter image description here\"></a></p>\n\n<p>My <code>build.gradle</code>: <a href=\"https://gist.github.com/Jire/5b517fd767ad498bc18f\" rel=\"noreferrer\">https://gist.github.com/Jire/5b517fd767ad498bc18f</a></p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","lettuce"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696042623,"post_id":77160112,"comment_id":136107203,"body_markdown":"Do you mean by keys in your context? Question is not clear. What are you looking for exactly?","body":"Do you mean by keys in your context? Question is not clear. What are you looking for exactly?"},{"owner":{"account_id":1917319,"reputation":428,"user_id":1729649,"display_name":"Sukh"},"score":0,"creation_date":1696043523,"post_id":77160112,"comment_id":136107247,"body_markdown":"Yes, is there any way we can avoid the cross slot err with Lettuce?","body":"Yes, is there any way we can avoid the cross slot err with Lettuce?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696043620,"post_id":77160112,"comment_id":136107257,"body_markdown":"Yes! Providing my answer. Just writing the answer at this moment.","body":"Yes! Providing my answer. Just writing the answer at this moment."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696043802,"post_id":77160112,"comment_id":136107260,"body_markdown":"Can you please provide minimum example codebase via github to understand the issue in depth?","body":"Can you please provide minimum example codebase via github to understand the issue in depth?"}],"answers":[{"comments":[{"owner":{"account_id":1917319,"reputation":428,"user_id":1729649,"display_name":"Sukh"},"score":0,"creation_date":1696274236,"post_id":77207260,"comment_id":136129558,"body_markdown":"Hi Anish, thanks for such a detail answer. I did not try Redis OM since they say it is still not ready until we have 1.0.0 version, https://github.com/redis/redis-om-spring. Another solutions: 1) Use all individual nodes while connecting to redis not using only single URL 2) Change underneath redis data model not to use Set. 3) Try converting redis cluster to a single node (which I cannot do bcz a separate infra team is not allowing). So, I am going for second solution. But thanks a lot.","body":"Hi Anish, thanks for such a detail answer. I did not try Redis OM since they say it is still not ready until we have 1.0.0 version, <a href=\"https://github.com/redis/redis-om-spring\" rel=\"nofollow noreferrer\">github.com/redis/redis-om-spring</a>. Another solutions: 1) Use all individual nodes while connecting to redis not using only single URL 2) Change underneath redis data model not to use Set. 3) Try converting redis cluster to a single node (which I cannot do bcz a separate infra team is not allowing). So, I am going for second solution. But thanks a lot."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696166274,"creation_date":1696081721,"answer_id":77207260,"question_id":77160112,"body_markdown":"After researching a lot, I&#39;ve found some info on why you are facing this **CROSSSLOT** error with **Redis**.\r\n\r\nThere is a good explanatory blog [here][1] on CROSSSLOT KEYS issue. Please read it. \r\n\r\nFrom that blog, the following things can be concluded.\r\n\r\n**Reason of the error:** \r\n\r\n&gt; This error occurs when you try to perform an operation that involves\r\n&gt; multiple keys in a Redis Cluster, but those keys do not belong to the\r\n&gt; same hash slot.\r\n\r\n**Possible solutions suggested that you can take to mitigate the issue:**\r\n\r\n- Use a **single-node configuration** if there is no needed for scalability (provided by Redis Cluster). This will make sure all the keys are in a single node and thereby eliminating the issue of CROSSSLOT Keys completely.\r\n\r\n- Optimize your entity model to reduce the need for multi-key operations as Redis will be unable to maintain this.\r\n\r\n- You can use tag within the key. **Advantage:** Let&#39;s say if you have multiple keys and now you attach them with the same tag, then this will make sure that multiple keys are going into the same hashed slot, thereby reducing the cross-slot operation. \r\n\r\n**Read the blog for information.**  \r\n\r\n--- \r\n\r\n**Follow these Github issues given below for reference:** \r\n\r\n- [CROSSSLOT error with Spring Oauth2 (version 2.3.0.RELEASE) [DATAREDIS-1154]][2]\r\n\r\n- [CROSSSLOT error on single-shard cluster][3]\r\n\r\nFirst of all, don&#39;t get mislead with the use of keyword &#39;Spring OAuth2&#39;. The issue is the same as that you are facing.\r\n\r\nNote: **Slot != Shard**\r\n\r\nThe main thing I want to mention is multiple hashed slots are getting created by keys within the shard and getting them from multiple slots by cross operation is not allowed. \r\n\r\nNow, I guess most probably you are using single node configuration by looking at your code. So, please stop running cluster mode for redis.\r\n\r\n----\r\n\r\nNow, coming to this question\r\n\r\n&gt; Also, is it possible to avoid union operation and use\r\n&gt; org.springframework.data.repository.CrudRepository findAllByIds(ids)\r\n&gt; to get the same output?\r\n\r\n\r\nYes, it&#39;s possible to achieve via **Redis-OM for Spring** library and **Redis Stack Server** which comes with enhanced features for [**Search and Query**][4].\r\n\r\nOfficial [Redis-OM Docs][5] says:\r\n\r\n&gt; Redis OM Spring provides powerful repository and custom object-mapping\r\n&gt; abstractions built on top of the amazing **Spring Data Redis** (SDR)\r\n&gt; framework.\r\n\r\nNow, step - by - step process:\r\n\r\n1. Download **Redis Stack** from [here][6] based on the OS.\r\n2. Extract the downloaded zip and go into bin folder of redis stack and run the executable file **redis-stack-server**.\r\n\r\n**Note:** I&#39;m using **macOS**, **Java 17**, **Spring Boot 2.7.x** and **Redis 7.2.1** to demonstrate this.\r\n\r\n3. Open two terminals and run the **redis-stack-server** file and **redis-cli** file on each terminal respectively.\r\n\r\n4. Now, in CLI mode, Enter the command `MONITOR`. to start tracking any activities happening on the redis server.\r\n\r\n5. Coming to codebase:\r\n\r\nI took help of their [Redis-OM Spring tutorial for hashes][7] for reference.\r\n\r\nYou will need to include `redis-om-spring` and `spring-boot-starter-data-redis` as dependencies in **POM**.\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.16&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-redis-spring&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test-redis-spring&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.redis.om&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.6.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nStartup class:\r\n\r\n    @SpringBootApplication\r\n    @EnableRedisEnhancedRepositories\r\n    public class TestRedisSpringApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestRedisSpringApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nYou have to use `@EnableRedisEnhancedRepositories` to detect presence of the repositories using redis - based model.\r\n\r\nRepository class:\r\n\r\n    @Repository\r\n    public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\r\n    }\r\n\r\nEntity class :\r\n\r\n    import com.redis.om.spring.annotations.Indexed;\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.redis.core.RedisHash;\r\n    \r\n    @Data\r\n    @RedisHash\r\n    public class Person {\r\n        @Id\r\n        private String id;\r\n    \r\n        @NonNull\r\n        @Indexed\r\n        private String fullName;\r\n    \r\n        @NonNull\r\n        @Indexed\r\n        private String job;\r\n    }\r\n\r\n\r\n**Note:** `@RedisHash`, `@Indexed` are annotations from Redis-OM lib and it works with Redis Stack Server as it has extensive support for searching and querying which normal Redis Server lacks.\r\n\r\nCustom Redis Configuration which takes guarantee of creating bean of `JedisConnectionFactory` and thereby providing it to the **Redis-OM** and it&#39;s mandatory to supply that bean. \r\n\r\n    @Configuration\r\n    public class CustomRedisConfiguration {\r\n    \r\n        @Bean\r\n        public JedisConnectionFactory jedisConnectionFactory() {\r\n            RedisStandaloneConfiguration redisConf = new RedisStandaloneConfiguration();\r\n            redisConf.setHostName(&quot;localhost&quot;);\r\n            redisConf.setPort(6379);\r\n            JedisClientConfiguration conf = JedisClientConfiguration.builder()\r\n                    .readTimeout(Duration.ofMillis(1000))\r\n                    .connectTimeout(Duration.ofMillis(1000))\r\n                    .build();\r\n            return new JedisConnectionFactory(redisConf, conf);\r\n        }\r\n    \r\n    }\r\n\r\nController Code :\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;person&quot;)\r\n    public class PersonController {\r\n    \r\n        @Autowired\r\n        private PersonRepository repository;\r\n    \r\n        @PostMapping(&quot;save&quot;)\r\n        public Person save(@RequestBody Person p) {\r\n            return repository.save(p);\r\n        }\r\n    \r\n        @GetMapping(&quot;/find-all-by-ids&quot;)\r\n        public List&lt;Person&gt; getAllPersonByIds(@RequestBody List&lt;String&gt; pids) {\r\n            List&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\n            repository.findAllById(pids).forEach(list::add);\r\n            return list;\r\n        }\r\n    }\r\n\r\nThe server start successfully.\r\n\r\n**Logs:**\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64359:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anish/Downloads/test-redis-spring/target/classes:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-data-redis/2.7.16/spring-boot-starter-data-redis-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.16/spring-boot-starter-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.16/spring-boot-starter-logging-2.7.16.jar:/Users/anish/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/anish/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/anish/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/anish/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/anish/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/anish/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/anish/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-redis/2.7.16/spring-data-redis-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-keyvalue/2.7.16/spring-data-keyvalue-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-commons/2.7.16/spring-data-commons-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/spring-tx/5.3.30/spring-tx-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-oxm/5.3.30/spring-oxm-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-aop/5.3.30/spring-aop-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-context-support/5.3.30/spring-context-support-5.3.30.jar:/Users/anish/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/anish/.m2/repository/io/lettuce/lettuce-core/6.1.10.RELEASE/lettuce-core-6.1.10.RELEASE.jar:/Users/anish/.m2/repository/io/netty/netty-common/4.1.97.Final/netty-common-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-handler/4.1.97.Final/netty-handler-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-resolver/4.1.97.Final/netty-resolver-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-buffer/4.1.97.Final/netty-buffer-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.97.Final/netty-transport-native-unix-common-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-codec/4.1.97.Final/netty-codec-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-transport/4.1.97.Final/netty-transport-4.1.97.Final.jar:/Users/anish/.m2/repository/io/projectreactor/reactor-core/3.4.32/reactor-core-3.4.32.jar:/Users/anish/.m2/repository/org/reactivestreams/reactive-streams/1.0.4/reactive-streams-1.0.4.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.16/spring-boot-starter-web-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.16/spring-boot-starter-json-2.7.16.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.16/spring-boot-starter-tomcat-2.7.16.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.80/tomcat-embed-core-9.0.80.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.80/tomcat-embed-el-9.0.80.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.80/tomcat-embed-websocket-9.0.80.jar:/Users/anish/.m2/repository/org/springframework/spring-web/5.3.30/spring-web-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-beans/5.3.30/spring-beans-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-webmvc/5.3.30/spring-webmvc-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-context/5.3.30/spring-context-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-expression/5.3.30/spring-expression-5.3.30.jar:/Users/anish/.m2/repository/com/redis/om/redis-om-spring/0.6.0/redis-om-spring-0.6.0.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.7.16/spring-boot-starter-aop-2.7.16.jar:/Users/anish/.m2/repository/org/aspectj/aspectjweaver/1.9.7/aspectjweaver-1.9.7.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.16/spring-boot-autoconfigure-2.7.16.jar:/Users/anish/.m2/repository/com/redislabs/jrejson/1.5.0/jrejson-1.5.0.jar:/Users/anish/.m2/repository/redis/clients/jedis/3.8.0/jedis-3.8.0.jar:/Users/anish/.m2/repository/com/google/code/gson/gson/2.9.1/gson-2.9.1.jar:/Users/anish/.m2/repository/org/apache/commons/commons-pool2/2.11.1/commons-pool2-2.11.1.jar:/Users/anish/.m2/repository/com/redislabs/jredisearch/2.2.0/jredisearch-2.2.0.jar:/Users/anish/.m2/repository/org/json/json/20210307/json-20210307.jar:/Users/anish/.m2/repository/com/redislabs/jrebloom/2.2.0/jrebloom-2.2.0.jar:/Users/anish/.m2/repository/com/google/guava/guava/31.1-jre/guava-31.1-jre.jar:/Users/anish/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/anish/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/anish/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/anish/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar:/Users/anish/.m2/repository/com/google/errorprone/error_prone_annotations/2.11.0/error_prone_annotations-2.11.0.jar:/Users/anish/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/anish/.m2/repository/com/github/f4b6a3/ulid-creator/5.0.1/ulid-creator-5.0.1.jar:/Users/anish/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/Users/anish/.m2/repository/com/squareup/javapoet/1.13.0/javapoet-1.13.0.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-devtools/2.7.16/spring-boot-devtools-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot/2.7.16/spring-boot-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.7.16/spring-boot-configuration-processor-2.7.16.jar:/Users/anish/.m2/repository/org/projectlombok/lombok/1.18.30/lombok-1.18.30.jar:/Users/anish/.m2/repository/org/springframework/spring-core/5.3.30/spring-core-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-jcl/5.3.30/spring-jcl-5.3.30.jar com.example.testredis.TestRedisSpringApplication\r\n    17:26:44.447 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7f476533\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.7.16)\r\n    \r\n    2023-09-30 17:26:44.842  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : Starting TestRedisSpringApplication using Java 17.0.8 on Anishs-MacBook-Pro.local with PID 27499 (/Users/anish/Downloads/test-redis-spring/target/classes started by anish in /Users/anish/Downloads/test-redis-spring)\r\n    2023-09-30 17:26:44.843  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-09-30 17:26:44.917  INFO 27499 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-09-30 17:26:44.917  INFO 27499 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-09-30 17:26:45.425  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-09-30 17:26:45.425  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n    2023-09-30 17:26:45.597  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 159 ms. Found 1 Redis repository interfaces.\r\n    2023-09-30 17:26:46.004  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;com.redis.om.spring.RedisModulesConfiguration&#39; of type [com.redis.om.spring.RedisModulesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.009  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;customRedisConfiguration&#39; of type [com.example.testredis.CustomRedisConfiguration$$EnhancerBySpringCGLIB$$5edc0326] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.052  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;jedisConnectionFactory&#39; of type [org.springframework.data.redis.connection.jedis.JedisConnectionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.127  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;redisTemplate&#39; of type [org.springframework.data.redis.core.RedisTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.135  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;redisModulesClient&#39; of type [com.redis.om.spring.client.RedisModulesClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.137  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;redisModulesOperations&#39; of type [com.redis.om.spring.ops.RedisModulesOperations] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.138  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;keyspaceToIndexMap&#39; of type [com.redis.om.spring.KeyspaceToIndexMap] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-09-30 17:26:46.715  INFO 27499 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-09-30 17:26:46.727  INFO 27499 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-09-30 17:26:46.728  INFO 27499 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\r\n    2023-09-30 17:26:46.811  INFO 27499 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-09-30 17:26:46.812  INFO 27499 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1894 ms\r\n    2023-09-30 17:26:47.040  INFO 27499 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2023-09-30 17:26:47.720  INFO 27499 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-09-30 17:26:47.727  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Creating Indexes......\r\n    2023-09-30 17:26:47.735  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found 0 @Document annotated Beans...\r\n    2023-09-30 17:26:47.741  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found 1 @RedisHash annotated Beans...\r\n    2023-09-30 17:26:47.741  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found @RedisHash annotated class: com.example.testredis.Person\r\n    2023-09-30 17:26:47.742  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : FOUND @Indexed annotation on field of type: class java.lang.String\r\n    2023-09-30 17:26:47.743  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : FOUND @Indexed annotation on field of type: class java.lang.String\r\n    2023-09-30 17:26:47.792  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : Started TestRedisSpringApplication in 3.335 seconds (JVM running for 3.879)\r\n    2023-09-30 19:12:53.073  INFO 27499 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-09-30 19:12:53.074  INFO 27499 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-09-30 19:12:53.086  INFO 27499 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\r\n\r\nI&#39;m creating two data in redis by using the endpoint : `http://localhost:8080/person/save`\r\n\r\nScreenshot:\r\n\r\n\r\n[![enter image description here][8]][8]\r\n\r\nRedis CLI logs:\r\n\r\n[![enter image description here][9]][9]\r\n\r\nNow, I will try to get the data from getAllById endpoint: http://localhost:8080/person/find-all-by-ids\r\n\r\nScreenshot:[![enter image description here][10]][10]\r\n\r\nRedis CLI logs:\r\n\r\n[![enter image description here][11]][11]\r\n\r\nThat&#39;s all.\r\n\r\n  [1]: https://www.dragonflydb.io/error-solutions/crossslot-keys-in-request-dont-hash-to-the-same-slot\r\n  [2]: https://github.com/spring-projects/spring-data-redis/issues/1727\r\n  [3]: https://github.com/redis/redis/issues/5118\r\n  [4]: https://redis.io/docs/interact/search-and-query/\r\n  [5]: https://developer.redis.com/develop/java/spring/redis-om/redis-om-spring\r\n  [6]: https://redis.io/download/#redis-stack-downloads\r\n  [7]: https://developer.redis.com/develop/java/spring/redis-om/redis-om-spring-hash\r\n  [8]: https://i.stack.imgur.com/KFUar.png\r\n  [9]: https://i.stack.imgur.com/IpP9N.png\r\n  [10]: https://i.stack.imgur.com/c6lqH.png\r\n  [11]: https://i.stack.imgur.com/C42UQ.png","title":"Is it possible to find keys which are on different shards using Lettuce using Spring Data Redis","body":"<p>After researching a lot, I've found some info on why you are facing this <strong>CROSSSLOT</strong> error with <strong>Redis</strong>.</p>\n<p>There is a good explanatory blog <a href=\"https://www.dragonflydb.io/error-solutions/crossslot-keys-in-request-dont-hash-to-the-same-slot\" rel=\"nofollow noreferrer\">here</a> on CROSSSLOT KEYS issue. Please read it.</p>\n<p>From that blog, the following things can be concluded.</p>\n<p><strong>Reason of the error:</strong></p>\n<blockquote>\n<p>This error occurs when you try to perform an operation that involves\nmultiple keys in a Redis Cluster, but those keys do not belong to the\nsame hash slot.</p>\n</blockquote>\n<p><strong>Possible solutions suggested that you can take to mitigate the issue:</strong></p>\n<ul>\n<li><p>Use a <strong>single-node configuration</strong> if there is no needed for scalability (provided by Redis Cluster). This will make sure all the keys are in a single node and thereby eliminating the issue of CROSSSLOT Keys completely.</p>\n</li>\n<li><p>Optimize your entity model to reduce the need for multi-key operations as Redis will be unable to maintain this.</p>\n</li>\n<li><p>You can use tag within the key. <strong>Advantage:</strong> Let's say if you have multiple keys and now you attach them with the same tag, then this will make sure that multiple keys are going into the same hashed slot, thereby reducing the cross-slot operation.</p>\n</li>\n</ul>\n<p><strong>Read the blog for information.</strong></p>\n<hr />\n<p><strong>Follow these Github issues given below for reference:</strong></p>\n<ul>\n<li><p><a href=\"https://github.com/spring-projects/spring-data-redis/issues/1727\" rel=\"nofollow noreferrer\">CROSSSLOT error with Spring Oauth2 (version 2.3.0.RELEASE) [DATAREDIS-1154]</a></p>\n</li>\n<li><p><a href=\"https://github.com/redis/redis/issues/5118\" rel=\"nofollow noreferrer\">CROSSSLOT error on single-shard cluster</a></p>\n</li>\n</ul>\n<p>First of all, don't get mislead with the use of keyword 'Spring OAuth2'. The issue is the same as that you are facing.</p>\n<p>Note: <strong>Slot != Shard</strong></p>\n<p>The main thing I want to mention is multiple hashed slots are getting created by keys within the shard and getting them from multiple slots by cross operation is not allowed.</p>\n<p>Now, I guess most probably you are using single node configuration by looking at your code. So, please stop running cluster mode for redis.</p>\n<hr />\n<p>Now, coming to this question</p>\n<blockquote>\n<p>Also, is it possible to avoid union operation and use\norg.springframework.data.repository.CrudRepository findAllByIds(ids)\nto get the same output?</p>\n</blockquote>\n<p>Yes, it's possible to achieve via <strong>Redis-OM for Spring</strong> library and <strong>Redis Stack Server</strong> which comes with enhanced features for <a href=\"https://redis.io/docs/interact/search-and-query/\" rel=\"nofollow noreferrer\"><strong>Search and Query</strong></a>.</p>\n<p>Official <a href=\"https://developer.redis.com/develop/java/spring/redis-om/redis-om-spring\" rel=\"nofollow noreferrer\">Redis-OM Docs</a> says:</p>\n<blockquote>\n<p>Redis OM Spring provides powerful repository and custom object-mapping\nabstractions built on top of the amazing <strong>Spring Data Redis</strong> (SDR)\nframework.</p>\n</blockquote>\n<p>Now, step - by - step process:</p>\n<ol>\n<li>Download <strong>Redis Stack</strong> from <a href=\"https://redis.io/download/#redis-stack-downloads\" rel=\"nofollow noreferrer\">here</a> based on the OS.</li>\n<li>Extract the downloaded zip and go into bin folder of redis stack and run the executable file <strong>redis-stack-server</strong>.</li>\n</ol>\n<p><strong>Note:</strong> I'm using <strong>macOS</strong>, <strong>Java 17</strong>, <strong>Spring Boot 2.7.x</strong> and <strong>Redis 7.2.1</strong> to demonstrate this.</p>\n<ol start=\"3\">\n<li><p>Open two terminals and run the <strong>redis-stack-server</strong> file and <strong>redis-cli</strong> file on each terminal respectively.</p>\n</li>\n<li><p>Now, in CLI mode, Enter the command <code>MONITOR</code>. to start tracking any activities happening on the redis server.</p>\n</li>\n<li><p>Coming to codebase:</p>\n</li>\n</ol>\n<p>I took help of their <a href=\"https://developer.redis.com/develop/java/spring/redis-om/redis-om-spring-hash\" rel=\"nofollow noreferrer\">Redis-OM Spring tutorial for hashes</a> for reference.</p>\n<p>You will need to include <code>redis-om-spring</code> and <code>spring-boot-starter-data-redis</code> as dependencies in <strong>POM</strong>.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test-redis-spring&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-redis-spring&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.redis.om&lt;/groupId&gt;\n            &lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\n            &lt;version&gt;0.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Startup class:</p>\n<pre><code>@SpringBootApplication\n@EnableRedisEnhancedRepositories\npublic class TestRedisSpringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestRedisSpringApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>You have to use <code>@EnableRedisEnhancedRepositories</code> to detect presence of the repositories using redis - based model.</p>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\n}\n</code></pre>\n<p>Entity class :</p>\n<pre><code>import com.redis.om.spring.annotations.Indexed;\nimport lombok.Data;\nimport lombok.NonNull;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.redis.core.RedisHash;\n\n@Data\n@RedisHash\npublic class Person {\n    @Id\n    private String id;\n\n    @NonNull\n    @Indexed\n    private String fullName;\n\n    @NonNull\n    @Indexed\n    private String job;\n}\n</code></pre>\n<p><strong>Note:</strong> <code>@RedisHash</code>, <code>@Indexed</code> are annotations from Redis-OM lib and it works with Redis Stack Server as it has extensive support for searching and querying which normal Redis Server lacks.</p>\n<p>Custom Redis Configuration which takes guarantee of creating bean of <code>JedisConnectionFactory</code> and thereby providing it to the <strong>Redis-OM</strong> and it's mandatory to supply that bean.</p>\n<pre><code>@Configuration\npublic class CustomRedisConfiguration {\n\n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory() {\n        RedisStandaloneConfiguration redisConf = new RedisStandaloneConfiguration();\n        redisConf.setHostName(&quot;localhost&quot;);\n        redisConf.setPort(6379);\n        JedisClientConfiguration conf = JedisClientConfiguration.builder()\n                .readTimeout(Duration.ofMillis(1000))\n                .connectTimeout(Duration.ofMillis(1000))\n                .build();\n        return new JedisConnectionFactory(redisConf, conf);\n    }\n\n}\n</code></pre>\n<p>Controller Code :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;person&quot;)\npublic class PersonController {\n\n    @Autowired\n    private PersonRepository repository;\n\n    @PostMapping(&quot;save&quot;)\n    public Person save(@RequestBody Person p) {\n        return repository.save(p);\n    }\n\n    @GetMapping(&quot;/find-all-by-ids&quot;)\n    public List&lt;Person&gt; getAllPersonByIds(@RequestBody List&lt;String&gt; pids) {\n        List&lt;Person&gt; list = new ArrayList&lt;&gt;();\n        repository.findAllById(pids).forEach(list::add);\n        return list;\n    }\n}\n</code></pre>\n<p>The server start successfully.</p>\n<p><strong>Logs:</strong></p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64359:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anish/Downloads/test-redis-spring/target/classes:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-data-redis/2.7.16/spring-boot-starter-data-redis-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.16/spring-boot-starter-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.16/spring-boot-starter-logging-2.7.16.jar:/Users/anish/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/anish/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/anish/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/anish/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/anish/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/anish/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/anish/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-redis/2.7.16/spring-data-redis-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-keyvalue/2.7.16/spring-data-keyvalue-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/data/spring-data-commons/2.7.16/spring-data-commons-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/spring-tx/5.3.30/spring-tx-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-oxm/5.3.30/spring-oxm-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-aop/5.3.30/spring-aop-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-context-support/5.3.30/spring-context-support-5.3.30.jar:/Users/anish/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/anish/.m2/repository/io/lettuce/lettuce-core/6.1.10.RELEASE/lettuce-core-6.1.10.RELEASE.jar:/Users/anish/.m2/repository/io/netty/netty-common/4.1.97.Final/netty-common-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-handler/4.1.97.Final/netty-handler-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-resolver/4.1.97.Final/netty-resolver-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-buffer/4.1.97.Final/netty-buffer-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.97.Final/netty-transport-native-unix-common-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-codec/4.1.97.Final/netty-codec-4.1.97.Final.jar:/Users/anish/.m2/repository/io/netty/netty-transport/4.1.97.Final/netty-transport-4.1.97.Final.jar:/Users/anish/.m2/repository/io/projectreactor/reactor-core/3.4.32/reactor-core-3.4.32.jar:/Users/anish/.m2/repository/org/reactivestreams/reactive-streams/1.0.4/reactive-streams-1.0.4.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.16/spring-boot-starter-web-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.16/spring-boot-starter-json-2.7.16.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/anish/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.16/spring-boot-starter-tomcat-2.7.16.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.80/tomcat-embed-core-9.0.80.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.80/tomcat-embed-el-9.0.80.jar:/Users/anish/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.80/tomcat-embed-websocket-9.0.80.jar:/Users/anish/.m2/repository/org/springframework/spring-web/5.3.30/spring-web-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-beans/5.3.30/spring-beans-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-webmvc/5.3.30/spring-webmvc-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-context/5.3.30/spring-context-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-expression/5.3.30/spring-expression-5.3.30.jar:/Users/anish/.m2/repository/com/redis/om/redis-om-spring/0.6.0/redis-om-spring-0.6.0.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.7.16/spring-boot-starter-aop-2.7.16.jar:/Users/anish/.m2/repository/org/aspectj/aspectjweaver/1.9.7/aspectjweaver-1.9.7.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.16/spring-boot-autoconfigure-2.7.16.jar:/Users/anish/.m2/repository/com/redislabs/jrejson/1.5.0/jrejson-1.5.0.jar:/Users/anish/.m2/repository/redis/clients/jedis/3.8.0/jedis-3.8.0.jar:/Users/anish/.m2/repository/com/google/code/gson/gson/2.9.1/gson-2.9.1.jar:/Users/anish/.m2/repository/org/apache/commons/commons-pool2/2.11.1/commons-pool2-2.11.1.jar:/Users/anish/.m2/repository/com/redislabs/jredisearch/2.2.0/jredisearch-2.2.0.jar:/Users/anish/.m2/repository/org/json/json/20210307/json-20210307.jar:/Users/anish/.m2/repository/com/redislabs/jrebloom/2.2.0/jrebloom-2.2.0.jar:/Users/anish/.m2/repository/com/google/guava/guava/31.1-jre/guava-31.1-jre.jar:/Users/anish/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/anish/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/anish/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/anish/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar:/Users/anish/.m2/repository/com/google/errorprone/error_prone_annotations/2.11.0/error_prone_annotations-2.11.0.jar:/Users/anish/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/anish/.m2/repository/com/github/f4b6a3/ulid-creator/5.0.1/ulid-creator-5.0.1.jar:/Users/anish/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/Users/anish/.m2/repository/com/squareup/javapoet/1.13.0/javapoet-1.13.0.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-devtools/2.7.16/spring-boot-devtools-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot/2.7.16/spring-boot-2.7.16.jar:/Users/anish/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.7.16/spring-boot-configuration-processor-2.7.16.jar:/Users/anish/.m2/repository/org/projectlombok/lombok/1.18.30/lombok-1.18.30.jar:/Users/anish/.m2/repository/org/springframework/spring-core/5.3.30/spring-core-5.3.30.jar:/Users/anish/.m2/repository/org/springframework/spring-jcl/5.3.30/spring-jcl-5.3.30.jar com.example.testredis.TestRedisSpringApplication\n17:26:44.447 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7f476533\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.16)\n\n2023-09-30 17:26:44.842  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : Starting TestRedisSpringApplication using Java 17.0.8 on Anishs-MacBook-Pro.local with PID 27499 (/Users/anish/Downloads/test-redis-spring/target/classes started by anish in /Users/anish/Downloads/test-redis-spring)\n2023-09-30 17:26:44.843  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-30 17:26:44.917  INFO 27499 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-09-30 17:26:44.917  INFO 27499 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-09-30 17:26:45.425  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-09-30 17:26:45.425  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2023-09-30 17:26:45.597  INFO 27499 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 159 ms. Found 1 Redis repository interfaces.\n2023-09-30 17:26:46.004  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'com.redis.om.spring.RedisModulesConfiguration' of type [com.redis.om.spring.RedisModulesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.009  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'customRedisConfiguration' of type [com.example.testredis.CustomRedisConfiguration$$EnhancerBySpringCGLIB$$5edc0326] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.052  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jedisConnectionFactory' of type [org.springframework.data.redis.connection.jedis.JedisConnectionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.127  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisTemplate' of type [org.springframework.data.redis.core.RedisTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.135  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisModulesClient' of type [com.redis.om.spring.client.RedisModulesClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.137  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisModulesOperations' of type [com.redis.om.spring.ops.RedisModulesOperations] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.138  INFO 27499 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'keyspaceToIndexMap' of type [com.redis.om.spring.KeyspaceToIndexMap] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-30 17:26:46.715  INFO 27499 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-09-30 17:26:46.727  INFO 27499 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-30 17:26:46.728  INFO 27499 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\n2023-09-30 17:26:46.811  INFO 27499 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-30 17:26:46.812  INFO 27499 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1894 ms\n2023-09-30 17:26:47.040  INFO 27499 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-09-30 17:26:47.720  INFO 27499 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-09-30 17:26:47.727  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Creating Indexes......\n2023-09-30 17:26:47.735  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found 0 @Document annotated Beans...\n2023-09-30 17:26:47.741  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found 1 @RedisHash annotated Beans...\n2023-09-30 17:26:47.741  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : Found @RedisHash annotated class: com.example.testredis.Person\n2023-09-30 17:26:47.742  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : FOUND @Indexed annotation on field of type: class java.lang.String\n2023-09-30 17:26:47.743  INFO 27499 --- [  restartedMain] c.r.om.spring.RedisModulesConfiguration  : FOUND @Indexed annotation on field of type: class java.lang.String\n2023-09-30 17:26:47.792  INFO 27499 --- [  restartedMain] c.e.t.TestRedisSpringApplication         : Started TestRedisSpringApplication in 3.335 seconds (JVM running for 3.879)\n2023-09-30 19:12:53.073  INFO 27499 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-09-30 19:12:53.074  INFO 27499 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-09-30 19:12:53.086  INFO 27499 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\n</code></pre>\n<p>I'm creating two data in redis by using the endpoint : <code>http://localhost:8080/person/save</code></p>\n<p>Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/KFUar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KFUar.png\" alt=\"enter image description here\" /></a></p>\n<p>Redis CLI logs:</p>\n<p><a href=\"https://i.stack.imgur.com/IpP9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpP9N.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I will try to get the data from getAllById endpoint: http://localhost:8080/person/find-all-by-ids</p>\n<p>Screenshot:<a href=\"https://i.stack.imgur.com/c6lqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c6lqH.png\" alt=\"enter image description here\" /></a></p>\n<p>Redis CLI logs:</p>\n<p><a href=\"https://i.stack.imgur.com/C42UQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C42UQ.png\" alt=\"enter image description here\" /></a></p>\n<p>That's all.</p>\n"}],"owner":{"account_id":1917319,"reputation":428,"user_id":1729649,"display_name":"Sukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77207260,"answer_count":1,"score":1,"last_activity_date":1699989076,"creation_date":1695409128,"question_id":77160112,"body_markdown":"I am using Spring Data Redis in my API. I am trying run the following command through Java:\r\n\r\n```\r\nSet&lt;String&gt; union = redisTemplate.opsForSet().union(ids);\r\n```\r\nwhich is causing CROSSSLOT Keys in request don&#39;t hash to the same slot err since keys I am searching are on different shards.\r\n\r\nMy Redis db model is having SET datamodel for keys which I am trying to find.\r\n\r\nIs there any way Lettuce can find keys across shards and I can avoid this err. My LettuceConnectionFactory is as it is:\r\n\r\n```\r\n@Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setPort(port);\r\n        redisStandaloneConfiguration.setHostName(host);\r\n        redisStandaloneConfiguration.setDatabase(database);\r\n        if (StringUtils.isNotBlank(password)) redisStandaloneConfiguration.setPassword(password);\r\n\r\n        LettuceClientConfiguration.LettuceClientConfigurationBuilder builder = LettuceClientConfiguration.builder();\r\n        if (useSSl) {\r\n            builder.useSsl();\r\n        }\r\n\r\n        LettuceClientConfiguration clientConfiguration = builder\r\n                .commandTimeout(Duration.ofSeconds(redisTimeoutMillis))\r\n                .clientOptions(ClientOptions\r\n                        .builder()\r\n                        .disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)\r\n                        .build())\r\n                .build();\r\n\r\n        LettuceConnectionFactory connectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\r\n        connectionFactory.afterPropertiesSet();\r\n\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(redisConnectionFactory());\r\n        return template;\r\n    }\r\n```\r\n \r\nAlso, is it possible to avoid union operation and use org.springframework.data.repository.CrudRepository findAllByIds(ids) to get the same output?\r\n","title":"Is it possible to find keys which are on different shards using Lettuce using Spring Data Redis","body":"<p>I am using Spring Data Redis in my API. I am trying run the following command through Java:</p>\n<pre><code>Set&lt;String&gt; union = redisTemplate.opsForSet().union(ids);\n</code></pre>\n<p>which is causing CROSSSLOT Keys in request don't hash to the same slot err since keys I am searching are on different shards.</p>\n<p>My Redis db model is having SET datamodel for keys which I am trying to find.</p>\n<p>Is there any way Lettuce can find keys across shards and I can avoid this err. My LettuceConnectionFactory is as it is:</p>\n<pre><code>@Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setPort(port);\n        redisStandaloneConfiguration.setHostName(host);\n        redisStandaloneConfiguration.setDatabase(database);\n        if (StringUtils.isNotBlank(password)) redisStandaloneConfiguration.setPassword(password);\n\n        LettuceClientConfiguration.LettuceClientConfigurationBuilder builder = LettuceClientConfiguration.builder();\n        if (useSSl) {\n            builder.useSsl();\n        }\n\n        LettuceClientConfiguration clientConfiguration = builder\n                .commandTimeout(Duration.ofSeconds(redisTimeoutMillis))\n                .clientOptions(ClientOptions\n                        .builder()\n                        .disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)\n                        .build())\n                .build();\n\n        LettuceConnectionFactory connectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\n        connectionFactory.afterPropertiesSet();\n\n        return connectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory());\n        return template;\n    }\n</code></pre>\n<p>Also, is it possible to avoid union operation and use org.springframework.data.repository.CrudRepository findAllByIds(ids) to get the same output?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"score":2,"creation_date":1329848585,"post_id":9382897,"comment_id":11852438,"body_markdown":"Date is decapricated. Use Calendar instead.","body":"Date is decapricated. Use Calendar instead."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1329848598,"post_id":9382897,"comment_id":11852444,"body_markdown":"So, `Calendar` is not an option? @Stas: this is not true. A bunch of deprecated methods doesn&#39;t make the whole class deprecated.","body":"So, <code>Calendar</code> is not an option? @Stas: this is not true. A bunch of deprecated methods doesn&#39;t make the whole class deprecated."},{"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"score":0,"creation_date":1329848813,"post_id":9382897,"comment_id":11852510,"body_markdown":"@BalusC: &quot;Prior to JDK&#160;1.1, the class Date had two additional functions. It allowed the interpretation of dates as year, month, day, hour, minute, and second values. It also allowed the formatting and parsing of date strings. Unfortunately, the API for these functions was not amenable to internationalization. As of JDK&#160;1.1, the Calendar class should be used to convert between dates and time fields and the DateFormat class should be used to format and parse date strings. The corresponding methods in Date are deprecated.&quot;","body":"@BalusC: &quot;Prior to JDK 1.1, the class Date had two additional functions. It allowed the interpretation of dates as year, month, day, hour, minute, and second values. It also allowed the formatting and parsing of date strings. Unfortunately, the API for these functions was not amenable to internationalization. As of JDK 1.1, the Calendar class should be used to convert between dates and time fields and the DateFormat class should be used to format and parse date strings. The corresponding methods in Date are deprecated.&quot;"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1329848930,"post_id":9382897,"comment_id":11852552,"body_markdown":"@Stas: the corresponding methods are deprecated, not the class itself.","body":"@Stas: the corresponding methods are deprecated, not the class itself."},{"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"score":0,"creation_date":1329849208,"post_id":9382897,"comment_id":11852661,"body_markdown":"@BalusC: Yes, and according to the question, those are the methods that he needs.","body":"@BalusC: Yes, and according to the question, those are the methods that he needs."},{"owner":{"account_id":126958,"reputation":3874,"user_id":323807,"accept_rate":71,"display_name":"Andre"},"score":2,"creation_date":1329854392,"post_id":9382897,"comment_id":11854470,"body_markdown":"@stas: drugs are bad. Don&#39;t do them.","body":"@stas: drugs are bad. Don&#39;t do them."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1536303398,"post_id":9382897,"comment_id":91382472,"body_markdown":"`Date` and `Calendar` are both outdated and poorly designed. Use [java.time](https://docs.oracle.com/javase/tutorial/datetime/) instead.","body":"<code>Date</code> and <code>Calendar</code> are both outdated and poorly designed. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329848646,"creation_date":1329848646,"answer_id":9382974,"question_id":9382897,"body_markdown":"You can use Jodatime as shown in this thread https://stackoverflow.com/questions/1174899/java-joda-time-implement-a-date-range-iterator \r\n\r\nAlso, you can use gregorian calendar and move one day at a time, as shown here. https://stackoverflow.com/questions/2074197/i-need-a-cycle-which-iterates-through-dates-interval\r\n\r\nPS. Piece of advice: search it first.","title":"How to get start and end date of a year?","body":"<p>You can use Jodatime as shown in this thread <a href=\"https://stackoverflow.com/questions/1174899/java-joda-time-implement-a-date-range-iterator\">Java Joda Time - Implement a Date range iterator</a> </p>\n\n<p>Also, you can use gregorian calendar and move one day at a time, as shown here. <a href=\"https://stackoverflow.com/questions/2074197/i-need-a-cycle-which-iterates-through-dates-interval\">I need a cycle which iterates through dates interval</a></p>\n\n<p>PS. Piece of advice: search it first.</p>\n"},{"comments":[{"owner":{"account_id":65789,"reputation":14127,"user_id":193376,"accept_rate":98,"display_name":"Pez Cuckow"},"score":0,"creation_date":1330007748,"post_id":9383059,"comment_id":11899564,"body_markdown":"Ahh I didn&#39;t realise you could convert between calendar and date!","body":"Ahh I didn&#39;t realise you could convert between calendar and date!"}],"tags":[],"owner":{"account_id":383085,"reputation":3075,"user_id":738711,"display_name":"VirtualTroll"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1329848982,"creation_date":1329848982,"answer_id":9383059,"question_id":9382897,"body_markdown":"        // suppose that I have the following variable as input\r\n        int year=2011;\r\n        Calendar calendarStart=Calendar.getInstance();\r\n        calendarStart.set(Calendar.YEAR,year);\r\n        calendarStart.set(Calendar.MONTH,0);\r\n        calendarStart.set(Calendar.DAY_OF_MONTH,1);\r\n        // returning the first date\r\n        Date startDate=calendarStart.getTime();\r\n        \r\n        Calendar calendarEnd=Calendar.getInstance();\r\n        calendarEnd.set(Calendar.YEAR,year);\r\n        calendarEnd.set(Calendar.MONTH,11);\r\n        calendarEnd.set(Calendar.DAY_OF_MONTH,31);\r\n        \r\n        // returning the last date\r\n        Date endDate=calendarEnd.getTime();\r\n\r\nTo iterate, you should use the calendar object and increment the day_of_month variable\r\n\r\nHope that it can help","title":"How to get start and end date of a year?","body":"<pre><code>    // suppose that I have the following variable as input\n    int year=2011;\n    Calendar calendarStart=Calendar.getInstance();\n    calendarStart.set(Calendar.YEAR,year);\n    calendarStart.set(Calendar.MONTH,0);\n    calendarStart.set(Calendar.DAY_OF_MONTH,1);\n    // returning the first date\n    Date startDate=calendarStart.getTime();\n\n    Calendar calendarEnd=Calendar.getInstance();\n    calendarEnd.set(Calendar.YEAR,year);\n    calendarEnd.set(Calendar.MONTH,11);\n    calendarEnd.set(Calendar.DAY_OF_MONTH,31);\n\n    // returning the last date\n    Date endDate=calendarEnd.getTime();\n</code></pre>\n\n<p>To iterate, you should use the calendar object and increment the day_of_month variable</p>\n\n<p>Hope that it can help</p>\n"},{"comments":[{"owner":{"account_id":65789,"reputation":14127,"user_id":193376,"accept_rate":98,"display_name":"Pez Cuckow"},"score":0,"creation_date":1330007734,"post_id":9383062,"comment_id":11899552,"body_markdown":"Ahh I didn&#39;t realise you could convert between calendar and date!","body":"Ahh I didn&#39;t realise you could convert between calendar and date!"},{"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"score":2,"creation_date":1360924006,"post_id":9383062,"comment_id":20885112,"body_markdown":"You dont convert between them; A Date represents an instant in time, while a Calendar tells you how that instant is represented in a particular system.","body":"You dont convert between them; A Date represents an instant in time, while a Calendar tells you how that instant is represented in a particular system."},{"owner":{"account_id":983913,"reputation":996,"user_id":1002902,"accept_rate":69,"display_name":"tos"},"score":11,"creation_date":1385545792,"post_id":9383062,"comment_id":30183913,"body_markdown":"This code can be improved with constants such as `cal.set(Calendar.MONTH, Calendar.DECEMBER);`","body":"This code can be improved with constants such as <code>cal.set(Calendar.MONTH, Calendar.DECEMBER);</code>"}],"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1424359127,"creation_date":1329848994,"answer_id":9383062,"question_id":9382897,"body_markdown":"    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.YEAR, 2014);\r\n    cal.set(Calendar.DAY_OF_YEAR, 1);    \r\n    Date start = cal.getTime();\r\n    \r\n    //set date to last day of 2014\r\n    cal.set(Calendar.YEAR, 2014);\r\n    cal.set(Calendar.MONTH, 11); // 11 = december\r\n    cal.set(Calendar.DAY_OF_MONTH, 31); // new years eve\r\n    \r\n    Date end = cal.getTime();\r\n\r\n    //Iterate through the two dates \r\n    GregorianCalendar gcal = new GregorianCalendar();\r\n    gcal.setTime(start);\r\n    while (gcal.getTime().before(end)) {\r\n        gcal.add(Calendar.DAY_OF_YEAR, 1);\r\n        //Do Something ...\r\n    }","title":"How to get start and end date of a year?","body":"<pre><code>Calendar cal = Calendar.getInstance();\ncal.set(Calendar.YEAR, 2014);\ncal.set(Calendar.DAY_OF_YEAR, 1);    \nDate start = cal.getTime();\n\n//set date to last day of 2014\ncal.set(Calendar.YEAR, 2014);\ncal.set(Calendar.MONTH, 11); // 11 = december\ncal.set(Calendar.DAY_OF_MONTH, 31); // new years eve\n\nDate end = cal.getTime();\n\n//Iterate through the two dates \nGregorianCalendar gcal = new GregorianCalendar();\ngcal.setTime(start);\nwhile (gcal.getTime().before(end)) {\n    gcal.add(Calendar.DAY_OF_YEAR, 1);\n    //Do Something ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446466,"reputation":1135,"user_id":839527,"accept_rate":86,"display_name":"JProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329848995,"creation_date":1329848995,"answer_id":9383065,"question_id":9382897,"body_markdown":"I assume that you have Date class instance and you need to find first date and last date of the current year in terms of Date class instance. You can use the Calendar class for this. Construct Calendar instance using provided date class instance. Set the MONTH and DAY_OF_MONTH field to 0 and 1 respectively, then use getTime() method which will return Date class instance representing first day of year. You can use same technique to find end of year.\r\n\r\n        Date date = new Date();\r\n        System.out.println(&quot;date: &quot;+date);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        \r\n        System.out.println(&quot;cal:&quot;+cal.getTime());\r\n        \r\n        cal.set(Calendar.MONTH, 0);\r\n        cal.set(Calendar.DAY_OF_MONTH, 1);\r\n        \r\n        System.out.println(&quot;cal new: &quot;+cal.getTime());","title":"How to get start and end date of a year?","body":"<p>I assume that you have Date class instance and you need to find first date and last date of the current year in terms of Date class instance. You can use the Calendar class for this. Construct Calendar instance using provided date class instance. Set the MONTH and DAY_OF_MONTH field to 0 and 1 respectively, then use getTime() method which will return Date class instance representing first day of year. You can use same technique to find end of year.</p>\n\n<pre><code>    Date date = new Date();\n    System.out.println(\"date: \"+date);\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n\n    System.out.println(\"cal:\"+cal.getTime());\n\n    cal.set(Calendar.MONTH, 0);\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n\n    System.out.println(\"cal new: \"+cal.getTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309598,"reputation":1396,"user_id":622132,"accept_rate":73,"display_name":"Davor"},"score":2,"creation_date":1446043990,"post_id":9383149,"comment_id":54579926,"body_markdown":"Is this going to work for non-leap years? Or should it be corrected manually?","body":"Is this going to work for non-leap years? Or should it be corrected manually?"},{"owner":{"account_id":3159730,"reputation":569,"user_id":2671218,"display_name":"Lucas Pugliese"},"score":2,"creation_date":1497882518,"post_id":9383149,"comment_id":76251965,"body_markdown":"Remember that some years will have 365 days and others will have 366.\nThat approach shouldn&#39;t me used.","body":"Remember that some years will have 365 days and others will have 366. That approach shouldn&#39;t me used."}],"tags":[],"owner":{"account_id":60655,"reputation":5127,"user_id":181136,"accept_rate":79,"display_name":"srini.venigalla"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1329849372,"creation_date":1329849372,"answer_id":9383149,"question_id":9382897,"body_markdown":"    \r\n\r\n     Calendar cal = new GregorianCalendar();\r\n         cal.set(Calendar.DAY_OF_YEAR, 1);\r\n         System.out.println(cal.getTime().toString());\r\n         cal.set(Calendar.DAY_OF_YEAR, 366); // for leap years\r\n         System.out.println(cal.getTime().toString());","title":"How to get start and end date of a year?","body":"<pre><code> Calendar cal = new GregorianCalendar();\n     cal.set(Calendar.DAY_OF_YEAR, 1);\n     System.out.println(cal.getTime().toString());\n     cal.set(Calendar.DAY_OF_YEAR, 366); // for leap years\n     System.out.println(cal.getTime().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266100,"reputation":2735,"user_id":1223376,"display_name":"tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329849570,"creation_date":1329849570,"answer_id":9383196,"question_id":9382897,"body_markdown":"You can use the apache commons-lang project which has a [DateUtils][1] class.\r\n\r\nThey provide an iterator which you can give the Date object.\r\n\r\nBut I highly suggest using the Calendar class as suggested by the other answers.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/DateUtils.html","title":"How to get start and end date of a year?","body":"<p>You can use the apache commons-lang project which has a <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/DateUtils.html\" rel=\"nofollow\">DateUtils</a> class.</p>\n\n<p>They provide an iterator which you can give the Date object.</p>\n\n<p>But I highly suggest using the Calendar class as suggested by the other answers.</p>\n"},{"comments":[{"owner":{"account_id":2321118,"reputation":6563,"user_id":2036825,"accept_rate":88,"display_name":"kleinfreund"},"score":1,"creation_date":1360238788,"post_id":14750414,"comment_id":20643053,"body_markdown":"Might you explain your code, please? It&#39;s not very helpful at the moment.","body":"Might you explain your code, please? It&#39;s not very helpful at the moment."}],"tags":[],"owner":{"account_id":2338875,"reputation":1,"user_id":2050609,"display_name":"balaji"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534229447,"creation_date":1360237704,"answer_id":14750414,"question_id":9382897,"body_markdown":"    Calendar cal = Calendar.getInstance();//getting the instance of the Calendar using the factory method\r\n    we have a get() method to get the specified field of the calendar i.e year\r\n    \r\n    int year=cal.get(Calendar.YEAR);//for example we get 2013 here \r\n\r\n    cal.set(year, 0, 1); setting the date using the set method that all parameters like year ,month and day\r\n    Here we have given the month as 0 i.e Jan as the month start 0 - 11 and day as 1 as the days starts from 1 to30.\r\n    \r\n    Date firstdate=cal.getTime();//here we will get the first day of the year\r\n\r\n    cal.set(year,11,31);//same way as the above we set the end date of the year\r\n    \r\n    Date lastdate=cal.getTime();//here we will get the last day of the year\r\n\r\n    System.out.print(&quot;the firstdate and lastdate here\\n&quot;);","title":"How to get start and end date of a year?","body":"<pre><code>Calendar cal = Calendar.getInstance();//getting the instance of the Calendar using the factory method\nwe have a get() method to get the specified field of the calendar i.e year\n\nint year=cal.get(Calendar.YEAR);//for example we get 2013 here \n\ncal.set(year, 0, 1); setting the date using the set method that all parameters like year ,month and day\nHere we have given the month as 0 i.e Jan as the month start 0 - 11 and day as 1 as the days starts from 1 to30.\n\nDate firstdate=cal.getTime();//here we will get the first day of the year\n\ncal.set(year,11,31);//same way as the above we set the end date of the year\n\nDate lastdate=cal.getTime();//here we will get the last day of the year\n\nSystem.out.print(\"the firstdate and lastdate here\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3804087,"reputation":1,"user_id":3156949,"display_name":"Grobim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388747816,"creation_date":1388747816,"answer_id":20902387,"question_id":9382897,"body_markdown":"    GregorianCalendar gcal = new GregorianCalendar();\r\n    gcal.setTime(start);\r\n    while (gcal.getTime().before(end)) {\r\n        gcal.add(Calendar.DAY_OF_YEAR, 1);\r\n        //Do Something ...\r\n    }\r\n\r\nThe GregorianCalendar creation here is pointless. In fact, going through Calendar.java source code shows that Calendar.getInstance() already gives a GregorianCalendar instance.\r\n\r\nRegards,\r\nNicolas","title":"How to get start and end date of a year?","body":"<pre><code>GregorianCalendar gcal = new GregorianCalendar();\ngcal.setTime(start);\nwhile (gcal.getTime().before(end)) {\n    gcal.add(Calendar.DAY_OF_YEAR, 1);\n    //Do Something ...\n}\n</code></pre>\n\n<p>The GregorianCalendar creation here is pointless. In fact, going through Calendar.java source code shows that Calendar.getInstance() already gives a GregorianCalendar instance.</p>\n\n<p>Regards,\nNicolas</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494120060,"creation_date":1434098167,"answer_id":30798792,"question_id":9382897,"body_markdown":"**Update:** The Joda-Time library is now in maintenance mode with its team advising migration to the java.time classes. See the correct [java.time Answer by Przemek](https://stackoverflow.com/a/33866875/642706).\r\n\r\n# Time Zone\r\n\r\nThe other Answers ignore the crucial issue of time zone.\r\n\r\n# Joda-Time \r\n\r\nAvoid doing date-time work with the notoriously troublesome java.util.Date class. Instead use either Joda-Time or java.time. Convert to j.u.Date objects as needed for interoperability. \r\n\r\n    DateTimeZone zone = DateTimeZone.forID( &quot;America/Montreal&quot; ) ;\r\n    int year = 2015 ;\r\n    DateTime firstOfYear = new DateTime( year , DateTimeConstants.JANUARY , 1 , 0 , 0 , zone ) ;\r\n    DateTime firstOfNextYear = firstOfYear.plusYears( 1 ) ;\r\n    DateTime firstMomentOfLastDayOfYear = firstOfNextYear.minusDays( 1 ) ;\r\n\r\n# Convert To `java.util.Date`\r\n\r\nConvert to j.u.Date as needed.\r\n\r\n    java.util.Date d = firstOfYear.toDate() ;\r\n","title":"How to get start and end date of a year?","body":"<p><strong>Update:</strong> The Joda-Time library is now in maintenance mode with its team advising migration to the java.time classes. See the correct <a href=\"https://stackoverflow.com/a/33866875/642706\">java.time Answer by Przemek</a>.</p>\n\n<h1>Time Zone</h1>\n\n<p>The other Answers ignore the crucial issue of time zone.</p>\n\n<h1>Joda-Time</h1>\n\n<p>Avoid doing date-time work with the notoriously troublesome java.util.Date class. Instead use either Joda-Time or java.time. Convert to j.u.Date objects as needed for interoperability. </p>\n\n<pre><code>DateTimeZone zone = DateTimeZone.forID( \"America/Montreal\" ) ;\nint year = 2015 ;\nDateTime firstOfYear = new DateTime( year , DateTimeConstants.JANUARY , 1 , 0 , 0 , zone ) ;\nDateTime firstOfNextYear = firstOfYear.plusYears( 1 ) ;\nDateTime firstMomentOfLastDayOfYear = firstOfNextYear.minusDays( 1 ) ;\n</code></pre>\n\n<h1>Convert To <code>java.util.Date</code></h1>\n\n<p>Convert to j.u.Date as needed.</p>\n\n<pre><code>java.util.Date d = firstOfYear.toDate() ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1494120153,"post_id":33866875,"comment_id":74691595,"body_markdown":"Good Answer. I suggest always passing the desired/expected time zone to `LocalDate.now( ZoneId )` rather than relying implicitly on the JVM’s current default time zone which can change at any moment during runtime. `LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) )`  Likewise, always pass a `ZoneId` to the `atStartOfDay` method rather than rely implicitly on JVM default.  `lastDay.atStartOfDay( ZoneID.of( &quot;America/Montreal&quot; ) )`","body":"Good Answer. I suggest always passing the desired/expected time zone to <code>LocalDate.now( ZoneId )</code> rather than relying implicitly on the JVM’s current default time zone which can change at any moment during runtime. <code>LocalDate.now( ZoneId.of( &quot;America&#47;Montreal&quot; ) )</code>  Likewise, always pass a <code>ZoneId</code> to the <code>atStartOfDay</code> method rather than rely implicitly on JVM default.  <code>lastDay.atStartOfDay( ZoneID.of( &quot;America&#47;Montreal&quot; ) )</code>"}],"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"comment_count":1,"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1473092026,"creation_date":1448268694,"answer_id":33866875,"question_id":9382897,"body_markdown":"# java.time\r\n\r\nUsing [`java.time`](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) library built into Java 8 and later. Specifically the [`LocalDate`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) and [`TemporalAdjusters`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html) classes.\r\n\r\n    import java.time.LocalDate\r\n    import static java.time.temporal.TemporalAdjusters.firstDayOfYear\r\n    import static java.time.temporal.TemporalAdjusters.lastDayOfYear\r\n\r\n    LocalDate now = LocalDate.now(); // 2015-11-23\r\n    LocalDate firstDay = now.with(firstDayOfYear()); // 2015-01-01\r\n    LocalDate lastDay = now.with(lastDayOfYear()); // 2015-12-31\r\n\r\n\r\nIf you need to add time information, you may use any available `LocalDate` to `LocalDateTime` conversion like\r\n\r\n    lastDay.atStartOfDay(); // 2015-12-31T00:00\r\n\r\n ","title":"How to get start and end date of a year?","body":"<h1>java.time</h1>\n\n<p>Using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> library built into Java 8 and later. Specifically the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>TemporalAdjusters</code></a> classes.</p>\n\n<pre><code>import java.time.LocalDate\nimport static java.time.temporal.TemporalAdjusters.firstDayOfYear\nimport static java.time.temporal.TemporalAdjusters.lastDayOfYear\n\nLocalDate now = LocalDate.now(); // 2015-11-23\nLocalDate firstDay = now.with(firstDayOfYear()); // 2015-01-01\nLocalDate lastDay = now.with(lastDayOfYear()); // 2015-12-31\n</code></pre>\n\n<p>If you need to add time information, you may use any available <code>LocalDate</code> to <code>LocalDateTime</code> conversion like</p>\n\n<pre><code>lastDay.atStartOfDay(); // 2015-12-31T00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5019369,"reputation":59,"user_id":4033252,"display_name":"Ascarbek  Zadauly"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1510249064,"creation_date":1473072960,"answer_id":39329107,"question_id":9382897,"body_markdown":"If you are looking for a one-line-expression, I usually use this:\r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(String.valueOf(new java.util.Date().getYear())+&quot;-01-01&quot;)","title":"How to get start and end date of a year?","body":"<p>If you are looking for a one-line-expression, I usually use this:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd\").parse(String.valueOf(new java.util.Date().getYear())+\"-01-01\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230084,"reputation":3091,"user_id":1294802,"accept_rate":87,"display_name":"Unni Kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493981966,"creation_date":1493981966,"answer_id":43803241,"question_id":9382897,"body_markdown":"An improvement over Srini&#39;s answer.   \r\nDetermine the last date of the year using `Calendar.getActualMaximum`.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n   \r\n    calDate.set(Calendar.DAY_OF_YEAR, 1);\r\n    Date yearStartDate = calDate.getTime();\r\n    \r\n    calDate.set(Calendar.DAY_OF_YEAR, calDate.getActualMaximum(Calendar.DAY_OF_YEAR));\r\n    Date yearEndDate = calDate.getTime();","title":"How to get start and end date of a year?","body":"<p>An improvement over Srini's answer.<br>\nDetermine the last date of the year using <code>Calendar.getActualMaximum</code>.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n\ncalDate.set(Calendar.DAY_OF_YEAR, 1);\nDate yearStartDate = calDate.getTime();\n\ncalDate.set(Calendar.DAY_OF_YEAR, calDate.getActualMaximum(Calendar.DAY_OF_YEAR));\nDate yearEndDate = calDate.getTime();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1536299319,"post_id":52201528,"comment_id":91380855,"body_markdown":"These terrible old legacy classes were supplanted years ago by the modern *java.time* classes. Suggesting their use in 2018 is poor advice.","body":"These terrible old legacy classes were supplanted years ago by the modern <i>java.time</i> classes. Suggesting their use in 2018 is poor advice."}],"tags":[],"owner":{"account_id":1659259,"reputation":998,"user_id":1527856,"accept_rate":25,"display_name":"Rajiv Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536228028,"creation_date":1536228028,"answer_id":52201528,"question_id":9382897,"body_markdown":"**First and Last day of Year**\r\n\r\n    import java.util.Calendar\r\n    import java.text.SimpleDateFormat\r\n    \r\n    val parsedDateInt = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n    \r\n    val cal2 = Calendar.getInstance()\r\n    cal2.add(Calendar.MONTH, -(cal2.get(Calendar.MONTH)))\r\n    cal2.set(Calendar.DATE, 1)\r\n    val firstDayOfYear = parsedDateInt.format(cal2.getTime)\r\n    \r\n    \r\n    cal2.add(Calendar.MONTH, (11-(cal2.get(Calendar.MONTH))))\r\n    cal2.set(Calendar.DATE, cal2.getActualMaximum(Calendar.DAY_OF_MONTH))\r\n    val lastDayOfYear = parsedDateInt.format(cal2.getTime)","title":"How to get start and end date of a year?","body":"<p><strong>First and Last day of Year</strong></p>\n\n<pre><code>import java.util.Calendar\nimport java.text.SimpleDateFormat\n\nval parsedDateInt = new SimpleDateFormat(\"yyyy-MM-dd\")\n\nval cal2 = Calendar.getInstance()\ncal2.add(Calendar.MONTH, -(cal2.get(Calendar.MONTH)))\ncal2.set(Calendar.DATE, 1)\nval firstDayOfYear = parsedDateInt.format(cal2.getTime)\n\n\ncal2.add(Calendar.MONTH, (11-(cal2.get(Calendar.MONTH))))\ncal2.set(Calendar.DATE, cal2.getActualMaximum(Calendar.DAY_OF_MONTH))\nval lastDayOfYear = parsedDateInt.format(cal2.getTime)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1564677187,"post_id":57301472,"comment_id":101118916,"body_markdown":"These terrible date-time classes were supplanted years ago by the  *java.time* classes defined in JSR 310. Suggesting their use in 2019 is poor advice. See modern solution in [Answer by Przemek](https://stackoverflow.com/a/33866875/642706).","body":"These terrible date-time classes were supplanted years ago by the  <i>java.time</i> classes defined in JSR 310. Suggesting their use in 2019 is poor advice. See modern solution in <a href=\"https://stackoverflow.com/a/33866875/642706\">Answer by Przemek</a>."}],"tags":[],"owner":{"account_id":9282974,"reputation":1275,"user_id":6893685,"display_name":"Gulzar Bhat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564630385,"creation_date":1564630385,"answer_id":57301472,"question_id":9382897,"body_markdown":"    val instance = Calendar.getInstance()\r\n                    instance.add(Calendar.YEAR,-1)\r\n    \r\n     val prevYear = SimpleDateFormat(&quot;yyyy&quot;).format(DateTime(instance.timeInMillis).toDate())\r\n    \r\n    val firstDayPreviousYear = DateTime(prevYear.toInt(), 1, 1, 0, 0, 0, 0)\r\n    \r\n    val lastDayPreviousYear = DateTime(prevYear.toInt(), 12, 31, 0, 0, 0, 0)","title":"How to get start and end date of a year?","body":"<pre><code>val instance = Calendar.getInstance()\n                instance.add(Calendar.YEAR,-1)\n\n val prevYear = SimpleDateFormat(\"yyyy\").format(DateTime(instance.timeInMillis).toDate())\n\nval firstDayPreviousYear = DateTime(prevYear.toInt(), 1, 1, 0, 0, 0, 0)\n\nval lastDayPreviousYear = DateTime(prevYear.toInt(), 12, 31, 0, 0, 0, 0)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1610717870,"post_id":65731800,"comment_id":116227378,"body_markdown":"It’s a beautiful way of doing what you are doing. The question was about the first and last day of a *year*.","body":"It’s a beautiful way of doing what you are doing. The question was about the first and last day of a <i>year</i>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1610779913,"post_id":65731800,"comment_id":116244813,"body_markdown":"You are headed in the right direction, but the Question was for first and last of the *year*, not *month*. You could revamp this answer to use `Year` class in conjunction with `YearMonth` via [`Year#atMonth`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#atMonth(java.time.Month)): `Year.of( 2021 ).atMonth( Month.JANUARY ).atDay( 1 )` and `Year.of( 2021 ).atMonth( Month.JANUARY ).atEndOfMonth()`. Or use [`Year#atMonthDay`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#atMonthDay(java.time.MonthDay)).","body":"You are headed in the right direction, but the Question was for first and last of the <i>year</i>, not <i>month</i>. You could revamp this answer to use <code>Year</code> class in conjunction with <code>YearMonth</code> via <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#atMonth(java.time.Month)\" rel=\"nofollow noreferrer\"><code>Year#atMonth</code></a>: <code>Year.of( 2021 ).atMonth( Month.JANUARY ).atDay( 1 )</code> and <code>Year.of( 2021 ).atMonth( Month.JANUARY ).atEndOfMonth()</code>. Or use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#atMonthDay(java.time.MonthDay)\" rel=\"nofollow noreferrer\"><code>Year#atMonthDay</code></a>."},{"owner":{"account_id":3882891,"reputation":2008,"user_id":3214988,"display_name":"sunitkatkar"},"score":0,"creation_date":1666462809,"post_id":65731800,"comment_id":130944972,"body_markdown":"I am late to this thread, but here is an answer which answers the question about first date of the year and last date of the same year\n\n        `Integer theYear = 2022;`\n        `LocalDate startYM =  Year.of(theYear).atMonth(Month.JANUARY).atDay(1);`\n        `LocalDate endYM = Year.of(theYear).atMonth(Month.DECEMBER).atEndOfMonth();`","body":"I am late to this thread, but here is an answer which answers the question about first date of the year and last date of the same year          <code>Integer theYear = 2022;</code>         <code>LocalDate startYM =  Year.of(theYear).atMonth(Month.JANUARY).atDay(1);</code>         <code>LocalDate endYM = Year.of(theYear).atMonth(Month.DECEMBER).atEndOfMonth();</code>"}],"tags":[],"owner":{"account_id":20457059,"reputation":7,"user_id":15010466,"display_name":"Avinash Shukla"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1610780103,"creation_date":1610694405,"answer_id":65731800,"question_id":9382897,"body_markdown":"# `java.time.YearMonth`\r\n\r\n*How to Get First Date and Last Date For Specific Year and Month.*\r\n\r\nHere is code using [`YearMonth`][1] Class.\r\n\r\n`YearMonth` is a final class in `java.time` package, introduced in Java 8.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n\tint year = 2021;  // you can pass any value of year Like 2020,2021...\r\n\tint month = 6;   // you can pass any value of month Like 1,2,3...\r\n\tYearMonth yearMonth = YearMonth.of( year, month );  \r\n\tLocalDate firstOfMonth = yearMonth.atDay( 1 );\r\n\tLocalDate lastOfMonth = yearMonth.atEndOfMonth();\r\n\r\n\tSystem.out.println(firstOfMonth);\r\n\tSystem.out.println(lastOfMonth);\r\n}\r\n```\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n&gt;2021-06-01\r\n&gt;\r\n&gt;2021-06-30\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://ideone.com/8k7adB","title":"How to get start and end date of a year?","body":"<h1><code>java.time.YearMonth</code></h1>\n<p><em>How to Get First Date and Last Date For Specific Year and Month.</em></p>\n<p>Here is code using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> Class.</p>\n<p><code>YearMonth</code> is a final class in <code>java.time</code> package, introduced in Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    int year = 2021;  // you can pass any value of year Like 2020,2021...\n    int month = 6;   // you can pass any value of month Like 1,2,3...\n    YearMonth yearMonth = YearMonth.of( year, month );  \n    LocalDate firstOfMonth = yearMonth.atDay( 1 );\n    LocalDate lastOfMonth = yearMonth.atEndOfMonth();\n\n    System.out.println(firstOfMonth);\n    System.out.println(lastOfMonth);\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/8k7adB\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2021-06-01</p>\n<p>2021-06-30</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690957807,"post_id":76816751,"comment_id":135423351,"body_markdown":"Same *solution* as in [Przemek](https://stackoverflow.com/users/1981559/przemek)&#39;s [answer](https://stackoverflow.com/a/33866875/16320675) from 2015 (8 years old) !!","body":"Same <i>solution</i> as in <a href=\"https://stackoverflow.com/users/1981559/przemek\">Przemek</a>&#39;s <a href=\"https://stackoverflow.com/a/33866875/16320675\">answer</a> from 2015 (8 years old) !!"}],"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690952428,"creation_date":1690952428,"answer_id":76816751,"question_id":9382897,"body_markdown":"This can be done using TemporalAdjusters methods. The following snippet returns the first date and last date of the current year. However, custom input can also work\r\n\r\n     LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\r\n        String firstDayOfYear = localDate.with(TemporalAdjusters.firstDayOfYear()).toString();\r\n        String lastDayOfYear = localDate.with(TemporalAdjusters.lastDayOfYear()).toString();","title":"How to get start and end date of a year?","body":"<p>This can be done using TemporalAdjusters methods. The following snippet returns the first date and last date of the current year. However, custom input can also work</p>\n<pre><code> LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\n    String firstDayOfYear = localDate.with(TemporalAdjusters.firstDayOfYear()).toString();\n    String lastDayOfYear = localDate.with(TemporalAdjusters.lastDayOfYear()).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699988950,"creation_date":1699959744,"answer_id":77480091,"question_id":9382897,"body_markdown":"## `java.time.Year`\r\n\r\nThere is a [`Year`][1] class in [`java.time`][2].\r\n\r\nExamples:\r\n```java\r\nfinal Year thisYear = Year.of(2024);\r\nSystem.out.println(thisYear.atDay(1));\r\nSystem.out.println(thisYear.atDay(thisYear.length()));\r\n```\r\n\r\nOr:\r\n```java\r\nfinal Year thisYear = Year.of(2024);\r\nSystem.out.println(thisYear.atMonth(Month.JANUARY).atDay(1));\r\nSystem.out.println(thisYear.atMonth(Month.DECEMBER).atDay(31));\r\n```\r\n\r\nOr:\r\n```java\r\nfinal Year thisYear = Year.of(2024);\r\nSystem.out.println(thisYear.atMonth(Month.JANUARY).atDay(1));\r\nSystem.out.println(thisYear.atMonth(Month.DECEMBER).atEndOfMonth());\r\n```\r\n\r\nOutputs:\r\n\r\n```none\r\n2024-01-01\r\n2024-12-31\r\n```\r\n\r\nTo iterate through each date, use [`LocalDate#datesUntil`][3] to create a stream of `LocalDate` objects.\r\n\r\n    Year.of(2024).atDay(1)\r\n    .datesUntil(\r\n        Year.of(2024).plusYears(1).atDay(1)\r\n    )\r\n    .forEach( System.out::println ) ;\r\n\r\nSee that code [run at Ideone.com][4].\r\n\r\n```none\r\n2024-01-01\r\n2024-01-02\r\n…\r\n2024-12-30\r\n2024-12-31\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/Year.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\r\n  [4]: https://ideone.com/mG18RT","title":"How to get start and end date of a year?","body":"<h2><code>java.time.Year</code></h2>\n<p>There is a <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> class in <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a>.</p>\n<p>Examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Year thisYear = Year.of(2024);\nSystem.out.println(thisYear.atDay(1));\nSystem.out.println(thisYear.atDay(thisYear.length()));\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Year thisYear = Year.of(2024);\nSystem.out.println(thisYear.atMonth(Month.JANUARY).atDay(1));\nSystem.out.println(thisYear.atMonth(Month.DECEMBER).atDay(31));\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Year thisYear = Year.of(2024);\nSystem.out.println(thisYear.atMonth(Month.JANUARY).atDay(1));\nSystem.out.println(thisYear.atMonth(Month.DECEMBER).atEndOfMonth());\n</code></pre>\n<p>Outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2024-01-01\n2024-12-31\n</code></pre>\n<p>To iterate through each date, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>LocalDate#datesUntil</code></a> to create a stream of <code>LocalDate</code> objects.</p>\n<pre><code>Year.of(2024).atDay(1)\n.datesUntil(\n    Year.of(2024).plusYears(1).atDay(1)\n)\n.forEach( System.out::println ) ;\n</code></pre>\n<p>See that code <a href=\"https://ideone.com/mG18RT\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2024-01-01\n2024-01-02\n…\n2024-12-30\n2024-12-31\n</code></pre>\n"}],"owner":{"account_id":65789,"reputation":14127,"user_id":193376,"accept_rate":98,"display_name":"Pez Cuckow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140487,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":9383062,"answer_count":17,"score":42,"last_activity_date":1699988950,"creation_date":1329848327,"question_id":9382897,"body_markdown":"I have to use the Java `Date` class for this problem (it interfaces with something out of my control).\r\n\r\nHow do I get the start and end date of a year and then iterate through each date?\r\n","title":"How to get start and end date of a year?","body":"<p>I have to use the Java <code>Date</code> class for this problem (it interfaces with something out of my control).</p>\n\n<p>How do I get the start and end date of a year and then iterate through each date?</p>\n"},{"tags":["java","junit","cucumber","junit4","cucumber-jvm"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1700357394,"post_id":77483222,"comment_id":136644733,"body_markdown":"Typically it is not a good idea to put reporting in your tests. Rather you could use the maven ant run plugin or any other plugin to send a mail after the tests.","body":"Typically it is not a good idea to put reporting in your tests. Rather you could use the maven ant run plugin or any other plugin to send a mail after the tests."}],"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699988708,"creation_date":1699988708,"question_id":77483222,"body_markdown":"I am trying to send an email containing a cucumber report after the cucumber tests have run and the report is generated, I was trying to use @AfterClass annotation with junit but it would execute before the report had finished generating so I came accross the following blog post \r\n\r\nI followed a short tutorial outlined on this blog\r\nhttps://mkolisnyk.blogspot.com/2015/05/ploblem-solved-cucumber-jvm-running.html\r\n\r\nThe issue I am facing is, the tests are not being run and the report does not get generated. \r\n\r\nhas anyone completed something like this before? I have implemented the code in the tutorial as outlined and given the correct glue and features paths.\r\n\r\nIf I created a an empty report file everything runs and the email is sent but if I do a clean install, no tests will run and thus the report is never generated \r\n\r\n\r\n","title":"Cucumber custom runner wrapper","body":"<p>I am trying to send an email containing a cucumber report after the cucumber tests have run and the report is generated, I was trying to use @AfterClass annotation with junit but it would execute before the report had finished generating so I came accross the following blog post</p>\n<p>I followed a short tutorial outlined on this blog\n<a href=\"https://mkolisnyk.blogspot.com/2015/05/ploblem-solved-cucumber-jvm-running.html\" rel=\"nofollow noreferrer\">https://mkolisnyk.blogspot.com/2015/05/ploblem-solved-cucumber-jvm-running.html</a></p>\n<p>The issue I am facing is, the tests are not being run and the report does not get generated.</p>\n<p>has anyone completed something like this before? I have implemented the code in the tutorial as outlined and given the correct glue and features paths.</p>\n<p>If I created a an empty report file everything runs and the email is sent but if I do a clean install, no tests will run and thus the report is never generated</p>\n"},{"tags":["java","netty","google-cloud-pubsub","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":28957077,"reputation":25,"user_id":22180410,"display_name":"Mac"},"score":0,"creation_date":1700075133,"post_id":77483195,"comment_id":136611409,"body_markdown":"Yes, ultimately changing the version of Java is what solved it for me. I thought this wasn&#39;t an option for me but fortunately it was on this particular server.","body":"Yes, ultimately changing the version of Java is what solved it for me. I thought this wasn&#39;t an option for me but fortunately it was on this particular server."}],"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699988351,"creation_date":1699988351,"answer_id":77483195,"question_id":77470043,"body_markdown":"There&#39;s some question as to why netty-tcnative isn&#39;t working as part of grpc-netty-shaded. The relevant info there would be printed in logs just before the `IllegalStateException`.\r\n\r\nBut the easier fix is probably to upgrade to Java 8u252 or later.","title":"llegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>There's some question as to why netty-tcnative isn't working as part of grpc-netty-shaded. The relevant info there would be printed in logs just before the <code>IllegalStateException</code>.</p>\n<p>But the easier fix is probably to upgrade to Java 8u252 or later.</p>\n"}],"owner":{"account_id":28957077,"reputation":25,"user_id":22180410,"display_name":"Mac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77483195,"answer_count":1,"score":0,"last_activity_date":1699988351,"creation_date":1699812205,"question_id":77470043,"body_markdown":"I am trying to use Google PubSub. The code is relatively straight forward.\r\n\r\n```java\r\nPubsubMessage message = PubsubMessage.newBuilder()\r\n    .setData(ByteString.copyFromUtf8(messageBody))\r\n    .putAllAttributes(messageAttributes)\r\n    .build();\r\nPublisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId)).build();\r\npublisher.publish(message);\r\n```\r\n\r\nin pom.xml\r\n\r\n```\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;26.25.0&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.93.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;netty-tcnative&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.61.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nPlease note that I only added the two netty dependencies explicitly when this failed to run on a linux server. Not shown here but I also tried adding `netty-tcnative-boringssl-static` dependency as well.\r\n\r\nRunning this code results in the following Exception:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\r\n```\r\nSome information about the server this is running on.\r\n\r\n```shell\r\n$ java -version\r\njava version &quot;1.8.0_77&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_77-b03)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)\r\n\r\n$ nginx -v\r\nnginx version: nginx/1.16.0\r\n\r\n$ lsb_release -a\r\nLSB Version:\t:core-4.1-amd64:core-4.1-noarch\r\nDistributor ID:\tRedHatEnterpriseServer\r\nDescription:\tRed Hat Enterprise Linux Server release 7.5 (Maipo)\r\nRelease:\t7.5\r\nCodename:\tMaipo\r\n```\r\n\r\nA lot of the commentary about how to fix this is related to the versions of netty. From: https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty\r\n\r\n\r\n```\r\nBelow are known to work version combinations:\r\ngrpc-netty version\tnetty-handler version\tnetty-tcnative-boringssl-static version\r\n1.57.x-1.58.x\t        4.1.93.Final\t        2.0.61.Final\r\n```\r\n\r\nThis is the actual dependency tree (there are way more dependencies but these are the only ones that have netty explicitly mentioned:\r\n\r\n```\r\n% mvn dependency:tree\r\n\r\n|  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\r\n|  +- joda-time:joda-time:jar:2.8.1:compile\r\n|  +- com.google.cloud:google-cloud-pubsub:jar:1.125.6:compile\r\n|  |  +- io.grpc:grpc-api:jar:1.58.0:compile\r\n|  |  +- io.grpc:grpc-stub:jar:1.58.0:runtime\r\n|  |  +- io.grpc:grpc-protobuf:jar:1.58.0:compile\r\n|  |  +- io.grpc:grpc-protobuf-lite:jar:1.58.0:compile\r\n|  |  +- com.google.api:api-common:jar:2.18.0:compile\r\n|  |  +- com.google.protobuf:protobuf-java:jar:3.24.3:compile\r\n|  |  +- com.google.api.grpc:proto-google-common-protos:jar:2.26.0:compile\r\n|  |  +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\r\n|  |  +- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\r\n|  |  +- com.google.http-client:google-http-client-gson:jar:1.43.3:compile\r\n|  |  +- com.google.api.grpc:proto-google-cloud-pubsub-v1:jar:1.107.6:compile\r\n|  |  +- com.google.api.grpc:proto-google-iam-v1:jar:1.21.0:compile\r\n|  |  +- com.google.api:gax:jar:2.35.0:compile\r\n|  |  +- com.google.api:gax-grpc:jar:2.35.0:compile\r\n|  |  +- io.grpc:grpc-alts:jar:1.58.0:compile\r\n|  |  +- io.grpc:grpc-grpclb:jar:1.58.0:compile\r\n|  |  +- org.conscrypt:conscrypt-openjdk-uber:jar:2.5.2:compile\r\n|  |  +- io.grpc:grpc-auth:jar:1.58.0:compile\r\n|  |  +- io.grpc:grpc-netty-shaded:jar:1.58.0:compile\r\n|  |  +- io.perfmark:perfmark-api:jar:0.26.0:runtime\r\n|  |  +- io.grpc:grpc-googleapis:jar:1.58.0:runtime\r\n|  |  +- io.grpc:grpc-xds:jar:1.58.0:runtime\r\n|  |  +- io.opencensus:opencensus-proto:jar:0.2.0:runtime\r\n|  |  +- io.grpc:grpc-services:jar:1.58.0:runtime\r\n|  |  +- com.google.re2j:re2j:jar:1.7:runtime\r\n|  |  +- com.google.api:gax-httpjson:jar:2.35.0:compile\r\n|  |  +- com.google.protobuf:protobuf-java-util:jar:3.24.3:compile\r\n|  |  +- org.threeten:threetenbp:jar:1.6.8:compile\r\n|  |  +- io.opencensus:opencensus-api:jar:0.31.1:compile\r\n|  |  +- io.grpc:grpc-context:jar:1.58.0:compile\r\n|  |  +- io.grpc:grpc-inprocess:jar:1.58.0:runtime\r\n|  |  +- io.grpc:grpc-core:jar:1.58.0:compile\r\n|  |  +- com.google.android:annotations:jar:4.1.1.4:runtime\r\n|  |  +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.23:runtime\r\n|  |  +- io.grpc:grpc-util:jar:1.58.0:runtime\r\n|  |  +- com.google.auto.value:auto-value-annotations:jar:1.10.4:compile\r\n|  |  +- com.google.http-client:google-http-client:jar:1.43.3:runtime\r\n|  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n|  |  +- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:runtime\r\n|  |  \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n\r\n+- io.netty:netty-handler:jar:4.1.93.Final:compile\r\n|  +- io.netty:netty-common:jar:4.1.77.Final:compile\r\n|  +- io.netty:netty-resolver:jar:4.1.93.Final:compile\r\n|  +- io.netty:netty-buffer:jar:4.1.93.Final:compile\r\n|  +- io.netty:netty-transport:jar:4.1.93.Final:compile\r\n|  +- io.netty:netty-transport-native-unix-common:jar:4.1.93.Final:compile\r\n|  \\- io.netty:netty-codec:jar:4.1.93.Final:compile\r\n+- io.netty:netty-tcnative:jar:2.0.61.Final:compile\r\n|  \\- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\r\n```","title":"llegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>I am trying to use Google PubSub. The code is relatively straight forward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PubsubMessage message = PubsubMessage.newBuilder()\n    .setData(ByteString.copyFromUtf8(messageBody))\n    .putAllAttributes(messageAttributes)\n    .build();\nPublisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId)).build();\npublisher.publish(message);\n</code></pre>\n<p>in pom.xml</p>\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n        &lt;version&gt;26.25.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      ...\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\n      &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n      &lt;version&gt;4.1.93.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\n      &lt;artifactId&gt;netty-tcnative&lt;/artifactId&gt;\n      &lt;version&gt;2.0.61.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Please note that I only added the two netty dependencies explicitly when this failed to run on a linux server. Not shown here but I also tried adding <code>netty-tcnative-boringssl-static</code> dependency as well.</p>\n<p>Running this code results in the following Exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\n</code></pre>\n<p>Some information about the server this is running on.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -version\njava version &quot;1.8.0_77&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_77-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)\n\n$ nginx -v\nnginx version: nginx/1.16.0\n\n$ lsb_release -a\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID: RedHatEnterpriseServer\nDescription:    Red Hat Enterprise Linux Server release 7.5 (Maipo)\nRelease:    7.5\nCodename:   Maipo\n</code></pre>\n<p>A lot of the commentary about how to fix this is related to the versions of netty. From: <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty</a></p>\n<pre><code>Below are known to work version combinations:\ngrpc-netty version  netty-handler version   netty-tcnative-boringssl-static version\n1.57.x-1.58.x           4.1.93.Final            2.0.61.Final\n</code></pre>\n<p>This is the actual dependency tree (there are way more dependencies but these are the only ones that have netty explicitly mentioned:</p>\n<pre><code>% mvn dependency:tree\n\n|  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\n|  +- joda-time:joda-time:jar:2.8.1:compile\n|  +- com.google.cloud:google-cloud-pubsub:jar:1.125.6:compile\n|  |  +- io.grpc:grpc-api:jar:1.58.0:compile\n|  |  +- io.grpc:grpc-stub:jar:1.58.0:runtime\n|  |  +- io.grpc:grpc-protobuf:jar:1.58.0:compile\n|  |  +- io.grpc:grpc-protobuf-lite:jar:1.58.0:compile\n|  |  +- com.google.api:api-common:jar:2.18.0:compile\n|  |  +- com.google.protobuf:protobuf-java:jar:3.24.3:compile\n|  |  +- com.google.api.grpc:proto-google-common-protos:jar:2.26.0:compile\n|  |  +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\n|  |  +- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\n|  |  +- com.google.http-client:google-http-client-gson:jar:1.43.3:compile\n|  |  +- com.google.api.grpc:proto-google-cloud-pubsub-v1:jar:1.107.6:compile\n|  |  +- com.google.api.grpc:proto-google-iam-v1:jar:1.21.0:compile\n|  |  +- com.google.api:gax:jar:2.35.0:compile\n|  |  +- com.google.api:gax-grpc:jar:2.35.0:compile\n|  |  +- io.grpc:grpc-alts:jar:1.58.0:compile\n|  |  +- io.grpc:grpc-grpclb:jar:1.58.0:compile\n|  |  +- org.conscrypt:conscrypt-openjdk-uber:jar:2.5.2:compile\n|  |  +- io.grpc:grpc-auth:jar:1.58.0:compile\n|  |  +- io.grpc:grpc-netty-shaded:jar:1.58.0:compile\n|  |  +- io.perfmark:perfmark-api:jar:0.26.0:runtime\n|  |  +- io.grpc:grpc-googleapis:jar:1.58.0:runtime\n|  |  +- io.grpc:grpc-xds:jar:1.58.0:runtime\n|  |  +- io.opencensus:opencensus-proto:jar:0.2.0:runtime\n|  |  +- io.grpc:grpc-services:jar:1.58.0:runtime\n|  |  +- com.google.re2j:re2j:jar:1.7:runtime\n|  |  +- com.google.api:gax-httpjson:jar:2.35.0:compile\n|  |  +- com.google.protobuf:protobuf-java-util:jar:3.24.3:compile\n|  |  +- org.threeten:threetenbp:jar:1.6.8:compile\n|  |  +- io.opencensus:opencensus-api:jar:0.31.1:compile\n|  |  +- io.grpc:grpc-context:jar:1.58.0:compile\n|  |  +- io.grpc:grpc-inprocess:jar:1.58.0:runtime\n|  |  +- io.grpc:grpc-core:jar:1.58.0:compile\n|  |  +- com.google.android:annotations:jar:4.1.1.4:runtime\n|  |  +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.23:runtime\n|  |  +- io.grpc:grpc-util:jar:1.58.0:runtime\n|  |  +- com.google.auto.value:auto-value-annotations:jar:1.10.4:compile\n|  |  +- com.google.http-client:google-http-client:jar:1.43.3:runtime\n|  |  +- commons-logging:commons-logging:jar:1.2:compile\n|  |  +- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:runtime\n|  |  \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n\n+- io.netty:netty-handler:jar:4.1.93.Final:compile\n|  +- io.netty:netty-common:jar:4.1.77.Final:compile\n|  +- io.netty:netty-resolver:jar:4.1.93.Final:compile\n|  +- io.netty:netty-buffer:jar:4.1.93.Final:compile\n|  +- io.netty:netty-transport:jar:4.1.93.Final:compile\n|  +- io.netty:netty-transport-native-unix-common:jar:4.1.93.Final:compile\n|  \\- io.netty:netty-codec:jar:4.1.93.Final:compile\n+- io.netty:netty-tcnative:jar:2.0.61.Final:compile\n|  \\- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\n</code></pre>\n"},{"tags":["java","firebase","firebase-authentication","annotations"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700036298,"post_id":77483128,"comment_id":136604270,"body_markdown":"So you basically say that when you add the `firebase-auth` dependency those imports doesn&#39;t work anymore?","body":"So you basically say that when you add the <code>firebase-auth</code> dependency those imports doesn&#39;t work anymore?"},{"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"score":0,"creation_date":1700049826,"post_id":77483128,"comment_id":136606577,"body_markdown":"@AlexMamo Exactly, I spent all day solving the problem and I couldn&#39;t.","body":"@AlexMamo Exactly, I spent all day solving the problem and I couldn&#39;t."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700049972,"post_id":77483128,"comment_id":136606608,"body_markdown":"Never encounter such a problem. Those imports are from different classes and different packages.","body":"Never encounter such a problem. Those imports are from different classes and different packages."},{"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"score":0,"creation_date":1700050313,"post_id":77483128,"comment_id":136606655,"body_markdown":"@AlexMamo This is what I thought, but once I add firebase-auth or upgrade firebase-messaging to 23.3.1 this is what happens unfortunately, I don&#39;t really understand why.","body":"@AlexMamo This is what I thought, but once I add firebase-auth or upgrade firebase-messaging to 23.3.1 this is what happens unfortunately, I don&#39;t really understand why."},{"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"score":0,"creation_date":1700050557,"post_id":77483128,"comment_id":136606696,"body_markdown":"@AlexMamo If you have a little time, I can share my computer in AnyDesk so you can see the problem for yourself.\nKnowing that the application works without any problems without adding firebase-auth","body":"@AlexMamo If you have a little time, I can share my computer in AnyDesk so you can see the problem for yourself. Knowing that the application works without any problems without adding firebase-auth"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700051138,"post_id":77483128,"comment_id":136606783,"body_markdown":"Write me on LinkedIn.","body":"Write me on LinkedIn."},{"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"score":0,"creation_date":1700052512,"post_id":77483128,"comment_id":136607019,"body_markdown":"@AlexMamo I have sent you","body":"@AlexMamo I have sent you"}],"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699987617,"creation_date":1699987617,"question_id":77483128,"body_markdown":"1- My problem is simple: I want to add this library to my application:\r\n\r\n     implementation &#39;com.google.firebase:firebase-auth:22.2.0&#39;\r\n\r\nBut unfortunately, when it is installed and synchronized, the codes for this library are:\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n\r\nIt turns red and an error appears in its codes, and as you know, most of these codes are in AdMob advertisements.\r\nNote: I tried using an older version of the library: firebase-auth, and the error from the annotation library disappeared, but the application no longer works and a very long error report appears.\r\n\r\n2- I also use this library:\r\n\r\n     implementation &#39;com.google.firebase:firebase-messaging:17.3.4&#39;\r\n\r\nIf you use a recent version such as:\r\n\r\n      implementation &#39;com.google.firebase:firebase-messaging:23.3.1&#39;\r\n\r\nThe previous problem also occurs.\r\n\r\n\r\nHow can this problem be solved? I do not know. I have asked AI repeatedly and have not found a solution","title":"Problem with firebase libraries in android studio","body":"<p>1- My problem is simple: I want to add this library to my application:</p>\n<pre><code> implementation 'com.google.firebase:firebase-auth:22.2.0'\n</code></pre>\n<p>But unfortunately, when it is installed and synchronized, the codes for this library are:</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n</code></pre>\n<p>It turns red and an error appears in its codes, and as you know, most of these codes are in AdMob advertisements.\nNote: I tried using an older version of the library: firebase-auth, and the error from the annotation library disappeared, but the application no longer works and a very long error report appears.</p>\n<p>2- I also use this library:</p>\n<pre><code> implementation 'com.google.firebase:firebase-messaging:17.3.4'\n</code></pre>\n<p>If you use a recent version such as:</p>\n<pre><code>  implementation 'com.google.firebase:firebase-messaging:23.3.1'\n</code></pre>\n<p>The previous problem also occurs.</p>\n<p>How can this problem be solved? I do not know. I have asked AI repeatedly and have not found a solution</p>\n"},{"tags":["java","android","in-app-billing"],"answers":[{"tags":[],"owner":{"account_id":22590707,"reputation":16,"user_id":16773865,"display_name":"Shiv Shambhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630591744,"creation_date":1630591744,"answer_id":69031928,"question_id":68470456,"body_markdown":"**Android In-App Billing Library v4+**\r\n\r\nA simple implementation of the Android In-App Billing API.\r\n\r\n**Getting Started**\r\n\r\n● Add the dependency in your app&#39;s build.gradle file:\r\n```\r\ndependencies {\r\n    implementation &#39;com.github.moisoni97:google-inapp-billing:1.0.5&#39;\r\n}\r\n```\r\n\r\n● Create an instance of BillingConnector class. Constructor will take 2 parameters:\r\n\r\n     ● Context\r\n     ● License key from *Play Console*\r\n\r\n```\r\nbillingConnector = new BillingConnector(this, &quot;license_key&quot;)\r\n                .setConsumableIds(consumableIds)\r\n                .setNonConsumableIds(nonConsumableIds)\r\n                .setSubscriptionIds(subscriptionIds)\r\n                .autoAcknowledge()\r\n                .autoConsume()\r\n                .enableLogging()\r\n                .connect();\r\n```\r\n\r\nMore Info. on Github :- https://github.com/Mahadev-code/Android-inApp-Billing","title":"Need Guidance on Implementing In-App Billing and Server Verification in Android (Java)","body":"<p><strong>Android In-App Billing Library v4+</strong></p>\n<p>A simple implementation of the Android In-App Billing API.</p>\n<p><strong>Getting Started</strong></p>\n<p>● Add the dependency in your app's build.gradle file:</p>\n<pre><code>dependencies {\n    implementation 'com.github.moisoni97:google-inapp-billing:1.0.5'\n}\n</code></pre>\n<p>● Create an instance of BillingConnector class. Constructor will take 2 parameters:</p>\n<pre><code> ● Context\n ● License key from *Play Console*\n</code></pre>\n<pre><code>billingConnector = new BillingConnector(this, &quot;license_key&quot;)\n                .setConsumableIds(consumableIds)\n                .setNonConsumableIds(nonConsumableIds)\n                .setSubscriptionIds(subscriptionIds)\n                .autoAcknowledge()\n                .autoConsume()\n                .enableLogging()\n                .connect();\n</code></pre>\n<p>More Info. on Github :- <a href=\"https://github.com/Mahadev-code/Android-inApp-Billing\" rel=\"nofollow noreferrer\">https://github.com/Mahadev-code/Android-inApp-Billing</a></p>\n"}],"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69031928,"answer_count":1,"score":0,"last_activity_date":1699987532,"creation_date":1626874371,"question_id":68470456,"body_markdown":"I&#39;m relatively new to in-app billing and payments on Android, specifically dealing with Google&#39;s services. I&#39;ve been following the documentation provided by Google here, but I&#39;m encountering challenges in implementing server-side verification for subscriptions.\r\n\r\nWhat I&#39;ve done so far:\r\n\r\n 1. I&#39;ve closely followed the steps outlined in the official\r\n    documentation.\r\n 2. I&#39;m facing difficulties verifying subscriptions on the back-end.\r\n 3. During testing, I&#39;m unable to retrieve meaningful logs.\r\n 4. Testing is limited to internal testing, and I&#39;m unable to find\r\n    adequate tutorials that align with the new version (V3) or are\r\n    easily comprehensible.\r\n\r\nI&#39;m seeking assistance in understanding the implementation details and server-side verification process, particularly in Java.\r\n\r\nAny guidance, corrections, or up-to-date tutorials would be greatly appreciated. I&#39;m also interested in learning how to effectively test the application without the restriction of internal testing only.","title":"Need Guidance on Implementing In-App Billing and Server Verification in Android (Java)","body":"<p>I'm relatively new to in-app billing and payments on Android, specifically dealing with Google's services. I've been following the documentation provided by Google here, but I'm encountering challenges in implementing server-side verification for subscriptions.</p>\n<p>What I've done so far:</p>\n<ol>\n<li>I've closely followed the steps outlined in the official\ndocumentation.</li>\n<li>I'm facing difficulties verifying subscriptions on the back-end.</li>\n<li>During testing, I'm unable to retrieve meaningful logs.</li>\n<li>Testing is limited to internal testing, and I'm unable to find\nadequate tutorials that align with the new version (V3) or are\neasily comprehensible.</li>\n</ol>\n<p>I'm seeking assistance in understanding the implementation details and server-side verification process, particularly in Java.</p>\n<p>Any guidance, corrections, or up-to-date tutorials would be greatly appreciated. I'm also interested in learning how to effectively test the application without the restriction of internal testing only.</p>\n"},{"tags":["java","android","date","datetime-parsing","unparseable"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498157729,"creation_date":1498157729,"answer_id":44707327,"question_id":40025528,"body_markdown":"Your `deptdt` contains `Oct` which looks like an English month name.\r\nBut your `Locale.getDefault()` probably gives a non-english locale.\r\nReplace it by `Locale.ENGLISH` or `Locale.US`:\r\n    \r\n    SimpleDateFormat dtfmt=new SimpleDateFormat(&quot;dd MMM yyyy hh:mm a&quot;, Locale.ENGLISH);\r\n    Date dt=dtfmt.parse(deptdt);\r\n    ","title":"java.text.ParseException: Unparseable date: java.text.DateFormat.parse(DateFormat.java:579)","body":"<p>Your <code>deptdt</code> contains <code>Oct</code> which looks like an English month name.\nBut your <code>Locale.getDefault()</code> probably gives a non-english locale.\nReplace it by <code>Locale.ENGLISH</code> or <code>Locale.US</code>:</p>\n\n<pre><code>SimpleDateFormat dtfmt=new SimpleDateFormat(\"dd MMM yyyy hh:mm a\", Locale.ENGLISH);\nDate dt=dtfmt.parse(deptdt);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498158345,"creation_date":1498157930,"answer_id":44707392,"question_id":40025528,"body_markdown":"It probably happens because the phone&#39;s default locale is not English, and the month name in your input is (`Oct`).\r\n\r\nThe solution is to explicity use the English locale:\r\n\r\n    SimpleDateFormat dtfmt = new SimpleDateFormat(&quot;dd MMM yyyy hh:mm a&quot;, Locale.ENGLISH);\r\n    Date dt = dtfmt.parse(&quot;24 Oct 2016 7:31 pm&quot;);\r\n\r\n---\r\n\r\nInstead of directly working with `SimpleDateFormat` (as this old API has [lots of problems](https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess) and [design issues](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api)), you can use the [ThreeTen Backport](http://www.threeten.org/threetenbp/), a great backport for Java 8&#39;s new date/time classes. To use it in **Android**, you&#39;ll also need the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (more on how to use it [here](https://stackoverflow.com/a/38922755/7605325)).\r\n\r\nThe main classes to be used are `org.threeten.bp.LocalDateTime` (it seems the best choice, as you have date and time fields in your input) and `org.threeten.bp.format.DateTimeFormatter` (to parse the input). I also use `java.util.Locale` class to make sure it parse the month names in English, and the `org.threeten.bp.format.DateTimeFormatterBuilder` to make sure it parses `pm` (make it case insensitive, as the default is `PM`):\r\n\r\n    DateTimeFormatter fmt = new DateTimeFormatterBuilder()\r\n        // case insensitive to parse &quot;pm&quot;\r\n        .parseCaseInsensitive()\r\n        // pattern\r\n        .appendPattern(&quot;dd MMM yyyy h:mm a&quot;)\r\n        // use English locale to parse month name (Oct)\r\n        .toFormatter(Locale.ENGLISH);\r\n    // parse input\r\n    LocalDateTime dt = LocalDateTime.parse(&quot;24 Oct 2016 7:31 pm&quot;, fmt);\r\n    System.out.println(dt); // 2016-10-24T19:31\r\n\r\nThe output will be:\r\n\r\n&gt; 2016-10-24T19:31\r\n\r\nIf you need to convert this to a `java.util.Date`, you can use the `org.threeten.bp.DateTimeUtils` class. But you also need to know what timezone will be used to convert this. In the example below, I&#39;m using &quot;UTC&quot;:\r\n\r\n    Date date = DateTimeUtils.toDate(dt.atZone(ZoneOffset.UTC).toInstant());\r\n\r\nTo change to a different zone, you can do:\r\n\r\n    Date date = DateTimeUtils.toDate(dt.atZone(ZoneId.of(&quot;Europe/London&quot;)).toInstant());\r\n\r\nNote that the API uses [IANA timezones names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) (always in the format `Continent/City`, like `America/Sao_Paulo` or `Europe/Berlin`).\r\nAvoid using the 3-letter abbreviations (like `CST` or `PST`) because they are [ambiguous and not standard](https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231). To find the timezone that better suits each region, use the `ZoneId.getAvailableZoneIds()` method and check which one fits best for your use cases.\r\n\r\n**PS:** the last example above (`dt.atZone(ZoneId.of(&quot;Europe/London&quot;))`) will create the date/time `2016-10-24T19:31` in London timezone. But if what you want is `2016-10-24T19:31` in UTC, then convert it to another timezone, then you should do:\r\n\r\n    Date date = DateTimeUtils.toDate(dt\r\n        // first convert it to UTC\r\n        .toInstant(ZoneOffset.UTC)\r\n        // then convert to LondonTimezone\r\n        .atZone(ZoneId.of(&quot;Europe/London&quot;)).toInstant());\r\n\r\n","title":"java.text.ParseException: Unparseable date: java.text.DateFormat.parse(DateFormat.java:579)","body":"<p>It probably happens because the phone's default locale is not English, and the month name in your input is (<code>Oct</code>).</p>\n\n<p>The solution is to explicity use the English locale:</p>\n\n<pre><code>SimpleDateFormat dtfmt = new SimpleDateFormat(\"dd MMM yyyy hh:mm a\", Locale.ENGLISH);\nDate dt = dtfmt.parse(\"24 Oct 2016 7:31 pm\");\n</code></pre>\n\n<hr>\n\n<p>Instead of directly working with <code>SimpleDateFormat</code> (as this old API has <a href=\"https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess\">lots of problems</a> and <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">design issues</a>), you can use the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>, a great backport for Java 8's new date/time classes. To use it in <strong>Android</strong>, you'll also need the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (more on how to use it <a href=\"https://stackoverflow.com/a/38922755/7605325\">here</a>).</p>\n\n<p>The main classes to be used are <code>org.threeten.bp.LocalDateTime</code> (it seems the best choice, as you have date and time fields in your input) and <code>org.threeten.bp.format.DateTimeFormatter</code> (to parse the input). I also use <code>java.util.Locale</code> class to make sure it parse the month names in English, and the <code>org.threeten.bp.format.DateTimeFormatterBuilder</code> to make sure it parses <code>pm</code> (make it case insensitive, as the default is <code>PM</code>):</p>\n\n<pre><code>DateTimeFormatter fmt = new DateTimeFormatterBuilder()\n    // case insensitive to parse \"pm\"\n    .parseCaseInsensitive()\n    // pattern\n    .appendPattern(\"dd MMM yyyy h:mm a\")\n    // use English locale to parse month name (Oct)\n    .toFormatter(Locale.ENGLISH);\n// parse input\nLocalDateTime dt = LocalDateTime.parse(\"24 Oct 2016 7:31 pm\", fmt);\nSystem.out.println(dt); // 2016-10-24T19:31\n</code></pre>\n\n<p>The output will be:</p>\n\n<blockquote>\n  <p>2016-10-24T19:31</p>\n</blockquote>\n\n<p>If you need to convert this to a <code>java.util.Date</code>, you can use the <code>org.threeten.bp.DateTimeUtils</code> class. But you also need to know what timezone will be used to convert this. In the example below, I'm using \"UTC\":</p>\n\n<pre><code>Date date = DateTimeUtils.toDate(dt.atZone(ZoneOffset.UTC).toInstant());\n</code></pre>\n\n<p>To change to a different zone, you can do:</p>\n\n<pre><code>Date date = DateTimeUtils.toDate(dt.atZone(ZoneId.of(\"Europe/London\")).toInstant());\n</code></pre>\n\n<p>Note that the API uses <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">IANA timezones names</a> (always in the format <code>Continent/City</code>, like <code>America/Sao_Paulo</code> or <code>Europe/Berlin</code>).\nAvoid using the 3-letter abbreviations (like <code>CST</code> or <code>PST</code>) because they are <a href=\"https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231\">ambiguous and not standard</a>. To find the timezone that better suits each region, use the <code>ZoneId.getAvailableZoneIds()</code> method and check which one fits best for your use cases.</p>\n\n<p><strong>PS:</strong> the last example above (<code>dt.atZone(ZoneId.of(\"Europe/London\"))</code>) will create the date/time <code>2016-10-24T19:31</code> in London timezone. But if what you want is <code>2016-10-24T19:31</code> in UTC, then convert it to another timezone, then you should do:</p>\n\n<pre><code>Date date = DateTimeUtils.toDate(dt\n    // first convert it to UTC\n    .toInstant(ZoneOffset.UTC)\n    // then convert to LondonTimezone\n    .atZone(ZoneId.of(\"Europe/London\")).toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699987400,"creation_date":1609621371,"answer_id":65544056,"question_id":40025528,"body_markdown":"## Always specify a `Locale` with a `SimpleDateFormat`, and a `DateTimeFormatter` for custom formats.\r\n\r\nSince the given date-time is in English, you should use `Locale.ENGLISH` with your date-time parser; otherwise, the parsing will fail in a system (computer, phone etc.) that is using a non-English type of locale.\r\n\r\nAlso, note that the date-time API of `java.util` and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n  - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n  - If you are working on an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n**Demo:**\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;\r\n    \t\tDateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n    \t\t\t\t.parseCaseInsensitive()\t\t\t\t// For case-insensitive (e.g. am, Am, AM) parsing \r\n    \t\t\t\t.appendPattern(&quot;d MMM uuuu h:m a&quot;)  // Pattern conforming to the date-time string\r\n    \t\t\t\t.toFormatter(Locale.ENGLISH);       // Locale\r\n    \t\tLocalDateTime ldt = LocalDateTime.parse(strDateTime, dtf);\r\n    \t\tSystem.out.println(ldt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2016-10-24T19:31\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/B1rNDn)\r\n\r\nBy default, [`DateTimeFormatter#ofPattern`][1] uses the [default FORMAT locale][2] which the JVM sets during startup based on the host environment. Same is the case with [`SimpleDateFormat`][3]. I have tried to illustrate the problem through the following demo:\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;    \t\t\r\n    \t\tDateTimeFormatter dtfWithDefaultLocale = null;    \t\t\r\n    \r\n    \t\tSystem.out.println(&quot;JVM&#39;s Locale: &quot; + Locale.getDefault());\r\n    \t\t// Using DateTimeFormatter with the default Locale\r\n    \t\tdtfWithDefaultLocale = getDateTimeFormatterWithDefaultLocale();\r\n    \t\tSystem.out.println(&quot;DateTimeFormatter&#39;s Locale: &quot; + dtfWithDefaultLocale.getLocale());\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;Parsed with JVM&#39;s default locale: &quot; + LocalDateTime.parse(strDateTime, dtfWithDefaultLocale));\r\n    \r\n    \t\t// Setting the JVM&#39;s default locale to Locale.FRANCE\r\n    \t\tLocale.setDefault(Locale.FRANCE);\r\n    \t\t\r\n    \t\t// Using DateTimeFormatter with Locale.ENGLISH explicitly (recommended)\r\n    \t\tDateTimeFormatter dtfWithEnglishLocale = getDateTimeFormatterWithEnglishLocale();\r\n    \t\tSystem.out.println(&quot;JVM&#39;s Locale: &quot; + Locale.getDefault());\r\n    \t\tSystem.out.println(&quot;DateTimeFormatter&#39;s Locale: &quot; + dtfWithEnglishLocale.getLocale());\r\n    \t\tLocalDateTime zdt = LocalDateTime.parse(strDateTime, dtfWithEnglishLocale);\r\n    \t\tSystem.out.println(&quot;Parsed with Locale.ENGLISH: &quot; + zdt);\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;JVM&#39;s Locale: &quot; + Locale.getDefault());\r\n    \t\t// Using DateTimeFormatter with the default Locale\r\n    \t\tdtfWithDefaultLocale = getDateTimeFormatterWithDefaultLocale();\r\n    \t\tSystem.out.println(&quot;DateTimeFormatter&#39;s Locale: &quot; + dtfWithDefaultLocale.getLocale());\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;Parsed with JVM&#39;s default locale: &quot; + LocalDateTime.parse(strDateTime, dtfWithDefaultLocale));\r\n    \t}\r\n    \t\r\n    \tstatic DateTimeFormatter getDateTimeFormatterWithDefaultLocale() {\r\n    \t\treturn new DateTimeFormatterBuilder()\r\n    \t\t\t\t.parseCaseInsensitive()\t\t\t\t\r\n    \t\t\t\t.appendPattern(&quot;d MMM uuuu h:m a&quot;) \r\n    \t\t\t\t.toFormatter(); // Using default Locale\r\n    \t}\r\n    \t\r\n    \tstatic DateTimeFormatter getDateTimeFormatterWithEnglishLocale() {\r\n    \t\treturn new DateTimeFormatterBuilder()\r\n    \t\t\t\t.parseCaseInsensitive()\t\t\t\t\r\n    \t\t\t\t.appendPattern(&quot;d MMM uuuu h:m a&quot;) \r\n    \t\t\t\t.toFormatter(Locale.ENGLISH); // Using Locale.ENGLISH\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    JVM&#39;s Locale: en_GB\r\n    DateTimeFormatter&#39;s Locale: en_GB\r\n    Parsed with JVM&#39;s default locale: 2016-10-24T19:31\r\n    JVM&#39;s Locale: fr_FR\r\n    DateTimeFormatter&#39;s Locale: en\r\n    Parsed with Locale.ENGLISH: 2016-10-24T19:31\r\n    JVM&#39;s Locale: fr_FR\r\n    DateTimeFormatter&#39;s Locale: fr_FR\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;24 Oct 2016 7:31 pm&#39; could not be parsed at index 3\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\r\n    \tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n    \tat Main.main(Main.java:34)\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/esJOmH)\r\n\r\n***\r\n**The following demo, using `SimpleDateFormat`, is just for the sake of completeness:**\r\n   \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tfinal String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;d MMM yyyy h:m a&quot;, Locale.ENGLISH);\r\n    \t\tDate date = sdf.parse(strDateTime);\r\n    \t\tSystem.out.println(date);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Mon Oct 24 19:31:00 BST 2016\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/1kDonH)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDefault-java.util.Locale.Category-\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String)\r\n\r\n---\r\n&lt;sub&gt;**Note**: [Predefined Formatters](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) do not accept Locale (i.e. they work with the system&#39;s `Locale`).&lt;/sub&gt;","title":"java.text.ParseException: Unparseable date: java.text.DateFormat.parse(DateFormat.java:579)","body":"<h2>Always specify a <code>Locale</code> with a <code>SimpleDateFormat</code>, and a <code>DateTimeFormatter</code> for custom formats.</h2>\n<p>Since the given date-time is in English, you should use <code>Locale.ENGLISH</code> with your date-time parser; otherwise, the parsing will fail in a system (computer, phone etc.) that is using a non-English type of locale.</p>\n<p>Also, note that the date-time API of <code>java.util</code> and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working on an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;\n        DateTimeFormatter dtf = new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()             // For case-insensitive (e.g. am, Am, AM) parsing \n                .appendPattern(&quot;d MMM uuuu h:m a&quot;)  // Pattern conforming to the date-time string\n                .toFormatter(Locale.ENGLISH);       // Locale\n        LocalDateTime ldt = LocalDateTime.parse(strDateTime, dtf);\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2016-10-24T19:31\n</code></pre>\n<p><a href=\"https://ideone.com/B1rNDn\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>By default, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter#ofPattern</code></a> uses the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDefault-java.util.Locale.Category-\" rel=\"nofollow noreferrer\">default FORMAT locale</a> which the JVM sets during startup based on the host environment. Same is the case with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String)\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>. I have tried to illustrate the problem through the following demo:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;           \n        DateTimeFormatter dtfWithDefaultLocale = null;          \n\n        System.out.println(&quot;JVM's Locale: &quot; + Locale.getDefault());\n        // Using DateTimeFormatter with the default Locale\n        dtfWithDefaultLocale = getDateTimeFormatterWithDefaultLocale();\n        System.out.println(&quot;DateTimeFormatter's Locale: &quot; + dtfWithDefaultLocale.getLocale());\n        System.out.println(\n                &quot;Parsed with JVM's default locale: &quot; + LocalDateTime.parse(strDateTime, dtfWithDefaultLocale));\n\n        // Setting the JVM's default locale to Locale.FRANCE\n        Locale.setDefault(Locale.FRANCE);\n        \n        // Using DateTimeFormatter with Locale.ENGLISH explicitly (recommended)\n        DateTimeFormatter dtfWithEnglishLocale = getDateTimeFormatterWithEnglishLocale();\n        System.out.println(&quot;JVM's Locale: &quot; + Locale.getDefault());\n        System.out.println(&quot;DateTimeFormatter's Locale: &quot; + dtfWithEnglishLocale.getLocale());\n        LocalDateTime zdt = LocalDateTime.parse(strDateTime, dtfWithEnglishLocale);\n        System.out.println(&quot;Parsed with Locale.ENGLISH: &quot; + zdt);\n\n        \n        System.out.println(&quot;JVM's Locale: &quot; + Locale.getDefault());\n        // Using DateTimeFormatter with the default Locale\n        dtfWithDefaultLocale = getDateTimeFormatterWithDefaultLocale();\n        System.out.println(&quot;DateTimeFormatter's Locale: &quot; + dtfWithDefaultLocale.getLocale());\n        System.out.println(\n                &quot;Parsed with JVM's default locale: &quot; + LocalDateTime.parse(strDateTime, dtfWithDefaultLocale));\n    }\n    \n    static DateTimeFormatter getDateTimeFormatterWithDefaultLocale() {\n        return new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()             \n                .appendPattern(&quot;d MMM uuuu h:m a&quot;) \n                .toFormatter(); // Using default Locale\n    }\n    \n    static DateTimeFormatter getDateTimeFormatterWithEnglishLocale() {\n        return new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()             \n                .appendPattern(&quot;d MMM uuuu h:m a&quot;) \n                .toFormatter(Locale.ENGLISH); // Using Locale.ENGLISH\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>JVM's Locale: en_GB\nDateTimeFormatter's Locale: en_GB\nParsed with JVM's default locale: 2016-10-24T19:31\nJVM's Locale: fr_FR\nDateTimeFormatter's Locale: en\nParsed with Locale.ENGLISH: 2016-10-24T19:31\nJVM's Locale: fr_FR\nDateTimeFormatter's Locale: fr_FR\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '24 Oct 2016 7:31 pm' could not be parsed at index 3\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\n    at Main.main(Main.java:34)\n</code></pre>\n<p><a href=\"https://ideone.com/esJOmH\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<hr />\n<p><strong>The following demo, using <code>SimpleDateFormat</code>, is just for the sake of completeness:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws ParseException {\n        final String strDateTime = &quot;24 Oct 2016 7:31 pm&quot;;\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;d MMM yyyy h:m a&quot;, Locale.ENGLISH);\n        Date date = sdf.parse(strDateTime);\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Mon Oct 24 19:31:00 BST 2016\n</code></pre>\n<p><a href=\"https://ideone.com/1kDonH\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<hr />\n<p><sub><strong>Note</strong>: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">Predefined Formatters</a> do not accept Locale (i.e. they work with the system's <code>Locale</code>).</sub></p>\n"}],"owner":{"account_id":9431236,"reputation":31,"user_id":7014722,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1699987400,"creation_date":1476373583,"question_id":40025528,"body_markdown":"I have problem with `SimpleDateFormat`.\r\n\r\n    SimpleDateFormat dtfmt=new SimpleDateFormat(&quot;dd MMM yyyy hh:mm a&quot;, Locale.getDefault());\r\n    Date dt=dtfmt.parse(deptdt);\r\n\r\nIn Android Emulator works fine but in phone I have this error:\r\n\r\n&gt; W/System.err: java.text.ParseException: Unparseable date: &quot;24 Oct 2016 7:31 pm&quot; (at offset 3)\r\nW/System.err:     at java.text.DateFormat.parse(DateFormat.java:579)\r\n\r\n\r\nAny solution?","title":"java.text.ParseException: Unparseable date: java.text.DateFormat.parse(DateFormat.java:579)","body":"<p>I have problem with <code>SimpleDateFormat</code>.</p>\n\n<pre><code>SimpleDateFormat dtfmt=new SimpleDateFormat(\"dd MMM yyyy hh:mm a\", Locale.getDefault());\nDate dt=dtfmt.parse(deptdt);\n</code></pre>\n\n<p>In Android Emulator works fine but in phone I have this error:</p>\n\n<blockquote>\n  <p>W/System.err: java.text.ParseException: Unparseable date: \"24 Oct 2016 7:31 pm\" (at offset 3)\n  W/System.err:     at java.text.DateFormat.parse(DateFormat.java:579)</p>\n</blockquote>\n\n<p>Any solution?</p>\n"},{"tags":["java","datetime","format","timestamp"],"comments":[{"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"score":2,"creation_date":1322758112,"post_id":8345023,"comment_id":10291272,"body_markdown":"If you create SimpleDateFormat in the scope of a method it will be threadsafe...","body":"If you create SimpleDateFormat in the scope of a method it will be threadsafe..."}],"answers":[{"comments":[{"owner":{"account_id":369704,"reputation":4959,"user_id":717236,"accept_rate":72,"display_name":"user717236"},"score":1,"creation_date":1322759701,"post_id":8345074,"comment_id":10291881,"body_markdown":"Thank you for your help.  This worked, thank you!  I appreciate your detailed, concise account of thread safety, with respect to SimpleDateFormat.  You&#39;re view on Timestamp is use it exclusively for SQL.  That makes perfect sense.  Thank you for your wisdom.","body":"Thank you for your help.  This worked, thank you!  I appreciate your detailed, concise account of thread safety, with respect to SimpleDateFormat.  You&#39;re view on Timestamp is use it exclusively for SQL.  That makes perfect sense.  Thank you for your wisdom."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1361961582,"creation_date":1322758096,"answer_id":8345074,"question_id":8345023,"body_markdown":"The threadunsafety of `SimpleDateFormat` should not be an issue if you just create it inside the very same method block as you use it. In other words, you are *not* assigning it as static or instance variable of a class and reusing it in one or more methods which can be invoked by multiple threads. Only this way the threadunsafety of `SimpleDateFormat` will be exposed. You can however safely reuse the same `SimpleDateFormat` instance within the very same method block as it would be accessed by the current thread only.\r\n\r\nAlso, the `java.sql.Timestamp` class which you&#39;re using there should not be abused as it&#39;s specific to the JDBC API in order to be able to store or retrieve a `TIMESTAMP`/`DATETIME` column type in a SQL database and convert it from/to `java.util.Date`.\r\n\r\nSo, this should do:\r\n\r\n    Date date = new Date();\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy h:mm:ss a&quot;);\r\n    String formattedDate = sdf.format(date);\r\n    System.out.println(formattedDate); // 12/01/2011 4:48:16 PM\r\n","title":"Need to get current timestamp in Java","body":"<p>The threadunsafety of <code>SimpleDateFormat</code> should not be an issue if you just create it inside the very same method block as you use it. In other words, you are <em>not</em> assigning it as static or instance variable of a class and reusing it in one or more methods which can be invoked by multiple threads. Only this way the threadunsafety of <code>SimpleDateFormat</code> will be exposed. You can however safely reuse the same <code>SimpleDateFormat</code> instance within the very same method block as it would be accessed by the current thread only.</p>\n\n<p>Also, the <code>java.sql.Timestamp</code> class which you're using there should not be abused as it's specific to the JDBC API in order to be able to store or retrieve a <code>TIMESTAMP</code>/<code>DATETIME</code> column type in a SQL database and convert it from/to <code>java.util.Date</code>.</p>\n\n<p>So, this should do:</p>\n\n<pre><code>Date date = new Date();\nSimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy h:mm:ss a\");\nString formattedDate = sdf.format(date);\nSystem.out.println(formattedDate); // 12/01/2011 4:48:16 PM\n</code></pre>\n"},{"comments":[{"owner":{"account_id":369704,"reputation":4959,"user_id":717236,"accept_rate":72,"display_name":"user717236"},"score":0,"creation_date":1322760199,"post_id":8345138,"comment_id":10292045,"body_markdown":"I wish I can give you a checkmark, as well, as you deserve one, too.  Your knowledge of this subject is invaluable to myself and others who will read this question.  Thank you very much for your time and help.","body":"I wish I can give you a checkmark, as well, as you deserve one, too.  Your knowledge of this subject is invaluable to myself and others who will read this question.  Thank you very much for your time and help."}],"tags":[],"owner":{"account_id":8410,"reputation":13778,"user_id":1252368,"accept_rate":75,"display_name":"Daniel Schneller"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1322758325,"creation_date":1322758325,"answer_id":8345138,"question_id":8345023,"body_markdown":"The fact that `SimpleDateFormat` is not thread-safe does not mean you cannot use it.\r\nWhat that only means is that you must not use a single (potentially, but not necessarily `static`) instance that gets accessed from several threads at once.\r\n\r\nInstead, just make sure you create a fresh `SimpleDateFormat` for each thread. Instances created as local variables inside a method are safe by definition, because they cannot be reached from any concurrent threads.\r\n\r\nYou _might_ want to take a look at the `ThreadLocal` class, although I would recommend to just create a new instance wherever you need one. You can, of course, have the format definition defined as a `static final String DATE_FORMAT_PATTERN = &quot;...&quot;;` somewhere and use that for each new instance. ","title":"Need to get current timestamp in Java","body":"<p>The fact that <code>SimpleDateFormat</code> is not thread-safe does not mean you cannot use it.\nWhat that only means is that you must not use a single (potentially, but not necessarily <code>static</code>) instance that gets accessed from several threads at once.</p>\n\n<p>Instead, just make sure you create a fresh <code>SimpleDateFormat</code> for each thread. Instances created as local variables inside a method are safe by definition, because they cannot be reached from any concurrent threads.</p>\n\n<p>You <em>might</em> want to take a look at the <code>ThreadLocal</code> class, although I would recommend to just create a new instance wherever you need one. You can, of course, have the format definition defined as a <code>static final String DATE_FORMAT_PATTERN = \"...\";</code> somewhere and use that for each new instance. </p>\n"},{"comments":[{"owner":{"account_id":369704,"reputation":4959,"user_id":717236,"accept_rate":72,"display_name":"user717236"},"score":0,"creation_date":1322759327,"post_id":8345187,"comment_id":10291748,"body_markdown":"Thank you for your help.  Unfortunately, this did not work.  I got the error of &quot;The method Format(String, Date) is undefined for the type String&quot;.  It expects object type, not date type.","body":"Thank you for your help.  Unfortunately, this did not work.  I got the error of &quot;The method Format(String, Date) is undefined for the type String&quot;.  It expects object type, not date type."},{"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"score":3,"creation_date":1322761313,"post_id":8345187,"comment_id":10292399,"body_markdown":"Try with a lower-case &quot;f&quot; for String.format(...).  Method names in java start with a lower-case letter by convention.","body":"Try with a lower-case &quot;f&quot; for String.format(...).  Method names in java start with a lower-case letter by convention."},{"owner":{"account_id":369704,"reputation":4959,"user_id":717236,"accept_rate":72,"display_name":"user717236"},"score":2,"creation_date":1322762505,"post_id":8345187,"comment_id":10292797,"body_markdown":"Thank you very much.  I tried String str = String.format(&quot;{0:dddd, MMMM d, yyyy hh:mm tt}&quot;, new Date()); and str takes the value of {0:dddd, MMMM d, yyyy hh:mm tt}.  That is, it did not work.","body":"Thank you very much.  I tried String str = String.format(&quot;{0:dddd, MMMM d, yyyy hh:mm tt}&quot;, new Date()); and str takes the value of {0:dddd, MMMM d, yyyy hh:mm tt}.  That is, it did not work."}],"tags":[],"owner":{"account_id":988163,"reputation":671,"user_id":1006179,"accept_rate":71,"display_name":"hurtledown"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322761279,"creation_date":1322758504,"answer_id":8345187,"question_id":8345023,"body_markdown":"    String.format(&quot;{0:dddd, MMMM d, yyyy hh:mm tt}&quot;, dt);\r\n","title":"Need to get current timestamp in Java","body":"<pre><code>String.format(\"{0:dddd, MMMM d, yyyy hh:mm tt}\", dt);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7149,"reputation":2788,"user_id":12281,"accept_rate":100,"display_name":"Andrew Cowenhoven"},"score":0,"creation_date":1386776221,"post_id":20265388,"comment_id":30683328,"body_markdown":"This works. Writing more than 1 line to do something like this seems ridiculous for a modern language.","body":"This works. Writing more than 1 line to do something like this seems ridiculous for a modern language."},{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":0,"creation_date":1490036851,"post_id":20265388,"comment_id":72923064,"body_markdown":"@AndrewCowenhoven It is more than 1 line. :D","body":"@AndrewCowenhoven It is more than 1 line. :D"}],"tags":[],"owner":{"account_id":3293887,"reputation":1496,"user_id":3036354,"display_name":"Prasad D"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1407447294,"creation_date":1385639260,"answer_id":20265388,"question_id":8345023,"body_markdown":"Try this single line solution :\r\n\r\n    import java.util.Date;\r\n    String timestamp = \r\n        new java.text.SimpleDateFormat(&quot;MM/dd/yyyy h:mm:ss a&quot;).format(new Date());","title":"Need to get current timestamp in Java","body":"<p>Try this single line solution :</p>\n\n<pre><code>import java.util.Date;\nString timestamp = \n    new java.text.SimpleDateFormat(\"MM/dd/yyyy h:mm:ss a\").format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407447920,"creation_date":1385710304,"answer_id":20280528,"question_id":8345023,"body_markdown":"# Joda-Time\r\n\r\nHere is the same kind of code but using the third-party library [Joda-Time][2] 2.3. \r\n\r\nIn real life, I would specify a [time zone][3], as relying on default zone is usually a bad practice. But omitted here for simplicity of example.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    org.joda.time.DateTime now = new DateTime();\r\n    org.joda.time.format.DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;MM/dd/yyyy h:mm:ss a&quot; );\r\n    String nowAsString = formatter.print( now );\r\n\r\n    System.out.println( &quot;nowAsString: &quot; + nowAsString );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    nowAsString: 11/28/2013 11:28:15 PM\r\n\r\n\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html","title":"Need to get current timestamp in Java","body":"<h1>Joda-Time</h1>\n\n<p>Here is the same kind of code but using the third-party library <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> 2.3. </p>\n\n<p>In real life, I would specify a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\" rel=\"nofollow\">time zone</a>, as relying on default zone is usually a bad practice. But omitted here for simplicity of example.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>org.joda.time.DateTime now = new DateTime();\norg.joda.time.format.DateTimeFormatter formatter = DateTimeFormat.forPattern( \"MM/dd/yyyy h:mm:ss a\" );\nString nowAsString = formatter.print( now );\n\nSystem.out.println( \"nowAsString: \" + nowAsString );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>nowAsString: 11/28/2013 11:28:15 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1699891884,"creation_date":1407447454,"answer_id":25192680,"question_id":8345023,"body_markdown":"\r\n**Print a Timestamp in java, using the java.sql.Timestamp.**\r\n     \r\n    import java.sql.Timestamp;\r\n    import java.util.Date;\r\n     \r\n    public class GetCurrentTimeStamp {\r\n        public static void main( String[] args ){\r\n    \t    java.util.Date date= new java.util.Date();\r\n    \t    System.out.println(new Timestamp(date.getTime()));\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n&lt;!-- language: none --&gt;\r\n    2014-08-07 17:34:16.664\r\n\r\n\r\n**Print a Timestamp in Java using SimpleDateFormat on a one-liner.**\r\n\r\n    import java.util.Date;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    class Runner{\r\n        public static void main(String[] args){\r\n\r\n        \tSystem.out.println(\r\n                new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).format(new Date()));\r\n\r\n        }\r\n    \r\n    }\r\n\r\nPrints:\r\n\r\n&lt;!-- language: none --&gt;\r\n    08/14/2014 14:10:38\r\n\r\n\r\n\r\n**Java date format legend:**\r\n\r\n&lt;!-- language: none --&gt;\r\n    G Era designation      Text               AD\r\n    y Year                 Year               1996; 96\r\n    M Month in year        Month              July; Jul; 07\r\n    w Week in year         Number             27\r\n    W Week in month        Number             2\r\n    D Day in year          Number             189\r\n    d Day in month         Number             10\r\n    F Day of week in month Number             2\r\n    E Day in week          Text               Tuesday; Tue\r\n    a Am/pm marker         Text               PM\r\n    H Hour in day (0-23)   Number             0\r\n    k Hour in day (1-24)   Number             24\r\n    K Hour in am/pm (0-11) Number             0\r\n    h Hour in am/pm (1-12) Number             12\r\n    m Minute in hour       Number             30\r\n    s Second in minute     Number             55\r\n    S Millisecond          Number             978\r\n    z Time zone            General time zone  Pacific Standard Time; PST; GMT-08:00\r\n    Z Time zone            RFC 822 time zone  -0800","title":"Need to get current timestamp in Java","body":"<p><strong>Print a Timestamp in java, using the java.sql.Timestamp.</strong></p>\n<pre><code>import java.sql.Timestamp;\nimport java.util.Date;\n \npublic class GetCurrentTimeStamp {\n    public static void main( String[] args ){\n        java.util.Date date= new java.util.Date();\n        System.out.println(new Timestamp(date.getTime()));\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2014-08-07 17:34:16.664\n</code></pre>\n<p><strong>Print a Timestamp in Java using SimpleDateFormat on a one-liner.</strong></p>\n<pre><code>import java.util.Date;\nimport java.text.SimpleDateFormat;\n\nclass Runner{\n    public static void main(String[] args){\n\n        System.out.println(\n            new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).format(new Date()));\n\n    }\n\n}\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>08/14/2014 14:10:38\n</code></pre>\n<p><strong>Java date format legend:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>G Era designation      Text               AD\ny Year                 Year               1996; 96\nM Month in year        Month              July; Jul; 07\nw Week in year         Number             27\nW Week in month        Number             2\nD Day in year          Number             189\nd Day in month         Number             10\nF Day of week in month Number             2\nE Day in week          Text               Tuesday; Tue\na Am/pm marker         Text               PM\nH Hour in day (0-23)   Number             0\nk Hour in day (1-24)   Number             24\nK Hour in am/pm (0-11) Number             0\nh Hour in am/pm (1-12) Number             12\nm Minute in hour       Number             30\ns Second in minute     Number             55\nS Millisecond          Number             978\nz Time zone            General time zone  Pacific Standard Time; PST; GMT-08:00\nZ Time zone            RFC 822 time zone  -0800\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1444040159,"post_id":30973468,"comment_id":53717216,"body_markdown":"We can also use `DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;)` to get an instance of DateTimeFormatter :)","body":"We can also use <code>DateTimeFormatter.ofPattern(&quot;MM&#47;dd&#47;yyyy hh:mm:ss a&quot;)</code> to get an instance of DateTimeFormatter :)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527251555,"post_id":30973468,"comment_id":88070210,"body_markdown":"It’s more wordy than needed. You may use just `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;);`. Or if you want to make it very explicit that the literals are literals: `DateTimeFormatter.ofPattern(&quot;MM&#39;/&#39;dd&#39;/&#39;yyyy&#39; &#39;hh&#39;:&#39;mm&#39;:&#39;ss&#39; &#39;a&quot;)`- No matter if you use your version or mine, I consider using `java.time` an excellent idea.","body":"It’s more wordy than needed. You may use just <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM&#47;dd&#47;yyyy hh:mm:ss a&quot;);</code>. Or if you want to make it very explicit that the literals are literals: <code>DateTimeFormatter.ofPattern(&quot;MM&#39;&#47;&#39;dd&#39;&#47;&#39;yyyy&#39; &#39;hh&#39;:&#39;mm&#39;:&#39;ss&#39; &#39;a&quot;)</code>- No matter if you use your version or mine, I consider using <code>java.time</code> an excellent idea."}],"tags":[],"owner":{"account_id":410608,"reputation":25367,"user_id":782535,"accept_rate":100,"display_name":"Madan Sapkota"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699892187,"creation_date":1434955183,"answer_id":30973468,"question_id":8345023,"body_markdown":"# java.time\r\n\r\nAs of Java 8+ you can use the [java.time package][1]. Specifically, use [DateTimeFormatterBuilder][2] and [DateTimeFormatter][3] to format the patterns and literals.\r\n\r\n\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t.appendPattern(&quot;MM&quot;).appendLiteral(&quot;/&quot;)\r\n\t\t\t.appendPattern(&quot;dd&quot;).appendLiteral(&quot;/&quot;)\r\n\t\t\t.appendPattern(&quot;yyyy&quot;).appendLiteral(&quot; &quot;)\r\n\t\t\t.appendPattern(&quot;hh&quot;).appendLiteral(&quot;:&quot;)\r\n\t\t\t.appendPattern(&quot;mm&quot;).appendLiteral(&quot;:&quot;)\r\n\t\t\t.appendPattern(&quot;ss&quot;).appendLiteral(&quot; &quot;)\r\n\t\t\t.appendPattern(&quot;a&quot;)\r\n\t\t\t.toFormatter();\r\n\tSystem.out.println(LocalDateTime.now().format(formatter));\r\n\r\nThe output ...\r\n\r\n&lt;!-- language: none --&gt;\r\n    06/22/2015 11:59:14 AM\r\n\r\nOr if you want different [time zone][4]…\r\n\r\n\t// system default\r\n\tSystem.out.println(formatter.withZone(ZoneId.systemDefault()).format(Instant.now()));\r\n\t// Chicago\r\n\tSystem.out.println(formatter.withZone(ZoneId.of(&quot;America/Chicago&quot;)).format(Instant.now()));\r\n\t// Kathmandu\r\n\tSystem.out.println(formatter.withZone(ZoneId.of(&quot;Asia/Kathmandu&quot;)).format(Instant.now()));\r\n\r\nThe output ...\r\n\r\n&lt;!-- language: none --&gt;\r\n    06/22/2015 12:38:42 PM\r\n    06/22/2015 02:08:42 AM\r\n    06/22/2015 12:53:42 PM\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [4]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"Need to get current timestamp in Java","body":"<h1>java.time</h1>\n<p>As of Java 8+ you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a>. Specifically, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> to format the patterns and literals.</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(&quot;MM&quot;).appendLiteral(&quot;/&quot;)\n        .appendPattern(&quot;dd&quot;).appendLiteral(&quot;/&quot;)\n        .appendPattern(&quot;yyyy&quot;).appendLiteral(&quot; &quot;)\n        .appendPattern(&quot;hh&quot;).appendLiteral(&quot;:&quot;)\n        .appendPattern(&quot;mm&quot;).appendLiteral(&quot;:&quot;)\n        .appendPattern(&quot;ss&quot;).appendLiteral(&quot; &quot;)\n        .appendPattern(&quot;a&quot;)\n        .toFormatter();\nSystem.out.println(LocalDateTime.now().format(formatter));\n</code></pre>\n<p>The output ...</p>\n<pre class=\"lang-none prettyprint-override\"><code>06/22/2015 11:59:14 AM\n</code></pre>\n<p>Or if you want different <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time zone</a>…</p>\n<pre><code>// system default\nSystem.out.println(formatter.withZone(ZoneId.systemDefault()).format(Instant.now()));\n// Chicago\nSystem.out.println(formatter.withZone(ZoneId.of(&quot;America/Chicago&quot;)).format(Instant.now()));\n// Kathmandu\nSystem.out.println(formatter.withZone(ZoneId.of(&quot;Asia/Kathmandu&quot;)).format(Instant.now()));\n</code></pre>\n<p>The output ...</p>\n<pre class=\"lang-none prettyprint-override\"><code>06/22/2015 12:38:42 PM\n06/22/2015 02:08:42 AM\n06/22/2015 12:53:42 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9061242,"reputation":87,"user_id":6747709,"accept_rate":100,"display_name":"MG97"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699892156,"creation_date":1473674655,"answer_id":39447855,"question_id":8345023,"body_markdown":"I did it like this when I wanted a tmiestamp\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(Calendar.getInstance().getTime());\r\n\r\n\r\nHope it helps :) As a newbie I think it&#39;s self-explanatory.\r\n\r\nI think you also need import java.text.SimpleDateFormat; header for it to work :))","title":"Need to get current timestamp in Java","body":"<p>I did it like this when I wanted a tmiestamp</p>\n<pre><code>String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(Calendar.getInstance().getTime());\n</code></pre>\n<p>Hope it helps :) As a newbie I think it's self-explanatory.</p>\n<p>I think you also need import java.text.SimpleDateFormat; header for it to work :))</p>\n"},{"tags":[],"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524135675,"creation_date":1497450273,"answer_id":44547525,"question_id":8345023,"body_markdown":"You can make use of `java.util.Date` with direct date string format:\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());","title":"Need to get current timestamp in Java","body":"<p>You can make use of <code>java.util.Date</code> with direct date string format:</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\").format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9315198,"reputation":2228,"user_id":7240363,"display_name":"Saurabh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499098367,"creation_date":1499088936,"answer_id":44886957,"question_id":8345023,"body_markdown":"well sometimes this is also useful.\r\n\r\n    import java.util.Date;\r\n    public class DisplayDate {\r\n    public static void main(String args[]) {\r\n       // Instantiate an object\r\n       Date date = new Date();\r\n        \r\n       // display time and date\r\n       System.out.println(date.toString());}}\r\n\r\n**sample output:** `Mon Jul 03 19:07:15 IST 2017`","title":"Need to get current timestamp in Java","body":"<p>well sometimes this is also useful.</p>\n\n<pre><code>import java.util.Date;\npublic class DisplayDate {\npublic static void main(String args[]) {\n   // Instantiate an object\n   Date date = new Date();\n\n   // display time and date\n   System.out.println(date.toString());}}\n</code></pre>\n\n<p><strong>sample output:</strong> <code>Mon Jul 03 19:07:15 IST 2017</code></p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699936946,"post_id":77476827,"comment_id":136590356,"body_markdown":"Good Answer, as always. The phrasing of &quot;Never use a DateTimeFormatter for custom formats, and a SimpleDateFormat without a Locale.&quot; seems awkward. Perhaps turn that around to say &quot;Always specify a `Locale` on your formatter&quot;. (a) The positive (always versus never) seems simpler. (b) Shouldn&#39;t we specify a locale on all formatters, not just *custom* formatters? Or did I miss your point.","body":"Good Answer, as always. The phrasing of &quot;Never use a DateTimeFormatter for custom formats, and a SimpleDateFormat without a Locale.&quot; seems awkward. Perhaps turn that around to say &quot;Always specify a <code>Locale</code> on your formatter&quot;. (a) The positive (always versus never) seems simpler. (b) Shouldn&#39;t we specify a locale on all formatters, not just <i>custom</i> formatters? Or did I miss your point."},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1699956352,"post_id":77476827,"comment_id":136592738,"body_markdown":"Thanks, @BasilBourque for your valuable advice! I am going to rephrase that sentence. **Regarding `Locale` for custom formats:** The reason why I&#39;ve mentioned *custom formats* is that [Predefined Formatters](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) do not accept `Locale` (i.e. they work with system&#39;s `Locale`).","body":"Thanks, @BasilBourque for your valuable advice! I am going to rephrase that sentence. <b>Regarding <code>Locale</code> for custom formats:</b> The reason why I&#39;ve mentioned <i>custom formats</i> is that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">Predefined Formatters</a> do not accept <code>Locale</code> (i.e. they work with system&#39;s <code>Locale</code>)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699983866,"post_id":77476827,"comment_id":136598202,"body_markdown":"Yes, that is an important point! I suggest you mention that explicitly in your Answer.","body":"Yes, that is an important point! I suggest you mention that explicitly in your Answer."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699987293,"creation_date":1699908977,"answer_id":77476827,"question_id":8345023,"body_markdown":"java.time\r\n--\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/8345074/10819573) uses the legacy API (`java.util` Date-Time API and their formatting API, `SimpleDateFormat`) which was the right thing to do at the time of writing that answer. However, Java-8 brought the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) which supplanted the outdated and error-prone legacy date-time API and their formatting API. Since then it has been highly recommended to switch to the modern API.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project.**\r\n\r\nNote that `java.time` types are thread-safe.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** Format [`LocalDateTime#now`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now--) with a `DateTimeFormatter` using the required format.\r\n    \r\n    LocalDateTime.now()\r\n                 .format(\r\n                     DateTimeFormatter.ofPattern(\r\n                         &quot;MM/dd/uuuu hh:mm:ss a&quot;, Locale.ENGLISH));\r\n\r\n**Notes:** \r\n\r\n 1. Here, you can use `y` instead of `u` but [I prefer `u` to `y`](https://stackoverflow.com/a/65928023/10819573).\r\n 2. [Always specify a `Locale` with a `SimpleDateFormat`, and a `DateTimeFormatter` for custom formats.](https://stackoverflow.com/a/65544056/10819573). Note that [Predefined Formatters](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) do not accept Locale (i.e. they work with the system&#39;s `Locale`).\r\n\r\n**Demo:**\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Get the current date-time in your system&#39;s time-zone\r\n            // Note: if you want to get the current date-time in a specific time-zone,\r\n            // use LocalDateTime.now(ZoneId)\r\n            LocalDateTime now = LocalDateTime.now();\r\n            // Default format\r\n            System.out.println(now);\r\n    \r\n            // Custom format\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu hh:mm:ss a&quot;, Locale.ENGLISH);\r\n            String dtInCustomFormat = now.format(formatter);\r\n            System.out.println(dtInCustomFormat);\r\n        }\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2023-11-13T20:54:51.573121\r\n    11/13/2023 08:54:51 PM\r\n\r\n[ONLINE DEMO](https://ideone.com/vyvHAI)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Need to get current timestamp in Java","body":"<h2>java.time</h2>\n<p>The <a href=\"https://stackoverflow.com/a/8345074/10819573\">accepted answer</a> uses the legacy API (<code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code>) which was the right thing to do at the time of writing that answer. However, Java-8 brought the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> which supplanted the outdated and error-prone legacy date-time API and their formatting API. Since then it has been highly recommended to switch to the modern API.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project.</strong></p>\n</blockquote>\n<p>Note that <code>java.time</code> types are thread-safe.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> Format <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#now</code></a> with a <code>DateTimeFormatter</code> using the required format.</p>\n<pre><code>LocalDateTime.now()\n             .format(\n                 DateTimeFormatter.ofPattern(\n                     &quot;MM/dd/uuuu hh:mm:ss a&quot;, Locale.ENGLISH));\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li>Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer <code>u</code> to <code>y</code></a>.</li>\n<li><a href=\"https://stackoverflow.com/a/65544056/10819573\">Always specify a <code>Locale</code> with a <code>SimpleDateFormat</code>, and a <code>DateTimeFormatter</code> for custom formats.</a>. Note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">Predefined Formatters</a> do not accept Locale (i.e. they work with the system's <code>Locale</code>).</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Get the current date-time in your system's time-zone\n        // Note: if you want to get the current date-time in a specific time-zone,\n        // use LocalDateTime.now(ZoneId)\n        LocalDateTime now = LocalDateTime.now();\n        // Default format\n        System.out.println(now);\n\n        // Custom format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu hh:mm:ss a&quot;, Locale.ENGLISH);\n        String dtInCustomFormat = now.format(formatter);\n        System.out.println(dtInCustomFormat);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2023-11-13T20:54:51.573121\n11/13/2023 08:54:51 PM\n</code></pre>\n<p><a href=\"https://ideone.com/vyvHAI\" rel=\"nofollow noreferrer\">ONLINE DEMO</a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":369704,"reputation":4959,"user_id":717236,"accept_rate":72,"display_name":"user717236"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207229,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":8345074,"answer_count":11,"score":52,"last_activity_date":1699987293,"creation_date":1322757925,"question_id":8345023,"body_markdown":"I need to get the current timestamp in Java, with the format of `MM/DD/YYYY h:mm:ss AM/PM`, \r\n\r\nFor example: `06/01/2000 10:01:50 AM`\r\n\r\nI need it to be Threadsafe as well.\r\n\r\nCan I utilize something like this?\r\n\r\n    java.util.Date date = new java.util.Date();\r\n    System.out.println(new Timestamp(date.getTime()));\r\n\r\nOr the examples discussed at the link [here][1].\r\n\r\n\r\n  [1]: http://www.devdaily.com/java/java-timestamp-example-current-time-now","title":"Need to get current timestamp in Java","body":"<p>I need to get the current timestamp in Java, with the format of <code>MM/DD/YYYY h:mm:ss AM/PM</code>, </p>\n\n<p>For example: <code>06/01/2000 10:01:50 AM</code></p>\n\n<p>I need it to be Threadsafe as well.</p>\n\n<p>Can I utilize something like this?</p>\n\n<pre><code>java.util.Date date = new java.util.Date();\nSystem.out.println(new Timestamp(date.getTime()));\n</code></pre>\n\n<p>Or the examples discussed at the link <a href=\"http://www.devdaily.com/java/java-timestamp-example-current-time-now\">here</a>.</p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":13542367,"reputation":5838,"user_id":9769731,"display_name":"karllekko"},"score":0,"creation_date":1622117596,"post_id":67693619,"comment_id":119701809,"body_markdown":"Do you have more context? What version/API level of Android are you using? Is this on  a physical device or an emulator? Have you tried doing a fresh Gradle sync of the project?","body":"Do you have more context? What version/API level of Android are you using? Is this on  a physical device or an emulator? Have you tried doing a fresh Gradle sync of the project?"},{"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"score":0,"creation_date":1622119384,"post_id":67693619,"comment_id":119702660,"body_markdown":"Hello, yes i did a project clean and a rebuild.\nim testing on physical devices (samsung, oppo, huawei, lge nexus 5x) \nversion 8 , 9 ,10","body":"Hello, yes i did a project clean and a rebuild. im testing on physical devices (samsung, oppo, huawei, lge nexus 5x)  version 8 , 9 ,10"}],"answers":[{"comments":[{"owner":{"account_id":19510564,"reputation":8439,"user_id":14274597,"display_name":"Kelvin Schoofs"},"score":0,"creation_date":1626878462,"post_id":68470690,"comment_id":121010260,"body_markdown":"When linking an issue like that (especially with a ton of stuff to read through), you should add a description in your answer on how exactly to fix it (e.g. &quot;issue was X, update to version Y or later to fix&quot;)","body":"When linking an issue like that (especially with a ton of stuff to read through), you should add a description in your answer on how exactly to fix it (e.g. &quot;issue was X, update to version Y or later to fix&quot;)"},{"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"score":0,"creation_date":1626940455,"post_id":68470690,"comment_id":121026703,"body_markdown":"Thank you @KelvinSchoofs for the comment, I&#39;m new in answering questions and when I solve any of my questions I&#39;m trying to add my answer.","body":"Thank you @KelvinSchoofs for the comment, I&#39;m new in answering questions and when I solve any of my questions I&#39;m trying to add my answer."}],"tags":[],"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699987166,"creation_date":1626875295,"answer_id":68470690,"question_id":67693619,"body_markdown":"Updating &#39;androidx.appcompat:appcompat:&#39; to 1.3.0 or 1.4.0-alpha02 \r\ncause the CardInputWidget of stripe payment to not be inflated in the layout and cause a crash,\r\n\r\nUpdating stripe dependency to &#39;com.stripe:stripe-android:16.10.2&#39; solves this issue.\r\n\r\nI opened this issue on stripe GitHub and they worked on the fix,\r\nfor more info check this link:\r\nhttps://github.com/stripe/stripe-android/issues/3770\r\n\r\nhappy coding.","title":"Stripe CardInputWidget not showing on the new update","body":"<p>Updating 'androidx.appcompat:appcompat:' to 1.3.0 or 1.4.0-alpha02\ncause the CardInputWidget of stripe payment to not be inflated in the layout and cause a crash,</p>\n<p>Updating stripe dependency to 'com.stripe:stripe-android:16.10.2' solves this issue.</p>\n<p>I opened this issue on stripe GitHub and they worked on the fix,\nfor more info check this link:\n<a href=\"https://github.com/stripe/stripe-android/issues/3770\" rel=\"nofollow noreferrer\">https://github.com/stripe/stripe-android/issues/3770</a></p>\n<p>happy coding.</p>\n"}],"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68470690,"answer_count":1,"score":0,"last_activity_date":1699987166,"creation_date":1621966959,"question_id":67693619,"body_markdown":"After upgrading the stripe implementation CardInputWidget doesn&#39;t appear anymore :/\r\n\r\nError :\r\nError inflating class com.stripe.android.view.CardInputWidget\r\n\r\ngrandle implementation:\r\n\r\nimplementation &#39;com.stripe:stripe-android:16.9.0&#39;\r\n\r\nXml code for payment dialog :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:fitsSystemWindows=&quot;false&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:padding=&quot;8dp&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:src=&quot;@drawable/card_outline_stripe&quot; /&gt;\r\n    \r\n                &lt;com.example.dev.customs.CustomTextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:text=&quot;@string/enter_your_payment_method&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    app:fontTextView=&quot;MuseoSans-900&quot; /&gt;\r\n    \r\n                &lt;com.stripe.android.view.CardInputWidget\r\n                    android:id=&quot;@+id/dialogue_edit_payment_card&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layoutDirection=&quot;ltr&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:background=&quot;@drawable/bg_stripe_payment&quot;\r\n                    android:textDirection=&quot;ltr&quot; /&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;5dp&quot;&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/btn_submit&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;end&quot;\r\n                        android:text=&quot;@string/label_submit&quot;\r\n                        android:padding=&quot;3dp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textColor=&quot;@color/gradient_blue_1&quot;\r\n                        android:background=&quot;@drawable/btn_submit_bg&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\ncode:\r\n\r\n btnStartPlan.setOnClickListener(new View.OnClickListener() {\r\n     showPaymentDialog();}\r\n...\r\n\r\ndialog.setContentView(R.layout.dialog_payment);\r\n  \r\n\r\n\r\n\r\n","title":"Stripe CardInputWidget not showing on the new update","body":"<p>After upgrading the stripe implementation CardInputWidget doesn't appear anymore :/</p>\n<p>Error :\nError inflating class com.stripe.android.view.CardInputWidget</p>\n<p>grandle implementation:</p>\n<p>implementation 'com.stripe:stripe-android:16.9.0'</p>\n<p>Xml code for payment dialog :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:fitsSystemWindows=&quot;false&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;10dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:padding=&quot;8dp&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:src=&quot;@drawable/card_outline_stripe&quot; /&gt;\n\n            &lt;com.example.dev.customs.CustomTextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:text=&quot;@string/enter_your_payment_method&quot;\n                android:textSize=&quot;20sp&quot;\n                app:fontTextView=&quot;MuseoSans-900&quot; /&gt;\n\n            &lt;com.stripe.android.view.CardInputWidget\n                android:id=&quot;@+id/dialogue_edit_payment_card&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layoutDirection=&quot;ltr&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:padding=&quot;3dp&quot;\n                android:background=&quot;@drawable/bg_stripe_payment&quot;\n                android:textDirection=&quot;ltr&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot;&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/btn_submit&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;end&quot;\n                    android:text=&quot;@string/label_submit&quot;\n                    android:padding=&quot;3dp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textColor=&quot;@color/gradient_blue_1&quot;\n                    android:background=&quot;@drawable/btn_submit_bg&quot;/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>code:</p>\n<p>btnStartPlan.setOnClickListener(new View.OnClickListener() {\nshowPaymentDialog();}\n...</p>\n<p>dialog.setContentView(R.layout.dialog_payment);</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699960030,"creation_date":1699960030,"answer_id":77480116,"question_id":77479307,"body_markdown":"What I generally do in such cases is to put the logic in the `cellFactory`.\r\n```java\r\n\t\tcolumn.setCellFactory(x-&gt; {\r\n\t\t\tTableCell&lt;EventVW, Date&gt; cell = new TableCell&lt;EventVW, Date&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected void updateItem(String item, boolean empty) {\r\n\t\t\t\t\tsuper.updateItem(item, empty);\r\n\t\t\t\t\tif (empty) {\r\n\t\t\t\t\t\tsetText(null);\r\n\t\t\t\t\t\tObservableList&lt;String&gt; styleClass = getStyleClass();\r\n\t\t\t\t\t\tstyleClass.remove(&quot;err-class&quot;);\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetText(item);\r\n\t\t\t\t\t\tstyleClass.remove(&quot;err-class&quot;);\t\r\n\t\t\t\t\t\tif(!isValid(item)) {\r\n\t\t\t\t\t\t\tstyleClass.add(&quot;err-class&quot;);\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n```\r\nSo whenever the cell value is updated the style is updated too according to some function (`isValid`) in this example\r\n\r\n","title":"Javafx - Making a TableView Cell Change Style After Being Edited","body":"<p>What I generally do in such cases is to put the logic in the <code>cellFactory</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        column.setCellFactory(x-&gt; {\n            TableCell&lt;EventVW, Date&gt; cell = new TableCell&lt;EventVW, Date&gt;() {\n                @Override\n                protected void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (empty) {\n                        setText(null);\n                        ObservableList&lt;String&gt; styleClass = getStyleClass();\n                        styleClass.remove(&quot;err-class&quot;); \n                    } else {\n                        setText(item);\n                        styleClass.remove(&quot;err-class&quot;); \n                        if(!isValid(item)) {\n                            styleClass.add(&quot;err-class&quot;);    \n                        }\n                    }\n                }\n            };\n</code></pre>\n<p>So whenever the cell value is updated the style is updated too according to some function (<code>isValid</code>) in this example</p>\n"},{"comments":[{"owner":{"account_id":15814445,"reputation":3,"user_id":11410601,"display_name":"Hexadelta"},"score":0,"creation_date":1700040863,"post_id":77483070,"comment_id":136605005,"body_markdown":"Cheers. Does using this approach have any benefit over the updateItem approach (ie, performance wise)?","body":"Cheers. Does using this approach have any benefit over the updateItem approach (ie, performance wise)?"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1700066038,"post_id":77483070,"comment_id":136609764,"body_markdown":"@Hexadelta I prefer to view JavaFX as a Reactive framework.  So, static layouts that behave dynamically, bound to some data model that represents &quot;State&quot;.  This approach fits that better, as you&#39;re not fiddling with any of the Nodes in the layout after the fact.  Note that there are no Nodes implemented as fields of the class, and none are referenced outside the layout constructor.  IMHO, it&#39;s a cleaner approach.  That being said, I have NEVER seen this presented in any documentation or on-line tutorial - for whatever that means.","body":"@Hexadelta I prefer to view JavaFX as a Reactive framework.  So, static layouts that behave dynamically, bound to some data model that represents &quot;State&quot;.  This approach fits that better, as you&#39;re not fiddling with any of the Nodes in the layout after the fact.  Note that there are no Nodes implemented as fields of the class, and none are referenced outside the layout constructor.  IMHO, it&#39;s a cleaner approach.  That being said, I have NEVER seen this presented in any documentation or on-line tutorial - for whatever that means."}],"tags":[],"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699986995,"creation_date":1699986995,"answer_id":77483070,"question_id":77479307,"body_markdown":"This is cleanest if done with PseudoClasses.  Also, whatever the validation routine is, it needs to be simple enough that it can be done in the &quot;View&quot; and not require database look-ups or complicated business logic. \r\n\r\n    public class ValidatingTableCell&lt;S&gt; extends TableCell&lt;S, String&gt; {\r\n        private static final PseudoClass redDisplay = PseudoClass.getPseudoClass(&quot;error&quot;);\r\n    \r\n        public ValidatingTableCell() {\r\n            TextField textField = new TextField();\r\n            textField.textProperty().bind(itemProperty());\r\n            StackPane container = new StackPane(textField);\r\n            container.getStyleClass().add(&quot;cell-box&quot;);\r\n            container.setPadding(new Insets(8));\r\n            itemProperty().addListener(itemProperty -&gt; container.pseudoClassStateChanged(redDisplay, validateValue()));\r\n            graphicProperty().bind(Bindings.createObjectBinding(() -&gt; !isEmpty() ? container : null, emptyProperty()));\r\n            setText(null);\r\n        }\r\n    \r\n        private boolean validateValue() {\r\n            String theValue = itemProperty().get();\r\n            return theValue == null || theValue.startsWith(&quot;A&quot;);\r\n        }\r\n    }\r\n\r\nAnd the CSS file looks like this:\r\n\r\n    .cell-box {\r\n       -fx-background-color: green;\r\n    }\r\n    \r\n    .cell-box:error {\r\n      -fx-background-color: red;\r\n    }\r\n\r\nThis approach might look a bit odd, because it doesn&#39;t use the usual `updateItem()` approach, but instead binds to the `itemProperty()` in the `Cell`, and does all the connections in the `Cell` constructor which creates the layout.  The result is the same, though.  \r\n\r\nIn this example, anything that has a value that starts with &quot;A&quot; will be considered invalid, and will get a red border around the `TextField`.  The validation is included as part of the `Cell` logic to make the point that it really needs to be simple to be included in the layout at all.\r\n\r\nIf the validation logic is more complicated, then the `Cell` data should be transformed into a `Object` containing fields for the data and the valid flag.  Then the linkage between the data itself and the valid flag should be defined in the business logic.","title":"Javafx - Making a TableView Cell Change Style After Being Edited","body":"<p>This is cleanest if done with PseudoClasses.  Also, whatever the validation routine is, it needs to be simple enough that it can be done in the &quot;View&quot; and not require database look-ups or complicated business logic.</p>\n<pre><code>public class ValidatingTableCell&lt;S&gt; extends TableCell&lt;S, String&gt; {\n    private static final PseudoClass redDisplay = PseudoClass.getPseudoClass(&quot;error&quot;);\n\n    public ValidatingTableCell() {\n        TextField textField = new TextField();\n        textField.textProperty().bind(itemProperty());\n        StackPane container = new StackPane(textField);\n        container.getStyleClass().add(&quot;cell-box&quot;);\n        container.setPadding(new Insets(8));\n        itemProperty().addListener(itemProperty -&gt; container.pseudoClassStateChanged(redDisplay, validateValue()));\n        graphicProperty().bind(Bindings.createObjectBinding(() -&gt; !isEmpty() ? container : null, emptyProperty()));\n        setText(null);\n    }\n\n    private boolean validateValue() {\n        String theValue = itemProperty().get();\n        return theValue == null || theValue.startsWith(&quot;A&quot;);\n    }\n}\n</code></pre>\n<p>And the CSS file looks like this:</p>\n<pre><code>.cell-box {\n   -fx-background-color: green;\n}\n\n.cell-box:error {\n  -fx-background-color: red;\n}\n</code></pre>\n<p>This approach might look a bit odd, because it doesn't use the usual <code>updateItem()</code> approach, but instead binds to the <code>itemProperty()</code> in the <code>Cell</code>, and does all the connections in the <code>Cell</code> constructor which creates the layout.  The result is the same, though.</p>\n<p>In this example, anything that has a value that starts with &quot;A&quot; will be considered invalid, and will get a red border around the <code>TextField</code>.  The validation is included as part of the <code>Cell</code> logic to make the point that it really needs to be simple to be included in the layout at all.</p>\n<p>If the validation logic is more complicated, then the <code>Cell</code> data should be transformed into a <code>Object</code> containing fields for the data and the valid flag.  Then the linkage between the data itself and the valid flag should be defined in the business logic.</p>\n"}],"owner":{"account_id":15814445,"reputation":3,"user_id":11410601,"display_name":"Hexadelta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77480116,"answer_count":2,"score":0,"last_activity_date":1699986995,"creation_date":1699952425,"question_id":77479307,"body_markdown":"I am trying to make a TableView here that when a cell&#39;s value has been modified (the user can click a cell and type a new value) if the method isValid returns false, the cell gains the invalid-cell style from the stylesheet.\r\n\r\nCurrently, the editing part works fine and isValid returns what it is supposed to according to the console output. However, the cell is not gaining the invalid-cell attribute when isValid returns false.\r\n\r\nI know the invalid-cell style is accessible, as having `column.getStyleClass().add(&quot;invalid-cell&quot;);` adds the style to the whole column, but I cannot make it so that it is just the modified cell that changes style at a time. Any ideas? Thank you.\r\n\r\n```\r\npublic void loadTable(String tableName) throws SQLException {\r\n        //Clear existing columns and entries\r\n        tableView.getColumns().clear();\r\n        tableView.getItems().clear();\r\n\r\n        ObservableList&lt;String&gt; data = DBcontroller.getColumns(handler.getTable());\r\n\r\n\r\n        //For each column, add to table\r\n        for (int i = 0; i &lt; data.size(); i++) {\r\n            int finalIdx = i;\r\n            TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = new TableColumn&lt;&gt;(data.get(i));\r\n            column.setPrefWidth(100); //Set width\r\n\r\n\r\n            //Factory (gets column data)\r\n            column.setCellValueFactory(param -&gt; {\r\n                String cellValue = param.getValue().get(finalIdx);\r\n                return new SimpleStringProperty(cellValue);\r\n            });\r\n\r\n\r\n            //Make cells editable.\r\n            column.setCellFactory(TextFieldTableCell.forTableColumn(new DefaultStringConverter()));\r\n            column.setEditable(true);\r\n\r\n            column.setOnEditCommit(event -&gt; {\r\n                ObservableList&lt;String&gt; rowData = event.getTableView().getItems().get(event.getTablePosition().getRow());\r\n                rowData.set(finalIdx, event.getNewValue());\r\n\r\n\r\n                TableCell&lt;ObservableList&lt;String&gt;, String&gt; currentCell = event.getTableColumn().getCellFactory().call(column);\r\n                if (isValid(event.getNewValue(), column.getText())) {\r\n                    System.out.println(&quot;Input OK!&quot;);\r\n                    currentCell.getStyleClass().remove(&quot;invalid-cell&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Input BAD&quot;);\r\n                    currentCell.getStyleClass().add(&quot;invalid-cell&quot;);\r\n                }\r\n            });\r\n            tableView.getColumns().add(column);\r\n        }\r\n```\r\n\r\nCurrently with the included code, none of the cells gain the style even when isValid returns false.","title":"Javafx - Making a TableView Cell Change Style After Being Edited","body":"<p>I am trying to make a TableView here that when a cell's value has been modified (the user can click a cell and type a new value) if the method isValid returns false, the cell gains the invalid-cell style from the stylesheet.</p>\n<p>Currently, the editing part works fine and isValid returns what it is supposed to according to the console output. However, the cell is not gaining the invalid-cell attribute when isValid returns false.</p>\n<p>I know the invalid-cell style is accessible, as having <code>column.getStyleClass().add(&quot;invalid-cell&quot;);</code> adds the style to the whole column, but I cannot make it so that it is just the modified cell that changes style at a time. Any ideas? Thank you.</p>\n<pre><code>public void loadTable(String tableName) throws SQLException {\n        //Clear existing columns and entries\n        tableView.getColumns().clear();\n        tableView.getItems().clear();\n\n        ObservableList&lt;String&gt; data = DBcontroller.getColumns(handler.getTable());\n\n\n        //For each column, add to table\n        for (int i = 0; i &lt; data.size(); i++) {\n            int finalIdx = i;\n            TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = new TableColumn&lt;&gt;(data.get(i));\n            column.setPrefWidth(100); //Set width\n\n\n            //Factory (gets column data)\n            column.setCellValueFactory(param -&gt; {\n                String cellValue = param.getValue().get(finalIdx);\n                return new SimpleStringProperty(cellValue);\n            });\n\n\n            //Make cells editable.\n            column.setCellFactory(TextFieldTableCell.forTableColumn(new DefaultStringConverter()));\n            column.setEditable(true);\n\n            column.setOnEditCommit(event -&gt; {\n                ObservableList&lt;String&gt; rowData = event.getTableView().getItems().get(event.getTablePosition().getRow());\n                rowData.set(finalIdx, event.getNewValue());\n\n\n                TableCell&lt;ObservableList&lt;String&gt;, String&gt; currentCell = event.getTableColumn().getCellFactory().call(column);\n                if (isValid(event.getNewValue(), column.getText())) {\n                    System.out.println(&quot;Input OK!&quot;);\n                    currentCell.getStyleClass().remove(&quot;invalid-cell&quot;);\n                } else {\n                    System.out.println(&quot;Input BAD&quot;);\n                    currentCell.getStyleClass().add(&quot;invalid-cell&quot;);\n                }\n            });\n            tableView.getColumns().add(column);\n        }\n</code></pre>\n<p>Currently with the included code, none of the cells gain the style even when isValid returns false.</p>\n"},{"tags":["java","android","xml","firebase","storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700035621,"post_id":77483067,"comment_id":136604170,"body_markdown":"&quot;it is showing error&quot; doesn&#39;t provide enough information so we can help. What exactly is the error?","body":"&quot;it is showing error&quot; doesn&#39;t provide enough information so we can help. What exactly is the error?"}],"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699986990,"creation_date":1699986990,"question_id":77483067,"body_markdown":"I am making an app where I need to upload and use some images. I am using firebase raeltime databse where I store the url of the images stored in the Storage of the firebase. For that I have a button to selectan  image from my external storage of the mobile and upload with the help of a button using java codes. For the purpose I need to have access to my phone&#39;s storage as weel as the storage of the Firebace (cloud) . I am trying to add depandancy to make it work but it is showing error.\r\n**Here are the dependancy implemention**:-\r\n\r\n```   implementation platform(&#39;com.google.firebase:firebase-bom:31.4.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-core:22.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:22.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:22.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:22.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.3.1&#39;```\r\n\r\n**This is how I am initialising it in my activity**:-\r\n\r\n```import com.google.firebase.storage.StorageReference;```\r\n\r\nthen\r\n\r\n``` private ImageView imageView;\r\n    // Uri indicates, where the image will be picked from\r\n    private Uri filePath;\r\n    // request code\r\n    private final int PICK_IMAGE_REQUEST = 22;\r\n\r\n    // instance for firebase storage and StorageReference\r\n    FirebaseStorage storage;\r\n    StorageReference storageReference;```\r\n\r\n\r\nthen in onCreate :-\r\n\r\n``` FirebaseApp.initializeApp(this);\r\nstorage = FirebaseStorage.getInstance();\r\n        storageReference = storage.getReference();```\r\n\r\n\r\n**BUT THE STORAGE CODES HAVE ERROR** they are all in **RED** ink and the app is not working.Any help with practical guidance is welcome.","title":"My firebase RTDB android studio app project not accepting Storage Dependency and showing Error","body":"<p>I am making an app where I need to upload and use some images. I am using firebase raeltime databse where I store the url of the images stored in the Storage of the firebase. For that I have a button to selectan  image from my external storage of the mobile and upload with the help of a button using java codes. For the purpose I need to have access to my phone's storage as weel as the storage of the Firebace (cloud) . I am trying to add depandancy to make it work but it is showing error.\n<strong>Here are the dependancy implemention</strong>:-</p>\n<pre><code>    implementation 'com.google.firebase:firebase-core:22.2.0'\n    implementation 'com.google.firebase:firebase-auth:22.2.0'\n    implementation 'com.google.firebase:firebase-storage:22.0.0'\n    implementation 'com.google.firebase:firebase-database:22.0.0'\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'```\n\n**This is how I am initialising it in my activity**:-\n\n```import com.google.firebase.storage.StorageReference;```\n\nthen\n\n``` private ImageView imageView;\n    // Uri indicates, where the image will be picked from\n    private Uri filePath;\n    // request code\n    private final int PICK_IMAGE_REQUEST = 22;\n\n    // instance for firebase storage and StorageReference\n    FirebaseStorage storage;\n    StorageReference storageReference;```\n\n\nthen in onCreate :-\n\n``` FirebaseApp.initializeApp(this);\nstorage = FirebaseStorage.getInstance();\n        storageReference = storage.getReference();```\n\n\n**BUT THE STORAGE CODES HAVE ERROR** they are all in **RED** ink and the app is not working.Any help with practical guidance is welcome.\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1608063066,"post_id":65312936,"comment_id":115466751,"body_markdown":"Are you adding this RelativeLayout programmatically?","body":"Are you adding this RelativeLayout programmatically?"},{"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"score":0,"creation_date":1608114281,"post_id":65312936,"comment_id":115481441,"body_markdown":"yes, im adding it to the windows manger, i editetd the code.","body":"yes, im adding it to the windows manger, i editetd the code."}],"answers":[{"comments":[{"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"score":0,"creation_date":1608373360,"post_id":65329133,"comment_id":115567431,"body_markdown":"Thank you for your reply, but I cant add my remove layout to the same xml of the widget, it need to be from out side my widget layout so when i drag or press for 6 sec the remove layout will show from the bottom of the screen.","body":"Thank you for your reply, but I cant add my remove layout to the same xml of the widget, it need to be from out side my widget layout so when i drag or press for 6 sec the remove layout will show from the bottom of the screen."}],"tags":[],"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608143644,"creation_date":1608143644,"answer_id":65329133,"question_id":65312936,"body_markdown":"I would recommend you add this removable layout into your XML file and have it be `View.GONE` until you require it, this way you don&#39;t have to be worried about adding it programmatically and settings the correct layout parameters (this is probably what&#39;s failing in your current code).\r\n\r\nOnce you receive the longClick on the other View, you can toggle the removable layout to be `View.VISIBLE` and perhaps even add combine that with a quick animation to make it seem more &#39;friendly&#39; to the user.","title":"Activity not attached to windows manager","body":"<p>I would recommend you add this removable layout into your XML file and have it be <code>View.GONE</code> until you require it, this way you don't have to be worried about adding it programmatically and settings the correct layout parameters (this is probably what's failing in your current code).</p>\n<p>Once you receive the longClick on the other View, you can toggle the removable layout to be <code>View.VISIBLE</code> and perhaps even add combine that with a quick animation to make it seem more 'friendly' to the user.</p>\n"},{"tags":[],"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652748877,"creation_date":1626874801,"answer_id":68470567,"question_id":65312936,"body_markdown":"I find the solution for my problem,\r\nthe problem was that I&#39;m closing the activity before the view is loaded,\r\nso what I did is to wait for 1 sec before closing the activity,\r\nusing simply:\r\n\r\n\r\n\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //close the activity after 1 sec \r\n        }\r\n    },1000);    \r\n","title":"Activity not attached to windows manager","body":"<p>I find the solution for my problem,\nthe problem was that I'm closing the activity before the view is loaded,\nso what I did is to wait for 1 sec before closing the activity,\nusing simply:</p>\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //close the activity after 1 sec \n    }\n},1000);    \n</code></pre>\n"}],"owner":{"account_id":5602142,"reputation":3,"user_id":4438044,"display_name":"chadi sfeir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68470567,"answer_count":2,"score":0,"last_activity_date":1699986654,"creation_date":1608062779,"question_id":65312936,"body_markdown":"I have a floating widget (that draws over all the apps) that on a long click will show a relative layout (`remove_relativelayout`) from the bottom of the screen that shows an x icon so that the user can drag the widget to remove it.\r\n\r\nOn most Samsung phones I get this crash:\r\n\r\n```\r\nFatal Exception: java.lang.IllegalArgumentException: View=android.widget.RelativeLayout{762db5 G.E...... ......ID 0,0-160,160 #7f09022d app:id/remove_relativelayout} not attached to window manager\r\n       at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:569)\r\n       at android.view.WindowManagerGlobal.updateViewLayout(WindowManagerGlobal.java:463)\r\n       at android.view.WindowManagerImpl.updateViewLayout(WindowManagerImpl.java:101)\r\n       at com.xxxx.dev.floatingwidget.services.FloatingWidgetServices.lambda$widgetLongClick$0(FloatingWidgetServices.java:20)\r\n       at com.xxxxx.dev.floatingwidget.services.FloatingWidgetServices.lambda$widgetLongClick$0$FloatingWidgetServices(FloatingWidgetServices.java)\r\n       at com.xxxxxx.dev.floatingwidget.services.-$$Lambda$FloatingWidgetServices$DhV3rKQxnQ9oEEnb70PNAJKR8NQ.onAnimationUpdate(-.java:4)\r\n       at android.animation.ValueAnimator.animateValue(ValueAnimator.java:1558)\r\n       at android.animation.ValueAnimator.animateBasedOnTime(ValueAnimator.java:1349)\r\n       at android.animation.ValueAnimator.doAnimationFrame(ValueAnimator.java:1481)\r\n       at android.animation.AnimationHandler.doAnimationFrame(AnimationHandler.java:146)\r\n       at android.animation.AnimationHandler.access$100(AnimationHandler.java:37)\r\n       at android.animation.AnimationHandler$1.doFrame(AnimationHandler.java:54)\r\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:994)\r\n       at android.view.Choreographer.doCallbacks(Choreographer.java:794)\r\n       at android.view.Choreographer.doFrame(Choreographer.java:725)\r\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:981)\r\n       at android.os.Handler.handleCallback(Handler.java:883)\r\n       at android.os.Handler.dispatchMessage(Handler.java:100)\r\n       at android.os.Looper.loop(Looper.java:237)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7857)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068)\r\n```\r\nHere is on start:\r\n\r\n \r\n\r\n    WindowManager.LayoutParams paramRemove = new WindowManager.LayoutParams(\r\n                    WindowManager.LayoutParams.WRAP_CONTENT,\r\n                    WindowManager.LayoutParams.WRAP_CONTENT,\r\n                    windowType,\r\n                    WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH |\r\n                            WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,\r\n                    PixelFormat.TRANSLUCENT);\r\n            paramRemove.gravity = Gravity.TOP | Gravity.LEFT;\r\n    \r\n            removeView.setVisibility(View.GONE);\r\n            removeImg = removeView.findViewById(R.id.remove_img);\r\n    \r\n            windowManager.addView(removeView, paramRemove);\r\n\r\n\r\nThis is the &quot;onLongClick&quot; function I&#39;m using:\r\n\r\n \r\n\r\n    private void widgetLongClick() {\r\n            GlobalFunctions.printLn(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Into FloatingWidgetService.chathead_longclick() &quot;);\r\n    \r\n            WindowManager.LayoutParams param_remove = (WindowManager.LayoutParams) removeView.getLayoutParams();\r\n            int x_cord_remove = (szWindow.x - removeView.getWidth()) / 2;\r\n            int y_cord_remove = szWindow.y - (removeView.getHeight() + getStatusBarHeight());\r\n    \r\n            param_remove.x = x_cord_remove;\r\n            param_remove.y = y_cord_remove;\r\n    \r\n            ValueAnimator va = ValueAnimator.ofFloat(szWindow.y, y_cord_remove);\r\n            int mDuration = 100;\r\n            if(removeView.isAttachedToWindow()){\r\n                if(param_remove != null){\r\n                    if(windowManager !=null){\r\n                        va.setDuration(mDuration);\r\n                        va.addUpdateListener(animation -&gt; {\r\n                            param_remove.y = Math.round((Float) animation.getAnimatedValue());\r\n                            windowManager.updateViewLayout(removeView, param_remove);\r\n                        });\r\n                        va.start();\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Activity not attached to windows manager","body":"<p>I have a floating widget (that draws over all the apps) that on a long click will show a relative layout (<code>remove_relativelayout</code>) from the bottom of the screen that shows an x icon so that the user can drag the widget to remove it.</p>\n<p>On most Samsung phones I get this crash:</p>\n<pre><code>Fatal Exception: java.lang.IllegalArgumentException: View=android.widget.RelativeLayout{762db5 G.E...... ......ID 0,0-160,160 #7f09022d app:id/remove_relativelayout} not attached to window manager\n       at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:569)\n       at android.view.WindowManagerGlobal.updateViewLayout(WindowManagerGlobal.java:463)\n       at android.view.WindowManagerImpl.updateViewLayout(WindowManagerImpl.java:101)\n       at com.xxxx.dev.floatingwidget.services.FloatingWidgetServices.lambda$widgetLongClick$0(FloatingWidgetServices.java:20)\n       at com.xxxxx.dev.floatingwidget.services.FloatingWidgetServices.lambda$widgetLongClick$0$FloatingWidgetServices(FloatingWidgetServices.java)\n       at com.xxxxxx.dev.floatingwidget.services.-$$Lambda$FloatingWidgetServices$DhV3rKQxnQ9oEEnb70PNAJKR8NQ.onAnimationUpdate(-.java:4)\n       at android.animation.ValueAnimator.animateValue(ValueAnimator.java:1558)\n       at android.animation.ValueAnimator.animateBasedOnTime(ValueAnimator.java:1349)\n       at android.animation.ValueAnimator.doAnimationFrame(ValueAnimator.java:1481)\n       at android.animation.AnimationHandler.doAnimationFrame(AnimationHandler.java:146)\n       at android.animation.AnimationHandler.access$100(AnimationHandler.java:37)\n       at android.animation.AnimationHandler$1.doFrame(AnimationHandler.java:54)\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:994)\n       at android.view.Choreographer.doCallbacks(Choreographer.java:794)\n       at android.view.Choreographer.doFrame(Choreographer.java:725)\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:981)\n       at android.os.Handler.handleCallback(Handler.java:883)\n       at android.os.Handler.dispatchMessage(Handler.java:100)\n       at android.os.Looper.loop(Looper.java:237)\n       at android.app.ActivityThread.main(ActivityThread.java:7857)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068)\n</code></pre>\n<p>Here is on start:</p>\n<pre><code>WindowManager.LayoutParams paramRemove = new WindowManager.LayoutParams(\n                WindowManager.LayoutParams.WRAP_CONTENT,\n                WindowManager.LayoutParams.WRAP_CONTENT,\n                windowType,\n                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH |\n                        WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,\n                PixelFormat.TRANSLUCENT);\n        paramRemove.gravity = Gravity.TOP | Gravity.LEFT;\n\n        removeView.setVisibility(View.GONE);\n        removeImg = removeView.findViewById(R.id.remove_img);\n\n        windowManager.addView(removeView, paramRemove);\n</code></pre>\n<p>This is the &quot;onLongClick&quot; function I'm using:</p>\n<pre><code>private void widgetLongClick() {\n        GlobalFunctions.printLn(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Into FloatingWidgetService.chathead_longclick() &quot;);\n\n        WindowManager.LayoutParams param_remove = (WindowManager.LayoutParams) removeView.getLayoutParams();\n        int x_cord_remove = (szWindow.x - removeView.getWidth()) / 2;\n        int y_cord_remove = szWindow.y - (removeView.getHeight() + getStatusBarHeight());\n\n        param_remove.x = x_cord_remove;\n        param_remove.y = y_cord_remove;\n\n        ValueAnimator va = ValueAnimator.ofFloat(szWindow.y, y_cord_remove);\n        int mDuration = 100;\n        if(removeView.isAttachedToWindow()){\n            if(param_remove != null){\n                if(windowManager !=null){\n                    va.setDuration(mDuration);\n                    va.addUpdateListener(animation -&gt; {\n                        param_remove.y = Math.round((Float) animation.getAnimatedValue());\n                        windowManager.updateViewLayout(removeView, param_remove);\n                    });\n                    va.start();\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle","google-app-engine","plugins","java-17"],"comments":[{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1699461122,"post_id":77438522,"comment_id":136535266,"body_markdown":"Are you using App Engine Standard or Flexible? Have you checked if this [documentation](https://cloud.google.com/appengine/docs/standard/setting-up-environment?tab=java) would be applicable to your application?","body":"Are you using App Engine Standard or Flexible? Have you checked if this <a href=\"https://cloud.google.com/appengine/docs/standard/setting-up-environment?tab=java\" rel=\"nofollow noreferrer\">documentation</a> would be applicable to your application?"},{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1699878668,"post_id":77438522,"comment_id":136582160,"body_markdown":"@RobertG I&#39;m using app engine standard. Does that support running java 17 in local?","body":"@RobertG I&#39;m using app engine standard. Does that support running java 17 in local?"},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1699882676,"post_id":77438522,"comment_id":136582948,"body_markdown":"Yes it supports Java 17. Please check this documentation on [Java runtime environment](https://cloud.google.com/appengine/docs/standard/java-gen2/runtime).","body":"Yes it supports Java 17. Please check this documentation on <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/runtime\" rel=\"nofollow noreferrer\">Java runtime environment</a>."}],"answers":[{"comments":[{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1700134672,"post_id":77482976,"comment_id":136618630,"body_markdown":"My project is a appengine-web.xml based project. I&#39;ve updated it to java17 there. How do I verify if it is using java17 or not?","body":"My project is a appengine-web.xml based project. I&#39;ve updated it to java17 there. How do I verify if it is using java17 or not?"},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1700141929,"post_id":77482976,"comment_id":136619961,"body_markdown":"Please check this [Github link](https://github.com/GoogleCloudPlatform/java-docs-samples/tree/main/appengine-java17-bundled-services) wherein the only difference between a Java8 application and a Java17 application is in the `appengine-web.xml` file where you need to define the Java17 runtime and declare you need the App Engine APIs.","body":"Please check this <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/tree/main/appengine-java17-bundled-services\" rel=\"nofollow noreferrer\">Github link</a> wherein the only difference between a Java8 application and a Java17 application is in the <code>appengine-web.xml</code> file where you need to define the Java17 runtime and declare you need the App Engine APIs."},{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1700143485,"post_id":77482976,"comment_id":136620261,"body_markdown":"Yes. I just want to know if my local app engine server is using java17 as well. Because without &lt;app-engine-apis&gt;true&lt;/app-engine-apis&gt; caused an issue after deployment but worked just fine in the local appengine server. What could be the reason?","body":"Yes. I just want to know if my local app engine server is using java17 as well. Because without &lt;app-engine-apis&gt;true&lt;/app-engine-apis&gt; caused an issue after deployment but worked just fine in the local appengine server. What could be the reason?"}],"tags":[],"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699985986,"creation_date":1699985986,"answer_id":77482976,"question_id":77438522,"body_markdown":"You can use Java 17 in your runtime environment based on this documentation on [Java runtime environment](https://cloud.google.com/appengine/docs/standard/java-gen2/runtime). Your `app.yaml` should have the `runtime` version indicated:\n\n```\nruntime: java17\n```\n\nYou can also check this documentation on [using Gradle and the App Engine Plugin](https://cloud.google.com/appengine/docs/standard/java-gen2/using-gradle).\n\nIf the aforementioned steps didn&#39;t work, I would suggest filing an issue through this [issue tracker](https://cloud.google.com/support/docs/issue-trackers) or through this [Github issue link](https://github.com/GoogleCloudPlatform/app-gradle-plugin/issues) so that Google Cloud engineers could take a look at this and provide you further assistance.","title":"Can app engine gradle plugin use java version 17?","body":"<p>You can use Java 17 in your runtime environment based on this documentation on <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/runtime\" rel=\"nofollow noreferrer\">Java runtime environment</a>. Your <code>app.yaml</code> should have the <code>runtime</code> version indicated:</p>\n<pre><code>runtime: java17\n</code></pre>\n<p>You can also check this documentation on <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/using-gradle\" rel=\"nofollow noreferrer\">using Gradle and the App Engine Plugin</a>.</p>\n<p>If the aforementioned steps didn't work, I would suggest filing an issue through this <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"nofollow noreferrer\">issue tracker</a> or through this <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/issues\" rel=\"nofollow noreferrer\">Github issue link</a> so that Google Cloud engineers could take a look at this and provide you further assistance.</p>\n"}],"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699985986,"creation_date":1699363086,"question_id":77438522,"body_markdown":"I&#39;m running a gradle project locally with appengine.I could see that it still makes use of java 8 even though I have deleted java 8 from my machine. Is it possible to make it use my locally installed version 17? In case you are wondering, this is my build.gradle file\r\n```\r\n buildscript {\r\n  ...\r\n  }\r\n\r\n  dependencies {\r\n    classpath &#39;com.google.cloud.tools:appengine-gradle-plugin:2.5.0&#39;\r\n    classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:4.4.1.3373&quot;\r\n  }\r\n}\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\napply plugin: &#39;com.google.cloud.tools.appengine-appenginewebxml&#39;\r\napply plugin: &quot;org.sonarqube&quot;\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java.srcDirs = [&#39;../&#39;]\r\n    }\r\n}\r\n\r\ndependencies {\r\n   ...\r\n}\r\n\r\next.getAppVersion = { -&gt;\r\n    return project.property(&#39;version&#39;)\r\n}\r\n\r\nappengine {\r\n    tools {\r\n        cloudSdkVersion = &#39;449.0.0&#39;\r\n    }\r\n    run {\r\n        jvmFlags = [&#39;-Dappengine.fullscan.seconds=5&#39;]\r\n        projectId= &#39;beta-v2&#39;\r\n        services = &#39;../war&#39;\r\n        port = 8080\r\n        automaticRestart = true\r\n    }\r\n}\r\n\r\nwar {\r\n    duplicatesStrategy = &#39;exclude&#39;\r\n}\r\n\r\nexplodeWar {\r\n    with copySpec {\r\n        from &#39;../war/WEB-INF/appengine-web.xml&#39;\r\n        into &#39;WEB-INF&#39;\r\n    }\r\n}\r\n```\r\nThanks","title":"Can app engine gradle plugin use java version 17?","body":"<p>I'm running a gradle project locally with appengine.I could see that it still makes use of java 8 even though I have deleted java 8 from my machine. Is it possible to make it use my locally installed version 17? In case you are wondering, this is my build.gradle file</p>\n<pre><code> buildscript {\n  ...\n  }\n\n  dependencies {\n    classpath 'com.google.cloud.tools:appengine-gradle-plugin:2.5.0'\n    classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:4.4.1.3373&quot;\n  }\n}\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'com.google.cloud.tools.appengine-appenginewebxml'\napply plugin: &quot;org.sonarqube&quot;\njava {\n    sourceCompatibility = '17'\n    targetCompatibility = '17'\n}\n\nsourceSets {\n    main {\n        java.srcDirs = ['../']\n    }\n}\n\ndependencies {\n   ...\n}\n\next.getAppVersion = { -&gt;\n    return project.property('version')\n}\n\nappengine {\n    tools {\n        cloudSdkVersion = '449.0.0'\n    }\n    run {\n        jvmFlags = ['-Dappengine.fullscan.seconds=5']\n        projectId= 'beta-v2'\n        services = '../war'\n        port = 8080\n        automaticRestart = true\n    }\n}\n\nwar {\n    duplicatesStrategy = 'exclude'\n}\n\nexplodeWar {\n    with copySpec {\n        from '../war/WEB-INF/appengine-web.xml'\n        into 'WEB-INF'\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring-data-jpa","testcontainers"],"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1640654392,"post_id":61625288,"comment_id":124626165,"body_markdown":"this error may be induced by another error -&gt; https://github.com/testcontainers/testcontainers-java/issues/3609 Check if you have &quot;Could not connect to Ryuk at localhost:49154&quot; in your logs.","body":"this error may be induced by another error -&gt; <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3609\" rel=\"nofollow noreferrer\">github.com/testcontainers/testcontainers-java/issues/3609</a> Check if you have &quot;Could not connect to Ryuk at localhost:49154&quot; in your logs."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1680802920,"post_id":61625288,"comment_id":133963224,"body_markdown":"I also had this issue when I had forgotten to use the `@Testcontainers` annotation on the class","body":"I also had this issue when I had forgotten to use the <code>@Testcontainers</code> annotation on the class"}],"answers":[{"comments":[{"owner":{"account_id":2046439,"reputation":2895,"user_id":1826422,"display_name":"bsideup"},"score":4,"creation_date":1588760088,"post_id":61628352,"comment_id":109020035,"body_markdown":"Alternatively, the JDBC integration can be used:\nhttps://www.testcontainers.org/modules/databases/jdbc/","body":"Alternatively, the JDBC integration can be used: <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/databases/jdbc</a>"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1588744955,"creation_date":1588744592,"answer_id":61628352,"question_id":61625288,"body_markdown":"You are trying to use `PostgresSQLContainer` as JUnit `ClassRule` but your usage of `@ExtendWith` seems to indicate that you are using JUnit 5 / Jupiter which does not support JUnit 4 rules. \r\n\r\nUse the JUnit 5 integration of Testcontainers instead: https://www.testcontainers.org/test_framework_integration/junit_5/","title":"Spring Boot TestContainers Mapped port can only be obtained after the container is started","body":"<p>You are trying to use <code>PostgresSQLContainer</code> as JUnit <code>ClassRule</code> but your usage of <code>@ExtendWith</code> seems to indicate that you are using JUnit 5 / Jupiter which does not support JUnit 4 rules. </p>\n\n<p>Use the JUnit 5 integration of Testcontainers instead: <a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\" rel=\"noreferrer\">https://www.testcontainers.org/test_framework_integration/junit_5/</a></p>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1700476230,"post_id":73745384,"comment_id":136654967,"body_markdown":"`.start()` works too for `new MSSQLServerContainer&lt;&gt;()`. But just realized(at least for `JUnit5`), we should not be using `.start()`. There&#39;s `@Testcontainers` and `@Container` for that.","body":"<code>.start()</code> works too for <code>new MSSQLServerContainer&lt;&gt;()</code>. But just realized(at least for <code>JUnit5</code>), we should not be using <code>.start()</code>. There&#39;s <code>@Testcontainers</code> and <code>@Container</code> for that."}],"tags":[],"owner":{"account_id":557120,"reputation":1151,"user_id":919456,"display_name":"Dzmitry Hubin"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1663334099,"creation_date":1663334099,"answer_id":73745384,"question_id":61625288,"body_markdown":"Not sure if it does help to smdy but for me starting the actual test container after its definition solved the problem:\r\n\r\n```\r\n@Container\r\nprivate static final PostgreSQLContainer DATABASE = new PostgreSQLContainer(&quot;postgres:14&quot;);\r\n\r\nstatic {\r\n    DATABASE.start();\r\n}\r\n\r\n// any kind of DynamicPropertySources or initializers \r\n// goes below and can successfully get mapped port from DATABASE.getJdbcUrl()\r\n```","title":"Spring Boot TestContainers Mapped port can only be obtained after the container is started","body":"<p>Not sure if it does help to smdy but for me starting the actual test container after its definition solved the problem:</p>\n<pre><code>@Container\nprivate static final PostgreSQLContainer DATABASE = new PostgreSQLContainer(&quot;postgres:14&quot;);\n\nstatic {\n    DATABASE.start();\n}\n\n// any kind of DynamicPropertySources or initializers \n// goes below and can successfully get mapped port from DATABASE.getJdbcUrl()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434364,"reputation":11,"user_id":20281279,"display_name":"Jannick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666290957,"creation_date":1666174275,"answer_id":74123602,"question_id":61625288,"body_markdown":"This problem occured when I still used Junit 4 org.junit.Test to annotate test methods. Adding the explicit start command as suggested by Dzmitry worked for me in this case.\r\nAs the more appropriate remediation,  I annotated my test methods with Junit 5 org.junit.jupiter.api.Test annotation. In this case, the containers start without an explicit start command.\r\n\r\nBelow worked for me\r\n\r\n`import org.junit.jupiter.api.Test;`\r\n\r\n`import org.testcontainers.containers.PostgreSQLContainer;`\r\n\r\n`import org.testcontainers.junit.jupiter.Container;`\r\n\r\n`import org.testcontainers.junit.jupiter.Testcontainers;`\r\n\r\n\r\n```\r\n@Testcontainers\r\npublic class DataBaseConnectionTest {\r\n\r\n    @Container\r\n    private static final PostgreSQLContainer&lt;?&gt; databaseContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14&quot;);\r\n\r\n    ...\r\n    @Test\r\n    void test1() {\r\n    System.out.println(databaseContainer..getJdbcUrl());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe following are my Maven dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Spring Boot TestContainers Mapped port can only be obtained after the container is started","body":"<p>This problem occured when I still used Junit 4 org.junit.Test to annotate test methods. Adding the explicit start command as suggested by Dzmitry worked for me in this case.\nAs the more appropriate remediation,  I annotated my test methods with Junit 5 org.junit.jupiter.api.Test annotation. In this case, the containers start without an explicit start command.</p>\n<p>Below worked for me</p>\n<p><code>import org.junit.jupiter.api.Test;</code></p>\n<p><code>import org.testcontainers.containers.PostgreSQLContainer;</code></p>\n<p><code>import org.testcontainers.junit.jupiter.Container;</code></p>\n<p><code>import org.testcontainers.junit.jupiter.Testcontainers;</code></p>\n<pre><code>@Testcontainers\npublic class DataBaseConnectionTest {\n\n    @Container\n    private static final PostgreSQLContainer&lt;?&gt; databaseContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14&quot;);\n\n    ...\n    @Test\n    void test1() {\n    System.out.println(databaseContainer..getJdbcUrl());\n    }\n\n}\n</code></pre>\n<p>The following are my Maven dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;1.17.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n   \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n        &lt;version&gt;1.17.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;1.17.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22914531,"reputation":3,"user_id":22509994,"display_name":"NRXXGZLS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696735261,"creation_date":1696735261,"answer_id":77252193,"question_id":61625288,"body_markdown":"The solution as mentioned [here][1] is to start the container after the declaration. I only had this issue when I changed the lifecycle of my tests to per class.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73745384/22509994","title":"Spring Boot TestContainers Mapped port can only be obtained after the container is started","body":"<p>The solution as mentioned <a href=\"https://stackoverflow.com/a/73745384/22509994\">here</a> is to start the container after the declaration. I only had this issue when I changed the lifecycle of my tests to per class.</p>\n"}],"owner":{"account_id":5067982,"reputation":665,"user_id":4067585,"accept_rate":33,"display_name":"Will Harrison"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35679,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":61628352,"answer_count":4,"score":35,"last_activity_date":1699985668,"creation_date":1588724642,"question_id":61625288,"body_markdown":"I&#39;m trying to add automated testing using the TestContainers library to my Spring Boot project\r\n\r\nHere is my test class to test my jpa repository:\r\n\r\n```lang-java\r\npackage com.ubm.mfi.repo;\r\n\r\nimport com.ubm.mfi.domain.MasterFileIndexRow;\r\nimport org.junit.ClassRule;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.boot.test.util.TestPropertyValues;\r\nimport org.springframework.context.ApplicationContextInitializer;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@Testcontainers\r\n@ContextConfiguration(initializers = { MasterFileIndexRowRepoTest.Initializer.class })\r\npublic class MasterFileIndexRowRepoTest {\r\n\r\n    @ClassRule\r\n    public static PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:latest&quot;);\r\n\r\n    @Autowired\r\n    private MasterFileIndexRowRepo masterFileIndexRowRepo;\r\n\r\n    // write test cases here\r\n    @Test\r\n    public void whenFindAllRows_thenSizeIsGreaterThanZero() {\r\n        // when\r\n        List&lt;MasterFileIndexRow&gt; rows = masterFileIndexRowRepo.findAll();\r\n\r\n        // then\r\n        assertThat(rows.size())\r\n                .isGreaterThan(0);\r\n    }\r\n\r\n    static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n\r\n            TestPropertyValues\r\n                    .of(&quot;spring.datasource.url=&quot; + postgreSQLContainer.getJdbcUrl(),\r\n                            &quot;spring.datasource.username=&quot; + postgreSQLContainer.getUsername(),\r\n                            &quot;spring.datasource.password=&quot; + postgreSQLContainer.getPassword())\r\n                    .applyTo(configurableApplicationContext.getEnvironment());\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere are the dependencies in my build.gradle\r\n\r\n```lang-groovy\r\ntestCompile &quot;org.testcontainers:testcontainers:1.14.1&quot;\r\ntestCompile &quot;org.testcontainers:postgresql:1.14.1&quot;\r\n```\r\n\r\n**When running the Test I get this error:** ```Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started```\r\n\r\nFrom what I&#39;ve seen, the container should start when starting the test, does anybody know what I&#39;m missing?","title":"Spring Boot TestContainers Mapped port can only be obtained after the container is started","body":"<p>I'm trying to add automated testing using the TestContainers library to my Spring Boot project</p>\n<p>Here is my test class to test my jpa repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ubm.mfi.repo;\n\nimport com.ubm.mfi.domain.MasterFileIndexRow;\nimport org.junit.ClassRule;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.util.TestPropertyValues;\nimport org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.testcontainers.containers.PostgreSQLContainer;\nimport org.testcontainers.junit.jupiter.Testcontainers;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@ExtendWith(SpringExtension.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@Testcontainers\n@ContextConfiguration(initializers = { MasterFileIndexRowRepoTest.Initializer.class })\npublic class MasterFileIndexRowRepoTest {\n\n    @ClassRule\n    public static PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:latest&quot;);\n\n    @Autowired\n    private MasterFileIndexRowRepo masterFileIndexRowRepo;\n\n    // write test cases here\n    @Test\n    public void whenFindAllRows_thenSizeIsGreaterThanZero() {\n        // when\n        List&lt;MasterFileIndexRow&gt; rows = masterFileIndexRowRepo.findAll();\n\n        // then\n        assertThat(rows.size())\n                .isGreaterThan(0);\n    }\n\n    static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n\n            TestPropertyValues\n                    .of(&quot;spring.datasource.url=&quot; + postgreSQLContainer.getJdbcUrl(),\n                            &quot;spring.datasource.username=&quot; + postgreSQLContainer.getUsername(),\n                            &quot;spring.datasource.password=&quot; + postgreSQLContainer.getPassword())\n                    .applyTo(configurableApplicationContext.getEnvironment());\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here are the dependencies in my build.gradle</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>testCompile &quot;org.testcontainers:testcontainers:1.14.1&quot;\ntestCompile &quot;org.testcontainers:postgresql:1.14.1&quot;\n</code></pre>\n<p><strong>When running the Test I get this error:</strong> <code>Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started</code></p>\n<p>From what I've seen, the container should start when starting the test, does anybody know what I'm missing?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-types"],"answers":[{"comments":[{"owner":{"account_id":4318767,"reputation":2579,"user_id":3527729,"display_name":"Ankit Bhatia"},"score":1,"creation_date":1588341779,"post_id":61118424,"comment_id":108865314,"body_markdown":"Not sure why but adding this property didn&#39;t remove the banner for me.","body":"Not sure why but adding this property didn&#39;t remove the banner for me."},{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1588343576,"post_id":61118424,"comment_id":108866241,"body_markdown":"maybe the file is not part of your class path.","body":"maybe the file is not part of your class path."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1594527002,"post_id":61118424,"comment_id":111154639,"body_markdown":"@AnkitBhatia If you&#39;re using Spring Boot, check out the Spring Boot section I added to the answer.","body":"@AnkitBhatia If you&#39;re using Spring Boot, check out the Spring Boot section I added to the answer."},{"owner":{"account_id":5526036,"reputation":1859,"user_id":4387470,"display_name":"Sanjay Singh Rawat"},"score":0,"creation_date":1605090531,"post_id":61118424,"comment_id":114543709,"body_markdown":"@AnkitBhatia please check my answer below, this might help you  https://stackoverflow.com/questions/61118423/how-to-disable-the-hypersistence-optimizer-banner-when-using-hibernate-types-5#answer-64692998","body":"@AnkitBhatia please check my answer below, this might help you  <a href=\"https://stackoverflow.com/questions/61118423/how-to-disable-the-hypersistence-optimizer-banner-when-using-hibernate-types-5#answer-64692998\" title=\"how to disable the hypersistence optimizer banner when using hibernate types 5%23answer 64692998\">stackoverflow.com/questions/61118423/&hellip;</a>"},{"owner":{"account_id":89452,"reputation":1778,"user_id":246798,"accept_rate":57,"display_name":"ksemeks"},"score":2,"creation_date":1630707096,"post_id":61118424,"comment_id":122038876,"body_markdown":"@VladMihalcea i am unable to turn off the banner via the spring.jpa.properties.hibernate.types.print.banner=false, even though i am using hibernate-types-55:2.12.0. any idea why? (i can turn it off by creating the hibernate.properties file)","body":"@VladMihalcea i am unable to turn off the banner via the spring.jpa.properties.hibernate.types.print.banner=false, even though i am using hibernate-types-55:2.12.0. any idea why? (i can turn it off by creating the hibernate.properties file)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1630760977,"post_id":61118424,"comment_id":122046975,"body_markdown":"@ksemeks Add a breakpoint at [this line](https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/type/TypeFactory.java#L97) in Hibernate ORM and see why the `TypeBootstrapContext` object is not passed to the Hibernate Types constructor.","body":"@ksemeks Add a breakpoint at <a href=\"https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/type/TypeFactory.java#L97\" rel=\"nofollow noreferrer\">this line</a> in Hibernate ORM and see why the <code>TypeBootstrapContext</code> object is not passed to the Hibernate Types constructor."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1699985233,"post_id":61118424,"comment_id":136598452,"body_markdown":"Looks like the issue behind the link has been deleted, and it&#39;s not in the archive.org Wayback Machine: [How to remove the Hibernate Types banner](https://github.com/vladmihalcea/hibernate-types/issues/196).","body":"Looks like the issue behind the link has been deleted, and it&#39;s not in the archive.org Wayback Machine: <a href=\"https://github.com/vladmihalcea/hibernate-types/issues/196\" rel=\"nofollow noreferrer\">How to remove the Hibernate Types banner</a>."}],"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":7,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1623739225,"creation_date":1586425993,"answer_id":61118424,"question_id":61118423,"body_markdown":"There is a description by the Project Owner why the banner was introduced, why it will not be disabled on default and how to disable it manually.\r\n\r\n[How to remove the Hibernate Types banner](https://github.com/vladmihalcea/hibernate-types/issues/196)\r\n\r\nThe automatic banner removal mode\r\n---------------------------------\r\n\r\nIn short, you can buy a [Hypersistence Optimizer license](https://vladmihalcea.com/hypersistence-optimizer/) and add the project as a dependency to benefit from the JPA and Hibernate auto-tuning checks.\r\n\r\nManual banner removal\r\n---------------------\r\n\r\nOr you can add either a `hibernate.properties` or `hibernate-types.properties` file to your project with the one property to disable the banner:\r\n\r\n    hibernate.types.print.banner = false\r\n\r\nOr, you could pass this property as a Java System property:\r\n\r\n    java -Dhibernate.types.print.banner=false -jar target/high-performance-java-persistence-1.0.0.jar\r\n\r\nSpring Boot\r\n-----------\r\n\r\nStarting with the release of Hibernate 5.5 and the `hibernate-types-55` dependency, you can now provide the `hibernate.types.print.banner` property in your `application.properties` file, like this:\r\n\r\n    spring.jpa.properties.hibernate.types.print.banner=false\r\n\r\n&gt; If you&#39;re using `hibernate-types-52` or older dependencies, then you won&#39;t be able to provide this setting via the Spring Boot` application.properties` file.","title":"How to disable the Hypersistence banner when using hibernate-types-52 in Spring Boot?","body":"<p>There is a description by the Project Owner why the banner was introduced, why it will not be disabled on default and how to disable it manually.</p>\n<p><a href=\"https://github.com/vladmihalcea/hibernate-types/issues/196\" rel=\"noreferrer\">How to remove the Hibernate Types banner</a></p>\n<h2>The automatic banner removal mode</h2>\n<p>In short, you can buy a <a href=\"https://vladmihalcea.com/hypersistence-optimizer/\" rel=\"noreferrer\">Hypersistence Optimizer license</a> and add the project as a dependency to benefit from the JPA and Hibernate auto-tuning checks.</p>\n<h2>Manual banner removal</h2>\n<p>Or you can add either a <code>hibernate.properties</code> or <code>hibernate-types.properties</code> file to your project with the one property to disable the banner:</p>\n<pre><code>hibernate.types.print.banner = false\n</code></pre>\n<p>Or, you could pass this property as a Java System property:</p>\n<pre><code>java -Dhibernate.types.print.banner=false -jar target/high-performance-java-persistence-1.0.0.jar\n</code></pre>\n<h2>Spring Boot</h2>\n<p>Starting with the release of Hibernate 5.5 and the <code>hibernate-types-55</code> dependency, you can now provide the <code>hibernate.types.print.banner</code> property in your <code>application.properties</code> file, like this:</p>\n<pre><code>spring.jpa.properties.hibernate.types.print.banner=false\n</code></pre>\n<blockquote>\n<p>If you're using <code>hibernate-types-52</code> or older dependencies, then you won't be able to provide this setting via the Spring Boot<code> application.properties</code> file.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1281225,"reputation":5615,"user_id":1235281,"accept_rate":88,"display_name":"Jodiug"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597415217,"creation_date":1597415217,"answer_id":63414708,"question_id":61118423,"body_markdown":"An alternative to the answers above, if you do not have access to JVM arguments.\r\n\r\nBoth these approaches work with Spring Boot, tested on 2.2.x.\r\n\r\n\r\n# Option 1: additional properties file\r\n\r\nCreate a file at `src/main/resources/hibernate-types.properties`.\r\n\r\n```\r\nhibernate.types.print.banner=false\r\n```\r\n\r\n# Option 2: hacking around the hibernate-types check\r\n\r\nCreate either of the following files (depending on your version of `hibernate-types`).\r\n\r\nLatest way of doing things: `src/main/java/io/hypersistence/optimizer/core/License.java`.\r\n\r\n```\r\npackage io.hypersistence.optimizer.core;\r\n\r\npublic class License {\r\n  public static class Signature {\r\n  }\r\n}\r\n```\r\n\r\nAn older version checks for `src/main/java/io/hypersistence/optimizer/HypersistenceOptimizer.java`.\r\n\r\n```\r\npackage io.hypersistence.optimizer;\r\n\r\npublic class HypersistenceOptimizer {\r\n}\r\n```","title":"How to disable the Hypersistence banner when using hibernate-types-52 in Spring Boot?","body":"<p>An alternative to the answers above, if you do not have access to JVM arguments.</p>\n<p>Both these approaches work with Spring Boot, tested on 2.2.x.</p>\n<h1>Option 1: additional properties file</h1>\n<p>Create a file at <code>src/main/resources/hibernate-types.properties</code>.</p>\n<pre><code>hibernate.types.print.banner=false\n</code></pre>\n<h1>Option 2: hacking around the hibernate-types check</h1>\n<p>Create either of the following files (depending on your version of <code>hibernate-types</code>).</p>\n<p>Latest way of doing things: <code>src/main/java/io/hypersistence/optimizer/core/License.java</code>.</p>\n<pre><code>package io.hypersistence.optimizer.core;\n\npublic class License {\n  public static class Signature {\n  }\n}\n</code></pre>\n<p>An older version checks for <code>src/main/java/io/hypersistence/optimizer/HypersistenceOptimizer.java</code>.</p>\n<pre><code>package io.hypersistence.optimizer;\n\npublic class HypersistenceOptimizer {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1701916,"reputation":136,"user_id":1561740,"display_name":"btilford"},"score":1,"creation_date":1642802865,"post_id":64692998,"comment_id":125177993,"body_markdown":"The banner is printed at WARN level, probably best not to turn it off.","body":"The banner is printed at WARN level, probably best not to turn it off."}],"tags":[],"owner":{"account_id":5526036,"reputation":1859,"user_id":4387470,"display_name":"Sanjay Singh Rawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636376519,"creation_date":1604562163,"answer_id":64692998,"question_id":61118423,"body_markdown":"Just include the logger name and the level to `WARN` or `ERROR` in the log configuration file.\r\n\r\nExample for **log4j2** (`log4j2.yml`):\r\n\r\n```yaml\r\nconfiguration:\r\n  Loggers:\r\n    Logger:\r\n      - name: Hibernate Types\r\n        level: WARN\r\n```\r\n\r\n**Note**: Logger&#39;s name is important here: `Hibernate Types`. Tested for `hibernate-types-52:2.9.13`. The same can be achieved for other versions, just include the proper logger name. One can find the logger name in the logs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sCLKR.png","title":"How to disable the Hypersistence banner when using hibernate-types-52 in Spring Boot?","body":"<p>Just include the logger name and the level to <code>WARN</code> or <code>ERROR</code> in the log configuration file.</p>\n<p>Example for <strong>log4j2</strong> (<code>log4j2.yml</code>):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>configuration:\n  Loggers:\n    Logger:\n      - name: Hibernate Types\n        level: WARN\n</code></pre>\n<p><strong>Note</strong>: Logger's name is important here: <code>Hibernate Types</code>. Tested for <code>hibernate-types-52:2.9.13</code>. The same can be achieved for other versions, just include the proper logger name. One can find the logger name in the logs.</p>\n<p><a href=\"https://i.stack.imgur.com/sCLKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sCLKR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7772,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":61118424,"answer_count":3,"score":20,"last_activity_date":1699985110,"creation_date":1586425993,"question_id":61118423,"body_markdown":"I use the `com.vladmihalcea:hibernate-types-52` dependency in my Spring Boot Project. And, I notice that on application boot, some large log messages were added:\r\n\r\n```lang-none\r\n2020-04-09 11:43:59.535  WARN 3465 --- [           main] Hypersistence Optimizer                  : You should use Hypersistence Optimizer to speed up your Hibernate application!\r\n2020-04-09 11:43:59.535  WARN 3465 --- [           main] Hypersistence Optimizer                  : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/\r\n2020-04-09 11:43:59.536  INFO 3465 --- [           main] Hypersistence Optimizer                  : \r\n _    _                           _     _\r\n| |  | |                         (_)   | |\r\n| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___\r\n|  __  | | | | &#39;_ \\ / _ \\ &#39;__/ __| / __| __/ _ \\ &#39;_ \\ / __/ _ \\\r\n| |  | | |_| | |_) |  __/ |  \\__ \\ \\__ \\ ||  __/ | | | (_|  __/\r\n|_|  |_|\\__, | .__/ \\___|_|  |___/_|___/\\__\\___|_| |_|\\___\\___|\r\n         __/ | |\r\n        |___/|_|\r\n\r\n           ____        _   _           _\r\n          / __ \\      | | (_)         (_)\r\n         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __\r\n         | |  | | &#39;_ \\| __| | &#39;_ ` _ \\| |_  / _ \\ &#39;__|\r\n         | |__| | |_) | |_| | | | | | | |/ /  __/ |\r\n          \\____/| .__/ \\__|_|_| |_| |_|_/___\\___|_|\r\n                | |\r\n                |_|\r\n```\r\n\r\nThe hint is nice and the project sounds actually interesting, but still want to have the banner removed from my application.","title":"How to disable the Hypersistence banner when using hibernate-types-52 in Spring Boot?","body":"<p>I use the <code>com.vladmihalcea:hibernate-types-52</code> dependency in my Spring Boot Project. And, I notice that on application boot, some large log messages were added:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-04-09 11:43:59.535  WARN 3465 --- [           main] Hypersistence Optimizer                  : You should use Hypersistence Optimizer to speed up your Hibernate application!\n2020-04-09 11:43:59.535  WARN 3465 --- [           main] Hypersistence Optimizer                  : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/\n2020-04-09 11:43:59.536  INFO 3465 --- [           main] Hypersistence Optimizer                  : \n _    _                           _     _\n| |  | |                         (_)   | |\n| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___\n|  __  | | | | '_ \\ / _ \\ '__/ __| / __| __/ _ \\ '_ \\ / __/ _ \\\n| |  | | |_| | |_) |  __/ |  \\__ \\ \\__ \\ ||  __/ | | | (_|  __/\n|_|  |_|\\__, | .__/ \\___|_|  |___/_|___/\\__\\___|_| |_|\\___\\___|\n         __/ | |\n        |___/|_|\n\n           ____        _   _           _\n          / __ \\      | | (_)         (_)\n         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __\n         | |  | | '_ \\| __| | '_ ` _ \\| |_  / _ \\ '__|\n         | |__| | |_) | |_| | | | | | | |/ /  __/ |\n          \\____/| .__/ \\__|_|_| |_| |_|_/___\\___|_|\n                | |\n                |_|\n</code></pre>\n<p>The hint is nice and the project sounds actually interesting, but still want to have the banner removed from my application.</p>\n"},{"tags":["java","string","if-statement","serialization","java.util.scanner"],"owner":{"account_id":29902454,"reputation":1,"user_id":22915866,"display_name":"theoaslev"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1699984800,"answer_count":0,"score":-3,"last_activity_date":1699984714,"creation_date":1699983617,"question_id":77482729,"body_markdown":"Im having issues with this code. i was trying out Serialzing but then i came acros a problem involving the first time a string is defined by a scanner. it for somereason does not validate when i write &quot;new&quot; or &quot;old&quot;. i do not have any idea why this might be happening but i think that it has to something with the Exceptions. \r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n    public class Main {\r\n\r\n    \r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        \r\n        Scanner tb = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Do you want to create information[new] or see the allready existing information[old]&quot;);\r\n          \r\n        String s = tb.nextLine();  \r\n    \r\n        if (s == &quot;new&quot;) {\r\n\r\n            User user = new User();\r\n\r\n            user.string = tb.nextLine().split(&quot; &quot;);\r\n\r\n            FileOutputStream fileout = new FileOutputStream(&quot;info.ser&quot;);\r\n            ObjectOutputStream out = new ObjectOutputStream(fileout);\r\n            out.writeObject(user);\r\n            out.close();\r\n            fileout.close();\r\n\r\n        }else if (s == &quot;old&quot;) {\r\n\r\n            User user = null;\r\n            FileInputStream filein = new FileInputStream(&quot;C:\\\\Users\\\\Theo.Aslev\\\\Desktop\\\\Programering 1\\\\spelll\\\\info.ser&quot;);\r\n            ObjectInputStream in = new ObjectInputStream(filein);\r\n            \r\n            user = (User) in.readObject();\r\n            in.close();\r\n            filein.close();   \r\n            \r\n            System.out.println(user.string[0]);\r\n            System.out.println(user.string[1]);    \r\n            System.out.println(user.string[2]);    \r\n            \r\n        }\r\n        tb.close();\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.io.Serializable;\r\n\r\npublic class User implements Serializable{\r\n\r\n    String[] string = {&quot;&quot;,&quot;&quot;,&quot;&quot;};\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI thought that that problem could be that the if statement with the strings new and old where somehow bugged.\r\n\r\n","title":"The string my scanner makes somehow not maching with the result i am expecting","body":"<p>Im having issues with this code. i was trying out Serialzing but then i came acros a problem involving the first time a string is defined by a scanner. it for somereason does not validate when i write &quot;new&quot; or &quot;old&quot;. i do not have any idea why this might be happening but i think that it has to something with the Exceptions.</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n    public class Main {\n\n    \n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        \n        Scanner tb = new Scanner(System.in);\n        \n        System.out.println(&quot;Do you want to create information[new] or see the allready existing information[old]&quot;);\n          \n        String s = tb.nextLine();  \n    \n        if (s == &quot;new&quot;) {\n\n            User user = new User();\n\n            user.string = tb.nextLine().split(&quot; &quot;);\n\n            FileOutputStream fileout = new FileOutputStream(&quot;info.ser&quot;);\n            ObjectOutputStream out = new ObjectOutputStream(fileout);\n            out.writeObject(user);\n            out.close();\n            fileout.close();\n\n        }else if (s == &quot;old&quot;) {\n\n            User user = null;\n            FileInputStream filein = new FileInputStream(&quot;C:\\\\Users\\\\Theo.Aslev\\\\Desktop\\\\Programering 1\\\\spelll\\\\info.ser&quot;);\n            ObjectInputStream in = new ObjectInputStream(filein);\n            \n            user = (User) in.readObject();\n            in.close();\n            filein.close();   \n            \n            System.out.println(user.string[0]);\n            System.out.println(user.string[1]);    \n            System.out.println(user.string[2]);    \n            \n        }\n        tb.close();\n\n    }\n}\n</code></pre>\n<pre><code>import java.io.Serializable;\n\npublic class User implements Serializable{\n\n    String[] string = {&quot;&quot;,&quot;&quot;,&quot;&quot;};\n\n}\n</code></pre>\n<p>I thought that that problem could be that the if statement with the strings new and old where somehow bugged.</p>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":1,"creation_date":1699969033,"post_id":77480988,"comment_id":136595072,"body_markdown":"share your controller class and paste stracktrace instead of screenshot","body":"share your controller class and paste stracktrace instead of screenshot"}],"answers":[{"comments":[{"owner":{"account_id":29899964,"reputation":3,"user_id":22913940,"display_name":"cmd"},"score":0,"creation_date":1699984507,"post_id":77481107,"comment_id":136598305,"body_markdown":"That was the problem. I have changed them as you specified and it is receiving the values now. Thanks very much.","body":"That was the problem. I have changed them as you specified and it is receiving the values now. Thanks very much."}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699969643,"creation_date":1699969643,"answer_id":77481107,"question_id":77480988,"body_markdown":"change setter/getter as below\r\n\r\n     public int getFileid() {\r\n            return fileid;\r\n        }\r\n    \r\n        public void setFileid(int fileid) {\r\n            this.fileid = fileid;\r\n        }\r\n    \r\n        public String getFilename() {\r\n            return filename;\r\n        }\r\n    \r\n        public void setFilename(String filename) {\r\n            this.filename = filename;\r\n        }\r\n    \r\n        public String getCreationdate() {\r\n            return creationdate;\r\n        }\r\n    \r\n        public void setCreationdate(String creationdate) {\r\n            this.creationdate = creationdate;\r\n        }\r\n    \r\n        public int getUserid() {\r\n            return userid;\r\n        }\r\n    \r\n        public void setUserid(int userid) {\r\n            this.userid = userid;\r\n        }\r\n    \r\n        public String getRelativefilepath() {\r\n            return relativefilepath;\r\n        }\r\n    \r\n        public void setRelativefilepath(String relativefilepath) {\r\n            this.relativefilepath = relativefilepath;\r\n        }\r\n    \r\n        public int getCamerasid() {\r\n            return camerasid;\r\n        }\r\n    \r\n        public void setCamerasid(int camerasid) {\r\n            this.camerasid = camerasid;\r\n        }","title":"Spring Boot Server REST API reads null values from JSON object","body":"<p>change setter/getter as below</p>\n<pre><code> public int getFileid() {\n        return fileid;\n    }\n\n    public void setFileid(int fileid) {\n        this.fileid = fileid;\n    }\n\n    public String getFilename() {\n        return filename;\n    }\n\n    public void setFilename(String filename) {\n        this.filename = filename;\n    }\n\n    public String getCreationdate() {\n        return creationdate;\n    }\n\n    public void setCreationdate(String creationdate) {\n        this.creationdate = creationdate;\n    }\n\n    public int getUserid() {\n        return userid;\n    }\n\n    public void setUserid(int userid) {\n        this.userid = userid;\n    }\n\n    public String getRelativefilepath() {\n        return relativefilepath;\n    }\n\n    public void setRelativefilepath(String relativefilepath) {\n        this.relativefilepath = relativefilepath;\n    }\n\n    public int getCamerasid() {\n        return camerasid;\n    }\n\n    public void setCamerasid(int camerasid) {\n        this.camerasid = camerasid;\n    }\n</code></pre>\n"}],"owner":{"account_id":29899964,"reputation":3,"user_id":22913940,"display_name":"cmd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77481107,"answer_count":1,"score":0,"last_activity_date":1699984712,"creation_date":1699968644,"question_id":77480988,"body_markdown":"I have a REST API setup using Spring Boot. I&#39;m attempting to send a JSON object in a POST request to the API to read the values and store them in a SQL Server database table, but it doesn&#39;t read all of the values.\r\n\r\nThis is the JSON object I&#39;m sending:\r\n\r\n`{     &quot;filename&quot;:&quot;recording1POST&quot;,      &quot;creationdate&quot;:&quot;13.11.2023&quot;,     &quot;userid&quot;:1,     &quot;relativefilepath&quot;:&quot;filepathPOST&quot;,     &quot;camerasid&quot;:1 } `\r\n\r\nThe is the class I&#39;m mapping it to:\r\n\r\n```package com.example.fyp_app.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n//Entity annotation defines class as being mapped to a table.\r\n@Entity\r\n@Table(name=&quot;Files&quot;)\r\npublic class Recording {\r\n@Id//Marks the primary key of the table.\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)//Primary key auto-increments.\r\nprivate int fileid;\r\n\r\n    @Column(name = &quot;filename&quot;)\r\n    private String filename;\r\n    \r\n    @Column(name = &quot;creationdate&quot;)\r\n    private String creationdate;\r\n    \r\n    @Column(name = &quot;userid&quot;)\r\n    private int userid;\r\n    \r\n    @Column(name = &quot;relativefilepath&quot;)\r\n    private String relativefilepath;\r\n    \r\n    @Column(name = &quot;camerasid&quot;)\r\n    private int camerasid;\r\n    \r\n    public int getFileID() {\r\n        return fileid;\r\n    }\r\n    \r\n    public void setFileID(int fileID) {\r\n        this.fileid = fileID;\r\n    }\r\n    \r\n    public String getFilename() {\r\n        return filename;\r\n    }\r\n    \r\n    public void setFilename(String filename) {\r\n        this.filename = filename;\r\n    }\r\n    \r\n    public String getCreationDate() {\r\n        return creationdate;\r\n    }\r\n    \r\n    public void setCreationDate(String creationDate) {\r\n        this.creationdate = creationDate;\r\n    }\r\n    \r\n    public int getUserID() {\r\n        return userid;\r\n    }\r\n    \r\n    public void setUserID(int userID) {\r\n        this.userid = userID;\r\n    }\r\n    \r\n    public String getRelativeFilepath() {\r\n        return relativefilepath;\r\n    }\r\n    \r\n    public void setRelativeFilepath(String relativeFilepath) {\r\n        this.relativefilepath = relativeFilepath;\r\n    }\r\n    \r\n    public int getCamerasID() {\r\n        return camerasid;\r\n    }\r\n    \r\n    public void setCamerasID(int camerasID) {\r\n        this.camerasid = camerasID;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m getting the following result:\r\n\r\n[Spring Boot Server REST API not reading values from JSON](https://i.stack.imgur.com/DNUug.png)\r\n\r\nI haven&#39;t been able to find any questions with my specific problem. What might be causing this?\r\n\r\nEdit: These are my database tables:\r\n\r\n    CREATE TABLE Users (\r\n    \tuserid int IDENTITY(1,1) PRIMARY KEY,\r\n    \tusername varchar(255),\r\n    \tpassword varchar(255)\r\n    );\r\n\r\n    CREATE TABLE Cameras (\r\n    \tcameraid int IDENTITY(1,1) PRIMARY KEY,\r\n    \tcameraname varchar(255),\r\n    \tcamusername varchar(255),\r\n    \tcampassword varchar(255),\r\n    \tuserid int FOREIGN KEY REFERENCES Users(userid)\r\n    );\r\n\r\n    CREATE TABLE Files (\r\n    \tfileid int IDENTITY(1,1) PRIMARY KEY,\r\n    \tfilename varchar(255),\r\n    \tcreationdate datetime DEFAULT(getdate()),\r\n    \tuserid int FOREIGN KEY REFERENCES Users(userid),\r\n    \trelativefilepath varchar(255),\r\n    \tcamerasid int FOREIGN KEY REFERENCES Cameras(cameraid)\r\n    );\r\n\r\n","title":"Spring Boot Server REST API reads null values from JSON object","body":"<p>I have a REST API setup using Spring Boot. I'm attempting to send a JSON object in a POST request to the API to read the values and store them in a SQL Server database table, but it doesn't read all of the values.</p>\n<p>This is the JSON object I'm sending:</p>\n<p><code>{     &quot;filename&quot;:&quot;recording1POST&quot;,      &quot;creationdate&quot;:&quot;13.11.2023&quot;,     &quot;userid&quot;:1,     &quot;relativefilepath&quot;:&quot;filepathPOST&quot;,     &quot;camerasid&quot;:1 } </code></p>\n<p>The is the class I'm mapping it to:</p>\n<pre><code>\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n//Entity annotation defines class as being mapped to a table.\n@Entity\n@Table(name=&quot;Files&quot;)\npublic class Recording {\n@Id//Marks the primary key of the table.\n@GeneratedValue(strategy = GenerationType.IDENTITY)//Primary key auto-increments.\nprivate int fileid;\n\n    @Column(name = &quot;filename&quot;)\n    private String filename;\n    \n    @Column(name = &quot;creationdate&quot;)\n    private String creationdate;\n    \n    @Column(name = &quot;userid&quot;)\n    private int userid;\n    \n    @Column(name = &quot;relativefilepath&quot;)\n    private String relativefilepath;\n    \n    @Column(name = &quot;camerasid&quot;)\n    private int camerasid;\n    \n    public int getFileID() {\n        return fileid;\n    }\n    \n    public void setFileID(int fileID) {\n        this.fileid = fileID;\n    }\n    \n    public String getFilename() {\n        return filename;\n    }\n    \n    public void setFilename(String filename) {\n        this.filename = filename;\n    }\n    \n    public String getCreationDate() {\n        return creationdate;\n    }\n    \n    public void setCreationDate(String creationDate) {\n        this.creationdate = creationDate;\n    }\n    \n    public int getUserID() {\n        return userid;\n    }\n    \n    public void setUserID(int userID) {\n        this.userid = userID;\n    }\n    \n    public String getRelativeFilepath() {\n        return relativefilepath;\n    }\n    \n    public void setRelativeFilepath(String relativeFilepath) {\n        this.relativefilepath = relativeFilepath;\n    }\n    \n    public int getCamerasID() {\n        return camerasid;\n    }\n    \n    public void setCamerasID(int camerasID) {\n        this.camerasid = camerasID;\n    }\n\n}\n</code></pre>\n<p>I'm getting the following result:</p>\n<p><a href=\"https://i.stack.imgur.com/DNUug.png\" rel=\"nofollow noreferrer\">Spring Boot Server REST API not reading values from JSON</a></p>\n<p>I haven't been able to find any questions with my specific problem. What might be causing this?</p>\n<p>Edit: These are my database tables:</p>\n<pre><code>CREATE TABLE Users (\n    userid int IDENTITY(1,1) PRIMARY KEY,\n    username varchar(255),\n    password varchar(255)\n);\n\nCREATE TABLE Cameras (\n    cameraid int IDENTITY(1,1) PRIMARY KEY,\n    cameraname varchar(255),\n    camusername varchar(255),\n    campassword varchar(255),\n    userid int FOREIGN KEY REFERENCES Users(userid)\n);\n\nCREATE TABLE Files (\n    fileid int IDENTITY(1,1) PRIMARY KEY,\n    filename varchar(255),\n    creationdate datetime DEFAULT(getdate()),\n    userid int FOREIGN KEY REFERENCES Users(userid),\n    relativefilepath varchar(255),\n    camerasid int FOREIGN KEY REFERENCES Cameras(cameraid)\n);\n</code></pre>\n"},{"tags":["java","openoffice.org"],"answers":[{"comments":[{"owner":{"account_id":9283092,"reputation":3,"user_id":6893778,"accept_rate":50,"display_name":"Sarthak Jain"},"score":0,"creation_date":1503644515,"post_id":45867129,"comment_id":78710252,"body_markdown":"this is for the whole table but how to add color or align the text of a single cell of table and not other cells","body":"this is for the whole table but how to add color or align the text of a single cell of table and not other cells"}],"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503771552,"creation_date":1503593606,"answer_id":45867129,"question_id":45852644,"body_markdown":"From the SWriter example at https://api.libreoffice.org/examples/examples.html#Java_examples:\r\n\r\n    //create instance of a text table\r\n    com.sun.star.text.XTextTable xTT = null;\r\n\r\n    // get the property set of the text table\r\n    com.sun.star.beans.XPropertySet xTTPS = UnoRuntime.queryInterface(com.sun.star.beans.XPropertySet.class, xTT);\r\n\r\n    // Change the BackColor\r\n    try {\r\n        xTTPS.setPropertyValue(&quot;BackTransparent&quot;, Boolean.FALSE);\r\n        xTTPS.setPropertyValue(&quot;BackColor&quot;,Integer.valueOf(13421823));\r\n        xTTRowPS.setPropertyValue(&quot;BackTransparent&quot;, Boolean.FALSE);\r\n        xTTRowPS.setPropertyValue(&quot;BackColor&quot;,Integer.valueOf(6710932));\r\n\r\n    } catch (Exception e) {\r\n        System.err.println(&quot;Couldn&#39;t change the color &quot; + e);\r\n        e.printStackTrace(System.err);\r\n    }\r\n\r\n    // get the property set of the cursor\r\n    com.sun.star.beans.XPropertySet xTCPS = UnoRuntime.queryInterface(com.sun.star.beans.XPropertySet.class,\r\n                              xTCursor);\r\n\r\n    // Change the CharColor and add a Shadow\r\n    try {\r\n        xTCPS.setPropertyValue(&quot;CharColor&quot;,Integer.valueOf(255));\r\n        xTCPS.setPropertyValue(&quot;CharShadowed&quot;, Boolean.TRUE);\r\n    } catch (Exception e) {\r\n        System.err.println(&quot;Couldn&#39;t change the color &quot; + e);\r\n        e.printStackTrace(System.err);\r\n    }\r\n\r\nAnd from https://wiki.openoffice.org/wiki/API/Samples/Java/Writer/TextTable#Horizontal_alignmentL\r\n\r\n    XPropertySet xPS = ( XPropertySet ) UnoRuntime.queryInterface(\r\n        XPropertySet.class, xTextTable );\r\n     \r\n    xPS.setPropertyValue( &quot;HoriOrient&quot;, com.sun.star.text.HoriOrientation.NONE );\r\n     \r\n    int iLeftMargin, iRightMargin; // I assume you know how do you want to align your table\r\n     \r\n    xPS.setPropertyValue( &quot;LeftMargin&quot;, iLeftMargin );\r\n    xPS.setPropertyValue( &quot;RightMargin&quot;, iRightMargin );\r\n\r\nSee also the C++ example at https://wiki.openoffice.org/wiki/Writer/API/Tables#Changing_Appearance.\r\n\r\n**EDIT**:\r\n\r\nHere is a Python example that sets color and vertical alignment of a single cell.  XrayTool shows that TextTable cells support [com.sun.star.text.CellProperties]( https://www.openoffice.org/api/docs/common/ref/com/sun/star/text/CellProperties.html).\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n    cell = table.getCellByName(&quot;A1&quot;)\r\n    cell.BackColor = int(&quot;FF00FF&quot;, 16)\r\n    cell.setPropertyValue(&quot;VertOrient&quot;, 2)\r\n","title":"OpenOffice table formatting java","body":"<p>From the SWriter example at <a href=\"https://api.libreoffice.org/examples/examples.html#Java_examples\" rel=\"nofollow noreferrer\">https://api.libreoffice.org/examples/examples.html#Java_examples</a>:</p>\n\n<pre><code>//create instance of a text table\ncom.sun.star.text.XTextTable xTT = null;\n\n// get the property set of the text table\ncom.sun.star.beans.XPropertySet xTTPS = UnoRuntime.queryInterface(com.sun.star.beans.XPropertySet.class, xTT);\n\n// Change the BackColor\ntry {\n    xTTPS.setPropertyValue(\"BackTransparent\", Boolean.FALSE);\n    xTTPS.setPropertyValue(\"BackColor\",Integer.valueOf(13421823));\n    xTTRowPS.setPropertyValue(\"BackTransparent\", Boolean.FALSE);\n    xTTRowPS.setPropertyValue(\"BackColor\",Integer.valueOf(6710932));\n\n} catch (Exception e) {\n    System.err.println(\"Couldn't change the color \" + e);\n    e.printStackTrace(System.err);\n}\n\n// get the property set of the cursor\ncom.sun.star.beans.XPropertySet xTCPS = UnoRuntime.queryInterface(com.sun.star.beans.XPropertySet.class,\n                          xTCursor);\n\n// Change the CharColor and add a Shadow\ntry {\n    xTCPS.setPropertyValue(\"CharColor\",Integer.valueOf(255));\n    xTCPS.setPropertyValue(\"CharShadowed\", Boolean.TRUE);\n} catch (Exception e) {\n    System.err.println(\"Couldn't change the color \" + e);\n    e.printStackTrace(System.err);\n}\n</code></pre>\n\n<p>And from <a href=\"https://wiki.openoffice.org/wiki/API/Samples/Java/Writer/TextTable#Horizontal_alignmentL\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/API/Samples/Java/Writer/TextTable#Horizontal_alignmentL</a></p>\n\n<pre><code>XPropertySet xPS = ( XPropertySet ) UnoRuntime.queryInterface(\n    XPropertySet.class, xTextTable );\n\nxPS.setPropertyValue( \"HoriOrient\", com.sun.star.text.HoriOrientation.NONE );\n\nint iLeftMargin, iRightMargin; // I assume you know how do you want to align your table\n\nxPS.setPropertyValue( \"LeftMargin\", iLeftMargin );\nxPS.setPropertyValue( \"RightMargin\", iRightMargin );\n</code></pre>\n\n<p>See also the C++ example at <a href=\"https://wiki.openoffice.org/wiki/Writer/API/Tables#Changing_Appearance\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/Writer/API/Tables#Changing_Appearance</a>.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Here is a Python example that sets color and vertical alignment of a single cell.  XrayTool shows that TextTable cells support <a href=\"https://www.openoffice.org/api/docs/common/ref/com/sun/star/text/CellProperties.html\" rel=\"nofollow noreferrer\">com.sun.star.text.CellProperties</a>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>cell = table.getCellByName(\"A1\")\ncell.BackColor = int(\"FF00FF\", 16)\ncell.setPropertyValue(\"VertOrient\", 2)\n</code></pre>\n"}],"owner":{"account_id":9283092,"reputation":3,"user_id":6893778,"accept_rate":50,"display_name":"Sarthak Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699984625,"creation_date":1503546740,"question_id":45852644,"body_markdown":"I have created a table using Open Office API in Java. Now I want to format the table cell content like giving it background color, changing font, size, alignment.\r\nMy code is\r\n\r\n    XMultiServiceFactory xMSF = ( XMultiServiceFactory ) UnoRuntime.queryInterface(XMultiServiceFactory.class, xdocument);\r\n    \r\n           // Creating a table with 13 rows and 2 columns\r\n           XTextTable xTextTable = ( XTextTable ) UnoRuntime.queryInterface(XTextTable.class, xMSF.createInstance( &quot;com.sun.star.text.TextTable&quot; ) );\r\n           xTextTable.initialize( 2, 2); // rows, cols\r\n           \r\n           // insert table  in the xText\r\n           \r\n           xText.insertTextContent(xText.getEnd(), xTextTable, false);\r\n           XPropertySet xPS1 = ( XPropertySet ) UnoRuntime.queryInterface(\r\n           XPropertySet.class, xTextTable );\r\n     \r\n           // Get table Width and TableColumnRelativeSum properties values\r\n           int iWidth = ( Integer ) xPS1.getPropertyValue( &quot;Width&quot; );\r\n           short sTableColumnRelativeSum = ( Short ) xPS1.getPropertyValue( &quot;TableColumnRelativeSum&quot; );\r\n     \r\n           // Calculate conversion ration\r\n            double dRatio = ( double ) sTableColumnRelativeSum / ( double ) iWidth;\r\n     \r\n            // Convert our 20 mm (2000) to unknown ( relative ) units\r\n           double dRelativeWidth = ( double ) 25000 * dRatio;\r\n     \r\n           // Get table column separators\r\n           Object xObj = xPS1.getPropertyValue( &quot;TableColumnSeparators&quot; );\r\n     \r\n           TableColumnSeparator[] xSeparators = ( TableColumnSeparator[] )UnoRuntime.queryInterface(\r\n           TableColumnSeparator[].class, xObj );\r\n     \r\n           // Last table column separator position\r\n           double dPosition = sTableColumnRelativeSum - dRelativeWidth;\r\n     \r\n           // Set set new position for all column separators        \r\n           for ( int i = xSeparators.length - 1 ; i &gt;= 0 ; i-- )\r\n           {\r\n           xSeparators[i].Position = (short) Math.ceil( dPosition );\r\n            dPosition -= dRelativeWidth;\r\n           }\r\n     \r\n           // Do not forget to set TableColumnSeparators back! Otherwise, it doesn&#39;t work.\r\n           xPS1.setPropertyValue( &quot;TableColumnSeparators&quot;, xSeparators );\r\n    \r\n           \r\n           XCellRange xCellRangeHeader = (XCellRange) UnoRuntime.queryInterface(XCellRange.class, xTextTable);\r\n           XCell xCellHeader = null;\r\n           XText xHeaderText = null;\r\n           \r\n          \r\n           \r\n           xCellHeader = xCellRangeHeader.getCellByPosition(0,0); // cols, rows\r\n           xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\r\n           xHeaderText.setString(&quot;Records Center Total Capacity&quot;);\r\n           \r\n           xCellHeader = xCellRangeHeader.getCellByPosition(1,0); // cols, rows\r\n           xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\r\n           xHeaderText.setString(&quot;&quot;+RecordCentrecapacity);\r\n           \r\n           xCellHeader = xCellRangeHeader.getCellByPosition(0,1); // cols, rows\r\n           xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\r\n           xHeaderText.setString(&quot;Current Inventory For Week Ending&quot;);\r\n           \r\n           xCellHeader = xCellRangeHeader.getCellByPosition(1,1); // cols, rows\r\n           xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\r\n           xHeaderText.setString(&quot;&quot;+currentTotalInventory);\r\n           \r\n           \r\n\r\nCan you help me as i am new in this topic and i want to format the table according to my need.\r\n ","title":"OpenOffice table formatting java","body":"<p>I have created a table using Open Office API in Java. Now I want to format the table cell content like giving it background color, changing font, size, alignment.\nMy code is</p>\n<pre><code>XMultiServiceFactory xMSF = ( XMultiServiceFactory ) UnoRuntime.queryInterface(XMultiServiceFactory.class, xdocument);\n\n       // Creating a table with 13 rows and 2 columns\n       XTextTable xTextTable = ( XTextTable ) UnoRuntime.queryInterface(XTextTable.class, xMSF.createInstance( &quot;com.sun.star.text.TextTable&quot; ) );\n       xTextTable.initialize( 2, 2); // rows, cols\n       \n       // insert table  in the xText\n       \n       xText.insertTextContent(xText.getEnd(), xTextTable, false);\n       XPropertySet xPS1 = ( XPropertySet ) UnoRuntime.queryInterface(\n       XPropertySet.class, xTextTable );\n \n       // Get table Width and TableColumnRelativeSum properties values\n       int iWidth = ( Integer ) xPS1.getPropertyValue( &quot;Width&quot; );\n       short sTableColumnRelativeSum = ( Short ) xPS1.getPropertyValue( &quot;TableColumnRelativeSum&quot; );\n \n       // Calculate conversion ration\n        double dRatio = ( double ) sTableColumnRelativeSum / ( double ) iWidth;\n \n        // Convert our 20 mm (2000) to unknown ( relative ) units\n       double dRelativeWidth = ( double ) 25000 * dRatio;\n \n       // Get table column separators\n       Object xObj = xPS1.getPropertyValue( &quot;TableColumnSeparators&quot; );\n \n       TableColumnSeparator[] xSeparators = ( TableColumnSeparator[] )UnoRuntime.queryInterface(\n       TableColumnSeparator[].class, xObj );\n \n       // Last table column separator position\n       double dPosition = sTableColumnRelativeSum - dRelativeWidth;\n \n       // Set set new position for all column separators        \n       for ( int i = xSeparators.length - 1 ; i &gt;= 0 ; i-- )\n       {\n       xSeparators[i].Position = (short) Math.ceil( dPosition );\n        dPosition -= dRelativeWidth;\n       }\n \n       // Do not forget to set TableColumnSeparators back! Otherwise, it doesn't work.\n       xPS1.setPropertyValue( &quot;TableColumnSeparators&quot;, xSeparators );\n\n       \n       XCellRange xCellRangeHeader = (XCellRange) UnoRuntime.queryInterface(XCellRange.class, xTextTable);\n       XCell xCellHeader = null;\n       XText xHeaderText = null;\n       \n      \n       \n       xCellHeader = xCellRangeHeader.getCellByPosition(0,0); // cols, rows\n       xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\n       xHeaderText.setString(&quot;Records Center Total Capacity&quot;);\n       \n       xCellHeader = xCellRangeHeader.getCellByPosition(1,0); // cols, rows\n       xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\n       xHeaderText.setString(&quot;&quot;+RecordCentrecapacity);\n       \n       xCellHeader = xCellRangeHeader.getCellByPosition(0,1); // cols, rows\n       xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\n       xHeaderText.setString(&quot;Current Inventory For Week Ending&quot;);\n       \n       xCellHeader = xCellRangeHeader.getCellByPosition(1,1); // cols, rows\n       xHeaderText = (XText) UnoRuntime.queryInterface(XText.class, xCellHeader);\n       xHeaderText.setString(&quot;&quot;+currentTotalInventory);\n       \n       \n</code></pre>\n<p>Can you help me as i am new in this topic and i want to format the table according to my need.</p>\n"},{"tags":["java","spring","oracle","spring-boot","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1699985282,"post_id":77482777,"comment_id":136598460,"body_markdown":"Side note: We don&#39;t typically unit test a database.  Actually, what you are attempting here strictly is an _integration_ test.","body":"Side note: We don&#39;t typically unit test a database.  Actually, what you are attempting here strictly is an <i>integration</i> test."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699984511,"creation_date":1699984511,"answer_id":77482822,"question_id":77482777,"body_markdown":"You said:\r\n\r\n&gt; Here is my test case for upating(I got the id from the db since I already inserted a video in the table)\r\n\r\nActually, you never saved your entity in the database before calling the test method, but you did manually assign an ID.  Therefore, the lookup of this entity against the underlying table using your manual ID will fail.\r\n\r\nA correct test case would _not_ assign any ID, as the entity has not yet been saved:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Test\r\n    void testUpdates() {\r\n        Video video = new Video(\r\n                null,\r\n                &quot;Updating&quot;, //name\r\n                &quot;Test Description&quot;,  //desc\r\n                &quot;Test Tag&quot;,  //tags\r\n                &quot;Test url&quot;,  //url\r\n                1,           //status\r\n                &quot;testcreator&quot;, //who created\r\n                null,      //date created\r\n                &quot;new updater&quot;, //who updated -----only val i change here to test\r\n                null //date updated\r\n        );\r\n        videoServiceImpl.insertVideoInDB(video);\r\n    }","title":"Trying to update values in oracle db through Spring data jpa","body":"<p>You said:</p>\n<blockquote>\n<p>Here is my test case for upating(I got the id from the db since I already inserted a video in the table)</p>\n</blockquote>\n<p>Actually, you never saved your entity in the database before calling the test method, but you did manually assign an ID.  Therefore, the lookup of this entity against the underlying table using your manual ID will fail.</p>\n<p>A correct test case would <em>not</em> assign any ID, as the entity has not yet been saved:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testUpdates() {\n    Video video = new Video(\n            null,\n            &quot;Updating&quot;, //name\n            &quot;Test Description&quot;,  //desc\n            &quot;Test Tag&quot;,  //tags\n            &quot;Test url&quot;,  //url\n            1,           //status\n            &quot;testcreator&quot;, //who created\n            null,      //date created\n            &quot;new updater&quot;, //who updated -----only val i change here to test\n            null //date updated\n    );\n    videoServiceImpl.insertVideoInDB(video);\n}\n</code></pre>\n"}],"owner":{"account_id":19867745,"reputation":21,"user_id":14554635,"display_name":"ssnyc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699984511,"creation_date":1699983998,"question_id":77482777,"body_markdown":"I am trying to write code that takes in an object, and if it already exists in the db, then update some of the values in the row that maps to that object&#39;s ID.  It works to insert new rows into the table, but when I want to update a row, I get this error: \r\n\r\nCaused by: org.springframework.dao.IncorrectUpdateSemanticsDataAccessException: Failed to update entity [Video(videoId=10,30,35,112,-127,-72,79,-71,-32,99,116,-77,90,10,-28,-23, name=Test Name 1, description=Test Description, tags=Test Tag, url=Test url, active=1, createdBy=testcreator, createdDate=2023-11-14 13:55:24.682, updatedBy=testupdator, updatedDate=Tue Nov 14 17:30:00 GMT 2023)]; Id [10,30,35,112,-127,-72,79,-71,-32,99,116,-77,90,10,-28,-23] not found in database\r\n\r\n\r\nHere is the code for my serviceImpl\r\n\r\n```\r\npublic Video insertVideoInDB(Video newVideo){\r\n        Date date = new Date();\r\n        //check if this is an update\r\n        if(newVideo.getVideoId() != null){\r\n            Video existingVideo = videoRepository.findById(newVideo.getVideoId()).get();\r\n            //then update the updated date and updated by and whatever else changed\r\n            existingVideo.setUpdatedBy(newVideo.getUpdatedBy());\r\n            existingVideo.setUpdatedDate(date);\r\n            return videoRepository.save(existingVideo);\r\n        }\r\n        //new video\r\n        else{\r\n            newVideo.setCreatedDate(date);\r\n            newVideo.setUpdatedDate(date);\r\n        }\r\n        return videoRepository.save(newVideo);\r\n    }\r\n```\r\n\r\nHere is my test case for upating(I got the id from the db since I already inserted a video in the table)\r\n```\r\n@Test\r\n    void testUpdates(){\r\n        Video video = new Video(\r\n                &quot;0A1E237081B84FB9E06374B35A0AE4E9&quot;, //id\r\n                &quot;Updating&quot;, //name\r\n                &quot;Test Description&quot;,  //desc\r\n                &quot;Test Tag&quot;,  //tags\r\n                &quot;Test url&quot;,  //url\r\n                1,           //status\r\n                &quot;testcreator&quot;, //who created\r\n                null,      //date created\r\n                &quot;new updater&quot;, //who updated -----only val i change here to test\r\n                null //date updated\r\n        );\r\n        videoServiceImpl.insertVideoInDB(video);\r\n\r\n    }\r\n```\r\n\r\n\r\nI am using sys_guid() to generate the id in the table.  I am able to print out the existing video object in the table and the ids match, but I am wondering if this issue may be due to the id created by sys_guid being RAW and I the ID in the video obj is a string? ","title":"Trying to update values in oracle db through Spring data jpa","body":"<p>I am trying to write code that takes in an object, and if it already exists in the db, then update some of the values in the row that maps to that object's ID.  It works to insert new rows into the table, but when I want to update a row, I get this error:</p>\n<p>Caused by: org.springframework.dao.IncorrectUpdateSemanticsDataAccessException: Failed to update entity [Video(videoId=10,30,35,112,-127,-72,79,-71,-32,99,116,-77,90,10,-28,-23, name=Test Name 1, description=Test Description, tags=Test Tag, url=Test url, active=1, createdBy=testcreator, createdDate=2023-11-14 13:55:24.682, updatedBy=testupdator, updatedDate=Tue Nov 14 17:30:00 GMT 2023)]; Id [10,30,35,112,-127,-72,79,-71,-32,99,116,-77,90,10,-28,-23] not found in database</p>\n<p>Here is the code for my serviceImpl</p>\n<pre><code>public Video insertVideoInDB(Video newVideo){\n        Date date = new Date();\n        //check if this is an update\n        if(newVideo.getVideoId() != null){\n            Video existingVideo = videoRepository.findById(newVideo.getVideoId()).get();\n            //then update the updated date and updated by and whatever else changed\n            existingVideo.setUpdatedBy(newVideo.getUpdatedBy());\n            existingVideo.setUpdatedDate(date);\n            return videoRepository.save(existingVideo);\n        }\n        //new video\n        else{\n            newVideo.setCreatedDate(date);\n            newVideo.setUpdatedDate(date);\n        }\n        return videoRepository.save(newVideo);\n    }\n</code></pre>\n<p>Here is my test case for upating(I got the id from the db since I already inserted a video in the table)</p>\n<pre><code>@Test\n    void testUpdates(){\n        Video video = new Video(\n                &quot;0A1E237081B84FB9E06374B35A0AE4E9&quot;, //id\n                &quot;Updating&quot;, //name\n                &quot;Test Description&quot;,  //desc\n                &quot;Test Tag&quot;,  //tags\n                &quot;Test url&quot;,  //url\n                1,           //status\n                &quot;testcreator&quot;, //who created\n                null,      //date created\n                &quot;new updater&quot;, //who updated -----only val i change here to test\n                null //date updated\n        );\n        videoServiceImpl.insertVideoInDB(video);\n\n    }\n</code></pre>\n<p>I am using sys_guid() to generate the id in the table.  I am able to print out the existing video object in the table and the ids match, but I am wondering if this issue may be due to the id created by sys_guid being RAW and I the ID in the video obj is a string?</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"score":0,"creation_date":1699558490,"post_id":77454547,"comment_id":136550693,"body_markdown":"Might be total storage for the table ( I didnt see logical bytes in the version [2.23.2](https://cloud.google.com/java/docs/reference/google-cloud-bigquery/2.23.2/com.google.cloud.bigquery.TableInfo#com_google_cloud_bigquery_TableInfo_getNumBytes__) page.) Since this is an older version, it is possible that logical/physical bytes billing model has not yet been implemented for this version. The latest version 2.34.2 has getNumActiveLogicalBytes() and getNumActivePhysicalBytes()","body":"Might be total storage for the table ( I didnt see logical bytes in the version <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigquery/2.23.2/com.google.cloud.bigquery.TableInfo#com_google_cloud_bigquery_TableInfo_getNumBytes__\" rel=\"nofollow noreferrer\">2.23.2</a> page.) Since this is an older version, it is possible that logical/physical bytes billing model has not yet been implemented for this version. The latest version 2.34.2 has getNumActiveLogicalBytes() and getNumActivePhysicalBytes()"}],"answers":[{"comments":[{"owner":{"account_id":15985780,"reputation":59,"user_id":11536314,"display_name":"Jay-r Bangit"},"score":0,"creation_date":1700488098,"post_id":77482801,"comment_id":136657080,"body_markdown":"Hi Nester, I think that&#39;s not true. The table instance will only return null values for some particular methods, including getnumbytes() if it came from client.ListTables where each instance in the returning list will have table instance with partial information. But in this case, if you call the client.getTable directly, it will give you full information including getnumbytes().\n\nas for the recommendation, of course the concern will be resolved by upgrading to the latest version. However, the question is about a specific version.\n\nThanks for commenting btw.","body":"Hi Nester, I think that&#39;s not true. The table instance will only return null values for some particular methods, including getnumbytes() if it came from client.ListTables where each instance in the returning list will have table instance with partial information. But in this case, if you call the client.getTable directly, it will give you full information including getnumbytes().  as for the recommendation, of course the concern will be resolved by upgrading to the latest version. However, the question is about a specific version.  Thanks for commenting btw."}],"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699984241,"creation_date":1699984241,"answer_id":77482801,"question_id":77454547,"body_markdown":"It is mentioned in this related [answer](https://stackoverflow.com/a/69972170/19378826), It appears that getnumbytes will produce  null results due to the cost of this operation. Would recommended to upgrade to latest version(stated to the comment) get the specific table values. ","title":"Java BigQuery API Table.getNumBytes() is the same as Physical Bytes?","body":"<p>It is mentioned in this related <a href=\"https://stackoverflow.com/a/69972170/19378826\">answer</a>, It appears that getnumbytes will produce  null results due to the cost of this operation. Would recommended to upgrade to latest version(stated to the comment) get the specific table values.</p>\n"}],"owner":{"account_id":15985780,"reputation":59,"user_id":11536314,"display_name":"Jay-r Bangit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699984241,"creation_date":1699544878,"question_id":77454547,"body_markdown":"I have an application that has a component that consolidates BigQuery table sizes and type of storage. I&#39;m using com.google.cloud.bigquery.Table that extends TableInfo, However, it only has getNumBytes() and getNumLongTermBytes() methods it doesn&#39;t have getNumPhysicalBytes(), getNumActiveBytes(), getNumLogicalBytes() methods, probably because I&#39;m using an older version of the package. \r\n\r\nI want to verify, in this version, is getNumBytes() considered as Active Bytes? and is it also considered as Physical Bytes or Logical Bytes?\r\n\r\nThank you!\r\n\r\n\r\n**edit:** I&#39;m using this version of the package\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qlju7.png","title":"Java BigQuery API Table.getNumBytes() is the same as Physical Bytes?","body":"<p>I have an application that has a component that consolidates BigQuery table sizes and type of storage. I'm using com.google.cloud.bigquery.Table that extends TableInfo, However, it only has getNumBytes() and getNumLongTermBytes() methods it doesn't have getNumPhysicalBytes(), getNumActiveBytes(), getNumLogicalBytes() methods, probably because I'm using an older version of the package.</p>\n<p>I want to verify, in this version, is getNumBytes() considered as Active Bytes? and is it also considered as Physical Bytes or Logical Bytes?</p>\n<p>Thank you!</p>\n<p><strong>edit:</strong> I'm using this version of the package</p>\n<p><a href=\"https://i.stack.imgur.com/qlju7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qlju7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","android-studio","gson","deserialization"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1699374394,"post_id":77439743,"comment_id":136522381,"body_markdown":"There is no leading `&quot;` before `Server_Date_Time` and extra space before its closing `&quot;`. Also there are extra spaces at start of keys after that.","body":"There is no leading <code>&quot;</code> before <code>Server_Date_Time</code> and extra space before its closing <code>&quot;</code>. Also there are extra spaces at start of keys after that."},{"owner":{"account_id":29753542,"reputation":11,"user_id":22874358,"display_name":"Developer_wanna_be"},"score":0,"creation_date":1699377297,"post_id":77439743,"comment_id":136522960,"body_markdown":"Thank you! Those were a typo from my part while making this post. I receive the Json string from a server through a Rest API, so my problem persists :(","body":"Thank you! Those were a typo from my part while making this post. I receive the Json string from a server through a Rest API, so my problem persists :("}],"answers":[{"comments":[{"owner":{"account_id":29753542,"reputation":11,"user_id":22874358,"display_name":"Developer_wanna_be"},"score":0,"creation_date":1699386447,"post_id":77441035,"comment_id":136524487,"body_markdown":"I just took them out and used Getters and Setters instead. It kinda solved my problem, except that Lists&lt;&gt; are returning null, every other field has values now. Also, I made a class with the get and set of the getInformationResult class.","body":"I just took them out and used Getters and Setters instead. It kinda solved my problem, except that Lists&lt;&gt; are returning null, every other field has values now. Also, I made a class with the get and set of the getInformationResult class."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1699398294,"post_id":77441035,"comment_id":136526115,"body_markdown":"Depending on the configuration OP is using, `@SerializedName` might be needed for Android projects to make sure the correct JSON member names are used despite R8 / ProGuard renaming the fields. See also [R8 FAQ](https://r8.googlesource.com/r8/+/refs/heads/main/compatibility-faq.md#troubleshooting-gson).","body":"Depending on the configuration OP is using, <code>@SerializedName</code> might be needed for Android projects to make sure the correct JSON member names are used despite R8 / ProGuard renaming the fields. See also <a href=\"https://r8.googlesource.com/r8/+/refs/heads/main/compatibility-faq.md#troubleshooting-gson\" rel=\"nofollow noreferrer\">R8 FAQ</a>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699386177,"creation_date":1699386177,"answer_id":77441035,"question_id":77439743,"body_markdown":"You shouldn&#39;t need the _SerializedName_ _annotations_.\\\r\nThese are for when the _keys_ are not valid _Java_ variable names, e.g. _&quot;abc-123&quot;_, or _&quot;123abc&quot;_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass Example {\r\n    String key1;\r\n    int key2;\r\n}\r\n```\r\n\r\n```java\r\nString s = &quot;{ \\&quot;key1\\&quot;: \\&quot;abc\\&quot;, \\&quot;key2\\&quot;: 1 }&quot;;\r\nGson g = new Gson();\r\nExample e = g.fromJson(s, Example.class);\r\n```","title":"Deserializing Json String in Android Studio - Java","body":"<p>You shouldn't need the <em>SerializedName</em> <em>annotations</em>.<br />\nThese are for when the <em>keys</em> are not valid <em>Java</em> variable names, e.g. <em>&quot;abc-123&quot;</em>, or <em>&quot;123abc&quot;</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n    String key1;\n    int key2;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;{ \\&quot;key1\\&quot;: \\&quot;abc\\&quot;, \\&quot;key2\\&quot;: 1 }&quot;;\nGson g = new Gson();\nExample e = g.fromJson(s, Example.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29753542,"reputation":11,"user_id":22874358,"display_name":"Developer_wanna_be"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699983613,"creation_date":1699983513,"answer_id":77482715,"question_id":77439743,"body_markdown":"In case anybody needs the answer, I solved my issue doing the code like this instead:\r\n\r\n\r\npublic class getInformationResult {\r\n\r\n    public List&lt;Errors&gt; errorsList;\r\n    public String User_Name;\r\n    public String BE_Active;\r\n    public String BE_Owner_ID;\r\n    public String BT_ID;\r\n    public String CLC_Sale;\r\n    public String CLC_Shared_Balance;\r\n    public String Cash;\r\n    public String Client_Active;\r\n    public String Client_Alias;\r\n    public String Client_ID;\r\n    public String Clients_Balance_By_Brand;\r\n    public String Contact_Active;\r\n    public String Contact_ID;\r\n    public String Credit;\r\n    public String Currency;\r\n    public String Error_Codes;\r\n    public String Father_ID;\r\n    public String Labels;\r\n    public String Language_ID;\r\n    public String Parent_ID;\r\n    public String Schedule_Time_End;\r\n    public String Schedule_Time_Start;\r\n    public String Server_Date_Time;\r\n    public String Server_TZ_ISO_Notation;\r\n    public String TZ_ISO_Notation;\r\n    public String TT_ID;\r\n    public String Template_ID;\r\n    public String User_Active;\r\n    public String User_Email;\r\n\r\n    public List&lt;Errors&gt; getErrorsList() {\r\n        return errorsList;\r\n    }\r\n\r\n    public void setErrorsList(List&lt;Errors&gt; errorsList) {\r\n        this.errorsList = errorsList;\r\n    }\r\n\r\n    public String getUser_Name() {\r\n        return User_Name;\r\n    }\r\n\r\n    public void setUser_Name(String user_Name) {\r\n        User_Name = user_Name;\r\n    }\r\n\r\n    public String getBE_Active() {\r\n        return BE_Active;\r\n    }\r\n\r\n    public void setBE_Active(String BE_Active) {\r\n        this.BE_Active = BE_Active;\r\n    }\r\n\r\n    public String getBE_Owner_ID() {\r\n        return BE_Owner_ID;\r\n    }\r\n\r\n    public void setBE_Owner_ID(String BE_Owner_ID) {\r\n        this.BE_Owner_ID = BE_Owner_ID;\r\n    }\r\n\r\n    public String getBT_ID() {\r\n        return BT_ID;\r\n    }\r\n\r\n    public void setBT_ID(String BT_ID) {\r\n        this.BT_ID = BT_ID;\r\n    }\r\n\r\n    public String getCLC_Sale() {\r\n        return CLC_Sale;\r\n    }\r\n\r\n    public void setCLC_Sale(String CLC_Sale) {\r\n        this.CLC_Sale = CLC_Sale;\r\n    }\r\n\r\n    public String getCLC_Shared_Balance() {\r\n        return CLC_Shared_Balance;\r\n    }\r\n\r\n    public void setCLC_Shared_Balance(String CLC_Shared_Balance) {\r\n        this.CLC_Shared_Balance = CLC_Shared_Balance;\r\n    }\r\n\r\n    public String getCash() {\r\n        return Cash;\r\n    }\r\n\r\n    public void setCash(String cash) {\r\n        Cash = cash;\r\n    }\r\n\r\n    public String getClient_Active() {\r\n        return Client_Active;\r\n    }\r\n\r\n    public void setClient_Active(String client_Active) {\r\n        Client_Active = client_Active;\r\n    }\r\n\r\n    public String getClient_Alias() {\r\n        return Client_Alias;\r\n    }\r\n\r\n    public void setClient_Alias(String client_Alias) {\r\n        Client_Alias = client_Alias;\r\n    }\r\n\r\n    public String getClient_ID() {\r\n        return Client_ID;\r\n    }\r\n\r\n    public void setClient_ID(String client_ID) {\r\n        Client_ID = client_ID;\r\n    }\r\n\r\n    public String getClients_Balance_By_Brand() {\r\n        return Clients_Balance_By_Brand;\r\n    }\r\n\r\n    public void setClients_Balance_By_Brand(String clients_Balance_By_Brand) {\r\n        Clients_Balance_By_Brand = clients_Balance_By_Brand;\r\n    }\r\n\r\n    public String getContact_Active() {\r\n        return Contact_Active;\r\n    }\r\n\r\n    public void setContact_Active(String contact_Active) {\r\n        Contact_Active = contact_Active;\r\n    }\r\n\r\n    public String getContact_ID() {\r\n        return Contact_ID;\r\n    }\r\n\r\n    public void setContact_ID(String contact_ID) {\r\n        Contact_ID = contact_ID;\r\n    }\r\n\r\n    public String getCredit() {\r\n        return Credit;\r\n    }\r\n\r\n    public void setCredit(String credit) {\r\n        Credit = credit;\r\n    }\r\n\r\n    public String getCurrency() {\r\n        return Currency;\r\n    }\r\n\r\n    public void setCurrency(String currency) {\r\n        Currency = currency;\r\n    }\r\n\r\n    public String getError_Codes() {\r\n        return Error_Codes;\r\n    }\r\n\r\n    public void setError_Codes(String error_Codes) {\r\n        Error_Codes = error_Codes;\r\n    }\r\n\r\n    public String getFather_ID() {\r\n        return Father_ID;\r\n    }\r\n\r\n    public void setFather_ID(String father_ID) {\r\n        Father_ID = father_ID;\r\n    }\r\n\r\n    public String getLabels() {\r\n        return Labels;\r\n    }\r\n\r\n    public void setLabels(String labels) {\r\n        Labels = labels;\r\n    }\r\n\r\n    public String getLanguage_ID() {\r\n        return Language_ID;\r\n    }\r\n\r\n    public void setLanguage_ID(String language_ID) {\r\n        Language_ID = language_ID;\r\n    }\r\n\r\n    public String getParent_ID() {\r\n        return Parent_ID;\r\n    }\r\n\r\n    public void setParent_ID(String parent_ID) {\r\n        Parent_ID = parent_ID;\r\n    }\r\n\r\n    public String getSchedule_Time_End() {\r\n        return Schedule_Time_End;\r\n    }\r\n\r\n    public void setSchedule_Time_End(String schedule_Time_End) {\r\n        Schedule_Time_End = schedule_Time_End;\r\n    }\r\n\r\n    public String getSchedule_Time_Start() {\r\n        return Schedule_Time_Start;\r\n    }\r\n\r\n    public void setSchedule_Time_Start(String schedule_Time_Start) {\r\n        Schedule_Time_Start = schedule_Time_Start;\r\n    }\r\n\r\n    public String getServer_Date_Time() {\r\n        return Server_Date_Time;\r\n    }\r\n\r\n    public void setServer_Date_Time(String server_Date_Time) {\r\n        Server_Date_Time = server_Date_Time;\r\n    }\r\n\r\n    public String getServer_TZ_ISO_Notation() {\r\n        return Server_TZ_ISO_Notation;\r\n    }\r\n\r\n    public void setServer_TZ_ISO_Notation(String server_TZ_ISO_Notation) {\r\n        Server_TZ_ISO_Notation = server_TZ_ISO_Notation;\r\n    }\r\n\r\n    public String getTZ_ISO_Notation() {\r\n        return TZ_ISO_Notation;\r\n    }\r\n\r\n    public void setTZ_ISO_Notation(String TZ_ISO_Notation) {\r\n        this.TZ_ISO_Notation = TZ_ISO_Notation;\r\n    }\r\n\r\n    public String getTT_ID() {\r\n        return TT_ID;\r\n    }\r\n\r\n    public void setTT_ID(String TT_ID) {\r\n        this.TT_ID = TT_ID;\r\n    }\r\n\r\n    public String getTemplate_ID() {\r\n        return Template_ID;\r\n    }\r\n\r\n    public void setTemplate_ID(String template_ID) {\r\n        Template_ID = template_ID;\r\n    }\r\n\r\n    public String getUser_Active() {\r\n        return User_Active;\r\n    }\r\n\r\n    public void setUser_Active(String user_Active) {\r\n        User_Active = user_Active;\r\n    }\r\n\r\n    public String getUser_Email() {\r\n        return User_Email;\r\n    }\r\n\r\n    public void setUser_Email(String user_Email) {\r\n        User_Email = user_Email;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return new Gson().toJson(this);\r\n    }\r\n\r\n}\r\n\r\n----------------------------------------------------------------\r\n\r\npublic class Errors {\r\n\r\n\r\n    public List&lt;Error_Description&gt;errorDescriptions;\r\n\r\n\r\n    public String Error_ID;\r\n    public String Error_Name;\r\n    public static String Error_Code;\r\n\r\n    public static String getError_Code() {\r\n        return Error_Code;\r\n    }\r\n\r\n    public void setError_Code(String error_Code) {\r\n        Error_Code = error_Code;\r\n    }\r\n\r\n\r\n    public String getError_ID() {\r\n        return Error_ID;\r\n    }\r\n\r\n    public void setError_ID(String error_ID) {\r\n        Error_ID = error_ID;\r\n    }\r\n\r\n    public String getError_Name() {\r\n        return Error_Name;\r\n    }\r\n\r\n    public void setError_Name(String error_Name) {\r\n        Error_Name = error_Name;\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return new Gson().toJson(this);\r\n    }\r\n}\r\n\r\n-----------------------------------------------------------------------\r\n\r\npublic class Error_Description {\r\n\r\n\r\n    public String getLogin() {\r\n        return Login;\r\n    }\r\n\r\n    public void setLogin(String login) {\r\n        Login = login;\r\n    }\r\n\r\n    public String Login;\r\n\r\n        @NonNull\r\n        @Override\r\n        public String toString() {\r\n            return new Gson().toJson(this);\r\n        }\r\n    }\r\n","title":"Deserializing Json String in Android Studio - Java","body":"<p>In case anybody needs the answer, I solved my issue doing the code like this instead:</p>\n<p>public class getInformationResult {</p>\n<pre><code>public List&lt;Errors&gt; errorsList;\npublic String User_Name;\npublic String BE_Active;\npublic String BE_Owner_ID;\npublic String BT_ID;\npublic String CLC_Sale;\npublic String CLC_Shared_Balance;\npublic String Cash;\npublic String Client_Active;\npublic String Client_Alias;\npublic String Client_ID;\npublic String Clients_Balance_By_Brand;\npublic String Contact_Active;\npublic String Contact_ID;\npublic String Credit;\npublic String Currency;\npublic String Error_Codes;\npublic String Father_ID;\npublic String Labels;\npublic String Language_ID;\npublic String Parent_ID;\npublic String Schedule_Time_End;\npublic String Schedule_Time_Start;\npublic String Server_Date_Time;\npublic String Server_TZ_ISO_Notation;\npublic String TZ_ISO_Notation;\npublic String TT_ID;\npublic String Template_ID;\npublic String User_Active;\npublic String User_Email;\n\npublic List&lt;Errors&gt; getErrorsList() {\n    return errorsList;\n}\n\npublic void setErrorsList(List&lt;Errors&gt; errorsList) {\n    this.errorsList = errorsList;\n}\n\npublic String getUser_Name() {\n    return User_Name;\n}\n\npublic void setUser_Name(String user_Name) {\n    User_Name = user_Name;\n}\n\npublic String getBE_Active() {\n    return BE_Active;\n}\n\npublic void setBE_Active(String BE_Active) {\n    this.BE_Active = BE_Active;\n}\n\npublic String getBE_Owner_ID() {\n    return BE_Owner_ID;\n}\n\npublic void setBE_Owner_ID(String BE_Owner_ID) {\n    this.BE_Owner_ID = BE_Owner_ID;\n}\n\npublic String getBT_ID() {\n    return BT_ID;\n}\n\npublic void setBT_ID(String BT_ID) {\n    this.BT_ID = BT_ID;\n}\n\npublic String getCLC_Sale() {\n    return CLC_Sale;\n}\n\npublic void setCLC_Sale(String CLC_Sale) {\n    this.CLC_Sale = CLC_Sale;\n}\n\npublic String getCLC_Shared_Balance() {\n    return CLC_Shared_Balance;\n}\n\npublic void setCLC_Shared_Balance(String CLC_Shared_Balance) {\n    this.CLC_Shared_Balance = CLC_Shared_Balance;\n}\n\npublic String getCash() {\n    return Cash;\n}\n\npublic void setCash(String cash) {\n    Cash = cash;\n}\n\npublic String getClient_Active() {\n    return Client_Active;\n}\n\npublic void setClient_Active(String client_Active) {\n    Client_Active = client_Active;\n}\n\npublic String getClient_Alias() {\n    return Client_Alias;\n}\n\npublic void setClient_Alias(String client_Alias) {\n    Client_Alias = client_Alias;\n}\n\npublic String getClient_ID() {\n    return Client_ID;\n}\n\npublic void setClient_ID(String client_ID) {\n    Client_ID = client_ID;\n}\n\npublic String getClients_Balance_By_Brand() {\n    return Clients_Balance_By_Brand;\n}\n\npublic void setClients_Balance_By_Brand(String clients_Balance_By_Brand) {\n    Clients_Balance_By_Brand = clients_Balance_By_Brand;\n}\n\npublic String getContact_Active() {\n    return Contact_Active;\n}\n\npublic void setContact_Active(String contact_Active) {\n    Contact_Active = contact_Active;\n}\n\npublic String getContact_ID() {\n    return Contact_ID;\n}\n\npublic void setContact_ID(String contact_ID) {\n    Contact_ID = contact_ID;\n}\n\npublic String getCredit() {\n    return Credit;\n}\n\npublic void setCredit(String credit) {\n    Credit = credit;\n}\n\npublic String getCurrency() {\n    return Currency;\n}\n\npublic void setCurrency(String currency) {\n    Currency = currency;\n}\n\npublic String getError_Codes() {\n    return Error_Codes;\n}\n\npublic void setError_Codes(String error_Codes) {\n    Error_Codes = error_Codes;\n}\n\npublic String getFather_ID() {\n    return Father_ID;\n}\n\npublic void setFather_ID(String father_ID) {\n    Father_ID = father_ID;\n}\n\npublic String getLabels() {\n    return Labels;\n}\n\npublic void setLabels(String labels) {\n    Labels = labels;\n}\n\npublic String getLanguage_ID() {\n    return Language_ID;\n}\n\npublic void setLanguage_ID(String language_ID) {\n    Language_ID = language_ID;\n}\n\npublic String getParent_ID() {\n    return Parent_ID;\n}\n\npublic void setParent_ID(String parent_ID) {\n    Parent_ID = parent_ID;\n}\n\npublic String getSchedule_Time_End() {\n    return Schedule_Time_End;\n}\n\npublic void setSchedule_Time_End(String schedule_Time_End) {\n    Schedule_Time_End = schedule_Time_End;\n}\n\npublic String getSchedule_Time_Start() {\n    return Schedule_Time_Start;\n}\n\npublic void setSchedule_Time_Start(String schedule_Time_Start) {\n    Schedule_Time_Start = schedule_Time_Start;\n}\n\npublic String getServer_Date_Time() {\n    return Server_Date_Time;\n}\n\npublic void setServer_Date_Time(String server_Date_Time) {\n    Server_Date_Time = server_Date_Time;\n}\n\npublic String getServer_TZ_ISO_Notation() {\n    return Server_TZ_ISO_Notation;\n}\n\npublic void setServer_TZ_ISO_Notation(String server_TZ_ISO_Notation) {\n    Server_TZ_ISO_Notation = server_TZ_ISO_Notation;\n}\n\npublic String getTZ_ISO_Notation() {\n    return TZ_ISO_Notation;\n}\n\npublic void setTZ_ISO_Notation(String TZ_ISO_Notation) {\n    this.TZ_ISO_Notation = TZ_ISO_Notation;\n}\n\npublic String getTT_ID() {\n    return TT_ID;\n}\n\npublic void setTT_ID(String TT_ID) {\n    this.TT_ID = TT_ID;\n}\n\npublic String getTemplate_ID() {\n    return Template_ID;\n}\n\npublic void setTemplate_ID(String template_ID) {\n    Template_ID = template_ID;\n}\n\npublic String getUser_Active() {\n    return User_Active;\n}\n\npublic void setUser_Active(String user_Active) {\n    User_Active = user_Active;\n}\n\npublic String getUser_Email() {\n    return User_Email;\n}\n\npublic void setUser_Email(String user_Email) {\n    User_Email = user_Email;\n}\n\n\n@NonNull\n@Override\npublic String toString() {\n    return new Gson().toJson(this);\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>public class Errors {</p>\n<pre><code>public List&lt;Error_Description&gt;errorDescriptions;\n\n\npublic String Error_ID;\npublic String Error_Name;\npublic static String Error_Code;\n\npublic static String getError_Code() {\n    return Error_Code;\n}\n\npublic void setError_Code(String error_Code) {\n    Error_Code = error_Code;\n}\n\n\npublic String getError_ID() {\n    return Error_ID;\n}\n\npublic void setError_ID(String error_ID) {\n    Error_ID = error_ID;\n}\n\npublic String getError_Name() {\n    return Error_Name;\n}\n\npublic void setError_Name(String error_Name) {\n    Error_Name = error_Name;\n}\n\n\n\n@NonNull\n@Override\npublic String toString() {\n    return new Gson().toJson(this);\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>public class Error_Description {</p>\n<pre><code>public String getLogin() {\n    return Login;\n}\n\npublic void setLogin(String login) {\n    Login = login;\n}\n\npublic String Login;\n\n    @NonNull\n    @Override\n    public String toString() {\n        return new Gson().toJson(this);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29753542,"reputation":11,"user_id":22874358,"display_name":"Developer_wanna_be"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77482715,"answer_count":2,"score":-1,"last_activity_date":1699983613,"creation_date":1699373013,"question_id":77439743,"body_markdown":"I am trying to deserialize a Json String using GSONbut after deserialization all values appear as Null. This is the Json String (I obtain this String from a server through a Rest API):\r\n\r\n{&quot;getInformationResult&quot;:{\r\n\r\n&quot;BE_Active&quot;:false,&quot;BE_Owner_ID&quot;:0,&quot;BT_ID&quot;:0,&quot;CLC_Sale&quot;:0,&quot;CLC_Shared_Balance&quot;:false,&quot;Cash&quot;:false,&quot;Client_Active&quot;:false,&quot;Client_Alias&quot;:null,&quot;Client_ID&quot;:0,&quot;Clients_Balance_By_Brand&quot;:null,&quot;Contact_Active&quot;:false,&quot;Contact_ID&quot;:0,&quot;Credit&quot;:false,&quot;Currency_ID&quot;:0,&quot;Error_Codes&quot;:null,&quot;Errors&quot; :[{&quot;Error_Code&quot;:&quot;101&quot;,&quot;Error_Description&quot;:&quot;Login: Invalid User or Password&quot;,&quot;Error_ID&quot;:27,&quot;Error_Name&quot;:&quot;Invalid User Or Password&quot;}],&quot;Father_ID&quot;:0,&quot;Labels&quot;:null,&quot;Language_ID&quot;:0,&quot;Parent_ID&quot;:0,&quot;Schedule_Time_End&quot;:null,&quot;Schedule_Time_Start&quot;:null,Server_Date_Time&quot;:null,&quot;Server_TZ_ISO_Notation&quot;:null,&quot;TT_ID&quot;:0,&quot;TZ_ISO_Notation&quot;:null,&quot;Template_ID&quot;:0,&quot;User_Active&quot;:false,&quot;User_Email&quot;:null,&quot;User_Name&quot;:null}}\r\n\r\n\r\n\r\nAnd this is what I am Using to deserialize:\r\n\r\nGson gson = new Gson();\r\n            getInformationResult getInformationResult = new getInformationResult();\r\n            getInformationResult respuesta = gson.fromJson(response, getInformationResult.class);\r\n\r\n\r\n\r\npublic class getInformationResult {\r\n\r\n    @SerializedName(&quot;Errors&quot;)\r\n    public Errors Errors;\r\n    @SerializedName(&quot;User_Name&quot;)\r\n    public String User_Name;\r\n    @SerializedName(&quot;BE_Active&quot;)\r\n    public String BE_Active;\r\n    @SerializedName(&quot;BE_Owner_ID&quot;)\r\n    public String BE_Owner_ID;\r\n    @SerializedName(&quot;BT_ID&quot;)\r\n    public String BT_ID;\r\n    @SerializedName(&quot;CLC_Sale&quot;)\r\n    public String CLC_Sale;\r\n    @SerializedName(&quot;CLC_Shared_Balance&quot;)\r\n    public String CLC_Shared_Balance;\r\n    @SerializedName(&quot;Cash&quot;)\r\n    public String Cash;\r\n    @SerializedName(&quot;Client_Active&quot;)\r\n    public String Client_Active;\r\n    @SerializedName(&quot;Client_Alias&quot;)\r\n    public String Client_Alias;\r\n    @SerializedName(&quot;Client_ID&quot;)\r\n    public String Client_ID;\r\n    @SerializedName(&quot;Clients_Balance_By_Brand&quot;)\r\n    public String Clients_Balance_By_Brand;\r\n    @SerializedName(&quot;Contact_Active&quot;)\r\n    public String Contact_Active;\r\n    @SerializedName(&quot;Contact_ID&quot;)\r\n    public String Contact_ID;\r\n    @SerializedName(&quot;Credit&quot;)\r\n    public String Credit;\r\n    @SerializedName(&quot;Currency&quot;)\r\n    public String Currency;\r\n    @SerializedName(&quot;Error_Codes&quot;)\r\n    public String Error_Codes;\r\n    @SerializedName(&quot;Father_ID&quot;)\r\n    public String Father_ID;\r\n    @SerializedName(&quot;Labels&quot;)\r\n    public String Labels;\r\n    @SerializedName(&quot;Language_ID&quot;)\r\n    public String Language_ID;\r\n    @SerializedName(&quot;Parent_ID&quot;)\r\n    public String Parent_ID;\r\n    @SerializedName(&quot;Schedule_Time_End&quot;)\r\n    public String Schedule_Time_End;\r\n    @SerializedName(&quot;Schedule_Time_Start&quot;)\r\n    public String Schedule_Time_Start;\r\n    @SerializedName(&quot;Server_Date_Time&quot;)\r\n    public String Server_Date_Time;\r\n    @SerializedName(&quot;Server_TZ_ISO_Notation&quot;)\r\n    public String Server_TZ_ISO_Notation;\r\n    @SerializedName(&quot;TZ_ISO_Notation&quot;)\r\n    public String TZ_ISO_Notation;\r\n    @SerializedName(&quot;TT_ID&quot;)\r\n    public String TT_ID;\r\n    @SerializedName(&quot;Template_ID&quot;)\r\n    public String Template_ID;\r\n    @SerializedName(&quot;User_Active&quot;)\r\n    public String User_Active;\r\n    @SerializedName(&quot;User_Email&quot;)\r\n    public String User_Email;\r\n\r\n     public getInformationResult(Errors Errors, String User_Name,String BE_Active,String BE_Owner_ID, String BT_ID,String CLC_Sale,String CLC_Shared_Balance, String Cash,\r\n                                String Client_Active, String Client_Alias,String Client_ID,String Clients_Balance_By_Brand, String Server_TZ_ISO_Notation,String Contact_Active,\r\n                                String Contact_ID, String Credit, String Currency,String Error_Codes,String Father_ID,String Labels,String Language_ID,String Parent_ID,\r\n                                String Schedule_Time_End,String Schedule_Time_Start,String Server_Date_Time, String TZ_ISO_Notation,String TT_ID, String Template_ID, String User_Active, String User_Email ) {\r\n        this.Errors = Errors;\r\n        this.User_Name = User_Name;\r\n        this.BE_Active = BE_Active;\r\n        this.BE_Owner_ID = BE_Owner_ID;\r\n        this.BT_ID=BT_ID;\r\n        this.CLC_Sale = CLC_Sale;\r\n        this.CLC_Shared_Balance=CLC_Shared_Balance;\r\n        this.Cash=Cash;\r\n        this.Client_Active=Client_Active;\r\n        this.Client_Alias = Client_Alias;\r\n        this.Client_ID = Client_ID;\r\n        this.Clients_Balance_By_Brand = Clients_Balance_By_Brand;\r\n        this.Server_TZ_ISO_Notation = Server_TZ_ISO_Notation;\r\n        this.Contact_Active=Contact_Active;\r\n        this.Contact_ID=Contact_ID;\r\n        this.Credit=Credit;\r\n        this.Currency=Currency;\r\n        this.Error_Codes=Error_Codes;\r\n        this.Father_ID=Father_ID;\r\n        this.Labels=Labels;\r\n        this.Language_ID=Language_ID;\r\n        this.Parent_ID=Parent_ID;\r\n        this.Schedule_Time_End=Schedule_Time_End;\r\n        this.Schedule_Time_Start=Schedule_Time_Start;\r\n        this.TZ_ISO_Notation=TZ_ISO_Notation;\r\n        this.TT_ID=TT_ID;\r\n        this.Server_Date_Time=Server_Date_Time;\r\n        this.Template_ID=Template_ID;\r\n        this.User_Active=User_Active;\r\n        this.User_Email=User_Email;\r\n    }\r\n\r\n    \r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return new Gson().toJson(this);\r\n    }\r\n\r\n}","title":"Deserializing Json String in Android Studio - Java","body":"<p>I am trying to deserialize a Json String using GSONbut after deserialization all values appear as Null. This is the Json String (I obtain this String from a server through a Rest API):</p>\n<p>{&quot;getInformationResult&quot;:{</p>\n<p>&quot;BE_Active&quot;:false,&quot;BE_Owner_ID&quot;:0,&quot;BT_ID&quot;:0,&quot;CLC_Sale&quot;:0,&quot;CLC_Shared_Balance&quot;:false,&quot;Cash&quot;:false,&quot;Client_Active&quot;:false,&quot;Client_Alias&quot;:null,&quot;Client_ID&quot;:0,&quot;Clients_Balance_By_Brand&quot;:null,&quot;Contact_Active&quot;:false,&quot;Contact_ID&quot;:0,&quot;Credit&quot;:false,&quot;Currency_ID&quot;:0,&quot;Error_Codes&quot;:null,&quot;Errors&quot; :[{&quot;Error_Code&quot;:&quot;101&quot;,&quot;Error_Description&quot;:&quot;Login: Invalid User or Password&quot;,&quot;Error_ID&quot;:27,&quot;Error_Name&quot;:&quot;Invalid User Or Password&quot;}],&quot;Father_ID&quot;:0,&quot;Labels&quot;:null,&quot;Language_ID&quot;:0,&quot;Parent_ID&quot;:0,&quot;Schedule_Time_End&quot;:null,&quot;Schedule_Time_Start&quot;:null,Server_Date_Time&quot;:null,&quot;Server_TZ_ISO_Notation&quot;:null,&quot;TT_ID&quot;:0,&quot;TZ_ISO_Notation&quot;:null,&quot;Template_ID&quot;:0,&quot;User_Active&quot;:false,&quot;User_Email&quot;:null,&quot;User_Name&quot;:null}}</p>\n<p>And this is what I am Using to deserialize:</p>\n<p>Gson gson = new Gson();\ngetInformationResult getInformationResult = new getInformationResult();\ngetInformationResult respuesta = gson.fromJson(response, getInformationResult.class);</p>\n<p>public class getInformationResult {</p>\n<pre><code>@SerializedName(&quot;Errors&quot;)\npublic Errors Errors;\n@SerializedName(&quot;User_Name&quot;)\npublic String User_Name;\n@SerializedName(&quot;BE_Active&quot;)\npublic String BE_Active;\n@SerializedName(&quot;BE_Owner_ID&quot;)\npublic String BE_Owner_ID;\n@SerializedName(&quot;BT_ID&quot;)\npublic String BT_ID;\n@SerializedName(&quot;CLC_Sale&quot;)\npublic String CLC_Sale;\n@SerializedName(&quot;CLC_Shared_Balance&quot;)\npublic String CLC_Shared_Balance;\n@SerializedName(&quot;Cash&quot;)\npublic String Cash;\n@SerializedName(&quot;Client_Active&quot;)\npublic String Client_Active;\n@SerializedName(&quot;Client_Alias&quot;)\npublic String Client_Alias;\n@SerializedName(&quot;Client_ID&quot;)\npublic String Client_ID;\n@SerializedName(&quot;Clients_Balance_By_Brand&quot;)\npublic String Clients_Balance_By_Brand;\n@SerializedName(&quot;Contact_Active&quot;)\npublic String Contact_Active;\n@SerializedName(&quot;Contact_ID&quot;)\npublic String Contact_ID;\n@SerializedName(&quot;Credit&quot;)\npublic String Credit;\n@SerializedName(&quot;Currency&quot;)\npublic String Currency;\n@SerializedName(&quot;Error_Codes&quot;)\npublic String Error_Codes;\n@SerializedName(&quot;Father_ID&quot;)\npublic String Father_ID;\n@SerializedName(&quot;Labels&quot;)\npublic String Labels;\n@SerializedName(&quot;Language_ID&quot;)\npublic String Language_ID;\n@SerializedName(&quot;Parent_ID&quot;)\npublic String Parent_ID;\n@SerializedName(&quot;Schedule_Time_End&quot;)\npublic String Schedule_Time_End;\n@SerializedName(&quot;Schedule_Time_Start&quot;)\npublic String Schedule_Time_Start;\n@SerializedName(&quot;Server_Date_Time&quot;)\npublic String Server_Date_Time;\n@SerializedName(&quot;Server_TZ_ISO_Notation&quot;)\npublic String Server_TZ_ISO_Notation;\n@SerializedName(&quot;TZ_ISO_Notation&quot;)\npublic String TZ_ISO_Notation;\n@SerializedName(&quot;TT_ID&quot;)\npublic String TT_ID;\n@SerializedName(&quot;Template_ID&quot;)\npublic String Template_ID;\n@SerializedName(&quot;User_Active&quot;)\npublic String User_Active;\n@SerializedName(&quot;User_Email&quot;)\npublic String User_Email;\n\n public getInformationResult(Errors Errors, String User_Name,String BE_Active,String BE_Owner_ID, String BT_ID,String CLC_Sale,String CLC_Shared_Balance, String Cash,\n                            String Client_Active, String Client_Alias,String Client_ID,String Clients_Balance_By_Brand, String Server_TZ_ISO_Notation,String Contact_Active,\n                            String Contact_ID, String Credit, String Currency,String Error_Codes,String Father_ID,String Labels,String Language_ID,String Parent_ID,\n                            String Schedule_Time_End,String Schedule_Time_Start,String Server_Date_Time, String TZ_ISO_Notation,String TT_ID, String Template_ID, String User_Active, String User_Email ) {\n    this.Errors = Errors;\n    this.User_Name = User_Name;\n    this.BE_Active = BE_Active;\n    this.BE_Owner_ID = BE_Owner_ID;\n    this.BT_ID=BT_ID;\n    this.CLC_Sale = CLC_Sale;\n    this.CLC_Shared_Balance=CLC_Shared_Balance;\n    this.Cash=Cash;\n    this.Client_Active=Client_Active;\n    this.Client_Alias = Client_Alias;\n    this.Client_ID = Client_ID;\n    this.Clients_Balance_By_Brand = Clients_Balance_By_Brand;\n    this.Server_TZ_ISO_Notation = Server_TZ_ISO_Notation;\n    this.Contact_Active=Contact_Active;\n    this.Contact_ID=Contact_ID;\n    this.Credit=Credit;\n    this.Currency=Currency;\n    this.Error_Codes=Error_Codes;\n    this.Father_ID=Father_ID;\n    this.Labels=Labels;\n    this.Language_ID=Language_ID;\n    this.Parent_ID=Parent_ID;\n    this.Schedule_Time_End=Schedule_Time_End;\n    this.Schedule_Time_Start=Schedule_Time_Start;\n    this.TZ_ISO_Notation=TZ_ISO_Notation;\n    this.TT_ID=TT_ID;\n    this.Server_Date_Time=Server_Date_Time;\n    this.Template_ID=Template_ID;\n    this.User_Active=User_Active;\n    this.User_Email=User_Email;\n}\n\n\n@NonNull\n@Override\npublic String toString() {\n    return new Gson().toJson(this);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","security","netty","maven-dependency-plugin"],"owner":{"account_id":29902223,"reputation":1,"user_id":22915688,"display_name":"mehala smd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699982674,"creation_date":1699982674,"question_id":77482625,"body_markdown":"I&#39;m facing the netty-handler violation from aqua scanner report for my maven project, where the parent path is showing as /applicationinsights-agent.jar. No fix version is suggested, \r\n\r\nto fix this I excluded the netty-handler from the applicationinsights-agent maven dependency in pom.xml file \r\n\r\n      &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;applicationinsights-agent&lt;/artifactId&gt;\r\n           &lt;version&gt;${applicationinsights-agent.version}&lt;/version&gt;  (*I added the latest version 3.4.18*)\r\n           &lt;exclusions&gt;\r\n               &lt;exclusion&gt;\r\n                   &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n               &lt;/exclusion&gt;\r\n           &lt;/exclusions&gt;\r\n       &lt;/dependency&gt;\r\n\r\nBut this is not resolving, looking for a solution","title":"how to fix the netty-handler violation from aqua scanner report under application insights","body":"<p>I'm facing the netty-handler violation from aqua scanner report for my maven project, where the parent path is showing as /applicationinsights-agent.jar. No fix version is suggested,</p>\n<p>to fix this I excluded the netty-handler from the applicationinsights-agent maven dependency in pom.xml file</p>\n<pre><code>  &lt;dependency&gt;\n       &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n       &lt;artifactId&gt;applicationinsights-agent&lt;/artifactId&gt;\n       &lt;version&gt;${applicationinsights-agent.version}&lt;/version&gt;  (*I added the latest version 3.4.18*)\n       &lt;exclusions&gt;\n           &lt;exclusion&gt;\n               &lt;groupId&gt;io.netty&lt;/groupId&gt;\n               &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n           &lt;/exclusion&gt;\n       &lt;/exclusions&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>But this is not resolving, looking for a solution</p>\n"},{"tags":["java","file","vsam"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699983070,"post_id":77482547,"comment_id":136598052,"body_markdown":"Does this answer your question? [Class file has wrong version 55.0, should be 52.0 (IntelliJ)](https://stackoverflow.com/questions/63640216/class-file-has-wrong-version-55-0-should-be-52-0-intellij)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63640216/class-file-has-wrong-version-55-0-should-be-52-0-intellij\">Class file has wrong version 55.0, should be 52.0 (IntelliJ)</a>"},{"owner":{"account_id":8651511,"reputation":81,"user_id":6477019,"display_name":"Rahman786"},"score":0,"creation_date":1700057682,"post_id":77482547,"comment_id":136608054,"body_markdown":"Ok, I will try to use Java 11. Thank you!","body":"Ok, I will try to use Java 11. Thank you!"},{"owner":{"account_id":8651511,"reputation":81,"user_id":6477019,"display_name":"Rahman786"},"score":0,"creation_date":1700242109,"post_id":77482547,"comment_id":136634458,"body_markdown":"This  worked! Thank you again.","body":"This  worked! Thank you again."}],"owner":{"account_id":8651511,"reputation":81,"user_id":6477019,"display_name":"Rahman786"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699981889,"creation_date":1699981889,"question_id":77482547,"body_markdown":"I get below error when using the maven dependency to read IBM VSAM file. Could someone help?\r\ngroupId: com.ibm.jzos\r\nartifactId: ibm.jzos\r\nversion:  3.1.3.1\r\n\r\n \r\n*Error:\r\ncannot access com.ibm.jzos.ZFile\r\n  bad class file: \\c:\\users\\someone\\.m2\\repository\\com\\ibm\\jzos\\ibm.jzos\\3.1.3.1\\ibm.jzos-3.1.3.1.jar(com/ibm/jzos/ZFile.class)\r\n    class file has wrong version 55.0, should be 52.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.*","title":"VSAM file read maven dependency","body":"<p>I get below error when using the maven dependency to read IBM VSAM file. Could someone help?\ngroupId: com.ibm.jzos\nartifactId: ibm.jzos\nversion:  3.1.3.1</p>\n<p><em>Error:\ncannot access com.ibm.jzos.ZFile\nbad class file: \\c:\\users\\someone.m2\\repository\\com\\ibm\\jzos\\ibm.jzos\\3.1.3.1\\ibm.jzos-3.1.3.1.jar(com/ibm/jzos/ZFile.class)\nclass file has wrong version 55.0, should be 52.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.</em></p>\n"},{"tags":["java","time","datetimeformatter"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1696867256,"post_id":77260232,"comment_id":136204853,"body_markdown":"The Java 8+ `java.date` package&#39;s `DateTime...` classes expect date AND time. Have you tried calling `LocalDate.parse`?","body":"The Java 8+ <code>java.date</code> package&#39;s <code>DateTime...</code> classes expect date AND time. Have you tried calling <code>LocalDate.parse</code>?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1696867693,"post_id":77260232,"comment_id":136204933,"body_markdown":"Use regex replacement to add day 1 and massage the rest of the string into a format that can be parsed, e.g. [ISO_WEEK_DATE](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE)?","body":"Use regex replacement to add day 1 and massage the rest of the string into a format that can be parsed, e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE\" rel=\"nofollow noreferrer\">ISO_WEEK_DATE</a>?"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1696869740,"post_id":77260232,"comment_id":136205325,"body_markdown":"Not sure if I understood your question properly. But both the format in question worked for me using `DateTimeFormatter.ofPattern()`, then `formatter.parse()` in openjdk 11.","body":"Not sure if I understood your question properly. But both the format in question worked for me using <code>DateTimeFormatter.ofPattern()</code>, then <code>formatter.parse()</code> in openjdk 11."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696875610,"post_id":77260232,"comment_id":136206341,"body_markdown":"@Mr.Polywhirl No, no need for a date. Just use the appropriate class for each data type. See [my Answer](https://stackoverflow.com/a/77260836/642706).","body":"@Mr.Polywhirl No, no need for a date. Just use the appropriate class for each data type. See <a href=\"https://stackoverflow.com/a/77260836/642706\">my Answer</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696964128,"post_id":77260232,"comment_id":136219065,"body_markdown":"*Seems `DateTimeFormatter` will only accept a complete date (year+month+day) with limited text (dash, slash, period)* In at least 2 respects not generally true. What made you think it was?","body":"<i>Seems <code>DateTimeFormatter</code> will only accept a complete date (year+month+day) with limited text (dash, slash, period)</i> In at least 2 respects not generally true. What made you think it was?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697034453,"post_id":77260232,"comment_id":136229050,"body_markdown":"Welcome to Stack Overflow. Unlike others I downvoted. Because you have neither told us your expected result nor spelled out how you managed to get `DateTimeParseException` ([mre]) and what it looked like (exception message, stack trace). All of this is expected from a question like yours.","body":"Welcome to Stack Overflow. Unlike others I downvoted. Because you have neither told us your expected result nor spelled out how you managed to get <code>DateTimeParseException</code> (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) and what it looked like (exception message, stack trace). All of this is expected from a question like yours."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696870839,"post_id":77260534,"comment_id":136205531,"body_markdown":"I cannot in good conscience upvote code with `catch (Exception e)` in it.  Why not just catch DateTimeParseException?  Also, `throws IllegalArgumentException` is essentially meaningless, since all methods are automatically capable of throwing unchecked exceptions.","body":"I cannot in good conscience upvote code with <code>catch (Exception e)</code> in it.  Why not just catch DateTimeParseException?  Also, <code>throws IllegalArgumentException</code> is essentially meaningless, since all methods are automatically capable of throwing unchecked exceptions."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1696871312,"post_id":77260534,"comment_id":136205613,"body_markdown":"@VGR my bad, I meant `DateTimeParseException`. I originally wrote each try-catch out and defaulted to `Exeception`, before I introduced the loop. I only made it unchecked for demonstration purposes. I added a safer version at the bottom.","body":"@VGR my bad, I meant <code>DateTimeParseException</code>. I originally wrote each try-catch out and defaulted to <code>Exeception</code>, before I introduced the loop. I only made it unchecked for demonstration purposes. I added a safer version at the bottom."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696878920,"post_id":77260534,"comment_id":136206886,"body_markdown":"Thanks.  The `throws` clauses are still unnecessary, in my opinion.","body":"Thanks.  The <code>throws</code> clauses are still unnecessary, in my opinion."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696871269,"creation_date":1696869986,"answer_id":77260534,"question_id":77260232,"body_markdown":"You will need to use a `DateTimeFormatterBuilder` to apply defaults along with your pattern.\r\n\r\nA simple approach would be to declare all known formats ahead of time and loop through them. If you want to eliminate the looping, you could check if the string contains a &quot;W&quot; and call the week parser, or an &quot;M&quot; and call the month parser.\r\n\r\nPlease note that `YYYY` (upper-case) denotes a week-based year, vs `yyyy` (lower-case) an era (normal 365 day year).\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.time.temporal.*;\r\n\r\nclass DateParsing {\r\n    private static final DateTimeFormatter\r\n        PARSE_WEEK = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;YYYY&#39;W&#39;ww&quot;)\r\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n            .toFormatter(),\r\n        PARSE_MONTH = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;yyyy&#39;M&#39;MM&quot;)\r\n            .parseDefaulting(ChronoField.DAY_OF_MONTH, 1)\r\n            .toFormatter();\r\n\r\n    private static final DateTimeFormatter[] PATTERNS = { PARSE_WEEK, PARSE_MONTH };\r\n    \r\n    public static LocalDate parseDate(String input) throws IllegalArgumentException {\r\n        for (DateTimeFormatter pattern : PATTERNS) {\r\n            try {\r\n                return LocalDate.parse(input, pattern);\r\n            } catch (DateTimeParseException e) {\r\n                // System.err.println(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(String.format(&quot;Unknown format: %s&quot;, input));\r\n    }\r\n    \r\n    public static void main(String[] args) throws IllegalArgumentException {\r\n        String[] timestamps = {\r\n            &quot;2023W10&quot;, // 10th week of 2023\r\n            &quot;2023M10&quot;  // October 1, 2023\r\n        };\r\n        for (String timestamp : timestamps) {\r\n            System.out.printf(&quot;&gt;&gt;&gt; %s =&gt; %s%n&quot;, timestamp, parseDate(timestamp));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n&gt;&gt;&gt; 2023W10 =&gt; 2023-03-05\r\n&gt;&gt;&gt; 2023M10 =&gt; 2023-10-01\r\n```\r\n\r\n## Update\r\n\r\nIf you want to remove the loop and exception handling, you could check to see if the input string contains an &quot;M&quot; or &quot;W&quot; as explained above.\r\n\r\n```java\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.time.temporal.*;\r\n\r\nclass DateParsing {\r\n    private static final DateTimeFormatter\r\n        PARSE_WEEK = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;YYYY&#39;W&#39;ww&quot;)\r\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n            .toFormatter(),\r\n        PARSE_MONTH = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;yyyy&#39;M&#39;MM&quot;)\r\n            .parseDefaulting(ChronoField.DAY_OF_MONTH, 1)\r\n            .toFormatter();\r\n\r\n    public static LocalDate parseDate(String input) throws DateTimeParseException, IllegalArgumentException {\r\n        if (input.contains(&quot;M&quot;)) {\r\n            return LocalDate.parse(input, PARSE_MONTH);\r\n        }\r\n        if (input.contains(&quot;W&quot;)) {\r\n            return LocalDate.parse(input, PARSE_WEEK);\r\n        }\r\n        throw new IllegalArgumentException(String.format(&quot;Unknown format: %s&quot;, input));\r\n    }\r\n    \r\n    public static void main(String[] args) throws DateTimeParseException, IllegalArgumentException {\r\n        String[] timestamps = {\r\n            &quot;2023W10&quot;, // 10th week of 2023\r\n            &quot;2023M10&quot;  // October 1, 2023\r\n        };\r\n        for (String timestamp : timestamps) {\r\n            System.out.printf(&quot;&gt;&gt;&gt; %s =&gt; %s%n&quot;, timestamp, parseDate(timestamp));\r\n        }\r\n    }\r\n}\r\n```","title":"Can java datetimeformatter handle custom text in date format","body":"<p>You will need to use a <code>DateTimeFormatterBuilder</code> to apply defaults along with your pattern.</p>\n<p>A simple approach would be to declare all known formats ahead of time and loop through them. If you want to eliminate the looping, you could check if the string contains a &quot;W&quot; and call the week parser, or an &quot;M&quot; and call the month parser.</p>\n<p>Please note that <code>YYYY</code> (upper-case) denotes a week-based year, vs <code>yyyy</code> (lower-case) an era (normal 365 day year).</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.time.temporal.*;\n\nclass DateParsing {\n    private static final DateTimeFormatter\n        PARSE_WEEK = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;YYYY'W'ww&quot;)\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter(),\n        PARSE_MONTH = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;yyyy'M'MM&quot;)\n            .parseDefaulting(ChronoField.DAY_OF_MONTH, 1)\n            .toFormatter();\n\n    private static final DateTimeFormatter[] PATTERNS = { PARSE_WEEK, PARSE_MONTH };\n    \n    public static LocalDate parseDate(String input) throws IllegalArgumentException {\n        for (DateTimeFormatter pattern : PATTERNS) {\n            try {\n                return LocalDate.parse(input, pattern);\n            } catch (DateTimeParseException e) {\n                // System.err.println(&quot;Error: &quot; + e.getMessage());\n            }\n        }\n        throw new IllegalArgumentException(String.format(&quot;Unknown format: %s&quot;, input));\n    }\n    \n    public static void main(String[] args) throws IllegalArgumentException {\n        String[] timestamps = {\n            &quot;2023W10&quot;, // 10th week of 2023\n            &quot;2023M10&quot;  // October 1, 2023\n        };\n        for (String timestamp : timestamps) {\n            System.out.printf(&quot;&gt;&gt;&gt; %s =&gt; %s%n&quot;, timestamp, parseDate(timestamp));\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&gt;&gt;&gt; 2023W10 =&gt; 2023-03-05\n&gt;&gt;&gt; 2023M10 =&gt; 2023-10-01\n</code></pre>\n<h2>Update</h2>\n<p>If you want to remove the loop and exception handling, you could check to see if the input string contains an &quot;M&quot; or &quot;W&quot; as explained above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.*;\nimport java.time.format.*;\nimport java.time.temporal.*;\n\nclass DateParsing {\n    private static final DateTimeFormatter\n        PARSE_WEEK = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;YYYY'W'ww&quot;)\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter(),\n        PARSE_MONTH = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;yyyy'M'MM&quot;)\n            .parseDefaulting(ChronoField.DAY_OF_MONTH, 1)\n            .toFormatter();\n\n    public static LocalDate parseDate(String input) throws DateTimeParseException, IllegalArgumentException {\n        if (input.contains(&quot;M&quot;)) {\n            return LocalDate.parse(input, PARSE_MONTH);\n        }\n        if (input.contains(&quot;W&quot;)) {\n            return LocalDate.parse(input, PARSE_WEEK);\n        }\n        throw new IllegalArgumentException(String.format(&quot;Unknown format: %s&quot;, input));\n    }\n    \n    public static void main(String[] args) throws DateTimeParseException, IllegalArgumentException {\n        String[] timestamps = {\n            &quot;2023W10&quot;, // 10th week of 2023\n            &quot;2023M10&quot;  // October 1, 2023\n        };\n        for (String timestamp : timestamps) {\n            System.out.printf(&quot;&gt;&gt;&gt; %s =&gt; %s%n&quot;, timestamp, parseDate(timestamp));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696889628,"creation_date":1696873477,"answer_id":77260836,"question_id":77260232,"body_markdown":"# tl;dr\r\n\r\nIn your specific cases, you could easily use string manipulation rather than `DateTimeFormatter`. \r\n\r\n    org.threeten.extra.YearWeek.parse( &quot;2023W31&quot;.replace ( &quot;W&quot; , &quot;-W&quot; ) )\r\n\r\n… and:\r\n\r\n    java.time.YearMonth.parse( &quot;2023M07&quot;.replace( &quot;M&quot; , &quot;-&quot; ) )\r\n\r\nEven better: Change your data to use the standard [ISO 8601][1] format.\r\n\r\n - &lt;s&gt;2023W31&lt;/s&gt; ➡️ 2023-W31\r\n - &lt;s&gt;2023M07&lt;/s&gt; ➡️ 2023-07\r\n\r\n\r\n# Details\r\n\r\n&gt;What am I missing here?\r\n\r\nYou are missing the appropriate class. \r\n\r\n## `YearWeek` \r\n\r\nFor your first case, a week of the year, use the [`org.threeten.extra.YearWeek`][2] class from the library [*ThreeTen-Extra*][3]. This library adds functionality to the *java.time* classes built into Java 8+, defined in JSR 310. \r\n\r\nThe `YearWeek` class uses standard  [ISO 8601][1] formats when parsing/generating text. So you need not specify a formatting pattern.\r\n\r\nYour input text complies with the abbreviated style of the [ISO 8601][1] standard, but not the preferred expanded style. To comply with the expanded style, insert a hyphen, `input.replace( &quot;W&quot; , &quot;-W&quot; )`. \r\n\r\n```java\r\nString input = &quot;2023W31&quot;.replace ( &quot;W&quot; , &quot;-W&quot; );\r\nYearWeek yearWeek = YearWeek.parse ( input );\r\nSystem.out.println ( &quot;yearWeek = &quot; + yearWeek );\r\n```\r\n\r\n&gt;yearWeek = 2023-W31\r\n\r\n### Define “week”\r\n\r\nUse this `YearWeek` class only if your definition of “week” agrees with the ISO 8601 standard definition:\r\n\r\n - Either 52 or 53 complete 7-day weeks per year. \r\n - Week starts on Monday. \r\n - Week # 1 contains the first Thursday of the calendar year. \r\n\r\n## `YearMonth`\r\n\r\nFor your second case, use the [`java.time.YearMonth`][4] class built into Java 8+. \r\n\r\nThe standard ISO 8601 format for a year and month is YYYY-MM. I recommend you use this standard format in your stored values in the database. \r\n\r\n    YearMonth yearMonth = YearMonth.parse( &quot;2023-07&quot; ) ;\r\n\r\nIf you insist on using your custom format, you might be able to define a `DateTimeFormatter` to specify your particular formatting pattern. But I would just replace the `M` with a hyphen. \r\n\r\n    YearMonth yearMonth = YearMonth.parse( &quot;2023M07&quot;.replace( &quot;M&quot; , &quot;-&quot; ) ) ;\r\n    \r\n&gt;yearMonth = 2023-07\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html\r\n  [3]: https://www.threeten.org/threeten-extra/\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/YearMonth.html","title":"Can java datetimeformatter handle custom text in date format","body":"<h1>tl;dr</h1>\n<p>In your specific cases, you could easily use string manipulation rather than <code>DateTimeFormatter</code>.</p>\n<pre><code>org.threeten.extra.YearWeek.parse( &quot;2023W31&quot;.replace ( &quot;W&quot; , &quot;-W&quot; ) )\n</code></pre>\n<p>… and:</p>\n<pre><code>java.time.YearMonth.parse( &quot;2023M07&quot;.replace( &quot;M&quot; , &quot;-&quot; ) )\n</code></pre>\n<p>Even better: Change your data to use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format.</p>\n<ul>\n<li><s>2023W31</s> ➡️ 2023-W31</li>\n<li><s>2023M07</s> ➡️ 2023-07</li>\n</ul>\n<h1>Details</h1>\n<blockquote>\n<p>What am I missing here?</p>\n</blockquote>\n<p>You are missing the appropriate class.</p>\n<h2><code>YearWeek</code></h2>\n<p>For your first case, a week of the year, use the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.YearWeek</code></a> class from the library <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a>. This library adds functionality to the <em>java.time</em> classes built into Java 8+, defined in JSR 310.</p>\n<p>The <code>YearWeek</code> class uses standard  <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats when parsing/generating text. So you need not specify a formatting pattern.</p>\n<p>Your input text complies with the abbreviated style of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard, but not the preferred expanded style. To comply with the expanded style, insert a hyphen, <code>input.replace( &quot;W&quot; , &quot;-W&quot; )</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;2023W31&quot;.replace ( &quot;W&quot; , &quot;-W&quot; );\nYearWeek yearWeek = YearWeek.parse ( input );\nSystem.out.println ( &quot;yearWeek = &quot; + yearWeek );\n</code></pre>\n<blockquote>\n<p>yearWeek = 2023-W31</p>\n</blockquote>\n<h3>Define “week”</h3>\n<p>Use this <code>YearWeek</code> class only if your definition of “week” agrees with the ISO 8601 standard definition:</p>\n<ul>\n<li>Either 52 or 53 complete 7-day weeks per year.</li>\n<li>Week starts on Monday.</li>\n<li>Week # 1 contains the first Thursday of the calendar year.</li>\n</ul>\n<h2><code>YearMonth</code></h2>\n<p>For your second case, use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a> class built into Java 8+.</p>\n<p>The standard ISO 8601 format for a year and month is YYYY-MM. I recommend you use this standard format in your stored values in the database.</p>\n<pre><code>YearMonth yearMonth = YearMonth.parse( &quot;2023-07&quot; ) ;\n</code></pre>\n<p>If you insist on using your custom format, you might be able to define a <code>DateTimeFormatter</code> to specify your particular formatting pattern. But I would just replace the <code>M</code> with a hyphen.</p>\n<pre><code>YearMonth yearMonth = YearMonth.parse( &quot;2023M07&quot;.replace( &quot;M&quot; , &quot;-&quot; ) ) ;\n</code></pre>\n<blockquote>\n<p>yearMonth = 2023-07</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":414302,"reputation":49,"user_id":3329518,"display_name":"user3329518"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699981786,"creation_date":1699981786,"answer_id":77482538,"question_id":77260232,"body_markdown":"Many thanks for all the input. I did not know about the ISO date formats, in future I will use them. My requirement is to average values such as prices from day to week and month. So far as I can tell, the deficiencies in date/calendar will not affect the values I produce.  When they are deprecated, I will bite the bullet and re-code.","title":"Can java datetimeformatter handle custom text in date format","body":"<p>Many thanks for all the input. I did not know about the ISO date formats, in future I will use them. My requirement is to average values such as prices from day to week and month. So far as I can tell, the deficiencies in date/calendar will not affect the values I produce.  When they are deprecated, I will bite the bullet and re-code.</p>\n"}],"owner":{"account_id":414302,"reputation":49,"user_id":3329518,"display_name":"user3329518"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1699981786,"creation_date":1696866736,"question_id":77260232,"body_markdown":"I store in a database:\r\n\r\n- a week as `yyyyWww`, that is `2023W10` is 10&lt;sup&gt;th&lt;/sup&gt; week of 2023\r\n- a month as `2023M10` meaning October 2023\r\n\r\nI can use `yyyy&#39;W&#39;ww` and `yyyy&#39;M&#39;MM` formats in `SimpleDateFormat`.\r\n\r\n`DateTimeFormatter` gives `DateTimeParseException` in these cases.  Seems `DateTimeFormatter` will only accept a complete date (`year+month+day`) with limited text (dash, slash, period)\r\n\r\nWhat am I missing here?\r\n\r\nI have tried `yyyy&#39;W&#39;ww` and `yyyy&#39;M&#39;MM` formats in `dateTimeFormatter`, both give parseexceptions.","title":"Can java datetimeformatter handle custom text in date format","body":"<p>I store in a database:</p>\n<ul>\n<li>a week as <code>yyyyWww</code>, that is <code>2023W10</code> is 10<sup>th</sup> week of 2023</li>\n<li>a month as <code>2023M10</code> meaning October 2023</li>\n</ul>\n<p>I can use <code>yyyy'W'ww</code> and <code>yyyy'M'MM</code> formats in <code>SimpleDateFormat</code>.</p>\n<p><code>DateTimeFormatter</code> gives <code>DateTimeParseException</code> in these cases.  Seems <code>DateTimeFormatter</code> will only accept a complete date (<code>year+month+day</code>) with limited text (dash, slash, period)</p>\n<p>What am I missing here?</p>\n<p>I have tried <code>yyyy'W'ww</code> and <code>yyyy'M'MM</code> formats in <code>dateTimeFormatter</code>, both give parseexceptions.</p>\n"},{"tags":["java","spring","web","spring-security","postman"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1699971242,"post_id":77480964,"comment_id":136595490,"body_markdown":"You haven&#39;t configured any authentication mechanism.","body":"You haven&#39;t configured any authentication mechanism."}],"answers":[{"comments":[{"owner":{"account_id":29890320,"reputation":1,"user_id":22906633,"display_name":"Alexis"},"score":0,"creation_date":1700047346,"post_id":77482409,"comment_id":136606140,"body_markdown":"I have tried this method , but I get Error&quot;&#39;csrf()&#39; is deprecated and marked for removal&quot;.Maybe there is some other method to solve this problem.If you know the method .I be thankful","body":"I have tried this method , but I get Error&quot;&#39;csrf()&#39; is deprecated and marked for removal&quot;.Maybe there is some other method to solve this problem.If you know the method .I be thankful"},{"owner":{"account_id":29890320,"reputation":1,"user_id":22906633,"display_name":"Alexis"},"score":0,"creation_date":1700061685,"post_id":77482409,"comment_id":136608895,"body_markdown":"finalli i did it&#39;\npublic SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception{\n       http\n               .authorizeRequests()\n               .requestMatchers(&quot;/&quot;).permitAll()\n.requestMatchers(antMatcher(HttpMethod.GET,&quot;/api/**&quot;)).hasAnyRole(Role.ADMIN.name(),Role.USER.name())\n.requestMatchers(antMatcher(HttpMethod.POST,&quot;/api/**&quot;)).hasRole(Role.ADMIN.name())\n               .anyRequest()\n               .authenticated()\n               .and()\n               .csrf((csrf) -&gt; csrf.disable()).httpBasic(Customizer.withDefaults());\n        return http.build();\n   }&#39;","body":"finalli i did it&#39; public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception{        http                .authorizeRequests()                .requestMatchers(&quot;/&quot;).permitAll() .requestMatchers(antMatcher(HttpMethod.GET,&quot;/api/**&quot;)).hasAn&zwnj;&#8203;yRole(Role.ADMIN.nam&zwnj;&#8203;e(),Role.USER.name()&zwnj;&#8203;) .requestMatchers(antMatcher(HttpMethod.POST,&quot;/api/**&quot;)).hasR&zwnj;&#8203;ole(Role.ADMIN.name(&zwnj;&#8203;))                .anyRequest()                .authenticated()                .and()                .csrf((csrf) -&gt; csrf.disable()).httpBasic(Customizer.withDefaults());         return http.build();    }&#39;"},{"owner":{"account_id":10315060,"reputation":3,"user_id":7609613,"display_name":"Mojtaba"},"score":0,"creation_date":1700067232,"post_id":77482409,"comment_id":136609989,"body_markdown":"@Alexis yes you&#39;r right. After spring security version 6, we should do it in this way.","body":"@Alexis yes you&#39;r right. After spring security version 6, we should do it in this way."}],"tags":[],"owner":{"account_id":10315060,"reputation":3,"user_id":7609613,"display_name":"Mojtaba"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699981744,"creation_date":1699980387,"answer_id":77482409,"question_id":77480964,"body_markdown":"as @M.deinum said, you have to configure an authentication mechanism.\r\nfor example configure basic authentication like this:\r\n\r\n    http.httpBasic();\r\n    return http.build();\r\nafter this configuration, you will get 401 error because of csrf for post endpoints.\r\n\r\nuse this to disable it:\r\n\r\n    http.csrf().disable();\r\nsee this question for more details :\r\n[Getting 401 Unauthorized][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77426817/why-is-my-authcontroller-returning-me-401-unauthorized-even-though-i-set-all-t","title":"When I do http request I get error 403 although I enter the correct password and login in postman","body":"<p>as @M.deinum said, you have to configure an authentication mechanism.\nfor example configure basic authentication like this:</p>\n<pre><code>http.httpBasic();\nreturn http.build();\n</code></pre>\n<p>after this configuration, you will get 401 error because of csrf for post endpoints.</p>\n<p>use this to disable it:</p>\n<pre><code>http.csrf().disable();\n</code></pre>\n<p>see this question for more details :\n<a href=\"https://stackoverflow.com/questions/77426817/why-is-my-authcontroller-returning-me-401-unauthorized-even-though-i-set-all-t\">Getting 401 Unauthorized</a></p>\n"}],"owner":{"account_id":29890320,"reputation":1,"user_id":22906633,"display_name":"Alexis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699981744,"creation_date":1699968519,"question_id":77480964,"body_markdown":"```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    protected UserDetailsService userDetailsService(){\r\n        UserDetails admin = User.builder()\r\n                .username(&quot;admin&quot;)\r\n                .password(passwordEncoder().encode(&quot;admin&quot;))\r\n                .authorities(Role.ADMIN.name())\r\n                .build();\r\n        UserDetails user = User.builder()\r\n                .username(&quot;user&quot;)\r\n                .password(passwordEncoder().encode(&quot;user&quot;))\r\n                .authorities(Role.USER.name())\r\n                .build();\r\n        return new InMemoryUserDetailsManager(admin,user);\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n   @Bean\r\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception{\r\n        http.authorizeRequests()\r\n                .requestMatchers(HttpMethod.GET,&quot;/**&quot;).hasAnyAuthority(Role.ADMIN.name(),Role.USER.name())\r\n                .requestMatchers(HttpMethod.POST,&quot;/**&quot;).hasAuthority(Role.ADMIN.name())\r\n                .anyRequest()\r\n                .authenticated();\r\n        return http.build();\r\n\r\n   }\r\n\r\n\r\n}\r\n```\r\n```\r\n2023-11-14T20:14:07.467+07:00 DEBUG 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/11)\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/11)\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/11)\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/11)\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/11)\r\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/11)\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern=&#39;/logout&#39;, POST]\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/11)\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/11)\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/11)\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (10/11)\r\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (11/11)\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 6844356C810F91E1262BEAEE54CA1338 using the SPRING_SECURITY_CONTEXT session attribute\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [hasAnyAuthority(&#39;ADMIN&#39;,&#39;USER&#39;)]\r\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization\r\n2023-11-14T20:14:07.471+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /error] with attributes [hasAnyAuthority(&#39;ADMIN&#39;,&#39;USER&#39;)] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@561953e3], AllowIfAllAbstainDecisions=false]\r\n2023-11-14T20:14:07.472+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n```\r\nWhen I do Http request(post or get) in postman I get 403 error although I enter correct login and password\r\nI already connect Postman Interceptor but It anyway dont work.Without spring security post and get request correctly work. I would appreciate your any help","title":"When I do http request I get error 403 although I enter the correct password and login in postman","body":"<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    protected UserDetailsService userDetailsService(){\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(passwordEncoder().encode(&quot;admin&quot;))\n                .authorities(Role.ADMIN.name())\n                .build();\n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(passwordEncoder().encode(&quot;user&quot;))\n                .authorities(Role.USER.name())\n                .build();\n        return new InMemoryUserDetailsManager(admin,user);\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n   @Bean\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception{\n        http.authorizeRequests()\n                .requestMatchers(HttpMethod.GET,&quot;/**&quot;).hasAnyAuthority(Role.ADMIN.name(),Role.USER.name())\n                .requestMatchers(HttpMethod.POST,&quot;/**&quot;).hasAuthority(Role.ADMIN.name())\n                .anyRequest()\n                .authenticated();\n        return http.build();\n\n   }\n\n\n}\n</code></pre>\n<pre><code>2023-11-14T20:14:07.467+07:00 DEBUG 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/11)\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/11)\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/11)\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/11)\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/11)\n2023-11-14T20:14:07.467+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/11)\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/11)\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/11)\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/11)\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (10/11)\n2023-11-14T20:14:07.468+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (11/11)\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 6844356C810F91E1262BEAEE54CA1338 using the SPRING_SECURITY_CONTEXT session attribute\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [hasAnyAuthority('ADMIN','USER')]\n2023-11-14T20:14:07.470+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization\n2023-11-14T20:14:07.471+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /error] with attributes [hasAnyAuthority('ADMIN','USER')] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@561953e3], AllowIfAllAbstainDecisions=false]\n2023-11-14T20:14:07.472+07:00 TRACE 11932 --- [nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6844356C810F91E1262BEAEE54CA1338], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n</code></pre>\n<p>When I do Http request(post or get) in postman I get 403 error although I enter correct login and password\nI already connect Postman Interceptor but It anyway dont work.Without spring security post and get request correctly work. I would appreciate your any help</p>\n"},{"tags":["java","apache-httpcomponents","apache-httpclient-5.x"],"owner":{"account_id":126517,"reputation":700,"user_id":323069,"accept_rate":0,"display_name":"&#211;scar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699981692,"creation_date":1699981692,"question_id":77482529,"body_markdown":"I would like **HttpClient 5** to retry requests when facing a [TunnelRefusedException][1] (it happens randomly that the proxy refuses the initial connection, but it usually works ok when retrying).\r\n\r\nI have tried extending [DefaultHttpRequestRetryStrategy][2] but it can only capture exceptions inheriting from `IOException`:\r\n\r\n    public class MyRetryStrategy extends DefaultHttpRequestRetryStrategy {\r\n    \r\n        public MyRetryStrategy() {\r\n            super(2,\r\n                    TimeValue.ofSeconds(1L),\r\n                    Arrays.asList(InterruptedIOException.class, UnknownHostException.class, ConnectException.class, ConnectionClosedException.class, NoRouteToHostException.class, SSLException.class,\r\n                            TunnelRefusedException.class  // not valid, because it is not an IOException !\r\n                    ),\r\n                    Arrays.asList(429, 503)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nSo, maybe `HttpRequestRetryStrategy` interface should support any kind of `Exception`?  Or maybe `TunnelRefusedException` should be an `IOException`?\r\n\r\nAny ideas about how to do this?\r\n\r\nSample stacktrace of the error that I would like to retry:\r\n\r\n       org.apache.hc.client5.http.ClientProtocolException: CONNECT refused by proxy: HTTP/1.1 500 Internal Server Error\r\n            at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:173)\r\n            at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\r\n            at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\r\n    [...]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n            at java.base/java.lang.Thread.run(Thread.java:1583)\r\n    Caused by: org.apache.hc.client5.http.impl.TunnelRefusedException: CONNECT refused by proxy: HTTP/1.1 500 Internal Server Error\r\n            at org.apache.hc.client5.http.impl.classic.ConnectExec.createTunnelToTarget(ConnectExec.java:284)\r\n            at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:151)\r\n            at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n            at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\r\n            at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n            at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n            at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n            at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\r\n            at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n            at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n            at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n            at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\r\n            ... 19 more\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/TunnelRefusedException.html\r\n  [2]: https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/DefaultHttpRequestRetryStrategy.java","title":"How to retry HttpClient request on TunnelRefusedException?","body":"<p>I would like <strong>HttpClient 5</strong> to retry requests when facing a <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/TunnelRefusedException.html\" rel=\"nofollow noreferrer\">TunnelRefusedException</a> (it happens randomly that the proxy refuses the initial connection, but it usually works ok when retrying).</p>\n<p>I have tried extending <a href=\"https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/DefaultHttpRequestRetryStrategy.java\" rel=\"nofollow noreferrer\">DefaultHttpRequestRetryStrategy</a> but it can only capture exceptions inheriting from <code>IOException</code>:</p>\n<pre><code>public class MyRetryStrategy extends DefaultHttpRequestRetryStrategy {\n\n    public MyRetryStrategy() {\n        super(2,\n                TimeValue.ofSeconds(1L),\n                Arrays.asList(InterruptedIOException.class, UnknownHostException.class, ConnectException.class, ConnectionClosedException.class, NoRouteToHostException.class, SSLException.class,\n                        TunnelRefusedException.class  // not valid, because it is not an IOException !\n                ),\n                Arrays.asList(429, 503)\n        );\n    }\n}\n</code></pre>\n<p>So, maybe <code>HttpRequestRetryStrategy</code> interface should support any kind of <code>Exception</code>?  Or maybe <code>TunnelRefusedException</code> should be an <code>IOException</code>?</p>\n<p>Any ideas about how to do this?</p>\n<p>Sample stacktrace of the error that I would like to retry:</p>\n<pre><code>   org.apache.hc.client5.http.ClientProtocolException: CONNECT refused by proxy: HTTP/1.1 500 Internal Server Error\n        at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:173)\n        at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\n        at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\n[...]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.apache.hc.client5.http.impl.TunnelRefusedException: CONNECT refused by proxy: HTTP/1.1 500 Internal Server Error\n        at org.apache.hc.client5.http.impl.classic.ConnectExec.createTunnelToTarget(ConnectExec.java:284)\n        at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:151)\n        at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n        at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n        at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n        at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\n        at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n        at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\n        at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n        at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\n        at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n        at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\n        ... 19 more\n</code></pre>\n"},{"tags":["java","android","android-auto"],"answers":[{"tags":[],"owner":{"account_id":12852015,"reputation":660,"user_id":17997552,"display_name":"Ben Sagmoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699981618,"creation_date":1699981618,"answer_id":77482522,"question_id":77474508,"body_markdown":"For apps that target API 34 or higher running on an API 34 or higher device, you&#39;ll need to use `1.3.0-beta01` or higher as described at https://developer.android.com/training/cars/apps#car-connection.","title":"Checking CarConnection app crashes with SecurityException - RECEIVER_EXPORTED or RECEIVER_NOT_EXPORTED","body":"<p>For apps that target API 34 or higher running on an API 34 or higher device, you'll need to use <code>1.3.0-beta01</code> or higher as described at <a href=\"https://developer.android.com/training/cars/apps#car-connection\" rel=\"nofollow noreferrer\">https://developer.android.com/training/cars/apps#car-connection</a>.</p>\n"}],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77482522,"answer_count":1,"score":1,"last_activity_date":1699981618,"creation_date":1699884801,"question_id":77474508,"body_markdown":"in Android 34, App crashes with `SecurityException: com.mgg.timmi: One of RECEIVER_EXPORTED or RECEIVER_NOT_EXPORTED should be specified when a receiver isn&#39;t being registered exclusively for system broadcasts`.\r\n\r\nThis crash happens when calling in Android 34\r\n\r\n      new CarConnection(this).getType().observe(this, new Observer&lt;Integer&gt;() {\r\n            @Override\r\n            public void onChanged(Integer integer) {\r\n                Log.d(TAG, &quot;CarConnection status changed&quot;);\r\n            }\r\n        });\r\n\r\nObserver and Oberserverable are deprecated, so what else can I use to check if device is connected with `Android Car`.\r\n\r\nI&#39;m using implementation `car.app:1.2.0`.\r\n\r\n\r\nthanks\r\nGGK\r\n\r\n\r\n\r\n","title":"Checking CarConnection app crashes with SecurityException - RECEIVER_EXPORTED or RECEIVER_NOT_EXPORTED","body":"<p>in Android 34, App crashes with <code>SecurityException: com.mgg.timmi: One of RECEIVER_EXPORTED or RECEIVER_NOT_EXPORTED should be specified when a receiver isn't being registered exclusively for system broadcasts</code>.</p>\n<p>This crash happens when calling in Android 34</p>\n<pre><code>  new CarConnection(this).getType().observe(this, new Observer&lt;Integer&gt;() {\n        @Override\n        public void onChanged(Integer integer) {\n            Log.d(TAG, &quot;CarConnection status changed&quot;);\n        }\n    });\n</code></pre>\n<p>Observer and Oberserverable are deprecated, so what else can I use to check if device is connected with <code>Android Car</code>.</p>\n<p>I'm using implementation <code>car.app:1.2.0</code>.</p>\n<p>thanks\nGGK</p>\n"},{"tags":["java","multithreading","race-condition"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699981552,"creation_date":1699981552,"answer_id":77482515,"question_id":77482498,"body_markdown":"&gt; No the case?\r\n\r\nNo.\r\n\r\nEach thread is free to create a local cached copy of any field (and, generally, they do). Until there is a reason to update these caches, the JVM probably wont, for __days__ if it wants to (the spec does not impose any requirement on a JVM to do so).\r\n\r\nTo force an update, you use `volatile`, `synchronized`, or any other Happens Before relationship as listed in the Java Memory Model section of the java memory spec. Your code has zero such HB relationships, therefore, the JVM doesn&#39;t _ever_ have to update.\r\n\r\nIn other words, one thread thinks `shouldFinish` is `true`, another thinks it is `false`, and they continue to think that for hours, days, or forever, or not - the JVM spec simply doesn&#39;t specify either way.\r\n","title":"Potential Java Race Conditions","body":"<blockquote>\n<p>No the case?</p>\n</blockquote>\n<p>No.</p>\n<p>Each thread is free to create a local cached copy of any field (and, generally, they do). Until there is a reason to update these caches, the JVM probably wont, for <strong>days</strong> if it wants to (the spec does not impose any requirement on a JVM to do so).</p>\n<p>To force an update, you use <code>volatile</code>, <code>synchronized</code>, or any other Happens Before relationship as listed in the Java Memory Model section of the java memory spec. Your code has zero such HB relationships, therefore, the JVM doesn't <em>ever</em> have to update.</p>\n<p>In other words, one thread thinks <code>shouldFinish</code> is <code>true</code>, another thinks it is <code>false</code>, and they continue to think that for hours, days, or forever, or not - the JVM spec simply doesn't specify either way.</p>\n"}],"owner":{"account_id":2435926,"reputation":21167,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77482515,"answer_count":1,"score":0,"last_activity_date":1699981552,"creation_date":1699981285,"question_id":77482498,"body_markdown":"Trying to understand the [following](https://dzone.com/refcardz/core-java-concurrency) claim:\r\n\r\n&gt; A data race occurs when 2 or more threads try to access the same non-final variable without synchronization. Not using synchronization may lead to making changes which are not visible to other threads, so reading the stale data is possible, which in turn may have consequences such as infinite loops, corrupted data structures, or inaccurate computations. *This code might result in an infinite loop, because the reader thread may never observe the changes made by the writer threads:*\r\n\r\n    class Waiter implements Runnable {\r\n      private boolean shouldFinish;\r\n    \r\n      void finish() { shouldFinish = true; }\r\n    \r\n      public void run() {\r\n        long iteration = 0;\r\n        while (!shouldFinish) {\r\n          iteration++;\r\n        }\r\n        System.out.println(&quot;Finished after: &quot; + iteration);\r\n      }\r\n    }\r\n    \r\n    class DataRace {\r\n    \r\n      public static void main(String[] args) throws InterruptedException {\r\n        Waiter waiter = new Waiter();\r\n        Thread waiterThread = new Thread(waiter);\r\n        waiterThread.start();\r\n    \r\n        waiter.finish();\r\n        waiterThread.join();\r\n      }\r\n    }\r\n\r\nMy thinking is that, \r\n\r\n- In Java Reader/Writer primitive data like boolean is atom action.\r\n- Even if the reader thread failed to observe the changes made by the writer threads in one loop, it should be able to see the change in the next loop.\r\n\r\nNo the case? Why? Because the reader thread may never yield to the writer thread? (If so I don&#39;t think it shall be called Race Conditions, right?)\r\n\r\n","title":"Potential Java Race Conditions","body":"<p>Trying to understand the <a href=\"https://dzone.com/refcardz/core-java-concurrency\" rel=\"nofollow noreferrer\">following</a> claim:</p>\n<blockquote>\n<p>A data race occurs when 2 or more threads try to access the same non-final variable without synchronization. Not using synchronization may lead to making changes which are not visible to other threads, so reading the stale data is possible, which in turn may have consequences such as infinite loops, corrupted data structures, or inaccurate computations. <em>This code might result in an infinite loop, because the reader thread may never observe the changes made by the writer threads:</em></p>\n</blockquote>\n<pre><code>class Waiter implements Runnable {\n  private boolean shouldFinish;\n\n  void finish() { shouldFinish = true; }\n\n  public void run() {\n    long iteration = 0;\n    while (!shouldFinish) {\n      iteration++;\n    }\n    System.out.println(&quot;Finished after: &quot; + iteration);\n  }\n}\n\nclass DataRace {\n\n  public static void main(String[] args) throws InterruptedException {\n    Waiter waiter = new Waiter();\n    Thread waiterThread = new Thread(waiter);\n    waiterThread.start();\n\n    waiter.finish();\n    waiterThread.join();\n  }\n}\n</code></pre>\n<p>My thinking is that,</p>\n<ul>\n<li>In Java Reader/Writer primitive data like boolean is atom action.</li>\n<li>Even if the reader thread failed to observe the changes made by the writer threads in one loop, it should be able to see the change in the next loop.</li>\n</ul>\n<p>No the case? Why? Because the reader thread may never yield to the writer thread? (If so I don't think it shall be called Race Conditions, right?)</p>\n"},{"tags":["java","spring-boot","minio"],"owner":{"account_id":29902030,"reputation":1,"user_id":22915546,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1699981022,"creation_date":1699980843,"question_id":77482457,"body_markdown":"I am trying to connect my minio and upload he files through it. I have minio server up and running locally. I have logged in through browser and it is accessible. But in code while uploading the files in bucket it is saying :\r\n```\r\nio.minio.errors.ErrorResponseException: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n\tat io.minio.S3Base$1.onResponse(S3Base.java:747) ~[minio-8.5.6.jar:8.5.6]\r\n\tat okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:519) ~[okhttp-4.10.0.jar:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nWhen i try to debug the code the credentials are same as i logged in through browser. But from my code level the files are not being uploaded. The code for uploading the files is given below:\r\n\r\n\r\n```\r\n public ObjectWriteResponse uploadFile(byte[] file, String bucketName, String fileFullLocation, String contentType){\r\n        Map&lt;String, String&gt; bucketNameAndFileMap = initializeBucketAndFileName(bucketName, fileFullLocation);\r\n        var uploadObject = minioClient.putObject(\r\n                PutObjectArgs\r\n                        .builder()\r\n                        .bucket(bucketNameAndFileMap.get(MessageAndVariableConstant.BUCKET_NAME))\r\n                        .object(bucketNameAndFileMap.get(MessageAndVariableConstant.FILE_NAME))\r\n                        .stream(new ByteArrayInputStream(file), file.length, -1)\r\n                        .contentType(contentType)\r\n                        .build());\r\n        log.info(uploadObject.etag());\r\n        return uploadObject;\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\nbase url:http://127.0.0.1:9000\r\nusername:minioadmin\r\npasswrod:minioadmin\r\n```\r\n\r\nI am using spring boot version 3.1.4.\r\nI am confused where i lagged. Thanks for your help :).\r\n\r\nI tried googling the problem, in maximum the issue was in secret key but in my case every credential is correct but the files are not being uploaded which was supposed to be. ","title":"Why does the exception signature mismatch occurs although the credentials is correct while trying to upload the files to minio bucket?","body":"<p>I am trying to connect my minio and upload he files through it. I have minio server up and running locally. I have logged in through browser and it is accessible. But in code while uploading the files in bucket it is saying :</p>\n<pre><code>io.minio.errors.ErrorResponseException: The request signature we calculated does not match the signature you provided. Check your key and signing method.\n    at io.minio.S3Base$1.onResponse(S3Base.java:747) ~[minio-8.5.6.jar:8.5.6]\n    at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:519) ~[okhttp-4.10.0.jar:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>When i try to debug the code the credentials are same as i logged in through browser. But from my code level the files are not being uploaded. The code for uploading the files is given below:</p>\n<pre><code> public ObjectWriteResponse uploadFile(byte[] file, String bucketName, String fileFullLocation, String contentType){\n        Map&lt;String, String&gt; bucketNameAndFileMap = initializeBucketAndFileName(bucketName, fileFullLocation);\n        var uploadObject = minioClient.putObject(\n                PutObjectArgs\n                        .builder()\n                        .bucket(bucketNameAndFileMap.get(MessageAndVariableConstant.BUCKET_NAME))\n                        .object(bucketNameAndFileMap.get(MessageAndVariableConstant.FILE_NAME))\n                        .stream(new ByteArrayInputStream(file), file.length, -1)\n                        .contentType(contentType)\n                        .build());\n        log.info(uploadObject.etag());\n        return uploadObject;\n    }\n</code></pre>\n<pre><code>base url:http://127.0.0.1:9000\nusername:minioadmin\npasswrod:minioadmin\n</code></pre>\n<p>I am using spring boot version 3.1.4.\nI am confused where i lagged. Thanks for your help :).</p>\n<p>I tried googling the problem, in maximum the issue was in secret key but in my case every credential is correct but the files are not being uploaded which was supposed to be.</p>\n"},{"tags":["java","spring-boot","apache-camel","jms"],"owner":{"account_id":2234746,"reputation":569,"user_id":1971456,"accept_rate":100,"display_name":"Zeussi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699980665,"creation_date":1699979730,"question_id":77482329,"body_markdown":"When I try to consume from a JMS queue programmatically everything works fine, but when I try to use Apache Camel I always get the following error:\r\n```\r\n[Camel (camel-1) thread #1 - JmsConsumer[MySyncQueue]] ERROR o.a.c.c.j.DefaultJmsMessageListenerContainer - Could not refreshJMS Connection for destination &#39;MySyncQueue&#39; - retrying using FixedBackOff{interval=5000, currentAttempts=0, maxAttempts=unlimited}. Cause: SingleConnectionFactory does not support custom username and password\r\n```\r\n\r\nMy `application-local.yml` contains following settings:\r\n```yaml\r\ncamel:\r\n  springboot:\r\n    main-run-controller: true\r\n    tracing: false\r\n  component:\r\n    activemq:\r\n      broker-url:\r\n        - tcp://127.0.0.1:61616\r\n        - tcp://127.0.0.1:61617\r\n      password: secret\r\n      username: user\r\n      concurrent-consumers: 3\r\n```\r\n\r\nIn my camel `RouteBuilder` I have the following route:\r\n\r\n```java\r\nfrom(&quot;activemq:MySyncQueue&quot;).log(&quot;Received a message - ${body}&quot;);\r\n```\r\n\r\nI need the username and password credentials, otherwise I get an authentication error. The [Camel documentation][1] says that `use-single-connection` is set to `false` by default. I am not that big JMS expert, so maybe I&#39;m missing some basic configuration? How do I get the same settings in Apache Camel like the following code, which works well for me:\r\n\r\n```java\r\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://127.0.0.1:61616&quot;, &quot;user&quot;, &quot;secret&quot;);\r\nQueue formQueue = new ActiveMQQueue(&quot;MySyncQueue&quot;);\r\nConnection connection = connectionFactory.createConnection();\r\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nMessageConsumer consumer = session.createConsumer(formQueue);\r\nconnection.start();\r\n// consuming code ...\r\nconsumer.close();\r\nsession.close();\r\n```\r\n\r\n\r\n  [1]: https://camel.apache.org/components/4.0.x/activemq-component.html#_sb_option_camel_component_activemq_use-single-connection","title":"Consume Camel JMS queue with username and password throws SingleConnectionFactory error","body":"<p>When I try to consume from a JMS queue programmatically everything works fine, but when I try to use Apache Camel I always get the following error:</p>\n<pre><code>[Camel (camel-1) thread #1 - JmsConsumer[MySyncQueue]] ERROR o.a.c.c.j.DefaultJmsMessageListenerContainer - Could not refreshJMS Connection for destination 'MySyncQueue' - retrying using FixedBackOff{interval=5000, currentAttempts=0, maxAttempts=unlimited}. Cause: SingleConnectionFactory does not support custom username and password\n</code></pre>\n<p>My <code>application-local.yml</code> contains following settings:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>camel:\n  springboot:\n    main-run-controller: true\n    tracing: false\n  component:\n    activemq:\n      broker-url:\n        - tcp://127.0.0.1:61616\n        - tcp://127.0.0.1:61617\n      password: secret\n      username: user\n      concurrent-consumers: 3\n</code></pre>\n<p>In my camel <code>RouteBuilder</code> I have the following route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;activemq:MySyncQueue&quot;).log(&quot;Received a message - ${body}&quot;);\n</code></pre>\n<p>I need the username and password credentials, otherwise I get an authentication error. The <a href=\"https://camel.apache.org/components/4.0.x/activemq-component.html#_sb_option_camel_component_activemq_use-single-connection\" rel=\"nofollow noreferrer\">Camel documentation</a> says that <code>use-single-connection</code> is set to <code>false</code> by default. I am not that big JMS expert, so maybe I'm missing some basic configuration? How do I get the same settings in Apache Camel like the following code, which works well for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://127.0.0.1:61616&quot;, &quot;user&quot;, &quot;secret&quot;);\nQueue formQueue = new ActiveMQQueue(&quot;MySyncQueue&quot;);\nConnection connection = connectionFactory.createConnection();\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nMessageConsumer consumer = session.createConsumer(formQueue);\nconnection.start();\n// consuming code ...\nconsumer.close();\nsession.close();\n</code></pre>\n"},{"tags":["java","hibernate","graalvm","byte-buddy","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1698346946,"post_id":77369199,"comment_id":136397371,"body_markdown":"there is hibernate-graalvm [package](https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-graalvm) which is used by quarkus and [springboot](https://github.com/spring-projects/spring-boot/blob/5ff4a961b131a32c3b6417a4ebd0e55fe8d1a504/spring-boot-project/spring-boot-dependencies/build.gradle#L384) you can try.","body":"there is hibernate-graalvm <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-graalvm\" rel=\"nofollow noreferrer\">package</a> which is used by quarkus and <a href=\"https://github.com/spring-projects/spring-boot/blob/5ff4a961b131a32c3b6417a4ebd0e55fe8d1a504/spring-boot-project/spring-boot-dependencies/build.gradle#L384\" rel=\"nofollow noreferrer\">springboot</a> you can try."},{"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"score":1,"creation_date":1698403201,"post_id":77369199,"comment_id":136404070,"body_markdown":"Thank @ozkanpakdil you for your answer thats a good advice - I need to migrate to Hibernate 6 first, we are still using a very old one even with proprietary &quot;Criteria&quot; dependencies. ok, journey goes on...","body":"Thank @ozkanpakdil you for your answer thats a good advice - I need to migrate to Hibernate 6 first, we are still using a very old one even with proprietary &quot;Criteria&quot; dependencies. ok, journey goes on..."}],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699980557,"creation_date":1698341396,"question_id":77369199,"body_markdown":"My project contains a Hibernate dependency. Just want to compile it with GraalVM. \r\nActually, the compilation went well. But on runtime I have this.\r\n\r\n\r\n    2023-10-26 | 19:13:52.154 [        main] ←[34mINFO ←[0;39m | ←[36m                org.hibernate.Version←[0;39m | HHH000412: Hibernate ORM core version 5.6.14.Final\r\n    Exception in thread &quot;main&quot; com.oracle.svm.core.jdk.UnsupportedFeatureError: No classes have been predefined during the image build to load from bytecodes at runtime.\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:121)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.hub.PredefinedClassesSupport.throwNoBytecodeClasses(PredefinedClassesSupport.java:76)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.hub.PredefinedClassesSupport.loadClass(PredefinedClassesSupport.java:130)\r\n            at java.base@21.0.1/java.lang.ClassLoader.defineClass(ClassLoader.java:280)\r\n            at net.bytebuddy.utility.dispatcher.JavaDispatcher$DynamicClassLoader.invoker(JavaDispatcher.java:1383)\r\n            at net.bytebuddy.utility.dispatcher.JavaDispatcher$InvokerCreationAction.run(JavaDispatcher.java:459)\r\n            at net.bytebuddy.utility.dispatcher.JavaDispatcher$InvokerCreationAction.run(JavaDispatcher.java:452)\r\n           \r\n\r\nI tied almost everything, the last step, I updated the hibernate version to one of the [GraalVM-library-list][1] \r\n[![screenshot of the compatible libs][2]][2]\r\n\r\nI played around with the native-agent to capture all required proxy-classes without success. Also heard about [Quarkus-Framework][3] which integrates and optimizes a lot for GraalVM but this is out-of-scope for me.\r\n\r\n--&gt; Has anyone ever managed to get Hibernate running in a native compilation with GraalVM?\r\n\r\nAdditionaly: I tried hibernate-entitymanager:5.4.10 instead (each time I collected the config files with the native-agent), this leads to \r\n\r\n    Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n            at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\r\n            at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\r\n            at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:305)\r\n\r\n**==&gt; UPDATE!!!&lt;==**\r\n\r\n- I updated all to the current Hibernate, which was a hassle due to obsolete Criteria-usages, anyhow it worked. \r\n\r\n[![enter image description here][4]][4] \r\n\r\nHibernate has a transitive dependency to byte-buddy, which kills me  currently related to the native compilation (@Rafael Winterhalter sorry :-) )\r\n- I tried the experimental feature `experimental-class-define-support` to get all the necessary information for predefined classes, included it with the `-H:PredefinedClassesConfigurationFiles` definition.\r\n\r\nBUT always still:\r\n\r\n\r\n    Caused by: java.lang.UnsupportedOperationException: Defining new classes at runtime is not supported\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unimplemented(VMError.java:195)\r\n            at java.base@21.0.1/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:45)\r\n            at java.base@21.0.1/java.lang.reflect.Method.invoke(Method.java:580)\r\n            at net.bytebuddy.utility.Invoker$Dispatcher.invoke(Unknown Source)\r\n            at net.bytebuddy.utility.dispatcher.JavaDispatcher$Dispatcher$ForNonStaticMethod.invoke(JavaDispatcher.java:1032)\r\n            at net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1162)\r\n            at jdk.proxy4/jdk.proxy4.$Proxy63.defineClass(Unknown Source)\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1638)\r\n            ... 36 more \r\n\r\n Has somebody a running sample with byte-buddy (in combination with hibernate) and graalvm compilation?\r\n\r\n--&gt; I added a little reproducer here: https://github.com/tonyre/HibernateSampleGraalVM\r\n\r\n\r\n  [1]: https://www.graalvm.org/native-image/libraries-and-frameworks/\r\n  [2]: https://i.stack.imgur.com/9WVyI.png\r\n  [3]: https://quarkus.io/\r\n  [4]: https://i.stack.imgur.com/gn1li.png\r\n\r\n\r\n\r\n","title":"Is it possible to compile Hibernate with GraalVM?","body":"<p>My project contains a Hibernate dependency. Just want to compile it with GraalVM.\nActually, the compilation went well. But on runtime I have this.</p>\n<pre><code>2023-10-26 | 19:13:52.154 [        main] ←[34mINFO ←[0;39m | ←[36m                org.hibernate.Version←[0;39m | HHH000412: Hibernate ORM core version 5.6.14.Final\nException in thread &quot;main&quot; com.oracle.svm.core.jdk.UnsupportedFeatureError: No classes have been predefined during the image build to load from bytecodes at runtime.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:121)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.hub.PredefinedClassesSupport.throwNoBytecodeClasses(PredefinedClassesSupport.java:76)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.hub.PredefinedClassesSupport.loadClass(PredefinedClassesSupport.java:130)\n        at java.base@21.0.1/java.lang.ClassLoader.defineClass(ClassLoader.java:280)\n        at net.bytebuddy.utility.dispatcher.JavaDispatcher$DynamicClassLoader.invoker(JavaDispatcher.java:1383)\n        at net.bytebuddy.utility.dispatcher.JavaDispatcher$InvokerCreationAction.run(JavaDispatcher.java:459)\n        at net.bytebuddy.utility.dispatcher.JavaDispatcher$InvokerCreationAction.run(JavaDispatcher.java:452)\n       \n</code></pre>\n<p>I tied almost everything, the last step, I updated the hibernate version to one of the <a href=\"https://www.graalvm.org/native-image/libraries-and-frameworks/\" rel=\"nofollow noreferrer\">GraalVM-library-list</a>\n<a href=\"https://i.stack.imgur.com/9WVyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WVyI.png\" alt=\"screenshot of the compatible libs\" /></a></p>\n<p>I played around with the native-agent to capture all required proxy-classes without success. Also heard about <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus-Framework</a> which integrates and optimizes a lot for GraalVM but this is out-of-scope for me.</p>\n<p>--&gt; Has anyone ever managed to get Hibernate running in a native compilation with GraalVM?</p>\n<p>Additionaly: I tried hibernate-entitymanager:5.4.10 instead (each time I collected the config files with the native-agent), this leads to</p>\n<pre><code>Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n        at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\n        at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n        at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:305)\n</code></pre>\n<p><strong>==&gt; UPDATE!!!&lt;==</strong></p>\n<ul>\n<li>I updated all to the current Hibernate, which was a hassle due to obsolete Criteria-usages, anyhow it worked.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/gn1li.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gn1li.png\" alt=\"enter image description here\" /></a></p>\n<p>Hibernate has a transitive dependency to byte-buddy, which kills me  currently related to the native compilation (@Rafael Winterhalter sorry :-) )</p>\n<ul>\n<li>I tried the experimental feature <code>experimental-class-define-support</code> to get all the necessary information for predefined classes, included it with the <code>-H:PredefinedClassesConfigurationFiles</code> definition.</li>\n</ul>\n<p>BUT always still:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Defining new classes at runtime is not supported\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unimplemented(VMError.java:195)\n        at java.base@21.0.1/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:45)\n        at java.base@21.0.1/java.lang.reflect.Method.invoke(Method.java:580)\n        at net.bytebuddy.utility.Invoker$Dispatcher.invoke(Unknown Source)\n        at net.bytebuddy.utility.dispatcher.JavaDispatcher$Dispatcher$ForNonStaticMethod.invoke(JavaDispatcher.java:1032)\n        at net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1162)\n        at jdk.proxy4/jdk.proxy4.$Proxy63.defineClass(Unknown Source)\n        at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1638)\n        ... 36 more \n</code></pre>\n<p>Has somebody a running sample with byte-buddy (in combination with hibernate) and graalvm compilation?</p>\n<p>--&gt; I added a little reproducer here: <a href=\"https://github.com/tonyre/HibernateSampleGraalVM\" rel=\"nofollow noreferrer\">https://github.com/tonyre/HibernateSampleGraalVM</a></p>\n"},{"tags":["java","firebase","kotlin","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1700035045,"post_id":77481629,"comment_id":136604071,"body_markdown":"Did you try lime&#39;s solution?","body":"Did you try lime&#39;s solution?"}],"answers":[{"tags":[],"owner":{"account_id":19284133,"reputation":809,"user_id":14095522,"display_name":"lime"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699979939,"creation_date":1699979939,"answer_id":77482361,"question_id":77481629,"body_markdown":"Your question appears to be a lot like the one [here][1].\r\n\r\nThe solution is to find and open ```build.gradle``` file within your project directory and change the ```ext.kotlin_version``` from whatever version is stated, in your instance it seems it may be ```1.9.0```, to the expected version of ```1.7.1```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67448034/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version","title":"I am having an issue to run the app in android studio firebase","body":"<p>Your question appears to be a lot like the one <a href=\"https://stackoverflow.com/questions/67448034/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version\">here</a>.</p>\n<p>The solution is to find and open <code>build.gradle</code> file within your project directory and change the <code>ext.kotlin_version</code> from whatever version is stated, in your instance it seems it may be <code>1.9.0</code>, to the expected version of <code>1.7.1</code></p>\n"}],"owner":{"account_id":29901210,"reputation":1,"user_id":22914922,"display_name":"mohammed ayan Hussain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699979939,"creation_date":1699973909,"question_id":77481629,"body_markdown":"&gt;e: /.gradle/caches/transforms-3/d1c1313a2ba094a1260853f4b41ce789/transformed/firebase-auth-22.2.0-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.firebase-auth-api_firebase-auth-api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1. \r\n\r\nthis the error I don&#39;t know what to do tried changing auth version yet same error \r\n\r\nI could use a hand in solving this","title":"I am having an issue to run the app in android studio firebase","body":"<blockquote>\n<p>e: /.gradle/caches/transforms-3/d1c1313a2ba094a1260853f4b41ce789/transformed/firebase-auth-22.2.0-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.firebase-auth-api_firebase-auth-api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.</p>\n</blockquote>\n<p>this the error I don't know what to do tried changing auth version yet same error</p>\n<p>I could use a hand in solving this</p>\n"},{"tags":["java","rx-java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658950528,"creation_date":1658950528,"answer_id":73143720,"question_id":73143404,"body_markdown":"You need `flatMapIterable`:\r\n\r\n```java\r\nreturn resource.flatMapIterable(list -&gt; list)\r\n               .toFlowable(BackpressureStrategy.BUFFER)\r\n```","title":"how to convert Observable&lt;List&lt;A&gt;&gt;to Flowable&lt;A&gt;","body":"<p>You need <code>flatMapIterable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return resource.flatMapIterable(list -&gt; list)\n               .toFlowable(BackpressureStrategy.BUFFER)\n</code></pre>\n"}],"owner":{"account_id":17149274,"reputation":17,"user_id":12411563,"display_name":"Pier Zegarra Reymundo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73143720,"answer_count":1,"score":0,"last_activity_date":1699979680,"creation_date":1658948872,"question_id":73143404,"body_markdown":"I tried to convert `Observable&lt;List&lt;A&gt;&gt;` to `Flowable&lt;A&gt;` in RxJava, however it doesn&#39;t work. \r\n\r\n```\r\nreturn  resource.flatMap(\r\n    new Function&lt;Observable&lt;List&lt;Product&gt;&gt;, List&lt;Product&gt;&gt;() {\r\n      @Override\r\n      public List&lt;Product&gt; apply(Observable&lt;List&lt;Product&gt;&gt; products) throws Exception {\r\n        return (List&lt;Product&gt;) products;\r\n      }\r\n    }).toFlowable(BackpressureStrategy.BUFFER)\r\n```","title":"how to convert Observable&lt;List&lt;A&gt;&gt;to Flowable&lt;A&gt;","body":"<p>I tried to convert <code>Observable&lt;List&lt;A&gt;&gt;</code> to <code>Flowable&lt;A&gt;</code> in RxJava, however it doesn't work.</p>\n<pre><code>return  resource.flatMap(\n    new Function&lt;Observable&lt;List&lt;Product&gt;&gt;, List&lt;Product&gt;&gt;() {\n      @Override\n      public List&lt;Product&gt; apply(Observable&lt;List&lt;Product&gt;&gt; products) throws Exception {\n        return (List&lt;Product&gt;) products;\n      }\n    }).toFlowable(BackpressureStrategy.BUFFER)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","lombok"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1699072454,"post_id":77420739,"comment_id":136488605,"body_markdown":"The code you showed us above _should_ be working, that is, assuming this is what you are really running to generate these errors.  That being said, you might want to avoid using the `@Data` annotation with your entity class ([see here](https://jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/)).  Instead, explicitly use `@Getter` and `@Setter`.  Also, Java naming conventions state that Java classes should begin with an uppercase letter, so use `Department` rather than `department`.","body":"The code you showed us above <i>should</i> be working, that is, assuming this is what you are really running to generate these errors.  That being said, you might want to avoid using the <code>@Data</code> annotation with your entity class (<a href=\"https://jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/\" rel=\"nofollow noreferrer\">see here</a>).  Instead, explicitly use <code>@Getter</code> and <code>@Setter</code>.  Also, Java naming conventions state that Java classes should begin with an uppercase letter, so use <code>Department</code> rather than <code>department</code>."},{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1699073763,"post_id":77420739,"comment_id":136488670,"body_markdown":"Actually I&#39;d like to use @Data from Lombok to simplify my code. However, it&#39;s my first time using Lombok, and I&#39;m not entirely sure if I&#39;ve made a mistake in my configuration files. After carefully checking everything, I couldn&#39;t find any issues except for one: the declared variables in my department.java class don&#39;t seem to be utilized when Lombok generates the code. The specific error message I receive is &quot;The value of the field department.departmentAdress is not used,&quot; and this issue applies to the rest of the fields as well.","body":"Actually I&#39;d like to use @Data from Lombok to simplify my code. However, it&#39;s my first time using Lombok, and I&#39;m not entirely sure if I&#39;ve made a mistake in my configuration files. After carefully checking everything, I couldn&#39;t find any issues except for one: the declared variables in my department.java class don&#39;t seem to be utilized when Lombok generates the code. The specific error message I receive is &quot;The value of the field department.departmentAdress is not used,&quot; and this issue applies to the rest of the fields as well."},{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1699073897,"post_id":77420739,"comment_id":136488676,"body_markdown":"Does the use of uppercase letters in variable names have any impact when working with Lombok and Spring Boot? Everything seems to be working perfectly, except for Lombok. &#128522; but I would to give a try, will see how","body":"Does the use of uppercase letters in variable names have any impact when working with Lombok and Spring Boot? Everything seems to be working perfectly, except for Lombok. 😊 but I would to give a try, will see how"},{"owner":{"account_id":1347046,"reputation":138,"user_id":1287581,"display_name":"pranshuagarwal"},"score":0,"creation_date":1699088724,"post_id":77420739,"comment_id":136489457,"body_markdown":"try to compile/build your code from out side your IDE. if lombok is correctly configured in your project, the build from command line should work, and the error you get is simply an IDE issue. Let me know your results.","body":"try to compile/build your code from out side your IDE. if lombok is correctly configured in your project, the build from command line should work, and the error you get is simply an IDE issue. Let me know your results."},{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1699280790,"post_id":77420739,"comment_id":136508210,"body_markdown":"You can view the image I have just posted in the question. As shown, even when I use everything from data and builder, it still cannot generate getter, setter, and toString methods. This issue is likely due to all dependencies, plugins, or libraries already being added","body":"You can view the image I have just posted in the question. As shown, even when I use everything from data and builder, it still cannot generate getter, setter, and toString methods. This issue is likely due to all dependencies, plugins, or libraries already being added"}],"answers":[{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1699072748,"post_id":77420760,"comment_id":136488617,"body_markdown":"There is no `&lt;scope&gt;` given for Lombok in the POM, and my understanding is the default scope would be compile.","body":"There is no <code>&lt;scope&gt;</code> given for Lombok in the POM, and my understanding is the default scope would be compile."},{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1699074131,"post_id":77420760,"comment_id":136488683,"body_markdown":"it still same, I try your way alr, I using dependency from mvn repository also cannot work","body":"it still same, I try your way alr, I using dependency from mvn repository also cannot work"}],"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699073507,"creation_date":1699072616,"answer_id":77420760,"question_id":77420739,"body_markdown":"These annotations are to be executed **before** compilation. In Gradle, you need to use `annotationProcessor &lt;lombok&gt;` to achieve this. What you have added is the default scope, which may be `runtime` or `compile` (not sure). \r\n\r\nFor Maven, you will have to use the equivalent of `annotationProcessor`, which is explained [here][1] (in the question itself). \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62678057/use-of-gradle-annotationprocessor-dependency-scope-in-maven","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>These annotations are to be executed <strong>before</strong> compilation. In Gradle, you need to use <code>annotationProcessor &lt;lombok&gt;</code> to achieve this. What you have added is the default scope, which may be <code>runtime</code> or <code>compile</code> (not sure).</p>\n<p>For Maven, you will have to use the equivalent of <code>annotationProcessor</code>, which is explained <a href=\"https://stackoverflow.com/questions/62678057/use-of-gradle-annotationprocessor-dependency-scope-in-maven\">here</a> (in the question itself).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268286,"post_id":77421073,"comment_id":136505814,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77421073/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26269781,"reputation":11,"user_id":21750764,"display_name":"Minh L&#234; Nhật"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699081596,"creation_date":1699081596,"answer_id":77421073,"question_id":77420739,"body_markdown":"try delete the target folder and run your project again.It&#39;s work with me\r\n","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>try delete the target folder and run your project again.It's work with me</p>\n"},{"comments":[{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1699280803,"post_id":77430856,"comment_id":136508216,"body_markdown":"You can view the image I have just posted in the question. As shown, even when I use everything from data and builder, it still cannot generate getter, setter, and toString methods. This issue is likely due to all dependencies, plugins, or libraries already being added","body":"You can view the image I have just posted in the question. As shown, even when I use everything from data and builder, it still cannot generate getter, setter, and toString methods. This issue is likely due to all dependencies, plugins, or libraries already being added"}],"tags":[],"owner":{"account_id":29837370,"reputation":11,"user_id":22866468,"display_name":"naveen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699271276,"creation_date":1699271276,"answer_id":77430856,"question_id":77420739,"body_markdown":"try to install project lombok in your IDE..then only that dependency works as expected.\r\nproject lombok download link: https://projectlombok.org/download ..download this lombok then open the file after choose your IDE then click install..after installing lombok.. close your IDE then open your IDE","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>try to install project lombok in your IDE..then only that dependency works as expected.\nproject lombok download link: <a href=\"https://projectlombok.org/download\" rel=\"nofollow noreferrer\">https://projectlombok.org/download</a> ..download this lombok then open the file after choose your IDE then click install..after installing lombok.. close your IDE then open your IDE</p>\n"},{"tags":[],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699335636,"creation_date":1699335636,"answer_id":77435787,"question_id":77420739,"body_markdown":"after spending a few days troubleshooting, I&#39;ve finally discovered the reason why my project or my Eclipse IDE couldn&#39;t utilize Lombok. In order to help those who might be facing a similar issue with Lombok, I&#39;m sharing the solution as an answer here.\r\n\r\nso first you need to come to \r\n```\r\nHelp --&gt; About Eclipse IDE\r\n\r\nif you have install Lombok plugin you will see this line --&gt; Lombok v1.18.30 &quot;Envious Ferret&quot; is installed. https://projectlombok.org/\r\n\r\nif don&#39;t have or already installed but Lombok not work then you go to Installation Detail --&gt; search on the searching bar find the Lombok then delete it\r\n```\r\n\r\nThen after that you take this URL\r\n```\r\nhttps://projectlombok.org/p2\r\n\r\ngo to --&gt; help (section in eclipse) --&gt; install new software --&gt; you will see the &quot;work with&quot; --&gt; pass the URL &quot;https://projectlombok.org/p2&quot; --&gt; click add --&gt; set name is Lombok --&gt; click add\r\n\r\nafter that tick to the Lombok checkbox then click next --&gt; finish --&gt; wait for the installment completed --&gt; restart the eclipse\r\n\r\nthen you can use Lombok already\r\n```\r\n\r\nbelow here are the image description, you can see by following step\r\n\r\n[add Lombok with then URL I use above to install Lombok][1]\r\n\r\n[click finish to install Lombok][2]\r\n\r\nThank you so much guys, hope my problem and my solution helpful for all of you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E19BG.png\r\n  [2]: https://i.stack.imgur.com/iuXgD.png","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>after spending a few days troubleshooting, I've finally discovered the reason why my project or my Eclipse IDE couldn't utilize Lombok. In order to help those who might be facing a similar issue with Lombok, I'm sharing the solution as an answer here.</p>\n<p>so first you need to come to</p>\n<pre><code>Help --&gt; About Eclipse IDE\n\nif you have install Lombok plugin you will see this line --&gt; Lombok v1.18.30 &quot;Envious Ferret&quot; is installed. https://projectlombok.org/\n\nif don't have or already installed but Lombok not work then you go to Installation Detail --&gt; search on the searching bar find the Lombok then delete it\n</code></pre>\n<p>Then after that you take this URL</p>\n<pre><code>https://projectlombok.org/p2\n\ngo to --&gt; help (section in eclipse) --&gt; install new software --&gt; you will see the &quot;work with&quot; --&gt; pass the URL &quot;https://projectlombok.org/p2&quot; --&gt; click add --&gt; set name is Lombok --&gt; click add\n\nafter that tick to the Lombok checkbox then click next --&gt; finish --&gt; wait for the installment completed --&gt; restart the eclipse\n\nthen you can use Lombok already\n</code></pre>\n<p>below here are the image description, you can see by following step</p>\n<p><a href=\"https://i.stack.imgur.com/E19BG.png\" rel=\"nofollow noreferrer\">add Lombok with then URL I use above to install Lombok</a></p>\n<p><a href=\"https://i.stack.imgur.com/iuXgD.png\" rel=\"nofollow noreferrer\">click finish to install Lombok</a></p>\n<p>Thank you so much guys, hope my problem and my solution helpful for all of you</p>\n"},{"comments":[{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1700104023,"post_id":77482303,"comment_id":136614734,"body_markdown":"This proved to be an effective solution to the problem. It worked seamlessly, and I appreciate it. Thank you!","body":"This proved to be an effective solution to the problem. It worked seamlessly, and I appreciate it. Thank you!"}],"tags":[],"owner":{"account_id":12416415,"reputation":256,"user_id":9045679,"display_name":"jarus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699979517,"creation_date":1699979517,"answer_id":77482303,"question_id":77420739,"body_markdown":"I encountered the same issue while working on Eclipse. Even after adding the jar as a Maven dependency in the pom.xml file, Eclipse still couldn&#39;t recognize the jar. However, I was able to resolve it by following these steps:\r\n\r\n - Make sure the jar is available in the .m2 folder after adding it to the pom.xml file.\r\n - Open the command prompt and navigate to the location of the jar.\r\n - Run the following command: `java -jar lombok.jar`. Replace the name with exact version\r\n - The Lombok installation window will appear.\r\n - Specify the location of the Eclipse installation directory. This will copy the jar to the same folder and update the eclipse.ini file with the necessary entry. This step should resolve the Lombok jar issue.\r\n - To confirm the installation, go to Eclipse, click on &quot;Help,&quot; then select &quot;About IDE.&quot; Scroll to the end of the page and you should see the installation confirmation of Lombok.","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>I encountered the same issue while working on Eclipse. Even after adding the jar as a Maven dependency in the pom.xml file, Eclipse still couldn't recognize the jar. However, I was able to resolve it by following these steps:</p>\n<ul>\n<li>Make sure the jar is available in the .m2 folder after adding it to the pom.xml file.</li>\n<li>Open the command prompt and navigate to the location of the jar.</li>\n<li>Run the following command: <code>java -jar lombok.jar</code>. Replace the name with exact version</li>\n<li>The Lombok installation window will appear.</li>\n<li>Specify the location of the Eclipse installation directory. This will copy the jar to the same folder and update the eclipse.ini file with the necessary entry. This step should resolve the Lombok jar issue.</li>\n<li>To confirm the installation, go to Eclipse, click on &quot;Help,&quot; then select &quot;About IDE.&quot; Scroll to the end of the page and you should see the installation confirmation of Lombok.</li>\n</ul>\n"}],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1699979517,"creation_date":1699071901,"question_id":77420739,"body_markdown":"I utilized Spring Boot to initialize my project, and indeed, I included the Lombok dependency through Spring Boot and configured the Lombok plugin as follows:\r\n\r\nAnd The IDE I use is Eclipse\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\t&lt;groupId&gt;com.springbootExample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringBoot_Example&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringBoot_Example&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t    &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t      &lt;optional&gt;true&lt;/optional&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t    &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;12.4.2.jre11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    \r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t      &lt;optional&gt;true&lt;/optional&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  \r\n  &lt;repositories&gt;\r\n\t  \r\n    &lt;repository&gt;\r\n      &lt;id&gt;spring-milestones&lt;/id&gt;\r\n      &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n    \r\n    &lt;repository&gt;\r\n      &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n      &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n      &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n      &lt;releases&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/releases&gt;\r\n    &lt;/repository&gt;\r\n    \r\n  &lt;/repositories&gt;\r\n  \r\n  &lt;pluginRepositories&gt;\r\n\t  \r\n    &lt;pluginRepository&gt;\r\n      &lt;id&gt;spring-milestones&lt;/id&gt;\r\n      &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/pluginRepository&gt;\r\n    \r\n    &lt;pluginRepository&gt;\r\n      &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n      &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n      &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n      &lt;releases&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/releases&gt;\r\n    &lt;/pluginRepository&gt;\r\n    \r\n  &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHowever, when I use it in my entity class named department.java, it appears that Lombok is not working as expected. Even after annotating the class with @Data, @NoArgsConstructor, @AllArgsConstructor, and @Builder, the issue persists.\r\n\r\n```\r\npackage com.springbootExample.SpringBoot_Example.entity;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class department {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long departmentID;\r\n\t\r\n\t@NotBlank(message = &quot;Please add department name&quot;)\r\n//\t@Length(max = 20, min = 10)\r\n//\t@Size\r\n//\t@Email\r\n//\t@Positive\r\n//\t@Negative\r\n//\t@PositiveOrZero\r\n//\t@Future\r\n//\t@Past\r\n//\t@FutureOrPresent\r\n\tprivate String departmentName;\r\n\tprivate String departmentAdress;\r\n\tprivate String departmentCode;\r\n}\r\n```\r\n\r\nIn another configuration Java class, I&#39;m also unable to use the getter and setter methods of the department class.\r\n\r\n```\r\npackage com.springbootExample.SpringBoot_Example.service;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.springbootExample.SpringBoot_Example.entity.department;\r\nimport com.springbootExample.SpringBoot_Example.error.departmentExceptionHandling;\r\nimport com.springbootExample.SpringBoot_Example.repository.departmentRepository;\r\n\r\n@Service\r\npublic class departmentServiceImplement implements departmentService{\r\n\t\r\n\t@Autowired\r\n\tprivate departmentRepository dr;\r\n\r\n\t@Override\r\n\tpublic department saveDepartment(department dp) {\r\n\t\treturn dr.save(dp);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;department&gt; fetchDepartment() {\r\n\t\treturn dr.findAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic department fetchDepartmentById(Long departmentID) throws departmentExceptionHandling {\r\n\t\tOptional&lt;department&gt; dpt = dr.findById(departmentID);\r\n\t\t\r\n\t\tif(!dpt.isPresent()) {\r\n\t\t\tthrow new departmentExceptionHandling(&quot;Department was not found&quot;);\r\n\t\t}\r\n\t\treturn dpt.get();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteDepartmentById(Long departmentID) {\r\n\t\tdr.deleteById(departmentID);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic department updateDepartment(Long departmentID, department dp) {\r\n\t\tdepartment dep = dr.findById(departmentID).get();\r\n\t\t\r\n\t\tif(Objects.nonNull(dp.getDepartmentName()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentName())) {\r\n\t\t    dep.setDepartmentName(dp.getDepartmentName());\r\n\t\t}\r\n\t\t\r\n\t\tif(Objects.nonNull(dp.getDepartmentCode()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentCode())) {\r\n\t\t\tdep.setDepartmentCode(dp.getDepartmentCode());\r\n\t\t}\r\n\t\t\r\n\t\tif(Objects.nonNull(dp.getDepartmentAdress()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentAdress())) {\r\n\t\t\tdep.setDepartmentAdress(dp.getDepartmentAdress());\r\n\t\t}\r\n\t\t\r\n\t\treturn dr.save(dep);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic department fetchDepartmentByName(String departmentName) {\r\n\t\treturn departmentRepository.findByDepartmentNameIgnoreCase(departmentName);\r\n\t} \r\n\r\n}\r\n```\r\n\r\nThe errors show as\r\n```\r\nThe method getDepartmentName() is undefined for the type department\r\nThe method getDepartmentCode() is undefined for the type department\r\nThe method getDepartmentAdress() is undefined for the type department\r\n```\r\n\r\n[you guy can see the image below][1]\r\n\r\nI&#39;ve tried several solutions, such as updating my IDE, changing Lombok plugins, and installing Lombok, but none of them have resolved the issue. \r\n\r\nIf anyone has encountered a similar problem and knows how to fix it, I would greatly appreciate your help. \r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eik1b.png","title":"Issue with Lombok not generating getters and setters or constructor and even @Data in Spring Boot project","body":"<p>I utilized Spring Boot to initialize my project, and indeed, I included the Lombok dependency through Spring Boot and configured the Lombok plugin as follows:</p>\n<p>And The IDE I use is Eclipse</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    \n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;com.springbootExample&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBoot_Example&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBoot_Example&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;12.4.2.jre11&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n  &lt;repositories&gt;\n      \n    &lt;repository&gt;\n      &lt;id&gt;spring-milestones&lt;/id&gt;\n      &lt;name&gt;Spring Milestones&lt;/name&gt;\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    \n    &lt;repository&gt;\n      &lt;id&gt;spring-snapshots&lt;/id&gt;\n      &lt;name&gt;Spring Snapshots&lt;/name&gt;\n      &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/releases&gt;\n    &lt;/repository&gt;\n    \n  &lt;/repositories&gt;\n  \n  &lt;pluginRepositories&gt;\n      \n    &lt;pluginRepository&gt;\n      &lt;id&gt;spring-milestones&lt;/id&gt;\n      &lt;name&gt;Spring Milestones&lt;/name&gt;\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    \n    &lt;pluginRepository&gt;\n      &lt;id&gt;spring-snapshots&lt;/id&gt;\n      &lt;name&gt;Spring Snapshots&lt;/name&gt;\n      &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n    \n  &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>However, when I use it in my entity class named department.java, it appears that Lombok is not working as expected. Even after annotating the class with @Data, @NoArgsConstructor, @AllArgsConstructor, and @Builder, the issue persists.</p>\n<pre><code>package com.springbootExample.SpringBoot_Example.entity;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class department {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long departmentID;\n    \n    @NotBlank(message = &quot;Please add department name&quot;)\n//  @Length(max = 20, min = 10)\n//  @Size\n//  @Email\n//  @Positive\n//  @Negative\n//  @PositiveOrZero\n//  @Future\n//  @Past\n//  @FutureOrPresent\n    private String departmentName;\n    private String departmentAdress;\n    private String departmentCode;\n}\n</code></pre>\n<p>In another configuration Java class, I'm also unable to use the getter and setter methods of the department class.</p>\n<pre><code>package com.springbootExample.SpringBoot_Example.service;\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.springbootExample.SpringBoot_Example.entity.department;\nimport com.springbootExample.SpringBoot_Example.error.departmentExceptionHandling;\nimport com.springbootExample.SpringBoot_Example.repository.departmentRepository;\n\n@Service\npublic class departmentServiceImplement implements departmentService{\n    \n    @Autowired\n    private departmentRepository dr;\n\n    @Override\n    public department saveDepartment(department dp) {\n        return dr.save(dp);\n    }\n\n    @Override\n    public List&lt;department&gt; fetchDepartment() {\n        return dr.findAll();\n    }\n\n    @Override\n    public department fetchDepartmentById(Long departmentID) throws departmentExceptionHandling {\n        Optional&lt;department&gt; dpt = dr.findById(departmentID);\n        \n        if(!dpt.isPresent()) {\n            throw new departmentExceptionHandling(&quot;Department was not found&quot;);\n        }\n        return dpt.get();\n    }\n\n    @Override\n    public void deleteDepartmentById(Long departmentID) {\n        dr.deleteById(departmentID);\n        \n    }\n\n    @Override\n    public department updateDepartment(Long departmentID, department dp) {\n        department dep = dr.findById(departmentID).get();\n        \n        if(Objects.nonNull(dp.getDepartmentName()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentName())) {\n            dep.setDepartmentName(dp.getDepartmentName());\n        }\n        \n        if(Objects.nonNull(dp.getDepartmentCode()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentCode())) {\n            dep.setDepartmentCode(dp.getDepartmentCode());\n        }\n        \n        if(Objects.nonNull(dp.getDepartmentAdress()) &amp;&amp; !&quot;&quot;.equalsIgnoreCase(dp.getDepartmentAdress())) {\n            dep.setDepartmentAdress(dp.getDepartmentAdress());\n        }\n        \n        return dr.save(dep);\n    }\n\n    @Override\n    public department fetchDepartmentByName(String departmentName) {\n        return departmentRepository.findByDepartmentNameIgnoreCase(departmentName);\n    } \n\n}\n</code></pre>\n<p>The errors show as</p>\n<pre><code>The method getDepartmentName() is undefined for the type department\nThe method getDepartmentCode() is undefined for the type department\nThe method getDepartmentAdress() is undefined for the type department\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eik1b.png\" rel=\"nofollow noreferrer\">you guy can see the image below</a></p>\n<p>I've tried several solutions, such as updating my IDE, changing Lombok plugins, and installing Lombok, but none of them have resolved the issue.</p>\n<p>If anyone has encountered a similar problem and knows how to fix it, I would greatly appreciate your help.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","android","kotlin","android-alertdialog","firmware"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700002511,"post_id":77482266,"comment_id":136601010,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29899673,"reputation":1,"user_id":22913704,"display_name":"Ashish Rai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699979194,"creation_date":1699979194,"question_id":77482266,"body_markdown":"I Have a android box in which I run my tv Appliction that are live running but there is some bug in the androidbox firmwere, model number of andbox is rockchip rk3228a,in this bug there is a alert dialog box is open when we restart the android box? there is no bug in our app for information.\r\nwhen we restart the android box the alert dialog is popup, this Alert dialog is action required dialog which has a option bluetooth and package manager but when we click to complete the action we are getting the package parsing error but when we just normal click on screen from remote the alert dialog is disappear but after sometime it appear again, what to do remove this issue programatically?\r\n\r\nI try the overlay Permission,performclickevent, install the same package application, request focus,disable all the permission of of system app, no thirdParty app installed,broadcastReciever.\r\n\r\nI want to remove the alertDialog programatically or hand using some apps.\r\n**Model no. of Android box: RockChip rk3228A**","title":"there is some bug in the androidbox firmwere,andbox rockchip rk3228a,in this bug there is a alert dialog box is open when we restart the android box?","body":"<p>I Have a android box in which I run my tv Appliction that are live running but there is some bug in the androidbox firmwere, model number of andbox is rockchip rk3228a,in this bug there is a alert dialog box is open when we restart the android box? there is no bug in our app for information.\nwhen we restart the android box the alert dialog is popup, this Alert dialog is action required dialog which has a option bluetooth and package manager but when we click to complete the action we are getting the package parsing error but when we just normal click on screen from remote the alert dialog is disappear but after sometime it appear again, what to do remove this issue programatically?</p>\n<p>I try the overlay Permission,performclickevent, install the same package application, request focus,disable all the permission of of system app, no thirdParty app installed,broadcastReciever.</p>\n<p>I want to remove the alertDialog programatically or hand using some apps.\n<strong>Model no. of Android box: RockChip rk3228A</strong></p>\n"},{"tags":["java","spring-boot","gradle","groovy","spock"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699969068,"creation_date":1699969068,"answer_id":77481036,"question_id":77477104,"body_markdown":"Given that you are on a new enough Gradle version, I recommend you use the JVM Test Suite Plugin to define your additional test suite. It is documented at https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html and also shows your exact use-case, integration tests that need access to production code.","title":"Spring boot gradle integration test with Spock","body":"<p>Given that you are on a new enough Gradle version, I recommend you use the JVM Test Suite Plugin to define your additional test suite. It is documented at <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html</a> and also shows your exact use-case, integration tests that need access to production code.</p>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699978519,"creation_date":1699912676,"question_id":77477104,"body_markdown":"I am using Spring Boot + Gradle + Spock (groovy) for integration and unit testing.  \r\nI was able to configure unit tests to work with Spock.\r\nIntegration tests fail to start because they do not see project files.  \r\nHere configuration I&#39;ve done (cleaned up) for integrationtests.  \r\nI do believe issue is that I don&#39;t configured dependency properly + that integration tests in different directory.\r\n\r\n```\r\nsourceSets {\r\n    integrationTest {\r\n        groovy.srcDir &quot;$projectDir/src/integrationTest/groovy&quot;\r\n        resources.srcDir &quot;$projectDir/src/integrationTest/resources&quot;\r\n        compileClasspath += sourceSets.main.output\r\n        runtimeClasspath += sourceSets.main.output\r\n    }\r\n}\r\n\r\nconfigurations {\r\n    integrationTestImplementation.extendsFrom testImplementation\r\n    integrationTestRuntimeOnly.extendsFrom testRuntimeOnly\r\n}\r\n\r\ntask integrationTest(type: Test) {\r\n    description = &#39;Runs the integration tests.&#39;\r\n    group = &#39;verification&#39;\r\n\r\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n    classpath = sourceSets.integrationTest.runtimeClasspath\r\n}\r\n```\r\n\r\nDirectory structure is\r\n```\r\nsrc\r\n -main\r\n      --java\r\n -test\r\n      --groovy\r\n -integrationTest\r\n      --groovy","title":"Spring boot gradle integration test with Spock","body":"<p>I am using Spring Boot + Gradle + Spock (groovy) for integration and unit testing.<br />\nI was able to configure unit tests to work with Spock.\nIntegration tests fail to start because they do not see project files.<br />\nHere configuration I've done (cleaned up) for integrationtests.<br />\nI do believe issue is that I don't configured dependency properly + that integration tests in different directory.</p>\n<pre><code>sourceSets {\n    integrationTest {\n        groovy.srcDir &quot;$projectDir/src/integrationTest/groovy&quot;\n        resources.srcDir &quot;$projectDir/src/integrationTest/resources&quot;\n        compileClasspath += sourceSets.main.output\n        runtimeClasspath += sourceSets.main.output\n    }\n}\n\nconfigurations {\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntimeOnly.extendsFrom testRuntimeOnly\n}\n\ntask integrationTest(type: Test) {\n    description = 'Runs the integration tests.'\n    group = 'verification'\n\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n</code></pre>\n<p>Directory structure is</p>\n<pre><code>src\n -main\n      --java\n -test\n      --groovy\n -integrationTest\n      --groovy\n</code></pre>\n"},{"tags":["java","android","markdown","javadoc","android-library"],"comments":[{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1634866799,"post_id":69670421,"comment_id":123147961,"body_markdown":"Markdown is much less expressive than HTML and likely than JavaDoc, too. What do you hope to achieve by converting to Markdown?","body":"Markdown is much less expressive than HTML and likely than JavaDoc, too. What do you hope to achieve by converting to Markdown?"},{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1634866961,"post_id":69670421,"comment_id":123147975,"body_markdown":"@Chris in one word: versatility. To be more specific, we&#39;re trying to get all of the library&#39;s documentation into Markdown so that we can upload that to one of the many tools that host Markdown documentation, but do not support JavaDoc.  Regardless of expressiveness, JavaDoc generally doesn&#39;t play nice with other tools the same way Markdown does.","body":"@Chris in one word: versatility. To be more specific, we&#39;re trying to get all of the library&#39;s documentation into Markdown so that we can upload that to one of the many tools that host Markdown documentation, but do not support JavaDoc.  Regardless of expressiveness, JavaDoc generally doesn&#39;t play nice with other tools the same way Markdown does."}],"answers":[{"comments":[{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1647464474,"post_id":71244101,"comment_id":126381261,"body_markdown":"This project doesn&#39;t seem to have much activity since 2018.  I submitted an issue on them, but would like to pose the same question to you: How would I integrate this to my Android Studio build process?  I&#39;ve got no idea on how to properly manipulate POM files, unfortunately.","body":"This project doesn&#39;t seem to have much activity since 2018.  I submitted an issue on them, but would like to pose the same question to you: How would I integrate this to my Android Studio build process?  I&#39;ve got no idea on how to properly manipulate POM files, unfortunately."}],"tags":[],"owner":{"account_id":6812992,"reputation":588,"user_id":5242553,"display_name":"Simona R."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645650761,"creation_date":1645650761,"answer_id":71244101,"question_id":69670421,"body_markdown":"You can use marklet lib to convert JavaDoc to markdown.[Marklet Github link][1].\r\nYou can configure it in your pom if you use maven\r\n\r\n\r\n      &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;doclet&gt;fr.faylixe.marklet.Marklet&lt;/doclet&gt;\r\n    \t\t&lt;docletArtifact&gt;\r\n    \t\t\t&lt;groupId&gt;fr.faylixe&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;marklet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    \t\t&lt;/docletArtifact&gt;\r\n    \t\t&lt;reportOutputDirectory&gt;./&lt;/reportOutputDirectory&gt;\r\n    \t\t&lt;destDir&gt;./&lt;/destDir&gt;\r\n    \t\t&lt;additionalparam&gt;-d javadoc/&lt;/additionalparam&gt;\r\n    \t\t&lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://github.com/Faylixe/marklet","title":"How to convert JavaDoc into Markdown?","body":"<p>You can use marklet lib to convert JavaDoc to markdown.<a href=\"https://github.com/Faylixe/marklet\" rel=\"nofollow noreferrer\">Marklet Github link</a>.\nYou can configure it in your pom if you use maven</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;doclet&gt;fr.faylixe.marklet.Marklet&lt;/doclet&gt;\n        &lt;docletArtifact&gt;\n            &lt;groupId&gt;fr.faylixe&lt;/groupId&gt;\n            &lt;artifactId&gt;marklet&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/docletArtifact&gt;\n        &lt;reportOutputDirectory&gt;./&lt;/reportOutputDirectory&gt;\n        &lt;destDir&gt;./&lt;/destDir&gt;\n        &lt;additionalparam&gt;-d javadoc/&lt;/additionalparam&gt;\n        &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306351,"reputation":12724,"user_id":617044,"accept_rate":88,"display_name":"Bill Mote"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699978485,"creation_date":1699978485,"answer_id":77482182,"question_id":69670421,"body_markdown":"You can use `dokka` to output your javadoc directly into markdown (at least Github Flavored Markdown) (ref. https://medium.com/androiddevnotes/how-to-use-dokka-documentation-engine-for-android-gradle-to-generate-kdoc-or-javadoc-comments-2b5f177595ec)\r\n\r\n`./gradlew clean app:dokkaGfm` and VIOLA!","title":"How to convert JavaDoc into Markdown?","body":"<p>You can use <code>dokka</code> to output your javadoc directly into markdown (at least Github Flavored Markdown) (ref. <a href=\"https://medium.com/androiddevnotes/how-to-use-dokka-documentation-engine-for-android-gradle-to-generate-kdoc-or-javadoc-comments-2b5f177595ec\" rel=\"nofollow noreferrer\">https://medium.com/androiddevnotes/how-to-use-dokka-documentation-engine-for-android-gradle-to-generate-kdoc-or-javadoc-comments-2b5f177595ec</a>)</p>\n<p><code>./gradlew clean app:dokkaGfm</code> and VIOLA!</p>\n"}],"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699978485,"creation_date":1634865922,"question_id":69670421,"body_markdown":"I have an Android library fully written in Java which contains a bunch of comments that I can generate into JavaDoc and see in HTML format.\r\n\r\nI would like to **find a way of either converting my JavaDoc into Markdown, or** straight up **generating Markdown from the comments in my Android library** project.\r\n\r\nFor reference, I&#39;ve looked into [Dokka](https://github.com/Kotlin/dokka/blob/master/README.md), which only seems to works for Kotlin project, so that seems out of the equation.","title":"How to convert JavaDoc into Markdown?","body":"<p>I have an Android library fully written in Java which contains a bunch of comments that I can generate into JavaDoc and see in HTML format.</p>\n<p>I would like to <strong>find a way of either converting my JavaDoc into Markdown, or</strong> straight up <strong>generating Markdown from the comments in my Android library</strong> project.</p>\n<p>For reference, I've looked into <a href=\"https://github.com/Kotlin/dokka/blob/master/README.md\" rel=\"nofollow noreferrer\">Dokka</a>, which only seems to works for Kotlin project, so that seems out of the equation.</p>\n"},{"tags":["java","macos","ssh"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1461793209,"post_id":36901407,"comment_id":61366900,"body_markdown":"What does `ls -l /bin/bash` returns?","body":"What does <code>ls -l &#47;bin&#47;bash</code> returns?"},{"owner":{"account_id":7617509,"reputation":153,"user_id":5776476,"accept_rate":100,"display_name":"Spud"},"score":0,"creation_date":1461796258,"post_id":36901407,"comment_id":61368228,"body_markdown":"@Tunaki, it returns -r-xr-xr-x  1 root  wheel  628496 Dec  2 22:36 /bin/bash","body":"@Tunaki, it returns -r-xr-xr-x  1 root  wheel  628496 Dec  2 22:36 /bin/bash"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1482398791,"post_id":36901407,"comment_id":69761051,"body_markdown":"https://bugs.eclipse.org/bugs/show_bug.cgi?id=509628 , there is bug with Eclipse since long time.  I could get this resolve by mentioning full path of adb in the programme itself. String[] temp = { &quot;/Users/vikram-anna/Library/Android/sdk/platform-tools/adb&quot;, &quot;start-server&quot; };\n     \t\t        p = Runtime.getRuntime().exec(temp);","body":"<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=509628\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=509628</a> , there is bug with Eclipse since long time.  I could get this resolve by mentioning full path of adb in the programme itself. String[] temp = { &quot;/Users/vikram-anna/Library/Android/sdk/platform-tools/adb&quot;, &quot;start-server&quot; };      \t\t        p = Runtime.getRuntime().exec(temp);"}],"answers":[{"comments":[{"owner":{"account_id":7617509,"reputation":153,"user_id":5776476,"accept_rate":100,"display_name":"Spud"},"score":0,"creation_date":1461862334,"post_id":36917262,"comment_id":61403364,"body_markdown":"What would you suggest I do? Should I create a file with the command &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ssh &quot; + SSHStartup in it?","body":"What would you suggest I do? Should I create a file with the command &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ssh &quot; + SSHStartup in it?"},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1461862402,"post_id":36917262,"comment_id":61403407,"body_markdown":"Do you see the last line in my answer? The second code block? That&#39;s what you should do.","body":"Do you see the last line in my answer? The second code block? That&#39;s what you should do."},{"owner":{"account_id":7617509,"reputation":153,"user_id":5776476,"accept_rate":100,"display_name":"Spud"},"score":0,"creation_date":1461862653,"post_id":36917262,"comment_id":61403568,"body_markdown":"Sorry, I didn&#39;t know that two pairs of &quot;&quot; could cause me over an hour of frustration. Thanks for solving my issue! :)","body":"Sorry, I didn&#39;t know that two pairs of &quot;&quot; could cause me over an hour of frustration. Thanks for solving my issue! :)"}],"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1699977940,"creation_date":1461852736,"answer_id":36917262,"question_id":36901407,"body_markdown":"    String[] command = { &quot;/bin/bash, -c , ssh &quot; + SSHStartup };\r\n    Process p = Runtime.getRuntime().exec(command);\r\n\r\nYour `command` array contains a single value, namely the string &quot;/bin/bash, -c , ssh ...&quot;. Java is trying to use the entire string as the name of a single file and failing to execute a file with that name.\r\n\r\nYou should construct the `command` as an array containing the command and its arguments as a sequence of strings, instead of a single string:\r\n\r\n    String[] command = { &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ssh &quot; + SSHStartup };\r\n","title":"Cannot run program &quot;...&quot; error=2, No such file or directory (java)","body":"<pre><code>String[] command = { &quot;/bin/bash, -c , ssh &quot; + SSHStartup };\nProcess p = Runtime.getRuntime().exec(command);\n</code></pre>\n<p>Your <code>command</code> array contains a single value, namely the string &quot;/bin/bash, -c , ssh ...&quot;. Java is trying to use the entire string as the name of a single file and failing to execute a file with that name.</p>\n<p>You should construct the <code>command</code> as an array containing the command and its arguments as a sequence of strings, instead of a single string:</p>\n<pre><code>String[] command = { &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ssh &quot; + SSHStartup };\n</code></pre>\n"}],"owner":{"account_id":7617509,"reputation":153,"user_id":5776476,"accept_rate":100,"display_name":"Spud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64562,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":36917262,"answer_count":1,"score":10,"last_activity_date":1699977940,"creation_date":1461793155,"question_id":36901407,"body_markdown":"I am trying to make a java program that will set up a SSH connection for me on my macbook. It prompts me for the username, and then the IP address, then it is supposed to do &quot;ssh username@ip&quot;.\r\n\r\nBelow is my code:  \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Scanner;\r\n\r\n    public class SSH {\r\n\t    public static void main(String[] args) throws Exception {\r\n\t\tboolean rep = true;\r\n\t\tString username = (null);\r\n\t\tString IPAdress = (null);\r\n\t\twhile (rep) {\r\n\t\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Username:  &quot;);\r\n\t\t\tusername = scanner.next();\r\n\t\t\tSystem.out.print(&quot;\\nIP Adress:  &quot;);\r\n\t\t\tIPAdress = scanner.next();\r\n\t\t\tSystem.out.println(&quot;\\n\\nIs this correct?\\nUsername:  &quot; + username + &quot;\\nIP Adress:  &quot; + IPAdress + &quot;\\nY/N&quot;);\r\n\t\t\tchar responce = scanner.next().charAt(0);\r\n\r\n\t\t\tif (responce == &#39;Y&#39; || responce == &#39;y&#39;) {\r\n\t\t\t\trep = false;\r\n\t\t\t\tscanner.close();\r\n\t\t\t} else if (responce == &#39;N&#39; || responce == &#39;n&#39;) {\r\n\r\n\t\t\t} else {\r\n\t\t\t\tError displayErrorMessage = new Error();\r\n\t\t\t\tdisplayErrorMessage.displayError();\r\n\t\t\t}\r\n\t\t}\r\n\t\tString SSHStartup = username + &quot;@&quot; + IPAdress;\r\n\t\tSystem.out.println(&quot;Running command:  ssh &quot; + SSHStartup);\r\n\t\tString[] command = { &quot;/bin/bash, -c , ssh &quot; + SSHStartup };\r\n\t\tProcess p = Runtime.getRuntime().exec(command);\r\n\t\tp.waitFor();\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\tString line = &quot;&quot;;\r\n\t\tStringBuffer output = new StringBuffer();\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\toutput.append(line + &quot;\\n&quot;);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nI know, its messy, and now well indented, but instead of executing the command, it gives me this:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;/bin/bash, -c , ssh root@(ip here)&quot;: error=2, No such file or directory\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:620)\r\n\tat java.lang.Runtime.exec(Runtime.java:485)\r\n\tat SSH.main(SSH.java:32)\r\n    Caused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n\tat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:248)\r\n\tat java.lang.ProcessImpl.start(ProcessImpl.java:134)\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n\t... 3 more\r\n\r\n\r\nFor the purpose of this post, I have removed the IP address, but when I compile and run it, I try the actual one, and it gives me the same error.\r\n\r\nHelp?","title":"Cannot run program &quot;...&quot; error=2, No such file or directory (java)","body":"<p>I am trying to make a java program that will set up a SSH connection for me on my macbook. It prompts me for the username, and then the IP address, then it is supposed to do \"ssh username@ip\".</p>\n\n<p>Below is my code:  </p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\npublic class SSH {\n    public static void main(String[] args) throws Exception {\n    boolean rep = true;\n    String username = (null);\n    String IPAdress = (null);\n    while (rep) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(\"Username:  \");\n        username = scanner.next();\n        System.out.print(\"\\nIP Adress:  \");\n        IPAdress = scanner.next();\n        System.out.println(\"\\n\\nIs this correct?\\nUsername:  \" + username + \"\\nIP Adress:  \" + IPAdress + \"\\nY/N\");\n        char responce = scanner.next().charAt(0);\n\n        if (responce == 'Y' || responce == 'y') {\n            rep = false;\n            scanner.close();\n        } else if (responce == 'N' || responce == 'n') {\n\n        } else {\n            Error displayErrorMessage = new Error();\n            displayErrorMessage.displayError();\n        }\n    }\n    String SSHStartup = username + \"@\" + IPAdress;\n    System.out.println(\"Running command:  ssh \" + SSHStartup);\n    String[] command = { \"/bin/bash, -c , ssh \" + SSHStartup };\n    Process p = Runtime.getRuntime().exec(command);\n    p.waitFor();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    String line = \"\";\n    StringBuffer output = new StringBuffer();\n    while ((line = reader.readLine()) != null) {\n        output.append(line + \"\\n\");\n    }\n}\n}\n</code></pre>\n\n<p>I know, its messy, and now well indented, but instead of executing the command, it gives me this:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Cannot run program \"/bin/bash, -c , ssh root@(ip here)\": error=2, No such file or directory\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat java.lang.Runtime.exec(Runtime.java:620)\nat java.lang.Runtime.exec(Runtime.java:485)\nat SSH.main(SSH.java:32)\nCaused by: java.io.IOException: error=2, No such file or directory\nat java.lang.UNIXProcess.forkAndExec(Native Method)\nat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:248)\nat java.lang.ProcessImpl.start(ProcessImpl.java:134)\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n... 3 more\n</code></pre>\n\n<p>For the purpose of this post, I have removed the IP address, but when I compile and run it, I try the actual one, and it gives me the same error.</p>\n\n<p>Help?</p>\n"},{"tags":["java","azure","azure-blob-storage","azure-java-sdk","azure-sdk-for-java"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1608571430,"post_id":65395726,"comment_id":115618794,"body_markdown":"&quot;file is corrupted during upload. Azure web portal shows 1.09GB instead of expected 1.17GB&quot;, could it be that Azure web portal shows [Gibibyte / GiB](https://en.wikipedia.org/wiki/Byte#Multiple-byte_units) (i.e. 1024&#179; bytes) instead of Gigabyte (i.e. 1000&#179; bytes)? Because 1.17 GB ≈ 1.09 GiB. (Though if you confirmed locally that the uploaded file is corrupt, then that might not be the answer)","body":"&quot;file is corrupted during upload. Azure web portal shows 1.09GB instead of expected 1.17GB&quot;, could it be that Azure web portal shows <a href=\"https://en.wikipedia.org/wiki/Byte#Multiple-byte_units\" rel=\"nofollow noreferrer\">Gibibyte / GiB</a> (i.e. 1024&#179; bytes) instead of Gigabyte (i.e. 1000&#179; bytes)? Because 1.17 GB ≈ 1.09 GiB. (Though if you confirmed locally that the uploaded file is corrupt, then that might not be the answer)"},{"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"score":0,"creation_date":1608577455,"post_id":65395726,"comment_id":115621253,"body_markdown":"@Marcono1234 yes, I verified that byte size for original and uploaded files are the same. So by all means you are right. However, the file itself is corrupted (e.g uploaded image has 60% of grey pixels, uploaded video is not playable). \n\nI used this fragment to verify that byte size is the same (as well as checking it manually via download &amp; compare):\n`log.info(&quot;EXPECTED SIZE: {}; ACTUAL SIZE: {}&quot;, image.length(), blockBlobClient.getProperties().getBlobSize());`\n\nCreated this query in GitHub for sanity check: https://github.com/Azure/azure-sdk-for-java/issues/18295","body":"@Marcono1234 yes, I verified that byte size for original and uploaded files are the same. So by all means you are right. However, the file itself is corrupted (e.g uploaded image has 60% of grey pixels, uploaded video is not playable).   I used this fragment to verify that byte size is the same (as well as checking it manually via download &amp; compare): <code>log.info(&quot;EXPECTED SIZE: {}; ACTUAL SIZE: {}&quot;, image.length(), blockBlobClient.getProperties().getBlobSize());</code>  Created this query in GitHub for sanity check: <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/18295\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/issues/18295</a>"}],"answers":[{"comments":[{"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"score":0,"creation_date":1608624333,"post_id":65403169,"comment_id":115633227,"body_markdown":"Thank you for the quick response! I tried your approach and it worked great. Here&#39;s [screenshot](https://user-images.githubusercontent.com/76443987/102862430-c393cc80-4439-11eb-8eb2-62528ef47951.png) of heap usage during upload / download.  I believe, that file usage allows Azure SDK to skip quite a few copying / buffering steps. File is not corrupted. The only little inconvenience is that we receive our data from the network in the form of `InputStream` and would have to write it to a temporary file in order to leverage `uploadFromFile` API","body":"Thank you for the quick response! I tried your approach and it worked great. Here&#39;s <a href=\"https://user-images.githubusercontent.com/76443987/102862430-c393cc80-4439-11eb-8eb2-62528ef47951.png\" rel=\"nofollow noreferrer\">screenshot</a> of heap usage during upload / download.  I believe, that file usage allows Azure SDK to skip quite a few copying / buffering steps. File is not corrupted. The only little inconvenience is that we receive our data from the network in the form of <code>InputStream</code> and would have to write it to a temporary file in order to leverage <code>uploadFromFile</code> API"},{"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"score":0,"creation_date":1608631102,"post_id":65403169,"comment_id":115635982,"body_markdown":"by the way, I noticed that only 6 files are uploaded / downloaded in parallel. If I work with more than 6 files in parallel, the rest is waiting for the first 6 to complete. Do you happen to know if there is a setting to control this?","body":"by the way, I noticed that only 6 files are uploaded / downloaded in parallel. If I work with more than 6 files in parallel, the rest is waiting for the first 6 to complete. Do you happen to know if there is a setting to control this?"},{"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"score":0,"creation_date":1608730129,"post_id":65403169,"comment_id":115668425,"body_markdown":"My assumption that there is some hidden limitation of up to 6 files uploaded / downloaded concurrently was preposterous as I discovered that it was due to Google Chrome settings - I was using Swagger to call upload / download endpoints (Chrome has a limit of 6 connections per host name, and a max of 10 connections)","body":"My assumption that there is some hidden limitation of up to 6 files uploaded / downloaded concurrently was preposterous as I discovered that it was due to Google Chrome settings - I was using Swagger to call upload / download endpoints (Chrome has a limit of 6 connections per host name, and a max of 10 connections)"},{"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"score":0,"creation_date":1608795925,"post_id":65403169,"comment_id":115686850,"body_markdown":"@white-sagittarius, Thanks for this tips, I am not so familiar about it before","body":"@white-sagittarius, Thanks for this tips, I am not so familiar about it before"},{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1609779975,"post_id":65403169,"comment_id":115923159,"body_markdown":"@StanleyGong What does `setMaxConcurrency` do here ?","body":"@StanleyGong What does <code>setMaxConcurrency</code> do here ?"}],"tags":[],"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1608610565,"creation_date":1608610141,"answer_id":65403169,"question_id":65395726,"body_markdown":"Pls try the code below to upload/download big files, I have tested on my side using a .zip file with size about 1.1 GB\r\n\r\nFor uploading files: \r\n\r\n    public static void uploadFilesByChunk() {\r\n                    String connString = &quot;&lt;conn str&gt;&quot;;\r\n                    String containerName = &quot;&lt;container name&gt;&quot;;\r\n                    String blobName = &quot;UploadOne.zip&quot;;\r\n                    String filePath = &quot;D:/temp/&quot; + blobName;\r\n    \r\n                    BlobServiceClient client = new BlobServiceClientBuilder().connectionString(connString).buildClient();\r\n                    BlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(blobName);\r\n                    long blockSize = 2 * 1024 * 1024; //2MB\r\n                    ParallelTransferOptions parallelTransferOptions = new ParallelTransferOptions()\r\n                                    .setBlockSizeLong(blockSize).setMaxConcurrency(2)\r\n                                    .setProgressReceiver(new ProgressReceiver() {\r\n                                            @Override\r\n                                            public void reportProgress(long bytesTransferred) {\r\n                                                    System.out.println(&quot;uploaded:&quot; + bytesTransferred);\r\n                                            }\r\n                                    });\r\n    \r\n                    BlobHttpHeaders headers = new BlobHttpHeaders().setContentLanguage(&quot;en-US&quot;).setContentType(&quot;binary&quot;);\r\n    \r\n                    blobClient.uploadFromFile(filePath, parallelTransferOptions, headers, null, AccessTier.HOT,\r\n                                    new BlobRequestConditions(), Duration.ofMinutes(30));\r\n            }\r\n\r\nMemory footprint: \r\n[![enter image description here][1]][1]\r\n\r\nFor downloading files:\r\n\r\n    public static void downLoadFilesByChunk() {\r\n                    String connString = &quot;&lt;conn str&gt;&quot;;\r\n                    String containerName = &quot;&lt;container name&gt;&quot;;\r\n                    String blobName = &quot;UploadOne.zip&quot;;\r\n    \r\n                    String filePath = &quot;D:/temp/&quot; + &quot;DownloadOne.zip&quot;;\r\n    \r\n                    BlobServiceClient client = new BlobServiceClientBuilder().connectionString(connString).buildClient();\r\n                    BlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(blobName);\r\n                    long blockSize = 2 * 1024 * 1024;\r\n                    com.azure.storage.common.ParallelTransferOptions parallelTransferOptions = new com.azure.storage.common.ParallelTransferOptions()\r\n                                    .setBlockSizeLong(blockSize).setMaxConcurrency(2)\r\n                                    .setProgressReceiver(new com.azure.storage.common.ProgressReceiver() {\r\n                                            @Override\r\n                                            public void reportProgress(long bytesTransferred) {\r\n                                                    System.out.println(&quot;dowloaded:&quot; + bytesTransferred);\r\n                                            }\r\n                                    });\r\n    \r\n                    BlobDownloadToFileOptions options = new BlobDownloadToFileOptions(filePath)\r\n                                    .setParallelTransferOptions(parallelTransferOptions);\r\n                    blobClient.downloadToFileWithResponse(options, Duration.ofMinutes(30), null);\r\n            }\r\n\r\nMemory footprint:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nResult:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SZiTI.jpg\r\n  [2]: https://i.stack.imgur.com/Opxb2.jpg\r\n  [3]: https://i.stack.imgur.com/itQUz.jpg\r\n","title":"Upload of large files using azure-sdk-for-java with limited heap","body":"<p>Pls try the code below to upload/download big files, I have tested on my side using a .zip file with size about 1.1 GB</p>\n<p>For uploading files:</p>\n<pre><code>public static void uploadFilesByChunk() {\n                String connString = &quot;&lt;conn str&gt;&quot;;\n                String containerName = &quot;&lt;container name&gt;&quot;;\n                String blobName = &quot;UploadOne.zip&quot;;\n                String filePath = &quot;D:/temp/&quot; + blobName;\n\n                BlobServiceClient client = new BlobServiceClientBuilder().connectionString(connString).buildClient();\n                BlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(blobName);\n                long blockSize = 2 * 1024 * 1024; //2MB\n                ParallelTransferOptions parallelTransferOptions = new ParallelTransferOptions()\n                                .setBlockSizeLong(blockSize).setMaxConcurrency(2)\n                                .setProgressReceiver(new ProgressReceiver() {\n                                        @Override\n                                        public void reportProgress(long bytesTransferred) {\n                                                System.out.println(&quot;uploaded:&quot; + bytesTransferred);\n                                        }\n                                });\n\n                BlobHttpHeaders headers = new BlobHttpHeaders().setContentLanguage(&quot;en-US&quot;).setContentType(&quot;binary&quot;);\n\n                blobClient.uploadFromFile(filePath, parallelTransferOptions, headers, null, AccessTier.HOT,\n                                new BlobRequestConditions(), Duration.ofMinutes(30));\n        }\n</code></pre>\n<p>Memory footprint:\n<a href=\"https://i.stack.imgur.com/SZiTI.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SZiTI.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For downloading files:</p>\n<pre><code>public static void downLoadFilesByChunk() {\n                String connString = &quot;&lt;conn str&gt;&quot;;\n                String containerName = &quot;&lt;container name&gt;&quot;;\n                String blobName = &quot;UploadOne.zip&quot;;\n\n                String filePath = &quot;D:/temp/&quot; + &quot;DownloadOne.zip&quot;;\n\n                BlobServiceClient client = new BlobServiceClientBuilder().connectionString(connString).buildClient();\n                BlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(blobName);\n                long blockSize = 2 * 1024 * 1024;\n                com.azure.storage.common.ParallelTransferOptions parallelTransferOptions = new com.azure.storage.common.ParallelTransferOptions()\n                                .setBlockSizeLong(blockSize).setMaxConcurrency(2)\n                                .setProgressReceiver(new com.azure.storage.common.ProgressReceiver() {\n                                        @Override\n                                        public void reportProgress(long bytesTransferred) {\n                                                System.out.println(&quot;dowloaded:&quot; + bytesTransferred);\n                                        }\n                                });\n\n                BlobDownloadToFileOptions options = new BlobDownloadToFileOptions(filePath)\n                                .setParallelTransferOptions(parallelTransferOptions);\n                blobClient.downloadToFileWithResponse(options, Duration.ofMinutes(30), null);\n        }\n</code></pre>\n<p>Memory footprint:\n<a href=\"https://i.stack.imgur.com/Opxb2.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Opxb2.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/itQUz.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/itQUz.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4364,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":65403169,"answer_count":1,"score":8,"last_activity_date":1699977736,"creation_date":1608565490,"question_id":65395726,"body_markdown":"We are developing document microservice that needs to use Azure as a storage for file content. Azure Block Blob seemed like a reasonable choice. Document service has heap limited to 512MB (`-Xmx512m`).\r\n\r\nI was not successful getting streaming file upload with limited heap to work using `azure-storage-blob:12.10.0-beta.1` (also tested on `12.9.0`).\r\n\r\nFollowing approaches were attempted:\r\n\r\n1. Copy-paste from the [documentation][1] using `BlockBlobClient`\r\n\r\n```\r\nBlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\r\n\r\nFile file = new File(&quot;file&quot;);\r\n\r\ntry (InputStream dataStream = new FileInputStream(file)) {\r\n  blockBlobClient.upload(dataStream, file.length(), true /* overwrite file */);\r\n}\r\n```\r\n\r\n**Result:** `java.io.IOException: mark/reset not supported` - SDK tries to use mark/reset even though file input stream reports this feature as not supported.\r\n\r\n2. Adding `BufferedInputStream` to mitigate mark/reset issue (per [advice][2]):\r\n\r\n```\r\nBlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\r\n\r\nFile file = new File(&quot;file&quot;);\r\n\r\ntry (InputStream dataStream = new BufferedInputStream(new FileInputStream(file))) {\r\n  blockBlobClient.upload(dataStream, file.length(), true /* overwrite file */);\r\n}\r\n```\r\n\r\n**Result:** `java.lang.OutOfMemoryError: Java heap space`. I assume that SDK attempted to load all 1.17GB of file content into memory.\r\n\r\n3. Replacing `BlockBlobClient` with `BlobClient` and removing heap size limitation (`-Xmx512m`):\r\n\r\n```\r\nBlobClient blobClient = blobContainerClient.getBlobClient(&quot;file&quot;);\r\n\r\nFile file = new File(&quot;file&quot;);\r\n\r\ntry (InputStream dataStream = new FileInputStream(file)) {\r\n  blobClient.upload(dataStream, file.length(), true /* overwrite file */);\r\n}\r\n```\r\n\r\n**Result:** 1.5GB of heap memory used, all file content is loaded into memory + some buffering on the side of Reactor\r\n\r\n[Heap usage from VisualVM][3]\r\n\r\n4. Switch to streaming via `BlobOutputStream`:\r\n\r\n```\r\nlong blockSize = DataSize.ofMegabytes(4L).toBytes();\r\n\r\nBlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\r\n\r\n// create / erase blob\r\nblockBlobClient.commitBlockList(List.of(), true);\r\n\r\nBlockBlobOutputStreamOptions options = (new BlockBlobOutputStreamOptions()).setParallelTransferOptions(\r\n  (new ParallelTransferOptions()).setBlockSizeLong(blockSize).setMaxConcurrency(1).setMaxSingleUploadSizeLong(blockSize));\r\n\r\ntry (InputStream is = new FileInputStream(&quot;file&quot;)) {\r\n  try (OutputStream os = blockBlobClient.getBlobOutputStream(options)) {\r\n    IOUtils.copy(is, os); // uses 8KB buffer\r\n  }\r\n}\r\n```\r\n\r\n**Result:** file is corrupted during upload. Azure web portal shows 1.09GB instead of expected 1.17GB. Manual download of the file from Azure web portal confirms that file content was corrupted during upload. Memory footprint decreased significantly, but file corruption is a showstopper.\r\n\r\n**Problem: cannot come up with a working upload / download solution with small memory footprint**\r\n\r\nAny help would be greatly appreciated!\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/storage/azure-storage-blob#upload-a-blob-from-a-stream\r\n  [2]: https://github.com/Azure/azure-sdk-for-java/issues/18178#issuecomment-747040697\r\n  [3]: https://i.stack.imgur.com/SsEOo.png","title":"Upload of large files using azure-sdk-for-java with limited heap","body":"<p>We are developing document microservice that needs to use Azure as a storage for file content. Azure Block Blob seemed like a reasonable choice. Document service has heap limited to 512MB (<code>-Xmx512m</code>).</p>\n<p>I was not successful getting streaming file upload with limited heap to work using <code>azure-storage-blob:12.10.0-beta.1</code> (also tested on <code>12.9.0</code>).</p>\n<p>Following approaches were attempted:</p>\n<ol>\n<li>Copy-paste from the <a href=\"https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/storage/azure-storage-blob#upload-a-blob-from-a-stream\" rel=\"noreferrer\">documentation</a> using <code>BlockBlobClient</code></li>\n</ol>\n<pre><code>BlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\n\nFile file = new File(&quot;file&quot;);\n\ntry (InputStream dataStream = new FileInputStream(file)) {\n  blockBlobClient.upload(dataStream, file.length(), true /* overwrite file */);\n}\n</code></pre>\n<p><strong>Result:</strong> <code>java.io.IOException: mark/reset not supported</code> - SDK tries to use mark/reset even though file input stream reports this feature as not supported.</p>\n<ol start=\"2\">\n<li>Adding <code>BufferedInputStream</code> to mitigate mark/reset issue (per <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/18178#issuecomment-747040697\" rel=\"noreferrer\">advice</a>):</li>\n</ol>\n<pre><code>BlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\n\nFile file = new File(&quot;file&quot;);\n\ntry (InputStream dataStream = new BufferedInputStream(new FileInputStream(file))) {\n  blockBlobClient.upload(dataStream, file.length(), true /* overwrite file */);\n}\n</code></pre>\n<p><strong>Result:</strong> <code>java.lang.OutOfMemoryError: Java heap space</code>. I assume that SDK attempted to load all 1.17GB of file content into memory.</p>\n<ol start=\"3\">\n<li>Replacing <code>BlockBlobClient</code> with <code>BlobClient</code> and removing heap size limitation (<code>-Xmx512m</code>):</li>\n</ol>\n<pre><code>BlobClient blobClient = blobContainerClient.getBlobClient(&quot;file&quot;);\n\nFile file = new File(&quot;file&quot;);\n\ntry (InputStream dataStream = new FileInputStream(file)) {\n  blobClient.upload(dataStream, file.length(), true /* overwrite file */);\n}\n</code></pre>\n<p><strong>Result:</strong> 1.5GB of heap memory used, all file content is loaded into memory + some buffering on the side of Reactor</p>\n<p><a href=\"https://i.stack.imgur.com/SsEOo.png\" rel=\"noreferrer\">Heap usage from VisualVM</a></p>\n<ol start=\"4\">\n<li>Switch to streaming via <code>BlobOutputStream</code>:</li>\n</ol>\n<pre><code>long blockSize = DataSize.ofMegabytes(4L).toBytes();\n\nBlockBlobClient blockBlobClient = blobContainerClient.getBlobClient(&quot;file&quot;).getBlockBlobClient();\n\n// create / erase blob\nblockBlobClient.commitBlockList(List.of(), true);\n\nBlockBlobOutputStreamOptions options = (new BlockBlobOutputStreamOptions()).setParallelTransferOptions(\n  (new ParallelTransferOptions()).setBlockSizeLong(blockSize).setMaxConcurrency(1).setMaxSingleUploadSizeLong(blockSize));\n\ntry (InputStream is = new FileInputStream(&quot;file&quot;)) {\n  try (OutputStream os = blockBlobClient.getBlobOutputStream(options)) {\n    IOUtils.copy(is, os); // uses 8KB buffer\n  }\n}\n</code></pre>\n<p><strong>Result:</strong> file is corrupted during upload. Azure web portal shows 1.09GB instead of expected 1.17GB. Manual download of the file from Azure web portal confirms that file content was corrupted during upload. Memory footprint decreased significantly, but file corruption is a showstopper.</p>\n<p><strong>Problem: cannot come up with a working upload / download solution with small memory footprint</strong></p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":2398069,"reputation":1051,"user_id":2096485,"accept_rate":71,"display_name":"Louis Hong"},"score":0,"creation_date":1432967316,"post_id":25506470,"comment_id":49159095,"body_markdown":"What is wrong with the f* stack exchange people always downvoting. Is it not ok for people to ask questions? If it&#39;s not directly related to programming, at least it&#39;s relatively related.","body":"What is wrong with the f* stack exchange people always downvoting. Is it not ok for people to ask questions? If it&#39;s not directly related to programming, at least it&#39;s relatively related."}],"answers":[{"comments":[{"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"score":0,"creation_date":1409058401,"post_id":25506587,"comment_id":39815468,"body_markdown":"I&#39;ve considered delta time. the problem is to choose the right direction of rotating?","body":"I&#39;ve considered delta time. the problem is to choose the right direction of rotating?"}],"tags":[],"owner":{"account_id":2692755,"reputation":305,"user_id":2325639,"display_name":"aqez"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1409059540,"creation_date":1409058316,"answer_id":25506587,"question_id":25506470,"body_markdown":"Generally you want to bring in time to the equation, so that you can smoothly change the angle over `time`. Most setups have a way to get a time it took to render the previous frame and the typical way to do this is to say..\r\n\r\n    int touchAngle;\r\n    float angle;\r\n    float deltaTime; //Time it took to render last frame, typically in miliseconds\r\n    float amountToTurnPerSecond;\r\n    public void update()\r\n    {\r\n        if((int)angle != touchAngle) angle += (deltaTime * amountToTurnPerSecond);\r\n    }\r\n\r\nThis will make it so that each second, your angle is changed by `amountToTurnPerSecond`, but changed slowly over each frame the correct amount of change so that it is smooth. Something to note about this is that you wont evenly end up at `touchAngle` most of the time, so checking to see if you go over and instead setting to `touchAngle` would be a good idea.\r\n\r\n\r\n\r\nEdit to follow up on comment:\r\n\r\nI think the easiest way to attain the correct direction for turn is actually not to use angles at all. You need to get the relative direction from your touch to your character in a 2d space. Typically you take the touch from screen space to world space, then do the calculations there (at least this is what I&#39;ve done in the past). Start out by getting your touch into world space, then use the vector cross product to determine direction. This looks kind of like the following...\r\n\r\n    character position = cx, cy\r\n    target position = tx, ty\r\n    current facing direction of character = rx, ry\r\n\r\nFirst we take the distance between the character and the target position:\r\n\r\n    dx = tx - cx\r\n    dy = ty - cy\r\n\r\nThis not only gives us how far it is from us, but essentially tells us that if we were at 0, 0, which quadrant in 2d space would the target be?\r\n\r\nNext we do a cross product:\r\n\r\n    cross_product = dx * ry - dy * rx\r\n\r\nIf this is positive you go one way, if it&#39;s negative you go the other. The reason this works out is that if the distance is for instance `(-5, 2)` then we know that if we are facing directly north, the point is to our left 5 and forward 2. So we turn left.\r\n","title":"How to get to an angle choosing the shortest rotation direction","body":"<p>Generally you want to bring in time to the equation, so that you can smoothly change the angle over <code>time</code>. Most setups have a way to get a time it took to render the previous frame and the typical way to do this is to say..</p>\n\n<pre><code>int touchAngle;\nfloat angle;\nfloat deltaTime; //Time it took to render last frame, typically in miliseconds\nfloat amountToTurnPerSecond;\npublic void update()\n{\n    if((int)angle != touchAngle) angle += (deltaTime * amountToTurnPerSecond);\n}\n</code></pre>\n\n<p>This will make it so that each second, your angle is changed by <code>amountToTurnPerSecond</code>, but changed slowly over each frame the correct amount of change so that it is smooth. Something to note about this is that you wont evenly end up at <code>touchAngle</code> most of the time, so checking to see if you go over and instead setting to <code>touchAngle</code> would be a good idea.</p>\n\n<p>Edit to follow up on comment:</p>\n\n<p>I think the easiest way to attain the correct direction for turn is actually not to use angles at all. You need to get the relative direction from your touch to your character in a 2d space. Typically you take the touch from screen space to world space, then do the calculations there (at least this is what I've done in the past). Start out by getting your touch into world space, then use the vector cross product to determine direction. This looks kind of like the following...</p>\n\n<pre><code>character position = cx, cy\ntarget position = tx, ty\ncurrent facing direction of character = rx, ry\n</code></pre>\n\n<p>First we take the distance between the character and the target position:</p>\n\n<pre><code>dx = tx - cx\ndy = ty - cy\n</code></pre>\n\n<p>This not only gives us how far it is from us, but essentially tells us that if we were at 0, 0, which quadrant in 2d space would the target be?</p>\n\n<p>Next we do a cross product:</p>\n\n<pre><code>cross_product = dx * ry - dy * rx\n</code></pre>\n\n<p>If this is positive you go one way, if it's negative you go the other. The reason this works out is that if the distance is for instance <code>(-5, 2)</code> then we know that if we are facing directly north, the point is to our left 5 and forward 2. So we turn left.</p>\n"},{"comments":[{"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"score":0,"creation_date":1409059810,"post_id":25506940,"comment_id":39816437,"body_markdown":"Thank you so much. I didn&#39;t consider first if. How to normalize angle so it&#39;s always between 0 and 360?","body":"Thank you so much. I didn&#39;t consider first if. How to normalize angle so it&#39;s always between 0 and 360?"},{"owner":{"account_id":1863418,"reputation":531,"user_id":1687499,"display_name":"Demplo"},"score":0,"creation_date":1409059927,"post_id":25506940,"comment_id":39816515,"body_markdown":"That&#39;s very easy thanks to the `%` operator. http://stackoverflow.com/questions/1628386/normalise-orientation-between-0-and-360","body":"That&#39;s very easy thanks to the <code>%</code> operator. <a href=\"http://stackoverflow.com/questions/1628386/normalise-orientation-between-0-and-360\" title=\"normalise orientation between 0 and 360\">stackoverflow.com/questions/1628386/&hellip;</a>"},{"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"score":0,"creation_date":1409059984,"post_id":25506940,"comment_id":39816552,"body_markdown":"And after % I will check for the negative value and add 360! thank you so much.","body":"And after % I will check for the negative value and add 360! thank you so much."}],"tags":[],"owner":{"account_id":1863418,"reputation":531,"user_id":1687499,"display_name":"Demplo"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1699977573,"creation_date":1409059361,"answer_id":25506940,"question_id":25506470,"body_markdown":"Since you have values that are always normalized in the interval `[0 360]` this should not be too hard.\r\nYou just need to distinguish two different cases:\r\n\r\n    angle &lt; touchAngle\r\n    angle &gt; touchAngle\r\n\r\nin the first case we want to rotate counterclockwise so the update has to be `angle =+ 1` (assuming that you want to turn of 1 every update cycle).\r\nIn the second case we want to turn clockwise so the update should be `angle -= 1`.\r\n\r\nThe problem is that this is not always the shortest way to rotate. For instance if:\r\n\r\n    angle == 359\r\n    touchAngle == 1\r\n\r\nwe don&#39;t want to make all the way 358, 357, 356...instead we want to rotate counterclockwise for just 2 units: 360, 1.\r\nThis can be achieved comparing the distance between the angles `abs(angle - touchAngle)`.\r\n\r\nIf this value is bigger than `180` it means we are going the wrong way, so we have to do the way around so\r\n\r\n    if(angle &lt; touchAngle) {\r\n        if(abs(angle - touchAngle)&lt;180)\r\n           angle += 1;\r\n        else angle -= 1;\r\n    }\r\n\r\n    else {\r\n        if(abs(angle - touchAngle)&lt;180)\r\n           angle -= 1;\r\n        else angle += 1;\r\n    }\r\n\r\nof course all of this until `((int)angle != touchAngle)`.\r\nI might have made mistakes with the cases but this is the principle.","title":"How to get to an angle choosing the shortest rotation direction","body":"<p>Since you have values that are always normalized in the interval <code>[0 360]</code> this should not be too hard.\nYou just need to distinguish two different cases:</p>\n<pre><code>angle &lt; touchAngle\nangle &gt; touchAngle\n</code></pre>\n<p>in the first case we want to rotate counterclockwise so the update has to be <code>angle =+ 1</code> (assuming that you want to turn of 1 every update cycle).\nIn the second case we want to turn clockwise so the update should be <code>angle -= 1</code>.</p>\n<p>The problem is that this is not always the shortest way to rotate. For instance if:</p>\n<pre><code>angle == 359\ntouchAngle == 1\n</code></pre>\n<p>we don't want to make all the way 358, 357, 356...instead we want to rotate counterclockwise for just 2 units: 360, 1.\nThis can be achieved comparing the distance between the angles <code>abs(angle - touchAngle)</code>.</p>\n<p>If this value is bigger than <code>180</code> it means we are going the wrong way, so we have to do the way around so</p>\n<pre><code>if(angle &lt; touchAngle) {\n    if(abs(angle - touchAngle)&lt;180)\n       angle += 1;\n    else angle -= 1;\n}\n\nelse {\n    if(abs(angle - touchAngle)&lt;180)\n       angle -= 1;\n    else angle += 1;\n}\n</code></pre>\n<p>of course all of this until <code>((int)angle != touchAngle)</code>.\nI might have made mistakes with the cases but this is the principle.</p>\n"}],"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7179,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":25506940,"answer_count":2,"score":6,"last_activity_date":1699977573,"creation_date":1409057985,"question_id":25506470,"body_markdown":"I have a character in my game that must rotate smoothly to get to a desired angle. Consider `angle` as the current angle and `touchAngle` as the desired angle which is always between 0 to 360. I want to add +1/-1 to current angle in every game update to get to the desired `touchAngle`. The problem is first it must chose direction and it must be between 0 to 360. this is my pseudo code:\r\n\r\n    int touchAngle;\r\n    float angle;\r\n    public void update()\r\n    {\r\n        if ((int)angle != touchAngle) angle += ???\r\n    }\r\n","title":"How to get to an angle choosing the shortest rotation direction","body":"<p>I have a character in my game that must rotate smoothly to get to a desired angle. Consider <code>angle</code> as the current angle and <code>touchAngle</code> as the desired angle which is always between 0 to 360. I want to add +1/-1 to current angle in every game update to get to the desired <code>touchAngle</code>. The problem is first it must chose direction and it must be between 0 to 360. this is my pseudo code:</p>\n\n<pre><code>int touchAngle;\nfloat angle;\npublic void update()\n{\n    if ((int)angle != touchAngle) angle += ???\n}\n</code></pre>\n"},{"tags":["java","android","cordova","android-13"],"answers":[{"tags":[],"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699606553,"creation_date":1699606553,"answer_id":77458757,"question_id":77456066,"body_markdown":"You could take a look at https://github.com/NeoLSN/cordova-plugin-android-permissions\r\n\r\n&gt; This plugin is designed to support Android&#39;s new permissions checking mechanism, and has been updated to include the newest permissions added in Android 13.\r\n\r\nCheck the permissions then if needed, request it\r\n\r\n     var permissions = cordova.plugins.permissions;\r\n     permissions.checkPermission(permission, successCallback, errorCallback);\r\n     permissions.requestPermission(permission, successCallback, errorCallback);\r\n\r\n","title":"Trying to get Android 13 permission to send local notifications","body":"<p>You could take a look at <a href=\"https://github.com/NeoLSN/cordova-plugin-android-permissions\" rel=\"nofollow noreferrer\">https://github.com/NeoLSN/cordova-plugin-android-permissions</a></p>\n<blockquote>\n<p>This plugin is designed to support Android's new permissions checking mechanism, and has been updated to include the newest permissions added in Android 13.</p>\n</blockquote>\n<p>Check the permissions then if needed, request it</p>\n<pre><code> var permissions = cordova.plugins.permissions;\n permissions.checkPermission(permission, successCallback, errorCallback);\n permissions.requestPermission(permission, successCallback, errorCallback);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":999815,"reputation":329,"user_id":1014953,"accept_rate":22,"display_name":"Jon Schlossberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699977561,"creation_date":1699977561,"answer_id":77482076,"question_id":77456066,"body_markdown":"Yes, that&#39;s it!  Simple with that plugin:\r\n\r\n     permissions.requestPermission(permissions.POST_NOTIFICATIONS, successPermissionNotification, errorPermissionNotification);\r\n\r\nThanks!","title":"Trying to get Android 13 permission to send local notifications","body":"<p>Yes, that's it!  Simple with that plugin:</p>\n<pre><code> permissions.requestPermission(permissions.POST_NOTIFICATIONS, successPermissionNotification, errorPermissionNotification);\n</code></pre>\n<p>Thanks!</p>\n"}],"owner":{"account_id":999815,"reputation":329,"user_id":1014953,"accept_rate":22,"display_name":"Jon Schlossberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699977561,"creation_date":1699560559,"question_id":77456066,"body_markdown":"I&#39;m working with this Cordova plugin https://github.com/bhandaribhumin/cordova-plugin-local-notification-12 which has been working great!  But now in Android 13, it never asks the user&#39;s permission to send local notifications - so none can be sent.  The developer suggests using setdummynotification() in the plugin but that doesn&#39;t do anything.\r\n\r\n  Does anybody have any advice?\r\n\r\n  I&#39;ve looked at the code for setdummynotification() and not sure what&#39;s wrong.  Is there another Cordova local notifications plugin that is working on Android 13?  I saw a suggestion to send the user to the Android system settings to manually enable notifications but that&#39;s a horrible solution!\r\n\r\n  Thanks for any help!\r\n  - Jon - \r\n\r\n","title":"Trying to get Android 13 permission to send local notifications","body":"<p>I'm working with this Cordova plugin <a href=\"https://github.com/bhandaribhumin/cordova-plugin-local-notification-12\" rel=\"nofollow noreferrer\">https://github.com/bhandaribhumin/cordova-plugin-local-notification-12</a> which has been working great!  But now in Android 13, it never asks the user's permission to send local notifications - so none can be sent.  The developer suggests using setdummynotification() in the plugin but that doesn't do anything.</p>\n<p>Does anybody have any advice?</p>\n<p>I've looked at the code for setdummynotification() and not sure what's wrong.  Is there another Cordova local notifications plugin that is working on Android 13?  I saw a suggestion to send the user to the Android system settings to manually enable notifications but that's a horrible solution!</p>\n<p>Thanks for any help!</p>\n<ul>\n<li>Jon -</li>\n</ul>\n"},{"tags":["java","cucumber","cucumber-java"],"owner":{"account_id":29901517,"reputation":1,"user_id":22915155,"display_name":"Ikkino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699977160,"creation_date":1699977160,"question_id":77482028,"body_markdown":"Is it possible to run all scenarios &quot;when&quot; in only one go?\r\n\r\nI&#39;m currently working on a project where I need to migrate one database to another database and I want to use Cucumber to do an EndToEnd test. So each test fills the first database, then the migration is done and finally, I would test the second database. However, as the migration is pretty long I would like to do all the database filling first, then start 1 migration, and finally do all the tests.\r\n\r\nI know it would not be good practice as the tests would not be isolated but I don&#39;t really have a choice. The only solution I can think of currently would be to make only one scenario but it would make it way too big.","title":"Cucumber: all scenario&#39;s &quot;when&quot; in one go","body":"<p>Is it possible to run all scenarios &quot;when&quot; in only one go?</p>\n<p>I'm currently working on a project where I need to migrate one database to another database and I want to use Cucumber to do an EndToEnd test. So each test fills the first database, then the migration is done and finally, I would test the second database. However, as the migration is pretty long I would like to do all the database filling first, then start 1 migration, and finally do all the tests.</p>\n<p>I know it would not be good practice as the tests would not be isolated but I don't really have a choice. The only solution I can think of currently would be to make only one scenario but it would make it way too big.</p>\n"},{"tags":["java","profiling","heap-memory"],"answers":[{"comments":[{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":5,"creation_date":1527673376,"post_id":185926,"comment_id":88211886,"body_markdown":"After running above command In the console you will get the message int  the terminal &quot;server is ready&quot; Port : 7401. After that open this URL :  http://localhost:7401 &quot;you can see details in the browser windows &quot;.","body":"After running above command In the console you will get the message int  the terminal &quot;server is ready&quot; Port : 7401. After that open this URL :  <a href=\"http://localhost:7401\" rel=\"nofollow noreferrer\">localhost:7401</a> &quot;you can see details in the browser windows &quot;."},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1608845297,"post_id":185926,"comment_id":115701068,"body_markdown":"`java.io.IOException: Version string not recognized at byte 17`","body":"<code>java.io.IOException: Version string not recognized at byte 17</code>"},{"owner":{"account_id":9220797,"reputation":624,"user_id":6850323,"display_name":"em_bo"},"score":1,"creation_date":1642085740,"post_id":185926,"comment_id":124982676,"body_markdown":"This is not delivered by default in the latest versions of OpenJDK or Oracle JDK.","body":"This is not delivered by default in the latest versions of OpenJDK or Oracle JDK."}],"tags":[],"owner":{"account_id":3748,"reputation":812176,"user_id":5445,"display_name":"Christian C. Salvad&#243;"},"comment_count":3,"down_vote_count":2,"up_vote_count":91,"is_accepted":false,"score":89,"last_activity_date":1511904313,"creation_date":1223525821,"answer_id":185926,"question_id":185893,"body_markdown":"You can use [JHAT][1], The Java Heap Analysis Tool provided by default with the JDK.  It&#39;s command line but starts a web server/browser you use to examine the memory.  Not the most user friendly, but at least it&#39;s already installed most places you&#39;ll go.  A very useful view is the &quot;heap histogram&quot; link at the very bottom.\n\nex:  `jhat -port 7401 -J-Xmx4G dump.hprof`\n\n`jhat` can execute OQL &quot;these days&quot; as well (bottom link &quot;execute OQL&quot;)\n\n  [1]:https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html","title":"How do I analyze a .hprof file?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html\" rel=\"noreferrer\">JHAT</a>, The Java Heap Analysis Tool provided by default with the JDK.  It's command line but starts a web server/browser you use to examine the memory.  Not the most user friendly, but at least it's already installed most places you'll go.  A very useful view is the &quot;heap histogram&quot; link at the very bottom.</p>\n<p>ex:  <code>jhat -port 7401 -J-Xmx4G dump.hprof</code></p>\n<p><code>jhat</code> can execute OQL &quot;these days&quot; as well (bottom link &quot;execute OQL&quot;)</p>\n"},{"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":20,"creation_date":1245350260,"post_id":185955,"comment_id":823503,"body_markdown":"I&#39;d just like to add a +100 for Eclipse Memory Analyzer. I&#39;m currently attempting to sift thru a 400mb+ heap dump file, and it took jhat more than 70 minutes to read the file, before it caused a complete JVM crash. EMA is able to open it up in &lt; 5 minutes.","body":"I&#39;d just like to add a +100 for Eclipse Memory Analyzer. I&#39;m currently attempting to sift thru a 400mb+ heap dump file, and it took jhat more than 70 minutes to read the file, before it caused a complete JVM crash. EMA is able to open it up in &lt; 5 minutes."},{"owner":{"account_id":462076,"reputation":2400,"user_id":864175,"accept_rate":86,"display_name":"lost_bits1110"},"score":4,"creation_date":1323901006,"post_id":185955,"comment_id":10538401,"body_markdown":"I keep getting parsing errors when opening HPROF files using the Eclipse Memory Analyzer (that were in fact also dumped by Eclipse!). Unfortunate.. sigh.","body":"I keep getting parsing errors when opening HPROF files using the Eclipse Memory Analyzer (that were in fact also dumped by Eclipse!). Unfortunate.. sigh."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":4,"creation_date":1427759037,"post_id":185955,"comment_id":46900841,"body_markdown":"MAT can still require quite a bit of RAM [less than JHAT but still quite a bit].   See http://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps for tips if you run into that happening.","body":"MAT can still require quite a bit of RAM [less than JHAT but still quite a bit].   See <a href=\"http://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps\" title=\"tool for analyzing large java heap dumps\">stackoverflow.com/questions/7254017/&hellip;</a> for tips if you run into that happening."},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1608845449,"post_id":185955,"comment_id":115701096,"body_markdown":"`Error opening heap dump &#39;strictmode-death-penalty.hprof&#39;. Check the error log for further details.\nError opening heap dump &#39;strictmode-death-penalty.hprof&#39;. Check the error log for further details.\nUnknown HPROF Version (JAVA PROFILE 1.0.3) (java.io.IOException)\nUnknown HPROF Version (JAVA PROFILE 1.0.3)`","body":"<code>Error opening heap dump &#39;strictmode-death-penalty.hprof&#39;. Check the error log for further details. Error opening heap dump &#39;strictmode-death-penalty.hprof&#39;. Check the error log for further details. Unknown HPROF Version (JAVA PROFILE 1.0.3) (java.io.IOException) Unknown HPROF Version (JAVA PROFILE 1.0.3)</code>"}],"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":4,"down_vote_count":0,"up_vote_count":248,"is_accepted":true,"score":248,"last_activity_date":1223527291,"creation_date":1223527291,"answer_id":185955,"question_id":185893,"body_markdown":"If you want a fairly advanced tool to do some serious poking around, look at [the Memory Analyzer project][1] at Eclipse, contributed to them by SAP.\r\n\r\nSome of what you can do is mind-blowingly good for finding memory leaks etc -- including running a form of limited SQL (OQL) against the in-memory objects, i.e.\r\n\r\n&gt; SELECT toString(firstName) FROM com.yourcompany.somepackage.User\r\n\r\nTotally brilliant.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"How do I analyze a .hprof file?","body":"<p>If you want a fairly advanced tool to do some serious poking around, look at <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">the Memory Analyzer project</a> at Eclipse, contributed to them by SAP.</p>\n\n<p>Some of what you can do is mind-blowingly good for finding memory leaks etc -- including running a form of limited SQL (OQL) against the in-memory objects, i.e.</p>\n\n<blockquote>\n  <p>SELECT toString(firstName) FROM com.yourcompany.somepackage.User</p>\n</blockquote>\n\n<p>Totally brilliant.</p>\n"},{"comments":[{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":3,"creation_date":1223570621,"post_id":186381,"comment_id":67863,"body_markdown":"JHAT is necessary for impressing those &quot;l33t&quot; hackers who hand-build a BSD distro starting with the LILO. Wait... they&#39;d never use java anyway. :-)","body":"JHAT is necessary for impressing those &quot;l33t&quot; hackers who hand-build a BSD distro starting with the LILO. Wait... they&#39;d never use java anyway. :-)"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1511890588,"post_id":186381,"comment_id":82032216,"body_markdown":"I think this is more of a comment... :\\","body":"I think this is more of a comment... :\\"},{"owner":{"account_id":1264821,"reputation":139,"user_id":1222345,"display_name":"zwy"},"score":0,"creation_date":1625604375,"post_id":186381,"comment_id":120669948,"body_markdown":"Yeah, JHAT is for &quot;toy applications&quot;. I had a dump file (9GB), JHAT runs about 30 mins with 20GB heap and fails with OOM finally. The Eclipse Memory Analyzer handles it with 15GB heap within 1 min.","body":"Yeah, JHAT is for &quot;toy applications&quot;. I had a dump file (9GB), JHAT runs about 30 mins with 20GB heap and fails with OOM finally. The Eclipse Memory Analyzer handles it with 15GB heap within 1 min."},{"owner":{"account_id":2251437,"reputation":116,"user_id":1983588,"display_name":"mkag"},"score":1,"creation_date":1633344859,"post_id":186381,"comment_id":122726172,"body_markdown":"when I open a 3 GB dump file, The Eclipse Memory Analyzer, show out of memory error and unable to open the dump file. Windows 10/JRE17\n\n-  An internal error occurred during: &quot;Parsing heap dump from &#39;D:\\java_pid12269.hprof&#39;&quot;.\njava.lang.OutOfMemoryError","body":"when I open a 3 GB dump file, The Eclipse Memory Analyzer, show out of memory error and unable to open the dump file. Windows 10/JRE17  -  An internal error occurred during: &quot;Parsing heap dump from &#39;D:\\java_pid12269.hprof&#39;&quot;. java.lang.OutOfMemoryError"}],"tags":[],"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"comment_count":4,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1223540320,"creation_date":1223540320,"answer_id":186381,"question_id":185893,"body_markdown":"Just get the [Eclipse Memory Analyzer][1]. There&#39;s nothing better out there and it&#39;s free.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/\r\n\r\nJHAT is only usable for &quot;toy applications&quot;","title":"How do I analyze a .hprof file?","body":"<p>Just get the <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse Memory Analyzer</a>. There's nothing better out there and it's free.</p>\n\n<p>JHAT is only usable for \"toy applications\"</p>\n"},{"comments":[{"owner":{"account_id":3437,"reputation":42021,"user_id":4960,"accept_rate":95,"display_name":"Nick Stinemates"},"score":0,"creation_date":1223572537,"post_id":188116,"comment_id":67979,"body_markdown":"You should add a note that this is for Java 6 and 7 only.","body":"You should add a note that this is for Java 6 and 7 only."},{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":0,"creation_date":1223575082,"post_id":188116,"comment_id":68109,"body_markdown":"AFAIK, HeapWalker and VisualVM do not require Java 6/7 to read HPROF files.","body":"AFAIK, HeapWalker and VisualVM do not require Java 6/7 to read HPROF files."},{"owner":{"account_id":3437,"reputation":42021,"user_id":4960,"accept_rate":95,"display_name":"Nick Stinemates"},"score":0,"creation_date":1223575251,"post_id":188116,"comment_id":68116,"body_markdown":"I just tried to load it with Java 5 and it said &#39;Please use Java 6 or 7&#39;\n\nWhat am I doing wrong?","body":"I just tried to load it with Java 5 and it said &#39;Please use Java 6 or 7&#39;  What am I doing wrong?"},{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":0,"creation_date":1223587471,"post_id":188116,"comment_id":68749,"body_markdown":"Hmm. Perhaps you have to run Java 6, but can read a Java 5 HPROF (maybe that&#39;s how I got it to work). I know you cannot create a heap-dump from Visual VM on an app running Java 5. Will update.","body":"Hmm. Perhaps you have to run Java 6, but can read a Java 5 HPROF (maybe that&#39;s how I got it to work). I know you cannot create a heap-dump from Visual VM on an app running Java 5. Will update."},{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1520844321,"post_id":188116,"comment_id":85465561,"body_markdown":"You can also use visual JVM, from java SDK\n- look for `jvisualvm.exe` at `JAVASDK/bin` folder","body":"You can also use visual JVM, from java SDK - look for <code>jvisualvm.exe</code> at <code>JAVASDK&#47;bin</code> folder"}],"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"comment_count":5,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1486519365,"creation_date":1223570466,"answer_id":188116,"question_id":185893,"body_markdown":"You can also use [HeapWalker][1] from the Netbeans Profiler or the [Visual VM][2] stand-alone tool. Visual VM is a good alternative to JHAT as it is stand alone, but is much easier to use than JHAT.\r\n\r\nYou need Java 6+ to fully use Visual VM.\r\n\r\n  [1]: http://profiler.netbeans.org/docs/help/6.0/heapwalker.html\r\n  [2]: https://visualvm.github.io/","title":"How do I analyze a .hprof file?","body":"<p>You can also use <a href=\"http://profiler.netbeans.org/docs/help/6.0/heapwalker.html\" rel=\"noreferrer\">HeapWalker</a> from the Netbeans Profiler or the <a href=\"https://visualvm.github.io/\" rel=\"noreferrer\">Visual VM</a> stand-alone tool. Visual VM is a good alternative to JHAT as it is stand alone, but is much easier to use than JHAT.</p>\n\n<p>You need Java 6+ to fully use Visual VM.</p>\n"},{"tags":[],"owner":{"account_id":665346,"reputation":119,"user_id":494608,"display_name":"Polaris"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1288694148,"creation_date":1288694148,"answer_id":4076833,"question_id":185893,"body_markdown":"YourKit Java Profiler seems to handle them too.","title":"How do I analyze a .hprof file?","body":"<p>YourKit Java Profiler seems to handle them too.</p>\n"},{"comments":[{"owner":{"account_id":1516059,"reputation":303,"user_id":1417038,"display_name":"Escay"},"score":0,"creation_date":1620382792,"post_id":50719222,"comment_id":119190498,"body_markdown":"Link is no more active.","body":"Link is no more active."}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1621072704,"creation_date":1528284274,"answer_id":50719222,"question_id":185893,"body_markdown":"If you want to do a custom analysis of your heapdump then there&#39;s:\r\n\r\n - **JVM Heap Dump Analysis library** https://github.com/aragozin/heaplib/tree/master/hprof-heap\r\n\r\nThis library is fast but you will need to write your analysis code in Java.\r\n\r\nFrom the docs:\r\n\r\n- Does not create any temporary files on disk to process heap dump\r\n- Can work directly GZ compressed heap dumps\r\n- HeapPath notation\r\n","title":"How do I analyze a .hprof file?","body":"<p>If you want to do a custom analysis of your heapdump then there's:</p>\n<ul>\n<li><strong>JVM Heap Dump Analysis library</strong> <a href=\"https://github.com/aragozin/heaplib/tree/master/hprof-heap\" rel=\"nofollow noreferrer\">https://github.com/aragozin/heaplib/tree/master/hprof-heap</a></li>\n</ul>\n<p>This library is fast but you will need to write your analysis code in Java.</p>\n<p>From the docs:</p>\n<ul>\n<li>Does not create any temporary files on disk to process heap dump</li>\n<li>Can work directly GZ compressed heap dumps</li>\n<li>HeapPath notation</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1036485,"reputation":514,"user_id":1043631,"accept_rate":100,"display_name":"Waleed"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1637873638,"creation_date":1583312292,"answer_id":60522318,"question_id":185893,"body_markdown":"I personally prefer VisualVM. One of the features I like in VisualVM is heap dump comparison. When you are doing a heap dump analysis there are various ways to go about figuring out what caused the crash. One of the ways I have found useful is doing a comparison of healthy vs unhealthy heap dumps.\r\n\r\nFollowing are the steps you can follow for it : \r\n\r\n 1. Getting a heap dump of OutOfMemoryError let&#39;s call it &quot;oome.hprof&quot;. You can get this via JVM parameter HeapDumpOnOutOfMemoryError.\r\n 2. Restart the application let it run for a bit (minutes/hours) depending on your application. Get another heap dump while the application is still running. Let&#39;s call it &quot;healthy.hprof&quot;.\r\n 3. You can open both these dumps in VisualVM and do a heap dump comparison. You can do it on class or package level. This can often point you into the direction of the issue. \r\n\r\n\r\nlink : https://visualvm.github.io","title":"How do I analyze a .hprof file?","body":"<p>I personally prefer VisualVM. One of the features I like in VisualVM is heap dump comparison. When you are doing a heap dump analysis there are various ways to go about figuring out what caused the crash. One of the ways I have found useful is doing a comparison of healthy vs unhealthy heap dumps.</p>\n<p>Following are the steps you can follow for it :</p>\n<ol>\n<li>Getting a heap dump of OutOfMemoryError let's call it &quot;oome.hprof&quot;. You can get this via JVM parameter HeapDumpOnOutOfMemoryError.</li>\n<li>Restart the application let it run for a bit (minutes/hours) depending on your application. Get another heap dump while the application is still running. Let's call it &quot;healthy.hprof&quot;.</li>\n<li>You can open both these dumps in VisualVM and do a heap dump comparison. You can do it on class or package level. This can often point you into the direction of the issue.</li>\n</ol>\n<p>link : <a href=\"https://visualvm.github.io\" rel=\"noreferrer\">https://visualvm.github.io</a></p>\n"},{"tags":[],"owner":{"account_id":16743892,"reputation":295,"user_id":12980819,"display_name":"Falchio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699977110,"creation_date":1699977110,"answer_id":77482024,"question_id":185893,"body_markdown":"I&#39;m using IntelliJ IDEA profiler in Ultimate version. \r\nIn IDEA, press the Shift button twice.    \r\nIn `Actions` tab write - &quot;profiler&quot;.  \r\nChoice row &quot;profiler&quot; with icon.  \r\nThen `Open snapshot..` button.  ","title":"How do I analyze a .hprof file?","body":"<p>I'm using IntelliJ IDEA profiler in Ultimate version.\nIn IDEA, press the Shift button twice.<br />\nIn <code>Actions</code> tab write - &quot;profiler&quot;.<br />\nChoice row &quot;profiler&quot; with icon.<br />\nThen <code>Open snapshot..</code> button.</p>\n"}],"owner":{"account_id":3437,"reputation":42021,"user_id":4960,"accept_rate":95,"display_name":"Nick Stinemates"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434142,"favorite_count":0,"down_vote_count":0,"up_vote_count":270,"accepted_answer_id":185955,"answer_count":8,"score":270,"last_activity_date":1699977110,"creation_date":1223525043,"question_id":185893,"body_markdown":"I have a production server running with the following flag: -**XX:+HeapDumpOnOutOfMemoryError**\r\n\r\nLast night it generated a java-38942.hprof file when our server encountered a heap error. It turns out that the developers of the system knew of the flag but no way to get any useful information from it.\r\n\r\nAny ideas?","title":"How do I analyze a .hprof file?","body":"<p>I have a production server running with the following flag: -<strong>XX:+HeapDumpOnOutOfMemoryError</strong></p>\n\n<p>Last night it generated a java-38942.hprof file when our server encountered a heap error. It turns out that the developers of the system knew of the flag but no way to get any useful information from it.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","xsd","jaxb","xjc"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1699993004,"post_id":77482008,"comment_id":136599660,"body_markdown":"xsi:type is used implicitly when using polymorphic values in your XML documents. It acts as a hint for a parser to map a value to a specific in this case Java type. After the type conversion has been done during marshalling it&#39;s regarded as needless and that&#39;s the reason why you don&#39;t see it in your Java class. I don&#39;t know your business case and can&#39;t imagine what information you want to derive from the attribute, so I can&#39;t further help here.","body":"xsi:type is used implicitly when using polymorphic values in your XML documents. It acts as a hint for a parser to map a value to a specific in this case Java type. After the type conversion has been done during marshalling it&#39;s regarded as needless and that&#39;s the reason why you don&#39;t see it in your Java class. I don&#39;t know your business case and can&#39;t imagine what information you want to derive from the attribute, so I can&#39;t further help here."}],"owner":{"account_id":15738373,"reputation":3,"user_id":11356615,"display_name":"Hernando Scheidl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699977010,"creation_date":1699977010,"question_id":77482008,"body_markdown":"I need to marshal and unmarshal XMLs that contains structures like this:\r\n\r\n```\r\n&lt;Parameter&gt;\r\n    &lt;Name&gt;Country&lt;/Name&gt;\r\n    &lt;Value xsi:type=&quot;xsd:string&quot;&gt;Uruguay&lt;/Value&gt;\r\n&lt;/Parameter&gt;\r\n```\r\n\r\nthat are defined in the following schema fragment:\r\n\r\n```\r\n&lt;xs:complexType name=&quot;Parameter&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;Name&quot;&gt;\r\n            &lt;xs:simpleType&gt;\r\n                &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n                    &lt;xs:maxLength value=&quot;256&quot;/&gt;\r\n                &lt;/xs:restriction&gt;\r\n            &lt;/xs:simpleType&gt;\r\n        &lt;/xs:element&gt;\r\n        &lt;xs:element name=&quot;Value&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n\r\nThe generated class with xjc for the above schema is the following:\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;Parameter&quot;, propOrder = {\r\n    &quot;name&quot;,\r\n    &quot;value&quot;\r\n})\r\npublic class Parameter {\r\n\r\n    @XmlElement(name = &quot;Name&quot;, required = true)\r\n    protected String name;\r\n    @XmlElement(name = &quot;Value&quot;, required = true)\r\n    protected Object value;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String value) {\r\n        this.name = value;\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Object value) {\r\n        this.value = value;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you can see the `xsi:type` attribute in the `Value` element is not present in `Parameter` class. And I need to access it as a business requirement.\r\n\r\n\r\n\r\nI have tried modifying the original schema like this:\r\n\r\n```\r\n&lt;xs:complexType name=&quot;ParameterValue&quot;&gt;\r\n    &lt;xs:simpleContent&gt;\r\n        &lt;xs:extension base=&quot;xs:anySimpleType&quot;&gt;\r\n            &lt;xs:attribute name=&quot;type&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;/xs:extension&gt;\r\n    &lt;/xs:simpleContent&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;Parameter&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;Name&quot;&gt;\r\n            &lt;xs:simpleType&gt;\r\n                &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n                    &lt;xs:maxLength value=&quot;256&quot;/&gt;\r\n                &lt;/xs:restriction&gt;\r\n            &lt;/xs:simpleType&gt;\r\n        &lt;/xs:element&gt;\r\n        &lt;xs:element name=&quot;Value&quot; type=&quot;ParameterValue&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n\r\nSo the `value` property in `Parameter` class is of type `ParameterValue` that contains both type and actual value. This way I have a getter for the type, but type and value are &quot;decoupled&quot; now. I mean when marshaling, the type have to be set manually and it is not inferred from value.  \r\n\r\n\r\nIs there a better way to deal with anySimpleType elements?","title":"How to access xsi:type attribute of a xs:anySimpleType element in xjc generated class?","body":"<p>I need to marshal and unmarshal XMLs that contains structures like this:</p>\n<pre><code>&lt;Parameter&gt;\n    &lt;Name&gt;Country&lt;/Name&gt;\n    &lt;Value xsi:type=&quot;xsd:string&quot;&gt;Uruguay&lt;/Value&gt;\n&lt;/Parameter&gt;\n</code></pre>\n<p>that are defined in the following schema fragment:</p>\n<pre><code>&lt;xs:complexType name=&quot;Parameter&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Name&quot;&gt;\n            &lt;xs:simpleType&gt;\n                &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n                    &lt;xs:maxLength value=&quot;256&quot;/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:element&gt;\n        &lt;xs:element name=&quot;Value&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>The generated class with xjc for the above schema is the following:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Parameter&quot;, propOrder = {\n    &quot;name&quot;,\n    &quot;value&quot;\n})\npublic class Parameter {\n\n    @XmlElement(name = &quot;Name&quot;, required = true)\n    protected String name;\n    @XmlElement(name = &quot;Value&quot;, required = true)\n    protected Object value;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String value) {\n        this.name = value;\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n<p>As you can see the <code>xsi:type</code> attribute in the <code>Value</code> element is not present in <code>Parameter</code> class. And I need to access it as a business requirement.</p>\n<p>I have tried modifying the original schema like this:</p>\n<pre><code>&lt;xs:complexType name=&quot;ParameterValue&quot;&gt;\n    &lt;xs:simpleContent&gt;\n        &lt;xs:extension base=&quot;xs:anySimpleType&quot;&gt;\n            &lt;xs:attribute name=&quot;type&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;/xs:extension&gt;\n    &lt;/xs:simpleContent&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;Parameter&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Name&quot;&gt;\n            &lt;xs:simpleType&gt;\n                &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n                    &lt;xs:maxLength value=&quot;256&quot;/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:element&gt;\n        &lt;xs:element name=&quot;Value&quot; type=&quot;ParameterValue&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>So the <code>value</code> property in <code>Parameter</code> class is of type <code>ParameterValue</code> that contains both type and actual value. This way I have a getter for the type, but type and value are &quot;decoupled&quot; now. I mean when marshaling, the type have to be set manually and it is not inferred from value.</p>\n<p>Is there a better way to deal with anySimpleType elements?</p>\n"},{"tags":["java","java-home","linkageerror"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1541014229,"post_id":53090590,"comment_id":93078295,"body_markdown":"The error suggests you are using Java 10. Which OS (+ version) are you using? I seem to vaguely recall a Linux distribution (don&#39;t know which one) has released Java 10 as if it was Java 11 with the eye on it being the Long Term Support version, so they could update it to real Java 11 once it was released.","body":"The error suggests you are using Java 10. Which OS (+ version) are you using? I seem to vaguely recall a Linux distribution (don&#39;t know which one) has released Java 10 as if it was Java 11 with the eye on it being the Long Term Support version, so they could update it to real Java 11 once it was released."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1541019276,"post_id":53090590,"comment_id":93080420,"body_markdown":"maybe specify the exact path to the javac executable and java app in case the the javac and java are different versions?","body":"maybe specify the exact path to the javac executable and java app in case the the javac and java are different versions?"},{"owner":{"account_id":14660326,"reputation":171,"user_id":10587729,"display_name":"Chris Anderson"},"score":0,"creation_date":1541024047,"post_id":53090590,"comment_id":93082043,"body_markdown":"@MarkRotteveel I&#39;m using Ubuntu 18.04. However I downloaded Java from Oracles website.","body":"@MarkRotteveel I&#39;m using Ubuntu 18.04. However I downloaded Java from Oracles website."},{"owner":{"account_id":14660326,"reputation":171,"user_id":10587729,"display_name":"Chris Anderson"},"score":0,"creation_date":1541024245,"post_id":53090590,"comment_id":93082111,"body_markdown":"@JGlass Yes that did it! Thanks :)","body":"@JGlass Yes that did it! Thanks :)"},{"owner":{"account_id":12285644,"reputation":594,"user_id":11224924,"display_name":"Tigerrrrr"},"score":0,"creation_date":1676658844,"post_id":53090590,"comment_id":133188729,"body_markdown":"What worked for me: Right Click Project Name, Click on &quot;Open Module Settings&quot;, Accept the experimental thing if it appears, click on the Project tab on the sidebar, change the SDK to the updated version that you want. Apply, press OK, and it should work.","body":"What worked for me: Right Click Project Name, Click on &quot;Open Module Settings&quot;, Accept the experimental thing if it appears, click on the Project tab on the sidebar, change the SDK to the updated version that you want. Apply, press OK, and it should work."}],"answers":[{"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1541095909,"post_id":53092741,"comment_id":93109317,"body_markdown":"Glad it worked for you!  With JBoss, I always hard code the path as it relies on specific java versions and our sys admins can&#39;t always be trusted to not update the java which would wreak havoc in production ;-)","body":"Glad it worked for you!  With JBoss, I always hard code the path as it relies on specific java versions and our sys admins can&#39;t always be trusted to not update the java which would wreak havoc in production ;-)"},{"owner":{"account_id":12285644,"reputation":594,"user_id":11224924,"display_name":"Tigerrrrr"},"score":0,"creation_date":1676577479,"post_id":53092741,"comment_id":133170440,"body_markdown":"So... how do I actually &quot;specify the full path to the javac and java executables when compiling and executing my program&quot;?","body":"So... how do I actually &quot;specify the full path to the javac and java executables when compiling and executing my program&quot;?"}],"tags":[],"owner":{"account_id":14660326,"reputation":171,"user_id":10587729,"display_name":"Chris Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1541024357,"creation_date":1541024357,"answer_id":53092741,"question_id":53090590,"body_markdown":"The problem is that the other downloaded versions of Java are reachable via my PATH variable. So after specifying the full path to the javac and java executables when compiling and executing my program it works.","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>The problem is that the other downloaded versions of Java are reachable via my PATH variable. So after specifying the full path to the javac and java executables when compiling and executing my program it works.</p>\n"},{"tags":[],"owner":{"account_id":19763013,"reputation":9,"user_id":14471681,"display_name":"sanku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605076505,"creation_date":1605076505,"answer_id":64781576,"question_id":53090590,"body_markdown":"This error also happens when you try to change the content of java .class file.\r\nbytecode verifier generates this error\r\neg.\r\n\r\nError: LinkageError occurred while loading main class Hello\r\n        java.lang.UnsupportedClassVersionError: Hello has been compiled by a more recent version of the Java Runtime (class file version 8251.8224), this version of the Java Runtime only recognizes class file versions up to 59.0","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>This error also happens when you try to change the content of java .class file.\nbytecode verifier generates this error\neg.</p>\n<p>Error: LinkageError occurred while loading main class Hello\njava.lang.UnsupportedClassVersionError: Hello has been compiled by a more recent version of the Java Runtime (class file version 8251.8224), this version of the Java Runtime only recognizes class file versions up to 59.0</p>\n"},{"tags":[],"owner":{"account_id":19335509,"reputation":23,"user_id":14136186,"display_name":"Giriraj Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653363481,"creation_date":1615620955,"answer_id":66611111,"question_id":53090590,"body_markdown":"use with sudo command for `update-alternatives --config javac` and `update-alternatives --config java`. So, you can choose the same version of java for compiler and runtime environment. \r\n\r\nI have also got same error after compiling my java program.\r\nI have screenshot ----&gt;\r\n[![SCREENSHOT][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ExSoy.png","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>use with sudo command for <code>update-alternatives --config javac</code> and <code>update-alternatives --config java</code>. So, you can choose the same version of java for compiler and runtime environment.</p>\n<p>I have also got same error after compiling my java program.\nI have screenshot ----&gt;\n<a href=\"https://i.stack.imgur.com/ExSoy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ExSoy.png\" alt=\"SCREENSHOT\" /></a></p>\n"},{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1655493032,"post_id":71104309,"comment_id":128353743,"body_markdown":"This worked for me but to improve it a little, if you need an specific version you can also select it from the dropdown menus &quot;generated .class files compatibility&quot; and &quot;source compatibility&quot;","body":"This worked for me but to improve it a little, if you need an specific version you can also select it from the dropdown menus &quot;generated .class files compatibility&quot; and &quot;source compatibility&quot;"},{"owner":{"account_id":12285644,"reputation":594,"user_id":11224924,"display_name":"Tigerrrrr"},"score":0,"creation_date":1676658835,"post_id":71104309,"comment_id":133188727,"body_markdown":"What worked for me: Right Click Project Name, Click on &quot;Open Module Settings&quot;, Accept the experimental thing if it appears, click on the Project tab on the sidebar, change the SDK to the updated version that you want. Apply, press OK, and it should work.","body":"What worked for me: Right Click Project Name, Click on &quot;Open Module Settings&quot;, Accept the experimental thing if it appears, click on the Project tab on the sidebar, change the SDK to the updated version that you want. Apply, press OK, and it should work."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1681941670,"post_id":71104309,"comment_id":134139939,"body_markdown":"Is this Answer using some particular IDE?","body":"Is this Answer using some particular IDE?"}],"tags":[],"owner":{"account_id":12964319,"reputation":69,"user_id":9372460,"display_name":"vinay"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1691399148,"creation_date":1644781875,"answer_id":71104309,"question_id":53090590,"body_markdown":"**I got this error in eclipse:** \r\n\r\n    LinkageError occurred while loading main class com.example.demo.SpringDemo1Application\r\n    \tjava.lang.UnsupportedClassVersionError: com/example/demo/SpringDemo1Application has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0\r\n\r\n 1. Right Click on Project Name\r\n 2. Select Properties\r\n 3. select Java Compiler\r\n 4. Click on Restore Defaults.\r\n 5. Apply and close.\r\n\r\nThis works for me.\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yurMu.png","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p><strong>I got this error in eclipse:</strong></p>\n<pre><code>LinkageError occurred while loading main class com.example.demo.SpringDemo1Application\n    java.lang.UnsupportedClassVersionError: com/example/demo/SpringDemo1Application has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0\n</code></pre>\n<ol>\n<li>Right Click on Project Name</li>\n<li>Select Properties</li>\n<li>select Java Compiler</li>\n<li>Click on Restore Defaults.</li>\n<li>Apply and close.</li>\n</ol>\n<p>This works for me.</p>\n<p><img src=\"https://i.stack.imgur.com/yurMu.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":13764705,"reputation":79,"user_id":9933536,"display_name":"Lahiru Samishka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675352041,"creation_date":1675352041,"answer_id":75325458,"question_id":53090590,"body_markdown":"I also get this error on my computer when running a 17 version of java spring boot project.\r\n\r\n    /mvnw spring-boot:run\r\n\r\nCheck your local java version. \r\n\r\n    java --version\r\n    openjdk 11.0.12 2021-07-20 LTS\r\n\r\nthe problem is I&#39;m starting the spring boot project was 17 java versions. the project has not required the version so I downgrade the java version on the spring boot project. \r\n\r\nI updated the pom.xml \r\n\r\n    &lt;properties&gt;\r\n\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\nafter that I run the spring boot project\r\n\r\n    /mvnw spring-boot:run\r\n\r\nmy program it works.","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>I also get this error on my computer when running a 17 version of java spring boot project.</p>\n<pre><code>/mvnw spring-boot:run\n</code></pre>\n<p>Check your local java version.</p>\n<pre><code>java --version\nopenjdk 11.0.12 2021-07-20 LTS\n</code></pre>\n<p>the problem is I'm starting the spring boot project was 17 java versions. the project has not required the version so I downgrade the java version on the spring boot project.</p>\n<p>I updated the pom.xml</p>\n<pre><code>&lt;properties&gt;\n&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>after that I run the spring boot project</p>\n<pre><code>/mvnw spring-boot:run\n</code></pre>\n<p>my program it works.</p>\n"},{"tags":[],"owner":{"account_id":27486285,"reputation":1,"user_id":20972472,"display_name":"Nagarjun BN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675524070,"creation_date":1675524042,"answer_id":75346102,"question_id":53090590,"body_markdown":"I also faced the same issue, all you need to do is to download the latest jdk in my case it is 19 and save it locally;\r\nThen, \r\nRight-click on Project in Eclipse(my IDE)\r\n      \r\nBuild Path-- Configure Build Path\r\n      \r\nJava Build Path-- Select the Libraries tab\r\n     \r\n Delete the existing jre version from ModulePath\r\n      \r\n(Make sure it is having any other version)\r\n      \r\nClick on Add Library-- select JRE System Library-- Next\r\n    \r\n  Click on Installed JREs, Add-- Standard VM-- click Next,\r\n     \r\n You will now see Add JRE dialog box, \r\n     \r\n Click on Directory of JRE Home, select the jdk 19 folder where you have downloaded it earlier.\r\n","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>I also faced the same issue, all you need to do is to download the latest jdk in my case it is 19 and save it locally;\nThen,\nRight-click on Project in Eclipse(my IDE)</p>\n<p>Build Path-- Configure Build Path</p>\n<p>Java Build Path-- Select the Libraries tab</p>\n<p>Delete the existing jre version from ModulePath</p>\n<p>(Make sure it is having any other version)</p>\n<p>Click on Add Library-- select JRE System Library-- Next</p>\n<p>Click on Installed JREs, Add-- Standard VM-- click Next,</p>\n<p>You will now see Add JRE dialog box,</p>\n<p>Click on Directory of JRE Home, select the jdk 19 folder where you have downloaded it earlier.</p>\n"},{"comments":[{"owner":{"account_id":6196744,"reputation":1541,"user_id":4827817,"accept_rate":83,"display_name":"Jaimin Modi"},"score":0,"creation_date":1692689825,"post_id":75367416,"comment_id":135654507,"body_markdown":"but it says there is only one version of java.. nothing to configure!","body":"but it says there is only one version of java.. nothing to configure!"}],"tags":[],"owner":{"account_id":24102677,"reputation":1,"user_id":18074295,"display_name":"Alice"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676201767,"creation_date":1675724380,"answer_id":75367416,"question_id":53090590,"body_markdown":"I encountered the same problem, and it was due to having multiple versions of Java installed. To resolve it, I utilized the following command:\r\n\r\n    sudo update-alternatives --config java","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>I encountered the same problem, and it was due to having multiple versions of Java installed. To resolve it, I utilized the following command:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681941919,"creation_date":1681941919,"answer_id":76059143,"question_id":53090590,"body_markdown":"`IntelliJ IDEA`+`Maven`:\r\n\r\nMy problem was that my Maven `.pom` specified one Java version, that was different from the &quot;Language Level&quot;/SDK set in IntelliJ Project &amp; Module Settings for my project - matching them all on the same version solved this same error for me.\r\n\r\nAlso be careful that any run configurations being used, have the correct version matching also.","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p><code>IntelliJ IDEA</code>+<code>Maven</code>:</p>\n<p>My problem was that my Maven <code>.pom</code> specified one Java version, that was different from the &quot;Language Level&quot;/SDK set in IntelliJ Project &amp; Module Settings for my project - matching them all on the same version solved this same error for me.</p>\n<p>Also be careful that any run configurations being used, have the correct version matching also.</p>\n"},{"tags":[],"owner":{"account_id":28732910,"reputation":1,"user_id":22004465,"display_name":"StackBilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685676652,"creation_date":1685676652,"answer_id":76386960,"question_id":53090590,"body_markdown":"My problem was that the java version I was using in intellij was different from the java version used by the system hence the difference in class file versions. All I had to do was change the java version in intellij to correspond with the system version and build the project again and it worked. ","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>My problem was that the java version I was using in intellij was different from the java version used by the system hence the difference in class file versions. All I had to do was change the java version in intellij to correspond with the system version and build the project again and it worked.</p>\n"},{"tags":[],"owner":{"account_id":19684434,"reputation":1,"user_id":14410746,"display_name":"Sofia Feijoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696605031,"creation_date":1696605031,"answer_id":77245565,"question_id":53090590,"body_markdown":"I had the same issue and the problem was that eve though the sdk configured in platform settings said corretto-16 (the java version that i needed), the path was pointing to java 11 that was also installed in my computer. I changed that path and that solved the issue.\r\n","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>I had the same issue and the problem was that eve though the sdk configured in platform settings said corretto-16 (the java version that i needed), the path was pointing to java 11 that was also installed in my computer. I changed that path and that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":12416415,"reputation":256,"user_id":9045679,"display_name":"jarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699976842,"creation_date":1699976842,"answer_id":77481992,"question_id":53090590,"body_markdown":"I encountered a similar issue while working on Eclipse. The error message &quot;JRE not compatible with workspace .class file compatibility:&quot; typically indicates a problem with the Java Runtime Environment (JRE) version compatibility within the Eclipse workspace.\r\nI was able to resolve the issue by following the steps below.\r\n\r\n - Select the project in Eclipse.\r\n - Right click and go to Properties.\r\n - Navigate to Java Compiler.\r\n - Change the compiler compliance level to match the installed JRE version in Eclipse.\r\n\r\n","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>I encountered a similar issue while working on Eclipse. The error message &quot;JRE not compatible with workspace .class file compatibility:&quot; typically indicates a problem with the Java Runtime Environment (JRE) version compatibility within the Eclipse workspace.\nI was able to resolve the issue by following the steps below.</p>\n<ul>\n<li>Select the project in Eclipse.</li>\n<li>Right click and go to Properties.</li>\n<li>Navigate to Java Compiler.</li>\n<li>Change the compiler compliance level to match the installed JRE version in Eclipse.</li>\n</ul>\n"}],"owner":{"account_id":14660326,"reputation":171,"user_id":10587729,"display_name":"Chris Anderson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75882,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53092741,"answer_count":11,"score":11,"last_activity_date":1699976842,"creation_date":1541013738,"question_id":53090590,"body_markdown":"This is my Java environment:\r\n\r\n    ~: java -version\r\n        java version &quot;11.0.1&quot; 2018-10-16 LTS\r\n        Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\r\n        Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\r\n\r\nBut when trying to execute a program after compiling it I get the following error:\r\n\r\n    Error: LinkageError occurred while loading main class ClassName\r\n    \tjava.lang.UnsupportedClassVersionError: ClassName has been \r\n        compiled by a more recent version of the Java Runtime \r\n        (class file version 55.0), this version of the Java Runtime \r\n        only recognizes class file versions up to 54.0\r\n\r\nMy PATH and JAVA_HOME variables both point to this version of java. I \r\nhave other versions downloaded but it seems they are not registered in the system: \r\n\r\n    update-alternatives --display java\r\n    java - auto mode\r\n      link best version is /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n      link currently points to /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n      link java is /usr/bin/java\r\n      slave java.1.gz is /usr/share/man/man1/java.1.gz\r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin/java - priority 1101\r\n      slave java.1.gz: /usr/lib/jvm/java-11-openjdk-amd64/man/man1/java.1.gz\r\n\r\nSo how come the compilation and execution are done with different versions?","title":"Why do I get LinkageError when only one version of Java seems to be available?","body":"<p>This is my Java environment:</p>\n\n<pre><code>~: java -version\n    java version \"11.0.1\" 2018-10-16 LTS\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\n</code></pre>\n\n<p>But when trying to execute a program after compiling it I get the following error:</p>\n\n<pre><code>Error: LinkageError occurred while loading main class ClassName\n    java.lang.UnsupportedClassVersionError: ClassName has been \n    compiled by a more recent version of the Java Runtime \n    (class file version 55.0), this version of the Java Runtime \n    only recognizes class file versions up to 54.0\n</code></pre>\n\n<p>My PATH and JAVA_HOME variables both point to this version of java. I \nhave other versions downloaded but it seems they are not registered in the system: </p>\n\n<pre><code>update-alternatives --display java\njava - auto mode\n  link best version is /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link currently points to /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link java is /usr/bin/java\n  slave java.1.gz is /usr/share/man/man1/java.1.gz\n/usr/lib/jvm/java-11-openjdk-amd64/bin/java - priority 1101\n  slave java.1.gz: /usr/lib/jvm/java-11-openjdk-amd64/man/man1/java.1.gz\n</code></pre>\n\n<p>So how come the compilation and execution are done with different versions?</p>\n"},{"tags":["java","flutter","android-studio","gradle","usb-debugging"],"comments":[{"owner":{"account_id":15940197,"reputation":185,"user_id":11502175,"display_name":"ryanhuang1124"},"score":0,"creation_date":1700110521,"post_id":77474258,"comment_id":136615195,"body_markdown":"Same issue here.Wait for solutions.","body":"Same issue here.Wait for solutions."}],"answers":[{"comments":[{"owner":{"account_id":26091834,"reputation":11,"user_id":19788595,"display_name":"Zeaforx"},"score":0,"creation_date":1699956255,"post_id":77474593,"comment_id":136592717,"body_markdown":"I had already done that my usb debugging is on and so is developer options","body":"I had already done that my usb debugging is on and so is developer options"}],"tags":[],"owner":{"account_id":26952294,"reputation":334,"user_id":20521312,"display_name":"Dhanusha Dilshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699885581,"creation_date":1699885581,"answer_id":77474593,"question_id":77474258,"body_markdown":"*You shoud keep enable developer mode on your devide.youc an enable it following bellow steps.\r\n\r\n    1.Go to you&#39;r device settings its mean you&#39;r android mobile.\r\n\r\n    2.And Goto about phone and you can see build number in here.\r\n\r\n    3.You can press it 5 time&#39;s and now you can enable you&#39;r developer option.\r\n\r\n* Follow this article by using this [link][1] you can got more details about it.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/debug/dev-options","title":"Flutter error Exception in thread &quot;main&quot; java.net.SocketException:","body":"<p>*You shoud keep enable developer mode on your devide.youc an enable it following bellow steps.</p>\n<pre><code>1.Go to you'r device settings its mean you'r android mobile.\n\n2.And Goto about phone and you can see build number in here.\n\n3.You can press it 5 time's and now you can enable you'r developer option.\n</code></pre>\n<ul>\n<li>Follow this article by using this <a href=\"https://developer.android.com/studio/debug/dev-options\" rel=\"nofollow noreferrer\">link</a> you can got more details about it.</li>\n</ul>\n"}],"owner":{"account_id":26091834,"reputation":11,"user_id":19788595,"display_name":"Zeaforx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699976834,"creation_date":1699882216,"question_id":77474258,"body_markdown":"I just got a new laptop and after installing flutter I tried to run it using USB debugging  but it keeps showing this error \r\n```\r\nLaunching lib\\main.dart on 123456ABC in debug mode...\r\nException in thread &quot;main&quot; java.net.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed \r\nbecause connected host has failed to respond\r\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:325)\r\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2902)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2811)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1927)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n        at org.gradle.wrapper.Download.download(Download.java:44)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:61)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nRunning Gradle task &#39;assembleDebug&#39;...                             55.7s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\n\r\nI ran flutter doctor and it shows no problem with my setup\r\n```\r\n[√] Flutter (Channel stable, 3.13.9, on Microsoft Windows [Version 10], locale en-US)\r\n[√] Windows Version (Installed version of Windows is version 10 or higher)\r\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\r\n[√] Chrome - develop for the web\r\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.7.6)\r\n[√] Android Studio (version 2022.2)\r\n[√] VS Code (version 1.79.2)\r\n[√] Connected device (4 available)\r\n[√] Network resources\r\n\r\n• No issues found!\r\n```\r\nI have used flutter multiple times on other systems but I have not had this problem.\r\nAlso saw a similar question but it was not really centered on flutter and so were the replies so I&#39;m asking one centered on flutter\r\n","title":"Flutter error Exception in thread &quot;main&quot; java.net.SocketException:","body":"<p>I just got a new laptop and after installing flutter I tried to run it using USB debugging  but it keeps showing this error</p>\n<pre><code>Launching lib\\main.dart on 123456ABC in debug mode...\nException in thread &quot;main&quot; java.net.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed \nbecause connected host has failed to respond\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:325)\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2902)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2811)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1927)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n        at org.gradle.wrapper.Download.download(Download.java:44)\n        at org.gradle.wrapper.Install$1.call(Install.java:61)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nRunning Gradle task 'assembleDebug'...                             55.7s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I ran flutter doctor and it shows no problem with my setup</p>\n<pre><code>[√] Flutter (Channel stable, 3.13.9, on Microsoft Windows [Version 10], locale en-US)\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n[√] Chrome - develop for the web\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.7.6)\n[√] Android Studio (version 2022.2)\n[√] VS Code (version 1.79.2)\n[√] Connected device (4 available)\n[√] Network resources\n\n• No issues found!\n</code></pre>\n<p>I have used flutter multiple times on other systems but I have not had this problem.\nAlso saw a similar question but it was not really centered on flutter and so were the replies so I'm asking one centered on flutter</p>\n"},{"tags":["java","android","android-animation"],"answers":[{"comments":[{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":7,"creation_date":1454403210,"post_id":22454966,"comment_id":58016475,"body_markdown":"@Natix I wouldn&#39;t call that super call redundant. Don&#39;t make superficial edits of there is nothing wrong.","body":"@Natix I wouldn&#39;t call that super call redundant. Don&#39;t make superficial edits of there is nothing wrong."},{"owner":{"display_name":"user3402040"},"score":5,"creation_date":1457711916,"post_id":22454966,"comment_id":59545779,"body_markdown":"Is good but the inverse not works correctly why ? view.setVisibility(View.VISIBLE); WITH alpha(1.0f), appear with 100 padding top ...","body":"Is good but the inverse not works correctly why ? view.setVisibility(View.VISIBLE); WITH alpha(1.0f), appear with 100 padding top ..."},{"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"score":25,"creation_date":1467659592,"post_id":22454966,"comment_id":63807458,"body_markdown":"Must clear animation before set visibility &gt;&gt; `view.clearAnimation();` `view.setVisibility(View.GONE);` otherwise layout will remain invisible and not gone.","body":"Must clear animation before set visibility &gt;&gt; <code>view.clearAnimation();</code> <code>view.setVisibility(View.GONE);</code> otherwise layout will remain invisible and not gone."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1467727072,"post_id":22454966,"comment_id":63834683,"body_markdown":"@Eftekhari That just happens because you use the old Animation framework instead of the newer animators.","body":"@Eftekhari That just happens because you use the old Animation framework instead of the newer animators."},{"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"score":0,"creation_date":1467727466,"post_id":22454966,"comment_id":63834960,"body_markdown":"@XaverKapeller ok. Thanks And any difference in performance with newer one?","body":"@XaverKapeller ok. Thanks And any difference in performance with newer one?"},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1467732438,"post_id":22454966,"comment_id":63838567,"body_markdown":"@Eftekhari Is performing animation such a complicated and intensive task that there even are performance considerations? I think not... Animators, are a much better, much simpler, more versatile API. They have been around for ages now, I cannot understand why you still use view animations.","body":"@Eftekhari Is performing animation such a complicated and intensive task that there even are performance considerations? I think not... Animators, are a much better, much simpler, more versatile API. They have been around for ages now, I cannot understand why you still use view animations."},{"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"score":0,"creation_date":1467736413,"post_id":22454966,"comment_id":63840928,"body_markdown":"`Is performing animation such a complicated and intensive task that there even are performance considerations?` I think they are at least with my little experience when tried to animate ListView full of inner items(inner layouts as you would probably know).\nCM cleaner and all the gallery apps that have animation inside them still have problems with lags and stuff like that.\n`I cannot understand why you still use view animations` if performance is not matter at all so why should I use new library as I never felt a need?","body":"<code>Is performing animation such a complicated and intensive task that there even are performance considerations?</code> I think they are at least with my little experience when tried to animate ListView full of inner items(inner layouts as you would probably know). CM cleaner and all the gallery apps that have animation inside them still have problems with lags and stuff like that. <code>I cannot understand why you still use view animations</code> if performance is not matter at all so why should I use new library as I never felt a need?"},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":2,"creation_date":1467793990,"post_id":22454966,"comment_id":63861869,"body_markdown":"@Eftekhari They are not at all resource intensive. And if you have an up to date Android version, but still experience lag than you probably have an older phone with low memory or a bad graphics chip. And I am not talking about a new library. Animators are native. They are part of the Android Framework. They have been released 5 years ago and today 97.9% of all devices support them. There is no reason not to use Animators or at least `ViewCompat.animate()` which is part of the support library and uses Animators on newer versions and View Animations on Android 3.0 and below.","body":"@Eftekhari They are not at all resource intensive. And if you have an up to date Android version, but still experience lag than you probably have an older phone with low memory or a bad graphics chip. And I am not talking about a new library. Animators are native. They are part of the Android Framework. They have been released 5 years ago and today 97.9% of all devices support them. There is no reason not to use Animators or at least <code>ViewCompat.animate()</code> which is part of the support library and uses Animators on newer versions and View Animations on Android 3.0 and below."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":1,"creation_date":1467793992,"post_id":22454966,"comment_id":63861871,"body_markdown":"But when 97.9% of all devices are Android 4.0 and up there isn&#39;t much of a usecase left for `ViewCompat.animate()`.","body":"But when 97.9% of all devices are Android 4.0 and up there isn&#39;t much of a usecase left for <code>ViewCompat.animate()</code>."},{"owner":{"account_id":1001865,"reputation":4245,"user_id":1016544,"accept_rate":27,"display_name":"Wahib Ul Haq"},"score":1,"creation_date":1543514298,"post_id":22454966,"comment_id":93956531,"body_markdown":"The key is to add `android:animateLayoutChanges=&quot;true&quot;` in the root node and not in the UI element you want to toggle visibility and see being animated","body":"The key is to add <code>android:animateLayoutChanges=&quot;true&quot;</code> in the root node and not in the UI element you want to toggle visibility and see being animated"}],"tags":[],"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"comment_count":10,"down_vote_count":2,"up_vote_count":886,"is_accepted":true,"score":884,"last_activity_date":1454429263,"creation_date":1395061262,"answer_id":22454966,"question_id":22454839,"body_markdown":"You can do two things to add animations, first you can let android animate layout changes for you. That way every time you change something in the layout like changing view visibility or view positions android will automatically create fade/transition animations. To use that set \r\n\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n\r\non the root node in your layout.\r\n\r\nYour second option would be to manually add animations. For this I suggest you use the new animation API introduced in Android 3.0 (Honeycomb). I can give you a few examples:\r\n\r\nThis fades out a `View`:\r\n\r\n    view.animate().alpha(0.0f);\r\n\r\nThis fades it back in:\r\n\r\n    view.animate().alpha(1.0f);\r\n\r\nThis moves a `View` down by its height:\r\n\r\n    view.animate().translationY(view.getHeight());\r\n\r\nThis returns the `View` to its starting position after it has been moved somewhere else:\r\n\r\n    view.animate().translationY(0);\r\n\r\nYou can also use `setDuration()` to set the duration of the animation. For example this fades out a `View` over a period of 2 seconds:\r\n\r\n    view.animate().alpha(0.0f).setDuration(2000);\r\n\r\nAnd you can combine as many animations as you like, for example this fades out a `View` and moves it down at the same time over a period of 0.3 seconds:\r\n\r\n    view.animate()\r\n            .translationY(view.getHeight())\r\n            .alpha(0.0f)\r\n            .setDuration(300);\r\n\r\nAnd you can also assign a listener to the animation and react to all kinds of events. Like when the animation starts, when it ends or repeats etc. By using the abstract class `AnimatorListenerAdapter` you don&#39;t have to implement all callbacks of `AnimatorListener` at once but only those you need. This makes the code more readable. For example the following code fades out a `View` moves it down by its height over a period of 0.3 seconds (300 milliseconds) and when the animation is done its visibility is set to `View.GONE`.\r\n\r\n    view.animate()\r\n            .translationY(view.getHeight())\r\n            .alpha(0.0f)\r\n            .setDuration(300)\r\n            .setListener(new AnimatorListenerAdapter() {\r\n                @Override\r\n                public void onAnimationEnd(Animator animation) {\r\n                    super.onAnimationEnd(animation);\r\n                    view.setVisibility(View.GONE);\r\n                }\r\n            });","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>You can do two things to add animations, first you can let android animate layout changes for you. That way every time you change something in the layout like changing view visibility or view positions android will automatically create fade/transition animations. To use that set </p>\n\n<pre><code>android:animateLayoutChanges=\"true\"\n</code></pre>\n\n<p>on the root node in your layout.</p>\n\n<p>Your second option would be to manually add animations. For this I suggest you use the new animation API introduced in Android 3.0 (Honeycomb). I can give you a few examples:</p>\n\n<p>This fades out a <code>View</code>:</p>\n\n<pre><code>view.animate().alpha(0.0f);\n</code></pre>\n\n<p>This fades it back in:</p>\n\n<pre><code>view.animate().alpha(1.0f);\n</code></pre>\n\n<p>This moves a <code>View</code> down by its height:</p>\n\n<pre><code>view.animate().translationY(view.getHeight());\n</code></pre>\n\n<p>This returns the <code>View</code> to its starting position after it has been moved somewhere else:</p>\n\n<pre><code>view.animate().translationY(0);\n</code></pre>\n\n<p>You can also use <code>setDuration()</code> to set the duration of the animation. For example this fades out a <code>View</code> over a period of 2 seconds:</p>\n\n<pre><code>view.animate().alpha(0.0f).setDuration(2000);\n</code></pre>\n\n<p>And you can combine as many animations as you like, for example this fades out a <code>View</code> and moves it down at the same time over a period of 0.3 seconds:</p>\n\n<pre><code>view.animate()\n        .translationY(view.getHeight())\n        .alpha(0.0f)\n        .setDuration(300);\n</code></pre>\n\n<p>And you can also assign a listener to the animation and react to all kinds of events. Like when the animation starts, when it ends or repeats etc. By using the abstract class <code>AnimatorListenerAdapter</code> you don't have to implement all callbacks of <code>AnimatorListener</code> at once but only those you need. This makes the code more readable. For example the following code fades out a <code>View</code> moves it down by its height over a period of 0.3 seconds (300 milliseconds) and when the animation is done its visibility is set to <code>View.GONE</code>.</p>\n\n<pre><code>view.animate()\n        .translationY(view.getHeight())\n        .alpha(0.0f)\n        .setDuration(300)\n        .setListener(new AnimatorListenerAdapter() {\n            @Override\n            public void onAnimationEnd(Animator animation) {\n                super.onAnimationEnd(animation);\n                view.setVisibility(View.GONE);\n            }\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":11,"creation_date":1473744852,"post_id":22454973,"comment_id":66246245,"body_markdown":"This displaces the view from its original position.","body":"This displaces the view from its original position."}],"tags":[],"owner":{"account_id":1080997,"reputation":3998,"user_id":1078003,"accept_rate":75,"display_name":"NullPointerException"},"comment_count":1,"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1395061280,"creation_date":1395061280,"answer_id":22454973,"question_id":22454839,"body_markdown":"Please check [this][1] link. Which will allow animations like L2R, R2L, T2B, B2T animations.\r\n\r\nThis code shows animation from left to right\r\n\r\n    TranslateAnimation animate = new TranslateAnimation(0,view.getWidth(),0,0);\r\n    animate.setDuration(500);\r\n    animate.setFillAfter(true);\r\n    view.startAnimation(animate);\r\n    view.setVisibility(View.GONE);\r\n\r\n\r\nif you want to do it from R2L then use \r\n\r\n    TranslateAnimation animate = new TranslateAnimation(0,-view.getWidth(),0,0);\r\n\r\n\r\n\r\nfor top to bottom as\r\n\r\n    TranslateAnimation animate = new TranslateAnimation(0,0,0,view.getHeight());\r\n\r\nand vice a versa..\r\n  [1]: http://colinyeoh.wordpress.com/2012/10/07/simple-android-animation-on-view-gonevisible/","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Please check <a href=\"http://colinyeoh.wordpress.com/2012/10/07/simple-android-animation-on-view-gonevisible/\" rel=\"noreferrer\">this</a> link. Which will allow animations like L2R, R2L, T2B, B2T animations.</p>\n\n<p>This code shows animation from left to right</p>\n\n<pre><code>TranslateAnimation animate = new TranslateAnimation(0,view.getWidth(),0,0);\nanimate.setDuration(500);\nanimate.setFillAfter(true);\nview.startAnimation(animate);\nview.setVisibility(View.GONE);\n</code></pre>\n\n<p>if you want to do it from R2L then use </p>\n\n<pre><code>TranslateAnimation animate = new TranslateAnimation(0,-view.getWidth(),0,0);\n</code></pre>\n\n<p>for top to bottom as</p>\n\n<pre><code>TranslateAnimation animate = new TranslateAnimation(0,0,0,view.getHeight());\n</code></pre>\n\n<p>and vice a versa..</p>\n"},{"comments":[{"owner":{"account_id":3068374,"reputation":7527,"user_id":2599596,"accept_rate":63,"display_name":"Naveen Kumar M"},"score":1,"creation_date":1472893123,"post_id":39206916,"comment_id":65943431,"body_markdown":"This one is the best answer","body":"This one is the best answer"},{"owner":{"account_id":513210,"reputation":2496,"user_id":915756,"accept_rate":73,"display_name":"Michal Vician"},"score":2,"creation_date":1500908186,"post_id":39206916,"comment_id":77529973,"body_markdown":"The `view.animate().setListener(null);` statement saved my day. This definitely seems to be a bug.","body":"The <code>view.animate().setListener(null);</code> statement saved my day. This definitely seems to be a bug."},{"owner":{"account_id":474434,"reputation":3373,"user_id":884113,"accept_rate":40,"display_name":"jiahao"},"score":0,"creation_date":1500963333,"post_id":39206916,"comment_id":77552096,"body_markdown":"@MichalVician Glad it did!","body":"@MichalVician Glad it did!"}],"tags":[],"owner":{"account_id":474434,"reputation":3373,"user_id":884113,"accept_rate":40,"display_name":"jiahao"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1478008725,"creation_date":1472475438,"answer_id":39206916,"question_id":22454839,"body_markdown":"Based on the answer of @Xaver Kapeller I figured out a way to create scroll animation when new views appear on the screen (and also animation to hide them).\r\n\r\nIt goes from this state:\r\n\r\n- Button\r\n- Last Button\r\n\r\nto \r\n\r\n- Button\r\n- Button 1\r\n- Button 2\r\n- Button 3\r\n- Button 4\r\n- Last Button\r\n\r\nand viceversa.\r\n\r\nSo, when the user clicks on the first button, the elements &quot;Button 1&quot;, &quot;Button 2&quot;, &quot;Button 3&quot; and &quot;Button 4&quot; will appear using fade animation and the element &quot;Last Button&quot; will move down till end. The height of the layout will change as well, allowing using scroll view properly.\r\n\r\nThis is the code to show elements with animation:\r\n\r\n    private void showElements() {\r\n        // Precondition\r\n        if (areElementsVisible()) {\r\n            Log.w(TAG, &quot;The view is already visible. Nothing to do here&quot;);\r\n            return;\r\n        }\r\n\r\n        // Animate the hidden linear layout as visible and set\r\n        // the alpha as 0.0. Otherwise the animation won&#39;t be shown\r\n        mHiddenLinearLayout.setVisibility(View.VISIBLE);\r\n        mHiddenLinearLayout.setAlpha(0.0f);\r\n        mHiddenLinearLayout\r\n                .animate()\r\n                .setDuration(ANIMATION_TRANSITION_TIME)\r\n                .alpha(1.0f)\r\n                .setListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        super.onAnimationEnd(animation);\r\n                        updateShowElementsButton();\r\n                        mHiddenLinearLayout.animate().setListener(null);\r\n                    }\r\n                })\r\n        ;\r\n\r\n        mLastButton\r\n                .animate()\r\n                .setDuration(ANIMATION_TRANSITION_TIME)\r\n                .translationY(mHiddenLinearLayoutHeight);\r\n\r\n        // Update the high of all the elements relativeLayout\r\n        LayoutParams layoutParams = mAllElementsRelativeLayout.getLayoutParams();\r\n\r\n        // TODO: Add vertical margins\r\n        layoutParams.height = mLastButton.getHeight() + mHiddenLinearLayoutHeight;\r\n    }\r\n\r\nand this is the code to hide elements of the animation:\r\n\r\n    private void hideElements() {\r\n        // Precondition\r\n        if (!areElementsVisible()) {\r\n            Log.w(TAG, &quot;The view is already non-visible. Nothing to do here&quot;);\r\n            return;\r\n        }\r\n\r\n        // Animate the hidden linear layout as visible and set\r\n        mHiddenLinearLayout\r\n                .animate()\r\n                .setDuration(ANIMATION_TRANSITION_TIME)\r\n                .alpha(0.0f)\r\n                .setListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        Log.v(TAG, &quot;Animation ended. Set the view as gone&quot;);\r\n                        super.onAnimationEnd(animation);\r\n                        mHiddenLinearLayout.setVisibility(View.GONE);\r\n                        // Hack: Remove the listener. So it won&#39;t be executed when\r\n                        // any other animation on this view is executed\r\n                        mHiddenLinearLayout.animate().setListener(null);\r\n                        updateShowElementsButton();\r\n                    }\r\n                })\r\n        ;\r\n\r\n        mLastButton\r\n                .animate()\r\n                .setDuration(ANIMATION_TRANSITION_TIME)\r\n                .translationY(0);\r\n\r\n        // Update the high of all the elements relativeLayout\r\n        LayoutParams layoutParams = mAllElementsRelativeLayout.getLayoutParams();\r\n\r\n        // TODO: Add vertical margins\r\n        layoutParams.height = mLastButton.getHeight();\r\n    }\r\n\r\nNote there is a simple hack on the method to hide the animation. On the animation listener mHiddenLinearLayout, I had to remove the listener itself by using: \r\n\r\n    mHiddenLinearLayout.animate().setListener(null);\r\n\r\nThis is because once an animation listener is attached to an view, the next time when any animation is executed in this view, the listener will be executed as well. This might be a bug in the animation listener.\r\n\r\nThe source code of the project is on GitHub:\r\nhttps://github.com/jiahaoliuliu/ViewsAnimated\r\n\r\nHappy coding!\r\n\r\n**Update**: For any listener attached to the views, it should be removed after the animation ends. This is done by using\r\n    \r\n    view.animate().setListener(null);","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Based on the answer of @Xaver Kapeller I figured out a way to create scroll animation when new views appear on the screen (and also animation to hide them).</p>\n\n<p>It goes from this state:</p>\n\n<ul>\n<li>Button</li>\n<li>Last Button</li>\n</ul>\n\n<p>to </p>\n\n<ul>\n<li>Button</li>\n<li>Button 1</li>\n<li>Button 2</li>\n<li>Button 3</li>\n<li>Button 4</li>\n<li>Last Button</li>\n</ul>\n\n<p>and viceversa.</p>\n\n<p>So, when the user clicks on the first button, the elements \"Button 1\", \"Button 2\", \"Button 3\" and \"Button 4\" will appear using fade animation and the element \"Last Button\" will move down till end. The height of the layout will change as well, allowing using scroll view properly.</p>\n\n<p>This is the code to show elements with animation:</p>\n\n<pre><code>private void showElements() {\n    // Precondition\n    if (areElementsVisible()) {\n        Log.w(TAG, \"The view is already visible. Nothing to do here\");\n        return;\n    }\n\n    // Animate the hidden linear layout as visible and set\n    // the alpha as 0.0. Otherwise the animation won't be shown\n    mHiddenLinearLayout.setVisibility(View.VISIBLE);\n    mHiddenLinearLayout.setAlpha(0.0f);\n    mHiddenLinearLayout\n            .animate()\n            .setDuration(ANIMATION_TRANSITION_TIME)\n            .alpha(1.0f)\n            .setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    super.onAnimationEnd(animation);\n                    updateShowElementsButton();\n                    mHiddenLinearLayout.animate().setListener(null);\n                }\n            })\n    ;\n\n    mLastButton\n            .animate()\n            .setDuration(ANIMATION_TRANSITION_TIME)\n            .translationY(mHiddenLinearLayoutHeight);\n\n    // Update the high of all the elements relativeLayout\n    LayoutParams layoutParams = mAllElementsRelativeLayout.getLayoutParams();\n\n    // TODO: Add vertical margins\n    layoutParams.height = mLastButton.getHeight() + mHiddenLinearLayoutHeight;\n}\n</code></pre>\n\n<p>and this is the code to hide elements of the animation:</p>\n\n<pre><code>private void hideElements() {\n    // Precondition\n    if (!areElementsVisible()) {\n        Log.w(TAG, \"The view is already non-visible. Nothing to do here\");\n        return;\n    }\n\n    // Animate the hidden linear layout as visible and set\n    mHiddenLinearLayout\n            .animate()\n            .setDuration(ANIMATION_TRANSITION_TIME)\n            .alpha(0.0f)\n            .setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    Log.v(TAG, \"Animation ended. Set the view as gone\");\n                    super.onAnimationEnd(animation);\n                    mHiddenLinearLayout.setVisibility(View.GONE);\n                    // Hack: Remove the listener. So it won't be executed when\n                    // any other animation on this view is executed\n                    mHiddenLinearLayout.animate().setListener(null);\n                    updateShowElementsButton();\n                }\n            })\n    ;\n\n    mLastButton\n            .animate()\n            .setDuration(ANIMATION_TRANSITION_TIME)\n            .translationY(0);\n\n    // Update the high of all the elements relativeLayout\n    LayoutParams layoutParams = mAllElementsRelativeLayout.getLayoutParams();\n\n    // TODO: Add vertical margins\n    layoutParams.height = mLastButton.getHeight();\n}\n</code></pre>\n\n<p>Note there is a simple hack on the method to hide the animation. On the animation listener mHiddenLinearLayout, I had to remove the listener itself by using: </p>\n\n<pre><code>mHiddenLinearLayout.animate().setListener(null);\n</code></pre>\n\n<p>This is because once an animation listener is attached to an view, the next time when any animation is executed in this view, the listener will be executed as well. This might be a bug in the animation listener.</p>\n\n<p>The source code of the project is on GitHub:\n<a href=\"https://github.com/jiahaoliuliu/ViewsAnimated\" rel=\"noreferrer\">https://github.com/jiahaoliuliu/ViewsAnimated</a></p>\n\n<p>Happy coding!</p>\n\n<p><strong>Update</strong>: For any listener attached to the views, it should be removed after the animation ends. This is done by using</p>\n\n<pre><code>view.animate().setListener(null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8778647,"reputation":2376,"user_id":6563022,"accept_rate":33,"display_name":"EdgeDev"},"score":1,"creation_date":1534694538,"post_id":51734316,"comment_id":90788619,"body_markdown":"this worked for me. My setup uses a constraint layout as root view. When the view is set to View.VISIBLE the animation is shown","body":"this worked for me. My setup uses a constraint layout as root view. When the view is set to View.VISIBLE the animation is shown"},{"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"score":0,"creation_date":1570460907,"post_id":51734316,"comment_id":102911440,"body_markdown":"very simple and elegant solution","body":"very simple and elegant solution"},{"owner":{"account_id":5398502,"reputation":758,"user_id":4298970,"accept_rate":50,"display_name":"Akshay Shah"},"score":0,"creation_date":1638392330,"post_id":51734316,"comment_id":124079263,"body_markdown":"This was just awesome. I needed a transition for a 3 state toggle switch and this worked like a charm. Thank you so very much !!!","body":"This was just awesome. I needed a transition for a 3 state toggle switch and this worked like a charm. Thank you so very much !!!"}],"tags":[],"owner":{"account_id":3446325,"reputation":1618,"user_id":2887074,"display_name":"Ricardo Romo"},"comment_count":3,"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1570459216,"creation_date":1533670882,"answer_id":51734316,"question_id":22454839,"body_markdown":"Try adding this line to the xml parent layout \r\n\r\n     android:animateLayoutChanges=&quot;true&quot;\r\n\r\nYour layout will look like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:animateLayoutChanges=&quot;true&quot;\r\n        android:longClickable=&quot;false&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;16&quot;&gt;\r\n\r\n        .......other code here\r\n\r\n        &lt;/LinearLayout&gt;","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Try adding this line to the xml parent layout </p>\n\n<pre><code> android:animateLayoutChanges=\"true\"\n</code></pre>\n\n<p>Your layout will look like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:animateLayoutChanges=\"true\"\n    android:longClickable=\"false\"\n    android:orientation=\"vertical\"\n    android:weightSum=\"16\"&gt;\n\n    .......other code here\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968134,"reputation":824,"user_id":991200,"display_name":"Nelson Almendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1534872753,"creation_date":1534872753,"answer_id":51953932,"question_id":22454839,"body_markdown":"I was able to show/hide a menu this way:\r\n\r\nMenuView.java (extends FrameLayout)\r\n\r\n    private final int ANIMATION_DURATION = 500;\r\n\r\n    public void showMenu()\r\n    {\r\n        setVisibility(View.VISIBLE);\r\n        animate()\r\n                .alpha(1f)\r\n                .setDuration(ANIMATION_DURATION)\r\n                .setListener(null);\r\n    }\r\n\r\n    private void hideMenu()\r\n    {\r\n        animate()\r\n                .alpha(0f)\r\n                .setDuration(ANIMATION_DURATION)\r\n                .setListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        setVisibility(View.GONE);\r\n                    }\r\n                });\r\n    }\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/animation/reveal-or-hide-view#CrossfadeAnimate &quot;Source&quot;","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>I was able to show/hide a menu this way:</p>\n\n<p>MenuView.java (extends FrameLayout)</p>\n\n<pre><code>private final int ANIMATION_DURATION = 500;\n\npublic void showMenu()\n{\n    setVisibility(View.VISIBLE);\n    animate()\n            .alpha(1f)\n            .setDuration(ANIMATION_DURATION)\n            .setListener(null);\n}\n\nprivate void hideMenu()\n{\n    animate()\n            .alpha(0f)\n            .setDuration(ANIMATION_DURATION)\n            .setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    setVisibility(View.GONE);\n                }\n            });\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/animation/reveal-or-hide-view#CrossfadeAnimate\" rel=\"noreferrer\" title=\"Source\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":1457682,"reputation":12211,"user_id":1372866,"display_name":"ashakirov"},"score":1,"creation_date":1564387126,"post_id":55648103,"comment_id":100999038,"body_markdown":"@TouhidulIslam no. This classes available in androidx package. Everything is backward compatible","body":"@TouhidulIslam no. This classes available in androidx package. Everything is backward compatible"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":9,"creation_date":1571269050,"post_id":55648103,"comment_id":103188134,"body_markdown":"What about expanding/collapsing a view group?","body":"What about expanding/collapsing a view group?"},{"owner":{"account_id":3221147,"reputation":4110,"user_id":2718577,"accept_rate":41,"display_name":"Jeongbebs"},"score":0,"creation_date":1586594018,"post_id":55648103,"comment_id":108186944,"body_markdown":"Can you do multiple `beginDelayedTransition`s?","body":"Can you do multiple <code>beginDelayedTransition</code>s?"}],"tags":[],"owner":{"account_id":1457682,"reputation":12211,"user_id":1372866,"display_name":"ashakirov"},"comment_count":3,"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1564386990,"creation_date":1555059906,"answer_id":55648103,"question_id":22454839,"body_markdown":"The easiest way to animate `Visibility` changes is use `Transition API` which available in support (androidx) package. Just call `TransitionManager.beginDelayedTransition` method then change visibility of the view. There are several default transitions like `Fade`, `Slide`. \r\n\r\n    import androidx.transition.TransitionManager;\r\n    import androidx.transition.Transition;\r\n    import androidx.transition.Fade;\r\n\r\n    private void toggle() {\r\n        Transition transition = new Fade();\r\n        transition.setDuration(600);\r\n        transition.addTarget(R.id.image);\r\n\r\n        TransitionManager.beginDelayedTransition(parent, transition);\r\n        image.setVisibility(show ? View.VISIBLE : View.GONE);\r\n    }\r\n\r\nWhere `parent` is parent `ViewGroup` of animated view. Result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is result with `Slide` transition:\r\n\r\n    import androidx.transition.Slide;\r\n\r\n    Transition transition = new Slide(Gravity.BOTTOM);\r\n        \r\n[![enter image description here][2]][2]\r\n\r\nIt is easy to write custom transition if you need something different. Here is example with `CircularRevealTransition` which I wrote in [another answer][3]. It shows and hide view with CircularReveal animation.\r\n\r\n    Transition transition = new CircularRevealTransition();\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n`android:animateLayoutChanges=&quot;true&quot;` option does same thing, it just uses [AutoTransition][5] as transition. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZKKX.gif\r\n  [2]: https://i.stack.imgur.com/PCk5w.gif\r\n  [3]: https://stackoverflow.com/a/54532839/1372866\r\n  [4]: https://i.stack.imgur.com/z4KxN.gif\r\n  [5]: https://developer.android.com/reference/androidx/transition/AutoTransition?hl=en","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>The easiest way to animate <code>Visibility</code> changes is use <code>Transition API</code> which available in support (androidx) package. Just call <code>TransitionManager.beginDelayedTransition</code> method then change visibility of the view. There are several default transitions like <code>Fade</code>, <code>Slide</code>. </p>\n\n<pre><code>import androidx.transition.TransitionManager;\nimport androidx.transition.Transition;\nimport androidx.transition.Fade;\n\nprivate void toggle() {\n    Transition transition = new Fade();\n    transition.setDuration(600);\n    transition.addTarget(R.id.image);\n\n    TransitionManager.beginDelayedTransition(parent, transition);\n    image.setVisibility(show ? View.VISIBLE : View.GONE);\n}\n</code></pre>\n\n<p>Where <code>parent</code> is parent <code>ViewGroup</code> of animated view. Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lZKKX.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lZKKX.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Here is result with <code>Slide</code> transition:</p>\n\n<pre><code>import androidx.transition.Slide;\n\nTransition transition = new Slide(Gravity.BOTTOM);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PCk5w.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PCk5w.gif\" alt=\"enter image description here\"></a></p>\n\n<p>It is easy to write custom transition if you need something different. Here is example with <code>CircularRevealTransition</code> which I wrote in <a href=\"https://stackoverflow.com/a/54532839/1372866\">another answer</a>. It shows and hide view with CircularReveal animation.</p>\n\n<pre><code>Transition transition = new CircularRevealTransition();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/z4KxN.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z4KxN.gif\" alt=\"enter image description here\"></a></p>\n\n<p><code>android:animateLayoutChanges=\"true\"</code> option does same thing, it just uses <a href=\"https://developer.android.com/reference/androidx/transition/AutoTransition?hl=en\" rel=\"noreferrer\">AutoTransition</a> as transition. </p>\n"},{"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1617949139,"post_id":65678192,"comment_id":118458278,"body_markdown":"How can i reduce animation speed?","body":"How can i reduce animation speed?"},{"owner":{"account_id":8085501,"reputation":930,"user_id":6093189,"accept_rate":67,"display_name":"Harish Reddy"},"score":0,"creation_date":1618248868,"post_id":65678192,"comment_id":118539935,"body_markdown":"That can be controlled by library level by now. Up vote if you find it helpful","body":"That can be controlled by library level by now. Up vote if you find it helpful"}],"tags":[],"owner":{"account_id":8085501,"reputation":930,"user_id":6093189,"accept_rate":67,"display_name":"Harish Reddy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610427024,"creation_date":1610427024,"answer_id":65678192,"question_id":22454839,"body_markdown":"Find the below code to make visible the view in Circuler reveal, if you send true, it&#39;ll get Invisible/Gone. If you send false, it&#39;ll get visible. anyView is the view you&#39;re going to visible/hide, it could be any view (Layouts, Buttons etc)\r\n\r\n     private fun toggle(flag: Boolean, anyView: View) {\r\n        if (flag) {\r\n            val cx = anyView.width / 2\r\n            val cy = anyView.height / 2\r\n            val initialRadius = Math.hypot(cx.toDouble(), cy.toDouble()).toFloat()\r\n            val anim = ViewAnimationUtils.createCircularReveal(anyView, cx, cy, initialRadius, 0f)\r\n            anim.addListener(object : AnimatorListenerAdapter() {\r\n                override fun onAnimationEnd(animation: Animator) {\r\n                    super.onAnimationEnd(animation)\r\n                    anyView.visibility = View.INVISIBLE\r\n                }\r\n            })\r\n            anim.start()\r\n        } else {\r\n            val cx = anyView.width / 2\r\n            val cy = anyView.height / 2\r\n            val finalRadius = Math.hypot(cx.toDouble(), cy.toDouble()).toFloat()\r\n            val anim = ViewAnimationUtils.createCircularReveal(anyView, cx, cy, 0f, finalRadius)\r\n            anyView.visibility = View.VISIBLE\r\n            anim.start()\r\n        }\r\n    }","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Find the below code to make visible the view in Circuler reveal, if you send true, it'll get Invisible/Gone. If you send false, it'll get visible. anyView is the view you're going to visible/hide, it could be any view (Layouts, Buttons etc)</p>\n<pre><code> private fun toggle(flag: Boolean, anyView: View) {\n    if (flag) {\n        val cx = anyView.width / 2\n        val cy = anyView.height / 2\n        val initialRadius = Math.hypot(cx.toDouble(), cy.toDouble()).toFloat()\n        val anim = ViewAnimationUtils.createCircularReveal(anyView, cx, cy, initialRadius, 0f)\n        anim.addListener(object : AnimatorListenerAdapter() {\n            override fun onAnimationEnd(animation: Animator) {\n                super.onAnimationEnd(animation)\n                anyView.visibility = View.INVISIBLE\n            }\n        })\n        anim.start()\n    } else {\n        val cx = anyView.width / 2\n        val cy = anyView.height / 2\n        val finalRadius = Math.hypot(cx.toDouble(), cy.toDouble()).toFloat()\n        val anim = ViewAnimationUtils.createCircularReveal(anyView, cx, cy, 0f, finalRadius)\n        anyView.visibility = View.VISIBLE\n        anim.start()\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21422121,"reputation":101,"user_id":15780151,"display_name":"Wadia SALEM"},"score":0,"creation_date":1679619361,"post_id":65822476,"comment_id":133758339,"body_markdown":"this is the best solution, it&#39;s simple and works as well. thank you.","body":"this is the best solution, it&#39;s simple and works as well. thank you."}],"tags":[],"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1611212322,"creation_date":1611212322,"answer_id":65822476,"question_id":22454839,"body_markdown":"Base on @ashakirov answer, here is my extension to show/hide view with fade animation \r\n\r\n    fun View.fadeVisibility(visibility: Int, duration: Long = 400) {\r\n        val transition: Transition = Fade()\r\n        transition.duration = duration\r\n        transition.addTarget(this)\r\n        TransitionManager.beginDelayedTransition(this.parent as ViewGroup, transition)\r\n        this.visibility = visibility\r\n    }\r\n\r\nExample using\r\n\r\n    view.fadeVisibility(View.VISIBLE)\r\n    view.fadeVisibility(View.GONE, 2000)","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Base on @ashakirov answer, here is my extension to show/hide view with fade animation</p>\n<pre><code>fun View.fadeVisibility(visibility: Int, duration: Long = 400) {\n    val transition: Transition = Fade()\n    transition.duration = duration\n    transition.addTarget(this)\n    TransitionManager.beginDelayedTransition(this.parent as ViewGroup, transition)\n    this.visibility = visibility\n}\n</code></pre>\n<p>Example using</p>\n<pre><code>view.fadeVisibility(View.VISIBLE)\nview.fadeVisibility(View.GONE, 2000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11190589,"reputation":267,"user_id":8211160,"display_name":"Романыч"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622957981,"creation_date":1622957981,"answer_id":67856091,"question_id":22454839,"body_markdown":"My solution extension\r\n\r\n\r\n    fun View.slideVisibility(visibility: Boolean, durationTime: Long = 300) {\r\n        val transition = Slide(Gravity.BOTTOM)\r\n        transition.apply {\r\n            duration = durationTime\r\n            addTarget(this@slideVisibility)\r\n        }\r\n        TransitionManager.beginDelayedTransition(this.parent as ViewGroup, transition)\r\n        this.isVisible = visibility\r\n        }\r\n\r\nUse:\r\n\r\n    textView.slideVisibility(true)","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>My solution extension</p>\n<pre><code>fun View.slideVisibility(visibility: Boolean, durationTime: Long = 300) {\n    val transition = Slide(Gravity.BOTTOM)\n    transition.apply {\n        duration = durationTime\n        addTarget(this@slideVisibility)\n    }\n    TransitionManager.beginDelayedTransition(this.parent as ViewGroup, transition)\n    this.isVisible = visibility\n    }\n</code></pre>\n<p>Use:</p>\n<pre><code>textView.slideVisibility(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697988764,"creation_date":1697988764,"answer_id":77340597,"question_id":22454839,"body_markdown":"a different version\r\n\r\n    fun View.fadeIn(\r\n            offset: Long = 0L,\r\n            duration: Long = 200L,\r\n            onStart: (() -&gt; Unit)? = null,\r\n            onFinish: (() -&gt; Unit)? = null\r\n    ) {\r\n        if (!isAttachedToWindow) {\r\n            onStart?.invoke()\r\n            visible()\r\n            onFinish?.invoke()\r\n            return\r\n        }\r\n        val anim = AnimationUtils.loadAnimation(context, android.R.anim.fade_in)\r\n        anim.startOffset = offset\r\n        anim.duration = duration\r\n        anim.setAnimationListener(object : Animation.AnimationListener {\r\n            override fun onAnimationRepeat(animation: Animation?) {}\r\n            override fun onAnimationEnd(animation: Animation?) = onFinish?.invoke() ?: Unit\r\n            override fun onAnimationStart(animation: Animation?) {\r\n                visible()\r\n                onStart?.invoke()\r\n            }\r\n        })\r\n        startAnimation(anim)\r\n    }\r\n    \r\n    fun View.fadeOut(\r\n            offset: Long = 0L,\r\n            duration: Long = 200L,\r\n            onStart: (() -&gt; Unit)? = null,\r\n            onFinish: (() -&gt; Unit)? = null\r\n    ) {\r\n        if (!isAttachedToWindow) {\r\n            onStart?.invoke()\r\n            invisible()\r\n            onFinish?.invoke()\r\n            return\r\n        }\r\n        val anim = AnimationUtils.loadAnimation(context, android.R.anim.fade_out)\r\n        anim.startOffset = offset\r\n        anim.duration = duration\r\n        anim.setAnimationListener(object : Animation.AnimationListener {\r\n            override fun onAnimationRepeat(animation: Animation?) {}\r\n            override fun onAnimationEnd(animation: Animation?) {\r\n                invisible()\r\n                onFinish?.invoke()\r\n            }\r\n    \r\n            override fun onAnimationStart(animation: Animation?) {\r\n                onStart?.invoke()\r\n            }\r\n        })\r\n        startAnimation(anim)\r\n    }","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>a different version</p>\n<pre><code>fun View.fadeIn(\n        offset: Long = 0L,\n        duration: Long = 200L,\n        onStart: (() -&gt; Unit)? = null,\n        onFinish: (() -&gt; Unit)? = null\n) {\n    if (!isAttachedToWindow) {\n        onStart?.invoke()\n        visible()\n        onFinish?.invoke()\n        return\n    }\n    val anim = AnimationUtils.loadAnimation(context, android.R.anim.fade_in)\n    anim.startOffset = offset\n    anim.duration = duration\n    anim.setAnimationListener(object : Animation.AnimationListener {\n        override fun onAnimationRepeat(animation: Animation?) {}\n        override fun onAnimationEnd(animation: Animation?) = onFinish?.invoke() ?: Unit\n        override fun onAnimationStart(animation: Animation?) {\n            visible()\n            onStart?.invoke()\n        }\n    })\n    startAnimation(anim)\n}\n\nfun View.fadeOut(\n        offset: Long = 0L,\n        duration: Long = 200L,\n        onStart: (() -&gt; Unit)? = null,\n        onFinish: (() -&gt; Unit)? = null\n) {\n    if (!isAttachedToWindow) {\n        onStart?.invoke()\n        invisible()\n        onFinish?.invoke()\n        return\n    }\n    val anim = AnimationUtils.loadAnimation(context, android.R.anim.fade_out)\n    anim.startOffset = offset\n    anim.duration = duration\n    anim.setAnimationListener(object : Animation.AnimationListener {\n        override fun onAnimationRepeat(animation: Animation?) {}\n        override fun onAnimationEnd(animation: Animation?) {\n            invisible()\n            onFinish?.invoke()\n        }\n\n        override fun onAnimationStart(animation: Animation?) {\n            onStart?.invoke()\n        }\n    })\n    startAnimation(anim)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28020987,"reputation":1,"user_id":21401803,"display_name":"Minh Việt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699976660,"creation_date":1699976660,"answer_id":77481975,"question_id":22454839,"body_markdown":"Success with: boolean show = false;\r\n\r\n    private void toggle() {\r\n\r\n    show = !show;\r\n\r\n    Transition transition = new Fade();\r\n    transition.setDuration(600);\r\n    transition.addTarget(R.id.image);\r\n\r\n    TransitionManager.beginDelayedTransition(parent, transition);\r\n    image.setVisibility(show ? View.VISIBLE : View.GONE);\r\n}\r\n","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>Success with: boolean show = false;</p>\n<pre><code>private void toggle() {\n\nshow = !show;\n\nTransition transition = new Fade();\ntransition.setDuration(600);\ntransition.addTarget(R.id.image);\n\nTransitionManager.beginDelayedTransition(parent, transition);\nimage.setVisibility(show ? View.VISIBLE : View.GONE);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4139507,"reputation":3517,"user_id":3395253,"accept_rate":30,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320841,"favorite_count":0,"down_vote_count":0,"up_vote_count":347,"accepted_answer_id":22454966,"answer_count":11,"score":347,"last_activity_date":1699976660,"creation_date":1395060874,"question_id":22454839,"body_markdown":"I have designed a simple layout.I have finished the design without animation, but now I want to add animations when textview click event and I don&#39;t know how to use it.\r\nDid my xml design looks good or not?\r\nAny suggestions would be appreciated.\r\n\r\n**My XML**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:longClickable=&quot;false&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;16&quot; &gt;\r\n        \r\n    &lt;LinearLayout \r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#00DDA0&quot;\r\n        android:layout_weight=&quot;3&quot; &gt;\r\n    &lt;/LinearLayout&gt;\r\n     &lt;TextView\r\n            android:id=&quot;@+id/Information1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1dp&quot; \r\n            android:text=&quot;Child Information&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n    \r\n     &lt;LinearLayout\r\n         android:id=&quot;@+id/layout1&quot;\r\n         android:layout_width=&quot;fill_parent&quot;\r\n         android:layout_height=&quot;0dp&quot;\r\n         android:layout_weight=&quot;8.5&quot;\r\n         android:background=&quot;#BBBBBB&quot;\r\n         android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n         &lt;TextView\r\n             android:id=&quot;@+id/textView1&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; /&gt;\r\n     &lt;/LinearLayout&gt;\r\n    \r\n      &lt;TextView\r\n            android:id=&quot;@+id/Information2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot; \r\n            android:text=&quot;Parent Information&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n      &lt;LinearLayout \r\n              android:id=&quot;@+id/layout2&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#BBBBBB&quot;\r\n        android:layout_weight=&quot;8.5&quot; &gt;\r\n         &lt;TextView\r\n             android:id=&quot;@+id/textView2&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; /&gt;\r\n    \t  &lt;/LinearLayout&gt;\r\n       &lt;TextView\r\n            android:id=&quot;@+id/Information3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot; \r\n            android:text=&quot;Siblings&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n       &lt;LinearLayout \r\n              android:id=&quot;@+id/layout3&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#BBBBBB&quot;\r\n        android:layout_weight=&quot;8.5&quot; &gt;\r\n         &lt;TextView\r\n             android:id=&quot;@+id/textView3&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; /&gt;\r\n    \t  &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Information4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot; \r\n            android:text=&quot;Teacher Information&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n        &lt;LinearLayout \r\n              android:id=&quot;@+id/layout4&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#BBBBBB&quot;\r\n        android:layout_weight=&quot;8.5&quot; &gt;\r\n         &lt;TextView\r\n             android:id=&quot;@+id/textView4&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; /&gt;\r\n    \t  &lt;/LinearLayout&gt;\r\n         &lt;TextView\r\n            android:id=&quot;@+id/Information5&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot; \r\n            android:text=&quot;Grade Information&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n         &lt;LinearLayout \r\n              android:id=&quot;@+id/layout5&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#BBBBBB&quot;\r\n        android:layout_weight=&quot;8.5&quot; &gt;\r\n         &lt;TextView\r\n             android:id=&quot;@+id/textView5&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; /&gt;\r\n    \t  &lt;/LinearLayout&gt;\r\n          &lt;TextView\r\n            android:id=&quot;@+id/Information6&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot; \r\n            android:text=&quot;Health Information&quot; \r\n            android:background=&quot;#0390BE&quot;\r\n            android:layout_weight=&quot;0.75&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:layout_gravity=&quot;center|fill_horizontal&quot;/&gt;\r\n          &lt;LinearLayout \r\n              android:id=&quot;@+id/layout6&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#BBBBBB&quot;\r\n        android:layout_weight=&quot;8.5&quot; &gt;\r\n        &lt;TextView\r\n             android:id=&quot;@+id/textView5&quot;\r\n             android:layout_width=&quot;match_parent&quot;\r\n             android:layout_height=&quot;match_parent&quot;        \r\n             android:text=&quot;TextView&quot; \r\n             android:layout_weight=&quot;8.5&quot; /&gt;\r\n    \t  &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**My java**\r\n\r\n    public class Certify_Info extends Activity {\r\n    \r\n    \tprivate static TextView tv2,tv3,tv5,tv6,tv4,tv1;\r\n    \tprivate static LinearLayout l1,l2,l3,l4,l5,l6;\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_certify__info);\r\n    \r\n    \t\ttv1=(TextView) findViewById(R.id.Information1);\r\n    \t\ttv2=(TextView) findViewById(R.id.Information2);\r\n    \t\ttv3=(TextView) findViewById(R.id.Information3);\r\n    \t\ttv4=(TextView) findViewById(R.id.Information4);\r\n    \t\ttv5=(TextView) findViewById(R.id.Information5);\r\n    \t\ttv6=(TextView) findViewById(R.id.Information6); \r\n    \r\n    \t\tl1=(LinearLayout) findViewById(R.id.layout1);\r\n    \t\tl2=(LinearLayout) findViewById(R.id.layout2);\r\n    \t\tl3=(LinearLayout) findViewById(R.id.layout3);\r\n    \t\tl4=(LinearLayout) findViewById(R.id.layout4);\r\n    \t\tl5=(LinearLayout) findViewById(R.id.layout5);\r\n    \t\tl6=(LinearLayout) findViewById(R.id.layout6); \r\n    \r\n    \t\tl2.setVisibility(View.GONE);\r\n    \t\tl3.setVisibility(View.GONE); \r\n    \t\tl4.setVisibility(View.GONE); \r\n    \t\tl5.setVisibility(View.GONE);\r\n    \t\tl6.setVisibility(View.GONE);\r\n    \r\n    \t\ttv1.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl2.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.GONE); \r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl5.setVisibility(View.GONE);\r\n    \t\t\t\tl6.setVisibility(View.GONE);\r\n    \t\t\t\tl1.setVisibility(View.VISIBLE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttv2.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl1.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.GONE); \r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl5.setVisibility(View.GONE);\r\n    \t\t\t\tl6.setVisibility(View.GONE);\r\n    \t\t\t\tl2.setVisibility(View.VISIBLE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttv3.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl1.setVisibility(View.GONE);\r\n    \t\t\t\tl2.setVisibility(View.GONE);\r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl5.setVisibility(View.GONE);\r\n    \t\t\t\tl6.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.VISIBLE);\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttv4.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl1.setVisibility(View.GONE);\r\n    \t\t\t\tl2.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.GONE); \r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl5.setVisibility(View.GONE);\r\n    \t\t\t\tl6.setVisibility(View.GONE);\r\n    \t\t\t\tl4.setVisibility(View.VISIBLE); \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttv5.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl1.setVisibility(View.GONE);\r\n    \t\t\t\tl2.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.GONE); \r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl6.setVisibility(View.GONE);\r\n    \t\t\t\tl5.setVisibility(View.VISIBLE); \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttv6.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tl1.setVisibility(View.GONE);\r\n    \t\t\t\tl2.setVisibility(View.GONE);\r\n    \t\t\t\tl3.setVisibility(View.GONE); \r\n    \t\t\t\tl4.setVisibility(View.GONE); \r\n    \t\t\t\tl5.setVisibility(View.GONE);\r\n    \t\t\t\tl6.setVisibility(View.VISIBLE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Android adding simple animations while setvisibility(view.Gone)","body":"<p>I have designed a simple layout.I have finished the design without animation, but now I want to add animations when textview click event and I don't know how to use it.\nDid my xml design looks good or not?\nAny suggestions would be appreciated.</p>\n\n<p><strong>My XML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:longClickable=\"false\"\n    android:orientation=\"vertical\"\n    android:weightSum=\"16\" &gt;\n\n&lt;LinearLayout \n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#00DDA0\"\n    android:layout_weight=\"3\" &gt;\n&lt;/LinearLayout&gt;\n &lt;TextView\n        android:id=\"@+id/Information1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\" \n        android:text=\"Child Information\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n\n &lt;LinearLayout\n     android:id=\"@+id/layout1\"\n     android:layout_width=\"fill_parent\"\n     android:layout_height=\"0dp\"\n     android:layout_weight=\"8.5\"\n     android:background=\"#BBBBBB\"\n     android:orientation=\"vertical\" &gt;\n\n     &lt;TextView\n         android:id=\"@+id/textView1\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" /&gt;\n &lt;/LinearLayout&gt;\n\n  &lt;TextView\n        android:id=\"@+id/Information2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\" \n        android:text=\"Parent Information\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n  &lt;LinearLayout \n          android:id=\"@+id/layout2\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#BBBBBB\"\n    android:layout_weight=\"8.5\" &gt;\n     &lt;TextView\n         android:id=\"@+id/textView2\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" /&gt;\n      &lt;/LinearLayout&gt;\n   &lt;TextView\n        android:id=\"@+id/Information3\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\" \n        android:text=\"Siblings\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n   &lt;LinearLayout \n          android:id=\"@+id/layout3\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#BBBBBB\"\n    android:layout_weight=\"8.5\" &gt;\n     &lt;TextView\n         android:id=\"@+id/textView3\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" /&gt;\n      &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:id=\"@+id/Information4\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\" \n        android:text=\"Teacher Information\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n    &lt;LinearLayout \n          android:id=\"@+id/layout4\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#BBBBBB\"\n    android:layout_weight=\"8.5\" &gt;\n     &lt;TextView\n         android:id=\"@+id/textView4\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" /&gt;\n      &lt;/LinearLayout&gt;\n     &lt;TextView\n        android:id=\"@+id/Information5\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\" \n        android:text=\"Grade Information\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n     &lt;LinearLayout \n          android:id=\"@+id/layout5\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#BBBBBB\"\n    android:layout_weight=\"8.5\" &gt;\n     &lt;TextView\n         android:id=\"@+id/textView5\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" /&gt;\n      &lt;/LinearLayout&gt;\n      &lt;TextView\n        android:id=\"@+id/Information6\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\" \n        android:text=\"Health Information\" \n        android:background=\"#0390BE\"\n        android:layout_weight=\"0.75\"\n        android:textColor=\"#FFFFFF\"\n        android:layout_gravity=\"center|fill_horizontal\"/&gt;\n      &lt;LinearLayout \n          android:id=\"@+id/layout6\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"0dp\"\n    android:orientation=\"vertical\"\n    android:background=\"#BBBBBB\"\n    android:layout_weight=\"8.5\" &gt;\n    &lt;TextView\n         android:id=\"@+id/textView5\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"        \n         android:text=\"TextView\" \n         android:layout_weight=\"8.5\" /&gt;\n      &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>My java</strong></p>\n\n<pre><code>public class Certify_Info extends Activity {\n\n    private static TextView tv2,tv3,tv5,tv6,tv4,tv1;\n    private static LinearLayout l1,l2,l3,l4,l5,l6;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_certify__info);\n\n        tv1=(TextView) findViewById(R.id.Information1);\n        tv2=(TextView) findViewById(R.id.Information2);\n        tv3=(TextView) findViewById(R.id.Information3);\n        tv4=(TextView) findViewById(R.id.Information4);\n        tv5=(TextView) findViewById(R.id.Information5);\n        tv6=(TextView) findViewById(R.id.Information6); \n\n        l1=(LinearLayout) findViewById(R.id.layout1);\n        l2=(LinearLayout) findViewById(R.id.layout2);\n        l3=(LinearLayout) findViewById(R.id.layout3);\n        l4=(LinearLayout) findViewById(R.id.layout4);\n        l5=(LinearLayout) findViewById(R.id.layout5);\n        l6=(LinearLayout) findViewById(R.id.layout6); \n\n        l2.setVisibility(View.GONE);\n        l3.setVisibility(View.GONE); \n        l4.setVisibility(View.GONE); \n        l5.setVisibility(View.GONE);\n        l6.setVisibility(View.GONE);\n\n        tv1.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l2.setVisibility(View.GONE);\n                l3.setVisibility(View.GONE); \n                l4.setVisibility(View.GONE); \n                l5.setVisibility(View.GONE);\n                l6.setVisibility(View.GONE);\n                l1.setVisibility(View.VISIBLE);\n            }\n        });\n        tv2.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l1.setVisibility(View.GONE);\n                l3.setVisibility(View.GONE); \n                l4.setVisibility(View.GONE); \n                l5.setVisibility(View.GONE);\n                l6.setVisibility(View.GONE);\n                l2.setVisibility(View.VISIBLE);\n            }\n        });\n        tv3.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l1.setVisibility(View.GONE);\n                l2.setVisibility(View.GONE);\n                l4.setVisibility(View.GONE); \n                l5.setVisibility(View.GONE);\n                l6.setVisibility(View.GONE);\n                l3.setVisibility(View.VISIBLE);\n\n            }\n        });\n        tv4.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l1.setVisibility(View.GONE);\n                l2.setVisibility(View.GONE);\n                l3.setVisibility(View.GONE); \n                l4.setVisibility(View.GONE); \n                l5.setVisibility(View.GONE);\n                l6.setVisibility(View.GONE);\n                l4.setVisibility(View.VISIBLE); \n            }\n        });\n        tv5.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l1.setVisibility(View.GONE);\n                l2.setVisibility(View.GONE);\n                l3.setVisibility(View.GONE); \n                l4.setVisibility(View.GONE); \n                l6.setVisibility(View.GONE);\n                l5.setVisibility(View.VISIBLE); \n            }\n        });\n        tv6.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                l1.setVisibility(View.GONE);\n                l2.setVisibility(View.GONE);\n                l3.setVisibility(View.GONE); \n                l4.setVisibility(View.GONE); \n                l5.setVisibility(View.GONE);\n                l6.setVisibility(View.VISIBLE);\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop","foreach","scope"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":4,"creation_date":1699971628,"post_id":77481267,"comment_id":136595580,"body_markdown":"Move to a well-named private method.  (Same for the other loops so it&#39;s clear what each step is supposed to do without having to read the code.)","body":"Move to a well-named private method.  (Same for the other loops so it&#39;s clear what each step is supposed to do without having to read the code.)"},{"owner":{"account_id":17832603,"reputation":109,"user_id":12952268,"display_name":"Stoil Terziev"},"score":0,"creation_date":1699972088,"post_id":77481267,"comment_id":136595691,"body_markdown":"trying to hide the index will be much more complex than just using fori","body":"trying to hide the index will be much more complex than just using fori"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1699972784,"post_id":77481267,"comment_id":136595849,"body_markdown":"Why are you worrying about this?","body":"Why are you worrying about this?"},{"owner":{"account_id":29900602,"reputation":1,"user_id":22914444,"display_name":"Good Lord"},"score":0,"creation_date":1699973634,"post_id":77481267,"comment_id":136596022,"body_markdown":"@MarkRotteveel quoting from one of the answers, &quot;However, I understand the desire to avoid this since future-developer may infer that it is being used elsewhere.&quot;","body":"@MarkRotteveel quoting from one of the answers, &quot;However, I understand the desire to avoid this since future-developer may infer that it is being used elsewhere.&quot;"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699973805,"post_id":77481267,"comment_id":136596062,"body_markdown":"I don&#39;t see that as a valid concern IMHO, or otherwise it means your method is doing too much and needs to be broken up into multiple methods.","body":"I don&#39;t see that as a valid concern IMHO, or otherwise it means your method is doing too much and needs to be broken up into multiple methods."},{"owner":{"account_id":29900602,"reputation":1,"user_id":22914444,"display_name":"Good Lord"},"score":0,"creation_date":1699974000,"post_id":77481267,"comment_id":136596116,"body_markdown":"@MarkRotteveel Yes, you are right. It needs to be in a separate method. Thats why I have accepted the answer that suggests to do that.","body":"@MarkRotteveel Yes, you are right. It needs to be in a separate method. Thats why I have accepted the answer that suggests to do that."}],"answers":[{"comments":[{"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"score":0,"creation_date":1699972434,"post_id":77481436,"comment_id":136595764,"body_markdown":"Note that you have to use Java 8 or above to use the streams API.","body":"Note that you have to use Java 8 or above to use the streams API."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699973015,"post_id":77481436,"comment_id":136595914,"body_markdown":"also Note that this is resulting in a new array, which will be lost when returning from that method, that is, nothing got sorted (Java is pass-by-value)","body":"also Note that this is resulting in a new array, which will be lost when returning from that method, that is, nothing got sorted (Java is pass-by-value)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699977425,"post_id":77481436,"comment_id":136596861,"body_markdown":"@user85421 good point, the method would have to be changed to return the array instead of void.","body":"@user85421 good point, the method would have to be changed to return the array instead of void."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699977465,"post_id":77481436,"comment_id":136596874,"body_markdown":"@roksui since Java 21 just came out I hope there aren&#39;t many people who still aren&#39;t even on Java 8.","body":"@roksui since Java 21 just came out I hope there aren&#39;t many people who still aren&#39;t even on Java 8."}],"tags":[],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699972335,"creation_date":1699972335,"answer_id":77481436,"question_id":77481267,"body_markdown":"One way could be to use streams:\r\n\r\n    a = buckets.stream().flatMap(List::stream).mapToInt(Integer::intValue).toArray();","title":"How to avoid declaring variable outside of enhanced for loop","body":"<p>One way could be to use streams:</p>\n<pre><code>a = buckets.stream().flatMap(List::stream).mapToInt(Integer::intValue).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699972871,"creation_date":1699972871,"answer_id":77481493,"question_id":77481267,"body_markdown":"First, there is nothing actually wrong with creating the variable outside the loop.  However, I understand the desire to avoid this since future-developer may infer that it is being used elsewhere.\r\n\r\n 1. Use traditional for loop. Your List is an ArrayList so iterating by index isn&#39;t a problem.\r\n 1. Move the logic into a separate method so the scope of the variable is obviously limited\r\n 1. Use the Stream API as shown in the answer from @wannaBeDev","title":"How to avoid declaring variable outside of enhanced for loop","body":"<p>First, there is nothing actually wrong with creating the variable outside the loop.  However, I understand the desire to avoid this since future-developer may infer that it is being used elsewhere.</p>\n<ol>\n<li>Use traditional for loop. Your List is an ArrayList so iterating by index isn't a problem.</li>\n<li>Move the logic into a separate method so the scope of the variable is obviously limited</li>\n<li>Use the Stream API as shown in the answer from @wannaBeDev</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699976383,"creation_date":1699973759,"answer_id":77481612,"question_id":77481267,"body_markdown":"Just stick it in a method to hide any local variables.\r\n```\r\nprivate void copy(int[] a, List&lt;List&lt;Integer&gt;&gt; buckets) {\r\n    int index = 0;\r\n    for (List&lt;Integer&gt; bucket : buckets) {\r\n        for (int el : bucket) {\r\n            a[index++] = el;\r\n        }\r\n    }\r\n}\r\n```\r\nBut you are trying to avoid a very common situation that even the best of coders have to accept. I would just leave it as it is or throw the `{}` around it as previously mentioned.","title":"How to avoid declaring variable outside of enhanced for loop","body":"<p>Just stick it in a method to hide any local variables.</p>\n<pre><code>private void copy(int[] a, List&lt;List&lt;Integer&gt;&gt; buckets) {\n    int index = 0;\n    for (List&lt;Integer&gt; bucket : buckets) {\n        for (int el : bucket) {\n            a[index++] = el;\n        }\n    }\n}\n</code></pre>\n<p>But you are trying to avoid a very common situation that even the best of coders have to accept. I would just leave it as it is or throw the <code>{}</code> around it as previously mentioned.</p>\n"}],"owner":{"account_id":29900602,"reputation":1,"user_id":22914444,"display_name":"Good Lord"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77481612,"answer_count":3,"score":-1,"last_activity_date":1699976383,"creation_date":1699971065,"question_id":77481267,"body_markdown":"I want to avoid using variable **index** outside of enhanced for loop as it is useless after the loop and pollutes the namespace but cannot find my way around it.\r\n\r\n**Problem**\r\n\r\n```\r\nint index = 0;        // I want to avoid using this variable outside the loop\r\nfor (List&lt;Integer&gt; bucket : buckets) {\r\n    for (int el : bucket) {\r\n        a[index++] = el;\r\n    }\r\n}\r\n```\r\n\r\n**Whole Code**\r\n\r\n```\r\npackage sort;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class BucketSort {\r\n    private BucketSort() {\r\n    }\r\n\r\n    private static int getMax(int[] a) {\r\n        int max = Integer.MIN_VALUE;\r\n\r\n        for (int el : a) {\r\n            max = Math.max(max, el);\r\n        }\r\n\r\n        return max;\r\n    }\r\n\r\n    public static void sort(int[] a, int k) {\r\n        int M = getMax(a) + 1;\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; buckets = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; k; i++) {\r\n            buckets.add(new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        for (int el : a) {\r\n            int bucketIndex = (int) Math.floor(k * (double) el / M);\r\n            buckets.get(bucketIndex).add(el);\r\n        }\r\n\r\n        for (List&lt;Integer&gt; bucket : buckets) {\r\n            Collections.sort(bucket);\r\n        }\r\n\r\n        int index = 0;\r\n        for (List&lt;Integer&gt; bucket : buckets) {\r\n            for (int el : bucket) {\r\n                a[index++] = el;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOne user on a similar question, suggested that a way to avoid the &quot;useless variable&quot; would be to wrap another block around the whole lot for local scoping\r\n\r\n```\r\n{\r\n    int index = 0;        \r\n    for (List&lt;Integer&gt; bucket : buckets) {\r\n        for (int el : bucket) {\r\n            a[index++] = el;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut I am not so sure about it.","title":"How to avoid declaring variable outside of enhanced for loop","body":"<p>I want to avoid using variable <strong>index</strong> outside of enhanced for loop as it is useless after the loop and pollutes the namespace but cannot find my way around it.</p>\n<p><strong>Problem</strong></p>\n<pre><code>int index = 0;        // I want to avoid using this variable outside the loop\nfor (List&lt;Integer&gt; bucket : buckets) {\n    for (int el : bucket) {\n        a[index++] = el;\n    }\n}\n</code></pre>\n<p><strong>Whole Code</strong></p>\n<pre><code>package sort;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class BucketSort {\n    private BucketSort() {\n    }\n\n    private static int getMax(int[] a) {\n        int max = Integer.MIN_VALUE;\n\n        for (int el : a) {\n            max = Math.max(max, el);\n        }\n\n        return max;\n    }\n\n    public static void sort(int[] a, int k) {\n        int M = getMax(a) + 1;\n\n        List&lt;List&lt;Integer&gt;&gt; buckets = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; k; i++) {\n            buckets.add(new ArrayList&lt;&gt;());\n        }\n\n        for (int el : a) {\n            int bucketIndex = (int) Math.floor(k * (double) el / M);\n            buckets.get(bucketIndex).add(el);\n        }\n\n        for (List&lt;Integer&gt; bucket : buckets) {\n            Collections.sort(bucket);\n        }\n\n        int index = 0;\n        for (List&lt;Integer&gt; bucket : buckets) {\n            for (int el : bucket) {\n                a[index++] = el;\n            }\n        }\n    }\n}\n</code></pre>\n<p>One user on a similar question, suggested that a way to avoid the &quot;useless variable&quot; would be to wrap another block around the whole lot for local scoping</p>\n<pre><code>{\n    int index = 0;        \n    for (List&lt;Integer&gt; bucket : buckets) {\n        for (int el : bucket) {\n            a[index++] = el;\n        }\n    }\n}\n</code></pre>\n<p>but I am not so sure about it.</p>\n"},{"tags":["java","spring-boot","rest","jackson","resttemplate"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1648738283,"post_id":71694545,"comment_id":126705780,"body_markdown":"You are overcomplicating it. You need to use different POJOs(classes) for different cases - `POJO1` for get, `POJO2` for post, and so on.","body":"You are overcomplicating it. You need to use different POJOs(classes) for different cases - <code>POJO1</code> for get, <code>POJO2</code> for post, and so on."},{"owner":{"account_id":22776887,"reputation":67,"user_id":16933400,"display_name":"Chaot1c"},"score":0,"creation_date":1648780558,"post_id":71694545,"comment_id":126716896,"body_markdown":"@Chaosfire Thanks for your reply! Does the solution you mentioned violates any design principle? Because almost all APIs I used have small differences in fields needed. Somehow I need to focus on the design pattern and principles when writing this application.","body":"@Chaosfire Thanks for your reply! Does the solution you mentioned violates any design principle? Because almost all APIs I used have small differences in fields needed. Somehow I need to focus on the design pattern and principles when writing this application."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1648798572,"post_id":71694545,"comment_id":126720308,"body_markdown":"Not any that i can think of. Having a `GodPOJO` to use everywhere, on the other hand, certanly is a code smell.","body":"Not any that i can think of. Having a <code>GodPOJO</code> to use everywhere, on the other hand, certanly is a code smell."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699976157,"creation_date":1699976157,"answer_id":77481929,"question_id":71694545,"body_markdown":"Jackson itself has a notion of a [@JsonView][1]. You can mark fields with that annotation and when (de)serializing you can tell it to work only with the fields of a specific view e.g. `ObjectMapper#writerWithView()`.\r\n\r\nWhile [SpringMVC does support JsonViews][2], I don&#39;t think RestTemplate does. And even if it did, it may be cleaner to just create 2 different classes and either extend one another or better - use composition together with [@JsonUnwrapped][3]. Relying heavily on views may result in more complicated/dirty classes.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonView.html\r\n  [2]: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html","title":"Is there a way to choose which fields to be serialized and deserialized when using RestTemplate.exchange() with jackson?","body":"<p>Jackson itself has a notion of a <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonView.html\" rel=\"nofollow noreferrer\">@JsonView</a>. You can mark fields with that annotation and when (de)serializing you can tell it to work only with the fields of a specific view e.g. <code>ObjectMapper#writerWithView()</code>.</p>\n<p>While <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html\" rel=\"nofollow noreferrer\">SpringMVC does support JsonViews</a>, I don't think RestTemplate does. And even if it did, it may be cleaner to just create 2 different classes and either extend one another or better - use composition together with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">@JsonUnwrapped</a>. Relying heavily on views may result in more complicated/dirty classes.</p>\n"}],"owner":{"account_id":22776887,"reputation":67,"user_id":16933400,"display_name":"Chaot1c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699976157,"creation_date":1648737663,"question_id":71694545,"body_markdown":"I&#39;m new to Spring Boot and now writing an app that consume some restful APIs.\r\nHowever, the API accept different fields in different HTTP request.\r\nNow I have used resttemplate&#39;s exchange() method (HttpMethod.GET) to deserialize it to a POJO User. However, when updating (HttpMethod.PUT), different class attributes need to be serialized. Simultaneously, when creating (HttpMethod.POST), anthor set of different fields are required.\r\nI&#39;ve tried to use the jackson&#39;s annotations to ignore some fields, but they&#39;re static. I need a way to decide which fields to be serialized and deserialized according to the HTTP method I use?\r\n","title":"Is there a way to choose which fields to be serialized and deserialized when using RestTemplate.exchange() with jackson?","body":"<p>I'm new to Spring Boot and now writing an app that consume some restful APIs.\nHowever, the API accept different fields in different HTTP request.\nNow I have used resttemplate's exchange() method (HttpMethod.GET) to deserialize it to a POJO User. However, when updating (HttpMethod.PUT), different class attributes need to be serialized. Simultaneously, when creating (HttpMethod.POST), anthor set of different fields are required.\nI've tried to use the jackson's annotations to ignore some fields, but they're static. I need a way to decide which fields to be serialized and deserialized according to the HTTP method I use?</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":1110246,"reputation":1615,"user_id":1100847,"accept_rate":75,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1531408778,"creation_date":1531408435,"answer_id":51309193,"question_id":51308608,"body_markdown":"You are confusing the report data with parameters.  I don&#39;t see that you have any report data, which is why you are getting an empty report.  Further, you are filling a *parameter* named &quot;Field&quot; instead of the actual report data.  So you either need to create a parameter called &quot;Field&quot; in your report, and then refer to it in the detail band, OR you need to pass the report data into your report something like\r\n\r\n    JRBeanCollectionDataSource data = new JRBeanCollectionDataSource(dataSet);\r\n    jasperPrint = JasperFillManager.fillReport(jasperReport, parameterMap, data);\r\n\r\nwhere `dataSet` is a collection, such as `List&lt;?&gt;`.  Within the List, you would have an object where one of the properties is `Field`.","title":"Jasper report blank page","body":"<p>You are confusing the report data with parameters.  I don't see that you have any report data, which is why you are getting an empty report.  Further, you are filling a <em>parameter</em> named \"Field\" instead of the actual report data.  So you either need to create a parameter called \"Field\" in your report, and then refer to it in the detail band, OR you need to pass the report data into your report something like</p>\n\n<pre><code>JRBeanCollectionDataSource data = new JRBeanCollectionDataSource(dataSet);\njasperPrint = JasperFillManager.fillReport(jasperReport, parameterMap, data);\n</code></pre>\n\n<p>where <code>dataSet</code> is a collection, such as <code>List&lt;?&gt;</code>.  Within the List, you would have an object where one of the properties is <code>Field</code>.</p>\n"},{"comments":[{"owner":{"account_id":7015648,"reputation":156,"user_id":5377098,"display_name":"Alison Moura"},"score":0,"creation_date":1684978289,"post_id":71441605,"comment_id":134597790,"body_markdown":"Worked for me, thaks.","body":"Worked for me, thaks."}],"tags":[],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647015920,"creation_date":1647015920,"answer_id":71441605,"question_id":51308608,"body_markdown":"I had also blank page (pdf). Even for the simplest report.&lt;br&gt;Until I sent empty datasource (&lt;b&gt;new JREmptyDataSource()&lt;/b&gt;)!&lt;br&gt;\r\nThis solved my problem:&lt;br&gt;\r\n\r\n    Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();\r\n    param.put(&quot;SOME_PARAM&quot;,&quot;something&quot;);\r\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, param, new JREmptyDataSource());\r\n\r\n\r\nExplanation [here][1].\r\n\r\n&gt; By default, when no datasource info is present in a report, JR generates no pages.\r\n\r\n\r\n  [1]: https://community.jaspersoft.com/questions/537650/blank-pdf-even-simplest-jrxml","title":"Jasper report blank page","body":"<p>I had also blank page (pdf). Even for the simplest report.<br>Until I sent empty datasource (<b>new JREmptyDataSource()</b>)!<br>\nThis solved my problem:<br></p>\n<pre><code>Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();\nparam.put(&quot;SOME_PARAM&quot;,&quot;something&quot;);\nJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, param, new JREmptyDataSource());\n</code></pre>\n<p>Explanation <a href=\"https://community.jaspersoft.com/questions/537650/blank-pdf-even-simplest-jrxml\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>By default, when no datasource info is present in a report, JR generates no pages.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29901527,"reputation":1,"user_id":22915164,"display_name":"Prabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699975943,"creation_date":1699975943,"answer_id":77481902,"question_id":51308608,"body_markdown":"I have encountered the empty page issue several times when calling a subreport from the main Jasper report. Please ensure that the subreport is called from the group header and refrain from calling it from the group footer. This solution has proven effective for me.","title":"Jasper report blank page","body":"<p>I have encountered the empty page issue several times when calling a subreport from the main Jasper report. Please ensure that the subreport is called from the group header and refrain from calling it from the group footer. This solution has proven effective for me.</p>\n"}],"owner":{"account_id":3963536,"reputation":2293,"user_id":3270097,"accept_rate":89,"display_name":"Ashish Banker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7297,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51309193,"answer_count":3,"score":5,"last_activity_date":1699975943,"creation_date":1531406741,"question_id":51308608,"body_markdown":"My jrxml and java code below . I am trying to create report with some text and values . However blank report is generated . I am pasing map to fill the report as parameter . I have to add 4-5 static lines and then one dynamic variable . I have added these thing in detailed band .whats wrong  \r\n\r\n   \t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;  ?&gt;\r\n\t\t&lt;!-- Created with iReport - A designer for JasperReports --&gt;\r\n\t\t&lt;!DOCTYPE jasperReport PUBLIC &quot;//JasperReports//DTD Report Design//EN&quot; &quot;http://jasperreports.sourceforge.net/dtds/jasperreport.dtd&quot;&gt;\r\n\t\t&lt;jasperReport\r\n\t\t\t\t name=&quot;Untitled_report_2&quot;\r\n\t\t\t\t columnCount=&quot;1&quot;\r\n\t\t\t\t printOrder=&quot;Vertical&quot;\r\n\t\t\t\t orientation=&quot;Portrait&quot;\r\n\t\t\t\t pageWidth=&quot;595&quot;\r\n\t\t\t\t pageHeight=&quot;842&quot;\r\n\t\t\t\t columnWidth=&quot;535&quot;\r\n\t\t\t\t columnSpacing=&quot;0&quot;\r\n\t\t\t\t leftMargin=&quot;30&quot;\r\n\t\t\t\t rightMargin=&quot;30&quot;\r\n\t\t\t\t topMargin=&quot;20&quot;\r\n\t\t\t\t bottomMargin=&quot;20&quot;\r\n\t\t\t\t whenNoDataType=&quot;NoPages&quot;\r\n\t\t\t\t isTitleNewPage=&quot;false&quot;\r\n\t\t\t\t isSummaryNewPage=&quot;false&quot;&gt;\r\n\t\t\t&lt;property name=&quot;ireport.scriptlethandling&quot; value=&quot;0&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;ireport.encoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t\t\t&lt;import value=&quot;java.util.*&quot; /&gt;\r\n\t\t\t&lt;import value=&quot;net.sf.jasperreports.engine.*&quot; /&gt;\r\n\t\t\t&lt;import value=&quot;net.sf.jasperreports.engine.data.*&quot; /&gt;\r\n\r\n\r\n\t\t\t&lt;field name=&quot;Field&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\r\n\t\t\t\t&lt;background&gt;\r\n\t\t\t\t\t&lt;band height=&quot;0&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/background&gt;\r\n\t\t\t\t&lt;title&gt;\r\n\t\t\t\t\t&lt;band height=&quot;50&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/title&gt;\r\n\t\t\t\t&lt;pageHeader&gt;\r\n\t\t\t\t\t&lt;band height=&quot;50&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/pageHeader&gt;\r\n\t\t\t\t&lt;columnHeader&gt;\r\n\t\t\t\t\t&lt;band height=&quot;30&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/columnHeader&gt;\r\n\t\t\t\t&lt;detail&gt;\r\n\t\t\t\t\t&lt;band height=&quot;100&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t&lt;reportElement\r\n\t\t\t\t\t\t\t\tx=&quot;20&quot;\r\n\t\t\t\t\t\t\t\ty=&quot;10&quot;\r\n\t\t\t\t\t\t\t\twidth=&quot;180&quot;\r\n\t\t\t\t\t\t\t\theight=&quot;30&quot;\r\n\t\t\t\t\t\t\t\tkey=&quot;staticText-1&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;box&gt;&lt;/box&gt;\r\n\t\t\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;font/&gt;\r\n\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[4-5 lines text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;textField isStretchWithOverflow=&quot;false&quot; isBlankWhenNull=&quot;false&quot; evaluationTime=&quot;Now&quot; hyperlinkType=&quot;None&quot;  hyperlinkTarget=&quot;Self&quot; &gt;\r\n\t\t\t\t\t\t\t&lt;reportElement\r\n\t\t\t\t\t\t\t\tx=&quot;20&quot;\r\n\t\t\t\t\t\t\t\ty=&quot;40&quot;\r\n\t\t\t\t\t\t\t\twidth=&quot;60&quot;\r\n\t\t\t\t\t\t\t\theight=&quot;20&quot;\r\n\t\t\t\t\t\t\t\tkey=&quot;textField-1&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;box&gt;&lt;/box&gt;\r\n\t\t\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;font/&gt;\r\n\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t&lt;textFieldExpression   class=&quot;java.lang.String&quot;&gt;&lt;![CDATA[$F{Field}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t&lt;reportElement\r\n\t\t\t\t\t\t\t\tx=&quot;20&quot;\r\n\t\t\t\t\t\t\t\ty=&quot;70&quot;\r\n\t\t\t\t\t\t\t\twidth=&quot;160&quot;\r\n\t\t\t\t\t\t\t\theight=&quot;30&quot;\r\n\t\t\t\t\t\t\t\tkey=&quot;staticText-2&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;box&gt;&lt;/box&gt;\r\n\t\t\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;font/&gt;\r\n\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[4-5 lines text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/detail&gt;\r\n\t\t\t\t&lt;columnFooter&gt;\r\n\t\t\t\t\t&lt;band height=&quot;30&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/columnFooter&gt;\r\n\t\t\t\t&lt;pageFooter&gt;\r\n\t\t\t\t\t&lt;band height=&quot;50&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/pageFooter&gt;\r\n\t\t\t\t&lt;lastPageFooter&gt;\r\n\t\t\t\t\t&lt;band height=&quot;50&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/lastPageFooter&gt;\r\n\t\t\t\t&lt;summary&gt;\r\n\t\t\t\t\t&lt;band height=&quot;50&quot;  isSplitAllowed=&quot;true&quot; &gt;\r\n\t\t\t\t\t&lt;/band&gt;\r\n\t\t\t\t&lt;/summary&gt;\r\n\t\t&lt;/jasperReport&gt;\r\n\r\n\r\nJava code :\r\n\r\n\t\tInputStream fileInput = getApplicationContext().getResource(&quot;/WEB-INF/reports/myjrxml.jrxml&quot;).getInputStream();\r\n\t\tJasperReport jasperReport = JasperCompileManager.compileReport(fileInput);\r\n\t\tHashMap map = new HashMap();\r\n\t\tmap.put(&quot;Field&quot;, &quot;test&quot;);\r\n\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, map);\r\n\t\tbyte[] output1 = JasperExportManager.exportReportToPdf(jasperPrint); \r\n\t\tString filename = &quot;d:/test.pdf&quot;;\r\n\t\tFileOutputStream fo = new FileOutputStream(filename);\r\n\t\tfo.write(output1);\r\n\t\tfo.close();","title":"Jasper report blank page","body":"<p>My jrxml and java code below . I am trying to create report with some text and values . However blank report is generated . I am pasing map to fill the report as parameter . I have to add 4-5 static lines and then one dynamic variable . I have added these thing in detailed band .whats wrong  </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"  ?&gt;\n    &lt;!-- Created with iReport - A designer for JasperReports --&gt;\n    &lt;!DOCTYPE jasperReport PUBLIC \"//JasperReports//DTD Report Design//EN\" \"http://jasperreports.sourceforge.net/dtds/jasperreport.dtd\"&gt;\n    &lt;jasperReport\n             name=\"Untitled_report_2\"\n             columnCount=\"1\"\n             printOrder=\"Vertical\"\n             orientation=\"Portrait\"\n             pageWidth=\"595\"\n             pageHeight=\"842\"\n             columnWidth=\"535\"\n             columnSpacing=\"0\"\n             leftMargin=\"30\"\n             rightMargin=\"30\"\n             topMargin=\"20\"\n             bottomMargin=\"20\"\n             whenNoDataType=\"NoPages\"\n             isTitleNewPage=\"false\"\n             isSummaryNewPage=\"false\"&gt;\n        &lt;property name=\"ireport.scriptlethandling\" value=\"0\" /&gt;\n        &lt;property name=\"ireport.encoding\" value=\"UTF-8\" /&gt;\n        &lt;import value=\"java.util.*\" /&gt;\n        &lt;import value=\"net.sf.jasperreports.engine.*\" /&gt;\n        &lt;import value=\"net.sf.jasperreports.engine.data.*\" /&gt;\n\n\n        &lt;field name=\"Field\" class=\"java.lang.String\"/&gt;\n\n            &lt;background&gt;\n                &lt;band height=\"0\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/background&gt;\n            &lt;title&gt;\n                &lt;band height=\"50\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/title&gt;\n            &lt;pageHeader&gt;\n                &lt;band height=\"50\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/pageHeader&gt;\n            &lt;columnHeader&gt;\n                &lt;band height=\"30\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/columnHeader&gt;\n            &lt;detail&gt;\n                &lt;band height=\"100\"  isSplitAllowed=\"true\" &gt;\n                    &lt;staticText&gt;\n                        &lt;reportElement\n                            x=\"20\"\n                            y=\"10\"\n                            width=\"180\"\n                            height=\"30\"\n                            key=\"staticText-1\"/&gt;\n                        &lt;box&gt;&lt;/box&gt;\n                        &lt;textElement&gt;\n                            &lt;font/&gt;\n                        &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[4-5 lines text]]&gt;&lt;/text&gt;\n                    &lt;/staticText&gt;\n                    &lt;textField isStretchWithOverflow=\"false\" isBlankWhenNull=\"false\" evaluationTime=\"Now\" hyperlinkType=\"None\"  hyperlinkTarget=\"Self\" &gt;\n                        &lt;reportElement\n                            x=\"20\"\n                            y=\"40\"\n                            width=\"60\"\n                            height=\"20\"\n                            key=\"textField-1\"/&gt;\n                        &lt;box&gt;&lt;/box&gt;\n                        &lt;textElement&gt;\n                            &lt;font/&gt;\n                        &lt;/textElement&gt;\n                    &lt;textFieldExpression   class=\"java.lang.String\"&gt;&lt;![CDATA[$F{Field}]]&gt;&lt;/textFieldExpression&gt;\n                    &lt;/textField&gt;\n                    &lt;staticText&gt;\n                        &lt;reportElement\n                            x=\"20\"\n                            y=\"70\"\n                            width=\"160\"\n                            height=\"30\"\n                            key=\"staticText-2\"/&gt;\n                        &lt;box&gt;&lt;/box&gt;\n                        &lt;textElement&gt;\n                            &lt;font/&gt;\n                        &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[4-5 lines text]]&gt;&lt;/text&gt;\n                    &lt;/staticText&gt;\n                &lt;/band&gt;\n            &lt;/detail&gt;\n            &lt;columnFooter&gt;\n                &lt;band height=\"30\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/columnFooter&gt;\n            &lt;pageFooter&gt;\n                &lt;band height=\"50\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/pageFooter&gt;\n            &lt;lastPageFooter&gt;\n                &lt;band height=\"50\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/lastPageFooter&gt;\n            &lt;summary&gt;\n                &lt;band height=\"50\"  isSplitAllowed=\"true\" &gt;\n                &lt;/band&gt;\n            &lt;/summary&gt;\n    &lt;/jasperReport&gt;\n</code></pre>\n\n<p>Java code :</p>\n\n<pre><code>    InputStream fileInput = getApplicationContext().getResource(\"/WEB-INF/reports/myjrxml.jrxml\").getInputStream();\n    JasperReport jasperReport = JasperCompileManager.compileReport(fileInput);\n    HashMap map = new HashMap();\n    map.put(\"Field\", \"test\");\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, map);\n    byte[] output1 = JasperExportManager.exportReportToPdf(jasperPrint); \n    String filename = \"d:/test.pdf\";\n    FileOutputStream fo = new FileOutputStream(filename);\n    fo.write(output1);\n    fo.close();\n</code></pre>\n"},{"tags":["java","android","kotlin","facebook"],"owner":{"account_id":28144830,"reputation":1,"user_id":21507297,"display_name":"user21507297"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699975847,"creation_date":1690979057,"question_id":76819862,"body_markdown":"I&#39;m an Android developer and currently, I&#39;m trying to develop a Facebook ad in my existing code now I want to develop like **preload ad**, and after some screens, I need to show it without asking for a request or loading an ad.\r\n\r\nIf I have a preloaded **Facebook native ad** then need to display a direct preloaded native ad if we don&#39;t have a preloaded ad then we will try to load a new Facebook native ad.\r\n\r\nHow can I solve this issue?\r\n\r\n*************************************************************************************************\r\n\r\nI tried with a local variable that I have declared **NativeAdLayout** and tried to store a layout in this one variable when the listener gives an ad loaded then I&#39;m doing store a layout but still not working.\r\n\r\n","title":"Facebook native preload ad","body":"<p>I'm an Android developer and currently, I'm trying to develop a Facebook ad in my existing code now I want to develop like <strong>preload ad</strong>, and after some screens, I need to show it without asking for a request or loading an ad.</p>\n<p>If I have a preloaded <strong>Facebook native ad</strong> then need to display a direct preloaded native ad if we don't have a preloaded ad then we will try to load a new Facebook native ad.</p>\n<p>How can I solve this issue?</p>\n<hr />\n<p>I tried with a local variable that I have declared <strong>NativeAdLayout</strong> and tried to store a layout in this one variable when the listener gives an ad loaded then I'm doing store a layout but still not working.</p>\n"},{"tags":["java","android","android-studio","android-safe-args"],"comments":[{"owner":{"account_id":3126933,"reputation":174,"user_id":2645626,"display_name":"TiagoPereira17"},"score":0,"creation_date":1700044784,"post_id":77481847,"comment_id":136605705,"body_markdown":"did you add the safeArgs plugin in the build file?\n\n`plugins {\n  id &#39;androidx.navigation.safeargs&#39;\n}`\n\nDocumentation: https://developer.android.com/jetpack/androidx/releases/navigation","body":"did you add the safeArgs plugin in the build file?  <code>plugins {   id &#39;androidx.navigation.safeargs&#39; }</code>  Documentation: <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/navigation</a>"},{"owner":{"account_id":16337959,"reputation":11,"user_id":11799599,"display_name":"Reza"},"score":0,"creation_date":1700139120,"post_id":77481847,"comment_id":136619414,"body_markdown":"@TiagoPereira17 yes i did it","body":"@TiagoPereira17 yes i did it"}],"owner":{"account_id":16337959,"reputation":11,"user_id":11799599,"display_name":"Reza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699975475,"creation_date":1699975475,"question_id":77481847,"body_markdown":"I want to add the Safe Args library to my project using Java. I add these in Android Studio, and it downloads and adds them automatically.\r\n\r\n```\r\n  def nav_version = &quot;2.7.5&quot;\r\n  // Java language implementation\r\n  implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n  implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n```\r\n\r\nBut when I try to add these to my project\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.7.5&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\n```\r\n\r\nAndroid Studio doesn&#39;t reach the download stage and encounters an error\r\n\r\n\r\n```\r\n\r\nNo matching variant of androidx.navigation:navigation-safe-args-gradle-plugin:2.7.5 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n\r\n```\r\n\r\nI&#39;ve been dealing with this issue for a while. Thank you in advance.\r\n\r\n\r\nI handed the project to someone else for testing, and it worked correctly for them. I don&#39;t know why I&#39;m encountering this issue.","title":"How can I add the Safe Args library to my project?","body":"<p>I want to add the Safe Args library to my project using Java. I add these in Android Studio, and it downloads and adds them automatically.</p>\n<pre><code>  def nav_version = &quot;2.7.5&quot;\n  // Java language implementation\n  implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n  implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n</code></pre>\n<p>But when I try to add these to my project</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.7.5&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\n</code></pre>\n<p>Android Studio doesn't reach the download stage and encounters an error</p>\n<pre><code>\nNo matching variant of androidx.navigation:navigation-safe-args-gradle-plugin:2.7.5 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n\n</code></pre>\n<p>I've been dealing with this issue for a while. Thank you in advance.</p>\n<p>I handed the project to someone else for testing, and it worked correctly for them. I don't know why I'm encountering this issue.</p>\n"},{"tags":["java","user-interface","lanterna"],"answers":[{"tags":[],"owner":{"account_id":13230225,"reputation":41,"user_id":9554095,"display_name":"George S."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699975397,"creation_date":1595210217,"answer_id":62987609,"question_id":62975715,"body_markdown":"ok, so after muddling blindly through the API for hours guessing here and there, I did this, which works but is probably clunky or smells, so please feel free to improve on my own answer.\r\n\r\n    private MultiWindowTextGUI mwtg;\r\n    private BasicWindow bw;\r\n    private CheckBoxList&lt;String&gt; checkBoxList;\r\n    private List&lt;String&gt; checkedItems;\r\n    Terminal terminal = new DefaultTerminalFactory().createTerminal();\r\n    TerminalScreen screen = new TerminalScreen(terminal);\r\n    MultiWindowTextGUI mwtg = new MultiWindowTextGUI​(screen);\r\n    this.checkBoxList = new CheckBoxList&lt;String&gt;();\r\n    this.checkBoxList.addItem(&quot;item1&quot;);\r\n    this.checkBoxList.addItem(&quot;item2&quot;);\r\n    this.checkBoxList.addItem(&quot;item3&quot;);\r\n    this.checkBoxList.addListener((sel, prev) -&gt;\r\n        { this.checkedItems = this.checkBoxList.getCheckedItems​(); }\r\n    );\r\n    Panel panel = new Panel();\r\n    panel.setLayoutManager(new GridLayout(4));\r\n    panel.addComponent(this.checkBoxList);\r\n    Button button = new Button(&quot;Done&quot;, () -&gt; this.bw.close());\r\n    button.addTo​(panel);\r\n    this.bw = new BasicWindow(&quot;Choices&quot;);\r\n    this.bw.setComponent(panel);\r\n    this.mwtg.addWindowAndWait(this.bw);\r\n\r\nI hope this may be useful for someone...","title":"Lanterna- how do you create a simple CheckBox menu?","body":"<p>ok, so after muddling blindly through the API for hours guessing here and there, I did this, which works but is probably clunky or smells, so please feel free to improve on my own answer.</p>\n<pre><code>private MultiWindowTextGUI mwtg;\nprivate BasicWindow bw;\nprivate CheckBoxList&lt;String&gt; checkBoxList;\nprivate List&lt;String&gt; checkedItems;\nTerminal terminal = new DefaultTerminalFactory().createTerminal();\nTerminalScreen screen = new TerminalScreen(terminal);\nMultiWindowTextGUI mwtg = new MultiWindowTextGUI​(screen);\nthis.checkBoxList = new CheckBoxList&lt;String&gt;();\nthis.checkBoxList.addItem(&quot;item1&quot;);\nthis.checkBoxList.addItem(&quot;item2&quot;);\nthis.checkBoxList.addItem(&quot;item3&quot;);\nthis.checkBoxList.addListener((sel, prev) -&gt;\n    { this.checkedItems = this.checkBoxList.getCheckedItems​(); }\n);\nPanel panel = new Panel();\npanel.setLayoutManager(new GridLayout(4));\npanel.addComponent(this.checkBoxList);\nButton button = new Button(&quot;Done&quot;, () -&gt; this.bw.close());\nbutton.addTo​(panel);\nthis.bw = new BasicWindow(&quot;Choices&quot;);\nthis.bw.setComponent(panel);\nthis.mwtg.addWindowAndWait(this.bw);\n</code></pre>\n<p>I hope this may be useful for someone...</p>\n"}],"owner":{"account_id":13230225,"reputation":41,"user_id":9554095,"display_name":"George S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699975397,"creation_date":1595126451,"question_id":62975715,"body_markdown":"So far I have \r\n\r\n    Terminal terminal = new DefaultTerminalFactory().createTerminal();\r\n    TerminalScreen screen = new TerminalScreen(terminal);\r\n    MultiWindowTextGUI mwtg = new MultiWindowTextGUI​(screen);\r\n    \r\n    CheckBoxList checkBoxList = new CheckBoxList&lt;String&gt;();\r\n    checkBoxList.addItem(&quot;Check one&quot;);\r\n    checkBoxList.addItem(&quot;Check two&quot;);\r\n\r\nWhat I can&#39;t figure out is how to add `checkBoxList` directly to `mwtg`\r\n\r\nMany thanks for your help","title":"Lanterna- how do you create a simple CheckBox menu?","body":"<p>So far I have</p>\n<pre><code>Terminal terminal = new DefaultTerminalFactory().createTerminal();\nTerminalScreen screen = new TerminalScreen(terminal);\nMultiWindowTextGUI mwtg = new MultiWindowTextGUI​(screen);\n\nCheckBoxList checkBoxList = new CheckBoxList&lt;String&gt;();\ncheckBoxList.addItem(&quot;Check one&quot;);\ncheckBoxList.addItem(&quot;Check two&quot;);\n</code></pre>\n<p>What I can't figure out is how to add <code>checkBoxList</code> directly to <code>mwtg</code></p>\n<p>Many thanks for your help</p>\n"},{"tags":["java","intellij-idea","ide","runtime-error","executable-jar"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1694520448,"post_id":77088943,"comment_id":135898979,"body_markdown":"I don&#39;t see any attempt to include the dependency jars in your final jar. You will either have to build a fat jar (you can google that term) or include the dependency jars in the runtime classpath.","body":"I don&#39;t see any attempt to include the dependency jars in your final jar. You will either have to build a fat jar (you can google that term) or include the dependency jars in the runtime classpath."},{"owner":{"account_id":29422461,"reputation":1,"user_id":22543906,"display_name":"Alexander"},"score":0,"creation_date":1694551990,"post_id":77088943,"comment_id":135905666,"body_markdown":"Okay, but I tried to run the shadow jar (Uber/fat jar) without success unfortunately","body":"Okay, but I tried to run the shadow jar (Uber/fat jar) without success unfortunately"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694605806,"post_id":77088943,"comment_id":135912733,"body_markdown":"&quot;Shadow JAR&quot; - don&#39;t know what that is.  You have not packaged your app correctly.  https://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/","body":"&quot;Shadow JAR&quot; - don&#39;t know what that is.  You have not packaged your app correctly.  <a href=\"https://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/guide/tutorials/hello-world/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3243017,"reputation":131,"user_id":2735518,"display_name":"Antonio Altieri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699975281,"creation_date":1699975281,"answer_id":77481825,"question_id":77088943,"body_markdown":"I fixed the same issue by adding this line to my dependencies:\r\n\r\n    implementation &#39;org.eclipse.jetty:jetty-alpn-java-server:11.0.18&#39;\r\n\r\nIt seems to be a problem with the dependency imported by Javalin-SSL.\r\n","title":"Problem with running Project outside of IDE","body":"<p>I fixed the same issue by adding this line to my dependencies:</p>\n<pre><code>implementation 'org.eclipse.jetty:jetty-alpn-java-server:11.0.18'\n</code></pre>\n<p>It seems to be a problem with the dependency imported by Javalin-SSL.</p>\n"}],"owner":{"account_id":29422461,"reputation":1,"user_id":22543906,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699975281,"creation_date":1694520341,"question_id":77088943,"body_markdown":"My question is the following: When i start my programm inside my IDE (IntelliJ) via the run main class button, my project just works fine. I later found out that when i shadow Jar my project and try to run it outside of my IDE (IntelliJ) it throws me an error that some type of Class was not found. I alreay tried to use the artifact build system of my IDE (IntelliJ) but no success. I apperiate any help!\r\n\r\n**Pictures:**\r\n\r\nRunning inside my IDE:\r\n[running my programm inside my ide](https://i.stack.imgur.com/fTM8U.png)\r\n\r\n\r\nRunning my Shadow Jar outside of my IDE:\r\n[running my jar outside of intellij](https://i.stack.imgur.com/c4WZi.png)\r\n\r\n\r\n**Error when running outside of IntelliJ:**\r\n```\r\n[etp239465106-49] WARN org.eclipse.jetty.io.ManagedSelector - Could not accept java.nio.channels.SocketChannel[closed]: java.lang.IllegalStateException: Connection rejected: No ALPN Processor for sun.security.ssl.SSLEngineImpl from [org.eclipse.jetty.alpn.conscrypt.server.ConscryptServerALPNProcessor@3af94f7b]\r\n```\r\n\r\n\r\n**My gradle.build file:**\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;8.1.1&quot;\r\n}\r\n\r\ngroup = &#39;me.alex&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n}\r\n\r\ndependencies {\r\n    implementation (&#39;com.github.GoldenGamerLP:DependencyLoader:eed2460e41&#39;) {\r\n        exclude module: &#39;DependencyExamples&#39;\r\n    }\r\n\r\n    annotationProcessor(&#39;com.github.GoldenGamerLP:DependencyLoader:eed2460e41&#39;) {\r\n        exclude module: &#39;DependencyExamples&#39;\r\n    }\r\n\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.7&#39;\r\n    //Javalin\r\n    implementation &#39;io.javalin:javalin:5.6.2&#39;\r\n\r\n    implementation &#39;com.github.HttpMarco:Aeon:-SNAPSHOT&#39;\r\n    //JsonParser\r\n    implementation &#39;com.google.code.gson:gson:2.8.8&#39;\r\n\r\n    //Lombok\r\n    implementation &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    //OpenAPI\r\n    compileOnly &#39;io.javalin.community.openapi:javalin-openapi-plugin:5.6.2&#39;\r\n\r\n    implementation &#39;io.javalin.community.ssl:ssl-plugin:5.6.2&#39;\r\n\r\n    implementation (&#39;org.eclipse.jetty:jetty-nosql:11.0.15&#39;) {\r\n        exclude group: &#39;org.mongodb&#39;\r\n    }\r\n\r\n    compileOnly &#39;org.mongodb:mongodb-driver-sync:4.6.0&#39;\r\n}\r\n\r\n//Manifest\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;me.alex.app.street14endpoint.EndpointBootstrap&#39;,\r\n                &#39;Multi-Release&#39;: true\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately my project is private, but feel free to ask for anything regarding the code!\r\n\r\n\r\n# I tried to:\r\n\r\n1. Build a Shadow/Uber/Fat Jar and running it (which gives the error message)\r\n1. Give the jar full permissions\r\n2. Reporgramed it several times\r\n3. I asked my tech teacher for advice but he did not knew anything regarding this issue\r\n4. I opened an issue on github for the ssl plugin, but no one answered yet\r\n5. I spoke to the discord members on their discord, they came to the conclusion that its my fault. (I dont know whats wrong)","title":"Problem with running Project outside of IDE","body":"<p>My question is the following: When i start my programm inside my IDE (IntelliJ) via the run main class button, my project just works fine. I later found out that when i shadow Jar my project and try to run it outside of my IDE (IntelliJ) it throws me an error that some type of Class was not found. I alreay tried to use the artifact build system of my IDE (IntelliJ) but no success. I apperiate any help!</p>\n<p><strong>Pictures:</strong></p>\n<p>Running inside my IDE:\n<a href=\"https://i.stack.imgur.com/fTM8U.png\" rel=\"nofollow noreferrer\">running my programm inside my ide</a></p>\n<p>Running my Shadow Jar outside of my IDE:\n<a href=\"https://i.stack.imgur.com/c4WZi.png\" rel=\"nofollow noreferrer\">running my jar outside of intellij</a></p>\n<p><strong>Error when running outside of IntelliJ:</strong></p>\n<pre><code>[etp239465106-49] WARN org.eclipse.jetty.io.ManagedSelector - Could not accept java.nio.channels.SocketChannel[closed]: java.lang.IllegalStateException: Connection rejected: No ALPN Processor for sun.security.ssl.SSLEngineImpl from [org.eclipse.jetty.alpn.conscrypt.server.ConscryptServerALPNProcessor@3af94f7b]\n</code></pre>\n<p><strong>My gradle.build file:</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;8.1.1&quot;\n}\n\ngroup = 'me.alex'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    implementation ('com.github.GoldenGamerLP:DependencyLoader:eed2460e41') {\n        exclude module: 'DependencyExamples'\n    }\n\n    annotationProcessor('com.github.GoldenGamerLP:DependencyLoader:eed2460e41') {\n        exclude module: 'DependencyExamples'\n    }\n\n    implementation 'org.slf4j:slf4j-simple:2.0.7'\n    //Javalin\n    implementation 'io.javalin:javalin:5.6.2'\n\n    implementation 'com.github.HttpMarco:Aeon:-SNAPSHOT'\n    //JsonParser\n    implementation 'com.google.code.gson:gson:2.8.8'\n\n    //Lombok\n    implementation 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n    //OpenAPI\n    compileOnly 'io.javalin.community.openapi:javalin-openapi-plugin:5.6.2'\n\n    implementation 'io.javalin.community.ssl:ssl-plugin:5.6.2'\n\n    implementation ('org.eclipse.jetty:jetty-nosql:11.0.15') {\n        exclude group: 'org.mongodb'\n    }\n\n    compileOnly 'org.mongodb:mongodb-driver-sync:4.6.0'\n}\n\n//Manifest\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'me.alex.app.street14endpoint.EndpointBootstrap',\n                'Multi-Release': true\n        )\n    }\n}\n</code></pre>\n<p>Unfortunately my project is private, but feel free to ask for anything regarding the code!</p>\n<h1>I tried to:</h1>\n<ol>\n<li>Build a Shadow/Uber/Fat Jar and running it (which gives the error message)</li>\n<li>Give the jar full permissions</li>\n<li>Reporgramed it several times</li>\n<li>I asked my tech teacher for advice but he did not knew anything regarding this issue</li>\n<li>I opened an issue on github for the ssl plugin, but no one answered yet</li>\n<li>I spoke to the discord members on their discord, they came to the conclusion that its my fault. (I dont know whats wrong)</li>\n</ol>\n"},{"tags":["java","deprecated","onbackpressed"],"owner":{"account_id":29901151,"reputation":1,"user_id":22914877,"display_name":"Solution PRO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699975153,"creation_date":1699975153,"question_id":77481807,"body_markdown":"My Application is Full WebView from HTML with some tools, I&#39;m a Beginner, &quot;&#39;onBackPressed()&#39; is deprecated&quot; and that message shows when upgrade to SDK 33, I want to make BackPressed go back to the previous page in the application without closing the application \r\n\r\ni tried the https://stackoverflow.com/questions/77309528/onbackpressed-is-deprecated-webview-in-android-app\r\n\r\n\r\nBut still no solution \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        WebView myWebView = findViewById(R.id.WebView);\r\n\r\n        myWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n        myWebView.setWebChromeClient(new WebChromeClient());\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setDomStorageEnabled(true);\r\n        webSettings.setAllowFileAccess(true);\r\n        webSettings.setLoadsImagesAutomatically(true);\r\n        webSettings.setSupportZoom(true);\r\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT); // load online by default\r\n        webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n        webSettings.setLoadWithOverviewMode(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\r\n        webSettings.setDatabaseEnabled(true);\r\n        webSettings.setLoadsImagesAutomatically(true);\r\n\r\n\r\n}\r\n    public void onBackPressed() {\r\n\r\n        WebView webView = findViewById(R.id.WebView);\r\n        if(webView.canGoBack()){\r\n            webView.goBack();\r\n        }else{\r\n            super.onBackPressed();\r\n        }\r\n    }","title":"&#39;onBackPressed()&#39; is deprecated in WebView","body":"<p>My Application is Full WebView from HTML with some tools, I'm a Beginner, &quot;'onBackPressed()' is deprecated&quot; and that message shows when upgrade to SDK 33, I want to make BackPressed go back to the previous page in the application without closing the application</p>\n<p>i tried the <a href=\"https://stackoverflow.com/questions/77309528/onbackpressed-is-deprecated-webview-in-android-app\">onBackPressed is deprecated - webView in android app</a></p>\n<p>But still no solution</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    WebView myWebView = findViewById(R.id.WebView);\n\n    myWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\n    myWebView.setWebChromeClient(new WebChromeClient());\n    WebSettings webSettings = myWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webSettings.setDomStorageEnabled(true);\n    webSettings.setAllowFileAccess(true);\n    webSettings.setLoadsImagesAutomatically(true);\n    webSettings.setSupportZoom(true);\n    webSettings.setCacheMode(WebSettings.LOAD_DEFAULT); // load online by default\n    webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n    webSettings.setLoadWithOverviewMode(true);\n    webSettings.setUseWideViewPort(true);\n    webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\n    webSettings.setDatabaseEnabled(true);\n    webSettings.setLoadsImagesAutomatically(true);\n</code></pre>\n<p>}\npublic void onBackPressed() {</p>\n<pre><code>    WebView webView = findViewById(R.id.WebView);\n    if(webView.canGoBack()){\n        webView.goBack();\n    }else{\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","backup","encrypted-shared-preference"],"owner":{"account_id":29901060,"reputation":1,"user_id":22914803,"display_name":"Евгений Колесник"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699974511,"creation_date":1699974511,"question_id":77481717,"body_markdown":"When writing my own library I encountered a problem. I have some data that I store in encryptedSP. Google documentation says that this data should not go into backup (which is why the crash occurs). According to the documentation, it is also said that we can specify the rules by which beks are formed, and indicate specific files that we do not want to save. But at the same time, this solution does not work for a library that will be pulled up by “parent” applications. As I understand it, the rules for backups are not merged and the library settings are simply overwritten and we still continue to backup data from encryptedSP. how not to backup data from encryptedSP in library?\r\n\r\n1. Has anyone encountered this and is there a solution for this?\r\n2. If there is a solution, what is it?\r\n3. If there is no solution, can someone explain why this happens with excerpts from documentation or another source?\r\n\r\n\r\n\r\nI tried to work according to the documentation - it is not the solution\r\nThere is a written crutch for this situation, in which we delete a file from encryptedSP through recursion, but this solution is extremely bad","title":"Backups for EncryptedSharedPreferences for the library are not disabled","body":"<p>When writing my own library I encountered a problem. I have some data that I store in encryptedSP. Google documentation says that this data should not go into backup (which is why the crash occurs). According to the documentation, it is also said that we can specify the rules by which beks are formed, and indicate specific files that we do not want to save. But at the same time, this solution does not work for a library that will be pulled up by “parent” applications. As I understand it, the rules for backups are not merged and the library settings are simply overwritten and we still continue to backup data from encryptedSP. how not to backup data from encryptedSP in library?</p>\n<ol>\n<li>Has anyone encountered this and is there a solution for this?</li>\n<li>If there is a solution, what is it?</li>\n<li>If there is no solution, can someone explain why this happens with excerpts from documentation or another source?</li>\n</ol>\n<p>I tried to work according to the documentation - it is not the solution\nThere is a written crutch for this situation, in which we delete a file from encryptedSP through recursion, but this solution is extremely bad</p>\n"},{"tags":["java","android","web-services"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1320243873,"post_id":7981677,"comment_id":9761787,"body_markdown":"What are you trying to do exactly? Implement a webservice? Consume it? Both? Android doesn&#39;t include the JEE stack afaik, you can&#39;t implement web services in it.","body":"What are you trying to do exactly? Implement a webservice? Consume it? Both? Android doesn&#39;t include the JEE stack afaik, you can&#39;t implement web services in it."},{"owner":{"account_id":318334,"reputation":3535,"user_id":635504,"accept_rate":72,"display_name":"最白目"},"score":0,"creation_date":1320244141,"post_id":7981677,"comment_id":9761897,"body_markdown":"I want to implement it. I want to consume it later by calling the method from my phonegap application.","body":"I want to implement it. I want to consume it later by calling the method from my phonegap application."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1320247555,"post_id":7981677,"comment_id":9763152,"body_markdown":"You need to implement your web service in a separate JEE project and run it under a web application container. Then you can consume it from your Android/PhoneGap application, using ksoap or whatever other libraries fits your fancy.","body":"You need to implement your web service in a separate JEE project and run it under a web application container. Then you can consume it from your Android/PhoneGap application, using ksoap or whatever other libraries fits your fancy."},{"owner":{"account_id":318334,"reputation":3535,"user_id":635504,"accept_rate":72,"display_name":"最白目"},"score":0,"creation_date":1320247746,"post_id":7981677,"comment_id":9763239,"body_markdown":"of course, I did not realise that I have to implement my Service on a Server. Stupid me. Thank you Perception!","body":"of course, I did not realise that I have to implement my Service on a Server. Stupid me. Thank you Perception!"}],"answers":[{"tags":[],"owner":{"account_id":10802429,"reputation":31,"user_id":7945862,"display_name":"nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493616686,"creation_date":1493613597,"answer_id":43714355,"question_id":7981677,"body_markdown":"For me this worked in Eclipse\r\n\r\nselect your project  \r\n→ then right click on project menu bar on top  \r\n→ go to properties  \r\n→ click on Targeted Runtimes  \r\n→ now you must select a check box next to the server you are using to run current project  \r\n→ click Apply  \r\n→ then click OK button.\r\n\r\nThat&#39;s it, give a try.","title":"webservice...cannot be resolved as a type","body":"<p>For me this worked in Eclipse</p>\n\n<p>select your project<br>\n→ then right click on project menu bar on top<br>\n→ go to properties<br>\n→ click on Targeted Runtimes<br>\n→ now you must select a check box next to the server you are using to run current project<br>\n→ click Apply<br>\n→ then click OK button.</p>\n\n<p>That's it, give a try.</p>\n"}],"owner":{"account_id":318334,"reputation":3535,"user_id":635504,"accept_rate":72,"display_name":"最白目"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699974480,"creation_date":1320242768,"question_id":7981677,"body_markdown":"Im trying to implement a web service for an android app (with Phonegap)\r\n\r\nI have an Interface:\r\n\r\n    package webservice;\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebService;\r\n\r\n    @WebService\r\n\r\n    public interface HelloService {\r\n\t@WebMethod(operationName = &quot;hello&quot;)\r\n\tpublic String hello(String name);\r\n   }\r\n\r\nand the implementation of it:\r\n\r\n    package webservice;\r\n    import javax.jws.*;\r\n    import android.webkit.WebView;\r\n    import com.phonegap.DroidGap;\r\n\r\n    @WebService\r\n    public class HelloServiceImpl implements HelloService {\r\n\t\r\n        //Constructor for a invocation with javascript\r\n\tpublic LottozahlenServiceImpl(DroidGap gap, WebView view){\r\n\t\t\t\r\n\t}\r\n\t\r\n\tpublic String hello(String name) {\r\n\t\tSystem.out.println(&quot;Hello &quot;+name);\r\n\t\t return &quot;Hello &quot;+name +&quot; Welcome to Web Services!&quot;;\r\n\t}\r\n}\r\nThe problem is, all imports and the annotation &quot;cannot be resolved as a type&quot;. I downloaded [ksoap2-android][1] and added the JAR to the build path. I also restarted Eclipse, cleaned the project, reloaded the target. I cant solve this. Please help.\r\n\r\n\r\n  [1]: http://code.google.com/p/ksoap2-android/wiki/HowToUse?tm=2","title":"webservice...cannot be resolved as a type","body":"<p>Im trying to implement a web service for an android app (with Phonegap)</p>\n\n<p>I have an Interface:</p>\n\n<pre><code>package webservice;\nimport javax.jws.WebMethod;\nimport javax.jws.WebService;\n\n@WebService\n\npublic interface HelloService {\n@WebMethod(operationName = \"hello\")\npublic String hello(String name);\n</code></pre>\n\n<p>}</p>\n\n<p>and the implementation of it:</p>\n\n<pre><code>package webservice;\nimport javax.jws.*;\nimport android.webkit.WebView;\nimport com.phonegap.DroidGap;\n\n@WebService\npublic class HelloServiceImpl implements HelloService {\n\n    //Constructor for a invocation with javascript\npublic LottozahlenServiceImpl(DroidGap gap, WebView view){\n\n}\n\npublic String hello(String name) {\n    System.out.println(\"Hello \"+name);\n     return \"Hello \"+name +\" Welcome to Web Services!\";\n}\n</code></pre>\n\n<p>}\nThe problem is, all imports and the annotation \"cannot be resolved as a type\". I downloaded <a href=\"http://code.google.com/p/ksoap2-android/wiki/HowToUse?tm=2\" rel=\"nofollow\">ksoap2-android</a> and added the JAR to the build path. I also restarted Eclipse, cleaned the project, reloaded the target. I cant solve this. Please help.</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":4553174,"reputation":454,"user_id":15068701,"display_name":"Maksym Ovsianikov"},"score":0,"creation_date":1515329573,"post_id":35535370,"comment_id":83251778,"body_markdown":"This line &quot;connection.setAutoCommit(false);&quot; should be within try catch block","body":"This line &quot;connection.setAutoCommit(false);&quot; should be within try catch block"},{"owner":{"account_id":4553174,"reputation":454,"user_id":15068701,"display_name":"Maksym Ovsianikov"},"score":5,"creation_date":1515330247,"post_id":35535370,"comment_id":83251954,"body_markdown":"Additionally, a good practice is to add &quot;con.setAutoCommit(true);&quot; at finally block.","body":"Additionally, a good practice is to add &quot;con.setAutoCommit(true);&quot; at finally block."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1515331527,"post_id":35535370,"comment_id":83252325,"body_markdown":"@MaksymOvsianikov No, it doesn&#39;t need to, unless you want to restore the auto commit back to true. Why do you think that is required? And may I remind you that this is a simple example, not a full-fledged real-world use.","body":"@MaksymOvsianikov No, it doesn&#39;t need to, unless you want to restore the auto commit back to true. Why do you think that is required? And may I remind you that this is a simple example, not a full-fledged real-world use."},{"owner":{"account_id":4553174,"reputation":454,"user_id":15068701,"display_name":"Maksym Ovsianikov"},"score":1,"creation_date":1516315098,"post_id":35535370,"comment_id":83648705,"body_markdown":"@Mark Rotteveel, I didn&#39;t wrote it&#39;s required, I wrote it&#39;s &quot;a good practice&quot; :) check this Oracle tutorial: https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","body":"@Mark Rotteveel, I didn&#39;t wrote it&#39;s required, I wrote it&#39;s &quot;a good practice&quot; :) check this Oracle tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/transactions.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":356197,"reputation":2190,"user_id":695561,"display_name":"paulkernfeld"},"score":0,"creation_date":1612126872,"post_id":35535370,"comment_id":116663369,"body_markdown":"This is a great answer! I think it would be good to also mention that the database needs to be set to a particular isolation level. For example, if Postgres was set to the &quot;Read uncommitted&quot; isolation level it would actually be possible for a query to see the inserted product before the transaction is committed, which would violate most users&#39; expectations of atomicity.","body":"This is a great answer! I think it would be good to also mention that the database needs to be set to a particular isolation level. For example, if Postgres was set to the &quot;Read uncommitted&quot; isolation level it would actually be possible for a query to see the inserted product before the transaction is committed, which would violate most users&#39; expectations of atomicity."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1612168712,"post_id":35535370,"comment_id":116672308,"body_markdown":"@paulkernfeld I&#39;ll consider it, but your proposed edit suggests that if two statements are executed in a single transaction, then the changes of the first statement are already visible for read committed transactions. That is not correct, that is only possible with read uncommitted transactions, which not all databases support. I also thinks this is sufficiently covered by linking to the Oracle JDBC Tutorial.","body":"@paulkernfeld I&#39;ll consider it, but your proposed edit suggests that if two statements are executed in a single transaction, then the changes of the first statement are already visible for read committed transactions. That is not correct, that is only possible with read uncommitted transactions, which not all databases support. I also thinks this is sufficiently covered by linking to the Oracle JDBC Tutorial."},{"owner":{"account_id":356197,"reputation":2190,"user_id":695561,"display_name":"paulkernfeld"},"score":0,"creation_date":1612208507,"post_id":35535370,"comment_id":116690092,"body_markdown":"Oh, sorry! I&#39;m not sure how to fix my proposed edit but I&#39;m guessing that I meant to write &quot;read uncommitted&quot; instead of &quot;read committed&quot;. &#129322; Overall, my goal was to come up with a simple-to-explain situation that would effectively demonstrate that the isolation level is important to satisfying an intuitive definition of atomicity. Maybe it would be enough to just mention that the database isolation level is relevant without providing an example?","body":"Oh, sorry! I&#39;m not sure how to fix my proposed edit but I&#39;m guessing that I meant to write &quot;read uncommitted&quot; instead of &quot;read committed&quot;. 🤪 Overall, my goal was to come up with a simple-to-explain situation that would effectively demonstrate that the isolation level is important to satisfying an intuitive definition of atomicity. Maybe it would be enough to just mention that the database isolation level is relevant without providing an example?"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1699974252,"creation_date":1456053267,"answer_id":35535370,"question_id":35535251,"body_markdown":"If you want to execute multiple statements atomically, you need to use a transaction. A JDBC connection defaults to &#39;auto-commit&#39; mode, which means each statement is executed in its own transaction. So you first need to disable auto-commit mode, using [`Connection.setAutoCommit(false)`][1].\r\n\r\nWith auto-commit mode disabled, executed statements will be executed in the current transaction, if there is no current transaction, one will be started. This transaction can then either be committed using [`Connection.commit()`][2] or rolled back using [`Connection.rollback()`][3].\r\n\r\nYou will need to do something like:\r\n\r\n```java\r\ntry (Connection connection = DriverManager.getConnection(...)) {\r\n    connection.setAutoCommit(false);\r\n    try (Statement stmt = connection.createStatement()) {\r\n        stmt.executeUpdate(&lt;your first update&gt;);\r\n        stmt.executeUpdate(&lt;your second update&gt;);\r\n\r\n        connection.commit();\r\n    } catch (SQLException e) {\r\n        connection.rollback();\r\n        throw e;\r\n    }\r\n}\r\n```\r\n\r\nFor more details, see the JDBC tutorial chapter [Using Transactions][4].\r\n\r\nAnd please learn about prepared statements. Concatenating values into a query string is bad, because it can lead to SQL injection or weird errors if you forget to escape values. See also the JDBC tutorial chapter [Using Prepared Statements][5].\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#setAutoCommit-boolean-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#commit--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#rollback--\r\n  [4]: http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\r\n  [5]: http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","title":"How to execute 2 update queries in one transaction with JDBC","body":"<p>If you want to execute multiple statements atomically, you need to use a transaction. A JDBC connection defaults to 'auto-commit' mode, which means each statement is executed in its own transaction. So you first need to disable auto-commit mode, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#setAutoCommit-boolean-\" rel=\"nofollow noreferrer\"><code>Connection.setAutoCommit(false)</code></a>.</p>\n<p>With auto-commit mode disabled, executed statements will be executed in the current transaction, if there is no current transaction, one will be started. This transaction can then either be committed using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#commit--\" rel=\"nofollow noreferrer\"><code>Connection.commit()</code></a> or rolled back using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#rollback--\" rel=\"nofollow noreferrer\"><code>Connection.rollback()</code></a>.</p>\n<p>You will need to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = DriverManager.getConnection(...)) {\n    connection.setAutoCommit(false);\n    try (Statement stmt = connection.createStatement()) {\n        stmt.executeUpdate(&lt;your first update&gt;);\n        stmt.executeUpdate(&lt;your second update&gt;);\n\n        connection.commit();\n    } catch (SQLException e) {\n        connection.rollback();\n        throw e;\n    }\n}\n</code></pre>\n<p>For more details, see the JDBC tutorial chapter <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">Using Transactions</a>.</p>\n<p>And please learn about prepared statements. Concatenating values into a query string is bad, because it can lead to SQL injection or weird errors if you forget to escape values. See also the JDBC tutorial chapter <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Using Prepared Statements</a>.</p>\n"}],"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14992,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35535370,"answer_count":1,"score":9,"last_activity_date":1699974252,"creation_date":1456052503,"question_id":35535251,"body_markdown":"I am new to JDBC and I am trying to update 2 tables in my database, so I would like to do it in 1 transaction so if one query fails, the other should also fail. I would like to provide such behaviour or just have an opportunity to do rollback if one of them fails. \r\n\r\nHere are my 2 queries:\r\n\r\n    int i = stmt.executeUpdate(&quot;INSERT INTO product (title, price, `status`) &quot; +\r\n                    &quot;VALUES ( \\&quot;&quot; + product.getTitle() + &quot;\\&quot;, &quot; + product.getPrice() + &quot;, &quot; + product.getStatus().ordinal() + &quot;);&quot;);\r\n    int j = stmt.executeUpdate(&quot;INSERT INTO product_categories (product_id, category_id) &quot; +\r\n                    &quot;VALUES (last_insert_id(), &quot; + categoryId + &quot;);&quot;);","title":"How to execute 2 update queries in one transaction with JDBC","body":"<p>I am new to JDBC and I am trying to update 2 tables in my database, so I would like to do it in 1 transaction so if one query fails, the other should also fail. I would like to provide such behaviour or just have an opportunity to do rollback if one of them fails. </p>\n\n<p>Here are my 2 queries:</p>\n\n<pre><code>int i = stmt.executeUpdate(\"INSERT INTO product (title, price, `status`) \" +\n                \"VALUES ( \\\"\" + product.getTitle() + \"\\\", \" + product.getPrice() + \", \" + product.getStatus().ordinal() + \");\");\nint j = stmt.executeUpdate(\"INSERT INTO product_categories (product_id, category_id) \" +\n                \"VALUES (last_insert_id(), \" + categoryId + \");\");\n</code></pre>\n"},{"tags":["java","elasticsearch","range","date-range"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662370787,"post_id":73553747,"comment_id":129982633,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73553747/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26163917,"reputation":26,"user_id":19849985,"display_name":"Joyin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661938111,"creation_date":1661938111,"answer_id":73553747,"question_id":73551819,"body_markdown":"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/searching.html\r\n\r\n    Query dateRangeQuery = RangeQuery.of(r -&gt; r\r\n        .field(&quot;startDate&quot;)\r\n        .lte(dateUtils.today()) \r\n    )._toQuery();\r\n","title":"elastic search - Java api client range query","body":"<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/searching.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/searching.html</a></p>\n<pre><code>Query dateRangeQuery = RangeQuery.of(r -&gt; r\n    .field(&quot;startDate&quot;)\n    .lte(dateUtils.today()) \n)._toQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699974081,"creation_date":1699963442,"answer_id":77480469,"question_id":73551819,"body_markdown":"Another way to create a similar query using Query.of()\r\n\r\n    Query dateRangeQuery = Query.of(q -&gt; q\r\n        .range(r -&gt; r\r\n            .field(&quot;field&quot;)\r\n            .lte(dateUtils.today()) \r\n        )\r\n    );\r\n    ","title":"elastic search - Java api client range query","body":"<p>Another way to create a similar query using Query.of()</p>\n<pre><code>Query dateRangeQuery = Query.of(q -&gt; q\n    .range(r -&gt; r\n        .field(&quot;field&quot;)\n        .lte(dateUtils.today()) \n    )\n);\n</code></pre>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73553747,"answer_count":2,"score":0,"last_activity_date":1699974081,"creation_date":1661928228,"question_id":73551819,"body_markdown":"I am migrating a java application from elastic search high level client to java api client.\r\nThere is a range query like this in the code.\r\n````QueryBuilders.rangeQuery(&quot;startDate&quot;).lte(dateUtils.today())````\r\nNeed to change this to java api client code.\r\nCould someone help on this?","title":"elastic search - Java api client range query","body":"<p>I am migrating a java application from elastic search high level client to java api client.\nThere is a range query like this in the code.\n<code>QueryBuilders.rangeQuery(&quot;startDate&quot;).lte(dateUtils.today())</code>\nNeed to change this to java api client code.\nCould someone help on this?</p>\n"},{"tags":["java","encryption","encryption-symmetric","encryption-asymmetric"],"comments":[{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":1,"creation_date":1697635266,"post_id":77316250,"comment_id":136304624,"body_markdown":"Your SECRET_KEY seems to be a 256 bit key that is base64 encoded into a String. But then you treat it like a password by deriving a new key using a key derivation function.  Why not just use the key ? What do you try to archive with the key deviation that is not already archived with the key ?","body":"Your SECRET_KEY seems to be a 256 bit key that is base64 encoded into a String. But then you treat it like a password by deriving a new key using a key derivation function.  Why not just use the key ? What do you try to archive with the key deviation that is not already archived with the key ?"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1697667432,"post_id":77316250,"comment_id":136310342,"body_markdown":"Security warning: **please do not use the code posted as it is highly INSECURE** as it uses a static IV, a static salt and an iteration of just 100. Although the result seems to be &quot;random and secure&quot; it is not.","body":"Security warning: <b>please do not use the code posted as it is highly INSECURE</b> as it uses a static IV, a static salt and an iteration of just 100. Although the result seems to be &quot;random and secure&quot; it is not."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":1,"creation_date":1698041982,"post_id":77316250,"comment_id":136349998,"body_markdown":"What are you actually asking? AES is a 128-bit block cipher supporting keys of 128, 192, and 256 bits.","body":"What are you actually asking? AES is a 128-bit block cipher supporting keys of 128, 192, and 256 bits."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1698043278,"post_id":77316250,"comment_id":136350184,"body_markdown":"To repeat an issue from the comment on the meanwhile deleted answer: *...fileInputStream.read(array) is not guaranteed to read the whole file...*","body":"To repeat an issue from the comment on the meanwhile deleted answer: <i>...fileInputStream.read(array) is not guaranteed to read the whole file...</i>"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1698043508,"post_id":77316250,"comment_id":136350221,"body_markdown":"Apart from that (and the other inconsistencies and vulnerabilities already mentioned in the comments): Since you specify the key size as 256 bits and for the SunJCE provider the key size defines the AES variant: yes, this is an encryption/decryption with AES-256!","body":"Apart from that (and the other inconsistencies and vulnerabilities already mentioned in the comments): Since you specify the key size as 256 bits and for the SunJCE provider the key size defines the AES variant: yes, this is an encryption/decryption with AES-256!"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1698043761,"post_id":77316250,"comment_id":136350256,"body_markdown":"If you are looking for a *stronger* proof, you should use test vectors (one for PBKDF2/HMAC-SHA256 to verify the key derivation, another for AES to verify the encryption). Alternatively you can check the result with a second code/tool (e.g. [Cyberchef](https://gchq.github.io/CyberChef/)).","body":"If you are looking for a <i>stronger</i> proof, you should use test vectors (one for PBKDF2/HMAC-SHA256 to verify the key derivation, another for AES to verify the encryption). Alternatively you can check the result with a second code/tool (e.g. <a href=\"https://gchq.github.io/CyberChef/\" rel=\"nofollow noreferrer\">Cyberchef</a>)."}],"answers":[{"tags":[],"owner":{"account_id":9636543,"reputation":48,"user_id":7152417,"display_name":"Sohel Tanvir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698046591,"creation_date":1698046591,"answer_id":77343398,"question_id":77316250,"body_markdown":"there are several points to consider for improving your code:\r\n\r\nHardcoded Secret Key and Salt:\r\n\r\nThe SECRET_KEY and SALT values should not be hardcoded in the code, especially if this code is to be committed to any public repository. Hardcoded keys and salts are a security risk.\r\nIt&#39;s preferable to read these from a secure external source or configuration at runtime, or even better, to generate them dynamically and store them securely.\r\nInitialization Vector (IV):\r\n\r\nYou&#39;re using a static IV (iv), which is not recommended. The IV should be random and unique for each encryption operation to ensure the security properties of CBC mode.\r\nThe IV doesn&#39;t need to be kept secret, but it should be unpredictable. Typically, you would generate a new IV for each encryption, and then prepend it to the ciphertext or send it alongside the ciphertext so that it can be used for decryption.\r\nFile Handling:\r\n\r\nYou&#39;re reading the entire file into memory, which may not be feasible for large files. You might consider processing the file in chunks instead.\r\nYou&#39;re also overwriting the original file with the encrypted data and then again with decrypted data. This is risky as any failure during the process can lead to data loss.\r\nError Handling:\r\n\r\nInstead of just printing the exception message, you should handle exceptions properly. For example, in case of an exception, you might want to ensure that any opened files are closed.\r\nSecret Key Derivation:\r\n\r\nYour code suggests you&#39;re using PBKDF2WithHmacSHA256 to derive a key from the given secret and salt, which is a good practice. However, you should consider increasing the iteration count (currently 100) for added security. The higher the iteration count, the more secure (but slower) the key derivation process will be.\r\nKey Verification:\r\n\r\nIf you want to verify that you&#39;re indeed using 256-bit AES, you can check the length of the derived key. For AES-256, the key should be 32 bytes (256 bits) long.\r\nTo sum up, while you&#39;re using AES-256 for encryption, there are various security and efficiency considerations to keep in mind. Consider addressing the above points before deploying this code in a production environment.","title":"Need to confirm its 256 bit file encryption/Decryption or not?","body":"<p>there are several points to consider for improving your code:</p>\n<p>Hardcoded Secret Key and Salt:</p>\n<p>The SECRET_KEY and SALT values should not be hardcoded in the code, especially if this code is to be committed to any public repository. Hardcoded keys and salts are a security risk.\nIt's preferable to read these from a secure external source or configuration at runtime, or even better, to generate them dynamically and store them securely.\nInitialization Vector (IV):</p>\n<p>You're using a static IV (iv), which is not recommended. The IV should be random and unique for each encryption operation to ensure the security properties of CBC mode.\nThe IV doesn't need to be kept secret, but it should be unpredictable. Typically, you would generate a new IV for each encryption, and then prepend it to the ciphertext or send it alongside the ciphertext so that it can be used for decryption.\nFile Handling:</p>\n<p>You're reading the entire file into memory, which may not be feasible for large files. You might consider processing the file in chunks instead.\nYou're also overwriting the original file with the encrypted data and then again with decrypted data. This is risky as any failure during the process can lead to data loss.\nError Handling:</p>\n<p>Instead of just printing the exception message, you should handle exceptions properly. For example, in case of an exception, you might want to ensure that any opened files are closed.\nSecret Key Derivation:</p>\n<p>Your code suggests you're using PBKDF2WithHmacSHA256 to derive a key from the given secret and salt, which is a good practice. However, you should consider increasing the iteration count (currently 100) for added security. The higher the iteration count, the more secure (but slower) the key derivation process will be.\nKey Verification:</p>\n<p>If you want to verify that you're indeed using 256-bit AES, you can check the length of the derived key. For AES-256, the key should be 32 bytes (256 bits) long.\nTo sum up, while you're using AES-256 for encryption, there are various security and efficiency considerations to keep in mind. Consider addressing the above points before deploying this code in a production environment.</p>\n"}],"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1699974055,"creation_date":1697631634,"question_id":77316250,"body_markdown":"We have written 256-bit file encryption/decryption code in Java. It&#39;s working fine and it properly encrypts and decrypts file with same secret key +salt combination.\r\n\r\n    import java.io.IOException;\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileWriter;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.File;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n    import javax.crypto.KeyGenerator;\r\n    \r\n    \r\n    public class CryptoUtils\r\n    {\r\n        private static final String ALGORITHM = &quot;AES&quot;;\r\n        private static final String TRANSFORMATION = &quot;AES&quot;;\r\n        private static final String SECRET_KEY = &quot;ncrm7tDy0Y137YNT4+6/0szt4weszTlqj/iPLySCTKY=&quot;;\r\n        private static final String SALT = &quot;ssshhhhhhhhhhh!!!!&quot;;\r\n        \r\n        private static void doCrypto256(final int opmode, final File file, final File file2) {       \r\n            try {\r\n                byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\n                IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n                SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);            \r\n                KeySpec spec = new PBEKeySpec (SECRET_KEY.toCharArray(), SALT.getBytes(), 100, 256);\r\n                SecretKey tmp = factory.generateSecret(spec);            \r\n                SecretKey secret = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);           \r\n                Cipher instance = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                instance.init(opmode, secret,ivspec);             \r\n                final FileInputStream fileInputStream = new FileInputStream(file);\r\n                final byte[] array = new byte[(int)file.length()];\r\n                fileInputStream.read(array);\r\n                final byte[] doFinal = instance.doFinal(array);\r\n                final FileOutputStream fileOutputStream = new FileOutputStream(file2);\r\n                fileOutputStream.write(doFinal);\r\n                fileInputStream.close();\r\n                fileOutputStream.close();\r\n            }\r\n            catch (Exception ex) {\r\n                System.out.println(ex.getMessage());\r\n            }\r\n        }  \r\n        \r\n        public static void main(String[] args) {     \r\n           File inputFile = new File(&quot;D:/JaveEncryptDecrypt/sample.pdf&quot;);            \r\n            try {         \r\n              doCrypto256(1, inputFile, inputFile);  //encryption on 256 \r\n             doCrypto256(2, inputFile, inputFile);  //Decryption on 256 \r\n            } catch (Exception ex) {\r\n                System.out.println(ex.getMessage());\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI have generated an AES-256 secret key, which I have defined inside the class. I want to know if it is 256-bit encryption/decryption or not? If I need to change anything, please let me know.\r\n\r\nThanks\r\n\r\n","title":"Need to confirm its 256 bit file encryption/Decryption or not?","body":"<p>We have written 256-bit file encryption/decryption code in Java. It's working fine and it properly encrypts and decrypts file with same secret key +salt combination.</p>\n<pre><code>import java.io.IOException;\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.FileOutputStream;\nimport java.io.FileInputStream;\nimport java.io.File;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\nimport javax.crypto.KeyGenerator;\n\n\npublic class CryptoUtils\n{\n    private static final String ALGORITHM = &quot;AES&quot;;\n    private static final String TRANSFORMATION = &quot;AES&quot;;\n    private static final String SECRET_KEY = &quot;ncrm7tDy0Y137YNT4+6/0szt4weszTlqj/iPLySCTKY=&quot;;\n    private static final String SALT = &quot;ssshhhhhhhhhhh!!!!&quot;;\n    \n    private static void doCrypto256(final int opmode, final File file, final File file2) {       \n        try {\n            byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\n            IvParameterSpec ivspec = new IvParameterSpec(iv);\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);            \n            KeySpec spec = new PBEKeySpec (SECRET_KEY.toCharArray(), SALT.getBytes(), 100, 256);\n            SecretKey tmp = factory.generateSecret(spec);            \n            SecretKey secret = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);           \n            Cipher instance = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            instance.init(opmode, secret,ivspec);             \n            final FileInputStream fileInputStream = new FileInputStream(file);\n            final byte[] array = new byte[(int)file.length()];\n            fileInputStream.read(array);\n            final byte[] doFinal = instance.doFinal(array);\n            final FileOutputStream fileOutputStream = new FileOutputStream(file2);\n            fileOutputStream.write(doFinal);\n            fileInputStream.close();\n            fileOutputStream.close();\n        }\n        catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n    }  \n    \n    public static void main(String[] args) {     \n       File inputFile = new File(&quot;D:/JaveEncryptDecrypt/sample.pdf&quot;);            \n        try {         \n          doCrypto256(1, inputFile, inputFile);  //encryption on 256 \n         doCrypto256(2, inputFile, inputFile);  //Decryption on 256 \n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have generated an AES-256 secret key, which I have defined inside the class. I want to know if it is 256-bit encryption/decryption or not? If I need to change anything, please let me know.</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-spark","apache-beam","dataproc"],"comments":[{"owner":{"account_id":309736,"reputation":1231,"user_id":622347,"accept_rate":58,"display_name":"fruitJuice"},"score":0,"creation_date":1696532322,"post_id":77208632,"comment_id":136168899,"body_markdown":"yeah, I&#39;m seeing the same error with beam 2.50.0 on dataproc 2.1.  any luck root causing this?","body":"yeah, I&#39;m seeing the same error with beam 2.50.0 on dataproc 2.1.  any luck root causing this?"},{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":1,"creation_date":1696553898,"post_id":77208632,"comment_id":136171498,"body_markdown":"@Ahmed How can might this issue be reproduced? Is there perhaps a public repository branch that I can download to try and reproduce this?","body":"@Ahmed How can might this issue be reproduced? Is there perhaps a public repository branch that I can download to try and reproduce this?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696557452,"post_id":77208632,"comment_id":136171728,"body_markdown":"@fruitJuice Do you have codebase to reproduce this issue? If you have, then please share it via github","body":"@fruitJuice Do you have codebase to reproduce this issue? If you have, then please share it via github"},{"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"score":0,"creation_date":1696571094,"post_id":77208632,"comment_id":136172651,"body_markdown":"I got the error solved but i don&#39;t know if it&#39;s the right way to do it .\nI have put the shaded jar of my application that contains all the dependencies in /usr/lib/spark/jars\nand it worked","body":"I got the error solved but i don&#39;t know if it&#39;s the right way to do it . I have put the shaded jar of my application that contains all the dependencies in /usr/lib/spark/jars and it worked"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699973935,"creation_date":1696581649,"answer_id":77243025,"question_id":77208632,"body_markdown":"[According to Official Apache Beam Docs on Spark Runner][1]:\r\n\r\n&gt; Support for Spark 2.4.x was dropped with Beam 2.46.0 from Spark Runner 3.2 onwards\r\n\r\nThis means that **Beam 2.50.0** and **Spark 2.4.x** is not available in your current **Spark Runner** version.\r\n\r\nTry these dependencies by adding `beam-runners-spark-3`, `apache-streaming` and `apache-core`\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;beam-runners-spark-3&lt;/artifactId&gt;\r\n      &lt;version&gt;2.50.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nRefer to the docs more info as it has complete step - by - step process on how to setup and make it running.\r\n\r\n**Note:** It has Maven shade plugin example and dataproc example too.\r\n\r\n  [1]: https://beam.apache.org/documentation/runners/spark/#deploying-spark-with-your-application","title":"java.lang.NoClassDefFoundError: org/apache/beam/sdk/coders/CoderProviderRegistrar","body":"<p><a href=\"https://beam.apache.org/documentation/runners/spark/#deploying-spark-with-your-application\" rel=\"nofollow noreferrer\">According to Official Apache Beam Docs on Spark Runner</a>:</p>\n<blockquote>\n<p>Support for Spark 2.4.x was dropped with Beam 2.46.0 from Spark Runner 3.2 onwards</p>\n</blockquote>\n<p>This means that <strong>Beam 2.50.0</strong> and <strong>Spark 2.4.x</strong> is not available in your current <strong>Spark Runner</strong> version.</p>\n<p>Try these dependencies by adding <code>beam-runners-spark-3</code>, <code>apache-streaming</code> and <code>apache-core</code></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n  &lt;artifactId&gt;beam-runners-spark-3&lt;/artifactId&gt;\n  &lt;version&gt;2.50.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n  &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n  &lt;version&gt;2.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n  &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n  &lt;version&gt;2.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Refer to the docs more info as it has complete step - by - step process on how to setup and make it running.</p>\n<p><strong>Note:</strong> It has Maven shade plugin example and dataproc example too.</p>\n"}],"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1699973935,"creation_date":1696112635,"question_id":77208632,"body_markdown":"I&#39;m getting this error while trying to submit a shaded jar to dataproc as a spark job :\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/beam/sdk/coders/CoderProviderRegistrar \r\n\r\nI&#39;m sure that this class exists. Where is the issue?\r\n\r\nStacktrace Screenshot:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yTjJg.png)](https://i.stack.imgur.com/yTjJg.png)","title":"java.lang.NoClassDefFoundError: org/apache/beam/sdk/coders/CoderProviderRegistrar","body":"<p>I'm getting this error while trying to submit a shaded jar to dataproc as a spark job :</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/beam/sdk/coders/CoderProviderRegistrar \n</code></pre>\n<p>I'm sure that this class exists. Where is the issue?</p>\n<p>Stacktrace Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/yTjJg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yTjJg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-flink"],"answers":[{"comments":[{"owner":{"account_id":6650229,"reputation":859,"user_id":5132661,"accept_rate":80,"display_name":"OverflowStack"},"score":0,"creation_date":1699999474,"post_id":77481616,"comment_id":136600603,"body_markdown":"Thank you for the answer, I appreciate it. If I am not wrong, the idea is to use assignTimestampsAndWatermarks along with WatermarkStrategy (before) keyBy in stream1 along with TumblingEventTimeWindows.","body":"Thank you for the answer, I appreciate it. If I am not wrong, the idea is to use assignTimestampsAndWatermarks along with WatermarkStrategy (before) keyBy in stream1 along with TumblingEventTimeWindows."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1700012477,"post_id":77481616,"comment_id":136602038,"body_markdown":"Yes, that should do it.","body":"Yes, that should do it."},{"owner":{"account_id":6650229,"reputation":859,"user_id":5132661,"accept_rate":80,"display_name":"OverflowStack"},"score":0,"creation_date":1700349030,"post_id":77481616,"comment_id":136644166,"body_markdown":"My sincere apologies for another question. Say I have keyed 5 minute TumblingEventTimeWindow of 00:00:00-00:04:59.999. It receives some event with timestamp of 00:01:00. From what I understand, the window will only produce results once I get an event with timestamp higher than 00:04:59.999. Which means technically, it is possible for the window to never produce any results.","body":"My sincere apologies for another question. Say I have keyed 5 minute TumblingEventTimeWindow of 00:00:00-00:04:59.999. It receives some event with timestamp of 00:01:00. From what I understand, the window will only produce results once I get an event with timestamp higher than 00:04:59.999. Which means technically, it is possible for the window to never produce any results."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1700353985,"post_id":77481616,"comment_id":136644522,"body_markdown":"Event time windows only produce results when triggered by a watermark. So yes, a window might never produce any results. Note, however, that if the job is (1) run with bounded inputs or (2) stopped with the &quot;drain&quot; option then before being shutdown a final very large watermark is automatically produced that will close all open windows.","body":"Event time windows only produce results when triggered by a watermark. So yes, a window might never produce any results. Note, however, that if the job is (1) run with bounded inputs or (2) stopped with the &quot;drain&quot; option then before being shutdown a final very large watermark is automatically produced that will close all open windows."},{"owner":{"account_id":6650229,"reputation":859,"user_id":5132661,"accept_rate":80,"display_name":"OverflowStack"},"score":0,"creation_date":1700355321,"post_id":77481616,"comment_id":136644600,"body_markdown":"Thank you for clarification. I thought I was misunderstanding and/or missing something.","body":"Thank you for clarification. I thought I was misunderstanding and/or missing something."},{"owner":{"account_id":6650229,"reputation":859,"user_id":5132661,"accept_rate":80,"display_name":"OverflowStack"},"score":0,"creation_date":1700643773,"post_id":77481616,"comment_id":136678673,"body_markdown":"Just a note if someone ever reads this - you can write your own Watermark generator to avoid cases when all partitions are idle.","body":"Just a note if someone ever reads this - you can write your own Watermark generator to avoid cases when all partitions are idle."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699973775,"creation_date":1699973775,"answer_id":77481616,"question_id":77480503,"body_markdown":"This is happening because you are using processing time windows.\r\n\r\nThe window for 00:59:00.000 to 00:59:59.999 for stream1 is being triggered as soon as the system clock reaches 01:00:00.000. By the time this window result reaches the second window, the time is at least 01:00:00.000, and so this result becomes part of the later window.\r\n\r\nTo get consistent, deterministic results, use event time windows (in combination with watermarks).","title":"Current TimeWindow contains elements from previous TimeWindow","body":"<p>This is happening because you are using processing time windows.</p>\n<p>The window for 00:59:00.000 to 00:59:59.999 for stream1 is being triggered as soon as the system clock reaches 01:00:00.000. By the time this window result reaches the second window, the time is at least 01:00:00.000, and so this result becomes part of the later window.</p>\n<p>To get consistent, deterministic results, use event time windows (in combination with watermarks).</p>\n"}],"owner":{"account_id":6650229,"reputation":859,"user_id":5132661,"accept_rate":80,"display_name":"OverflowStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77481616,"answer_count":1,"score":0,"last_activity_date":1699973775,"creation_date":1699963860,"question_id":77480503,"body_markdown":"I have two DataStreams.\r\n\r\nFirst DataStream **stream1** aggregates data into 1 minute windows.\r\n\r\n    DataStream&lt;T&gt; stream1 = input\r\n        .keyBy(t -&gt; t.id)\r\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(60)))\r\n        .aggregate(new SomeAggregate());\r\n\r\nstream1 produces the following windows\r\n\r\n| Window Id| Window Start | Window End |\r\n|--|--------------|------------|\r\n| 1| 00:59:00.000   |   00:59:59.999 |\r\n| 2| 00:00:00.000   |   00:00:59.999 |\r\n|  3| 00:01:00.000   |   00:01.59.999 |\r\n|    4|00:02:00.000   |   00:02.59.999 |\r\n|    5|00:03:00.000   |   00:02.59.999 |\r\n|    6|00:04:00.000  |   00:04.59.999 |\r\n|    n|...  |   ... |\r\n\r\nSecond DataStream **stream2** aggregates **stream1** data into 5 minute windows/aggregations.\r\n\r\n    DataStream&lt;T&gt; stream2 = stream1\r\n        .keyBy(t -&gt; t.id)\r\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(300)))\r\n        .aggregate(new SomeAggregate());\r\n\r\nstream2 produces the following windows\r\n\r\n| Window Id| Window Start | Window End |\r\n|--|--------------|------------|\r\n| 1|  00:55:00.000   |   00:59:59.999 |\r\n| 2|  00:00:00.000   |   00:04:59.999 |\r\n| n|...  |   ... |\r\n\r\n**Question** - \r\n\r\nHow come the following stream2 window\r\n\r\n| Window Id| Window Start | Window End |\r\n|--|--------------|------------|\r\n| 1|  00:00:00.000   |   00:04:59.999 | \r\n\r\nContains **00:59:00.000 - 00:59:59.999** (Id 1) window from stream1?\r\n\r\n| Window Id| Window Start | Window End |\r\n|--|--------------|------------|\r\n| 1| **00:59:00.000**   |   **00:59:59.999** |\r\n| 2| 00:00:00.000   |   00:00:59.999 |\r\n|  3| 00:01:00.000   |   00:01.59.999 |\r\n|    4|00:02:00.000   |   00:02.59.999 |\r\n|    5|00:03:00.000   |   00:02.59.999 |\r\n\r\nShouldn&#39;t **00:59:00.000 - 00:59:59.999** window belong to 00:55:00.000 - 00:59:59.999 stream2 window?\r\n\r\nI was expecting to see these windows instead.\r\n\r\n| Window Id| Window Start | Window End |\r\n|--|--------------|------------|\r\n| 2| 00:00:00.000   |   00:00:59.999 |\r\n|  3| 00:01:00.000   |   00:01.59.999 |\r\n|    4|00:02:00.000   |   00:02.59.999 |\r\n|    5|00:03:00.000   |   00:02.59.999 |\r\n|    6|00:04:00.000  |   00:04.59.999 |\r\n\r\nSo I am not sure what I am doing wrong. Given start X and end Y, I only want to see windows that had start and end time between X and Y, not older or newer.","title":"Current TimeWindow contains elements from previous TimeWindow","body":"<p>I have two DataStreams.</p>\n<p>First DataStream <strong>stream1</strong> aggregates data into 1 minute windows.</p>\n<pre><code>DataStream&lt;T&gt; stream1 = input\n    .keyBy(t -&gt; t.id)\n    .window(TumblingProcessingTimeWindows.of(Time.seconds(60)))\n    .aggregate(new SomeAggregate());\n</code></pre>\n<p>stream1 produces the following windows</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Window Id</th>\n<th>Window Start</th>\n<th>Window End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>00:59:00.000</td>\n<td>00:59:59.999</td>\n</tr>\n<tr>\n<td>2</td>\n<td>00:00:00.000</td>\n<td>00:00:59.999</td>\n</tr>\n<tr>\n<td>3</td>\n<td>00:01:00.000</td>\n<td>00:01.59.999</td>\n</tr>\n<tr>\n<td>4</td>\n<td>00:02:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n<tr>\n<td>5</td>\n<td>00:03:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n<tr>\n<td>6</td>\n<td>00:04:00.000</td>\n<td>00:04.59.999</td>\n</tr>\n<tr>\n<td>n</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Second DataStream <strong>stream2</strong> aggregates <strong>stream1</strong> data into 5 minute windows/aggregations.</p>\n<pre><code>DataStream&lt;T&gt; stream2 = stream1\n    .keyBy(t -&gt; t.id)\n    .window(TumblingProcessingTimeWindows.of(Time.seconds(300)))\n    .aggregate(new SomeAggregate());\n</code></pre>\n<p>stream2 produces the following windows</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Window Id</th>\n<th>Window Start</th>\n<th>Window End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>00:55:00.000</td>\n<td>00:59:59.999</td>\n</tr>\n<tr>\n<td>2</td>\n<td>00:00:00.000</td>\n<td>00:04:59.999</td>\n</tr>\n<tr>\n<td>n</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Question</strong> -</p>\n<p>How come the following stream2 window</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Window Id</th>\n<th>Window Start</th>\n<th>Window End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>00:00:00.000</td>\n<td>00:04:59.999</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Contains <strong>00:59:00.000 - 00:59:59.999</strong> (Id 1) window from stream1?</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Window Id</th>\n<th>Window Start</th>\n<th>Window End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td><strong>00:59:00.000</strong></td>\n<td><strong>00:59:59.999</strong></td>\n</tr>\n<tr>\n<td>2</td>\n<td>00:00:00.000</td>\n<td>00:00:59.999</td>\n</tr>\n<tr>\n<td>3</td>\n<td>00:01:00.000</td>\n<td>00:01.59.999</td>\n</tr>\n<tr>\n<td>4</td>\n<td>00:02:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n<tr>\n<td>5</td>\n<td>00:03:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Shouldn't <strong>00:59:00.000 - 00:59:59.999</strong> window belong to 00:55:00.000 - 00:59:59.999 stream2 window?</p>\n<p>I was expecting to see these windows instead.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Window Id</th>\n<th>Window Start</th>\n<th>Window End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>00:00:00.000</td>\n<td>00:00:59.999</td>\n</tr>\n<tr>\n<td>3</td>\n<td>00:01:00.000</td>\n<td>00:01.59.999</td>\n</tr>\n<tr>\n<td>4</td>\n<td>00:02:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n<tr>\n<td>5</td>\n<td>00:03:00.000</td>\n<td>00:02.59.999</td>\n</tr>\n<tr>\n<td>6</td>\n<td>00:04:00.000</td>\n<td>00:04.59.999</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So I am not sure what I am doing wrong. Given start X and end Y, I only want to see windows that had start and end time between X and Y, not older or newer.</p>\n"},{"tags":["java","android","crash","google-mlkit","text-recognition"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1699973696,"post_id":77481547,"comment_id":136596040,"body_markdown":"Seems to be internal to the library. Have you tried debugging what is going on inside of it during init?","body":"Seems to be internal to the library. Have you tried debugging what is going on inside of it during init?"}],"owner":{"account_id":4616145,"reputation":5257,"user_id":3742601,"accept_rate":75,"display_name":"QuentR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699973276,"creation_date":1699973276,"question_id":77481547,"body_markdown":"Some time ago, I started a new feature, allowing you to read the MRZ strip of an ID card.\r\nHowever, I wanted to re-test this feature and it no longer works.\r\n\r\nI get different errors depending on what I&#39;m using : \r\n\r\n&gt;     implementation &#39;com.google.android.gms:play-services-mlkit-text-recognition:19.0.0&#39;\r\n\r\n    Text recognition failed\r\n     com.google.mlkit.common.MlKitException: Failed to init text recognizer play-services-mlkit-text-recognition\r\n     \tat com.google.mlkit.vision.text.internal.zzc.zza(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:5)\r\n     \tat com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\r\n     \tat com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.run(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:1)\r\n     \tat com.google.mlkit.vision.common.internal.MobileVisionBase.zza(com.google.mlkit:vision-common@@17.3.0:2)\r\n     \tat com.google.mlkit.vision.common.internal.zza.call(Unknown Source:4)\r\n     \tat com.google.mlkit.common.sdkinternal.ModelResource.zza(com.google.mlkit:common@@18.8.0:8)\r\n     \tat com.google.mlkit.common.sdkinternal.zzn.run(Unknown Source:10)\r\n     \tat com.google.mlkit.common.sdkinternal.zzt.run(com.google.mlkit:common@@18.8.0:2)\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zze(com.google.mlkit:common@@18.8.0:4)\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzc(com.google.mlkit:common@@18.8.0:1)\r\n     \tat com.google.mlkit.common.sdkinternal.zzk.run(Unknown Source:2)\r\n     \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n     \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzd(com.google.mlkit:common@@18.8.0:2)\r\n     \tat com.google.mlkit.common.sdkinternal.zzi.run(Unknown Source:2)\r\n     \tat java.lang.Thread.run(Thread.java:919)\r\n     Caused by: android.os.RemoteException: Failed to initialize TfLite-GMS\r\n     \tat m.vd.c(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):279)\r\n     \tat m.bly.a(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):112)\r\n     \tat m.bp.onTransact(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):21)\r\n     \tat android.os.Binder.transact(Binder.java:914)\r\n     \tat com.google.android.gms.internal.mlkit_vision_text_common.zza.zzc(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\r\n     \tat com.google.android.gms.internal.mlkit_vision_text_common.zzrw.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\r\n     \tat com.google.mlkit.vision.text.internal.zzc.zza(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:3)\r\n     \tat com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)&#160;\r\n     \tat com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.run(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:1)&#160;\r\n     \tat com.google.mlkit.vision.common.internal.MobileVisionBase.zza(com.google.mlkit:vision-common@@17.3.0:2)&#160;\r\n     \tat com.google.mlkit.vision.common.internal.zza.call(Unknown Source:4)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.ModelResource.zza(com.google.mlkit:common@@18.8.0:8)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.zzn.run(Unknown Source:10)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.zzt.run(com.google.mlkit:common@@18.8.0:2)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zze(com.google.mlkit:common@@18.8.0:4)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzc(com.google.mlkit:common@@18.8.0:1)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.zzk.run(Unknown Source:2)&#160;\r\n     \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n     \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzd(com.google.mlkit:common@@18.8.0:2)&#160;\r\n     \tat com.google.mlkit.common.sdkinternal.zzi.run(Unknown Source:2)&#160;\r\n     \tat java.lang.Thread.run(Thread.java:919)&#160;\r\n     Caused by: java.lang.UnsatisfiedLinkError: dalvik.system.DelegateLastClassLoader[DexPathList[[zip file &quot;/data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk&quot;],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk!/lib/armeabi-v7a, /data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk!/lib/armeabi, /system/lib, /system/product/lib]]] couldn&#39;t find &quot;libmlkit_google_ocr_pipeline_gms.so&quot;\r\n     \tat java.lang.Runtime.loadLibrary0(Runtime.java:1067)\r\n     \tat java.lang.Runtime.loadLibrary0(Runtime.java:1007)\r\n     \tat java.lang.System.loadLibrary(System.java:1667)\r\n\r\n\r\n\r\n\r\nIf I use the bundled version like this with this dependency : \r\n\r\n&gt; implementation &#39;com.google.mlkit:text-recognition:16.0.0&#39;\r\n\r\n    java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/lib/arm, /data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/base.apk!/lib/armeabi, /system/lib, /system/product/lib]]] couldn&#39;t find &quot;libmlkit_google_ocr_pipeline.so&quot;\r\n\r\nAny idea about what is causing theses issues ? The code was working, and a day without modification on my part it no longer works.\r\n\r\nI searched on the GitHub Issue page of the project, but can&#39;t find any solution.\r\n","title":"MLKit Android : crash when using text recognition","body":"<p>Some time ago, I started a new feature, allowing you to read the MRZ strip of an ID card.\nHowever, I wanted to re-test this feature and it no longer works.</p>\n<p>I get different errors depending on what I'm using :</p>\n<blockquote>\n<pre><code>implementation 'com.google.android.gms:play-services-mlkit-text-recognition:19.0.0'\n</code></pre>\n</blockquote>\n<pre><code>Text recognition failed\n com.google.mlkit.common.MlKitException: Failed to init text recognizer play-services-mlkit-text-recognition\n    at com.google.mlkit.vision.text.internal.zzc.zza(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:5)\n    at com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\n    at com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.run(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:1)\n    at com.google.mlkit.vision.common.internal.MobileVisionBase.zza(com.google.mlkit:vision-common@@17.3.0:2)\n    at com.google.mlkit.vision.common.internal.zza.call(Unknown Source:4)\n    at com.google.mlkit.common.sdkinternal.ModelResource.zza(com.google.mlkit:common@@18.8.0:8)\n    at com.google.mlkit.common.sdkinternal.zzn.run(Unknown Source:10)\n    at com.google.mlkit.common.sdkinternal.zzt.run(com.google.mlkit:common@@18.8.0:2)\n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zze(com.google.mlkit:common@@18.8.0:4)\n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzc(com.google.mlkit:common@@18.8.0:1)\n    at com.google.mlkit.common.sdkinternal.zzk.run(Unknown Source:2)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzd(com.google.mlkit:common@@18.8.0:2)\n    at com.google.mlkit.common.sdkinternal.zzi.run(Unknown Source:2)\n    at java.lang.Thread.run(Thread.java:919)\n Caused by: android.os.RemoteException: Failed to initialize TfLite-GMS\n    at m.vd.c(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):279)\n    at m.bly.a(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):112)\n    at m.bp.onTransact(:com.google.android.gms.optional_mlkit_ocr_common@234414042@23.44.14 (100400-0):21)\n    at android.os.Binder.transact(Binder.java:914)\n    at com.google.android.gms.internal.mlkit_vision_text_common.zza.zzc(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\n    at com.google.android.gms.internal.mlkit_vision_text_common.zzrw.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2)\n    at com.google.mlkit.vision.text.internal.zzc.zza(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:3)\n    at com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.zze(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:2) \n    at com.google.mlkit.vision.text.internal.TextRecognizerTaskWithResource.run(com.google.android.gms:play-services-mlkit-text-recognition-common@@19.0.0:1) \n    at com.google.mlkit.vision.common.internal.MobileVisionBase.zza(com.google.mlkit:vision-common@@17.3.0:2) \n    at com.google.mlkit.vision.common.internal.zza.call(Unknown Source:4) \n    at com.google.mlkit.common.sdkinternal.ModelResource.zza(com.google.mlkit:common@@18.8.0:8) \n    at com.google.mlkit.common.sdkinternal.zzn.run(Unknown Source:10) \n    at com.google.mlkit.common.sdkinternal.zzt.run(com.google.mlkit:common@@18.8.0:2) \n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zze(com.google.mlkit:common@@18.8.0:4) \n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzc(com.google.mlkit:common@@18.8.0:1) \n    at com.google.mlkit.common.sdkinternal.zzk.run(Unknown Source:2) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at com.google.mlkit.common.sdkinternal.MlKitThreadPool.zzd(com.google.mlkit:common@@18.8.0:2) \n    at com.google.mlkit.common.sdkinternal.zzi.run(Unknown Source:2) \n    at java.lang.Thread.run(Thread.java:919) \n Caused by: java.lang.UnsatisfiedLinkError: dalvik.system.DelegateLastClassLoader[DexPathList[[zip file &quot;/data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk&quot;],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk!/lib/armeabi-v7a, /data/user_de/0/com.google.android.gms/app_chimera/m/0000013b/dl-MlkitOcrCommon.optional_234414100400.apk!/lib/armeabi, /system/lib, /system/product/lib]]] couldn't find &quot;libmlkit_google_ocr_pipeline_gms.so&quot;\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1067)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1007)\n    at java.lang.System.loadLibrary(System.java:1667)\n</code></pre>\n<p>If I use the bundled version like this with this dependency :</p>\n<blockquote>\n<p>implementation 'com.google.mlkit:text-recognition:16.0.0'</p>\n</blockquote>\n<pre><code>java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/lib/arm, /data/app/APPNAME-HMyTa1XfEYw4eV3v5DEB_w==/base.apk!/lib/armeabi, /system/lib, /system/product/lib]]] couldn't find &quot;libmlkit_google_ocr_pipeline.so&quot;\n</code></pre>\n<p>Any idea about what is causing theses issues ? The code was working, and a day without modification on my part it no longer works.</p>\n<p>I searched on the GitHub Issue page of the project, but can't find any solution.</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1699974549,"post_id":77476737,"comment_id":136596232,"body_markdown":"***But the onCharacteristicRead method is not called when I send data to the bluetooth module*** - The `onCharacteristicRead` callback is not meant to be called when you send data (with `BluetoothGatt.writeCharacteristic()`). You should invoke the `BluetoothGatt.readCharacteristic()` method if you want `onCharacteristic` to be called. As a matter of fact, the bluetooth API of Android looks a bit mess to me. So if you are new with android bluetooth programming, especially the BLE, make sure that you understand the API sufficiently.","body":"<b><i>But the onCharacteristicRead method is not called when I send data to the bluetooth module</i></b> - The <code>onCharacteristicRead</code> callback is not meant to be called when you send data (with <code>BluetoothGatt.writeCharacteristic()</code>). You should invoke the <code>BluetoothGatt.readCharacteristic()</code> method if you want <code>onCharacteristic</code> to be called. As a matter of fact, the bluetooth API of Android looks a bit mess to me. So if you are new with android bluetooth programming, especially the BLE, make sure that you understand the API sufficiently."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1699974845,"post_id":77476737,"comment_id":136596290,"body_markdown":"When you enable notify, the BLE API will notify you upon any change on the peripheral side with `BluetoothGattCallback.onCharacteristicChanged()` callback. So reading characteristic is not involved in this operation. Consider adding your whole `BluetoothGattCallback` implementation and specify the Android version as well, for further debugging.","body":"When you enable notify, the BLE API will notify you upon any change on the peripheral side with <code>BluetoothGattCallback.onCharacteristicChanged()</code> callback. So reading characteristic is not involved in this operation. Consider adding your whole <code>BluetoothGattCallback</code> implementation and specify the Android version as well, for further debugging."}],"owner":{"account_id":29517018,"reputation":1,"user_id":22620775,"display_name":"Vita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699973074,"creation_date":1699908104,"question_id":77476737,"body_markdown":"I use the JDY-23 module; it has only one characteristic that supports reading and writing.\r\nI created a separate class BtleConnectedClass in which I connect to the device and check the characteristics. This class also has a public void `read(BluetoothGattCharacteristic characteristic) `method.\r\nI create the object of this class from the &#39;BleSelectServiceDialog&quot; class like this \r\n```\r\nbTLegatt=BtleConnectedClass.createInstance(pairedDev,context,udpadeSpinHandler);\r\n  BluetoothGattService service= (BluetoothGattService) spinnerSelectService.getSelectedItem();\r\n                 BluetoothGattCharacteristic read = (BluetoothGattCharacteristic)spinnerSelectRead.getSelectedItem();\r\n                 BluetoothGattCharacteristic write = (BluetoothGattCharacteristic)spinnerSelectWrite.getSelectedItem();\r\n                 bTLegatt.setService(service);\r\n                 bTLegatt.setRead(read);\r\n                 bTLegatt.setWrite(write);\r\n  bTLegatt.read(read); //for read Characteristic\r\n\r\n```\r\nThe BtleConnectedClass class has a method\r\n```\r\npublic void read(BluetoothGattCharacteristic characteristic) {\r\n         Log.d(TAG, &quot;read characteristic: &quot; + characteristic.getUuid().toString());\r\n         gatt.setCharacteristicNotification(characteristic, true);\r\n         byte[] value;\r\n         int properties = characteristic.getProperties();\r\n         final BluetoothGattDescriptor descriptor = characteristic.getDescriptor(CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID);\r\n         int connectedState;\r\n         device = gatt.getDevice();\r\n         manager = (BluetoothManager) context.getSystemService(Context.BLUETOOTH_SERVICE);\r\n         connectedState = manager.getConnectionState(device, BluetoothProfile.GATT);\r\n         Log.d(TAG, &quot;connectedState &quot; + connectedState);\r\n         if (connectedState == STATE_CONNECTED) {\r\n             if ((properties &amp; PROPERTY_NOTIFY) &gt; 0) {\r\n                 Log.d(TAG, &quot;read: &quot; + &quot;PROPERTY_NOTIFY&quot;);\r\n                 value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\r\n                 descriptor.setValue(value);\r\n                 Log.d(TAG, &quot;value: &quot; + value.toString());\r\n             } else if ((properties &amp; PROPERTY_INDICATE) &gt; 0) {\r\n                 Log.d(TAG, &quot;read: &quot; + &quot;PROPERTY_INDICATE&quot;);\r\n                 value = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\r\n                 descriptor.setValue(value);\r\n\r\n             } else {\r\n                 Log.e(TAG, String.format(&quot;ERROR: Characteristic %s does not have notify or indicate property&quot;, characteristic.getUuid()));\r\n\r\n             }\r\n             gatt.writeDescriptor(descriptor);\r\n             Log.d(TAG, &quot;setCharacteristicNotification: &quot; + characteristic.getUuid().toString());\r\n             gatt.setCharacteristicNotification(characteristic, true);\r\n             Log.d(TAG, &quot;setCharacteristicNotification: &quot;+gatt.setCharacteristicNotification(characteristic, true));\r\n             Log.d(TAG, &quot;descriptor: &quot; + characteristic.getDescriptor(CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID).getUuid().toString());\r\n         }\r\n     }\r\n```\r\nWhen calling this method in bluetoothGattCallback, even workd the method, with a successful result\r\n  \r\n```\r\npublic void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n             super.onDescriptorWrite(gatt, descriptor, status);\r\n             final BluetoothGattCharacteristic parentCharacteristic = descriptor.getCharacteristic();\r\n\r\n             if (status != GATT_SUCCESS) {\r\n                 Log.d(TAG, &quot;onDescriptorWrite: failed&quot;);\r\n\r\n             }\r\n             if (descriptor.getUuid().equals((CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID))) {\r\n                 Log.d(TAG, &quot;onDescriptorWrite: &quot; + descriptor.getUuid().toString());\r\n                 if (status == GATT_SUCCESS) {\r\n                     // Check if we were turning notify on or off\r\n                     byte[] value = descriptor.getValue();\r\n                     if (value != null) {\r\n                         if (value[0] != 0) {\r\n                             // Notify set to on, add it to the set of notifying characteristics notifyingCharacteristics.add(parentCharacteristic.getUuid());\r\n                             Log.d(TAG, &quot;onDescriptorWrite: Notify set to on&quot;);\r\n\r\n                         }\r\n                     } else {\r\n                         // Notify was turned off, so remove it from the set of notifying characteristics notifyingCharacteristics.remove(parentCharacteristic.getUuid());\r\n                         Log.d(TAG, &quot;onDescriptorWrite: Notify was turned off&quot;);\r\n                     }\r\n                 }\r\n\r\n             } else {\r\n                 Log.d(TAG, &quot;onDescriptorWrite: &quot; + &quot;// This was a normal descriptor write..&quot;);\r\n             }\r\n\r\n         }\r\n\r\n```\r\nBut the public void onCharacteristicRead method is not called when I send data to the bluetooth module.\r\nIt turns out that `gatt.setCharacteristicNotification(characteristic, true);` Does not work. I&#39;ve already tried everything.\r\n\r\nI don&#39;t know what I&#39;m doing wrong. I tried manually calling the method\r\n \r\n```\r\n public void readManual(BluetoothGattCharacteristic characteristic){\r\n           characteristic = gatt.getService(service.getUuid()).getCharacteristic(characteristic.getUuid());\r\n           gatt.readCharacteristic(characteristic);\r\n           BluetoothManager manager = (BluetoothManager)context.getSystemService(Context.BLUETOOTH_SERVICE);\r\n          \r\n           Log.d(TAG, &quot;readManual: &quot; + manager.getConnectionState(gatt.getDevice(), BluetoothProfile.GATT));\r\n           Log.d(TAG, &quot;readManual: &quot; +characteristic.getUuid().toString());\r\n\r\n       }\r\n\r\n```\r\nAnd then it works\r\n```\r\npublic void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status){\r\n          String value=characteristic.getStringValue(0);\r\n             Log.d(TAG, &quot;onCharacteristicRead: &quot; + value);\r\n         }\r\n```\r\nBut this method is never called automatically.","title":"Btle android not call onCharacteristicRead","body":"<p>I use the JDY-23 module; it has only one characteristic that supports reading and writing.\nI created a separate class BtleConnectedClass in which I connect to the device and check the characteristics. This class also has a public void <code>read(BluetoothGattCharacteristic characteristic) </code>method.\nI create the object of this class from the 'BleSelectServiceDialog&quot; class like this</p>\n<pre><code>bTLegatt=BtleConnectedClass.createInstance(pairedDev,context,udpadeSpinHandler);\n  BluetoothGattService service= (BluetoothGattService) spinnerSelectService.getSelectedItem();\n                 BluetoothGattCharacteristic read = (BluetoothGattCharacteristic)spinnerSelectRead.getSelectedItem();\n                 BluetoothGattCharacteristic write = (BluetoothGattCharacteristic)spinnerSelectWrite.getSelectedItem();\n                 bTLegatt.setService(service);\n                 bTLegatt.setRead(read);\n                 bTLegatt.setWrite(write);\n  bTLegatt.read(read); //for read Characteristic\n\n</code></pre>\n<p>The BtleConnectedClass class has a method</p>\n<pre><code>public void read(BluetoothGattCharacteristic characteristic) {\n         Log.d(TAG, &quot;read characteristic: &quot; + characteristic.getUuid().toString());\n         gatt.setCharacteristicNotification(characteristic, true);\n         byte[] value;\n         int properties = characteristic.getProperties();\n         final BluetoothGattDescriptor descriptor = characteristic.getDescriptor(CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID);\n         int connectedState;\n         device = gatt.getDevice();\n         manager = (BluetoothManager) context.getSystemService(Context.BLUETOOTH_SERVICE);\n         connectedState = manager.getConnectionState(device, BluetoothProfile.GATT);\n         Log.d(TAG, &quot;connectedState &quot; + connectedState);\n         if (connectedState == STATE_CONNECTED) {\n             if ((properties &amp; PROPERTY_NOTIFY) &gt; 0) {\n                 Log.d(TAG, &quot;read: &quot; + &quot;PROPERTY_NOTIFY&quot;);\n                 value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\n                 descriptor.setValue(value);\n                 Log.d(TAG, &quot;value: &quot; + value.toString());\n             } else if ((properties &amp; PROPERTY_INDICATE) &gt; 0) {\n                 Log.d(TAG, &quot;read: &quot; + &quot;PROPERTY_INDICATE&quot;);\n                 value = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\n                 descriptor.setValue(value);\n\n             } else {\n                 Log.e(TAG, String.format(&quot;ERROR: Characteristic %s does not have notify or indicate property&quot;, characteristic.getUuid()));\n\n             }\n             gatt.writeDescriptor(descriptor);\n             Log.d(TAG, &quot;setCharacteristicNotification: &quot; + characteristic.getUuid().toString());\n             gatt.setCharacteristicNotification(characteristic, true);\n             Log.d(TAG, &quot;setCharacteristicNotification: &quot;+gatt.setCharacteristicNotification(characteristic, true));\n             Log.d(TAG, &quot;descriptor: &quot; + characteristic.getDescriptor(CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID).getUuid().toString());\n         }\n     }\n</code></pre>\n<p>When calling this method in bluetoothGattCallback, even workd the method, with a successful result</p>\n<pre><code>public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n             super.onDescriptorWrite(gatt, descriptor, status);\n             final BluetoothGattCharacteristic parentCharacteristic = descriptor.getCharacteristic();\n\n             if (status != GATT_SUCCESS) {\n                 Log.d(TAG, &quot;onDescriptorWrite: failed&quot;);\n\n             }\n             if (descriptor.getUuid().equals((CHARACTERISTIC_UPDATE_NOTIFICATION_DESCRIPTOR_UUID))) {\n                 Log.d(TAG, &quot;onDescriptorWrite: &quot; + descriptor.getUuid().toString());\n                 if (status == GATT_SUCCESS) {\n                     // Check if we were turning notify on or off\n                     byte[] value = descriptor.getValue();\n                     if (value != null) {\n                         if (value[0] != 0) {\n                             // Notify set to on, add it to the set of notifying characteristics notifyingCharacteristics.add(parentCharacteristic.getUuid());\n                             Log.d(TAG, &quot;onDescriptorWrite: Notify set to on&quot;);\n\n                         }\n                     } else {\n                         // Notify was turned off, so remove it from the set of notifying characteristics notifyingCharacteristics.remove(parentCharacteristic.getUuid());\n                         Log.d(TAG, &quot;onDescriptorWrite: Notify was turned off&quot;);\n                     }\n                 }\n\n             } else {\n                 Log.d(TAG, &quot;onDescriptorWrite: &quot; + &quot;// This was a normal descriptor write..&quot;);\n             }\n\n         }\n\n</code></pre>\n<p>But the public void onCharacteristicRead method is not called when I send data to the bluetooth module.\nIt turns out that <code>gatt.setCharacteristicNotification(characteristic, true);</code> Does not work. I've already tried everything.</p>\n<p>I don't know what I'm doing wrong. I tried manually calling the method</p>\n<pre><code> public void readManual(BluetoothGattCharacteristic characteristic){\n           characteristic = gatt.getService(service.getUuid()).getCharacteristic(characteristic.getUuid());\n           gatt.readCharacteristic(characteristic);\n           BluetoothManager manager = (BluetoothManager)context.getSystemService(Context.BLUETOOTH_SERVICE);\n          \n           Log.d(TAG, &quot;readManual: &quot; + manager.getConnectionState(gatt.getDevice(), BluetoothProfile.GATT));\n           Log.d(TAG, &quot;readManual: &quot; +characteristic.getUuid().toString());\n\n       }\n\n</code></pre>\n<p>And then it works</p>\n<pre><code>public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status){\n          String value=characteristic.getStringValue(0);\n             Log.d(TAG, &quot;onCharacteristicRead: &quot; + value);\n         }\n</code></pre>\n<p>But this method is never called automatically.</p>\n"},{"tags":["java","mongodb","aggregation"],"comments":[{"owner":{"account_id":10907337,"reputation":38824,"user_id":8017690,"display_name":"Yong Shun"},"score":0,"creation_date":1699713601,"post_id":77465459,"comment_id":136567417,"body_markdown":"Not a MongoDB Java Driver user, but I think the [sample](https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/aggregation-expression-operations/#arithmetic-operations) here is what you need.","body":"Not a MongoDB Java Driver user, but I think the <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/aggregation-expression-operations/#arithmetic-operations\" rel=\"nofollow noreferrer\">sample</a> here is what you need."}],"answers":[{"tags":[],"owner":{"account_id":61904,"reputation":643,"user_id":184223,"accept_rate":75,"display_name":"svenkubiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699972544,"creation_date":1699972544,"answer_id":77481460,"question_id":77465459,"body_markdown":"Answer my own question in hope that it will help:\r\n\r\nFor getting the sum it was pretty simple by just using an Accumulator.\r\n\r\n    Bson groupStage = group(&quot;_id&quot;, Accumulators.sum(&quot;totalAmount&quot;, &quot;$amount&quot;));\r\n    \r\n    AggregateIterable aggregation = collection(&quot;bookings&quot;).aggregate(of(matchStage, groupStage));\r\n\r\nThe trick here is to watch out if your are aggregation on POJOa or on the collection. If you have a field (in this case totalAmount) in your POJO than this works fine, otherwise it will return null in your POJO. As for the example, I decided to aggregate on the collection.\r\n\r\nFor group on date, it seems there are no direct classes in the Java Mongo Driver, so I decided to use the direct JSON equivalent and ended up with:\r\n\r\n    Bson groupStage = group(Document.parse(&quot;{&#39;year&#39;: { $year: &#39;$booked&#39; }}&quot;));\r\n\r\n    AggregateIterable aggregation = collection(&quot;bookings&quot;).aggregate(Arrays.asList(groupStage));","title":"How to aggregate &quot;sum&quot; and &quot;date&quot; with MongoDB Java driver","body":"<p>Answer my own question in hope that it will help:</p>\n<p>For getting the sum it was pretty simple by just using an Accumulator.</p>\n<pre><code>Bson groupStage = group(&quot;_id&quot;, Accumulators.sum(&quot;totalAmount&quot;, &quot;$amount&quot;));\n\nAggregateIterable aggregation = collection(&quot;bookings&quot;).aggregate(of(matchStage, groupStage));\n</code></pre>\n<p>The trick here is to watch out if your are aggregation on POJOa or on the collection. If you have a field (in this case totalAmount) in your POJO than this works fine, otherwise it will return null in your POJO. As for the example, I decided to aggregate on the collection.</p>\n<p>For group on date, it seems there are no direct classes in the Java Mongo Driver, so I decided to use the direct JSON equivalent and ended up with:</p>\n<pre><code>Bson groupStage = group(Document.parse(&quot;{'year': { $year: '$booked' }}&quot;));\n\nAggregateIterable aggregation = collection(&quot;bookings&quot;).aggregate(Arrays.asList(groupStage));\n</code></pre>\n"}],"owner":{"account_id":61904,"reputation":643,"user_id":184223,"accept_rate":75,"display_name":"svenkubiak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77481460,"answer_count":1,"score":-1,"last_activity_date":1699972544,"creation_date":1699712864,"question_id":77465459,"body_markdown":"I am looking for an up-to-date example on how to do &quot;sum&quot; and &quot;date&quot; aggregations with the MongoDB Java Driver. I am using mongodb-driver-sync version 4.11.1.\r\n\r\nHaving the following data model:\r\n\r\n```\r\n{\r\n  &quot;_id&quot;: {\r\n    &quot;$oid&quot;: &quot;654e3f36582773107c4570f1&quot;\r\n  },\r\n  &quot;booked&quot;: {\r\n    &quot;$date&quot;: &quot;2011-01-05T01:00:00.000Z&quot;\r\n  },\r\n  &quot;amount&quot;: {\r\n    &quot;$numberDecimal&quot;: &quot;45.08&quot;\r\n  }\r\n}\r\n```\r\n\r\nFirst thing i&#39;d like to do is sum the amount of all data entries. However, the examples I have found, only use &quot;count&quot; which doesn&#39;t help much. One example of this is on the official documentation.\r\n\r\n```\r\nArrays.asList(\r\n            Aggregates.match(Filters.eq(&quot;categories&quot;, &quot;Bakery&quot;)),\r\n            Aggregates.group(&quot;$stars&quot;, Accumulators.sum(&quot;count&quot;, 1))\r\n    )\r\n```\r\n\r\nSee: https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/aggregation/#aggregation-expression-example\r\n\r\nSecond thing i&#39;d like to do is to group by month or year sometimes both. Based one the documentation, I would assume this should be done with Accumulators, but there are no date based Accumulators, only sum, avg, etc. So something like this won&#39;t work:\r\n\r\n```\r\nList&lt;Bson&gt; pipeline = Arrays.asList(group(&quot;_id&quot;, Accumulators.month ... ));\r\n```\r\n","title":"How to aggregate &quot;sum&quot; and &quot;date&quot; with MongoDB Java driver","body":"<p>I am looking for an up-to-date example on how to do &quot;sum&quot; and &quot;date&quot; aggregations with the MongoDB Java Driver. I am using mongodb-driver-sync version 4.11.1.</p>\n<p>Having the following data model:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;654e3f36582773107c4570f1&quot;\n  },\n  &quot;booked&quot;: {\n    &quot;$date&quot;: &quot;2011-01-05T01:00:00.000Z&quot;\n  },\n  &quot;amount&quot;: {\n    &quot;$numberDecimal&quot;: &quot;45.08&quot;\n  }\n}\n</code></pre>\n<p>First thing i'd like to do is sum the amount of all data entries. However, the examples I have found, only use &quot;count&quot; which doesn't help much. One example of this is on the official documentation.</p>\n<pre><code>Arrays.asList(\n            Aggregates.match(Filters.eq(&quot;categories&quot;, &quot;Bakery&quot;)),\n            Aggregates.group(&quot;$stars&quot;, Accumulators.sum(&quot;count&quot;, 1))\n    )\n</code></pre>\n<p>See: <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/aggregation/#aggregation-expression-example\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/aggregation/#aggregation-expression-example</a></p>\n<p>Second thing i'd like to do is to group by month or year sometimes both. Based one the documentation, I would assume this should be done with Accumulators, but there are no date based Accumulators, only sum, avg, etc. So something like this won't work:</p>\n<pre><code>List&lt;Bson&gt; pipeline = Arrays.asList(group(&quot;_id&quot;, Accumulators.month ... ));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":354057,"reputation":6245,"user_id":692168,"accept_rate":79,"display_name":"AxiomaticNexus"},"score":0,"creation_date":1398373401,"post_id":23279738,"comment_id":35631634,"body_markdown":"Some code would be nice.","body":"Some code would be nice."},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1398373420,"post_id":23279738,"comment_id":35631645,"body_markdown":"is it a file? is it user input? show us some code, then we can guide you","body":"is it a file? is it user input? show us some code, then we can guide you"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1699972927,"post_id":23279738,"comment_id":136595901,"body_markdown":"Just call your code in a loop in order to process the remaining lines.","body":"Just call your code in a loop in order to process the remaining lines."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699973353,"post_id":23279738,"comment_id":136595970,"body_markdown":"that is exactly what loops are for","body":"that is exactly what loops are for"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700066844,"post_id":23279738,"comment_id":136609924,"body_markdown":"Lol we&#39;re commenting on a 9-year-old question! &#129315;","body":"Lol we&#39;re commenting on a 9-year-old question! 🤣"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398373453,"creation_date":1398373453,"answer_id":23279774,"question_id":23279738,"body_markdown":"Use scanner&#39;s `hasNextLine()` to check for the existence next line and `nextLine()` to actually obtain it\r\n\r\nCheck out [this][1] tutorial\r\n\r\n\r\n  [1]: http://javatutorialhq.com/java/util/scanner-class-tutorial/nextline-method-example/","title":"How to use Scanner to scan new Line in java?","body":"<p>Use scanner's <code>hasNextLine()</code> to check for the existence next line and <code>nextLine()</code> to actually obtain it</p>\n\n<p>Check out <a href=\"http://javatutorialhq.com/java/util/scanner-class-tutorial/nextline-method-example/\" rel=\"nofollow\">this</a> tutorial</p>\n"},{"tags":[],"owner":{"account_id":29889359,"reputation":11,"user_id":22905885,"display_name":"zdeeeeeee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699972160,"creation_date":1699972133,"answer_id":77481399,"question_id":23279738,"body_markdown":"Try this: \r\n\r\n    public static String read(String filePath) {\r\n        try {\r\n            Scanner scanner = new Scanner(Paths.get(filePath).toFile());\r\n            StringBuilder result = new StringBuilder();\r\n            while (scanner.hasNextLine()) {\r\n                result.append(scanner.nextLine());\r\n                result.append(&quot;\\n&quot;);\r\n            }\r\n            scanner.close();\r\n            return result.toString();\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }","title":"How to use Scanner to scan new Line in java?","body":"<p>Try this:</p>\n<pre><code>public static String read(String filePath) {\n    try {\n        Scanner scanner = new Scanner(Paths.get(filePath).toFile());\n        StringBuilder result = new StringBuilder();\n        while (scanner.hasNextLine()) {\n            result.append(scanner.nextLine());\n            result.append(&quot;\\n&quot;);\n        }\n        scanner.close();\n        return result.toString();\n    } catch (IOException e){\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":4309091,"reputation":15,"user_id":3520707,"display_name":"Vanishadow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1699972160,"creation_date":1398373322,"question_id":23279738,"body_markdown":"    74874 56874\r\n    45484  45645\r\n    56564  56565\r\nThe data above are from the File called dataFile\r\n\r\nI dunno how to scan line #2 , my program only scan the first line 74874 56874.\r\ni am using the `nextInt()` method.\r\n\r\n    int data1 = dataFile.nextInt();\r\n    int data2 = dataFile.nextInt();\r\n    anyNewArrival = (((data1%100)+1)&lt;= chancesOfArrival);\r\n    transactionTime = (data2%maxTransactionTime)+1;\r\n\r\n","title":"How to use Scanner to scan new Line in java?","body":"<pre><code>74874 56874\n45484  45645\n56564  56565\n</code></pre>\n\n<p>The data above are from the File called dataFile</p>\n\n<p>I dunno how to scan line #2 , my program only scan the first line 74874 56874.\ni am using the <code>nextInt()</code> method.</p>\n\n<pre><code>int data1 = dataFile.nextInt();\nint data2 = dataFile.nextInt();\nanyNewArrival = (((data1%100)+1)&lt;= chancesOfArrival);\ntransactionTime = (data2%maxTransactionTime)+1;\n</code></pre>\n"},{"tags":["java","spring-boot","jsonresponse"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":4,"creation_date":1699972666,"post_id":77481379,"comment_id":136595822,"body_markdown":"*The expected response* is not a valid JSON","body":"<i>The expected response</i> is not a valid JSON"},{"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"score":0,"creation_date":1699972935,"post_id":77481379,"comment_id":136595903,"body_markdown":"If you show us your code, someone can tell you what&#39;s wrong.","body":"If you show us your code, someone can tell you what&#39;s wrong."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1699973949,"post_id":77481379,"comment_id":136596103,"body_markdown":"Please explain why do you want the first response (it&#39;s not valid json as already mentioned). The second one (which you don&#39;t want) is **valid** json, which any json parser should be able to handle.","body":"Please explain why do you want the first response (it&#39;s not valid json as already mentioned). The second one (which you don&#39;t want) is <b>valid</b> json, which any json parser should be able to handle."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1699981608,"post_id":77481379,"comment_id":136597805,"body_markdown":"Are you using a JSON parser? If so you should never see the escaping, you should just get the values with quotes. If not, it&#39;s about time to use one. Don&#39;t try to roll out a buggy implementation yourself, it&#39;s a waste of time.","body":"Are you using a JSON parser? If so you should never see the escaping, you should just get the values with quotes. If not, it&#39;s about time to use one. Don&#39;t try to roll out a buggy implementation yourself, it&#39;s a waste of time."}],"owner":{"account_id":16213402,"reputation":29,"user_id":11706745,"display_name":"Keerthana Hemachandran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":0,"score":-2,"last_activity_date":1699971920,"creation_date":1699971920,"question_id":77481379,"body_markdown":"I am working on a REST API that fetches data from ELK and generates the payload in required format. One of the fields in the response is an array of strings. The individual String value might contain double quotes within them. This is causing escape characters to be included in the response alone. How to remove these escape characters. \r\n\r\nThe DTO is as follows:\r\n```\r\nString name;\r\nString empID;\r\nString[] empSchema;\r\n```\r\nThe expected response is :\r\n```\r\n{\r\n&quot;name&quot; : &quot;aaa&quot;,\r\n&quot;empID&quot; : &quot;xyz123&quot;,\r\n&quot;empSchema&quot; : [\r\n     &quot;emp1-empname-&quot;aaa&quot; xyz123&quot;,\r\n     &quot;emp2-empname-&quot;bbb&quot; xyz345&quot;\r\n]\r\n}\r\n```\r\nBut the response obtained is :\r\n```\r\n{\r\n&quot;name&quot; : &quot;aaa&quot;,\r\n&quot;empID&quot; : &quot;xyz123&quot;,\r\n&quot;empSchema&quot; : [\r\n     &quot;emp1-empname-\\&quot;aaa\\&quot; xyz123&quot;,\r\n     &quot;emp2-empname-\\&quot;bbb\\&quot; xyz345&quot;\r\n]\r\n}\r\n```\r\nI am using object mapper to map the response from ELK to an object. The escape characters are seen or generated only in the API response and nowhere before that.  \r\n\r\nThanks!\r\n","title":"How to remove escape characters in API JSON response of a Spring Boot application","body":"<p>I am working on a REST API that fetches data from ELK and generates the payload in required format. One of the fields in the response is an array of strings. The individual String value might contain double quotes within them. This is causing escape characters to be included in the response alone. How to remove these escape characters.</p>\n<p>The DTO is as follows:</p>\n<pre><code>String name;\nString empID;\nString[] empSchema;\n</code></pre>\n<p>The expected response is :</p>\n<pre><code>{\n&quot;name&quot; : &quot;aaa&quot;,\n&quot;empID&quot; : &quot;xyz123&quot;,\n&quot;empSchema&quot; : [\n     &quot;emp1-empname-&quot;aaa&quot; xyz123&quot;,\n     &quot;emp2-empname-&quot;bbb&quot; xyz345&quot;\n]\n}\n</code></pre>\n<p>But the response obtained is :</p>\n<pre><code>{\n&quot;name&quot; : &quot;aaa&quot;,\n&quot;empID&quot; : &quot;xyz123&quot;,\n&quot;empSchema&quot; : [\n     &quot;emp1-empname-\\&quot;aaa\\&quot; xyz123&quot;,\n     &quot;emp2-empname-\\&quot;bbb\\&quot; xyz345&quot;\n]\n}\n</code></pre>\n<p>I am using object mapper to map the response from ELK to an object. The escape characters are seen or generated only in the API response and nowhere before that.</p>\n<p>Thanks!</p>\n"},{"tags":["java","netbeans","lombok"],"answers":[{"comments":[{"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"score":0,"creation_date":1437007524,"post_id":24138204,"comment_id":50856143,"body_markdown":"Agreed with the answer but it would be nice to have support for Javax Validation annotations.","body":"Agreed with the answer but it would be nice to have support for Javax Validation annotations."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1437007912,"post_id":24138204,"comment_id":50856232,"body_markdown":"@coolersport Right, this would be nice. In your case, I&#39;d just write all the validating setters manually and use Lombok for the remaining stuff.","body":"@coolersport Right, this would be nice. In your case, I&#39;d just write all the validating setters manually and use Lombok for the remaining stuff."}],"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1437007823,"creation_date":1402394743,"answer_id":24138204,"question_id":24109183,"body_markdown":"The short answer is that you can&#39;t.\r\n\r\nThe only consistency check supported now is `@Nonnull`. If you want anything else, you have to write your setters manually. Obviously, no tool can do all the check you listed and describing them  via annotations would be cumbersome at best.\r\n\r\nSometimes, this [feature request][1] could help. It might be too course grained for your needs or not. Quite often, all you need is to write some setters manually. This feature is more useful with immutable objects as it will provide the only way to add validation to generated constructors.\r\n\r\n[1]: https://github.com/rzwitserloot/lombok/issues/674","title":"How to make custom validations in Project Lombok setters","body":"<p>The short answer is that you can't.</p>\n\n<p>The only consistency check supported now is <code>@Nonnull</code>. If you want anything else, you have to write your setters manually. Obviously, no tool can do all the check you listed and describing them  via annotations would be cumbersome at best.</p>\n\n<p>Sometimes, this <a href=\"https://github.com/rzwitserloot/lombok/issues/674\" rel=\"nofollow\">feature request</a> could help. It might be too course grained for your needs or not. Quite often, all you need is to write some setters manually. This feature is more useful with immutable objects as it will provide the only way to add validation to generated constructors.</p>\n"},{"comments":[{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1636638534,"post_id":67280233,"comment_id":123614475,"body_markdown":"It&#39;s probably better to put the validation in the constructor: 1. otherwise the all args constructor will have no validation 2. the builder often times contains code that is not trivial to reproduce (default values, singular setters for collections).","body":"It&#39;s probably better to put the validation in the constructor: 1. otherwise the all args constructor will have no validation 2. the builder often times contains code that is not trivial to reproduce (default values, singular setters for collections)."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1636639037,"post_id":67280233,"comment_id":123614707,"body_markdown":"Although, if the all args constructor is not public/used, a way to fix #2 would be to add `buildMethodName = &quot;someUglyName&quot;`, and provide your own `build` which is based on `someUglyName`. \ni.e. it calls `someUglyName()`, performs/calls validations and returns the object","body":"Although, if the all args constructor is not public/used, a way to fix #2 would be to add <code>buildMethodName = &quot;someUglyName&quot;</code>, and provide your own <code>build</code> which is based on <code>someUglyName</code>.  i.e. it calls <code>someUglyName()</code>, performs/calls validations and returns the object"}],"tags":[],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619514999,"creation_date":1619514999,"answer_id":67280233,"question_id":24109183,"body_markdown":"Although validation on setters is not possible as of today but **you can do custom validations on lombok Builder.**\r\n\r\nTo do this you should override Builder.build method and put your validations there. Sample code snippet looks like below\r\n\r\n\r\n```\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\n@Builder(builderClassName = &quot;Builder&quot;,buildMethodName = &quot;build&quot;)\r\npublic class Customer {\r\n    private long id;\r\n    private String name;\r\n\r\n    static class Builder {\r\n        Customer build() {\r\n            if (id &lt; 0) {\r\n                throw new RuntimeException(&quot;Invaid id&quot;);\r\n            }\r\n            if (Objects.isNull(name)) {\r\n                throw new RuntimeException(&quot;name is null&quot;);\r\n            }\r\n            return new Customer(id, name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[source and credit][1]\r\n\r\n\r\n  [1]: https://trguduru.github.io/2019/06/add-custom-validations-with-lombok-builders/","title":"How to make custom validations in Project Lombok setters","body":"<p>Although validation on setters is not possible as of today but <strong>you can do custom validations on lombok Builder.</strong></p>\n<p>To do this you should override Builder.build method and put your validations there. Sample code snippet looks like below</p>\n<pre><code>@Getter\n@EqualsAndHashCode\n@ToString\n@Builder(builderClassName = &quot;Builder&quot;,buildMethodName = &quot;build&quot;)\npublic class Customer {\n    private long id;\n    private String name;\n\n    static class Builder {\n        Customer build() {\n            if (id &lt; 0) {\n                throw new RuntimeException(&quot;Invaid id&quot;);\n            }\n            if (Objects.isNull(name)) {\n                throw new RuntimeException(&quot;name is null&quot;);\n            }\n            return new Customer(id, name);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://trguduru.github.io/2019/06/add-custom-validations-with-lombok-builders/\" rel=\"nofollow noreferrer\">source and credit</a></p>\n"},{"tags":[],"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699971891,"creation_date":1699971891,"answer_id":77481375,"question_id":24109183,"body_markdown":"You can also use `@Builder` on a constructor and add the validation there.\r\nUpon building the annotated constructor will be used.\r\n\r\nexample:\r\n\r\n```java\r\n\r\n@Getter\r\n@EqualsAndHashCode\r\n class MyDto {\r\n\r\n    private final String thisCannotBeNull;\r\n    private final String someOtherValue;\r\n    private final String thisValueCannotBeNull;\r\n    private final String someValue2;\r\n\r\n    @Builder\r\n    public CreateOrderRequestDto(@JsonProperty(&quot;thisValueCannotBeNull&quot;) final String thisValueCannotBeNull,\r\n                                 @JsonProperty(&quot;someOtherValue&quot;) final String someOtherValue,\r\n                                 @JsonProperty(&quot;thisValueCannotBeNull&quot;) final String someOtherValue,\r\n                                 @JsonProperty(&quot;someValue2&quot;) final String someValue2) {\r\n        this.thisCannotBeNull = notNull(thisValueCannotBeNull);\r\n        this.thisValueCannotBeNull = notNull(thisValueCannotBeNull);\r\n        this.someOtherValue = someOtherValue;\r\n        this.someValue2 = someValue2;\r\n    }\r\n}\r\n```\r\nignore `@JsonProperty` if you are not interested in it. The main idea here is the notNull validation in the constructor","title":"How to make custom validations in Project Lombok setters","body":"<p>You can also use <code>@Builder</code> on a constructor and add the validation there.\nUpon building the annotated constructor will be used.</p>\n<p>example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@EqualsAndHashCode\n class MyDto {\n\n    private final String thisCannotBeNull;\n    private final String someOtherValue;\n    private final String thisValueCannotBeNull;\n    private final String someValue2;\n\n    @Builder\n    public CreateOrderRequestDto(@JsonProperty(&quot;thisValueCannotBeNull&quot;) final String thisValueCannotBeNull,\n                                 @JsonProperty(&quot;someOtherValue&quot;) final String someOtherValue,\n                                 @JsonProperty(&quot;thisValueCannotBeNull&quot;) final String someOtherValue,\n                                 @JsonProperty(&quot;someValue2&quot;) final String someValue2) {\n        this.thisCannotBeNull = notNull(thisValueCannotBeNull);\n        this.thisValueCannotBeNull = notNull(thisValueCannotBeNull);\n        this.someOtherValue = someOtherValue;\n        this.someValue2 = someValue2;\n    }\n}\n</code></pre>\n<p>ignore <code>@JsonProperty</code> if you are not interested in it. The main idea here is the notNull validation in the constructor</p>\n"}],"owner":{"account_id":212273,"reputation":806,"user_id":465001,"accept_rate":58,"display_name":"user465001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9659,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24138204,"answer_count":3,"score":5,"last_activity_date":1699971891,"creation_date":1402250623,"question_id":24109183,"body_markdown":"I have a project(ID3 tagging) that contains dozens of setters and getters. I&#39;m investigating Project Lombok to see how it can help me. \r\n\r\nSome of the fields that can be set have very strict requirements that could include character encoding, bit-setting, length checks, character ranges and, so on. I could use a builder patter but, there may be cases where the pattern isn&#39;t necessary. What if I want to use validation methods and/or classes rather than annotation? How can I access Lombok&#39;s setters in my Netbeans project to add these validations?","title":"How to make custom validations in Project Lombok setters","body":"<p>I have a project(ID3 tagging) that contains dozens of setters and getters. I'm investigating Project Lombok to see how it can help me. </p>\n\n<p>Some of the fields that can be set have very strict requirements that could include character encoding, bit-setting, length checks, character ranges and, so on. I could use a builder patter but, there may be cases where the pattern isn't necessary. What if I want to use validation methods and/or classes rather than annotation? How can I access Lombok's setters in my Netbeans project to add these validations?</p>\n"},{"tags":["java","spring","spring-mvc","freemarker"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699959878,"post_id":77479964,"comment_id":136593354,"body_markdown":"How are you generating the PDF? Please add the full stacktrace (not just the freemarker part).","body":"How are you generating the PDF? Please add the full stacktrace (not just the freemarker part)."},{"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"score":0,"creation_date":1699971608,"post_id":77479964,"comment_id":136595576,"body_markdown":"I check my war and in the WEB-INF I dont have any view folder","body":"I check my war and in the WEB-INF I dont have any view folder"},{"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"score":0,"creation_date":1699971780,"post_id":77479964,"comment_id":136595617,"body_markdown":"I added the template generator code","body":"I added the template generator code"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699972255,"post_id":77479964,"comment_id":136595726,"body_markdown":"Looks like that code isn&#39;t using anything of the configuration you have in there. The viewresolver is pretty much useless as it is for view rendering not for PDF generation.","body":"Looks like that code isn&#39;t using anything of the configuration you have in there. The viewresolver is pretty much useless as it is for view rendering not for PDF generation."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699972974,"post_id":77479964,"comment_id":136595908,"body_markdown":"In addition I don&#39;t think you can load from `/WEB-INF/views` if you are not rendering a view. So you would need to place the `.ftl` file in the classpath instead of in `/WEB-INF`.","body":"In addition I don&#39;t think you can load from <code>&#47;WEB-INF&#47;views</code> if you are not rendering a view. So you would need to place the <code>.ftl</code> file in the classpath instead of in <code>&#47;WEB-INF</code>."},{"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"score":0,"creation_date":1699975964,"post_id":77479964,"comment_id":136596541,"body_markdown":"In fact I dont need another ftl file else the spring.ftl. The properties auto_import shouldnt import it automaticaly or should I put it mabnualy into the webapp ?","body":"In fact I dont need another ftl file else the spring.ftl. The properties auto_import shouldnt import it automaticaly or should I put it mabnualy into the webapp ?"},{"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"score":0,"creation_date":1699977445,"post_id":77479964,"comment_id":136596868,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255939/discussion-between-ousmane-mbinte-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255939/discussion-between-ousmane-mbinte-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1700036279,"post_id":77479964,"comment_id":136604266,"body_markdown":"The error message states that the `template_loader` configuration setting wasn&#39;t set at all. That suggests that you aren&#39;t using the same `Configuration` that was created at the beginning of your question.","body":"The error message states that the <code>template_loader</code> configuration setting wasn&#39;t set at all. That suggests that you aren&#39;t using the same <code>Configuration</code> that was created at the beginning of your question."}],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699971748,"creation_date":1699958734,"question_id":77479964,"body_markdown":"I use Freemarker templating in my Srping application to generate PDF files from HTML template.\r\nAll template was encoded in Base64 and saved in database. So to generate my PDF file I load the Base64 document and call Freemarker. \r\nDuring the processing I obtain this error : \r\n\r\n    ----\r\n    FTL stack trace (&quot;~&quot; means nesting-related):\r\n    \t- Failed at: #import &quot;/spring.ftl&quot; as spring  [in template &quot;my_template.pdf&quot; at line 5, column 1]\r\n    ----\r\n\r\n    Caused by: freemarker.template.TemplateNotFoundException: Don&#39;t know where to load template &quot;spring.ftl&quot; from because the &quot;template_loader&quot; FreeMarker setting wasn&#39;t set (Configuration.setTemplateLoader), so it&#39;s null.\r\n    \tat freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3024) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.Environment.getTemplateForImporting(Environment.java:3186) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.Environment.importLib(Environment.java:3171) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.Environment.importLib(Environment.java:3135) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.core.LibraryLoad.accept(LibraryLoad.java:65) ~[freemarker-2.3.32.jar:2.3.32]\r\n\r\nYou can found my Freemarker configuration :\r\n\r\n    package com.omb;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class FreeMarkerConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Bean\r\n        public FreeMarkerViewResolver viewResolver() {\r\n            FreeMarkerViewResolver viewResolver = new FreeMarkerViewResolver();\r\n            viewResolver.setExposeSpringMacroHelpers(true);\r\n            viewResolver.setExposeRequestAttributes(true);\r\n            viewResolver.setPrefix(&quot;&quot;);\r\n            viewResolver.setSuffix(&quot;.ftl&quot;);\r\n            viewResolver.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n            return viewResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public FreeMarkerConfigurer freemarkerConfig() {\r\n            FreeMarkerConfigurer configurer = new FreeMarkerConfigurer();\r\n            configurer.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            configurer.setTemplateLoaderPath(&quot;/WEB-INF/views/&quot;);\r\n            Properties settings = new Properties();\r\n            settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\r\n            configurer.setFreemarkerSettings(settings);\r\n            return configurer;\r\n        }\r\n    }\r\n\r\nTemplate html\r\n\r\n    &lt;#import &quot;/spring.ftl&quot; as spring/&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div&gt;&lt;@spring.message &quot;MESSAGE_FROM_RESSOURCE_BUNDLE&quot;/&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nTemplate generator code : \r\n\r\n    public static byte[] generateDoc(String templateName, String templateDocument, Map&lt;String, Object&gt; objects, Map&lt;String, Object&gt; params) throws IOException, TemplateException {\r\n            Map&lt;String, Object&gt; ownParams = checkParams(params);\r\n            Configuration config = getConfig();\r\n            ConverterProperties converterProperties = getConverterProperties();\r\n    \r\n            Template template = new Template(templateName, new StringReader(templateDocument), config);\r\n    \r\n            try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n                Writer writer = new OutputStreamWriter(out);\r\n    \r\n                Environment env = template.createProcessingEnvironment(objects, writer);\r\n                populateEnvironnment(env);\r\n                env.process();\r\n    \r\n                ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n                PdfDocument output = new PdfDocument(new PdfWriter(fos));\r\n                output.setDefaultPageSize((PageSize) ownParams.get(PAGE_SIZE));\r\n    \r\n                try (ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray())) {\r\n                    HtmlConverter.convertToPdf(in, output, converterProperties);\r\n                }\r\n                return fos.toByteArray();\r\n            }\r\n        }","title":"Don&#39;t know where to load template &quot;spring.ftl&quot; in Freemarker html template with Spring MVC","body":"<p>I use Freemarker templating in my Srping application to generate PDF files from HTML template.\nAll template was encoded in Base64 and saved in database. So to generate my PDF file I load the Base64 document and call Freemarker.\nDuring the processing I obtain this error :</p>\n<pre><code>----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #import &quot;/spring.ftl&quot; as spring  [in template &quot;my_template.pdf&quot; at line 5, column 1]\n----\n\nCaused by: freemarker.template.TemplateNotFoundException: Don't know where to load template &quot;spring.ftl&quot; from because the &quot;template_loader&quot; FreeMarker setting wasn't set (Configuration.setTemplateLoader), so it's null.\n    at freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3024) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.Environment.getTemplateForImporting(Environment.java:3186) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.Environment.importLib(Environment.java:3171) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.Environment.importLib(Environment.java:3135) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.core.LibraryLoad.accept(LibraryLoad.java:65) ~[freemarker-2.3.32.jar:2.3.32]\n</code></pre>\n<p>You can found my Freemarker configuration :</p>\n<pre><code>package com.omb;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\n\nimport java.util.Properties;\n\n@Configuration\n@EnableWebMvc\npublic class FreeMarkerConfiguration implements WebMvcConfigurer {\n\n    @Bean\n    public FreeMarkerViewResolver viewResolver() {\n        FreeMarkerViewResolver viewResolver = new FreeMarkerViewResolver();\n        viewResolver.setExposeSpringMacroHelpers(true);\n        viewResolver.setExposeRequestAttributes(true);\n        viewResolver.setPrefix(&quot;&quot;);\n        viewResolver.setSuffix(&quot;.ftl&quot;);\n        viewResolver.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        return viewResolver;\n    }\n\n    @Bean\n    public FreeMarkerConfigurer freemarkerConfig() {\n        FreeMarkerConfigurer configurer = new FreeMarkerConfigurer();\n        configurer.setDefaultEncoding(&quot;UTF-8&quot;);\n        configurer.setTemplateLoaderPath(&quot;/WEB-INF/views/&quot;);\n        Properties settings = new Properties();\n        settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\n        configurer.setFreemarkerSettings(settings);\n        return configurer;\n    }\n}\n</code></pre>\n<p>Template html</p>\n<pre><code>&lt;#import &quot;/spring.ftl&quot; as spring/&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;div&gt;&lt;@spring.message &quot;MESSAGE_FROM_RESSOURCE_BUNDLE&quot;/&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Template generator code :</p>\n<pre><code>public static byte[] generateDoc(String templateName, String templateDocument, Map&lt;String, Object&gt; objects, Map&lt;String, Object&gt; params) throws IOException, TemplateException {\n        Map&lt;String, Object&gt; ownParams = checkParams(params);\n        Configuration config = getConfig();\n        ConverterProperties converterProperties = getConverterProperties();\n\n        Template template = new Template(templateName, new StringReader(templateDocument), config);\n\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            Writer writer = new OutputStreamWriter(out);\n\n            Environment env = template.createProcessingEnvironment(objects, writer);\n            populateEnvironnment(env);\n            env.process();\n\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\n            PdfDocument output = new PdfDocument(new PdfWriter(fos));\n            output.setDefaultPageSize((PageSize) ownParams.get(PAGE_SIZE));\n\n            try (ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray())) {\n                HtmlConverter.convertToPdf(in, output, converterProperties);\n            }\n            return fos.toByteArray();\n        }\n    }\n</code></pre>\n"},{"tags":["java","variables","localdate","localtime"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1579292570,"post_id":59794340,"comment_id":105730805,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-int-int-int-int-int-, https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-java.time.LocalDate-java.time.LocalTime-, https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-int-int-int-int-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-java.time.LocalDate-java.time.LocalTime-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1579292599,"post_id":59794340,"comment_id":105730816,"body_markdown":"Check out the documentation of [`LocalDateTime`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDateTime.html). It provides multiple static methods for creating instances, just use `0` for arguments pertaining to time.","body":"Check out the documentation of <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>. It provides multiple static methods for creating instances, just use <code>0</code> for arguments pertaining to time."},{"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"score":0,"creation_date":1579302852,"post_id":59794340,"comment_id":105733831,"body_markdown":"&quot;Include tme&quot;? What do you mean? Could you please provide some samle input and the expected outcome? It&#180;s pretty unclear what you want to achieve.","body":"&quot;Include tme&quot;? What do you mean? Could you please provide some samle input and the expected outcome? It&#180;s pretty unclear what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579547023,"creation_date":1579382420,"answer_id":59804955,"question_id":59794340,"body_markdown":"The elegant way goes through a `LocalDate`:\r\n\r\n\t\tLocalDateTime dateTime = LocalDate.of(2020, Month.JANUARY, 18).atStartOfDay();\r\n\t    System.out.println(dateTime);\r\n\r\nOutput from this snippet is:\r\n\r\n&gt; 2020-01-18T00:00\r\n\r\nIf you’ve got the month as a number, like 1 for January, use `LocalDate.of(2020, 1, 18)` instead. The rest is the same.\r\n\r\n**Think twice before using `LocalDateTime`**. We usually use date and time together for establishing a point in time. `LocalDateTime` is unsuited for that (some will say that it can’t). Why and how? It doesn’t know any time zone or offset from UTC. So any person and any piece of software reading the `LocalDateTime` is free to interpret it into any time zone they happen to think of and not the intended one. For at least 19 out of 20 purposes you’re better off with either a `ZonedDateTime` or an `OffsetDateTime`. For example:\r\n\r\n\t\tZoneId zone = ZoneId.of(&quot;America/Recife&quot;);\r\n\t\tZonedDateTime dateTime = LocalDate.of(2020, Month.JANUARY, 18).atStartOfDay(zone);\r\n\r\n&gt; 2020-01-18T00:00-03:00[America/Recife]\r\n\r\nThe `-03:00` between the minutes and the zone ID is the offset from UTC. Now we’re leaving no room for misinterpretation.\r\n\r\n","title":"How do I create a LocalDateTime instance?","body":"<p>The elegant way goes through a <code>LocalDate</code>:</p>\n\n<pre><code>    LocalDateTime dateTime = LocalDate.of(2020, Month.JANUARY, 18).atStartOfDay();\n    System.out.println(dateTime);\n</code></pre>\n\n<p>Output from this snippet is:</p>\n\n<blockquote>\n  <p>2020-01-18T00:00</p>\n</blockquote>\n\n<p>If you’ve got the month as a number, like 1 for January, use <code>LocalDate.of(2020, 1, 18)</code> instead. The rest is the same.</p>\n\n<p><strong>Think twice before using <code>LocalDateTime</code></strong>. We usually use date and time together for establishing a point in time. <code>LocalDateTime</code> is unsuited for that (some will say that it can’t). Why and how? It doesn’t know any time zone or offset from UTC. So any person and any piece of software reading the <code>LocalDateTime</code> is free to interpret it into any time zone they happen to think of and not the intended one. For at least 19 out of 20 purposes you’re better off with either a <code>ZonedDateTime</code> or an <code>OffsetDateTime</code>. For example:</p>\n\n<pre><code>    ZoneId zone = ZoneId.of(\"America/Recife\");\n    ZonedDateTime dateTime = LocalDate.of(2020, Month.JANUARY, 18).atStartOfDay(zone);\n</code></pre>\n\n<blockquote>\n  <p>2020-01-18T00:00-03:00[America/Recife]</p>\n</blockquote>\n\n<p>The <code>-03:00</code> between the minutes and the zone ID is the offset from UTC. Now we’re leaving no room for misinterpretation.</p>\n"}],"owner":{"account_id":17529098,"reputation":11,"user_id":12713525,"display_name":"Jenn "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4401,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1699971329,"creation_date":1579292408,"question_id":59794340,"body_markdown":"If I only have the year, month and day, how do I initialize a [LocalDateTime][1] instance?\r\n\r\nIf I have to include time, I will just set it to 00:00:00.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How do I create a LocalDateTime instance?","body":"<p>If I only have the year, month and day, how do I initialize a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> instance?</p>\n<p>If I have to include time, I will just set it to 00:00:00.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-event-bridge"],"answers":[{"tags":[],"owner":{"account_id":7113774,"reputation":113,"user_id":5440784,"display_name":"Bravin Ninja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612887504,"creation_date":1612887504,"answer_id":66122848,"question_id":66118032,"body_markdown":"I am able to access the Event as Map&lt;String,Object&gt;. The &quot;detail&quot; key in the map gives the actual values those are put in the Eventbridge.\r\n","title":"AWS EventBridge Target Java Lambda function","body":"<p>I am able to access the Event as Map&lt;String,Object&gt;. The &quot;detail&quot; key in the map gives the actual values those are put in the Eventbridge.</p>\n"},{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687829205,"post_id":66165782,"comment_id":134988067,"body_markdown":"Ah, I think one thing that wasn&#39;t clear to me at first (hence the other answers I gave, which I&#39;ve deleted) is that you&#39;re saying the class should _implement_ `RequestHandler&lt;Map&lt;String,String&gt;, String&gt;`, which means the method parameter should be `Map&lt;String,String&gt;`. It makes sense now, but the question showed the method signature, so the prescription of what to change it to in this answer wasn&#39;t clear to me at first.","body":"Ah, I think one thing that wasn&#39;t clear to me at first (hence the other answers I gave, which I&#39;ve deleted) is that you&#39;re saying the class should <i>implement</i> <code>RequestHandler&lt;Map&lt;String,String&gt;, String&gt;</code>, which means the method parameter should be <code>Map&lt;String,String&gt;</code>. It makes sense now, but the question showed the method signature, so the prescription of what to change it to in this answer wasn&#39;t clear to me at first."}],"tags":[],"owner":{"account_id":9222120,"reputation":908,"user_id":6851121,"display_name":"blr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613098317,"creation_date":1613098317,"answer_id":66165782,"question_id":66118032,"body_markdown":"\r\nYou need to change you request handler from using `RequestHandler&lt;SQSEvent, String&gt;` to using `RequestHandler&lt;Map&lt;String,String&gt;, String&gt;`. This will also lead to additional changes in your class / functions. \r\n\r\nEventBridge events (schedules or your events) will show up in the input as an json encoded string. \r\n\r\nPersonally, I find it easier to leverage the RequestStreamHandler defined in https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html#java-handler-interfaces. There&#39;s also some sample code linked that you may find helpful around deserialization. \r\n","title":"AWS EventBridge Target Java Lambda function","body":"<p>You need to change you request handler from using <code>RequestHandler&lt;SQSEvent, String&gt;</code> to using <code>RequestHandler&lt;Map&lt;String,String&gt;, String&gt;</code>. This will also lead to additional changes in your class / functions.</p>\n<p>EventBridge events (schedules or your events) will show up in the input as an json encoded string.</p>\n<p>Personally, I find it easier to leverage the RequestStreamHandler defined in <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html#java-handler-interfaces\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html#java-handler-interfaces</a>. There's also some sample code linked that you may find helpful around deserialization.</p>\n"},{"tags":[],"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699971314,"creation_date":1699971314,"answer_id":77481297,"question_id":66118032,"body_markdown":"Events from EventBridge are in the format of Cloudwatch ScheduledEvents. AWS Lambda Runtime can unmarshall the incoming json into `com.amazonaws.services.lambda.runtime.events.ScheduledEvent`:\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.ScheduledEvent;\r\n    \r\n    public class Handler implements RequestHandler&lt;ScheduledEvent, Boolean&gt; {\r\n    \r\n        @Override\r\n        public Boolean handleRequest(ScheduledEvent input, Context context) {\r\n            return true;\r\n        }\r\n    }\r\n","title":"AWS EventBridge Target Java Lambda function","body":"<p>Events from EventBridge are in the format of Cloudwatch ScheduledEvents. AWS Lambda Runtime can unmarshall the incoming json into <code>com.amazonaws.services.lambda.runtime.events.ScheduledEvent</code>:</p>\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.ScheduledEvent;\n\npublic class Handler implements RequestHandler&lt;ScheduledEvent, Boolean&gt; {\n\n    @Override\n    public Boolean handleRequest(ScheduledEvent input, Context context) {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7113774,"reputation":113,"user_id":5440784,"display_name":"Bravin Ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7024,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":66165782,"answer_count":3,"score":8,"last_activity_date":1699971314,"creation_date":1612869704,"question_id":66118032,"body_markdown":"I am using a Java lambda function to put a custom event to the AWS EventBridge. The target of this eventbridge is another Java lambda function. How to receive the Event in the target lambda function? I mean what is the input type in the handleRequest method I have to use? Tried using ScheduledEvent as an input type but it didn&#39;t work. Searched many EventBridge API documents but didn&#39;t get the details as how to receive the data in the Java lambda function from Eventbridge.\r\n\r\nThe below is an example for receiving the SQS Event. In the same way what type I should use for the events triggered from EventBridge?\r\n```\r\n@Override\r\n  public String handleRequest(SQSEvent event, Context context)\r\n```","title":"AWS EventBridge Target Java Lambda function","body":"<p>I am using a Java lambda function to put a custom event to the AWS EventBridge. The target of this eventbridge is another Java lambda function. How to receive the Event in the target lambda function? I mean what is the input type in the handleRequest method I have to use? Tried using ScheduledEvent as an input type but it didn't work. Searched many EventBridge API documents but didn't get the details as how to receive the data in the Java lambda function from Eventbridge.</p>\n<p>The below is an example for receiving the SQS Event. In the same way what type I should use for the events triggered from EventBridge?</p>\n<pre><code>@Override\n  public String handleRequest(SQSEvent event, Context context)\n</code></pre>\n"},{"tags":["java","jsonschema","jsonschema2pojo"],"answers":[{"tags":[],"owner":{"account_id":7406679,"reputation":41,"user_id":5635422,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699971292,"creation_date":1699971292,"answer_id":77481296,"question_id":75579476,"body_markdown":"I think you want the `existingJavaType` property instead of `javaType`.  ","title":"jsonschema2pojo is adding some attribute to parent class dynamically","body":"<p>I think you want the <code>existingJavaType</code> property instead of <code>javaType</code>.</p>\n"}],"owner":{"account_id":1043663,"reputation":10314,"user_id":1049104,"accept_rate":33,"display_name":"Manish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699971292,"creation_date":1677494906,"question_id":75579476,"body_markdown":"I have a json schema like this:\r\n\r\n    {\r\n      &quot;JavaType:&quot;com.a.b.c.MyClass&quot;,\r\n      &quot;extends&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;javaType&quot;: &quot;com.a.b.MyBaseClass&quot;\r\n      }\r\n    }\r\n\r\nAfter build is executed `jsonschema2pojo` is adding some attribute &amp; setter/getter dynamically to `MyBaseClass` class. Is there a way we can stop this run time modification to this class? I just want this `MyBaseClass` to have nothing just a symbolic class.","title":"jsonschema2pojo is adding some attribute to parent class dynamically","body":"<p>I have a json schema like this:</p>\n<pre><code>{\n  &quot;JavaType:&quot;com.a.b.c.MyClass&quot;,\n  &quot;extends&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;javaType&quot;: &quot;com.a.b.MyBaseClass&quot;\n  }\n}\n</code></pre>\n<p>After build is executed <code>jsonschema2pojo</code> is adding some attribute &amp; setter/getter dynamically to <code>MyBaseClass</code> class. Is there a way we can stop this run time modification to this class? I just want this <code>MyBaseClass</code> to have nothing just a symbolic class.</p>\n"},{"tags":["java","windows-subsystem-for-linux","ntfs","nio2","fsutil"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606853950,"post_id":65097689,"comment_id":115087393,"body_markdown":"No, there is not, because that would be an OS-specific API, and Java is mostly OS-agnostic.","body":"No, there is not, because that would be an OS-specific API, and Java is mostly OS-agnostic."},{"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"score":1,"creation_date":1606858610,"post_id":65097689,"comment_id":115089362,"body_markdown":"@Andreas, still, while being OS-agnostic, Java (starting with version 7) supports OS-specific `Path` implementations for UNIX and Windows and can read both POSIX and NTFS file attributes. Not to mention Windows-specific AsyncIO support.","body":"@Andreas, still, while being OS-agnostic, Java (starting with version 7) supports OS-specific <code>Path</code> implementations for UNIX and Windows and can read both POSIX and NTFS file attributes. Not to mention Windows-specific AsyncIO support."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1606905353,"post_id":65097689,"comment_id":115102355,"body_markdown":"Java on Windows handles filesystem access of files a/A in same case-sensitive dir - eg Files.readString() or Files.exists checks different case files, BUT Path manipulation does not check the underlying filesystem case - so a.equals(A) is true even when Files.exists(A) is true and Files.exists(a) is false, same for a.toFile().exists() and a.toFile().equals(A.toFile()).","body":"Java on Windows handles filesystem access of files a/A in same case-sensitive dir - eg Files.readString() or Files.exists checks different case files, BUT Path manipulation does not check the underlying filesystem case - so a.equals(A) is true even when Files.exists(A) is true and Files.exists(a) is false, same for a.toFile().exists() and a.toFile().equals(A.toFile())."}],"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1699971284,"creation_date":1606852871,"question_id":65097689,"body_markdown":"Recent Windows 10 builds feature an ability to mark a single NTFS directory (**not** the whole file system) as case sensitive, via `fsutil.exe`:\r\n\r\n * [Per-directory case sensitivity and WSL](https://devblogs.microsoft.com/commandline/per-directory-case-sensitivity-and-wsl/)\r\n * [How to Enable Case Sensitive File and Folder Names on Windows 10](https://www.howtogeek.com/354220/how-to-enable-case-sensitive-folders-on-windows-10/)\r\n\r\nIf I want to query the case-sensitive flag of a given directory from a Java application, I&#39;m currently left with the only option of calling\r\n\r\n```\r\nfsutil.exe file queryCaseSensitiveInfo ...\r\n```\r\n\r\non a per-directory basis, which means spawning potentially multiple processes, which is expensive.\r\n\r\nAre there any planned NIO.2 API extensions in newer Java versions (11+) targeted at case-sensitive NTFS and/or WSL file systems?","title":"Support for case sensitive Windows directories in NIO.2","body":"<p>Recent Windows 10 builds feature an ability to mark a single NTFS directory (<strong>not</strong> the whole file system) as case sensitive, via <code>fsutil.exe</code>:</p>\n<ul>\n<li><a href=\"https://devblogs.microsoft.com/commandline/per-directory-case-sensitivity-and-wsl/\" rel=\"noreferrer\">Per-directory case sensitivity and WSL</a></li>\n<li><a href=\"https://www.howtogeek.com/354220/how-to-enable-case-sensitive-folders-on-windows-10/\" rel=\"noreferrer\">How to Enable Case Sensitive File and Folder Names on Windows 10</a></li>\n</ul>\n<p>If I want to query the case-sensitive flag of a given directory from a Java application, I'm currently left with the only option of calling</p>\n<pre><code>fsutil.exe file queryCaseSensitiveInfo ...\n</code></pre>\n<p>on a per-directory basis, which means spawning potentially multiple processes, which is expensive.</p>\n<p>Are there any planned NIO.2 API extensions in newer Java versions (11+) targeted at case-sensitive NTFS and/or WSL file systems?</p>\n"},{"tags":["java","android","android-studio","storage","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699894906,"post_id":77474401,"comment_id":136585431,"body_markdown":"`create a local file in the device&#39;s memory. ` Ok. Please tell full path of file.","body":"<code>create a local file in the device&#39;s memory. </code> Ok. Please tell full path of file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699895109,"post_id":77474401,"comment_id":136585470,"body_markdown":"And before you try to upload a file use File.exists() and File.canRead().","body":"And before you try to upload a file use File.exists() and File.canRead()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699895238,"post_id":77474401,"comment_id":136585493,"body_markdown":"`internalDir.mkdirs();` mkdirs() can fail. You blindly assume that the directory is made. Better: if(!internalDir.mkdirs()) return;","body":"<code>internalDir.mkdirs();</code> mkdirs() can fail. You blindly assume that the directory is made. Better: if(!internalDir.mkdirs()) return;"},{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699940431,"post_id":77474401,"comment_id":136590624,"body_markdown":"@blackapps, full path of file: /storage/emulated/0/timetracker/2023/11-2023/003.html\nAdded a check that it exists and that it can be read. All true. Also replaced internalDir.mkdir(); with if(!internal Dir.mkdir()) retu;","body":"@blackapps, full path of file: /storage/emulated/0/timetracker/2023/11-2023/003.html Added a check that it exists and that it can be read. All true. Also replaced internalDir.mkdir(); with if(!internal Dir.mkdir()) retu;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699943804,"post_id":77474401,"comment_id":136590913,"body_markdown":"Please update your code with the new stuff. What is Android version of used device?","body":"Please update your code with the new stuff. What is Android version of used device?"},{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699948038,"post_id":77474401,"comment_id":136591404,"body_markdown":"Updated now. Android 6.0. API 23","body":"Updated now. Android 6.0. API 23"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699949123,"post_id":77474401,"comment_id":136591556,"body_markdown":"You have two calls to mkdirs(). That will not go. You did it not like suggested.","body":"You have two calls to mkdirs(). That will not go. You did it not like suggested."},{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699949646,"post_id":77474401,"comment_id":136591632,"body_markdown":"Can you show,how it must be? I think i not correctly understand, what you mean.","body":"Can you show,how it must be? I think i not correctly understand, what you mean."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699954595,"post_id":77474401,"comment_id":136592402,"body_markdown":"I already told you all. But i repeat: if(!internalDir.mkdirs()) return;","body":"I already told you all. But i repeat: if(!internalDir.mkdirs()) return;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699955165,"post_id":77474401,"comment_id":136592509,"body_markdown":"`FileWriter writer = new FileWriter(fileName, false);` You are not using the directory here as fileName is only a file name not a full path to the file. It will probably get created in getFilesDir().","body":"<code>FileWriter writer = new FileWriter(fileName, false);</code> You are not using the directory here as fileName is only a file name not a full path to the file. It will probably get created in getFilesDir()."}],"answers":[{"comments":[{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699940530,"post_id":77475701,"comment_id":136590632,"body_markdown":"I tried to do the same. It doesn&#39;t help","body":"I tried to do the same. It doesn&#39;t help"}],"tags":[],"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699896526,"creation_date":1699896197,"answer_id":77475701,"question_id":77474401,"body_markdown":"Try pressing &quot;F5&quot; (=update the content) in Windows Explorer, or, if that doesn&#39;t help, selecting a different folder and going back to the created folder. If that still doesn&#39;t help, disconnect the smartphone from the PC and reconnect it.","title":"Create file in external storage and open in FileManager Windows","body":"<p>Try pressing &quot;F5&quot; (=update the content) in Windows Explorer, or, if that doesn't help, selecting a different folder and going back to the created folder. If that still doesn't help, disconnect the smartphone from the PC and reconnect it.</p>\n"},{"comments":[{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699957483,"post_id":77479634,"comment_id":136592951,"body_markdown":"Unfortunately, it didn&#39;t help. The file is still not visible in windows explorer. Apparently the problem is not in the code, but with file access rights. Thank you for your time and help.","body":"Unfortunately, it didn&#39;t help. The file is still not visible in windows explorer. Apparently the problem is not in the code, but with file access rights. Thank you for your time and help."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699965363,"post_id":77479634,"comment_id":136594344,"body_markdown":"After reboot of Android device it will.","body":"After reboot of Android device it will."},{"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"score":0,"creation_date":1699967555,"post_id":77479634,"comment_id":136594784,"body_markdown":"Amazing,it&#39;s works)\nI am incredibly grateful to you, thank you so much for helping &lt;3","body":"Amazing,it&#39;s works) I am incredibly grateful to you, thank you so much for helping &lt;3"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699971212,"post_id":77479634,"comment_id":136595481,"body_markdown":"You should your newly created file let scanned by the mediastore right away. Only a few lines of code.","body":"You should your newly created file let scanned by the mediastore right away. Only a few lines of code."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699971232,"creation_date":1699955617,"answer_id":77479634,"question_id":77474401,"body_markdown":"Not an answer but an alternative for for your create function.\r\nThat function will not always create a file as when the file already exists it just returns.\r\n\r\nAlso all those if-else&#39;s make it quite unreadable. Try to use only if&#39;s. \r\n\r\n\tpublic boolean forceLocalHTML(String codeRes, Context context) throws IOException {\r\n\t\t\r\n\t\tString fileName = getYear() + &quot;/&quot; + getMonth() + &quot;/&quot; + codeRes + &quot;.html&quot;;\r\n\t\tString subDir = &quot;timetracker&quot;;\r\n\t\t\r\n\t\tFile file = new File(Environment.getExternalStorageDirectory(), subDir + &quot;/&quot; + fileName);\r\n\r\n\t    if ( file.exists() )\r\n\t\t\treturn true;\r\n\r\n\t\tFile dir = file.getParentFile();\r\n\r\n\t\tif ( ! dir.exists())\r\n\t\t{\r\n\t\t\tif ( !dir.mkdirs() )\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif ( ! file.createNewFile() )\r\n\t\t\treturn false;\r\n\r\n\t\tFileWriter writer = new FileWriter(file.getAbsolutePath(), false);\r\n\t\twriter.write(context.getAssets().open(&quot;dataTime.html&quot;).toString());\r\n\t\twriter.close();\r\n\t\t\r\n\t\treturn true;\r\n\t}","title":"Create file in external storage and open in FileManager Windows","body":"<p>Not an answer but an alternative for for your create function.\nThat function will not always create a file as when the file already exists it just returns.</p>\n<p>Also all those if-else's make it quite unreadable. Try to use only if's.</p>\n<pre><code>public boolean forceLocalHTML(String codeRes, Context context) throws IOException {\n    \n    String fileName = getYear() + &quot;/&quot; + getMonth() + &quot;/&quot; + codeRes + &quot;.html&quot;;\n    String subDir = &quot;timetracker&quot;;\n    \n    File file = new File(Environment.getExternalStorageDirectory(), subDir + &quot;/&quot; + fileName);\n\n    if ( file.exists() )\n        return true;\n\n    File dir = file.getParentFile();\n\n    if ( ! dir.exists())\n    {\n        if ( !dir.mkdirs() )\n            return false;\n    }\n    \n    if ( ! file.createNewFile() )\n        return false;\n\n    FileWriter writer = new FileWriter(file.getAbsolutePath(), false);\n    writer.write(context.getAssets().open(&quot;dataTime.html&quot;).toString());\n    writer.close();\n    \n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":24113466,"reputation":3,"user_id":18083733,"display_name":"Alexandr Borisov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77479634,"answer_count":2,"score":0,"last_activity_date":1699971232,"creation_date":1699883765,"question_id":77474401,"body_markdown":"My program creates a new html file and sends it to the ftp server. \r\nTo do this, I create a local file in the device&#39;s memory. Everything works if I create directories and a file manually. As soon as I tried to create directories and a file programmatically, I ran into a problem. If you open Explorer in android studio, the file is created and located in the right directory. But when you try to view the file through Windows Explorer, there is no directory and file. In this regard (as I assume) the file is not sent to the ftp server. I can&#39;t solve the problem for many days. I have read many articles on the topics of memory and writing files to them. Please help me. Thank you in advance. I&#39;m new in android developing.\r\n\r\n```\r\npublic void sendFileIntoFTP(FTPClient ftpClient, String codeRes) throws URISyntaxException, IOException {\r\n        @SuppressLint(&quot;SdCardPath&quot;) String sourceFilePath = Environment.getExternalStorageDirectory() + File.separator + &quot;timetracker&quot; + File.separator + getYear() + File.separator + getMonth();\r\n//      Log.d(&quot;dirFTP&quot;, sourceFilePath);\r\n        String fileName = codeRes + &quot;.html&quot;;\r\n        File sourceFile = new File(new URI(sourceFilePath));\r\n        Log.d(&quot;dirFTP&quot;, valueOf(sourceFile));\r\n        InputStream inputStream = new FileInputStream(sourceFile);\r\n        ftpClient.storeFile(fileName, inputStream);\r\n        if (ftpClient.storeFile(fileName, inputStream)) {\r\n            Log.d(&quot;dirFTP&quot;, &quot;SUCCESS&quot;);\r\n        } else {\r\n            Log.d(&quot;dirFTP&quot;, &quot;ERROR&quot;);\r\n        }\r\n        inputStream.close();\r\n    }\r\n\r\n    public void createLocalHTML(String codeRes, Context context) throws IOException {\r\n        @SuppressLint(&quot;SdCardPath&quot;) File internalDir = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;timetracker&quot; + File.separator + getYear() + File.separator + getMonth());\r\n        Log.d(&quot;localDir&quot;, valueOf(internalDir));\r\n        String fileName = codeRes + &quot;.html&quot;;\r\n        File internalFile = new File(internalDir, fileName);\r\n        Log.d(&quot;localDir&quot;, valueOf(internalFile));\r\n        if (internalFile.exists()) {\r\n            Log.d(&quot;localDir&quot;, &quot;file.exists TRUE&quot;);\r\n            if (internalFile.canRead()) {\r\n                Log.d(&quot;localDir&quot;, &quot;file.canRead TRUE&quot;);\r\n            } else { Log.d(&quot;localDir&quot;, &quot;file.canRead FALSE&quot;); }\r\n//            update file in future....\r\n        } else {Log.d(&quot;localDir&quot;, &quot;file.exists FALSE&quot;);}\r\n        if (!internalDir.mkdirs()) {\r\n            internalDir.mkdirs();\r\n            Log.d(&quot;mLog&quot;, &quot;Directory created in path: &quot; + internalDir);\r\n        } else { return; }\r\n        internalFile.createNewFile();\r\n        FileWriter writer = new FileWriter(fileName, false);\r\n        writer.write(context.getAssets().open(&quot;dataTime.html&quot;).toString());\r\n        writer.close();\r\n    }\r\n```\r\nLog &quot;localDir&quot;: \r\n\r\n```\r\n2023-11-14 10:44:44.567  6819-6945  localDir                pid-6819                             D  /storage/emulated/0/timetracker/2023/11-2023\r\n2023-11-14 10:44:44.567  6819-6945  localDir                pid-6819                             D  /storage/emulated/0/timetracker/2023/11-2023/003.html\r\n2023-11-14 10:44:44.572  6819-6945  localDir                pid-6819                             D  file.exists TRUE\r\n2023-11-14 10:44:44.573  6819-6945  localDir                pid-6819                             D  file.canRead TRUE\r\n```\r\n\r\nUPD: My permissions:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n```\r\n\r\nI wanna see here my folder, which create programmatically:\r\n[imageFromExplorer][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NVYw5.png","title":"Create file in external storage and open in FileManager Windows","body":"<p>My program creates a new html file and sends it to the ftp server.\nTo do this, I create a local file in the device's memory. Everything works if I create directories and a file manually. As soon as I tried to create directories and a file programmatically, I ran into a problem. If you open Explorer in android studio, the file is created and located in the right directory. But when you try to view the file through Windows Explorer, there is no directory and file. In this regard (as I assume) the file is not sent to the ftp server. I can't solve the problem for many days. I have read many articles on the topics of memory and writing files to them. Please help me. Thank you in advance. I'm new in android developing.</p>\n<pre><code>public void sendFileIntoFTP(FTPClient ftpClient, String codeRes) throws URISyntaxException, IOException {\n        @SuppressLint(&quot;SdCardPath&quot;) String sourceFilePath = Environment.getExternalStorageDirectory() + File.separator + &quot;timetracker&quot; + File.separator + getYear() + File.separator + getMonth();\n//      Log.d(&quot;dirFTP&quot;, sourceFilePath);\n        String fileName = codeRes + &quot;.html&quot;;\n        File sourceFile = new File(new URI(sourceFilePath));\n        Log.d(&quot;dirFTP&quot;, valueOf(sourceFile));\n        InputStream inputStream = new FileInputStream(sourceFile);\n        ftpClient.storeFile(fileName, inputStream);\n        if (ftpClient.storeFile(fileName, inputStream)) {\n            Log.d(&quot;dirFTP&quot;, &quot;SUCCESS&quot;);\n        } else {\n            Log.d(&quot;dirFTP&quot;, &quot;ERROR&quot;);\n        }\n        inputStream.close();\n    }\n\n    public void createLocalHTML(String codeRes, Context context) throws IOException {\n        @SuppressLint(&quot;SdCardPath&quot;) File internalDir = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;timetracker&quot; + File.separator + getYear() + File.separator + getMonth());\n        Log.d(&quot;localDir&quot;, valueOf(internalDir));\n        String fileName = codeRes + &quot;.html&quot;;\n        File internalFile = new File(internalDir, fileName);\n        Log.d(&quot;localDir&quot;, valueOf(internalFile));\n        if (internalFile.exists()) {\n            Log.d(&quot;localDir&quot;, &quot;file.exists TRUE&quot;);\n            if (internalFile.canRead()) {\n                Log.d(&quot;localDir&quot;, &quot;file.canRead TRUE&quot;);\n            } else { Log.d(&quot;localDir&quot;, &quot;file.canRead FALSE&quot;); }\n//            update file in future....\n        } else {Log.d(&quot;localDir&quot;, &quot;file.exists FALSE&quot;);}\n        if (!internalDir.mkdirs()) {\n            internalDir.mkdirs();\n            Log.d(&quot;mLog&quot;, &quot;Directory created in path: &quot; + internalDir);\n        } else { return; }\n        internalFile.createNewFile();\n        FileWriter writer = new FileWriter(fileName, false);\n        writer.write(context.getAssets().open(&quot;dataTime.html&quot;).toString());\n        writer.close();\n    }\n</code></pre>\n<p>Log &quot;localDir&quot;:</p>\n<pre><code>2023-11-14 10:44:44.567  6819-6945  localDir                pid-6819                             D  /storage/emulated/0/timetracker/2023/11-2023\n2023-11-14 10:44:44.567  6819-6945  localDir                pid-6819                             D  /storage/emulated/0/timetracker/2023/11-2023/003.html\n2023-11-14 10:44:44.572  6819-6945  localDir                pid-6819                             D  file.exists TRUE\n2023-11-14 10:44:44.573  6819-6945  localDir                pid-6819                             D  file.canRead TRUE\n</code></pre>\n<p>UPD: My permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n<p>I wanna see here my folder, which create programmatically:\n<a href=\"https://i.stack.imgur.com/NVYw5.png\" rel=\"nofollow noreferrer\">imageFromExplorer</a></p>\n"},{"tags":["java","android","for-loop","android-alertdialog"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699990820,"post_id":77481256,"comment_id":136599326,"body_markdown":"`an AlertDialog to inform the user of what step of the startup process it&#39;s currently on` That looks like a bad idea. You also do it on the main thread and it will not be updated before it ends. Why not use that progress dialog the whole time. Or use notifications.","body":"<code>an AlertDialog to inform the user of what step of the startup process it&#39;s currently on</code> That looks like a bad idea. You also do it on the main thread and it will not be updated before it ends. Why not use that progress dialog the whole time. Or use notifications."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1700041400,"post_id":77481256,"comment_id":136605101,"body_markdown":"`ProgressDialog` is deprecated and shouldn&#39;t be used anymore and notifications would spam the user, as there are a couple of steps (+downloads). As I said, the files are needed to use the app, there&#39;s no way around that and you won&#39;t get past the login screen without them, so why not at least tell the user how far it is. `it will not be updated before it ends` - why? Nothing&#39;s blocking the main thread (apart from `sleep` but it&#39;s not working without that either). `use that progress dialog the whole time` - what do you mean? The dialog is shown the whole time and I&#39;m updating its message.","body":"<code>ProgressDialog</code> is deprecated and shouldn&#39;t be used anymore and notifications would spam the user, as there are a couple of steps (+downloads). As I said, the files are needed to use the app, there&#39;s no way around that and you won&#39;t get past the login screen without them, so why not at least tell the user how far it is. <code>it will not be updated before it ends</code> - why? Nothing&#39;s blocking the main thread (apart from <code>sleep</code> but it&#39;s not working without that either). <code>use that progress dialog the whole time</code> - what do you mean? The dialog is shown the whole time and I&#39;m updating its message."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1700219448,"post_id":77481256,"comment_id":136630279,"body_markdown":"@blackapps Have you got an idea how to solve this problem?","body":"@blackapps Have you got an idea how to solve this problem?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700239233,"post_id":77481256,"comment_id":136633862,"body_markdown":"Post complete code that we can copy/paste to try out.","body":"Post complete code that we can copy/paste to try out."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1700489214,"post_id":77481256,"comment_id":136657290,"body_markdown":"@blackapps Can&#39;t post the whole class here. You can find the important code in my question, it&#39;s the loop. Remove the &quot;log&quot; part and add `dialog.setMessage` directly, so: `for(String f:filenames) { dialog.setMessage(&quot;Something&quot;+System.lineSeparator()+f); }`","body":"@blackapps Can&#39;t post the whole class here. You can find the important code in my question, it&#39;s the loop. Remove the &quot;log&quot; part and add <code>dialog.setMessage</code> directly, so: <code>for(String f:filenames) { dialog.setMessage(&quot;Something&quot;+System.lineSeparator()+f); }</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700491500,"post_id":77481256,"comment_id":136657728,"body_markdown":"You should post minimal code that we can copy and paste and demonstrates the problem. Take the effort to reduce it to minimal code.","body":"You should post minimal code that we can copy and paste and demonstrates the problem. Take the effort to reduce it to minimal code."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1700493458,"post_id":77481256,"comment_id":136658121,"body_markdown":"This is the minimal code you need: `for(String f:filenames) { dialog.setMessage(&quot;Something&quot;+System.lineSeparator()+f); }` - use it in any activity and with any dialog you&#39;ve got.","body":"This is the minimal code you need: <code>for(String f:filenames) { dialog.setMessage(&quot;Something&quot;+System.lineSeparator()+f); }</code> - use it in any activity and with any dialog you&#39;ve got."}],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699971014,"creation_date":1699971014,"question_id":77481256,"body_markdown":"My app (Java 11, minSDK 29, targetSDK 30) uses an `AlertDialog` to inform the user of what step of the startup process it&#39;s currently on, which includes showing the name of the file that&#39;s currently being downloaded (these files are required to use the app).\r\n\r\nI call the following function from my first fragment right before starting each major step (this is working):\r\n\r\n    private void updateProgressDialog(String m) {\r\n        loadingDialogMessage = loadingDialogMessage + &quot;\\n&quot; + m;\r\n        loadingDialog.setMessage(loadingDialogMessage);\r\n    }\r\n\r\nI also pass the dialog to a second class (not an activity) that takes care of the downloads:\r\n\r\n    public void setAlert(AlertDialog a) {\r\n        dialog = a;\r\n        dialogOGMsg = ((TextView) dialog.findViewById(android.R.id.message)).getText().toString();\r\n    }\r\n\r\n... then update the dialog from within the second class through this:\r\n\r\n    for(String f:fileNames) {\r\n        writeFilenameToLog(f);\r\n        updateAlert(f);\r\n        SystemClock.sleep(500); //this is only used for testing!\r\n    }\r\n\r\n... with this:\r\n\r\n    private void updateAlert(String m) { //Called from the main thread, no asynchronous code involved yet!\r\n        //Log.d(TAG,&quot;updateAlert: &#39;&quot;+m+&quot;&#39;&quot;);\r\n        Log.d(TAG,&quot;msg=&#39;&quot;+(dialogOGMsg+System.lineSeparator()+m)+&quot;&#39;&quot;);\r\n        dialog.setMessage(dialogOGMsg+System.lineSeparator()+m);\r\n    }\r\n\r\nI haven&#39;t coded the actual download part yet, that&#39;s why I added `sleep` to see the file names change in the dialog - this is currently taking about 20 seconds to finish. The problem is: The dialog isn&#39;t updating properly (tested in the emulator and on an actual device), it only displays the very last file name once the loop is done, even though `Log` is printing the correct messages. This also happens without `sleep`.\r\n\r\nI&#39;m aware an `AlertDialog` probably takes a little bit of time to update but is there a reason why it would get completely stuck like that for that long? How do I make it update &quot;properly&quot; to display every file name during its specific loop iteration?","title":"Update AlertDialog from within &quot;for&quot; loop","body":"<p>My app (Java 11, minSDK 29, targetSDK 30) uses an <code>AlertDialog</code> to inform the user of what step of the startup process it's currently on, which includes showing the name of the file that's currently being downloaded (these files are required to use the app).</p>\n<p>I call the following function from my first fragment right before starting each major step (this is working):</p>\n<pre><code>private void updateProgressDialog(String m) {\n    loadingDialogMessage = loadingDialogMessage + &quot;\\n&quot; + m;\n    loadingDialog.setMessage(loadingDialogMessage);\n}\n</code></pre>\n<p>I also pass the dialog to a second class (not an activity) that takes care of the downloads:</p>\n<pre><code>public void setAlert(AlertDialog a) {\n    dialog = a;\n    dialogOGMsg = ((TextView) dialog.findViewById(android.R.id.message)).getText().toString();\n}\n</code></pre>\n<p>... then update the dialog from within the second class through this:</p>\n<pre><code>for(String f:fileNames) {\n    writeFilenameToLog(f);\n    updateAlert(f);\n    SystemClock.sleep(500); //this is only used for testing!\n}\n</code></pre>\n<p>... with this:</p>\n<pre><code>private void updateAlert(String m) { //Called from the main thread, no asynchronous code involved yet!\n    //Log.d(TAG,&quot;updateAlert: '&quot;+m+&quot;'&quot;);\n    Log.d(TAG,&quot;msg='&quot;+(dialogOGMsg+System.lineSeparator()+m)+&quot;'&quot;);\n    dialog.setMessage(dialogOGMsg+System.lineSeparator()+m);\n}\n</code></pre>\n<p>I haven't coded the actual download part yet, that's why I added <code>sleep</code> to see the file names change in the dialog - this is currently taking about 20 seconds to finish. The problem is: The dialog isn't updating properly (tested in the emulator and on an actual device), it only displays the very last file name once the loop is done, even though <code>Log</code> is printing the correct messages. This also happens without <code>sleep</code>.</p>\n<p>I'm aware an <code>AlertDialog</code> probably takes a little bit of time to update but is there a reason why it would get completely stuck like that for that long? How do I make it update &quot;properly&quot; to display every file name during its specific loop iteration?</p>\n"},{"tags":["java","sql","hibernate","jpa","join"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699907763,"post_id":77475989,"comment_id":136587453,"body_markdown":"your UserStoryMapping.story mapping is to an Instance of Story - For it to work, JPA/JPQL requires you do something more like &quot;(usm.story.id in :storyIds)&quot;. Your provider may perform the join over story - if you want to ensure you avoid this, you would have to map the &quot;story_id&quot; column as a basic in your entity so that you can use it in your query as you&#39;ve attempted in your second example: &quot;(usm.story_id IN :storyIds)&quot;. You can have both a reference mapping an basic mapping to the same column, just mark one read only","body":"your UserStoryMapping.story mapping is to an Instance of Story - For it to work, JPA/JPQL requires you do something more like &quot;(usm.story.id in :storyIds)&quot;. Your provider may perform the join over story - if you want to ensure you avoid this, you would have to map the &quot;story_id&quot; column as a basic in your entity so that you can use it in your query as you&#39;ve attempted in your second example: &quot;(usm.story_id IN :storyIds)&quot;. You can have both a reference mapping an basic mapping to the same column, just mark one read only"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1699951283,"post_id":77475989,"comment_id":136591890,"body_markdown":"@Chris thank you for the reference to `usm.story.id`, that does work, but it results in a JOIN performed by the provider. Could you elaborate as an answer on the approach over reference mapping and basic mapping with some code and how does it work?","body":"@Chris thank you for the reference to <code>usm.story.id</code>, that does work, but it results in a JOIN performed by the provider. Could you elaborate as an answer on the approach over reference mapping and basic mapping with some code and how does it work?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699970166,"post_id":77475989,"comment_id":136595271,"body_markdown":"You might also try passing in instances of Story to the query using &quot;(usm.story IN :storyIds)&quot;. Many JPA providers will pull the IDs from the entity instances for you.","body":"You might also try passing in instances of Story to the query using &quot;(usm.story IN :storyIds)&quot;. Many JPA providers will pull the IDs from the entity instances for you."}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1700015660,"post_id":77481229,"comment_id":136602271,"body_markdown":"thank you for posting this as an answer, I would try this out and accept as an answer in some time.","body":"thank you for posting this as an answer, I would try this out and accept as an answer in some time."}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699970776,"creation_date":1699970776,"answer_id":77481229,"question_id":77475989,"body_markdown":"The error messages states the problem: the UserStoryMapping.story mapping is to an instance of Story, so you are required by JPA to pass in Story instances for query operations that use this mapping, but you are instead passing in the ID values directly. If you are going to be using the IDs, you would need to use a query expression of the form: `&quot;(usm.story.id in :storyIds)&quot;` instead, so that the query matches the ID values to the Story.Id columns. Many providers will perform the join to Story though, since by using usm.story, the specification requires inner join functionality on the results. \r\n\r\nSome providers may allow passing in the Story instances to the query directly. For them, you can use `&quot;(usm.story IN :storyInstances)&quot;`. It is up to the provider and the mapping type; they may convert this to `&quot;(usm.story.id in :storyIds)&quot;` by pulling out the IDs from the story instances you pass in, or they may use the value just to reference the FK in usm.\r\n\r\nIf you want to avoid the join and not rely on JPA provider behavior or mapping specifics, you can also map the foreign key directly in your entity as a basic mapping.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_story_mapping&quot;)\r\n    public class UserStoryMapping {\r\n     \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;story_id&quot;)\r\n      private Story story; //this controls the FK, and must always be set\r\n    \r\n      @Column(name = &quot;story_id&quot;, insertable=false, updatable=false)\r\n      private String storyId;\r\n      ..\r\n    }\r\n\r\nstoryId will then be set in the entity when UserStoryMapping instances are read from the database, but the value will not be used to control the &quot;story_id&quot; foreign key column - that is still only controlled by the story ManyToOne property. This will allow you to use either the story property in queries to access the join, or the storyId property as any basic mapping when you want to use the value without the join, allowing expressions of the form:\r\n  \r\n\r\n    (usm.storyId IN :storyIds)\r\n\r\n","title":"Query persistence Entity with join column using IN operator","body":"<p>The error messages states the problem: the UserStoryMapping.story mapping is to an instance of Story, so you are required by JPA to pass in Story instances for query operations that use this mapping, but you are instead passing in the ID values directly. If you are going to be using the IDs, you would need to use a query expression of the form: <code>&quot;(usm.story.id in :storyIds)&quot;</code> instead, so that the query matches the ID values to the Story.Id columns. Many providers will perform the join to Story though, since by using usm.story, the specification requires inner join functionality on the results.</p>\n<p>Some providers may allow passing in the Story instances to the query directly. For them, you can use <code>&quot;(usm.story IN :storyInstances)&quot;</code>. It is up to the provider and the mapping type; they may convert this to <code>&quot;(usm.story.id in :storyIds)&quot;</code> by pulling out the IDs from the story instances you pass in, or they may use the value just to reference the FK in usm.</p>\n<p>If you want to avoid the join and not rely on JPA provider behavior or mapping specifics, you can also map the foreign key directly in your entity as a basic mapping.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_story_mapping&quot;)\npublic class UserStoryMapping {\n \n  @ManyToOne\n  @JoinColumn(name = &quot;story_id&quot;)\n  private Story story; //this controls the FK, and must always be set\n\n  @Column(name = &quot;story_id&quot;, insertable=false, updatable=false)\n  private String storyId;\n  ..\n}\n</code></pre>\n<p>storyId will then be set in the entity when UserStoryMapping instances are read from the database, but the value will not be used to control the &quot;story_id&quot; foreign key column - that is still only controlled by the story ManyToOne property. This will allow you to use either the story property in queries to access the join, or the storyId property as any basic mapping when you want to use the value without the join, allowing expressions of the form:</p>\n<pre><code>(usm.storyId IN :storyIds)\n</code></pre>\n"}],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77481229,"answer_count":1,"score":0,"last_activity_date":1699970776,"creation_date":1699899281,"question_id":77475989,"body_markdown":"I have an entity such as following with a join over story_id with another entity called `Story`.\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;user_story_mapping&quot;)\r\npublic class UserStoryMapping {\r\n \r\n     @ManyToOne\r\n     @JoinColumn(name = &quot;story_id&quot;)\r\n     private Story story; // this attribute\r\n \r\n     @Column(name = &quot;user_id&quot;)\r\n     private String userId;\r\n \r\n     @Column(name = &quot;seen_at&quot;)\r\n     private Date seenAt;\r\n  \r\n     @Transient\r\n     private String storyId;\r\n}\r\n\r\n```\r\nWhat I am trying to perform is query this table such as \r\n\r\n```\r\nselect usm.story_id as storyId from user_story_mapping usm where usm.user_id=&#39;Naman&#39; and usm.story_id IN (&quot;8a9f90858871dc9f018abc3fc3dc4e86&quot;,&quot;ffhy8a9f9abc3fc3dc4e09&quot;) and usm.status = 1;\r\n\r\n```\r\n\r\nIn the attempt to achieve this with the help of `javax.persistence.EntityManager#createQuery`, I have the following query constant referenced:\r\n\r\n```\r\npublic static final String GET_ACTIVE_USER_STORY_MAPPINGS = &quot;&quot;&quot;\r\n             from UserStoryMapping usm \\\r\n             where ((usm.userId = :userId) and (usm.story IN :storyIds) and (usm.status = 1))\r\n             &quot;&quot;&quot;;\r\n```\r\n\r\nOn execution, this results in the following exception\r\n\r\n```\r\n…nested exception is java.lang.IllegalArgumentException:\r\nParameter value element [8a9f90858871dc9f018abc3fc3dc4e86] did not match expected type [entity.core.Story (n/a)]&quot;\r\n```\r\n\r\nIf I would change the query to \r\n\r\n```\r\npublic static final String GET_ACTIVE_USER_STORY_MAPPINGS = &quot;&quot;&quot;\r\n             select usm.story_id as storyId \\\r\n             from UserStoryMapping usm \\\r\n             where ((usm.userId = :userId) and (usm.story_id IN :storyIds) and (usm.status = 1))\r\n             &quot;&quot;&quot;;\r\n```\r\n\r\nthen I get stuck with \r\n\r\n```\r\norg.hibernate.QueryException: could not resolve property: story_id of: entity.core.UserStoryMapping [select usm.story_id as storyId\\nfrom entity.core.UserStoryMapping usm where ((usm.userId = :userId) and (usm.story_id IN :storyIds) and (usm.status = 1))\\n];\r\n```","title":"Query persistence Entity with join column using IN operator","body":"<p>I have an entity such as following with a join over story_id with another entity called <code>Story</code>.</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;user_story_mapping&quot;)\npublic class UserStoryMapping {\n \n     @ManyToOne\n     @JoinColumn(name = &quot;story_id&quot;)\n     private Story story; // this attribute\n \n     @Column(name = &quot;user_id&quot;)\n     private String userId;\n \n     @Column(name = &quot;seen_at&quot;)\n     private Date seenAt;\n  \n     @Transient\n     private String storyId;\n}\n\n</code></pre>\n<p>What I am trying to perform is query this table such as</p>\n<pre><code>select usm.story_id as storyId from user_story_mapping usm where usm.user_id='Naman' and usm.story_id IN (&quot;8a9f90858871dc9f018abc3fc3dc4e86&quot;,&quot;ffhy8a9f9abc3fc3dc4e09&quot;) and usm.status = 1;\n\n</code></pre>\n<p>In the attempt to achieve this with the help of <code>javax.persistence.EntityManager#createQuery</code>, I have the following query constant referenced:</p>\n<pre><code>public static final String GET_ACTIVE_USER_STORY_MAPPINGS = &quot;&quot;&quot;\n             from UserStoryMapping usm \\\n             where ((usm.userId = :userId) and (usm.story IN :storyIds) and (usm.status = 1))\n             &quot;&quot;&quot;;\n</code></pre>\n<p>On execution, this results in the following exception</p>\n<pre><code>…nested exception is java.lang.IllegalArgumentException:\nParameter value element [8a9f90858871dc9f018abc3fc3dc4e86] did not match expected type [entity.core.Story (n/a)]&quot;\n</code></pre>\n<p>If I would change the query to</p>\n<pre><code>public static final String GET_ACTIVE_USER_STORY_MAPPINGS = &quot;&quot;&quot;\n             select usm.story_id as storyId \\\n             from UserStoryMapping usm \\\n             where ((usm.userId = :userId) and (usm.story_id IN :storyIds) and (usm.status = 1))\n             &quot;&quot;&quot;;\n</code></pre>\n<p>then I get stuck with</p>\n<pre><code>org.hibernate.QueryException: could not resolve property: story_id of: entity.core.UserStoryMapping [select usm.story_id as storyId\\nfrom entity.core.UserStoryMapping usm where ((usm.userId = :userId) and (usm.story_id IN :storyIds) and (usm.status = 1))\\n];\n</code></pre>\n"},{"tags":["java","rest","gzip","rest-client"],"answers":[{"comments":[{"owner":{"account_id":3001464,"reputation":134,"user_id":2546891,"accept_rate":57,"display_name":"riroo"},"score":0,"creation_date":1484141764,"post_id":32026309,"comment_id":70387833,"body_markdown":"I have a similar problem but with GET method. I&#39;m returning a gzipped json response to a certain GET request. My browser unzips it automatically. But postman returns something not understable. Do you have an idea what I should do ?","body":"I have a similar problem but with GET method. I&#39;m returning a gzipped json response to a certain GET request. My browser unzips it automatically. But postman returns something not understable. Do you have an idea what I should do ?"},{"owner":{"account_id":5993555,"reputation":537,"user_id":4708950,"accept_rate":32,"display_name":"Derek Hannah"},"score":0,"creation_date":1498233567,"post_id":32026309,"comment_id":76433536,"body_markdown":"same problem here, any solution as to decode the data in postman?","body":"same problem here, any solution as to decode the data in postman?"},{"owner":{"account_id":4868888,"reputation":895,"user_id":3926106,"accept_rate":50,"display_name":"Fernando Pie"},"score":0,"creation_date":1500654867,"post_id":32026309,"comment_id":77451295,"body_markdown":"How i can pass gzip as filebody in rest advanced client? Thanks","body":"How i can pass gzip as filebody in rest advanced client? Thanks"}],"tags":[],"owner":{"account_id":1895369,"reputation":419,"user_id":1712464,"accept_rate":0,"display_name":"developer"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1439652983,"creation_date":1439652983,"answer_id":32026309,"question_id":31368021,"body_markdown":"I figured out that you need to pass gzip as filebody in restclient. This solved my problem.","title":"Sending gzip data using restclient or postman","body":"<p>I figured out that you need to pass gzip as filebody in restclient. This solved my problem.</p>\n"}],"owner":{"account_id":1895369,"reputation":419,"user_id":1712464,"accept_rate":0,"display_name":"developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16733,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699970680,"creation_date":1436705967,"question_id":31368021,"body_markdown":"How can I send gzip data as part of body using restclient or postman?. I used apache restclient 3.2.2 also couldn&#39;t able to get the response. I have attached images for reference.\r\n\r\nBasically I have an xml file, want to convert it to gzip first and then send as part of body. \r\n\r\nTo convert to GZip I used online tools to first convert my xml file to gzip and included the converted gzip file as part of body in my restclient.\r\n\r\n\r\n\r\nI got following java code and with code I&#39;m getting response properly. **But not able to get it working in restclient tool!** !\r\n![restclient headers][1]\r\n[restclient body][2]\r\n\r\n\t\tURL url = new URL(String.format(&quot;%s?tid=%d&quot;,\r\n\t\t\t\t\tsessionInfo._getMessagesUrl, tpegId));\r\n\t\t\tconnection = (HttpURLConnection) url.openConnection();\r\n\t\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,\r\n\t\t\t\t\t&quot;application/octet-stream&quot;);\r\n\t\t\tconnection.setUseCaches(false);\r\n\t\t\tconnection.setDoInput(true);\r\n\t\t\tconnection.setDoOutput(true);\r\n\r\n\t\t\t// Convert XML to initial binary payload.\r\n\t\t\tbyte[] bytesToSend = getMessagesRequestXml.getBytes(&quot;UTF-8&quot;);\r\n\t\t\tString fileName = &quot;C:\\\\\\\\Sanjay\\\\\\\\Work\\\\\\\\17MM\\\\\\\\MM17_body.txt&quot;;\r\n\t\t\tif (this._outputFilename != null) {\r\n\t\t\t\tSystem.out.println(String.format(&quot;\\nWriting body file &#39;%s&#39;&quot;, fileName));\r\n\t\t\t\tFileOutputStream s = new FileOutputStream(fileName);\r\n\t\t\t\ts.write(bytesToSend);\r\n\t\t\t\ts.close();\r\n\t\t\t}\r\n\t\t\tdumpBinary(&quot;Original GetMessages request&quot;, bytesToSend);\r\n\r\n\t\t\t// Optionaly compress\r\n\t\t\tif (this._shouldCompress) {\r\n\t\t\t\tbyte[] gzippedBytes = compressToGzip(bytesToSend);\r\n\t\t\t\tbytesToSend = gzippedBytes;\r\n\t\t\t\tdumpBinary(&quot;Compressed GetMessages request&quot;, bytesToSend);\r\n\t\t\t}\r\n\r\n\t\t\t// Optionally encrypt\r\n\t\t\tif (sessionInfo._encryptionKey != null) {\r\n\t\t\t\tbyte[] encryptedBytes = encrypt(bytesToSend, sessionInfo._encryptionKey);\r\n\t\t\t\tbytesToSend = encryptedBytes;\r\n\t\t\t\tdumpBinary(&quot;Encrypted GetMessages request&quot;, bytesToSend);\r\n\t\t\t}\r\n\r\n\t\t\t// Send request\r\n\t\t\tSystem.out.println(String.format(&quot;Sending GetMessages Request: %s\\n&quot;, url.toString()));\t\t\t\r\n\t\t\tDataOutputStream os = new DataOutputStream(\r\n\t\t\t\t\tconnection.getOutputStream());\r\n\t\t\tos.write(bytesToSend, 0, bytesToSend.length);\r\n\t\t\tos.flush();\r\n\t\t\tos.close();\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TKs2E.jpg\r\n  [2]: http://i.stack.imgur.com/qa4gb.jpg","title":"Sending gzip data using restclient or postman","body":"<p>How can I send gzip data as part of body using restclient or postman?. I used apache restclient 3.2.2 also couldn't able to get the response. I have attached images for reference.</p>\n\n<p>Basically I have an xml file, want to convert it to gzip first and then send as part of body. </p>\n\n<p>To convert to GZip I used online tools to first convert my xml file to gzip and included the converted gzip file as part of body in my restclient.</p>\n\n<p>I got following java code and with code I'm getting response properly. <strong>But not able to get it working in restclient tool!</strong> !\n<img src=\"https://i.stack.imgur.com/TKs2E.jpg\" alt=\"restclient headers\">\n<a href=\"https://i.stack.imgur.com/qa4gb.jpg\" rel=\"nofollow noreferrer\">restclient body</a></p>\n\n<pre><code>    URL url = new URL(String.format(\"%s?tid=%d\",\n                sessionInfo._getMessagesUrl, tpegId));\n        connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(\"POST\");\n        connection.setRequestProperty(\"Content-Type\",\n                \"application/octet-stream\");\n        connection.setUseCaches(false);\n        connection.setDoInput(true);\n        connection.setDoOutput(true);\n\n        // Convert XML to initial binary payload.\n        byte[] bytesToSend = getMessagesRequestXml.getBytes(\"UTF-8\");\n        String fileName = \"C:\\\\\\\\Sanjay\\\\\\\\Work\\\\\\\\17MM\\\\\\\\MM17_body.txt\";\n        if (this._outputFilename != null) {\n            System.out.println(String.format(\"\\nWriting body file '%s'\", fileName));\n            FileOutputStream s = new FileOutputStream(fileName);\n            s.write(bytesToSend);\n            s.close();\n        }\n        dumpBinary(\"Original GetMessages request\", bytesToSend);\n\n        // Optionaly compress\n        if (this._shouldCompress) {\n            byte[] gzippedBytes = compressToGzip(bytesToSend);\n            bytesToSend = gzippedBytes;\n            dumpBinary(\"Compressed GetMessages request\", bytesToSend);\n        }\n\n        // Optionally encrypt\n        if (sessionInfo._encryptionKey != null) {\n            byte[] encryptedBytes = encrypt(bytesToSend, sessionInfo._encryptionKey);\n            bytesToSend = encryptedBytes;\n            dumpBinary(\"Encrypted GetMessages request\", bytesToSend);\n        }\n\n        // Send request\n        System.out.println(String.format(\"Sending GetMessages Request: %s\\n\", url.toString()));         \n        DataOutputStream os = new DataOutputStream(\n                connection.getOutputStream());\n        os.write(bytesToSend, 0, bytesToSend.length);\n        os.flush();\n        os.close();\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":25817756,"reputation":3,"user_id":19557426,"display_name":"Luiz"},"score":0,"creation_date":1700057062,"post_id":77481199,"comment_id":136607925,"body_markdown":"Please, let me know if you did not understand my question or if you have no answer.","body":"Please, let me know if you did not understand my question or if you have no answer."}],"owner":{"account_id":25817756,"reputation":3,"user_id":19557426,"display_name":"Luiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699970457,"creation_date":1699970457,"question_id":77481199,"body_markdown":"My projet has more than 2 GB, so I had to use Play Asset Delivery to public it on Play Story. Now I need to know where is placed in user device the folder that contains the files of &quot;install time asset pack&quot;. After the files are copied on user device, I have to add all them into an Array. I&#39;ve found the &quot;fast follow asset pack&quot; folder in (/data/data/mypackage/files/assetpacks/fast_follow_asset_pack1/66/66/assets/) and I had add all of them. Howbeit can&#39;t do it with &quot;install time asset pack&quot; files because I do not know where they are. Please helpe-me, if you may. I&#180;m using android Studio and Java.","title":"How to find Stall Time Asset Pack folder into user device","body":"<p>My projet has more than 2 GB, so I had to use Play Asset Delivery to public it on Play Story. Now I need to know where is placed in user device the folder that contains the files of &quot;install time asset pack&quot;. After the files are copied on user device, I have to add all them into an Array. I've found the &quot;fast follow asset pack&quot; folder in (/data/data/mypackage/files/assetpacks/fast_follow_asset_pack1/66/66/assets/) and I had add all of them. Howbeit can't do it with &quot;install time asset pack&quot; files because I do not know where they are. Please helpe-me, if you may. I´m using android Studio and Java.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":29898888,"reputation":1,"user_id":22913084,"display_name":"Valenciaaa-"},"score":0,"creation_date":1699957658,"post_id":77479836,"comment_id":136592980,"body_markdown":"And the RiddleException is:\npublic class RiddleException extends Exception {\n    public RiddleException(String message) {\n        super(message);\n    }\n}","body":"And the RiddleException is: public class RiddleException extends Exception {     public RiddleException(String message) {         super(message);     } }"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700036257,"post_id":77479924,"comment_id":136604260,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77479924/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29871587,"reputation":1,"user_id":22892833,"display_name":"Xinlong Wu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699958692,"creation_date":1699958360,"answer_id":77479924,"question_id":77479836,"body_markdown":"code will be like\r\n\r\n    public class HelpState implements ParticipantState{\r\n\r\n\r\n    @Override\r\n    public ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\r\n        Riddle riddle = riddleList[whichRiddle];\r\n        if (riddle.isSolved())\r\n            throw new RiddleException(&quot;Already Solved&quot;);\r\n\r\n        riddle.setSolved();\r\n        return new InProgressState();\r\n    }\r\n    }\r\n\r\nand\r\n\r\n    public class InProgressState implements ParticipantState {\r\n    @Override\r\n    public ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\r\n        Riddle riddle = riddleList[whichRiddle];\r\n        if (riddle.isSolved())\r\n            throw new RiddleException(&quot;Already Solved&quot;);\r\n        return this;\r\n    }\r\n    }\r\n\r\n\r\nand \r\n\r\n    public class EscapedState implements ParticipantState{\r\n\r\n\r\n    @Override\r\n    public ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\r\n        throw new RiddleException(&quot;Alseady Escaped&quot;);\r\n    }\r\n    }\r\n\r\nand\r\n\r\n    public void solveRiddle(String input, int whichRiddle) throws RiddleException {\r\n        this.state = this.state.solveRiddle(input, riddleList, whichRiddle);\r\n\r\n        // TODO  - Your Code Starts here\r\n\r\n        boolean isEsacped = true;\r\n        for (Riddle item :\r\n                riddleList) {\r\n            if (item.isSolved() != true) {\r\n                isEsacped = false;\r\n                break;\r\n            }\r\n        }\r\n        if (isEsacped){\r\n            this.state = new EscapedState();\r\n            for (Observer observer:\r\n                    observers) {\r\n                observer.updateEscape(this);\r\n            }\r\n        }\r\n\r\n        //TODO - Your Code Ends here\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I implement this UML Diagram using State Design Pattern","body":"<p>code will be like</p>\n<pre><code>public class HelpState implements ParticipantState{\n\n\n@Override\npublic ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\n    Riddle riddle = riddleList[whichRiddle];\n    if (riddle.isSolved())\n        throw new RiddleException(&quot;Already Solved&quot;);\n\n    riddle.setSolved();\n    return new InProgressState();\n}\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class InProgressState implements ParticipantState {\n@Override\npublic ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\n    Riddle riddle = riddleList[whichRiddle];\n    if (riddle.isSolved())\n        throw new RiddleException(&quot;Already Solved&quot;);\n    return this;\n}\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class EscapedState implements ParticipantState{\n\n\n@Override\npublic ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\n    throw new RiddleException(&quot;Alseady Escaped&quot;);\n}\n}\n</code></pre>\n<p>and</p>\n<pre><code>public void solveRiddle(String input, int whichRiddle) throws RiddleException {\n    this.state = this.state.solveRiddle(input, riddleList, whichRiddle);\n\n    // TODO  - Your Code Starts here\n\n    boolean isEsacped = true;\n    for (Riddle item :\n            riddleList) {\n        if (item.isSolved() != true) {\n            isEsacped = false;\n            break;\n        }\n    }\n    if (isEsacped){\n        this.state = new EscapedState();\n        for (Observer observer:\n                observers) {\n            observer.updateEscape(this);\n        }\n    }\n\n    //TODO - Your Code Ends here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29898937,"reputation":1,"user_id":22913125,"display_name":"smgcuv587"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699970323,"creation_date":1699970323,"answer_id":77481182,"question_id":77479836,"body_markdown":"You can try read a .csv file like this (in this case, we loaded the data to a list of Person class as the return value):\r\n\r\n    public List&lt;Person&gt; readCsv(String fileName) {\r\n\r\n\t\tList&lt;Person&gt; list = new LinkedList&lt;&gt;();\r\n\r\n\t\tBufferedReader bufferedReader;\r\n\t\tFile csv=new File(fileName);\r\n\t\ttry{\r\n\t\t\tbufferedReader=new BufferedReader(new FileReader(csv));\r\n\t\t\tString buffer=&quot;&quot;;\r\n\t\t\tbuffer=bufferedReader.readLine();//read the first line\r\n\t\t\twhile (buffer!=null){\r\n\t\t\t\tString[] s=buffer.split(&quot;;&quot;);\r\n\t\t\t\tPerson p =new Person(Integer.valueOf(s[0]),s[1],Integer.valueOf(s[2]),s[3]);\r\n\t\t\t\tlist.add(p);\r\n\t\t\t\tbuffer=bufferedReader.readLine();\r\n\t\t\t}\r\n\t\t}catch (Exception e){\r\n\t\t\tSystem.out.println(&quot;error in readcsv!&quot;);\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n","title":"How can I implement this UML Diagram using State Design Pattern","body":"<p>You can try read a .csv file like this (in this case, we loaded the data to a list of Person class as the return value):</p>\n<pre><code>public List&lt;Person&gt; readCsv(String fileName) {\n\n    List&lt;Person&gt; list = new LinkedList&lt;&gt;();\n\n    BufferedReader bufferedReader;\n    File csv=new File(fileName);\n    try{\n        bufferedReader=new BufferedReader(new FileReader(csv));\n        String buffer=&quot;&quot;;\n        buffer=bufferedReader.readLine();//read the first line\n        while (buffer!=null){\n            String[] s=buffer.split(&quot;;&quot;);\n            Person p =new Person(Integer.valueOf(s[0]),s[1],Integer.valueOf(s[2]),s[3]);\n            list.add(p);\n            buffer=bufferedReader.readLine();\n        }\n    }catch (Exception e){\n        System.out.println(&quot;error in readcsv!&quot;);\n    }\n\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":29898888,"reputation":1,"user_id":22913084,"display_name":"Valenciaaa-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1699970323,"creation_date":1699957463,"question_id":77479836,"body_markdown":"[enter image description here](https://i.stack.imgur.com/9C37H.png)\r\nI have this UML Diagram and want to use State Design Pattern to implement InProgressState, HelpState and EscapeState.\r\nFollowing is the details:\r\n\r\n1. InProgressState: This is the initial state of the participant, and participants remain in this while they are solving the riddles.\r\n\r\n- Within this state, solveRiddle checks whether the input solves the current riddle.\r\n\r\n2. HelpState: This state is entered when the participant requests help by calling the askForHelp method.\r\n\r\n- In this state, solveRiddle will solve the riddle regardless of the input provided.\r\nAfter that, the participant will be transitioned back to InProgressState if there are remaining riddles to solve, otherwise they will be transitioned to EscapedState.\r\n\r\n3. EscapedState: If a participant successfully solves all riddles, they will be transitioned to the EscapedState.\r\n\r\n- In this state, RiddleException should be thrown if solveRiddle is called.\r\n\r\nNote:\r\n\r\n\r\n1. If a riddle has been solved but passed as an argument to solveRiddle again, a RiddleException should be thrown.\r\n2. A participant can choose any riddle to solve at a time. The argument whichRiddle of the solveRiddle method indicates to which riddle he/she submits an input in the riddleList.\r\n\r\n\r\n\r\n\r\nI have a Class called ParticipantState:\r\n\r\n    public interface ParticipantState {\r\n        ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException;\r\n    }\r\n\r\nAnd I think InProgressState, HelpState and EscapedState should implements ParticipantState like:\r\n\r\n    public class InProgressState implements ParticipantState{\r\n    \r\n        @Override\r\n        public ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\r\n            return this;\r\n        }\r\n    }","title":"How can I implement this UML Diagram using State Design Pattern","body":"<p><a href=\"https://i.stack.imgur.com/9C37H.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have this UML Diagram and want to use State Design Pattern to implement InProgressState, HelpState and EscapeState.\nFollowing is the details:</p>\n<ol>\n<li>InProgressState: This is the initial state of the participant, and participants remain in this while they are solving the riddles.</li>\n</ol>\n<ul>\n<li>Within this state, solveRiddle checks whether the input solves the current riddle.</li>\n</ul>\n<ol start=\"2\">\n<li>HelpState: This state is entered when the participant requests help by calling the askForHelp method.</li>\n</ol>\n<ul>\n<li>In this state, solveRiddle will solve the riddle regardless of the input provided.\nAfter that, the participant will be transitioned back to InProgressState if there are remaining riddles to solve, otherwise they will be transitioned to EscapedState.</li>\n</ul>\n<ol start=\"3\">\n<li>EscapedState: If a participant successfully solves all riddles, they will be transitioned to the EscapedState.</li>\n</ol>\n<ul>\n<li>In this state, RiddleException should be thrown if solveRiddle is called.</li>\n</ul>\n<p>Note:</p>\n<ol>\n<li>If a riddle has been solved but passed as an argument to solveRiddle again, a RiddleException should be thrown.</li>\n<li>A participant can choose any riddle to solve at a time. The argument whichRiddle of the solveRiddle method indicates to which riddle he/she submits an input in the riddleList.</li>\n</ol>\n<p>I have a Class called ParticipantState:</p>\n<pre><code>public interface ParticipantState {\n    ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException;\n}\n</code></pre>\n<p>And I think InProgressState, HelpState and EscapedState should implements ParticipantState like:</p>\n<pre><code>public class InProgressState implements ParticipantState{\n\n    @Override\n    public ParticipantState solveRiddle(String input, Riddle[] riddleList, int whichRiddle) throws RiddleException {\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1557938426,"post_id":7373567,"comment_id":98937407,"body_markdown":"Memory-efficient partial xml parsing via [StAX](https://en.wikipedia.org/wiki/StAX): https://stackoverflow.com/questions/52614082/parsing-highly-nested-xml-without-dom-in-java","body":"Memory-efficient partial xml parsing via <a href=\"https://en.wikipedia.org/wiki/StAX\" rel=\"nofollow noreferrer\">StAX</a>: <a href=\"https://stackoverflow.com/questions/52614082/parsing-highly-nested-xml-without-dom-in-java\" title=\"parsing highly nested xml without dom in java\">stackoverflow.com/questions/52614082/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user2603796"},"score":7,"creation_date":1414618698,"post_id":7373596,"comment_id":41889154,"body_markdown":"is the dtd file needed for this to work or we can read xml without the dtd? if dtd is needed can we generate a dtd from xml easily instead of typing it all ourselves?","body":"is the dtd file needed for this to work or we can read xml without the dtd? if dtd is needed can we generate a dtd from xml easily instead of typing it all ourselves?"},{"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"score":3,"creation_date":1414623645,"post_id":7373596,"comment_id":41891009,"body_markdown":"You could leave the dtd file out. Make sure that you also eliminate the reference to it from the xml file: &lt;!DOCTYPE roles SYSTEM &quot;roles.dtd&quot;&gt;. You can find free dtd generator applications or use an on line service. They generate a &quot;good enough&quot; dtd file to start with. Usually you will have to modify it a little.","body":"You could leave the dtd file out. Make sure that you also eliminate the reference to it from the xml file: &lt;!DOCTYPE roles SYSTEM &quot;roles.dtd&quot;&gt;. You can find free dtd generator applications or use an on line service. They generate a &quot;good enough&quot; dtd file to start with. Usually you will have to modify it a little."},{"owner":{"account_id":358460,"reputation":5078,"user_id":699240,"display_name":"Mr Ed"},"score":0,"creation_date":1420717541,"post_id":7373596,"comment_id":44082465,"body_markdown":"Great example! I had a minor problem with the getTextValue() function, it should return a zero-length string instead of null if the node is empty. I had to add &quot;if(value==null) value = &quot;&quot;;&quot; before the &quot;return value&quot;, or else it would crash when writing the XML string.","body":"Great example! I had a minor problem with the getTextValue() function, it should return a zero-length string instead of null if the node is empty. I had to add &quot;if(value==null) value = &quot;&quot;;&quot; before the &quot;return value&quot;, or else it would crash when writing the XML string."},{"owner":{"account_id":4613562,"reputation":1348,"user_id":3740885,"accept_rate":83,"display_name":"Mirwise Khan"},"score":0,"creation_date":1485341589,"post_id":7373596,"comment_id":70883337,"body_markdown":"@CostisAivalis could you please tell me how to parse and save svg in Batik [here](http://stackoverflow.com/questions/41800279/unable-to-edit-svg-using-batik-in-java) . I&#39;m having problem distinguishing between XML and Batik&#39;s way of working.","body":"@CostisAivalis could you please tell me how to parse and save svg in Batik <a href=\"http://stackoverflow.com/questions/41800279/unable-to-edit-svg-using-batik-in-java\">here</a> . I&#39;m having problem distinguishing between XML and Batik&#39;s way of working."}],"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"comment_count":4,"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1414623836,"creation_date":1315677864,"answer_id":7373596,"question_id":7373567,"body_markdown":"Here is a quick DOM example that shows how to read and write a simple xml file with its dtd:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!DOCTYPE roles SYSTEM &quot;roles.dtd&quot;&gt;\r\n    &lt;roles&gt;\r\n        &lt;role1&gt;User&lt;/role1&gt;\r\n        &lt;role2&gt;Author&lt;/role2&gt;\r\n        &lt;role3&gt;Admin&lt;/role3&gt;\r\n        &lt;role4/&gt;\r\n    &lt;/roles&gt;\r\n\r\nand the dtd:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!ELEMENT roles (role1,role2,role3,role4)&gt;\r\n    &lt;!ELEMENT role1 (#PCDATA)&gt;\r\n    &lt;!ELEMENT role2 (#PCDATA)&gt;\r\n    &lt;!ELEMENT role3 (#PCDATA)&gt;\r\n    &lt;!ELEMENT role4 (#PCDATA)&gt;\r\n\r\n\r\nFirst import these:\r\n\r\n    import javax.xml.parsers.*;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.*;\r\n    import javax.xml.transform.stream.*;\r\n    import org.xml.sax.*;\r\n    import org.w3c.dom.*;\r\n\r\nHere are a few variables you will need:\r\n\r\n    private String role1 = null;\r\n    private String role2 = null;\r\n    private String role3 = null;\r\n    private String role4 = null;\r\n    private ArrayList&lt;String&gt; rolev;\r\n\r\n\r\nHere is a reader (String xml is the name of your xml file):\r\n\r\n   \r\n\r\n    public boolean readXML(String xml) {\r\n            rolev = new ArrayList&lt;String&gt;();\r\n            Document dom;\r\n            // Make an  instance of the DocumentBuilderFactory\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n            try {\r\n                // use the factory to take an instance of the document builder\r\n                DocumentBuilder db = dbf.newDocumentBuilder();\r\n                // parse using the builder to get the DOM mapping of the    \r\n                // XML file\r\n                dom = db.parse(xml);\r\n    \r\n                Element doc = dom.getDocumentElement();\r\n    \r\n                role1 = getTextValue(role1, doc, &quot;role1&quot;);\r\n                if (role1 != null) {\r\n                    if (!role1.isEmpty())\r\n                        rolev.add(role1);\r\n                }\r\n                role2 = getTextValue(role2, doc, &quot;role2&quot;);\r\n                if (role2 != null) {\r\n                    if (!role2.isEmpty())\r\n                        rolev.add(role2);\r\n                }\r\n                role3 = getTextValue(role3, doc, &quot;role3&quot;);\r\n                if (role3 != null) {\r\n                    if (!role3.isEmpty())\r\n                        rolev.add(role3);\r\n                }\r\n                role4 = getTextValue(role4, doc, &quot;role4&quot;);\r\n                if ( role4 != null) {\r\n                    if (!role4.isEmpty())\r\n                        rolev.add(role4);\r\n                }\r\n                return true;\r\n    \r\n            } catch (ParserConfigurationException pce) {\r\n                System.out.println(pce.getMessage());\r\n            } catch (SAXException se) {\r\n                System.out.println(se.getMessage());\r\n            } catch (IOException ioe) {\r\n                System.err.println(ioe.getMessage());\r\n            }\r\n    \r\n            return false;\r\n        }\r\n\r\nAnd here a writer:\r\n\r\n    public void saveToXML(String xml) {\r\n        Document dom;\r\n        Element e = null;\r\n    \r\n        // instance of a DocumentBuilderFactory\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        try {\r\n            // use factory to get an instance of document builder\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            // create instance of DOM\r\n            dom = db.newDocument();\r\n    \r\n            // create the root element\r\n            Element rootEle = dom.createElement(&quot;roles&quot;);\r\n    \r\n            // create data elements and place them under root\r\n            e = dom.createElement(&quot;role1&quot;);\r\n            e.appendChild(dom.createTextNode(role1));\r\n            rootEle.appendChild(e);\r\n    \r\n            e = dom.createElement(&quot;role2&quot;);\r\n            e.appendChild(dom.createTextNode(role2));\r\n            rootEle.appendChild(e);\r\n    \r\n            e = dom.createElement(&quot;role3&quot;);\r\n            e.appendChild(dom.createTextNode(role3));\r\n            rootEle.appendChild(e);\r\n    \r\n            e = dom.createElement(&quot;role4&quot;);\r\n            e.appendChild(dom.createTextNode(role4));\r\n            rootEle.appendChild(e);\r\n    \r\n            dom.appendChild(rootEle);\r\n    \r\n            try {\r\n                Transformer tr = TransformerFactory.newInstance().newTransformer();\r\n                tr.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                tr.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                tr.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n                tr.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;roles.dtd&quot;);\r\n                tr.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n    \r\n                // send DOM to file\r\n                tr.transform(new DOMSource(dom), \r\n                                     new StreamResult(new FileOutputStream(xml)));\r\n    \r\n            } catch (TransformerException te) {\r\n                System.out.println(te.getMessage());\r\n            } catch (IOException ioe) {\r\n                System.out.println(ioe.getMessage());\r\n            }\r\n        } catch (ParserConfigurationException pce) {\r\n            System.out.println(&quot;UsersXML: Error trying to instantiate DocumentBuilder &quot; + pce);\r\n        }\r\n    }\r\n\r\ngetTextValue is here:\r\n\r\n    private String getTextValue(String def, Element doc, String tag) {\r\n        String value = def;\r\n        NodeList nl;\r\n        nl = doc.getElementsByTagName(tag);\r\n        if (nl.getLength() &gt; 0 &amp;&amp; nl.item(0).hasChildNodes()) {\r\n            value = nl.item(0).getFirstChild().getNodeValue();\r\n        }\r\n        return value;\r\n    }\r\n\r\nAdd a few accessors and mutators and you are done!","title":"How to read and write XML files?","body":"<p>Here is a quick DOM example that shows how to read and write a simple xml file with its dtd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE roles SYSTEM \"roles.dtd\"&gt;\n&lt;roles&gt;\n    &lt;role1&gt;User&lt;/role1&gt;\n    &lt;role2&gt;Author&lt;/role2&gt;\n    &lt;role3&gt;Admin&lt;/role3&gt;\n    &lt;role4/&gt;\n&lt;/roles&gt;\n</code></pre>\n\n<p>and the dtd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!ELEMENT roles (role1,role2,role3,role4)&gt;\n&lt;!ELEMENT role1 (#PCDATA)&gt;\n&lt;!ELEMENT role2 (#PCDATA)&gt;\n&lt;!ELEMENT role3 (#PCDATA)&gt;\n&lt;!ELEMENT role4 (#PCDATA)&gt;\n</code></pre>\n\n<p>First import these:</p>\n\n<pre><code>import javax.xml.parsers.*;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.*;\nimport javax.xml.transform.stream.*;\nimport org.xml.sax.*;\nimport org.w3c.dom.*;\n</code></pre>\n\n<p>Here are a few variables you will need:</p>\n\n<pre><code>private String role1 = null;\nprivate String role2 = null;\nprivate String role3 = null;\nprivate String role4 = null;\nprivate ArrayList&lt;String&gt; rolev;\n</code></pre>\n\n<p>Here is a reader (String xml is the name of your xml file):</p>\n\n<pre><code>public boolean readXML(String xml) {\n        rolev = new ArrayList&lt;String&gt;();\n        Document dom;\n        // Make an  instance of the DocumentBuilderFactory\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        try {\n            // use the factory to take an instance of the document builder\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            // parse using the builder to get the DOM mapping of the    \n            // XML file\n            dom = db.parse(xml);\n\n            Element doc = dom.getDocumentElement();\n\n            role1 = getTextValue(role1, doc, \"role1\");\n            if (role1 != null) {\n                if (!role1.isEmpty())\n                    rolev.add(role1);\n            }\n            role2 = getTextValue(role2, doc, \"role2\");\n            if (role2 != null) {\n                if (!role2.isEmpty())\n                    rolev.add(role2);\n            }\n            role3 = getTextValue(role3, doc, \"role3\");\n            if (role3 != null) {\n                if (!role3.isEmpty())\n                    rolev.add(role3);\n            }\n            role4 = getTextValue(role4, doc, \"role4\");\n            if ( role4 != null) {\n                if (!role4.isEmpty())\n                    rolev.add(role4);\n            }\n            return true;\n\n        } catch (ParserConfigurationException pce) {\n            System.out.println(pce.getMessage());\n        } catch (SAXException se) {\n            System.out.println(se.getMessage());\n        } catch (IOException ioe) {\n            System.err.println(ioe.getMessage());\n        }\n\n        return false;\n    }\n</code></pre>\n\n<p>And here a writer:</p>\n\n<pre><code>public void saveToXML(String xml) {\n    Document dom;\n    Element e = null;\n\n    // instance of a DocumentBuilderFactory\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    try {\n        // use factory to get an instance of document builder\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        // create instance of DOM\n        dom = db.newDocument();\n\n        // create the root element\n        Element rootEle = dom.createElement(\"roles\");\n\n        // create data elements and place them under root\n        e = dom.createElement(\"role1\");\n        e.appendChild(dom.createTextNode(role1));\n        rootEle.appendChild(e);\n\n        e = dom.createElement(\"role2\");\n        e.appendChild(dom.createTextNode(role2));\n        rootEle.appendChild(e);\n\n        e = dom.createElement(\"role3\");\n        e.appendChild(dom.createTextNode(role3));\n        rootEle.appendChild(e);\n\n        e = dom.createElement(\"role4\");\n        e.appendChild(dom.createTextNode(role4));\n        rootEle.appendChild(e);\n\n        dom.appendChild(rootEle);\n\n        try {\n            Transformer tr = TransformerFactory.newInstance().newTransformer();\n            tr.setOutputProperty(OutputKeys.INDENT, \"yes\");\n            tr.setOutputProperty(OutputKeys.METHOD, \"xml\");\n            tr.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n            tr.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, \"roles.dtd\");\n            tr.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\");\n\n            // send DOM to file\n            tr.transform(new DOMSource(dom), \n                                 new StreamResult(new FileOutputStream(xml)));\n\n        } catch (TransformerException te) {\n            System.out.println(te.getMessage());\n        } catch (IOException ioe) {\n            System.out.println(ioe.getMessage());\n        }\n    } catch (ParserConfigurationException pce) {\n        System.out.println(\"UsersXML: Error trying to instantiate DocumentBuilder \" + pce);\n    }\n}\n</code></pre>\n\n<p>getTextValue is here:</p>\n\n<pre><code>private String getTextValue(String def, Element doc, String tag) {\n    String value = def;\n    NodeList nl;\n    nl = doc.getElementsByTagName(tag);\n    if (nl.getLength() &gt; 0 &amp;&amp; nl.item(0).hasChildNodes()) {\n        value = nl.item(0).getFirstChild().getNodeValue();\n    }\n    return value;\n}\n</code></pre>\n\n<p>Add a few accessors and mutators and you are done!</p>\n"},{"tags":[],"owner":{"account_id":2377930,"reputation":2801,"user_id":2080746,"display_name":"Diego C Nascimento"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1376882772,"creation_date":1376882772,"answer_id":18305988,"question_id":7373567,"body_markdown":"The above answer only deal with DOM parser (that normally reads the entire file in memory and parse it, what for a big file is a problem), you could use a SAX parser that uses less memory and is faster (anyway that depends on your code).\r\n\r\nSAX parser callback some functions when it find a start of element, end of element, attribute, text between elements, etc, so it can parse the document and at the same time you\r\nget what you need.\r\n\r\nSome example code:\r\n\r\nhttp://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/","title":"How to read and write XML files?","body":"<p>The above answer only deal with DOM parser (that normally reads the entire file in memory and parse it, what for a big file is a problem), you could use a SAX parser that uses less memory and is faster (anyway that depends on your code).</p>\n\n<p>SAX parser callback some functions when it find a start of element, end of element, attribute, text between elements, etc, so it can parse the document and at the same time you\nget what you need.</p>\n\n<p>Some example code:</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/\">http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/</a></p>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1448778796,"creation_date":1384431909,"answer_id":19977586,"question_id":7373567,"body_markdown":"Writing XML using JAXB (Java Architecture for XML Binding):\r\n\r\nhttp://www.mkyong.com/java/jaxb-hello-world-example/\r\n\r\n    package com.mkyong.core;\r\n    \r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    @XmlRootElement\r\n    public class Customer {\r\n    \r\n        String name;\r\n        int age;\r\n        int id;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        @XmlElement\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        @XmlElement\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @XmlAttribute\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n    } \r\n\r\n    package com.mkyong.core;\r\n    \r\n    import java.io.File;\r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.JAXBException;\r\n    import javax.xml.bind.Marshaller;\r\n    \r\n    public class JAXBExample {\r\n        public static void main(String[] args) {\r\n    \r\n          Customer customer = new Customer();\r\n          customer.setId(100);\r\n          customer.setName(&quot;mkyong&quot;);\r\n          customer.setAge(29);\r\n    \r\n          try {\r\n    \r\n            File file = new File(&quot;C:\\\\file.xml&quot;);\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\r\n            Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n    \r\n            // output pretty printed\r\n            jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    \r\n            jaxbMarshaller.marshal(customer, file);\r\n            jaxbMarshaller.marshal(customer, System.out);\r\n    \r\n              } catch (JAXBException e) {\r\n            e.printStackTrace();\r\n              }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to read and write XML files?","body":"<p>Writing XML using JAXB (Java Architecture for XML Binding):</p>\n\n<p><a href=\"http://www.mkyong.com/java/jaxb-hello-world-example/\" rel=\"noreferrer\">http://www.mkyong.com/java/jaxb-hello-world-example/</a></p>\n\n<pre><code>package com.mkyong.core;\n\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\npublic class Customer {\n\n    String name;\n    int age;\n    int id;\n\n    public String getName() {\n        return name;\n    }\n\n    @XmlElement\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @XmlElement\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @XmlAttribute\n    public void setId(int id) {\n        this.id = id;\n    }\n\n} \n\npackage com.mkyong.core;\n\nimport java.io.File;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\n\npublic class JAXBExample {\n    public static void main(String[] args) {\n\n      Customer customer = new Customer();\n      customer.setId(100);\n      customer.setName(\"mkyong\");\n      customer.setAge(29);\n\n      try {\n\n        File file = new File(\"C:\\\\file.xml\");\n        JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\n        Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n\n        // output pretty printed\n        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n        jaxbMarshaller.marshal(customer, file);\n        jaxbMarshaller.marshal(customer, System.out);\n\n          } catch (JAXBException e) {\n        e.printStackTrace();\n          }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384437574,"creation_date":1384437574,"answer_id":19979629,"question_id":7373567,"body_markdown":"The answers only cover DOM / SAX and a copy paste implementation of a JAXB example.\r\n\r\nHowever, one big area of when you are using XML is missing. In many projects / programs there is a need to store / retrieve some basic data structures. Your program has already a classes for your nice and shiny business objects / data structures, you just want a comfortable way to convert this data to a XML structure so you can do more magic on it (store, load, send, manipulate with XSLT).\r\n\r\nThis is where XStream shines. You simply annotate the classes holding your data, or if you do not want to change those classes, you configure a XStream instance for marshalling (objects -&gt; xml) or unmarshalling (xml -&gt; objects).\r\n\r\nInternally XStream uses reflection, the readObject and readResolve methods of standard Java object serialization.\r\n\r\nYou get a good and speedy tutorial [here][1]: \r\n\r\nTo give a short overview of how it works, I also provide some sample code which marshalls and unmarshalls a data structure.\r\nThe marshalling / unmarshalling happens all in the `main` method, the rest is just code to generate some test objects and populate some data to them.\r\nIt is super simple to configure the `xStream` instance and marshalling / unmarshalling is done with one line of code each.\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.thoughtworks.xstream.XStream;\r\n    \r\n    public class XStreamIsGreat {\r\n    \r\n      public static void main(String[] args) {\r\n        XStream xStream = new XStream();\r\n        xStream.alias(&quot;good&quot;, Good.class);\r\n        xStream.alias(&quot;pRoDuCeR&quot;, Producer.class);\r\n        xStream.alias(&quot;customer&quot;, Customer.class);\r\n    \r\n        Producer a = new Producer(&quot;Apple&quot;);\r\n        Producer s = new Producer(&quot;Samsung&quot;);\r\n        Customer c = new Customer(&quot;Someone&quot;).add(new Good(&quot;S4&quot;, 10, new BigDecimal(600), s))\r\n            .add(new Good(&quot;S4 mini&quot;, 5, new BigDecimal(450), s)).add(new Good(&quot;I5S&quot;, 3, new BigDecimal(875), a));\r\n        String xml = xStream.toXML(c); // objects -&gt; xml\r\n        System.out.println(&quot;Marshalled:\\n&quot; + xml);\r\n        Customer unmarshalledCustomer = (Customer)xStream.fromXML(xml); // xml -&gt; objects\r\n      }\r\n    \r\n      static class Good {\r\n        Producer producer;\r\n    \r\n        String name;\r\n    \r\n        int quantity;\r\n    \r\n        BigDecimal price;\r\n    \r\n        Good(String name, int quantity, BigDecimal price, Producer p) {\r\n          this.producer = p;\r\n          this.name = name;\r\n          this.quantity = quantity;\r\n          this.price = price;\r\n        }\r\n    \r\n      }\r\n    \r\n      static class Producer {\r\n        String name;\r\n    \r\n        public Producer(String name) {\r\n          this.name = name;\r\n        }\r\n      }\r\n    \r\n      static class Customer {\r\n        String name;\r\n    \r\n        public Customer(String name) {\r\n          this.name = name;\r\n        }\r\n    \r\n        List&lt;Good&gt; stock = new ArrayList&lt;Good&gt;();\r\n    \r\n        Customer add(Good g) {\r\n          stock.add(g);\r\n          return this;\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: http://xstream.codehaus.org/tutorial.html\r\n","title":"How to read and write XML files?","body":"<p>The answers only cover DOM / SAX and a copy paste implementation of a JAXB example.</p>\n\n<p>However, one big area of when you are using XML is missing. In many projects / programs there is a need to store / retrieve some basic data structures. Your program has already a classes for your nice and shiny business objects / data structures, you just want a comfortable way to convert this data to a XML structure so you can do more magic on it (store, load, send, manipulate with XSLT).</p>\n\n<p>This is where XStream shines. You simply annotate the classes holding your data, or if you do not want to change those classes, you configure a XStream instance for marshalling (objects -> xml) or unmarshalling (xml -> objects).</p>\n\n<p>Internally XStream uses reflection, the readObject and readResolve methods of standard Java object serialization.</p>\n\n<p>You get a good and speedy tutorial <a href=\"http://xstream.codehaus.org/tutorial.html\" rel=\"nofollow\">here</a>: </p>\n\n<p>To give a short overview of how it works, I also provide some sample code which marshalls and unmarshalls a data structure.\nThe marshalling / unmarshalling happens all in the <code>main</code> method, the rest is just code to generate some test objects and populate some data to them.\nIt is super simple to configure the <code>xStream</code> instance and marshalling / unmarshalling is done with one line of code each.</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.thoughtworks.xstream.XStream;\n\npublic class XStreamIsGreat {\n\n  public static void main(String[] args) {\n    XStream xStream = new XStream();\n    xStream.alias(\"good\", Good.class);\n    xStream.alias(\"pRoDuCeR\", Producer.class);\n    xStream.alias(\"customer\", Customer.class);\n\n    Producer a = new Producer(\"Apple\");\n    Producer s = new Producer(\"Samsung\");\n    Customer c = new Customer(\"Someone\").add(new Good(\"S4\", 10, new BigDecimal(600), s))\n        .add(new Good(\"S4 mini\", 5, new BigDecimal(450), s)).add(new Good(\"I5S\", 3, new BigDecimal(875), a));\n    String xml = xStream.toXML(c); // objects -&gt; xml\n    System.out.println(\"Marshalled:\\n\" + xml);\n    Customer unmarshalledCustomer = (Customer)xStream.fromXML(xml); // xml -&gt; objects\n  }\n\n  static class Good {\n    Producer producer;\n\n    String name;\n\n    int quantity;\n\n    BigDecimal price;\n\n    Good(String name, int quantity, BigDecimal price, Producer p) {\n      this.producer = p;\n      this.name = name;\n      this.quantity = quantity;\n      this.price = price;\n    }\n\n  }\n\n  static class Producer {\n    String name;\n\n    public Producer(String name) {\n      this.name = name;\n    }\n  }\n\n  static class Customer {\n    String name;\n\n    public Customer(String name) {\n      this.name = name;\n    }\n\n    List&lt;Good&gt; stock = new ArrayList&lt;Good&gt;();\n\n    Customer add(Good g) {\n      stock.add(g);\n      return this;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419717163,"creation_date":1419717163,"answer_id":27671788,"question_id":7373567,"body_markdown":"Ok, already having DOM, JaxB and XStream in the list of answers, there is still a complete different way to read and write XML: [Data projection][1] You can decouple the XML structure and the Java structure by using a library that provides read and writeable views to the XML Data as Java interfaces. From the [tutorials][2]:\r\n\r\nGiven some real world XML:\r\n\r\n    &lt;weatherdata&gt;\r\n      &lt;weather\r\n        ... \r\n        degreetype=&quot;F&quot;\r\n        lat=&quot;50.5520210266113&quot; lon=&quot;6.24060010910034&quot; \r\n        searchlocation=&quot;Monschau, Stadt Aachen, NW, Germany&quot; \r\n                ... &gt;\r\n        &lt;current ... skytext=&quot;Clear&quot; temperature=&quot;46&quot;/&gt;\r\n      &lt;/weather&gt;\r\n    &lt;/weatherdata&gt;\r\n\r\nWith data projection you can define a projection interface:\r\n\r\n    public interface WeatherData {\r\n \r\n    @XBRead(&quot;/weatherdata/weather/@searchlocation&quot;)   \r\n    String getLocation();\r\n \r\n    @XBRead(&quot;/weatherdata/weather/current/@temperature&quot;)\r\n    int getTemperature();\r\n \r\n    @XBRead(&quot;/weatherdata/weather/@degreetype&quot;)\r\n    String getDegreeType();\r\n \r\n    @XBRead(&quot;/weatherdata/weather/current/@skytext&quot;)\r\n    String getSkytext();\r\n \r\n    /**\r\n     * This would be our &quot;sub projection&quot;. A structure grouping two attribute\r\n     * values in one object.\r\n     */\r\n    interface Coordinates {\r\n        @XBRead(&quot;@lon&quot;)\r\n        double getLongitude();\r\n \r\n        @XBRead(&quot;@lat&quot;)\r\n        double getLatitude();\r\n    }\r\n \r\n    @XBRead(&quot;/weatherdata/weather&quot;)\r\n    Coordinates getCoordinates();\r\n    }\r\n\r\n\r\nAnd use instances of this interface just like POJOs:\r\n\r\n    private void printWeatherData(String location) throws IOException {\r\n     \r\n    final String BaseURL = &quot;http://weather.service.msn.com/find.aspx?outputview=search&amp;weasearchstr=&quot;;\r\n     \r\n    // We let the projector fetch the data for us\r\n    WeatherData weatherData = new XBProjector().io().url(BaseURL + location).read(WeatherData.class);\r\n     \r\n    // Print some values\r\n    System.out.println(&quot;The weather in &quot; + weatherData.getLocation() + &quot;:&quot;);\r\n    System.out.println(weatherData.getSkytext());\r\n    System.out.println(&quot;Temperature: &quot; + weatherData.getTemperature() + &quot;&#176;&quot;\r\n                                       + weatherData.getDegreeType());\r\n     \r\n    // Access our sub projection\r\n    Coordinates coordinates = weatherData.getCoordinates();\r\n    System.out.println(&quot;The place is located at &quot; + coordinates.getLatitude() + &quot;,&quot;\r\n                                                  + coordinates.getLongitude());\r\n    }\r\n\r\nThis works even for creating XML, the XPath expressions can be writable.\r\n\r\n  [1]: http://xmlbeam.org\r\n  [2]: http://xmlbeam.org/t01.html#E01:_Printing_some_weather_data","title":"How to read and write XML files?","body":"<p>Ok, already having DOM, JaxB and XStream in the list of answers, there is still a complete different way to read and write XML: <a href=\"http://xmlbeam.org\" rel=\"nofollow\">Data projection</a> You can decouple the XML structure and the Java structure by using a library that provides read and writeable views to the XML Data as Java interfaces. From the <a href=\"http://xmlbeam.org/t01.html#E01:_Printing_some_weather_data\" rel=\"nofollow\">tutorials</a>:</p>\n\n<p>Given some real world XML:</p>\n\n<pre><code>&lt;weatherdata&gt;\n  &lt;weather\n    ... \n    degreetype=\"F\"\n    lat=\"50.5520210266113\" lon=\"6.24060010910034\" \n    searchlocation=\"Monschau, Stadt Aachen, NW, Germany\" \n            ... &gt;\n    &lt;current ... skytext=\"Clear\" temperature=\"46\"/&gt;\n  &lt;/weather&gt;\n&lt;/weatherdata&gt;\n</code></pre>\n\n<p>With data projection you can define a projection interface:</p>\n\n<pre><code>public interface WeatherData {\n\n@XBRead(\"/weatherdata/weather/@searchlocation\")   \nString getLocation();\n\n@XBRead(\"/weatherdata/weather/current/@temperature\")\nint getTemperature();\n\n@XBRead(\"/weatherdata/weather/@degreetype\")\nString getDegreeType();\n\n@XBRead(\"/weatherdata/weather/current/@skytext\")\nString getSkytext();\n\n/**\n * This would be our \"sub projection\". A structure grouping two attribute\n * values in one object.\n */\ninterface Coordinates {\n    @XBRead(\"@lon\")\n    double getLongitude();\n\n    @XBRead(\"@lat\")\n    double getLatitude();\n}\n\n@XBRead(\"/weatherdata/weather\")\nCoordinates getCoordinates();\n}\n</code></pre>\n\n<p>And use instances of this interface just like POJOs:</p>\n\n<pre><code>private void printWeatherData(String location) throws IOException {\n\nfinal String BaseURL = \"http://weather.service.msn.com/find.aspx?outputview=search&amp;weasearchstr=\";\n\n// We let the projector fetch the data for us\nWeatherData weatherData = new XBProjector().io().url(BaseURL + location).read(WeatherData.class);\n\n// Print some values\nSystem.out.println(\"The weather in \" + weatherData.getLocation() + \":\");\nSystem.out.println(weatherData.getSkytext());\nSystem.out.println(\"Temperature: \" + weatherData.getTemperature() + \"°\"\n                                   + weatherData.getDegreeType());\n\n// Access our sub projection\nCoordinates coordinates = weatherData.getCoordinates();\nSystem.out.println(\"The place is located at \" + coordinates.getLatitude() + \",\"\n                                              + coordinates.getLongitude());\n}\n</code></pre>\n\n<p>This works even for creating XML, the XPath expressions can be writable.</p>\n"},{"tags":[],"owner":{"account_id":4686177,"reputation":431,"user_id":3793528,"accept_rate":36,"display_name":"JavaDragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530533952,"creation_date":1450070515,"answer_id":34260265,"question_id":7373567,"body_markdown":"`SAX` parser is working differently with a `DOM` parser, it neither load any `XML` document into memory nor create any object representation of the `XML` document. Instead, the `SAX` parser use callback function `org.xml.sax.helpers.DefaultHandler` to informs clients of the `XML` document structure.\r\n\r\n`SAX` Parser is faster and uses less memory than `DOM` parser.\r\nSee following `SAX` callback methods :\r\n\r\n`startDocument()` and `endDocument()` – Method called at the start and end of an XML document.\r\n`startElement()` and `endElement()` – Method called at the start and end of a document element.\r\n`characters()` – Method called with the text contents in between the start and end tags of an XML document element.\r\n\r\n 1. XML file\r\n\r\nCreate a simple XML file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;company&gt;\r\n    \t&lt;staff&gt;\r\n    \t\t&lt;firstname&gt;yong&lt;/firstname&gt;\r\n    \t\t&lt;lastname&gt;mook kim&lt;/lastname&gt;\r\n    \t\t&lt;nickname&gt;mkyong&lt;/nickname&gt;\r\n    \t\t&lt;salary&gt;100000&lt;/salary&gt;\r\n    \t&lt;/staff&gt;\r\n    \t&lt;staff&gt;\r\n    \t\t&lt;firstname&gt;low&lt;/firstname&gt;\r\n    \t\t&lt;lastname&gt;yin fong&lt;/lastname&gt;\r\n    \t\t&lt;nickname&gt;fong fong&lt;/nickname&gt;\r\n    \t\t&lt;salary&gt;200000&lt;/salary&gt;\r\n    \t&lt;/staff&gt;\r\n    &lt;/company&gt;\r\n\r\n\r\n2. XML parser:\r\n\r\nJava  file Use SAX parser to parse the XML file.\r\n\r\n\r\n    import javax.xml.parsers.SAXParser;\r\n    import javax.xml.parsers.SAXParserFactory;\r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.helpers.DefaultHandler;\r\n    \r\n    public class ReadXMLFile {\r\n    \tpublic static void main(String argv[]) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n    \t\t\tSAXParser saxParser = factory.newSAXParser();\r\n    \r\n    \t\t\tDefaultHandler handler = new DefaultHandler() {\r\n    \t\t\t\tboolean bfname = false;\r\n    \t\t\t\tboolean blname = false;\r\n    \t\t\t\tboolean bnname = false;\r\n    \t\t\t\tboolean bsalary = false;\r\n    \r\n    \t\t\t\tpublic void startElement(String uri, String localName,String qName, \r\n    \t\t\t\t\t\t\tAttributes attributes) throws SAXException {\r\n    \r\n    \t\t\t\t\tSystem.out.println(&quot;Start Element :&quot; + qName);\r\n    \r\n    \t\t\t\t\tif (qName.equalsIgnoreCase(&quot;FIRSTNAME&quot;)) {\r\n    \t\t\t\t\t\tbfname = true;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (qName.equalsIgnoreCase(&quot;LASTNAME&quot;)) {\r\n    \t\t\t\t\t\tblname = true;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (qName.equalsIgnoreCase(&quot;NICKNAME&quot;)) {\r\n    \t\t\t\t\t\tbnname = true;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (qName.equalsIgnoreCase(&quot;SALARY&quot;)) {\r\n    \t\t\t\t\t\tbsalary = true;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void endElement(String uri, String localName,\r\n    \t\t\t\t\tString qName) throws SAXException {\r\n    \r\n    \t\t\t\t\tSystem.out.println(&quot;End Element :&quot; + qName);\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void characters(char ch[], int start, int length) throws SAXException {\r\n    \r\n    \t\t\t\t\tif (bfname) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;First Name : &quot; + new String(ch, start, length));\r\n    \t\t\t\t\t\tbfname = false;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (blname) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Last Name : &quot; + new String(ch, start, length));\r\n    \t\t\t\t\t\tblname = false;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (bnname) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Nick Name : &quot; + new String(ch, start, length));\r\n    \t\t\t\t\t\tbnname = false;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (bsalary) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Salary : &quot; + new String(ch, start, length));\r\n    \t\t\t\t\t\tbsalary = false;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t};\r\n    \r\n    \t\t\tsaxParser.parse(&quot;c:\\\\file.xml&quot;, handler);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t   e.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nResult\r\n\r\nStart Element :company    \r\nStart Element :staff    \r\nStart Element :firstname     \r\nFirst Name : yong    \r\nEnd Element :firstname    \r\nStart Element :lastname    \r\nLast Name : mook kim    \r\nEnd Element :lastname     \r\nStart Element :nickname    \r\nNick Name : mkyong     \r\nEnd Element :nickname     \r\nand so on...\r\n\r\n\r\nSource(MyKong) - http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/","title":"How to read and write XML files?","body":"<p><code>SAX</code> parser is working differently with a <code>DOM</code> parser, it neither load any <code>XML</code> document into memory nor create any object representation of the <code>XML</code> document. Instead, the <code>SAX</code> parser use callback function <code>org.xml.sax.helpers.DefaultHandler</code> to informs clients of the <code>XML</code> document structure.</p>\n\n<p><code>SAX</code> Parser is faster and uses less memory than <code>DOM</code> parser.\nSee following <code>SAX</code> callback methods :</p>\n\n<p><code>startDocument()</code> and <code>endDocument()</code> – Method called at the start and end of an XML document.\n<code>startElement()</code> and <code>endElement()</code> – Method called at the start and end of a document element.\n<code>characters()</code> – Method called with the text contents in between the start and end tags of an XML document element.</p>\n\n<ol>\n<li>XML file</li>\n</ol>\n\n<p>Create a simple XML file.</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;company&gt;\n    &lt;staff&gt;\n        &lt;firstname&gt;yong&lt;/firstname&gt;\n        &lt;lastname&gt;mook kim&lt;/lastname&gt;\n        &lt;nickname&gt;mkyong&lt;/nickname&gt;\n        &lt;salary&gt;100000&lt;/salary&gt;\n    &lt;/staff&gt;\n    &lt;staff&gt;\n        &lt;firstname&gt;low&lt;/firstname&gt;\n        &lt;lastname&gt;yin fong&lt;/lastname&gt;\n        &lt;nickname&gt;fong fong&lt;/nickname&gt;\n        &lt;salary&gt;200000&lt;/salary&gt;\n    &lt;/staff&gt;\n&lt;/company&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>XML parser:</li>\n</ol>\n\n<p>Java  file Use SAX parser to parse the XML file.</p>\n\n<pre><code>import javax.xml.parsers.SAXParser;\nimport javax.xml.parsers.SAXParserFactory;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.helpers.DefaultHandler;\n\npublic class ReadXMLFile {\n    public static void main(String argv[]) {\n\n        try {\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n\n            DefaultHandler handler = new DefaultHandler() {\n                boolean bfname = false;\n                boolean blname = false;\n                boolean bnname = false;\n                boolean bsalary = false;\n\n                public void startElement(String uri, String localName,String qName, \n                            Attributes attributes) throws SAXException {\n\n                    System.out.println(\"Start Element :\" + qName);\n\n                    if (qName.equalsIgnoreCase(\"FIRSTNAME\")) {\n                        bfname = true;\n                    }\n\n                    if (qName.equalsIgnoreCase(\"LASTNAME\")) {\n                        blname = true;\n                    }\n\n                    if (qName.equalsIgnoreCase(\"NICKNAME\")) {\n                        bnname = true;\n                    }\n\n                    if (qName.equalsIgnoreCase(\"SALARY\")) {\n                        bsalary = true;\n                    }\n\n                }\n\n                public void endElement(String uri, String localName,\n                    String qName) throws SAXException {\n\n                    System.out.println(\"End Element :\" + qName);\n\n                }\n\n                public void characters(char ch[], int start, int length) throws SAXException {\n\n                    if (bfname) {\n                        System.out.println(\"First Name : \" + new String(ch, start, length));\n                        bfname = false;\n                    }\n\n                    if (blname) {\n                        System.out.println(\"Last Name : \" + new String(ch, start, length));\n                        blname = false;\n                    }\n\n                    if (bnname) {\n                        System.out.println(\"Nick Name : \" + new String(ch, start, length));\n                        bnname = false;\n                    }\n\n                    if (bsalary) {\n                        System.out.println(\"Salary : \" + new String(ch, start, length));\n                        bsalary = false;\n                    }\n\n                }\n\n            };\n\n            saxParser.parse(\"c:\\\\file.xml\", handler);\n\n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Result</p>\n\n<p>Start Element :company<br>\nStart Element :staff<br>\nStart Element :firstname<br>\nFirst Name : yong<br>\nEnd Element :firstname<br>\nStart Element :lastname<br>\nLast Name : mook kim<br>\nEnd Element :lastname<br>\nStart Element :nickname<br>\nNick Name : mkyong<br>\nEnd Element :nickname<br>\nand so on...</p>\n\n<p>Source(MyKong) - <a href=\"http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/\" rel=\"nofollow noreferrer\">http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/</a></p>\n"},{"tags":[],"owner":{"account_id":29889359,"reputation":11,"user_id":22905885,"display_name":"zdeeeeeee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699970249,"creation_date":1699970249,"answer_id":77481173,"question_id":7373567,"body_markdown":"This is an example code for saving a xml: \r\n\r\n    public void save(String tableName, List&lt;Customer&gt; customers) {\r\n\r\n\t\tFile f = new File(FileUtil.getTableFileName(tableName));\r\n\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\ttry {\r\n\t\t\t// make the xml tree\r\n\t\t\t// use factory to get the instance of document builder\r\n\t\t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n\t\t\tDocument doc = db.newDocument();\r\n\t\t\t// Root element &lt;customers&gt;\r\n\t\t\tElement rootElem = doc.createElement(Customer.KEY_ROOT);\r\n\t\t\tdoc.appendChild(rootElem);\r\n\r\n\t\t\tfor (Customer customer : customers) {\r\n\t\t\t\tElement customerElem = doc.createElement(Customer.KEY_ELEMENT);\r\n\t\t\t\trootElem.appendChild(customerElem);\r\n\r\n\t\t\t\t// child element &lt;ID&gt; under &lt;customer&gt;\r\n\t\t\t\tElement cid = doc.createElement(Customer.KEY_ID);\r\n\t\t\t\tcid.appendChild(doc.createTextNode(Integer.toString(customer.getId())));\r\n\t\t\t\tcustomerElem.appendChild(cid);\r\n\r\n\t\t\t\tif (customer.getName() != null) {\r\n\t\t\t\t\tElement name = doc.createElement(Customer.KEY_NAME);\r\n\t\t\t\t\tname.appendChild(doc.createTextNode(customer.getName()));\r\n\t\t\t\t\tcustomerElem.appendChild(name);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (customer.getAddress() != null) {\r\n\t\t\t\t\tElement address = doc.createElement(Customer.KEY_ADDRESS);\r\n\t\t\t\t\taddress.appendChild(doc.createTextNode(customer.getAddress()));\r\n\t\t\t\t\tcustomerElem.appendChild(address);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (customer.getCity() != null) {\r\n\t\t\t\t\tElement city = doc.createElement(Customer.KEY_CITY);\r\n\t\t\t\t\tcity.appendChild(doc.createTextNode(customer.getCity()));\r\n\t\t\t\t\tcustomerElem.appendChild(city);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (customer.getPostCode() != null) {\r\n\t\t\t\t\tElement postCode = doc.createElement(Customer.KEY_POSTCODE);\r\n\t\t\t\t\tpostCode.appendChild(doc.createTextNode(customer.getPostCode()));\r\n\t\t\t\t\tcustomerElem.appendChild(postCode);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (customer.getCountry() != null) {\r\n\t\t\t\t\tElement country = doc.createElement(Customer.KEY_COUNTRY);\r\n\t\t\t\t\tcountry.appendChild(doc.createTextNode(customer.getCountry()));\r\n\t\t\t\t\tcustomerElem.appendChild(country);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// save the xml file\r\n\t\t\t// Transformer is for process XML from a variety of sources and write the\r\n\t\t\t// transformation\r\n\t\t\t// output to a variety of sinks\r\n\t\t\tTransformer transformer = TransformerFactory.newInstance().newTransformer();\r\n\r\n\t\t\t// set xml encoding to utf-8\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\r\n\t\t\t// pretty print\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n\t\t\tDOMSource source = new DOMSource(doc);\r\n\t\t\tStreamResult result = new StreamResult(f);\r\n\t\t\ttransformer.transform(source, result);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nAnd here is a example for read: \r\n\r\n    \tpublic static List&lt;List&lt;String&gt;&gt; read(String fileName) {\r\n\t\tList&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\t\tFile f = new File(fileName);\r\n\t\tif (!f.exists()) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\tDocumentBuilder db;\r\n\t\ttry {\r\n\t\t\tdb = dbf.newDocumentBuilder();\r\n\t\t\tDocument doc = db.parse(f);\r\n\r\n\t\t\tdoc.getDocumentElement().normalize();\r\n\r\n\t\t\tNodeList StatesNodes = doc.getElementsByTagName(STATE_ROOT_ELEMENT);\r\n\t\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;String&gt; states = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tfor (int i = 0; i &lt; StatesNodes.getLength(); i++) {\r\n\t\t\t\tNodeList children = StatesNodes.item(i).getChildNodes();\r\n\t\t\t\tfor (int j = 0; j &lt; children.getLength(); j++) {\r\n\t\t\t\t\tNode child = children.item(j);\r\n\t\t\t\t\tString childName = child.getNodeName();\r\n\t\t\t\t\tif (child.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\t\t\t\tkeys.add(childName);\r\n\t\t\t\t\t\tstates.add(child.getTextContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresult.add(keys);\r\n\t\t\tresult.add(states);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"How to read and write XML files?","body":"<p>This is an example code for saving a xml:</p>\n<pre><code>public void save(String tableName, List&lt;Customer&gt; customers) {\n\n    File f = new File(FileUtil.getTableFileName(tableName));\n\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    try {\n        // make the xml tree\n        // use factory to get the instance of document builder\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document doc = db.newDocument();\n        // Root element &lt;customers&gt;\n        Element rootElem = doc.createElement(Customer.KEY_ROOT);\n        doc.appendChild(rootElem);\n\n        for (Customer customer : customers) {\n            Element customerElem = doc.createElement(Customer.KEY_ELEMENT);\n            rootElem.appendChild(customerElem);\n\n            // child element &lt;ID&gt; under &lt;customer&gt;\n            Element cid = doc.createElement(Customer.KEY_ID);\n            cid.appendChild(doc.createTextNode(Integer.toString(customer.getId())));\n            customerElem.appendChild(cid);\n\n            if (customer.getName() != null) {\n                Element name = doc.createElement(Customer.KEY_NAME);\n                name.appendChild(doc.createTextNode(customer.getName()));\n                customerElem.appendChild(name);\n            }\n\n            if (customer.getAddress() != null) {\n                Element address = doc.createElement(Customer.KEY_ADDRESS);\n                address.appendChild(doc.createTextNode(customer.getAddress()));\n                customerElem.appendChild(address);\n            }\n\n            if (customer.getCity() != null) {\n                Element city = doc.createElement(Customer.KEY_CITY);\n                city.appendChild(doc.createTextNode(customer.getCity()));\n                customerElem.appendChild(city);\n            }\n\n            if (customer.getPostCode() != null) {\n                Element postCode = doc.createElement(Customer.KEY_POSTCODE);\n                postCode.appendChild(doc.createTextNode(customer.getPostCode()));\n                customerElem.appendChild(postCode);\n            }\n\n            if (customer.getCountry() != null) {\n                Element country = doc.createElement(Customer.KEY_COUNTRY);\n                country.appendChild(doc.createTextNode(customer.getCountry()));\n                customerElem.appendChild(country);\n            }\n        }\n        // save the xml file\n        // Transformer is for process XML from a variety of sources and write the\n        // transformation\n        // output to a variety of sinks\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n\n        // set xml encoding to utf-8\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\n        // pretty print\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n\n        DOMSource source = new DOMSource(doc);\n        StreamResult result = new StreamResult(f);\n        transformer.transform(source, result);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And here is a example for read:</p>\n<pre><code>    public static List&lt;List&lt;String&gt;&gt; read(String fileName) {\n    List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\n    File f = new File(fileName);\n    if (!f.exists()) {\n        return result;\n    }\n\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    DocumentBuilder db;\n    try {\n        db = dbf.newDocumentBuilder();\n        Document doc = db.parse(f);\n\n        doc.getDocumentElement().normalize();\n\n        NodeList StatesNodes = doc.getElementsByTagName(STATE_ROOT_ELEMENT);\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        List&lt;String&gt; states = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; StatesNodes.getLength(); i++) {\n            NodeList children = StatesNodes.item(i).getChildNodes();\n            for (int j = 0; j &lt; children.getLength(); j++) {\n                Node child = children.item(j);\n                String childName = child.getNodeName();\n                if (child.getNodeType() == Node.ELEMENT_NODE) {\n                    keys.add(childName);\n                    states.add(child.getTextContent());\n                }\n            }\n        }\n        result.add(keys);\n        result.add(states);\n        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":286979,"reputation":21420,"user_id":586528,"accept_rate":90,"display_name":"Jame"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286698,"favorite_count":0,"down_vote_count":4,"up_vote_count":91,"accepted_answer_id":7373596,"answer_count":7,"score":87,"last_activity_date":1699970249,"creation_date":1315677525,"question_id":7373567,"body_markdown":"I have to read and write to and from an [XML][2] file. What is the easiest way to read and write XML files using Java?\r\n\r\n\r\n  [2]: http://en.wikipedia.org/wiki/XML","title":"How to read and write XML files?","body":"<p>I have to read and write to and from an <a href=\"http://en.wikipedia.org/wiki/XML\">XML</a> file. What is the easiest way to read and write XML files using Java?</p>\n"},{"tags":["java","design-patterns","strategy-pattern","taskservice"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1384419277,"post_id":19973203,"comment_id":29732047,"body_markdown":"As you said, the caller can&#39;t know which strategy will resolve the clerk, so he must always provide all the data. So why don&#39;t you have the strategy method take all the possibly needed parameters?","body":"As you said, the caller can&#39;t know which strategy will resolve the clerk, so he must always provide all the data. So why don&#39;t you have the strategy method take all the possibly needed parameters?"},{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":0,"creation_date":1384419758,"post_id":19973203,"comment_id":29732269,"body_markdown":"Because I do not want to change the method&#39;s type signature evertime a new strategy is added which needs a new parameter. I want to keep it. That&#39;s why I created the second solution with the parameter class.","body":"Because I do not want to change the method&#39;s type signature evertime a new strategy is added which needs a new parameter. I want to keep it. That&#39;s why I created the second solution with the parameter class."},{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":0,"creation_date":1384419845,"post_id":19973203,"comment_id":29732307,"body_markdown":"Why not to use Builder Pattern for StrategyParameter class?","body":"Why not to use Builder Pattern for StrategyParameter class?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1384420650,"post_id":19973203,"comment_id":29732701,"body_markdown":"As Mihkail said, or just add a plain constructor which accepts another argument. Or add setters, which can be fluent, so you get almost the same as with Builder. With any of these options you won&#39;t need to recompile old code.","body":"As Mihkail said, or just add a plain constructor which accepts another argument. Or add setters, which can be fluent, so you get almost the same as with Builder. With any of these options you won&#39;t need to recompile old code."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1384420745,"post_id":19973203,"comment_id":29732764,"body_markdown":"BTW you said &quot;he has to provide all parameters (*but that isn&#39;t that bad*)&quot;. And then you say it *is* bad. So you are confusing the issue.","body":"BTW you said &quot;he has to provide all parameters (<i>but that isn&#39;t that bad</i>)&quot;. And then you say it <i>is</i> bad. So you are confusing the issue."},{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":0,"creation_date":1384421985,"post_id":19973203,"comment_id":29733449,"body_markdown":"@MarkoTopolnik You are right, it sounds confusing. I am confused myself if this solution is bad, or not that bad, or something else. When rethinking the problem, I am not sure if resolving the clerk the way I do it now is the right way to do it. There might be other ways of implementing this and they might be better.","body":"@MarkoTopolnik You are right, it sounds confusing. I am confused myself if this solution is bad, or not that bad, or something else. When rethinking the problem, I am not sure if resolving the clerk the way I do it now is the right way to do it. There might be other ways of implementing this and they might be better."}],"answers":[{"comments":[{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":0,"creation_date":1384422553,"post_id":19973613,"comment_id":29733743,"body_markdown":"Thanks for your answer. I edited my question before I read it. I already added I method to the interface to be sure the strategy can handle it before calling the resolveClerk method (2-4 is implemented nearly the way you wrote it).\nUnfortunately I have no idea how the JavaEE ELResolver works. I have to look it up.","body":"Thanks for your answer. I edited my question before I read it. I already added I method to the interface to be sure the strategy can handle it before calling the resolveClerk method (2-4 is implemented nearly the way you wrote it). Unfortunately I have no idea how the JavaEE ELResolver works. I have to look it up."}],"tags":[],"owner":{"account_id":260032,"reputation":707,"user_id":543349,"accept_rate":83,"display_name":"Harsha R"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384420364,"creation_date":1384420364,"answer_id":19973613,"question_id":19973203,"body_markdown":"Let us start by assuming that your code is based on a simple if-else-if blocks.\r\n\r\nIn such a scenario, you will still need to have all the required inputs upfront. There is no getting around it.\r\n\r\nBy using the strategy pattern, you start decoupling your code - i.e., you define the base interface and concrete implementation.\r\n\r\nJust having this design isn&#39;t good enough, because you still need to have an if-else-if block.\r\n\r\nAt this point, you can look at the following design changes:\r\n\r\n1. Use a factory pattern to load all the available strategies from this system. This could be based on meta information, like the [Service Loader][1] pattern that is available in the JDK.\r\n\r\n2. Identify a strategy by which you can query the available implementations to find out if they can handle the given input set of parameters. This can be as simple as *canYouResolve(input) != null*. By doing this we change from an if-else-if block to an for-each loop.\r\n\r\n3. In your case, you have a *Default Implementation* as well. So, let us say that the default implementation is part of your module and the other strategies are coming in from the other jars (that get loaded via the ServiceLoader from point 1).\r\n\r\n4. When your code kicks-in, you first look for all available strategies; ask them if they can handle the current scenario; if none of them can handle it, then use the default implementation.\r\n\r\nIf for some reason, you have more than one resolver being able to handle a particular input, you should consider defining a priority for those resolvers.\r\n\r\nNow, coming to the input parameters, can these parameters be *derived* from some input object? If so, then why not send that input object itself to the resolver.\r\n\r\nNote: This is very similar to how the JavaEE ELResolver works - In that case, the code marks the EL as resolved, thereby informing the root class that resolution is complete.\r\n\r\nNote: If you think the service loader is too heavy, then look at searching for all META-INF/some-file-that-you-like to identify the resolvers that are available in the system.\r\n\r\nFrom my own experience, most of the times, you end up writing code that mixes patterns to achieve the use case at hand.\r\n\r\nHope this helps your scenario.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html","title":"Strategy Pattern with different parameters","body":"<p>Let us start by assuming that your code is based on a simple if-else-if blocks.</p>\n\n<p>In such a scenario, you will still need to have all the required inputs upfront. There is no getting around it.</p>\n\n<p>By using the strategy pattern, you start decoupling your code - i.e., you define the base interface and concrete implementation.</p>\n\n<p>Just having this design isn't good enough, because you still need to have an if-else-if block.</p>\n\n<p>At this point, you can look at the following design changes:</p>\n\n<ol>\n<li><p>Use a factory pattern to load all the available strategies from this system. This could be based on meta information, like the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow\">Service Loader</a> pattern that is available in the JDK.</p></li>\n<li><p>Identify a strategy by which you can query the available implementations to find out if they can handle the given input set of parameters. This can be as simple as <em>canYouResolve(input) != null</em>. By doing this we change from an if-else-if block to an for-each loop.</p></li>\n<li><p>In your case, you have a <em>Default Implementation</em> as well. So, let us say that the default implementation is part of your module and the other strategies are coming in from the other jars (that get loaded via the ServiceLoader from point 1).</p></li>\n<li><p>When your code kicks-in, you first look for all available strategies; ask them if they can handle the current scenario; if none of them can handle it, then use the default implementation.</p></li>\n</ol>\n\n<p>If for some reason, you have more than one resolver being able to handle a particular input, you should consider defining a priority for those resolvers.</p>\n\n<p>Now, coming to the input parameters, can these parameters be <em>derived</em> from some input object? If so, then why not send that input object itself to the resolver.</p>\n\n<p>Note: This is very similar to how the JavaEE ELResolver works - In that case, the code marks the EL as resolved, thereby informing the root class that resolution is complete.</p>\n\n<p>Note: If you think the service loader is too heavy, then look at searching for all META-INF/some-file-that-you-like to identify the resolvers that are available in the system.</p>\n\n<p>From my own experience, most of the times, you end up writing code that mixes patterns to achieve the use case at hand.</p>\n\n<p>Hope this helps your scenario.</p>\n"},{"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":2,"creation_date":1384422915,"post_id":19974132,"comment_id":29733971,"body_markdown":"A map with different kinds of key value pairs is very difficult to understand when reading the code of a single method. Chances are high to end up in maintenance nightmare soon.","body":"A map with different kinds of key value pairs is very difficult to understand when reading the code of a single method. Chances are high to end up in maintenance nightmare soon."},{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":1,"creation_date":1384423427,"post_id":19974132,"comment_id":29734300,"body_markdown":"The problem using a map is that the implementor of the strategy must know the name of the parameter, in your example &quot;country&quot;. This is ok as long as there is just one caller of the strategy and I am the only one implementing new strategies. But if this is not the case one have to look into the code to be sure how the name of the parameter is. There are advantages and disadvantages. Maybe I am overthinking it...\n@SpaceTrucker I agree.","body":"The problem using a map is that the implementor of the strategy must know the name of the parameter, in your example &quot;country&quot;. This is ok as long as there is just one caller of the strategy and I am the only one implementing new strategies. But if this is not the case one have to look into the code to be sure how the name of the parameter is. There are advantages and disadvantages. Maybe I am overthinking it... @SpaceTrucker I agree."},{"owner":{"account_id":377095,"reputation":2440,"user_id":728971,"display_name":"Param"},"score":0,"creation_date":1384503376,"post_id":19974132,"comment_id":29771842,"body_markdown":"If you&#39;ve programmed with JavaScript, everything there is a Map. In my opinion it lets you write much more dynamic code provided you are disciplined. Anyways, may be there&#39;s a more elegant solution to this problem, but this approach has worked very well for me in many cases.","body":"If you&#39;ve programmed with JavaScript, everything there is a Map. In my opinion it lets you write much more dynamic code provided you are disciplined. Anyways, may be there&#39;s a more elegant solution to this problem, but this approach has worked very well for me in many cases."}],"tags":[],"owner":{"account_id":377095,"reputation":2440,"user_id":728971,"display_name":"Param"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1384421896,"creation_date":1384421896,"answer_id":19974132,"question_id":19973203,"body_markdown":"Since Java is statically typed, one good way of simulating dynamic objects is by using a Map. I would do this for passing dynamic parameters to my resolvers:\r\n\r\n    class StrategyParameter extends Map {} \r\n    // Map could be used directly, but this make the code more readable\r\n\r\nThen, my strategy pattern becomes:\r\ninterface ClerkResolver {\r\n    String resolveClerk(StrategyParameter strategyParameter);\r\n}\r\n\r\n    class DefaultClerkResolver implements ClerkResolver {\r\n    \r\n        public String resolveClerk(StrategyParameter strategyParameter) {\r\n            // strategyParameter.get(&quot;department&quot;);\r\n        }\r\n    }\r\n    \r\n    class CountryClerkResolver implements ClerkResolver {\r\n    \r\n        public String resolveClerk(StrategyParameter strategyParameter) {\r\n            // strategyParameter.get(&quot;country&quot;);\r\n        }\r\n    \r\n    }","title":"Strategy Pattern with different parameters","body":"<p>Since Java is statically typed, one good way of simulating dynamic objects is by using a Map. I would do this for passing dynamic parameters to my resolvers:</p>\n\n<pre><code>class StrategyParameter extends Map {} \n// Map could be used directly, but this make the code more readable\n</code></pre>\n\n<p>Then, my strategy pattern becomes:\ninterface ClerkResolver {\n    String resolveClerk(StrategyParameter strategyParameter);\n}</p>\n\n<pre><code>class DefaultClerkResolver implements ClerkResolver {\n\n    public String resolveClerk(StrategyParameter strategyParameter) {\n        // strategyParameter.get(\"department\");\n    }\n}\n\nclass CountryClerkResolver implements ClerkResolver {\n\n    public String resolveClerk(StrategyParameter strategyParameter) {\n        // strategyParameter.get(\"country\");\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":0,"creation_date":1384425402,"post_id":19974456,"comment_id":29735487,"body_markdown":"This is a great idea. The task object itself has all required information to resolve a clerk. I can&#39;t think of an attribute that is needed for resolving but not stored in the task object.","body":"This is a great idea. The task object itself has all required information to resolve a clerk. I can&#39;t think of an attribute that is needed for resolving but not stored in the task object."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1384422785,"creation_date":1384422785,"answer_id":19974456,"question_id":19973203,"body_markdown":"I think there is some confusion about what the task actually is. In my thinking a task is something that is done by a clerk. So you are able to create a task itself without knowing about a clerk.\r\n\r\nBased on that task you can choose an appropriate clerk for it. The assignment of the task to the clerk can itself be wrapped to some other kind of task. So a common interface for choosing a clerk would be:\r\n\r\n    interface ClerkResolver {\r\n        String resolveClerk(Task task);\r\n    }\r\n\r\nFor implementing this kind of clerk resolver you can use the strategy pattern based on the actual type of the task for example.","title":"Strategy Pattern with different parameters","body":"<p>I think there is some confusion about what the task actually is. In my thinking a task is something that is done by a clerk. So you are able to create a task itself without knowing about a clerk.</p>\n\n<p>Based on that task you can choose an appropriate clerk for it. The assignment of the task to the clerk can itself be wrapped to some other kind of task. So a common interface for choosing a clerk would be:</p>\n\n<pre><code>interface ClerkResolver {\n    String resolveClerk(Task task);\n}\n</code></pre>\n\n<p>For implementing this kind of clerk resolver you can use the strategy pattern based on the actual type of the task for example.</p>\n"},{"comments":[{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":1,"creation_date":1384428245,"post_id":19975981,"comment_id":29737081,"body_markdown":"Unfortunately option (2) isn&#39;t possible in my case because the information for resolving the clerk depend on data entered by user (not stored in database at this time), results from webservices or just on the type of the task. There is no way to look it up, these information has to be bypassed to the strategy. \nBut, as you said, option (2) is legitimate and I would have used it if it were possible.","body":"Unfortunately option (2) isn&#39;t possible in my case because the information for resolving the clerk depend on data entered by user (not stored in database at this time), results from webservices or just on the type of the task. There is no way to look it up, these information has to be bypassed to the strategy.  But, as you said, option (2) is legitimate and I would have used it if it were possible."},{"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"score":0,"creation_date":1384473485,"post_id":19975981,"comment_id":29763227,"body_markdown":"Thanks :) just a quick question: for option (2), can&#39;t your Strategy be responsible for collecting its required data from the user (i.e. Strategy will have method &quot;getRequiredPropertyNames&quot;)? So that user doesn&#39;t have to type unnecessary data (e.g. type his country for a strategy that doesn&#39;t use it)?","body":"Thanks :) just a quick question: for option (2), can&#39;t your Strategy be responsible for collecting its required data from the user (i.e. Strategy will have method &quot;getRequiredPropertyNames&quot;)? So that user doesn&#39;t have to type unnecessary data (e.g. type his country for a strategy that doesn&#39;t use it)?"},{"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"score":0,"creation_date":1384506372,"post_id":19975981,"comment_id":29773144,"body_markdown":"I thought about a similar solution - like using the visitor pattern to get the required information from the caller. But this requires an interface to be implemented by the caller and doesn&#39;t solve the problem of receiving different properties. The thing is that the caller doesn&#39;t have to know which strategy resolves the clerk. He has to provide the information he currently has. And depending on that information (and others) the clerk will be resolved.","body":"I thought about a similar solution - like using the visitor pattern to get the required information from the caller. But this requires an interface to be implemented by the caller and doesn&#39;t solve the problem of receiving different properties. The thing is that the caller doesn&#39;t have to know which strategy resolves the clerk. He has to provide the information he currently has. And depending on that information (and others) the clerk will be resolved."}],"tags":[],"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384426981,"creation_date":1384426981,"answer_id":19975981,"question_id":19973203,"body_markdown":"I really liked &#39;SpaceTrucker&#39;s suggestion, that sometimes problems are solved by moving the abstraction to a different level :)\r\n\r\nBut if your original design makes more sense (which only you can tell, based on your feel of the spec) - then IMHO one can either:\r\n1) Keep your approach of &quot;loading everything into StrategyParameter&quot;\r\n2) Or move this responsibility to the Strategy \r\n\r\nFor option (2), I assume there&#39;s some common entity (account? customer?) from which one can deduce the department/country.\r\nThen you have &quot;CountryClerkResolver.resolveClerk(String accountId)&quot; which would look up the country.\r\n\r\nIMHO both (1),(2) are legitimate, depending on context.\r\nSometimes (1) works for me, because all params (department+country) are cheap to pre-load. Sometimes I even manage to replace the synthetic &#39;StrategyParameter&#39; with a business-intuitive entity (e.g. Account).\r\nSometimes (2) works better for me, e.g. if &#39;department&#39; and &#39;country&#39; required separate and expensive lookups. It becomes especially noticed with complex params - e.g. if a strategy selects clerks based on their scores in &#39;customer satisfaction&#39; reviews, that&#39;s a complex structure which shouldn&#39;t be loaded for simpler strategies.\r\n","title":"Strategy Pattern with different parameters","body":"<p>I really liked 'SpaceTrucker's suggestion, that sometimes problems are solved by moving the abstraction to a different level :)</p>\n\n<p>But if your original design makes more sense (which only you can tell, based on your feel of the spec) - then IMHO one can either:\n1) Keep your approach of \"loading everything into StrategyParameter\"\n2) Or move this responsibility to the Strategy </p>\n\n<p>For option (2), I assume there's some common entity (account? customer?) from which one can deduce the department/country.\nThen you have \"CountryClerkResolver.resolveClerk(String accountId)\" which would look up the country.</p>\n\n<p>IMHO both (1),(2) are legitimate, depending on context.\nSometimes (1) works for me, because all params (department+country) are cheap to pre-load. Sometimes I even manage to replace the synthetic 'StrategyParameter' with a business-intuitive entity (e.g. Account).\nSometimes (2) works better for me, e.g. if 'department' and 'country' required separate and expensive lookups. It becomes especially noticed with complex params - e.g. if a strategy selects clerks based on their scores in 'customer satisfaction' reviews, that's a complex structure which shouldn't be loaded for simpler strategies.</p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1687851630,"post_id":65711040,"comment_id":134990655,"body_markdown":"The thing is, if you know the parameters are different before doing the task, do you choose different clerk already early? Or do you pass in everything to strategy/clerk for it to decide? If we can do the decision early, does Strategy pattern still applies or we need another pattern?","body":"The thing is, if you know the parameters are different before doing the task, do you choose different clerk already early? Or do you pass in everything to strategy/clerk for it to decide? If we can do the decision early, does Strategy pattern still applies or we need another pattern?"}],"tags":[],"owner":{"account_id":9585668,"reputation":3895,"user_id":7123519,"accept_rate":95,"display_name":"Sebastian Nielsen"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1610619454,"creation_date":1610578950,"answer_id":65711040,"question_id":19973203,"body_markdown":"Congratulations, **you discovered one of the shortcomings of strategy pattern**:\r\n\r\n&gt; The strategy pattern can be used to host different algorithms which either have no parameters or the set of parameters for each algorithm is the same. However, it falls short if various algorithms with different sets of parameters are to be used.\r\n\r\n **Luckily, this [paper](https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters/blob/master/paperThatPresentsTheSolution.pdf) presents an elegant solution:** \r\n--\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\nApplying it to your specific situation:\r\n\r\n```lang-java \r\npublic abstract class ClerkResolver {  // Role: Algorithm \r\n\r\n\tprotected Parameter[] parameters;\r\n\r\n\tpublic Parameter[] getParameters() {\r\n\t\treturn parameters.clone();\r\n\t}\r\n\r\n\tabstract String resolveClerk();\r\n\r\n}\r\n```\r\n\r\n```lang-java\r\nclass CountryClerkResolver extends ClerkResolver {\r\n\r\n\tpublic CountryClerkResolver() {\r\n\t\tparameters = new Parameter[1];\r\n\t\tparameters[0] = new StringParameter(&quot;country&quot;, &quot;Denmark&quot;); // Default value is &#39;Denmark&#39;\r\n\t}\r\n\r\n\tprivate String country;\r\n\r\n\t@Override\r\n\tString resolveClerk() {\r\n\t\tcountry = ((StringParameter) parameters[0]).getValue();\r\n\r\n\t\t// CountryClerkResolver specific code\r\n\r\n\t\treturn country;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```lang-java\r\nclass DefaultClerkResolver extends ClerkResolver { // Role: ConcreteAlgorithm\r\n\r\n    public DefaultClerkResolver() {\r\n        parameters = new Parameter[1];\r\n        parameters[0] = new StringParameter(&quot;department&quot;, &quot;someName&quot;);\r\n    }\r\n\r\n    private String department;\r\n\r\n    @Override\r\n    public String resolveClerk() {\r\n        department = ((StringParameter) parameters[0]).getValue();\r\n\r\n\t\t// DefaultClerkResolver specific code\r\n\r\n        return department;\r\n    }\r\n\r\n}\r\n```\r\n```lang-java\r\npublic abstract class Parameter { // Role: Parameter\r\n\r\n\tprivate String name;\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic Parameter(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n}\r\n```\r\n```lang-java\r\npublic class StringParameter extends Parameter { // Role: ConcreteParameter\r\n\r\n\tprivate String value;\r\n\r\n\tpublic StringParameter(String name, String value) {\r\n\t\tsuper(name);\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n}\r\n```\r\n\r\nExample use:\r\n\r\n```lang-java\r\npublic class Main {\r\n\tpublic static void main(String... args) {  // Role: client\r\n\t\tClerkResolver clerk_1 = new CountryClerkResolver();\r\n\r\n\t\tParameter[] parameters = clerk_1.getParameters();\r\n\r\n\t\tStringParameter country = (StringParameter) parameters[0];  // [&#164;]\r\n\t\tcountry.setValue(&quot;USA&quot;); // Overwriting default value\r\n\r\n\t\tclerk_1.resolveClerk();\r\n\t}\r\n}\r\n```\r\n---\r\n**Here is what you would do if you wanted `CountryClerkResolver` to take e.g. three parameters instead (one of which is an integer):**\r\n\r\nFirst introduce an `IntegerParameter`.\r\n\r\n```java-lang\r\npublic class IntegerParameter extends Parameter {\r\n\r\n\tprivate int value;\r\n\r\n\tpublic IntegerParameter(String name, int value) {\r\n\t\tsuper(name);\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic void setValue(int value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic int getValue() {\r\n\t\treturn value;\r\n\t}\r\n}\r\n```\r\n\r\nNow alter the constructor and the method of the strategy:\r\n\r\n```java-lang\r\nclass CountryClerkResolver extends ClerkResolver {\r\n\r\n\tpublic CountryClerkResolver() {\r\n\t\tparameters = new Parameter[1];\r\n\t\tparameters[0] = new StringParameter( &quot;country&quot;,         &quot;Denmark&quot;   ); // Default value is &#39;Denmark&#39;\r\n\t\tparameters[1] = new StringParameter( &quot;newStringParam&quot;,  &quot;defaultVal&quot;);\r\n\t\tparameters[2] = new IntegerParameter(&quot;newIntegerParam&quot;, 9999        );\r\n\t}\r\n\r\n\tprivate String country;\r\n\tprivate String newStringParam;\r\n\tprivate int    newIntegerParam;\r\n\r\n\t@Override\r\n\tString resolveClerk() {\r\n\t\tcountry         = ((StringParameter)  parameters[0]).getValue();\r\n\t\tnewStringParam  = ((StringParameter)  parameters[1]).getValue();\r\n\t\tnewIntegerParam = ((IntegerParameter) parameters[2]).getValue();\r\n\r\n\t\t// CountryClerkResolver specific code\r\n\r\n\t\treturn country;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\nFor a more detailed explanation of the pattern consult [the paper](https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters/blob/master/paperThatPresentsTheSolution.pdf).\r\n\r\n---\r\n\r\nBenefits: \r\n - [Flexible] Change by addition whenever you want to add a new concrete `Algorithm`or `Parameter`. \r\n - You don&#39;t have to deal with signatures of the public methods of the algorithm (Strategy) since it doesn&#39;t take any parameters; the parameters are to be sat prior to calling the method instead. \r\n\r\nLiabilities:\r\n - [Stability] When fetching the parameters (see `[&#164;]`), the programmer might mix up the indexes of the `parameters` array. (e.g. what if `parameters[0]` wasn&#39;t `country` but, say, `continent`)\r\n---\r\n-\r\n     - A possible solution to address the stability concern, though at the cost of analyzability, is: \r\n\r\n```java-lang\r\npublic class Main {\r\n\tpublic static void main(String... args) {  // Role: client\r\n\t\tClerkResolver clerk_1 = new CountryClerkResolver();\r\n\r\n\t\tParameter[] parameters = clerk_1.getParameters();\r\n                         \r\n                   // Analyzability suffers because of ugly casting: \r\n\t\tStringParameter country = (StringParameter) getParameterWithName(&quot;country&quot;, parameters);\r\n\t\tcountry.setValue(&quot;USA&quot;); // Overwriting default value\r\n\r\n\t\tclerk_1.resolveClerk();\r\n\t}\r\n\r\n\tprivate static Parameter getParameterWithName(String paramName, Parameter[] parameters) {\r\n\t\tfor (Parameter param : parameters) \r\n\t\t\tif (param.getName().equals(paramName))\r\n\t\t\t\treturn param;\r\n\t\tthrow new RuntimeException();  \r\n\t}\r\n\r\n}\r\n```\r\n---\r\n\r\n* * * To increase readability, an abstraction for the `Parameter[]` can be introduced: \r\n\r\n```java-lang\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ParameterList {\r\n\r\n\tprivate final List&lt;Parameter&gt; parameters;\r\n\r\n\tpublic ParameterList(int length) {\r\n\t\tthis.parameters = new ArrayList&lt;&gt;(length);\r\n\t}\r\n\t\r\n\tpublic void add(Parameter p) {\r\n\t\tparameters.add(p);\r\n\t}\r\n\t\r\n\tprivate Parameter getParameterOf(String name) {\r\n\t\treturn parameters.stream()\r\n\t\t\t\t\t\t\t.filter(p -&gt; p.getName().equals(name))\r\n\t\t\t\t\t\t\t.findFirst()\r\n\t\t\t\t\t\t\t.orElse(null);\r\n\t}\r\n\r\n\r\n\r\n\t// =================================================== ~~~~~~~~~~~~~~~~~~~~~~~~\r\n\t// The liability of ParameterList is that we have to write a lot of boilerplate getter methods.\r\n\t// However, because most parameter to any strategy class is a primitive type (or String), we don&#39;t\r\n\t// have to continiously add new methods; this is thus acceptable.\r\n\r\n\t// === A getter for each type of {@code Parameter} is needed ~~~~~~~~~~~~~~~~~~~~~~~~\r\n\tpublic StringParameter getStringParameterOf(String name) {\r\n\t\treturn (StringParameter) getParameterOf(name);\r\n\t}\r\n\r\n\tpublic IntegerParameter getIntegerParameterOf(String name) {\r\n\t\treturn (IntegerParameter) getParameterOf(name);\r\n\t}\r\n\r\n\t// === A value of each type of {@code Parameter} is needed ~~~~~~~~~~~~~~~~~~~~~~~~\r\n\tpublic String getValueOfStringParameter(String name) {\r\n\t\treturn ((StringParameter) getParameterOf(name)).getValue();\r\n\t}\r\n\r\n\tpublic int getValueOfIntegerParameter(String name) {\r\n\t\treturn ((IntegerParameter) getParameterOf(name)).getValue();\r\n\t}\r\n\r\n\t// =================================================== ~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\r\n\tpublic ParameterList clone() throws CloneNotSupportedException {\r\n\t\treturn (ParameterList) super.clone();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n---\r\n[GitHub: all code](https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters)\r\n\r\n  [1]: https://i.stack.imgur.com/ahQy2.png\r\n  [2]: https://i.stack.imgur.com/c2gaZ.png","title":"Strategy Pattern with different parameters","body":"<p>Congratulations, <strong>you discovered one of the shortcomings of strategy pattern</strong>:</p>\n<blockquote>\n<p>The strategy pattern can be used to host different algorithms which either have no parameters or the set of parameters for each algorithm is the same. However, it falls short if various algorithms with different sets of parameters are to be used.</p>\n</blockquote>\n<h2><strong>Luckily, this <a href=\"https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters/blob/master/paperThatPresentsTheSolution.pdf\" rel=\"noreferrer\">paper</a> presents an elegant solution:</strong></h2>\n<p><a href=\"https://i.stack.imgur.com/ahQy2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ahQy2.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/c2gaZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c2gaZ.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Applying it to your specific situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class ClerkResolver {  // Role: Algorithm \n\n    protected Parameter[] parameters;\n\n    public Parameter[] getParameters() {\n        return parameters.clone();\n    }\n\n    abstract String resolveClerk();\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class CountryClerkResolver extends ClerkResolver {\n\n    public CountryClerkResolver() {\n        parameters = new Parameter[1];\n        parameters[0] = new StringParameter(&quot;country&quot;, &quot;Denmark&quot;); // Default value is 'Denmark'\n    }\n\n    private String country;\n\n    @Override\n    String resolveClerk() {\n        country = ((StringParameter) parameters[0]).getValue();\n\n        // CountryClerkResolver specific code\n\n        return country;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DefaultClerkResolver extends ClerkResolver { // Role: ConcreteAlgorithm\n\n    public DefaultClerkResolver() {\n        parameters = new Parameter[1];\n        parameters[0] = new StringParameter(&quot;department&quot;, &quot;someName&quot;);\n    }\n\n    private String department;\n\n    @Override\n    public String resolveClerk() {\n        department = ((StringParameter) parameters[0]).getValue();\n\n        // DefaultClerkResolver specific code\n\n        return department;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Parameter { // Role: Parameter\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public Parameter(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringParameter extends Parameter { // Role: ConcreteParameter\n\n    private String value;\n\n    public StringParameter(String name, String value) {\n        super(name);\n        this.value = value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>Example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String... args) {  // Role: client\n        ClerkResolver clerk_1 = new CountryClerkResolver();\n\n        Parameter[] parameters = clerk_1.getParameters();\n\n        StringParameter country = (StringParameter) parameters[0];  // [¤]\n        country.setValue(&quot;USA&quot;); // Overwriting default value\n\n        clerk_1.resolveClerk();\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Here is what you would do if you wanted <code>CountryClerkResolver</code> to take e.g. three parameters instead (one of which is an integer):</strong></p>\n<p>First introduce an <code>IntegerParameter</code>.</p>\n<pre><code>public class IntegerParameter extends Parameter {\n\n    private int value;\n\n    public IntegerParameter(String name, int value) {\n        super(name);\n        this.value = value;\n    }\n\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>Now alter the constructor and the method of the strategy:</p>\n<pre><code>class CountryClerkResolver extends ClerkResolver {\n\n    public CountryClerkResolver() {\n        parameters = new Parameter[1];\n        parameters[0] = new StringParameter( &quot;country&quot;,         &quot;Denmark&quot;   ); // Default value is 'Denmark'\n        parameters[1] = new StringParameter( &quot;newStringParam&quot;,  &quot;defaultVal&quot;);\n        parameters[2] = new IntegerParameter(&quot;newIntegerParam&quot;, 9999        );\n    }\n\n    private String country;\n    private String newStringParam;\n    private int    newIntegerParam;\n\n    @Override\n    String resolveClerk() {\n        country         = ((StringParameter)  parameters[0]).getValue();\n        newStringParam  = ((StringParameter)  parameters[1]).getValue();\n        newIntegerParam = ((IntegerParameter) parameters[2]).getValue();\n\n        // CountryClerkResolver specific code\n\n        return country;\n    }\n\n}\n</code></pre>\n<hr />\n<p>For a more detailed explanation of the pattern consult <a href=\"https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters/blob/master/paperThatPresentsTheSolution.pdf\" rel=\"noreferrer\">the paper</a>.</p>\n<hr />\n<p>Benefits:</p>\n<ul>\n<li>[Flexible] Change by addition whenever you want to add a new concrete <code>Algorithm</code>or <code>Parameter</code>.</li>\n<li>You don't have to deal with signatures of the public methods of the algorithm (Strategy) since it doesn't take any parameters; the parameters are to be sat prior to calling the method instead.</li>\n</ul>\n<p>Liabilities:</p>\n<ul>\n<li>[Stability] When fetching the parameters (see <code>[¤]</code>), the programmer might mix up the indexes of the <code>parameters</code> array. (e.g. what if <code>parameters[0]</code> wasn't <code>country</code> but, say, <code>continent</code>)</li>\n</ul>\n<hr />\n<ul>\n<li>\n<ul>\n<li>A possible solution to address the stability concern, though at the cost of analyzability, is:</li>\n</ul>\n</li>\n</ul>\n<pre><code>public class Main {\n    public static void main(String... args) {  // Role: client\n        ClerkResolver clerk_1 = new CountryClerkResolver();\n\n        Parameter[] parameters = clerk_1.getParameters();\n                         \n                   // Analyzability suffers because of ugly casting: \n        StringParameter country = (StringParameter) getParameterWithName(&quot;country&quot;, parameters);\n        country.setValue(&quot;USA&quot;); // Overwriting default value\n\n        clerk_1.resolveClerk();\n    }\n\n    private static Parameter getParameterWithName(String paramName, Parameter[] parameters) {\n        for (Parameter param : parameters) \n            if (param.getName().equals(paramName))\n                return param;\n        throw new RuntimeException();  \n    }\n\n}\n</code></pre>\n<hr />\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li>To increase readability, an abstraction for the <code>Parameter[]</code> can be introduced:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ParameterList {\n\n    private final List&lt;Parameter&gt; parameters;\n\n    public ParameterList(int length) {\n        this.parameters = new ArrayList&lt;&gt;(length);\n    }\n    \n    public void add(Parameter p) {\n        parameters.add(p);\n    }\n    \n    private Parameter getParameterOf(String name) {\n        return parameters.stream()\n                            .filter(p -&gt; p.getName().equals(name))\n                            .findFirst()\n                            .orElse(null);\n    }\n\n\n\n    // =================================================== ~~~~~~~~~~~~~~~~~~~~~~~~\n    // The liability of ParameterList is that we have to write a lot of boilerplate getter methods.\n    // However, because most parameter to any strategy class is a primitive type (or String), we don't\n    // have to continiously add new methods; this is thus acceptable.\n\n    // === A getter for each type of {@code Parameter} is needed ~~~~~~~~~~~~~~~~~~~~~~~~\n    public StringParameter getStringParameterOf(String name) {\n        return (StringParameter) getParameterOf(name);\n    }\n\n    public IntegerParameter getIntegerParameterOf(String name) {\n        return (IntegerParameter) getParameterOf(name);\n    }\n\n    // === A value of each type of {@code Parameter} is needed ~~~~~~~~~~~~~~~~~~~~~~~~\n    public String getValueOfStringParameter(String name) {\n        return ((StringParameter) getParameterOf(name)).getValue();\n    }\n\n    public int getValueOfIntegerParameter(String name) {\n        return ((IntegerParameter) getParameterOf(name)).getValue();\n    }\n\n    // =================================================== ~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n    public ParameterList clone() throws CloneNotSupportedException {\n        return (ParameterList) super.clone();\n    }\n    \n}\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/Sebastian-Nielsen/Strategy-Pattern-with-different-parameters\" rel=\"noreferrer\">GitHub: all code</a></p>\n"}],"owner":{"account_id":3127237,"reputation":853,"user_id":2645877,"accept_rate":45,"display_name":"Daniel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24772,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":19974456,"answer_count":5,"score":37,"last_activity_date":1699970212,"creation_date":1384419036,"question_id":19973203,"body_markdown":"I came across a problem when using the strategy pattern. I am implementing a service for creating tasks. This service also resolves the responsible clerk for this task. Resolving the clerk is done by using the strategy pattern because there are different ways of doing this. The point is that every strategy could need different parameters to resolve the clerk.\r\n\r\nFor example:\r\n\r\n    interface ClerkResolver {\r\n        String resolveClerk(String department);\r\n    }\r\n\r\n    class DefaultClerkResolver implements ClerkResolver {\r\n        \r\n        public String resolveClerk(String department) {\r\n            // some stuff\r\n        }\r\n    }\r\n\r\n    class CountryClerkResolver implements ClerkResolver {\r\n        \r\n        public String resolveClerk(String department) {\r\n            // I do not need the department name here. What I need is the country.\r\n        }\r\n        \r\n    }\r\n\r\nThe problem is that every resolver may depend on different parameters to resolve the responsible clerk. For me this sounds like a design issue in my code. I also tried to have a class as a parameter to keep all values that could be needed by the strategies, like:\r\n\r\n    class StrategyParameter {\r\n\r\n       private String department;\r\n       private String country;\r\n\r\n       public String getDepartment() ...\r\n    }\r\n\r\n    interface ClerkResolver {\r\n        String resolveClerk(StrategyParameter strategyParameter);\r\n    }\r\n\r\nBut to be honest, I am not satisfied with this solution because I have to change the parameter class everytime a strategy needs a new / different argument. And secondly the caller of the strategy must set all parameters because he does not know which strategy will resolve the clerk, therefore he has to provide all parameters (but this isn&#39;t that bad).\r\n\r\nAgain, for me this sounds like a design issue in my code, but I can&#39;t find a better solution. \r\n\r\n**--- EDIT**\r\n\r\nThe main problem with this solution is when creating the task. The task service looks like this:\r\n\r\n    class TaskService {\r\n\r\n        private List&lt;ClerkResolver&gt; clerkResolvers;\r\n \r\n        Task createTask(StrategyParamter ...) {\r\n\r\n            // some stuff\r\n\r\n           for(ClerkResolver clerkResolver : clerkResolvers) {\r\n              String clerk = clerkResolver.resolveClerk(StrategyParameter...)\r\n              ...\r\n           }\r\n\r\n           // some other stuff\r\n        }\r\n\r\n    }\r\n\r\nAs you can see when the TaskService is used, the caller must provide the necessary information to resolve the clerk, i.e. the department name and/or the country, because the TaskService itself doesn&#39;t have these information. \r\n\r\nWhen a task has to be created, the caller must provide the StrategyParameter, because they are necessary to resolve the clerk. Again, the problem is, that the caller doesn&#39;t have all the information, i.e. he has no knowledge of the country. He can only set the department name. That&#39;s why I added a second method to the interface to ensure that the strategy can handle the clerk resolution:\r\n\r\n    interface ClerkResolver {\r\n        String resolveClerk(StrategyParameter strategyParameter);\r\n        boolean canHandle(StrategyParameter strategyParameter);\r\n    }\r\n\r\nAt the risk of repeating me, this solution doesn&#39;t sound right to me.\r\n\r\nSo, if anybody has a better solution for this problem I would appreciate to hear it.\r\n\r\nThanks for your comments!  ","title":"Strategy Pattern with different parameters","body":"<p>I came across a problem when using the strategy pattern. I am implementing a service for creating tasks. This service also resolves the responsible clerk for this task. Resolving the clerk is done by using the strategy pattern because there are different ways of doing this. The point is that every strategy could need different parameters to resolve the clerk.</p>\n\n<p>For example:</p>\n\n<pre><code>interface ClerkResolver {\n    String resolveClerk(String department);\n}\n\nclass DefaultClerkResolver implements ClerkResolver {\n\n    public String resolveClerk(String department) {\n        // some stuff\n    }\n}\n\nclass CountryClerkResolver implements ClerkResolver {\n\n    public String resolveClerk(String department) {\n        // I do not need the department name here. What I need is the country.\n    }\n\n}\n</code></pre>\n\n<p>The problem is that every resolver may depend on different parameters to resolve the responsible clerk. For me this sounds like a design issue in my code. I also tried to have a class as a parameter to keep all values that could be needed by the strategies, like:</p>\n\n<pre><code>class StrategyParameter {\n\n   private String department;\n   private String country;\n\n   public String getDepartment() ...\n}\n\ninterface ClerkResolver {\n    String resolveClerk(StrategyParameter strategyParameter);\n}\n</code></pre>\n\n<p>But to be honest, I am not satisfied with this solution because I have to change the parameter class everytime a strategy needs a new / different argument. And secondly the caller of the strategy must set all parameters because he does not know which strategy will resolve the clerk, therefore he has to provide all parameters (but this isn't that bad).</p>\n\n<p>Again, for me this sounds like a design issue in my code, but I can't find a better solution. </p>\n\n<p><strong>--- EDIT</strong></p>\n\n<p>The main problem with this solution is when creating the task. The task service looks like this:</p>\n\n<pre><code>class TaskService {\n\n    private List&lt;ClerkResolver&gt; clerkResolvers;\n\n    Task createTask(StrategyParamter ...) {\n\n        // some stuff\n\n       for(ClerkResolver clerkResolver : clerkResolvers) {\n          String clerk = clerkResolver.resolveClerk(StrategyParameter...)\n          ...\n       }\n\n       // some other stuff\n    }\n\n}\n</code></pre>\n\n<p>As you can see when the TaskService is used, the caller must provide the necessary information to resolve the clerk, i.e. the department name and/or the country, because the TaskService itself doesn't have these information. </p>\n\n<p>When a task has to be created, the caller must provide the StrategyParameter, because they are necessary to resolve the clerk. Again, the problem is, that the caller doesn't have all the information, i.e. he has no knowledge of the country. He can only set the department name. That's why I added a second method to the interface to ensure that the strategy can handle the clerk resolution:</p>\n\n<pre><code>interface ClerkResolver {\n    String resolveClerk(StrategyParameter strategyParameter);\n    boolean canHandle(StrategyParameter strategyParameter);\n}\n</code></pre>\n\n<p>At the risk of repeating me, this solution doesn't sound right to me.</p>\n\n<p>So, if anybody has a better solution for this problem I would appreciate to hear it.</p>\n\n<p>Thanks for your comments!  </p>\n"},{"tags":["java","windows","terminal","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699969912,"creation_date":1699969912,"answer_id":77481136,"question_id":77480992,"body_markdown":"Define &#39;terminate&#39;. If you end standard input, `data.hasNext()` returns false, and the last message prints as expected. On some systems, this is CTRL+Z (mostly, windows). On others, it&#39;s CTRL+D. You can usually also _tell the app to close_, which often both ends the app _and_ ends the input, at which point its a race. This is usually done (depends on OS) with CTRL+C.\r\n\r\nIf that&#39;s what you&#39;re doing: Don&#39;t. It&#39;s not a sensible thing to tell an app to close and then ask: Okay, but, I want to do something _else_. If you insist on doing this, java makes that very difficult, because this inter-process communication stuff is generally called &#39;signals&#39;, it&#39;s different between OSes, and java takes the view that things that cannot easily and uniformly be done on all platforms java runs on, are best not done at all, and thus rarely exposes functionality in its API that is OS-specific. Which includes signals: Trying to &#39;catch&#39; the &quot;close the app&quot; signal is tricky.\r\n\r\nOften apps just do this signalling inside the app itself. For example, by defining some sentinel value that means &#39;actually, exit&#39;. Here is an example:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class E2 {\r\n  public static void main(String[] args) {\r\n    int n = Integer.parseInt(args[0]);\r\n    Scanner data = new Scanner(System.in);\r\n    // Your code here\r\n    int counter = 0;\r\n    while(data.hasNext()){\r\n      String next = data.next();\r\n      if (next.equalsIgnoreCase(&quot;done&quot;)) break;\r\n      int v = Integer.parseInt(next);\r\n      if(v == n) counter++;\r\n    }\r\n    System.out.println(&quot;Number &quot; + n + &quot; occurred &quot; + counter + &quot; times.&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis code is similar, but results in the app shutting down (and printing your message) if you enter &#39;done&#39; instead of a number.\r\n\r\nOr even simpler you could state that &#39;0&#39; results in app termination, then you can keep `.nextInt()`.\r\n","title":"Terminate a Scanner function in java","body":"<p>Define 'terminate'. If you end standard input, <code>data.hasNext()</code> returns false, and the last message prints as expected. On some systems, this is CTRL+Z (mostly, windows). On others, it's CTRL+D. You can usually also <em>tell the app to close</em>, which often both ends the app <em>and</em> ends the input, at which point its a race. This is usually done (depends on OS) with CTRL+C.</p>\n<p>If that's what you're doing: Don't. It's not a sensible thing to tell an app to close and then ask: Okay, but, I want to do something <em>else</em>. If you insist on doing this, java makes that very difficult, because this inter-process communication stuff is generally called 'signals', it's different between OSes, and java takes the view that things that cannot easily and uniformly be done on all platforms java runs on, are best not done at all, and thus rarely exposes functionality in its API that is OS-specific. Which includes signals: Trying to 'catch' the &quot;close the app&quot; signal is tricky.</p>\n<p>Often apps just do this signalling inside the app itself. For example, by defining some sentinel value that means 'actually, exit'. Here is an example:</p>\n<pre><code>import java.util.Scanner;\n\npublic class E2 {\n  public static void main(String[] args) {\n    int n = Integer.parseInt(args[0]);\n    Scanner data = new Scanner(System.in);\n    // Your code here\n    int counter = 0;\n    while(data.hasNext()){\n      String next = data.next();\n      if (next.equalsIgnoreCase(&quot;done&quot;)) break;\n      int v = Integer.parseInt(next);\n      if(v == n) counter++;\n    }\n    System.out.println(&quot;Number &quot; + n + &quot; occurred &quot; + counter + &quot; times.&quot;);\n  }\n}\n</code></pre>\n<p>This code is similar, but results in the app shutting down (and printing your message) if you enter 'done' instead of a number.</p>\n<p>Or even simpler you could state that '0' results in app termination, then you can keep <code>.nextInt()</code>.</p>\n"}],"owner":{"account_id":23965493,"reputation":9,"user_id":17955055,"display_name":"Malek Ghanem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77481136,"answer_count":1,"score":-2,"last_activity_date":1699969912,"creation_date":1699968692,"question_id":77480992,"body_markdown":"When I terminate the Scanner function, for some reason it doesn&#39;t print the last message in my code. I tried searching and found no solution.\r\n\r\nThis is my code:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class E2{\r\n  public static void main(String[] args) {\r\n    int n = Integer.parseInt(args[0]);\r\n    Scanner data = new Scanner(System.in);\r\n    // Your code here\r\n    int counter = 0;\r\n    while(data.hasNext()){\r\n      if(data.nextInt() == n){\r\n        counter++;\r\n      }\r\n\r\n    }\r\n    System.out.println(&quot;Number &quot; + n + &quot; occurred &quot; + counter + &quot; times.&quot;);\r\n  }\r\n}\r\n```\r\n\r\nWhen I terminate the program, sometimes it prints the last message; most of the time it ignores the last message entirely.","title":"Terminate a Scanner function in java","body":"<p>When I terminate the Scanner function, for some reason it doesn't print the last message in my code. I tried searching and found no solution.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class E2{\n  public static void main(String[] args) {\n    int n = Integer.parseInt(args[0]);\n    Scanner data = new Scanner(System.in);\n    // Your code here\n    int counter = 0;\n    while(data.hasNext()){\n      if(data.nextInt() == n){\n        counter++;\n      }\n\n    }\n    System.out.println(&quot;Number &quot; + n + &quot; occurred &quot; + counter + &quot; times.&quot;);\n  }\n}\n</code></pre>\n<p>When I terminate the program, sometimes it prints the last message; most of the time it ignores the last message entirely.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1310067292,"post_id":6616055,"comment_id":7809851,"body_markdown":"I don&#39;t quite understand your question. Could you elaborate please?","body":"I don&#39;t quite understand your question. Could you elaborate please?"}],"answers":[{"comments":[{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":1,"creation_date":1310068027,"post_id":6616098,"comment_id":7810068,"body_markdown":"Much obliged, this is exactly what I was after. Thanks!","body":"Much obliged, this is exactly what I was after. Thanks!"}],"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"comment_count":1,"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1448020585,"creation_date":1310067444,"answer_id":6616098,"question_id":6616055,"body_markdown":"[Apache Commons Lang](http://commons.apache.org/lang) has method you need: [`ClassUtils.getAllInterfaces`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ClassUtils.html#getAllInterfaces%28java.lang.Class%29)\r\n","title":"get all (derived) interfaces of a class","body":"<p><a href=\"http://commons.apache.org/lang\" rel=\"noreferrer\">Apache Commons Lang</a> has method you need: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ClassUtils.html#getAllInterfaces%28java.lang.Class%29\" rel=\"noreferrer\"><code>ClassUtils.getAllInterfaces</code></a></p>\n"},{"comments":[{"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"score":0,"creation_date":1473440406,"post_id":34952018,"comment_id":66157502,"body_markdown":"+1 I was looking to get all interfaces so I could use the built in [newProxyInstance](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html#newProxyInstance-java.lang.ClassLoader-java.lang.Class:A-java.lang.reflect.InvocationHandler-) method and guava had a different method for creating dynamic proxies that was much more simple: &#39;Reflection.newProxy&#39;. See [Reflection Explained](https://github.com/google/guava/wiki/ReflectionExplained)","body":"+1 I was looking to get all interfaces so I could use the built in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html#newProxyInstance-java.lang.ClassLoader-java.lang.Class:A-java.lang.reflect.InvocationHandler-\" rel=\"nofollow noreferrer\">newProxyInstance</a> method and guava had a different method for creating dynamic proxies that was much more simple: &#39;Reflection.newProxy&#39;. See <a href=\"https://github.com/google/guava/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">Reflection Explained</a>"}],"tags":[],"owner":{"display_name":"user177800"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1453482252,"creation_date":1453481740,"answer_id":34952018,"question_id":6616055,"body_markdown":"### Guava Solution:\n\n    final Set&lt;TypeToken&gt; tt = TypeToken.of(cls).getTypes().interfaces();\n\nThis is a much more powerful and cleaner reflection API than the ancient Apache stuff.","title":"get all (derived) interfaces of a class","body":"<h3>Guava Solution:</h3>\n<pre><code>final Set&lt;TypeToken&gt; tt = TypeToken.of(cls).getTypes().interfaces();\n</code></pre>\n<p>This is a much more powerful and cleaner reflection API than the ancient Apache stuff.</p>\n"},{"comments":[{"owner":{"account_id":8341524,"reputation":697,"user_id":6266706,"display_name":"Edgar Asatryan"},"score":0,"creation_date":1697208399,"post_id":45170639,"comment_id":136255011,"body_markdown":"Isn&#39;t it return directly implemented interfaces?","body":"Isn&#39;t it return directly implemented interfaces?"}],"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500390453,"creation_date":1500390453,"answer_id":45170639,"question_id":6616055,"body_markdown":"Don&#39;t forget, **Spring Framework** has many similar util classes like Apache Commons Lang. So there is: `org.springframework.util.ClassUtils#getAllInterfaces`","title":"get all (derived) interfaces of a class","body":"<p>Don't forget, <strong>Spring Framework</strong> has many similar util classes like Apache Commons Lang. So there is: <code>org.springframework.util.ClassUtils#getAllInterfaces</code></p>\n"},{"tags":[],"owner":{"account_id":17285700,"reputation":121,"user_id":12518452,"display_name":"Mami Alexandre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676983731,"creation_date":1676983731,"answer_id":75520762,"question_id":6616055,"body_markdown":"    public interface A {}\r\n    \r\n    public interface B {}\r\n    \r\n    public interface E extends B{ }\r\n\r\n    public class C implements A{}\r\n    \r\n    public class D extends C implements E{}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hSqBo.png\r\n\r\n\r\n\r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final List&lt;Class&lt;?&gt;&gt; result = getAllInterfaces(D.class);            \r\n            for (Class&lt;?&gt; clazz : result) {\r\n                System.out.println(clazz);\r\n            }\r\n        }\r\n    \r\n        public static List&lt;Class&lt;?&gt;&gt; getAllInterfaces(Class&lt;?&gt; clazz) {\r\n            if (clazz == null) {\r\n                System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Log : null argument &quot;);\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            List&lt;Class&lt;?&gt;&gt; interfacesFound = new ArrayList&lt;&gt;();\r\n            getAllInterfaces(clazz, interfacesFound);\r\n            return interfacesFound;\r\n        }\r\n    \r\n        private static void getAllInterfaces(Class&lt;?&gt; clazz,\r\n                                             List&lt;Class&lt;?&gt;&gt; interfacesFound) {\r\n            while (clazz != null) {\r\n                Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\r\n    \r\n                for (int i = 0; i &lt; interfaces.length; i++) {\r\n                    if (!interfacesFound.contains(interfaces[i])) {\r\n                        interfacesFound.add(interfaces[i]);\r\n                        getAllInterfaces(interfaces[i], interfacesFound);\r\n                    }\r\n                }\r\n                clazz = clazz.getSuperclass();\r\n            }\r\n        }\r\n    }","title":"get all (derived) interfaces of a class","body":"<pre><code>public interface A {}\n\npublic interface B {}\n\npublic interface E extends B{ }\n\npublic class C implements A{}\n\npublic class D extends C implements E{}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hSqBo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSqBo.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n\n        final List&lt;Class&lt;?&gt;&gt; result = getAllInterfaces(D.class);            \n        for (Class&lt;?&gt; clazz : result) {\n            System.out.println(clazz);\n        }\n    }\n\n    public static List&lt;Class&lt;?&gt;&gt; getAllInterfaces(Class&lt;?&gt; clazz) {\n        if (clazz == null) {\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Log : null argument &quot;);\n            return new ArrayList&lt;&gt;();\n        }\n        List&lt;Class&lt;?&gt;&gt; interfacesFound = new ArrayList&lt;&gt;();\n        getAllInterfaces(clazz, interfacesFound);\n        return interfacesFound;\n    }\n\n    private static void getAllInterfaces(Class&lt;?&gt; clazz,\n                                         List&lt;Class&lt;?&gt;&gt; interfacesFound) {\n        while (clazz != null) {\n            Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\n\n            for (int i = 0; i &lt; interfaces.length; i++) {\n                if (!interfacesFound.contains(interfaces[i])) {\n                    interfacesFound.add(interfaces[i]);\n                    getAllInterfaces(interfaces[i], interfacesFound);\n                }\n            }\n            clazz = clazz.getSuperclass();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8341524,"reputation":697,"user_id":6266706,"display_name":"Edgar Asatryan"},"score":0,"creation_date":1697208498,"post_id":75939132,"comment_id":136255038,"body_markdown":"Answer should go on top. Very clean!","body":"Answer should go on top. Very clean!"},{"owner":{"account_id":1706750,"reputation":171,"user_id":1565675,"display_name":"Karsten Spang"},"score":0,"creation_date":1699956190,"post_id":75939132,"comment_id":136592704,"body_markdown":"You should use Set instead of List, in order to eliminate duplicates.","body":"You should use Set instead of List, in order to eliminate duplicates."},{"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"score":0,"creation_date":1699969550,"post_id":75939132,"comment_id":136595159,"body_markdown":"Probably best to just return Stream so caller can decide whether uniqueness or ordering or whatever is important.","body":"Probably best to just return Stream so caller can decide whether uniqueness or ordering or whatever is important."}],"tags":[],"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699969631,"creation_date":1680695756,"answer_id":75939132,"question_id":6616055,"body_markdown":"    public Stream&lt;Class&lt;?&gt;&gt; getInterfaces(Class&lt;?&gt; type) {\r\n        return Stream.of(type.getInterfaces())\r\n                     .flatMap(interfaceType -&gt; Stream.concat(Stream.of(interfaceType), getInterfaces(interfaceType)));\r\n    }","title":"get all (derived) interfaces of a class","body":"<pre><code>public Stream&lt;Class&lt;?&gt;&gt; getInterfaces(Class&lt;?&gt; type) {\n    return Stream.of(type.getInterfaces())\n                 .flatMap(interfaceType -&gt; Stream.concat(Stream.of(interfaceType), getInterfaces(interfaceType)));\n}\n</code></pre>\n"}],"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25495,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":6616098,"answer_count":5,"score":45,"last_activity_date":1699969631,"creation_date":1310067186,"question_id":6616055,"body_markdown":"`java.lang.Class.getInterfaces` returns all directly implemented interfaces ie doesn&#39;t walk the class tree to get all interfaces of all parent types. eg For example the hierarchy\r\n\r\n    public interface A {}\r\n    public interface B {}\r\n    public interface C extends B {}\r\n\r\n    public class Foo implements A {} // Foo.class.getInterfaces() returns [A]\r\n    public class Bar implements C {} // Bar.class.getInterfaces() returns [C], note B is not included.\r\n\r\nFor `Bar` I would like to get `[B, C]`, but for any arbitrary tree depth.\r\n\r\nI could write this myself, but I&#39;m sure a library must exist that does this already, any ideas?","title":"get all (derived) interfaces of a class","body":"<p><code>java.lang.Class.getInterfaces</code> returns all directly implemented interfaces ie doesn't walk the class tree to get all interfaces of all parent types. eg For example the hierarchy</p>\n\n<pre><code>public interface A {}\npublic interface B {}\npublic interface C extends B {}\n\npublic class Foo implements A {} // Foo.class.getInterfaces() returns [A]\npublic class Bar implements C {} // Bar.class.getInterfaces() returns [C], note B is not included.\n</code></pre>\n\n<p>For <code>Bar</code> I would like to get <code>[B, C]</code>, but for any arbitrary tree depth.</p>\n\n<p>I could write this myself, but I'm sure a library must exist that does this already, any ideas?</p>\n"},{"tags":["java","kotlin","ktor"],"comments":[{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":1,"creation_date":1700034520,"post_id":77481056,"comment_id":136603992,"body_markdown":"Can you please double-check that you have only one version of Ktor in your dependencies? Those kinds of errors occur when there are multiple versions of Ktor in the classpath.","body":"Can you please double-check that you have only one version of Ktor in your dependencies? Those kinds of errors occur when there are multiple versions of Ktor in the classpath."},{"owner":{"account_id":13803081,"reputation":472,"user_id":9962650,"display_name":"saber javadi"},"score":0,"creation_date":1700075842,"post_id":77481056,"comment_id":136611525,"body_markdown":"you are right my friend. i checked that my ktor version on my other module was 1.6.4 and in recent module was 2.3.6. I had to update my main module to 2.3.6 and change bunch of dependencies and imports to upgrade to ktor 2.3.6 . after that and cleaning and building project preoblem were gone. thank you","body":"you are right my friend. i checked that my ktor version on my other module was 1.6.4 and in recent module was 2.3.6. I had to update my main module to 2.3.6 and change bunch of dependencies and imports to upgrade to ktor 2.3.6 . after that and cleaning and building project preoblem were gone. thank you"}],"owner":{"account_id":13803081,"reputation":472,"user_id":9962650,"display_name":"saber javadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699969193,"creation_date":1699969193,"question_id":77481056,"body_markdown":"i have calss in my ktor server on Client module that i initialize http client inside that class as follow : \r\n\r\n    object KtorClient {\r\n\r\n    private val serializeJson = Json {\r\n        prettyPrint = true\r\n        isLenient = true\r\n        ignoreUnknownKeys = true\r\n    }\r\n\r\n    val httpClient = HttpClient {\r\n        install(ContentNegotiation) {\r\n            json(json = serializeJson)\r\n        }\r\n\r\n        install(HttpRequestRetry) {\r\n            //function enables retrying a request if a 5xx response is received from a server and specifies the number of retries.\r\n            retryOnServerErrors(5)\r\n            //specifies an exponential delay between retries, which is calculated using the Exponential backoff algorithm.\r\n            exponentialDelay()\r\n            //If you want to add some additional params in header\r\n            modifyRequest { request -&gt;\r\n                request.headers.append(&quot;x-retry-count&quot;, 2.toString())\r\n            }\r\n        }\r\n\r\n        //If you want to change user agent\r\n        install(UserAgent) {\r\n            agent = &quot;Ktor&quot;\r\n        }\r\n\r\n        install(DefaultRequest) {\r\n            headers.appendIfNameAbsent(&quot;X-custom-header&quot;, &quot;Some Value&quot;)\r\n            contentType(ContentType.Application.Json)\r\n        }\r\n\r\n        ResponseObserver {\r\n            val timeDifference = it.responseTime.timestamp - it.requestTime.timestamp\r\n            val protocolVersion = it.version\r\n        }\r\n    }\r\n}\r\n\r\nwhen i run server and server and running code reaches to this part : \r\n\r\n    install(ContentNegotiation) {\r\n            json(json = serializeJson)\r\n        }\r\n\r\ni get this error : \r\njava.lang.NoSuchMethodError: &#39;void io.ktor.client.HttpClientConfig.install(io.ktor.client.plugins.HttpClientPlugin, kotlin.jvm.functions.Function1)&#39;\r\n\r\nthis is my build.gradle file dependencies part for client module : \r\n\r\n    dependencies {\r\n    implementation(&quot;io.ktor:ktor-client-core:$ktor_version&quot;)\r\n    implementation(&quot;io.ktor:ktor-client-logging-jvm:$ktor_version&quot;)\r\n    implementation(&quot;io.ktor:ktor-client-serialization:$ktor_version&quot;)\r\n    testImplementation(&quot;org.jetbrains.kotlin:kotlin-test-junit:1.9.20&quot;)\r\n    implementation(&quot;io.ktor:ktor-client-content-negotiation:$ktor_version&quot;)\r\n    implementation(&quot;io.ktor:ktor-serialization-kotlinx-json:2.3.0&quot;)\r\n    implementation(&quot;io.ktor:ktor-client-okhttp:1.3.1&quot;)\r\n    implementation(&quot;com.google.auth:google-auth-library-oauth2-http:1.16.0&quot;)\r\n    implementation(&quot;com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0&quot;)\r\n\r\n}\r\n\r\nIt&#39;s three days im struggling with this i have changed versions of dependencies for many times for ktor itself and content negotiation and http alient finally i have this version for all of dependencies related to this part \r\n\r\n    ktor_version=2.3.6\r\n\r\nand no result every time im running server on part of initializing client and install(ContentNegotiation) \r\ni get mentioned error. any help will be appritiated.\r\n\r\n   \r\n\r\n    ","title":"method not found installing HttpClientPlugin for ktor for HttpClient","body":"<p>i have calss in my ktor server on Client module that i initialize http client inside that class as follow :</p>\n<pre><code>object KtorClient {\n\nprivate val serializeJson = Json {\n    prettyPrint = true\n    isLenient = true\n    ignoreUnknownKeys = true\n}\n\nval httpClient = HttpClient {\n    install(ContentNegotiation) {\n        json(json = serializeJson)\n    }\n\n    install(HttpRequestRetry) {\n        //function enables retrying a request if a 5xx response is received from a server and specifies the number of retries.\n        retryOnServerErrors(5)\n        //specifies an exponential delay between retries, which is calculated using the Exponential backoff algorithm.\n        exponentialDelay()\n        //If you want to add some additional params in header\n        modifyRequest { request -&gt;\n            request.headers.append(&quot;x-retry-count&quot;, 2.toString())\n        }\n    }\n\n    //If you want to change user agent\n    install(UserAgent) {\n        agent = &quot;Ktor&quot;\n    }\n\n    install(DefaultRequest) {\n        headers.appendIfNameAbsent(&quot;X-custom-header&quot;, &quot;Some Value&quot;)\n        contentType(ContentType.Application.Json)\n    }\n\n    ResponseObserver {\n        val timeDifference = it.responseTime.timestamp - it.requestTime.timestamp\n        val protocolVersion = it.version\n    }\n}\n</code></pre>\n<p>}</p>\n<p>when i run server and server and running code reaches to this part :</p>\n<pre><code>install(ContentNegotiation) {\n        json(json = serializeJson)\n    }\n</code></pre>\n<p>i get this error :\njava.lang.NoSuchMethodError: 'void io.ktor.client.HttpClientConfig.install(io.ktor.client.plugins.HttpClientPlugin, kotlin.jvm.functions.Function1)'</p>\n<p>this is my build.gradle file dependencies part for client module :</p>\n<pre><code>dependencies {\nimplementation(&quot;io.ktor:ktor-client-core:$ktor_version&quot;)\nimplementation(&quot;io.ktor:ktor-client-logging-jvm:$ktor_version&quot;)\nimplementation(&quot;io.ktor:ktor-client-serialization:$ktor_version&quot;)\ntestImplementation(&quot;org.jetbrains.kotlin:kotlin-test-junit:1.9.20&quot;)\nimplementation(&quot;io.ktor:ktor-client-content-negotiation:$ktor_version&quot;)\nimplementation(&quot;io.ktor:ktor-serialization-kotlinx-json:2.3.0&quot;)\nimplementation(&quot;io.ktor:ktor-client-okhttp:1.3.1&quot;)\nimplementation(&quot;com.google.auth:google-auth-library-oauth2-http:1.16.0&quot;)\nimplementation(&quot;com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0&quot;)\n</code></pre>\n<p>}</p>\n<p>It's three days im struggling with this i have changed versions of dependencies for many times for ktor itself and content negotiation and http alient finally i have this version for all of dependencies related to this part</p>\n<pre><code>ktor_version=2.3.6\n</code></pre>\n<p>and no result every time im running server on part of initializing client and install(ContentNegotiation)\ni get mentioned error. any help will be appritiated.</p>\n"},{"tags":["java","encoding","protocol-buffers","binary-data"],"comments":[{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":3,"creation_date":1699966516,"post_id":77480702,"comment_id":136594574,"body_markdown":"misconfigured text processing of binary data is usually fatal; it is likely that this can&#39;t be solved without fixing the misconfigured node; a lot of this data is likely to be � (the replacement character), or just silently irretrievably corrupt","body":"misconfigured text processing of binary data is usually fatal; it is likely that this can&#39;t be solved without fixing the misconfigured node; a lot of this data is likely to be � (the replacement character), or just silently irretrievably corrupt"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1699968077,"creation_date":1699968077,"answer_id":77480920,"question_id":77480702,"body_markdown":"Hate to be the bearer of bad news, but what you want is impossible.\r\n\r\nThe key point is _completeness_. Is there a _complete_ mapping from one domain (here, raw bytes) to the target domain (here, UTF_8), and, the same in reverse.\r\n\r\nSaid differently: Here&#39;s the challenge: Given an arbitrarily chosen sequence of bytes, make some text such that, if you serialize that text using UTF-8 charset encoding, it produces those exact bytes. Is there a sequence of bytes you can choose such that this job is _not possible_?\r\n\r\nAnd unfortunately the answer is __yes__, thus trivially proving that `bytes -&gt; text-via-UTF_8 -&gt; bytes` is __fatal__ unless you&#39;re very very lucky and the bytes so happen to not include anything that UTF8 cannot render.\r\n\r\nMany decoders will take non-valid-UTF8 (because, if certain byte sequences cannot possibly appear when converting text to bytes with UTF8, generally that implies there are certain byte sequences which, if converted to text via UTF8, are invalid) - and just take a stab at it, or toss the &#39;corrupted data&#39; glyph in there instead of erroring out. So, whomever manages that Kafka server never got an error. This act (turning invalid UTF-8, because it wasn&#39;t UTF-8, into a &#39;uhh, wha?&#39; symbol) is __destructive__.\r\n\r\nSome charset encodings do make this possible. The most commonly used one is no doubt `ISO-8859-1`. That one is _complete_ - because it&#39;s just a simple mapping that maps every byte value, all the way from 0 to 255, to some unique character. Hence, you can go two-way on that all day.\r\n\r\nThus, we get to some fixes:\r\n\r\n* base64 survives just about everything, that&#39;s what is was designed for. It costs 33% efficiency (base64 turns 3 bytes into 4 bytes; input 3MB large turns into 4MB large output). Hand your bytes in base64 encoded form to the kafka thing, or make kafka do it.\r\n* Set up __every__ chain in the link that applies charset encoding (so _everywhere_ that bytes turn into chars or vice versa) to use ISO-8859-1. This is hacky and weird and not recommended, but might be a &#39;quick&#39; fix for some definition of the word &#39;quick&#39;.\r\n* Fix it properly - which, at this point, I&#39;m sure you already know how to do, you&#39;re just asking for faster solutions and/or ways to still process already corrupted data. Which is where the first sentence of this answer comes in :(\r\n\r\n&gt; Provided that this transformation is reversible\r\n\r\nYup. You correctly identified the key requirement for all of this, which is that it&#39;s reversible. And it isn&#39;t, unfortunately.\r\n","title":"How to reverse UTF-8 encoding in a byte array?","body":"<p>Hate to be the bearer of bad news, but what you want is impossible.</p>\n<p>The key point is <em>completeness</em>. Is there a <em>complete</em> mapping from one domain (here, raw bytes) to the target domain (here, UTF_8), and, the same in reverse.</p>\n<p>Said differently: Here's the challenge: Given an arbitrarily chosen sequence of bytes, make some text such that, if you serialize that text using UTF-8 charset encoding, it produces those exact bytes. Is there a sequence of bytes you can choose such that this job is <em>not possible</em>?</p>\n<p>And unfortunately the answer is <strong>yes</strong>, thus trivially proving that <code>bytes -&gt; text-via-UTF_8 -&gt; bytes</code> is <strong>fatal</strong> unless you're very very lucky and the bytes so happen to not include anything that UTF8 cannot render.</p>\n<p>Many decoders will take non-valid-UTF8 (because, if certain byte sequences cannot possibly appear when converting text to bytes with UTF8, generally that implies there are certain byte sequences which, if converted to text via UTF8, are invalid) - and just take a stab at it, or toss the 'corrupted data' glyph in there instead of erroring out. So, whomever manages that Kafka server never got an error. This act (turning invalid UTF-8, because it wasn't UTF-8, into a 'uhh, wha?' symbol) is <strong>destructive</strong>.</p>\n<p>Some charset encodings do make this possible. The most commonly used one is no doubt <code>ISO-8859-1</code>. That one is <em>complete</em> - because it's just a simple mapping that maps every byte value, all the way from 0 to 255, to some unique character. Hence, you can go two-way on that all day.</p>\n<p>Thus, we get to some fixes:</p>\n<ul>\n<li>base64 survives just about everything, that's what is was designed for. It costs 33% efficiency (base64 turns 3 bytes into 4 bytes; input 3MB large turns into 4MB large output). Hand your bytes in base64 encoded form to the kafka thing, or make kafka do it.</li>\n<li>Set up <strong>every</strong> chain in the link that applies charset encoding (so <em>everywhere</em> that bytes turn into chars or vice versa) to use ISO-8859-1. This is hacky and weird and not recommended, but might be a 'quick' fix for some definition of the word 'quick'.</li>\n<li>Fix it properly - which, at this point, I'm sure you already know how to do, you're just asking for faster solutions and/or ways to still process already corrupted data. Which is where the first sentence of this answer comes in :(</li>\n</ul>\n<blockquote>\n<p>Provided that this transformation is reversible</p>\n</blockquote>\n<p>Yup. You correctly identified the key requirement for all of this, which is that it's reversible. And it isn't, unfortunately.</p>\n"}],"owner":{"account_id":28826442,"reputation":25,"user_id":22077743,"display_name":"PravlesRedneckoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77480920,"answer_count":1,"score":2,"last_activity_date":1699968077,"creation_date":1699965851,"question_id":77480702,"body_markdown":"I have the following problem:\r\n\r\n1. A certain **producer** sends Protobuf messages as binary data (byte array).\r\n\r\n2. These binary data enter a **misconfigured Kafka cluster** which deserializes the byte array as string.\r\n\r\n3. Then, that cluster serializes the data as string and sends it to the **consumer**.\r\n\r\n4. The unsuspecting consumer expects to receive a binary byte array, but instead gets a UTF-8 encoded mess.\r\n\r\nI tried to reproduce it in a JUnit test.\r\n\r\nLet&#39;s say we have the following proto file:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport &quot;google/protobuf/wrappers.proto&quot;;\r\nimport &quot;google/protobuf/timestamp.proto&quot;;\r\n\r\noption java_package = &quot;com.mycompany.proto&quot;;\r\noption java_multiple_files = true;\r\n\r\npackage com.mycompany;\r\n\r\nenum MessageType {\r\n    NOT_SET = 0;\r\n    TYPE_A = 1;\r\n    TYPE_B = 2;\r\n}\r\n\r\nmessage MyMessagePart {\r\n    string someValue = 1;\r\n}\r\n\r\nmessage MyMessage {\r\n  // Numeric (integer) variable\r\n  int32 myNumber = 1;\r\n\r\n  // Text value\r\n  string myText = 2;\r\n\r\n  // Enum value\r\n  MessageType mType = 3;\r\n\r\n  // Message parts\r\n  repeated MyMessagePart messagePart = 4;\r\n\r\n  // Uint32 value\r\n  google.protobuf.UInt32Value uint32Value = 5;\r\n\r\n  // Timestamp\r\n  google.protobuf.Timestamp timestamp = 6;\r\n}\r\n\r\n```\r\n\r\nThen I wrote the following test.\r\n\r\n```\r\npublic class EncodingTest {\r\n    @Test\r\n    public void dealWithCorruptedBinaryData() throws InvalidProtocolBufferException {\r\n        // 1. Create a Protobuf message\r\n        final MyMessage msg = MyMessage.newBuilder()\r\n                .setMyNumber(42)\r\n                .setMyText(&quot;Hello&quot;)\r\n                .setMType(MessageType.TYPE_A)\r\n                .setUint32Value(UInt32Value.newBuilder()\r\n                        .setValue(2067)\r\n                        .build())\r\n                .addMessagePart(MyMessagePart.newBuilder()\r\n                        .setSomeValue(&quot;message part value&quot;)\r\n                        .build())\r\n                .build();\r\n\r\n        // 2. Convert it to bytes\r\n        final byte[] bytesSentByProducer = msg.toByteArray();\r\n\r\n        // 3. Now bytesSentByProducer enter misconfigured Kafka\r\n        // where they are deserialized using StringDeserializer\r\n        final StringDeserializer deserializer = new StringDeserializer();\r\n        final String dataReceivedInsideMisconfiguredKafka = deserializer.deserialize(&quot;inputTopic&quot;,\r\n                bytesSentByProducer);\r\n\r\n        // 4. Then, misconfigured Kafka serializes the data as String\r\n        final StringSerializer serializer = new StringSerializer();\r\n        final byte[] dataSentToConsumer = serializer.serialize(&quot;outputTopic&quot;, dataReceivedInsideMisconfiguredKafka);\r\n\r\n        // Because dataSentToConsumer have been corrupted during deserialization\r\n        // or serialization as string, conversion back to Protobuf does not work.\r\n\r\n        final MyMessage receivedMessage = MyMessage.parseFrom(dataSentToConsumer);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe producer creates a Protobuf message `msg` and encodes it as a byte array `bytesSentByProducer`.\r\n\r\nThe misconfigured Kafka cluster receives that byte array, deserializes it as string `dataReceivedInsideMisconfiguredKafka`, serializes it as string `dataSentToConsumer` and sends it to the consumer.\r\n\r\nBecause UTF-8 encoding has corrupted the binary data, the call\r\n\r\n```\r\nfinal MyMessage receivedMessage = MyMessage.parseFrom(dataSentToConsumer);\r\n```\r\n\r\nresults in an exception:\r\n\r\n```\r\ncom.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length.\r\n\r\n\tat com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:107)\r\n\tat com.google.protobuf.CodedInputStream$ArrayDecoder.readRawByte(CodedInputStream.java:1245)\r\n\tat com.google.protobuf.CodedInputStream$ArrayDecoder.readRawVarint64SlowPath(CodedInputStream.java:1130)\r\n\tat com.google.protobuf.CodedInputStream$ArrayDecoder.readRawVarint32(CodedInputStream.java:1024)\r\n\tat com.google.protobuf.CodedInputStream$ArrayDecoder.readUInt32(CodedInputStream.java:954)\r\n\tat com.google.protobuf.UInt32Value.&lt;init&gt;(UInt32Value.java:58)\r\n\tat com.google.protobuf.UInt32Value.&lt;init&gt;(UInt32Value.java:14)\r\n```\r\n\r\nThe conversion of byte array back to the message works with uncorrupted byte array `bytesSentByProducer` (`MyMessage.parseFrom(bytesSentByProducer)`).\r\n\r\nQuestions:\r\n\r\n1. Is it possible to convert `dataSentToConsumer` to `bytesSentByProducer`?\r\n\r\n2. If yes, how can I fix this issue if the only part under my control is the consumer? How can I undo the UTF-8 encoding which happens inside the misconfigured Kafka cluster?\r\n\r\nNote: The obvious solution is to configure the Kafka cluster properly. The same consumer works fine in another environment where there is a normal Kafka cluster which doesn&#39;t do any strange transformation. This obvious and easiest solution is not available for bureaucratic reasons.\r\n\r\n\r\n\r\n**What I tried**\r\n\r\n**Approach 1**\r\n\r\n```\r\nprivate byte[] convertToOriginalBytes(final byte[] bytesAfter) throws CharacterCodingException {\r\n  final Charset charset = StandardCharsets.UTF_8;\r\n  final CharsetDecoder decoder = charset.newDecoder();\r\n  final CharsetEncoder encoder = charset.newEncoder();\r\n  final ByteBuffer byteBuffer = ByteBuffer.wrap(bytesAfter);\r\n  final CharBuffer charBuffer = CharBuffer.allocate(bytesAfter.length);\r\n  final CoderResult result = decoder.decode(byteBuffer, charBuffer, true);\r\n  result.throwException();\r\n  final ByteBuffer reversedByteBuffer = encoder.encode(charBuffer);\r\n\r\n  final byte[] reversedBytes = new byte[reversedByteBuffer.remaining()];\r\n  reversedByteBuffer.get(reversedBytes);\r\n  return reversedBytes;\r\n}\r\n```\r\n\r\nThe result is an exception.\r\n\r\n```\r\njava.nio.BufferUnderflowException\r\n\tat java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:272)\r\n\tat com.mycompany.EncodingTest.convertToOriginalBytes(EncodingTest.java:67)\r\n\tat com.mycompany.EncodingTest.dealWithCorruptedBinaryData(EncodingTest.java:54)\r\n\r\n```\r\n\r\n**Approach 2**\r\n\r\nAs far as I know UTF-8 has various byte patterns:\r\n\r\n1. `0xxxxxxx` for single-byte characters.\r\n2. `110xxxxx 10xxxxxx` for two-byte characters etc.\r\n\r\nI assume that somewhere inside `StringDeserializer` and/or `StringSerializer` binary data are modified to conform to such UTF-8 rules.\r\n\r\nProvided that this transformation is reversible, one could manipulate bits to get the original message.\r\n","title":"How to reverse UTF-8 encoding in a byte array?","body":"<p>I have the following problem:</p>\n<ol>\n<li><p>A certain <strong>producer</strong> sends Protobuf messages as binary data (byte array).</p>\n</li>\n<li><p>These binary data enter a <strong>misconfigured Kafka cluster</strong> which deserializes the byte array as string.</p>\n</li>\n<li><p>Then, that cluster serializes the data as string and sends it to the <strong>consumer</strong>.</p>\n</li>\n<li><p>The unsuspecting consumer expects to receive a binary byte array, but instead gets a UTF-8 encoded mess.</p>\n</li>\n</ol>\n<p>I tried to reproduce it in a JUnit test.</p>\n<p>Let's say we have the following proto file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/wrappers.proto&quot;;\nimport &quot;google/protobuf/timestamp.proto&quot;;\n\noption java_package = &quot;com.mycompany.proto&quot;;\noption java_multiple_files = true;\n\npackage com.mycompany;\n\nenum MessageType {\n    NOT_SET = 0;\n    TYPE_A = 1;\n    TYPE_B = 2;\n}\n\nmessage MyMessagePart {\n    string someValue = 1;\n}\n\nmessage MyMessage {\n  // Numeric (integer) variable\n  int32 myNumber = 1;\n\n  // Text value\n  string myText = 2;\n\n  // Enum value\n  MessageType mType = 3;\n\n  // Message parts\n  repeated MyMessagePart messagePart = 4;\n\n  // Uint32 value\n  google.protobuf.UInt32Value uint32Value = 5;\n\n  // Timestamp\n  google.protobuf.Timestamp timestamp = 6;\n}\n\n</code></pre>\n<p>Then I wrote the following test.</p>\n<pre><code>public class EncodingTest {\n    @Test\n    public void dealWithCorruptedBinaryData() throws InvalidProtocolBufferException {\n        // 1. Create a Protobuf message\n        final MyMessage msg = MyMessage.newBuilder()\n                .setMyNumber(42)\n                .setMyText(&quot;Hello&quot;)\n                .setMType(MessageType.TYPE_A)\n                .setUint32Value(UInt32Value.newBuilder()\n                        .setValue(2067)\n                        .build())\n                .addMessagePart(MyMessagePart.newBuilder()\n                        .setSomeValue(&quot;message part value&quot;)\n                        .build())\n                .build();\n\n        // 2. Convert it to bytes\n        final byte[] bytesSentByProducer = msg.toByteArray();\n\n        // 3. Now bytesSentByProducer enter misconfigured Kafka\n        // where they are deserialized using StringDeserializer\n        final StringDeserializer deserializer = new StringDeserializer();\n        final String dataReceivedInsideMisconfiguredKafka = deserializer.deserialize(&quot;inputTopic&quot;,\n                bytesSentByProducer);\n\n        // 4. Then, misconfigured Kafka serializes the data as String\n        final StringSerializer serializer = new StringSerializer();\n        final byte[] dataSentToConsumer = serializer.serialize(&quot;outputTopic&quot;, dataReceivedInsideMisconfiguredKafka);\n\n        // Because dataSentToConsumer have been corrupted during deserialization\n        // or serialization as string, conversion back to Protobuf does not work.\n\n        final MyMessage receivedMessage = MyMessage.parseFrom(dataSentToConsumer);\n\n    }\n}\n\n</code></pre>\n<p>The producer creates a Protobuf message <code>msg</code> and encodes it as a byte array <code>bytesSentByProducer</code>.</p>\n<p>The misconfigured Kafka cluster receives that byte array, deserializes it as string <code>dataReceivedInsideMisconfiguredKafka</code>, serializes it as string <code>dataSentToConsumer</code> and sends it to the consumer.</p>\n<p>Because UTF-8 encoding has corrupted the binary data, the call</p>\n<pre><code>final MyMessage receivedMessage = MyMessage.parseFrom(dataSentToConsumer);\n</code></pre>\n<p>results in an exception:</p>\n<pre><code>com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length.\n\n    at com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:107)\n    at com.google.protobuf.CodedInputStream$ArrayDecoder.readRawByte(CodedInputStream.java:1245)\n    at com.google.protobuf.CodedInputStream$ArrayDecoder.readRawVarint64SlowPath(CodedInputStream.java:1130)\n    at com.google.protobuf.CodedInputStream$ArrayDecoder.readRawVarint32(CodedInputStream.java:1024)\n    at com.google.protobuf.CodedInputStream$ArrayDecoder.readUInt32(CodedInputStream.java:954)\n    at com.google.protobuf.UInt32Value.&lt;init&gt;(UInt32Value.java:58)\n    at com.google.protobuf.UInt32Value.&lt;init&gt;(UInt32Value.java:14)\n</code></pre>\n<p>The conversion of byte array back to the message works with uncorrupted byte array <code>bytesSentByProducer</code> (<code>MyMessage.parseFrom(bytesSentByProducer)</code>).</p>\n<p>Questions:</p>\n<ol>\n<li><p>Is it possible to convert <code>dataSentToConsumer</code> to <code>bytesSentByProducer</code>?</p>\n</li>\n<li><p>If yes, how can I fix this issue if the only part under my control is the consumer? How can I undo the UTF-8 encoding which happens inside the misconfigured Kafka cluster?</p>\n</li>\n</ol>\n<p>Note: The obvious solution is to configure the Kafka cluster properly. The same consumer works fine in another environment where there is a normal Kafka cluster which doesn't do any strange transformation. This obvious and easiest solution is not available for bureaucratic reasons.</p>\n<p><strong>What I tried</strong></p>\n<p><strong>Approach 1</strong></p>\n<pre><code>private byte[] convertToOriginalBytes(final byte[] bytesAfter) throws CharacterCodingException {\n  final Charset charset = StandardCharsets.UTF_8;\n  final CharsetDecoder decoder = charset.newDecoder();\n  final CharsetEncoder encoder = charset.newEncoder();\n  final ByteBuffer byteBuffer = ByteBuffer.wrap(bytesAfter);\n  final CharBuffer charBuffer = CharBuffer.allocate(bytesAfter.length);\n  final CoderResult result = decoder.decode(byteBuffer, charBuffer, true);\n  result.throwException();\n  final ByteBuffer reversedByteBuffer = encoder.encode(charBuffer);\n\n  final byte[] reversedBytes = new byte[reversedByteBuffer.remaining()];\n  reversedByteBuffer.get(reversedBytes);\n  return reversedBytes;\n}\n</code></pre>\n<p>The result is an exception.</p>\n<pre><code>java.nio.BufferUnderflowException\n    at java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:272)\n    at com.mycompany.EncodingTest.convertToOriginalBytes(EncodingTest.java:67)\n    at com.mycompany.EncodingTest.dealWithCorruptedBinaryData(EncodingTest.java:54)\n\n</code></pre>\n<p><strong>Approach 2</strong></p>\n<p>As far as I know UTF-8 has various byte patterns:</p>\n<ol>\n<li><code>0xxxxxxx</code> for single-byte characters.</li>\n<li><code>110xxxxx 10xxxxxx</code> for two-byte characters etc.</li>\n</ol>\n<p>I assume that somewhere inside <code>StringDeserializer</code> and/or <code>StringSerializer</code> binary data are modified to conform to such UTF-8 rules.</p>\n<p>Provided that this transformation is reversible, one could manipulate bits to get the original message.</p>\n"},{"tags":["java","oracle","spring-boot","heap-memory","hikaricp"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699955924,"post_id":77479604,"comment_id":136592649,"body_markdown":"From your description, I can&#39;t even tell if there&#39;s really an issue. Sure, your application might be taking 300MB of heap memory, but is that bad? Maybe it created a lot of objects that can now be cleaned up. But if you configured your heap size to be very huge, maybe the JVM decided that the GC shouldn&#39;t kick in yet. I would only start to worry when even after a GC the amount of heap memory stays high, or if it keeps going up. But none of that information is present in your question, so this is pretty much unanswerable.","body":"From your description, I can&#39;t even tell if there&#39;s really an issue. Sure, your application might be taking 300MB of heap memory, but is that bad? Maybe it created a lot of objects that can now be cleaned up. But if you configured your heap size to be very huge, maybe the JVM decided that the GC shouldn&#39;t kick in yet. I would only start to worry when even after a GC the amount of heap memory stays high, or if it keeps going up. But none of that information is present in your question, so this is pretty much unanswerable."},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1699956901,"post_id":77479604,"comment_id":136592839,"body_markdown":"when we run multiple spring boots on the same machine, it adds 300 for each and when we start receiving api calls, it can increase more and more.. Is this situation usually considered normal in micro services architecture? and what is the memory heap that is considered normal if the app is not called?","body":"when we run multiple spring boots on the same machine, it adds 300 for each and when we start receiving api calls, it can increase more and more.. Is this situation usually considered normal in micro services architecture? and what is the memory heap that is considered normal if the app is not called?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699957738,"post_id":77479604,"comment_id":136592996,"body_markdown":"This could be normal behaviour depending on how you configured your heap limit. But again, you still haven&#39;t included that information so this question remains unanswerable.","body":"This could be normal behaviour depending on how you configured your heap limit. But again, you still haven&#39;t included that information so this question remains unanswerable."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699959723,"post_id":77479604,"comment_id":136593330,"body_markdown":"Without knowing your configuration, the amount of entities and/or database structure you have. This question will be impossible to answer. Is 300MB much could be, but depending on **your application** that might be not that much. There is no rule of thumb here.","body":"Without knowing your configuration, the amount of entities and/or database structure you have. This question will be impossible to answer. Is 300MB much could be, but depending on <b>your application</b> that might be not that much. There is no rule of thumb here."},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1699967990,"post_id":77479604,"comment_id":136594857,"body_markdown":"Adjusted my question . Thank you","body":"Adjusted my question . Thank you"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699979740,"post_id":77479604,"comment_id":136597407,"body_markdown":"It makes sense that when you add a library that causes extra objects to be instantiated, that in return it causes extra memory to be used. Some of these objects will be stay around, and other objects were just temporarily created and can be removed from the heap. The thing with the JVM is that it doesn&#39;t always remove those immediately because removing those is an expensive operation. Very often, the JVM will wait until it is close to reaching the max heap, and then it will start removing those objects from the heap/garbage collect.","body":"It makes sense that when you add a library that causes extra objects to be instantiated, that in return it causes extra memory to be used. Some of these objects will be stay around, and other objects were just temporarily created and can be removed from the heap. The thing with the JVM is that it doesn&#39;t always remove those immediately because removing those is an expensive operation. Very often, the JVM will wait until it is close to reaching the max heap, and then it will start removing those objects from the heap/garbage collect."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699979932,"post_id":77479604,"comment_id":136597449,"body_markdown":"So the amount of memory consumed depends on a ton of factors, such as which JVM you use, which GC mode you use, whether you create a lot of objects, whether you use a lot of libraries that create a lot of objects, what your heap limit is and so on. All these factors make it so that there&#39;s no such thing as a standard amount of memory that a Spring boot application will use. It&#39;s very likely that if you reduce your `Xmx` even further, that the amount of memory your application will also go down, without any real problems (but that&#39;s for you to monitor).","body":"So the amount of memory consumed depends on a ton of factors, such as which JVM you use, which GC mode you use, whether you create a lot of objects, whether you use a lot of libraries that create a lot of objects, what your heap limit is and so on. All these factors make it so that there&#39;s no such thing as a standard amount of memory that a Spring boot application will use. It&#39;s very likely that if you reduce your <code>Xmx</code> even further, that the amount of memory your application will also go down, without any real problems (but that&#39;s for you to monitor)."},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1700029786,"post_id":77479604,"comment_id":136603445,"body_markdown":"Thank you for this helpful explanation, its clear now.","body":"Thank you for this helpful explanation, its clear now."}],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699967948,"creation_date":1699955450,"question_id":77479604,"body_markdown":"We have a spring boot application that creates oracle connection using Hikari for connection pooling. It has 9 entities in total. The app is started using the following VM options: -Xmx250M -Xms10M. After starting the app, it is always reserving 101 MB heap memory as seen in Visual VM.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nWhen a spring boot app is created with an oracle connection using spring data (in application properties without any programmed data source creation) it takes around 58 MB.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhat heap memory is usually considered normal in springboot similar applications? also can an embedded tomcat server inside x spring boot apps use more heap memory than an x spring boot apps running on an external tomcat server?\r\n\r\nHikari config:\r\n\r\n    allowPoolSuspension.............false\r\n    autoCommit......................true\r\n    catalog.........................none\r\n    connectionInitSql...............none\r\n    connectionTestQuery.............&quot;SELECT 1 FROM DUAL&quot;\r\n    connectionTimeout...............6000000\r\n    dataSource......................none\r\n    dataSourceClassName.............none\r\n    dataSourceJNDI..................none\r\n    driverClassName.................&quot;oracle.jdbc.OracleDriver&quot;\r\n    healthCheckProperties...........{}\r\n    healthCheckRegistry.............none\r\n    idleTimeout.....................600000\r\n    initializationFailTimeout.......1\r\n    isolateInternalQueries..........false\r\n    jdbcUrl.........................jdbc:oracle:thin:@10.20.0.8:1521/BBB\r\n    leakDetectionThreshold..........0\r\n    maxLifetime.....................0\r\n    maximumPoolSize.................30\r\n    metricRegistry..................none\r\n    metricsTrackerFactory...........none\r\n    minimumIdle.....................5\r\n    readOnly........................false\r\n    registerMbeans..................false\r\n    scheduledExecutor...............none\r\n    schema..........................none\r\n    threadFactory...................internal\r\n    transactionIsolation............default\r\n    validationTimeout...............5000\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U4sbz.png\r\n  [2]: https://i.stack.imgur.com/iBqIQ.png","title":"Spring boot - Oracle - Memory heap issue","body":"<p>We have a spring boot application that creates oracle connection using Hikari for connection pooling. It has 9 entities in total. The app is started using the following VM options: -Xmx250M -Xms10M. After starting the app, it is always reserving 101 MB heap memory as seen in Visual VM.</p>\n<p><a href=\"https://i.stack.imgur.com/U4sbz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4sbz.png\" alt=\"enter image description here\" /></a></p>\n<p>When a spring boot app is created with an oracle connection using spring data (in application properties without any programmed data source creation) it takes around 58 MB.</p>\n<p><a href=\"https://i.stack.imgur.com/iBqIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iBqIQ.png\" alt=\"enter image description here\" /></a></p>\n<p>What heap memory is usually considered normal in springboot similar applications? also can an embedded tomcat server inside x spring boot apps use more heap memory than an x spring boot apps running on an external tomcat server?</p>\n<p>Hikari config:</p>\n<pre><code>allowPoolSuspension.............false\nautoCommit......................true\ncatalog.........................none\nconnectionInitSql...............none\nconnectionTestQuery.............&quot;SELECT 1 FROM DUAL&quot;\nconnectionTimeout...............6000000\ndataSource......................none\ndataSourceClassName.............none\ndataSourceJNDI..................none\ndriverClassName.................&quot;oracle.jdbc.OracleDriver&quot;\nhealthCheckProperties...........{}\nhealthCheckRegistry.............none\nidleTimeout.....................600000\ninitializationFailTimeout.......1\nisolateInternalQueries..........false\njdbcUrl.........................jdbc:oracle:thin:@10.20.0.8:1521/BBB\nleakDetectionThreshold..........0\nmaxLifetime.....................0\nmaximumPoolSize.................30\nmetricRegistry..................none\nmetricsTrackerFactory...........none\nminimumIdle.....................5\nreadOnly........................false\nregisterMbeans..................false\nscheduledExecutor...............none\nschema..........................none\nthreadFactory...................internal\ntransactionIsolation............default\nvalidationTimeout...............5000\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":0,"creation_date":1542122657,"post_id":53284134,"comment_id":93450270,"body_markdown":"Could you include the stacktrace that you got along with the error message ?","body":"Could you include the stacktrace that you got along with the error message ?"},{"owner":{"account_id":13844472,"reputation":1602,"user_id":9993935,"display_name":"vidy"},"score":1,"creation_date":1542123305,"post_id":53284134,"comment_id":93450701,"body_markdown":"I added full error message.","body":"I added full error message."}],"answers":[{"comments":[{"owner":{"account_id":13844472,"reputation":1602,"user_id":9993935,"display_name":"vidy"},"score":0,"creation_date":1542179623,"post_id":53284833,"comment_id":93470618,"body_markdown":"I added spring-data-elasticsearch jar file to class path Failed to introspect Class error is gone but new error is showing","body":"I added spring-data-elasticsearch jar file to class path Failed to introspect Class error is gone but new error is showing"},{"owner":{"account_id":13844472,"reputation":1602,"user_id":9993935,"display_name":"vidy"},"score":1,"creation_date":1542179672,"post_id":53284833,"comment_id":93470635,"body_markdown":"None of the configured nodes are available: [{#transport#-1}{IQoE1_yHTfGWK_L2n5EHoQ}{127.0.0.1}{127.0.0.1:9300}] 12:41:34.620&quot; o.s.d.e.r.s.AbstractElasticsearchRepository","body":"None of the configured nodes are available: [{#transport#-1}{IQoE1_yHTfGWK_L2n5EHoQ}{127.0.0.1}{127.0.0.&zwnj;&#8203;1:9300}] 12:41:34.620&quot; o.s.d.e.r.s.AbstractElasticsearchRepository"},{"owner":{"account_id":13844472,"reputation":1602,"user_id":9993935,"display_name":"vidy"},"score":1,"creation_date":1542179735,"post_id":53284833,"comment_id":93470657,"body_markdown":"Is it correct path? @Value(&quot;${elasticsearch.home:/home/vidyesh/.m2/repository/org/elasticsearch/client/transport/6.3.2}&quot;)","body":"Is it correct path? @Value(&quot;${elasticsearch.home:/home/vidyesh/.m2/repository/or&zwnj;&#8203;g/elasticsearch/clie&zwnj;&#8203;nt/transport/6.3.2}&quot;&zwnj;&#8203;)"},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":2,"creation_date":1542180134,"post_id":53284833,"comment_id":93470848,"body_markdown":"@vidy you&#39;re next error message seems to say that elastic search servers you have configured in your application are not there (not started, not at this address, and / or not listening on right port). Please take also a moment to read the stackoverflow faq : to keep the site usable for everybody, comments should be related to the answer / question they are on, and not contains new questions to solve. If you have a new problem, you should raise a new question :)","body":"@vidy you&#39;re next error message seems to say that elastic search servers you have configured in your application are not there (not started, not at this address, and / or not listening on right port). Please take also a moment to read the stackoverflow faq : to keep the site usable for everybody, comments should be related to the answer / question they are on, and not contains new questions to solve. If you have a new problem, you should raise a new question :)"},{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":0,"creation_date":1645704044,"post_id":53284833,"comment_id":125945213,"body_markdown":"just a small note, please remove the versions from your dependencies, if they are spring-* for sure, and let the parent handle them","body":"just a small note, please remove the versions from your dependencies, if they are spring-* for sure, and let the parent handle them"},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":0,"creation_date":1645725884,"post_id":53284833,"comment_id":125953903,"body_markdown":"@AbdullahKhaled The compatibility table is useful for those not using spring boot as parent artifact, to know quickly which version to include in their project.","body":"@AbdullahKhaled The compatibility table is useful for those not using spring boot as parent artifact, to know quickly which version to include in their project."}],"tags":[],"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"comment_count":6,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1645725522,"creation_date":1542124649,"answer_id":53284833,"question_id":53284134,"body_markdown":"&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.springframework.data.elasticsearch.core.ElasticsearchOperations\r\n\r\nThis error message means that the jar containing this class is not on the application classpath.\r\n\r\nAdd spring-data-elasticsearch jar to it, and your error should be gone.\r\n\r\nif you are using maven, add the jar to the classpath this way :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe version that you should use depends on the version of elastic search you are connecting to :\r\n\r\n&lt;pre&gt;\r\n+--------------+----------------------------+----------------+-------------+\r\n| Spring Data  | Spring Data Elasticsearch  | Elasticsearch  | Spring Boot |\r\n+--------------+----------------------------+----------------+-------------+\r\n| 2021.1       | 4.3.x                      |         7.15.2 | 2.5.x       |\r\n| 2021.0       | 4.2.x                      |         7.12.0 | 2.5.x       |\r\n| 2020.0.0     | 4.1.x                      |          7.9.3 | 2.3.x       |\r\n| Neumann      | 4.0.x                      |          7.6.2 | 2.3.x       |\r\n| Moore        | 3.2.x                      |          6.8.4 | 2.2.x       |\r\n| Lovelace     | 3.1.x                      |          6.2.2 | 2.1.x       |\r\n| Kay          | 3.0.x                      |          5.5.0 | 2.0.x       |\r\n| Ingalls      | 2.1.x                      |          2.4.0 | 1.5.x       |\r\n+--------------+----------------------------+----------------+-------------+\r\n&lt;/pre&gt;\r\n\r\n(source : https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions )","title":"java.lang.IllegalStateException: Failed to introspect Class","body":"<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException:\norg.springframework.data.elasticsearch.core.ElasticsearchOperations</p>\n</blockquote>\n<p>This error message means that the jar containing this class is not on the application classpath.</p>\n<p>Add spring-data-elasticsearch jar to it, and your error should be gone.</p>\n<p>if you are using maven, add the jar to the classpath this way :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n    &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The version that you should use depends on the version of elastic search you are connecting to :</p>\n<pre>\n+--------------+----------------------------+----------------+-------------+\n| Spring Data  | Spring Data Elasticsearch  | Elasticsearch  | Spring Boot |\n+--------------+----------------------------+----------------+-------------+\n| 2021.1       | 4.3.x                      |         7.15.2 | 2.5.x       |\n| 2021.0       | 4.2.x                      |         7.12.0 | 2.5.x       |\n| 2020.0.0     | 4.1.x                      |          7.9.3 | 2.3.x       |\n| Neumann      | 4.0.x                      |          7.6.2 | 2.3.x       |\n| Moore        | 3.2.x                      |          6.8.4 | 2.2.x       |\n| Lovelace     | 3.1.x                      |          6.2.2 | 2.1.x       |\n| Kay          | 3.0.x                      |          5.5.0 | 2.0.x       |\n| Ingalls      | 2.1.x                      |          2.4.0 | 1.5.x       |\n+--------------+----------------------------+----------------+-------------+\n</pre>\n<p>(source : <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\" rel=\"noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions</a> )</p>\n"},{"tags":[],"owner":{"display_name":"user9620429"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1579172365,"creation_date":1579172365,"answer_id":59768175,"question_id":53284134,"body_markdown":"You need to add **spring-data-elasticsearch.jar** file into your class path. The error is showing because of this small mistake.","title":"java.lang.IllegalStateException: Failed to introspect Class","body":"<p>You need to add <strong>spring-data-elasticsearch.jar</strong> file into your class path. The error is showing because of this small mistake.</p>\n"},{"tags":[],"owner":{"account_id":5157871,"reputation":889,"user_id":4130569,"display_name":"starkm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699967657,"creation_date":1699967657,"answer_id":77480887,"question_id":53284134,"body_markdown":"[![Shorten command line inside Run Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UagB3.png\r\n\r\nAdding shorten command line JAR manifest to run configuration solved the problem for me.","title":"java.lang.IllegalStateException: Failed to introspect Class","body":"<p><a href=\"https://i.stack.imgur.com/UagB3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UagB3.png\" alt=\"Shorten command line inside Run Configuration\" /></a></p>\n<p>Adding shorten command line JAR manifest to run configuration solved the problem for me.</p>\n"}],"owner":{"account_id":13844472,"reputation":1602,"user_id":9993935,"display_name":"vidy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241083,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":53284833,"answer_count":3,"score":36,"last_activity_date":1699967657,"creation_date":1542122394,"question_id":53284134,"body_markdown":"I am trying to add Elasticsearch to my project. I have addded the necessary dependencies to my pom.xml file. When I run the server I am getting this error:\r\n\r\n&gt;     java.lang.IllegalStateException: Failed to introspect Class\r\n&gt;     [net.kzn.shoppingbackend.config.HibernateConfig] from ClassLoader\r\n&gt;     [ParallelWebappClassLoader\r\n\r\nPlease help me solve this problem. \r\n\r\nAlso I tried to find elasticsearch.yml file in eclipse to configure node but there is no such file. where Can i find elasticsearch.yml file.\r\n\r\n**HibernateConfig.java**\r\n          \r\n    package net.kzn.shoppingbackend.config;\r\n    \r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Properties;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.apache.commons.dbcp2.BasicDataSource;\r\n    import org.elasticsearch.client.Client;\r\n    import org.elasticsearch.client.transport.TransportClient;\r\n    import org.elasticsearch.common.settings.Settings;\r\n    import org.elasticsearch.common.transport.TransportAddress;\r\n    import org.elasticsearch.transport.client.PreBuiltTransportClient;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\n    import org.springframework.data.elasticsearch.core.ElasticsearchTemplate;\r\n    import org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBuilder;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;net.kzn.shoppingbackend&quot;)\r\n    @ComponentScan(basePackages = { &quot;net.kzn.shoppingbackend&quot; })\r\n    @EnableTransactionManagement\r\n    public class HibernateConfig {\r\n    \r\n    \t// change the below based on the DBMS you choose\r\n    \tprivate final static String DATABASE_URL = &quot;jdbc:h2:tcp://localhost/~/onlineshopping&quot;;\r\n    \tprivate final static String DATABASE_DRIVER = &quot;org.h2.Driver&quot;;\r\n    \tprivate final static String DATABASE_DIALECT = &quot;org.hibernate.dialect.H2Dialect&quot;;\r\n    \tprivate final static String DATABASE_USERNAME = &quot;sa&quot;;\r\n    \tprivate final static String DATABASE_PASSWORD = &quot;&quot;;\r\n    \r\n        @Value(&quot;${elasticsearch.home:/home/vidyesh/.m2/repository/org/elasticsearch/client/elasticsearch-rest-client/5.6.8}&quot;)\r\n        private String elasticsearchHome;\r\n    \r\n        @Value(&quot;${elasticsearch.cluster.name:elasticsearch}&quot;)\r\n        private String clusterName;\r\n    \r\n    \t// database bean will be available\r\n    \t@Bean(&quot;dataSource&quot;)\r\n    \tpublic DataSource getDataSource() {\r\n    \t\tBasicDataSource dataSource = new BasicDataSource();\r\n    \r\n    \t\t// providing the database connection information\r\n    \r\n    \t\tdataSource.setDriverClassName(DATABASE_DRIVER);\r\n    \t\tdataSource.setUrl(DATABASE_URL);\r\n    \t\tdataSource.setUsername(DATABASE_USERNAME);\r\n    \t\tdataSource.setPassword(DATABASE_PASSWORD);\r\n    \r\n    \t\treturn dataSource;\r\n    \t}\r\n    \r\n    \t// sessionFactory bean will be available\r\n    \t@Bean\r\n    \tpublic SessionFactory getSessionFactory(DataSource dataSource) {\r\n    \r\n    \t\tLocalSessionFactoryBuilder builder = new LocalSessionFactoryBuilder(dataSource);\r\n    \r\n    \t\tbuilder.addProperties(getHibernateProperties());\r\n    \t\tbuilder.scanPackages(&quot;net.kzn.shoppingbackend&quot;);\r\n    \r\n    \t\treturn builder.buildSessionFactory();\r\n    \t}\r\n    \r\n    \t// All the hibernate properties will be returned in this method\r\n    \tprivate Properties getHibernateProperties() {\r\n    \r\n    \t\tProperties properties = new Properties();\r\n    \r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, DATABASE_DIALECT);\r\n    \t\tproperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    \t\tproperties.put(&quot;hibernate.format_sql&quot;, &quot;true&quot;);\r\n    \r\n    \t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n    \r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n        @Bean\r\n        public Client client() {\r\n            TransportClient client = null;\r\n            try {\r\n                final Settings elasticsearchSettings = Settings.builder()\r\n                  .put(&quot;client.transport.sniff&quot;, true)\r\n                  .put(&quot;path.home&quot;, elasticsearchHome)\r\n                  .put(&quot;cluster.name&quot;, clusterName).build();\r\n                client = new PreBuiltTransportClient(elasticsearchSettings); \r\n                client.addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;127.0.0.1&quot;), 9300));\r\n      \r\n            } catch (UnknownHostException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return client;\r\n        }\r\n    \r\n        @Bean\r\n        public ElasticsearchOperations elasticsearchTemplate() {\r\n            return new ElasticsearchTemplate(client());\r\n        }\r\n        \r\n    \t// transactionManager bean\r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager geTransactionManager(SessionFactory sessionFactory) {\r\n    \r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager(sessionFactory);\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    \r\n**Loaders.java**\r\n    \r\n    package net.kzn.shoppingbackend.load;\r\n     \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import net.kzn.shoppingbackend.dto.Product;\r\n    import net.kzn.shoppingbackend.dto.Users;\r\n    import net.kzn.shoppingbackend.repository.UsersRepository;\r\n      \r\n    @Component\r\n    public class Loaders {\r\n    \r\n        @Autowired\r\n        ElasticsearchOperations operations;\r\n    \r\n        @Autowired\r\n        UsersRepository usersRepository;\r\n    \r\n        @PostConstruct\r\n        @Transactional\r\n        public void loadAll(){\r\n    \r\n            operations.putMapping(Product.class);\r\n            System.out.println(&quot;Loading Data&quot;);\r\n            usersRepository.save(getData());\r\n            System.out.printf(&quot;Loading Completed&quot;);\r\n    \r\n        }\r\n    \r\n        private List&lt;Users&gt; getData() {\r\n            List&lt;Users&gt; userses = new ArrayList&lt;&gt;();\r\n            userses.add(new Users(&quot;Ajay&quot;,123L, &quot;Accounting&quot;, 12000L));\r\n            userses.add(new Users(&quot;Jaga&quot;,1234L, &quot;Finance&quot;, 22000L));\r\n            userses.add(new Users(&quot;Thiru&quot;,1235L, &quot;Accounting&quot;, 12000L));\r\n            return userses;\r\n        }\r\n    }\r\n\r\nThis is my pom.xml file\r\n\r\n**POM.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;net.kzn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;shoppingbackend&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;spring.version&gt;5.1.1.RELEASE&lt;/spring.version&gt;\r\n\t\t&lt;hibernate.version&gt;5.3.6.Final&lt;/hibernate.version&gt;\r\n\t\t&lt;jackson.version&gt;2.9.6&lt;/jackson.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- JUNIT version 4.12 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- spring --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- H2 database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.197&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Hibernate Dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.10.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- database connection pooling --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- SLF4J logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.12.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/transport --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.plugin/transport-netty4-client --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.plugin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;transport-netty4-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n \r\n\r\n**Error**\r\n\r\n    \tERROR Context\r\n\tinitialization failed 19:56:48.391&quot; o.s.web.context.ContextLoader java.lang.IllegalStateException:\r\n\tFailed to introspect Class[net.kzn.shoppingbackend.config.HibernateConfig]from ClassLoader[ParallelWebappClassLoader\r\n\tcontext:\r\n\t\tonlineshopping\r\n\t\tdelegate:false----------&gt;\r\n\tParent Classloader:java.net.URLClassLoader @24d 46 ca6]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:680)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:577)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:562)\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:620)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:721)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:662)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:630)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1491)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:507)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:477)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:99)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\r\n\r\n\r\nPlease tell me what am i doing wrong here? Problem is related to dependancies?\r\n","title":"java.lang.IllegalStateException: Failed to introspect Class","body":"<p>I am trying to add Elasticsearch to my project. I have addded the necessary dependencies to my pom.xml file. When I run the server I am getting this error:</p>\n\n<blockquote>\n<pre><code>java.lang.IllegalStateException: Failed to introspect Class\n[net.kzn.shoppingbackend.config.HibernateConfig] from ClassLoader\n[ParallelWebappClassLoader\n</code></pre>\n</blockquote>\n\n<p>Please help me solve this problem. </p>\n\n<p>Also I tried to find elasticsearch.yml file in eclipse to configure node but there is no such file. where Can i find elasticsearch.yml file.</p>\n\n<p><strong>HibernateConfig.java</strong></p>\n\n<pre><code>package net.kzn.shoppingbackend.config;\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbcp2.BasicDataSource;\nimport org.elasticsearch.client.Client;\nimport org.elasticsearch.client.transport.TransportClient;\nimport org.elasticsearch.common.settings.Settings;\nimport org.elasticsearch.common.transport.TransportAddress;\nimport org.elasticsearch.transport.client.PreBuiltTransportClient;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.ElasticsearchTemplate;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBuilder;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableElasticsearchRepositories(basePackages = \"net.kzn.shoppingbackend\")\n@ComponentScan(basePackages = { \"net.kzn.shoppingbackend\" })\n@EnableTransactionManagement\npublic class HibernateConfig {\n\n    // change the below based on the DBMS you choose\n    private final static String DATABASE_URL = \"jdbc:h2:tcp://localhost/~/onlineshopping\";\n    private final static String DATABASE_DRIVER = \"org.h2.Driver\";\n    private final static String DATABASE_DIALECT = \"org.hibernate.dialect.H2Dialect\";\n    private final static String DATABASE_USERNAME = \"sa\";\n    private final static String DATABASE_PASSWORD = \"\";\n\n    @Value(\"${elasticsearch.home:/home/vidyesh/.m2/repository/org/elasticsearch/client/elasticsearch-rest-client/5.6.8}\")\n    private String elasticsearchHome;\n\n    @Value(\"${elasticsearch.cluster.name:elasticsearch}\")\n    private String clusterName;\n\n    // database bean will be available\n    @Bean(\"dataSource\")\n    public DataSource getDataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n\n        // providing the database connection information\n\n        dataSource.setDriverClassName(DATABASE_DRIVER);\n        dataSource.setUrl(DATABASE_URL);\n        dataSource.setUsername(DATABASE_USERNAME);\n        dataSource.setPassword(DATABASE_PASSWORD);\n\n        return dataSource;\n    }\n\n    // sessionFactory bean will be available\n    @Bean\n    public SessionFactory getSessionFactory(DataSource dataSource) {\n\n        LocalSessionFactoryBuilder builder = new LocalSessionFactoryBuilder(dataSource);\n\n        builder.addProperties(getHibernateProperties());\n        builder.scanPackages(\"net.kzn.shoppingbackend\");\n\n        return builder.buildSessionFactory();\n    }\n\n    // All the hibernate properties will be returned in this method\n    private Properties getHibernateProperties() {\n\n        Properties properties = new Properties();\n\n        properties.put(\"hibernate.dialect\", DATABASE_DIALECT);\n        properties.put(\"hibernate.show_sql\", \"true\");\n        properties.put(\"hibernate.format_sql\", \"true\");\n\n        properties.put(\"hibernate.hbm2ddl.auto\", \"update\");\n\n        return properties;\n    }\n\n    @Bean\n    public Client client() {\n        TransportClient client = null;\n        try {\n            final Settings elasticsearchSettings = Settings.builder()\n              .put(\"client.transport.sniff\", true)\n              .put(\"path.home\", elasticsearchHome)\n              .put(\"cluster.name\", clusterName).build();\n            client = new PreBuiltTransportClient(elasticsearchSettings); \n            client.addTransportAddress(new TransportAddress(InetAddress.getByName(\"127.0.0.1\"), 9300));\n\n        } catch (UnknownHostException e) {\n            e.printStackTrace();\n        }\n        return client;\n    }\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchTemplate(client());\n    }\n\n    // transactionManager bean\n    @Bean\n    public HibernateTransactionManager geTransactionManager(SessionFactory sessionFactory) {\n\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager(sessionFactory);\n        return transactionManager;\n    }\n\n}\n</code></pre>\n\n<p><strong>Loaders.java</strong></p>\n\n<pre><code>package net.kzn.shoppingbackend.load;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.stereotype.Component;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport net.kzn.shoppingbackend.dto.Product;\nimport net.kzn.shoppingbackend.dto.Users;\nimport net.kzn.shoppingbackend.repository.UsersRepository;\n\n@Component\npublic class Loaders {\n\n    @Autowired\n    ElasticsearchOperations operations;\n\n    @Autowired\n    UsersRepository usersRepository;\n\n    @PostConstruct\n    @Transactional\n    public void loadAll(){\n\n        operations.putMapping(Product.class);\n        System.out.println(\"Loading Data\");\n        usersRepository.save(getData());\n        System.out.printf(\"Loading Completed\");\n\n    }\n\n    private List&lt;Users&gt; getData() {\n        List&lt;Users&gt; userses = new ArrayList&lt;&gt;();\n        userses.add(new Users(\"Ajay\",123L, \"Accounting\", 12000L));\n        userses.add(new Users(\"Jaga\",1234L, \"Finance\", 22000L));\n        userses.add(new Users(\"Thiru\",1235L, \"Accounting\", 12000L));\n        return userses;\n    }\n}\n</code></pre>\n\n<p>This is my pom.xml file</p>\n\n<p><strong>POM.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;net.kzn&lt;/groupId&gt;\n&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;shoppingbackend&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;spring.version&gt;5.1.1.RELEASE&lt;/spring.version&gt;\n    &lt;hibernate.version&gt;5.3.6.Final&lt;/hibernate.version&gt;\n    &lt;jackson.version&gt;2.9.6&lt;/jackson.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- JUNIT version 4.12 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- spring --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- H2 database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.197&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate Dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-search-elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;5.10.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- database connection pooling --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.9.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SLF4J logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.0.12.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;6.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/transport --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;transport&lt;/artifactId&gt;\n        &lt;version&gt;6.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.plugin/transport-netty4-client --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;transport-netty4-client&lt;/artifactId&gt;\n        &lt;version&gt;6.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n        &lt;artifactId&gt;jna&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>Error</strong></p>\n\n<pre><code>    ERROR Context\ninitialization failed 19:56:48.391\" o.s.web.context.ContextLoader java.lang.IllegalStateException:\nFailed to introspect Class[net.kzn.shoppingbackend.config.HibernateConfig]from ClassLoader[ParallelWebappClassLoader\ncontext:\n    onlineshopping\n    delegate:false----------&gt;\nParent Classloader:java.net.URLClassLoader @24d 46 ca6]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:680)\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:577)\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:562)\nat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:620)\nat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:721)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:662)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:630)\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1491)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:507)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:477)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:99)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\n</code></pre>\n\n<p>Please tell me what am i doing wrong here? Problem is related to dependancies?</p>\n"},{"tags":["java","string","padding"],"answers":[{"comments":[{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":104,"creation_date":1230033765,"post_id":388476,"comment_id":216064,"body_markdown":"java.util.Formatter (and String.format()) does this.  Always prefer the JDK to an external library if the JDK version does the job (which it does).","body":"java.util.Formatter (and String.format()) does this.  Always prefer the JDK to an external library if the JDK version does the job (which it does)."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":6,"creation_date":1351082246,"post_id":388476,"comment_id":17719429,"body_markdown":"For several reasons, I&#39;d now prefer Guava to Apache Commons; [this answer shows how to do it in Guava](http://stackoverflow.com/a/7502863/56285).","body":"For several reasons, I&#39;d now prefer Guava to Apache Commons; <a href=\"http://stackoverflow.com/a/7502863/56285\">this answer shows how to do it in Guava</a>."},{"owner":{"account_id":1205683,"reputation":693,"user_id":1175406,"display_name":"glen3b"},"score":1,"creation_date":1400390289,"post_id":388476,"comment_id":36454133,"body_markdown":"@Jonik would you care to list some of your reasons? The APIs look pretty much the same.","body":"@Jonik would you care to list some of your reasons? The APIs look pretty much the same."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":3,"creation_date":1400439574,"post_id":388476,"comment_id":36467678,"body_markdown":"@glen3b: For an individual utility, like these string padding helpers, it really makes no difference which lib to use. That said, Guava is overall a more modern, cleaner and better documented lib than its counterparts in various Apache Commons projects (Commons Lang, Commons Collections, Commons IO, etc). It&#39;s also built by really smart guys (Kevin Bourrillion et al), many of whom are [active at SO](http://stackoverflow.com/tags/guava/topusers). Myself I ended up replacing the various Apache Commons libs with just Guava years ago, and have had no regrets.","body":"@glen3b: For an individual utility, like these string padding helpers, it really makes no difference which lib to use. That said, Guava is overall a more modern, cleaner and better documented lib than its counterparts in various Apache Commons projects (Commons Lang, Commons Collections, Commons IO, etc). It&#39;s also built by really smart guys (Kevin Bourrillion et al), many of whom are <a href=\"http://stackoverflow.com/tags/guava/topusers\">active at SO</a>. Myself I ended up replacing the various Apache Commons libs with just Guava years ago, and have had no regrets."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":3,"creation_date":1400439625,"post_id":388476,"comment_id":36467697,"body_markdown":"@glen3b: Some good [further reading at this question](http://stackoverflow.com/questions/4542550/what-are-the-big-improvements-between-guava-and-apache-equivalent-libraries).","body":"@glen3b: Some good <a href=\"http://stackoverflow.com/questions/4542550/what-are-the-big-improvements-between-guava-and-apache-equivalent-libraries\">further reading at this question</a>."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":2,"creation_date":1465390595,"post_id":388476,"comment_id":62880282,"body_markdown":"`StringUtils`/`Strings` is still the better choice IMO when the size of the pad is a runtime variable.","body":"<code>StringUtils</code>/<code>Strings</code> is still the better choice IMO when the size of the pad is a runtime variable."}],"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"comment_count":6,"down_vote_count":12,"up_vote_count":221,"is_accepted":true,"score":209,"last_activity_date":1529791769,"creation_date":1230024127,"answer_id":388476,"question_id":388461,"body_markdown":"Apache [`StringUtils`][1] has several methods: [`leftPad`][2], [`rightPad`][3], [`center`][4] and [`repeat`][5]. \r\n\r\nBut please note that — as others have mentioned and demonstrated in [this answer](https://stackoverflow.com/a/391978/1725096) — `String.format()` and the `Formatter` classes in the JDK are better options. Use them over the commons code.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#leftPad(java.lang.String,%20int)\r\n  [3]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#rightPad(java.lang.String,%20int)\r\n  [4]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#center(java.lang.String,%20int)\r\n  [5]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#repeat(java.lang.String,%20int)","title":"How can I pad a String in Java?","body":"<p>Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"noreferrer\"><code>StringUtils</code></a> has several methods: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#leftPad(java.lang.String,%20int)\" rel=\"noreferrer\"><code>leftPad</code></a>, <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#rightPad(java.lang.String,%20int)\" rel=\"noreferrer\"><code>rightPad</code></a>, <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#center(java.lang.String,%20int)\" rel=\"noreferrer\"><code>center</code></a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#repeat(java.lang.String,%20int)\" rel=\"noreferrer\"><code>repeat</code></a>. </p>\n\n<p>But please note that — as others have mentioned and demonstrated in <a href=\"https://stackoverflow.com/a/391978/1725096\">this answer</a> — <code>String.format()</code> and the <code>Formatter</code> classes in the JDK are better options. Use them over the commons code.</p>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1230024260,"creation_date":1230024260,"answer_id":388479,"question_id":388461,"body_markdown":"Besides Apache Commons, also see `String.format` which should be able to take care of simple padding (e.g. with spaces).","title":"How can I pad a String in Java?","body":"<p>Besides Apache Commons, also see <code>String.format</code> which should be able to take care of simple padding (e.g. with spaces).</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1230024852,"post_id":388482,"comment_id":215880,"body_markdown":"Note that as of Java 1.5 it&#39;s worth using StringBuilder instead of StringBuffer.","body":"Note that as of Java 1.5 it&#39;s worth using StringBuilder instead of StringBuffer."}],"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"comment_count":1,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1611817446,"creation_date":1230024278,"answer_id":388482,"question_id":388461,"body_markdown":"Have a look at `org.apache.commons.lang.StringUtils#rightPad(String str, int size, char padChar)`.\r\n\r\nBut the algorithm is very simple (pad right up to size chars):\r\n\r\n    public String pad(String str, int size, char padChar)\r\n    {\r\n      StringBuilder padded = new StringBuilder(str);\r\n      while (padded.length() &lt; size)\r\n      {\r\n        padded.append(padChar);\r\n      }\r\n      return padded.toString();\r\n    }","title":"How can I pad a String in Java?","body":"<p>Have a look at <code>org.apache.commons.lang.StringUtils#rightPad(String str, int size, char padChar)</code>.</p>\n<p>But the algorithm is very simple (pad right up to size chars):</p>\n<pre><code>public String pad(String str, int size, char padChar)\n{\n  StringBuilder padded = new StringBuilder(str);\n  while (padded.length() &lt; size)\n  {\n    padded.append(padChar);\n  }\n  return padded.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1230122652,"post_id":388975,"comment_id":218487,"body_markdown":"That is thread safe, except for unsafe publication (make your fields final, as a matter of course). I think performance could be improved by doing a substring before the + which should be replaced by concat (strangely enough).","body":"That is thread safe, except for unsafe publication (make your fields final, as a matter of course). I think performance could be improved by doing a substring before the + which should be replaced by concat (strangely enough)."}],"tags":[],"owner":{"account_id":2529,"reputation":30785,"user_id":3525,"display_name":"joel.neely"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1230042342,"creation_date":1230042342,"answer_id":388975,"question_id":388461,"body_markdown":"You can reduce the per-call overhead by retaining the padding data, rather than rebuilding it every time:\r\n\r\n    public class RightPadder {\r\n\r\n        private int length;\r\n        private String padding;\r\n\r\n        public RightPadder(int length, String pad) {\r\n            this.length = length;\r\n            StringBuilder sb = new StringBuilder(pad);\r\n            while (sb.length() &lt; length) {\r\n                sb.append(sb);\r\n            }\r\n            padding = sb.toString();\r\n       }\r\n\r\n        public String pad(String s) {\r\n            return (s.length() &lt; length ? s + padding : s).substring(0, length);\r\n        }\r\n\r\n    }\r\n\r\nAs an alternative, you can make the result length a parameter to the `pad(...)` method. In that case do the adjustment of the hidden padding in that method instead of in the constructor.\r\n\r\n(Hint: For extra credit, make it thread-safe! ;-)\r\n","title":"How can I pad a String in Java?","body":"<p>You can reduce the per-call overhead by retaining the padding data, rather than rebuilding it every time:</p>\n\n<pre><code>public class RightPadder {\n\n    private int length;\n    private String padding;\n\n    public RightPadder(int length, String pad) {\n        this.length = length;\n        StringBuilder sb = new StringBuilder(pad);\n        while (sb.length() &lt; length) {\n            sb.append(sb);\n        }\n        padding = sb.toString();\n   }\n\n    public String pad(String s) {\n        return (s.length() &lt; length ? s + padding : s).substring(0, length);\n    }\n\n}\n</code></pre>\n\n<p>As an alternative, you can make the result length a parameter to the <code>pad(...)</code> method. In that case do the adjustment of the hidden padding in that method instead of in the constructor.</p>\n\n<p>(Hint: For extra credit, make it thread-safe! ;-)</p>\n"},{"comments":[{"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"score":4,"creation_date":1306786556,"post_id":389060,"comment_id":7187016,"body_markdown":"I disagree. In any larger Java project you will typically do such a lot of String manipulation, that the increased readability and avoidance of errors is well worth using Apache Commons Lang. You all know code like someString.subString(someString.indexOf(startCharacter), someString.lastIndexOf(endCharacter)), which can easily be avoided with StringUtils.","body":"I disagree. In any larger Java project you will typically do such a lot of String manipulation, that the increased readability and avoidance of errors is well worth using Apache Commons Lang. You all know code like someString.subString(someString.indexOf(startCharacter), someString.lastIndexOf(endCharacter)), which can easily be avoided with StringUtils."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1230044322,"creation_date":1230044322,"answer_id":389060,"question_id":388461,"body_markdown":"`java.util.Formatter` will do left and right padding. No need for odd third party dependencies (would you want to add them for something so trivial).\r\n\r\n[I&#39;ve left out the details and made this post &#39;community wiki&#39; as it is not something I have a need for.]","title":"How can I pad a String in Java?","body":"<p><code>java.util.Formatter</code> will do left and right padding. No need for odd third party dependencies (would you want to add them for something so trivial).</p>\n\n<p>[I've left out the details and made this post 'community wiki' as it is not something I have a need for.]</p>\n"},{"comments":[{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":48,"creation_date":1250005722,"post_id":391978,"comment_id":1088415,"body_markdown":"What if you need to lpad with other chars (not spaces) ? Is it still possible with String.format ?  I am not able to make it work...","body":"What if you need to lpad with other chars (not spaces) ? Is it still possible with String.format ?  I am not able to make it work..."},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":6,"creation_date":1260197224,"post_id":391978,"comment_id":1756019,"body_markdown":"AFAIK String.format() can&#39;t do that but it&#39;s not too difficult to code it, see http://www.rgagnon.com/javadetails/java-0448.html (2nd example)","body":"AFAIK String.format() can&#39;t do that but it&#39;s not too difficult to code it, see <a href=\"http://www.rgagnon.com/javadetails/java-0448.html\" rel=\"nofollow noreferrer\">rgagnon.com/javadetails/java-0448.html</a> (2nd example)"},{"owner":{"account_id":7349,"reputation":45939,"user_id":12744,"accept_rate":94,"display_name":"Colin Pickard"},"score":62,"creation_date":1289571478,"post_id":391978,"comment_id":4497157,"body_markdown":"@Nullw0rm, if you&#39;re referring to rgagnon.com, be aware that RealHowTo is the author of rgagnon.com too, so he would be crediting himself...","body":"@Nullw0rm, if you&#39;re referring to rgagnon.com, be aware that RealHowTo is the author of rgagnon.com too, so he would be crediting himself..."},{"owner":{"account_id":30044,"reputation":16610,"user_id":81636,"accept_rate":72,"display_name":"gatoatigrado"},"score":3,"creation_date":1294003529,"post_id":391978,"comment_id":5029433,"body_markdown":"at least on my JVM, the &quot;#&quot; doesn&#39;t work, the &quot;-&quot; is fine. (Just delete the #). This may be consistent with the formatter documentation, I dunno; it says &quot;&#39;#&#39;\t&#39;\\u0023&#39;\t Requires the output use an alternate form. The definition of the form is specified by the conversion.&quot;","body":"at least on my JVM, the &quot;#&quot; doesn&#39;t work, the &quot;-&quot; is fine. (Just delete the #). This may be consistent with the formatter documentation, I dunno; it says &quot;&#39;#&#39;\t&#39;\\u0023&#39;\t Requires the output use an alternate form. The definition of the form is specified by the conversion.&quot;"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":1,"creation_date":1343915547,"post_id":391978,"comment_id":15644160,"body_markdown":"WIth jre6, &quot;%1$#&quot; is ok but with jre7 &quot;%1$#&quot; throws java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags = #.  I have updated this answer by removing the &quot;#&quot;.","body":"WIth jre6, &quot;%1$#&quot; is ok but with jre7 &quot;%1$#&quot; throws java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags = #.  I have updated this answer by removing the &quot;#&quot;."},{"owner":{"account_id":1403011,"reputation":69589,"user_id":1331430,"accept_rate":93,"display_name":"Fabr&#237;cio Matt&#233;"},"score":7,"creation_date":1362770049,"post_id":391978,"comment_id":21596224,"body_markdown":"Thanks for the awesome answer. I have a doubt though, what is the `1$` for? @leo has made a very similar answer that doesn&#39;t use `1$` and it apparently has the same effect. Does it make a difference?","body":"Thanks for the awesome answer. I have a doubt though, what is the <code>1$</code> for? @leo has made a very similar answer that doesn&#39;t use <code>1$</code> and it apparently has the same effect. Does it make a difference?"},{"owner":{"account_id":1403011,"reputation":69589,"user_id":1331430,"accept_rate":93,"display_name":"Fabr&#237;cio Matt&#233;"},"score":2,"creation_date":1362770688,"post_id":391978,"comment_id":21596552,"body_markdown":"Oh of course it is to explicitly force argument order of String.format, sorry for the stupid question. `:P` Even then, it serves virtually no use in this case, I assume.","body":"Oh of course it is to explicitly force argument order of String.format, sorry for the stupid question. <code>:P</code> Even then, it serves virtually no use in this case, I assume."},{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":1,"creation_date":1442856763,"post_id":391978,"comment_id":53245515,"body_markdown":"Note that `n` _must_ be greater than `0`.","body":"Note that <code>n</code> <i>must</i> be greater than <code>0</code>."},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":0,"creation_date":1595018992,"post_id":391978,"comment_id":111340676,"body_markdown":"Since Java 11, use String.repeat, see below the answer by Eko Setiawan.","body":"Since Java 11, use String.repeat, see below the answer by Eko Setiawan."}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":9,"down_vote_count":4,"up_vote_count":734,"is_accepted":false,"score":730,"last_activity_date":1548464706,"creation_date":1230142914,"answer_id":391978,"question_id":388461,"body_markdown":"Since Java 1.5, [`String.format()`][1] can be used to left/right pad a given string.\r\n\r\n  \r\n\r\n    public static String padRight(String s, int n) {\r\n         return String.format(&quot;%-&quot; + n + &quot;s&quot;, s);  \r\n    }\r\n      \r\n    public static String padLeft(String s, int n) {\r\n        return String.format(&quot;%&quot; + n + &quot;s&quot;, s);  \r\n    }\r\n\r\n    ...\r\n\r\n    public static void main(String args[]) throws Exception {\r\n     System.out.println(padRight(&quot;Howto&quot;, 20) + &quot;*&quot;);\r\n     System.out.println(padLeft(&quot;Howto&quot;, 20) + &quot;*&quot;);\r\n    }\r\n\r\nAnd the output is:\r\n\r\n    Howto               *\r\n                   Howto*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-","title":"How can I pad a String in Java?","body":"<p>Since Java 1.5, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"noreferrer\"><code>String.format()</code></a> can be used to left/right pad a given string.</p>\n\n<pre><code>public static String padRight(String s, int n) {\n     return String.format(\"%-\" + n + \"s\", s);  \n}\n\npublic static String padLeft(String s, int n) {\n    return String.format(\"%\" + n + \"s\", s);  \n}\n\n...\n\npublic static void main(String args[]) throws Exception {\n System.out.println(padRight(\"Howto\", 20) + \"*\");\n System.out.println(padLeft(\"Howto\", 20) + \"*\");\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>Howto               *\n               Howto*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":647549,"reputation":21,"user_id":429409,"display_name":"ef_oren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282647349,"creation_date":1282647349,"answer_id":3555676,"question_id":388461,"body_markdown":"you can use the built in StringBuilder append() and insert() methods,\r\nfor padding of variable string lengths:\r\n\r\n    AbstractStringBuilder append(CharSequence s, int start, int end) ;\r\n\r\nFor Example:\r\n\r\n    private static final String  MAX_STRING = &quot;                    &quot;; //20 spaces\r\n\r\n        Set&lt;StringBuilder&gt; set= new HashSet&lt;StringBuilder&gt;();\r\n        set.add(new StringBuilder(&quot;12345678&quot;));\r\n        set.add(new StringBuilder(&quot;123456789&quot;));\r\n        set.add(new StringBuilder(&quot;1234567811&quot;));\r\n        set.add(new StringBuilder(&quot;12345678123&quot;));\r\n        set.add(new StringBuilder(&quot;1234567812234&quot;));\r\n        set.add(new StringBuilder(&quot;1234567812222&quot;));\r\n        set.add(new StringBuilder(&quot;12345678122334&quot;));\r\n\r\n        for(StringBuilder padMe: set)\r\n            padMe.append(MAX_STRING, padMe.length(), MAX_STRING.length());\r\n\r\n\r\n\r\n\r\n","title":"How can I pad a String in Java?","body":"<p>you can use the built in StringBuilder append() and insert() methods,\nfor padding of variable string lengths:</p>\n\n<pre><code>AbstractStringBuilder append(CharSequence s, int start, int end) ;\n</code></pre>\n\n<p>For Example:</p>\n\n<pre><code>private static final String  MAX_STRING = \"                    \"; //20 spaces\n\n    Set&lt;StringBuilder&gt; set= new HashSet&lt;StringBuilder&gt;();\n    set.add(new StringBuilder(\"12345678\"));\n    set.add(new StringBuilder(\"123456789\"));\n    set.add(new StringBuilder(\"1234567811\"));\n    set.add(new StringBuilder(\"12345678123\"));\n    set.add(new StringBuilder(\"1234567812234\"));\n    set.add(new StringBuilder(\"1234567812222\"));\n    set.add(new StringBuilder(\"12345678122334\"));\n\n    for(StringBuilder padMe: set)\n        padMe.append(MAX_STRING, padMe.length(), MAX_STRING.length());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1205683,"reputation":693,"user_id":1175406,"display_name":"glen3b"},"score":1,"creation_date":1400629246,"post_id":4043913,"comment_id":36555819,"body_markdown":"If the `StringBuffer` can&#39;t be accessed by multiple threads at once (which in this case is true), you should use a `StringBuilder` (in JDK1.5+) to avoid the overhead of synchronization.","body":"If the <code>StringBuffer</code> can&#39;t be accessed by multiple threads at once (which in this case is true), you should use a <code>StringBuilder</code> (in JDK1.5+) to avoid the overhead of synchronization."}],"tags":[],"owner":{"account_id":116728,"reputation":71,"user_id":305984,"display_name":"ck."},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1288276488,"creation_date":1288276488,"answer_id":4043913,"question_id":388461,"body_markdown":"i know this thread is kind of old and the original question was for an easy solution but if it&#39;s supposed to be really fast, you should use a char array.\r\n\r\n\tpublic static String pad(String str, int size, char padChar)\r\n\t{\r\n\t\tif (str.length() &lt; size)\r\n\t\t{\r\n\t\t\tchar[] temp = new char[size];\r\n\t\t\tint i = 0;\r\n\t\t\t\r\n\t\t\twhile (i &lt; str.length())\r\n\t\t\t{\r\n\t\t\t\ttemp[i] = str.charAt(i);\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twhile (i &lt; size)\r\n\t\t\t{\r\n\t\t\t\ttemp[i] = padChar;\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstr = new String(temp);\r\n\t\t}\r\n\t\t\r\n\t\treturn str;\r\n\t}\r\n\r\n\r\nthe formatter solution is not optimal. just building the format string creates 2 new strings.\r\n\r\napache&#39;s solution can be improved by initializing the sb with the target size so replacing below\r\n\r\n\tStringBuffer padded = new StringBuffer(str); \r\n\r\nwith\t\r\n\r\n\tStringBuffer padded = new StringBuffer(pad); \r\n\tpadded.append(value);\r\n\r\nwould prevent the sb&#39;s internal buffer from growing.\r\n","title":"How can I pad a String in Java?","body":"<p>i know this thread is kind of old and the original question was for an easy solution but if it's supposed to be really fast, you should use a char array.</p>\n\n<pre><code>public static String pad(String str, int size, char padChar)\n{\n    if (str.length() &lt; size)\n    {\n        char[] temp = new char[size];\n        int i = 0;\n\n        while (i &lt; str.length())\n        {\n            temp[i] = str.charAt(i);\n            i++;\n        }\n\n        while (i &lt; size)\n        {\n            temp[i] = padChar;\n            i++;\n        }\n\n        str = new String(temp);\n    }\n\n    return str;\n}\n</code></pre>\n\n<p>the formatter solution is not optimal. just building the format string creates 2 new strings.</p>\n\n<p>apache's solution can be improved by initializing the sb with the target size so replacing below</p>\n\n<pre><code>StringBuffer padded = new StringBuffer(str); \n</code></pre>\n\n<p>with    </p>\n\n<pre><code>StringBuffer padded = new StringBuffer(pad); \npadded.append(value);\n</code></pre>\n\n<p>would prevent the sb's internal buffer from growing.</p>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1350495430,"post_id":4055870,"comment_id":17538434,"body_markdown":"Why make the end so complicated? You could have just done String hex = String.format(&quot;%032x&quot;, digest); and had the exact same results, just without a needless replace() and having to use the $ to access specific variables (there&#39;s only one, after all.)","body":"Why make the end so complicated? You could have just done String hex = String.format(&quot;%032x&quot;, digest); and had the exact same results, just without a needless replace() and having to use the $ to access specific variables (there&#39;s only one, after all.)"},{"owner":{"account_id":229061,"reputation":3784,"user_id":491764,"display_name":"Nthalk"},"score":0,"creation_date":1393969330,"post_id":4055870,"comment_id":33672406,"body_markdown":"@ArtOfWarfare fair point. Someone originally asked for padding hex values in another question, I saw that I had a link to the formatter documentation. It&#39;s complicated for completeness.","body":"@ArtOfWarfare fair point. Someone originally asked for padding hex values in another question, I saw that I had a link to the formatter documentation. It&#39;s complicated for completeness."}],"tags":[],"owner":{"account_id":229061,"reputation":3784,"user_id":491764,"display_name":"Nthalk"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1288385889,"creation_date":1288385889,"answer_id":4055870,"question_id":388461,"body_markdown":"This took me a little while to figure out.\r\nThe real key is to read that Formatter documentation.\r\n\r\n    // Get your data from wherever.\r\n    final byte[] data = getData();\r\n    // Get the digest engine.\r\n    final MessageDigest md5= MessageDigest.getInstance(&quot;MD5&quot;);\r\n    // Send your data through it.\r\n    md5.update(data);\r\n    // Parse the data as a positive BigInteger.\r\n    final BigInteger digest = new BigInteger(1,md5.digest());\r\n    // Pad the digest with blanks, 32 wide.\r\n    String hex = String.format(\r\n        // See: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\r\n        // Format: %[argument_index$][flags][width]conversion\r\n        // Conversion: &#39;x&#39;, &#39;X&#39;\t integral\t The result is formatted as a hexadecimal integer\r\n        &quot;%1$32x&quot;,\r\n        digest\r\n    );\r\n    // Replace the blank padding with 0s.\r\n    hex = hex.replace(&quot; &quot;,&quot;0&quot;);\r\n    System.out.println(hex);\r\n\r\n","title":"How can I pad a String in Java?","body":"<p>This took me a little while to figure out.\nThe real key is to read that Formatter documentation.</p>\n\n<pre><code>// Get your data from wherever.\nfinal byte[] data = getData();\n// Get the digest engine.\nfinal MessageDigest md5= MessageDigest.getInstance(\"MD5\");\n// Send your data through it.\nmd5.update(data);\n// Parse the data as a positive BigInteger.\nfinal BigInteger digest = new BigInteger(1,md5.digest());\n// Pad the digest with blanks, 32 wide.\nString hex = String.format(\n    // See: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\n    // Format: %[argument_index$][flags][width]conversion\n    // Conversion: 'x', 'X'  integral    The result is formatted as a hexadecimal integer\n    \"%1$32x\",\n    digest\n);\n// Replace the blank padding with 0s.\nhex = hex.replace(\" \",\"0\");\nSystem.out.println(hex);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1554128229,"post_id":5965927,"comment_id":97627488,"body_markdown":"You should invoke the `static` method as `String.format(…)` instead of abusing an empty string. Saving four characters in source code surely isn’t worth the loss of readability.","body":"You should invoke the <code>static</code> method as <code>String.format(…)</code> instead of abusing an empty string. Saving four characters in source code surely isn’t worth the loss of readability."}],"tags":[],"owner":{"account_id":389423,"reputation":493,"user_id":748884,"accept_rate":100,"display_name":"Sebastian S."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305124217,"creation_date":1305124217,"answer_id":5965927,"question_id":388461,"body_markdown":"This works:\r\n\r\n    &quot;&quot;.format(&quot;%1$-&quot; + 9 + &quot;s&quot;, &quot;XXX&quot;).replaceAll(&quot; &quot;, &quot;0&quot;)\r\n\r\nIt will fill your String XXX up to 9 Chars with a whitespace. After that all Whitespaces will be replaced with a 0. You can change the whitespace and the 0 to whatever you want...","title":"How can I pad a String in Java?","body":"<p>This works:</p>\n\n<pre><code>\"\".format(\"%1$-\" + 9 + \"s\", \"XXX\").replaceAll(\" \", \"0\")\n</code></pre>\n\n<p>It will fill your String XXX up to 9 Chars with a whitespace. After that all Whitespaces will be replaced with a 0. You can change the whitespace and the 0 to whatever you want...</p>\n"},{"comments":[{"owner":{"account_id":401814,"reputation":1692,"user_id":768597,"accept_rate":94,"display_name":"leviathanbadger"},"score":59,"creation_date":1358479238,"post_id":6185386,"comment_id":20021456,"body_markdown":"Just as long as we all remember not to pass in a string with spaces... :D","body":"Just as long as we all remember not to pass in a string with spaces... :D"},{"owner":{"account_id":1013,"reputation":22756,"user_id":1344,"accept_rate":81,"display_name":"Brian Warshaw"},"score":5,"creation_date":1422548668,"post_id":6185386,"comment_id":44802467,"body_markdown":"I&#39;m with @aboveyou00--this is a horrendous solution for strings with spaces, including the example provided by leo. A solution for padding a string on the left or the right should not alter the input string as it appears in the output, unless the input string&#39;s original padding causes it to exceed the specified padding length.","body":"I&#39;m with @aboveyou00--this is a horrendous solution for strings with spaces, including the example provided by leo. A solution for padding a string on the left or the right should not alter the input string as it appears in the output, unless the input string&#39;s original padding causes it to exceed the specified padding length."},{"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"score":3,"creation_date":1504213930,"post_id":6185386,"comment_id":78940455,"body_markdown":"Acknowledge the space issue. `.replace(&#39; &#39;, &#39;*&#39;)` was rather intended to show the effect of padding. The password hiding expression does not have this issue anyway... For a better answer on customizing the left and right padding string using native Java feature see my other answer.","body":"Acknowledge the space issue. <code>.replace(&#39; &#39;, &#39;*&#39;)</code> was rather intended to show the effect of padding. The password hiding expression does not have this issue anyway... For a better answer on customizing the left and right padding string using native Java feature see my other answer."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1530010904,"post_id":6185386,"comment_id":89073500,"body_markdown":"If the string contains only single spaces and you want to pad with different characters, you can use regex replace with look behind/ahead: `String.format(&quot;%30s&quot;, &quot;pad left&quot;).replaceAll(&quot;(?&lt;=( |^)) &quot;, &quot;*&quot;)` or `String.format(&quot;%-30s&quot;, &quot;pad right&quot;).replaceAll(&quot; (?=( |$))&quot;, &quot;*&quot;)`","body":"If the string contains only single spaces and you want to pad with different characters, you can use regex replace with look behind/ahead: <code>String.format(&quot;%30s&quot;, &quot;pad left&quot;).replaceAll(&quot;(?&lt;=( |^)) &quot;, &quot;*&quot;)</code> or <code>String.format(&quot;%-30s&quot;, &quot;pad right&quot;).replaceAll(&quot; (?=( |$))&quot;, &quot;*&quot;)</code>"}],"tags":[],"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"comment_count":4,"down_vote_count":6,"up_vote_count":299,"is_accepted":false,"score":293,"last_activity_date":1306833188,"creation_date":1306833188,"answer_id":6185386,"question_id":388461,"body_markdown":"Padding to 10 characters:\r\n\r\n    String.format(&quot;%10s&quot;, &quot;foo&quot;).replace(&#39; &#39;, &#39;*&#39;);\r\n    String.format(&quot;%-10s&quot;, &quot;bar&quot;).replace(&#39; &#39;, &#39;*&#39;);\r\n    String.format(&quot;%10s&quot;, &quot;longer than 10 chars&quot;).replace(&#39; &#39;, &#39;*&#39;);\r\n\r\noutput:\r\n\r\n      *******foo\r\n      bar*******\r\n      longer*than*10*chars\r\n\r\nDisplay &#39;*&#39; for characters of password:\r\n\r\n    String password = &quot;secret123&quot;;\r\n    String padded = String.format(&quot;%&quot;+password.length()+&quot;s&quot;, &quot;&quot;).replace(&#39; &#39;, &#39;*&#39;);\r\n\r\noutput has the same length as the password string:\r\n\r\n      secret123\r\n      *********\r\n\r\n","title":"How can I pad a String in Java?","body":"<p>Padding to 10 characters:</p>\n\n<pre><code>String.format(\"%10s\", \"foo\").replace(' ', '*');\nString.format(\"%-10s\", \"bar\").replace(' ', '*');\nString.format(\"%10s\", \"longer than 10 chars\").replace(' ', '*');\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>  *******foo\n  bar*******\n  longer*than*10*chars\n</code></pre>\n\n<p>Display '*' for characters of password:</p>\n\n<pre><code>String password = \"secret123\";\nString padded = String.format(\"%\"+password.length()+\"s\", \"\").replace(' ', '*');\n</code></pre>\n\n<p>output has the same length as the password string:</p>\n\n<pre><code>  secret123\n  *********\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796844,"reputation":21,"user_id":910164,"display_name":"Marlon Tarax"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314207411,"creation_date":1314207411,"answer_id":7179819,"question_id":388461,"body_markdown":"    public static String padLeft(String in, int size, char padChar) {                \r\n        if (in.length() &lt;= size) {\r\n            char[] temp = new char[size];\r\n            /* Llenado Array con el padChar*/\r\n            for(int i =0;i&lt;size;i++){\r\n                temp[i]= padChar;\r\n            }\r\n            int posIniTemp = size-in.length();\r\n            for(int i=0;i&lt;in.length();i++){\r\n                temp[posIniTemp]=in.charAt(i);\r\n                posIniTemp++;\r\n            }            \r\n            return new String(temp);\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How can I pad a String in Java?","body":"<pre><code>public static String padLeft(String in, int size, char padChar) {                \n    if (in.length() &lt;= size) {\n        char[] temp = new char[size];\n        /* Llenado Array con el padChar*/\n        for(int i =0;i&lt;size;i++){\n            temp[i]= padChar;\n        }\n        int posIniTemp = size-in.length();\n        for(int i=0;i&lt;in.length();i++){\n            temp[posIniTemp]=in.charAt(i);\n            posIniTemp++;\n        }            \n        return new String(temp);\n    }\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":926649,"reputation":780,"user_id":957318,"accept_rate":0,"display_name":"fawsha1"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1316626838,"creation_date":1316619945,"answer_id":7502716,"question_id":388461,"body_markdown":"Here is another way to pad to the right:\r\n\r\n    // put the number of spaces, or any character you like, in your paddedString\r\n    \r\n    String paddedString = &quot;--------------------&quot;;\r\n    \r\n    String myStringToBePadded = &quot;I like donuts&quot;;\r\n    \r\n    myStringToBePadded = myStringToBePadded + paddedString.substring(myStringToBePadded.length());\r\n    \r\n    //result:\r\n    myStringToBePadded = &quot;I like donuts-------&quot;;","title":"How can I pad a String in Java?","body":"<p>Here is another way to pad to the right:</p>\n\n<pre><code>// put the number of spaces, or any character you like, in your paddedString\n\nString paddedString = \"--------------------\";\n\nString myStringToBePadded = \"I like donuts\";\n\nmyStringToBePadded = myStringToBePadded + paddedString.substring(myStringToBePadded.length());\n\n//result:\nmyStringToBePadded = \"I like donuts-------\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":2,"creation_date":1621020605,"post_id":7502863,"comment_id":119378823,"body_markdown":"Adding 2.7MB code dependency for just a padding that&#39;s already included in the standard JDK? Seriously.","body":"Adding 2.7MB code dependency for just a padding that&#39;s already included in the standard JDK? Seriously."},{"owner":{"account_id":3033996,"reputation":1064,"user_id":2572505,"accept_rate":56,"display_name":"Dut A."},"score":0,"creation_date":1637432858,"post_id":7502863,"comment_id":123826918,"body_markdown":"Looking at the implementation of these methods in `Guava` source, this stupid short-circuiting makes them almost unusable: `if (string.length() &gt;= minLength) { return string; }`  :(","body":"Looking at the implementation of these methods in <code>Guava</code> source, this stupid short-circuiting makes them almost unusable: <code>if (string.length() &gt;= minLength) { return string; }</code>  :("}],"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":2,"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1316620604,"creation_date":1316620604,"answer_id":7502863,"question_id":388461,"body_markdown":"In [Guava][1], this is easy:\r\n\r\n    Strings.padStart(&quot;string&quot;, 10, &#39; &#39;);\r\n    Strings.padEnd(&quot;string&quot;, 10, &#39; &#39;);\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"How can I pad a String in Java?","body":"<p>In <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>, this is easy:</p>\n\n<pre><code>Strings.padStart(\"string\", 10, ' ');\nStrings.padEnd(\"string\", 10, ' ');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1184144,"reputation":9,"user_id":1158452,"display_name":"Hans Andeweg"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1326975893,"creation_date":1326975893,"answer_id":8925977,"question_id":388461,"body_markdown":"A simple solution would be:\r\n\r\n    package nl;\r\n    public class Padder {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;123&quot; ;\r\n    \t\tSystem.out.println(&quot;#&quot;+(&quot;     &quot; + s).substring(s.length())+&quot;#&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How can I pad a String in Java?","body":"<p>A simple solution would be:</p>\n\n<pre><code>package nl;\npublic class Padder {\n    public static void main(String[] args) {\n        String s = \"123\" ;\n        System.out.println(\"#\"+(\"     \" + s).substring(s.length())+\"#\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":237591,"reputation":26585,"user_id":505893,"accept_rate":83,"display_name":"bluish"},"score":4,"creation_date":1328860354,"post_id":9215633,"comment_id":11615522,"body_markdown":"Pay attention: you inverted functions names; if you run it you&#39;ll see.","body":"Pay attention: you inverted functions names; if you run it you&#39;ll see."},{"owner":{"account_id":223283,"reputation":6093,"user_id":482382,"accept_rate":85,"display_name":"Steven Shaw"},"score":0,"creation_date":1348734880,"post_id":9215633,"comment_id":17010062,"body_markdown":"plus if the original str contains spaces then this doesn&#39;t work","body":"plus if the original str contains spaces then this doesn&#39;t work"},{"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"score":0,"creation_date":1403478484,"post_id":9215633,"comment_id":37660767,"body_markdown":"@StevenShaw If I&#39;m not mistaken, the replace does not target the original `str`, so this is correct.","body":"@StevenShaw If I&#39;m not mistaken, the replace does not target the original <code>str</code>, so this is correct."},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":3,"creation_date":1408536283,"post_id":9215633,"comment_id":39624575,"body_markdown":"By convention you should not use a capital letter for function names.","body":"By convention you should not use a capital letter for function names."},{"owner":{"account_id":51292,"reputation":587,"user_id":153233,"display_name":"Devin Walters"},"score":0,"creation_date":1528478191,"post_id":9215633,"comment_id":88538644,"body_markdown":"Is there a missing conditional on returning the string as is when `(length - str.length())` is `0`? The formatter throws a `FormatFlagsConversionMismatchException` when `%0s` is the format string.","body":"Is there a missing conditional on returning the string as is when <code>(length - str.length())</code> is <code>0</code>? The formatter throws a <code>FormatFlagsConversionMismatchException</code> when <code>%0s</code> is the format string."}],"tags":[],"owner":{"account_id":1236801,"reputation":177,"user_id":1200237,"display_name":"Eduardo"},"comment_count":5,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1538837031,"creation_date":1328808126,"answer_id":9215633,"question_id":388461,"body_markdown":"    public static String LPad(String str, Integer length, char car) {\r\n      return (str + String.format(&quot;%&quot; + length + &quot;s&quot;, &quot;&quot;).replace(&quot; &quot;, String.valueOf(car))).substring(0, length);\r\n    }\r\n\r\n    public static String RPad(String str, Integer length, char car) {\r\n      return (String.format(&quot;%&quot; + length + &quot;s&quot;, &quot;&quot;).replace(&quot; &quot;, String.valueOf(car)) + str).substring(str.length(), length + str.length());\r\n    }\r\n\r\n    LPad(&quot;Hi&quot;, 10, &#39;R&#39;) //gives &quot;RRRRRRRRHi&quot;\r\n    RPad(&quot;Hi&quot;, 10, &#39;R&#39;) //gives &quot;HiRRRRRRRR&quot;\r\n    RPad(&quot;Hi&quot;, 10, &#39; &#39;) //gives &quot;Hi        &quot;\r\n    RPad(&quot;Hi&quot;, 1, &#39; &#39;)  //gives &quot;H&quot;\r\n    //etc...","title":"How can I pad a String in Java?","body":"<pre><code>public static String LPad(String str, Integer length, char car) {\n  return (str + String.format(\"%\" + length + \"s\", \"\").replace(\" \", String.valueOf(car))).substring(0, length);\n}\n\npublic static String RPad(String str, Integer length, char car) {\n  return (String.format(\"%\" + length + \"s\", \"\").replace(\" \", String.valueOf(car)) + str).substring(str.length(), length + str.length());\n}\n\nLPad(\"Hi\", 10, 'R') //gives \"RRRRRRRRHi\"\nRPad(\"Hi\", 10, 'R') //gives \"HiRRRRRRRR\"\nRPad(\"Hi\", 10, ' ') //gives \"Hi        \"\nRPad(\"Hi\", 1, ' ')  //gives \"H\"\n//etc...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213131,"reputation":4400,"user_id":466363,"display_name":"Shimon Doodkin"},"comment_count":0,"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1464875046,"creation_date":1378110581,"answer_id":18568717,"question_id":388461,"body_markdown":"**Something simple:**\r\n\r\nThe value should be a string. convert it to string, if it&#39;s not. Like `&quot;&quot; + 123` or `Integer.toString(123)`\r\n\r\n    // let&#39;s assume value holds the String we want to pad\r\n    String value = &quot;123&quot;;\r\n\r\nSubstring start from the value length char index until end length of padded:\r\n\r\n    String padded=&quot;00000000&quot;.substring(value.length()) + value;\r\n\r\n    // now padded is &quot;00000123&quot;\r\n\r\n**More precise** \r\n    \r\npad right:\r\n\r\n    String padded = value + (&quot;ABCDEFGH&quot;.substring(value.length())); \r\n\r\n    // now padded is &quot;123DEFGH&quot;\r\n    \r\npad left:\r\n\r\n    String padString = &quot;ABCDEFGH&quot;;\r\n    String padded = (padString.substring(0, padString.length() - value.length())) + value;\r\n\r\n    // now padded is &quot;ABCDE123&quot;","title":"How can I pad a String in Java?","body":"<p><strong>Something simple:</strong></p>\n\n<p>The value should be a string. convert it to string, if it's not. Like <code>\"\" + 123</code> or <code>Integer.toString(123)</code></p>\n\n<pre><code>// let's assume value holds the String we want to pad\nString value = \"123\";\n</code></pre>\n\n<p>Substring start from the value length char index until end length of padded:</p>\n\n<pre><code>String padded=\"00000000\".substring(value.length()) + value;\n\n// now padded is \"00000123\"\n</code></pre>\n\n<p><strong>More precise</strong> </p>\n\n<p>pad right:</p>\n\n<pre><code>String padded = value + (\"ABCDEFGH\".substring(value.length())); \n\n// now padded is \"123DEFGH\"\n</code></pre>\n\n<p>pad left:</p>\n\n<pre><code>String padString = \"ABCDEFGH\";\nString padded = (padString.substring(0, padString.length() - value.length())) + value;\n\n// now padded is \"ABCDE123\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2824703,"reputation":789,"user_id":2427585,"accept_rate":80,"display_name":"wkarl"},"score":2,"creation_date":1456395832,"post_id":32276153,"comment_id":58930869,"body_markdown":"This is very inefficient, you should use a StringBuilder","body":"This is very inefficient, you should use a StringBuilder"},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1529022492,"post_id":32276153,"comment_id":88737454,"body_markdown":"Since you already know the length, you should tell the StringBuilder to allocate that much space when you instantiate it.","body":"Since you already know the length, you should tell the StringBuilder to allocate that much space when you instantiate it."},{"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"score":0,"creation_date":1529089501,"post_id":32276153,"comment_id":88764983,"body_markdown":"@Ariel interesting that you mention that because I was just talking to someone else about that today lol.","body":"@Ariel interesting that you mention that because I was just talking to someone else about that today lol."},{"owner":{"account_id":1847575,"reputation":113,"user_id":1674960,"display_name":"Jp Lorandi"},"score":0,"creation_date":1653723728,"post_id":32276153,"comment_id":127924452,"body_markdown":"This is not padding but simple concatenation. You can just use .repeat() or any of the String.format thingies. The whole idea of a pad function is that you give it variable length input and it will return a fixed length output.","body":"This is not padding but simple concatenation. You can just use .repeat() or any of the String.format thingies. The whole idea of a pad function is that you give it variable length input and it will return a fixed length output."},{"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"score":0,"creation_date":1653732693,"post_id":32276153,"comment_id":127925965,"body_markdown":"@JpLorandi you can accomplish this with `padLeft(text, desiredLength - text.length(), &#39; &#39;)`","body":"@JpLorandi you can accomplish this with <code>padLeft(text, desiredLength - text.length(), &#39; &#39;)</code>"}],"tags":[],"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529249081,"creation_date":1440781135,"answer_id":32276153,"question_id":388461,"body_markdown":"A lot of people have some very interesting techniques but I like to keep it simple so I go with this : \r\n\r\n\tpublic static String padRight(String s, int n, char padding){\r\n\t\tStringBuilder builder = new StringBuilder(s.length() + n);\r\n\t\tbuilder.append(s);\r\n\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\tbuilder.append(padding);\r\n\t\t}\r\n\t\treturn builder.toString();\r\n\t}\r\n\t\r\n\tpublic static String padLeft(String s, int n,  char padding) {\r\n\t\tStringBuilder builder = new StringBuilder(s.length() + n);\r\n\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\tbuilder.append(Character.toString(padding));\r\n\t\t}\r\n\t\treturn builder.append(s).toString();\r\n\t}\r\n\t\r\n\tpublic static String pad(String s, int n, char padding){\r\n\t\tStringBuilder pad = new StringBuilder(s.length() + n * 2);\r\n\t\tStringBuilder value = new StringBuilder(n);\r\n\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\tpad.append(padding);\r\n\t\t}\r\n\t\treturn value.append(pad).append(s).append(pad).toString();\r\n\t}","title":"How can I pad a String in Java?","body":"<p>A lot of people have some very interesting techniques but I like to keep it simple so I go with this : </p>\n\n<pre><code>public static String padRight(String s, int n, char padding){\n    StringBuilder builder = new StringBuilder(s.length() + n);\n    builder.append(s);\n    for(int i = 0; i &lt; n; i++){\n        builder.append(padding);\n    }\n    return builder.toString();\n}\n\npublic static String padLeft(String s, int n,  char padding) {\n    StringBuilder builder = new StringBuilder(s.length() + n);\n    for(int i = 0; i &lt; n; i++){\n        builder.append(Character.toString(padding));\n    }\n    return builder.append(s).toString();\n}\n\npublic static String pad(String s, int n, char padding){\n    StringBuilder pad = new StringBuilder(s.length() + n * 2);\n    StringBuilder value = new StringBuilder(n);\n    for(int i = 0; i &lt; n; i++){\n        pad.append(padding);\n    }\n    return value.append(pad).append(s).append(pad).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472477841,"creation_date":1470892173,"answer_id":38887678,"question_id":388461,"body_markdown":"Let&#39;s me leave an answer for some cases that you need to give left/right padding (or prefix/suffix string or spaces) before you concatenate to another string and you don&#39;t want to test length or any if condition.\r\n\r\nThe same to the selected answer, I would prefer the `StringUtils` of Apache Commons but using this way:\r\n\r\n    StringUtils.defaultString(StringUtils.leftPad(myString, 1))\r\n\r\nExplain:\r\n\r\n - `myString`: the string I input, can be null\r\n - `StringUtils.leftPad(myString, 1)`: if string is null, this statement would return null too\r\n - then use `defaultString` to give empty string to prevent concatenate null","title":"How can I pad a String in Java?","body":"<p>Let's me leave an answer for some cases that you need to give left/right padding (or prefix/suffix string or spaces) before you concatenate to another string and you don't want to test length or any if condition.</p>\n\n<p>The same to the selected answer, I would prefer the <code>StringUtils</code> of Apache Commons but using this way:</p>\n\n<pre><code>StringUtils.defaultString(StringUtils.leftPad(myString, 1))\n</code></pre>\n\n<p>Explain:</p>\n\n<ul>\n<li><code>myString</code>: the string I input, can be null</li>\n<li><code>StringUtils.leftPad(myString, 1)</code>: if string is null, this statement would return null too</li>\n<li>then use <code>defaultString</code> to give empty string to prevent concatenate null</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1554129544,"post_id":45044094,"comment_id":97628271,"body_markdown":"You can use [`getChars`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getChars-int-int-char:A-int-) to let the `String` copy its contents directly into the `out` array, instead of calling `source.toCharArray()`, followed by `System.arraycopy`. I’d even consider simplifying the implementation to `char[] out = new char[length]; Arrays.fill(out, 0, length, fill); source.getChars(0, source.length(), out, right? 0: length - source.length()); return new String(out);`; while this looks like `fill` would do more work, it actually allows the JVM to eliminate the default zero-filling.","body":"You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getChars-int-int-char:A-int-\" rel=\"nofollow noreferrer\"><code>getChars</code></a> to let the <code>String</code> copy its contents directly into the <code>out</code> array, instead of calling <code>source.toCharArray()</code>, followed by <code>System.arraycopy</code>. I’d even consider simplifying the implementation to <code>char[] out = new char[length]; Arrays.fill(out, 0, length, fill); source.getChars(0, source.length(), out, right? 0: length - source.length()); return new String(out);</code>; while this looks like <code>fill</code> would do more work, it actually allows the JVM to eliminate the default zero-filling."}],"tags":[],"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499805937,"creation_date":1499805586,"answer_id":45044094,"question_id":388461,"body_markdown":"[@ck][1]&#39;s and [@Marlon Tarak][2]&#39;s answers are the only ones to use a `char[]`, which for applications that have several calls to padding methods per second is the best approach.  However, they don&#39;t take advantage of any array manipulation optimizations and are a little overwritten for my taste; this can be done with *no loops at all*.\r\n\r\n\tpublic static String pad(String source, char fill, int length, boolean right){\r\n\t\tif(source.length() &gt; length) return source;\r\n\t\tchar[] out = new char[length];\r\n\t\tif(right){\r\n\t\t\tSystem.arraycopy(source.toCharArray(), 0, out, 0, source.length());\r\n\t\t\tArrays.fill(out, source.length(), length, fill);\r\n\t\t}else{\r\n\t\t\tint sourceOffset = length - source.length();\r\n\t\t\tSystem.arraycopy(source.toCharArray(), 0, out, sourceOffset, source.length());\r\n\t\t\tArrays.fill(out, 0, sourceOffset, fill);\r\n\t\t}\r\n\t\treturn new String(out);\r\n\t}\r\n\r\nSimple test method:\r\n\r\n\tpublic static void main(String... args){\r\n\t\tSystem.out.println(&quot;012345678901234567890123456789&quot;);\r\n\t\tSystem.out.println(pad(&quot;cats&quot;, &#39; &#39;, 30, true));\r\n\t\tSystem.out.println(pad(&quot;cats&quot;, &#39; &#39;, 30, false));\r\n\t\tSystem.out.println(pad(&quot;cats&quot;, &#39; &#39;, 20, false));\r\n\t\tSystem.out.println(pad(&quot;cats&quot;, &#39;$&#39;, 30, true));\r\n\t\tSystem.out.println(pad(&quot;too long for your own good, buddy&quot;, &#39;#&#39;, 30, true));\r\n\t}\r\n\r\nOutputs:\r\n\r\n\t012345678901234567890123456789\r\n\tcats                          \r\n\t                          cats\r\n\t                cats\r\n\tcats$$$$$$$$$$$$$$$$$$$$$$$$$$\r\n\ttoo long for your own good, buddy \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4043913/2133216\r\n  [2]: https://stackoverflow.com/a/7179819/2133216","title":"How can I pad a String in Java?","body":"<p><a href=\"https://stackoverflow.com/a/4043913/2133216\">@ck</a>'s and <a href=\"https://stackoverflow.com/a/7179819/2133216\">@Marlon Tarak</a>'s answers are the only ones to use a <code>char[]</code>, which for applications that have several calls to padding methods per second is the best approach.  However, they don't take advantage of any array manipulation optimizations and are a little overwritten for my taste; this can be done with <em>no loops at all</em>.</p>\n\n<pre><code>public static String pad(String source, char fill, int length, boolean right){\n    if(source.length() &gt; length) return source;\n    char[] out = new char[length];\n    if(right){\n        System.arraycopy(source.toCharArray(), 0, out, 0, source.length());\n        Arrays.fill(out, source.length(), length, fill);\n    }else{\n        int sourceOffset = length - source.length();\n        System.arraycopy(source.toCharArray(), 0, out, sourceOffset, source.length());\n        Arrays.fill(out, 0, sourceOffset, fill);\n    }\n    return new String(out);\n}\n</code></pre>\n\n<p>Simple test method:</p>\n\n<pre><code>public static void main(String... args){\n    System.out.println(\"012345678901234567890123456789\");\n    System.out.println(pad(\"cats\", ' ', 30, true));\n    System.out.println(pad(\"cats\", ' ', 30, false));\n    System.out.println(pad(\"cats\", ' ', 20, false));\n    System.out.println(pad(\"cats\", '$', 30, true));\n    System.out.println(pad(\"too long for your own good, buddy\", '#', 30, true));\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>012345678901234567890123456789\ncats                          \n                          cats\n                cats\ncats$$$$$$$$$$$$$$$$$$$$$$$$$$\ntoo long for your own good, buddy \n</code></pre>\n"},{"tags":[],"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504216178,"creation_date":1504216178,"answer_id":45990575,"question_id":388461,"body_markdown":"Java oneliners, no fancy library. \r\n\r\n    // 6 characters padding example\r\n    String pad = &quot;******&quot;;\r\n    // testcases for 0, 4, 8 characters\r\n    String input = &quot;&quot; | &quot;abcd&quot; | &quot;abcdefgh&quot;\r\n\r\nPad Left, don&#39;t limit\r\n\r\n    result = pad.substring(Math.min(input.length(),pad.length())) + input;\r\n    results: &quot;******&quot; | &quot;**abcd&quot; | &quot;abcdefgh&quot;\r\n\r\nPad Right, don&#39;t limit\r\n\r\n    result = input + pad.substring(Math.min(input.length(),pad.length()));\r\n    results: &quot;******&quot; | &quot;abcd**&quot; | &quot;abcdefgh&quot;\r\n\r\nPad Left, limit to pad length\r\n\r\n    result = (pad + input).substring(input.length(), input.length() + pad.length());\r\n    results: &quot;******&quot; | &quot;**abcd&quot; | &quot;cdefgh&quot;\r\n\r\nPad Right, limit to pad length\r\n\r\n    result = (input + pad).substring(0, pad.length());\r\n    results: &quot;******&quot; | &quot;abcd**&quot; | &quot;abcdef&quot;\r\n","title":"How can I pad a String in Java?","body":"<p>Java oneliners, no fancy library. </p>\n\n<pre><code>// 6 characters padding example\nString pad = \"******\";\n// testcases for 0, 4, 8 characters\nString input = \"\" | \"abcd\" | \"abcdefgh\"\n</code></pre>\n\n<p>Pad Left, don't limit</p>\n\n<pre><code>result = pad.substring(Math.min(input.length(),pad.length())) + input;\nresults: \"******\" | \"**abcd\" | \"abcdefgh\"\n</code></pre>\n\n<p>Pad Right, don't limit</p>\n\n<pre><code>result = input + pad.substring(Math.min(input.length(),pad.length()));\nresults: \"******\" | \"abcd**\" | \"abcdefgh\"\n</code></pre>\n\n<p>Pad Left, limit to pad length</p>\n\n<pre><code>result = (pad + input).substring(input.length(), input.length() + pad.length());\nresults: \"******\" | \"**abcd\" | \"cdefgh\"\n</code></pre>\n\n<p>Pad Right, limit to pad length</p>\n\n<pre><code>result = (input + pad).substring(0, pad.length());\nresults: \"******\" | \"abcd**\" | \"abcdef\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"score":0,"creation_date":1568963871,"post_id":46212970,"comment_id":102449700,"body_markdown":"This indeed looks like the most efficient way","body":"This indeed looks like the most efficient way"},{"owner":{"account_id":297553,"reputation":2820,"user_id":603136,"accept_rate":84,"display_name":"samwyse"},"score":0,"creation_date":1660339699,"post_id":46212970,"comment_id":129518261,"body_markdown":"public static String lpad(String pString, int pTotalLength, char pPad) { return new String(lpad(pString.toCharArray(), pTotalLength, pPad)); }","body":"public static String lpad(String pString, int pTotalLength, char pPad) { return new String(lpad(pString.toCharArray(), pTotalLength, pPad)); }"}],"tags":[],"owner":{"account_id":3033117,"reputation":111,"user_id":2571738,"display_name":"EarlB"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505373935,"creation_date":1505373935,"answer_id":46212970,"question_id":388461,"body_markdown":"All **string** operation usually needs to be **very efficient** - especially if you are working with big sets of data. I wanted something that&#39;s fast and flexible, similar to what you will get in plsql pad command. Also, I don&#39;t want to include a huge lib for just one small thing. With these considerations none of these solutions were satisfactory. This is the solutions I came up with, that had the best bench-marking results, if anybody can improve on it, please add your comment.\r\n\r\n    public static char[] lpad(char[] pStringChar, int pTotalLength, char pPad) {\r\n        if (pStringChar.length &lt; pTotalLength) {\r\n            char[] retChar = new char[pTotalLength];\r\n            int padIdx = pTotalLength - pStringChar.length;\r\n            Arrays.fill(retChar, 0, padIdx, pPad);\r\n            System.arraycopy(pStringChar, 0, retChar, padIdx, pStringChar.length);\r\n            return retChar;\r\n        } else {\r\n            return pStringChar;\r\n        }\r\n    }\r\n\r\n\r\n- note it is called with String.toCharArray() and the result can be converted to String with new String((char[])result). The reason for this is, if you applying multiple operations you can do them all on char[] and not keep on converting between formats - behind the scenes, String is stored as char[]. If these operations were included in the String class itself, it would have been twice as efficient - speed and memory wise.\r\n","title":"How can I pad a String in Java?","body":"<p>All <strong>string</strong> operation usually needs to be <strong>very efficient</strong> - especially if you are working with big sets of data. I wanted something that's fast and flexible, similar to what you will get in plsql pad command. Also, I don't want to include a huge lib for just one small thing. With these considerations none of these solutions were satisfactory. This is the solutions I came up with, that had the best bench-marking results, if anybody can improve on it, please add your comment.</p>\n\n<pre><code>public static char[] lpad(char[] pStringChar, int pTotalLength, char pPad) {\n    if (pStringChar.length &lt; pTotalLength) {\n        char[] retChar = new char[pTotalLength];\n        int padIdx = pTotalLength - pStringChar.length;\n        Arrays.fill(retChar, 0, padIdx, pPad);\n        System.arraycopy(pStringChar, 0, retChar, padIdx, pStringChar.length);\n        return retChar;\n    } else {\n        return pStringChar;\n    }\n}\n</code></pre>\n\n<ul>\n<li>note it is called with String.toCharArray() and the result can be converted to String with new String((char[])result). The reason for this is, if you applying multiple operations you can do them all on char[] and not keep on converting between formats - behind the scenes, String is stored as char[]. If these operations were included in the String class itself, it would have been twice as efficient - speed and memory wise.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8218326,"reputation":2739,"user_id":6587634,"display_name":"Wong Jia Hau"},"score":1,"creation_date":1535343034,"post_id":46962220,"comment_id":91015084,"body_markdown":"This should be the answer, simple and concise, no need to install external libraries.","body":"This should be the answer, simple and concise, no need to install external libraries."},{"owner":{"account_id":7109208,"reputation":301,"user_id":5437789,"display_name":"TwiXter"},"score":0,"creation_date":1613064567,"post_id":46962220,"comment_id":116967195,"body_markdown":"Works with numeric values, but not for String values: ie, for &quot;A83&quot; it will not work. The 0 after the percent will rase an exception.","body":"Works with numeric values, but not for String values: ie, for &quot;A83&quot; it will not work. The 0 after the percent will rase an exception."}],"tags":[],"owner":{"account_id":123367,"reputation":1413,"user_id":317772,"accept_rate":70,"display_name":"OJVM"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1509045630,"creation_date":1509045630,"answer_id":46962220,"question_id":388461,"body_markdown":"Found this on [Dzone][1]\r\n\r\nPad with zeros:\r\n\r\n    String.format(&quot;|%020d|&quot;, 93); // prints: |00000000000000000093|\r\n\r\n\r\n  [1]: https://dzone.com/articles/java-string-format-examples","title":"How can I pad a String in Java?","body":"<p>Found this on <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"noreferrer\">Dzone</a></p>\n\n<p>Pad with zeros:</p>\n\n<pre><code>String.format(\"|%020d|\", 93); // prints: |00000000000000000093|\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1652494403,"post_id":47568605,"comment_id":127626488,"body_markdown":"Using recursion means you&#39;re open to stack overflows, and it tends to be inefficient (repeated `ch + word` plus function call overhead).","body":"Using recursion means you&#39;re open to stack overflows, and it tends to be inefficient (repeated <code>ch + word</code> plus function call overhead)."}],"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512208316,"creation_date":1512029178,"answer_id":47568605,"question_id":388461,"body_markdown":"Use this function.\r\n\r\n    private String leftPadding(String word, int length, char ch) {\r\n       return (length &gt; word.length()) ? leftPadding(ch + word, length, ch) : word;\r\n    }\r\n\r\nhow to use? \r\n\r\n    leftPadding(month, 2, &#39;0&#39;);\r\n\r\noutput:\r\n01 02 03 04 .. 11 12","title":"How can I pad a String in Java?","body":"<p>Use this function.</p>\n\n<pre><code>private String leftPadding(String word, int length, char ch) {\n   return (length &gt; word.length()) ? leftPadding(ch + word, length, ch) : word;\n}\n</code></pre>\n\n<p>how to use? </p>\n\n<pre><code>leftPadding(month, 2, '0');\n</code></pre>\n\n<p>output:\n01 02 03 04 .. 11 12</p>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":2,"creation_date":1630245415,"post_id":53459347,"comment_id":121898494,"body_markdown":"for padding the number is dependent on the string length. what happen if you don&#39;t need padding (negative number)?","body":"for padding the number is dependent on the string length. what happen if you don&#39;t need padding (negative number)?"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1652494579,"post_id":53459347,"comment_id":127626506,"body_markdown":"@Boaz I [generalized it](https://stackoverflow.com/a/72236825/6243352) so that if the input string happens to be larger than the desired pad size, nothing happens.","body":"@Boaz I <a href=\"https://stackoverflow.com/a/72236825/6243352\">generalized it</a> so that if the input string happens to be larger than the desired pad size, nothing happens."}],"tags":[],"owner":{"account_id":5491566,"reputation":210,"user_id":4364563,"display_name":"Eko Setiawan"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1543071015,"creation_date":1543071015,"answer_id":53459347,"question_id":388461,"body_markdown":"Since Java 11, String.repeat(int) can be used to left/right pad a given string.\r\n\r\n    System.out.println(&quot;*&quot;.repeat(5)+&quot;apple&quot;);\r\n\tSystem.out.println(&quot;apple&quot;+&quot;*&quot;.repeat(5));\r\n\r\nOutput:\r\n\r\n    *****apple\r\n    apple*****","title":"How can I pad a String in Java?","body":"<p>Since Java 11, String.repeat(int) can be used to left/right pad a given string.</p>\n\n<pre><code>System.out.println(\"*\".repeat(5)+\"apple\");\nSystem.out.println(\"apple\"+\"*\".repeat(5));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>*****apple\napple*****\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568919500,"creation_date":1568919500,"answer_id":58017441,"question_id":388461,"body_markdown":"Here&#39;s a parallel version for those of you that have very long Strings :-)\r\n\r\n    int width = 100;\r\n    String s = &quot;129018&quot;;\r\n\r\n    CharSequence padded = IntStream.range(0,width)\r\n                .parallel()\r\n                .map(i-&gt;i-(width-s.length()))\r\n                .map(i-&gt;i&lt;0 ? &#39;0&#39; :s.charAt(i))\r\n                .collect(StringBuilder::new, (sb,c)-&gt; sb.append((char)c), (sb1,sb2)-&gt;sb1.append(sb2));\r\n               ","title":"How can I pad a String in Java?","body":"<p>Here's a parallel version for those of you that have very long Strings :-)</p>\n\n<pre><code>int width = 100;\nString s = \"129018\";\n\nCharSequence padded = IntStream.range(0,width)\n            .parallel()\n            .map(i-&gt;i-(width-s.length()))\n            .map(i-&gt;i&lt;0 ? '0' :s.charAt(i))\n            .collect(StringBuilder::new, (sb,c)-&gt; sb.append((char)c), (sb1,sb2)-&gt;sb1.append(sb2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638950741,"creation_date":1595697164,"answer_id":63091201,"question_id":388461,"body_markdown":"This is an **efficient** utility class for **left pad**, **right pad**, **center pad** and **zero fill** of strings in Java.\r\n\r\n```java\r\npackage com.example;\r\n\r\n/**\r\n * Utility class for left pad, right pad, center pad and zero fill.\r\n */\r\npublic final class StringPadding {\r\n\r\n\tpublic static String left(String string, int length, char fill) {\r\n\r\n\t\tif (string.length() &lt; length) {\r\n\r\n\t\t\tchar[] chars = string.toCharArray();\r\n\t\t\tchar[] output = new char[length];\r\n\r\n\t\t\tint delta = length - chars.length;\r\n\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t\tif (i &lt; delta) {\r\n\t\t\t\t\toutput[i] = fill;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput[i] = chars[i - delta];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new String(output);\r\n\t\t}\r\n\r\n\t\treturn string;\r\n\t}\r\n\r\n\tpublic static String right(String string, int length, char fill) {\r\n\r\n\t\tif (string.length() &lt; length) {\r\n\r\n\t\t\tchar[] chars = string.toCharArray();\r\n\t\t\tchar[] output = new char[length];\r\n\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t\tif (i &lt; chars.length) {\r\n\t\t\t\t\toutput[i] = chars[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput[i] = fill;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new String(output);\r\n\t\t}\r\n\r\n\t\treturn string;\r\n\t}\r\n\r\n\tpublic static String center(String string, int length, char fill) {\r\n\r\n\t\tif (string.length() &lt; length) {\r\n\r\n\t\t\tchar[] chars = string.toCharArray();\r\n\r\n\t\t\tint delta = length - chars.length;\r\n\t\t\tint a = (delta % 2 == 0) ? delta / 2 : delta / 2 + 1;\r\n\t\t\tint b = a + chars.length;\r\n\r\n\t\t\tchar[] output = new char[length];\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t\tif (i &lt; a) {\r\n\t\t\t\t\toutput[i] = fill;\r\n\t\t\t\t} else if (i &lt; b) {\r\n\t\t\t\t\toutput[i] = chars[i - a];\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput[i] = fill;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new String(output);\r\n\t\t}\r\n\r\n\t\treturn string;\r\n\t}\r\n\r\n\tpublic static String zerofill(String string, int length) {\r\n\t\treturn left(string, length, &#39;0&#39;);\r\n\t}\r\n\r\n\tprivate StringPadding() {\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString string = &quot;123&quot;;\r\n\t\tchar blank = &#39; &#39;;\r\n\r\n\t\tSystem.out.println(&quot;left pad:    [&quot; + StringPadding.left(string, 10, blank) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;right pad:   [&quot; + StringPadding.right(string, 10, blank) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;center pad:  [&quot; + StringPadding.center(string, 10, blank) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;zero fill:   [&quot; + StringPadding.zerofill(string, 10) + &quot;]&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```text\r\nleft pad:    [       123]\r\nright pad:   [123       ]\r\ncenter pad:  [    123   ]\r\nzero fill:   [0000000123]\r\n```","title":"How can I pad a String in Java?","body":"<p>This is an <strong>efficient</strong> utility class for <strong>left pad</strong>, <strong>right pad</strong>, <strong>center pad</strong> and <strong>zero fill</strong> of strings in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\n/**\n * Utility class for left pad, right pad, center pad and zero fill.\n */\npublic final class StringPadding {\n\n    public static String left(String string, int length, char fill) {\n\n        if (string.length() &lt; length) {\n\n            char[] chars = string.toCharArray();\n            char[] output = new char[length];\n\n            int delta = length - chars.length;\n\n            for (int i = 0; i &lt; length; i++) {\n                if (i &lt; delta) {\n                    output[i] = fill;\n                } else {\n                    output[i] = chars[i - delta];\n                }\n            }\n\n            return new String(output);\n        }\n\n        return string;\n    }\n\n    public static String right(String string, int length, char fill) {\n\n        if (string.length() &lt; length) {\n\n            char[] chars = string.toCharArray();\n            char[] output = new char[length];\n\n            for (int i = 0; i &lt; length; i++) {\n                if (i &lt; chars.length) {\n                    output[i] = chars[i];\n                } else {\n                    output[i] = fill;\n                }\n            }\n\n            return new String(output);\n        }\n\n        return string;\n    }\n\n    public static String center(String string, int length, char fill) {\n\n        if (string.length() &lt; length) {\n\n            char[] chars = string.toCharArray();\n\n            int delta = length - chars.length;\n            int a = (delta % 2 == 0) ? delta / 2 : delta / 2 + 1;\n            int b = a + chars.length;\n\n            char[] output = new char[length];\n            for (int i = 0; i &lt; length; i++) {\n                if (i &lt; a) {\n                    output[i] = fill;\n                } else if (i &lt; b) {\n                    output[i] = chars[i - a];\n                } else {\n                    output[i] = fill;\n                }\n            }\n\n            return new String(output);\n        }\n\n        return string;\n    }\n\n    public static String zerofill(String string, int length) {\n        return left(string, length, '0');\n    }\n\n    private StringPadding() {\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        String string = &quot;123&quot;;\n        char blank = ' ';\n\n        System.out.println(&quot;left pad:    [&quot; + StringPadding.left(string, 10, blank) + &quot;]&quot;);\n        System.out.println(&quot;right pad:   [&quot; + StringPadding.right(string, 10, blank) + &quot;]&quot;);\n        System.out.println(&quot;center pad:  [&quot; + StringPadding.center(string, 10, blank) + &quot;]&quot;);\n        System.out.println(&quot;zero fill:   [&quot; + StringPadding.zerofill(string, 10) + &quot;]&quot;);\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>left pad:    [       123]\nright pad:   [123       ]\ncenter pad:  [    123   ]\nzero fill:   [0000000123]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652504955,"creation_date":1652494158,"answer_id":72236825,"question_id":388461,"body_markdown":"Generalizing [Eko&#39;s answer](https://stackoverflow.com/a/53459347/6243352) (Java 11+) a bit:\r\n\r\n```java\r\npublic class StringUtils {\r\n    public static String padLeft(String s, char fill, int padSize) {\r\n        if (padSize &lt; 0) {\r\n            var err = &quot;padSize must be &gt;= 0 (was &quot; + padSize + &quot;)&quot;;\r\n            throw new java.lang.IllegalArgumentException(err);\r\n        }\r\n\r\n        int repeats = Math.max(0, padSize - s.length());\r\n        return Character.toString(fill).repeat(repeats) + s;\r\n    }\r\n\r\n    public static String padRight(String s, char fill, int padSize) {\r\n        if (padSize &lt; 0) {\r\n            var err = &quot;padSize must be &gt;= 0 (was &quot; + padSize + &quot;)&quot;;\r\n            throw new java.lang.IllegalArgumentException(err);\r\n        }\r\n\r\n        int repeats = Math.max(0, padSize - s.length());\r\n        return s + Character.toString(fill).repeat(repeats);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(padLeft(&quot;&quot;, &#39;x&#39;, 5)); // =&gt; xxxxx\r\n        System.out.println(padLeft(&quot;1&quot;, &#39;x&#39;, 5)); // =&gt; xxxx1\r\n        System.out.println(padLeft(&quot;12&quot;, &#39;x&#39;, 5)); // =&gt; xxx12\r\n        System.out.println(padLeft(&quot;123&quot;, &#39;x&#39;, 5)); // =&gt; xx123\r\n        System.out.println(padLeft(&quot;1234&quot;, &#39;x&#39;, 5)); // =&gt; x1234\r\n        System.out.println(padLeft(&quot;12345&quot;, &#39;x&#39;, 5)); // =&gt; 12345\r\n        System.out.println(padLeft(&quot;123456&quot;, &#39;x&#39;, 5)); // =&gt; 123456\r\n\r\n        System.out.println(padRight(&quot;&quot;, &#39;x&#39;, 5)); // =&gt; xxxxx\r\n        System.out.println(padRight(&quot;1&quot;, &#39;x&#39;, 5)); // =&gt; 1xxxx\r\n        System.out.println(padRight(&quot;12&quot;, &#39;x&#39;, 5)); // =&gt; 12xxx\r\n        System.out.println(padRight(&quot;123&quot;, &#39;x&#39;, 5)); // =&gt; 123xx\r\n        System.out.println(padRight(&quot;1234&quot;, &#39;x&#39;, 5)); // =&gt; 1234x\r\n        System.out.println(padRight(&quot;12345&quot;, &#39;x&#39;, 5)); // =&gt; 12345\r\n        System.out.println(padRight(&quot;123456&quot;, &#39;x&#39;, 5)); // =&gt; 123456\r\n\r\n        System.out.println(padRight(&quot;1&quot;, &#39;x&#39;, -1)); // =&gt; throws\r\n    }\r\n}\r\n```","title":"How can I pad a String in Java?","body":"<p>Generalizing <a href=\"https://stackoverflow.com/a/53459347/6243352\">Eko's answer</a> (Java 11+) a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringUtils {\n    public static String padLeft(String s, char fill, int padSize) {\n        if (padSize &lt; 0) {\n            var err = &quot;padSize must be &gt;= 0 (was &quot; + padSize + &quot;)&quot;;\n            throw new java.lang.IllegalArgumentException(err);\n        }\n\n        int repeats = Math.max(0, padSize - s.length());\n        return Character.toString(fill).repeat(repeats) + s;\n    }\n\n    public static String padRight(String s, char fill, int padSize) {\n        if (padSize &lt; 0) {\n            var err = &quot;padSize must be &gt;= 0 (was &quot; + padSize + &quot;)&quot;;\n            throw new java.lang.IllegalArgumentException(err);\n        }\n\n        int repeats = Math.max(0, padSize - s.length());\n        return s + Character.toString(fill).repeat(repeats);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(padLeft(&quot;&quot;, 'x', 5)); // =&gt; xxxxx\n        System.out.println(padLeft(&quot;1&quot;, 'x', 5)); // =&gt; xxxx1\n        System.out.println(padLeft(&quot;12&quot;, 'x', 5)); // =&gt; xxx12\n        System.out.println(padLeft(&quot;123&quot;, 'x', 5)); // =&gt; xx123\n        System.out.println(padLeft(&quot;1234&quot;, 'x', 5)); // =&gt; x1234\n        System.out.println(padLeft(&quot;12345&quot;, 'x', 5)); // =&gt; 12345\n        System.out.println(padLeft(&quot;123456&quot;, 'x', 5)); // =&gt; 123456\n\n        System.out.println(padRight(&quot;&quot;, 'x', 5)); // =&gt; xxxxx\n        System.out.println(padRight(&quot;1&quot;, 'x', 5)); // =&gt; 1xxxx\n        System.out.println(padRight(&quot;12&quot;, 'x', 5)); // =&gt; 12xxx\n        System.out.println(padRight(&quot;123&quot;, 'x', 5)); // =&gt; 123xx\n        System.out.println(padRight(&quot;1234&quot;, 'x', 5)); // =&gt; 1234x\n        System.out.println(padRight(&quot;12345&quot;, 'x', 5)); // =&gt; 12345\n        System.out.println(padRight(&quot;123456&quot;, 'x', 5)); // =&gt; 123456\n\n        System.out.println(padRight(&quot;1&quot;, 'x', -1)); // =&gt; throws\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1847575,"reputation":113,"user_id":1674960,"display_name":"Jp Lorandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653725697,"creation_date":1653725697,"answer_id":72414026,"question_id":388461,"body_markdown":"For what it&#39;s worth, I was looking for something that would pad around and then I decided to code it myself. It&#39;s fairly clean and you can easily derive padLeft and padRight from this\r\n\r\n```\r\n    /**\r\n     * Pads around a string, both left and right using pad as the template, aligning to the right or left as indicated.\r\n     * @param a the string to pad on both left and right\r\n     * @param pad the template to pad with, it can be of any size\r\n     * @param width the fixed width to output\r\n     * @param alignRight if true, when the input string is of odd length, adds an extra pad char to the left, so values are right aligned\r\n     *                   otherwise add an extra pad char to the right. When the input is of even length no extra chars will be inserted\r\n     * @return the input param a padded around.\r\n     */\r\n    public static String padAround(String a, String pad, int width, boolean alignRight) {\r\n        if (pad.length() == 0)\r\n            throw new IllegalArgumentException(&quot;Pad cannot be an empty string!&quot;);\r\n        int delta = width - a.length();\r\n        if (delta &lt; 1)\r\n            return a;\r\n        int half = delta / 2;\r\n        int remainder = delta % 2;\r\n        String padding = pad.repeat(((half+remainder)/pad.length()+1)); // repeating the padding to occupy all possible space\r\n        StringBuilder sb = new StringBuilder(width);\r\n//        sb.append( padding.substring(0,half + (alignRight ? 0 : remainder)));\r\n        sb.append(padding, 0, half + (alignRight ? 0 : remainder));\r\n        sb.append(a);\r\n//        sb.append( padding.substring(0,half + (alignRight ? remainder : 0)));\r\n        sb.append(padding, 0, half + (alignRight ? remainder : 0));\r\n\r\n        return sb.toString();\r\n    }\r\n```\r\n\r\nWhile it should be fairly fast it could prolly benefit from using a few finals here and there.","title":"How can I pad a String in Java?","body":"<p>For what it's worth, I was looking for something that would pad around and then I decided to code it myself. It's fairly clean and you can easily derive padLeft and padRight from this</p>\n<pre><code>    /**\n     * Pads around a string, both left and right using pad as the template, aligning to the right or left as indicated.\n     * @param a the string to pad on both left and right\n     * @param pad the template to pad with, it can be of any size\n     * @param width the fixed width to output\n     * @param alignRight if true, when the input string is of odd length, adds an extra pad char to the left, so values are right aligned\n     *                   otherwise add an extra pad char to the right. When the input is of even length no extra chars will be inserted\n     * @return the input param a padded around.\n     */\n    public static String padAround(String a, String pad, int width, boolean alignRight) {\n        if (pad.length() == 0)\n            throw new IllegalArgumentException(&quot;Pad cannot be an empty string!&quot;);\n        int delta = width - a.length();\n        if (delta &lt; 1)\n            return a;\n        int half = delta / 2;\n        int remainder = delta % 2;\n        String padding = pad.repeat(((half+remainder)/pad.length()+1)); // repeating the padding to occupy all possible space\n        StringBuilder sb = new StringBuilder(width);\n//        sb.append( padding.substring(0,half + (alignRight ? 0 : remainder)));\n        sb.append(padding, 0, half + (alignRight ? 0 : remainder));\n        sb.append(a);\n//        sb.append( padding.substring(0,half + (alignRight ? remainder : 0)));\n        sb.append(padding, 0, half + (alignRight ? remainder : 0));\n\n        return sb.toString();\n    }\n</code></pre>\n<p>While it should be fairly fast it could prolly benefit from using a few finals here and there.</p>\n"},{"comments":[{"owner":{"account_id":2641744,"reputation":1155,"user_id":2285234,"display_name":"Zastai"},"score":0,"creation_date":1680874674,"post_id":74837190,"comment_id":133973727,"body_markdown":"This breaks completely on any string containing spaces.","body":"This breaks completely on any string containing spaces."}],"tags":[],"owner":{"display_name":"user16728667"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671307943,"creation_date":1671307943,"answer_id":74837190,"question_id":388461,"body_markdown":"s = String to pad &lt;br&gt;\r\nn = Desired length &lt;br&gt;\r\nc = Char to pad\r\n\r\n    private String padStart( String s, int n, char c ){\r\n        if( n &lt;= 0 ) return s;\r\n        else return String.format(&quot;%&quot; + n + &quot;s&quot;, s).replace(&#39; &#39;, c);\r\n    }","title":"How can I pad a String in Java?","body":"<p>s = String to pad <br>\nn = Desired length <br>\nc = Char to pad</p>\n<pre><code>private String padStart( String s, int n, char c ){\n    if( n &lt;= 0 ) return s;\n    else return String.format(&quot;%&quot; + n + &quot;s&quot;, s).replace(' ', c);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":2,"creation_date":1678103808,"post_id":75229823,"comment_id":133462604,"body_markdown":"This is *very* inefficient!","body":"This is <i>very</i> inefficient!"},{"owner":{"account_id":13908538,"reputation":208,"user_id":10042324,"display_name":"C.B."},"score":0,"creation_date":1691434093,"post_id":75229823,"comment_id":135488378,"body_markdown":"but it is very straightforward","body":"but it is very straightforward"}],"tags":[],"owner":{"account_id":22322728,"reputation":111,"user_id":16545155,"display_name":"Darcy Sutton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674622528,"creation_date":1674622528,"answer_id":75229823,"question_id":388461,"body_markdown":"Writing your own function for this is probably simpler than other answers.\r\n\r\n    private static String padRight(String str, String padChar, int n) {\r\n\r\n        String paddedString = str;\r\n\r\n        while (paddedString.length() &lt; n) {\r\n\r\n            paddedString = padChar + str;\r\n\r\n        }\r\n\r\n        return paddedString;\r\n\r\n    }\r\n\r\n    private static String padLeft(String str, String padChar, int n) {\r\n\r\n        String paddedString = str;\r\n\r\n        while (paddedString.length() &lt; n) {\r\n\r\n            paddedString += padChar;\r\n\r\n        }\r\n\r\n        return paddedString;\r\n\r\n    }","title":"How can I pad a String in Java?","body":"<p>Writing your own function for this is probably simpler than other answers.</p>\n<pre><code>private static String padRight(String str, String padChar, int n) {\n\n    String paddedString = str;\n\n    while (paddedString.length() &lt; n) {\n\n        paddedString = padChar + str;\n\n    }\n\n    return paddedString;\n\n}\n\nprivate static String padLeft(String str, String padChar, int n) {\n\n    String paddedString = str;\n\n    while (paddedString.length() &lt; n) {\n\n        paddedString += padChar;\n\n    }\n\n    return paddedString;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5649129,"reputation":163,"user_id":4470352,"display_name":"Francisco M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699967567,"creation_date":1699967567,"answer_id":77480875,"question_id":388461,"body_markdown":"For a quick and dirty test you can use this:\r\n\r\n    String myString = &quot;hello&quot;;\r\n\tfor(;myString.length() &lt; 32; hello = &quot;0&quot; + hello); //pad left\r\n\tfor(;myString.length() &lt; 32; hello += &quot;0&quot;); //pad rigth\r\n\r\nI found it usefull printing a long value in a binary representation:\r\n\r\n\tString wildCardBinaryString = Long.toBinaryString(255);\r\n\tfor(;wildCardBinaryString.length() &lt; 32; wildCardBinaryString = &quot;0&quot; + wildCardBinaryString);\r\n    System.out.println(String.format(&quot;|%s|&quot;, Long.toBinaryString(wildcard)));\r\n\r\nIt prints:\r\n\r\n    |00000000000000000000000011111111|\r\n","title":"How can I pad a String in Java?","body":"<p>For a quick and dirty test you can use this:</p>\n<pre><code>String myString = &quot;hello&quot;;\nfor(;myString.length() &lt; 32; hello = &quot;0&quot; + hello); //pad left\nfor(;myString.length() &lt; 32; hello += &quot;0&quot;); //pad rigth\n</code></pre>\n<p>I found it usefull printing a long value in a binary representation:</p>\n<pre><code>String wildCardBinaryString = Long.toBinaryString(255);\nfor(;wildCardBinaryString.length() &lt; 32; wildCardBinaryString = &quot;0&quot; + wildCardBinaryString);\nSystem.out.println(String.format(&quot;|%s|&quot;, Long.toBinaryString(wildcard)));\n</code></pre>\n<p>It prints:</p>\n<pre><code>|00000000000000000000000011111111|\n</code></pre>\n"}],"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719755,"favorite_count":0,"down_vote_count":2,"up_vote_count":507,"accepted_answer_id":388476,"answer_count":32,"score":505,"last_activity_date":1699967567,"creation_date":1230023723,"question_id":388461,"body_markdown":"Is there some easy way to pad Strings in Java?\r\n\r\nSeems like something that should be in some StringUtil-like API, but I can&#39;t find anything that does this.","title":"How can I pad a String in Java?","body":"<p>Is there some easy way to pad Strings in Java?</p>\n\n<p>Seems like something that should be in some StringUtil-like API, but I can't find anything that does this.</p>\n"},{"tags":["java","linux","java-web-start"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1365807516,"post_id":15979191,"comment_id":22784343,"body_markdown":"`sudo /usr/sbin/alternatives --config java` … or is it `update-alternatives`? I can&#39;t remember","body":"<code>sudo &#47;usr&#47;sbin&#47;alternatives --config java</code> … or is it <code>update-alternatives</code>? I can&#39;t remember"}],"answers":[{"comments":[{"owner":{"account_id":538250,"reputation":14477,"user_id":903137,"accept_rate":71,"display_name":"Ashish"},"score":0,"creation_date":1366056316,"post_id":15984731,"comment_id":22856573,"body_markdown":"I don&#39;t understand &quot;what distribution you are using&quot;. I have specified all the details about operating system and java version and I can not let my client to run program using javaws.","body":"I don&#39;t understand &quot;what distribution you are using&quot;. I have specified all the details about operating system and java version and I can not let my client to run program using javaws."},{"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"score":0,"creation_date":1366058304,"post_id":15984731,"comment_id":22857456,"body_markdown":"@Ashish, too bad you not trying to answer what you are asked and hurry with -1. I don&#39;t feel like motivated to help you. FYI kernel version is not everything, firefox does not mean much without a version. Different distros have different libraries so sometimes same version of program/kernel/java behave differently. You not telling anything about what you&#39;re seeing in your browser trying to open app. Good luck..","body":"@Ashish, too bad you not trying to answer what you are asked and hurry with -1. I don&#39;t feel like motivated to help you. FYI kernel version is not everything, firefox does not mean much without a version. Different distros have different libraries so sometimes same version of program/kernel/java behave differently. You not telling anything about what you&#39;re seeing in your browser trying to open app. Good luck.."}],"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365832205,"creation_date":1365832205,"answer_id":15984731,"question_id":15979191,"body_markdown":"You don&#39;t say what distribution you are using. Try installing openjdk icedtea-web, the latter being a web start implementation and a browser plug-in.\r\n\r\nYou don&#39;t have to be using the browser plug-in. You can open the file with the &quot;javaws&quot; program.","title":"issue with starting java web start application on linux","body":"<p>You don't say what distribution you are using. Try installing openjdk icedtea-web, the latter being a web start implementation and a browser plug-in.</p>\n\n<p>You don't have to be using the browser plug-in. You can open the file with the \"javaws\" program.</p>\n"},{"tags":[],"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394777267,"creation_date":1394777267,"answer_id":22397448,"question_id":15979191,"body_markdown":"\r\nI have good solution from [this][1] \r\n\r\n&gt; So after a good long time not being able to play this Facebook game\r\n&gt; we’re building for P2P-related research, which runs on Java Web Start,\r\n&gt; I finally got pissed today and sat down and finally got to the bottom\r\n&gt; of it.\r\n&gt; \r\n&gt; Because Java isn’t free technology and all that, OpenSUSE actually\r\n&gt; comes preinstalled with OpenJDK instead of the common version of Java\r\n&gt; distributed by Sun. With this default configuration, Web Start (JNLP)\r\n&gt; files on the internet will open by default in an open implementation\r\n&gt; of Java Web Start called ‘IcedTea Web Start’, which I hear works\r\n&gt; reasonably well – but outright doesn’t work for some cases, like mine.\r\n&gt; \r\n&gt; For people who, like me, need to run Sun’s version of Web Start from\r\n&gt; Firefox – first, you need to grab and install Sun’s version of the\r\n&gt; Java runtime using your software package manager (in OpenSUSE the\r\n&gt; package is called java-1_6_0-sun). Verify that you have a program\r\n&gt; called ‘javaws’ after this step. You can simply type ‘javaws’ into an\r\n&gt; open terminal and make sure it is recognized as Java(TM) Web Start.\r\n&gt; \r\n&gt; Okay, next all we need to do is get Firefox to use javaws when opening\r\n&gt; **JNLP files.** For other distros you’d go to **Edit &gt; Preferences &gt;**\r\n&gt; Applications in Firefox, look for JNLP, and change the setting so it\r\n&gt; uses javaws. On OpenSUSE, Firefox is integrated so it takes its\r\n&gt; file-association settings directly from KDE. So you’ll have to instead\r\n&gt; go to KDE’s systemsettings (Configure Desktop) &gt; Advanced Tab &gt; File\r\n&gt; Associations. Here, run a search for JNLP, then add ‘/usr/bin/javaws’\r\n&gt; to the top of the Application Preference Order.\r\n&gt; \r\n&gt; We’re done! Next time you open a JNLP Web Start file in Firefox, it\r\n&gt; should offer to use Sun’s Java Web Start to open it :)\r\n\r\nUseful Link: [how to run jnlp files under ubuntu][1]\r\n\r\n\r\n  [1]: http://yuenhoe.com/blog/2010/03/working-with-java-web-start-jnlp-in-firefoxopensuse-and-linux-in-general/","title":"issue with starting java web start application on linux","body":"<p>I have good solution from <a href=\"http://yuenhoe.com/blog/2010/03/working-with-java-web-start-jnlp-in-firefoxopensuse-and-linux-in-general/\" rel=\"nofollow\">this</a> </p>\n\n<blockquote>\n  <p>So after a good long time not being able to play this Facebook game\n  we’re building for P2P-related research, which runs on Java Web Start,\n  I finally got pissed today and sat down and finally got to the bottom\n  of it.</p>\n  \n  <p>Because Java isn’t free technology and all that, OpenSUSE actually\n  comes preinstalled with OpenJDK instead of the common version of Java\n  distributed by Sun. With this default configuration, Web Start (JNLP)\n  files on the internet will open by default in an open implementation\n  of Java Web Start called ‘IcedTea Web Start’, which I hear works\n  reasonably well – but outright doesn’t work for some cases, like mine.</p>\n  \n  <p>For people who, like me, need to run Sun’s version of Web Start from\n  Firefox – first, you need to grab and install Sun’s version of the\n  Java runtime using your software package manager (in OpenSUSE the\n  package is called java-1_6_0-sun). Verify that you have a program\n  called ‘javaws’ after this step. You can simply type ‘javaws’ into an\n  open terminal and make sure it is recognized as Java(TM) Web Start.</p>\n  \n  <p>Okay, next all we need to do is get Firefox to use javaws when opening\n  <strong>JNLP files.</strong> For other distros you’d go to <strong>Edit > Preferences ></strong>\n  Applications in Firefox, look for JNLP, and change the setting so it\n  uses javaws. On OpenSUSE, Firefox is integrated so it takes its\n  file-association settings directly from KDE. So you’ll have to instead\n  go to KDE’s systemsettings (Configure Desktop) > Advanced Tab > File\n  Associations. Here, run a search for JNLP, then add ‘/usr/bin/javaws’\n  to the top of the Application Preference Order.</p>\n  \n  <p>We’re done! Next time you open a JNLP Web Start file in Firefox, it\n  should offer to use Sun’s Java Web Start to open it :)</p>\n</blockquote>\n\n<p>Useful Link: <a href=\"http://yuenhoe.com/blog/2010/03/working-with-java-web-start-jnlp-in-firefoxopensuse-and-linux-in-general/\" rel=\"nofollow\">how to run jnlp files under ubuntu</a></p>\n"}],"owner":{"account_id":538250,"reputation":14477,"user_id":903137,"accept_rate":71,"display_name":"Ashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8093,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699966845,"creation_date":1365794221,"question_id":15979191,"body_markdown":"Operating System: Linux version 2.6.18-308.1.1.el5 (mockbuild@x86-002.build.bos.redhat.com) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-52)) #1 SMP Fri Feb 17 16:47:13 EST 2012               \r\n\r\n    Java Version: Match: digest selected JREDesc: JREDesc[version 1.6+, heap=134217728-536870912, args=-ea, href=null, sel=false, null, null], JREInfo: JREInfo for index 0:\r\n        platform is: 1.7\r\n        product is: 1.7.0_17\r\n        location is: http://java.sun.com/products/autodl/j2se\r\n        path is: /usr/java/jre1.7.0_17/bin/java\r\n\r\nTried with Mozilla Firefox. \r\n\r\nProblem: Unable to start the java web start application for JRE 1.7.0, even though I am using the deployment toolkit.\r\n\r\n- source for html for JRE 7.0: deployJava.createWebStartLaunchButton(url,&#39;1.7.0&#39;);\r\n- source for html for JRE 6.0: deployJava.createWebStartLaunchButton(url,&#39;1.6.0&#39;);\r\n\r\nNote:&lt;/br&gt;\r\nThe application runs perfectly fine in a Windows environment, and Linux is running the 1.6 version just fine. I also noticed the default JRE of the machine is still 1.6.0, even though I have installed JRE 1.7.0 using RPM from [here][1] and when I am trying to install now it is saying that the JRE is already installed. \r\n\r\nUpdate: I have updated the default JRE, now it shows JRE 1.7.0\r\n\r\n    [root@L3FMV80 defaults]# java -version\r\n    java version &quot;1.7.0_17&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_17-b02)\r\n    Java HotSpot(TM) Client VM (build 23.7-b01, mixed mode, sharing)\r\n    \r\n    [root@L3FMV80 Downloads]# rpm -ivh jre-7u17-linux-i586.rpm \r\n    Preparing...                ########################################### [100%]\r\n            package jre-1.7.0_17-fcs.i586 is already installed\r\n\r\n\r\n  [1]: http://java.com/en/download/linux_manual.jsp?host=java.com","title":"issue with starting java web start application on linux","body":"<p>Operating System: Linux version 2.6.18-308.1.1.el5 (mockbuild@x86-002.build.bos.redhat.com) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-52)) #1 SMP Fri Feb 17 16:47:13 EST 2012               </p>\n\n<pre><code>Java Version: Match: digest selected JREDesc: JREDesc[version 1.6+, heap=134217728-536870912, args=-ea, href=null, sel=false, null, null], JREInfo: JREInfo for index 0:\n    platform is: 1.7\n    product is: 1.7.0_17\n    location is: http://java.sun.com/products/autodl/j2se\n    path is: /usr/java/jre1.7.0_17/bin/java\n</code></pre>\n\n<p>Tried with Mozilla Firefox. </p>\n\n<p>Problem: Unable to start the java web start application for JRE 1.7.0, even though I am using the deployment toolkit.</p>\n\n<ul>\n<li>source for html for JRE 7.0: deployJava.createWebStartLaunchButton(url,'1.7.0');</li>\n<li>source for html for JRE 6.0: deployJava.createWebStartLaunchButton(url,'1.6.0');</li>\n</ul>\n\n<p>Note:\nThe application runs perfectly fine in a Windows environment, and Linux is running the 1.6 version just fine. I also noticed the default JRE of the machine is still 1.6.0, even though I have installed JRE 1.7.0 using RPM from <a href=\"http://java.com/en/download/linux_manual.jsp?host=java.com\" rel=\"nofollow\">here</a> and when I am trying to install now it is saying that the JRE is already installed. </p>\n\n<p>Update: I have updated the default JRE, now it shows JRE 1.7.0</p>\n\n<pre><code>[root@L3FMV80 defaults]# java -version\njava version \"1.7.0_17\"\nJava(TM) SE Runtime Environment (build 1.7.0_17-b02)\nJava HotSpot(TM) Client VM (build 23.7-b01, mixed mode, sharing)\n\n[root@L3FMV80 Downloads]# rpm -ivh jre-7u17-linux-i586.rpm \nPreparing...                ########################################### [100%]\n        package jre-1.7.0_17-fcs.i586 is already installed\n</code></pre>\n"},{"tags":["python","java","apache-spark","pyspark","pydeequ"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699485201,"post_id":77447330,"comment_id":136539416,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29856909,"reputation":1,"user_id":22881548,"display_name":"user22881548"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699965766,"creation_date":1699965766,"answer_id":77480687,"question_id":77447330,"body_markdown":"Now, It is working properly.\r\n\r\nDuring spark session creation I was importing pydeeque package and JDBC Driver package into spark.jars.package object, so pydeequ was overrided by jdbc,  hence *&quot;JAVA package not callable&quot;* error was coming.\r\n\r\nINCORRECT CODE :-\r\n\r\n    \r\n    spark = SparkSession.builder \\\r\n        .appName(&quot;AppName&quot;) \\\r\n        .config(&quot;spark.jars.packages&quot;, pydeequ.deequ_maven_coord) \\\r\n        .config(&quot;spark.jars.excludes&quot;, pydeequ.f2j_maven_coord) \\\r\n        .config(&quot;spark.jars.packages&quot;, &quot;org.postgresql:postgresql:42.6.0&quot;) \\\r\n        .getOrCreate()\r\n\r\nthen I tried adding two packages into spark.jar\r\n\r\n.config(&quot;spark.jars.packages&quot;, &#39;path/package1, path/package2&#39;)\r\n but it didn&#39;t worked.\r\n\r\nLastly I added postgresql jars path to the spark.jars, and now it is working perfectly.\r\n\r\nCORRECT CODE :-\r\n\r\n        `spark = SparkSession.builder \\\r\n        .appName(&quot;AppName&quot;) \\\r\n        .config(&quot;spark.jars.packages&quot;, pydeequ.deequ_maven_coord) \\\r\n        .config(&quot;spark.jars.excludes&quot;, pydeequ.f2j_maven_coord) \\\r\n        .config(&quot;spark.jars&quot;, &quot;https://jdbc.postgresql.org/download/postgresql-42.6.0.jar&quot;) \\\r\n        .getOrCreate()`\r\n\r\n","title":"what will be the PySpark version compatibility for jdk@11, python 3.9, pydeequ 1.1.1 for mac OS?","body":"<p>Now, It is working properly.</p>\n<p>During spark session creation I was importing pydeeque package and JDBC Driver package into spark.jars.package object, so pydeequ was overrided by jdbc,  hence <em>&quot;JAVA package not callable&quot;</em> error was coming.</p>\n<p>INCORRECT CODE :-</p>\n<pre><code>spark = SparkSession.builder \\\n    .appName(&quot;AppName&quot;) \\\n    .config(&quot;spark.jars.packages&quot;, pydeequ.deequ_maven_coord) \\\n    .config(&quot;spark.jars.excludes&quot;, pydeequ.f2j_maven_coord) \\\n    .config(&quot;spark.jars.packages&quot;, &quot;org.postgresql:postgresql:42.6.0&quot;) \\\n    .getOrCreate()\n</code></pre>\n<p>then I tried adding two packages into spark.jar</p>\n<p>.config(&quot;spark.jars.packages&quot;, 'path/package1, path/package2')\nbut it didn't worked.</p>\n<p>Lastly I added postgresql jars path to the spark.jars, and now it is working perfectly.</p>\n<p>CORRECT CODE :-</p>\n<pre><code>    `spark = SparkSession.builder \\\n    .appName(&quot;AppName&quot;) \\\n    .config(&quot;spark.jars.packages&quot;, pydeequ.deequ_maven_coord) \\\n    .config(&quot;spark.jars.excludes&quot;, pydeequ.f2j_maven_coord) \\\n    .config(&quot;spark.jars&quot;, &quot;https://jdbc.postgresql.org/download/postgresql-42.6.0.jar&quot;) \\\n    .getOrCreate()`\n</code></pre>\n"}],"owner":{"account_id":29856909,"reputation":1,"user_id":22881548,"display_name":"user22881548"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699965766,"creation_date":1699461012,"question_id":77447330,"body_markdown":"In my current project, I&#39;m continuously getting &quot;JAVA package not callable&quot; error.\r\n\r\nspark session created.\r\nconnected to postgresql db using jdbc driver.\r\nable to load the complete data\r\n\r\nbut when I&#39;m adding deequ analyzer then getting &quot;java package&quot; load issue.\r\n\r\ntried versions using :- java@11, python@3.9, pyspark@3.2.1/pyspark@3.3.0, pydeequ@1.1.1\r\n\r\nMay I know which version should I use for all these?\r\nNote: I&#39;m using PyCharm IDE .","title":"what will be the PySpark version compatibility for jdk@11, python 3.9, pydeequ 1.1.1 for mac OS?","body":"<p>In my current project, I'm continuously getting &quot;JAVA package not callable&quot; error.</p>\n<p>spark session created.\nconnected to postgresql db using jdbc driver.\nable to load the complete data</p>\n<p>but when I'm adding deequ analyzer then getting &quot;java package&quot; load issue.</p>\n<p>tried versions using :- java@11, python@3.9, pyspark@3.2.1/pyspark@3.3.0, pydeequ@1.1.1</p>\n<p>May I know which version should I use for all these?\nNote: I'm using PyCharm IDE .</p>\n"},{"tags":["java","flowable"],"answers":[{"tags":[],"owner":{"account_id":7476488,"reputation":341,"user_id":5682770,"display_name":"Valentin Zickner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699965517,"creation_date":1699965517,"answer_id":77480664,"question_id":77479091,"body_markdown":"The tasks are in the same process instance, this is why the first query returns both. The variable is however not task scoped, it&#39;s execution scoped and there is no filter for execution scope on the level of a task query, that&#39;s why the second approach doesn&#39;t work.\r\n\r\nIt is recommended to search either by a business attribute like assignee or category.","title":"Task Query with Element Variable in Flowable","body":"<p>The tasks are in the same process instance, this is why the first query returns both. The variable is however not task scoped, it's execution scoped and there is no filter for execution scope on the level of a task query, that's why the second approach doesn't work.</p>\n<p>It is recommended to search either by a business attribute like assignee or category.</p>\n"}],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699965517,"creation_date":1699949895,"question_id":77479091,"body_markdown":"I have a workflow with a sub-process running in parallel.\r\n\r\n[![Bpmn workflow with sub process][1]][1]\r\n\r\nThe relevant xml look like that:\r\n```xml\r\n&lt;process id=&quot;hello&quot; name=&quot;Hello&quot; isExecutable=&quot;true&quot; flowable:candidateStarterGroups=&quot;flowableUser&quot;&gt;\r\n    &lt;subProcess id=&quot;subProcess&quot; name=&quot;Parallel Sub Process&quot;&gt;\r\n      &lt;multiInstanceLoopCharacteristics isSequential=&quot;false&quot; flowable:collection=&quot;insurers&quot; flowable:elementVariable=&quot;insurerId&quot;&gt;\r\n      &lt;/multiInstanceLoopCharacteristics&gt;\r\n```\r\n\r\nThe workflow is started with a process variable ‘insurers’ containing a set of ifs.\r\n\r\n```java\r\nString start(Set&lt;String&gt; insurers) {\r\n    var process = runtimeService.startProcessInstanceByKey(&quot;hello&quot;, Map.of(INSURERS, insurers));\r\n    return process.getProcessInstanceId();\r\n}\r\n```\r\n\r\nThe sub-process is configured as follow:\r\n\r\n[![sub process configuration][2]][2]\r\n\r\nI.e., every element of the collection instantiates a sub-process.\r\n\r\nHow can I query the user task by searching the element variable.\r\n\r\nI tried the following:\r\n\r\n\r\n 1. Querying the process variable\r\n\r\n```java\r\nvoid completeTask(String processInstanceId, String insurerId){\r\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\r\n        .processInstanceId(processInstanceId)\r\n        .processVariableValueEquals(INSURER_ID, insurerId)\r\n        .list();\r\n```\r\n\r\n2. Querying with task variable\r\n\r\n\r\n```java\r\nvoid completeTask(String processInstanceId, String insurerId){\r\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\r\n        .processInstanceId(processInstanceId)\r\n        .taskVariableValueEquals(INSURER_ID, insurerId)\r\n        .list();\r\n```\r\nThis doesn’t return any task.\r\n\r\n3. Querying by hand\r\nThat last one works, but is not really how I would like to solve the problem\r\n\r\n```java\r\nvoid completeTask(String processInstanceId, String insurerId){\r\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\r\n        .processInstanceId(processInstanceId)\r\n        .processVariableValueEquals(INSURER_ID, insurerId)\r\n        .list()\r\n        .stream().filter(task -&gt; {\r\n            Object variable = taskService.getVariable(task.getId(), INSURER_ID);\r\n            return Objects.equals(variable, insurerId);\r\n         })\r\n         .toList() ;\r\n```\r\n\r\nSo how can I query an element variable?\r\n\r\n  [1]: https://i.stack.imgur.com/2M0Kf.png\r\n  [2]: https://i.stack.imgur.com/NGuYB.png","title":"Task Query with Element Variable in Flowable","body":"<p>I have a workflow with a sub-process running in parallel.</p>\n<p><a href=\"https://i.stack.imgur.com/2M0Kf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2M0Kf.png\" alt=\"Bpmn workflow with sub process\" /></a></p>\n<p>The relevant xml look like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;process id=&quot;hello&quot; name=&quot;Hello&quot; isExecutable=&quot;true&quot; flowable:candidateStarterGroups=&quot;flowableUser&quot;&gt;\n    &lt;subProcess id=&quot;subProcess&quot; name=&quot;Parallel Sub Process&quot;&gt;\n      &lt;multiInstanceLoopCharacteristics isSequential=&quot;false&quot; flowable:collection=&quot;insurers&quot; flowable:elementVariable=&quot;insurerId&quot;&gt;\n      &lt;/multiInstanceLoopCharacteristics&gt;\n</code></pre>\n<p>The workflow is started with a process variable ‘insurers’ containing a set of ifs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String start(Set&lt;String&gt; insurers) {\n    var process = runtimeService.startProcessInstanceByKey(&quot;hello&quot;, Map.of(INSURERS, insurers));\n    return process.getProcessInstanceId();\n}\n</code></pre>\n<p>The sub-process is configured as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/NGuYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGuYB.png\" alt=\"sub process configuration\" /></a></p>\n<p>I.e., every element of the collection instantiates a sub-process.</p>\n<p>How can I query the user task by searching the element variable.</p>\n<p>I tried the following:</p>\n<ol>\n<li>Querying the process variable</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>void completeTask(String processInstanceId, String insurerId){\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\n        .processInstanceId(processInstanceId)\n        .processVariableValueEquals(INSURER_ID, insurerId)\n        .list();\n</code></pre>\n<ol start=\"2\">\n<li>Querying with task variable</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>void completeTask(String processInstanceId, String insurerId){\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\n        .processInstanceId(processInstanceId)\n        .taskVariableValueEquals(INSURER_ID, insurerId)\n        .list();\n</code></pre>\n<p>This doesn’t return any task.</p>\n<ol start=\"3\">\n<li>Querying by hand\nThat last one works, but is not really how I would like to solve the problem</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>void completeTask(String processInstanceId, String insurerId){\n    List&lt;Task&gt; tasks = taskService.createTaskQuery()\n        .processInstanceId(processInstanceId)\n        .processVariableValueEquals(INSURER_ID, insurerId)\n        .list()\n        .stream().filter(task -&gt; {\n            Object variable = taskService.getVariable(task.getId(), INSURER_ID);\n            return Objects.equals(variable, insurerId);\n         })\n         .toList() ;\n</code></pre>\n<p>So how can I query an element variable?</p>\n"},{"tags":["java","mongodb","architecture"],"answers":[{"tags":[],"owner":{"account_id":6881690,"reputation":66,"user_id":5288207,"display_name":"LNorth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699965402,"creation_date":1699959857,"answer_id":77480102,"question_id":77480060,"body_markdown":"If there is a guarantee that the size will not exceed the document maximum it&#39;s always possible to store the actual picture as a binary. \r\n\r\nSee this thread for further reading regarding both gridFS and storing as binary:\r\n\r\nhttps://www.mongodb.com/community/forums/t/process-of-storing-images-in-mongodb/15093\r\n\r\n","title":"Storing pictures using MongoDB","body":"<p>If there is a guarantee that the size will not exceed the document maximum it's always possible to store the actual picture as a binary.</p>\n<p>See this thread for further reading regarding both gridFS and storing as binary:</p>\n<p><a href=\"https://www.mongodb.com/community/forums/t/process-of-storing-images-in-mongodb/15093\" rel=\"nofollow noreferrer\">https://www.mongodb.com/community/forums/t/process-of-storing-images-in-mongodb/15093</a></p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699959926,"creation_date":1699959926,"answer_id":77480109,"question_id":77480060,"body_markdown":"It&#39;s most feasible to store image hashes or names in the database that will identify the actual files. So if you need to refresh an image you can do that via file changes rather than database updates.\r\n\r\nYou can also store the images in the database directly, but then you will not be able to separate the database from the images. If you only have the references in the database, then you can store the images at one storage place and the database at another.","title":"Storing pictures using MongoDB","body":"<p>It's most feasible to store image hashes or names in the database that will identify the actual files. So if you need to refresh an image you can do that via file changes rather than database updates.</p>\n<p>You can also store the images in the database directly, but then you will not be able to separate the database from the images. If you only have the references in the database, then you can store the images at one storage place and the database at another.</p>\n"}],"owner":{"account_id":15828861,"reputation":13,"user_id":17708778,"display_name":"Denis  Konev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700158986,"accepted_answer_id":77480102,"answer_count":2,"score":-1,"last_activity_date":1699965402,"creation_date":1699959524,"question_id":77480060,"body_markdown":"I am currently facing a challenge assigned by my superior.\r\nThe task at hand involves the storage of a substantial volume of images, each approximately 10 MB in size, and the subsequent delivery of these images to clients upon request via web browsers. The preferred technological stack for this endeavor is Java in combination with MongoDB.\r\nUpon initial review, it seems that I have two primary options to consider:\r\n\r\n**Option #1:**\r\nStoring the images directly in MongoDB using gridFS.\r\n\r\n**Option #2:**\r\nStoring the images on a filesystem and utilizing the database to store indices and other related metadata.\r\n\r\nI would greatly appreciate any insights or suggestions on this matter. If feasible, please also provide links to any similar projects for reference.\r\nThank you in advance for your assistance.\r\n\r\n\r\nHaven&#39;t tried anything yet. Just trying to figure out what is the best solution here.","title":"Storing pictures using MongoDB","body":"<p>I am currently facing a challenge assigned by my superior.\nThe task at hand involves the storage of a substantial volume of images, each approximately 10 MB in size, and the subsequent delivery of these images to clients upon request via web browsers. The preferred technological stack for this endeavor is Java in combination with MongoDB.\nUpon initial review, it seems that I have two primary options to consider:</p>\n<p><strong>Option #1:</strong>\nStoring the images directly in MongoDB using gridFS.</p>\n<p><strong>Option #2:</strong>\nStoring the images on a filesystem and utilizing the database to store indices and other related metadata.</p>\n<p>I would greatly appreciate any insights or suggestions on this matter. If feasible, please also provide links to any similar projects for reference.\nThank you in advance for your assistance.</p>\n<p>Haven't tried anything yet. Just trying to figure out what is the best solution here.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":23912798,"reputation":41,"user_id":17909548,"display_name":"L&#234; Trần Ph&#250;"},"score":0,"creation_date":1699962224,"post_id":77479742,"comment_id":136593795,"body_markdown":"I appreciate your help, but I think you misunderstood my question. I have successfully used the delete() on a Firestore to remove the user document from the Users collection. But what I&#39;m trying to do is to find a way to remove the user&#39;s account from Firebase Authentication, that&#39;s what I&#39;m trying to do. If you please provide further help, that would be great","body":"I appreciate your help, but I think you misunderstood my question. I have successfully used the delete() on a Firestore to remove the user document from the Users collection. But what I&#39;m trying to do is to find a way to remove the user&#39;s account from Firebase Authentication, that&#39;s what I&#39;m trying to do. If you please provide further help, that would be great"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699963249,"post_id":77479742,"comment_id":136593973,"body_markdown":"As mentioned at the beginning of my answer, you call `delete()` on the `FirebaseUser` object. So please check my updated answer. Does it work as expected?","body":"As mentioned at the beginning of my answer, you call <code>delete()</code> on the <code>FirebaseUser</code> object. So please check my updated answer. Does it work as expected?"},{"owner":{"account_id":23912798,"reputation":41,"user_id":17909548,"display_name":"L&#234; Trần Ph&#250;"},"score":0,"creation_date":1699963956,"post_id":77479742,"comment_id":136594102,"body_markdown":"It works if I try to delete my own account when logged in. Is there any way I can delete other people&#39;s accounts as admin, I have a list of accounts in the recycler view. I&#39;m trying to implement the delete method to let admin delete other people&#39;s account","body":"It works if I try to delete my own account when logged in. Is there any way I can delete other people&#39;s accounts as admin, I have a list of accounts in the recycler view. I&#39;m trying to implement the delete method to let admin delete other people&#39;s account"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699965382,"post_id":77479742,"comment_id":136594349,"body_markdown":"Please check again my updated answer.","body":"Please check again my updated answer."},{"owner":{"account_id":23912798,"reputation":41,"user_id":17909548,"display_name":"L&#234; Trần Ph&#250;"},"score":1,"creation_date":1699966609,"post_id":77479742,"comment_id":136594604,"body_markdown":"I appreciate your kind help. This help","body":"I appreciate your kind help. This help"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699965282,"creation_date":1699956624,"answer_id":77479742,"question_id":77479652,"body_markdown":"When you call [delete()][1] on a [FirebaseUser][2] to delete the user from Firebase Authentication, it doesn&#39;t mean that the data that exists in Firestore will also be deleted. No, you have to write code for that, because those operations are not related in any way.\r\n\r\nThere are three ways in which you can solve this problem.\r\n\r\n1. As soon as the operation for deleting the user from Firebase Authentication completes successfully, you have to create a reference on the client that points to the [document][3] that corresponds to the user and then you call [delete()][4], to wipe user data from Firestore.\r\n\r\n2. You create a [Cloud Function for Firebase][5] that does that for you.\r\n\r\n3. If you don&#39;t want to write code for that, then you can use a Firebase Exception called [Firestore User Document][6] which:\r\n\r\n&gt; Creates a document in a specified Firestore collection whenever a new user is created in Firebase Authentication. The document is populated with fields that you select from the user record. You can also choose to delete the user&#39;s document when the user is deleted from Firebase Authentication.\r\n\r\nIt&#39;s up to you to choose which solution is more convenient for you.\r\n\r\n**Edit:**\r\n\r\nTo delete the user from Firestore and from the Firebase Authentication, please use the following lines of Java code:\r\n\r\n    FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n    if (firebaseUser != null) {\r\n        String uid = firebaseUser.getUid();\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(&quot;users&quot;).document(uid).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; userDocDeleteTask) {\r\n                if (userDocDeleteTask.isSuccessful()) {\r\n                    Log.d(TAG, &quot;User document successfully deleted from Firestore.&quot;);\r\n                    firebaseUser.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; firebaseUserDeleteTask) {\r\n                            if (firebaseUserDeleteTask.isSuccessful()) {\r\n                                Log.d(TAG, &quot;User document successfully deleted from Firebase Authentication.&quot;);\r\n                            } else {\r\n                                Log.d(TAG, firebaseUserDeleteTask.getException().getMessage());\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    Log.d(TAG, userDocDeleteTask.getException().getMessage());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n**Edit2:**\r\n\r\nAccording to your last comment, the above operation will indeed work only to delete the logged-in user. However, anything else would be a huge security risk, as it would allow users of your app to delete each other&#39;s accounts. This will never be possible from the client-side perspective.\r\n\r\nOn the other hand, the [Admin SDKs][7] for Firebase Authentication are designed to be used in a trusted environment, like a server that you control or Cloud [Functions for Firebase][5]. Because of that, they can perform certain operations that the client-side SDKs don&#39;t, such as [deleting user accounts][8] by using their UID.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#delete()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#delete()\r\n  [5]: https://firebase.google.com/docs/functions\r\n  [6]: https://extensions.dev/extensions/rowy/firestore-user-document\r\n  [7]: https://firebase.google.com/docs/auth/admin/\r\n  [8]: https://firebase.google.com/docs/auth/admin/manage-users#delete_a_user","title":"Firebase Authentication Account removal","body":"<p>When you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#delete()\" rel=\"nofollow noreferrer\">delete()</a> on a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">FirebaseUser</a> to delete the user from Firebase Authentication, it doesn't mean that the data that exists in Firestore will also be deleted. No, you have to write code for that, because those operations are not related in any way.</p>\n<p>There are three ways in which you can solve this problem.</p>\n<ol>\n<li><p>As soon as the operation for deleting the user from Firebase Authentication completes successfully, you have to create a reference on the client that points to the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\" rel=\"nofollow noreferrer\">document</a> that corresponds to the user and then you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#delete()\" rel=\"nofollow noreferrer\">delete()</a>, to wipe user data from Firestore.</p>\n</li>\n<li><p>You create a <a href=\"https://firebase.google.com/docs/functions\" rel=\"nofollow noreferrer\">Cloud Function for Firebase</a> that does that for you.</p>\n</li>\n<li><p>If you don't want to write code for that, then you can use a Firebase Exception called <a href=\"https://extensions.dev/extensions/rowy/firestore-user-document\" rel=\"nofollow noreferrer\">Firestore User Document</a> which:</p>\n</li>\n</ol>\n<blockquote>\n<p>Creates a document in a specified Firestore collection whenever a new user is created in Firebase Authentication. The document is populated with fields that you select from the user record. You can also choose to delete the user's document when the user is deleted from Firebase Authentication.</p>\n</blockquote>\n<p>It's up to you to choose which solution is more convenient for you.</p>\n<p><strong>Edit:</strong></p>\n<p>To delete the user from Firestore and from the Firebase Authentication, please use the following lines of Java code:</p>\n<pre><code>FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\nif (firebaseUser != null) {\n    String uid = firebaseUser.getUid();\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    db.collection(&quot;users&quot;).document(uid).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; userDocDeleteTask) {\n            if (userDocDeleteTask.isSuccessful()) {\n                Log.d(TAG, &quot;User document successfully deleted from Firestore.&quot;);\n                firebaseUser.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; firebaseUserDeleteTask) {\n                        if (firebaseUserDeleteTask.isSuccessful()) {\n                            Log.d(TAG, &quot;User document successfully deleted from Firebase Authentication.&quot;);\n                        } else {\n                            Log.d(TAG, firebaseUserDeleteTask.getException().getMessage());\n                        }\n                    }\n                });\n            } else {\n                Log.d(TAG, userDocDeleteTask.getException().getMessage());\n            }\n        }\n    });\n}\n</code></pre>\n<p><strong>Edit2:</strong></p>\n<p>According to your last comment, the above operation will indeed work only to delete the logged-in user. However, anything else would be a huge security risk, as it would allow users of your app to delete each other's accounts. This will never be possible from the client-side perspective.</p>\n<p>On the other hand, the <a href=\"https://firebase.google.com/docs/auth/admin/\" rel=\"nofollow noreferrer\">Admin SDKs</a> for Firebase Authentication are designed to be used in a trusted environment, like a server that you control or Cloud <a href=\"https://firebase.google.com/docs/functions\" rel=\"nofollow noreferrer\">Functions for Firebase</a>. Because of that, they can perform certain operations that the client-side SDKs don't, such as <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#delete_a_user\" rel=\"nofollow noreferrer\">deleting user accounts</a> by using their UID.</p>\n"}],"owner":{"account_id":23912798,"reputation":41,"user_id":17909548,"display_name":"L&#234; Trần Ph&#250;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77479742,"answer_count":1,"score":0,"last_activity_date":1699965282,"creation_date":1699955772,"question_id":77479652,"body_markdown":"I&#39;m trying to remove a Firebase Authentication account in my Android Java app. I have the account info in both Firebase Authentication and Firestore. Firestore removal is okay with me, but the Firebase Authentication removal is problematic.\r\nSo I&#39;m trying to display all the users to a RecyclerView, and when I click remove, the user will get removed from both the Firebase Auth and Firestore. I looked up online and saw the `getUserByEmail()` method from the FirebaseAuth but cannot use it. Please help, thank you.","title":"Firebase Authentication Account removal","body":"<p>I'm trying to remove a Firebase Authentication account in my Android Java app. I have the account info in both Firebase Authentication and Firestore. Firestore removal is okay with me, but the Firebase Authentication removal is problematic.\nSo I'm trying to display all the users to a RecyclerView, and when I click remove, the user will get removed from both the Firebase Auth and Firestore. I looked up online and saw the <code>getUserByEmail()</code> method from the FirebaseAuth but cannot use it. Please help, thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9855,"page":62,"page_size":100}
