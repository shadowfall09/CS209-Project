{"items":[{"tags":["java","apache-spark","rdd"],"owner":{"account_id":11077445,"reputation":503,"user_id":8133719,"accept_rate":50,"display_name":"zero_yu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680081534,"creation_date":1680033661,"question_id":75870574,"body_markdown":"I have some code like this:\r\n\r\n    JavaPairRDD A = JavaPairRDD B;\r\n    B.persist(StorageLevel.MEMORY_AND_DISK())\r\n\r\nLater, variable A might or might not be reassigned to the transformation from another JavaPairRDD. If A is not reassigned, will Spark know that it should leverage what B persists in memory when A needs to be transformed?  \r\n\r\n","title":"Java Apache Spark RDD persist","body":"<p>I have some code like this:</p>\n<pre><code>JavaPairRDD A = JavaPairRDD B;\nB.persist(StorageLevel.MEMORY_AND_DISK())\n</code></pre>\n<p>Later, variable A might or might not be reassigned to the transformation from another JavaPairRDD. If A is not reassigned, will Spark know that it should leverage what B persists in memory when A needs to be transformed?</p>\n"},{"tags":["java","ajax","api","post","weblogic"],"answers":[{"tags":[],"owner":{"account_id":28007631,"reputation":1195,"user_id":21390763,"display_name":"dodrg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680081331,"creation_date":1680080351,"answer_id":75875115,"question_id":75874521,"body_markdown":"You omit the required HTML header:\r\n\r\nThe first line of output must declare the data that follows.  \r\nThis line has to be followed by an empty line.\r\n\r\nAs you probably want your visitor to download the file, your script should\r\nissue as the first line (followed by an empty line):\r\n```\r\nContent-Disposition: attachment; filename=mytest.csv\r\n\r\n```\r\n\r\nSample script:\r\n\r\n```\r\n#!/bin/sh\r\necho &#39;Content-Disposition: attachment; filename=&quot;Official Filename.csv&quot;\r\n&#39;\r\ncat &quot;./internal_filename.csv&quot;\r\n```\r\n","title":"Unable to Send a large CSV through AJAX POST call","body":"<p>You omit the required HTML header:</p>\n<p>The first line of output must declare the data that follows.<br />\nThis line has to be followed by an empty line.</p>\n<p>As you probably want your visitor to download the file, your script should\nissue as the first line (followed by an empty line):</p>\n<pre><code>Content-Disposition: attachment; filename=mytest.csv\n\n</code></pre>\n<p>Sample script:</p>\n<pre><code>#!/bin/sh\necho 'Content-Disposition: attachment; filename=&quot;Official Filename.csv&quot;\n'\ncat &quot;./internal_filename.csv&quot;\n</code></pre>\n"}],"owner":{"account_id":16630336,"reputation":1,"user_id":12018322,"display_name":"Sohom Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680081331,"creation_date":1680076326,"question_id":75874521,"body_markdown":"Trying to perform an ajax post call for an existing software which is running on weblogic. I am trying to send a csv through a post callwhich will be hit a java api file. But due to the file being large(1.96MB approx) it is throwing 500 internal server and is not hitting the java class. Any suggestions on how to work on this issue.\r\n\r\nI have already studied the Weblogic logs, and found the attached [log](https://i.stack.imgur.com/LmGtC.jpg)\r\n\r\nAny suggestion will be helpful!!","title":"Unable to Send a large CSV through AJAX POST call","body":"<p>Trying to perform an ajax post call for an existing software which is running on weblogic. I am trying to send a csv through a post callwhich will be hit a java api file. But due to the file being large(1.96MB approx) it is throwing 500 internal server and is not hitting the java class. Any suggestions on how to work on this issue.</p>\n<p>I have already studied the Weblogic logs, and found the attached <a href=\"https://i.stack.imgur.com/LmGtC.jpg\" rel=\"nofollow noreferrer\">log</a></p>\n<p>Any suggestion will be helpful!!</p>\n"},{"tags":["java","maven","dependency-management"],"owner":{"account_id":18862535,"reputation":25,"user_id":13759032,"display_name":"kevkev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680081222,"creation_date":1680064391,"question_id":75873154,"body_markdown":"I have maven dependency A which has `com.google.common` as a submodule (transitive dependency?) \r\n\r\nHowever it seems the version under dependency A is quite old, so it&#39;s missing some interfaces. On the other hand, I have the most recent `com.google.guava` package which also has `com.google.common`.\r\n\r\nThe issue seems to arise after building/running the target jar. I get an error that looks like:\r\n\r\n```\r\njava.lang.IllegalAccessError: class com.google.common.collect.AbstractListMultimap cannot access its abstract superclass com.google.common.collect.AbstractMapBasedMultimap (com.google.common.collect.AbstractListMultimap is in unnamed module of loader java.net.URLClassLoader @6368386a; com.google.common.collect.AbstractMapBasedMultimap is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nbecause I believe the compiler tries to use the module from dependency A as the super class for the `AbstractListMultiMap` from the guava dependency, which doesn&#39;t work, since they are in different modules. Note that `AbstractListMultiMap` is not present at all under dependency A.\r\n\r\nIs there any way to essentially only use `com.google.guava` ? I tried excluding transitive dependencies from dependency A, but I&#39;m not sure if there are any &quot;transitive dependencies&quot;. The pom for dependency A just looks like: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0&lt;/version&gt;\r\n  &lt;description&gt;DreamBot 3&#39;s client&lt;/description&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy current `pom.xml` for my project looks like:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n...\r\n\r\n    &lt;!-- dependencies --&gt;\r\n    &lt;dependencies&gt;\r\n\r\n...\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;!-- build jar file with dependencies --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;dep-included&lt;/shadedClassifierName&gt;\r\n                    &lt;outputDirectory&gt;${dreambot.path}/Scripts&lt;/outputDirectory&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n                    \r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;m also using maven-shade-plugin to package everything into an uber jar, so I&#39;m guessing it chooses one of the classes for conflicting classnames, leading to the issue.\r\n\r\nI tried excluding all transitive dependencies from dependency A, but not sure if there are any to exclude. I also tried reordering some of the dependencies in the pom.xml, but that didn&#39;t seem to change much.\r\n\r\nI require both dependencies in the project as they are both critical.","title":"Maven dependencies try to reference each other in different module (IllegalAccessError:class &lt;classname&gt; cannot access its abstract superclass)","body":"<p>I have maven dependency A which has <code>com.google.common</code> as a submodule (transitive dependency?)</p>\n<p>However it seems the version under dependency A is quite old, so it's missing some interfaces. On the other hand, I have the most recent <code>com.google.guava</code> package which also has <code>com.google.common</code>.</p>\n<p>The issue seems to arise after building/running the target jar. I get an error that looks like:</p>\n<pre><code>java.lang.IllegalAccessError: class com.google.common.collect.AbstractListMultimap cannot access its abstract superclass com.google.common.collect.AbstractMapBasedMultimap (com.google.common.collect.AbstractListMultimap is in unnamed module of loader java.net.URLClassLoader @6368386a; com.google.common.collect.AbstractMapBasedMultimap is in unnamed module of loader 'app')\n</code></pre>\n<p>because I believe the compiler tries to use the module from dependency A as the super class for the <code>AbstractListMultiMap</code> from the guava dependency, which doesn't work, since they are in different modules. Note that <code>AbstractListMultiMap</code> is not present at all under dependency A.</p>\n<p>Is there any way to essentially only use <code>com.google.guava</code> ? I tried excluding transitive dependencies from dependency A, but I'm not sure if there are any &quot;transitive dependencies&quot;. The pom for dependency A just looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\n  &lt;artifactId&gt;client&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;description&gt;DreamBot 3's client&lt;/description&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My current <code>pom.xml</code> for my project looks like:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n...\n\n    &lt;!-- dependencies --&gt;\n    &lt;dependencies&gt;\n\n...\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n...\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\n            &lt;artifactId&gt;client&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;*&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;!-- build jar file with dependencies --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;dep-included&lt;/shadedClassifierName&gt;\n                    &lt;outputDirectory&gt;${dreambot.path}/Scripts&lt;/outputDirectory&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n                    \n\n&lt;/project&gt;\n</code></pre>\n<p>I'm also using maven-shade-plugin to package everything into an uber jar, so I'm guessing it chooses one of the classes for conflicting classnames, leading to the issue.</p>\n<p>I tried excluding all transitive dependencies from dependency A, but not sure if there are any to exclude. I also tried reordering some of the dependencies in the pom.xml, but that didn't seem to change much.</p>\n<p>I require both dependencies in the project as they are both critical.</p>\n"},{"tags":["java","spring","spring-boot","redis","jackson"],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680081041,"creation_date":1680040018,"question_id":75871339,"body_markdown":"I am wondering if there is any way to create RedisTemplate using Jackson2JsonRedisSerializer or other JSON serializer without passing class type for serialization? (I am using jackson and ObjectMapper by default) \r\n\r\nI don&#39;t want to create RedisTemplate for every type I want to use \r\n","title":"How to create custom RedisTemplate for multiple serialization classes?","body":"<p>I am wondering if there is any way to create RedisTemplate using Jackson2JsonRedisSerializer or other JSON serializer without passing class type for serialization? (I am using jackson and ObjectMapper by default)</p>\n<p>I don't want to create RedisTemplate for every type I want to use</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1438265257,"post_id":31696549,"comment_id":51388126,"body_markdown":"This does not seem to be possible: http://stackoverflow.com/questions/29095754/can-jackson-serializationfeature-be-overridden-per-field-or-class","body":"This does not seem to be possible: <a href=\"http://stackoverflow.com/questions/29095754/can-jackson-serializationfeature-be-overridden-per-field-or-class\" title=\"can jackson serializationfeature be overridden per field or class\">stackoverflow.com/questions/29095754/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1438677501,"creation_date":1438352968,"answer_id":31748653,"question_id":31696549,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nAs stated by @AlexeyGavrilov, it does not seem to be possible: https://stackoverflow.com/a/29133209/1225328. A workaround could be to create a custom `JsonSerializer`:\r\n\r\n    public class SingleElementCollectionsUnwrapper extends JsonSerializer&lt;Object&gt; {\r\n  \r\n      @Override\r\n      public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\r\n        if (!serializers.getConfig().isEnabled(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED)) {\r\n          new ObjectMapper().enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED).writeValue(gen, value);\r\n        } else {\r\n          gen.writeObject(value);\r\n        }\r\n      }\r\n  \r\n    }\r\n\r\nThen, annotate the `links` field with `@JsonSerialize`:\r\n\r\n    @JsonProperty(&quot;_links&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    @JsonSerialize(using = SingleElementCollectionsUnwrapper.class)\r\n    private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();","title":"How to apply a Jackson SerializationFeature on one field?","body":"\n\n<p>As stated by @AlexeyGavrilov, it does not seem to be possible: <a href=\"https://stackoverflow.com/a/29133209/1225328\">https://stackoverflow.com/a/29133209/1225328</a>. A workaround could be to create a custom <code>JsonSerializer</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SingleElementCollectionsUnwrapper extends JsonSerializer&lt;Object&gt; {\n\n  @Override\n  public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n    if (!serializers.getConfig().isEnabled(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED)) {\n      new ObjectMapper().enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED).writeValue(gen, value);\n    } else {\n      gen.writeObject(value);\n    }\n  }\n\n}\n</code></pre>\n\n<p>Then, annotate the <code>links</code> field with <code>@JsonSerialize</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(\"_links\")\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@JsonSerialize(using = SingleElementCollectionsUnwrapper.class)\nprivate final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6887415,"reputation":11,"user_id":5292074,"display_name":"Stu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680081031,"creation_date":1680081031,"answer_id":75875230,"question_id":31696549,"body_markdown":"It appears additional functionality was added to Jackson 2.6 to allow you to apply this feature to a single field using the @JsonFormat annotation:\r\n\r\n        @JsonProperty(&quot;_links&quot;)\r\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n        @JsonFormat(with = {Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY,Feature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED})\r\n       private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\r\n\r\n","title":"How to apply a Jackson SerializationFeature on one field?","body":"<p>It appears additional functionality was added to Jackson 2.6 to allow you to apply this feature to a single field using the @JsonFormat annotation:</p>\n<pre><code>    @JsonProperty(&quot;_links&quot;)\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n    @JsonFormat(with = {Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY,Feature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED})\n   private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":1353785,"reputation":3716,"user_id":1292605,"accept_rate":100,"display_name":"Pith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3081,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31748653,"answer_count":2,"score":3,"last_activity_date":1680081031,"creation_date":1438162406,"question_id":31696549,"body_markdown":"Given the following POJO, I would like to apply `SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED` on the `links` field ONLY.\r\n\r\n    public class HalRepresentation {\r\n    \r\n       @JsonProperty(&quot;_links&quot;)\r\n       @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n       private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\r\n    \r\n        @JsonProperty(&quot;_embedded&quot;)\r\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n        private final Map&lt;String, Object&gt; embedded = new HashMap&lt;String, Object&gt;();\r\n    \r\n        protected HalRepresentation() {\r\n        }\r\n\r\n        public Map&lt;String, List&lt;Link&gt;&gt; getLinks() {\r\n            return links;\r\n        }\r\n        public Map&lt;String, Object&gt; getEmbedded() {\r\n            return embedded;\r\n        }\r\n    }\r\n\r\nI tried to serialize it as follows:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()\r\n        .enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED);\r\n    try {\r\n        outputStream.write(objectMapper.writeValueAsBytes(halRepresentation));\r\n        outputStream.flush();\r\n    } catch (JsonProcessingException e) {\r\n        throw new IllegalStateException(e);\r\n    }\r\n\r\nBut when I do this the unwrap feature is also applied on the `embedded` field. I tried to find an equivalent annotation for `WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED`, but I can&#39;t find one. Do you have an idea for this using Jackson ?","title":"How to apply a Jackson SerializationFeature on one field?","body":"<p>Given the following POJO, I would like to apply <code>SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED</code> on the <code>links</code> field ONLY.</p>\n\n<pre><code>public class HalRepresentation {\n\n   @JsonProperty(\"_links\")\n   @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n   private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n\n    @JsonProperty(\"_embedded\")\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n    private final Map&lt;String, Object&gt; embedded = new HashMap&lt;String, Object&gt;();\n\n    protected HalRepresentation() {\n    }\n\n    public Map&lt;String, List&lt;Link&gt;&gt; getLinks() {\n        return links;\n    }\n    public Map&lt;String, Object&gt; getEmbedded() {\n        return embedded;\n    }\n}\n</code></pre>\n\n<p>I tried to serialize it as follows:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n    .enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED);\ntry {\n    outputStream.write(objectMapper.writeValueAsBytes(halRepresentation));\n    outputStream.flush();\n} catch (JsonProcessingException e) {\n    throw new IllegalStateException(e);\n}\n</code></pre>\n\n<p>But when I do this the unwrap feature is also applied on the <code>embedded</code> field. I tried to find an equivalent annotation for <code>WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED</code>, but I can't find one. Do you have an idea for this using Jackson ?</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1680082340,"post_id":75875219,"comment_id":133835335,"body_markdown":"Are there perhaps pending exceptions on the stack? In particular, have you enabled the checking JNI layer to make sure everything else is okay?","body":"Are there perhaps pending exceptions on the stack? In particular, have you enabled the checking JNI layer to make sure everything else is okay?"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1680099018,"post_id":75875219,"comment_id":133839971,"body_markdown":"Reinforcing what @Botje stated:  if `arrayList` is `NULL` in your posted code, `(*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);` is going to throw a `NullPointerException`.  You can&#39;t call an object method on a `null` object.","body":"Reinforcing what @Botje stated:  if <code>arrayList</code> is <code>NULL</code> in your posted code, <code>(*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);</code> is going to throw a <code>NullPointerException</code>.  You can&#39;t call an object method on a <code>null</code> object."},{"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"score":0,"creation_date":1680105162,"post_id":75875219,"comment_id":133841948,"body_markdown":"arrayList is not NULL, the first element of the arrayList is NULL","body":"arrayList is not NULL, the first element of the arrayList is NULL"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1680252916,"post_id":75875219,"comment_id":133870258,"body_markdown":"Another unlikely guess: did somebody change the definition of the NULL macro from under you? The Android JNI implementation checks for equality to a `nullptr` of the right type.","body":"Another unlikely guess: did somebody change the definition of the NULL macro from under you? The Android JNI implementation checks for equality to a <code>nullptr</code> of the right type."},{"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"score":0,"creation_date":1680413318,"post_id":75875219,"comment_id":133892606,"body_markdown":"We have checked that, we don&#39;t see any modifications","body":"We have checked that, we don&#39;t see any modifications"}],"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1680080965,"creation_date":1680080965,"question_id":75875219,"body_markdown":"The purpose is to compare a byte array against the NULL value\r\n\r\n    jmethodID midGet = (*env)-&gt;GetMethodID(env, classArrayList, &quot;get&quot;, &quot;(I)Ljava/lang/Object;&quot;);\r\n    jbyteArray arr = (*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);\r\n    if (!(*env)-&gt;IsSameObject(env, arr, NULL)) {\r\n        // Always falls in here when testing with Android 13\r\n        // For Android &lt;13, this block is not executed\r\n    }\r\n\r\narrayList is passed in from Java layer\r\n\r\n    ArrayList&lt;byte[]&gt; arrayList = new ArrayList&lt;&gt;();\r\n    arrayList.add(null);\r\n\r\nThe IsSameObject method returns unexpected value in Android 13. Please help me figure out. Thanks!","title":"JNI IsSameObject method returns wrong value in Android 13","body":"<p>The purpose is to compare a byte array against the NULL value</p>\n<pre><code>jmethodID midGet = (*env)-&gt;GetMethodID(env, classArrayList, &quot;get&quot;, &quot;(I)Ljava/lang/Object;&quot;);\njbyteArray arr = (*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);\nif (!(*env)-&gt;IsSameObject(env, arr, NULL)) {\n    // Always falls in here when testing with Android 13\n    // For Android &lt;13, this block is not executed\n}\n</code></pre>\n<p>arrayList is passed in from Java layer</p>\n<pre><code>ArrayList&lt;byte[]&gt; arrayList = new ArrayList&lt;&gt;();\narrayList.add(null);\n</code></pre>\n<p>The IsSameObject method returns unexpected value in Android 13. Please help me figure out. Thanks!</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1498813286,"post_id":44842568,"comment_id":76665342,"body_markdown":"Well, is that `anyObject()` supposed to be a `Map` or a `BatchWriteItemRequest`?","body":"Well, is that <code>anyObject()</code> supposed to be a <code>Map</code> or a <code>BatchWriteItemRequest</code>?"},{"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"score":0,"creation_date":1498814880,"post_id":44842568,"comment_id":76666332,"body_markdown":"I misread the 2nd signature - for some reason I was reading it as 2 parameters, a map and a list instead","body":"I misread the 2nd signature - for some reason I was reading it as 2 parameters, a map and a list instead"}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1498813710,"creation_date":1498813710,"answer_id":44842737,"question_id":44842568,"body_markdown":"You have two methods with the same name and return type, each with one parameter. So `anyObject()` matches both of them. That&#39;s why you get the `batchWriteItem is ambiguous` message.\r\n\r\nYou could use `Mockito.any(Class&lt;T&gt; type)` and `Mockito.anyMapOf(Class&lt;K&gt; keyClazz, Class&lt;V&gt; valueClazz)` to distinguish between them.\r\n\r\nDocs for reference: [any](https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#any(java.lang.Class)), [anyMapOf](https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#anyMapOf(java.lang.Class,%20java.lang.Class))","title":"Mockito ambiguous method call","body":"<p>You have two methods with the same name and return type, each with one parameter. So <code>anyObject()</code> matches both of them. That's why you get the <code>batchWriteItem is ambiguous</code> message.</p>\n\n<p>You could use <code>Mockito.any(Class&lt;T&gt; type)</code> and <code>Mockito.anyMapOf(Class&lt;K&gt; keyClazz, Class&lt;V&gt; valueClazz)</code> to distinguish between them.</p>\n\n<p>Docs for reference: <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#any(java.lang.Class)\" rel=\"noreferrer\">any</a>, <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#anyMapOf(java.lang.Class,%20java.lang.Class)\" rel=\"noreferrer\">anyMapOf</a></p>\n"},{"tags":[],"owner":{"account_id":3752379,"reputation":29,"user_id":3119589,"display_name":"DinDin"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1578499312,"creation_date":1578499312,"answer_id":59649617,"question_id":44842568,"body_markdown":"For me, using `isA()` fixed the issue. \r\n\r\nDocs : [IsA][1]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#isA(java.lang.Class)","title":"Mockito ambiguous method call","body":"<p>For me, using <code>isA()</code> fixed the issue. </p>\n\n<p>Docs : <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#isA(java.lang.Class)\" rel=\"nofollow noreferrer\">IsA</a></p>\n"}],"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25433,"favorite_count":0,"down_vote_count":4,"up_vote_count":21,"accepted_answer_id":44842737,"answer_count":2,"score":17,"last_activity_date":1680080520,"creation_date":1498813160,"question_id":44842568,"body_markdown":"I&#39;m trying to stub out a method call, e.g.\r\n\r\n    when(amazonDynamoDBClient.batchWriteItem(anyObject())).thenReturn(batchWriteItemResultMock);\r\n\r\nI get this error\r\n\r\n    Error:(198, 34) java: reference to batchWriteItem is ambiguous\r\n      both method batchWriteItem(com.amazonaws.services.dynamodbv2.model.BatchWriteItemRequest) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient and method batchWriteItem(java.util.Map&lt;java.lang.String,java.util.List&lt;com.amazonaws.services.dynamodbv2.model.WriteRequest&gt;&gt;) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient match\r\n\r\nI can&#39;t see how this is ambiguous - the method signatures are different, i.e.\r\n\r\n    public BatchWriteItemResult batchWriteItem(BatchWriteItemRequest request) {\r\n\r\nand\r\n\r\n    public BatchWriteItemResult batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems) {\r\n\r\nWhat am I doing wrong here?\r\n\r\n","title":"Mockito ambiguous method call","body":"<p>I'm trying to stub out a method call, e.g.</p>\n<pre><code>when(amazonDynamoDBClient.batchWriteItem(anyObject())).thenReturn(batchWriteItemResultMock);\n</code></pre>\n<p>I get this error</p>\n<pre><code>Error:(198, 34) java: reference to batchWriteItem is ambiguous\n  both method batchWriteItem(com.amazonaws.services.dynamodbv2.model.BatchWriteItemRequest) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient and method batchWriteItem(java.util.Map&lt;java.lang.String,java.util.List&lt;com.amazonaws.services.dynamodbv2.model.WriteRequest&gt;&gt;) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient match\n</code></pre>\n<p>I can't see how this is ambiguous - the method signatures are different, i.e.</p>\n<pre><code>public BatchWriteItemResult batchWriteItem(BatchWriteItemRequest request) {\n</code></pre>\n<p>and</p>\n<pre><code>public BatchWriteItemResult batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems) {\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","c++","algorithm"],"comments":[{"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"score":9,"creation_date":1274956451,"post_id":2920315,"comment_id":2972536,"body_markdown":"There aren&#39;t 2^n possible _combinations_. There are n! _permutations_. Plus, I don&#39;t understand the question. Are you simply trying to exclude a single permutation, `{3,2,1,4,6}`?","body":"There aren&#39;t 2^n possible <i>combinations</i>. There are n! <i>permutations</i>. Plus, I don&#39;t understand the question. Are you simply trying to exclude a single permutation, <code>{3,2,1,4,6}</code>?"},{"owner":{"display_name":"user466534"},"score":0,"creation_date":1274956565,"post_id":2920315,"comment_id":2972546,"body_markdown":"yes sorry n!   no  all permutation should be unique","body":"yes sorry n!   no  all permutation should be unique"},{"owner":{"account_id":1620381,"reputation":4191,"user_id":1497100,"accept_rate":54,"display_name":"Bryan Rayner"},"score":1,"creation_date":1456844857,"post_id":2920315,"comment_id":59127536,"body_markdown":"Could other language tags be added to this? Since this is an algorithm, it would be good to have multiple implementations in various languages.","body":"Could other language tags be added to this? Since this is an algorithm, it would be good to have multiple implementations in various languages."}],"answers":[{"tags":[],"owner":{"account_id":67440,"reputation":55582,"user_id":197368,"display_name":"reko_t"},"down_vote_count":2,"up_vote_count":30,"is_accepted":true,"score":28,"last_activity_date":1519467534,"creation_date":1274956798,"answer_id":2920347,"question_id":2920315,"body_markdown":"If you&#39;re using C++, you can use [`std::next_permutation`](http://en.cppreference.com/w/cpp/algorithm/next_permutation) from the `&lt;algorithm&gt;` header file:\r\n\r\n    int a[] = {3,4,6,2,1};\r\n    int size = sizeof(a)/sizeof(a[0]);\r\n    std::sort(a, a+size);\r\n    do {\r\n      // print a&#39;s elements\r\n    } while(std::next_permutation(a, a+size));\r\n\r\n","title":"Permutation of array","body":"<p>If you're using C++, you can use <a href=\"http://en.cppreference.com/w/cpp/algorithm/next_permutation\" rel=\"noreferrer\"><code>std::next_permutation</code></a> from the <code>&lt;algorithm&gt;</code> header file:</p>\n\n<pre><code>int a[] = {3,4,6,2,1};\nint size = sizeof(a)/sizeof(a[0]);\nstd::sort(a, a+size);\ndo {\n  // print a's elements\n} while(std::next_permutation(a, a+size));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141293,"reputation":466,"user_id":348204,"display_name":"Mr.Expert"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1343721433,"creation_date":1274956815,"answer_id":2920349,"question_id":2920315,"body_markdown":"Here is an implementation of the Permutation in Java:\r\n\r\n[Permutation - Java][1]\r\n\r\n\r\n  [1]: http://cs.fit.edu/~ryan/java/programs/combinations/Permute-java.html\r\n\r\nYou should have a check on it!\r\n\r\nEdit: code pasted below to protect against link-death:\r\n\r\n    // Permute.java -- A class generating all permutations\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n    import java.lang.reflect.Array;\r\n    \r\n    public class Permute implements Iterator {\r\n    \r\n       private final int size;\r\n       private final Object [] elements;  // copy of original 0 .. size-1\r\n       private final Object ar;           // array for output,  0 .. size-1\r\n       private final int [] permutation;  // perm of nums 1..size, perm[0]=0\r\n    \r\n       private boolean next = true;\r\n    \r\n       // int[], double[] array won&#39;t work :-(\r\n       public Permute (Object [] e) {\r\n          size = e.length;\r\n          elements = new Object [size];    // not suitable for primitives\r\n          System.arraycopy (e, 0, elements, 0, size);\r\n          ar = Array.newInstance (e.getClass().getComponentType(), size);\r\n          System.arraycopy (e, 0, ar, 0, size);\r\n          permutation = new int [size+1];\r\n          for (int i=0; i&lt;size+1; i++) {\r\n             permutation [i]=i;\r\n          }\r\n       }\r\n          \r\n       private void formNextPermutation () {\r\n          for (int i=0; i&lt;size; i++) {\r\n             // i+1 because perm[0] always = 0\r\n             // perm[]-1 because the numbers 1..size are being permuted\r\n             Array.set (ar, i, elements[permutation[i+1]-1]);\r\n          }\r\n       }\r\n    \r\n       public boolean hasNext() {\r\n          return next;\r\n       }\r\n    \r\n       public void remove() throws UnsupportedOperationException {\r\n          throw new UnsupportedOperationException();\r\n       }\r\n    \r\n       private void swap (final int i, final int j) {\r\n          final int x = permutation[i];\r\n          permutation[i] = permutation [j];\r\n          permutation[j] = x;\r\n       }\r\n    \r\n       // does not throw NoSuchElement; it wraps around!\r\n       public Object next() throws NoSuchElementException {\r\n    \r\n          formNextPermutation ();  // copy original elements\r\n    \r\n          int i = size-1;\r\n          while (permutation[i]&gt;permutation[i+1]) i--;\r\n    \r\n          if (i==0) {\r\n             next = false;\r\n             for (int j=0; j&lt;size+1; j++) {\r\n                permutation [j]=j;\r\n             }\r\n             return ar;\r\n          }\r\n    \r\n          int j = size;\r\n          \r\n          while (permutation[i]&gt;permutation[j]) j--;\r\n          swap (i,j);\r\n          int r = size;\r\n          int s = i+1;\r\n          while (r&gt;s) { swap(r,s); r--; s++; }\r\n    \r\n          return ar;\r\n       }\r\n    \r\n       public String toString () {\r\n          final int n = Array.getLength(ar);\r\n          final StringBuffer sb = new StringBuffer (&quot;[&quot;);\r\n          for (int j=0; j&lt;n; j++) {\r\n             sb.append (Array.get(ar,j).toString());\r\n             if (j&lt;n-1) sb.append (&quot;,&quot;);\r\n          }\r\n          sb.append(&quot;]&quot;);\r\n          return new String (sb);\r\n       }\r\n    \r\n       public static void main (String [] args) {\r\n          for (Iterator i = new Permute(args); i.hasNext(); ) {\r\n             final String [] a = (String []) i.next();\r\n             System.out.println (i);\r\n          }\r\n       }\r\n    }","title":"Permutation of array","body":"<p>Here is an implementation of the Permutation in Java:</p>\n\n<p><a href=\"http://cs.fit.edu/~ryan/java/programs/combinations/Permute-java.html\" rel=\"noreferrer\">Permutation - Java</a></p>\n\n<p>You should have a check on it!</p>\n\n<p>Edit: code pasted below to protect against link-death:</p>\n\n<pre><code>// Permute.java -- A class generating all permutations\n\nimport java.util.Iterator;\nimport java.util.NoSuchElementException;\nimport java.lang.reflect.Array;\n\npublic class Permute implements Iterator {\n\n   private final int size;\n   private final Object [] elements;  // copy of original 0 .. size-1\n   private final Object ar;           // array for output,  0 .. size-1\n   private final int [] permutation;  // perm of nums 1..size, perm[0]=0\n\n   private boolean next = true;\n\n   // int[], double[] array won't work :-(\n   public Permute (Object [] e) {\n      size = e.length;\n      elements = new Object [size];    // not suitable for primitives\n      System.arraycopy (e, 0, elements, 0, size);\n      ar = Array.newInstance (e.getClass().getComponentType(), size);\n      System.arraycopy (e, 0, ar, 0, size);\n      permutation = new int [size+1];\n      for (int i=0; i&lt;size+1; i++) {\n         permutation [i]=i;\n      }\n   }\n\n   private void formNextPermutation () {\n      for (int i=0; i&lt;size; i++) {\n         // i+1 because perm[0] always = 0\n         // perm[]-1 because the numbers 1..size are being permuted\n         Array.set (ar, i, elements[permutation[i+1]-1]);\n      }\n   }\n\n   public boolean hasNext() {\n      return next;\n   }\n\n   public void remove() throws UnsupportedOperationException {\n      throw new UnsupportedOperationException();\n   }\n\n   private void swap (final int i, final int j) {\n      final int x = permutation[i];\n      permutation[i] = permutation [j];\n      permutation[j] = x;\n   }\n\n   // does not throw NoSuchElement; it wraps around!\n   public Object next() throws NoSuchElementException {\n\n      formNextPermutation ();  // copy original elements\n\n      int i = size-1;\n      while (permutation[i]&gt;permutation[i+1]) i--;\n\n      if (i==0) {\n         next = false;\n         for (int j=0; j&lt;size+1; j++) {\n            permutation [j]=j;\n         }\n         return ar;\n      }\n\n      int j = size;\n\n      while (permutation[i]&gt;permutation[j]) j--;\n      swap (i,j);\n      int r = size;\n      int s = i+1;\n      while (r&gt;s) { swap(r,s); r--; s++; }\n\n      return ar;\n   }\n\n   public String toString () {\n      final int n = Array.getLength(ar);\n      final StringBuffer sb = new StringBuffer (\"[\");\n      for (int j=0; j&lt;n; j++) {\n         sb.append (Array.get(ar,j).toString());\n         if (j&lt;n-1) sb.append (\",\");\n      }\n      sb.append(\"]\");\n      return new String (sb);\n   }\n\n   public static void main (String [] args) {\n      for (Iterator i = new Permute(args); i.hasNext(); ) {\n         final String [] a = (String []) i.next();\n         System.out.println (i);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47528,"reputation":7722,"user_id":140837,"accept_rate":72,"display_name":"amirouche"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348880818,"creation_date":1348880818,"answer_id":12649053,"question_id":2920315,"body_markdown":"This a 2-permutation for a list wrapped in an iterator\r\n\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    /* all permutations of two objects \r\n     * \r\n     * for ABC: AB AC BA BC CA CB\r\n     * \r\n     * */\r\n    public class ListPermutation&lt;T&gt; implements Iterator {\r\n    \r\n    \tint index = 0;\r\n    \tint current = 0;\r\n    \tList&lt;T&gt; list;\r\n    \t\r\n    \tpublic ListPermutation(List&lt;T&gt; e) {\r\n    \t\tlist = e;\r\n    \t}\r\n    \t\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn !(index == list.size() - 1 &amp;&amp; current == list.size() - 1);\r\n    \t}\r\n    \r\n    \tpublic List&lt;T&gt; next() {\r\n    \t\tif(current == index) {\r\n    \t\t\tcurrent++;\r\n    \t\t}\r\n    \t\tif (current == list.size()) {\r\n    \t\t\tcurrent = 0;\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\tList&lt;T&gt; output = new LinkedList&lt;T&gt;();\r\n    \t\toutput.add(list.get(index));\r\n    \t\toutput.add(list.get(current));\r\n    \t\tcurrent++;\r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tpublic void remove() {\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>This a 2-permutation for a list wrapped in an iterator</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\n/* all permutations of two objects \n * \n * for ABC: AB AC BA BC CA CB\n * \n * */\npublic class ListPermutation&lt;T&gt; implements Iterator {\n\n    int index = 0;\n    int current = 0;\n    List&lt;T&gt; list;\n\n    public ListPermutation(List&lt;T&gt; e) {\n        list = e;\n    }\n\n    public boolean hasNext() {\n        return !(index == list.size() - 1 &amp;&amp; current == list.size() - 1);\n    }\n\n    public List&lt;T&gt; next() {\n        if(current == index) {\n            current++;\n        }\n        if (current == list.size()) {\n            current = 0;\n            index++;\n        }\n        List&lt;T&gt; output = new LinkedList&lt;T&gt;();\n        output.add(list.get(index));\n        output.add(list.get(current));\n        current++;\n        return output;\n    }\n\n    public void remove() {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1439775995,"creation_date":1358789260,"answer_id":14444037,"question_id":2920315,"body_markdown":"Here is how you can print all permutations in 10 lines of code:\r\n\r\n\tpublic class Permute{\r\n\t\tstatic void permute(java.util.List&lt;Integer&gt; arr, int k){\r\n\t\t\tfor(int i = k; i &lt; arr.size(); i++){\r\n\t\t\t\tjava.util.Collections.swap(arr, i, k);\r\n\t\t\t\tpermute(arr, k+1);\r\n\t\t\t\tjava.util.Collections.swap(arr, k, i);\r\n\t\t\t}\r\n\t\t\tif (k == arr.size() -1){\r\n\t\t\t\tSystem.out.println(java.util.Arrays.toString(arr.toArray()));\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tPermute.permute(java.util.Arrays.asList(3,4,6,2,1), 0);\r\n\t\t}\r\n\t}\r\n\r\nYou take first element of an array (k=0) and exchange it with any element (i) of the array. Then you recursively apply permutation on array starting with second element. This way you get all permutations starting with i-th element. The tricky part is that after recursive call you must swap i-th element with first element back, otherwise you could get repeated values at the first spot. By swapping it back we restore order of elements (basically you do backtracking). \r\n\r\n**Iterators and Extension to the case of repeated values**\r\n\r\nThe drawback of previous algorithm is that it is recursive, and does not play nicely with iterators. Another issue is that if you allow repeated elements in your input, then it won&#39;t work as is.\r\n\r\nFor example, given input [3,3,4,4] all possible permutations (without repetitions) are \r\n\r\n\t[3, 3, 4, 4]\r\n\t[3, 4, 3, 4]\r\n\t[3, 4, 4, 3]\r\n\t[4, 3, 3, 4]\r\n\t[4, 3, 4, 3]\r\n\t[4, 4, 3, 3]\r\n\r\n(if you simply apply `permute` function from above you will get [3,3,4,4] four times, and this is not what you naturally want to see in this case; and the number of such permutations is 4!/(2!*2!)=6)\r\n\r\nIt is possible to modify the above algorithm to handle this case, but it won&#39;t look nice. Luckily, there is a better algorithm (I found it [here][1]) which handles repeated values and is not recursive. \r\n\r\nFirst note, that permutation of array of any objects can be reduced to permutations of integers by enumerating them in any order. \r\n\r\nTo get permutations of an integer array, you start with an array sorted in ascending order. You &#39;goal&#39; is to make it descending. To generate next permutation you are trying to find the first index from the bottom where sequence fails to be descending, and improves value in that index while switching order of the rest of the tail from descending to ascending in this case.\r\n\r\nHere is the core of the algorithm:\r\n\r\n    //ind is an array of integers\r\n    for(int tail = ind.length - 1;tail &gt; 0;tail--){\r\n        if (ind[tail - 1] &lt; ind[tail]){//still increasing\r\n\r\n            //find last element which does not exceed ind[tail-1]\r\n            int s = ind.length - 1;\r\n            while(ind[tail-1] &gt;= ind[s])\r\n                s--;\r\n\r\n            swap(ind, tail-1, s);\r\n\r\n            //reverse order of elements in the tail\r\n            for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\r\n                swap(ind, i, j);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\nHere is the full code of iterator. Constructor accepts an array of objects, and maps them into an array of integers using `HashMap`. \r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.*;\r\n    class Permutations&lt;E&gt; implements  Iterator&lt;E[]&gt;{\r\n\r\n        private E[] arr;\r\n        private int[] ind;\r\n        private boolean has_next;\r\n\r\n        public E[] output;//next() returns this array, make it public\r\n\r\n        Permutations(E[] arr){\r\n            this.arr = arr.clone();\r\n            ind = new int[arr.length];\r\n            //convert an array of any elements into array of integers - first occurrence is used to enumerate\r\n            Map&lt;E, Integer&gt; hm = new HashMap&lt;E, Integer&gt;();\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                Integer n = hm.get(arr[i]);\r\n                if (n == null){\r\n                    hm.put(arr[i], i);\r\n                    n = i;\r\n                }\r\n                ind[i] = n.intValue();\r\n            }\r\n            Arrays.sort(ind);//start with ascending sequence of integers\r\n\r\n\r\n            //output = new E[arr.length]; &lt;-- cannot do in Java with generics, so use reflection\r\n            output = (E[]) Array.newInstance(arr.getClass().getComponentType(), arr.length);\r\n            has_next = true;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return has_next;\r\n        }\r\n\r\n        /**\r\n         * Computes next permutations. Same array instance is returned every time!\r\n         * @return\r\n         */\r\n        public E[] next() {\r\n            if (!has_next)\r\n                throw new NoSuchElementException();\r\n\r\n            for(int i = 0; i &lt; ind.length; i++){\r\n                output[i] = arr[ind[i]];\r\n            }\r\n\r\n\r\n            //get next permutation\r\n            has_next = false;\r\n            for(int tail = ind.length - 1;tail &gt; 0;tail--){\r\n                if (ind[tail - 1] &lt; ind[tail]){//still increasing\r\n\r\n                    //find last element which does not exceed ind[tail-1]\r\n                    int s = ind.length - 1;\r\n                    while(ind[tail-1] &gt;= ind[s])\r\n                        s--;\r\n\r\n                    swap(ind, tail-1, s);\r\n\r\n                    //reverse order of elements in the tail\r\n                    for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\r\n                        swap(ind, i, j);\r\n                    }\r\n                    has_next = true;\r\n                    break;\r\n                }\r\n\r\n            }\r\n            return output;\r\n        }\r\n\r\n        private void swap(int[] arr, int i, int j){\r\n            int t = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = t;\r\n        }\r\n\r\n        public void remove() {\r\n\r\n        }\r\n    }\r\n\r\nUsage/test:\r\n\r\n        TCMath.Permutations&lt;Integer&gt; perm = new TCMath.Permutations&lt;Integer&gt;(new Integer[]{3,3,4,4,4,5,5});\r\n        int count = 0;\r\n        while(perm.hasNext()){\r\n            System.out.println(Arrays.toString(perm.next()));\r\n            count++;\r\n        }\r\n        System.out.println(&quot;total: &quot; + count);\r\n\r\nPrints out all `7!/(2!*3!*2!)=210` permutations.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://wordaligned.org/articles/next-permutation","title":"Permutation of array","body":"<p>Here is how you can print all permutations in 10 lines of code:</p>\n\n<pre><code>public class Permute{\n    static void permute(java.util.List&lt;Integer&gt; arr, int k){\n        for(int i = k; i &lt; arr.size(); i++){\n            java.util.Collections.swap(arr, i, k);\n            permute(arr, k+1);\n            java.util.Collections.swap(arr, k, i);\n        }\n        if (k == arr.size() -1){\n            System.out.println(java.util.Arrays.toString(arr.toArray()));\n        }\n    }\n    public static void main(String[] args){\n        Permute.permute(java.util.Arrays.asList(3,4,6,2,1), 0);\n    }\n}\n</code></pre>\n\n<p>You take first element of an array (k=0) and exchange it with any element (i) of the array. Then you recursively apply permutation on array starting with second element. This way you get all permutations starting with i-th element. The tricky part is that after recursive call you must swap i-th element with first element back, otherwise you could get repeated values at the first spot. By swapping it back we restore order of elements (basically you do backtracking). </p>\n\n<p><strong>Iterators and Extension to the case of repeated values</strong></p>\n\n<p>The drawback of previous algorithm is that it is recursive, and does not play nicely with iterators. Another issue is that if you allow repeated elements in your input, then it won't work as is.</p>\n\n<p>For example, given input [3,3,4,4] all possible permutations (without repetitions) are </p>\n\n<pre><code>[3, 3, 4, 4]\n[3, 4, 3, 4]\n[3, 4, 4, 3]\n[4, 3, 3, 4]\n[4, 3, 4, 3]\n[4, 4, 3, 3]\n</code></pre>\n\n<p>(if you simply apply <code>permute</code> function from above you will get [3,3,4,4] four times, and this is not what you naturally want to see in this case; and the number of such permutations is 4!/(2!*2!)=6)</p>\n\n<p>It is possible to modify the above algorithm to handle this case, but it won't look nice. Luckily, there is a better algorithm (I found it <a href=\"http://wordaligned.org/articles/next-permutation\">here</a>) which handles repeated values and is not recursive. </p>\n\n<p>First note, that permutation of array of any objects can be reduced to permutations of integers by enumerating them in any order. </p>\n\n<p>To get permutations of an integer array, you start with an array sorted in ascending order. You 'goal' is to make it descending. To generate next permutation you are trying to find the first index from the bottom where sequence fails to be descending, and improves value in that index while switching order of the rest of the tail from descending to ascending in this case.</p>\n\n<p>Here is the core of the algorithm:</p>\n\n<pre><code>//ind is an array of integers\nfor(int tail = ind.length - 1;tail &gt; 0;tail--){\n    if (ind[tail - 1] &lt; ind[tail]){//still increasing\n\n        //find last element which does not exceed ind[tail-1]\n        int s = ind.length - 1;\n        while(ind[tail-1] &gt;= ind[s])\n            s--;\n\n        swap(ind, tail-1, s);\n\n        //reverse order of elements in the tail\n        for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\n            swap(ind, i, j);\n        }\n        break;\n    }\n}\n</code></pre>\n\n<p>Here is the full code of iterator. Constructor accepts an array of objects, and maps them into an array of integers using <code>HashMap</code>. </p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.util.*;\nclass Permutations&lt;E&gt; implements  Iterator&lt;E[]&gt;{\n\n    private E[] arr;\n    private int[] ind;\n    private boolean has_next;\n\n    public E[] output;//next() returns this array, make it public\n\n    Permutations(E[] arr){\n        this.arr = arr.clone();\n        ind = new int[arr.length];\n        //convert an array of any elements into array of integers - first occurrence is used to enumerate\n        Map&lt;E, Integer&gt; hm = new HashMap&lt;E, Integer&gt;();\n        for(int i = 0; i &lt; arr.length; i++){\n            Integer n = hm.get(arr[i]);\n            if (n == null){\n                hm.put(arr[i], i);\n                n = i;\n            }\n            ind[i] = n.intValue();\n        }\n        Arrays.sort(ind);//start with ascending sequence of integers\n\n\n        //output = new E[arr.length]; &lt;-- cannot do in Java with generics, so use reflection\n        output = (E[]) Array.newInstance(arr.getClass().getComponentType(), arr.length);\n        has_next = true;\n    }\n\n    public boolean hasNext() {\n        return has_next;\n    }\n\n    /**\n     * Computes next permutations. Same array instance is returned every time!\n     * @return\n     */\n    public E[] next() {\n        if (!has_next)\n            throw new NoSuchElementException();\n\n        for(int i = 0; i &lt; ind.length; i++){\n            output[i] = arr[ind[i]];\n        }\n\n\n        //get next permutation\n        has_next = false;\n        for(int tail = ind.length - 1;tail &gt; 0;tail--){\n            if (ind[tail - 1] &lt; ind[tail]){//still increasing\n\n                //find last element which does not exceed ind[tail-1]\n                int s = ind.length - 1;\n                while(ind[tail-1] &gt;= ind[s])\n                    s--;\n\n                swap(ind, tail-1, s);\n\n                //reverse order of elements in the tail\n                for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\n                    swap(ind, i, j);\n                }\n                has_next = true;\n                break;\n            }\n\n        }\n        return output;\n    }\n\n    private void swap(int[] arr, int i, int j){\n        int t = arr[i];\n        arr[i] = arr[j];\n        arr[j] = t;\n    }\n\n    public void remove() {\n\n    }\n}\n</code></pre>\n\n<p>Usage/test:</p>\n\n<pre><code>    TCMath.Permutations&lt;Integer&gt; perm = new TCMath.Permutations&lt;Integer&gt;(new Integer[]{3,3,4,4,4,5,5});\n    int count = 0;\n    while(perm.hasNext()){\n        System.out.println(Arrays.toString(perm.next()));\n        count++;\n    }\n    System.out.println(\"total: \" + count);\n</code></pre>\n\n<p>Prints out all <code>7!/(2!*3!*2!)=210</code> permutations.</p>\n"},{"tags":[],"owner":{"account_id":1401759,"reputation":161,"user_id":1330400,"display_name":"zc22"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404451671,"creation_date":1404451671,"answer_id":24567236,"question_id":2920315,"body_markdown":"Visual representation of the 3-item recursive solution: \r\nhttp://www.docdroid.net/ea0s/generatepermutations.pdf.html\r\n\r\nBreakdown: \r\n\r\n 1. For a two-item array, there are two permutations:\r\n   - The original array, and\r\n   - The two elements swapped\r\n 2. For a three-item array, there are six permutations:\r\n   - The permutations of the bottom two elements, then\r\n   - Swap 1st and 2nd items, and the permutations of the bottom two element \r\n   - Swap 1st and 3rd items, and the permutations of the bottom two elements.\r\n   - Essentially, each of the items gets its chance at the first slot ","title":"Permutation of array","body":"<p>Visual representation of the 3-item recursive solution: \n<a href=\"http://www.docdroid.net/ea0s/generatepermutations.pdf.html\" rel=\"nofollow\">http://www.docdroid.net/ea0s/generatepermutations.pdf.html</a></p>\n\n<p>Breakdown: </p>\n\n<ol>\n<li>For a two-item array, there are two permutations:\n<ul>\n<li>The original array, and</li>\n<li>The two elements swapped</li>\n</ul></li>\n<li>For a three-item array, there are six permutations:\n<ul>\n<li>The permutations of the bottom two elements, then</li>\n<li>Swap 1st and 2nd items, and the permutations of the bottom two element </li>\n<li>Swap 1st and 3rd items, and the permutations of the bottom two elements.</li>\n<li>Essentially, each of the items gets its chance at the first slot </li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2312767,"reputation":172,"user_id":2030525,"display_name":"Void"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482941505,"creation_date":1457914112,"answer_id":35977549,"question_id":2920315,"body_markdown":"There are `n!` total permutations for the given array size `n`. Here is code written in Java using DFS.\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt; results = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        if (nums == null || nums.length == 0) {\r\n            return results;\r\n        }\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        dfs(nums, results, result);\r\n        return results;\r\n    }\r\n    \r\n    public void dfs(int[] nums, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; result) {\r\n        if (nums.length == result.size()) {\r\n            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(result);\r\n            results.add(temp);\r\n        }        \r\n        for (int i=0; i&lt;nums.length; i++) {\r\n            if (!result.contains(nums[i])) {\r\n                result.add(nums[i]);\r\n                dfs(nums, results, result);\r\n                result.remove(result.size() - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nFor input array [3,2,1,4,6], there are totally 5! = 120 possible permutations which are:\r\n\r\n    [[3,4,6,2,1],[3,4,6,1,2],[3,4,2,6,1],[3,4,2,1,6],[3,4,1,6,2],[3,4,1,2,6],[3,6,4,2,1],[3,6,4,1,2],[3,6,2,4,1],[3,6,2,1,4],[3,6,1,4,2],[3,6,1,2,4],[3,2,4,6,1],[3,2,4,1,6],[3,2,6,4,1],[3,2,6,1,4],[3,2,1,4,6],[3,2,1,6,4],[3,1,4,6,2],[3,1,4,2,6],[3,1,6,4,2],[3,1,6,2,4],[3,1,2,4,6],[3,1,2,6,4],[4,3,6,2,1],[4,3,6,1,2],[4,3,2,6,1],[4,3,2,1,6],[4,3,1,6,2],[4,3,1,2,6],[4,6,3,2,1],[4,6,3,1,2],[4,6,2,3,1],[4,6,2,1,3],[4,6,1,3,2],[4,6,1,2,3],[4,2,3,6,1],[4,2,3,1,6],[4,2,6,3,1],[4,2,6,1,3],[4,2,1,3,6],[4,2,1,6,3],[4,1,3,6,2],[4,1,3,2,6],[4,1,6,3,2],[4,1,6,2,3],[4,1,2,3,6],[4,1,2,6,3],[6,3,4,2,1],[6,3,4,1,2],[6,3,2,4,1],[6,3,2,1,4],[6,3,1,4,2],[6,3,1,2,4],[6,4,3,2,1],[6,4,3,1,2],[6,4,2,3,1],[6,4,2,1,3],[6,4,1,3,2],[6,4,1,2,3],[6,2,3,4,1],[6,2,3,1,4],[6,2,4,3,1],[6,2,4,1,3],[6,2,1,3,4],[6,2,1,4,3],[6,1,3,4,2],[6,1,3,2,4],[6,1,4,3,2],[6,1,4,2,3],[6,1,2,3,4],[6,1,2,4,3],[2,3,4,6,1],[2,3,4,1,6],[2,3,6,4,1],[2,3,6,1,4],[2,3,1,4,6],[2,3,1,6,4],[2,4,3,6,1],[2,4,3,1,6],[2,4,6,3,1],[2,4,6,1,3],[2,4,1,3,6],[2,4,1,6,3],[2,6,3,4,1],[2,6,3,1,4],[2,6,4,3,1],[2,6,4,1,3],[2,6,1,3,4],[2,6,1,4,3],[2,1,3,4,6],[2,1,3,6,4],[2,1,4,3,6],[2,1,4,6,3],[2,1,6,3,4],[2,1,6,4,3],[1,3,4,6,2],[1,3,4,2,6],[1,3,6,4,2],[1,3,6,2,4],[1,3,2,4,6],[1,3,2,6,4],[1,4,3,6,2],[1,4,3,2,6],[1,4,6,3,2],[1,4,6,2,3],[1,4,2,3,6],[1,4,2,6,3],[1,6,3,4,2],[1,6,3,2,4],[1,6,4,3,2],[1,6,4,2,3],[1,6,2,3,4],[1,6,2,4,3],[1,2,3,4,6],[1,2,3,6,4],[1,2,4,3,6],[1,2,4,6,3],[1,2,6,3,4],[1,2,6,4,3]]\r\n\r\nHope this helps.\r\n","title":"Permutation of array","body":"<p>There are <code>n!</code> total permutations for the given array size <code>n</code>. Here is code written in Java using DFS.</p>\n\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; results = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    if (nums == null || nums.length == 0) {\n        return results;\n    }\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    dfs(nums, results, result);\n    return results;\n}\n\npublic void dfs(int[] nums, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; result) {\n    if (nums.length == result.size()) {\n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(result);\n        results.add(temp);\n    }        \n    for (int i=0; i&lt;nums.length; i++) {\n        if (!result.contains(nums[i])) {\n            result.add(nums[i]);\n            dfs(nums, results, result);\n            result.remove(result.size() - 1);\n        }\n    }\n}\n</code></pre>\n\n<p>For input array [3,2,1,4,6], there are totally 5! = 120 possible permutations which are:</p>\n\n<pre><code>[[3,4,6,2,1],[3,4,6,1,2],[3,4,2,6,1],[3,4,2,1,6],[3,4,1,6,2],[3,4,1,2,6],[3,6,4,2,1],[3,6,4,1,2],[3,6,2,4,1],[3,6,2,1,4],[3,6,1,4,2],[3,6,1,2,4],[3,2,4,6,1],[3,2,4,1,6],[3,2,6,4,1],[3,2,6,1,4],[3,2,1,4,6],[3,2,1,6,4],[3,1,4,6,2],[3,1,4,2,6],[3,1,6,4,2],[3,1,6,2,4],[3,1,2,4,6],[3,1,2,6,4],[4,3,6,2,1],[4,3,6,1,2],[4,3,2,6,1],[4,3,2,1,6],[4,3,1,6,2],[4,3,1,2,6],[4,6,3,2,1],[4,6,3,1,2],[4,6,2,3,1],[4,6,2,1,3],[4,6,1,3,2],[4,6,1,2,3],[4,2,3,6,1],[4,2,3,1,6],[4,2,6,3,1],[4,2,6,1,3],[4,2,1,3,6],[4,2,1,6,3],[4,1,3,6,2],[4,1,3,2,6],[4,1,6,3,2],[4,1,6,2,3],[4,1,2,3,6],[4,1,2,6,3],[6,3,4,2,1],[6,3,4,1,2],[6,3,2,4,1],[6,3,2,1,4],[6,3,1,4,2],[6,3,1,2,4],[6,4,3,2,1],[6,4,3,1,2],[6,4,2,3,1],[6,4,2,1,3],[6,4,1,3,2],[6,4,1,2,3],[6,2,3,4,1],[6,2,3,1,4],[6,2,4,3,1],[6,2,4,1,3],[6,2,1,3,4],[6,2,1,4,3],[6,1,3,4,2],[6,1,3,2,4],[6,1,4,3,2],[6,1,4,2,3],[6,1,2,3,4],[6,1,2,4,3],[2,3,4,6,1],[2,3,4,1,6],[2,3,6,4,1],[2,3,6,1,4],[2,3,1,4,6],[2,3,1,6,4],[2,4,3,6,1],[2,4,3,1,6],[2,4,6,3,1],[2,4,6,1,3],[2,4,1,3,6],[2,4,1,6,3],[2,6,3,4,1],[2,6,3,1,4],[2,6,4,3,1],[2,6,4,1,3],[2,6,1,3,4],[2,6,1,4,3],[2,1,3,4,6],[2,1,3,6,4],[2,1,4,3,6],[2,1,4,6,3],[2,1,6,3,4],[2,1,6,4,3],[1,3,4,6,2],[1,3,4,2,6],[1,3,6,4,2],[1,3,6,2,4],[1,3,2,4,6],[1,3,2,6,4],[1,4,3,6,2],[1,4,3,2,6],[1,4,6,3,2],[1,4,6,2,3],[1,4,2,3,6],[1,4,2,6,3],[1,6,3,4,2],[1,6,3,2,4],[1,6,4,3,2],[1,6,4,2,3],[1,6,2,3,4],[1,6,2,4,3],[1,2,3,4,6],[1,2,3,6,4],[1,2,4,3,6],[1,2,4,6,3],[1,2,6,3,4],[1,2,6,4,3]]\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5523473,"reputation":1467,"user_id":4385714,"accept_rate":67,"display_name":"qtopierw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477052833,"creation_date":1477052833,"answer_id":40176683,"question_id":2920315,"body_markdown":"A simple java implementation, refer to c++ [`std::next_permutation`](https://stackoverflow.com/a/11483392/4385714):\r\n\r\n\r\n\r\n\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tint[] list = {1,2,3,4,5};\r\n\t\tList&lt;List&lt;Integer&gt;&gt; output = new Main().permute(list);\r\n\t\tfor(List result: output){\r\n\t\t\tSystem.out.println(result);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tint size = factorial(nums.length);\r\n\t\t\r\n      \t// add the original one to the list\r\n\t\tList&lt;Integer&gt; seq = new ArrayList&lt;Integer&gt;();\r\n\t\tfor(int a:nums){\r\n\t\t\tseq.add(a);\r\n\t\t}\r\n\t\tlist.add(seq);\r\n\t\t\r\n      \t// generate the next and next permutation and add them to list\r\n\t\tfor(int i = 0;i &lt; size - 1;i++){\r\n\t\t\tseq = new ArrayList&lt;Integer&gt;();\r\n\t\t\tnextPermutation(nums);\r\n\t\t\tfor(int a:nums){\r\n\t\t\t\tseq.add(a);\r\n\t\t\t}\r\n\t\t\tlist.add(seq);\r\n\t\t}\r\n\t\treturn list;\r\n    }\r\n\t\r\n\t\r\n\tint factorial(int n){\r\n\t\treturn (n==1)?1:n*factorial(n-1);\r\n\t}\r\n\t\r\n\tvoid nextPermutation(int[] nums){\r\n\t\tint i = nums.length -1;\t// start from the end\r\n\t\t\r\n\t\twhile(i &gt; 0 &amp;&amp; nums[i-1] &gt;= nums[i]){\r\n\t\t\ti--;\r\n\t\t}\r\n\t\t\r\n\t\tif(i==0){\r\n\t\t\treverse(nums,0,nums.length -1 );\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\t// found the first one not in order \r\n\t\t\tint j = i;\r\n\t\t\t\r\n\t\t\t// found just bigger one\r\n\t\t\twhile(j &lt; nums.length &amp;&amp; nums[j] &gt; nums[i-1]){\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\t//swap(nums[i-1],nums[j-1]);\r\n\t\t\tint tmp = nums[i-1];\r\n\t\t\tnums[i-1] = nums[j-1];\r\n\t\t\tnums[j-1] = tmp;\r\n\t\t\treverse(nums,i,nums.length-1);\t\r\n\t\t}\r\n\t}\r\n\t\r\n  \t// reverse the sequence\r\n\tvoid reverse(int[] arr,int start, int end){\r\n\t\tint tmp;\r\n\t\tfor(int i = 0; i &lt;= (end - start)/2; i++ ){\r\n\t\t\ttmp = arr[start + i];\r\n\t\t\tarr[start + i] = arr[end - i];\r\n\t\t\tarr[end - i ] = tmp;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Permutation of array","body":"<p>A simple java implementation, refer to c++ <a href=\"https://stackoverflow.com/a/11483392/4385714\"><code>std::next_permutation</code></a>:</p>\n\n<pre><code>public static void main(String[] args){\n    int[] list = {1,2,3,4,5};\n    List&lt;List&lt;Integer&gt;&gt; output = new Main().permute(list);\n    for(List result: output){\n        System.out.println(result);\n    }\n\n}\n\npublic List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int size = factorial(nums.length);\n\n    // add the original one to the list\n    List&lt;Integer&gt; seq = new ArrayList&lt;Integer&gt;();\n    for(int a:nums){\n        seq.add(a);\n    }\n    list.add(seq);\n\n    // generate the next and next permutation and add them to list\n    for(int i = 0;i &lt; size - 1;i++){\n        seq = new ArrayList&lt;Integer&gt;();\n        nextPermutation(nums);\n        for(int a:nums){\n            seq.add(a);\n        }\n        list.add(seq);\n    }\n    return list;\n}\n\n\nint factorial(int n){\n    return (n==1)?1:n*factorial(n-1);\n}\n\nvoid nextPermutation(int[] nums){\n    int i = nums.length -1; // start from the end\n\n    while(i &gt; 0 &amp;&amp; nums[i-1] &gt;= nums[i]){\n        i--;\n    }\n\n    if(i==0){\n        reverse(nums,0,nums.length -1 );\n    }else{\n\n        // found the first one not in order \n        int j = i;\n\n        // found just bigger one\n        while(j &lt; nums.length &amp;&amp; nums[j] &gt; nums[i-1]){\n            j++;\n        }\n        //swap(nums[i-1],nums[j-1]);\n        int tmp = nums[i-1];\n        nums[i-1] = nums[j-1];\n        nums[j-1] = tmp;\n        reverse(nums,i,nums.length-1);  \n    }\n}\n\n// reverse the sequence\nvoid reverse(int[] arr,int start, int end){\n    int tmp;\n    for(int i = 0; i &lt;= (end - start)/2; i++ ){\n        tmp = arr[start + i];\n        arr[start + i] = arr[end - i];\n        arr[end - i ] = tmp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":902667,"reputation":30486,"user_id":938380,"accept_rate":82,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502016983,"creation_date":1502016983,"answer_id":45531278,"question_id":2920315,"body_markdown":"Example with primitive array:\r\n\r\n    public static void permute(int[] intArray, int start) {\r\n        for(int i = start; i &lt; intArray.length; i++){\r\n            int temp = intArray[start];\r\n            intArray[start] = intArray[i];\r\n            intArray[i] = temp;\r\n            permute(intArray, start + 1);\r\n            intArray[i] = intArray[start];\r\n            intArray[start] = temp;\r\n        }\r\n        if (start == intArray.length - 1) {\r\n            System.out.println(java.util.Arrays.toString(intArray));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        int intArr[] = {1, 2, 3};\r\n        permute(intArr, 0);\r\n    }","title":"Permutation of array","body":"<p>Example with primitive array:</p>\n\n<pre><code>public static void permute(int[] intArray, int start) {\n    for(int i = start; i &lt; intArray.length; i++){\n        int temp = intArray[start];\n        intArray[start] = intArray[i];\n        intArray[i] = temp;\n        permute(intArray, start + 1);\n        intArray[i] = intArray[start];\n        intArray[start] = temp;\n    }\n    if (start == intArray.length - 1) {\n        System.out.println(java.util.Arrays.toString(intArray));\n    }\n}\n\npublic static void main(String[] args){\n    int intArr[] = {1, 2, 3};\n    permute(intArr, 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9527597,"reputation":141,"user_id":7080738,"accept_rate":60,"display_name":"Abhishek Sahay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534447817,"creation_date":1519466746,"answer_id":48961596,"question_id":2920315,"body_markdown":"Do like this...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class rohit {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\r\n    \t\tArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\r\n    \t\tb.add(1);\r\n    \t\tb.add(2);\r\n    \t\tb.add(3);\r\n    \t\tpermu(a,b);\r\n    \t}\r\n    \t\r\n    \tpublic static void permu(ArrayList&lt;Integer&gt; prefix,ArrayList&lt;Integer&gt; value) {\r\n    \t\tif(value.size()==0) {\r\n    \t\t\tSystem.out.println(prefix);\r\n    \t\t} else {\r\n    \t\t\tfor(int i=0;i&lt;value.size();i++) {\r\n    \t\t\t\tArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\ta.addAll(prefix);\r\n    \t\t\t\ta.add(value.get(i));\r\n    \t\t\t\t\r\n    \t\t\t\tArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\t\r\n    \t\t\t\tb.addAll(value.subList(0, i));\r\n    \t\t\t\tb.addAll(value.subList(i+1, value.size()));\r\n    \t\t\t\t\r\n    \t\t\t\tpermu(a,b);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>Do like this...</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class rohit {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\n        b.add(1);\n        b.add(2);\n        b.add(3);\n        permu(a,b);\n    }\n\n    public static void permu(ArrayList&lt;Integer&gt; prefix,ArrayList&lt;Integer&gt; value) {\n        if(value.size()==0) {\n            System.out.println(prefix);\n        } else {\n            for(int i=0;i&lt;value.size();i++) {\n                ArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\n                a.addAll(prefix);\n                a.add(value.get(i));\n\n                ArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\n\n                b.addAll(value.subList(0, i));\n                b.addAll(value.subList(i+1, value.size()));\n\n                permu(a,b);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539458736,"creation_date":1539458736,"answer_id":52796504,"question_id":2920315,"body_markdown":"Implementation via recursion (dynamic programming), in **Java,** with test case (***TestNG***).\r\n\r\n---\r\nCode\r\n---\r\n\r\n**PrintPermutation.java**\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * Print permutation of n elements.\r\n     * \r\n     * @author eric\r\n     * @date Oct 13, 2018 12:28:10 PM\r\n     */\r\n    public class PrintPermutation {\r\n        /**\r\n         * Print permutation of array elements.\r\n         * \r\n         * @param arr\r\n         * @return count of permutation,\r\n         */\r\n        public static int permutation(int arr[]) {\r\n            return permutation(arr, 0);\r\n        }\r\n    \r\n        /**\r\n         * Print permutation of part of array elements.\r\n         * \r\n         * @param arr\r\n         * @param n\r\n         *            start index in array,\r\n         * @return count of permutation,\r\n         */\r\n        private static int permutation(int arr[], int n) {\r\n            int counter = 0;\r\n            for (int i = n; i &lt; arr.length; i++) {\r\n                swapArrEle(arr, i, n);\r\n                counter += permutation(arr, n + 1);\r\n                swapArrEle(arr, n, i);\r\n            }\r\n            if (n == arr.length - 1) {\r\n                counter++;\r\n                System.out.println(Arrays.toString(arr));\r\n            }\r\n    \r\n            return counter;\r\n        }\r\n    \r\n        /**\r\n         * swap 2 elements in array,\r\n         * \r\n         * @param arr\r\n         * @param i\r\n         * @param k\r\n         */\r\n        private static void swapArrEle(int arr[], int i, int k) {\r\n            int tmp = arr[i];\r\n            arr[i] = arr[k];\r\n            arr[k] = tmp;\r\n        }\r\n    }\r\n\r\n**PrintPermutationTest.java** *(test case via `TestNG)`*\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    /**\r\n     * PrintPermutation test.\r\n     * \r\n     * @author eric\r\n     * @date Oct 14, 2018 3:02:23 AM\r\n     */\r\n    public class PrintPermutationTest {\r\n        @Test\r\n        public void test() {\r\n            int arr[] = new int[] { 0, 1, 2, 3 };\r\n            Assert.assertEquals(PrintPermutation.permutation(arr), 24);\r\n    \r\n            int arrSingle[] = new int[] { 0 };\r\n            Assert.assertEquals(PrintPermutation.permutation(arrSingle), 1);\r\n    \r\n            int arrEmpty[] = new int[] {};\r\n            Assert.assertEquals(PrintPermutation.permutation(arrEmpty), 0);\r\n        }\r\n    }\r\n","title":"Permutation of array","body":"<p>Implementation via recursion (dynamic programming), in <strong>Java,</strong> with test case (<strong><em>TestNG</em></strong>).</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><strong>PrintPermutation.java</strong></p>\n\n<pre><code>import java.util.Arrays;\n\n/**\n * Print permutation of n elements.\n * \n * @author eric\n * @date Oct 13, 2018 12:28:10 PM\n */\npublic class PrintPermutation {\n    /**\n     * Print permutation of array elements.\n     * \n     * @param arr\n     * @return count of permutation,\n     */\n    public static int permutation(int arr[]) {\n        return permutation(arr, 0);\n    }\n\n    /**\n     * Print permutation of part of array elements.\n     * \n     * @param arr\n     * @param n\n     *            start index in array,\n     * @return count of permutation,\n     */\n    private static int permutation(int arr[], int n) {\n        int counter = 0;\n        for (int i = n; i &lt; arr.length; i++) {\n            swapArrEle(arr, i, n);\n            counter += permutation(arr, n + 1);\n            swapArrEle(arr, n, i);\n        }\n        if (n == arr.length - 1) {\n            counter++;\n            System.out.println(Arrays.toString(arr));\n        }\n\n        return counter;\n    }\n\n    /**\n     * swap 2 elements in array,\n     * \n     * @param arr\n     * @param i\n     * @param k\n     */\n    private static void swapArrEle(int arr[], int i, int k) {\n        int tmp = arr[i];\n        arr[i] = arr[k];\n        arr[k] = tmp;\n    }\n}\n</code></pre>\n\n<p><strong>PrintPermutationTest.java</strong> <em>(test case via <code>TestNG)</code></em></p>\n\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\n/**\n * PrintPermutation test.\n * \n * @author eric\n * @date Oct 14, 2018 3:02:23 AM\n */\npublic class PrintPermutationTest {\n    @Test\n    public void test() {\n        int arr[] = new int[] { 0, 1, 2, 3 };\n        Assert.assertEquals(PrintPermutation.permutation(arr), 24);\n\n        int arrSingle[] = new int[] { 0 };\n        Assert.assertEquals(PrintPermutation.permutation(arrSingle), 1);\n\n        int arrEmpty[] = new int[] {};\n        Assert.assertEquals(PrintPermutation.permutation(arrEmpty), 0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4121965,"reputation":643,"user_id":3861538,"display_name":"Moshiour"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1547967568,"creation_date":1547966364,"answer_id":54274197,"question_id":2920315,"body_markdown":"According to wiki https://en.wikipedia.org/wiki/Heap%27s_algorithm\r\n\r\nHeap&#39;s algorithm generates all possible permutations of n objects. It was first proposed by B. R. Heap in 1963. The algorithm minimizes movement: it generates each permutation from the previous one by interchanging a single pair of elements; the other n−2 elements are not disturbed. **In a 1977 review of permutation-generating algorithms, Robert Sedgewick concluded that it was at that time the most effective algorithm for generating permutations by computer.**\r\n\r\nSo if we want to do it in recursive manner, Sudo code is bellow.\r\n\r\n\r\n    procedure generate(n : integer, A : array of any):\r\n        if n = 1 then\r\n              output(A)\r\n        else\r\n            for i := 0; i &lt; n - 1; i += 1 do\r\n                generate(n - 1, A)\r\n                if n is even then\r\n                    swap(A[i], A[n-1])\r\n                else\r\n                    swap(A[0], A[n-1])\r\n                end if\r\n            end for\r\n            generate(n - 1, A)\r\n        end if\r\n\r\njava code:\r\n\r\n    public static void printAllPermutations(\r\n            int n, int[] elements, char delimiter) {\r\n        if (n == 1) {\r\n            printArray(elements, delimiter);\r\n        } else {\r\n            for (int i = 0; i &lt; n - 1; i++) {\r\n                printAllPermutations(n - 1, elements, delimiter);\r\n                if (n % 2 == 0) {\r\n                    swap(elements, i, n - 1);\r\n                } else {\r\n                    swap(elements, 0, n - 1);\r\n                }\r\n            }\r\n            printAllPermutations(n - 1, elements, delimiter);\r\n        }\r\n    }\r\n\r\n    private static void printArray(int[] input, char delimiter) {\r\n        int i = 0;\r\n        for (; i &lt; input.length; i++) {\r\n            System.out.print(input[i]);\r\n        }\r\n        System.out.print(delimiter);\r\n    }\r\n\r\n    private static void swap(int[] input, int a, int b) {\r\n        int tmp = input[a];\r\n        input[a] = input[b];\r\n        input[b] = tmp;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = new int[]{0,1,2,3};\r\n        printAllPermutations(input.length, input, &#39;,&#39;);\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>According to wiki <a href=\"https://en.wikipedia.org/wiki/Heap%27s_algorithm\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Heap%27s_algorithm</a></p>\n\n<p>Heap's algorithm generates all possible permutations of n objects. It was first proposed by B. R. Heap in 1963. The algorithm minimizes movement: it generates each permutation from the previous one by interchanging a single pair of elements; the other n−2 elements are not disturbed. <strong>In a 1977 review of permutation-generating algorithms, Robert Sedgewick concluded that it was at that time the most effective algorithm for generating permutations by computer.</strong></p>\n\n<p>So if we want to do it in recursive manner, Sudo code is bellow.</p>\n\n<pre><code>procedure generate(n : integer, A : array of any):\n    if n = 1 then\n          output(A)\n    else\n        for i := 0; i &lt; n - 1; i += 1 do\n            generate(n - 1, A)\n            if n is even then\n                swap(A[i], A[n-1])\n            else\n                swap(A[0], A[n-1])\n            end if\n        end for\n        generate(n - 1, A)\n    end if\n</code></pre>\n\n<p>java code:</p>\n\n<pre><code>public static void printAllPermutations(\n        int n, int[] elements, char delimiter) {\n    if (n == 1) {\n        printArray(elements, delimiter);\n    } else {\n        for (int i = 0; i &lt; n - 1; i++) {\n            printAllPermutations(n - 1, elements, delimiter);\n            if (n % 2 == 0) {\n                swap(elements, i, n - 1);\n            } else {\n                swap(elements, 0, n - 1);\n            }\n        }\n        printAllPermutations(n - 1, elements, delimiter);\n    }\n}\n\nprivate static void printArray(int[] input, char delimiter) {\n    int i = 0;\n    for (; i &lt; input.length; i++) {\n        System.out.print(input[i]);\n    }\n    System.out.print(delimiter);\n}\n\nprivate static void swap(int[] input, int a, int b) {\n    int tmp = input[a];\n    input[a] = input[b];\n    input[b] = tmp;\n}\n\npublic static void main(String[] args) {\n    int[] input = new int[]{0,1,2,3};\n    printAllPermutations(input.length, input, ',');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5685370,"reputation":306,"user_id":4495107,"display_name":"Sergei Dubinin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609346534,"creation_date":1609346534,"answer_id":65510451,"question_id":2920315,"body_markdown":"Here is one using arrays and Java 8+\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = {1, 2, 3, 5};\r\n            permutation(arr, new int[]{});\r\n        }\r\n    \r\n        static void permutation(int[] arr, int[] prefix) {\r\n            if (arr.length == 0) {\r\n                System.out.println(Arrays.toString(prefix));\r\n            }\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                int i2 = i;\r\n                int[] pre = IntStream.concat(Arrays.stream(prefix), IntStream.of(arr[i])).toArray();\r\n                int[] post = IntStream.range(0, arr.length).filter(i1 -&gt; i1 != i2).map(v -&gt; arr[v]).toArray();\r\n                permutation(post, pre);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>Here is one using arrays and Java 8+</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.IntStream;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        int[] arr = {1, 2, 3, 5};\n        permutation(arr, new int[]{});\n    }\n\n    static void permutation(int[] arr, int[] prefix) {\n        if (arr.length == 0) {\n            System.out.println(Arrays.toString(prefix));\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            int i2 = i;\n            int[] pre = IntStream.concat(Arrays.stream(prefix), IntStream.of(arr[i])).toArray();\n            int[] post = IntStream.range(0, arr.length).filter(i1 -&gt; i1 != i2).map(v -&gt; arr[v]).toArray();\n            permutation(post, pre);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170442,"reputation":11,"user_id":9513043,"display_name":"Aseem A. S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633445524,"creation_date":1633445524,"answer_id":69452695,"question_id":2920315,"body_markdown":"Instead of *permutations*, we can preferably call them ***combinations***.\r\n\r\nIrrespective of the coding language, we can use a simple approach,\r\n`To append the array elements to the already existing list of combinations` thus, using the `dynamic programming` approach.\r\n\r\nThis code focuses on those combinations **without adjacency** as well.\r\n\r\n```\r\n#include &lt;iostream&gt;\r\n#include &lt;vector&gt;\r\nusing namespace std;\r\n\r\ntemplate &lt;class myIterator, class T&gt;\r\nmyIterator findDigit(myIterator first, myIterator last, T val)\r\n{\r\n    while(first != last) {\r\n        if(*first == val) { break; }\r\n        first++;\r\n    }\r\n    return first;\r\n}\r\n\r\nvoid printCombinations(vector&lt;vector&lt;int&gt;&gt; combinations)\r\n{\r\n    cout &lt;&lt; &quot;printing all &quot; &lt;&lt; combinations.size() &lt;&lt; &quot; combinations&quot; &lt;&lt; endl;\r\n    for(int i=0; i&lt;combinations.size(); i++) {\r\n        cout &lt;&lt; &quot;[&quot;;\r\n        for(int j=0; j&lt;combinations[i].size(); j++) {\r\n            cout &lt;&lt; &quot; &quot; &lt;&lt; combinations[i][j] &lt;&lt; &quot; &quot;;\r\n        }\r\n        cout &lt;&lt; &quot;] , &quot;;\r\n    }\r\n    return;\r\n}\r\n\r\nint main()\r\n{\r\n    vector&lt;int&gt; a = {1,2,3,4,5};\r\n    vector&lt;vector&lt;int&gt;&gt; comb;\r\n    vector&lt;int&gt; t;\r\n    int len=a.size();\r\n\r\n    for(int i=0; i&lt;len; i++) {\r\n        t.push_back(a.at(i));\r\n        comb.push_back(t);\r\n        t.clear();\r\n    }\r\n\r\n    for(int l=1; l&lt;len; l++) {\r\n        for(int j=0; j&lt;comb.size(); j++) {\r\n            if(comb[j].size()==l) {\r\n                int t = comb[j].back();\r\n                if(t != a.back()) {\r\n                    vector&lt;int&gt;::iterator it = findDigit(a.begin(), a.end(), t);\r\n                    for(std::vector&lt;int&gt;::iterator k=it+1; k!=a.end();k++) {\r\n                        vector&lt;int&gt; t (comb[j].begin(), comb[j].end());\r\n                        t.push_back(*k);\r\n                        comb.push_back(t);\r\n                        t.clear();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    printCombinations(comb);\r\n    return 0;\r\n}\r\n```\r\n\r\nAlthough the complexity is a bit high, it&#39;s definitely lower than the recursion approach, especially when the array size is very large.\r\n\r\nOutput for the above array (or vecter, if you will) is :\r\n```\r\nprinting all 31 combinations\r\n[ 1 ], [ 2 ], [ 3 ], [ 4 ], [ 5 ], [ 1  2 ], [ 1  3 ], [ 1  4 ], [ 1  5 ], [ 2  3 ], [ 2  4 ], [ 2  5 ], [ 3  4 ], [ 3  5 ], [ 4  5 ], [ 1 \r\n 2  3 ], [ 1  2  4 ], [ 1  2  5 ], [ 1  3  4 ], [ 1  3  5 ], [ 1  4  5 ], [ 2  3  4 ], [ 2  3  5 ], [ 2  4  5 ], [ 3  4  5 ], [ 1  2  3  4 \r\n], [ 1  2  3  5 ], [ 1  2  4  5 ], [ 1  3  4  5 ], [ 2  3  4  5 ], [ 1  2  3  4  5 ],\r\n```\r\nThe code can be used for characters and strings as well, by just replacing the datatype wherever required.\r\n\r\neg.\r\n```\r\nvector&lt;char&gt; a = {&#39;d&#39;,&#39;g&#39;,&#39;y&#39;,&#39;u&#39;,&#39;t&#39;};\r\n```\r\nTo give\r\n```\r\nprinting all 31 combinations\r\n[ d ] , [ g ] , [ y ] , [ u ] , [ t ] , [ d  g ] , [ d  y ] , [ d  u ] , [ d  t ] , [ g  y ] , [ g  u ] , [ g  t ] , [ y  u ] , [ y  t ] , \r\n[ u  t ] , [ d  g  y ] , [ d  g  u ] , [ d  g  t ] , [ d  y  u ] , [ d  y  t ] , [ d  u  t ] , [ g  y  u ] , [ g  y  t ] , [ g  u  t ] , [ \r\ny  u  t ] , [ d  g  y  u ] , [ d  g  y  t ] , [ d  g  u  t ] , [ d  y  u  t ] , [ g  y  u  t ] , [ d  g  y  u  t ] ,\r\n```\r\nand\r\n```\r\nvector&lt;string&gt; a = {&quot;asdf&quot;,&quot;myfl&quot;, &quot;itshot&quot;, &quot;holy&quot;};\r\n```\r\nto give\r\n```\r\nprinting all 15 combinations\r\n[ asdf ] , [ myfl ] , [ itshot ] , [ holy ] , [ asdf  myfl ] , [ asdf  itshot ] , [ asdf  holy ] , [ myfl  itshot ] , [ myfl  holy ] , [ itshot  holy ] , [ asdf  myfl  itshot ] , [ asdf  myfl  holy ] , [ asdf  itshot  holy ] , [ myfl  itshot  holy ] , [ asdf  myfl  itshot  holy ] ,\r\n```","title":"Permutation of array","body":"<p>Instead of <em>permutations</em>, we can preferably call them <em><strong>combinations</strong></em>.</p>\n<p>Irrespective of the coding language, we can use a simple approach,\n<code>To append the array elements to the already existing list of combinations</code> thus, using the <code>dynamic programming</code> approach.</p>\n<p>This code focuses on those combinations <strong>without adjacency</strong> as well.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\ntemplate &lt;class myIterator, class T&gt;\nmyIterator findDigit(myIterator first, myIterator last, T val)\n{\n    while(first != last) {\n        if(*first == val) { break; }\n        first++;\n    }\n    return first;\n}\n\nvoid printCombinations(vector&lt;vector&lt;int&gt;&gt; combinations)\n{\n    cout &lt;&lt; &quot;printing all &quot; &lt;&lt; combinations.size() &lt;&lt; &quot; combinations&quot; &lt;&lt; endl;\n    for(int i=0; i&lt;combinations.size(); i++) {\n        cout &lt;&lt; &quot;[&quot;;\n        for(int j=0; j&lt;combinations[i].size(); j++) {\n            cout &lt;&lt; &quot; &quot; &lt;&lt; combinations[i][j] &lt;&lt; &quot; &quot;;\n        }\n        cout &lt;&lt; &quot;] , &quot;;\n    }\n    return;\n}\n\nint main()\n{\n    vector&lt;int&gt; a = {1,2,3,4,5};\n    vector&lt;vector&lt;int&gt;&gt; comb;\n    vector&lt;int&gt; t;\n    int len=a.size();\n\n    for(int i=0; i&lt;len; i++) {\n        t.push_back(a.at(i));\n        comb.push_back(t);\n        t.clear();\n    }\n\n    for(int l=1; l&lt;len; l++) {\n        for(int j=0; j&lt;comb.size(); j++) {\n            if(comb[j].size()==l) {\n                int t = comb[j].back();\n                if(t != a.back()) {\n                    vector&lt;int&gt;::iterator it = findDigit(a.begin(), a.end(), t);\n                    for(std::vector&lt;int&gt;::iterator k=it+1; k!=a.end();k++) {\n                        vector&lt;int&gt; t (comb[j].begin(), comb[j].end());\n                        t.push_back(*k);\n                        comb.push_back(t);\n                        t.clear();\n                    }\n                }\n            }\n        }\n    }\n\n    printCombinations(comb);\n    return 0;\n}\n</code></pre>\n<p>Although the complexity is a bit high, it's definitely lower than the recursion approach, especially when the array size is very large.</p>\n<p>Output for the above array (or vecter, if you will) is :</p>\n<pre><code>printing all 31 combinations\n[ 1 ], [ 2 ], [ 3 ], [ 4 ], [ 5 ], [ 1  2 ], [ 1  3 ], [ 1  4 ], [ 1  5 ], [ 2  3 ], [ 2  4 ], [ 2  5 ], [ 3  4 ], [ 3  5 ], [ 4  5 ], [ 1 \n 2  3 ], [ 1  2  4 ], [ 1  2  5 ], [ 1  3  4 ], [ 1  3  5 ], [ 1  4  5 ], [ 2  3  4 ], [ 2  3  5 ], [ 2  4  5 ], [ 3  4  5 ], [ 1  2  3  4 \n], [ 1  2  3  5 ], [ 1  2  4  5 ], [ 1  3  4  5 ], [ 2  3  4  5 ], [ 1  2  3  4  5 ],\n</code></pre>\n<p>The code can be used for characters and strings as well, by just replacing the datatype wherever required.</p>\n<p>eg.</p>\n<pre><code>vector&lt;char&gt; a = {'d','g','y','u','t'};\n</code></pre>\n<p>To give</p>\n<pre><code>printing all 31 combinations\n[ d ] , [ g ] , [ y ] , [ u ] , [ t ] , [ d  g ] , [ d  y ] , [ d  u ] , [ d  t ] , [ g  y ] , [ g  u ] , [ g  t ] , [ y  u ] , [ y  t ] , \n[ u  t ] , [ d  g  y ] , [ d  g  u ] , [ d  g  t ] , [ d  y  u ] , [ d  y  t ] , [ d  u  t ] , [ g  y  u ] , [ g  y  t ] , [ g  u  t ] , [ \ny  u  t ] , [ d  g  y  u ] , [ d  g  y  t ] , [ d  g  u  t ] , [ d  y  u  t ] , [ g  y  u  t ] , [ d  g  y  u  t ] ,\n</code></pre>\n<p>and</p>\n<pre><code>vector&lt;string&gt; a = {&quot;asdf&quot;,&quot;myfl&quot;, &quot;itshot&quot;, &quot;holy&quot;};\n</code></pre>\n<p>to give</p>\n<pre><code>printing all 15 combinations\n[ asdf ] , [ myfl ] , [ itshot ] , [ holy ] , [ asdf  myfl ] , [ asdf  itshot ] , [ asdf  holy ] , [ myfl  itshot ] , [ myfl  holy ] , [ itshot  holy ] , [ asdf  myfl  itshot ] , [ asdf  myfl  holy ] , [ asdf  itshot  holy ] , [ myfl  itshot  holy ] , [ asdf  myfl  itshot  holy ] ,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080311,"creation_date":1680080311,"answer_id":75875105,"question_id":2920315,"body_markdown":"Permutation via **iteration**, in `go`.\r\n\r\n```\r\n// find all permutation of []T, return [][]T, not ordered, via iteration,\r\n// tips: for empty input, return 1 empty combination,\r\nfunc FindAllPermutation[T any](ts []T) [][]T {\r\n\tcombList := [][]T{{}} // when empty input, has 1 empty combination, not 0 combination,\r\n\tfor i := len(ts) - 1; i &gt;= 0; i-- {\r\n\t\t// prefix := ts[0:i]\r\n\t\tmover := ts[i]\r\n\t\t// fmt.Printf(&quot;\\nprefix = %v, mover = %v:\\n&quot;, prefix, mover)\r\n\t\tvar combList2 [][]T // combinations with an extra item added,\r\n\t\tfor _, comb := range combList {\r\n\t\t\tfor j := 0; j &lt;= len(comb); j++ { // insert mover at index j of comb,\r\n\t\t\t\tcomb2 := append(append(append([]T{}, comb[0:j]...), mover), comb[j:]...) // new_empty + left + mover + right\r\n\t\t\t\t// fmt.Printf(&quot;\\t%v\\n&quot;, comb2)\r\n\t\t\t\tcombList2 = append(combList2, comb2)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcombList = combList2\r\n\t}\r\n\r\n\treturn combList\r\n}\r\n```\r\n","title":"Permutation of array","body":"<p>Permutation via <strong>iteration</strong>, in <code>go</code>.</p>\n<pre><code>// find all permutation of []T, return [][]T, not ordered, via iteration,\n// tips: for empty input, return 1 empty combination,\nfunc FindAllPermutation[T any](ts []T) [][]T {\n    combList := [][]T{{}} // when empty input, has 1 empty combination, not 0 combination,\n    for i := len(ts) - 1; i &gt;= 0; i-- {\n        // prefix := ts[0:i]\n        mover := ts[i]\n        // fmt.Printf(&quot;\\nprefix = %v, mover = %v:\\n&quot;, prefix, mover)\n        var combList2 [][]T // combinations with an extra item added,\n        for _, comb := range combList {\n            for j := 0; j &lt;= len(comb); j++ { // insert mover at index j of comb,\n                comb2 := append(append(append([]T{}, comb[0:j]...), mover), comb[j:]...) // new_empty + left + mover + right\n                // fmt.Printf(&quot;\\t%v\\n&quot;, comb2)\n                combList2 = append(combList2, comb2)\n            }\n        }\n\n        combList = combList2\n    }\n\n    return combList\n}\n</code></pre>\n"}],"owner":{"display_name":"user466534"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186555,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":2920347,"answer_count":14,"score":81,"last_activity_date":1680080311,"creation_date":1274956339,"question_id":2920315,"body_markdown":"For example I have this array:\r\n\r\n    int a[] = new int[]{3,4,6,2,1};\r\n\r\nI need list of all permutations such that  if one is like this, `{3,2,1,4,6}`, others must not be the same. I know that if the length of the array is *n* then there are *n!* possible combinations. How can this algorithm be written?\r\n\r\nUpdate: thanks, but I need a pseudo code algorithm like:\r\n\r\n    for(int i=0;i&lt;a.length;i++){\r\n        // code here\r\n    }\r\n\r\nJust algorithm. Yes, API functions are good, but it does not help me too much.\r\n","title":"Permutation of array","body":"<p>For example I have this array:</p>\n\n<pre><code>int a[] = new int[]{3,4,6,2,1};\n</code></pre>\n\n<p>I need list of all permutations such that  if one is like this, <code>{3,2,1,4,6}</code>, others must not be the same. I know that if the length of the array is <em>n</em> then there are <em>n!</em> possible combinations. How can this algorithm be written?</p>\n\n<p>Update: thanks, but I need a pseudo code algorithm like:</p>\n\n<pre><code>for(int i=0;i&lt;a.length;i++){\n    // code here\n}\n</code></pre>\n\n<p>Just algorithm. Yes, API functions are good, but it does not help me too much.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680012792,"post_id":75867380,"comment_id":133821733,"body_markdown":"chatGPT told this: It&#39;s possible that these classes are being instantiated and added to the engineListeners list in other parts of the codebase.\n\nSpring framework uses the Inversion of Control (IoC) pattern to manage the lifecycle and dependencies of objects in an application. One of the ways to achieve IoC in Spring is through the use of Dependency Injection (DI), where the framework injects dependencies into the objects that require them, rather than requiring the objects to create and manage their dependencies themselves.","body":"chatGPT told this: It&#39;s possible that these classes are being instantiated and added to the engineListeners list in other parts of the codebase.  Spring framework uses the Inversion of Control (IoC) pattern to manage the lifecycle and dependencies of objects in an application. One of the ways to achieve IoC in Spring is through the use of Dependency Injection (DI), where the framework injects dependencies into the objects that require them, rather than requiring the objects to create and manage their dependencies themselves."},{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680012798,"post_id":75867380,"comment_id":133821736,"body_markdown":"and this: \nBased on the fact that the ModifiedObjectWriter is annotated with @Component, it&#39;s likely that Spring is responsible for instantiating it and injecting it into any other objects that require it. It&#39;s also possible that Spring is creating instances of the EngineSnapshotTaker and OrderBookSnapshotTaker classes as well, but they are not being used in this particular class and therefore are not injected into the engineListeners list.\n\nIt&#39;s worth checking the entire codebase for any other parts where these classes are being used and instantiated.","body":"and this:  Based on the fact that the ModifiedObjectWriter is annotated with @Component, it&#39;s likely that Spring is responsible for instantiating it and injecting it into any other objects that require it. It&#39;s also possible that Spring is creating instances of the EngineSnapshotTaker and OrderBookSnapshotTaker classes as well, but they are not being used in this particular class and therefore are not injected into the engineListeners list.  It&#39;s worth checking the entire codebase for any other parts where these classes are being used and instantiated."}],"answers":[{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680045748,"creation_date":1680015423,"answer_id":75867870,"question_id":75867380,"body_markdown":"**engineListeners contains instances of three classes because all three extend EngineListener class and thus bean belonging to each class is added to the list.**\r\nThat&#39;s probably because of a property of autowiring beans which follows that **when you autowire a list of particular class, then it will all beans belonging to that class or its subclasses are automatically added to that list.** For more information you can refer the following link: ```https://stackoverflow.com/questions/7446301/autowire-reference-beans-into-list-by-type```\r\n\r\nFurtermore, you are using @RequiredArgsConstructor of Lombok, a constructor is automatically generated for you. **Since it&#39;s the only constructor, Spring uses it to autowire the dependencies of Bootstrap , including engineListeners (without the explicit need for an &#39;@Autowired&#39;)**. Refer this for more details on automatic dependency injection without @Autowired - \r\n```\r\nhttps://stackoverflow.com/a/41092831/21497826\r\n```","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p><strong>engineListeners contains instances of three classes because all three extend EngineListener class and thus bean belonging to each class is added to the list.</strong>\nThat's probably because of a property of autowiring beans which follows that <strong>when you autowire a list of particular class, then it will all beans belonging to that class or its subclasses are automatically added to that list.</strong> For more information you can refer the following link: <code>https://stackoverflow.com/questions/7446301/autowire-reference-beans-into-list-by-type</code></p>\n<p>Furtermore, you are using @RequiredArgsConstructor of Lombok, a constructor is automatically generated for you. <strong>Since it's the only constructor, Spring uses it to autowire the dependencies of Bootstrap , including engineListeners (without the explicit need for an '@Autowired')</strong>. Refer this for more details on automatic dependency injection without @Autowired -</p>\n<pre><code>https://stackoverflow.com/a/41092831/21497826\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080281,"creation_date":1680021189,"answer_id":75868816,"question_id":75867380,"body_markdown":"There are two annotations on the Bootstrap class that are relevant here:\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Bootstrap {\r\n    // …\r\n}\r\n```\r\n\r\n`@Component` is a Spring annotation. It means that it will be a Spring-managed &quot;bean&quot; and an instance of `Bootstrap` will be created by Spring and its dependencies will be injected into it. These dependencies will be resolved by looking at other Spring-managed beans and finding those that match the types required by the constructor.  Where the type being injected is a `List&lt;T&gt;`, Spring will use the type information and inject a list containing every bean that matches the required type. For example, `List&lt;EngineListener&gt;` will inject a list containing every `EngineListener` bean that&#39;s known to Spring.\r\n\r\n`@RequiredArgsConstructor` is a Lombok annotation. During compilation, it causes a constructor to be generated with one argument for each final field in the class. The class has 18 final fields:\r\n\r\n```\r\n    private final OrderManager orderManager;\r\n    private final AccountManager accountManager;\r\n    private final OrderBookSnapshotStore orderBookSnapshotStore;\r\n    private final TradeRepository tradeRepository;\r\n    private final ProductRepository productRepository;\r\n    private final ProductManager productManager;\r\n    private final CandleRepository candleRepository;\r\n    private final KafkaMessageProducer messageProducer;\r\n    private final TickerManager tickerManager;\r\n    private final AppProperties appProperties;\r\n    private final KafkaProperties kafkaProperties;\r\n    private final RedissonClient redissonClient;\r\n    private final List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n    private final EngineSnapshotStore engineSnapshotStore;\r\n    private final ModifiedObjectWriter modifiedObjectWriter;\r\n    private final EngineSnapshotTaker engineSnapshotTaker;\r\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\r\n    private final List&lt;EngineListener&gt; engineListeners;\r\n```\r\n\r\nThis will result in Lombok generating a constructor with 18 arguments. Each of these arguments will be injected by Spring when it creates an instance of the `Bootstrap` class.\r\n\r\nIn my opinion, if you&#39;re learning Java, you may want to look at a different codebase. A class with 18 constructor arguments is very complex and some would argue that it needs to be split up into a number of smaller, more manageable classes. You may also want to avoid Lombok, at least until you understand what the code that it generates for you would have looked like.","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p>There are two annotations on the Bootstrap class that are relevant here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class Bootstrap {\n    // …\n}\n</code></pre>\n<p><code>@Component</code> is a Spring annotation. It means that it will be a Spring-managed &quot;bean&quot; and an instance of <code>Bootstrap</code> will be created by Spring and its dependencies will be injected into it. These dependencies will be resolved by looking at other Spring-managed beans and finding those that match the types required by the constructor.  Where the type being injected is a <code>List&lt;T&gt;</code>, Spring will use the type information and inject a list containing every bean that matches the required type. For example, <code>List&lt;EngineListener&gt;</code> will inject a list containing every <code>EngineListener</code> bean that's known to Spring.</p>\n<p><code>@RequiredArgsConstructor</code> is a Lombok annotation. During compilation, it causes a constructor to be generated with one argument for each final field in the class. The class has 18 final fields:</p>\n<pre><code>    private final OrderManager orderManager;\n    private final AccountManager accountManager;\n    private final OrderBookSnapshotStore orderBookSnapshotStore;\n    private final TradeRepository tradeRepository;\n    private final ProductRepository productRepository;\n    private final ProductManager productManager;\n    private final CandleRepository candleRepository;\n    private final KafkaMessageProducer messageProducer;\n    private final TickerManager tickerManager;\n    private final AppProperties appProperties;\n    private final KafkaProperties kafkaProperties;\n    private final RedissonClient redissonClient;\n    private final List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n    private final EngineSnapshotStore engineSnapshotStore;\n    private final ModifiedObjectWriter modifiedObjectWriter;\n    private final EngineSnapshotTaker engineSnapshotTaker;\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\n    private final List&lt;EngineListener&gt; engineListeners;\n</code></pre>\n<p>This will result in Lombok generating a constructor with 18 arguments. Each of these arguments will be injected by Spring when it creates an instance of the <code>Bootstrap</code> class.</p>\n<p>In my opinion, if you're learning Java, you may want to look at a different codebase. A class with 18 constructor arguments is very complex and some would argue that it needs to be split up into a number of smaller, more manageable classes. You may also want to avoid Lombok, at least until you understand what the code that it generates for you would have looked like.</p>\n"}],"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680080281,"creation_date":1680012499,"question_id":75867380,"body_markdown":"I am learning java and Springboot.  In an opensource repository https://github.com/gitbitex/gitbitex-new, The Bootstrap.java class conatains a code that is not being used. Specifically, Consider the following Code:\r\n\r\n    private final ModifiedObjectWriter modifiedObjectWriter;\r\n    private final EngineSnapshotTaker engineSnapshotTaker;\r\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\r\n    private final List engineListeners;\r\n       @PostConstruct\r\n        public void init() {\r\n            startMatchingEngine(1);\r\n            startOrderPersistenceThread(1);\r\n            startTradePersistenceThread(1);\r\n            startAccountPersistenceThread(1);\r\n            startCandleMaker(1);\r\n            startTickerThread(1);\r\n        }\r\n     private void startMatchingEngine(int nThreads) {\r\n            for (int i = 0; i &lt; nThreads; i++) {\r\n                String groupId = &quot;MatchingEngine&quot;;\r\n                KafkaConsumer&lt;String, Command&gt; consumer = new KafkaConsumer&lt;&gt;(getProperties(groupId),\r\n                        new StringDeserializer(), new CommandDeserializer());\r\n                MatchingEngineThread matchingEngineThread = new MatchingEngineThread(consumer, engineSnapshotStore,\r\n                        engineListeners, appProperties);\r\n                matchingEngineThread.setName(groupId + &quot;-&quot; + matchingEngineThread.getId());\r\n                matchingEngineThread.start();\r\n                threads.add(matchingEngineThread);\r\n            }\r\n        }\r\n\r\nNow my observations about this. &lt;br&gt; (a) Top three classes, the modifiedObjectWriter, EngineSnapshotTaker, and OrderBookSnapshotTaker extends the EngineListener Class, but these classes are clearly not being used. &lt;br&gt;(b) engineListener is being used but it appears to be an empty List. &lt;br&gt;\r\n(c) The modifiedObjectWriter is annotated with @Component. &lt;br&gt;\r\n(d)  At runtime, the engineListeners List is found to contain the instances of these Three Classes, &lt;br&gt; Now I wonder, How are these classes possibly injected in the engineListener List? Kindly refer to the repository for any details that I could have missed. ","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p>I am learning java and Springboot.  In an opensource repository <a href=\"https://github.com/gitbitex/gitbitex-new\" rel=\"nofollow noreferrer\">https://github.com/gitbitex/gitbitex-new</a>, The Bootstrap.java class conatains a code that is not being used. Specifically, Consider the following Code:</p>\n<pre><code>private final ModifiedObjectWriter modifiedObjectWriter;\nprivate final EngineSnapshotTaker engineSnapshotTaker;\nprivate final OrderBookSnapshotTaker orderBookSnapshotTaker;\nprivate final List engineListeners;\n   @PostConstruct\n    public void init() {\n        startMatchingEngine(1);\n        startOrderPersistenceThread(1);\n        startTradePersistenceThread(1);\n        startAccountPersistenceThread(1);\n        startCandleMaker(1);\n        startTickerThread(1);\n    }\n private void startMatchingEngine(int nThreads) {\n        for (int i = 0; i &lt; nThreads; i++) {\n            String groupId = &quot;MatchingEngine&quot;;\n            KafkaConsumer&lt;String, Command&gt; consumer = new KafkaConsumer&lt;&gt;(getProperties(groupId),\n                    new StringDeserializer(), new CommandDeserializer());\n            MatchingEngineThread matchingEngineThread = new MatchingEngineThread(consumer, engineSnapshotStore,\n                    engineListeners, appProperties);\n            matchingEngineThread.setName(groupId + &quot;-&quot; + matchingEngineThread.getId());\n            matchingEngineThread.start();\n            threads.add(matchingEngineThread);\n        }\n    }\n</code></pre>\n<p>Now my observations about this. <br> (a) Top three classes, the modifiedObjectWriter, EngineSnapshotTaker, and OrderBookSnapshotTaker extends the EngineListener Class, but these classes are clearly not being used. <br>(b) engineListener is being used but it appears to be an empty List. <br>\n(c) The modifiedObjectWriter is annotated with @Component. <br>\n(d)  At runtime, the engineListeners List is found to contain the instances of these Three Classes, <br> Now I wonder, How are these classes possibly injected in the engineListener List? Kindly refer to the repository for any details that I could have missed.</p>\n"},{"tags":["java","junit","exception","junit4"],"answers":[{"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1334350159,"creation_date":1334350159,"answer_id":10148123,"question_id":10148101,"body_markdown":"    try {\r\n        assertEquals(&quot;Legal Values: Package Type must be P or R&quot;, Shipping.shippingCost(&#39;P&#39;, -5));\r\n        Assert.fail( &quot;Should have thrown an exception&quot; );\r\n    } \r\n    catch (Exception e) {\r\n        String expectedMessage = &quot;this is the message I expect to get&quot;;\r\n        Assert.assertEquals( &quot;Exception message must be correct&quot;, expectedMessage, e.getMessage() );\r\n    }   \r\n","title":"junit testing - assertEquals for exception","body":"<pre><code>try {\n    assertEquals(\"Legal Values: Package Type must be P or R\", Shipping.shippingCost('P', -5));\n    Assert.fail( \"Should have thrown an exception\" );\n} \ncatch (Exception e) {\n    String expectedMessage = \"this is the message I expect to get\";\n    Assert.assertEquals( \"Exception message must be correct\", expectedMessage, e.getMessage() );\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1398096377,"creation_date":1334350198,"answer_id":10148132,"question_id":10148101,"body_markdown":"The assertEquals in your example would be comparing the return value of the method call to the expected value, which isn&#39;t what you want, and of course there isn&#39;t going to be a return value if the expected exception occurs. Move the assertEquals to the catch block:\r\n\r\n    @Test\r\n    public void testTC3()\r\n    {\r\n        try {\r\n            Shipping.shippingCost(&#39;P&#39;, -5);\r\n            fail(); // if we got here, no exception was thrown, which is bad\r\n        } \r\n        catch (Exception e) {\r\n            final String expected = &quot;Legal Values: Package Type must be P or R&quot;;\r\n            assertEquals( expected, e.getMessage());\r\n        }        \r\n    }\r\n\r\n","title":"junit testing - assertEquals for exception","body":"<p>The assertEquals in your example would be comparing the return value of the method call to the expected value, which isn't what you want, and of course there isn't going to be a return value if the expected exception occurs. Move the assertEquals to the catch block:</p>\n\n<pre><code>@Test\npublic void testTC3()\n{\n    try {\n        Shipping.shippingCost('P', -5);\n        fail(); // if we got here, no exception was thrown, which is bad\n    } \n    catch (Exception e) {\n        final String expected = \"Legal Values: Package Type must be P or R\";\n        assertEquals( expected, e.getMessage());\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450464447,"creation_date":1450464447,"answer_id":34362110,"question_id":10148101,"body_markdown":"# Java 8 solution\r\n\r\nHere is a utility function that I wrote:\r\n\r\n    public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\r\n    {\r\n        try\r\n        {\r\n            runnable.run();\r\n        }\r\n        catch( Throwable throwable )\r\n        {\r\n            if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\r\n                throwable = throwable.getCause(); //allows &quot;assert x != null : new IllegalArgumentException();&quot;\r\n            assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\r\n            assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\r\n            @SuppressWarnings( &quot;unchecked&quot; )\r\n            T result = (T)throwable;\r\n            return result;\r\n        }\r\n        assert false; //expected exception was not thrown.\r\n        return null; //to keep the compiler happy.\r\n    }\r\n\r\n([taken from my blog](http://blog.michael.gr/2014/09/assertions-and-testing.html))\r\n\r\nUse it as follows:\r\n\r\n    @Test\r\n    public void testThrows()\r\n    {\r\n        RuntimeException e = expectException( RuntimeException.class, () -&gt; \r\n            {\r\n                throw new RuntimeException( &quot;fail!&quot; );\r\n            } );\r\n        assert e.getMessage().equals( &quot;fail!&quot; );\r\n    }\r\n\r\nAlso, if you would like to read some reasons why *you should **not*** want to `assertTrue` that the message of your exception is equal to a particular value, see this: https://softwareengineering.stackexchange.com/a/278958/41811","title":"junit testing - assertEquals for exception","body":"<h1>Java 8 solution</h1>\n\n<p>Here is a utility function that I wrote:</p>\n\n<pre><code>public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\n{\n    try\n    {\n        runnable.run();\n    }\n    catch( Throwable throwable )\n    {\n        if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\n            throwable = throwable.getCause(); //allows \"assert x != null : new IllegalArgumentException();\"\n        assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\n        assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\n        @SuppressWarnings( \"unchecked\" )\n        T result = (T)throwable;\n        return result;\n    }\n    assert false; //expected exception was not thrown.\n    return null; //to keep the compiler happy.\n}\n</code></pre>\n\n<p>(<a href=\"http://blog.michael.gr/2014/09/assertions-and-testing.html\" rel=\"nofollow noreferrer\">taken from my blog</a>)</p>\n\n<p>Use it as follows:</p>\n\n<pre><code>@Test\npublic void testThrows()\n{\n    RuntimeException e = expectException( RuntimeException.class, () -&gt; \n        {\n            throw new RuntimeException( \"fail!\" );\n        } );\n    assert e.getMessage().equals( \"fail!\" );\n}\n</code></pre>\n\n<p>Also, if you would like to read some reasons why <em>you should <strong>not</em></strong> want to <code>assertTrue</code> that the message of your exception is equal to a particular value, see this: <a href=\"https://softwareengineering.stackexchange.com/a/278958/41811\">https://softwareengineering.stackexchange.com/a/278958/41811</a></p>\n"},{"tags":[],"owner":{"account_id":8110624,"reputation":21,"user_id":6110851,"display_name":"Vladimir Budu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459451520,"creation_date":1459418202,"answer_id":36330041,"question_id":10148101,"body_markdown":"&gt; Works perfectly for me.\r\n\r\n    try{\r\n\t    assertEquals(&quot;text&quot;, driver.findElement(By.cssSelector(&quot;html element&quot;)).getText());\r\n\t\t}catch(ComparisonFailure e){\r\n\t\t\tSystem.err.println(&quot;assertequals fail&quot;);\r\n\t\t}\r\n\r\nif assertEquals fails ComparisonFailure will handle it","title":"junit testing - assertEquals for exception","body":"<blockquote>\n  <p>Works perfectly for me.</p>\n</blockquote>\n\n<pre><code>try{\n    assertEquals(\"text\", driver.findElement(By.cssSelector(\"html element\")).getText());\n    }catch(ComparisonFailure e){\n        System.err.println(\"assertequals fail\");\n    }\n</code></pre>\n\n<p>if assertEquals fails ComparisonFailure will handle it</p>\n"},{"tags":[],"owner":{"account_id":3671664,"reputation":1590,"user_id":6330873,"display_name":"Jakub Bibro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464713489,"creation_date":1464713489,"answer_id":37551481,"question_id":10148101,"body_markdown":"This is nice [library](https://github.com/Codearte/catch-exception) that allows asserting exceptions in a clean way. \r\n\r\nExample:\r\n\r\n    // given: an empty list\r\n    List myList = new ArrayList();\r\n    \r\n    // when: we try to get the first element of the list\r\n    when(myList).get(1);\r\n    \r\n    // then: we expect an IndexOutOfBoundsException\r\n    then(caughtException())\r\n            .isInstanceOf(IndexOutOfBoundsException.class)\r\n            .hasMessage(&quot;Index: 1, Size: 0&quot;)\r\n            .hasNoCause();","title":"junit testing - assertEquals for exception","body":"<p>This is nice <a href=\"https://github.com/Codearte/catch-exception\" rel=\"nofollow\">library</a> that allows asserting exceptions in a clean way. </p>\n\n<p>Example:</p>\n\n<pre><code>// given: an empty list\nList myList = new ArrayList();\n\n// when: we try to get the first element of the list\nwhen(myList).get(1);\n\n// then: we expect an IndexOutOfBoundsException\nthen(caughtException())\n        .isInstanceOf(IndexOutOfBoundsException.class)\n        .hasMessage(\"Index: 1, Size: 0\")\n        .hasNoCause();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080228,"creation_date":1680080228,"answer_id":75875089,"question_id":10148101,"body_markdown":"    try {\r\n      Assert.assertArrayEquals(v1, v2);\r\n    } catch (AssertionError e) {\r\n       throw new CustomeException(&quot;validation failed&quot;);\r\n    }","title":"junit testing - assertEquals for exception","body":"<pre><code>try {\n  Assert.assertArrayEquals(v1, v2);\n} catch (AssertionError e) {\n   throw new CustomeException(&quot;validation failed&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1349138,"reputation":586,"user_id":1289282,"accept_rate":79,"display_name":"Meowbits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36774,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10148123,"answer_count":6,"score":10,"last_activity_date":1680080228,"creation_date":1334350040,"question_id":10148101,"body_markdown":"How can I use assertEquals to see if the exception message is correct?\r\nThe test passes but I don&#39;t know if it hits the correct error or not.\r\n\r\n\r\nThe test I am running.\r\n\r\n    @Test\r\n    public void testTC3()\r\n    {\r\n        try {\r\n        assertEquals(&quot;Legal Values: Package Type must be P or R&quot;, Shipping.shippingCost(&#39;P&#39;, -5));\r\n        } \r\n        catch (Exception e) {\r\n        }        \r\n    }\r\n\r\n\r\n   \r\nThe method being tested.\r\n     \r\n    public static int shippingCost(char packageType, int weight) throws Exception\r\n    {\r\n        String e1 = &quot;Legal Values: Package Type must be P or R&quot;;\r\n        String e2 = &quot;Legal Values: Weight &lt; 0&quot;;\r\n        int cost = 0;\r\n            if((packageType != &#39;P&#39;)&amp;&amp;(packageType != &#39;R&#39;))\r\n            {\r\n                 throw new Exception(e1);\r\n            }\r\n\r\n            if(weight &lt; 0)\r\n            {\r\n                 throw new Exception(e2);\r\n            }        \r\n             if(packageType == &#39;P&#39;)\r\n             {\r\n                 cost += 10;\r\n             }\r\n             if(weight &lt;= 25)\r\n             {   \r\n                 cost += 10;\r\n             }\r\n             else\r\n             {\r\n                cost += 25;\r\n             }\r\n             return cost;       \r\n    }\r\n}\r\n\r\nThanks for the help.","title":"junit testing - assertEquals for exception","body":"<p>How can I use assertEquals to see if the exception message is correct?\nThe test passes but I don't know if it hits the correct error or not.</p>\n\n<p>The test I am running.</p>\n\n<pre><code>@Test\npublic void testTC3()\n{\n    try {\n    assertEquals(\"Legal Values: Package Type must be P or R\", Shipping.shippingCost('P', -5));\n    } \n    catch (Exception e) {\n    }        \n}\n</code></pre>\n\n<p>The method being tested.</p>\n\n<pre><code>public static int shippingCost(char packageType, int weight) throws Exception\n{\n    String e1 = \"Legal Values: Package Type must be P or R\";\n    String e2 = \"Legal Values: Weight &lt; 0\";\n    int cost = 0;\n        if((packageType != 'P')&amp;&amp;(packageType != 'R'))\n        {\n             throw new Exception(e1);\n        }\n\n        if(weight &lt; 0)\n        {\n             throw new Exception(e2);\n        }        \n         if(packageType == 'P')\n         {\n             cost += 10;\n         }\n         if(weight &lt;= 25)\n         {   \n             cost += 10;\n         }\n         else\n         {\n            cost += 25;\n         }\n         return cost;       \n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks for the help.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1680079878,"post_id":75874888,"comment_id":133834676,"body_markdown":"Folders do not exist in Cloud Storage. The namespace if flat. The solution is to include the folder name in the name of the object.","body":"Folders do not exist in Cloud Storage. The namespace if flat. The solution is to include the folder name in the name of the object."},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1680080257,"post_id":75874888,"comment_id":133834775,"body_markdown":"more details here https://cloud.google.com/storage/docs/folders","body":"more details here <a href=\"https://cloud.google.com/storage/docs/folders\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/folders</a>"}],"answers":[{"tags":[],"owner":{"account_id":21574376,"reputation":264,"user_id":15906778,"display_name":"Abdul Fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680080139,"creation_date":1680080139,"answer_id":75875068,"question_id":75874888,"body_markdown":"To write the file to a specific folder in your GCP bucket, you just need to update the BlobId object the following code example mods should be fixing your problem.\r\n\r\n\r\n```\r\n    try {\r\n            String folderPath = &quot;folder/subfolder/&quot;;\r\n            String fileName = &quot;demofile1.json&quot;;\r\n            BlobId id = BlobId.of(&quot;my-bucket&quot;, folderPath + fileName);\r\n            BlobInfo info = BlobInfo.newBuilder(id).build();\r\n            byte[] arr = fileData.getBytes();\r\n            storage.create(info, arr);\r\n        }\r\n\r\n```\r\n\r\n","title":"Writing a file in GCP bucket folder fails","body":"<p>To write the file to a specific folder in your GCP bucket, you just need to update the BlobId object the following code example mods should be fixing your problem.</p>\n<pre><code>    try {\n            String folderPath = &quot;folder/subfolder/&quot;;\n            String fileName = &quot;demofile1.json&quot;;\n            BlobId id = BlobId.of(&quot;my-bucket&quot;, folderPath + fileName);\n            BlobInfo info = BlobInfo.newBuilder(id).build();\n            byte[] arr = fileData.getBytes();\n            storage.create(info, arr);\n        }\n\n</code></pre>\n"}],"owner":{"account_id":28156068,"reputation":13,"user_id":21516783,"display_name":"user7078"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75875068,"answer_count":1,"score":1,"last_activity_date":1680080139,"creation_date":1680078959,"question_id":75874888,"body_markdown":"I have to write a file to GCP folder. \r\nI have written following code to write but it writes on bucket directly than the folder of bucket. \r\nI am new to GCP, so please help !\r\n \r\nI am using following dependencies:\r\n\r\nspring-boot-starter-web\r\nspring-cloud-gcp-dependencies\r\nspring-cloud-gcp-dependencies\r\nspring-cloud-gcp-starter-storage\r\n\r\nWhat changes I can do ?\r\n\r\n\r\nI tried below code, but I need to update it to folder.\r\n\r\n\r\n```\r\n  @GetMapping(&quot;/send-data&quot;)\r\n    public String sendData() throws IOException, URISyntaxException {\r\n        try {\r\n                BlobId id = BlobId.of(&quot;my-bucket&quot;, &quot;demofile1.json&quot;);\r\n                BlobInfo info = BlobInfo.newBuilder(id).build();\r\n                byte[] arr = fileData.getBytes();\r\n                storage.create(info, arr);\r\n            }\r\n       }\r\n```\r\n\r\nAbove code works well, but I have created a folder as &quot;test&quot; in the bucket and now I want to write a file in that &quot;test&quot; folder rather than in bucket.\r\n","title":"Writing a file in GCP bucket folder fails","body":"<p>I have to write a file to GCP folder.\nI have written following code to write but it writes on bucket directly than the folder of bucket.\nI am new to GCP, so please help !</p>\n<p>I am using following dependencies:</p>\n<p>spring-boot-starter-web\nspring-cloud-gcp-dependencies\nspring-cloud-gcp-dependencies\nspring-cloud-gcp-starter-storage</p>\n<p>What changes I can do ?</p>\n<p>I tried below code, but I need to update it to folder.</p>\n<pre><code>  @GetMapping(&quot;/send-data&quot;)\n    public String sendData() throws IOException, URISyntaxException {\n        try {\n                BlobId id = BlobId.of(&quot;my-bucket&quot;, &quot;demofile1.json&quot;);\n                BlobInfo info = BlobInfo.newBuilder(id).build();\n                byte[] arr = fileData.getBytes();\n                storage.create(info, arr);\n            }\n       }\n</code></pre>\n<p>Above code works well, but I have created a folder as &quot;test&quot; in the bucket and now I want to write a file in that &quot;test&quot; folder rather than in bucket.</p>\n"},{"tags":["java","database","oracle","security"],"answers":[{"tags":[],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080087,"creation_date":1680080087,"answer_id":75875059,"question_id":75831256,"body_markdown":"I found answer myself. In documentation chapter describing classpath extentions\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E\r\ntemplate for URL is jserver:/CPcSCHEMAc. For java.security.alt it will be\r\n\r\n    dbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=jserver:/resource/schema/SYS/lib/security/java.security.alt&#39; )","title":"How to apply java.security file loaded into Oracle database","body":"<p>I found answer myself. In documentation chapter describing classpath extentions\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E</a>\ntemplate for URL is jserver:/CPcSCHEMAc. For java.security.alt it will be</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=jserver:/resource/schema/SYS/lib/security/java.security.alt' )\n</code></pre>\n"}],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680080087,"creation_date":1679645296,"question_id":75831256,"body_markdown":"To add a security provider to the embedded Oracle database 12.2 Java I loaded java.security file into the database using this instruction:\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA\r\n\r\nThe provider still does not appear in the list of providers. How make it visible? I can add files from the filesystem using\r\n```\r\ndbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=/home/oracle/app/oracle/product/12.2.0/dbhome_1/javavm/lib/security/java.security.alt&#39; )\r\n```\r\nand provider appears but\r\n```\r\ndbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=lib/security/java.security.alt&#39; )\r\n```\r\ndo not work, it makes the provider list empty.","title":"How to apply java.security file loaded into Oracle database","body":"<p>To add a security provider to the embedded Oracle database 12.2 Java I loaded java.security file into the database using this instruction:\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA</a></p>\n<p>The provider still does not appear in the list of providers. How make it visible? I can add files from the filesystem using</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=/home/oracle/app/oracle/product/12.2.0/dbhome_1/javavm/lib/security/java.security.alt' )\n</code></pre>\n<p>and provider appears but</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=lib/security/java.security.alt' )\n</code></pre>\n<p>do not work, it makes the provider list empty.</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1680080180,"post_id":75874732,"comment_id":133834755,"body_markdown":"I&#39;ve removed the pdfbox label because your question is primarly about itext. The highlighted text isn&#39;t part of the annotation (regardless what library you use). So what you need to search for in itext is a feature that extracts the PDF text within the area covered by the annotation.","body":"I&#39;ve removed the pdfbox label because your question is primarly about itext. The highlighted text isn&#39;t part of the annotation (regardless what library you use). So what you need to search for in itext is a feature that extracts the PDF text within the area covered by the annotation."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1680082129,"post_id":75874732,"comment_id":133835280,"body_markdown":"In addition to what @Tilman has said: Are you sure the _highlighted_ text in your PDF is highlighted by means of an annotation? I ask because some tools don&#39;t use annotations at all but instead add the highlighted appearance into the page content stream as regular content, simply drawing some yellow rectangles here or there...","body":"In addition to what @Tilman has said: Are you sure the <i>highlighted</i> text in your PDF is highlighted by means of an annotation? I ask because some tools don&#39;t use annotations at all but instead add the highlighted appearance into the page content stream as regular content, simply drawing some yellow rectangles here or there..."}],"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680080025,"creation_date":1680077917,"question_id":75874732,"body_markdown":"I am trying to extract highlighted text from a PDF file. I managed to write this code but it is not able to extract the highlighted text. Any idea what is the issue? Or is there a better/ way to do it? Any other library that I can use?\r\n\r\nThanks\r\n\r\n```java\r\npublic String getHighlightedText() {\r\n        log.info(&quot;test&quot;);\r\n        String highlightedText = &quot;&quot;;\r\n        String pdfFilePath = &quot;test.pdf&quot;;\r\n        PdfReader reader = new PdfReader(pdfFilePath);\r\n        log.info(&quot;reader.getNumberOfPages(): {}&quot;, reader.getNumberOfPages());\r\n        for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\r\n            String pageText = PdfTextExtractor.getTextFromPage(reader, i);\r\n            log.info(&quot;page text : {} &quot;, pageText);\r\n\r\n            PdfDictionary pageDict = reader.getPageN(i);\r\n            log.info(&quot;pageDict : {}&quot;, pageDict);\r\n            PdfArray annotsArray = pageDict.getAsArray(PdfName.ANNOTS);\r\n\r\n            if (annotsArray == null) {\r\n                continue;\r\n            }\r\n\r\n            for (int j = 0; j &lt; annotsArray.size(); j++) {\r\n                PdfDictionary annotDict = annotsArray.getAsDict(j);\r\n                log.info(&quot;annotDict.toString() : {} &quot;, annotDict.getAsString(PdfName.CONTENTS));\r\n                if (PdfName.HIGHLIGHT.equals(annotDict.getAsName(PdfName.SUBTYPE))) {\r\n                    PdfString text = annotDict.getAsString(PdfName.CONTENTS);\r\n                    log.info(&quot;text : {}&quot;, text);\r\n                }\r\n            }\r\n        }\r\n\r\n        reader.close();\r\n\r\n\r\n        return highlightedText;\r\n    }\r\n```","title":"Extract highlighted text from PDF using iText","body":"<p>I am trying to extract highlighted text from a PDF file. I managed to write this code but it is not able to extract the highlighted text. Any idea what is the issue? Or is there a better/ way to do it? Any other library that I can use?</p>\n<p>Thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getHighlightedText() {\n        log.info(&quot;test&quot;);\n        String highlightedText = &quot;&quot;;\n        String pdfFilePath = &quot;test.pdf&quot;;\n        PdfReader reader = new PdfReader(pdfFilePath);\n        log.info(&quot;reader.getNumberOfPages(): {}&quot;, reader.getNumberOfPages());\n        for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\n            String pageText = PdfTextExtractor.getTextFromPage(reader, i);\n            log.info(&quot;page text : {} &quot;, pageText);\n\n            PdfDictionary pageDict = reader.getPageN(i);\n            log.info(&quot;pageDict : {}&quot;, pageDict);\n            PdfArray annotsArray = pageDict.getAsArray(PdfName.ANNOTS);\n\n            if (annotsArray == null) {\n                continue;\n            }\n\n            for (int j = 0; j &lt; annotsArray.size(); j++) {\n                PdfDictionary annotDict = annotsArray.getAsDict(j);\n                log.info(&quot;annotDict.toString() : {} &quot;, annotDict.getAsString(PdfName.CONTENTS));\n                if (PdfName.HIGHLIGHT.equals(annotDict.getAsName(PdfName.SUBTYPE))) {\n                    PdfString text = annotDict.getAsString(PdfName.CONTENTS);\n                    log.info(&quot;text : {}&quot;, text);\n                }\n            }\n        }\n\n        reader.close();\n\n\n        return highlightedText;\n    }\n</code></pre>\n"},{"tags":["java","maven","code-generation","pom.xml","jaxb2"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1403516166,"post_id":24360079,"comment_id":37671997,"body_markdown":"One things looks wrong: &#39;Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\nspecified)&#39;. So you are generating in the src folder which should be prevented. Generation should be done in target folder instead.","body":"One things looks wrong: &#39;Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path specified)&#39;. So you are generating in the src folder which should be prevented. Generation should be done in target folder instead."},{"owner":{"account_id":3802737,"reputation":178,"user_id":3155909,"display_name":"sumanr"},"score":0,"creation_date":1403521914,"post_id":24360079,"comment_id":37675164,"body_markdown":"ideally that should not matter as i use the build-helper-maven-plugin to add src/main/generated to the class path.","body":"ideally that should not matter as i use the build-helper-maven-plugin to add src/main/generated to the class path."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1403523666,"post_id":24360079,"comment_id":37676205,"body_markdown":"You are not adding to the classpath i assume you are adding it to the source path which results in compiling the sources.","body":"You are not adding to the classpath i assume you are adding it to the source path which results in compiling the sources."}],"owner":{"account_id":3802737,"reputation":178,"user_id":3155909,"display_name":"sumanr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680080007,"creation_date":1403506651,"question_id":24360079,"body_markdown":"Im getting the following error when trying to generate the episode file using xjc2-maven-plugin. This error seems to be with META-INF folder creation.\r\nAny idea on how to solve this. I have been stuck of this for quite some time.\r\nthe command line equivalent xjc command seems to work with the same inputs.\r\n \r\n    [INFO] parsing a schema...\r\n    [INFO] compiling a schema...\r\n    [ERROR] null[-1,-1]\r\n    org.xml.sax.SAXParseException; Failed to write to src\\main\\generated\\META-INF\\sun-jaxb.episode\r\n            at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:209)\r\n            at com.sun.tools.xjc.model.Model.generateCode(Model.java:294)\r\n            at com.sun.tools.xjc.Driver.run(Driver.java:363)\r\n            at org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:316)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder\r\n    java:51)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\r\n    specified)\r\n            at java.io.FileOutputStream.open(Native Method)\r\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\r\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:165)\r\n            at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:170)\r\n            ... 24 more\r\n\t\t\r\nThe snippet of pom.xml\r\n\r\n        &lt;properties&gt;\r\n\t\t&lt;jaxb.mojo.version&gt;1.6&lt;/jaxb.mojo.version&gt;\r\n\t&lt;/properties&gt;\r\n         .\r\n         .\r\n         .\r\n\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;!-- xjc -p com.test.framework.contracts ./main/xsd/Framework.xsd -d ./main/generated -episode ./main/generated/META-INF/sun-jaxb.episode --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jaxb.mojo.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc-framework&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;schemaFiles&gt;Framework.xsd&lt;/schemaFiles&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;-episode src/main/generated/META-INF/sun-jaxb.episode&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.test.framework.contracts&lt;/packageName&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\nHowever changing the line  episode argument \r\n\r\n    &lt;arguments&gt;-episode src/main/generated/sun-jaxb.episode&lt;/arguments&gt;\r\n\r\n makes the compilation pass.\r\nPlease help, i need the episode file to be generated by META-INF.","title":"jaxb2-maven-plugin is giving me a SAXParseException when trying to generate META-INF\\sun-jaxb.episode file","body":"<p>Im getting the following error when trying to generate the episode file using xjc2-maven-plugin. This error seems to be with META-INF folder creation.\nAny idea on how to solve this. I have been stuck of this for quite some time.\nthe command line equivalent xjc command seems to work with the same inputs.</p>\n\n<pre><code>[INFO] parsing a schema...\n[INFO] compiling a schema...\n[ERROR] null[-1,-1]\norg.xml.sax.SAXParseException; Failed to write to src\\main\\generated\\META-INF\\sun-jaxb.episode\n        at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:209)\n        at com.sun.tools.xjc.model.Model.generateCode(Model.java:294)\n        at com.sun.tools.xjc.Driver.run(Driver.java:363)\n        at org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:316)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder\njava:51)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\nspecified)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:165)\n        at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:170)\n        ... 24 more\n</code></pre>\n\n<p>The snippet of pom.xml</p>\n\n<pre><code>    &lt;properties&gt;\n    &lt;jaxb.mojo.version&gt;1.6&lt;/jaxb.mojo.version&gt;\n&lt;/properties&gt;\n     .\n     .\n     .\n\n        &lt;plugin&gt;\n            &lt;!-- xjc -p com.test.framework.contracts ./main/xsd/Framework.xsd -d ./main/generated -episode ./main/generated/META-INF/sun-jaxb.episode --&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb.mojo.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc-framework&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaFiles&gt;Framework.xsd&lt;/schemaFiles&gt;\n                        &lt;arguments&gt;-episode src/main/generated/META-INF/sun-jaxb.episode&lt;/arguments&gt;\n                        &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\n                        &lt;packageName&gt;com.test.framework.contracts&lt;/packageName&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>However changing the line  episode argument </p>\n\n<pre><code>&lt;arguments&gt;-episode src/main/generated/sun-jaxb.episode&lt;/arguments&gt;\n</code></pre>\n\n<p>makes the compilation pass.\nPlease help, i need the episode file to be generated by META-INF.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680079801,"creation_date":1680079801,"answer_id":75875018,"question_id":75874470,"body_markdown":"As clearly mentioned in ModelMapper [documentation][1], in **Handling Mismatches**, section:\r\n\r\n&gt; While ModelMapper will do its best to implicitly match source and\r\n&gt; destination properties for you, sometimes you may need to explicitly\r\n&gt; define mappings between properties.\r\n&gt; \r\n&gt; ModelMapper supports a variety of mapping approaches, allowing you to\r\n&gt; use any mix of methods and field references.\r\n\r\nSo here in this case, you would need to define your custom mapping.\r\n\r\nOr moreover you need to use [MatchingStrategies.Standard][2], rather than Loose.\r\n\r\n\r\n  [1]: https://modelmapper.org/getting-started/#handling-mismatches\r\n  [2]: http://modelmapper.org/user-manual/configuration/#matching-strategies","title":"Model Mapper populating value to wrong field during dto to entity conversion","body":"<p>As clearly mentioned in ModelMapper <a href=\"https://modelmapper.org/getting-started/#handling-mismatches\" rel=\"nofollow noreferrer\">documentation</a>, in <strong>Handling Mismatches</strong>, section:</p>\n<blockquote>\n<p>While ModelMapper will do its best to implicitly match source and\ndestination properties for you, sometimes you may need to explicitly\ndefine mappings between properties.</p>\n<p>ModelMapper supports a variety of mapping approaches, allowing you to\nuse any mix of methods and field references.</p>\n</blockquote>\n<p>So here in this case, you would need to define your custom mapping.</p>\n<p>Or moreover you need to use <a href=\"http://modelmapper.org/user-manual/configuration/#matching-strategies\" rel=\"nofollow noreferrer\">MatchingStrategies.Standard</a>, rather than Loose.</p>\n"}],"owner":{"account_id":27600747,"reputation":3,"user_id":21066027,"display_name":"Mortifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680079801,"creation_date":1680075959,"question_id":75874470,"body_markdown":"I have an Entity called MasterEntity which has a unidirectional One to one relationship to another entity called ChildEntity as per below description, which are mapped to respective database tables.\r\n\r\n\r\n```\r\n\r\n    @Entity(name = &quot;MasterEntity&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MasterEntity {\r\n \r\n        @id\r\n        private Integer Id;\r\n        private String Name;\r\n        private String Division;\r\n\r\n        @OneToOne\r\n        @MapsId\r\n        @JoinColumn(name = &quot;Id&quot;)\r\n        private ChildEntity childEntity;\r\n\r\n    }\r\n\r\n    @Entity(name = &quot;childEntity&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ChildEntity {\r\n \r\n        @id\r\n        private Integer Id;\r\n        private String MatchingName;\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd I have a MasterEntityDTO which has fields as below.\r\n\r\n```\r\n\r\n    @Builder\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MasterEntityDTO {\r\n \r\n    private Integer Id;\r\n    private String Name;\r\n    private String Division;\r\n\r\n    }\r\n\r\n```\r\n\r\nI try to map the dto object to the Entity using Model Mapper.\r\nwith Matching Strategy set to LOOSE since I plan to add additional fields to the DTO which map to childEntity\r\n\r\n```\r\n\r\n    masterEntityDTO.setName(&quot;Jonathan&quot;);\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\r\n\r\n    modelMapper.map(masterEntityDTO, MasterEntity.class);\r\n\r\n```\r\n\r\nThe Resultant entity which I get has following values.\r\n\r\n```\r\nId = null\r\nName = &quot;Jonathan&quot;\r\nDivision = null\r\nId = null\r\nMatchingName = &quot;Jonathan&quot;\r\n```\r\n\r\nso my field **MatchingName** is getting wrongly populated with the value of **Name** field.\r\n\r\nI tried different configurations for the modelMapper but that is not solving the issue.\r\nHow do I fix this?","title":"Model Mapper populating value to wrong field during dto to entity conversion","body":"<p>I have an Entity called MasterEntity which has a unidirectional One to one relationship to another entity called ChildEntity as per below description, which are mapped to respective database tables.</p>\n<pre><code>\n    @Entity(name = &quot;MasterEntity&quot;)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class MasterEntity {\n \n        @id\n        private Integer Id;\n        private String Name;\n        private String Division;\n\n        @OneToOne\n        @MapsId\n        @JoinColumn(name = &quot;Id&quot;)\n        private ChildEntity childEntity;\n\n    }\n\n    @Entity(name = &quot;childEntity&quot;)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class ChildEntity {\n \n        @id\n        private Integer Id;\n        private String MatchingName;\n\n    }\n\n</code></pre>\n<p>And I have a MasterEntityDTO which has fields as below.</p>\n<pre><code>\n    @Builder\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class MasterEntityDTO {\n \n    private Integer Id;\n    private String Name;\n    private String Division;\n\n    }\n\n</code></pre>\n<p>I try to map the dto object to the Entity using Model Mapper.\nwith Matching Strategy set to LOOSE since I plan to add additional fields to the DTO which map to childEntity</p>\n<pre><code>\n    masterEntityDTO.setName(&quot;Jonathan&quot;);\n\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\n\n    modelMapper.map(masterEntityDTO, MasterEntity.class);\n\n</code></pre>\n<p>The Resultant entity which I get has following values.</p>\n<pre><code>Id = null\nName = &quot;Jonathan&quot;\nDivision = null\nId = null\nMatchingName = &quot;Jonathan&quot;\n</code></pre>\n<p>so my field <strong>MatchingName</strong> is getting wrongly populated with the value of <strong>Name</strong> field.</p>\n<p>I tried different configurations for the modelMapper but that is not solving the issue.\nHow do I fix this?</p>\n"},{"tags":["java","logging","jboss","quarkus"],"owner":{"account_id":28150060,"reputation":23,"user_id":21511793,"display_name":"Ayush Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680079779,"creation_date":1680021359,"question_id":75868843,"body_markdown":"Right now I am modifying the format of my logs using below property in application.properties\r\nquarkus.log.console.format={&quot;time&quot;:&quot;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot;, &quot;level&quot;:&quot;%p&quot;, &quot;logger&quot;:&quot;%c{1.}&quot;, &quot;thread&quot;:&quot;%t&quot;, &quot;key1&quot;:&quot;%X{key1}&quot;, &quot;key2&quot;:&quot;%X{key2}&quot;, &quot;message&quot;:&quot;%s&quot;}%n\r\n\r\nand using org.jboss.logging.MDC to change the values of keys like &#39;key1&#39; and &#39;key2&#39; dynamically at runtime.\r\n\r\nBut how can I do this programmatically? i am using quarkus2.16.4.\r\n\r\nProgrammatically means like in spring boot we use log4j2.Patternlayout and console Appender kind of configuration to change the format of logs. so how can we do this in Quarkus?\r\n\r\n```\r\npublic class MyLoggingConfigurator {\r\n    public static void configureLogging() {\r\n        // Create a pattern formatter for the log format\r\n        PatternFormatter formatter = new PatternFormatter(&quot;{\\&quot;time\\&quot;:\\&quot;%d{yyyy-MM-   dd&#39;T&#39;HH:mm:ss.SSSZ}\\&quot;, \\&quot;level\\&quot;:\\&quot;%p\\&quot;, \\&quot;logger\\&quot;:\\&quot;%c{1.}\\&quot;, \\&quot;thread\\&quot;:\\&quot;%t\\&quot;, \\&quot;key1\\&quot;:\\&quot;%X{key1}\\&quot;, \\&quot;key2\\&quot;:\\&quot;%X{key2}\\&quot;, \\&quot;message\\&quot;:\\&quot;%s\\&quot;}%n&quot;);\r\n\r\n        // Create a console handler and set its formatter and target\r\n        ConsoleHandler handler = new ConsoleHandler();\r\n        handler.setFormatter(formatter);\r\n        handler.setTarget(Target.SYSTEM_OUT);\r\n\r\n        /// Get the Quarkus log level and set it on the console handler\r\n        String logLevel = Logging.getLevel().name();\r\n        handler.setLevel(org.jboss.logmanager.Level.parse(logLevel));\r\n\r\n        // Add the console handler to the logging configuration\r\n        LogConfig config = new LogConfig();\r\n\r\n        config.addHandler(handler);\r\n        LogConfig.set(config);\r\n\r\n        // Get the root logger and set its level to the Quarkus log level\r\n        Logger rootLogger = Logger.getLogger(&quot;&quot;);\r\n        rootLogger.setLevel(org.jboss.logmanager.Level.parse(logLevel));\r\n    }\r\n}\r\n```\r\nbut the above code is not working.","title":"Quarkus Logging Programatically","body":"<p>Right now I am modifying the format of my logs using below property in application.properties\nquarkus.log.console.format={&quot;time&quot;:&quot;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot;, &quot;level&quot;:&quot;%p&quot;, &quot;logger&quot;:&quot;%c{1.}&quot;, &quot;thread&quot;:&quot;%t&quot;, &quot;key1&quot;:&quot;%X{key1}&quot;, &quot;key2&quot;:&quot;%X{key2}&quot;, &quot;message&quot;:&quot;%s&quot;}%n</p>\n<p>and using org.jboss.logging.MDC to change the values of keys like 'key1' and 'key2' dynamically at runtime.</p>\n<p>But how can I do this programmatically? i am using quarkus2.16.4.</p>\n<p>Programmatically means like in spring boot we use log4j2.Patternlayout and console Appender kind of configuration to change the format of logs. so how can we do this in Quarkus?</p>\n<pre><code>public class MyLoggingConfigurator {\n    public static void configureLogging() {\n        // Create a pattern formatter for the log format\n        PatternFormatter formatter = new PatternFormatter(&quot;{\\&quot;time\\&quot;:\\&quot;%d{yyyy-MM-   dd'T'HH:mm:ss.SSSZ}\\&quot;, \\&quot;level\\&quot;:\\&quot;%p\\&quot;, \\&quot;logger\\&quot;:\\&quot;%c{1.}\\&quot;, \\&quot;thread\\&quot;:\\&quot;%t\\&quot;, \\&quot;key1\\&quot;:\\&quot;%X{key1}\\&quot;, \\&quot;key2\\&quot;:\\&quot;%X{key2}\\&quot;, \\&quot;message\\&quot;:\\&quot;%s\\&quot;}%n&quot;);\n\n        // Create a console handler and set its formatter and target\n        ConsoleHandler handler = new ConsoleHandler();\n        handler.setFormatter(formatter);\n        handler.setTarget(Target.SYSTEM_OUT);\n\n        /// Get the Quarkus log level and set it on the console handler\n        String logLevel = Logging.getLevel().name();\n        handler.setLevel(org.jboss.logmanager.Level.parse(logLevel));\n\n        // Add the console handler to the logging configuration\n        LogConfig config = new LogConfig();\n\n        config.addHandler(handler);\n        LogConfig.set(config);\n\n        // Get the root logger and set its level to the Quarkus log level\n        Logger rootLogger = Logger.getLogger(&quot;&quot;);\n        rootLogger.setLevel(org.jboss.logmanager.Level.parse(logLevel));\n    }\n}\n</code></pre>\n<p>but the above code is not working.</p>\n"},{"tags":["java","file","filesystems","extract","iso"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1356692328,"post_id":14068375,"comment_id":19447122,"body_markdown":"You can use winrar command line to extract content of ISO file, but it is paid.","body":"You can use winrar command line to extract content of ISO file, but it is paid."}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356692018,"creation_date":1356692018,"answer_id":14068405,"question_id":14068375,"body_markdown":"Take a look at [Loopy][1].\r\n\r\n&gt; Loopy is a Java API for accessing various file systems in a read-only\r\n&gt; manner. Loopy was developed as a plug-in for Apache Commons VFS.\r\n&gt; Currently, it only supports the ISO9660 file system (i.e. .iso files).\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/loopy/","title":"Extracting ISO file using Java","body":"<p>Take a look at <a href=\"http://sourceforge.net/projects/loopy/\" rel=\"nofollow\">Loopy</a>.</p>\n\n<blockquote>\n  <p>Loopy is a Java API for accessing various file systems in a read-only\n  manner. Loopy was developed as a plug-in for Apache Commons VFS.\n  Currently, it only supports the ISO9660 file system (i.e. .iso files).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1357720323,"creation_date":1356692342,"answer_id":14068482,"question_id":14068375,"body_markdown":"I would recommend the following\r\n\r\n **Java ISO Extraction**\r\n\r\n- JAVA ISO tools \r\nhttps://github.com/stephenc/java-iso-tools\r\n\r\n- Loopy\r\nhttp://loopy.sourceforge.net/\r\n\r\n- JIIC: \r\n[Java ISO Image Creator  (a bit old -- uses Java 1.4)](http://jiic.berlios.de/)\r\n\r\n\r\n","title":"Extracting ISO file using Java","body":"<p>I would recommend the following</p>\n\n<p><strong>Java ISO Extraction</strong></p>\n\n<ul>\n<li><p>JAVA ISO tools \n<a href=\"https://github.com/stephenc/java-iso-tools\" rel=\"noreferrer\">https://github.com/stephenc/java-iso-tools</a></p></li>\n<li><p>Loopy\n<a href=\"http://loopy.sourceforge.net/\" rel=\"noreferrer\">http://loopy.sourceforge.net/</a></p></li>\n<li><p>JIIC: \n<a href=\"http://jiic.berlios.de/\" rel=\"noreferrer\">Java ISO Image Creator  (a bit old -- uses Java 1.4)</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680079661,"creation_date":1611995815,"answer_id":65966094,"question_id":14068375,"body_markdown":"By the time I am writing, libraries used in other answers are outdated. So I recommend [sevenzipjbinding][1].\r\n\r\n\r\n  [1]: http://sevenzipjbind.sourceforge.net/","title":"Extracting ISO file using Java","body":"<p>By the time I am writing, libraries used in other answers are outdated. So I recommend <a href=\"http://sevenzipjbind.sourceforge.net/\" rel=\"nofollow noreferrer\">sevenzipjbinding</a>.</p>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671647639,"creation_date":1671647639,"answer_id":74880394,"question_id":14068375,"body_markdown":"The code to read the `ISO9660 CD filesystem` can be generated based on the language `Kaitai Struct`.\r\n\r\nhttps://formats.kaitai.io/iso9660/java.html","title":"Extracting ISO file using Java","body":"<p>The code to read the <code>ISO9660 CD filesystem</code> can be generated based on the language <code>Kaitai Struct</code>.</p>\n<p><a href=\"https://formats.kaitai.io/iso9660/java.html\" rel=\"nofollow noreferrer\">https://formats.kaitai.io/iso9660/java.html</a></p>\n"}],"owner":{"account_id":1236799,"reputation":1452,"user_id":1200235,"accept_rate":76,"display_name":"LeTex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6950,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":14068482,"answer_count":4,"score":11,"last_activity_date":1680079661,"creation_date":1356691890,"question_id":14068375,"body_markdown":"Is there any way to Extract content of ISO file (all directories and files inside) to a give directory in a local path? Specifically using Java in windows environment. \r\n\r\nis there any library you may suggest? or is there any work around to do so ? \r\n\r\nthanks.","title":"Extracting ISO file using Java","body":"<p>Is there any way to Extract content of ISO file (all directories and files inside) to a give directory in a local path? Specifically using Java in windows environment. </p>\n\n<p>is there any library you may suggest? or is there any work around to do so ? </p>\n\n<p>thanks.</p>\n"},{"tags":["java","maven","google-app-engine","pom.xml","app.yaml"],"comments":[{"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"score":1,"creation_date":1612755209,"post_id":66081079,"comment_id":116856721,"body_markdown":"Does your pom.xml and app.yaml has the matching Java runtime version? Please check this thread similar to your question https://stackoverflow.com/questions/50264254/appengine-maven-plugin1-3-1-run-failed-non-zero-exit","body":"Does your pom.xml and app.yaml has the matching Java runtime version? Please check this thread similar to your question <a href=\"https://stackoverflow.com/questions/50264254/appengine-maven-plugin1-3-1-run-failed-non-zero-exit\" title=\"appengine maven plugin1 3 1 run failed non zero exit\">stackoverflow.com/questions/50264254/&hellip;</a>"},{"owner":{"account_id":9942540,"reputation":66,"user_id":7358611,"display_name":"Tom&#225;š K&#246;nig"},"score":0,"creation_date":1618150505,"post_id":66081079,"comment_id":118509468,"body_markdown":"My problem was actually in the wrong logger implementation.","body":"My problem was actually in the wrong logger implementation."},{"owner":{"account_id":20213,"reputation":190000,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1624293194,"post_id":66081079,"comment_id":120313506,"body_markdown":"I&#39;m glad you found the problem. But how did you do that? how did you diagnose the problem? How did you determine that it was the logger, from the error message &quot;deployment failed&quot; and &quot;Non zero exit: 1&quot; ?","body":"I&#39;m glad you found the problem. But how did you do that? how did you diagnose the problem? How did you determine that it was the logger, from the error message &quot;deployment failed&quot; and &quot;Non zero exit: 1&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":900154,"reputation":81,"user_id":936497,"display_name":"BenVercammen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680079632,"creation_date":1680078901,"answer_id":75874882,"question_id":66081079,"body_markdown":"In order to find out more as to why the error occured, run `mvn appengine:deploy -e -X` (-X to log debugging info, -e to log stack trace). \r\n\r\nIn my case, I ran into multiple issues. The first one was easy to figure out:\r\n```log\r\n[INFO] GCLOUD: ERROR: (gcloud.app.deploy) You do not currently have an active account selected.\r\n[INFO] GCLOUD: Please run:\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD:   $ gcloud auth login\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD: to obtain new credentials.\r\n```\r\n\r\nOn the next run, I got:\r\n```log\r\n[INFO] GCLOUD: ERROR: (gcloud.app.deploy) Error Response: [9] Cloud build ... status: FAILURE\r\n[INFO] GCLOUD: did not find any jar files with a Main-Class manifest entry\r\n[INFO] GCLOUD: Full build logs: https://console.cloud.google.com/cloud-build/builds;region=europe-west1/...?project=...\r\n```\r\nChecking the build logs:\r\n```log\r\nStep #2 - &quot;build&quot;: Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry\r\nStep #2 - &quot;build&quot;: --------------------------------------------------------------------------------\r\nStep #2 - &quot;build&quot;: Running &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/outputs/output&quot;\r\nStep #2 - &quot;build&quot;: Done &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/o...&quot; (46.762072ms)\r\nStep #2 - &quot;build&quot;: ERROR: failed to build: exit status 1\r\nFinished Step #2 - &quot;build&quot;\r\nERROR\r\nERROR: build step 2 &quot;eu.gcr.io/gae-runtimes/buildpacks/google-gae-18/java/builder:java_20230320_RC00&quot; failed: step exited with non-zero status: 51\r\n```\r\nLeading to https://stackoverflow.com/questions/63158436/failure-id-838926df-did-not-find-any-jar-files-with-a-main-class-manifest-en\r\n\r\nMy point being: in order to troubleshoot, add ` -X` to the deploy command which will usually give you some extra clues as to what exactly is going wrong.","title":"App engine &quot;Non zero exit: 1&quot; error when application deploy","body":"<p>In order to find out more as to why the error occured, run <code>mvn appengine:deploy -e -X</code> (-X to log debugging info, -e to log stack trace).</p>\n<p>In my case, I ran into multiple issues. The first one was easy to figure out:</p>\n<pre><code>[INFO] GCLOUD: ERROR: (gcloud.app.deploy) You do not currently have an active account selected.\n[INFO] GCLOUD: Please run:\n[INFO] GCLOUD:\n[INFO] GCLOUD:   $ gcloud auth login\n[INFO] GCLOUD:\n[INFO] GCLOUD: to obtain new credentials.\n</code></pre>\n<p>On the next run, I got:</p>\n<pre><code>[INFO] GCLOUD: ERROR: (gcloud.app.deploy) Error Response: [9] Cloud build ... status: FAILURE\n[INFO] GCLOUD: did not find any jar files with a Main-Class manifest entry\n[INFO] GCLOUD: Full build logs: https://console.cloud.google.com/cloud-build/builds;region=europe-west1/...?project=...\n</code></pre>\n<p>Checking the build logs:</p>\n<pre><code>Step #2 - &quot;build&quot;: Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry\nStep #2 - &quot;build&quot;: --------------------------------------------------------------------------------\nStep #2 - &quot;build&quot;: Running &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/outputs/output&quot;\nStep #2 - &quot;build&quot;: Done &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/o...&quot; (46.762072ms)\nStep #2 - &quot;build&quot;: ERROR: failed to build: exit status 1\nFinished Step #2 - &quot;build&quot;\nERROR\nERROR: build step 2 &quot;eu.gcr.io/gae-runtimes/buildpacks/google-gae-18/java/builder:java_20230320_RC00&quot; failed: step exited with non-zero status: 51\n</code></pre>\n<p>Leading to <a href=\"https://stackoverflow.com/questions/63158436/failure-id-838926df-did-not-find-any-jar-files-with-a-main-class-manifest-en\">Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry</a></p>\n<p>My point being: in order to troubleshoot, add <code> -X</code> to the deploy command which will usually give you some extra clues as to what exactly is going wrong.</p>\n"}],"owner":{"account_id":9942540,"reputation":66,"user_id":7358611,"display_name":"Tom&#225;š K&#246;nig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680079632,"creation_date":1612640119,"question_id":66081079,"body_markdown":"I am trying to deploy a new version of the application on the google app engine but I am getting this error: \r\n\r\n    com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n\r\nI am clon the repo from git and trying to deploy the application with the command: **&quot;gcloud app deploy&quot;**\r\non the location of file app.yaml (Should be configured correctly). \r\n\r\nI also try to deploy aplicatony b mvn by command: **&quot;mvn package appengine:deploy -Dapp.deploy.projectId=projektID&quot;** \r\n\r\nBut it will give me the same error. \r\n\r\nIt is already an existing application so I don&#39;t have to create a new app or should I? Can you please help me or at least give me some advice?\r\n\r\n**Full stack trace:**\r\n\r\n  \r\n         [ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            -&gt; [Help 1]\r\n                org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n                    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n                    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n                    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n                    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n                    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n                    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n                    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n                    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n                    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n                    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n                    at java.lang.reflect.Method.invoke (Method.java:566)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n                Caused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\r\n                    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:59)\r\n            at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:566)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        Caused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:98)\r\n            at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n            at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:566)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        Caused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:87)\r\n            at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\r\n            at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit (NonZeroExceptionExitListener.java:28)\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun (LegacyProcessHandler.java:144)\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:83)\r\n        at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\r\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)\r\n        at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n\r\n\r\n\r\n","title":"App engine &quot;Non zero exit: 1&quot; error when application deploy","body":"<p>I am trying to deploy a new version of the application on the google app engine but I am getting this error:</p>\n<pre><code>com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n</code></pre>\n<p>I am clon the repo from git and trying to deploy the application with the command: <strong>&quot;gcloud app deploy&quot;</strong>\non the location of file app.yaml (Should be configured correctly).</p>\n<p>I also try to deploy aplicatony b mvn by command: <strong>&quot;mvn package appengine:deploy -Dapp.deploy.projectId=projektID&quot;</strong></p>\n<p>But it will give me the same error.</p>\n<p>It is already an existing application so I don't have to create a new app or should I? Can you please help me or at least give me some advice?</p>\n<p><strong>Full stack trace:</strong></p>\n<pre><code>     [ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        -&gt; [Help 1]\n            org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n                at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n                at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n                at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n                at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n                at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n                at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n                at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n                at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n                at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n                at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n                at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n                at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n                at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n                at java.lang.reflect.Method.invoke (Method.java:566)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n            Caused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\n                at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:59)\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    Caused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:98)\n        at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    Caused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:87)\n        at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n    at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit (NonZeroExceptionExitListener.java:28)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun (LegacyProcessHandler.java:144)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:83)\n    at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\n    at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)\n    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n    at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680076428,"post_id":75874515,"comment_id":133833760,"body_markdown":"Show the full stacktrace","body":"Show the full stacktrace"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":14,"creation_date":1680076573,"post_id":75874515,"comment_id":133833793,"body_markdown":"Is this list being modified by multiple threads by any chance? `ArrayList` isn&#39;t thread-safe.","body":"Is this list being modified by multiple threads by any chance? <code>ArrayList</code> isn&#39;t thread-safe."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1680076654,"post_id":75874515,"comment_id":133833818,"body_markdown":"Yup, has all the smells for multi-threaded access: occurs &quot;randomly&quot;, doesn&#39;t seem possible when looking at the code and yet it happens with some regularity.","body":"Yup, has all the smells for multi-threaded access: occurs &quot;randomly&quot;, doesn&#39;t seem possible when looking at the code and yet it happens with some regularity."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680077240,"post_id":75874515,"comment_id":133833983,"body_markdown":"The simplest &quot;solution&quot; is to replace your `ArrayList` with a `CopyOnWriteList`, but really you probably need to review your code for unsynchronized access to shared data structures and fix/redesign them, because odds are this is not the only potential source for problems.","body":"The simplest &quot;solution&quot; is to replace your <code>ArrayList</code> with a <code>CopyOnWriteList</code>, but really you probably need to review your code for unsynchronized access to shared data structures and fix/redesign them, because odds are this is not the only potential source for problems."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680078436,"post_id":75874515,"comment_id":133834229,"body_markdown":"In the stacktrace the method call `TestRequestPoolSingleton.addToLaunched()` is another hint that this is caused by multi-threaded access to an `ArrayList`","body":"In the stacktrace the method call <code>TestRequestPoolSingleton.addToLaunched()</code> is another hint that this is caused by multi-threaded access to an <code>ArrayList</code>"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680079402,"creation_date":1680076277,"question_id":75874515,"body_markdown":"I am facing a strange issue which is very random. When my code tries to add an entry in ArrayList it throws ArrayOutOfBoundsException. my arraylist does not have fixed size and I do not even add element at specific location. I am trying to add data with just simple add() method. I have never come accross such situation. Anyone who can help me on this?\r\n\r\nException:\r\n\r\n    Exception occured in TestWebService :: _treatRequest() :java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:487)\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:499)\r\n\tat com.ds.ct.kt.scalaclient.helpers.TestRequestPoolSingleton.addToLaunched(TestRequestPoolSingleton.java:87)\r\n\tat com.ds.ct.kt.TestWebService ._executeRecurrentLaunch(TestWebService .java:200)\r\n\tat com.ds.ct.kt.TestWebService ._executeRecurrentCall(TestWebService .java:158)\r\n\tat com.ds.ct.kt.TestWebService ._treatRequest(TestWebService .java:130)\r\n\tat com.ds.ct.kt.TestWebService .doGet(TestWebService .java:87)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:554)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:772)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat com.el.ap.instance.rpc.RegularSynchronizationQueuedThreadPool$PoolThread.run(RegularSynchronizationQueuedThreadPool.java:550)\r\n\r\nAnd it is getting thrown from below piece of code:\r\n\r\n        String requestID = _getRequestID(iRequest);\r\n    \tString requestLaunchType = _getRequestLaunchType(iRequest);\r\n        Map&lt;String, List&lt;String&gt;&gt;_launchedRequestsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \tList&lt;String&gt; requestList = _launchedRequestsMap.get(requestLaunchType);\r\n    \trequestList.add(requestID);\r\n\r\nHere, requestID can be blank or have string values but it will never be null. Proper checks are performed.\r\n\r\n\r\n\r\n","title":"ArrayIndexOutOfBoundsException while adding an element to ArrayList without mentioning index","body":"<p>I am facing a strange issue which is very random. When my code tries to add an entry in ArrayList it throws ArrayOutOfBoundsException. my arraylist does not have fixed size and I do not even add element at specific location. I am trying to add data with just simple add() method. I have never come accross such situation. Anyone who can help me on this?</p>\n<p>Exception:</p>\n<pre><code>Exception occured in TestWebService :: _treatRequest() :java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\nat java.base/java.util.ArrayList.add(ArrayList.java:487)\nat java.base/java.util.ArrayList.add(ArrayList.java:499)\nat com.ds.ct.kt.scalaclient.helpers.TestRequestPoolSingleton.addToLaunched(TestRequestPoolSingleton.java:87)\nat com.ds.ct.kt.TestWebService ._executeRecurrentLaunch(TestWebService .java:200)\nat com.ds.ct.kt.TestWebService ._executeRecurrentCall(TestWebService .java:158)\nat com.ds.ct.kt.TestWebService ._treatRequest(TestWebService .java:130)\nat com.ds.ct.kt.TestWebService .doGet(TestWebService .java:87)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:554)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:772)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat com.el.ap.instance.rpc.RegularSynchronizationQueuedThreadPool$PoolThread.run(RegularSynchronizationQueuedThreadPool.java:550)\n</code></pre>\n<p>And it is getting thrown from below piece of code:</p>\n<pre><code>    String requestID = _getRequestID(iRequest);\n    String requestLaunchType = _getRequestLaunchType(iRequest);\n    Map&lt;String, List&lt;String&gt;&gt;_launchedRequestsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    List&lt;String&gt; requestList = _launchedRequestsMap.get(requestLaunchType);\n    requestList.add(requestID);\n</code></pre>\n<p>Here, requestID can be blank or have string values but it will never be null. Proper checks are performed.</p>\n"},{"tags":["java","selenium-webdriver","testing","intellij-idea","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569326,"creation_date":1679568961,"answer_id":75822098,"question_id":75821474,"body_markdown":"Instead of using &quot;grouped&quot; scenarios, you can tag individual `Features` or `Scenario` elements with their group functionality.\r\n\r\nFor example:\r\n\r\n\r\n```feature\r\n@login\r\nFeature: Login with LDAP\r\n\r\n  Scenario: ...\r\n     ...\r\n  Scenario: ...\r\n     ...\r\n```\r\n\r\n```feature\r\nFeature: Password authentication\r\n\r\n  @login\r\n  Scenario: Login with username and password\r\n     ...\r\n  \r\n  Scenario: Reset password\r\n     ...\r\n```\r\n\r\nThen you use your test tooling to run a specific group of scenarios matching a tag. How you do this depends on your tooling.\r\n\r\nIf you are using Maven with `cucumber-junit-platform-engine` you can use:\r\n\r\n```\r\nmvn verify -Dgroups=&quot;login&quot;\r\n```\r\n\r\nThis will run the 3 scenarios from the example above. The value of `groups` is a [JUnit 5 tag expression][1] so more complicated selections are possible. It would be prudent to read [the documentation][2].\r\n\r\n\r\nIf you are using Maven with `cucumber-junit` or `cucumber-testng` then you can use:\r\n\r\n```\r\nmvn verify -Dcucumber.filter.tags=@login\r\n```\r\n\r\nThis too will run the 3 scenarios from the example above. The value of `cucumber.filter.tags` is a [Cucumber tag expression][3] so more complicated selections are possible.\r\n\r\n\r\nThe previous two examples use Maven. If you are using the `cucumber-junit-platform-engine` you can also use the [`IncludeTags`][4] annotation with [the JUnit Suite][5] to select tests declaratively. For example:\r\n\r\n```java\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;com/example/features&quot;)\r\n@IncludeTags(&quot;login&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags\r\n  [3]: https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions\r\n  [4]: https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html\r\n  [5]: https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine","title":"Perform a multi test run in Intellij IDEA 2022.2.2 by calling single tests(like these test are variables)","body":"<p>Instead of using &quot;grouped&quot; scenarios, you can tag individual <code>Features</code> or <code>Scenario</code> elements with their group functionality.</p>\n<p>For example:</p>\n<pre><code>@login\nFeature: Login with LDAP\n\n  Scenario: ...\n     ...\n  Scenario: ...\n     ...\n</code></pre>\n<pre><code>Feature: Password authentication\n\n  @login\n  Scenario: Login with username and password\n     ...\n  \n  Scenario: Reset password\n     ...\n</code></pre>\n<p>Then you use your test tooling to run a specific group of scenarios matching a tag. How you do this depends on your tooling.</p>\n<p>If you are using Maven with <code>cucumber-junit-platform-engine</code> you can use:</p>\n<pre><code>mvn verify -Dgroups=&quot;login&quot;\n</code></pre>\n<p>This will run the 3 scenarios from the example above. The value of <code>groups</code> is a <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\" rel=\"nofollow noreferrer\">JUnit 5 tag expression</a> so more complicated selections are possible. It would be prudent to read <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>If you are using Maven with <code>cucumber-junit</code> or <code>cucumber-testng</code> then you can use:</p>\n<pre><code>mvn verify -Dcucumber.filter.tags=@login\n</code></pre>\n<p>This too will run the 3 scenarios from the example above. The value of <code>cucumber.filter.tags</code> is a <a href=\"https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions\" rel=\"nofollow noreferrer\">Cucumber tag expression</a> so more complicated selections are possible.</p>\n<p>The previous two examples use Maven. If you are using the <code>cucumber-junit-platform-engine</code> you can also use the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html\" rel=\"nofollow noreferrer\"><code>IncludeTags</code></a> annotation with <a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine\" rel=\"nofollow noreferrer\">the JUnit Suite</a> to select tests declaratively. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/example/features&quot;)\n@IncludeTags(&quot;login&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n"}],"owner":{"account_id":28099205,"reputation":11,"user_id":21468257,"display_name":"Walter Minneci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680079394,"creation_date":1679565088,"question_id":75821474,"body_markdown":"I&#39;m an automation tester and I write automatic test in Gherkin+selenium and java.\r\nI have different scenario to test, and i have lots of test related to the same feature.What i want to do is to create a single feature file which recall the automated tests related to the same feature.\r\nLet&#39;s give an example \r\n\r\nSprint X ,there are 3 automatic test that analyze the Login feature.\r\n     - login with wrong credential\r\n     - login with expired credential\r\n     - login with correct credential\r\nSprint x, there are 2 automatic test that analyze the Login Feature.\r\n     - login with blabla\r\n     - login with xyz\r\nThe expectation would be to create a grouped one,called LOGIN.feature by calling single test like we usually do with variables \r\n\r\n\r\nActually what i do is creating a new feature file(that I&#39;ll call &quot;grouped one&quot;),copy and paste the gherkin steps of the automatic test from these sprint into the grouped one.The real problem is: if something changes in single tests,i need to fix the test and the &quot;grouped one&quot;.\r\n\r\nI&#39;m asking your help.\r\n\r\nThank you in advance,\r\n\r\nBest Regards \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgraE.png","title":"Perform a multi test run in Intellij IDEA 2022.2.2 by calling single tests(like these test are variables)","body":"<p>I'm an automation tester and I write automatic test in Gherkin+selenium and java.\nI have different scenario to test, and i have lots of test related to the same feature.What i want to do is to create a single feature file which recall the automated tests related to the same feature.\nLet's give an example</p>\n<p>Sprint X ,there are 3 automatic test that analyze the Login feature.\n- login with wrong credential\n- login with expired credential\n- login with correct credential\nSprint x, there are 2 automatic test that analyze the Login Feature.\n- login with blabla\n- login with xyz\nThe expectation would be to create a grouped one,called LOGIN.feature by calling single test like we usually do with variables</p>\n<p>Actually what i do is creating a new feature file(that I'll call &quot;grouped one&quot;),copy and paste the gherkin steps of the automatic test from these sprint into the grouped one.The real problem is: if something changes in single tests,i need to fix the test and the &quot;grouped one&quot;.</p>\n<p>I'm asking your help.</p>\n<p>Thank you in advance,</p>\n<p>Best Regards\n<a href=\"https://i.stack.imgur.com/QgraE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgraE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-cloud-config","spring-cloud-config-server","spring-cloud-config-client"],"owner":{"account_id":28155115,"reputation":21,"user_id":21515953,"display_name":"Gopiraju Sontineni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680079227,"creation_date":1680071819,"question_id":75873877,"body_markdown":"I configured the application to read the config information from spring cloud config server (spring boot application) which is deployed in IST environment (on PCF), I&#39;m able to fetch the config data from URLs in postman and browser, but application is not able to read the config information and throwing following error.\r\n\r\nNote : It&#39;s perfectly working and read the config data from the locally run cloud config server application  with the following uri http://localhost:8888/\r\n\r\n&gt; {&quot;ts&quot;:&quot;2023-03-29T06:19:32.205Z&quot;,&quot;uuid&quot;:&quot;c5b3a331-49f9-4278-b3a3-3149f9a27809&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;\\r\\n\\r\\n***************************\\r\\nAPPLICATION FAILED TO START\\r\\n***************************\\r\\n\\r\\nDescription:\\r\\n\\r\\nConfig data location &#39;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/&#39; does not exist\\r\\n\\r\\nAction:\\r\\n\\r\\nCheck that the value &#39;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/&#39; at class path resource [application.yml] - 3:13 is correct, or prefix it with &#39;optional:&#39;\\r\\n&quot;,&quot;class&quot;:&quot;org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;trace&quot;:null,&quot;span&quot;:null}\r\n\r\n\r\n\r\nmy Application.yml\r\n```\r\nspring:\r\n  config:\r\n    import: https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\r\n\r\n#    import: http://localhost:8888/\r\n```\r\n\r\nI tried with prefix import URI with **configserver**, now it&#39;s throwing a different error **unable to find valid certification path to requested target**, even though I already added my certificates to trust store\r\nwith the following command\r\n\r\n    keytool -trustcacerts -keystore &quot;C:\\dev\\federated-search-api\\src\\main\\resources\\trust\\fsaapi.jks&quot; -storepass password -importcert -alias fsaconfigcert -file &quot;C:\\Users\\gopiraju.sontineni\\Downloads\\stg.azr-cc-pcf.cloud.bns.crt&quot;\r\n\r\nand added the following lines of code in application.yml\r\n\r\n\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: configserver:https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\r\n  security:\r\n    ssl:\r\n      enabled: true\r\n      trust:\r\n        store: classpath:trust/fsaapi.jks\r\n        password: password\r\n        algorithm: JKS\r\n\r\n```\r\n\r\nError:\r\n\r\n\r\n    {&quot;ts&quot;:&quot;2023-03-29T06:27:30.547Z&quot;,&quot;uuid&quot;:&quot;9598c3f8-c019-4f23-98c3-f8c0195f23ba&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Application run failed&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;exception&quot;:{&quot;message&quot;:&quot;Could not locate PropertySource and the resource is not optional, failing&quot;,&quot;class&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException&quot;,&quot;hash&quot;:&quot;13f3fe7b&quot;,&quot;cause&quot;:&quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot;,&quot;stack&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:196)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:101)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:60)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\\r\\n\\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\\r\\n\\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\\r\\n\\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\\r\\n\\tat com.bns.fsaapi.Application.main(Application.java:12)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\\r\\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/application/default\\&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\\r\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\\r\\n\\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:302)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:117)\\r\\n\\t... 32 common frames omitted\\r\\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:259)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:642)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:461)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:361)\\r\\n\\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\\r\\n\\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\\r\\n\\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\\r\\n\\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\\r\\n\\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\\r\\n\\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\\r\\n\\t... 36 common frames omitted\\r\\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\\r\\n\\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:321)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:221)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:626)\\r\\n\\t... 53 common frames omitted\\r\\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\\r\\n\\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\\r\\n\\t... 59 common frames omitted\\r\\n&quot;},&quot;trace&quot;:null,&quot;span&quot;:null}\r\n\r\n\r\nhow to tackle the above error?\r\n\r\n I&#39;m trying to read application configuration from external source through cloud config server application\r\n","title":"Need help to resolve application not able to read config data from Spring Cloud Config Server deployed in IST environment over HTTPS","body":"<p>I configured the application to read the config information from spring cloud config server (spring boot application) which is deployed in IST environment (on PCF), I'm able to fetch the config data from URLs in postman and browser, but application is not able to read the config information and throwing following error.</p>\n<p>Note : It's perfectly working and read the config data from the locally run cloud config server application  with the following uri http://localhost:8888/</p>\n<blockquote>\n<p>{&quot;ts&quot;:&quot;2023-03-29T06:19:32.205Z&quot;,&quot;uuid&quot;:&quot;c5b3a331-49f9-4278-b3a3-3149f9a27809&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;\\r\\n\\r\\n***************************\\r\\nAPPLICATION FAILED TO START\\r\\n***************************\\r\\n\\r\\nDescription:\\r\\n\\r\\nConfig data location 'https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/' does not exist\\r\\n\\r\\nAction:\\r\\n\\r\\nCheck that the value 'https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/' at class path resource [application.yml] - 3:13 is correct, or prefix it with 'optional:'\\r\\n&quot;,&quot;class&quot;:&quot;org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;trace&quot;:null,&quot;span&quot;:null}</p>\n</blockquote>\n<p>my Application.yml</p>\n<pre><code>spring:\n  config:\n    import: https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\n\n#    import: http://localhost:8888/\n</code></pre>\n<p>I tried with prefix import URI with <strong>configserver</strong>, now it's throwing a different error <strong>unable to find valid certification path to requested target</strong>, even though I already added my certificates to trust store\nwith the following command</p>\n<pre><code>keytool -trustcacerts -keystore &quot;C:\\dev\\federated-search-api\\src\\main\\resources\\trust\\fsaapi.jks&quot; -storepass password -importcert -alias fsaconfigcert -file &quot;C:\\Users\\gopiraju.sontineni\\Downloads\\stg.azr-cc-pcf.cloud.bns.crt&quot;\n</code></pre>\n<p>and added the following lines of code in application.yml</p>\n<pre><code>spring:\n  config:\n    import: configserver:https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\n  security:\n    ssl:\n      enabled: true\n      trust:\n        store: classpath:trust/fsaapi.jks\n        password: password\n        algorithm: JKS\n\n</code></pre>\n<p>Error:</p>\n<pre><code>{&quot;ts&quot;:&quot;2023-03-29T06:27:30.547Z&quot;,&quot;uuid&quot;:&quot;9598c3f8-c019-4f23-98c3-f8c0195f23ba&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Application run failed&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;exception&quot;:{&quot;message&quot;:&quot;Could not locate PropertySource and the resource is not optional, failing&quot;,&quot;class&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException&quot;,&quot;hash&quot;:&quot;13f3fe7b&quot;,&quot;cause&quot;:&quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot;,&quot;stack&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:196)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:101)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:60)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\\r\\n\\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\\r\\n\\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\\r\\n\\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\\r\\n\\tat com.bns.fsaapi.Application.main(Application.java:12)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\\r\\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/application/default\\&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\\r\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\\r\\n\\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:302)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:117)\\r\\n\\t... 32 common frames omitted\\r\\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:259)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:642)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:461)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:361)\\r\\n\\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\\r\\n\\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\\r\\n\\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\\r\\n\\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\\r\\n\\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\\r\\n\\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\\r\\n\\t... 36 common frames omitted\\r\\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\\r\\n\\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:321)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:221)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:626)\\r\\n\\t... 53 common frames omitted\\r\\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\\r\\n\\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\\r\\n\\t... 59 common frames omitted\\r\\n&quot;},&quot;trace&quot;:null,&quot;span&quot;:null}\n</code></pre>\n<p>how to tackle the above error?</p>\n<p>I'm trying to read application configuration from external source through cloud config server application</p>\n"},{"tags":["java","unit-testing","junit","mocking","junit5"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680079143,"post_id":75873664,"comment_id":133834436,"body_markdown":"Why would you want to skip those methods? A lot of extremely brittle tests are written because people take the term unit testing too literal or too extreme.","body":"Why would you want to skip those methods? A lot of extremely brittle tests are written because people take the term unit testing too literal or too extreme."},{"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"score":0,"creation_date":1680156400,"post_id":75873664,"comment_id":133850665,"body_markdown":"@MarkRotteveel those methods are void , so  I don&#39;t want to execute them, I just want to check whether the method is called or not","body":"@MarkRotteveel those methods are void , so  I don&#39;t want to execute them, I just want to check whether the method is called or not"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680165828,"post_id":75873664,"comment_id":133852771,"body_markdown":"I think that is a nonsensical argument. Mocking them because they are void sounds like an excuse.","body":"I think that is a nonsensical argument. Mocking them because they are void sounds like an excuse."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074831,"creation_date":1680074831,"answer_id":75874320,"question_id":75873664,"body_markdown":"Beware that the void method on mocks does nothing by default!\r\n\r\n you can use any of the doThrow(),doAnswer(),doNothing(),doReturn() family of methods from Mockito framework to mock void methods.\r\n\r\nFor example,\r\n\r\n    Mockito.doThrow(new Exception()).when(instance).methodName();\r\n\r\nor if you want to combine it with follow-up behavior,\r\n\r\n    Mockito.doThrow(new Exception()).doNothing().when(instance).methodName();\r\n\r\nor do nothing:\r\n\r\n    Mockito.doNothing().when(spy).methodToMock();\r\n\r\nor you can call real method\r\n\r\n    Mockito.doCallRealMethod().when(&lt;objectInstance&gt;).&lt;method&gt;();\r\n    &lt;objectInstance&gt;.&lt;method&gt;();\r\n\r\nOr, you could call the real method for all methods of that class, doing this:\r\n\r\n    &lt;Object&gt; &lt;objectInstance&gt; = mock(&lt;Object&gt;.class, Mockito.CALLS_REAL_METHODS);","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<p>Beware that the void method on mocks does nothing by default!</p>\n<p>you can use any of the doThrow(),doAnswer(),doNothing(),doReturn() family of methods from Mockito framework to mock void methods.</p>\n<p>For example,</p>\n<pre><code>Mockito.doThrow(new Exception()).when(instance).methodName();\n</code></pre>\n<p>or if you want to combine it with follow-up behavior,</p>\n<pre><code>Mockito.doThrow(new Exception()).doNothing().when(instance).methodName();\n</code></pre>\n<p>or do nothing:</p>\n<pre><code>Mockito.doNothing().when(spy).methodToMock();\n</code></pre>\n<p>or you can call real method</p>\n<pre><code>Mockito.doCallRealMethod().when(&lt;objectInstance&gt;).&lt;method&gt;();\n&lt;objectInstance&gt;.&lt;method&gt;();\n</code></pre>\n<p>Or, you could call the real method for all methods of that class, doing this:</p>\n<pre><code>&lt;Object&gt; &lt;objectInstance&gt; = mock(&lt;Object&gt;.class, Mockito.CALLS_REAL_METHODS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695004,"reputation":21,"user_id":9223726,"display_name":"Lavanya Nagarajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680074848,"creation_date":1680074848,"answer_id":75874324,"question_id":75873664,"body_markdown":"Try something like this,\r\n    \r\n    @Test\r\n    public void testProcessMethod() throws Exception {\r\n       try (MockedStatic&lt;Demo&gt; demoMocked = Mockito.mockStatic(Demo.class)) {\r\n      \t    demoMocked.when((str1, str2) -&gt; Demo.processMethod1(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n      \t    demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod1(Mockito.anyString(), Mockito.anyString()));\r\n\r\n      \t    demoMocked.when((str1, str2) -&gt; Demo.processMethod2(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n      \t    demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod2(Mockito.anyString(), Mockito.anyString()));\r\n       }\r\n    }","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<p>Try something like this,</p>\n<pre><code>@Test\npublic void testProcessMethod() throws Exception {\n   try (MockedStatic&lt;Demo&gt; demoMocked = Mockito.mockStatic(Demo.class)) {\n        demoMocked.when((str1, str2) -&gt; Demo.processMethod1(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n        demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod1(Mockito.anyString(), Mockito.anyString()));\n\n        demoMocked.when((str1, str2) -&gt; Demo.processMethod2(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n        demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod2(Mockito.anyString(), Mockito.anyString()));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75874320,"answer_count":2,"score":2,"last_activity_date":1680079051,"creation_date":1680069988,"question_id":75873664,"body_markdown":"```java\r\npublic class Demo{\r\n    public static CustomObject processMethod(String str1, String str2){\r\n        //do something\r\n        Demo1.processMethod1(str1,str2);\r\n        Demo2.processMethod2(str1,str2);\r\n        return custom Object;\r\n    }\r\n}\r\n\r\npublic class Demo1{\r\n    public static void processMethod1(String str1, String str2){}\r\n}\r\n\r\npublic class Demo2{\r\n    public static void processMethod2(String str1, String str2){}\r\n}\r\n```\r\n\r\n\r\nI am new to unit testing. While creating a test for class Demo processMethod, how to skip the execution of processMethod1 and processMethod2?","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Demo{\n    public static CustomObject processMethod(String str1, String str2){\n        //do something\n        Demo1.processMethod1(str1,str2);\n        Demo2.processMethod2(str1,str2);\n        return custom Object;\n    }\n}\n\npublic class Demo1{\n    public static void processMethod1(String str1, String str2){}\n}\n\npublic class Demo2{\n    public static void processMethod2(String str1, String str2){}\n}\n</code></pre>\n<p>I am new to unit testing. While creating a test for class Demo processMethod, how to skip the execution of processMethod1 and processMethod2?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680078808,"post_id":75873923,"comment_id":133834339,"body_markdown":"Please provide the full exception stacktrace, it generally contains details why it couldn&#39;t initialize.","body":"Please provide the full exception stacktrace, it generally contains details why it couldn&#39;t initialize."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1680187063,"post_id":75873923,"comment_id":133858644,"body_markdown":"@vishnu: the initialization problem is probably caused by the interaction with your other dependencies (e.g. old OSGI APIs). We fixed two such problems in 2.20.0.","body":"@vishnu: the initialization problem is probably caused by the interaction with your other dependencies (e.g. old OSGI APIs). We fixed two such problems in 2.20.0."},{"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"score":0,"creation_date":1680274152,"post_id":75873923,"comment_id":133875573,"body_markdown":"I tried 2.20.0 log4j version. It seems to be working","body":"I tried 2.20.0 log4j version. It seems to be working"}],"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680078822,"answer_count":0,"score":0,"last_activity_date":1680078782,"creation_date":1680072101,"question_id":75873923,"body_markdown":"I&#39;m getting an exception after changing log4j-api and log4j-core JARs  from 2.17.0 to 2.19.0,\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\r\n```\r\n\r\n\r\n","title":"Getting Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil","body":"<p>I'm getting an exception after changing log4j-api and log4j-core JARs  from 2.17.0 to 2.19.0,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\n</code></pre>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1680074010,"post_id":75874042,"comment_id":133833183,"body_markdown":"`-jar` should be followed by the jar file or in other words, JVM options should be placed before the `-jar` option.","body":"<code>-jar</code> should be followed by the jar file or in other words, JVM options should be placed before the <code>-jar</code> option."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680078652,"post_id":75874042,"comment_id":133834288,"body_markdown":"Also, if used `-jar &lt;JAR-file&gt;` must be the **last** option, everything after is interpreted as arguments to the program launched by the JAR. I&#39;m surprised it doesn&#39;t produce a different error, but maybe the argument parser is more lenient than the documented syntax.","body":"Also, if used <code>-jar &lt;JAR-file&gt;</code> must be the <b>last</b> option, everything after is interpreted as arguments to the program launched by the JAR. I&#39;m surprised it doesn&#39;t produce a different error, but maybe the argument parser is more lenient than the documented syntax."},{"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"score":0,"creation_date":1680078759,"post_id":75874042,"comment_id":133834317,"body_markdown":"Yes. The options should be placed before `-jar` according to oracle doc https://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html.\n\nit&#39;s surprising that java accepts the option even when I put it after `-jar`.","body":"Yes. The options should be placed before <code>-jar</code> according to oracle doc <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/java.h&zwnj;&#8203;tml</a>.  it&#39;s surprising that java accepts the option even when I put it after <code>-jar</code>."}],"answers":[{"tags":[],"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680078504,"creation_date":1680073986,"answer_id":75874187,"question_id":75874042,"body_markdown":"I found the answer. it&#39;s not working on MacBook.\r\n\r\n&gt; This support is only available on Linux x64 platforms.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\r\n","title":"Unrecognized VM option UseContainerSupport","body":"<p>I found the answer. it's not working on MacBook.</p>\n<blockquote>\n<p>This support is only available on Linux x64 platforms.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE</a></p>\n"}],"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078541,"creation_date":1680073034,"question_id":75874042,"body_markdown":"When I run my spring boot application on Java 11 with the following command, it reports error.\r\n\r\n```none\r\n$ java -jar -XX:+UseContainerSupport tmall-content-gateway-1.0.0-SNAPSHOT.jar\r\nUnrecognized VM option &#39;UseContainerSupport&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nMy java version:\r\n\r\n```none\r\n$ java --version\r\njava 11.0.17 2022-10-18 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n```\r\n\r\n","title":"Unrecognized VM option UseContainerSupport","body":"<p>When I run my spring boot application on Java 11 with the following command, it reports error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java -jar -XX:+UseContainerSupport tmall-content-gateway-1.0.0-SNAPSHOT.jar\nUnrecognized VM option 'UseContainerSupport'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>My java version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java --version\njava 11.0.17 2022-10-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","job-scheduling","java-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680078488,"creation_date":1680078488,"answer_id":75874824,"question_id":75867481,"body_markdown":"&gt; I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet).\r\n\r\nI see no need to do all that pre-processing **before** the job run. This can be done in a preparatory step before the actual processing starts in the same job.\r\n\r\nIf the preparatory work should be done only once, then the preparatory step can be marked as non-restartable, so that in case of failure, the job does not re-execute it and resumes the execution from the processing step.","title":"Filtering after Read in Spring Batch","body":"<blockquote>\n<p>I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet).</p>\n</blockquote>\n<p>I see no need to do all that pre-processing <strong>before</strong> the job run. This can be done in a preparatory step before the actual processing starts in the same job.</p>\n<p>If the preparatory work should be done only once, then the preparatory step can be marked as non-restartable, so that in case of failure, the job does not re-execute it and resumes the execution from the processing step.</p>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874824,"answer_count":1,"score":0,"last_activity_date":1680078488,"creation_date":1680013216,"question_id":75867481,"body_markdown":"I currently have a Spring Batch in which FlatFileItemReader reads from a csv file and then based on the values read goes on executing the rest of tasklets and runs the job. I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet). Could someone help me with a detailed documentation on solutions for this? I am not able to figure out how to do this.\r\n","title":"Filtering after Read in Spring Batch","body":"<p>I currently have a Spring Batch in which FlatFileItemReader reads from a csv file and then based on the values read goes on executing the rest of tasklets and runs the job. I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet). Could someone help me with a detailed documentation on solutions for this? I am not able to figure out how to do this.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1582237917,"post_id":60328325,"comment_id":106718864,"body_markdown":"Why aren&#39;t you closing the output stream before you attempt to upload the file to S3?","body":"Why aren&#39;t you closing the output stream before you attempt to upload the file to S3?"}],"answers":[{"tags":[],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582255891,"creation_date":1582255891,"answer_id":60331820,"question_id":60328325,"body_markdown":"Can I say I have seen people do this allot, whereby their app, accepts a MultipartFile, and proxy upload it to S3.\r\n\r\nUploading to your App and then S3 honestly is the wrong approach, and has many drawbacks which negate the benefits of using S3 in the first place. Simply generate a pre-signed URL and have your user upload directly to S3. This is preferable for a few reasons but the main ones are:\r\n\r\n - An app which acepts MultipartFile upload can be easily DDOS&#39;ed if not careful, this happened to our app when somebody uploaded many files at the same time whole system went down.\r\n - It will be MUCH slower to upload to your backend app and then upload to S3.\r\n\r\nIf you happened to be using Cognito you can also achieve this with 0 backend code using AWS Amplify. Which I highly recommend, but if not then pre-signed URL is the way to go.","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>Can I say I have seen people do this allot, whereby their app, accepts a MultipartFile, and proxy upload it to S3.</p>\n\n<p>Uploading to your App and then S3 honestly is the wrong approach, and has many drawbacks which negate the benefits of using S3 in the first place. Simply generate a pre-signed URL and have your user upload directly to S3. This is preferable for a few reasons but the main ones are:</p>\n\n<ul>\n<li>An app which acepts MultipartFile upload can be easily DDOS'ed if not careful, this happened to our app when somebody uploaded many files at the same time whole system went down.</li>\n<li>It will be MUCH slower to upload to your backend app and then upload to S3.</li>\n</ul>\n\n<p>If you happened to be using Cognito you can also achieve this with 0 backend code using AWS Amplify. Which I highly recommend, but if not then pre-signed URL is the way to go.</p>\n"},{"tags":[],"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582903479,"creation_date":1582844785,"answer_id":60443032,"question_id":60328325,"body_markdown":"Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url. \r\n\r\n - server gets a file with this byte -&gt; 0010 (this will not be\r\n   interpreted right, because a standard byte has 8 bits)\r\n - so, we encode it in base 64 -&gt; doesn&#39;t matter what result\r\n - decode it to get a standard byte -&gt; 0000 0010 (now this is a standard byte and it&#39;s interpreted right by aws)\r\n - This source here helped a lot as well --&gt;\r\n   https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\r\n\r\n```\r\n        Base64.Encoder enc = Base64.getEncoder();\r\n        byte[] encbytes = enc.encode(file.getBytes());\r\n        for (int i = 0; i &lt; encbytes.length; i++)\r\n        {\r\n            System.out.printf(&quot;%c&quot;, (char) encbytes[i]);\r\n            if (i != 0 &amp;&amp; i % 4 == 0)\r\n                System.out.print(&#39; &#39;);\r\n        }\r\n        Base64.Decoder dec = Base64.getDecoder();\r\n        byte[] barray2 = dec.decode(encbytes);\r\n        InputStream fis = new ByteArrayInputStream(barray2);\r\n\r\n        PutObjectResult objectResult = s3client.putObject(&quot;xxx&quot;, file.getOriginalFilename(), fis, data);\r\n```","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url. </p>\n\n<ul>\n<li>server gets a file with this byte -> 0010 (this will not be\ninterpreted right, because a standard byte has 8 bits)</li>\n<li>so, we encode it in base 64 -> doesn't matter what result</li>\n<li>decode it to get a standard byte -> 0000 0010 (now this is a standard byte and it's interpreted right by aws)</li>\n<li>This source here helped a lot as well -->\n<a href=\"https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\" rel=\"nofollow noreferrer\">https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2</a></li>\n</ul>\n\n<pre><code>        Base64.Encoder enc = Base64.getEncoder();\n        byte[] encbytes = enc.encode(file.getBytes());\n        for (int i = 0; i &lt; encbytes.length; i++)\n        {\n            System.out.printf(\"%c\", (char) encbytes[i]);\n            if (i != 0 &amp;&amp; i % 4 == 0)\n                System.out.print(' ');\n        }\n        Base64.Decoder dec = Base64.getDecoder();\n        byte[] barray2 = dec.decode(encbytes);\n        InputStream fis = new ByteArrayInputStream(barray2);\n\n        PutObjectResult objectResult = s3client.putObject(\"xxx\", file.getOriginalFilename(), fis, data);\n</code></pre>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60443032,"answer_count":2,"score":3,"last_activity_date":1680078263,"creation_date":1582231921,"question_id":60328325,"body_markdown":"I have a Spring App (running on AWS Lambda) that gets a file and uploads it on AWS S3.\r\n\r\nThe Spring Controller sends a `MultipartFile` to my method, where it&#39;s uploaded to AWS S3, using Amazon API Gateway.\r\n\r\n```\r\npublic static void uploadFile(MultipartFile mpFile, String fileName) throws IOException{\r\n\r\n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\r\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\r\n\r\n    OutputStream ops = new FileOutputStream(file);\r\n    ops.write(mpFile.getBytes());\r\n\r\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\r\n\r\n}\r\n```\r\n\r\nI try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.\r\n\r\nWhy is the uploaded PDF file blank?\r\n\r\nI also tried with other files(like PNG image) and when I open it the image I uploaded is corrupted.\r\n\r\nThe only thing that worked was when I uploaded a text file.","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>I have a Spring App (running on AWS Lambda) that gets a file and uploads it on AWS S3.</p>\n<p>The Spring Controller sends a <code>MultipartFile</code> to my method, where it's uploaded to AWS S3, using Amazon API Gateway.</p>\n<pre><code>public static void uploadFile(MultipartFile mpFile, String fileName) throws IOException{\n\n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\n\n    OutputStream ops = new FileOutputStream(file);\n    ops.write(mpFile.getBytes());\n\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\n\n}\n</code></pre>\n<p>I try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.</p>\n<p>Why is the uploaded PDF file blank?</p>\n<p>I also tried with other files(like PNG image) and when I open it the image I uploaded is corrupted.</p>\n<p>The only thing that worked was when I uploaded a text file.</p>\n"},{"tags":["java","reflection","java-11","java-17"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680015376,"post_id":75867835,"comment_id":133822478,"body_markdown":"Why do you need to do this?  Why not just add that .jar file to the classpath when running the program?","body":"Why do you need to do this?  Why not just add that .jar file to the classpath when running the program?"},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015444,"post_id":75867835,"comment_id":133822498,"body_markdown":"@VGR That code (I got from other team member) is used to load .jar files to classpath when running the program.","body":"@VGR That code (I got from other team member) is used to load .jar files to classpath when running the program."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680015691,"post_id":75867835,"comment_id":133822573,"body_markdown":"If this is running in Tomcat, why not just add the .jar file to WEB-INF/lib in your .war file?","body":"If this is running in Tomcat, why not just add the .jar file to WEB-INF/lib in your .war file?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1680015835,"post_id":75867835,"comment_id":133822608,"body_markdown":"@BằngRikimaru: you&#39;re digging deep into the classloader internals that are not documented and not guaranteed to ever be stable. Sometimes that breaks. As others, I *strongly* advise you to find another way to load that class (maybe by instantiating a *new* `URLClassLoader` with the appropriate parent, that usage is actually supported!). And if you choose to ignore that advice, then look if the appropriate `--add-opens` parameters to your Java launcher call can help.","body":"@BằngRikimaru: you&#39;re digging deep into the classloader internals that are not documented and not guaranteed to ever be stable. Sometimes that breaks. As others, I <i>strongly</i> advise you to find another way to load that class (maybe by instantiating a <i>new</i> <code>URLClassLoader</code> with the appropriate parent, that usage is actually supported!). And if you choose to ignore that advice, then look if the appropriate <code>--add-opens</code> parameters to your Java launcher call can help."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015838,"post_id":75867835,"comment_id":133822612,"body_markdown":"@VGR the .jar files are created by external users, they don&#39;t exist in my .war file at build time. When the web application starts, it tried to load these .jar files from users and then the users can use them.","body":"@VGR the .jar files are created by external users, they don&#39;t exist in my .war file at build time. When the web application starts, it tried to load these .jar files from users and then the users can use them."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015964,"post_id":75867835,"comment_id":133822651,"body_markdown":"@JoachimSauer thanks for the advice, I didn&#39;t develop the code though. This is unfamiliar to me, I couldn&#39;t add the extra parameter to JDK so this needs to do another workaround.","body":"@JoachimSauer thanks for the advice, I didn&#39;t develop the code though. This is unfamiliar to me, I couldn&#39;t add the extra parameter to JDK so this needs to do another workaround."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680017604,"post_id":75867835,"comment_id":133823203,"body_markdown":"I assume each of these user-provided .jar files needs to have at least one class which implements a known interface (or extends a known abstract class), so your program knows what to call.  If this is the case, [ServiceLoader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html) is probably the correct, approved, and safe way to accomplish your task.","body":"I assume each of these user-provided .jar files needs to have at least one class which implements a known interface (or extends a known abstract class), so your program knows what to call.  If this is the case, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> is probably the correct, approved, and safe way to accomplish your task."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680031880,"post_id":75867835,"comment_id":133826945,"body_markdown":"@VGR thanks,  I will have a look about ServiceLoader tomorrow","body":"@VGR thanks,  I will have a look about ServiceLoader tomorrow"}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1680035338,"creation_date":1680035338,"answer_id":75870786,"question_id":75867835,"body_markdown":"if you don&#39;t mind using unsafe reflection you can replace the call to &quot;setAccesible&quot; with:\r\n\r\n    Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    unsafeField.setAccessible(true);\r\n    ((Unsafe) unsafeField.get(null)).putBoolean(method, 12, true);","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>if you don't mind using unsafe reflection you can replace the call to &quot;setAccesible&quot; with:</p>\n<pre><code>Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\nunsafeField.setAccessible(true);\n((Unsafe) unsafeField.get(null)).putBoolean(method, 12, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680078256,"creation_date":1680078256,"answer_id":75874788,"question_id":75867835,"body_markdown":"Thanks to [VGR user][1], I managed to make it work with these steps below using `ServiceLoader` from JDK 1.6:\r\n\r\nFirst, in the project code I create a file call `Service`\r\n\r\n```\r\npackage test\r\npublic interface Service {\r\n    \r\n    public Result handle(List&lt;Result&gt; paramList);\r\n    \r\n}\r\n```\r\n\r\nThen, I create a separated java file out of the project code which will be built as external java file\r\n\r\n```\r\npackage implement\r\nimport test.Service;\r\npublic class ServiceImp implements Service {\r\n  \r\n    public Result handle(List&lt;Result&gt; paramList) {\r\n        // write code here\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen, I build the jar file for `implement.jar` which contains `SeviceImp.class`. \r\n\r\nNOTE: in this jar file, it must contain this file path\r\n`META-INF/services/test.Service` and the file contains `test.ServiceImp`.\r\n\r\n\r\nIn the project code, I have this method to load the given `implement.jar` file.\r\n\r\n```\r\n            URL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\r\n            ClassLoader parent = UdfInvoker.class.getClassLoader();\r\n            URLClassLoader c = new URLClassLoader(urls, parent);\r\n            \r\n            ServiceLoader&lt;Service&gt; sl = ServiceLoader.load(Service.class, c);\r\n            Iterator&lt;Service&gt; apit = sl.iterator();\r\n            while (apit.hasNext()) {\r\n                // Here you can store it to a list to reuse later or call it directly \r\n                apit.next().handle(new ArrayList&lt;&gt;());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1831987/vgr","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1831987/vgr\">VGR user</a>, I managed to make it work with these steps below using <code>ServiceLoader</code> from JDK 1.6:</p>\n<p>First, in the project code I create a file call <code>Service</code></p>\n<pre><code>package test\npublic interface Service {\n    \n    public Result handle(List&lt;Result&gt; paramList);\n    \n}\n</code></pre>\n<p>Then, I create a separated java file out of the project code which will be built as external java file</p>\n<pre><code>package implement\nimport test.Service;\npublic class ServiceImp implements Service {\n  \n    public Result handle(List&lt;Result&gt; paramList) {\n        // write code here\n    }\n\n}\n\n</code></pre>\n<p>Then, I build the jar file for <code>implement.jar</code> which contains <code>SeviceImp.class</code>.</p>\n<p>NOTE: in this jar file, it must contain this file path\n<code>META-INF/services/test.Service</code> and the file contains <code>test.ServiceImp</code>.</p>\n<p>In the project code, I have this method to load the given <code>implement.jar</code> file.</p>\n<pre><code>            URL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\n            ClassLoader parent = UdfInvoker.class.getClassLoader();\n            URLClassLoader c = new URLClassLoader(urls, parent);\n            \n            ServiceLoader&lt;Service&gt; sl = ServiceLoader.load(Service.class, c);\n            Iterator&lt;Service&gt; apit = sl.iterator();\n            while (apit.hasNext()) {\n                // Here you can store it to a list to reuse later or call it directly \n                apit.next().handle(new ArrayList&lt;&gt;());\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75874788,"answer_count":2,"score":1,"last_activity_date":1680078256,"creation_date":1680015228,"question_id":75867835,"body_markdown":"I&#39;ve this code below which is used to load methods defined in some external `jar` files and in the web application using Spring Boot 2.7.10 version, it can invoke these external methods at run time.\r\n\r\nThis works fine with java 11, but when upgraded to java 17, it has error:\r\n\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @221af3c0\r\n```\r\n\r\n```\r\n    private static void addToClassPath(String jarFilePath) {\r\n        try {\r\n            File file = new File(jarFilePath);\r\n            if (!(file.exists() &amp;&amp; file.canRead())) {\r\n                throw new UdfDirectoryNotAccessibleException(jarFilePath);\r\n            }\r\n            URL url = file.toURI().toURL();\r\n            URLClassLoader urlClassLoader = (URLClassLoader) UdfInvoker.class.getClassLoader();\r\n            Class urlClass = URLClassLoader.class;\r\n            Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\r\n\r\n            // error here since java 17\r\n            method.setAccessible(true);\r\n            method.invoke(urlClassLoader, new Object[] { url });\r\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\r\n            throw new UdfFailedLoadingException(jarFilePath, ex.getMessage(), ex);\r\n        } catch (MalformedURLException ex) {\r\n            throw new UdfJarFileNotAccessibleException(jarFilePath, ex.getMessage(), ex);\r\n        }\r\n    }\r\n```\r\n\r\nDoes anyone know how this code can work with java 17 or if it can change to use something else which can work with both java 11 and java 17? Thanks.\r\n\r\n\r\n**NOTE:** \r\n\r\n- Adding arguments to JDK is not an option as I cannot change that in servlet container Tomcat or JRE of development machine.\r\n- Downgrade java version to 11 is also not an option.","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>I've this code below which is used to load methods defined in some external <code>jar</code> files and in the web application using Spring Boot 2.7.10 version, it can invoke these external methods at run time.</p>\n<p>This works fine with java 11, but when upgraded to java 17, it has error:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @221af3c0\n</code></pre>\n<pre><code>    private static void addToClassPath(String jarFilePath) {\n        try {\n            File file = new File(jarFilePath);\n            if (!(file.exists() &amp;&amp; file.canRead())) {\n                throw new UdfDirectoryNotAccessibleException(jarFilePath);\n            }\n            URL url = file.toURI().toURL();\n            URLClassLoader urlClassLoader = (URLClassLoader) UdfInvoker.class.getClassLoader();\n            Class urlClass = URLClassLoader.class;\n            Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\n\n            // error here since java 17\n            method.setAccessible(true);\n            method.invoke(urlClassLoader, new Object[] { url });\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\n            throw new UdfFailedLoadingException(jarFilePath, ex.getMessage(), ex);\n        } catch (MalformedURLException ex) {\n            throw new UdfJarFileNotAccessibleException(jarFilePath, ex.getMessage(), ex);\n        }\n    }\n</code></pre>\n<p>Does anyone know how this code can work with java 17 or if it can change to use something else which can work with both java 11 and java 17? Thanks.</p>\n<p><strong>NOTE:</strong></p>\n<ul>\n<li>Adding arguments to JDK is not an option as I cannot change that in servlet container Tomcat or JRE of development machine.</li>\n<li>Downgrade java version to 11 is also not an option.</li>\n</ul>\n"},{"tags":["java","lwjgl","xbox"],"answers":[{"tags":[],"owner":{"account_id":4373177,"reputation":373,"user_id":5381049,"accept_rate":38,"display_name":"Jujhar Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544989518,"creation_date":1544989518,"answer_id":53805855,"question_id":53805197,"body_markdown":"No, this is not possible. a JVM (runtime that runs your compiled Java code) currently does not exist for the XBOX. You can consider using a language like C# with Unity or C++ with a lower level framework.","title":"Port a LWJGL Java Game to XBOX","body":"<p>No, this is not possible. a JVM (runtime that runs your compiled Java code) currently does not exist for the XBOX. You can consider using a language like C# with Unity or C++ with a lower level framework.</p>\n"}],"owner":{"account_id":14829006,"reputation":19,"user_id":10709042,"display_name":"q4zr 36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1680096184,"answer_count":1,"score":0,"last_activity_date":1680078133,"creation_date":1544984530,"question_id":53805197,"body_markdown":"Is it possible to create a Java game that was created using LWJGL to the XBOX?\r\n\r\nI&#39;ve seen Minecraft create their game for tons of platforms and I am wondering if I could do the same.\r\n\r\nI&#39;ve seen another person ask a question on if it is possible to create one for Android, but I think that would be easier to do for Android because they support Java by default.\r\n\r\nIf it is possible to do this, please link me to useful information to how I can do this myself. Also, don&#39;t just say &quot;no&quot; if it isn&#39;t possible. I want you to tell me why you can&#39;t. Thanks!","title":"Port a LWJGL Java Game to XBOX","body":"<p>Is it possible to create a Java game that was created using LWJGL to the XBOX?</p>\n\n<p>I've seen Minecraft create their game for tons of platforms and I am wondering if I could do the same.</p>\n\n<p>I've seen another person ask a question on if it is possible to create one for Android, but I think that would be easier to do for Android because they support Java by default.</p>\n\n<p>If it is possible to do this, please link me to useful information to how I can do this myself. Also, don't just say \"no\" if it isn't possible. I want you to tell me why you can't. Thanks!</p>\n"},{"tags":["parsing","numberformatexception","java"],"comments":[{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524039789,"post_id":49894638,"comment_id":86804710,"body_markdown":"`NumberFormatException` - If the string cannot be parsed as a long. Editted","body":"<code>NumberFormatException</code> - If the string cannot be parsed as a long. Editted"},{"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"score":0,"creation_date":1524039891,"post_id":49894638,"comment_id":86804774,"body_markdown":"If `null` is an expected value in some cases, perform a null check in before or sourround with try/catch","body":"If <code>null</code> is an expected value in some cases, perform a null check in before or sourround with try/catch"},{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524039960,"post_id":49894638,"comment_id":86804812,"body_markdown":"@Andr&#233;Stannek it should be never NULL, and if it was, i perform a default action","body":"@Andr&#233;Stannek it should be never NULL, and if it was, i perform a default action"},{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1524039967,"post_id":49894638,"comment_id":86804817,"body_markdown":"Possible duplicate of [How to check if a String is numeric in Java](https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java\">How to check if a String is numeric in Java</a>"},{"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"score":0,"creation_date":1524040094,"post_id":49894638,"comment_id":86804891,"body_markdown":"Possible duplicate of [How to check a string contains only digits and decimal points?](https://stackoverflow.com/questions/24833364/how-to-check-a-string-contains-only-digits-and-decimal-points)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24833364/how-to-check-a-string-contains-only-digits-and-decimal-points\">How to check a string contains only digits and decimal points?</a>"},{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524040398,"post_id":49894638,"comment_id":86805082,"body_markdown":"All the duplicate flags, did you even read my problem?","body":"All the duplicate flags, did you even read my problem?"}],"answers":[{"tags":[],"owner":{"account_id":2888754,"reputation":285,"user_id":2478009,"display_name":"Ehler"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1582021850,"creation_date":1524039867,"answer_id":49894716,"question_id":49894638,"body_markdown":"You can use the `NumberUtils` from Apache Commons. It&#39;s null-safe and you can optionally specify a default value.\r\n\r\nExample:\r\n\r\n    NumberUtils.toLong(null) = 0L\r\n    NumberUtils.toLong(&quot;&quot;)   = 0L\r\n    NumberUtils.toLong(&quot;1&quot;)  = 1L\r\n\r\n    NumberUtils.toLong(null, 1L) = 1L\r\n    NumberUtils.toLong(&quot;&quot;, 1L)   = 1L\r\n    NumberUtils.toLong(&quot;1&quot;, 0L)  = 1L\r\n\r\nFor more info, check the [API][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html#toLong(java.lang.String)","title":"Nullsafe Long valueOf","body":"<p>You can use the <code>NumberUtils</code> from Apache Commons. It's null-safe and you can optionally specify a default value.</p>\n\n<p>Example:</p>\n\n<pre><code>NumberUtils.toLong(null) = 0L\nNumberUtils.toLong(\"\")   = 0L\nNumberUtils.toLong(\"1\")  = 1L\n\nNumberUtils.toLong(null, 1L) = 1L\nNumberUtils.toLong(\"\", 1L)   = 1L\nNumberUtils.toLong(\"1\", 0L)  = 1L\n</code></pre>\n\n<p>For more info, check the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html#toLong(java.lang.String)\" rel=\"noreferrer\">API</a>.</p>\n"},{"tags":[],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524039884,"creation_date":1524039884,"answer_id":49894720,"question_id":49894638,"body_markdown":"I&#39;m assuming criteriaIdentifier is a String.\r\nYou could use\r\n[org.apache.commons.lang3.math.NumberUtils.toLong(String, long)][1] which gives you the default value if the String argument is null.\r\nOr you use [org.apache.commons.lang3.math.NumberUtils.toLong(String)][2] which returns zero if the String is null.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-long-\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-","title":"Nullsafe Long valueOf","body":"<p>I'm assuming criteriaIdentifier is a String.\nYou could use\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-long-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.math.NumberUtils.toLong(String, long)</a> which gives you the default value if the String argument is null.\nOr you use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.math.NumberUtils.toLong(String)</a> which returns zero if the String is null.</p>\n"},{"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524039994,"creation_date":1524039994,"answer_id":49894757,"question_id":49894638,"body_markdown":"It depends on your scenario but usually there are ways to avoid such problems. \r\n\r\nGenerally setting IDs to -1 is a common practice but I don&#39;t think it is a good one. You know that -1 is not a possible value in your scenario but considering just the type Long it is a valid value. So everywhere in the code you will need to implement tests like if `id!=-1` which makes the code harder to understand and generally the `null` value is more suitable for that scenario - Long object without a value.\r\n\r\nIf it was up to me for example in the method that receives an ID and waits a valid ID if I get null I would throw an exception and let the caller of the method handle that. If it is a web API for example (otherwise why would you get a String?) then you can throw an HTTP error. Or if you want to handle bad arguments then you better return null or use null as default value. \r\n","title":"Nullsafe Long valueOf","body":"<p>It depends on your scenario but usually there are ways to avoid such problems. </p>\n\n<p>Generally setting IDs to -1 is a common practice but I don't think it is a good one. You know that -1 is not a possible value in your scenario but considering just the type Long it is a valid value. So everywhere in the code you will need to implement tests like if <code>id!=-1</code> which makes the code harder to understand and generally the <code>null</code> value is more suitable for that scenario - Long object without a value.</p>\n\n<p>If it was up to me for example in the method that receives an ID and waits a valid ID if I get null I would throw an exception and let the caller of the method handle that. If it is a web API for example (otherwise why would you get a String?) then you can throw an HTTP error. Or if you want to handle bad arguments then you better return null or use null as default value. </p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524040421,"creation_date":1524040005,"answer_id":49894761,"question_id":49894638,"body_markdown":"`Long.valueOf(null)` will throw `NumberFormatException`, not `NullPointerException`. \r\n\r\nIn Java 8, you have the possibility to declaratively choose a default evaluation for a nullable inline, e.g.\r\n\r\n    Long.valueOf(\r\n        Optional.ofNullable(criteriaIdentifier).orElseGet(() -&gt; &quot;-1&quot;)\r\n    )\r\n\r\nIt&#39;s a little verbose, but will allow you to default to `-1l` if `criteriaIdentifier` is `null` (no need for additional dependencies).\r\n\r\nAPI [here][1] and [here][2]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-","title":"Nullsafe Long valueOf","body":"<p><code>Long.valueOf(null)</code> will throw <code>NumberFormatException</code>, not <code>NullPointerException</code>. </p>\n\n<p>In Java 8, you have the possibility to declaratively choose a default evaluation for a nullable inline, e.g.</p>\n\n<pre><code>Long.valueOf(\n    Optional.ofNullable(criteriaIdentifier).orElseGet(() -&gt; \"-1\")\n)\n</code></pre>\n\n<p>It's a little verbose, but will allow you to default to <code>-1l</code> if <code>criteriaIdentifier</code> is <code>null</code> (no need for additional dependencies).</p>\n\n<p>API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":117490,"reputation":889,"user_id":2691447,"display_name":"msd.salehi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680078131,"creation_date":1602683176,"answer_id":64354720,"question_id":49894638,"body_markdown":"When we say nullSafe we usually expect to receive a `null` from the API when passing `null` to it, not a `0` or `-1` or any other value. \r\n\r\nThe intention is that the API does not break in case of receiving `null`, but simply returning `null`.\r\n\r\nFor this, use `createLong` static method of the `org.apache.commons.lang3.math.NumberUtils`.\r\n\r\nCAUSION*:\r\nThis throws NumberFormatException if the input String is NOT `null` and is NOT numeric.\r\n\r\nCAUSION**: since 3.1 it handles hex (0Xhhhh) and octal (0ddd) notations. N.B. a leading zero means octal; spaces are not trimmed.\r\n\r\nSample:\r\n\r\n    NumberUtils.createLong(null) --&gt; null\r\n    NumberUtils.createLong(&quot;1&quot;) --&gt; 1\r\n    NumberUtils.createLong(&quot;hi&quot;) --&gt; NumberFormatException\r\n    NumberUtils.createLong(&quot; 11&quot;) --&gt; NumberFormatException (does not trim)\r\n    NumberUtils.createLong(&quot;023&quot;) --&gt; 19 (leading 0 means octal)\r\n    NumberUtils.createLong(&quot;0x23&quot;) --&gt; 35 (leading 0x means hex)\r\n\r\n","title":"Nullsafe Long valueOf","body":"<p>When we say nullSafe we usually expect to receive a <code>null</code> from the API when passing <code>null</code> to it, not a <code>0</code> or <code>-1</code> or any other value.</p>\n<p>The intention is that the API does not break in case of receiving <code>null</code>, but simply returning <code>null</code>.</p>\n<p>For this, use <code>createLong</code> static method of the <code>org.apache.commons.lang3.math.NumberUtils</code>.</p>\n<p>CAUSION*:\nThis throws NumberFormatException if the input String is NOT <code>null</code> and is NOT numeric.</p>\n<p>CAUSION**: since 3.1 it handles hex (0Xhhhh) and octal (0ddd) notations. N.B. a leading zero means octal; spaces are not trimmed.</p>\n<p>Sample:</p>\n<pre><code>NumberUtils.createLong(null) --&gt; null\nNumberUtils.createLong(&quot;1&quot;) --&gt; 1\nNumberUtils.createLong(&quot;hi&quot;) --&gt; NumberFormatException\nNumberUtils.createLong(&quot; 11&quot;) --&gt; NumberFormatException (does not trim)\nNumberUtils.createLong(&quot;023&quot;) --&gt; 19 (leading 0 means octal)\nNumberUtils.createLong(&quot;0x23&quot;) --&gt; 35 (leading 0x means hex)\n</code></pre>\n"}],"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26676,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":49894716,"answer_count":5,"score":11,"last_activity_date":1680078131,"creation_date":1524039591,"question_id":49894638,"body_markdown":"Imagine the following scenario\r\n`Long critId = Long.valueOf(criteriaIdentifier);`\r\n\r\nIf the view is initially loaded `criteriaIdentifier` may be null, afterwards I set the value depending of the `selectedItem` in the JSF View.\r\n\r\nHowever, `Long.valueOf(criteriaIdentifier)` throws a `NumberFormatException` - If the string cannot be parsed as a long(i.e `null`).\r\n\r\nI&#39;ve thought of default setting the Id to default `-1`, but I wanted to know if there is better practice .\r\n\r\n\r\n*PS: technically the `criteriaIdentifier` can&#39;t be -1, since these values are set from the Database, with a Sequence Generator, so I should know -1 was the default value and properly do the default operations*","title":"Nullsafe Long valueOf","body":"<p>Imagine the following scenario\n<code>Long critId = Long.valueOf(criteriaIdentifier);</code></p>\n\n<p>If the view is initially loaded <code>criteriaIdentifier</code> may be null, afterwards I set the value depending of the <code>selectedItem</code> in the JSF View.</p>\n\n<p>However, <code>Long.valueOf(criteriaIdentifier)</code> throws a <code>NumberFormatException</code> - If the string cannot be parsed as a long(i.e <code>null</code>).</p>\n\n<p>I've thought of default setting the Id to default <code>-1</code>, but I wanted to know if there is better practice .</p>\n\n<p><em>PS: technically the <code>criteriaIdentifier</code> can't be -1, since these values are set from the Database, with a Sequence Generator, so I should know -1 was the default value and properly do the default operations</em></p>\n"},{"tags":["java","kotlin","object","callable"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680044894,"post_id":75871546,"comment_id":133829282,"body_markdown":"Is Callable a functional interface, non-functional interface, or class? A functional interface is one that has only one function declared that has no default implementation.","body":"Is Callable a functional interface, non-functional interface, or class? A functional interface is one that has only one function declared that has no default implementation."}],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680078121,"creation_date":1680078121,"answer_id":75874762,"question_id":75871546,"body_markdown":"I&#39;m guessing the `Callable` you are referring to is [`java.util.concurrent.Callable`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html), which is a functional interface (it has the `@FunctionalInterface` annotation). This means that you can pass a lambda directly, like so\r\n\r\n```kotlin\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;, { userMethod })\r\n    .build()\r\n```\r\n\r\nor, because the lambda is the last argument, even\r\n\r\n```kotlin\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;) { userMethod }\r\n    .build()\r\n```\r\n\r\nSee the Kotlin documentation on [SAM conversions](https://kotlinlang.org/docs/java-interop.html#sam-conversions) when the interface is in Java, or [functional interfaces](https://kotlinlang.org/docs/fun-interfaces.html) for general information about Kotlin&#39;s functional interfaces. ","title":"Creating objects and overriding their method constructors from java to kotlin","body":"<p>I'm guessing the <code>Callable</code> you are referring to is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.Callable</code></a>, which is a functional interface (it has the <code>@FunctionalInterface</code> annotation). This means that you can pass a lambda directly, like so</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;, { userMethod })\n    .build()\n</code></pre>\n<p>or, because the lambda is the last argument, even</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;) { userMethod }\n    .build()\n</code></pre>\n<p>See the Kotlin documentation on <a href=\"https://kotlinlang.org/docs/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversions</a> when the interface is in Java, or <a href=\"https://kotlinlang.org/docs/fun-interfaces.html\" rel=\"nofollow noreferrer\">functional interfaces</a> for general information about Kotlin's functional interfaces.</p>\n"}],"owner":{"account_id":28152492,"reputation":3,"user_id":21513758,"display_name":"TheDeverino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078121,"creation_date":1680042045,"question_id":75871546,"body_markdown":"```\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;, new Callable&lt;String&gt;() {\r\n        @Override\r\n        public String call() throws Exception {\r\n            return userMethod;\r\n        }\r\n    })\r\n    .build()\r\n```\r\n\r\n\r\nSo I have this code here in java and it has a method that accepts a string and a Callable&lt;String&gt;, the code here is able to create a new object that isn&#39;t saved to any variable, basically just passing the new Callable&lt;Strings&gt; object as a parameter. But it overrides of the methods after being created. \r\n\r\nHow do you do this with kotlin?\r\n\r\nCallable&lt;String&gt;... and then what? Doing brackets doesnt help, all it tells me is I cannot override call as its a local function.\r\n\r\nI tried converting it to Kotlin by doing: Callable&lt;String&gt; {...}","title":"Creating objects and overriding their method constructors from java to kotlin","body":"<pre><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;, new Callable&lt;String&gt;() {\n        @Override\n        public String call() throws Exception {\n            return userMethod;\n        }\n    })\n    .build()\n</code></pre>\n<p>So I have this code here in java and it has a method that accepts a string and a Callable, the code here is able to create a new object that isn't saved to any variable, basically just passing the new Callable object as a parameter. But it overrides of the methods after being created.</p>\n<p>How do you do this with kotlin?</p>\n<p>Callable... and then what? Doing brackets doesnt help, all it tells me is I cannot override call as its a local function.</p>\n<p>I tried converting it to Kotlin by doing: Callable {...}</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1680011542,"post_id":75865736,"comment_id":133821366,"body_markdown":"You can&#39;t combine Spring MVC and Spring Cloud Gateway in the same application. From what you shown thus far, you could complete the migration by updating the integration tests to use `WebTestClient` rather than `MockMvc`.","body":"You can&#39;t combine Spring MVC and Spring Cloud Gateway in the same application. From what you shown thus far, you could complete the migration by updating the integration tests to use <code>WebTestClient</code> rather than <code>MockMvc</code>."}],"answers":[{"tags":[],"owner":{"account_id":13410061,"reputation":63,"user_id":9676884,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680078115,"creation_date":1680078115,"answer_id":75874760,"question_id":75865736,"body_markdown":"Managed to get it up and running thanks to Andy Wilkinson. Switching to [tag:WebTestClient] worked for me. Test looks now just like this:\r\n\r\n```java\r\n@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\r\npublic class HealthControllerTest {\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    @Test\r\n    public void health_shouldReturnHttp200() { this.webTestClient.get().uri(PATH).accept(MediaType.APPLICATION_JSON).exchange().expectStatus().isOk();\r\n    }\r\n}\r\n\r\n```\r\nIn order for this to run, also had to add [tag:spring-boot-starter-webflux] as a dependency to my [tag:pom.xml].","title":"Spring Integration Test not working with Spring Boot 3 and Spring Cloud Gateway","body":"<p>Managed to get it up and running thanks to Andy Wilkinson. Switching to <a href=\"/questions/tagged/webtestclient\" class=\"post-tag\" title=\"show questions tagged &#39;webtestclient&#39;\" aria-label=\"show questions tagged &#39;webtestclient&#39;\" rel=\"tag\" aria-labelledby=\"tag-webtestclient-tooltip-container\">webtestclient</a> worked for me. Test looks now just like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\npublic class HealthControllerTest {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    public void health_shouldReturnHttp200() { this.webTestClient.get().uri(PATH).accept(MediaType.APPLICATION_JSON).exchange().expectStatus().isOk();\n    }\n}\n\n</code></pre>\n<p>In order for this to run, also had to add <a href=\"/questions/tagged/spring-boot-starter-webflux\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot-starter-webflux&#39;\" aria-label=\"show questions tagged &#39;spring-boot-starter-webflux&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring-boot-starter-webflux-tooltip-container\">spring-boot-starter-webflux</a> as a dependency to my <a href=\"/questions/tagged/pom.xml\" class=\"post-tag\" title=\"show questions tagged &#39;pom.xml&#39;\" aria-label=\"show questions tagged &#39;pom.xml&#39;\" rel=\"tag\" aria-labelledby=\"tag-pom.xml-tooltip-container\">pom.xml</a>.</p>\n"}],"owner":{"account_id":13410061,"reputation":63,"user_id":9676884,"display_name":"Andreas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078115,"creation_date":1680003301,"question_id":75865736,"body_markdown":"I&#39;m just in the process of migrating our application to Spring Boot 3. One of the major changes I have to make is to replace our Zuul proxy server with Spring Cloud Gateway. But this change seems to mess with our Spring Integration Test setup. \r\n\r\nThe basic setup looks as follows:\r\n \r\nThis is a simplified version of the [tag:pom.xml] of our project:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    ...\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2022.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSince we still use **Spring MVC**, I had to set the following property in the [tag:application.properties] to get my application to start with Spring Cloud Gateway:\r\n\r\n```\r\nspring.main.web-application-type=reactive\r\n```\r\nFailing to set that properties lead to the following error during startup:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway.\r\n\r\nAction:\r\n\r\nPlease set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nAfter setting the property, my Spring Boot application starts and the proxy is working as well. However, now I have the problem that my existing Spring integration tests are not working anymore. It seems that setting the property [tag:spring.main.web-application-type] to **reactive** prevents Spring from injecting the **WebApplicationContext**. My test setup is rather simple:\r\n\r\n```\r\n@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\r\npublic class HealthControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(this.context)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        this.mockMvc.perform(MockMvcRequestBuilders.get(PATH)).\r\n                andExpect(MockMvcResultMatchers.status().isOk());\r\n    }\r\n}\r\n```  \r\n\r\nThe test worked fine with Spring Boot 2, but now I get the following exception:\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.context.WebApplicationContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 76 more\r\n```\r\nAs soon as I remove the Spring Cloud Gateway dependency and the [tag:spring.main.web-application-type] property the dependency can be resolved and the test runs successfully.\r\n\r\nDo you have a setup running with Spring Boot 3, Spring MVC and Spring Cloud Gateway and have an idea how to solve that issue?","title":"Spring Integration Test not working with Spring Boot 3 and Spring Cloud Gateway","body":"<p>I'm just in the process of migrating our application to Spring Boot 3. One of the major changes I have to make is to replace our Zuul proxy server with Spring Cloud Gateway. But this change seems to mess with our Spring Integration Test setup.</p>\n<p>The basic setup looks as follows:</p>\n<p>This is a simplified version of the <a href=\"/questions/tagged/pom.xml\" class=\"post-tag\" title=\"show questions tagged &#39;pom.xml&#39;\" aria-label=\"show questions tagged &#39;pom.xml&#39;\" rel=\"tag\" aria-labelledby=\"tag-pom.xml-tooltip-container\">pom.xml</a> of our project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    ...\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Since we still use <strong>Spring MVC</strong>, I had to set the following property in the <a href=\"/questions/tagged/application.properties\" class=\"post-tag\" title=\"show questions tagged &#39;application.properties&#39;\" aria-label=\"show questions tagged &#39;application.properties&#39;\" rel=\"tag\" aria-labelledby=\"tag-application.properties-tooltip-container\">application.properties</a> to get my application to start with Spring Cloud Gateway:</p>\n<pre><code>spring.main.web-application-type=reactive\n</code></pre>\n<p>Failing to set that properties lead to the following error during startup:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway.\n\nAction:\n\nPlease set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>After setting the property, my Spring Boot application starts and the proxy is working as well. However, now I have the problem that my existing Spring integration tests are not working anymore. It seems that setting the property <a href=\"/questions/tagged/spring.main.web-application-type\" class=\"post-tag\" title=\"show questions tagged &#39;spring.main.web-application-type&#39;\" aria-label=\"show questions tagged &#39;spring.main.web-application-type&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring.main.web-application-type-tooltip-container\">spring.main.web-application-type</a> to <strong>reactive</strong> prevents Spring from injecting the <strong>WebApplicationContext</strong>. My test setup is rather simple:</p>\n<pre><code>@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\npublic class HealthControllerTest {\n\n    @Autowired\n    private WebApplicationContext context;\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(this.context)\n                .build();\n    }\n\n    @Test\n    public void test() throws Exception {\n        this.mockMvc.perform(MockMvcRequestBuilders.get(PATH)).\n                andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n<p>The test worked fine with Spring Boot 2, but now I get the following exception:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.context.WebApplicationContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 76 more\n</code></pre>\n<p>As soon as I remove the Spring Cloud Gateway dependency and the <a href=\"/questions/tagged/spring.main.web-application-type\" class=\"post-tag\" title=\"show questions tagged &#39;spring.main.web-application-type&#39;\" aria-label=\"show questions tagged &#39;spring.main.web-application-type&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring.main.web-application-type-tooltip-container\">spring.main.web-application-type</a> property the dependency can be resolved and the test runs successfully.</p>\n<p>Do you have a setup running with Spring Boot 3, Spring MVC and Spring Cloud Gateway and have an idea how to solve that issue?</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680005495,"post_id":75865971,"comment_id":133819527,"body_markdown":"Hi Shannon, can you show the code that is sending the requests, I would suspect the problem comes from that part, and without it, it seems unlikely someone will be able to help you.","body":"Hi Shannon, can you show the code that is sending the requests, I would suspect the problem comes from that part, and without it, it seems unlikely someone will be able to help you."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680100632,"post_id":75865971,"comment_id":133840494,"body_markdown":"Hi Sanjok, thank you for updating your question, The number of `sessions` is 5, and it matches the number of responses you receive before receiving a `null`. That can give a hint about the problem, don&#39;t know where it can lead yet. It would be better if you cold share a complete reproducible program, since there are a number of factors that could lead to what you are seeing. A few of them may depend on the values of the fields of the messages you are sending, and we are not seeing that information in this question. Maybe you could add the log of what you see as an advance?","body":"Hi Sanjok, thank you for updating your question, The number of <code>sessions</code> is 5, and it matches the number of responses you receive before receiving a <code>null</code>. That can give a hint about the problem, don&#39;t know where it can lead yet. It would be better if you cold share a complete reproducible program, since there are a number of factors that could lead to what you are seeing. A few of them may depend on the values of the fields of the messages you are sending, and we are not seeing that information in this question. Maybe you could add the log of what you see as an advance?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680101123,"post_id":75865971,"comment_id":133840654,"body_markdown":"May I ask why are you using `MultiSessionChannelAdaptor` instead of the plain `ChannelAdaptor`? I haven&#39;t seen this one being frequently used, and in the project&#39;s git log, it doesn&#39;t seem to be highly maintained, so, it could be a bug here or there. Would you mind testing the `ChannelAdaptor` instead and see if the problem persists? Although it would be nice to hunt a possible bug, it would be better to first validate there is one by using another more common component.","body":"May I ask why are you using <code>MultiSessionChannelAdaptor</code> instead of the plain <code>ChannelAdaptor</code>? I haven&#39;t seen this one being frequently used, and in the project&#39;s git log, it doesn&#39;t seem to be highly maintained, so, it could be a bug here or there. Would you mind testing the <code>ChannelAdaptor</code> instead and see if the problem persists? Although it would be nice to hunt a possible bug, it would be better to first validate there is one by using another more common component."},{"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"score":0,"creation_date":1680265541,"post_id":75865971,"comment_id":133873201,"body_markdown":"I am choosing `MultiSessionChannelAdaptor` over  `ChannelAdaptor` because the Bank\\`s CBS is taking 10 sec to respond to my application. Due to this too many transactions are getting qued up on my end. Using `ChannelAdaptor` shows synchronous behavior. A tech person from the bank is saying their CBS supports only persistent TCP connections.","body":"I am choosing <code>MultiSessionChannelAdaptor</code> over  <code>ChannelAdaptor</code> because the Bank`s CBS is taking 10 sec to respond to my application. Due to this too many transactions are getting qued up on my end. Using <code>ChannelAdaptor</code> shows synchronous behavior. A tech person from the bank is saying their CBS supports only persistent TCP connections."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680286952,"post_id":75865971,"comment_id":133878579,"body_markdown":"But, can you test with the normal channel adaptor to discard or not if it&#39;s an issue with multi session channel adaptor? I tried replacing a channel adaptor by a multi session channel adaptor in a test project and didn&#39;t see that issue, but as I told you without the code that generates the messages or the values of their fields and responses it&#39;s hard to tell if it&#39;s some combination of things. A lot extract would be helpful","body":"But, can you test with the normal channel adaptor to discard or not if it&#39;s an issue with multi session channel adaptor? I tried replacing a channel adaptor by a multi session channel adaptor in a test project and didn&#39;t see that issue, but as I told you without the code that generates the messages or the values of their fields and responses it&#39;s hard to tell if it&#39;s some combination of things. A lot extract would be helpful"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680295349,"post_id":75865971,"comment_id":133880296,"body_markdown":"&quot;my understanding is as soon as I got the response mux is supposed to send the remaining request to the server&quot; Actually, this is not true, the mux sends the request through the channel as soon as you call the request method, it doesn&#39;t directly send it, it put it in the `in` queue of the channel adaptor, and it is supposed to be taken by it independently of another request being answered, since the channel doesn&#39;t know about matching requests to responses.","body":"&quot;my understanding is as soon as I got the response mux is supposed to send the remaining request to the server&quot; Actually, this is not true, the mux sends the request through the channel as soon as you call the request method, it doesn&#39;t directly send it, it put it in the <code>in</code> queue of the channel adaptor, and it is supposed to be taken by it independently of another request being answered, since the channel doesn&#39;t know about matching requests to responses."},{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":1,"creation_date":1680311062,"post_id":75865971,"comment_id":133882220,"body_markdown":"Watch out your MUX&#39;s `ready` element, it shows: `&lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;` so it expects your channel-adaptor to be called `jpos-client-adaptor`, but your channel-adaptor is actually called `manager`.\n\nMake sure your remote host actually supports multiple sessions to the same port, I believe they don&#39;t, and you&#39;re just connected from a TCP/IP standpoint against the low level TCP/IP stack&#39;s backlog, and that&#39;s why you&#39;re not getting any response. Some sessions are actually connected to nothing.","body":"Watch out your MUX&#39;s <code>ready</code> element, it shows: <code>&lt;ready&gt;jpos-client-adaptor.ready&lt;&#47;ready&gt;</code> so it expects your channel-adaptor to be called <code>jpos-client-adaptor</code>, but your channel-adaptor is actually called <code>manager</code>.  Make sure your remote host actually supports multiple sessions to the same port, I believe they don&#39;t, and you&#39;re just connected from a TCP/IP standpoint against the low level TCP/IP stack&#39;s backlog, and that&#39;s why you&#39;re not getting any response. Some sessions are actually connected to nothing."},{"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"score":0,"creation_date":1680408793,"post_id":75865971,"comment_id":133892327,"body_markdown":"Hi Andr&#233;s, I tested the same, running the jpos server in my test environment. I did not find the issue we were talking about. But, when I switch to their server problem is visible. I am not aware of any special request handling mechanism required on the server side for `MultiSessionChannelAdaptor`.","body":"Hi Andr&#233;s, I tested the same, running the jpos server in my test environment. I did not find the issue we were talking about. But, when I switch to their server problem is visible. I am not aware of any special request handling mechanism required on the server side for <code>MultiSessionChannelAdaptor</code>."}],"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680078105,"creation_date":1680004658,"question_id":75865971,"body_markdown":"below is my client mux config. I am facing the problem that when I send 100 requests, only the first 5 are reached to the server and I am able to get the response within 100 ms.my understanding is as soon as I got the response mux is supposed to send the remaining request to the server but it is not happening so all the rest of the 95 request gets a null response from the call to `mux.request(msg,25000)`.\r\n\r\n**10_client_channel.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; ?&gt;\r\n&lt;channel-adaptor name=&quot;manager&quot;\r\n                 class=&quot;org.jpos.q2.iso.MultiSessionChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\r\n    &lt;in&gt;channel-Tx&lt;/in&gt;\r\n    &lt;out&gt;channel-Rx&lt;/out&gt;\r\n    &lt;sessions&gt;5&lt;/sessions&gt;\r\n    &lt;timeout&gt;30000&lt;/timeout&gt;\r\n    &lt;keep-alive&gt;yes&lt;/keep-alive&gt;\r\n    &lt;max-connect-attempts&gt;30000000000&lt;/max-connect-attempts&gt;\r\n    &lt;reconnect-delay&gt;100&lt;/reconnect-delay&gt;\r\n   \r\n\r\n    &lt;channel name=&quot;client-channel&quot; class=&quot;org.jpos.iso.channel.ASCIIChannel&quot; logger=&quot;Q2&quot;\r\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\r\n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;outgoing&quot;/&gt;\r\n                &lt;property name=&quot;host&quot; value=&quot;localhost&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;65000&quot;/&gt;\r\n        &lt;property name=&quot;timeout&quot; value=&quot;60000&quot;/&gt;\r\n \r\n        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}/conf/esewa/isoproperties/iso8583f1soft.xml&quot;/&gt;\r\n    &lt;/channel&gt;\r\n\r\n&lt;/channel-adaptor&gt;\r\n```\r\n\r\n**20_client_qmux.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; ?&gt;\r\n&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;jpos-client-mux&quot;&gt;\r\n    &lt;in&gt;channel-Rx&lt;/in&gt;\r\n    &lt;out&gt;channel-Tx&lt;/out&gt;\r\n    &lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;\r\n    &lt;key&gt;11,37&lt;/key&gt;\r\n    &lt;unhandled&gt;Channel-unhandled&lt;/unhandled&gt;\r\n&lt;/mux&gt;\r\n\r\n```\r\n\r\n`private QMUX qmux;` is defined as a global variable and initialized via the constructor like:\r\n\r\n\r\n&gt; `qmux= NameRegistrar.get(&quot;mux.jpos-client-mux&quot;); \r\n&gt; channelTimeoutPeriod=25000;`\r\n\r\n\r\nBelow are the rest of the relevant codes as per @Andr&#233;s Alcarraz `s request\r\n\r\n```java\r\n\r\n            log.info(&quot;firing ISO....&quot;);\r\n            applicationResponse.setIsoRequestTime(new Date());\r\n            ISOMsg responseISOMessage= qmux.request(requestISOMessage,channelTimeoutPeriod);\r\n            applicationResponse.setIsoResponseTime(new Date());\r\n            log.info(&quot;responseISOMessage:{}&quot;,responseISOMessage);\r\n```","title":"queued up requests are not sent to server (jpos QMUX)","body":"<p>below is my client mux config. I am facing the problem that when I send 100 requests, only the first 5 are reached to the server and I am able to get the response within 100 ms.my understanding is as soon as I got the response mux is supposed to send the remaining request to the server but it is not happening so all the rest of the 95 request gets a null response from the call to <code>mux.request(msg,25000)</code>.</p>\n<p><strong>10_client_channel.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;channel-adaptor name=&quot;manager&quot;\n                 class=&quot;org.jpos.q2.iso.MultiSessionChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\n    &lt;in&gt;channel-Tx&lt;/in&gt;\n    &lt;out&gt;channel-Rx&lt;/out&gt;\n    &lt;sessions&gt;5&lt;/sessions&gt;\n    &lt;timeout&gt;30000&lt;/timeout&gt;\n    &lt;keep-alive&gt;yes&lt;/keep-alive&gt;\n    &lt;max-connect-attempts&gt;30000000000&lt;/max-connect-attempts&gt;\n    &lt;reconnect-delay&gt;100&lt;/reconnect-delay&gt;\n   \n\n    &lt;channel name=&quot;client-channel&quot; class=&quot;org.jpos.iso.channel.ASCIIChannel&quot; logger=&quot;Q2&quot;\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;outgoing&quot;/&gt;\n                &lt;property name=&quot;host&quot; value=&quot;localhost&quot;/&gt;\n        &lt;property name=&quot;port&quot; value=&quot;65000&quot;/&gt;\n        &lt;property name=&quot;timeout&quot; value=&quot;60000&quot;/&gt;\n \n        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}/conf/esewa/isoproperties/iso8583f1soft.xml&quot;/&gt;\n    &lt;/channel&gt;\n\n&lt;/channel-adaptor&gt;\n</code></pre>\n<p><strong>20_client_qmux.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;jpos-client-mux&quot;&gt;\n    &lt;in&gt;channel-Rx&lt;/in&gt;\n    &lt;out&gt;channel-Tx&lt;/out&gt;\n    &lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;\n    &lt;key&gt;11,37&lt;/key&gt;\n    &lt;unhandled&gt;Channel-unhandled&lt;/unhandled&gt;\n&lt;/mux&gt;\n\n</code></pre>\n<p><code>private QMUX qmux;</code> is defined as a global variable and initialized via the constructor like:</p>\n<blockquote>\n<p><code>qmux= NameRegistrar.get(&quot;mux.jpos-client-mux&quot;);  channelTimeoutPeriod=25000;</code></p>\n</blockquote>\n<p>Below are the rest of the relevant codes as per @Andrés Alcarraz `s request</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n            log.info(&quot;firing ISO....&quot;);\n            applicationResponse.setIsoRequestTime(new Date());\n            ISOMsg responseISOMessage= qmux.request(requestISOMessage,channelTimeoutPeriod);\n            applicationResponse.setIsoResponseTime(new Date());\n            log.info(&quot;responseISOMessage:{}&quot;,responseISOMessage);\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":11179368,"reputation":301,"user_id":8203851,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1614428151,"creation_date":1614428151,"answer_id":66398721,"question_id":66398543,"body_markdown":"Did you tried using a Named Parameter?\r\n\r\n&gt; 6.3.6. Using Named Parameters\r\nBy default, Spring Data JPA uses position-based parameter binding, as described in all the preceding examples. This makes query methods a little error-prone when refactoring regarding the parameter position. To solve this issue, you can use @Param annotation to give a method parameter a concrete name and bind the name in the query\r\n\r\nSee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters for details.\r\n\r\nSo, this should work:\r\n\r\n    @Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\r\n    List&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(@Param(&quot;runDate&quot;) Date runDate);\r\n\r\n","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>Did you tried using a Named Parameter?</p>\n<blockquote>\n<p>6.3.6. Using Named Parameters\nBy default, Spring Data JPA uses position-based parameter binding, as described in all the preceding examples. This makes query methods a little error-prone when refactoring regarding the parameter position. To solve this issue, you can use @Param annotation to give a method parameter a concrete name and bind the name in the query</p>\n</blockquote>\n<p>See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters</a> for details.</p>\n<p>So, this should work:</p>\n<pre><code>@Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\nList&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(@Param(&quot;runDate&quot;) Date runDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6837399,"reputation":310,"user_id":5258801,"display_name":"AguThadeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680077890,"creation_date":1680077890,"answer_id":75874727,"question_id":66398543,"body_markdown":"This issue occurs when method parameter names are not available to be read by reflection, the `javac -parameters` flag ensures that these parameters are available during runtime. If you somehow encounter this issue, make sure your classes are compiled with `-parameters`, in Eclipse you can do this by going to Window &gt; Preferences &gt; Java &gt; Compiler then make sure the option &quot;Store information about method parameters&quot; is checked. \r\n\r\nAlternatively if you use per project settings go to your project &quot;Right Click&quot; &gt; Properties (Shortcut: Alt+Enter), navigate to &quot;Java Compiler&quot; and make sure the above mentioned option is checked\r\n\r\n [![Eclipse screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eU11A.png","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>This issue occurs when method parameter names are not available to be read by reflection, the <code>javac -parameters</code> flag ensures that these parameters are available during runtime. If you somehow encounter this issue, make sure your classes are compiled with <code>-parameters</code>, in Eclipse you can do this by going to Window &gt; Preferences &gt; Java &gt; Compiler then make sure the option &quot;Store information about method parameters&quot; is checked.</p>\n<p>Alternatively if you use per project settings go to your project &quot;Right Click&quot; &gt; Properties (Shortcut: Alt+Enter), navigate to &quot;Java Compiler&quot; and make sure the above mentioned option is checked</p>\n<p><a href=\"https://i.stack.imgur.com/eU11A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eU11A.png\" alt=\"Eclipse screen\" /></a></p>\n"}],"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13481,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":66398721,"answer_count":2,"score":12,"last_activity_date":1680077890,"creation_date":1614426716,"question_id":66398543,"body_markdown":"I have following code running on my local system:\r\n  \r\n    @Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\r\n    List&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(Date runDate);\r\n\r\nBut when I am running the same piece of code in higher environment I am getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\n    Caused by:\r\n    &lt;CDIMIServiceException&gt;\r\n        &lt;Message&gt;Exception in CodeTableTp2Controller &lt;/Message&gt;\r\n        &lt;AdditionalInfo&gt;null&lt;/AdditionalInfo&gt;\r\n        &lt;Cause&gt;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: \r\n    For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.&lt;/Cause&gt; &lt;/CDIMIServiceException&gt;        \r\n     at com.visa.cdimi.code.table.tp2.CodeTableTp2Controller.execute(CodeTableTp2Controller.java:51)\r\n        at com.visa.cdimi.code.table.tp2.Application.main(Application.java:31)\r\n        ... 8 more\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; \r\n    nested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\r\n\r\nI checked the java version on the server it is:\r\n\r\n    java version &quot;1.8.0_261&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_261-b25)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.261-b25, mixed mode)\r\n\r\nOn my local system also I am using Java 8. \r\n\r\nCan anyone please help me solve this issue. Any help is appreciated.","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>I have following code running on my local system:</p>\n<pre><code>@Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\nList&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(Date runDate);\n</code></pre>\n<p>But when I am running the same piece of code in higher environment I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\nCaused by:\n&lt;CDIMIServiceException&gt;\n    &lt;Message&gt;Exception in CodeTableTp2Controller &lt;/Message&gt;\n    &lt;AdditionalInfo&gt;null&lt;/AdditionalInfo&gt;\n    &lt;Cause&gt;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: \nFor queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.&lt;/Cause&gt; &lt;/CDIMIServiceException&gt;        \n at com.visa.cdimi.code.table.tp2.CodeTableTp2Controller.execute(CodeTableTp2Controller.java:51)\n    at com.visa.cdimi.code.table.tp2.Application.main(Application.java:31)\n    ... 8 more\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; \nnested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n</code></pre>\n<p>I checked the java version on the server it is:</p>\n<pre><code>java version &quot;1.8.0_261&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_261-b25)\nJava HotSpot(TM) 64-Bit Server VM (build 25.261-b25, mixed mode)\n</code></pre>\n<p>On my local system also I am using Java 8.</p>\n<p>Can anyone please help me solve this issue. Any help is appreciated.</p>\n"},{"tags":["java","unit-testing","junit4","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":931717,"reputation":9993,"user_id":961487,"accept_rate":62,"display_name":"Razvan"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1380809082,"creation_date":1346183133,"answer_id":12166461,"question_id":12166415,"body_markdown":"Try:\r\n\r\n    assertThat(myClass.getMyItems(),\r\n                              hasItem(hasProperty(&quot;YourProperty&quot;, is(&quot;YourValue&quot;))));","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Try:</p>\n\n<pre><code>assertThat(myClass.getMyItems(),\n                          hasItem(hasProperty(\"YourProperty\", is(\"YourValue\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1346183493,"creation_date":1346183493,"answer_id":12166550,"question_id":12166415,"body_markdown":"As long as your List&lt;MyItem&gt; is a concrete class, you can simply call the contains() method as long as you have implemented your equals() method on MyItem.\r\n\r\n    // given \r\n    // some input ... you to complete\r\n    \r\n    // when\r\n    List&lt;MyItems&gt; results = service.getMyItems();\r\n    \r\n    // then\r\n    assertTrue(results.contains(new MyItem(&quot;foo&quot;)));\r\n    assertTrue(results.contains(new MyItem(&quot;bar&quot;)));\r\n\r\nAssumes you have implemented a constructor that accepts the values you want to assert on. I realise this isn&#39;t on a single line, but it&#39;s useful to know which value is missing rather than checking both at once.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>As long as your List is a concrete class, you can simply call the contains() method as long as you have implemented your equals() method on MyItem.</p>\n\n<pre><code>// given \n// some input ... you to complete\n\n// when\nList&lt;MyItems&gt; results = service.getMyItems();\n\n// then\nassertTrue(results.contains(new MyItem(\"foo\")));\nassertTrue(results.contains(new MyItem(\"bar\")));\n</code></pre>\n\n<p>Assumes you have implemented a constructor that accepts the values you want to assert on. I realise this isn't on a single line, but it's useful to know which value is missing rather than checking both at once.</p>\n"},{"tags":[],"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1479416234,"creation_date":1346189298,"answer_id":12167781,"question_id":12166415,"body_markdown":"Thank you @Razvan who pointed me in the right direction.  I was able to get it in one line and I successfully hunted down the imports for Hamcrest 1.3.\r\n\r\nthe imports:\r\n\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.Matchers.contains;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\r\n\r\n\r\n\r\nthe code:\r\n\r\n    assertThat( myClass.getMyItems(), contains(\r\n        hasProperty(&quot;name&quot;, is(&quot;foo&quot;)), \r\n        hasProperty(&quot;name&quot;, is(&quot;bar&quot;))\r\n    ));","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Thank you @Razvan who pointed me in the right direction.  I was able to get it in one line and I successfully hunted down the imports for Hamcrest 1.3.</p>\n\n<p>the imports:</p>\n\n<pre><code>import static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.Matchers.contains;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\n</code></pre>\n\n<p>the code:</p>\n\n<pre><code>assertThat( myClass.getMyItems(), contains(\n    hasProperty(\"name\", is(\"foo\")), \n    hasProperty(\"name\", is(\"bar\"))\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3551586,"reputation":2743,"user_id":2966331,"display_name":"Mario Eis"},"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1465060235,"creation_date":1445248243,"answer_id":33211421,"question_id":12166415,"body_markdown":"Its not especially Hamcrest, but I think it worth to mention here. What I use quite often in Java8 is something like:\r\n\r\n    assertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; &quot;foo&quot;.equals(item.getName())));\r\n\r\n*(Edited to Rodrigo Manyari&#39;s slight improvement. It&#39;s a little less verbose. See comments.)*\r\n\r\nIt may be a little bit harder to read, but I like the type and refactoring safety.\r\nIts also cool for testing multiple bean properties in combination. e.g. with a java-like &amp;&amp; expression in the filter lambda.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Its not especially Hamcrest, but I think it worth to mention here. What I use quite often in Java8 is something like:</p>\n\n<pre><code>assertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; \"foo\".equals(item.getName())));\n</code></pre>\n\n<p><em>(Edited to Rodrigo Manyari's slight improvement. It's a little less verbose. See comments.)</em></p>\n\n<p>It may be a little bit harder to read, but I like the type and refactoring safety.\nIts also cool for testing multiple bean properties in combination. e.g. with a java-like &amp;&amp; expression in the filter lambda.</p>\n"},{"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1604469277,"creation_date":1450791577,"answer_id":34417201,"question_id":12166415,"body_markdown":"[Assertj](https://assertj.github.io/doc/) is good at this.\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n        assertThat(myClass.getMyItems()).extracting(&quot;name&quot;).contains(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nBig plus for assertj compared to hamcrest is easy use of code completion.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p><a href=\"https://assertj.github.io/doc/\" rel=\"noreferrer\">Assertj</a> is good at this.</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\n    assertThat(myClass.getMyItems()).extracting(&quot;name&quot;).contains(&quot;foo&quot;, &quot;bar&quot;);\n</code></pre>\n<p>Big plus for assertj compared to hamcrest is easy use of code completion.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1680077834,"creation_date":1534102435,"answer_id":51812188,"question_id":12166415,"body_markdown":"AssertJ provides an excellent feature in `extracting()` : you can pass `Function`s to extract fields. It provides a check at compile time.   \r\nYou could also assert the size first easily.  \r\n\r\nIt would give :\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n    assertThat(myClass.getMyItems())\r\n              .hasSize(2)\r\n              .extracting(MyItem::getName)\r\n              .containsExactlyInAnyOrder(&quot;foo&quot;, &quot;bar&quot;); \r\n\r\n`containsExactlyInAnyOrder()` asserts that the list contains only these values whatever the order.   \r\n\r\nTo assert that the list contains these values whatever the order but may also contain other values use `contains()` :\r\n   \r\n    .contains(&quot;foo&quot;, &quot;bar&quot;); \r\n\r\n\r\n----------\r\n\r\n\r\nAs a side note : to assert multiple fields from elements of a `List` , with AssertJ we do that by wrapping expected values for each  element into a `tuple()` function :\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n\r\n    assertThat(myClass.getMyItems())\r\n              .hasSize(2)\r\n              .extracting(MyItem::getName, MyItem::getOtherValue)\r\n              .containsExactlyInAnyOrder(\r\n                   tuple(&quot;foo&quot;, &quot;OtherValueFoo&quot;),\r\n                   tuple(&quot;bar&quot;, &quot;OtherValueBar&quot;)\r\n               ); ","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>AssertJ provides an excellent feature in <code>extracting()</code> : you can pass <code>Function</code>s to extract fields. It provides a check at compile time.<br />\nYou could also assert the size first easily.</p>\n<p>It would give :</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\nassertThat(myClass.getMyItems())\n          .hasSize(2)\n          .extracting(MyItem::getName)\n          .containsExactlyInAnyOrder(&quot;foo&quot;, &quot;bar&quot;); \n</code></pre>\n<p><code>containsExactlyInAnyOrder()</code> asserts that the list contains only these values whatever the order.</p>\n<p>To assert that the list contains these values whatever the order but may also contain other values use <code>contains()</code> :</p>\n<pre><code>.contains(&quot;foo&quot;, &quot;bar&quot;); \n</code></pre>\n<hr />\n<p>As a side note : to assert multiple fields from elements of a <code>List</code> , with AssertJ we do that by wrapping expected values for each  element into a <code>tuple()</code> function :</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.groups.Tuple.tuple;\n\nassertThat(myClass.getMyItems())\n          .hasSize(2)\n          .extracting(MyItem::getName, MyItem::getOtherValue)\n          .containsExactlyInAnyOrder(\n               tuple(&quot;foo&quot;, &quot;OtherValueFoo&quot;),\n               tuple(&quot;bar&quot;, &quot;OtherValueBar&quot;)\n           ); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573225346,"creation_date":1573216175,"answer_id":58766630,"question_id":12166415,"body_markdown":"AssertJ 3.9.1 supports direct predicate usage in `anyMatch` method.\r\n\r\n    assertThat(collection).anyMatch(element -&gt; element.someProperty.satisfiesSomeCondition())\r\n\r\nThis is generally suitable use case for arbitrarily complex condition.\r\n\r\nFor simple conditions I prefer using `extracting` method (see above) because resulting iterable-under-test might support value verification with better readability.\r\nExample: it can provide specialized API such as `contains` method in Frank Neblung&#39;s answer. Or you can call `anyMatch` on it later anyway and use method reference such as `&quot;searchedvalue&quot;::equals`. Also multiple extractors can be put into `extracting` method, result subsequently verified using `tuple()`.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>AssertJ 3.9.1 supports direct predicate usage in <code>anyMatch</code> method.</p>\n\n<pre><code>assertThat(collection).anyMatch(element -&gt; element.someProperty.satisfiesSomeCondition())\n</code></pre>\n\n<p>This is generally suitable use case for arbitrarily complex condition.</p>\n\n<p>For simple conditions I prefer using <code>extracting</code> method (see above) because resulting iterable-under-test might support value verification with better readability.\nExample: it can provide specialized API such as <code>contains</code> method in Frank Neblung's answer. Or you can call <code>anyMatch</code> on it later anyway and use method reference such as <code>\"searchedvalue\"::equals</code>. Also multiple extractors can be put into <code>extracting</code> method, result subsequently verified using <code>tuple()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602233968,"creation_date":1602233968,"answer_id":64276881,"question_id":12166415,"body_markdown":"Alternatively to `hasProperty` you can try [hamcrest-more-matchers](https://github.com/seregamorph/hamcrest-more-matchers) `where` matcher with extracting function. In your case it will look like:\r\n```java\r\nimport static com.github.seregamorph.hamcrest.MoreMatchers.where;\r\n\r\nassertThat(myClass.getMyItems(), contains(\r\n    where(MyItem::getName, is(&quot;foo&quot;)), \r\n    where(MyItem::getName, is(&quot;bar&quot;))\r\n));\r\n```\r\nThe advantages of this approach are:\r\n- It is not always possible to verify by field if the value is computed in get-method\r\n- In case of mismatch there should be a failure message with diagnostics (pay attention to resolved method reference **MyItem.getName**:\r\n```\r\nExpected: iterable containing [Object that matches is &quot;foo&quot; after call\r\nMyItem.getName, Object that matches is &quot;bar&quot; after call MyItem.getName]\r\n     but: item 0: was &quot;wrong-name&quot;\r\n```\r\n- It works in Java 8, Java 11 and Java 14","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Alternatively to <code>hasProperty</code> you can try <a href=\"https://github.com/seregamorph/hamcrest-more-matchers\" rel=\"nofollow noreferrer\">hamcrest-more-matchers</a> <code>where</code> matcher with extracting function. In your case it will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.seregamorph.hamcrest.MoreMatchers.where;\n\nassertThat(myClass.getMyItems(), contains(\n    where(MyItem::getName, is(&quot;foo&quot;)), \n    where(MyItem::getName, is(&quot;bar&quot;))\n));\n</code></pre>\n<p>The advantages of this approach are:</p>\n<ul>\n<li>It is not always possible to verify by field if the value is computed in get-method</li>\n<li>In case of mismatch there should be a failure message with diagnostics (pay attention to resolved method reference <strong>MyItem.getName</strong>:</li>\n</ul>\n<pre><code>Expected: iterable containing [Object that matches is &quot;foo&quot; after call\nMyItem.getName, Object that matches is &quot;bar&quot; after call MyItem.getName]\n     but: item 0: was &quot;wrong-name&quot;\n</code></pre>\n<ul>\n<li>It works in Java 8, Java 11 and Java 14</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631711167,"creation_date":1631711167,"answer_id":69193761,"question_id":12166415,"body_markdown":"With Stream you can also do:\r\n\r\n    List&lt;String&gt; actual = myList.stream().map(MyClass::getName).collect(toList());\r\n    assertThat(actual, hasItem(&quot;expectedString1&quot;));\r\n\r\n\r\nBecause with `anyMatch()` or `allMatch()`, you know **some** values in your list are in the list, but there is possibility that your actual list only contains 5 values while in `anyMatch()` you have 6; you don&#39;t know if **all** values are present or not. With `hasItem()`, you indeed check every value you want. ","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>With Stream you can also do:</p>\n<pre><code>List&lt;String&gt; actual = myList.stream().map(MyClass::getName).collect(toList());\nassertThat(actual, hasItem(&quot;expectedString1&quot;));\n</code></pre>\n<p>Because with <code>anyMatch()</code> or <code>allMatch()</code>, you know <strong>some</strong> values in your list are in the list, but there is possibility that your actual list only contains 5 values while in <code>anyMatch()</code> you have 6; you don't know if <strong>all</strong> values are present or not. With <code>hasItem()</code>, you indeed check every value you want.</p>\n"}],"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252657,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":12167781,"answer_count":9,"score":174,"last_activity_date":1680077834,"creation_date":1346183000,"question_id":12166415,"body_markdown":"Assume I want to unit test a method with this signature:\r\n\r\n    List&lt;MyItem&gt; getMyItems();\r\n\r\nAssume `MyItem` is a Pojo that has many properties, one of which is `&quot;name&quot;`, accessed via `getName()`.\r\n\r\nAll I care about verifying is that the `List&lt;MyItem&gt;`, or any `Iterable`, contains two `MyItem` instances, whose `&quot;name&quot;` properties have the values `&quot;foo&quot;` and `&quot;bar&quot;`.  If any other properties don&#39;t match, I don&#39;t really care for the purposes of this test.  If the names match, it&#39;s a successful test.\r\n\r\nI would like it to be one-liner if possible. Here is some &quot;pseudo-syntax&quot; of the kind of thing I would like to do.  \r\n\r\n    assert(listEntriesMatchInAnyOrder(myClass.getMyItems(), property(&quot;name&quot;), new String[]{&quot;foo&quot;, &quot;bar&quot;});\r\n\r\nWould Hamcrest be good for this type of thing?  If so, what exactly would be the hamcrest version of my pseudo-syntax above?\r\n","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Assume I want to unit test a method with this signature:</p>\n\n<pre><code>List&lt;MyItem&gt; getMyItems();\n</code></pre>\n\n<p>Assume <code>MyItem</code> is a Pojo that has many properties, one of which is <code>\"name\"</code>, accessed via <code>getName()</code>.</p>\n\n<p>All I care about verifying is that the <code>List&lt;MyItem&gt;</code>, or any <code>Iterable</code>, contains two <code>MyItem</code> instances, whose <code>\"name\"</code> properties have the values <code>\"foo\"</code> and <code>\"bar\"</code>.  If any other properties don't match, I don't really care for the purposes of this test.  If the names match, it's a successful test.</p>\n\n<p>I would like it to be one-liner if possible. Here is some \"pseudo-syntax\" of the kind of thing I would like to do.  </p>\n\n<pre><code>assert(listEntriesMatchInAnyOrder(myClass.getMyItems(), property(\"name\"), new String[]{\"foo\", \"bar\"});\n</code></pre>\n\n<p>Would Hamcrest be good for this type of thing?  If so, what exactly would be the hamcrest version of my pseudo-syntax above?</p>\n"},{"tags":["java","jboss","drools","rule-engine","drools-kie-server"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1680031768,"post_id":75868338,"comment_id":133826922,"body_markdown":"So basically you want the matching phase to be executed with each rule being assigned to a separate thread for evaluation?","body":"So basically you want the matching phase to be executed with each rule being assigned to a separate thread for evaluation?"},{"owner":{"account_id":20139957,"reputation":11,"user_id":14770019,"display_name":"linhongpeng"},"score":0,"creation_date":1680057055,"post_id":75868338,"comment_id":133830711,"body_markdown":"Thanks for your consideration. English is not my native language, please excuse typing errors.\nI do want the matching phase to be executed with each rule being assigned to a separate thread for evaluation.","body":"Thanks for your consideration. English is not my native language, please excuse typing errors. I do want the matching phase to be executed with each rule being assigned to a separate thread for evaluation."}],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680077605,"creation_date":1680077605,"answer_id":75874693,"question_id":75868338,"body_markdown":"&gt; multithreadEvaluation configuration is enabled, (...) and found that there are still no multithreaded parallel execution rules.\r\n\r\nThat is because `multithreadEvaluation` works when a KB can be partitioned, while your KB example rules clearly is not. Being `multithreadEvaluation` an advanced feature I would advise to use it only when you can be sure you KB can actually be partitioned.\r\n\r\nOtherwise, by description of your original question, this does not seems to be a concerns strictly related to Drools --otherwise I would have expected an example KB when clearly the semantic partitioning of events from different, slow, sources would have had an impact on other rules.\r\n\r\nTo address the need of several, slow, sources need to fetch data in parallel, in order to later make available to some rules the data once it has arrived, you might consider adopting a reactive framework to integrate with your application, in addition to Drools. One such reactive framework I personally like is [Mutiny][1].\r\n\r\nFor example, you might consider _Merging_ several sources:\r\n\r\n```java\r\nMulti&lt;Tuple2&gt; first = Multi.createFrom().ticks().every(Duration.ofMillis(10))\r\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 1 - &quot;, l));\r\n\r\nMulti&lt;Tuple2&gt; second = Multi.createFrom().ticks().every(Duration.ofMillis(15))\r\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 2 - &quot;, l));\r\n\r\nCancellable cancellable = Multi.createBy().merging().streams(first, second)\r\n        .subscribe().with(s -&gt; System.out.println(&quot;Received: &quot; + s));\r\n```\r\n\r\nDon&#39;t forget to subscribe the streams on the executor thread!\r\n\r\nref: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon\r\n\r\nFor example, here is snippet of code which fetches different, heterogeneous type of resources from a Kubernetes cluster, and then make it available to a Drools session:\r\n\r\n    private Multi&lt;KubernetesResource&gt; mutinyFabric8KubernetesClient(Class&lt;? extends KubernetesResource&gt; resourceType,\r\n                                                                    Function&lt;KubernetesClient, List&lt;? extends KubernetesResource&gt;&gt; blockingFn) {\r\n\r\n        return Multi.createFrom().&lt;KubernetesResource&gt;items(() -&gt; {\r\n                    var res = blockingFn.apply(client);\r\n                    LOG.debug(&quot;Fetched {} {}s&quot;, res.size(), resourceType.getName());\r\n                    return res.stream();\r\n                })\r\n                .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\r\n    }\r\n\r\n    public Collection&lt;KubernetesResource&gt; levelTrigger() {\r\n        Multi&lt;KubernetesResource&gt; deployments = mutinyFabric8KubernetesClient(Deployment.class, c -&gt; c.apps().deployments().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; statefulSets = mutinyFabric8KubernetesClient(StatefulSet.class, c -&gt; c.apps().statefulSets().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; pods = mutinyFabric8KubernetesClient(Pod.class, c -&gt; c.pods().inAnyNamespace().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; persistentVolumeClaims = mutinyFabric8KubernetesClient(PersistentVolumeClaim.class, c -&gt; c.persistentVolumeClaims().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; services = mutinyFabric8KubernetesClient(Service.class, c -&gt; c.services().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; configMaps = mutinyFabric8KubernetesClient(ConfigMap.class, c -&gt; c.configMaps().inAnyNamespace().list().getItems());\r\n\r\n        return Multi.createBy().merging().streams(deployments, statefulSets, pods, persistentVolumeClaims, services, configMaps)\r\n                .collect()\r\n                .asList()\r\n                .await()\r\n                .atMost(Duration.ofSeconds(10));\r\n    }\r\n\r\nref: https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114\r\n\r\n## Conclusions\r\n\r\n - Use `multithreadEvaluation` only if KB can be partitioned\r\n - Consider integrating a Reactive framework such as Mutiny for your need to query data in parallel, which is not stricly a Drools operators concern\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny","title":"How to fire rules in parallel in Drools 7.73.0?","body":"<blockquote>\n<p>multithreadEvaluation configuration is enabled, (...) and found that there are still no multithreaded parallel execution rules.</p>\n</blockquote>\n<p>That is because <code>multithreadEvaluation</code> works when a KB can be partitioned, while your KB example rules clearly is not. Being <code>multithreadEvaluation</code> an advanced feature I would advise to use it only when you can be sure you KB can actually be partitioned.</p>\n<p>Otherwise, by description of your original question, this does not seems to be a concerns strictly related to Drools --otherwise I would have expected an example KB when clearly the semantic partitioning of events from different, slow, sources would have had an impact on other rules.</p>\n<p>To address the need of several, slow, sources need to fetch data in parallel, in order to later make available to some rules the data once it has arrived, you might consider adopting a reactive framework to integrate with your application, in addition to Drools. One such reactive framework I personally like is <a href=\"https://smallrye.io/smallrye-mutiny\" rel=\"nofollow noreferrer\">Mutiny</a>.</p>\n<p>For example, you might consider <em>Merging</em> several sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Tuple2&gt; first = Multi.createFrom().ticks().every(Duration.ofMillis(10))\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 1 - &quot;, l));\n\nMulti&lt;Tuple2&gt; second = Multi.createFrom().ticks().every(Duration.ofMillis(15))\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 2 - &quot;, l));\n\nCancellable cancellable = Multi.createBy().merging().streams(first, second)\n        .subscribe().with(s -&gt; System.out.println(&quot;Received: &quot; + s));\n</code></pre>\n<p>Don't forget to subscribe the streams on the executor thread!</p>\n<p>ref: <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon</a></p>\n<p>For example, here is snippet of code which fetches different, heterogeneous type of resources from a Kubernetes cluster, and then make it available to a Drools session:</p>\n<pre><code>private Multi&lt;KubernetesResource&gt; mutinyFabric8KubernetesClient(Class&lt;? extends KubernetesResource&gt; resourceType,\n                                                                Function&lt;KubernetesClient, List&lt;? extends KubernetesResource&gt;&gt; blockingFn) {\n\n    return Multi.createFrom().&lt;KubernetesResource&gt;items(() -&gt; {\n                var res = blockingFn.apply(client);\n                LOG.debug(&quot;Fetched {} {}s&quot;, res.size(), resourceType.getName());\n                return res.stream();\n            })\n            .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\n}\n\npublic Collection&lt;KubernetesResource&gt; levelTrigger() {\n    Multi&lt;KubernetesResource&gt; deployments = mutinyFabric8KubernetesClient(Deployment.class, c -&gt; c.apps().deployments().list().getItems());\n    Multi&lt;KubernetesResource&gt; statefulSets = mutinyFabric8KubernetesClient(StatefulSet.class, c -&gt; c.apps().statefulSets().list().getItems());\n    Multi&lt;KubernetesResource&gt; pods = mutinyFabric8KubernetesClient(Pod.class, c -&gt; c.pods().inAnyNamespace().list().getItems());\n    Multi&lt;KubernetesResource&gt; persistentVolumeClaims = mutinyFabric8KubernetesClient(PersistentVolumeClaim.class, c -&gt; c.persistentVolumeClaims().list().getItems());\n    Multi&lt;KubernetesResource&gt; services = mutinyFabric8KubernetesClient(Service.class, c -&gt; c.services().list().getItems());\n    Multi&lt;KubernetesResource&gt; configMaps = mutinyFabric8KubernetesClient(ConfigMap.class, c -&gt; c.configMaps().inAnyNamespace().list().getItems());\n\n    return Multi.createBy().merging().streams(deployments, statefulSets, pods, persistentVolumeClaims, services, configMaps)\n            .collect()\n            .asList()\n            .await()\n            .atMost(Duration.ofSeconds(10));\n}\n</code></pre>\n<p>ref: <a href=\"https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114\" rel=\"nofollow noreferrer\">https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114</a></p>\n<h2>Conclusions</h2>\n<ul>\n<li>Use <code>multithreadEvaluation</code> only if KB can be partitioned</li>\n<li>Consider integrating a Reactive framework such as Mutiny for your need to query data in parallel, which is not stricly a Drools operators concern</li>\n</ul>\n"}],"owner":{"account_id":20139957,"reputation":11,"user_id":14770019,"display_name":"linhongpeng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680077605,"creation_date":1680018121,"question_id":75868338,"body_markdown":"In my application scenario, I created 100 independent DRL rules.\r\n\r\nSome of these DRL rules are time-consuming because LHS needs to rely on RESTful APIs to query the factual basis (for example, the query order amount interface and the query historical order details interface).\r\n\r\nI wonder if there is any way to **execute LHS logic for DRL rules in parallel** to improve performance?\r\n\r\nFor example, in the following four DRL rules, LHS will call the MyThreadUtil#sleep method. Is there any way to execute them in parallel with multiple threads?\r\n\r\n```\r\npackage multi.thread;\r\nimport com.hp.util.MyThreadUtil;\r\n\r\nrule &quot;multi_thread_1&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime1 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime1);\r\nend\r\n\r\nrule &quot;multi_thread_2&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime2 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime2);\r\nend\r\n\r\nrule &quot;multi_thread_3&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime3 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime3);\r\nend\r\n\r\nrule &quot;multi_thread_4&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime4 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime4);\r\nend\r\n```\r\n\r\nAnd I execute it using the following Java code.\r\n\r\n```\r\nKieServices kieServices = KieServices.Factory.get();\r\nKieContainer kieContainer = kieServices.newKieClasspathContainer();\r\nKieSession session = kieContainer.newKieSession();\r\nsession.fireAllRules(new RuleNameStartsWithAgendaFilter(&quot;multi_thread_&quot;));\r\nsession.dispose();\r\n```\r\n\r\nThanx.\r\n\r\nBy reading the official website document(`https://docs.drools.org/7.73.0.Final/drools-docs/html_single/#rule-base-configuration-con_decision-engine`), The multithreadEvaluation configuration is enabled, The debug source code went to the org.tools.core.common.CompositeDefaultAgenda#parallelFire method and found that there are still no multithreaded parallel execution rules.","title":"How to fire rules in parallel in Drools 7.73.0?","body":"<p>In my application scenario, I created 100 independent DRL rules.</p>\n<p>Some of these DRL rules are time-consuming because LHS needs to rely on RESTful APIs to query the factual basis (for example, the query order amount interface and the query historical order details interface).</p>\n<p>I wonder if there is any way to <strong>execute LHS logic for DRL rules in parallel</strong> to improve performance?</p>\n<p>For example, in the following four DRL rules, LHS will call the MyThreadUtil#sleep method. Is there any way to execute them in parallel with multiple threads?</p>\n<pre><code>package multi.thread;\nimport com.hp.util.MyThreadUtil;\n\nrule &quot;multi_thread_1&quot;\n    no-loop true\n    when\n        $sleepTime1 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime1);\nend\n\nrule &quot;multi_thread_2&quot;\n    no-loop true\n    when\n        $sleepTime2 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime2);\nend\n\nrule &quot;multi_thread_3&quot;\n    no-loop true\n    when\n        $sleepTime3 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime3);\nend\n\nrule &quot;multi_thread_4&quot;\n    no-loop true\n    when\n        $sleepTime4 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime4);\nend\n</code></pre>\n<p>And I execute it using the following Java code.</p>\n<pre><code>KieServices kieServices = KieServices.Factory.get();\nKieContainer kieContainer = kieServices.newKieClasspathContainer();\nKieSession session = kieContainer.newKieSession();\nsession.fireAllRules(new RuleNameStartsWithAgendaFilter(&quot;multi_thread_&quot;));\nsession.dispose();\n</code></pre>\n<p>Thanx.</p>\n<p>By reading the official website document(<code>https://docs.drools.org/7.73.0.Final/drools-docs/html_single/#rule-base-configuration-con_decision-engine</code>), The multithreadEvaluation configuration is enabled, The debug source code went to the org.tools.core.common.CompositeDefaultAgenda#parallelFire method and found that there are still no multithreaded parallel execution rules.</p>\n"},{"tags":["java","string","jframe","jlabel"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680024269,"post_id":75869263,"comment_id":133825107,"body_markdown":"The other way around. `+=`, not `=+`. This way to avoid cinfusion with setting the value to `+3` (which is what your code does).","body":"The other way around. <code>+=</code>, not <code>=+</code>. This way to avoid cinfusion with setting the value to <code>+3</code> (which is what your code does)."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680024342,"post_id":75869263,"comment_id":133825129,"body_markdown":"You said your int is final, You cannot change the value of a final variable. I suggest you read about [variables](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html).","body":"You said your int is final, You cannot change the value of a final variable. I suggest you read about <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">variables</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680024557,"post_id":75869263,"comment_id":133825190,"body_markdown":"Are you using an array but only using element 0 of the array? What’s the point of using an array, then?","body":"Are you using an array but only using element 0 of the array? What’s the point of using an array, then?"},{"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"score":0,"creation_date":1680077465,"post_id":75869263,"comment_id":133834037,"body_markdown":"Cardinal Hey! i tried using a local var but rather than adding it it simply just printed the value of the button i clicked","body":"Cardinal Hey! i tried using a local var but rather than adding it it simply just printed the value of the button i clicked"},{"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"score":0,"creation_date":1680077521,"post_id":75869263,"comment_id":133834049,"body_markdown":"@OleV.V. What should i do then?","body":"@OleV.V. What should i do then?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680078600,"post_id":75869263,"comment_id":133834272,"body_markdown":"Assuming that you have told us all that you want to obtain and your code isn’t multi-threaded, then just use a (non-final) `int` variable and add 3 to it when the button is clicked. Then it is trivial to print it. And still use `String.valueOf()` to put it in the label.","body":"Assuming that you have told us all that you want to obtain and your code isn’t multi-threaded, then just use a (non-final) <code>int</code> variable and add 3 to it when the button is clicked. Then it is trivial to print it. And still use <code>String.valueOf()</code> to put it in the label."}],"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680025116,"answer_count":0,"score":0,"last_activity_date":1680077550,"creation_date":1680024156,"question_id":75869263,"body_markdown":"So, im making a program in which whenever a button is clicked 3 is added to an integer called Score \r\nso that if the button is clicked 2 times score will be 6.I made the score int final int with value of 0.\r\n\r\nOk the syntax i added was \r\n\r\n - To add 3: `Viewablescore[0] =+ 3;`\r\n - For console `System.out.println(Viewablescore);`\r\n - for JFrame `label2.setText(String.valueOf(Viewablescore));`\r\n\r\nI wanted to print the result on both console and in the Jframe, but i was given with `[I@563bf420`.\r\nThe program ran successfully.\r\nWhat should i do\r\n","title":"I am having trouble while converting Integer to string","body":"<p>So, im making a program in which whenever a button is clicked 3 is added to an integer called Score\nso that if the button is clicked 2 times score will be 6.I made the score int final int with value of 0.</p>\n<p>Ok the syntax i added was</p>\n<ul>\n<li>To add 3: <code>Viewablescore[0] =+ 3;</code></li>\n<li>For console <code>System.out.println(Viewablescore);</code></li>\n<li>for JFrame <code>label2.setText(String.valueOf(Viewablescore));</code></li>\n</ul>\n<p>I wanted to print the result on both console and in the Jframe, but i was given with <code>[I@563bf420</code>.\nThe program ran successfully.\nWhat should i do</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680067442,"post_id":75873397,"comment_id":133831964,"body_markdown":"Why do you have two classes named `I_a`? If they are in the same package, that won&#39;t work.","body":"Why do you have two classes named <code>I_a</code>? If they are in the same package, that won&#39;t work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680067634,"post_id":75873397,"comment_id":133831997,"body_markdown":"But what exact problem are you having? Please post your actual code and the full error message.","body":"But what exact problem are you having? Please post your actual code and the full error message."},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1680509115,"post_id":75873397,"comment_id":133904383,"body_markdown":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!","body":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073849,"creation_date":1680073849,"answer_id":75874165,"question_id":75873397,"body_markdown":"Use the options already provided by `Comparator`:\r\n```\r\nComparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\r\n```\r\nIf you want higher lengths first:\r\n```\r\nComparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\r\n```","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>Use the options already provided by <code>Comparator</code>:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\n</code></pre>\n<p>If you want higher lengths first:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680073901,"creation_date":1680073901,"answer_id":75874173,"question_id":75873397,"body_markdown":"I think you could not describe your problem clearly enough and I couldn&#39;t completely understand what you are looking for, But maybe this method is the one you need!!\r\n\r\n    @Override\r\n    public int compareTo(I_a i){\r\n        return Comparator.comparing(I_a::getLength)\r\n                  .thenComparing(I_a::getName)\r\n                  .compare(this, i);\r\n    }","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I think you could not describe your problem clearly enough and I couldn't completely understand what you are looking for, But maybe this method is the one you need!!</p>\n<pre><code>@Override\npublic int compareTo(I_a i){\n    return Comparator.comparing(I_a::getLength)\n              .thenComparing(I_a::getName)\n              .compare(this, i);\n}\n</code></pre>\n"}],"owner":{"account_id":25504947,"reputation":3,"user_id":19297567,"display_name":"Chau Huynh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680077441,"creation_date":1680067207,"question_id":75873397,"body_markdown":"I&#39;m not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I&#39;a is equal to another I&#39;a the following instance variables should match exactly:\r\n- length\r\n- name\r\n\r\nAnd in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.\r\n\r\nThe length has highest precedence for ordering, name has next highest precedence.\r\n\r\nIf the length is the same, then sorting is by the name.\r\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.\r\n\r\n```\r\npublic class I_a implements Comparable&lt;I_a&gt;{\r\nprivate name;\r\nprivate length;\r\n}\r\npublic abstract class I_a {\r\n\r\n   /*** instance constants, these are fixed for each type. ***/\r\n   /** The Hawaiian name. */\r\n   protected final String name;\r\n   /** The English name. */\r\n   protected final String englishName;\r\n   /** The scientific name. */\r\n   protected final String scientificName;\r\n   /** The maximum length. */\r\n   protected final double maxLength;\r\n    /** The minimum length. */\r\n   protected final double minLength;\r\n      /** The diet eaten. */\r\n   protected final String[] diet;\r\n   \r\n   /*** instance variables, these are (possibly) variable for each fish. ***/\r\n    /** The actual fish length in inches. */\r\n   protected double length;\r\n   /** The fish weight in ounces. */\r\n   protected double weight;\r\n   /** The body color. */\r\n   protected String bodyColor;\r\n   /** The fin color. */\r\n   protected String finColor;\r\n   /** The fishes&#39; sex. */\r\n   protected String sex;\r\n   /** The growth rate max per food eaten.*/\r\n   protected double growthRate = 0.8;\r\n\r\n```\r\n\r\n\r\nI try to declare the variable for my Comparable class but it said `&lt;identifier&gt; expected`. What should I try to put","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I'm not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I'a is equal to another I'a the following instance variables should match exactly:</p>\n<ul>\n<li>length</li>\n<li>name</li>\n</ul>\n<p>And in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.</p>\n<p>The length has highest precedence for ordering, name has next highest precedence.</p>\n<p>If the length is the same, then sorting is by the name.\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.</p>\n<pre><code>public class I_a implements Comparable&lt;I_a&gt;{\nprivate name;\nprivate length;\n}\npublic abstract class I_a {\n\n   /*** instance constants, these are fixed for each type. ***/\n   /** The Hawaiian name. */\n   protected final String name;\n   /** The English name. */\n   protected final String englishName;\n   /** The scientific name. */\n   protected final String scientificName;\n   /** The maximum length. */\n   protected final double maxLength;\n    /** The minimum length. */\n   protected final double minLength;\n      /** The diet eaten. */\n   protected final String[] diet;\n   \n   /*** instance variables, these are (possibly) variable for each fish. ***/\n    /** The actual fish length in inches. */\n   protected double length;\n   /** The fish weight in ounces. */\n   protected double weight;\n   /** The body color. */\n   protected String bodyColor;\n   /** The fin color. */\n   protected String finColor;\n   /** The fishes' sex. */\n   protected String sex;\n   /** The growth rate max per food eaten.*/\n   protected double growthRate = 0.8;\n\n</code></pre>\n<p>I try to declare the variable for my Comparable class but it said <code>&lt;identifier&gt; expected</code>. What should I try to put</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679917057,"post_id":75855269,"comment_id":133801010,"body_markdown":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any `void` methods!","body":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any <code>void</code> methods!"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679917178,"post_id":75855269,"comment_id":133801041,"body_markdown":"@tgdavies I edited the syntax spells","body":"@tgdavies I edited the syntax spells"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679917496,"post_id":75855269,"comment_id":133801120,"body_markdown":"Sorry, I still don&#39;t understand your question.","body":"Sorry, I still don&#39;t understand your question."},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679921150,"post_id":75855269,"comment_id":133802075,"body_markdown":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part","body":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679932660,"post_id":75855269,"comment_id":133805755,"body_markdown":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679940677,"post_id":75855269,"comment_id":133807816,"body_markdown":"I strongly recommend you don’t use `DateFormat` and `SimpleDateFormat` since they are notorious troublemakers. Unless you have a very specific need you may also not want to use `XMLGregorianCalendar`. Also to construct a string of `2303` for year 23 month 3 you are first constructing a `XMLGregorianCalendar` of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) that @BasilBourque already mentioned.","body":"I strongly recommend you don’t use <code>DateFormat</code> and <code>SimpleDateFormat</code> since they are notorious troublemakers. Unless you have a very specific need you may also not want to use <code>XMLGregorianCalendar</code>. Also to construct a string of <code>2303</code> for year 23 month 3 you are first constructing a <code>XMLGregorianCalendar</code> of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> that @BasilBourque already mentioned."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679944045,"post_id":75855269,"comment_id":133808617,"body_markdown":"The nice solution: Use java.time and its `Clock` class in your production code. For testing inject a `Clock` the time of which you control. See [How to test date created with LocalDateTime.now()](https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now). The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one.","body":"The nice solution: Use java.time and its <code>Clock</code> class in your production code. For testing inject a <code>Clock</code> the time of which you control. See <a href=\"https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now\">How to test date created with LocalDateTime.now()</a>. The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679947383,"post_id":75855269,"comment_id":133809343,"body_markdown":"Why are you focused on the legacy class `XMLGregorianCalendar`? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by `Instant.now().toString()`. In another method, you generate text for just the year and month —&#160;for this use the `YearMonth` class to represent, well, the year and the month alone. So I see no need for *any* of your code presented here. &#128073; I suggest you study [*The Java Tutorials*](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) by Oracle, free-of-charge.","body":"Why are you focused on the legacy class <code>XMLGregorianCalendar</code>? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by <code>Instant.now().toString()</code>. In another method, you generate text for just the year and month — for this use the <code>YearMonth</code> class to represent, well, the year and the month alone. So I see no need for <i>any</i> of your code presented here. 👉 I suggest you study <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>The Java Tutorials</i></a> by Oracle, free-of-charge."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679949940,"post_id":75855269,"comment_id":133809826,"body_markdown":"I still don&#39;t understand your question. `getCalendarTest` should simply call `DateUtils.getCalendar()` and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of `privateConstructorTest`. Having said that, take the advice to use a `Clock`, and don&#39;t use static utility classes, they make testing of their clients difficult.","body":"I still don&#39;t understand your question. <code>getCalendarTest</code> should simply call <code>DateUtils.getCalendar()</code> and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of <code>privateConstructorTest</code>. Having said that, take the advice to use a <code>Clock</code>, and don&#39;t use static utility classes, they make testing of their clients difficult."}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679917366,"creation_date":1679917366,"answer_id":75855337,"question_id":75855269,"body_markdown":"Don&#39;t see how your code is related to void methods at all, but if your functions return current date either as `XMLGregorianCalendar` or `String` and you are asking how to unit test them in the condition where current date is always changing then I&#39;d pass the `DateUtils` via a constructor and mock the `currentDate()` function to return some specific date which could easily be unit tested.\r\n\r\nEdit:\r\n\r\nI just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you&#39;d like the benefits of a global static helper.","title":"How to test a date utils classes methods in java","body":"<p>Don't see how your code is related to void methods at all, but if your functions return current date either as <code>XMLGregorianCalendar</code> or <code>String</code> and you are asking how to unit test them in the condition where current date is always changing then I'd pass the <code>DateUtils</code> via a constructor and mock the <code>currentDate()</code> function to return some specific date which could easily be unit tested.</p>\n<p>Edit:</p>\n<p>I just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you'd like the benefits of a global static helper.</p>\n"}],"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679947207,"answer_count":1,"score":-1,"last_activity_date":1680077242,"creation_date":1679916957,"question_id":75855269,"body_markdown":"I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?\r\n\r\n```\r\npublic static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted;\r\n}\r\n\r\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\r\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted.toString();\r\n}\r\n```\r\n\r\nMy problem has been resolved, my test method is below:\r\n\r\n```@Test\r\n    public void getCalendarTest() throws DatatypeConfigurationException {\r\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\r\n        Assert.assertNotNull(gdateFormatted);\r\n    }\r\n\r\n```\r\n\r\nI couldn&#39;t succeed the part of XMLGregorianCalendar.\r\n","title":"How to test a date utils classes methods in java","body":"<p>I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?</p>\n<pre><code>public static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\n\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted;\n}\n\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted.toString();\n}\n</code></pre>\n<p>My problem has been resolved, my test method is below:</p>\n<pre><code>    public void getCalendarTest() throws DatatypeConfigurationException {\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\n        Assert.assertNotNull(gdateFormatted);\n    }\n\n</code></pre>\n<p>I couldn't succeed the part of XMLGregorianCalendar.</p>\n"},{"tags":["java","webdriver","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347548394,"creation_date":1347548394,"answer_id":12409203,"question_id":12352100,"body_markdown":"It was actually resolved by setting up Encoding to UTF-8 in Eclipse","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>It was actually resolved by setting up Encoding to UTF-8 in Eclipse</p>\n"}],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680077005,"creation_date":1347281464,"question_id":12352100,"body_markdown":"I am trying to run the example from [Page-Objects Example][1]\r\n\r\n\r\n  [1]: https://github.com/michal-lipski/page-objects-webdriver.git\r\n\r\nand it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:\r\n\r\n\r\n    GitHubLoginTest (1)\r\n    com.example.test.GitHubLoginTest\r\n    should_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\r\n    org.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain &quot;GitHub � Social Coding&quot;. Current title: &quot;GitHub &#183; Social Coding&quot;\r\n    Build info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;2.6.43.5-2.fc15.x86_64&#39;, java.version: &#39;1.6.0_35&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\r\n    \tat com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\r\n    \tat com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\r\n    \tat com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\r\n    \tat com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nI tried setting up System.setProperty as:\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;workspace/libs/chromedriver&quot;);\r\n\r\nBut got the same error. \r\n","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>I am trying to run the example from <a href=\"https://github.com/michal-lipski/page-objects-webdriver.git\" rel=\"nofollow\">Page-Objects Example</a></p>\n\n<p>and it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:</p>\n\n<pre><code>GitHubLoginTest (1)\ncom.example.test.GitHubLoginTest\nshould_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\norg.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain \"GitHub � Social Coding\". Current title: \"GitHub · Social Coding\"\nBuild info: version: '2.25.0', revision: '17482', time: '2012-07-18 21:09:54'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '2.6.43.5-2.fc15.x86_64', java.version: '1.6.0_35'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\n    at com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\n    at com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\n    at com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\n    at com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>I tried setting up System.setProperty as:</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"workspace/libs/chromedriver\");\n</code></pre>\n\n<p>But got the same error. </p>\n"},{"tags":["java","network-programming","serversocket","distributed-system","gossip"],"comments":[{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1505347693,"post_id":46206566,"comment_id":79380436,"body_markdown":"Your intuitive solution is called [CRDT](http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter) and it&#39;s good. A [paper](https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf) about it if you want some more details.","body":"Your intuitive solution is called <a href=\"http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter\" rel=\"nofollow noreferrer\">CRDT</a> and it&#39;s good. A <a href=\"https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf\" rel=\"nofollow noreferrer\">paper</a> about it if you want some more details."}],"answers":[{"tags":[],"owner":{"account_id":7709079,"reputation":56,"user_id":5839077,"display_name":"D. Wood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076933,"creation_date":1505336630,"answer_id":46206821,"question_id":46206566,"body_markdown":"You may be aware of this design pattern, but it still may be inspiring: [https://en.wikipedia.org/wiki/Observer_pattern][1]\r\n\r\nYou could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link). \r\n\r\nAs far as a Java libraries, check these out, see if any of them make your life easier: \r\n\r\n - [http://mina.apache.org/][2]\r\n   \r\n \r\n - [http://commons.apache.org/proper/commons-net/][3]\r\n\r\n   \r\n  \r\n\r\n - [http://hc.apache.org/][4]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Observer_pattern\r\n  [2]: https://mina.apache.org/\r\n  [3]: https://commons.apache.org/proper/commons-net/\r\n  [4]: https://hc.apache.org/","title":"Basic Distributed Counter using Java Sockets","body":"<p>You may be aware of this design pattern, but it still may be inspiring: <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Observer_pattern</a></p>\n<p>You could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link).</p>\n<p>As far as a Java libraries, check these out, see if any of them make your life easier:</p>\n<ul>\n<li><p><a href=\"https://mina.apache.org/\" rel=\"nofollow noreferrer\">http://mina.apache.org/</a></p>\n</li>\n<li><p><a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-net/</a></p>\n</li>\n<li><p><a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">http://hc.apache.org/</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":64532,"reputation":1892,"user_id":190452,"accept_rate":80,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519375587,"creation_date":1519375587,"answer_id":48944169,"question_id":46206566,"body_markdown":"It sounds like you need a [PNCounter][1] from Akka&#39;s Distributed Data library. It uses Gossip to communicate the counter&#39;s state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a `ReadMajority` where &quot;the value will be read and merged from a majority of replicas&quot;.\r\n\r\nIncidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.\r\n\r\n  [1]: https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters &quot;PNCounter&quot;","title":"Basic Distributed Counter using Java Sockets","body":"<p>It sounds like you need a <a href=\"https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters\" rel=\"nofollow noreferrer\" title=\"PNCounter\">PNCounter</a> from Akka's Distributed Data library. It uses Gossip to communicate the counter's state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a <code>ReadMajority</code> where \"the value will be read and merged from a majority of replicas\".</p>\n\n<p>Incidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.</p>\n"}],"owner":{"account_id":1291633,"reputation":61,"user_id":1243633,"display_name":"azuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680076933,"creation_date":1505335569,"question_id":46206566,"body_markdown":"I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a **global counter**. A client can connect to any of these processes and issue command to `increase`, `decrease` or `get` the counter value. The global counter should be eventually consistent(**Network partition can occur** and we can recover from it).\r\n\r\nThe solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender&#39;s counts and stores the result as the latest count. When a `get` command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don&#39;t want to use any persistence layer.\r\n\r\n&gt;Is there a better way to implement this?\r\n&gt;What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?\r\n&gt;\r\n\r\n\r\n","title":"Basic Distributed Counter using Java Sockets","body":"<p>I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a <strong>global counter</strong>. A client can connect to any of these processes and issue command to <code>increase</code>, <code>decrease</code> or <code>get</code> the counter value. The global counter should be eventually consistent(<strong>Network partition can occur</strong> and we can recover from it).</p>\n\n<p>The solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender's counts and stores the result as the latest count. When a <code>get</code> command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don't want to use any persistence layer.</p>\n\n<blockquote>\n  <p>Is there a better way to implement this?\n  What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?</p>\n</blockquote>\n"},{"tags":["java","kernel"],"answers":[{"tags":[],"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365084848,"creation_date":1365084848,"answer_id":15813740,"question_id":15813603,"body_markdown":"**Kernel bypassing** is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. \r\n\r\nInstead, you *directly* access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.\r\n\r\nAssumption:\r\nIn regard to Java, the `kernel` (could) represent(s) the `JVM`.\r\n\r\nI have found a [very good article][1] on this.\r\n\r\n\r\n  [1]: http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/","title":"Kernel bypass with Java 7?","body":"<p><strong>Kernel bypassing</strong> is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. </p>\n\n<p>Instead, you <em>directly</em> access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.</p>\n\n<p>Assumption:\nIn regard to Java, the <code>kernel</code> (could) represent(s) the <code>JVM</code>.</p>\n\n<p>I have found a <a href=\"http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/\" rel=\"nofollow\">very good article</a> on this.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365116793,"creation_date":1365116390,"answer_id":15823186,"question_id":15813603,"body_markdown":"The Answers to this related Question mention that SolarFlare has Java bindings: https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java.  \r\n\r\nAs far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.\r\n\r\nYou can do other things to improve network throughput in Java that don&#39;t involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java &quot;framework&quot; tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to &quot;application&quot; code.\r\n\r\n---------\r\n\r\n(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is &quot;closer to the metal&quot;.  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)\r\n","title":"Kernel bypass with Java 7?","body":"<p>The Answers to this related Question mention that SolarFlare has Java bindings: <a href=\"https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java\">Networking with Kernel Bypass in Java</a>.  </p>\n\n<p>As far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.</p>\n\n<p>You can do other things to improve network throughput in Java that don't involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java \"framework\" tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to \"application\" code.</p>\n\n<hr>\n\n<p>(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is \"closer to the metal\".  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)</p>\n"},{"tags":[],"owner":{"account_id":148296,"reputation":807,"user_id":359971,"display_name":"Andy Malakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680076923,"creation_date":1505246256,"answer_id":46184422,"question_id":15813603,"body_markdown":"Take a look at the [Onload Extensions API JNI Wrapper][1] on github. The author seems to specialize in [kernel bypass][2].\r\n\r\n\r\n  [1]: https://github.com/majek/openonload/tree/master/src/tools/jni &quot;Onload Extensions API JNI Wrapper&quot;\r\n  [2]: https://blog.cloudflare.com/kernel-bypass/","title":"Kernel bypass with Java 7?","body":"<p>Take a look at the <a href=\"https://github.com/majek/openonload/tree/master/src/tools/jni\" rel=\"nofollow noreferrer\" title=\"Onload Extensions API JNI Wrapper\">Onload Extensions API JNI Wrapper</a> on github. The author seems to specialize in <a href=\"https://blog.cloudflare.com/kernel-bypass/\" rel=\"nofollow noreferrer\">kernel bypass</a>.</p>\n"}],"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680076923,"creation_date":1365084477,"question_id":15813603,"body_markdown":"I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.\r\n\r\nDoes anyone have an example of Java 7 performing kernel bypass? I&#39;d be interested to see it","title":"Kernel bypass with Java 7?","body":"<p>I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.</p>\n\n<p>Does anyone have an example of Java 7 performing kernel bypass? I'd be interested to see it</p>\n"},{"tags":["java","spring","soap","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":2,"creation_date":1465920246,"post_id":37813780,"comment_id":63098294,"body_markdown":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the `HttpClient`, so `Basic Authentication` HTTP request header must be there. I suggest you to debug the code from the `HttpComponentsMessageSender.createConnection()` and try to figure out where your `credentials` goes.","body":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the <code>HttpClient</code>, so <code>Basic Authentication</code> HTTP request header must be there. I suggest you to debug the code from the <code>HttpComponentsMessageSender.createConnection()</code> and try to figure out where your <code>credentials</code> goes."}],"answers":[{"tags":[],"owner":{"account_id":13103863,"reputation":31,"user_id":9467338,"display_name":"Alper Karaağa&#231;lı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076348,"creation_date":1680076348,"answer_id":75874525,"question_id":37813780,"body_markdown":"I follow the spring consume webservice guide &quot; https://spring.io/guides/gs/consuming-web-service/#initial &quot; there was a example too. But there is not how to add basic authorization. So you can use like this\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\r\n    \t\r\n    \tprivate String username;\r\n    \r\n    \tprivate String password;\r\n    \r\n    \t@Override\r\n    \tprotected void prepareConnection(HttpURLConnection connection) throws IOException {\r\n    \t\tBASE64Encoder enc = new sun.misc.BASE64Encoder();\r\n    \t\tString userpassword = username+&quot;:&quot;+password;\r\n    \t\tString encodedAuthorization = enc.encode( userpassword.getBytes() );\r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\r\n    \r\n    \t\tsuper.prepareConnection(connection);\r\n    \t}\r\n    }\r\n\r\nand \r\n\r\n    public YourClient yourClient(Jaxb2Marshaller marshaller){\r\n\t\tYourClient client = new YourClient();\r\n\t\t\r\n\t\tWebServiceTemplate template = client.getWebServiceTemplate();\r\n\t\ttemplate.setMessageSender(new WebServiceMessageSenderWithAuth());\r\n\t\t\r\n\t\tclient.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\r\n\t\tclient.setMarshaller(marshaller);\r\n\t\tclient.setUnmarshaller(marshaller);\r\n\t\treturn client;\r\n\t}\r\n\r\nAnd call..\r\n\r\n\r\n\r\n    return (YourResponseModel) getWebServiceTemplate()\r\n    \t\t\t\t.marshalSendAndReceive(url, request,\r\n    \t\t\t\t\t\tnew SoapActionCallback(\r\n    \t\t\t\t\t\t&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));","title":"How to add Authentication Headers to SOAP Request","body":"<p>I follow the spring consume webservice guide &quot; <a href=\"https://spring.io/guides/gs/consuming-web-service/#initial\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/#initial</a> &quot; there was a example too. But there is not how to add basic authorization. So you can use like this</p>\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\n    \n    private String username;\n\n    private String password;\n\n    @Override\n    protected void prepareConnection(HttpURLConnection connection) throws IOException {\n        BASE64Encoder enc = new sun.misc.BASE64Encoder();\n        String userpassword = username+&quot;:&quot;+password;\n        String encodedAuthorization = enc.encode( userpassword.getBytes() );\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\n\n        super.prepareConnection(connection);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public YourClient yourClient(Jaxb2Marshaller marshaller){\n    YourClient client = new YourClient();\n    \n    WebServiceTemplate template = client.getWebServiceTemplate();\n    template.setMessageSender(new WebServiceMessageSenderWithAuth());\n    \n    client.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\n    client.setMarshaller(marshaller);\n    client.setUnmarshaller(marshaller);\n    return client;\n}\n</code></pre>\n<p>And call..</p>\n<pre><code>return (YourResponseModel) getWebServiceTemplate()\n                .marshalSendAndReceive(url, request,\n                        new SoapActionCallback(\n                        &quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));\n</code></pre>\n"}],"owner":{"account_id":75805,"reputation":403,"user_id":217325,"accept_rate":67,"display_name":"Craig Gardner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4243,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680076348,"creation_date":1465911674,"question_id":37813780,"body_markdown":"I&#39;m using Spring Integration 4.2.4.RELEASE and it doesn&#39;t seem to want to add my Authorization Header to the SOAP requests.\r\n\r\nHere&#39;s the relevant spring-integration configuration:\r\n\r\n    &lt;ws:outbound-gateway uri=&quot;${soap.ws.url}&quot; message-factory=&quot;messageFactory&quot; message-sender=&quot;messageSender&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;httpClientFactory&quot; class=&quot;com.myorg.http.HttpClientFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean name=&quot;messageSender&quot; class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n        &lt;property name=&quot;httpClient&quot; ref=&quot;httpClientFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;httpClientCredentials&quot; class=&quot;org.apache.http.auth.UsernamePasswordCredentials&quot;&gt;\r\n        &lt;constructor-arg value=&quot;${username}&quot;/&gt;\r\n        &lt;constructor-arg value=&quot;${password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;messageFactory&quot; class=&quot;org.springframework.ws.soap.saaj.SaajSoapMessageFactory&quot;&gt;\r\n        &lt;property name=&quot;soapVersion&quot;&gt;\r\n            &lt;util:constant static-field=&quot;org.springframework.ws.soap.SoapVersion.SOAP_11&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;messageFactory&quot; ref=&quot;myMessageFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;myMessageFactory&quot; class=&quot;com.myorg.soap.CustomMessageFactory&quot; /&gt;\r\n\r\n\r\nHere&#39;s the custom messageFactory class\r\n\r\n    package com.myorg.soap;\r\n\r\n    import com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\r\n    import com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\r\n\r\n    import javax.xml.soap.MimeHeaders;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    /**\r\n     * Custom Message Factory.\r\n     */\r\n    public class CustomMessageFactory extends MessageFactoryImpl {\r\n\r\n        /**\r\n         * Class Constructor.\r\n         *\r\n         * @return Message1_1Impl\r\n         * @throws SOAPException when there is a SOAP error.\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage() throws SOAPException {\r\n            return new Message1_1Impl();\r\n        }\r\n\r\n        /**\r\n         * Create a new message.\r\n         *\r\n         * @param mimeHeaders headers to add to the message\r\n         * @param in input stream to use in the message.\r\n         * @return New SOAP 1.1 message.\r\n         * @throws IOException when there is an IO error\r\n         * @throws SOAPException when there is a SOAP error\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\r\n                throws IOException, SOAPException {\r\n            MimeHeaders headers = mimeHeaders;\r\n            if (headers == null) {\r\n                headers = new MimeHeaders();\r\n            }\r\n            headers.setHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\r\n            Message1_1Impl msg = new Message1_1Impl(headers, in);\r\n            msg.setLazyAttachments(this.lazyAttachments);\r\n            return msg;\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s the custom httpClientFactory class\r\n\r\n    package com.myorg.http;\r\n\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.Credentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.config.SocketConfig;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.springframework.beans.factory.FactoryBean;\r\n\r\n    /**\r\n     * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\r\n     */\r\n    public class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\r\n        /**\r\n         * Default socket timeout will be 15 seconds.\r\n         */\r\n        private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\r\n\r\n        /**\r\n         * Max connections defaults to 5.\r\n         */\r\n        private static final int MAX_CONNECTIONS = 5;\r\n\r\n        /**\r\n         * Local storage for credentials.\r\n         */\r\n        private Credentials credentials;\r\n\r\n        @Override\r\n        public HttpClient getObject() throws Exception {\r\n            HttpClientBuilder builder = HttpClientBuilder.create();\r\n\r\n            SocketConfig socketConfig = SocketConfig.custom()\r\n                    .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\r\n                    .build();\r\n\r\n            builder.useSystemProperties()\r\n                    .setMaxConnTotal(MAX_CONNECTIONS)\r\n                    .setDefaultSocketConfig(socketConfig);\r\n\r\n            if (credentials != null) {\r\n                CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n                credentialsProvider.setCredentials(AuthScope.ANY, credentials);\r\n                builder.setDefaultCredentialsProvider(credentialsProvider);\r\n            }\r\n\r\n            return builder.build();\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getObjectType() {\r\n            return HttpClient.class;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSingleton() {\r\n            return true;\r\n        }\r\n\r\n        public Credentials getCredentials() {\r\n            return credentials;\r\n        }\r\n\r\n        public void setCredentials(final Credentials credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    }\r\n\r\nThe problem that I&#39;m seeing is that the Authorization header doesn&#39;t seem to be set on the request.  What am I missing?","title":"How to add Authentication Headers to SOAP Request","body":"<p>I'm using Spring Integration 4.2.4.RELEASE and it doesn't seem to want to add my Authorization Header to the SOAP requests.</p>\n\n<p>Here's the relevant spring-integration configuration:</p>\n\n<pre><code>&lt;ws:outbound-gateway uri=\"${soap.ws.url}\" message-factory=\"messageFactory\" message-sender=\"messageSender\"/&gt;\n\n&lt;bean id=\"httpClientFactory\" class=\"com.myorg.http.HttpClientFactoryBean\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean name=\"messageSender\" class=\"org.springframework.ws.transport.http.HttpComponentsMessageSender\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n    &lt;property name=\"httpClient\" ref=\"httpClientFactory\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"httpClientCredentials\" class=\"org.apache.http.auth.UsernamePasswordCredentials\"&gt;\n    &lt;constructor-arg value=\"${username}\"/&gt;\n    &lt;constructor-arg value=\"${password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageFactory\" class=\"org.springframework.ws.soap.saaj.SaajSoapMessageFactory\"&gt;\n    &lt;property name=\"soapVersion\"&gt;\n        &lt;util:constant static-field=\"org.springframework.ws.soap.SoapVersion.SOAP_11\"/&gt;\n    &lt;/property&gt;\n    &lt;property name=\"messageFactory\" ref=\"myMessageFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"myMessageFactory\" class=\"com.myorg.soap.CustomMessageFactory\" /&gt;\n</code></pre>\n\n<p>Here's the custom messageFactory class</p>\n\n<pre><code>package com.myorg.soap;\n\nimport com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\nimport com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\n\nimport javax.xml.soap.MimeHeaders;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPMessage;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Custom Message Factory.\n */\npublic class CustomMessageFactory extends MessageFactoryImpl {\n\n    /**\n     * Class Constructor.\n     *\n     * @return Message1_1Impl\n     * @throws SOAPException when there is a SOAP error.\n     */\n    @Override\n    public SOAPMessage createMessage() throws SOAPException {\n        return new Message1_1Impl();\n    }\n\n    /**\n     * Create a new message.\n     *\n     * @param mimeHeaders headers to add to the message\n     * @param in input stream to use in the message.\n     * @return New SOAP 1.1 message.\n     * @throws IOException when there is an IO error\n     * @throws SOAPException when there is a SOAP error\n     */\n    @Override\n    public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\n            throws IOException, SOAPException {\n        MimeHeaders headers = mimeHeaders;\n        if (headers == null) {\n            headers = new MimeHeaders();\n        }\n        headers.setHeader(\"Content-Type\", \"text/xml\");\n\n        Message1_1Impl msg = new Message1_1Impl(headers, in);\n        msg.setLazyAttachments(this.lazyAttachments);\n        return msg;\n    }\n}\n</code></pre>\n\n<p>Here's the custom httpClientFactory class</p>\n\n<pre><code>package com.myorg.http;\n\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.Credentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.config.SocketConfig;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.springframework.beans.factory.FactoryBean;\n\n/**\n * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\n */\npublic class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\n    /**\n     * Default socket timeout will be 15 seconds.\n     */\n    private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\n\n    /**\n     * Max connections defaults to 5.\n     */\n    private static final int MAX_CONNECTIONS = 5;\n\n    /**\n     * Local storage for credentials.\n     */\n    private Credentials credentials;\n\n    @Override\n    public HttpClient getObject() throws Exception {\n        HttpClientBuilder builder = HttpClientBuilder.create();\n\n        SocketConfig socketConfig = SocketConfig.custom()\n                .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\n                .build();\n\n        builder.useSystemProperties()\n                .setMaxConnTotal(MAX_CONNECTIONS)\n                .setDefaultSocketConfig(socketConfig);\n\n        if (credentials != null) {\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, credentials);\n            builder.setDefaultCredentialsProvider(credentialsProvider);\n        }\n\n        return builder.build();\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return HttpClient.class;\n    }\n\n    @Override\n    public boolean isSingleton() {\n        return true;\n    }\n\n    public Credentials getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(final Credentials credentials) {\n        this.credentials = credentials;\n    }\n}\n</code></pre>\n\n<p>The problem that I'm seeing is that the Authorization header doesn't seem to be set on the request.  What am I missing?</p>\n"},{"tags":["java","spring-boot","caching","spring-el","spring-framework-beans"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680077288,"post_id":75874522,"comment_id":133833994,"body_markdown":"Your analysis of the issue is wrong. It isn&#39;t about it being a `String` or `String[]` it is complaining about your expression. I would expect that just `${property.cache}` should work (if SpEL works this should work as well). Spring will do the conversion to an array.","body":"Your analysis of the issue is wrong. It isn&#39;t about it being a <code>String</code> or <code>String[]</code> it is complaining about your expression. I would expect that just <code>${property.cache}</code> should work (if SpEL works this should work as well). Spring will do the conversion to an array."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680092444,"post_id":75874522,"comment_id":133837856,"body_markdown":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array","body":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array"},{"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"score":0,"creation_date":1680095812,"post_id":75874522,"comment_id":133838912,"body_markdown":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot;\nSee https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974","body":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot; See <a href=\"https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974\" title=\"reading a list from properties file and load with spring annotation value\">stackoverflow.com/questions/12576156/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680113072,"post_id":75874522,"comment_id":133843921,"body_markdown":"Apparently SpEL works but a value expression doesn&#39;t, have you tried `#{${property.cache}}`? And if that fails try `#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}` as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting `String` into a `String[]` itself.","body":"Apparently SpEL works but a value expression doesn&#39;t, have you tried <code>#{${property.cache}}</code>? And if that fails try <code>#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}</code> as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting <code>String</code> into a <code>String[]</code> itself."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164361,"post_id":75874522,"comment_id":133852427,"body_markdown":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter","body":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter"},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164913,"post_id":75874522,"comment_id":133852544,"body_markdown":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong","body":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong"}],"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680076327,"creation_date":1680076327,"question_id":75874522,"body_markdown":"This is the set up\r\n\r\napplication.properties\r\n\r\n```\r\nProperty.cache = name1,name2,...,nameN\r\n```\r\nCacheManager.java\r\n```\r\n[...]\r\n@Scheduler(time_of_schedule)\r\n@CacheEvict(value=&quot;#&#39;${property.cache}.split()&#39;&quot;)\r\nvoid dueCache(){\r\n    log.info(&quot;cache clean&quot;);\r\n}\r\n[...]\r\n```\r\n\r\nThe issue is that **@CacheEvict value** throws `nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;property.cache&#39;.split(&#39;,&#39;)&#39; in value &quot;#{&#39;${property.cache&#39;.split(&#39;,&#39;)}&quot;` this is because value is a `String[]` normally this would work with `String` attributes.\r\nIs there any way to do it with SpEL?\r\n\r\n\r\nI tryed with 4 ways:\r\n1. `@CacheEvict(value = &quot;#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}&quot;, allEntries = true)`\r\n2. `@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty(&#39;property.cache&#39;).split(&#39;,&#39;))}&quot;, allEntries = true)`\r\n3. `@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)`\r\n4. `@CacheEvict(value = &quot;cache1&quot;, allEntries = true)`\r\n\r\nThe options 1 and 2 would work if **value** was a `String value()` but value is defined as `String[] value()`.\r\nThe options 3 and 4 work, but is unresonable to write `value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}` if there is a way to use properties.","title":"@CacheEvict value population","body":"<p>This is the set up</p>\n<p>application.properties</p>\n<pre><code>Property.cache = name1,name2,...,nameN\n</code></pre>\n<p>CacheManager.java</p>\n<pre><code>[...]\n@Scheduler(time_of_schedule)\n@CacheEvict(value=&quot;#'${property.cache}.split()'&quot;)\nvoid dueCache(){\n    log.info(&quot;cache clean&quot;);\n}\n[...]\n</code></pre>\n<p>The issue is that <strong>@CacheEvict value</strong> throws <code>nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'property.cache'.split(',')' in value &quot;#{'${property.cache'.split(',')}&quot;</code> this is because value is a <code>String[]</code> normally this would work with <code>String</code> attributes.\nIs there any way to do it with SpEL?</p>\n<p>I tryed with 4 ways:</p>\n<ol>\n<li><code>@CacheEvict(value = &quot;#{'${property.cache}'.split(',')}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty('property.cache').split(','))}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;cache1&quot;, allEntries = true)</code></li>\n</ol>\n<p>The options 1 and 2 would work if <strong>value</strong> was a <code>String value()</code> but value is defined as <code>String[] value()</code>.\nThe options 3 and 4 work, but is unresonable to write <code>value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}</code> if there is a way to use properties.</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":32118,"reputation":3589,"user_id":88764,"display_name":"Larry Shatzer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441739833,"creation_date":1441738924,"answer_id":32465351,"question_id":32465201,"body_markdown":"If you are using the [Maven Shade Plugin][1], you can a [filter][2], which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.\r\n\r\nHere&#39;s the example they provide:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filters&gt;\r\n      &lt;filter&gt;\r\n        &lt;artifact&gt;junit:junit&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;org/junit/**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/filter&gt;\r\n    &lt;/filters&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters","title":"Maven Get Specific Classes","body":"<p>If you are using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\">Maven Shade Plugin</a>, you can a <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow\">filter</a>, which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.</p>\n\n<p>Here's the example they provide:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filters&gt;\n  &lt;filter&gt;\n    &lt;artifact&gt;junit:junit&lt;/artifact&gt;\n    &lt;includes&gt;\n      &lt;include&gt;org/junit/**&lt;/include&gt;\n    &lt;/includes&gt;\n    &lt;excludes&gt;\n      &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1447865578,"creation_date":1441739480,"answer_id":32465474,"question_id":32465201,"body_markdown":"You should be able to use the [maven-dependency-plugin](http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo) like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\r\n                                    &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\r\n                                    &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven Get Specific Classes","body":"<p>You should be able to use the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo\" rel=\"noreferrer\">maven-dependency-plugin</a> like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\n                                &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\n                                &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\n                                &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":5430705,"reputation":354,"user_id":4321681,"accept_rate":100,"display_name":"sinisterrook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10219,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32465474,"answer_count":2,"score":10,"last_activity_date":1680075903,"creation_date":1441738420,"question_id":32465201,"body_markdown":"Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I&#39;m looking for a way to get files that contain &quot;Client&quot; in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.","title":"Maven Get Specific Classes","body":"<p>Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I'm looking for a way to get files that contain \"Client\" in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074662,"creation_date":1680074662,"answer_id":75874294,"question_id":75873719,"body_markdown":"`org.eclipse.microprofile.config.inject.@ConfigProperties` should be replaced by `io.smallrye.config.@ConfigMapping` (as per documentation)","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p><code>org.eclipse.microprofile.config.inject.@ConfigProperties</code> should be replaced by <code>io.smallrye.config.@ConfigMapping</code> (as per documentation)</p>\n"}],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874294,"answer_count":1,"score":0,"last_activity_date":1680074662,"creation_date":1680070395,"question_id":75873719,"body_markdown":"I&#39;d like to inject my quarkus configuraition as an object as described here:\r\nhttps://quarkus.io/guides/config-mappings\r\n\r\nBut somehow Quarkus CDI does not find my configuration bean. I get the error message:\r\n\r\n````\r\njavax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\r\n````\r\n\r\n`LiquidoConfig.java`\r\n````\r\n@StaticInitSafe     // &lt;=== adding this also didn&#39;t help\r\n@ConfigProperties(prefix = &quot;liquido&quot;)\r\npublic interface LiquidoConfig {\r\n    public String frontendUrl();\r\n    public int loginLinkExpirationHours();\r\n\r\n    public Jwt jwt();\r\n    public interface Jwt {\r\n        public String secret();\r\n        public Long expirationSecs();\r\n    }\r\n\r\n}\r\n````\r\n\r\nAnd in my Service:\r\n\r\n````\r\n@ApplicationScoped\r\npublic void SomeService {\r\n\t@Inject\r\n\tLiquidoConfig config;   // &lt;=== this fails???\r\n}\r\n````\r\n\r\nI also tried to add @ApplicationScope to LiquidoConfig, although i wouldn&#39;t think this is necessary. But also doesn&#39;t help.\r\n\r\nI can inject my configuration properties individually as:\r\n\r\n\t@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\r\n\tLong expirationSecs;\r\n\r\nThis works. But not as one object.","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p>I'd like to inject my quarkus configuraition as an object as described here:\n<a href=\"https://quarkus.io/guides/config-mappings\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-mappings</a></p>\n<p>But somehow Quarkus CDI does not find my configuration bean. I get the error message:</p>\n<pre><code>javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\n</code></pre>\n<p><code>LiquidoConfig.java</code></p>\n<pre><code>@StaticInitSafe     // &lt;=== adding this also didn't help\n@ConfigProperties(prefix = &quot;liquido&quot;)\npublic interface LiquidoConfig {\n    public String frontendUrl();\n    public int loginLinkExpirationHours();\n\n    public Jwt jwt();\n    public interface Jwt {\n        public String secret();\n        public Long expirationSecs();\n    }\n\n}\n</code></pre>\n<p>And in my Service:</p>\n<pre><code>@ApplicationScoped\npublic void SomeService {\n    @Inject\n    LiquidoConfig config;   // &lt;=== this fails???\n}\n</code></pre>\n<p>I also tried to add @ApplicationScope to LiquidoConfig, although i wouldn't think this is necessary. But also doesn't help.</p>\n<p>I can inject my configuration properties individually as:</p>\n<pre><code>@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\nLong expirationSecs;\n</code></pre>\n<p>This works. But not as one object.</p>\n"},{"tags":["java","hibernate","jpa","web-development-server"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680024273,"post_id":75869234,"comment_id":133825109,"body_markdown":"What error message/stacktrace are you getting?","body":"What error message/stacktrace are you getting?"},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1680028143,"post_id":75869234,"comment_id":133826073,"body_markdown":"@JohnWilliams sorry, I added it now.","body":"@JohnWilliams sorry, I added it now."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680074650,"creation_date":1680074650,"answer_id":75874293,"question_id":75869234,"body_markdown":"Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks [correct for MySQL][1]\r\n\r\nTry the following:\r\n\r\n    @Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\r\n\r\nIt is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, [try][2]:\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\r\n        &lt;generator class=&quot;identity&quot;/&gt;\r\n    &lt;/id&gt;\r\n\r\n\r\n  [1]: https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\r\n  [2]: https://www.javatpoint.com/generator-classes","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks <a href=\"https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\" rel=\"nofollow noreferrer\">correct for MySQL</a></p>\n<p>Try the following:</p>\n<pre><code>@Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\n</code></pre>\n<p>It is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, <a href=\"https://www.javatpoint.com/generator-classes\" rel=\"nofollow noreferrer\">try</a>:</p>\n<pre><code>&lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\n    &lt;generator class=&quot;identity&quot;/&gt;\n&lt;/id&gt;\n</code></pre>\n"}],"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680074650,"creation_date":1680023948,"question_id":75869234,"body_markdown":"I&#39;m developing a &#39;&#39;&#39;simple&#39;&#39;&#39; web application project and to handle model and database I&#39;m using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:\r\n\r\n```\r\nCREATE DATABASE IF NOT EXISTS `to-do-app`;\r\nUSE `to-do-app`;\r\n\r\nCREATE TABLE `user`(\r\n    username\tVARCHAR(20) \tNOT NULL,\r\n    `password`\tVARCHAR(30) \tNOT NULL,\r\n    PRIMARY KEY(username)\r\n);\r\n\r\nCREATE TABLE todo (\r\n    todo_id\t\tINT \t\tAUTO_INCREMENT,\r\n    user_id\t\tVARCHAR(20),\r\n    content\t\tTEXT,\r\n    done        boolean,\r\n    PRIMARY KEY(todo_id),\r\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\r\n);\r\n\r\n```\r\n***PROBLEM***\r\nI&#39;m having issues with todo table in Java when I perform testing on the classes that handle the table.\r\n\r\nThe following classes are the ones I&#39;m using: \r\n**TestTodoRepository**\r\n\r\n```\r\nimport com.example.todoapp.model.TodoRepository;\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.junit.Assert;\r\nimport org.junit.FixMethodOrder;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.runners.MethodSorters;\r\n\r\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\npublic class TestTodoRepository {\r\n    private static SessionFactory sessionFactory = null;\r\n    private Session session = null;\r\n\r\n    @BeforeAll\r\n    static void setupFactory() {\r\n        sessionFactory = TestConfig.setupFactory(Todo.class);\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupSession() {\r\n        session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n    }\r\n\r\n    @AfterEach\r\n    void closeSession() {session.getTransaction().commit();}\r\n\r\n    @AfterAll\r\n    static void closeFactory() {\r\n        sessionFactory.close();\r\n    }\r\n\r\n    @Test\r\n    public void test1AddTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try adding to-do to user that exists\r\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        System.out.println(&quot;I will add: &quot; + todo);\r\n        Assert.assertTrue(todoRepository.addTodo(todo));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test2ExistsTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try finding existing to-do\r\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\r\n\r\n        //  Try finding not existing to-do\r\n\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test3GetTodosForUser() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\r\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**TODO**\r\n\r\n```\r\npackage com.example.todoapp.model.beans;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity(name = &quot;todo&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Todo {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Column(name = &quot;todo_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\r\n    private String user_id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;done&quot;)\r\n    private boolean done;\r\n\r\n    public Todo(String user_id, String content) {\r\n        this.user_id = user_id;\r\n        this.content = content;\r\n        this.done = false;\r\n    }\r\n}\r\n\r\n```\r\n**TodoRepository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TodoRepository extends Repository{\r\n\r\n    public TodoRepository() {super();}\r\n\r\n    /**\r\n     * Add a to-do to the database, used to register new users\r\n     * @param todo: the to-do entity\r\n     * */\r\n    public boolean addTodo(Todo todo) {\r\n        //  if to-do exists can&#39;t add a new one\r\n        if (em.find(Todo.class, todo.getId()) != null)\r\n            return false;\r\n\r\n        try {\r\n            em.getTransaction().begin();\r\n            em.persist(todo);\r\n            em.getTransaction().commit();\r\n        } catch (EntityExistsException ex) { return false; }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Checks if a to-do exists in a database\r\n     * @param todo : contains credentials to test\r\n     * */\r\n    public boolean existsTodo(Todo todo) {\r\n        return em.find(Todo.class, todo.getId()) != null;\r\n    }\r\n\r\n    /**\r\n     * WORK IN PROGRESS\r\n     * Gets to-do list based on user id (username)\r\n     * @param user : the owning the to-do\r\n     * */\r\n    public\r\n    List&lt;Todo&gt; getTodosForUser(User user) {\r\n        List&lt;Todo&gt; toDos;\r\n\r\n        try {\r\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\r\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\r\n\r\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\r\n            for(Todo t : toDos)\r\n                System.out.println(t);\r\n\r\n            return toDos;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void closeTodoRepository() {\r\n        super.closeEntityManager();\r\n        super.closeEntityManagerFactory();\r\n    }\r\n}\r\n\r\n```\r\n**Repository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\n\r\n/**\r\n * Abstract class that represents a repository of a database entity\r\n * */\r\npublic abstract class Repository {\r\n    protected final EntityManager em;\r\n    protected final EntityManagerFactory emf;\r\n\r\n    public Repository() {\r\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\r\n        this.em = emf.createEntityManager();\r\n    }\r\n\r\n    protected void closeEntityManager() {\r\n        em.close();\r\n    }\r\n\r\n    protected void closeEntityManagerFactory() {\r\n        emf.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI think that also the following configuration files and stack trace will be needed: \r\n**Stack trace**\r\n```\r\njava.lang.IllegalArgumentException: id to load is required for loading\r\n\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\r\n\tat com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\r\n\tat TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n**Todo.hbm.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;!-- name:full path to class:--&gt;\r\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\r\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\r\n        &lt;!--Primary key--&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\r\n\r\n        &lt;!-- Attributes --&gt;\r\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- jdbc driver --&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\r\n        &lt;!-- database url --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\r\n\r\n\r\n        &lt;!-- Load map file --&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n**persistence.xml**\r\n\r\n```\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\r\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\r\n        &lt;!-- Implementation for JPA Provider --&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n        &lt;!-- persistence properties configuration --&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- jdbc driver --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;!-- database url --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\r\n            &lt;!-- database username --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\r\n            &lt;!-- database password --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\r\n            \r\n            &lt;!-- other properties --&gt;\r\n            &lt;!--Print sql statement--&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\r\n            &lt;!--Format sql--&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n**FolderStructure**\r\n\r\n[![enter image description here](https://i.stack.imgur.com/9x35Y.png)](https://i.stack.imgur.com/9x35Y.png)\r\n\r\n","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>I'm developing a '''simple''' web application project and to handle model and database I'm using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS `to-do-app`;\nUSE `to-do-app`;\n\nCREATE TABLE `user`(\n    username    VARCHAR(20)     NOT NULL,\n    `password`  VARCHAR(30)     NOT NULL,\n    PRIMARY KEY(username)\n);\n\nCREATE TABLE todo (\n    todo_id     INT         AUTO_INCREMENT,\n    user_id     VARCHAR(20),\n    content     TEXT,\n    done        boolean,\n    PRIMARY KEY(todo_id),\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\n);\n\n</code></pre>\n<p><em><strong>PROBLEM</strong></em>\nI'm having issues with todo table in Java when I perform testing on the classes that handle the table.</p>\n<p>The following classes are the ones I'm using:\n<strong>TestTodoRepository</strong></p>\n<pre><code>import com.example.todoapp.model.TodoRepository;\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.junit.Assert;\nimport org.junit.FixMethodOrder;\nimport org.junit.Test;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class TestTodoRepository {\n    private static SessionFactory sessionFactory = null;\n    private Session session = null;\n\n    @BeforeAll\n    static void setupFactory() {\n        sessionFactory = TestConfig.setupFactory(Todo.class);\n    }\n\n    @BeforeEach\n    void setupSession() {\n        session = sessionFactory.openSession();\n        session.beginTransaction();\n    }\n\n    @AfterEach\n    void closeSession() {session.getTransaction().commit();}\n\n    @AfterAll\n    static void closeFactory() {\n        sessionFactory.close();\n    }\n\n    @Test\n    public void test1AddTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try adding to-do to user that exists\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        System.out.println(&quot;I will add: &quot; + todo);\n        Assert.assertTrue(todoRepository.addTodo(todo));\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test2ExistsTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try finding existing to-do\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\n\n        //  Try finding not existing to-do\n\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test3GetTodosForUser() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\n\n        todoRepository.closeTodoRepository();\n    }\n\n\n}\n\n</code></pre>\n<p><strong>TODO</strong></p>\n<pre><code>package com.example.todoapp.model.beans;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity(name = &quot;todo&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name = &quot;todo_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;user_id&quot;)\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\n    private String user_id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;done&quot;)\n    private boolean done;\n\n    public Todo(String user_id, String content) {\n        this.user_id = user_id;\n        this.content = content;\n        this.done = false;\n    }\n}\n\n</code></pre>\n<p><strong>TodoRepository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport jakarta.persistence.*;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\n\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TodoRepository extends Repository{\n\n    public TodoRepository() {super();}\n\n    /**\n     * Add a to-do to the database, used to register new users\n     * @param todo: the to-do entity\n     * */\n    public boolean addTodo(Todo todo) {\n        //  if to-do exists can't add a new one\n        if (em.find(Todo.class, todo.getId()) != null)\n            return false;\n\n        try {\n            em.getTransaction().begin();\n            em.persist(todo);\n            em.getTransaction().commit();\n        } catch (EntityExistsException ex) { return false; }\n        return true;\n    }\n\n    /**\n     * Checks if a to-do exists in a database\n     * @param todo : contains credentials to test\n     * */\n    public boolean existsTodo(Todo todo) {\n        return em.find(Todo.class, todo.getId()) != null;\n    }\n\n    /**\n     * WORK IN PROGRESS\n     * Gets to-do list based on user id (username)\n     * @param user : the owning the to-do\n     * */\n    public\n    List&lt;Todo&gt; getTodosForUser(User user) {\n        List&lt;Todo&gt; toDos;\n\n        try {\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\n\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\n            for(Todo t : toDos)\n                System.out.println(t);\n\n            return toDos;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n    }\n\n    public void closeTodoRepository() {\n        super.closeEntityManager();\n        super.closeEntityManagerFactory();\n    }\n}\n\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\n\n/**\n * Abstract class that represents a repository of a database entity\n * */\npublic abstract class Repository {\n    protected final EntityManager em;\n    protected final EntityManagerFactory emf;\n\n    public Repository() {\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\n        this.em = emf.createEntityManager();\n    }\n\n    protected void closeEntityManager() {\n        em.close();\n    }\n\n    protected void closeEntityManagerFactory() {\n        emf.close();\n    }\n}\n\n</code></pre>\n<p>I think that also the following configuration files and stack trace will be needed:\n<strong>Stack trace</strong></p>\n<pre><code>java.lang.IllegalArgumentException: id to load is required for loading\n\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\n    at com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\n    at TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p><strong>Todo.hbm.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;!-- name:full path to class:--&gt;\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\n        &lt;!--Primary key--&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\n\n        &lt;!-- Attributes --&gt;\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- jdbc driver --&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\n        &lt;!-- database url --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\n\n\n        &lt;!-- Load map file --&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\n        &lt;!-- Implementation for JPA Provider --&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;!-- persistence properties configuration --&gt;\n        &lt;properties&gt;\n            &lt;!-- jdbc driver --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;!-- database url --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\n            &lt;!-- database username --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\n            &lt;!-- database password --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\n            \n            &lt;!-- other properties --&gt;\n            &lt;!--Print sql statement--&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\n            &lt;!--Format sql--&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>FolderStructure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9x35Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9x35Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","sandbox","sandbox-solution"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446660836,"creation_date":1446660836,"answer_id":33529113,"question_id":33529096,"body_markdown":"That&#39;s what [SecurityManager][1] is for.\r\n\r\nThey even have a [tutorial][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/security.html","title":"jvm sandbox for java application","body":"<p>That's what <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow\">SecurityManager</a> is for.</p>\n\n<p>They even have a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/security.html\" rel=\"nofollow\">tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446688116,"creation_date":1446688116,"answer_id":33535317,"question_id":33529096,"body_markdown":"In addition to the JVM&#39;s security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.\r\n\r\nMore advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. [Firejail][1] and [systemd-nspawn][2] make use of them.\r\n\r\n\r\n  [1]: https://l3net.wordpress.com/projects/firejail/\r\n  [2]: http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html","title":"jvm sandbox for java application","body":"<p>In addition to the JVM's security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.</p>\n\n<p>More advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. <a href=\"https://l3net.wordpress.com/projects/firejail/\" rel=\"nofollow\">Firejail</a> and <a href=\"http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html\" rel=\"nofollow\">systemd-nspawn</a> make use of them.</p>\n"},{"tags":[],"owner":{"account_id":26423974,"reputation":11,"user_id":20071239,"display_name":"Deipss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680074403,"creation_date":1680074403,"answer_id":75874252,"question_id":33529096,"body_markdown":"Maybe alibaba&#39;s [jvm-sandbox](https://github.com/alibaba/jvm-sandbox) ,you can try.","title":"jvm sandbox for java application","body":"<p>Maybe alibaba's <a href=\"https://github.com/alibaba/jvm-sandbox\" rel=\"nofollow noreferrer\">jvm-sandbox</a> ,you can try.</p>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33529113,"answer_count":3,"score":2,"last_activity_date":1680074403,"creation_date":1446660766,"question_id":33529096,"body_markdown":"Is it possible to implement some kind of JVM sandbox for running application ? I&#39;d like to restrict access of this application for example to files IO, network, etc.\r\n\r\nIs any way to control these resources access for running app inside of JVM in this sandbox ?","title":"jvm sandbox for java application","body":"<p>Is it possible to implement some kind of JVM sandbox for running application ? I'd like to restrict access of this application for example to files IO, network, etc.</p>\n\n<p>Is any way to control these resources access for running app inside of JVM in this sandbox ?</p>\n"},{"tags":["java","if-statement","sonarqube"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1680074555,"post_id":75873582,"comment_id":133833308,"body_markdown":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers.","body":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074398,"creation_date":1680074398,"answer_id":75874250,"question_id":75873582,"body_markdown":"This looks like it can be extracted as a private method:\r\n\r\n```\r\n// you can probably think of better names than I do\r\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\r\n    if (field != null)\r\n        rejectValueIf(\r\n            sizeMapper.apply(field)\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            validationConstant,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n}\r\n```\r\n\r\nI have assumed that things like `ValidationConstants.Fields.SEARCH_PARAMETERS` are `String`s. If they are not, please change the type of the third parameter accordingly.\r\n\r\nThen you can just call this method instead of those if-statements.\r\n\r\n```\r\nvalidateSize(body.getCprNumber(), CprNumber::size, \r\n    ValidationConstants.Fields.CPR_NUMBER);\r\n```\r\n\r\nI have assumed that `getCprNumber` returns a `CprNumber`. Again, if it doesn&#39;t, please change `CprNumber::size` to a method reference of the correct type.\r\n\r\nIn cases like `getMaxSize` where you don&#39;t call an additional `size()` or `length()` method, pass `Function.identity()` as the second parameter instead.\r\n\r\n","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>This looks like it can be extracted as a private method:</p>\n<pre><code>// you can probably think of better names than I do\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\n    if (field != null)\n        rejectValueIf(\n            sizeMapper.apply(field)\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n            errors,\n            validationConstant,\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>I have assumed that things like <code>ValidationConstants.Fields.SEARCH_PARAMETERS</code> are <code>String</code>s. If they are not, please change the type of the third parameter accordingly.</p>\n<p>Then you can just call this method instead of those if-statements.</p>\n<pre><code>validateSize(body.getCprNumber(), CprNumber::size, \n    ValidationConstants.Fields.CPR_NUMBER);\n</code></pre>\n<p>I have assumed that <code>getCprNumber</code> returns a <code>CprNumber</code>. Again, if it doesn't, please change <code>CprNumber::size</code> to a method reference of the correct type.</p>\n<p>In cases like <code>getMaxSize</code> where you don't call an additional <code>size()</code> or <code>length()</code> method, pass <code>Function.identity()</code> as the second parameter instead.</p>\n"}],"owner":{"account_id":19742037,"reputation":602,"user_id":14455278,"display_name":"FilipA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874250,"answer_count":1,"score":0,"last_activity_date":1680074398,"creation_date":1680069211,"question_id":75873582,"body_markdown":"SonarQube doesn&#39;t allow too many if statements as the cognitive complexity is too high.\r\nWhat would be the best approach to refactor it?\r\n\r\nI have If statements that check if value is not null. If it&#39;s not - it should call `rejectValueIf()` method. \r\n\r\n    if (body.getCprNumber() != null)\r\n        rejectValueIf(\r\n            body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CPR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getCvrNumber() != null)\r\n        rejectValueIf(\r\n            body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CVR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getId() != null)\r\n        rejectValueIf(\r\n            body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.ID,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSize() != null)\r\n        rejectValueIf(\r\n            body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getNext() != null)\r\n        rejectValueIf(\r\n            body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.NEXT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getPage() != null)\r\n        rejectValueIf(\r\n            body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.PAGE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSortFields() != null)\r\n        rejectValueIf(\r\n            body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SORT_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getFields() != null)\r\n        rejectValueIf(\r\n            body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.FIELDS_CONSTANT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSearchParameters() != null)\r\n        rejectValueIf(\r\n            body.getSearchParameters().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SEARCH_PARAMETERS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getLimitSearchToFields() != null)\r\n        rejectValueIf(\r\n            body.getLimitSearchToFields().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getMaxSize() != null)\r\n        rejectValueIf(\r\n            body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.MAX_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getDefaultSize() != null)\r\n        rejectValueIf(\r\n            body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.DEFAULT_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n    }\r\n\r\nMy only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>SonarQube doesn't allow too many if statements as the cognitive complexity is too high.\nWhat would be the best approach to refactor it?</p>\n<p>I have If statements that check if value is not null. If it's not - it should call <code>rejectValueIf()</code> method.</p>\n<pre><code>if (body.getCprNumber() != null)\n    rejectValueIf(\n        body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CPR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getCvrNumber() != null)\n    rejectValueIf(\n        body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CVR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getId() != null)\n    rejectValueIf(\n        body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.ID,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSize() != null)\n    rejectValueIf(\n        body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getNext() != null)\n    rejectValueIf(\n        body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.NEXT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getPage() != null)\n    rejectValueIf(\n        body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.PAGE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSortFields() != null)\n    rejectValueIf(\n        body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SORT_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getFields() != null)\n    rejectValueIf(\n        body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.FIELDS_CONSTANT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSearchParameters() != null)\n    rejectValueIf(\n        body.getSearchParameters().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SEARCH_PARAMETERS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getLimitSearchToFields() != null)\n    rejectValueIf(\n        body.getLimitSearchToFields().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getMaxSize() != null)\n    rejectValueIf(\n        body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.MAX_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getDefaultSize() != null)\n    rejectValueIf(\n        body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.DEFAULT_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>My only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":3073282,"reputation":6108,"user_id":2603345,"accept_rate":77,"display_name":"KurioZ7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073798,"creation_date":1679982452,"question_id":75862699,"body_markdown":"\r\nI have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at https://github.com/vdesabou/kafka-docker-playground. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.\r\n\r\n\r\n&gt; java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\r\n&gt; Topic testtopic not present in metadata after 180000 ms\r\n\r\nFollowing is the Java code. \r\n\r\n    package org.example;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class KafkaProducerapp {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            String topic = &quot;testtopic&quot;;\r\n            Properties props = new Properties();\r\n    \r\n    \r\n            props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\r\n     \r\n    \r\n            props.put(&quot;group.id&quot;, &quot;test&quot;);\r\n    \r\n            props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\r\n            props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n            props.put(&quot;retries&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\r\n            props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\r\n            props.put(&quot;batch.size&quot;,&quot;131072&quot;);\r\n            props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\r\n            props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\r\n            props.put(&quot;acks&quot;,&quot;all&quot;);\r\n            props.put(&quot;linger.ms&quot;,&quot;100&quot;);\r\n            props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\r\n            props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\r\n            props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\r\n    \r\n    \r\n    \r\n    \r\n            KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n    \r\n            try {\r\n                // Send a message to the Kafka topic\r\n                producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\r\n                System.out.println(&quot;testing&quot;);\r\n            }catch(Exception e) {\r\n                System.out.println(&quot;exception occured&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error message &quot;Topic not present in metadata after 180000 ms&quot; in Kafka broker with SCRAM security mechanism using kafka-docker-playground","body":"<p>I have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at <a href=\"https://github.com/vdesabou/kafka-docker-playground\" rel=\"nofollow noreferrer\">https://github.com/vdesabou/kafka-docker-playground</a>. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.</p>\n<blockquote>\n<p>java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\nTopic testtopic not present in metadata after 180000 ms</p>\n</blockquote>\n<p>Following is the Java code.</p>\n<pre><code>package org.example;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\npublic class KafkaProducerapp {\n\n\n    public static void main(String[] args) {\n        String topic = &quot;testtopic&quot;;\n        Properties props = new Properties();\n\n\n        props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\n \n\n        props.put(&quot;group.id&quot;, &quot;test&quot;);\n\n        props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\n        props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n        props.put(&quot;retries&quot;, &quot;2700000&quot;);\n        props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\n        props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\n        props.put(&quot;batch.size&quot;,&quot;131072&quot;);\n        props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\n        props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\n        props.put(&quot;acks&quot;,&quot;all&quot;);\n        props.put(&quot;linger.ms&quot;,&quot;100&quot;);\n        props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\n        props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\n        props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\n\n\n\n\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        try {\n            // Send a message to the Kafka topic\n            producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\n            System.out.println(&quot;testing&quot;);\n        }catch(Exception e) {\n            System.out.println(&quot;exception occured&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-emulator","filesystems"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1680089160,"post_id":75874135,"comment_id":133837006,"body_markdown":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file.","body":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file."}],"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073700,"creation_date":1680073700,"question_id":75874135,"body_markdown":"While working with Android file permissions, I was banging my head against the wall thinking I&#39;m doing something wrong.\r\n\r\nI have the following test code in my app:\r\n\r\n```\r\nFile storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\r\nif (!newFile.exists())\r\n{\r\n    try {\r\n        boolean res = newFile.createNewFile();\r\n        boolean watchMe = res;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nI have Device File Explorer opened in Android studio.\r\n\r\nI run my app, check that `res` is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.\r\n\r\nThen I delete the file from Device File Explorer.\r\n\r\nThen I run my app again. It correctly detects the file does not exist and calls `createNewFile`. But it returns false! The file does not appear.\r\n\r\nIt does not help to restart the app or reinstall it.\r\nThe only solution I have found so far is to reboot the emulator.\r\n\r\nHowever, if I don&#39;t delete the file myself but call `newFile.delete();` from my code, then `createNewFile` is able to recreate the file.\r\n\r\n**Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?**\r\n\r\nI have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.","title":"Cannot recreate manually deleted files until emulator is restarted","body":"<p>While working with Android file permissions, I was banging my head against the wall thinking I'm doing something wrong.</p>\n<p>I have the following test code in my app:</p>\n<pre><code>File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\nif (!newFile.exists())\n{\n    try {\n        boolean res = newFile.createNewFile();\n        boolean watchMe = res;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I have Device File Explorer opened in Android studio.</p>\n<p>I run my app, check that <code>res</code> is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.</p>\n<p>Then I delete the file from Device File Explorer.</p>\n<p>Then I run my app again. It correctly detects the file does not exist and calls <code>createNewFile</code>. But it returns false! The file does not appear.</p>\n<p>It does not help to restart the app or reinstall it.\nThe only solution I have found so far is to reboot the emulator.</p>\n<p>However, if I don't delete the file myself but call <code>newFile.delete();</code> from my code, then <code>createNewFile</code> is able to recreate the file.</p>\n<p><strong>Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?</strong></p>\n<p>I have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.</p>\n"},{"tags":["java","android","android-studio","android-permissions","android-studio-3.0"],"comments":[{"owner":{"display_name":"user20384561"},"score":2,"creation_date":1680207735,"post_id":75874035,"comment_id":133863825,"body_markdown":"Welcome to Stack Overflow! [Please do not upload images of code/data/errors](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Welcome to Stack Overflow! <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Please do not upload images of code/data/errors</a>."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680073603,"creation_date":1680073603,"answer_id":75874121,"question_id":75874035,"body_markdown":"There should be another ```Manifest``` class automatically generated by Android Studio for your project.\r\n\r\nSo in order to use original Android ```Manifest``` class, append ```android.```:\r\n```\r\nandroid.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\r\n```","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>There should be another <code>Manifest</code> class automatically generated by Android Studio for your project.</p>\n<p>So in order to use original Android <code>Manifest</code> class, append <code>android.</code>:</p>\n<pre><code>android.Manifest.permission.WRITE_EXTERNAL_STORAGE\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\n</code></pre>\n"}],"owner":{"account_id":28155260,"reputation":1,"user_id":21516086,"display_name":"Kumar Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680353225,"answer_count":1,"score":0,"last_activity_date":1680073603,"creation_date":1680072959,"question_id":75874035,"body_markdown":"In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.\r\n\r\n[Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION](https://i.stack.imgur.com/lIxwE.jpg)\r\n\r\n[Java Code(permissions) which I want to use](https://i.stack.imgur.com/8LUDY.jpg)\r\n\r\nI have been already added these permissions in the Manifest File as well.\r\n\r\nAnyone please help with this error, will be greatly appreciate.\r\n\r\nI want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot\r\n\r\n[Java Code(permissions) need to use](https://i.stack.imgur.com/mGLks.jpg)","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/lIxwE.jpg\" rel=\"nofollow noreferrer\">Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION</a></p>\n<p><a href=\"https://i.stack.imgur.com/8LUDY.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) which I want to use</a></p>\n<p>I have been already added these permissions in the Manifest File as well.</p>\n<p>Anyone please help with this error, will be greatly appreciate.</p>\n<p>I want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/mGLks.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) need to use</a></p>\n"},{"tags":["java","tomcat","tomcat8","catalina.out"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587122419,"post_id":61269644,"comment_id":108390547,"body_markdown":"Are you sure the app is listening on the URL you are fetching?","body":"Are you sure the app is listening on the URL you are fetching?"},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587257780,"post_id":61269644,"comment_id":108440465,"body_markdown":"Sorry, may I know which URL you are talking about?","body":"Sorry, may I know which URL you are talking about?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587304059,"post_id":61269644,"comment_id":108452763,"body_markdown":"The one that returns the 404.","body":"The one that returns the 404."},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587383525,"post_id":61269644,"comment_id":108481164,"body_markdown":"Yes, the app listens on that URL","body":"Yes, the app listens on that URL"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587466813,"post_id":61269644,"comment_id":108516760,"body_markdown":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way.","body":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way."}],"answers":[{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670392992,"creation_date":1670392992,"answer_id":74712385,"question_id":61269644,"body_markdown":"I was getting same issue and found out that main class needs to be extended from **SpringBootServletInitializer**. Please check code below.\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication extends SpringBootServletInitializer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was getting same issue and found out that main class needs to be extended from <strong>SpringBootServletInitializer</strong>. Please check code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28155476,"reputation":1,"user_id":21516271,"display_name":"Balvinder Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073593,"creation_date":1680073593,"answer_id":75874119,"question_id":61269644,"body_markdown":"I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing\r\n\r\nChanged the version to 1.8 rebuilt and deployed it and it worked","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing</p>\n<p>Changed the version to 1.8 rebuilt and deployed it and it worked</p>\n"}],"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680073593,"creation_date":1587120084,"question_id":61269644,"body_markdown":"\r\nCatalina.out:\r\n\r\n    [2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host &#39;localhost&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] Manager: install: Installing web application &#39;/api#v1&#39; from &#39;file:/home/kos/RPServers/available_webapps/reaper-webapp.war&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\r\n    \r\n    [2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\r\n    \r\n    [2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    \r\n    [2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\r\n\r\nProblem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)\r\n\r\n 1. Any previous issue seen which is similar to this sort? \r\n 2. Or is it some config issue?\r\n 3. Or should more logging be enabled in logging.properties to understand the flow better?\r\n\r\nNote: This is using Tomcat8\r\n\r\nThanks,\r\n\r\n","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>Catalina.out:</p>\n\n<pre><code>[2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host 'localhost'\n\n[2020-04-10 11:48:26] [info] Manager: install: Installing web application '/api#v1' from 'file:/home/kos/RPServers/available_webapps/reaper-webapp.war'\n\n[2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\n\n[2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\n\n[2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n[2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\n</code></pre>\n\n<p>Problem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)</p>\n\n<ol>\n<li>Any previous issue seen which is similar to this sort? </li>\n<li>Or is it some config issue?</li>\n<li>Or should more logging be enabled in logging.properties to understand the flow better?</li>\n</ol>\n\n<p>Note: This is using Tomcat8</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1680073490,"creation_date":1680070181,"answer_id":75873691,"question_id":75873659,"body_markdown":"You can match `id=` followed by a sequence of non-comma characters.\r\n\r\n```java\r\nMatcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\r\nif (m.find()) System.out.println(m.group(1));\r\nelse System.out.println(&quot;No match&quot;);\r\n```","title":"Extract key=value substring with regex","body":"<p>You can match <code>id=</code> followed by a sequence of non-comma characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\nif (m.find()) System.out.println(m.group(1));\nelse System.out.println(&quot;No match&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680070434,"creation_date":1680070434,"answer_id":75873726,"question_id":75873659,"body_markdown":"You need to use Positive Lookbehind with numeric matching. Try the expression\r\n```\r\n(?&lt;=id=)\\d+\r\n``` \r\n**Positive Lookbehind:**\r\n\r\n` (?&lt;=...)` Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.\r\n\r\nIn this case you case, you can use `(?&lt;=id=)\\d+`.\r\n\r\nTest it here: https://regex101.com/r/gifIkf/1\r\n\r\nand the code generated from https://regex101.com/r/gifIkf/1\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\r\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\r\n        \r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        \r\n        while (matcher.find()) {\r\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n            \r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```","title":"Extract key=value substring with regex","body":"<p>You need to use Positive Lookbehind with numeric matching. Try the expression</p>\n<pre><code>(?&lt;=id=)\\d+\n</code></pre>\n<p><strong>Positive Lookbehind:</strong></p>\n<p><code> (?&lt;=...)</code> Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.</p>\n<p>In this case you case, you can use <code>(?&lt;=id=)\\d+</code>.</p>\n<p>Test it here: <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<p>and the code generated from <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main(String[] args) {\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\n        \n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n        final Matcher matcher = pattern.matcher(string);\n        \n        while (matcher.find()) {\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\n            \n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n            }\n        }\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":2649766,"reputation":4544,"user_id":2291748,"accept_rate":84,"display_name":"sakura-bloom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75873691,"answer_count":2,"score":-1,"last_activity_date":1680073490,"creation_date":1680069954,"question_id":75873659,"body_markdown":"I would like to extract the value of `id` from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).\r\n\r\nI would like to extract the value of `id` key, which is 123456789 in the sample input string below. The value of `id` is always a number.\r\n\r\n\r\n    reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\r\n\r\n\r\nHow can I achieve this with regex?","title":"Extract key=value substring with regex","body":"<p>I would like to extract the value of <code>id</code> from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).</p>\n<p>I would like to extract the value of <code>id</code> key, which is 123456789 in the sample input string below. The value of <code>id</code> is always a number.</p>\n<pre><code>reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\n</code></pre>\n<p>How can I achieve this with regex?</p>\n"},{"tags":["java","inheritance","structure"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680074921,"post_id":75874105,"comment_id":133833388,"body_markdown":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a`Dog` class as a subclass of `Animal`, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form.","body":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a<code>Dog</code> class as a subclass of <code>Animal</code>, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form."},{"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"score":0,"creation_date":1680075843,"post_id":75874105,"comment_id":133833620,"body_markdown":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy.","body":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680114597,"post_id":75874105,"comment_id":133844283,"body_markdown":"Sounds like `Copy` should contain a property of type `Release` and that inheritance is not what you want here.","body":"Sounds like <code>Copy</code> should contain a property of type <code>Release</code> and that inheritance is not what you want here."}],"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073481,"creation_date":1680073481,"question_id":75874105,"body_markdown":"I&#39;m trying to make a system for comics that has releases and copies. What I&#39;m after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don&#39;t want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers. ","title":"how should I structure these objects","body":"<p>I'm trying to make a system for comics that has releases and copies. What I'm after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don't want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":307607,"reputation":812,"user_id":618996,"display_name":"Vance Maverick"},"score":3,"creation_date":1299044827,"post_id":5163785,"comment_id":5799049,"body_markdown":"You&#39;ve got several questions mixed up together. Broadly, yes, `str.charAt(str.length() - 1)` is usually the last character in the string; but consider what happens if str is empty, or null.","body":"You&#39;ve got several questions mixed up together. Broadly, yes, <code>str.charAt(str.length() - 1)</code> is usually the last character in the string; but consider what happens if str is empty, or null."},{"owner":{"account_id":94690,"reputation":8180,"user_id":258388,"display_name":"Zimbabao"},"score":0,"creation_date":1299044877,"post_id":5163785,"comment_id":5799060,"body_markdown":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting.","body":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting."},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":0,"creation_date":1412425946,"post_id":5163785,"comment_id":41071338,"body_markdown":"possible duplicate of [How to remove the last character from a string?](http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string\">How to remove the last character from a string?</a>"}],"answers":[{"tags":[],"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"down_vote_count":5,"up_vote_count":310,"is_accepted":true,"score":305,"last_activity_date":1579796525,"creation_date":1299044653,"answer_id":5163852,"question_id":5163785,"body_markdown":"The code:\r\n\r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String string = args[0];\r\n            System.out.println(&quot;last character: &quot; +\r\n                               string.substring(string.length() - 1)); \r\n        }\r\n    }\r\n\r\nThe output of `java Test abcdef`:\r\n\r\n    last character: f\r\n\r\n","title":"How do I get the last character of a string?","body":"<p>The code:</p>\n\n<pre><code>public class Test {\n    public static void main(String args[]) {\n        String string = args[0];\n        System.out.println(\"last character: \" +\n                           string.substring(string.length() - 1)); \n    }\n}\n</code></pre>\n\n<p>The output of <code>java Test abcdef</code>:</p>\n\n<pre><code>last character: f\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302426,"reputation":1804,"user_id":610799,"accept_rate":100,"display_name":"Yoko Zunna"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299044761,"creation_date":1299044761,"answer_id":5163871,"question_id":5163785,"body_markdown":"Simple solution is:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      char[] cs = str.toCharArray();\r\n      char first = cs[0];\r\n      cs[0] = cs[cs.length -1];\r\n      cs[cs.length -1] = first;\r\n      return new String(cs);\r\n    }\r\n\r\nUsing a character array (watch out for the nasty empty String or null String argument!)\r\n\r\nAnother solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);  \r\n      char first = sb.charAt(0);\r\n      sb.setCharAt(0, sb.charAt(sb.length()-1));\r\n      sb.setCharAt(sb.length()-1, first);\r\n      return sb.toString();\r\n    }\r\n\r\nYet another approach (more for instruction than actual use) is this one:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() &lt; 2) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);\r\n      String sub = sb.substring(1, sb.length() -1);\r\n      return sb.reverse().replace(1, sb.length() -1, sub).toString();\r\n    }\r\n\r\nHere the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)\r\n","title":"How do I get the last character of a string?","body":"<p>Simple solution is:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  char[] cs = str.toCharArray();\n  char first = cs[0];\n  cs[0] = cs[cs.length -1];\n  cs[cs.length -1] = first;\n  return new String(cs);\n}\n</code></pre>\n\n<p>Using a character array (watch out for the nasty empty String or null String argument!)</p>\n\n<p>Another solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);  \n  char first = sb.charAt(0);\n  sb.setCharAt(0, sb.charAt(sb.length()-1));\n  sb.setCharAt(sb.length()-1, first);\n  return sb.toString();\n}\n</code></pre>\n\n<p>Yet another approach (more for instruction than actual use) is this one:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() &lt; 2) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);\n  String sub = sb.substring(1, sb.length() -1);\n  return sb.reverse().replace(1, sb.length() -1, sub).toString();\n}\n</code></pre>\n\n<p>Here the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)</p>\n"},{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1396044549,"creation_date":1299044857,"answer_id":5163887,"question_id":5163785,"body_markdown":"Try this:\r\n\r\n    if (s.charAt(0) == s.charAt(s.length() - 1))","title":"How do I get the last character of a string?","body":"<p>Try this:</p>\n\n<pre><code>if (s.charAt(0) == s.charAt(s.length() - 1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1725228,"reputation":2204,"user_id":1580074,"accept_rate":66,"display_name":"Aniket"},"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1520336600,"creation_date":1350976819,"answer_id":13025371,"question_id":5163785,"body_markdown":"Here is a method using `String.charAt()`:\r\n\r\n    String str = &quot;India&quot;;\r\n    System.out.println(&quot;last char = &quot; + str.charAt(str.length() - 1));\r\n\r\nThe resulting output is `last char = a`.","title":"How do I get the last character of a string?","body":"<p>Here is a method using <code>String.charAt()</code>:</p>\n\n<pre><code>String str = \"India\";\nSystem.out.println(\"last char = \" + str.charAt(str.length() - 1));\n</code></pre>\n\n<p>The resulting output is <code>last char = a</code>.</p>\n"},{"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459893915,"creation_date":1459893915,"answer_id":36437899,"question_id":5163785,"body_markdown":"    public String lastChars(String a) {\r\n    if(a.length()&gt;=1{\r\n    String str1 =a.substring(b.length()-1);\r\n    }\r\n    return str1;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public String lastChars(String a) {\nif(a.length()&gt;=1{\nString str1 =a.substring(b.length()-1);\n}\nreturn str1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491517,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1477295445,"creation_date":1477295445,"answer_id":40213223,"question_id":5163785,"body_markdown":"The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:\r\n\r\n**char**\r\n\r\n    char lastChar = myString.charAt(myString.length() - 1);\r\n\r\n**String**\r\n\r\n    String lastChar = myString.substring(myString.length() - 1);","title":"How do I get the last character of a string?","body":"<p>The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:</p>\n\n<p><strong>char</strong></p>\n\n<pre><code>char lastChar = myString.charAt(myString.length() - 1);\n</code></pre>\n\n<p><strong>String</strong></p>\n\n<pre><code>String lastChar = myString.substring(myString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9489759,"reputation":93,"user_id":7055019,"display_name":"vijay pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477296397,"creation_date":1477296397,"answer_id":40213487,"question_id":5163785,"body_markdown":"    public char LastChar(String a){\r\n        return a.charAt(a.length() - 1);\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public char LastChar(String a){\n    return a.charAt(a.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8705926"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506990504,"creation_date":1506990504,"answer_id":46535543,"question_id":5163785,"body_markdown":"    String aString = &quot;This will return the letter t&quot;;\r\n    System.out.println(aString.charAt(aString.length() - 1));\r\n \r\nOutput should be:\r\n   \r\n\r\n    t\r\nHappy coding!\r\n\r\n  ","title":"How do I get the last character of a string?","body":"<pre><code>String aString = \"This will return the letter t\";\nSystem.out.println(aString.charAt(aString.length() - 1));\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>t\n</code></pre>\n\n<p>Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":8801551,"reputation":1295,"user_id":6609551,"accept_rate":80,"display_name":"Neil"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1514427967,"creation_date":1514427967,"answer_id":48000907,"question_id":5163785,"body_markdown":"The other answers are very complete, and you should definitely use them if you&#39;re trying to find the last character of a string. But if you&#39;re just trying to use a conditional (e.g. is the last character &#39;g&#39;), you could also do the following:\r\n\r\n    if (str.endsWith(&quot;g&quot;)) {\r\n\r\nor, strings\r\n\r\n    if (str.endsWith(&quot;bar&quot;)) {","title":"How do I get the last character of a string?","body":"<p>The other answers are very complete, and you should definitely use them if you're trying to find the last character of a string. But if you're just trying to use a conditional (e.g. is the last character 'g'), you could also do the following:</p>\n\n<pre><code>if (str.endsWith(\"g\")) {\n</code></pre>\n\n<p>or, strings</p>\n\n<pre><code>if (str.endsWith(\"bar\")) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7579585,"reputation":31,"user_id":5750656,"display_name":"rakib"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1546419666,"creation_date":1546415781,"answer_id":54002979,"question_id":5163785,"body_markdown":"     public char lastChar(String s) {\r\n         if (s == &quot;&quot; || s == null)\r\n            return &#39; &#39;;\r\n        char lc = s.charAt(s.length() - 1);\r\n        return lc;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code> public char lastChar(String s) {\n     if (s == \"\" || s == null)\n        return ' ';\n    char lc = s.charAt(s.length() - 1);\n    return lc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636434758,"creation_date":1563977209,"answer_id":57184891,"question_id":5163785,"body_markdown":"Here is a method I use to get the last nth characters of a string:\r\n\r\n    public static String takeLast(String value, int count) {\r\n        if (value == null || value.trim().length() == 0) return &quot;&quot;;\r\n        if (count &lt; 1) return &quot;&quot;;\r\n\r\n        if (value.length() &gt; count) {\r\n            return value.substring(value.length() - count);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\nThen use it like so:\r\n\r\n    String testStr = &quot;this is a test string&quot;;\r\n    String last1 = takeLast(testStr, 1); //Output: g\r\n    String last4 = takeLast(testStr, 4); //Output: ring\r\n","title":"How do I get the last character of a string?","body":"<p>Here is a method I use to get the last nth characters of a string:</p>\n<pre><code>public static String takeLast(String value, int count) {\n    if (value == null || value.trim().length() == 0) return &quot;&quot;;\n    if (count &lt; 1) return &quot;&quot;;\n\n    if (value.length() &gt; count) {\n        return value.substring(value.length() - count);\n    } else {\n        return value;\n    }\n}\n</code></pre>\n<p>Then use it like so:</p>\n<pre><code>String testStr = &quot;this is a test string&quot;;\nString last1 = takeLast(testStr, 1); //Output: g\nString last4 = takeLast(testStr, 4); //Output: ring\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073361,"creation_date":1680073361,"answer_id":75874086,"question_id":5163785,"body_markdown":"In case if you are already using apache [commons-lang3][1] library  \r\nYou can use function from library to get last n characters from the string   \r\n`org.apache.commons.lang3.right(final String str, final int len);`\r\n\r\n```\r\nStringUtils.right(null, *)    = null\r\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\r\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\r\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\r\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080","title":"How do I get the last character of a string?","body":"<p>In case if you are already using apache <a href=\"https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080\" rel=\"nofollow noreferrer\">commons-lang3</a> library<br />\nYou can use function from library to get last n characters from the string<br />\n<code>org.apache.commons.lang3.right(final String str, final int len);</code></p>\n<pre><code>StringUtils.right(null, *)    = null\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\n</code></pre>\n"}],"owner":{"account_id":244180,"reputation":3261,"user_id":516805,"accept_rate":91,"display_name":"lonesarah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792457,"favorite_count":0,"down_vote_count":0,"up_vote_count":238,"accepted_answer_id":5163852,"answer_count":12,"score":238,"last_activity_date":1680073361,"creation_date":1299044056,"question_id":5163785,"body_markdown":"How do I get the last character of a string?\r\n\r\n    public class Main {\r\n        public static void main(String[] args)  {\r\n            String s = &quot;test string&quot;;\r\n            //char lastChar = ???\r\n        }   \r\n    }\r\n","title":"How do I get the last character of a string?","body":"<p>How do I get the last character of a string?</p>\n<pre><code>public class Main {\n    public static void main(String[] args)  {\n        String s = &quot;test string&quot;;\n        //char lastChar = ???\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","class"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680073299,"creation_date":1680073299,"answer_id":75874077,"question_id":75872679,"body_markdown":"You&#39;re calling `SpringApplication.run(restAPITest.class, args)`, but `restAPITest` is not the Spring Boot Application. `mainClass` is, because that&#39;s the one with the `@SpringBootApplication` annotation. That annotation defines all the component scanning etc.\r\n\r\nNormally I would say, use `SpringApplication.run(mainClass.class, args)`, but that will load all the test applications / classes. Instead, annotate each of the test classes with `@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })`.","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>You're calling <code>SpringApplication.run(restAPITest.class, args)</code>, but <code>restAPITest</code> is not the Spring Boot Application. <code>mainClass</code> is, because that's the one with the <code>@SpringBootApplication</code> annotation. That annotation defines all the component scanning etc.</p>\n<p>Normally I would say, use <code>SpringApplication.run(mainClass.class, args)</code>, but that will load all the test applications / classes. Instead, annotate each of the test classes with <code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</code>.</p>\n"}],"owner":{"account_id":24418385,"reputation":731,"user_id":18632985,"display_name":"Hoang Minh Quang FX15045"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874077,"answer_count":1,"score":0,"last_activity_date":1680073299,"creation_date":1680057871,"question_id":75872679,"body_markdown":"I&#39;m trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with `Main class` and `Main method`\r\n\r\nBelow is my simple restAPI.class which creates a web API that accepts POST method:\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    public class restAPITest {\r\n    \r\n    \t@PostMapping(&quot;/example&quot;)\r\n    \tpublic String handleExampleRequest(@RequestBody String requestData) {\r\n    \t\t// Process the incoming data\r\n    \t\tSystem.out.println(&quot;Received data: &quot; + requestData);\r\n    \r\n    \t\t// Return a response\r\n    \t\treturn &quot;Data received successfully&quot;;\r\n    \t}\r\n    }\r\n\r\nThen I create a `main class` with `main method` to run Spring App, like a normal java app\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    public class mainClass {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(restAPITest.class, args);\r\n        }\r\n    }\r\n\r\nBut then I got an error like below\r\n\r\n    Description:\r\n    \r\n    Web application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\r\n    \r\n    Action:\r\n    \r\n    Check your application&#39;s dependencies for a supported servlet web server.\r\n    Check the configured web application type\r\n\r\n\r\nBelow is my project Structure (Just care about 2 file that I highlight)\r\n[![structured][1]][1]\r\n\r\nIf I put the `main method` inside `public class restAPITest`, it will work like normal. But when separating the `main class`/`main method` like this it won&#39;t work. I don&#39;t understand why in Spring boot `main method` can&#39;t be separated?\r\n\r\nBasically, I want my `main class` like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn&#39;t work as intended.\r\n\r\n    public static void main(String[] args) {\r\n            //SpringApplication.run(testSpringApp1.class, args);\r\n            SpringApplication.run(testSpringApp2.class, args);\r\n            //SpringApplication.run(testSpringApp3.class, args);\r\n        }\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GHP9.png","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>I'm trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with <code>Main class</code> and <code>Main method</code></p>\n<p>Below is my simple restAPI.class which creates a web API that accepts POST method:</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class restAPITest {\n\n    @PostMapping(&quot;/example&quot;)\n    public String handleExampleRequest(@RequestBody String requestData) {\n        // Process the incoming data\n        System.out.println(&quot;Received data: &quot; + requestData);\n\n        // Return a response\n        return &quot;Data received successfully&quot;;\n    }\n}\n</code></pre>\n<p>Then I create a <code>main class</code> with <code>main method</code> to run Spring App, like a normal java app</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class mainClass {\n    public static void main(String[] args) {\n        SpringApplication.run(restAPITest.class, args);\n    }\n}\n</code></pre>\n<p>But then I got an error like below</p>\n<pre><code>Description:\n\nWeb application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\n\nAction:\n\nCheck your application's dependencies for a supported servlet web server.\nCheck the configured web application type\n</code></pre>\n<p>Below is my project Structure (Just care about 2 file that I highlight)\n<a href=\"https://i.stack.imgur.com/9GHP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GHP9.png\" alt=\"structured\" /></a></p>\n<p>If I put the <code>main method</code> inside <code>public class restAPITest</code>, it will work like normal. But when separating the <code>main class</code>/<code>main method</code> like this it won't work. I don't understand why in Spring boot <code>main method</code> can't be separated?</p>\n<p>Basically, I want my <code>main class</code> like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn't work as intended.</p>\n<pre><code>public static void main(String[] args) {\n        //SpringApplication.run(testSpringApp1.class, args);\n        SpringApplication.run(testSpringApp2.class, args);\n        //SpringApplication.run(testSpringApp3.class, args);\n    }\n \n</code></pre>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680069058,"post_id":75873555,"comment_id":133832197,"body_markdown":"Try using `String::split`","body":"Try using <code>String::split</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1680071390,"post_id":75873555,"comment_id":133832605,"body_markdown":"by what logic do you think this contains should return true?","body":"by what logic do you think this contains should return true?"}],"answers":[{"tags":[],"owner":{"account_id":2352177,"reputation":75749,"user_id":2060725,"accept_rate":83,"display_name":"nvoigt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680073169,"creation_date":1680073169,"answer_id":75874062,"question_id":75873555,"body_markdown":"The variables *are not* the same. \r\n\r\nWhat you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).\r\n\r\nSince you tagged it [tag:Dart]:\r\n\r\n    void main() {\r\n      var a = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var b = &#39;Pepper,Paneer,Onion&#39;.split(&#39;,&#39;);\r\n      \r\n      if (a.containsTheSameElementsAs(b)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    \r\n      var c = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var d = &#39;Pepper,Onion&#39;.split(&#39;,&#39;); \r\n      if (c.containsTheSameElementsAs(d)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    }\r\n    \r\n    extension on List {\r\n      bool containsTheSameElementsAs(List other) {\r\n        return length == other.length &amp;&amp; every(other.contains);\r\n      }\r\n    }\r\n\r\nI&#39;m sure something very similar is available in [tag:Java].","title":"problem: How to check variable same or not?","body":"<p>The variables <em>are not</em> the same.</p>\n<p>What you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).</p>\n<p>Since you tagged it <a href=\"/questions/tagged/dart\" class=\"post-tag\" title=\"show questions tagged &#39;dart&#39;\" aria-label=\"show questions tagged &#39;dart&#39;\" rel=\"tag\" aria-labelledby=\"tag-dart-tooltip-container\">dart</a>:</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer'.split(',');\n  var b = 'Pepper,Paneer,Onion'.split(',');\n  \n  if (a.containsTheSameElementsAs(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n  var c = 'Onion,Pepper,Paneer'.split(',');\n  var d = 'Pepper,Onion'.split(','); \n  if (c.containsTheSameElementsAs(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n}\n\nextension on List {\n  bool containsTheSameElementsAs(List other) {\n    return length == other.length &amp;&amp; every(other.contains);\n  }\n}\n</code></pre>\n<p>I'm sure something very similar is available in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-tooltip-container\">java</a>.</p>\n"}],"owner":{"account_id":21224802,"reputation":1804,"user_id":15610685,"display_name":"Deepak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75874062,"answer_count":1,"score":-1,"last_activity_date":1680073169,"creation_date":1680068894,"question_id":75873555,"body_markdown":"Here I have two variable with same item but when i checking it then it is saying its not same.\r\n\r\nHere I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.\r\n\r\n```\r\nvoid main() {\r\n  var a = &#39;Onion,Pepper,Paneer&#39;;\r\n  var b = &#39;Pepper,Paneer,Onion&#39;;\r\n  if (a.contains(b)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\nvar c = &#39;Onion,Pepper,Paneer&#39;;\r\n  var d = &#39;Pepper,Onion&#39;; Or &#39;Onion,Pepper,Cheese&#39;;\r\n  if (c.contains(d)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\n}\r\n```","title":"problem: How to check variable same or not?","body":"<p>Here I have two variable with same item but when i checking it then it is saying its not same.</p>\n<p>Here I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer';\n  var b = 'Pepper,Paneer,Onion';\n  if (a.contains(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\nvar c = 'Onion,Pepper,Paneer';\n  var d = 'Pepper,Onion'; Or 'Onion,Pepper,Cheese';\n  if (c.contains(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","sybase"],"comments":[{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1680114169,"post_id":75857161,"comment_id":133844171,"body_markdown":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration","body":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1680237513,"post_id":75857161,"comment_id":133867584,"body_markdown":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection.","body":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection."}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073041,"creation_date":1679928356,"question_id":75857161,"body_markdown":"I use `com.sybase.jdbc42.jdbc.SybDriver` to connect to sybase. \r\nI get \r\n\r\n`SQL Anywhere Error -188: Not enough values for host variables` \r\n\r\nwhen I execute multiple statements like this :\r\n\r\n`delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P\r\nLAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;`\r\n\r\nIt could happen with different statements: delete + update or insert + insert.\r\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:\r\n\r\n```\r\npublic void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\r\n    Connection conn = getConnection();\r\n    StringBuilder fullStatement = new StringBuilder(500);\r\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\r\n    // save all queries to one string and separate them with &quot;;&quot;\r\n    for (TransactionData query : queries) {\r\n        fullStatement.append(query.getSqlStatement());\r\n\t\tfullStatement.append(&quot;;&quot;);\r\n        Collections.addAll(totalParams, query.getParams());\r\n    }\r\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\r\n    // save all parameters to PreparedStatement\r\n    for (Object param : totalParams) {\r\n\t\tif (param instanceof NullValue) {\r\n\t\t\tstm.setNull(i, ((NullValue) param).getType());\r\n\t\t} else {\r\n\t\t\tstm.setObject(i, param);\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n}\r\n```\r\n\r\nBut get SQL error. \r\n\r\nWhen I sent each statement separately - it works...\r\n\r\nWhat could be a root cause of such error?","title":"SybSQLException: SQL Anywhere Error -188: Not enough values for host variables with jdbc42 SybDriver","body":"<p>I use <code>com.sybase.jdbc42.jdbc.SybDriver</code> to connect to sybase.\nI get</p>\n<p><code>SQL Anywhere Error -188: Not enough values for host variables</code></p>\n<p>when I execute multiple statements like this :</p>\n<p><code>delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P LAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;</code></p>\n<p>It could happen with different statements: delete + update or insert + insert.\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:</p>\n<pre><code>public void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\n    Connection conn = getConnection();\n    StringBuilder fullStatement = new StringBuilder(500);\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\n    // save all queries to one string and separate them with &quot;;&quot;\n    for (TransactionData query : queries) {\n        fullStatement.append(query.getSqlStatement());\n        fullStatement.append(&quot;;&quot;);\n        Collections.addAll(totalParams, query.getParams());\n    }\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\n    // save all parameters to PreparedStatement\n    for (Object param : totalParams) {\n        if (param instanceof NullValue) {\n            stm.setNull(i, ((NullValue) param).getType());\n        } else {\n            stm.setObject(i, param);\n        }\n        i++;\n    }\n}\n</code></pre>\n<p>But get SQL error.</p>\n<p>When I sent each statement separately - it works...</p>\n<p>What could be a root cause of such error?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4565523,"reputation":343,"user_id":3706623,"display_name":"LucaT"},"score":0,"creation_date":1684161328,"post_id":75746912,"comment_id":134472523,"body_markdown":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?","body":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?"}],"answers":[{"tags":[],"owner":{"account_id":21965373,"reputation":31,"user_id":16242712,"display_name":"Stalowy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680072916,"creation_date":1679999557,"answer_id":75865133,"question_id":75746912,"body_markdown":"I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class `SwaggerWebMvcConfigurer` which has method `addResourceHandler()`. Because we have used `WebMvcConfigurationSupport` this method is not triggered in my opinion (For example `DelegatingWebMvcConfiguration` delegating somehow addResourceHandlers upper in class hierarchy, I am not sure). \r\n\r\nSo, this is my code which helped:\r\n\r\n\r\n        @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\r\n    @Import({\r\n            org.springdoc.core.SpringDocConfiguration.class,\r\n            org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n            org.springdoc.webmvc.ui.SwaggerConfig.class,\r\n            org.springdoc.core.SwaggerUiConfigProperties.class,\r\n            org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n        org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\r\n    })\r\n        public class SwaggerConfig { \r\n        \r\n            private final SwaggerIndexTransformer swaggerIndexTransformer;\r\n            \r\n                public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\r\n                    this.swaggerIndexTransformer = swaggerIndexTransformer;\r\n                }\r\n            \r\n            @Override\r\n            public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n                registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\r\n                        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\r\n                        .resourceChain(false)\r\n                        .addTransformer(swaggerIndexTransformer);\r\n            }\r\n\r\nI&#39;m, just doing the same what `SwaggerWebMvcConfigurer` does. I think so :D\r\n\r\n  [1]: https://i.stack.imgur.com/GBJVI.png","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class <code>SwaggerWebMvcConfigurer</code> which has method <code>addResourceHandler()</code>. Because we have used <code>WebMvcConfigurationSupport</code> this method is not triggered in my opinion (For example <code>DelegatingWebMvcConfiguration</code> delegating somehow addResourceHandlers upper in class hierarchy, I am not sure).</p>\n<p>So, this is my code which helped:</p>\n<pre><code>    @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\n@Import({\n        org.springdoc.core.SpringDocConfiguration.class,\n        org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n        org.springdoc.webmvc.ui.SwaggerConfig.class,\n        org.springdoc.core.SwaggerUiConfigProperties.class,\n        org.springdoc.core.SwaggerUiOAuthProperties.class,\n    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\n})\n    public class SwaggerConfig { \n    \n        private final SwaggerIndexTransformer swaggerIndexTransformer;\n        \n            public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\n                this.swaggerIndexTransformer = swaggerIndexTransformer;\n            }\n        \n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\n                    .resourceChain(false)\n                    .addTransformer(swaggerIndexTransformer);\n        }\n</code></pre>\n<p>I'm, just doing the same what <code>SwaggerWebMvcConfigurer</code> does. I think so :D</p>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680072916,"creation_date":1678894562,"question_id":75746912,"body_markdown":"I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it&#39;s not working properly when @EnableWebMvc is disabled.\r\n\r\nWhen I have this\r\n```\r\nregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\r\n```\r\nDefault ui with petstore is loaded. \r\n\r\nWith @EnableWebMvc it works but core app functionality is broken as all validators and front-end don&#39;t work. So I can&#39;t use it.\r\n\r\nVia Debug I see that SwaggerIndexPageTransformer is not called. \r\n\r\nWhat should I do? ","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it's not working properly when @EnableWebMvc is disabled.</p>\n<p>When I have this</p>\n<pre><code>registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\n</code></pre>\n<p>Default ui with petstore is loaded.</p>\n<p>With @EnableWebMvc it works but core app functionality is broken as all validators and front-end don't work. So I can't use it.</p>\n<p>Via Debug I see that SwaggerIndexPageTransformer is not called.</p>\n<p>What should I do?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679995277,"post_id":75864185,"comment_id":133816786,"body_markdown":"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter , https://github.com/spring-projects/spring-security/issues/11926 (+ linked)","body":"<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a> , <a href=\"https://github.com/spring-projects/spring-security/issues/11926\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/11926</a> (+ linked)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680020010,"post_id":75864185,"comment_id":133823891,"body_markdown":"Please try (I&#39;m mobile): remove the `@Bean` (but still try to auto-wire it)","body":"Please try (I&#39;m mobile): remove the <code>@Bean</code> (but still try to auto-wire it)"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1680032798,"post_id":75864185,"comment_id":133827179,"body_markdown":"this seems to be your problem [AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider](https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w)","body":"this seems to be your problem <a href=\"https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w\">AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider</a>"}],"answers":[{"tags":[],"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679994104,"creation_date":1679994104,"answer_id":75864231,"question_id":75864185,"body_markdown":"You should remove:\r\n\r\n    System.out.println(authenticationManager);\r\n\r\nAs it seems to be called recursively and cause the problem (see the line `$Proxy58.toString(Unknown Source)` ).\r\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>You should remove:</p>\n<pre><code>System.out.println(authenticationManager);\n</code></pre>\n<p>As it seems to be called recursively and cause the problem (see the line <code>$Proxy58.toString(Unknown Source)</code> ).\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.</p>\n"},{"tags":[],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680072584,"creation_date":1680072584,"answer_id":75873985,"question_id":75864185,"body_markdown":"Thanks for you suggestions. I added a Controller class and put the following code in it:\r\n```\r\n@Autowired\r\nHttpSecurity httpSecurity;\r\n@Autowired\r\nUserService userService;\r\n@Autowired\r\nPasswordEncoder passwordEncoder;\r\n\r\n@Bean\r\npublic AuthenticationManager authenticationManager() throws Exception {\r\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\r\n        .userDetailsService(userService)\r\n        .passwordEncoder(passwordEncoder)\r\n        .and()\r\n        .build();\r\n}\r\n```\r\nThis worked for me.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>Thanks for you suggestions. I added a Controller class and put the following code in it:</p>\n<pre><code>@Autowired\nHttpSecurity httpSecurity;\n@Autowired\nUserService userService;\n@Autowired\nPasswordEncoder passwordEncoder;\n\n@Bean\npublic AuthenticationManager authenticationManager() throws Exception {\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\n        .userDetailsService(userService)\n        .passwordEncoder(passwordEncoder)\n        .and()\n        .build();\n}\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680258529,"accepted_answer_id":75873985,"answer_count":2,"score":-2,"last_activity_date":1680072584,"creation_date":1679993729,"question_id":75864185,"body_markdown":"I&#39;m trying to make a spring boot application with JWT security. I want to use Spring Security&#39;s AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.\r\n\r\nMy Controller class:\r\n```\r\n@RestController\r\npublic class AuthenticationController {\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    @GetMapping(&quot;/sign-in&quot;)\r\n    public String signIn() {\r\n        System.out.println(authenticationManager);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy Configuration class:\r\n```\r\n@Configuration\r\npublic class JwtConfiguration {\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe error I get when i am doing a GET request to /sign-in:\r\n\r\n```\r\n\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n```\r\netc.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>I'm trying to make a spring boot application with JWT security. I want to use Spring Security's AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.</p>\n<p>My Controller class:</p>\n<pre><code>@RestController\npublic class AuthenticationController {\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @GetMapping(&quot;/sign-in&quot;)\n    public String signIn() {\n        System.out.println(authenticationManager);\n        return &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>My Configuration class:</p>\n<pre><code>@Configuration\npublic class JwtConfiguration {\n    @Bean\n    public AuthenticationManager authenticationManager(\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\n        return http.build();\n    }\n}\n</code></pre>\n<p>The error I get when i am doing a GET request to /sign-in:</p>\n<pre><code>\njava.lang.StackOverflowError: null\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n</code></pre>\n<p>etc.</p>\n"},{"tags":["java","android","exoplayer","playback","android-media3"],"answers":[{"tags":[],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680072215,"creation_date":1680072215,"answer_id":75873935,"question_id":75870538,"body_markdown":"managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes\r\n- changed &quot;/embed&quot; to &quot;/download&quot;\r\n- added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading\r\n\r\nafter these changes, the error was gone and the player stared working.","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes</p>\n<ul>\n<li>changed &quot;/embed&quot; to &quot;/download&quot;</li>\n<li>added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading</li>\n</ul>\n<p>after these changes, the error was gone and the player stared working.</p>\n"}],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680072215,"creation_date":1680033276,"question_id":75870538,"body_markdown":"Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime\r\n\r\n```\r\nE/ExoPlayerImplInternal: Playback error\r\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\r\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\r\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\r\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n\r\nhere is my java code\r\n\r\n\r\n```\r\naudioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\r\n\r\nUri audioUri = Uri.parse(audioURL);\r\n\r\nexoPlayer = new ExoPlayer.Builder(this).build();\r\n\r\nexoPlayerView = findViewById(R.id.mediaPlayer);\r\n\r\n// Bind the player to the view.\r\nexoPlayerView.setPlayer(exoPlayer);\r\n\r\n// Build the media item.\r\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\r\n\r\n// Set the media item to be played.\r\nexoPlayer.setMediaItem(mediaItem);\r\n\r\n// Prepare the player.\r\nexoPlayer.prepare();\r\n// Start the playback.\r\nexoPlayer.play();\r\n```\r\n\r\n\r\n\r\n\r\nI tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\r\nfile is definately mp3 checked mutiple times to make sure.\r\nmp3 link is directly copied from the share option in one drive ","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime</p>\n<pre><code>E/ExoPlayerImplInternal: Playback error\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>here is my java code</p>\n<pre><code>audioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\n\nUri audioUri = Uri.parse(audioURL);\n\nexoPlayer = new ExoPlayer.Builder(this).build();\n\nexoPlayerView = findViewById(R.id.mediaPlayer);\n\n// Bind the player to the view.\nexoPlayerView.setPlayer(exoPlayer);\n\n// Build the media item.\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\n\n// Set the media item to be played.\nexoPlayer.setMediaItem(mediaItem);\n\n// Prepare the player.\nexoPlayer.prepare();\n// Start the playback.\nexoPlayer.play();\n</code></pre>\n<p>I tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\nfile is definately mp3 checked mutiple times to make sure.\nmp3 link is directly copied from the share option in one drive</p>\n"},{"tags":["java","android","kotlin","android-emulator","simulator"],"answers":[{"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662460504,"creation_date":1662460504,"answer_id":73620576,"question_id":73620525,"body_markdown":"You should go to menu options as shown in below image,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd then,\r\n\r\nChange whichever setting you want from Cellular menu\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PsOW.png\r\n  [2]: https://i.stack.imgur.com/zcW4g.png","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>You should go to menu options as shown in below image,</p>\n<p><a href=\"https://i.stack.imgur.com/6PsOW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PsOW.png\" alt=\"enter image description here\" /></a></p>\n<p>And then,</p>\n<p>Change whichever setting you want from Cellular menu</p>\n<p><a href=\"https://i.stack.imgur.com/zcW4g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcW4g.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680072195,"creation_date":1662460268,"question_id":73620525,"body_markdown":"I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?</p>\n"},{"tags":["java","xml","spring-boot","java-8","utf-8"],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680071727,"creation_date":1679635898,"question_id":75830318,"body_markdown":"I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application. \r\n\r\nerror \r\n```\r\norg.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\r\n  with linked exception:\r\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\r\n```\r\n\r\nController code\r\n \r\n```\r\n @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\r\n    @ApiOperation(value = &quot;Method to get the data&quot;)\r\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\r\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\r\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\r\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\r\n    @ResponseBody\r\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\r\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\r\n            throws JAXBException; \r\n  ```\r\n    \r\n\r\nPOM.xml dependencies with versions \r\n```\r\nspring-boot-starter-web - 2.0.8.RELEASE\r\ngson                    - 2.3.1\r\njson-lib                - 2.3\r\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\njson                    - 20230227\r\nxmlrpc-client           - 3.1.3\r\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\nspring-security-config\r\nspring-security-web\r\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\r\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\nspring-boot-starter-actuator\r\ncommons-lang3           - 3.8.1\r\nlombok\r\nspring-cloud-starter-config - 2.0.3.RELEASE\r\nmicrometer-registry-prometheus - 1.2.2\r\nmicrometer-core - 1.2.2\r\nspring-boot-starter-test\r\nspring-cloud-dependencies - Finchley.SR3\r\n```\r\n   \r\n    ","title":"com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application.</p>\n<p>error</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\n  with linked exception:\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\n</code></pre>\n<p>Controller code</p>\n<pre><code> @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\n    @ApiOperation(value = &quot;Method to get the data&quot;)\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\n    @ResponseBody\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\n            throws JAXBException; \n</code></pre>\n<p>POM.xml dependencies with versions</p>\n<pre><code>spring-boot-starter-web - 2.0.8.RELEASE\ngson                    - 2.3.1\njson-lib                - 2.3\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\njson                    - 20230227\nxmlrpc-client           - 3.1.3\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\nspring-security-config\nspring-security-web\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\nspring-boot-starter-actuator\ncommons-lang3           - 3.8.1\nlombok\nspring-cloud-starter-config - 2.0.3.RELEASE\nmicrometer-registry-prometheus - 1.2.2\nmicrometer-core - 1.2.2\nspring-boot-starter-test\nspring-cloud-dependencies - Finchley.SR3\n</code></pre>\n"},{"tags":["java","aws-lambda","dependency-injection","dagger"],"comments":[{"owner":{"account_id":2008941,"reputation":8898,"user_id":1797950,"accept_rate":33,"display_name":"crgarridos"},"score":0,"creation_date":1655030700,"post_id":72569186,"comment_id":128229186,"body_markdown":"Take a look to fast init : https://dagger.dev/dev-guide/compiler-options.html","body":"Take a look to fast init : <a href=\"https://dagger.dev/dev-guide/compiler-options.html\" rel=\"nofollow noreferrer\">dagger.dev/dev-guide/compiler-options.html</a>"}],"owner":{"account_id":23670423,"reputation":11,"user_id":17697251,"display_name":"OwI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680071668,"creation_date":1654836341,"question_id":72569186,"body_markdown":"I am using Dagger for DI in my java program, I will be using AWS lambda to host the service.\r\n\r\nThere is one component that takes a long time to load, and multiple services will be hosted but not all service will require this component.\r\nSo the problem is this large component will be loaded whether or not required.(extra cost in Lambda)\r\n\r\nIs there a way such I can let dagger know not to load this costly component every time, or any way to let dagger only load necessary components?\r\n\r\nI am very new to Dagger, I do not know what keywords to use to search this question. If this question is already answered elsewhere, a paste of the link will be appreciated.\r\n\r\nThanks ahead!","title":"If I have a very large component, can I tell Dagger to only load it when needed at program start?","body":"<p>I am using Dagger for DI in my java program, I will be using AWS lambda to host the service.</p>\n<p>There is one component that takes a long time to load, and multiple services will be hosted but not all service will require this component.\nSo the problem is this large component will be loaded whether or not required.(extra cost in Lambda)</p>\n<p>Is there a way such I can let dagger know not to load this costly component every time, or any way to let dagger only load necessary components?</p>\n<p>I am very new to Dagger, I do not know what keywords to use to search this question. If this question is already answered elsewhere, a paste of the link will be appreciated.</p>\n<p>Thanks ahead!</p>\n"},{"tags":["java","encryption","bouncycastle","private-key"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1565228576,"post_id":57403322,"comment_id":101289757,"body_markdown":"There isn&#39;t enough information in your question to determine why you&#39;re having a problem. When I use your code with a known valid private key in the same format I get no errors.","body":"There isn&#39;t enough information in your question to determine why you&#39;re having a problem. When I use your code with a known valid private key in the same format I get no errors."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1565249184,"post_id":57403322,"comment_id":101295290,"body_markdown":"(1) Yes PEM format does have (required) line breaks in the base64 &#39;blob&#39;; see wikipedia and/or rfc7468 section 2. (2) Confirm if you are using `javax/crypto/EncryptedPrivateKeyInfo` and not any of several other classes with the same relative name. If so the ctor should never give such an error, but an added or subsequent `getKeySpec(various)` might do so depending the data in the keyfile. If you have openssl, look at `openssl asn1parse -i -in pemfile` (or `-in derfile -inform der`), or add to your Q (by editting) with the last OCTET STRING redacted (that&#39;s your actual encrypted key data)","body":"(1) Yes PEM format does have (required) line breaks in the base64 &#39;blob&#39;; see wikipedia and/or rfc7468 section 2. (2) Confirm if you are using <code>javax&#47;crypto&#47;EncryptedPrivateKeyInfo</code> and not any of several other classes with the same relative name. If so the ctor should never give such an error, but an added or subsequent <code>getKeySpec(various)</code> might do so depending the data in the keyfile. If you have openssl, look at <code>openssl asn1parse -i -in pemfile</code> (or <code>-in derfile -inform der</code>), or add to your Q (by editting) with the last OCTET STRING redacted (that&#39;s your actual encrypted key data)"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1565249290,"post_id":57403322,"comment_id":101295339,"body_markdown":"(3) your bouncycastle problem is a different problem; if you want to pursue it, ask a separate question and describe exactly what jar you are using. In particular if you put bcprov into any repackaging such as &#39;one-jar&#39; &#39;single-jar&#39; maven gradle Ecliipse Intellij Netbeans etc that won&#39;t work.","body":"(3) your bouncycastle problem is a different problem; if you want to pursue it, ask a separate question and describe exactly what jar you are using. In particular if you put bcprov into any repackaging such as &#39;one-jar&#39; &#39;single-jar&#39; maven gradle Ecliipse Intellij Netbeans etc that won&#39;t work."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1565267218,"post_id":57403322,"comment_id":101305072,"body_markdown":"If you can supply the sample encrypted message with a key (otherwise known as a [mcve]), then someone might be able to debug it further.","body":"If you can supply the sample encrypted message with a key (otherwise known as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), then someone might be able to debug it further."}],"answers":[{"tags":[],"owner":{"account_id":7554090,"reputation":419,"user_id":5734474,"display_name":"Map"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580585281,"creation_date":1580585281,"answer_id":60020403,"question_id":57403322,"body_markdown":"You need to make sure your private key is encrypted with AES ciphers.\r\n\r\nAt the beginning of your encrypted private key file, you can see something like below:\r\n\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: DES-CBC,2241040B6A6E0FBE\r\n```\r\nThe `DEK-Info` tells you what encryption algorithm is in use.\r\n\r\nYou can use `openssl` to convert the cipher:\r\n```\r\nopenssl rsa -in des.pem -aes256 -out aes.pem\r\n```\r\nto get an AES encrypted private key:\r\n\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: AES-256-CBC,40FACC69B7E9ED576BF8300B871701EB\r\n```\r\nAs of today, `javax.crypto` still only supports AES ciphers only per [JDK-8076999](https://bugs.openjdk.java.net/browse/JDK-8076999). And that&#39;s why you would get this error:\r\n\r\n```\r\nPBE parameter parsing error: expecting the object identifier for AES cipher\r\n```","title":"How to Decrypt private key(String) with passphrase - java","body":"<p>You need to make sure your private key is encrypted with AES ciphers.</p>\n\n<p>At the beginning of your encrypted private key file, you can see something like below:</p>\n\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-CBC,2241040B6A6E0FBE\n</code></pre>\n\n<p>The <code>DEK-Info</code> tells you what encryption algorithm is in use.</p>\n\n<p>You can use <code>openssl</code> to convert the cipher:</p>\n\n<pre><code>openssl rsa -in des.pem -aes256 -out aes.pem\n</code></pre>\n\n<p>to get an AES encrypted private key:</p>\n\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: AES-256-CBC,40FACC69B7E9ED576BF8300B871701EB\n</code></pre>\n\n<p>As of today, <code>javax.crypto</code> still only supports AES ciphers only per <a href=\"https://bugs.openjdk.java.net/browse/JDK-8076999\" rel=\"nofollow noreferrer\">JDK-8076999</a>. And that's why you would get this error:</p>\n\n<pre><code>PBE parameter parsing error: expecting the object identifier for AES cipher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10307502,"reputation":1,"user_id":7604301,"display_name":"pranavan sivasundaram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680071667,"creation_date":1680062672,"answer_id":75873038,"question_id":57403322,"body_markdown":"    public PrivateKey readPrivateKey(String privateKeyContent,String passPhrase) {\r\n      PrivateKey privateKey = null;\r\n      try {\r\n        PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\r\n        byte[] content = pemReader.readPemObject().getContent();\r\n        EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\r\n        Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\r\n        SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n        Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n        AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n        cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n        KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        privateKey = kf.generatePrivate(pkcs8KeySpec);\r\n      } catch (Exception e) {\r\n      }\r\n      return privateKey;\r\n    }","title":"How to Decrypt private key(String) with passphrase - java","body":"<pre><code>public PrivateKey readPrivateKey(String privateKeyContent,String passPhrase) {\n  PrivateKey privateKey = null;\n  try {\n    PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\n    byte[] content = pemReader.readPemObject().getContent();\n    EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\n    Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n    PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\n    SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n    Key pbeKey = secFac.generateSecret(pbeKeySpec);\n    AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n    cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n    KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    privateKey = kf.generatePrivate(pkcs8KeySpec);\n  } catch (Exception e) {\n  }\n  return privateKey;\n}\n</code></pre>\n"}],"owner":{"account_id":16469509,"reputation":11,"user_id":11898890,"display_name":"devi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6794,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680071667,"creation_date":1565219903,"question_id":57403322,"body_markdown":"I am trying to decrypt the private key in a string. The key also has a passphrase. My Private key file has the following header and footer:\r\n\r\n    -----BEGIN ENCRYPTED PRIVATE KEY-----\\n\r\n    -----END ENCRYPTED PRIVATE KEY-----\\n\r\n\r\nI could see more `&#39;\\n&#39;` new line inside the private key. I hope it&#39;s in pem format.\r\n\r\nThe last line of the following code gives me this error:\r\n\r\n&gt; PBE parameter parsing error: expecting the object identifier for AES\r\n&gt; cipher\r\n\r\nThis is the code I tried:\r\n\r\n    String privateKeyPEM = a;\r\n    privateKeyPEM = privateKeyPEM.replace(&quot;-----BEGIN ENCRYPTED PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n    privateKeyPEM = privateKeyPEM.replace(&quot;-----END ENCRYPTED PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n    byte[] encoded = Base64.getMimeDecoder().decode(privateKeyPEM);\r\n    EncryptedPrivateKeyInfo pkinfo = new EncryptedPrivateKeyInfo(encoded);\r\n\r\nI have also tried using **bouncy castle** but I am getting the following error\r\n\r\n&gt; class &quot;org.bouncycastle.asn1.pkcs.RSAPublicKey&quot;&#39;s signer information\r\n&gt; does not match signer information of other classes in the same package\r\n\r\nNote: I&#39;m using jdk11\r\n\r\nI would appreciate the help. Thanks","title":"How to Decrypt private key(String) with passphrase - java","body":"<p>I am trying to decrypt the private key in a string. The key also has a passphrase. My Private key file has the following header and footer:</p>\n\n<pre><code>-----BEGIN ENCRYPTED PRIVATE KEY-----\\n\n-----END ENCRYPTED PRIVATE KEY-----\\n\n</code></pre>\n\n<p>I could see more <code>'\\n'</code> new line inside the private key. I hope it's in pem format.</p>\n\n<p>The last line of the following code gives me this error:</p>\n\n<blockquote>\n  <p>PBE parameter parsing error: expecting the object identifier for AES\n  cipher</p>\n</blockquote>\n\n<p>This is the code I tried:</p>\n\n<pre><code>String privateKeyPEM = a;\nprivateKeyPEM = privateKeyPEM.replace(\"-----BEGIN ENCRYPTED PRIVATE KEY-----\\n\", \"\");\nprivateKeyPEM = privateKeyPEM.replace(\"-----END ENCRYPTED PRIVATE KEY-----\\n\", \"\");\nbyte[] encoded = Base64.getMimeDecoder().decode(privateKeyPEM);\nEncryptedPrivateKeyInfo pkinfo = new EncryptedPrivateKeyInfo(encoded);\n</code></pre>\n\n<p>I have also tried using <strong>bouncy castle</strong> but I am getting the following error</p>\n\n<blockquote>\n  <p>class \"org.bouncycastle.asn1.pkcs.RSAPublicKey\"'s signer information\n  does not match signer information of other classes in the same package</p>\n</blockquote>\n\n<p>Note: I'm using jdk11</p>\n\n<p>I would appreciate the help. Thanks</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1674841646,"post_id":75237165,"comment_id":132806583,"body_markdown":"It&#39;s bad enough that we don&#39;t&#39; get a private (test) key to go on, but could you please at least print out the strings you are using to parameterize the crypto object instances? As it is it is simply impossible to debug unless you know the (horribly described, and with terrible example code) AWS SDK. I mean, really Amazon, who did you hire to write that code?","body":"It&#39;s bad enough that we don&#39;t&#39; get a private (test) key to go on, but could you please at least print out the strings you are using to parameterize the crypto object instances? As it is it is simply impossible to debug unless you know the (horribly described, and with terrible example code) AWS SDK. I mean, really Amazon, who did you hire to write that code?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1680066565,"post_id":75237165,"comment_id":133831807,"body_markdown":"_If_ that PKCS8 uses an old-style i.e. single-OID scheme (not PBES2), which I don&#39;t know and the AWS page doesn&#39;t say, you need to de-PEM it before feeding to `EncryptedPrivateKeyInfo`: remove the header/trailer lines entirely, and de-base64 the rest either removing or ignoring the linebreaks; `java.util.Base64.getMimeDecoder()` does the latter.","body":"<i>If</i> that PKCS8 uses an old-style i.e. single-OID scheme (not PBES2), which I don&#39;t know and the AWS page doesn&#39;t say, you need to de-PEM it before feeding to <code>EncryptedPrivateKeyInfo</code>: remove the header/trailer lines entirely, and de-base64 the rest either removing or ignoring the linebreaks; <code>java.util.Base64.getMimeDecoder()</code> does the latter."}],"answers":[{"tags":[],"owner":{"account_id":10307502,"reputation":1,"user_id":7604301,"display_name":"pranavan sivasundaram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680071552,"creation_date":1680060863,"answer_id":75872906,"question_id":75237165,"body_markdown":"    public PrivateKey readPrivateKey(String privateKeyContent, String passPhrase){\r\n    \r\n      PrivateKey privateKey = null;\r\n    \r\n      try {\r\n        PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\r\n    \r\n        byte[] content = pemReader.readPemObject().getContent();\r\n    \r\n        EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\r\n    \r\n        Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n    \r\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\r\n    \r\n        SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n    \r\n        Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n    \r\n        AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n    \r\n        cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n    \r\n        KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n    \r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \r\n        privateKey = kf.generatePrivate(pkcs8KeySpec);\r\n    \r\n      } catch (Exception e) {}\r\n    \r\n      return privateKey;\r\n    }","title":"Decrypting password encrypted private key in Java","body":"<pre><code>public PrivateKey readPrivateKey(String privateKeyContent, String passPhrase){\n\n  PrivateKey privateKey = null;\n\n  try {\n    PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\n\n    byte[] content = pemReader.readPemObject().getContent();\n\n    EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\n\n    Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n\n    PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\n\n    SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n\n    Key pbeKey = secFac.generateSecret(pbeKeySpec);\n\n    AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n\n    cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n\n    KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n    privateKey = kf.generatePrivate(pkcs8KeySpec);\n\n  } catch (Exception e) {}\n\n  return privateKey;\n}\n</code></pre>\n"}],"owner":{"account_id":1151061,"reputation":1499,"user_id":1132774,"accept_rate":67,"display_name":"KTB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680071552,"creation_date":1674664905,"question_id":75237165,"body_markdown":"I&#39;ve exported an AWS certificate using the methods described in this tutorial:\r\nhttps://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html\r\n\r\nBut I want to decrypt the password encrypted private key in order to use it in my program. I wrote the following code to do that:\r\n\r\n    String private_key = &quot;&lt;encrypted private key of the form -----BEGIN ENCRYPTED PRIVATE KEY-----&gt;&quot;\r\n    String passwd = &quot;password used to export the key&quot;\r\n\r\n           try{\r\n                EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(private_key.getBytes());\r\n    \r\n                Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n                PBEKeySpec pbeKeySpec = new PBEKeySpec(passwd.toCharArray());\r\n                SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n                Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n                AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n                cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n                KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                return kf.generatePrivate(pkcs8KeySpec);\r\n            }\r\n            catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n \r\nBut this code throws:\r\n**java.io.IOException: extra data given to DerValue constructor**\r\n\r\nAny suggestions what I&#39;m missing here?","title":"Decrypting password encrypted private key in Java","body":"<p>I've exported an AWS certificate using the methods described in this tutorial:\n<a href=\"https://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html</a></p>\n<p>But I want to decrypt the password encrypted private key in order to use it in my program. I wrote the following code to do that:</p>\n<pre><code>String private_key = &quot;&lt;encrypted private key of the form -----BEGIN ENCRYPTED PRIVATE KEY-----&gt;&quot;\nString passwd = &quot;password used to export the key&quot;\n\n       try{\n            EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(private_key.getBytes());\n\n            Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n            PBEKeySpec pbeKeySpec = new PBEKeySpec(passwd.toCharArray());\n            SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n            Key pbeKey = secFac.generateSecret(pbeKeySpec);\n            AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n            cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n            KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n            return kf.generatePrivate(pkcs8KeySpec);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>But this code throws:\n<strong>java.io.IOException: extra data given to DerValue constructor</strong></p>\n<p>Any suggestions what I'm missing here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680070389,"post_id":75873687,"comment_id":133832403,"body_markdown":"Look at your declaration of `valueDto` - it&#39;s the raw type. You&#39;re not specifying a generic type argument anywhere.","body":"Look at your declaration of <code>valueDto</code> - it&#39;s the raw type. You&#39;re not specifying a generic type argument anywhere."}],"answers":[{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680070837,"creation_date":1680070837,"answer_id":75873767,"question_id":75873687,"body_markdown":"You should specify generic type during object creation.\r\nHere is example with lombok builder with generic:\r\n```java\r\n        ValueDto&lt;String&gt; valueDto = ValueDto.&lt;String&gt;builder()\r\n                .keySet(&quot;1234&quot;)\r\n                .value(&quot;anotherDto&quot;)\r\n                .build();\r\n```","title":"why generic T return Object type when i use getter in java?","body":"<p>You should specify generic type during object creation.\nHere is example with lombok builder with generic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ValueDto&lt;String&gt; valueDto = ValueDto.&lt;String&gt;builder()\n                .keySet(&quot;1234&quot;)\n                .value(&quot;anotherDto&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":28155021,"reputation":1,"user_id":21515868,"display_name":"Dobbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680070837,"creation_date":1680070162,"question_id":75873687,"body_markdown":"**DTO class**\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ValueDto &lt;T&gt;{\r\n    @NotNull\r\n    private String keySet;\r\n\r\n    @NotNull\r\n    private T value;\r\n}\r\n```\r\n\r\n\r\n**call service method**\r\n\r\n```\r\nValueDto valueDto = ValueDto.builder()\r\n                .key(&quot;1234&quot;)\r\n                .value(anotherDto)\r\n                .build();\r\n\r\n        service.dtoTest(valueDto);\r\n```\r\n\r\n\r\n**Service class**\r\n\r\n```\r\npublic &lt;T&gt; void dtoTest(@Valid ValueDto valueDto) {\r\nTest test = new Test();\r\n\t\ttest.saveKey(valueDto.getKeySet(), valueDto.getValue());\r\n\t}\r\n```\r\n\r\n\r\nI want to return T type from valueDto.getValue(). but, it was returned Object type. \r\nWhat is the problem?\r\n\r\n","title":"why generic T return Object type when i use getter in java?","body":"<p><strong>DTO class</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ValueDto &lt;T&gt;{\n    @NotNull\n    private String keySet;\n\n    @NotNull\n    private T value;\n}\n</code></pre>\n<p><strong>call service method</strong></p>\n<pre><code>ValueDto valueDto = ValueDto.builder()\n                .key(&quot;1234&quot;)\n                .value(anotherDto)\n                .build();\n\n        service.dtoTest(valueDto);\n</code></pre>\n<p><strong>Service class</strong></p>\n<pre><code>public &lt;T&gt; void dtoTest(@Valid ValueDto valueDto) {\nTest test = new Test();\n        test.saveKey(valueDto.getKeySet(), valueDto.getValue());\n    }\n</code></pre>\n<p>I want to return T type from valueDto.getValue(). but, it was returned Object type.\nWhat is the problem?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1648553,"reputation":3049,"user_id":1519574,"accept_rate":62,"display_name":"Xinchao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680070505,"creation_date":1680070505,"answer_id":75873730,"question_id":75873633,"body_markdown":"\r\nThe gradle error does suggest some possible reason:\r\n\r\n&gt; The server may not support the client&#39;s requested TLS protocol\r\n&gt; versions: (TLSv1.2, TLSv1.3). You may need to configure the client to\r\n&gt; allow other protocols to be used. See:\r\n&gt; https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\r\n\r\nIf that is the true reason, you need to probably allow TLSv1.1. But given this is maven central, I would expect it should not require any additional configuration for most of the time. \r\n\r\nTry install a different/later version of Java instead of the 1.8 and the Amazon one. Amazon Corretto has its own security patches: \r\n\r\nhttps://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/","title":"Freshly installed gradle doesn&#39;t work showing","body":"<p>The gradle error does suggest some possible reason:</p>\n<blockquote>\n<p>The server may not support the client's requested TLS protocol\nversions: (TLSv1.2, TLSv1.3). You may need to configure the client to\nallow other protocols to be used. See:\n<a href=\"https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties</a></p>\n</blockquote>\n<p>If that is the true reason, you need to probably allow TLSv1.1. But given this is maven central, I would expect it should not require any additional configuration for most of the time.</p>\n<p>Try install a different/later version of Java instead of the 1.8 and the Amazon one. Amazon Corretto has its own security patches:</p>\n<p><a href=\"https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/</a></p>\n"}],"owner":{"account_id":23947761,"reputation":1,"user_id":19755024,"display_name":"Sebastian Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680070505,"creation_date":1680069674,"question_id":75873633,"body_markdown":"I was wondering how to solve this:\r\n\r\n```\r\n**.local ~/Hello  **\r\n╰─➤  gradle run\r\n╰─➤  gradle run   \r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.google.guava:guava:29.0-jre.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.google.guava:guava:29.0-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 405ms\r\n1 actionable task: 1 executed\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n**java -version **                                                                                          1 ↵\r\nopenjdk version &quot;1.8.0_362&quot;\r\nOpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08)\r\nOpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode)\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to run the following test file.\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java project to get you started.\r\n * For more details take a look at the Java Quickstart chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/6.5/userguide/tutorial_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the java plugin to add support for Java\r\n    id &#39;java&#39;\r\n\r\n    // Apply the application plugin to add support for building a CLI application.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use jcenter for resolving dependencies.\r\n    // You can declare any Maven/Ivy/file repository here.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:29.0-jre&#39;\r\n\r\n    // Use JUnit Jupiter API for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application\r\n    mainClass = &#39;hello.App&#39;\r\n}\r\n\r\ntest {\r\n    // Use junit platform for unit tests\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n**gradle -version **                                                                                        \r\n\r\n------------------------------------------------------------\r\nGradle 8.0.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-03-03 16:41:37 UTC\r\nRevision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.13\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_362 (Amazon.com Inc. 25.362-b08)\r\nOS:           Mac OS X 13.2.1 aarch64`\r\n\r\nThanks a lot.\r\n","title":"Freshly installed gradle doesn&#39;t work showing","body":"<p>I was wondering how to solve this:</p>\n<pre><code>**.local ~/Hello  **\n╰─➤  gradle run\n╰─➤  gradle run   \n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.google.guava:guava:29.0-jre.\n     Required by:\n         project :\n      &gt; Could not resolve com.google.guava:guava:29.0-jre.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 405ms\n1 actionable task: 1 executed\n\n</code></pre>\n<pre><code>\n**java -version **                                                                                          1 ↵\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08)\nOpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode)\n</code></pre>\n<p>I'm trying to run the following test file.</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java project to get you started.\n * For more details take a look at the Java Quickstart chapter in the Gradle\n * User Manual available at https://docs.gradle.org/6.5/userguide/tutorial_java_projects.html\n */\n\nplugins {\n    // Apply the java plugin to add support for Java\n    id 'java'\n\n    // Apply the application plugin to add support for building a CLI application.\n    id 'application'\n}\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    mavenCentral()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:29.0-jre'\n\n    // Use JUnit Jupiter API for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n}\n\napplication {\n    // Define the main class for the application\n    mainClass = 'hello.App'\n}\n\ntest {\n    // Use junit platform for unit tests\n    useJUnitPlatform()\n}\n</code></pre>\n<p>**gradle -version **</p>\n<hr />\n<h2>Gradle 8.0.2</h2>\n<p>Build time:   2023-03-03 16:41:37 UTC\nRevision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d</p>\n<p>Kotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_362 (Amazon.com Inc. 25.362-b08)\nOS:           Mac OS X 13.2.1 aarch64`</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","flutter","android-studio"],"comments":[{"owner":{"account_id":21404218,"reputation":1154,"user_id":15765725,"display_name":"MANISH DAYMA"},"score":1,"creation_date":1680069973,"post_id":75873645,"comment_id":133832326,"body_markdown":"https://stackoverflow.com/questions/75108707/android-studio-electric-eel-javahome-seems-to-be-invalid","body":"<a href=\"https://stackoverflow.com/questions/75108707/android-studio-electric-eel-javahome-seems-to-be-invalid\" title=\"android studio electric eel javahome seems to be invalid\">stackoverflow.com/questions/75108707/&hellip;</a>"}],"owner":{"account_id":26917556,"reputation":157,"user_id":20492111,"display_name":"sadegh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680069809,"creation_date":1680069809,"question_id":75873645,"body_markdown":"Hi I Update my android Studio and now when I want run my flutter project I got this error:\r\nhow can I fix this?\r\nplease help\r\n\r\n\r\n&gt; Launching lib\\main.dart on Android SDK built for x86 in debug mode...\r\n&gt; Running Gradle task &#39;assembleDebug&#39;...\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program\r\n&gt; Files\\Android\\Android Studio\\jre\\bin\\java.exe\r\n&gt; \r\n&gt; * Try:\r\n&gt; &gt; Run with --stacktrace option to get the stack trace.\r\n&gt; &gt; Run with --info or --debug option to get more log output.\r\n&gt; &gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org Exception: Gradle task assembleDebug failed with exit code 1","title":"How to solve error java executable in android studio?","body":"<p>Hi I Update my android Studio and now when I want run my flutter project I got this error:\nhow can I fix this?\nplease help</p>\n<blockquote>\n<p>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program\nFiles\\Android\\Android Studio\\jre\\bin\\java.exe</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a> Exception: Gradle task assembleDebug failed with exit code 1</li>\n</ul>\n</blockquote>\n"},{"tags":["java","google-drive-api","google-drive-shared-drive","flysystem-google-drive"],"comments":[{"owner":{"account_id":25872105,"reputation":1405,"user_id":19602805,"display_name":"Bryan Monterrosa"},"score":0,"creation_date":1680095888,"post_id":75873617,"comment_id":133838936,"body_markdown":"I tired the code with a test Google Workspace domain and I was able to get folders and its parents as long as the service account has access to the files, for example, in the structure Folder 1 &gt; Folder 2 &gt; Folder 3 the SA was given access to Folder 1 and it was able to create the path containing Folder 1/Folder 2/Folder 3/, could you share a basic example of your current folder setup and the expected output?","body":"I tired the code with a test Google Workspace domain and I was able to get folders and its parents as long as the service account has access to the files, for example, in the structure Folder 1 &gt; Folder 2 &gt; Folder 3 the SA was given access to Folder 1 and it was able to create the path containing Folder 1/Folder 2/Folder 3/, could you share a basic example of your current folder setup and the expected output?"},{"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"score":0,"creation_date":1680208671,"post_id":75873617,"comment_id":133864051,"body_markdown":"ROOT has 2 folders DD, AE. In these each folders I have FAR1, FAR2, FAR3 and inside this each folder there are folders like FAR1_1 … FAR_N. Within this folder there are pdf files in it","body":"ROOT has 2 folders DD, AE. In these each folders I have FAR1, FAR2, FAR3 and inside this each folder there are folders like FAR1_1 … FAR_N. Within this folder there are pdf files in it"}],"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680069571,"creation_date":1680069571,"question_id":75873617,"body_markdown":"I have a Java program which I use to fetch folders and files from Google Drive. I&#39;m building the path for the file by traversing the parents of each file. \r\nWhen I create a folder in one of my personal G Drives, and share with the SA email, it gives correct parents and path. \r\n\r\nFrom my organization they have shared a folder with me and I&#39;ve added the SA email in shared list as an Editor. but some of the parents are not fetching.\r\n\r\n__Code to fetch folders__\r\n\r\n    Drive.Files.List foldersRequest = service.files().list()\r\n                .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\r\n                .setQ(&quot;trashed=false and mimeType=&#39;application/vnd.google-apps.folder&#39;&quot;)\r\n                .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,&quot; +\r\n                        &quot;createdTime)&quot;).setPageToken(nextPageTokenFolders);\r\n\r\n\r\n__Code to fetch files__\r\n\r\n    Drive.Files.List filesRequest = service.files().list()\r\n                .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\r\n                .setQ(&quot;trashed=false and mimeType=&#39;application/pdf&#39;&quot;)\r\n                .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,createdTime)&quot;)\r\n                .setPageToken(nextPageTokenFiles);\r\n\r\n\r\n__Code to get full path__\r\n\r\n    private static String getFullPath(List&lt;File&gt; files, String parentId) {\r\n        String path = &quot;&quot;;\r\n        String currentFilePath = &quot;&quot;;\r\n        for (File file : files) {\r\n            if (file.getParents() != null) {\r\n                if (file.getId().equals(parentId)) {\r\n                    path = path.concat(currentFilePath + &quot;/&quot; + file.getName());\r\n                    parentId = file.getParents().get(0);\r\n                }\r\n            }\r\n        }\r\n\r\n        String[] completePath = path.split(&quot;/&quot;);\r\n        String finalPath = &quot;&quot;;\r\n        for (int i = completePath.length - 1; i &gt;= 0; i--) {\r\n            finalPath = finalPath.concat(completePath[i] + &quot;/&quot;);\r\n        }\r\n\r\n        return finalPath.substring(0, finalPath.length() - 1);\r\n    }\r\n\r\nWith this code I&#39;m able to get the corrects path for folders in personal accounts. But it misses some parent folders when I&#39;m running the same code with organization G Drive folder. The service account access has set as Editor.\r\n\r\n","title":"Google Drive Java API file parents are not fetching correctly","body":"<p>I have a Java program which I use to fetch folders and files from Google Drive. I'm building the path for the file by traversing the parents of each file.\nWhen I create a folder in one of my personal G Drives, and share with the SA email, it gives correct parents and path.</p>\n<p>From my organization they have shared a folder with me and I've added the SA email in shared list as an Editor. but some of the parents are not fetching.</p>\n<p><strong>Code to fetch folders</strong></p>\n<pre><code>Drive.Files.List foldersRequest = service.files().list()\n            .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\n            .setQ(&quot;trashed=false and mimeType='application/vnd.google-apps.folder'&quot;)\n            .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,&quot; +\n                    &quot;createdTime)&quot;).setPageToken(nextPageTokenFolders);\n</code></pre>\n<p><strong>Code to fetch files</strong></p>\n<pre><code>Drive.Files.List filesRequest = service.files().list()\n            .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\n            .setQ(&quot;trashed=false and mimeType='application/pdf'&quot;)\n            .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,createdTime)&quot;)\n            .setPageToken(nextPageTokenFiles);\n</code></pre>\n<p><strong>Code to get full path</strong></p>\n<pre><code>private static String getFullPath(List&lt;File&gt; files, String parentId) {\n    String path = &quot;&quot;;\n    String currentFilePath = &quot;&quot;;\n    for (File file : files) {\n        if (file.getParents() != null) {\n            if (file.getId().equals(parentId)) {\n                path = path.concat(currentFilePath + &quot;/&quot; + file.getName());\n                parentId = file.getParents().get(0);\n            }\n        }\n    }\n\n    String[] completePath = path.split(&quot;/&quot;);\n    String finalPath = &quot;&quot;;\n    for (int i = completePath.length - 1; i &gt;= 0; i--) {\n        finalPath = finalPath.concat(completePath[i] + &quot;/&quot;);\n    }\n\n    return finalPath.substring(0, finalPath.length() - 1);\n}\n</code></pre>\n<p>With this code I'm able to get the corrects path for folders in personal accounts. But it misses some parent folders when I'm running the same code with organization G Drive folder. The service account access has set as Editor.</p>\n"},{"tags":["java","unicode","encoding"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1340308311,"post_id":11145681,"comment_id":14611977,"body_markdown":"You&#39;re sure?  You don&#39;t suppose that the characters are simply getting printed as Unicode escapes?","body":"You&#39;re sure?  You don&#39;t suppose that the characters are simply getting printed as Unicode escapes?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":7,"creation_date":1340308459,"post_id":11145681,"comment_id":14612051,"body_markdown":"`\\u0048` *is* `H` -- they are one and the same.  Strings in Java are in Unicode.","body":"<code>\\u0048</code> <i>is</i> <code>H</code> -- they are one and the same.  Strings in Java are in Unicode."},{"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"score":0,"creation_date":1340309150,"post_id":11145681,"comment_id":14612343,"body_markdown":"I guess the problem might be with my java to unix api - the string i get is something like that \\u3123\\u3255_file_name.txt. And java don&#39;t covert it.","body":"I guess the problem might be with my java to unix api - the string i get is something like that \\u3123\\u3255_file_name.txt. And java don&#39;t covert it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1340311904,"post_id":11145681,"comment_id":14613578,"body_markdown":"Most likely you have a problem with the code page conversion when translating Java Unicode strings to the file system character set.","body":"Most likely you have a problem with the code page conversion when translating Java Unicode strings to the file system character set."},{"owner":{"account_id":27779,"reputation":18884,"user_id":73656,"accept_rate":53,"display_name":"Pavel Radzivilovsky"},"score":3,"creation_date":1340378756,"post_id":11145681,"comment_id":14634237,"body_markdown":"UTF-8 _is_ a unicode encoding.","body":"UTF-8 <i>is</i> a unicode encoding."},{"owner":{"account_id":2126511,"reputation":683,"user_id":2667387,"accept_rate":83,"display_name":"DustByte"},"score":8,"creation_date":1453888742,"post_id":11145681,"comment_id":57793100,"body_markdown":"This is not an answer to your question but let me clarify the difference between Unicode and UTF-8, which many people seem to muddle up. Unicode is a particular *one-to-one* mapping between characters as we know them (`a`, `b`, `$`, `&#163;`, etc) to the integers. E.g., the symbol `A` is given number 65, and `\\n` is 10. This has *nothing* to do with how strings or characters are represented on disk or in a text file say. UTF-8 is a specification (i.e. encoding) of how these integers (i.e. symbols) are represented as bytes (bit strings) so they can be unambiguously written and read from say a file.","body":"This is not an answer to your question but let me clarify the difference between Unicode and UTF-8, which many people seem to muddle up. Unicode is a particular <i>one-to-one</i> mapping between characters as we know them (<code>a</code>, <code>b</code>, <code>$</code>, <code>&#163;</code>, etc) to the integers. E.g., the symbol <code>A</code> is given number 65, and <code>\\n</code> is 10. This has <i>nothing</i> to do with how strings or characters are represented on disk or in a text file say. UTF-8 is a specification (i.e. encoding) of how these integers (i.e. symbols) are represented as bytes (bit strings) so they can be unambiguously written and read from say a file."}],"answers":[{"tags":[],"owner":{"account_id":179030,"reputation":13845,"user_id":411393,"accept_rate":100,"display_name":"QuantumMechanic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340308633,"creation_date":1340308633,"answer_id":11145810,"question_id":11145681,"body_markdown":"It&#39;s not totally clear from your question, but I&#39;m assuming you saying that you have a file where each line of that file is a filename.  And each filename is something like this:\r\n\r\n    \\u0048\\u0065\\u006C\\u006C\\u006F\r\n\r\nIn other words, the characters in the file of filenames are `\\`, `u`, `0`, `0`, `4`, `8` and so on.\r\n\r\nIf so, what you&#39;re seeing is expected.  Java only translates `\\uXXXX` sequences in string literals in source code (and when reading in stored `Properties` objects).  When you read the contents you file you will have a string consisting of the characters `\\`, `u`, `0`, `0`, `4`, `8` and so on and **not** the string `Hello`.\r\n\r\nSo you will need to parse that string to extract the `0048`, `0065`, etc. pieces and then convert them to `char`s and make a string from those `char`s and then pass that string to the routine that opens the file.\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>It's not totally clear from your question, but I'm assuming you saying that you have a file where each line of that file is a filename.  And each filename is something like this:</p>\n\n<pre><code>\\u0048\\u0065\\u006C\\u006C\\u006F\n</code></pre>\n\n<p>In other words, the characters in the file of filenames are <code>\\</code>, <code>u</code>, <code>0</code>, <code>0</code>, <code>4</code>, <code>8</code> and so on.</p>\n\n<p>If so, what you're seeing is expected.  Java only translates <code>\\uXXXX</code> sequences in string literals in source code (and when reading in stored <code>Properties</code> objects).  When you read the contents you file you will have a string consisting of the characters <code>\\</code>, <code>u</code>, <code>0</code>, <code>0</code>, <code>4</code>, <code>8</code> and so on and <strong>not</strong> the string <code>Hello</code>.</p>\n\n<p>So you will need to parse that string to extract the <code>0048</code>, <code>0065</code>, etc. pieces and then convert them to <code>char</code>s and make a string from those <code>char</code>s and then pass that string to the routine that opens the file.</p>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"down_vote_count":7,"up_vote_count":62,"is_accepted":true,"score":55,"last_activity_date":1340311778,"creation_date":1340308879,"answer_id":11145854,"question_id":11145681,"body_markdown":"Technically doing:\r\n\r\n    String myString = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n\r\nautomatically converts it to `&quot;Hello World&quot;`, so I assume you are reading in the string from some file. In order to convert it to &quot;Hello&quot; you&#39;ll have to parse the text into the separate unicode digits, (take the `\\uXXXX` and just get `XXXX`) then do `Integer.ParseInt(XXXX, 16)` to get a hex value and then case that to `char` to get the actual character.\r\n\r\n**Edit: Some code to accomplish this:**\r\n\r\n    String str = myString.split(&quot; &quot;)[0];\r\n    str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n    String[] arr = str.split(&quot;u&quot;);\r\n    String text = &quot;&quot;;\r\n    for(int i = 1; i &lt; arr.length; i++){\r\n       \tint hexVal = Integer.parseInt(arr[i], 16);\r\n       \ttext += (char)hexVal;\r\n    }\r\n    // Text will now have Hello","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Technically doing:</p>\n\n<pre><code>String myString = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\n</code></pre>\n\n<p>automatically converts it to <code>\"Hello World\"</code>, so I assume you are reading in the string from some file. In order to convert it to \"Hello\" you'll have to parse the text into the separate unicode digits, (take the <code>\\uXXXX</code> and just get <code>XXXX</code>) then do <code>Integer.ParseInt(XXXX, 16)</code> to get a hex value and then case that to <code>char</code> to get the actual character.</p>\n\n<p><strong>Edit: Some code to accomplish this:</strong></p>\n\n<pre><code>String str = myString.split(\" \")[0];\nstr = str.replace(\"\\\\\",\"\");\nString[] arr = str.split(\"u\");\nString text = \"\";\nfor(int i = 1; i &lt; arr.length; i++){\n    int hexVal = Integer.parseInt(arr[i], 16);\n    text += (char)hexVal;\n}\n// Text will now have Hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2253500,"reputation":1478,"user_id":1985234,"display_name":"Tony"},"down_vote_count":2,"up_vote_count":115,"is_accepted":false,"score":113,"last_activity_date":1465632042,"creation_date":1358371761,"answer_id":14368185,"question_id":11145681,"body_markdown":"The [Apache Commons Lang][1] **StringEscapeUtils.unescapeJava()** can decode it properly. \r\n\r\n    import org.apache.commons.lang.StringEscapeUtils;\r\n\r\n\t@Test\r\n\tpublic void testUnescapeJava() {\r\n\t\tString sJava=&quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F&quot;;\r\n\t\tSystem.out.println(&quot;StringEscapeUtils.unescapeJava(sJava):\\n&quot; + StringEscapeUtils.unescapeJava(sJava));\r\n\t}\r\n\r\n\r\n     output:\r\n     StringEscapeUtils.unescapeJava(sJava):\r\n     Hello\r\n\r\n\r\n  [1]: http://www.mvnrepository.com/artifact/commons-lang/commons-lang/2.6","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>The <a href=\"http://www.mvnrepository.com/artifact/commons-lang/commons-lang/2.6\">Apache Commons Lang</a> <strong>StringEscapeUtils.unescapeJava()</strong> can decode it properly. </p>\n\n<pre><code>import org.apache.commons.lang.StringEscapeUtils;\n\n@Test\npublic void testUnescapeJava() {\n    String sJava=\"\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F\";\n    System.out.println(\"StringEscapeUtils.unescapeJava(sJava):\\n\" + StringEscapeUtils.unescapeJava(sJava));\n}\n\n\n output:\n StringEscapeUtils.unescapeJava(sJava):\n Hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":420026,"reputation":95102,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"down_vote_count":3,"up_vote_count":38,"is_accepted":false,"score":35,"last_activity_date":1583573281,"creation_date":1371738472,"answer_id":17216293,"question_id":11145681,"body_markdown":"You can use `StringEscapeUtils` from [Apache Commons Lang][1], i.e.:\r\n\r\n\r\n    String Title = StringEscapeUtils.unescapeJava(&quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F&quot;);\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>You can use <code>StringEscapeUtils</code> from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"noreferrer\">Apache Commons Lang</a>, i.e.:</p>\n\n<pre><code>String Title = StringEscapeUtils.unescapeJava(\"\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F\");\n</code></pre>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":3156594,"reputation":3921,"user_id":2668869,"display_name":"andrew pate"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1434563854,"creation_date":1395180759,"answer_id":22492125,"question_id":11145681,"body_markdown":"This simple method will work for most cases, but would trip up over something like &quot;u005Cu005C&quot; which should decode to the string &quot;\\u0048&quot; but would actually decode &quot;H&quot; as the first pass produces &quot;\\u0048&quot; as the working string which then gets processed again by the while loop.\r\n\r\n\r\n\tstatic final String decode(final String in)\r\n\t{\r\n\t\tString working = in;\r\n\t\tint index;\r\n\t\tindex = working.indexOf(&quot;\\\\u&quot;);\r\n\t\twhile(index &gt; -1)\r\n\t\t{\r\n\t\t\tint length = working.length();\r\n\t\t\tif(index &gt; (length-6))break;\r\n\t\t\tint numStart = index + 2;\r\n\t\t\tint numFinish = numStart + 4;\r\n\t\t\tString substring = working.substring(numStart, numFinish);\r\n\t\t\tint number = Integer.parseInt(substring,16);\r\n\t\t\tString stringStart = working.substring(0, index);\r\n\t\t\tString stringEnd   = working.substring(numFinish);\r\n\t\t\tworking = stringStart + ((char)number) + stringEnd;\r\n\t\t\tindex = working.indexOf(&quot;\\\\u&quot;);\r\n\t\t}\r\n\t\treturn working;\r\n\t}\r\n\r\n\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>This simple method will work for most cases, but would trip up over something like \"u005Cu005C\" which should decode to the string \"\\u0048\" but would actually decode \"H\" as the first pass produces \"\\u0048\" as the working string which then gets processed again by the while loop.</p>\n\n<pre><code>static final String decode(final String in)\n{\n    String working = in;\n    int index;\n    index = working.indexOf(\"\\\\u\");\n    while(index &gt; -1)\n    {\n        int length = working.length();\n        if(index &gt; (length-6))break;\n        int numStart = index + 2;\n        int numFinish = numStart + 4;\n        String substring = working.substring(numStart, numFinish);\n        int number = Integer.parseInt(substring,16);\n        String stringStart = working.substring(0, index);\n        String stringEnd   = working.substring(numFinish);\n        working = stringStart + ((char)number) + stringEnd;\n        index = working.indexOf(\"\\\\u\");\n    }\n    return working;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139077,"reputation":1494,"user_id":3394945,"accept_rate":40,"display_name":"Hao"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1401310997,"creation_date":1401310997,"answer_id":23921820,"question_id":11145681,"body_markdown":"try\r\n\r\n    private static final Charset UTF_8 = Charset.forName(&quot;UTF-8&quot;);\r\n    private String forceUtf8Coding(String input) {return new String(input.getBytes(UTF_8), UTF_8))}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>try</p>\n\n<pre><code>private static final Charset UTF_8 = Charset.forName(\"UTF-8\");\nprivate String forceUtf8Coding(String input) {return new String(input.getBytes(UTF_8), UTF_8))}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1038812,"reputation":8270,"user_id":1332872,"accept_rate":56,"display_name":"ssuukk"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1421239309,"creation_date":1421239309,"answer_id":27943212,"question_id":11145681,"body_markdown":"Shorter version:\r\n\r\n\tpublic static String unescapeJava(String escaped) {\r\n\t\tif(escaped.indexOf(&quot;\\\\u&quot;)==-1)\r\n\t\t\treturn escaped;\r\n\t\t\r\n\t\tString processed=&quot;&quot;;\r\n\t\t\r\n\t\tint position=escaped.indexOf(&quot;\\\\u&quot;);\r\n\t\twhile(position!=-1) {\r\n\t\t\tif(position!=0)\r\n\t\t\t\tprocessed+=escaped.substring(0,position);\r\n\t\t\tString token=escaped.substring(position+2,position+6);\r\n\t\t\tescaped=escaped.substring(position+6);\r\n\t\t\tprocessed+=(char)Integer.parseInt(token,16);\r\n\t\t\tposition=escaped.indexOf(&quot;\\\\u&quot;);\r\n\t\t}\r\n\t\tprocessed+=escaped;\r\n\t\t\r\n\t\treturn processed;\r\n\t}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Shorter version:</p>\n\n<pre><code>public static String unescapeJava(String escaped) {\n    if(escaped.indexOf(\"\\\\u\")==-1)\n        return escaped;\n\n    String processed=\"\";\n\n    int position=escaped.indexOf(\"\\\\u\");\n    while(position!=-1) {\n        if(position!=0)\n            processed+=escaped.substring(0,position);\n        String token=escaped.substring(position+2,position+6);\n        escaped=escaped.substring(position+6);\n        processed+=(char)Integer.parseInt(token,16);\n        position=escaped.indexOf(\"\\\\u\");\n    }\n    processed+=escaped;\n\n    return processed;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":361875,"reputation":3172,"user_id":704749,"accept_rate":80,"display_name":"Ashkan Ghodrat"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1497156814,"creation_date":1448140341,"answer_id":33848624,"question_id":11145681,"body_markdown":"one easy way i know using JsonObject:\r\n\r\n    try {\r\n    \tJSONObject json = new JSONObject();\r\n    \tjson.put(&quot;string&quot;, myString);\r\n    \tString converted = json.getString(&quot;string&quot;);\r\n    \r\n    } catch (JSONException e) {\r\n    \te.printStackTrace();\r\n    }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>one easy way i know using JsonObject:</p>\n\n<pre><code>try {\n    JSONObject json = new JSONObject();\n    json.put(\"string\", myString);\n    String converted = json.getString(\"string\");\n\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495452158,"creation_date":1495452158,"answer_id":44111599,"question_id":11145681,"body_markdown":"Actually, I wrote an Open Source library that contains some utilities. One of them is converting a Unicode sequence to String and vise-versa. I found it very useful. Here is the quote from the article about this library about Unicode converter:&lt;br&gt;&lt;br&gt;\r\n\r\n&gt; Class StringUnicodeEncoderDecoder has methods that can convert a\r\n&gt; String (in any language) into a sequence of Unicode characters and\r\n&gt; vise-versa. For example a String &quot;Hello World&quot; will be converted into\r\n&gt; \r\n&gt; &quot;\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020 \\u0057\\u006f\\u0072\\u006c\\u0064&quot;\r\n&gt; \r\n&gt; and may be restored back.&lt;br&gt;\r\n\r\nHere is the link to entire article that explains what Utilities the library has and how to get the library to use it. It is available as Maven artifact or as source from Github. It is very easy to use. [Open Source Java library with stack trace filtering, Silent String parsing Unicode converter and Version comparison][1]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Actually, I wrote an Open Source library that contains some utilities. One of them is converting a Unicode sequence to String and vise-versa. I found it very useful. Here is the quote from the article about this library about Unicode converter:<br><br></p>\n\n<blockquote>\n  <p>Class StringUnicodeEncoderDecoder has methods that can convert a\n  String (in any language) into a sequence of Unicode characters and\n  vise-versa. For example a String \"Hello World\" will be converted into</p>\n  \n  <p>\"\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020 \\u0057\\u006f\\u0072\\u006c\\u0064\"</p>\n  \n  <p>and may be restored back.<br></p>\n</blockquote>\n\n<p>Here is the link to entire article that explains what Utilities the library has and how to get the library to use it. It is available as Maven artifact or as source from Github. It is very easy to use. <a href=\"https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman\" rel=\"nofollow noreferrer\">Open Source Java library with stack trace filtering, Silent String parsing Unicode converter and Version comparison</a></p>\n"},{"tags":[],"owner":{"account_id":7879138,"reputation":345,"user_id":5953870,"display_name":"AndyW58"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1505352453,"creation_date":1505352453,"answer_id":46209109,"question_id":11145681,"body_markdown":"Here is my solution...\r\n\r\n                    String decodedName = JwtJson.substring(startOfName, endOfName);\r\n\r\n                    StringBuilder builtName = new StringBuilder();\r\n\r\n                    int i = 0;\r\n\r\n                    while ( i &lt; decodedName.length() )\r\n                    {\r\n                        if ( decodedName.substring(i).startsWith(&quot;\\\\u&quot;))\r\n                        {\r\n                            i=i+2;\r\n                            builtName.append(Character.toChars(Integer.parseInt(decodedName.substring(i,i+4), 16)));\r\n                            i=i+4;\r\n                        }\r\n                        else\r\n                        {\r\n                            builtName.append(decodedName.charAt(i));\r\n                            i = i+1;\r\n                        }\r\n                    };\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Here is my solution...</p>\n\n<pre><code>                String decodedName = JwtJson.substring(startOfName, endOfName);\n\n                StringBuilder builtName = new StringBuilder();\n\n                int i = 0;\n\n                while ( i &lt; decodedName.length() )\n                {\n                    if ( decodedName.substring(i).startsWith(\"\\\\u\"))\n                    {\n                        i=i+2;\n                        builtName.append(Character.toChars(Integer.parseInt(decodedName.substring(i,i+4), 16)));\n                        i=i+4;\n                    }\n                    else\n                    {\n                        builtName.append(decodedName.charAt(i));\n                        i = i+1;\n                    }\n                };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1583700836,"creation_date":1520182921,"answer_id":49097958,"question_id":11145681,"body_markdown":"**Solution for Kotlin:**\r\n\r\n    val sourceContent = File(&quot;test.txt&quot;).readText(Charset.forName(&quot;windows-1251&quot;))\r\n    val result = String(sourceContent.toByteArray())\r\n\r\nKotlin uses UTF-8 everywhere as default encoding.\r\n\r\nMethod `toByteArray()` has default argument - `Charsets.UTF_8`.","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p><strong>Solution for Kotlin:</strong></p>\n\n<pre><code>val sourceContent = File(\"test.txt\").readText(Charset.forName(\"windows-1251\"))\nval result = String(sourceContent.toByteArray())\n</code></pre>\n\n<p>Kotlin uses UTF-8 everywhere as default encoding.</p>\n\n<p>Method <code>toByteArray()</code> has default argument - <code>Charsets.UTF_8</code>.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531239761,"creation_date":1531239761,"answer_id":51270108,"question_id":11145681,"body_markdown":"An alternate way of accomplishing this could be to make use of [**`chars()`**](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#chars()) introduced with Java 9, this can be used to iterate over the characters making sure any char which maps to a [surrogate code point](https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#unicode) is passed through uninterpreted. This can be used as:-\r\n\r\n    String myString = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n    myString.chars().forEach(a -&gt; System.out.print((char)a));\r\n    // would print &quot;Hello World&quot;","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>An alternate way of accomplishing this could be to make use of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\"><strong><code>chars()</code></strong></a> introduced with Java 9, this can be used to iterate over the characters making sure any char which maps to a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">surrogate code point</a> is passed through uninterpreted. This can be used as:-</p>\n\n<pre><code>String myString = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\nmyString.chars().forEach(a -&gt; System.out.print((char)a));\n// would print \"Hello World\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583311275,"creation_date":1542189008,"answer_id":53297249,"question_id":11145681,"body_markdown":"Updates regarding answers suggesting using The Apache Commons Lang&#39;s:\r\n [StringEscapeUtils.unescapeJava()][1] - it was deprecated, \r\n\r\n&gt;**Deprecated.** \r\nas of 3.6, use commons-text StringEscapeUtils instead\r\n\r\nThe replacement is **Apache Commons Text**&#39;s [StringEscapeUtils.unescapeJava()][2]\r\n\r\n[1]:https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava-java.lang.String-\r\n\r\n[2]:https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Updates regarding answers suggesting using The Apache Commons Lang's:\n <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeJava()</a> - it was deprecated, </p>\n\n<blockquote>\n  <p><strong>Deprecated.</strong> \n  as of 3.6, use commons-text StringEscapeUtils instead</p>\n</blockquote>\n\n<p>The replacement is <strong>Apache Commons Text</strong>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeJava()</a></p>\n"},{"tags":[],"owner":{"account_id":13676611,"reputation":591,"user_id":9867895,"display_name":"lovestackh343"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1548058441,"creation_date":1548058441,"answer_id":54285760,"question_id":11145681,"body_markdown":"I found that many of the answers did not address the issue of &quot;Supplementary Characters&quot;. Here is the correct way to support it. No third-party libraries, pure Java implementation.\r\n\r\nhttp://www.oracle.com/us/technologies/java/supplementary-142654.html\r\n\r\n\r\n    public static String fromUnicode(String unicode) {\r\n        String str = unicode.replace(&quot;\\\\&quot;, &quot;&quot;);\r\n        String[] arr = str.split(&quot;u&quot;);\r\n        StringBuffer text = new StringBuffer();\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            int hexVal = Integer.parseInt(arr[i], 16);\r\n            text.append(Character.toChars(hexVal));\r\n        }\r\n        return text.toString();\r\n    }\r\n\r\n    public static String toUnicode(String text) {\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i = 0; i &lt; text.length(); i++) {\r\n            int codePoint = text.codePointAt(i);\r\n            // Skip over the second char in a surrogate pair\r\n            if (codePoint &gt; 0xffff) {\r\n                i++;\r\n            }\r\n            String hex = Integer.toHexString(codePoint);\r\n            sb.append(&quot;\\\\u&quot;);\r\n            for (int j = 0; j &lt; 4 - hex.length(); j++) {\r\n                sb.append(&quot;0&quot;);\r\n            }\r\n            sb.append(hex);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Test\r\n    public void toUnicode() {\r\n        System.out.println(toUnicode(&quot;&#128522;&quot;));\r\n        System.out.println(toUnicode(&quot;&#129392;&quot;));\r\n        System.out.println(toUnicode(&quot;Hello World&quot;));\r\n    }\r\n    // output:\r\n    // \\u1f60a\r\n    // \\u1f970\r\n    // \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n\r\n    @Test\r\n    public void fromUnicode() {\r\n        System.out.println(fromUnicode(&quot;\\\\u1f60a&quot;));\r\n        System.out.println(fromUnicode(&quot;\\\\u1f970&quot;));\r\n        System.out.println(fromUnicode(&quot;\\\\u0048\\\\u0065\\\\u006c\\\\u006c\\\\u006f\\\\u0020\\\\u0057\\\\u006f\\\\u0072\\\\u006c\\\\u0064&quot;));\r\n    }\r\n    // output:\r\n    // &#128522;\r\n    // &#129392;\r\n    // Hello World","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I found that many of the answers did not address the issue of \"Supplementary Characters\". Here is the correct way to support it. No third-party libraries, pure Java implementation.</p>\n\n<p><a href=\"http://www.oracle.com/us/technologies/java/supplementary-142654.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/us/technologies/java/supplementary-142654.html</a></p>\n\n<pre><code>public static String fromUnicode(String unicode) {\n    String str = unicode.replace(\"\\\\\", \"\");\n    String[] arr = str.split(\"u\");\n    StringBuffer text = new StringBuffer();\n    for (int i = 1; i &lt; arr.length; i++) {\n        int hexVal = Integer.parseInt(arr[i], 16);\n        text.append(Character.toChars(hexVal));\n    }\n    return text.toString();\n}\n\npublic static String toUnicode(String text) {\n    StringBuffer sb = new StringBuffer();\n    for (int i = 0; i &lt; text.length(); i++) {\n        int codePoint = text.codePointAt(i);\n        // Skip over the second char in a surrogate pair\n        if (codePoint &gt; 0xffff) {\n            i++;\n        }\n        String hex = Integer.toHexString(codePoint);\n        sb.append(\"\\\\u\");\n        for (int j = 0; j &lt; 4 - hex.length(); j++) {\n            sb.append(\"0\");\n        }\n        sb.append(hex);\n    }\n    return sb.toString();\n}\n\n@Test\npublic void toUnicode() {\n    System.out.println(toUnicode(\"😊\"));\n    System.out.println(toUnicode(\"🥰\"));\n    System.out.println(toUnicode(\"Hello World\"));\n}\n// output:\n// \\u1f60a\n// \\u1f970\n// \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\n\n@Test\npublic void fromUnicode() {\n    System.out.println(fromUnicode(\"\\\\u1f60a\"));\n    System.out.println(fromUnicode(\"\\\\u1f970\"));\n    System.out.println(fromUnicode(\"\\\\u0048\\\\u0065\\\\u006c\\\\u006c\\\\u006f\\\\u0020\\\\u0057\\\\u006f\\\\u0072\\\\u006c\\\\u0064\"));\n}\n// output:\n// 😊\n// 🥰\n// Hello World\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31516,"reputation":571,"user_id":86600,"accept_rate":0,"display_name":"neoedmund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565921103,"creation_date":1565921103,"answer_id":57518125,"question_id":11145681,"body_markdown":"I wrote a performanced and error-proof solution:\r\n\r\n    public static final String decode(final String in) {\r\n\t\tint p1 = in.indexOf(&quot;\\\\u&quot;);\r\n\t\tif (p1 &lt; 0)\r\n\t\t\treturn in;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\twhile (true) {\r\n\t\t\tint p2 = p1 + 6;\r\n\t\t\tif (p2 &gt; in.length()) {\r\n\t\t\t\tsb.append(in.subSequence(p1, in.length()));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tint c = Integer.parseInt(in.substring(p1 + 2, p1 + 6), 16);\r\n\t\t\t\tsb.append((char) c);\r\n\t\t\t\tp1 += 6;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tsb.append(in.subSequence(p1, p1 + 2));\r\n\t\t\t\tp1 += 2;\r\n\t\t\t}\r\n\t\t\tint p0 = in.indexOf(&quot;\\\\u&quot;, p1);\r\n\t\t\tif (p0 &lt; 0) {\r\n\t\t\t\tsb.append(in.subSequence(p1, in.length()));\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(in.subSequence(p1, p0));\r\n\t\t\t\tp1 = p0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I wrote a performanced and error-proof solution:</p>\n\n<pre><code>public static final String decode(final String in) {\n    int p1 = in.indexOf(\"\\\\u\");\n    if (p1 &lt; 0)\n        return in;\n    StringBuilder sb = new StringBuilder();\n    while (true) {\n        int p2 = p1 + 6;\n        if (p2 &gt; in.length()) {\n            sb.append(in.subSequence(p1, in.length()));\n            break;\n        }\n        try {\n            int c = Integer.parseInt(in.substring(p1 + 2, p1 + 6), 16);\n            sb.append((char) c);\n            p1 += 6;\n        } catch (Exception e) {\n            sb.append(in.subSequence(p1, p1 + 2));\n            p1 += 2;\n        }\n        int p0 = in.indexOf(\"\\\\u\", p1);\n        if (p0 &lt; 0) {\n            sb.append(in.subSequence(p1, in.length()));\n            break;\n        } else {\n            sb.append(in.subSequence(p1, p0));\n            p1 = p0;\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598991342,"creation_date":1566006900,"answer_id":57532750,"question_id":11145681,"body_markdown":"StringEscapeUtils from org.apache.commons.lang3 library is [deprecated][1] as of 3.6. \r\n\r\nSo you can use their new [commons-text][2] library instead: \r\n\r\n    compile &#39;org.apache.commons:commons-text:1.9&#39;\r\n\r\n    OR\r\n \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n       &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nExample code:\r\n\r\n    org.apache.commons.text.StringEscapeUtils.unescapeJava(escapedString);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.6/index.html\r\n  [2]: http://commons.apache.org/proper/commons-text/","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>StringEscapeUtils from org.apache.commons.lang3 library is <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.6/index.html\" rel=\"nofollow noreferrer\">deprecated</a> as of 3.6.</p>\n<p>So you can use their new <a href=\"http://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">commons-text</a> library instead:</p>\n<pre><code>compile 'org.apache.commons:commons-text:1.9'\n\nOR\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n   &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example code:</p>\n<pre><code>org.apache.commons.text.StringEscapeUtils.unescapeJava(escapedString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65822,"reputation":1879,"user_id":193444,"accept_rate":50,"display_name":"robertokl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583769486,"creation_date":1571416944,"answer_id":58455026,"question_id":11145681,"body_markdown":"Just wanted to contribute my version, using regex:\r\n\r\n    \r\n    private static final String UNICODE_REGEX = &quot;\\\\\\\\u([0-9a-f]{4})&quot;;\r\n    private static final Pattern UNICODE_PATTERN = Pattern.compile(UNICODE_REGEX);\r\n    ...\r\n    String message = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n    Matcher matcher = UNICODE_PATTERN.matcher(message);\r\n    StringBuffer decodedMessage = new StringBuffer();\r\n    while (matcher.find()) {\r\n      matcher.appendReplacement(\r\n          decodedMessage, String.valueOf((char) Integer.parseInt(matcher.group(1), 16)));\r\n    }\r\n    matcher.appendTail(decodedMessage);\r\n    System.out.println(decodedMessage.toString());","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Just wanted to contribute my version, using regex:</p>\n\n<pre><code>private static final String UNICODE_REGEX = \"\\\\\\\\u([0-9a-f]{4})\";\nprivate static final Pattern UNICODE_PATTERN = Pattern.compile(UNICODE_REGEX);\n...\nString message = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\nMatcher matcher = UNICODE_PATTERN.matcher(message);\nStringBuffer decodedMessage = new StringBuffer();\nwhile (matcher.find()) {\n  matcher.appendReplacement(\n      decodedMessage, String.valueOf((char) Integer.parseInt(matcher.group(1), 16)));\n}\nmatcher.appendTail(decodedMessage);\nSystem.out.println(decodedMessage.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17337085,"reputation":19,"user_id":12558786,"display_name":"Wefyns"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1576673876,"creation_date":1576673876,"answer_id":59392607,"question_id":11145681,"body_markdown":"Fast\r\n\r\n     fun unicodeDecode(unicode: String): String {\r\n            val stringBuffer = StringBuilder()\r\n            var i = 0\r\n            while (i &lt; unicode.length) {\r\n                if (i + 1 &lt; unicode.length)\r\n                    if (unicode[i].toString() + unicode[i + 1].toString() == &quot;\\\\u&quot;) {\r\n                        val symbol = unicode.substring(i + 2, i + 6)\r\n                        val c = Integer.parseInt(symbol, 16)\r\n                        stringBuffer.append(c.toChar())\r\n                        i += 5\r\n                    } else stringBuffer.append(unicode[i])\r\n                i++\r\n            }\r\n            return stringBuffer.toString()\r\n        }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Fast</p>\n\n<pre><code> fun unicodeDecode(unicode: String): String {\n        val stringBuffer = StringBuilder()\n        var i = 0\n        while (i &lt; unicode.length) {\n            if (i + 1 &lt; unicode.length)\n                if (unicode[i].toString() + unicode[i + 1].toString() == \"\\\\u\") {\n                    val symbol = unicode.substring(i + 2, i + 6)\n                    val c = Integer.parseInt(symbol, 16)\n                    stringBuffer.append(c.toChar())\n                    i += 5\n                } else stringBuffer.append(unicode[i])\n            i++\n        }\n        return stringBuffer.toString()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477409,"reputation":980,"user_id":1478419,"display_name":"Marcelo Barros"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599244981,"creation_date":1599244981,"answer_id":63746515,"question_id":11145681,"body_markdown":"For Java 9+, you can use the new [replaceAll][1] method of [Matcher][2] class.\r\n\r\n\r\n    private static final Pattern UNICODE_PATTERN = Pattern.compile(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;);\r\n\r\n\tpublic static String unescapeUnicode(String unescaped) {\r\n\t\treturn UNICODE_PATTERN.matcher(unescaped).replaceAll(r -&gt; String.valueOf((char) Integer.parseInt(r.group(1), 16)));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString originalMessage = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\r\n\t\tString unescapedMessage = unescapeUnicode(originalMessage);\r\n\t\tSystem.out.println(unescapedMessage);\r\n\t}\r\n\r\nI believe the main advantage of this approach over [unescapeJava][3] by [StringEscapeUtils][4] (besides not using an extra library) is that you can convert only the unicode characters (if you wish), since the latter converts all escaped Java characters (like \\n or \\t). If you prefer to convert all escaped characters the library is really the best option.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\r\n  [3]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava(java.lang.String)\r\n  [4]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>For Java 9+, you can use the new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"noreferrer\">replaceAll</a> method of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a> class.</p>\n<pre><code>private static final Pattern UNICODE_PATTERN = Pattern.compile(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;);\n\npublic static String unescapeUnicode(String unescaped) {\n    return UNICODE_PATTERN.matcher(unescaped).replaceAll(r -&gt; String.valueOf((char) Integer.parseInt(r.group(1), 16)));\n}\n\npublic static void main(String[] args) {\n    String originalMessage = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\n    String unescapedMessage = unescapeUnicode(originalMessage);\n    System.out.println(unescapedMessage);\n}\n</code></pre>\n<p>I believe the main advantage of this approach over <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"noreferrer\">unescapeJava</a> by <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\">StringEscapeUtils</a> (besides not using an extra library) is that you can convert only the unicode characters (if you wish), since the latter converts all escaped Java characters (like \\n or \\t). If you prefer to convert all escaped characters the library is really the best option.</p>\n"},{"tags":[],"owner":{"account_id":2495634,"reputation":89,"user_id":2172134,"display_name":"Jun.wan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600081288,"creation_date":1600081288,"answer_id":63882970,"question_id":11145681,"body_markdown":"@NominSim \r\nThere may be other character, so I should detect it by length.\r\n\r\n\r\n    private String forceUtf8Coding(String str) {\r\n        str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n        String[] arr = str.split(&quot;u&quot;);\r\n        StringBuilder text = new StringBuilder();\r\n        for(int i = 1; i &lt; arr.length; i++){\r\n            String a = arr[i];\r\n            String b = &quot;&quot;;\r\n            if (arr[i].length() &gt; 4){\r\n                a = arr[i].substring(0, 4);\r\n                b = arr[i].substring(4);\r\n            }\r\n            int hexVal = Integer.parseInt(a, 16);\r\n            text.append((char) hexVal).append(b);\r\n        }\r\n        return text.toString();\r\n    }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>@NominSim\nThere may be other character, so I should detect it by length.</p>\n<pre><code>private String forceUtf8Coding(String str) {\n    str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\n    String[] arr = str.split(&quot;u&quot;);\n    StringBuilder text = new StringBuilder();\n    for(int i = 1; i &lt; arr.length; i++){\n        String a = arr[i];\n        String b = &quot;&quot;;\n        if (arr[i].length() &gt; 4){\n            a = arr[i].substring(0, 4);\n            b = arr[i].substring(4);\n        }\n        int hexVal = Integer.parseInt(a, 16);\n        text.append((char) hexVal).append(b);\n    }\n    return text.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658937101,"creation_date":1604519338,"answer_id":64686774,"question_id":11145681,"body_markdown":"[`UnicodeUnescaper`][1] from Apache Commons Text does exactly what you want, and ignores any other escape sequences.\r\n\r\n```java\r\nString input = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\r\nString output = new UnicodeUnescaper().translate(input);\r\nassert(&quot;Hello World&quot;.equals(output));\r\nassert(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;.equals(output));\r\n```\r\n\r\nWhere `input` would be the string you are reading from a file.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/translate/UnicodeUnescaper.html","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/translate/UnicodeUnescaper.html\" rel=\"nofollow noreferrer\"><code>UnicodeUnescaper</code></a> from Apache Commons Text does exactly what you want, and ignores any other escape sequences.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\nString output = new UnicodeUnescaper().translate(input);\nassert(&quot;Hello World&quot;.equals(output));\nassert(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;.equals(output));\n</code></pre>\n<p>Where <code>input</code> would be the string you are reading from a file.</p>\n"},{"tags":[],"owner":{"account_id":22778949,"reputation":481,"user_id":16935158,"display_name":"Yevhen Railian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1631867521,"creation_date":1631867521,"answer_id":69220212,"question_id":11145681,"body_markdown":"With **Kotlin** you can write your own extension function for *String* \r\n\r\n```kotlin\r\nfun String.unescapeUnicode() = replace(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;.toRegex()) {\r\n    String(Character.toChars(it.groupValues[1].toInt(radix = 16)))\r\n}\r\n```\r\n\r\nand then \r\n\r\n```kotlin\r\nfun main() {\r\n    val originalString = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;\r\n    println(originalString.unescapeUnicode())\r\n}\r\n```\r\n\r\n\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>With <strong>Kotlin</strong> you can write your own extension function for <em>String</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun String.unescapeUnicode() = replace(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;.toRegex()) {\n    String(Character.toChars(it.groupValues[1].toInt(radix = 16)))\n}\n</code></pre>\n<p>and then</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val originalString = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;\n    println(originalString.unescapeUnicode())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680069491,"creation_date":1680069491,"answer_id":75873606,"question_id":11145681,"body_markdown":"To do this, no need to depend 3-part library. Just use the java built-in library.\r\n\r\nAssuming that we have a unicode &#39;1F914&#39;, \r\n\r\n1. firstly we convert it from hex to decimal using `Integer.parseInt`\r\n2. then we pass the decimal representation to `Character.toChars()`, got a char array. \r\n&gt; Java use UTF-16 to encode String. If a character that codepoint is over than 16 bit, using a char array to represent it.\r\n\r\n3. After that,we new a sting by the char array. Finally we got a emoji : “&#129300;”\r\n\r\n```java\r\nnew String(Character.toChars(Integer.parseInt(unicode, 16)));\r\n```","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>To do this, no need to depend 3-part library. Just use the java built-in library.</p>\n<p>Assuming that we have a unicode '1F914',</p>\n<ol>\n<li>firstly we convert it from hex to decimal using <code>Integer.parseInt</code></li>\n<li>then we pass the decimal representation to <code>Character.toChars()</code>, got a char array.</li>\n</ol>\n<blockquote>\n<p>Java use UTF-16 to encode String. If a character that codepoint is over than 16 bit, using a char array to represent it.</p>\n</blockquote>\n<ol start=\"3\">\n<li>After that,we new a sting by the char array. Finally we got a emoji : “🤔”</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>new String(Character.toChars(Integer.parseInt(unicode, 16)));\n</code></pre>\n"}],"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325463,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":11145854,"answer_count":23,"score":100,"last_activity_date":1680069491,"creation_date":1340308071,"question_id":11145681,"body_markdown":"I have a string with escaped [Unicode][1] characters, `\\uXXXX`, and I want to convert it to regular Unicode letters. For example:\r\n\r\n    &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;\r\n\r\nshould become\r\n\r\n    &quot;Hello World&quot;\r\n\r\nI know that when I print the first string it already shows `Hello world`. My problem is I read file names from a file, and then I search for them. The files names in the file are escaped with Unicode encoding, and when I search for the files, I can&#39;t find them, since it searches for a file with `\\uXXXX` in its name.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Unicode\r\n  [2]: http://en.wikipedia.org/wiki/UTF-8\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I have a string with escaped <a href=\"http://en.wikipedia.org/wiki/Unicode\" rel=\"noreferrer\">Unicode</a> characters, <code>\\uXXXX</code>, and I want to convert it to regular Unicode letters. For example:</p>\n\n<pre><code>\"\\u0048\\u0065\\u006C\\u006C\\u006F World\"\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>\"Hello World\"\n</code></pre>\n\n<p>I know that when I print the first string it already shows <code>Hello world</code>. My problem is I read file names from a file, and then I search for them. The files names in the file are escaped with Unicode encoding, and when I search for the files, I can't find them, since it searches for a file with <code>\\uXXXX</code> in its name.</p>\n"},{"tags":["java","mysql","database"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680019008,"post_id":75868449,"comment_id":133823605,"body_markdown":"Possibly related: [com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure](https://stackoverflow.com/q/2983248)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/2983248\">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1680019241,"post_id":75868449,"comment_id":133823661,"body_markdown":"BTW instead of `System.out.println(e);` consider using `e.printStackTrace()` to get possibly more info about cause of the exception (with line numbers).","body":"BTW instead of <code>System.out.println(e);</code> consider using <code>e.printStackTrace()</code> to get possibly more info about cause of the exception (with line numbers)."},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":1,"creation_date":1680020053,"post_id":75868449,"comment_id":133823908,"body_markdown":"Remove one of the colons between host and port in your URL:\n`jdbc:mysql://localhost: **:** 3306/bankingsystem` -&gt;\n`jdbc:mysql://localhost:3306/bankingsystem`\nShould solve your problem!","body":"Remove one of the colons between host and port in your URL: <code>jdbc:mysql:&#47;&#47;localhost: **:** 3306&#47;bankingsystem</code> -&gt; <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;bankingsystem</code> Should solve your problem!"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680021168,"post_id":75868449,"comment_id":133824280,"body_markdown":"Please post the full exception stacktrace.","body":"Please post the full exception stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680019446,"creation_date":1680019446,"answer_id":75868549,"question_id":75868449,"body_markdown":"You&#39;ll need to look further down the exception because the original exception is chained together with this one.  This is the top of the exception:\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n```\r\nSo this failure to communicate isn&#39;t detailed enough to diagnose the issue.  But if you find a \r\n`java.net.ConnectException: Connection refused` embedded it&#39;s likely that MySQL isn&#39;t running.\r\n\r\nChange your `System.out.println(e)` -&gt; `e.printStackTrace()` to see the full exception chain.","title":"Connection to database using MySQL in Java","body":"<p>You'll need to look further down the exception because the original exception is chained together with this one.  This is the top of the exception:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n</code></pre>\n<p>So this failure to communicate isn't detailed enough to diagnose the issue.  But if you find a\n<code>java.net.ConnectException: Connection refused</code> embedded it's likely that MySQL isn't running.</p>\n<p>Change your <code>System.out.println(e)</code> -&gt; <code>e.printStackTrace()</code> to see the full exception chain.</p>\n"}],"owner":{"account_id":24836356,"reputation":11,"user_id":18714950,"display_name":"Renato Pomparau"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680068846,"creation_date":1680018785,"question_id":75868449,"body_markdown":"I am trying to connect to a database using MySQL. The error I get is:     \r\n&quot;com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure&quot;\r\n\r\nAny ideas what can cause this? \r\n    \r\n    import java.sql.*;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class Conn {\r\n    \r\n        Connection c=null;\r\n       // Statement s;\r\n        public Conn(){\r\n            try{\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                c=DriverManager.getConnection(&quot;jdbc:mysql://localhost::3306/bankingsystem&quot;,&quot;root&quot;,&quot;password&quot;);\r\n              //  Statement statement=c.createStatement();\r\n             //   ResultSet rs=statement.executeQuery();\r\n                if(c!=null)\r\n                {\r\n                    System.out.println(&quot;Connected to DB&quot;);\r\n                }\r\n            }catch (Exception e){\r\n                System.out.println(&quot;Not connected to DB&quot;);\r\n                System.out.println(e);\r\n    \r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            //Conn Conexiune =new Conn();\r\n            \r\n    \r\n        }\r\n    }\r\n    \r\n  ","title":"Connection to database using MySQL in Java","body":"<p>I am trying to connect to a database using MySQL. The error I get is:<br />\n&quot;com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure&quot;</p>\n<p>Any ideas what can cause this?</p>\n<pre><code>import java.sql.*;\nimport java.sql.DriverManager;\n\npublic class Conn {\n\n    Connection c=null;\n   // Statement s;\n    public Conn(){\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            c=DriverManager.getConnection(&quot;jdbc:mysql://localhost::3306/bankingsystem&quot;,&quot;root&quot;,&quot;password&quot;);\n          //  Statement statement=c.createStatement();\n         //   ResultSet rs=statement.executeQuery();\n            if(c!=null)\n            {\n                System.out.println(&quot;Connected to DB&quot;);\n            }\n        }catch (Exception e){\n            System.out.println(&quot;Not connected to DB&quot;);\n            System.out.println(e);\n\n        }\n    }\n\n    public static void main(String[] args) {\n        //Conn Conexiune =new Conn();\n        \n\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","timeout","micronaut","wiremock"],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680068803,"creation_date":1680068803,"question_id":75873543,"body_markdown":"I want to test the read timeout for an api which my application is calling using micronaut httpclient.\r\n\r\n    @Validated\r\n    @Client(&quot;${api.url}&quot;)\r\n    public interface ApiClient {\r\n        @Get(&quot;/v1/itemdetails{?ids*}&quot;)\r\n        @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\r\n        HttpResponse&lt;ItemDto&gt; getItems(\r\n                @NotEmpty List&lt;String&gt; ids,\r\n                @Header(&quot;authorization&quot;) @NotBlank String authorization\r\n        );\r\n    }\r\n\r\n\r\nCode which call this client is as follows:\r\n\r\n    private void saveItems(List&lt;String&gt; ids) {\r\n        try {\r\n            String token = getToken();\r\n            HttpResponse&lt;ItemDto&gt; itemResponse =ApiClient.getItems(ids,token);\r\n            handleItemResponse(ids, itemResponse);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error saving items&quot;, e);\r\n        }\r\n    }\r\n\r\nHow I can write a Test to verify whether Retry is happening 3 times or not? I already configure Wiremock to respond with a delay more than ReadTimeout Value.\r\n\r\nOne way I know is that I can put an ApiClient call inside another method with `Retryable` annotation and verify the number of times `getItems` method gets called.\r\n\r\n    @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\r\n    private HttpResponse&lt;ItemDto&gt; getItemsFromApi(List&lt;String&gt; ids){\r\n       logs.debug(&quot;calling Api...&quot;);\r\n       return ApiClient.getItems(ids,token);\r\n    }\r\n\r\n Please suggest if there&#39;s any better approach to test this.","title":"How to write a Junit test to Verify Retry on ReadTimeout/Exception for an API","body":"<p>I want to test the read timeout for an api which my application is calling using micronaut httpclient.</p>\n<pre><code>@Validated\n@Client(&quot;${api.url}&quot;)\npublic interface ApiClient {\n    @Get(&quot;/v1/itemdetails{?ids*}&quot;)\n    @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\n    HttpResponse&lt;ItemDto&gt; getItems(\n            @NotEmpty List&lt;String&gt; ids,\n            @Header(&quot;authorization&quot;) @NotBlank String authorization\n    );\n}\n</code></pre>\n<p>Code which call this client is as follows:</p>\n<pre><code>private void saveItems(List&lt;String&gt; ids) {\n    try {\n        String token = getToken();\n        HttpResponse&lt;ItemDto&gt; itemResponse =ApiClient.getItems(ids,token);\n        handleItemResponse(ids, itemResponse);\n    } catch (Exception e) {\n        log.error(&quot;Error saving items&quot;, e);\n    }\n}\n</code></pre>\n<p>How I can write a Test to verify whether Retry is happening 3 times or not? I already configure Wiremock to respond with a delay more than ReadTimeout Value.</p>\n<p>One way I know is that I can put an ApiClient call inside another method with <code>Retryable</code> annotation and verify the number of times <code>getItems</code> method gets called.</p>\n<pre><code>@Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\nprivate HttpResponse&lt;ItemDto&gt; getItemsFromApi(List&lt;String&gt; ids){\n   logs.debug(&quot;calling Api...&quot;);\n   return ApiClient.getItems(ids,token);\n}\n</code></pre>\n<p>Please suggest if there's any better approach to test this.</p>\n"},{"tags":["java","optimization","hashmap","heap-memory","hocon"],"owner":{"account_id":11633921,"reputation":11,"user_id":8521013,"display_name":"Sai Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680067713,"creation_date":1678902083,"question_id":75748310,"body_markdown":"I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).\r\n\r\nI am looking for an alternative way to represent the data **in memory** efficiently based on the structural information we have in the JSON Schema\r\n\r\nthe information is stored in immutable way, so major focus is to efficiently store and fetch.\r\n\r\n(I need to load the configs in memory, there may be a huge number of configs)\r\n\r\n(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)\r\n\r\n\r\n\r\nfollowing are the ideas i currently have, \r\n\r\n(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn&#39;t test support for substitutions.)\r\n\r\n**The data used here to compare ideas does not have any substitutions and i am considering JSON object&#39;s size as base value**\r\n\r\n1) The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs \r\n\r\n(for checking purpose i just used jsonschema2pojo to generate classes)\r\n[HOCON to JSON](https://hocon-playground.avelier.dev/)\r\n[JSONSchema to POJO](https://www.jsonschema2pojo.org/)\r\n \r\nthe main advantages i see here are:\r\n - this method preserves dot notation access\r\n - also substitutions can be achieved through object reference (if not primitive types). \r\n - type safe\r\n - The memory is also less than hashmaps and is comparable to the below object array method.\r\n\r\nthe disadvantages:\r\n - This method requires creation of so many classes and many instances of each class.\r\n - high instantiation time (one time operation)\r\n\r\n---\r\n\r\n2) using object arrays (array of references) and dropping keys.\r\neg: \r\n\r\n**json-schema (in HOCON format):**\r\n```\r\n{\r\n  app {\r\n    type: object\r\n    additionalProperties: false\r\n    properties {\r\n      name {type: string}\r\n      version {type: string}\r\n      author {\r\n        type: object\r\n        additionalProperties: { //author name can be anything - retain as hash map\r\n          additionalProperties: false\r\n          properties: {\r\n            name {type: string}\r\n            email {type: string}\r\n          }\r\n        }\r\n      }\r\n      server {\r\n        type: object\r\n        additionalProperties: false\r\n        properties {\r\n          port {type: int}\r\n          host {type: string}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**HOCON data for above schema:**\r\n```\r\napp {\r\n  name = &quot;My App&quot;\r\n  version = &quot;1.0&quot;\r\n  author {\r\n    alice {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n    bob {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n  }\r\n  server {\r\n    port = 8080\r\n    host = &quot;localhost&quot;\r\n  }\r\n}\r\n```\r\nA class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).\r\n\r\n```lang-java\r\nfinal class Root {\r\n\r\n    String getPath() {\r\n        return &quot;&quot;;\r\n    }\r\n    App app = new App();\r\n    final class App {\r\n        final int index = 0;\r\n        Name name = new Name();\r\n        Version version = new Version();\r\n        Author author = new Author();\r\n        Server server = new Server();\r\n\r\n        String getPath(){\r\n            return Root.this.getPath() + index;\r\n        }\r\n\r\n        final class Name {\r\n            final int index = 0;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Version {\r\n            final int index = 1;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Author {                   //handles hash map\r\n            final int index = 2;\r\n            String key;                        //need to get the unknown key at runtime.\r\n            Name name = new Name();\r\n            Email email = new Email();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\r\n            }\r\n\r\n            String getPathWithKey(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\r\n            }\r\n\r\n            Author setKey(String key) {\r\n                this.key = key;\r\n                return this;\r\n            }\r\n\r\n            final class Name{\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Email{\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n        final class Server {\r\n            final int index = 3;\r\n            Port port = new Port();\r\n            Host host = new Host();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n\r\n            final class Port {\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Host {\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe object array based on the above class is\r\n\r\n```\r\n    root[ \r\n    0:  app[  \r\n        0:  name,\r\n        1:  version,\r\n        2:  author { \r\n              alice: [ 0:name,\r\n                       1: email ],\r\n              bob:   [ 0: name,\r\n                       1: email ] \r\n            },\r\n        3:  server [ 0: port,\r\n                     1: host ] \r\n        ] \r\n    ]\r\n\r\n```\r\n\r\nfor which the class provides the path when given:\r\n```\r\nRoot root = new Root();\r\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\r\nreturns: 0.2.alice.0\r\n```\r\nOn comparison to above method:\r\n - memory is not much reduced compared to POJO.\r\n - loss of type safety. (doesn&#39;t feel like good design)\r\n - generic references of type Object\r\n\r\nPOJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.\r\n\r\n**is there any advantage to preferring object arrays over POJOs.**\r\n \r\n[this question discusses the class vs array memory problem](https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array)\r\n\r\nthe solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:\r\n\r\n---\r\n\r\n3) int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap. \r\n\r\nIf so based on this, i can treat each schema like a primitive type and fix it&#39;s size. so for the above example schema:\r\n\r\n```\r\nthe leaf values are:\r\napp.name           string - max 50 chars - 100 bytes\r\napp.version        string - max 20 chars - 40 bytes\r\napp.author         Map - reference - 8 bytes\r\napp.server.port    int - 32 bytes \r\napp.server.host    unknown string - ref - 8 bytes\r\n\r\nauthor hash map item array:\r\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\r\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\r\n```\r\n\r\n\r\n```\r\n&lt;--------------app----------------&gt;  \r\n                        &lt;--server--&gt;  \r\n[name, version, author, port, host]    (ByteBuffer)\r\n                |  \r\n                V  \r\n            [name, email]              (ByteBuffer)\r\n```\r\n\r\nand create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.\r\n\r\nis there any other efficient ways?","title":"Memory efficient alternative of Hashmap for storing data (HOCON config) conforming to json-schema","body":"<p>I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).</p>\n<p>I am looking for an alternative way to represent the data <strong>in memory</strong> efficiently based on the structural information we have in the JSON Schema</p>\n<p>the information is stored in immutable way, so major focus is to efficiently store and fetch.</p>\n<p>(I need to load the configs in memory, there may be a huge number of configs)</p>\n<p>(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)</p>\n<p>following are the ideas i currently have,</p>\n<p>(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn't test support for substitutions.)</p>\n<p><strong>The data used here to compare ideas does not have any substitutions and i am considering JSON object's size as base value</strong></p>\n<ol>\n<li>The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs</li>\n</ol>\n<p>(for checking purpose i just used jsonschema2pojo to generate classes)\n<a href=\"https://hocon-playground.avelier.dev/\" rel=\"nofollow noreferrer\">HOCON to JSON</a>\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">JSONSchema to POJO</a></p>\n<p>the main advantages i see here are:</p>\n<ul>\n<li>this method preserves dot notation access</li>\n<li>also substitutions can be achieved through object reference (if not primitive types).</li>\n<li>type safe</li>\n<li>The memory is also less than hashmaps and is comparable to the below object array method.</li>\n</ul>\n<p>the disadvantages:</p>\n<ul>\n<li>This method requires creation of so many classes and many instances of each class.</li>\n<li>high instantiation time (one time operation)</li>\n</ul>\n<hr />\n<ol start=\"2\">\n<li>using object arrays (array of references) and dropping keys.\neg:</li>\n</ol>\n<p><strong>json-schema (in HOCON format):</strong></p>\n<pre><code>{\n  app {\n    type: object\n    additionalProperties: false\n    properties {\n      name {type: string}\n      version {type: string}\n      author {\n        type: object\n        additionalProperties: { //author name can be anything - retain as hash map\n          additionalProperties: false\n          properties: {\n            name {type: string}\n            email {type: string}\n          }\n        }\n      }\n      server {\n        type: object\n        additionalProperties: false\n        properties {\n          port {type: int}\n          host {type: string}\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>HOCON data for above schema:</strong></p>\n<pre><code>app {\n  name = &quot;My App&quot;\n  version = &quot;1.0&quot;\n  author {\n    alice {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n    bob {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n  }\n  server {\n    port = 8080\n    host = &quot;localhost&quot;\n  }\n}\n</code></pre>\n<p>A class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Root {\n\n    String getPath() {\n        return &quot;&quot;;\n    }\n    App app = new App();\n    final class App {\n        final int index = 0;\n        Name name = new Name();\n        Version version = new Version();\n        Author author = new Author();\n        Server server = new Server();\n\n        String getPath(){\n            return Root.this.getPath() + index;\n        }\n\n        final class Name {\n            final int index = 0;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Version {\n            final int index = 1;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Author {                   //handles hash map\n            final int index = 2;\n            String key;                        //need to get the unknown key at runtime.\n            Name name = new Name();\n            Email email = new Email();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\n            }\n\n            String getPathWithKey(){\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\n            }\n\n            Author setKey(String key) {\n                this.key = key;\n                return this;\n            }\n\n            final class Name{\n                final int index = 0;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Email{\n                final int index = 1;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n        final class Server {\n            final int index = 3;\n            Port port = new Port();\n            Host host = new Host();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n\n            final class Port {\n                final int index = 0;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Host {\n                final int index = 1;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n    }\n}\n\n</code></pre>\n<p>the object array based on the above class is</p>\n<pre><code>    root[ \n    0:  app[  \n        0:  name,\n        1:  version,\n        2:  author { \n              alice: [ 0:name,\n                       1: email ],\n              bob:   [ 0: name,\n                       1: email ] \n            },\n        3:  server [ 0: port,\n                     1: host ] \n        ] \n    ]\n\n</code></pre>\n<p>for which the class provides the path when given:</p>\n<pre><code>Root root = new Root();\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\nreturns: 0.2.alice.0\n</code></pre>\n<p>On comparison to above method:</p>\n<ul>\n<li>memory is not much reduced compared to POJO.</li>\n<li>loss of type safety. (doesn't feel like good design)</li>\n<li>generic references of type Object</li>\n</ul>\n<p>POJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.</p>\n<p><strong>is there any advantage to preferring object arrays over POJOs.</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array\">this question discusses the class vs array memory problem</a></p>\n<p>the solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:</p>\n<hr />\n<ol start=\"3\">\n<li>int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap.</li>\n</ol>\n<p>If so based on this, i can treat each schema like a primitive type and fix it's size. so for the above example schema:</p>\n<pre><code>the leaf values are:\napp.name           string - max 50 chars - 100 bytes\napp.version        string - max 20 chars - 40 bytes\napp.author         Map - reference - 8 bytes\napp.server.port    int - 32 bytes \napp.server.host    unknown string - ref - 8 bytes\n\nauthor hash map item array:\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\n</code></pre>\n<pre><code>&lt;--------------app----------------&gt;  \n                        &lt;--server--&gt;  \n[name, version, author, port, host]    (ByteBuffer)\n                |  \n                V  \n            [name, email]              (ByteBuffer)\n</code></pre>\n<p>and create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.</p>\n<p>is there any other efficient ways?</p>\n"},{"tags":["java","for-loop","java-stream"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1680065794,"post_id":75873257,"comment_id":133831708,"body_markdown":"Just don&#39;t `collect` at all. `forEach` is a terminal operation.","body":"Just don&#39;t <code>collect</code> at all. <code>forEach</code> is a terminal operation."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1680065871,"post_id":75873257,"comment_id":133831717,"body_markdown":"Does this answer your question? [What&#39;s the difference between map() and flatMap() methods in Java 8?](https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8\">What&#39;s the difference between map() and flatMap() methods in Java 8?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680067017,"creation_date":1680067017,"answer_id":75873374,"question_id":75873257,"body_markdown":"You can use `flatMap` and use `forEach` terminal operation as,\r\n\r\n```\r\n\r\nrequest.getCustomers()\r\n        .stream()\r\n        .flatMap(customer -&gt; customer.getOrders().stream())\r\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\r\n            if (order.isItemExcluded(restrictedValue)) {\r\n                response.setExcludedItem(order.getId());\r\n            }\r\n            if (treatment.isItemIncluded(restrictedValue)) {\r\n                response.setIncludedItem(order.getId());\r\n            }\r\n        }));\r\n```","title":"3 levels of nested for loop to Java Stream","body":"<p>You can use <code>flatMap</code> and use <code>forEach</code> terminal operation as,</p>\n<pre><code>\nrequest.getCustomers()\n        .stream()\n        .flatMap(customer -&gt; customer.getOrders().stream())\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680067388,"creation_date":1680067388,"answer_id":75873414,"question_id":75873257,"body_markdown":"    request.getCustomers()\r\n                    .stream()\r\n                    .flatMap(customer -&gt; customer.getOrders().stream())\r\n                    .forEach(order -&gt; {\r\n                        if(restrictedValues.stream().anyMatch(order::isItemExcluded))\r\n                            response.setExcludedItem(order.getId());\r\n                        if(restrictedValues.stream().anyMatch(order::isItemIncluded))\r\n                            response.setIncludedItem(order.getId());\r\n                    }));","title":"3 levels of nested for loop to Java Stream","body":"<pre><code>request.getCustomers()\n                .stream()\n                .flatMap(customer -&gt; customer.getOrders().stream())\n                .forEach(order -&gt; {\n                    if(restrictedValues.stream().anyMatch(order::isItemExcluded))\n                        response.setExcludedItem(order.getId());\n                    if(restrictedValues.stream().anyMatch(order::isItemIncluded))\n                        response.setIncludedItem(order.getId());\n                }));\n</code></pre>\n"}],"owner":{"account_id":28154498,"reputation":3,"user_id":21515420,"display_name":"Mayank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873414,"answer_count":2,"score":0,"last_activity_date":1680067425,"creation_date":1680065621,"question_id":75873257,"body_markdown":"I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?\r\n\r\nHere&#39;s the code I am trying to convert\r\n\r\n    Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\r\n    for (Customer customer : request.getCustomers()) {\r\n        for (Order order : customer.getOrders()) {\r\n            for (String restrictedValue : restrictedValues) {\r\n                if (order.isItemExcluded(restrictedValue)) {\r\n                    response.setExcludedItem(order.getId());\r\n                }\r\n                if (treatment.isItemIncluded(restrictedValue)) {\r\n                    response.setIncludedItem(order.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhat I have done so far is below, I am kinda lost here.\r\n\r\n    request.getCustomers().stream()\r\n      .forEach(customer-&gt;{\r\n         customer.getOrders().stream()\r\n             .forEach(order-&gt;{\r\n                 order.isItemExcluded(restrictedValue)\r\n                     }).collect(????) //What to do now });&lt;/code&gt;","title":"3 levels of nested for loop to Java Stream","body":"<p>I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?</p>\n<p>Here's the code I am trying to convert</p>\n<pre><code>Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\nfor (Customer customer : request.getCustomers()) {\n    for (Order order : customer.getOrders()) {\n        for (String restrictedValue : restrictedValues) {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I have done so far is below, I am kinda lost here.</p>\n<pre><code>request.getCustomers().stream()\n  .forEach(customer-&gt;{\n     customer.getOrders().stream()\n         .forEach(order-&gt;{\n             order.isItemExcluded(restrictedValue)\n                 }).collect(????) //What to do now });&lt;/code&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":1,"creation_date":1680066565,"post_id":75873293,"comment_id":133831808,"body_markdown":"In your `addInMap` method create a new array `newParams` with the combined length of `addedParams` and `params`.Then we use `System.arraycopy` to copy the elements of `addedParams` to n`ewParams`. Then loop through the `params` and append values to `newParams`","body":"In your <code>addInMap</code> method create a new array <code>newParams</code> with the combined length of <code>addedParams</code> and <code>params</code>.Then we use <code>System.arraycopy</code> to copy the elements of <code>addedParams</code> to n<code>ewParams</code>. Then loop through the <code>params</code> and append values to <code>newParams</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680066918,"creation_date":1680066918,"answer_id":75873367,"question_id":75873293,"body_markdown":"You can create a copy of the array with a larger size to allow adding a new element at the end.\r\n\r\n```java\r\naddedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\r\naddedParams[addedParams.length - 1] = params;\r\n\r\n// or, if you want to merge the two arrays together:\r\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\r\n\r\nobjMap.put(str, addedParams);\r\n```\r\n\r\nBut this is quite inefficient. Consider using `ArrayList` instead.","title":"How to Add Values in existing Object[]","body":"<p>You can create a copy of the array with a larger size to allow adding a new element at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>addedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\naddedParams[addedParams.length - 1] = params;\n\n// or, if you want to merge the two arrays together:\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\n\nobjMap.put(str, addedParams);\n</code></pre>\n<p>But this is quite inefficient. Consider using <code>ArrayList</code> instead.</p>\n"}],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873367,"answer_count":1,"score":0,"last_activity_date":1680066918,"creation_date":1680065988,"question_id":75873293,"body_markdown":"I am having a `Map&lt;String, Object[]&gt; objMap` and trying to add value in to it. But its not working as expected. My method is as below,\r\n\r\n    public void addInMap(String str, Object... params) {        \r\n            if(params != null &amp;&amp; params.length &gt; 0) {\r\n                if(objMap.containsKey(str)) {\r\n                    Object[] addedParams= objMap.get(str);\r\n                    addedParams[addedParams.length-1]=params;\r\n                    objMap.put(str, addedParams);\r\n                }\r\n                else {\r\n                    objMap.put(str, params);\r\n                }\r\n            }\r\n        }\r\n\r\nI dont want to use the `ArrayList` or `Array.asList` .\r\nWhen i am using `addedParams[addedParams.length]=params` its causing `Attempt to access illegal array index` exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.","title":"How to Add Values in existing Object[]","body":"<p>I am having a <code>Map&lt;String, Object[]&gt; objMap</code> and trying to add value in to it. But its not working as expected. My method is as below,</p>\n<pre><code>public void addInMap(String str, Object... params) {        \n        if(params != null &amp;&amp; params.length &gt; 0) {\n            if(objMap.containsKey(str)) {\n                Object[] addedParams= objMap.get(str);\n                addedParams[addedParams.length-1]=params;\n                objMap.put(str, addedParams);\n            }\n            else {\n                objMap.put(str, params);\n            }\n        }\n    }\n</code></pre>\n<p>I dont want to use the <code>ArrayList</code> or <code>Array.asList</code> .\nWhen i am using <code>addedParams[addedParams.length]=params</code> its causing <code>Attempt to access illegal array index</code> exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.</p>\n"},{"tags":["java","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680066904,"post_id":75873345,"comment_id":133831874,"body_markdown":"Use @InjectMocks","body":"Use @InjectMocks"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680071395,"post_id":75873345,"comment_id":133832606,"body_markdown":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object.","body":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1680078679,"post_id":75873345,"comment_id":133834301,"body_markdown":"Which mock maker are you using?","body":"Which mock maker are you using?"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680109024,"post_id":75873345,"comment_id":133842974,"body_markdown":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock.","body":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680112762,"post_id":75873345,"comment_id":133843851,"body_markdown":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation.","body":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation."}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680066660,"creation_date":1680066660,"question_id":75873345,"body_markdown":"I am trying to create a Mock instance for spring Component class. Below is the spring component class.\r\n\r\n    @Component\r\n    public class MyComponentMapperClass {\r\n    \r\n    @Value(&quot;${some.property}&quot;)\r\n    private String var;\r\n    \r\n    public void someMapperMethod() { // }\r\n\r\nThis is my test class setup where I am trying to mock the above component class.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({MyDAOImpl.class})\r\n    public class MyDAOImplTest {\r\n    \r\n    @Mock MyComponentMapperClass myComponentMapperClass;\r\n    \r\n    }\r\n\r\nWhile debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn&#39;t happen like that.\r\nIn addition I have tried:\r\n\r\n    MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\r\n\r\nbut still mock object is not created. This seems to be very straight-forward, but I haven&#39;t figured it out yet.\r\n\r\nhere is an answer from https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe https://stackoverflow.com/questions/42049445/mock-spring-component, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!","title":"@Mock not working to mock @Component class in springboot","body":"<p>I am trying to create a Mock instance for spring Component class. Below is the spring component class.</p>\n<pre><code>@Component\npublic class MyComponentMapperClass {\n\n@Value(&quot;${some.property}&quot;)\nprivate String var;\n\npublic void someMapperMethod() { // }\n</code></pre>\n<p>This is my test class setup where I am trying to mock the above component class.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({MyDAOImpl.class})\npublic class MyDAOImplTest {\n\n@Mock MyComponentMapperClass myComponentMapperClass;\n\n}\n</code></pre>\n<p>While debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn't happen like that.\nIn addition I have tried:</p>\n<pre><code>MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\n</code></pre>\n<p>but still mock object is not created. This seems to be very straight-forward, but I haven't figured it out yet.</p>\n<p>here is an answer from <a href=\"https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe\">https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe</a> <a href=\"https://stackoverflow.com/questions/42049445/mock-spring-component\">Mock Spring Component</a>, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680064038,"post_id":75873124,"comment_id":133831484,"body_markdown":"Please post the code of the class where you are using `AnotherService`","body":"Please post the code of the class where you are using <code>AnotherService</code>"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680064128,"post_id":75873124,"comment_id":133831497,"body_markdown":"Where are you calling `test`?","body":"Where are you calling <code>test</code>?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680065218,"post_id":75873124,"comment_id":133831642,"body_markdown":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up.","body":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680065671,"post_id":75873124,"comment_id":133831696,"body_markdown":"I can&#39;t reproduce it. I get the correct value for `firstService.localDirectory` in `CommandLineRunnerExecutor`. Can you provide a [mre] that shows the issue when run?","body":"I can&#39;t reproduce it. I get the correct value for <code>firstService.localDirectory</code> in <code>CommandLineRunnerExecutor</code>. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the issue when run?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680066113,"post_id":75873124,"comment_id":133831742,"body_markdown":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie `firstService.localDirectory` returned null, but `firstService.getLocalDirectory()` returned the correct value;","body":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie <code>firstService.localDirectory</code> returned null, but <code>firstService.getLocalDirectory()</code> returned the correct value;"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680065367,"creation_date":1680065367,"answer_id":75873234,"question_id":75873124,"body_markdown":"Check the following:\r\n1. Whether you create an instance of `AnotherService` by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and `firstService` instance will be `null`.\r\n\r\n2. If its Spring driven - you say that your `FirstService` basically looks like this:\r\n\r\n```\r\n@Service\r\npublic class FirstService {\r\n   @Value(&quot;${test.localDirectory}&quot;)\r\n   public String localDirectory;\r\n}\r\n```\r\n\r\nMake sure that the instance you obtain in the `AnotherService#test` method is the same instance of the `FirstService` again it might be possible that you mix spring injection and regular creation of object with `new`","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>Check the following:</p>\n<ol>\n<li><p>Whether you create an instance of <code>AnotherService</code> by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and <code>firstService</code> instance will be <code>null</code>.</p>\n</li>\n<li><p>If its Spring driven - you say that your <code>FirstService</code> basically looks like this:</p>\n</li>\n</ol>\n<pre><code>@Service\npublic class FirstService {\n   @Value(&quot;${test.localDirectory}&quot;)\n   public String localDirectory;\n}\n</code></pre>\n<p>Make sure that the instance you obtain in the <code>AnotherService#test</code> method is the same instance of the <code>FirstService</code> again it might be possible that you mix spring injection and regular creation of object with <code>new</code></p>\n"},{"tags":[],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680066020,"creation_date":1680066020,"answer_id":75873297,"question_id":75873124,"body_markdown":"I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.</p>\n"}],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75873297,"answer_count":2,"score":1,"last_activity_date":1680066020,"creation_date":1680063829,"question_id":75873124,"body_markdown":"I&#39;ve got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:\r\n\r\n    @Value(&quot;${test.localDirectory}&quot;)\r\n    public String localDirectory;\r\n\r\nI can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        logger.info(localDirectory); //returns expected value here\r\n    }\r\n\r\nHowever, when I try to access these classes from another spring @Service, they are returning null:\r\n\r\n           \r\n    @Service\r\n    public class AnotherService {\r\n    \r\n        @Autowired\r\n        private FirstService firstService\r\n\r\n        public void example(){\r\n            firstService.localDirectory //returns null\r\n        }\r\n    \r\n    }\r\n\r\nIs this expected behavior or am I doing something wrong?\r\n\r\nEDIT: Here&#39;s a better code example:\r\n\r\n\r\n    @Service\r\n    public class FirstService{\r\n     \r\n        @Value(&quot;${test.localDirectory}&quot;)\r\n        public String localDirectory;\r\n    \r\n    }\r\n    \r\n    \r\n    @Component\r\n    public class CommandLineRunnerExecutor implements CommandLineRunner {\r\n    @Autowired\r\n    private FirstService firstService;\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n                logger.info(firstService.localDirectory); //null\r\n        }\r\n    }\r\n\r\n\r\n","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I've got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:</p>\n<pre><code>@Value(&quot;${test.localDirectory}&quot;)\npublic String localDirectory;\n</code></pre>\n<p>I can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:</p>\n<pre><code>@Override\npublic void afterPropertiesSet() throws Exception {\n    logger.info(localDirectory); //returns expected value here\n}\n</code></pre>\n<p>However, when I try to access these classes from another spring @Service, they are returning null:</p>\n<pre><code>@Service\npublic class AnotherService {\n\n    @Autowired\n    private FirstService firstService\n\n    public void example(){\n        firstService.localDirectory //returns null\n    }\n\n}\n</code></pre>\n<p>Is this expected behavior or am I doing something wrong?</p>\n<p>EDIT: Here's a better code example:</p>\n<pre><code>@Service\npublic class FirstService{\n \n    @Value(&quot;${test.localDirectory}&quot;)\n    public String localDirectory;\n\n}\n\n\n@Component\npublic class CommandLineRunnerExecutor implements CommandLineRunner {\n@Autowired\nprivate FirstService firstService;\n\n    @Override\n    public void run(String... args) throws Exception {\n            logger.info(firstService.localDirectory); //null\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":1,"creation_date":1410011168,"post_id":25700887,"comment_id":40172128,"body_markdown":"@shekharsuman What is the point in making them static? Add all the numbers to a `LinkedList` sort the `List` in ascending order, take the first two items in the list.","body":"@shekharsuman What is the point in making them static? Add all the numbers to a <code>LinkedList</code> sort the <code>List</code> in ascending order, take the first two items in the list."}],"answers":[{"tags":[],"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410011193,"creation_date":1410011193,"answer_id":25700932,"question_id":25700887,"body_markdown":"You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. \r\n\r\nHere&#39;s the code that should be in the loop:\r\n\r\n    if (number &lt; small) {\r\n        nest = small;\r\n        small = number;\r\n    } else if (number &lt; nest) {\r\n        nest = number;\r\n    } ","title":"finding smallest and second smallest number","body":"<p>You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. </p>\n\n<p>Here's the code that should be in the loop:</p>\n\n<pre><code>if (number &lt; small) {\n    nest = small;\n    small = number;\n} else if (number &lt; nest) {\n    nest = number;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410011701,"creation_date":1410011701,"answer_id":25701013,"question_id":25700887,"body_markdown":"Add all the numbers to a `LinkedList&lt;Integer&gt;` then sort the `List`.  The first two items in the `List` will be the smallest.\r\n\r\n    public class Sorter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tList&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;How many numbers?&quot;);\r\n    \t\tint total = keyboard.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;What is the first number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\tSystem.out.println(&quot;whats the second number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t// Assigning the first two numbers to smallest and second largest\r\n    \r\n    \t\tfor (int i =2;i&lt;total;i++) {                     \r\n    \t\tSystem.out.println(&quot;whats the next number?&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t}//end forloop\r\n    \t\t\r\n    \t\tCollections.sort(numbers);\r\n    \r\n    \t\tSystem.out.printf(&quot;The smallest numbers are %d and %d&quot;,numbers.get(0),numbers.get(1)); \r\n    \t\r\n    \t}\r\n    }","title":"finding smallest and second smallest number","body":"<p>Add all the numbers to a <code>LinkedList&lt;Integer&gt;</code> then sort the <code>List</code>.  The first two items in the <code>List</code> will be the smallest.</p>\n\n<pre><code>public class Sorter {\n\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        List&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\n\n        System.out.println(\"How many numbers?\");\n        int total = keyboard.nextInt();\n\n        System.out.println(\"What is the first number\");\n        numbers.add( keyboard.nextInt());\n        System.out.println(\"whats the second number\");\n        numbers.add( keyboard.nextInt());\n        // Assigning the first two numbers to smallest and second largest\n\n        for (int i =2;i&lt;total;i++) {                     \n        System.out.println(\"whats the next number?\");\n        numbers.add( keyboard.nextInt());\n        }//end forloop\n\n        Collections.sort(numbers);\n\n        System.out.printf(\"The smallest numbers are %d and %d\",numbers.get(0),numbers.get(1)); \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28154456,"reputation":1,"user_id":21515387,"display_name":"Petro Lototskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680064479,"creation_date":1680064320,"answer_id":75873147,"question_id":25700887,"body_markdown":"here is the code:\r\n\t\t  \r\n\r\n    Scanner console = new Scanner(System.in);\r\n\t\t  int min = Integer.MAX_VALUE;\r\n\t\t  int secondMin=Integer.MAX_VALUE;\r\n\t\t  while (console.hasNextInt())\r\n\t\t  {\r\n\t\t     int x = console.nextInt();\r\n\t\t     if (x &lt; min) {\r\n\t\t       secondMin=min;\r\n\t\t    \t min = x;\r\n\t\t       } else if (x &lt;secondMin &amp;&amp; x!=min)\r\n\t\t      secondMin=x;\t      \r\n\t\t    \t\t\r\n\t\t  }\r\n\t\t  System.out.println(secondMin);\r\n\r\n\t\t      }\r\n\t\t  }\r\n\r\nYou need to make sure to add **x!=min** to the &quot;**else if**&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin ","title":"finding smallest and second smallest number","body":"<p>here is the code:</p>\n<pre><code>Scanner console = new Scanner(System.in);\n      int min = Integer.MAX_VALUE;\n      int secondMin=Integer.MAX_VALUE;\n      while (console.hasNextInt())\n      {\n         int x = console.nextInt();\n         if (x &lt; min) {\n           secondMin=min;\n             min = x;\n           } else if (x &lt;secondMin &amp;&amp; x!=min)\n          secondMin=x;        \n                \n      }\n      System.out.println(secondMin);\n\n          }\n      }\n</code></pre>\n<p>You need to make sure to add <strong>x!=min</strong> to the &quot;<strong>else if</strong>&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin</p>\n"}],"owner":{"display_name":"user3967885"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25700932,"answer_count":3,"score":0,"last_activity_date":1680064479,"creation_date":1410010791,"question_id":25700887,"body_markdown":"This program is supposed to find the smallest and the second smallest number among x numbers. \r\nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.\r\n\r\n   \r\n\r\n     System.out.println(&quot;How many numbers?&quot;);\r\n     int total = keyboard.nextInt();\r\n     \r\n     System.out.println(&quot;What is the first number&quot;);\r\n     int small = keyboard.nextInt();\r\n   \r\n     System.out.println(&quot;whats the second number&quot;);\r\n     int nest = keyboard.nextInt();\r\n     // Assigning the first two numbers to smallest and second largest\r\n    \r\n     for (int i =2;i&lt;total;i++) {                     \r\n        System.out.println(&quot;whats the next number?&quot;);\r\n        int number = keyboard.nextInt();\r\n    \r\n        if (number &lt; small) {\r\n           small = number;\r\n        } // this part works (I think)\r\n    \r\n        if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\r\n           nest = number;\r\n        }//this part dont (I think)\r\n    \r\n     }//end forloop\r\n     System.out.printf(&quot;The smallest numbers are %d and %d&quot;,small,nest); \r\n      \r\n\r\n \r\n\r\n","title":"finding smallest and second smallest number","body":"<p>This program is supposed to find the smallest and the second smallest number among x numbers. \nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.</p>\n\n<pre><code> System.out.println(\"How many numbers?\");\n int total = keyboard.nextInt();\n\n System.out.println(\"What is the first number\");\n int small = keyboard.nextInt();\n\n System.out.println(\"whats the second number\");\n int nest = keyboard.nextInt();\n // Assigning the first two numbers to smallest and second largest\n\n for (int i =2;i&lt;total;i++) {                     \n    System.out.println(\"whats the next number?\");\n    int number = keyboard.nextInt();\n\n    if (number &lt; small) {\n       small = number;\n    } // this part works (I think)\n\n    if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\n       nest = number;\n    }//this part dont (I think)\n\n }//end forloop\n System.out.printf(\"The smallest numbers are %d and %d\",small,nest); \n</code></pre>\n"},{"tags":["java","clone"],"answers":[{"tags":[],"owner":{"account_id":17466255,"reputation":363,"user_id":12662926,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680051206,"creation_date":1680051206,"answer_id":75872195,"question_id":75872168,"body_markdown":"You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects. ","title":"Cloned objects aren&#39;t equal","body":"<p>You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680062193,"creation_date":1680062193,"answer_id":75872997,"question_id":75872168,"body_markdown":"As a supplement to Charles&#39; answer, you have to override ```public boolean equals(Object obj)``` method of your ```BankAccount``` class.\r\n\r\nAnd below is an example for your reference:  \r\n```java\r\nimport java.util.Date;\r\n\r\npublic class Main {\r\n    static class BankAccount implements Cloneable {\r\n        private int id;\r\n        private int balance;\r\n        private Date createDate;\r\n        \r\n        public BankAccount(int id, int balance) {\r\n            this.id = id;\r\n            this.balance = balance;\r\n            this.createDate = new Date();\r\n        }\r\n        \r\n        public int getId() { return id; }\r\n        public int getBalance() { return balance; }\r\n        \r\n        @Override\r\n        public Object clone() { \r\n            try {\r\n                // shallow copy\r\n                BankAccount clone = (BankAccount)super.clone();\r\n                // deep copy\r\n                clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n                return clone;\r\n            } catch (CloneNotSupportedException y) {\r\n                y.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        // You have to override this function for value comparison\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            // Check if the passing Object is BankAccount\r\n            if (!(obj instanceof BankAccount))\r\n                return false;\r\n                \r\n            BankAccount otherBankAccount = (BankAccount) obj;\r\n            // You need to define your own comparison criteria to determine\r\n            //  whether 2 BankAccounts are equal\r\n            if (otherBankAccount.getId() == this.getId() \r\n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\r\n                return true;\r\n            \r\n            return false;\r\n        }\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tBankAccount account1 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account2 = (BankAccount)account1.clone();\r\n\t\tBankAccount account3 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account4 = new BankAccount(1234, 5347);\r\n\t\t\r\n\t\tSystem.out.println(account2.equals(account1));\r\n\t\tSystem.out.println(account3.equals(account2));\r\n\t\tSystem.out.println(account4.equals(account2));\r\n\t}\r\n}\r\n```\r\nOutput:\r\n&gt; true  \r\n&gt; true  \r\n&gt; false","title":"Cloned objects aren&#39;t equal","body":"<p>As a supplement to Charles' answer, you have to override <code>public boolean equals(Object obj)</code> method of your <code>BankAccount</code> class.</p>\n<p>And below is an example for your reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class Main {\n    static class BankAccount implements Cloneable {\n        private int id;\n        private int balance;\n        private Date createDate;\n        \n        public BankAccount(int id, int balance) {\n            this.id = id;\n            this.balance = balance;\n            this.createDate = new Date();\n        }\n        \n        public int getId() { return id; }\n        public int getBalance() { return balance; }\n        \n        @Override\n        public Object clone() { \n            try {\n                // shallow copy\n                BankAccount clone = (BankAccount)super.clone();\n                // deep copy\n                clone.createDate = (java.util.Date)(createDate.clone());\n\n                return clone;\n            } catch (CloneNotSupportedException y) {\n                y.printStackTrace();\n                return null;\n            }\n        }\n        \n        // You have to override this function for value comparison\n        @Override\n        public boolean equals(Object obj) {\n            // Check if the passing Object is BankAccount\n            if (!(obj instanceof BankAccount))\n                return false;\n                \n            BankAccount otherBankAccount = (BankAccount) obj;\n            // You need to define your own comparison criteria to determine\n            //  whether 2 BankAccounts are equal\n            if (otherBankAccount.getId() == this.getId() \n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\n                return true;\n            \n            return false;\n        }\n    }\n    \n    public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n        BankAccount account3 = new BankAccount(1111, 5347);\n        BankAccount account4 = new BankAccount(1234, 5347);\n        \n        System.out.println(account2.equals(account1));\n        System.out.println(account3.equals(account2));\n        System.out.println(account4.equals(account2));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>true<br />\ntrue<br />\nfalse</p>\n</blockquote>\n"}],"owner":{"account_id":27705051,"reputation":3,"user_id":21148883,"display_name":"Jack0thy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872195,"answer_count":2,"score":0,"last_activity_date":1680062193,"creation_date":1680050828,"question_id":75872168,"body_markdown":"Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.  \r\n\r\nThis is my clone method:\r\n\r\n\r\n```\r\n  @Override\r\n    public Object clone() { try {\r\n            // shallow copy\r\n            BankAccount clone = (BankAccount)super.clone();\r\n            // deep copy\r\n            clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n            return clone;\r\n        }\r\n        catch (CloneNotSupportedException y) {\r\n           return null; }\r\n```\r\n\r\nThis is my main for testing:\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        BankAccount account1 = new BankAccount(1111, 5347);\r\n        BankAccount account2 = (BankAccount)account1.clone();\r\n\r\n        System.out.println(account2.equals(account1));\r\n```\r\n\r\n\r\n","title":"Cloned objects aren&#39;t equal","body":"<p>Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.</p>\n<p>This is my clone method:</p>\n<pre><code>  @Override\n    public Object clone() { try {\n            // shallow copy\n            BankAccount clone = (BankAccount)super.clone();\n            // deep copy\n            clone.createDate = (java.util.Date)(createDate.clone());\n\n            return clone;\n        }\n        catch (CloneNotSupportedException y) {\n           return null; }\n</code></pre>\n<p>This is my main for testing:</p>\n<pre><code>public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n\n        System.out.println(account2.equals(account1));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1680063947,"post_id":75872942,"comment_id":133831469,"body_markdown":"You could follow https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array","body":"You could follow <a href=\"https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array\" title=\"convert map values into string array\">stackoverflow.com/questions/9328727/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680061612,"creation_date":1680061612,"answer_id":75872962,"question_id":75872942,"body_markdown":"You can pass a function to construct an array of the correct type. `toArray()` without any arguments always returns an array of `Object`s.\r\n\r\n```java\r\nCar[] carArray = cars.values().toArray(Car[]::new);\r\n```","title":"How to convert hasmap values to array","body":"<p>You can pass a function to construct an array of the correct type. <code>toArray()</code> without any arguments always returns an array of <code>Object</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Car[] carArray = cars.values().toArray(Car[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680061692,"creation_date":1680061692,"answer_id":75872967,"question_id":75872942,"body_markdown":"Arrays are low-level constructs you shouldn&#39;t use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need). \r\n\r\n&gt; I now want to create an array of cars from the values\r\n\r\nNo you don&#39;t. You want a `List&lt;Car&gt;` or `Collection&lt;Car&gt;`:\r\n\r\n```\r\nCollection&lt;Car&gt; justCars = cars.values();\r\n// or, if you need list-specific stuff:\r\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\r\n```\r\n\r\nThere&#39;s rather little arrays can do that lists cannot, but there&#39;s a lot that lists can do that arrays cannot.\r\n\r\nBut if you&#39;re somehow convinced you _must_ have an array, this has nothing to do with lists; to convert a collection to an array, don&#39;t call `toArray()`. Instead:\r\n\r\n```\r\nanyCollection.toArray(new Car[0]); // always 0\r\nanyCollection.toArray(Car[]::new); // or this\r\n```\r\n\r\ni.e. `cars.values().toArray(new Car[0])` does the job.\r\n","title":"How to convert hasmap values to array","body":"<p>Arrays are low-level constructs you shouldn't use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need).</p>\n<blockquote>\n<p>I now want to create an array of cars from the values</p>\n</blockquote>\n<p>No you don't. You want a <code>List&lt;Car&gt;</code> or <code>Collection&lt;Car&gt;</code>:</p>\n<pre><code>Collection&lt;Car&gt; justCars = cars.values();\n// or, if you need list-specific stuff:\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\n</code></pre>\n<p>There's rather little arrays can do that lists cannot, but there's a lot that lists can do that arrays cannot.</p>\n<p>But if you're somehow convinced you <em>must</em> have an array, this has nothing to do with lists; to convert a collection to an array, don't call <code>toArray()</code>. Instead:</p>\n<pre><code>anyCollection.toArray(new Car[0]); // always 0\nanyCollection.toArray(Car[]::new); // or this\n</code></pre>\n<p>i.e. <code>cars.values().toArray(new Car[0])</code> does the job.</p>\n"}],"owner":{"account_id":7558027,"reputation":1424,"user_id":5736835,"accept_rate":100,"display_name":"WDUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872967,"answer_count":2,"score":0,"last_activity_date":1680061692,"creation_date":1680061338,"question_id":75872942,"body_markdown":"I have a hashmap setup like this:\r\n\r\n    cars = new HashMap&lt;Integer, Car&gt;();\r\n\r\nI now want to create an array of cars from the values:\r\n\r\n    Car[] carArray = (Car[])cars.values().toArray();\r\n\r\nBut it says I cannot cast\r\n\r\n    java.lang.Object; cannot be cast to Car\r\n\r\nWhat am i doing wrong here?\r\n\r\n","title":"How to convert hasmap values to array","body":"<p>I have a hashmap setup like this:</p>\n<pre><code>cars = new HashMap&lt;Integer, Car&gt;();\n</code></pre>\n<p>I now want to create an array of cars from the values:</p>\n<pre><code>Car[] carArray = (Car[])cars.values().toArray();\n</code></pre>\n<p>But it says I cannot cast</p>\n<pre><code>java.lang.Object; cannot be cast to Car\n</code></pre>\n<p>What am i doing wrong here?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680061581,"post_id":75872933,"comment_id":133831181,"body_markdown":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced.","body":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced."},{"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"score":0,"creation_date":1680061845,"post_id":75872933,"comment_id":133831216,"body_markdown":"How to do that?","body":"How to do that?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1680064353,"post_id":75872933,"comment_id":133831526,"body_markdown":"How did you compile it in the first place?","body":"How did you compile it in the first place?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680064407,"post_id":75872933,"comment_id":133831537,"body_markdown":"The deprecation message says how to do it: by adding `-Xlint:deprecation` to the compiler flags.","body":"The deprecation message says how to do it: by adding <code>-Xlint:deprecation</code> to the compiler flags."}],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680061197,"creation_date":1680061197,"question_id":75872933,"body_markdown":"I am writing a program in java about threads.\r\n\r\n```\r\nclass ThreadOp{\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.out.println(&quot;program started...&quot;);\r\n\t\tint x=36+54;\r\n\t\ttry{\r\n\t\t\tThread.sleep(5000);\r\n\t\t}catch(Exception e){};\r\n\t\tSystem.out.println(&quot;sum is: &quot;+x);\r\n\t\t//Thread...\r\n\t\tThread t=Thread.currentThread();\r\n\t\tString tname=t.getName();\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(&quot;Current running thread is:&quot;+tname);\r\n\t\tt.setName(&quot;MyMain&quot;);\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(t.getId());\r\n\t\t\r\n\t\tSystem.out.println(&quot;program ended...&quot;);\r\n\t}\r\n}\r\n```\r\nHowever I am getting an error:\r\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\r\nNote: ThreadOp.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nWhat can I do to resolve it?\r\n\r\nI am trying to understand how the various methods of threads work.\r\nI am trying to implement the methods.","title":"How t resolve the error?Note: ThreadOp.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details","body":"<p>I am writing a program in java about threads.</p>\n<pre><code>class ThreadOp{\n    public static void main(String[] args){\n        System.out.println(&quot;program started...&quot;);\n        int x=36+54;\n        try{\n            Thread.sleep(5000);\n        }catch(Exception e){};\n        System.out.println(&quot;sum is: &quot;+x);\n        //Thread...\n        Thread t=Thread.currentThread();\n        String tname=t.getName();\n        System.out.println(t.getName());\n        System.out.println(&quot;Current running thread is:&quot;+tname);\n        t.setName(&quot;MyMain&quot;);\n        System.out.println(t.getName());\n        System.out.println(t.getId());\n        \n        System.out.println(&quot;program ended...&quot;);\n    }\n}\n</code></pre>\n<p>However I am getting an error:\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\nNote: ThreadOp.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.</p>\n<p>What can I do to resolve it?</p>\n<p>I am trying to understand how the various methods of threads work.\nI am trying to implement the methods.</p>\n"},{"tags":["java","file","parsing","url","filenames"],"comments":[{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":3,"creation_date":1236073637,"post_id":605696,"comment_id":417884,"body_markdown":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server.","body":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":2,"creation_date":1236074241,"post_id":605696,"comment_id":417920,"body_markdown":"in that case, the result would be an empty string, or maybe null.","body":"in that case, the result would be an empty string, or maybe null."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1236075027,"post_id":605696,"comment_id":417957,"body_markdown":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi","body":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi"},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":3,"creation_date":1236076192,"post_id":605696,"comment_id":418017,"body_markdown":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename.","body":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1236086311,"post_id":605696,"comment_id":418502,"body_markdown":"The client has no means of knowing if the server uses a file!","body":"The client has no means of knowing if the server uses a file!"},{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1337703432,"post_id":605696,"comment_id":13900405,"body_markdown":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way.","body":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":4,"creation_date":1339498798,"post_id":605696,"comment_id":14365383,"body_markdown":"the file name is the part of the url after the last slash.\nthe file extension is the part of the file name after the last period.","body":"the file name is the part of the url after the last slash. the file extension is the part of the file name after the last period."},{"owner":{"account_id":72372,"reputation":1543,"user_id":208992,"accept_rate":95,"display_name":"Spoonface"},"score":0,"creation_date":1353624106,"post_id":605696,"comment_id":18510335,"body_markdown":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java","body":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: <a href=\"http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java\" title=\"how to get name of file object without its extension in java\">stackoverflow.com/questions/8393849/&hellip;</a>"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1430944260,"post_id":605696,"comment_id":48287148,"body_markdown":"Related: http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)","body":"Related: <a href=\"http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri\" title=\"how to obtain the last path segment of an uri\">stackoverflow.com/questions/4050087/&hellip;</a> (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)"}],"answers":[{"tags":[],"owner":{"account_id":24343,"reputation":10249,"user_id":61848,"accept_rate":75,"display_name":"tehvan"},"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1516756676,"creation_date":1236072792,"answer_id":605727,"question_id":605696,"body_markdown":"This should about cut it (i&#39;ll leave the error handling to you):\r\n\r\n    int slashIndex = url.lastIndexOf(&#39;/&#39;);\r\n    int dotIndex = url.lastIndexOf(&#39;.&#39;, slashIndex);\r\n    String filenameWithoutExtension;\r\n    if (dotIndex == -1) {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1);\r\n    } else {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\r\n    }\r\n","title":"Get file name from URL","body":"<p>This should about cut it (i'll leave the error handling to you):</p>\n\n<pre><code>int slashIndex = url.lastIndexOf('/');\nint dotIndex = url.lastIndexOf('.', slashIndex);\nString filenameWithoutExtension;\nif (dotIndex == -1) {\n  filenameWithoutExtension = url.substring(slashIndex + 1);\n} else {\n  filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1236072876,"creation_date":1236072876,"answer_id":605737,"question_id":605696,"body_markdown":"I&#39;ve come up with this:\r\n\r\n    String url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    String file = url.substring(url.lastIndexOf(&#39;/&#39;)+1, url.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>I've come up with this:</p>\n\n<pre><code>String url = \"http://www.example.com/some/path/to/a/file.xml\";\nString file = url.substring(url.lastIndexOf('/')+1, url.lastIndexOf('.'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"down_vote_count":9,"up_vote_count":220,"is_accepted":false,"score":211,"last_activity_date":1236073406,"creation_date":1236073039,"answer_id":605746,"question_id":605696,"body_markdown":"    String fileName = url.substring( url.lastIndexOf(&#39;/&#39;)+1, url.length() );\r\n    \r\n    String fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring( url.lastIndexOf('/')+1, url.length() );\n\nString fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf('.'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23553,"reputation":3609,"user_id":59090,"accept_rate":47,"display_name":"Ricardo Felgueiras"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1236075182,"creation_date":1236075182,"answer_id":605844,"question_id":605696,"body_markdown":"import java.io.*;\r\n \r\n    import java.net.*;\r\n\r\n    public class ConvertURLToFileName{\r\n\r\n\r\n       public static void main(String[] args)throws IOException{\r\n       BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n       System.out.print(&quot;Please enter the URL : &quot;);\r\n  \r\n       String str = in.readLine();\r\n\r\n     \r\n       try{\r\n \r\n         URL url = new URL(str);\r\n \r\n         System.out.println(&quot;File : &quot;+ url.getFile());\r\n         System.out.println(&quot;Converting process Successfully&quot;);\r\n \r\n       }  \r\n       catch (MalformedURLException me){\r\n \r\n          System.out.println(&quot;Converting process error&quot;);\r\n  \r\n     }\r\n\r\nI hope this will help you. ","title":"Get file name from URL","body":"<p>import java.io.*;</p>\n\n<pre><code>import java.net.*;\n\npublic class ConvertURLToFileName{\n\n\n   public static void main(String[] args)throws IOException{\n   BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n   System.out.print(\"Please enter the URL : \");\n\n   String str = in.readLine();\n\n\n   try{\n\n     URL url = new URL(str);\n\n     System.out.println(\"File : \"+ url.getFile());\n     System.out.println(\"Converting process Successfully\");\n\n   }  \n   catch (MalformedURLException me){\n\n      System.out.println(\"Converting process error\");\n\n }\n</code></pre>\n\n<p>I hope this will help you. </p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1474522627,"creation_date":1236075482,"answer_id":605860,"question_id":605696,"body_markdown":"Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.\r\n\r\nI can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html interesting:\r\n\r\n    // Create a file object\r\n    File file = new File(&quot;filename&quot;);\r\n    \r\n    // Convert the file object to a URL\r\n    URL url = null;\r\n    try {\r\n        // The file need not exist. It is made into an absolute path\r\n        // by prefixing the current working directory\r\n        url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\r\n    } catch (MalformedURLException e) {\r\n    }\r\n    \r\n    // Convert the URL to a file object\r\n    file = new File(url.getFile());  // d:/almanac1.4/java.io/filename\r\n    \r\n    // Read the file contents using the URL\r\n    try {\r\n        // Open an input stream\r\n        InputStream is = url.openStream();\r\n    \r\n        // Read from is\r\n    \r\n        is.close();\r\n    } catch (IOException e) {\r\n        // Could not open the file\r\n    }","title":"Get file name from URL","body":"<p>Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.</p>\n\n<p>I can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find <a href=\"http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html\" rel=\"nofollow noreferrer\">http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html</a> interesting:</p>\n\n<pre><code>// Create a file object\nFile file = new File(\"filename\");\n\n// Convert the file object to a URL\nURL url = null;\ntry {\n    // The file need not exist. It is made into an absolute path\n    // by prefixing the current working directory\n    url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\n} catch (MalformedURLException e) {\n}\n\n// Convert the URL to a file object\nfile = new File(url.getFile());  // d:/almanac1.4/java.io/filename\n\n// Read the file contents using the URL\ntry {\n    // Open an input stream\n    InputStream is = url.openStream();\n\n    // Read from is\n\n    is.close();\n} catch (IOException e) {\n    // Could not open the file\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236076510,"creation_date":1236076037,"answer_id":605881,"question_id":605696,"body_markdown":"andy&#39;s answer redone using split():\r\n\r\n    Url u= ...;\r\n    String[] pathparts= u.getPath().split(&quot;\\\\/&quot;);\r\n    String filename= pathparts[pathparts.length-1].split(&quot;\\\\.&quot;, 1)[0];\r\n","title":"Get file name from URL","body":"<p>andy's answer redone using split():</p>\n\n<pre><code>Url u= ...;\nString[] pathparts= u.getPath().split(\"\\\\/\");\nString filename= pathparts[pathparts.length-1].split(\"\\\\.\", 1)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":574438,"reputation":157,"user_id":225940,"display_name":"Mike"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1260132155,"creation_date":1260132155,"answer_id":1856542,"question_id":605696,"body_markdown":"    public static String getFileName(URL extUrl) {\r\n\t\t\t//URL: &quot;http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg&quot;\r\n\t\t\tString filename = &quot;&quot;;\r\n\t\t\t//PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\r\n\t\t\tString path = extUrl.getPath();\r\n\t\t\t//Checks for both forward and/or backslash \r\n\t\t\t//NOTE:**While backslashes are not supported in URL&#39;s \r\n\t\t\t//most browsers will autoreplace them with forward slashes\r\n\t\t\t//So technically if you&#39;re parsing an html page you could run into \r\n\t\t\t//a backslash , so i&#39;m accounting for them here;\r\n\t\t\tString[] pathContents = path.split(&quot;[\\\\\\\\/]&quot;);\r\n\t\t\tif(pathContents != null){\r\n\t\t\t\tint pathContentsLength = pathContents.length;\r\n\t\t\t\tSystem.out.println(&quot;Path Contents Length: &quot; + pathContentsLength);\r\n\t\t\t\tfor (int i = 0; i &lt; pathContents.length; i++) {\r\n\t\t\t\t\tSystem.out.println(&quot;Path &quot; + i + &quot;: &quot; + pathContents[i]);\r\n\t\t\t\t}\r\n\t\t\t\t//lastPart: s659629384_752969_4472.jpg\r\n\t\t\t\tString lastPart = pathContents[pathContentsLength-1];\r\n\t\t\t\tString[] lastPartContents = lastPart.split(&quot;\\\\.&quot;);\r\n\t\t\t\tif(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\r\n\t\t\t\t\tint lastPartContentLength = lastPartContents.length;\r\n\t\t\t\t\tSystem.out.println(&quot;Last Part Length: &quot; + lastPartContentLength);\r\n\t\t\t\t\t//filenames can contain . , so we assume everything before\r\n\t\t\t\t\t//the last . is the name, everything after the last . is the \r\n\t\t\t\t\t//extension\r\n\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\tfor (int i = 0; i &lt; lastPartContentLength; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Last Part &quot; + i + &quot;: &quot;+ lastPartContents[i]);\r\n\t\t\t\t\t\tif(i &lt; (lastPartContents.length -1)){\r\n\t\t\t\t\t\t\tname += lastPartContents[i] ;\r\n\t\t\t\t\t\t\tif(i &lt; (lastPartContentLength -2)){\r\n\t\t\t\t\t\t\t\tname += &quot;.&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString extension = lastPartContents[lastPartContentLength -1];\r\n\t\t\t\t\tfilename = name + &quot;.&quot; +extension;\r\n\t\t\t\t\tSystem.out.println(&quot;Name: &quot; + name);\r\n\t\t\t\t\tSystem.out.println(&quot;Extension: &quot; + extension);\r\n\t\t\t\t\tSystem.out.println(&quot;Filename: &quot; + filename);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn filename;\r\n\t\t}","title":"Get file name from URL","body":"<pre><code>public static String getFileName(URL extUrl) {\n        //URL: \"http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\"\n        String filename = \"\";\n        //PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\n        String path = extUrl.getPath();\n        //Checks for both forward and/or backslash \n        //NOTE:**While backslashes are not supported in URL's \n        //most browsers will autoreplace them with forward slashes\n        //So technically if you're parsing an html page you could run into \n        //a backslash , so i'm accounting for them here;\n        String[] pathContents = path.split(\"[\\\\\\\\/]\");\n        if(pathContents != null){\n            int pathContentsLength = pathContents.length;\n            System.out.println(\"Path Contents Length: \" + pathContentsLength);\n            for (int i = 0; i &lt; pathContents.length; i++) {\n                System.out.println(\"Path \" + i + \": \" + pathContents[i]);\n            }\n            //lastPart: s659629384_752969_4472.jpg\n            String lastPart = pathContents[pathContentsLength-1];\n            String[] lastPartContents = lastPart.split(\"\\\\.\");\n            if(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\n                int lastPartContentLength = lastPartContents.length;\n                System.out.println(\"Last Part Length: \" + lastPartContentLength);\n                //filenames can contain . , so we assume everything before\n                //the last . is the name, everything after the last . is the \n                //extension\n                String name = \"\";\n                for (int i = 0; i &lt; lastPartContentLength; i++) {\n                    System.out.println(\"Last Part \" + i + \": \"+ lastPartContents[i]);\n                    if(i &lt; (lastPartContents.length -1)){\n                        name += lastPartContents[i] ;\n                        if(i &lt; (lastPartContentLength -2)){\n                            name += \".\";\n                        }\n                    }\n                }\n                String extension = lastPartContents[lastPartContentLength -1];\n                filename = name + \".\" +extension;\n                System.out.println(\"Name: \" + name);\n                System.out.println(\"Extension: \" + extension);\n                System.out.println(\"Filename: \" + filename);\n            }\n        }\n        return filename;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388314,"reputation":11,"user_id":747162,"display_name":"Campa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308815785,"creation_date":1308815785,"answer_id":6450978,"question_id":605696,"body_markdown":"\tpublic String getFileNameWithoutExtension(URL url) {\r\n        String path = url.getPath();\r\n        \r\n        if (StringUtils.isBlank(path)) {\r\n        \treturn null;\r\n        }\r\n        if (StringUtils.endsWith(path, &quot;/&quot;)) {\r\n        \t//is a directory ..\r\n        \treturn null;\r\n        }\r\n \t\t\r\n\t\tFile file = new File(url.getPath());\r\n\t\tString fileNameWithExt = file.getName();\r\n\t\t\r\n\t\tint sepPosition = fileNameWithExt.lastIndexOf(&quot;.&quot;);\r\n\t\tString fileNameWithOutExt = null;\r\n\t\tif (sepPosition &gt;= 0) {\r\n\t\t\tfileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\r\n\t\t}else{\r\n\t\t\tfileNameWithOutExt = fileNameWithExt;\r\n\t\t}\r\n\t\t\r\n        return fileNameWithOutExt;\r\n\t}","title":"Get file name from URL","body":"<pre><code>public String getFileNameWithoutExtension(URL url) {\n    String path = url.getPath();\n\n    if (StringUtils.isBlank(path)) {\n        return null;\n    }\n    if (StringUtils.endsWith(path, \"/\")) {\n        //is a directory ..\n        return null;\n    }\n\n    File file = new File(url.getPath());\n    String fileNameWithExt = file.getName();\n\n    int sepPosition = fileNameWithExt.lastIndexOf(\".\");\n    String fileNameWithOutExt = null;\n    if (sepPosition &gt;= 0) {\n        fileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\n    }else{\n        fileNameWithOutExt = fileNameWithExt;\n    }\n\n    return fileNameWithOutExt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2902138,"reputation":228,"user_id":2488520,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371287724,"creation_date":1371287724,"answer_id":17122026,"question_id":605696,"body_markdown":"How about this:\r\n\r\n    String filenameWithoutExtension = null;\r\n    String fullname = new File(\r\n        new URI(&quot;http://www.xyz.com/some/deep/path/to/abc.png&quot;).getPath()).getName();\r\n\r\n    int lastIndexOfDot = fullname.lastIndexOf(&#39;.&#39;);\r\n    filenameWithoutExtension = fullname.substring(0, \r\n        lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\r\n\r\n\r\n    ","title":"Get file name from URL","body":"<p>How about this:</p>\n\n<pre><code>String filenameWithoutExtension = null;\nString fullname = new File(\n    new URI(\"http://www.xyz.com/some/deep/path/to/abc.png\").getPath()).getName();\n\nint lastIndexOfDot = fullname.lastIndexOf('.');\nfilenameWithoutExtension = fullname.substring(0, \n    lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":312539,"reputation":4333,"user_id":626657,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":5,"up_vote_count":232,"is_accepted":true,"score":227,"last_activity_date":1477627857,"creation_date":1371555054,"answer_id":17167743,"question_id":605696,"body_markdown":"Instead of reinventing the wheel, how about using Apache [commons-io][1]:\r\n\r\n    import org.apache.commons.io.FilenameUtils;\r\n    \r\n    public class FilenameUtilTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(&quot;http://www.example.com/some/path/to/a/file.xml?foo=bar#test&quot;);\r\n\r\n            System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\r\n            System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\r\n            System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/","title":"Get file name from URL","body":"<p>Instead of reinventing the wheel, how about using Apache <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">commons-io</a>:</p>\n\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\npublic class FilenameUtilTest {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\"http://www.example.com/some/path/to/a/file.xml?foo=bar#test\");\n\n        System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\n        System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\n        System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249982,"reputation":1137,"user_id":1567675,"accept_rate":22,"display_name":"Bharat Dodeja"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381481594,"creation_date":1381481594,"answer_id":19314042,"question_id":605696,"body_markdown":"Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.\r\n\r\n    import android.webkit.URLUtil;\r\n    \r\n    public String getFileNameFromURL(String url) {\r\n\t\tString fileNameWithExtension = null;\r\n\t\tString fileNameWithoutExtension = null;\r\n\t\tif (URLUtil.isValidUrl(url)) {\r\n\t\t\tfileNameWithExtension = URLUtil.guessFileName(url, null, null);\r\n\t\t\tif (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\r\n\t\t\t\tString[] f = fileNameWithExtension.split(&quot;.&quot;);\r\n\t\t\t\tif (f != null &amp; f.length &gt; 1) {\r\n\t\t\t\t\tfileNameWithoutExtension = f[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fileNameWithoutExtension;\r\n\t}","title":"Get file name from URL","body":"<p>Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.</p>\n\n<pre><code>import android.webkit.URLUtil;\n\npublic String getFileNameFromURL(String url) {\n    String fileNameWithExtension = null;\n    String fileNameWithoutExtension = null;\n    if (URLUtil.isValidUrl(url)) {\n        fileNameWithExtension = URLUtil.guessFileName(url, null, null);\n        if (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\n            String[] f = fileNameWithExtension.split(\".\");\n            if (f != null &amp; f.length &gt; 1) {\n                fileNameWithoutExtension = f[0];\n            }\n        }\n    }\n    return fileNameWithoutExtension;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1383251957,"creation_date":1383251957,"answer_id":19716225,"question_id":605696,"body_markdown":"Urls can have parameters in the end, this\r\n\r\n     /**\r\n     * Getting file name from url without extension\r\n     * @param url string\r\n     * @return file name\r\n     */\r\n    public static String getFileName(String url) {\r\n        String fileName;\r\n        int slashIndex = url.lastIndexOf(&quot;/&quot;);\r\n        int qIndex = url.lastIndexOf(&quot;?&quot;);\r\n        if (qIndex &gt; slashIndex) {//if has parameters\r\n            fileName = url.substring(slashIndex + 1, qIndex);\r\n        } else {\r\n            fileName = url.substring(slashIndex + 1);\r\n        }\r\n        if (fileName.contains(&quot;.&quot;)) {\r\n            fileName = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\r\n        }\r\n\r\n        return fileName;\r\n    }","title":"Get file name from URL","body":"<p>Urls can have parameters in the end, this</p>\n\n<pre><code> /**\n * Getting file name from url without extension\n * @param url string\n * @return file name\n */\npublic static String getFileName(String url) {\n    String fileName;\n    int slashIndex = url.lastIndexOf(\"/\");\n    int qIndex = url.lastIndexOf(\"?\");\n    if (qIndex &gt; slashIndex) {//if has parameters\n        fileName = url.substring(slashIndex + 1, qIndex);\n    } else {\n        fileName = url.substring(slashIndex + 1);\n    }\n    if (fileName.contains(\".\")) {\n        fileName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n    }\n\n    return fileName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256821,"reputation":769,"user_id":1216112,"accept_rate":85,"display_name":"Chaiavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438161894,"creation_date":1408387926,"answer_id":25370132,"question_id":605696,"body_markdown":"In order to return filename **without extension** and **without parameters** use the following:\r\n\r\n    String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\r\n    return filenameWithParams.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n\r\n\r\n\r\n\r\n\r\nIn order to return **filename with extension without params** use this:\r\n\r\n    /** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\r\n     * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\r\n     * This method will remove parameters after the extension\r\n     *\r\n     * @param urlStr original url string from which we will extract the filename\r\n     * @return filename from the url if it exists, or an empty string in all other cases */\r\n    private String getFileNameFromUrl(String urlStr) {\r\n        String baseName = FilenameUtils.getBaseName(urlStr);\r\n        String extension = FilenameUtils.getExtension(urlStr);\r\n\r\n        try {\r\n            extension = extension.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n            return baseName.isEmpty() ? &quot;&quot; : baseName + &quot;.&quot; + extension;\r\n        } catch (NullPointerException npe) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Get file name from URL","body":"<p>In order to return filename <strong>without extension</strong> and <strong>without parameters</strong> use the following:</p>\n\n<pre><code>String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\nreturn filenameWithParams.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n</code></pre>\n\n<p>In order to return <strong>filename with extension without params</strong> use this:</p>\n\n<pre><code>/** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\n * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\n * This method will remove parameters after the extension\n *\n * @param urlStr original url string from which we will extract the filename\n * @return filename from the url if it exists, or an empty string in all other cases */\nprivate String getFileNameFromUrl(String urlStr) {\n    String baseName = FilenameUtils.getBaseName(urlStr);\n    String extension = FilenameUtils.getExtension(urlStr);\n\n    try {\n        extension = extension.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n        return baseName.isEmpty() ? \"\" : baseName + \".\" + extension;\n    } catch (NullPointerException npe) {\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1415397689,"creation_date":1415397004,"answer_id":26810644,"question_id":605696,"body_markdown":"Keep it simple :\r\n\r\n\t/**\r\n\t * This function will take an URL as input and return the file name.\r\n\t * &lt;p&gt;Examples :&lt;/p&gt;\r\n\t * &lt;ul&gt;\r\n\t * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;/ul&gt;\r\n\t * \r\n\t * @param url The input URL\r\n\t * @return The URL file name\r\n\t */\r\n\tpublic static String getFileNameFromUrl(URL url) {\r\n\t\t\r\n\t\tString urlString = url.getFile();\r\n\t\t\r\n\t\treturn urlString.substring(urlString.lastIndexOf(&#39;/&#39;) + 1).split(&quot;\\\\?&quot;)[0].split(&quot;#&quot;)[0];\r\n\t}","title":"Get file name from URL","body":"<p>Keep it simple :</p>\n\n<pre><code>/**\n * This function will take an URL as input and return the file name.\n * &lt;p&gt;Examples :&lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param url The input URL\n * @return The URL file name\n */\npublic static String getFileNameFromUrl(URL url) {\n\n    String urlString = url.getFile();\n\n    return urlString.substring(urlString.lastIndexOf('/') + 1).split(\"\\\\?\")[0].split(\"#\")[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4124772,"reputation":1930,"user_id":3384222,"accept_rate":0,"display_name":"Pravin Bhosale"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422888029,"creation_date":1422888029,"answer_id":28280175,"question_id":605696,"body_markdown":"    create a new file with string image path\r\n    \r\n        String imagePath;\r\n        File test = new File(imagePath);\r\n        test.getName();\r\n        test.getPath();\r\n        getExtension(test.getName());\r\n        \r\n        \r\n        public static String getExtension(String uri) {\r\n        \t\tif (uri == null) {\r\n        \t\t\treturn null;\r\n        \t\t}\r\n        \r\n        \t\tint dot = uri.lastIndexOf(&quot;.&quot;);\r\n        \t\tif (dot &gt;= 0) {\r\n        \t\t\treturn uri.substring(dot);\r\n        \t\t} else {\r\n        \t\t\t// No extension.\r\n        \t\t\treturn &quot;&quot;;\r\n        \t\t}\r\n        \t}","title":"Get file name from URL","body":"<pre><code>create a new file with string image path\n\n    String imagePath;\n    File test = new File(imagePath);\n    test.getName();\n    test.getPath();\n    getExtension(test.getName());\n\n\n    public static String getExtension(String uri) {\n            if (uri == null) {\n                return null;\n            }\n\n            int dot = uri.lastIndexOf(\".\");\n            if (dot &gt;= 0) {\n                return uri.substring(dot);\n            } else {\n                // No extension.\n                return \"\";\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1437111500,"creation_date":1437111500,"answer_id":31469017,"question_id":605696,"body_markdown":"**Get** File **Name with Extension**, **without Extension**, **only Extension** with just 3 line:\r\n\r\n    String urlStr = &quot;http://www.example.com/yourpath/foler/test.png&quot;;\r\n\r\n    String fileName = urlStr.substring(urlStr.lastIndexOf(&#39;/&#39;)+1, urlStr.length());\r\n    String fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));\r\n    String fileExtension = urlStr.substring(urlStr.lastIndexOf(&quot;.&quot;));\r\n\r\n    Log.i(&quot;File Name&quot;, fileName);\r\n    Log.i(&quot;File Name Without Extension&quot;, fileNameWithoutExtension);\r\n    Log.i(&quot;File Extension&quot;, fileExtension);\r\n\r\n\r\n**Log Result:**\r\n\r\n    File Name(13656): test.png\r\n    File Name Without Extension(13656): test\r\n    File Extension(13656): .png\r\n\r\nHope it will help you.","title":"Get file name from URL","body":"<p><strong>Get</strong> File <strong>Name with Extension</strong>, <strong>without Extension</strong>, <strong>only Extension</strong> with just 3 line:</p>\n\n<pre><code>String urlStr = \"http://www.example.com/yourpath/foler/test.png\";\n\nString fileName = urlStr.substring(urlStr.lastIndexOf('/')+1, urlStr.length());\nString fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf('.'));\nString fileExtension = urlStr.substring(urlStr.lastIndexOf(\".\"));\n\nLog.i(\"File Name\", fileName);\nLog.i(\"File Name Without Extension\", fileNameWithoutExtension);\nLog.i(\"File Extension\", fileExtension);\n</code></pre>\n\n<p><strong>Log Result:</strong></p>\n\n<pre><code>File Name(13656): test.png\nFile Name Without Extension(13656): test\nFile Extension(13656): .png\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1448281416,"creation_date":1448281416,"answer_id":33871029,"question_id":605696,"body_markdown":"If you don&#39;t need to get rid of the file extension, here&#39;s a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:\r\n\r\n    import java.net.URI\r\n    import java.nio.file.Paths\r\n    \r\n    String url = &quot;http://example.org/file?p=foo&amp;q=bar&quot;\r\n    String filename = Paths.get(new URI(url).getPath()).getFileName().toString()","title":"Get file name from URL","body":"<p>If you don't need to get rid of the file extension, here's a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:</p>\n\n<pre><code>import java.net.URI\nimport java.nio.file.Paths\n\nString url = \"http://example.org/file?p=foo&amp;q=bar\"\nString filename = Paths.get(new URI(url).getPath()).getFileName().toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1455617893,"creation_date":1455617893,"answer_id":35429735,"question_id":605696,"body_markdown":"    String fileName = url.substring(url.lastIndexOf(&#39;/&#39;) + 1);","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring(url.lastIndexOf('/') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472119197,"creation_date":1472119197,"answer_id":39142179,"question_id":605696,"body_markdown":"If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:\r\n\r\n    public static String getFilenameFromURL(URL url) {\r\n        return new File(url.getPath().toString()).getName();\r\n    }\r\n\r\nFor example, this input URL:\r\n    \r\n    &quot;http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000&quot;\r\n\r\nWould be translated to this output String:\r\n\r\n    image.png","title":"Get file name from URL","body":"<p>If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:</p>\n\n<pre><code>public static String getFilenameFromURL(URL url) {\n    return new File(url.getPath().toString()).getName();\n}\n</code></pre>\n\n<p>For example, this input URL:</p>\n\n<pre><code>\"http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000\"\n</code></pre>\n\n<p>Would be translated to this output String:</p>\n\n<pre><code>image.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482244756,"creation_date":1482242869,"answer_id":41244248,"question_id":605696,"body_markdown":"I&#39;ve found that some urls when passed directly to `FilenameUtils.getName` return unwanted results and this needs to be wrapped up to avoid exploits.\n\nFor example, \n\n    System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n\nreturns\n\n&gt; ..\n\nwhich I doubt anyone wants to allow.\n\nThe following function seems to work fine, and shows some of these test cases, and it returns `null` when the filename can&#39;t be determined.\n\n    public static String getFilenameFromUrl(String url)\n    {\n        if (url == null)\n            return null;\n        \n        try\n        {\n            // Add a protocol if none found\n            if (! url.contains(&quot;//&quot;))\n                url = &quot;http://&quot; + url;\n\n            URL uri = new URL(url);\n            String result = FilenameUtils.getName(uri.getPath());\n\n            if (result == null || result.isEmpty())\n                return null;\n\n            if (result.contains(&quot;..&quot;))\n                return null;\n\n            return result;\n        }\n        catch (MalformedURLException e)\n        {\n            return null;\n        }\n    }\n   \n\n\n  \n### This is wrapped up with some simple tests cases in the following example:\n\n    import java.util.Objects;\n    import java.net.URL;\n    import org.apache.commons.io.FilenameUtils;\n    \n    class Main {\n    \n      public static void main(String[] args) {\n        validateFilename(null, null);\n        validateFilename(&quot;&quot;, null);\n        validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;http://www.google.com&quot;, null);\n        validateFilename(&quot;http://www.google.com#test&quot;, null);\n        validateFilename(&quot;http://www.google.com////&quot;, null);\n        validateFilename(&quot;www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n        validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n      }\n    \n      private static void validateFilename(String url, String expectedFilename){\n        String actualFilename = getFilenameFromUrl(url);\n    \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;url:&quot; + url);\n        System.out.println(&quot;filename:&quot; + expectedFilename);\n    \n        if (! Objects.equals(actualFilename, expectedFilename))\n          throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n      }\n    \n      public static String getFilenameFromUrl(String url)\n      {\n        if (url == null)\n          return null;\n    \n        try\n        {\n          // Add a protocol if none found\n          if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n    \n          URL uri = new URL(url);\n          String result = FilenameUtils.getName(uri.getPath());\n    \n          if (result == null || result.isEmpty())\n            return null;\n    \n          if (result.contains(&quot;..&quot;))\n            return null;\n    \n          return result;\n        }\n        catch (MalformedURLException e)\n        {\n          return null;\n        }\n      }\n    }\n\n","title":"Get file name from URL","body":"<p>I've found that some urls when passed directly to <code>FilenameUtils.getName</code> return unwanted results and this needs to be wrapped up to avoid exploits.</p>\n<p>For example,</p>\n<pre><code>System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n</code></pre>\n<p>returns</p>\n<blockquote>\n<p>..</p>\n</blockquote>\n<p>which I doubt anyone wants to allow.</p>\n<p>The following function seems to work fine, and shows some of these test cases, and it returns <code>null</code> when the filename can't be determined.</p>\n<pre><code>public static String getFilenameFromUrl(String url)\n{\n    if (url == null)\n        return null;\n    \n    try\n    {\n        // Add a protocol if none found\n        if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n\n        URL uri = new URL(url);\n        String result = FilenameUtils.getName(uri.getPath());\n\n        if (result == null || result.isEmpty())\n            return null;\n\n        if (result.contains(&quot;..&quot;))\n            return null;\n\n        return result;\n    }\n    catch (MalformedURLException e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<h3>This is wrapped up with some simple tests cases in the following example:</h3>\n<pre><code>import java.util.Objects;\nimport java.net.URL;\nimport org.apache.commons.io.FilenameUtils;\n\nclass Main {\n\n  public static void main(String[] args) {\n    validateFilename(null, null);\n    validateFilename(&quot;&quot;, null);\n    validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;http://www.google.com&quot;, null);\n    validateFilename(&quot;http://www.google.com#test&quot;, null);\n    validateFilename(&quot;http://www.google.com////&quot;, null);\n    validateFilename(&quot;www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n    validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n  }\n\n  private static void validateFilename(String url, String expectedFilename){\n    String actualFilename = getFilenameFromUrl(url);\n\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;url:&quot; + url);\n    System.out.println(&quot;filename:&quot; + expectedFilename);\n\n    if (! Objects.equals(actualFilename, expectedFilename))\n      throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n  }\n\n  public static String getFilenameFromUrl(String url)\n  {\n    if (url == null)\n      return null;\n\n    try\n    {\n      // Add a protocol if none found\n      if (! url.contains(&quot;//&quot;))\n        url = &quot;http://&quot; + url;\n\n      URL uri = new URL(url);\n      String result = FilenameUtils.getName(uri.getPath());\n\n      if (result == null || result.isEmpty())\n        return null;\n\n      if (result.contains(&quot;..&quot;))\n        return null;\n\n      return result;\n    }\n    catch (MalformedURLException e)\n    {\n      return null;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496234241,"creation_date":1496234241,"answer_id":44285041,"question_id":605696,"body_markdown":"Beyond the all advanced methods, my simple trick is `StringTokenizer`:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class URLName {\r\n    \tpublic static void main(String args[]){\r\n    \t\tString url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    \t\tStringTokenizer tokens = new StringTokenizer(url, &quot;/&quot;);\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\twhile(tokens.hasMoreTokens()){\r\n    \t\t\tparts.add(tokens.nextToken());\r\n    \t\t}\r\n    \t\tString file = parts.get(parts.size() -1);\r\n    \t\tint dot = file.indexOf(&quot;.&quot;);\r\n    \t\tString fileName = file.substring(0, dot);\r\n    \t\tSystem.out.println(fileName);\r\n    \t}\r\n    }","title":"Get file name from URL","body":"<p>Beyond the all advanced methods, my simple trick is <code>StringTokenizer</code>:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.StringTokenizer;\n\npublic class URLName {\n    public static void main(String args[]){\n        String url = \"http://www.example.com/some/path/to/a/file.xml\";\n        StringTokenizer tokens = new StringTokenizer(url, \"/\");\n\n        ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\n\n        while(tokens.hasMoreTokens()){\n            parts.add(tokens.nextToken());\n        }\n        String file = parts.get(parts.size() -1);\n        int dot = file.indexOf(\".\");\n        String fileName = file.substring(0, dot);\n        System.out.println(fileName);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":137257,"reputation":4974,"user_id":341320,"accept_rate":76,"display_name":"juanmirocks"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1568118317,"creation_date":1510153998,"answer_id":47183212,"question_id":605696,"body_markdown":"One liner:\r\n\r\n\r\n    new File(uri.getPath).getName\r\n\r\n\r\nComplete code (in a scala REPL):\r\n\r\n\r\n    import java.io.File\r\n    import java.net.URI\r\n    \r\n    val uri = new URI(&quot;http://example.org/file.txt?whatever&quot;)\r\n    \r\n    new File(uri.getPath).getName\r\n    res18: String = file.txt\r\n\r\n**Note**: `URI#gePath` is already intelligent enough to strip off query parameters and the protocol&#39;s scheme. Examples:\r\n\r\n\r\n    new URI(&quot;http://example.org/hey/file.txt?whatever&quot;).getPath\r\n    res20: String = /hey/file.txt\r\n    \r\n    new URI(&quot;hdfs:///hey/file.txt&quot;).getPath\r\n    res21: String = /hey/file.txt\r\n    \r\n    new URI(&quot;file:///hey/file.txt&quot;).getPath\r\n    res22: String = /hey/file.txt","title":"Get file name from URL","body":"<p>One liner:</p>\n\n<pre><code>new File(uri.getPath).getName\n</code></pre>\n\n<p>Complete code (in a scala REPL):</p>\n\n<pre><code>import java.io.File\nimport java.net.URI\n\nval uri = new URI(\"http://example.org/file.txt?whatever\")\n\nnew File(uri.getPath).getName\nres18: String = file.txt\n</code></pre>\n\n<p><strong>Note</strong>: <code>URI#gePath</code> is already intelligent enough to strip off query parameters and the protocol's scheme. Examples:</p>\n\n<pre><code>new URI(\"http://example.org/hey/file.txt?whatever\").getPath\nres20: String = /hey/file.txt\n\nnew URI(\"hdfs:///hey/file.txt\").getPath\nres21: String = /hey/file.txt\n\nnew URI(\"file:///hey/file.txt\").getPath\nres22: String = /hey/file.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279796,"reputation":74,"user_id":3858815,"display_name":"EricE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510517777,"creation_date":1510517777,"answer_id":47253488,"question_id":605696,"body_markdown":"The `Url` object in [urllib][1] allows you to access the path&#39;s unescaped filename. Here are some examples:\r\n\r\n    String raw = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    assertEquals(&quot;file.xml&quot;, Url.parse(raw).path().filename());\r\n\r\n    raw = &quot;http://www.example.com/files/r%C3%A9sum%C3%A9.pdf&quot;;\r\n    assertEquals(&quot;r&#233;sum&#233;.pdf&quot;, Url.parse(raw).path().filename());\r\n\r\n\r\n  [1]: https://github.com/EricEdens/urllib","title":"Get file name from URL","body":"<p>The <code>Url</code> object in <a href=\"https://github.com/EricEdens/urllib\" rel=\"nofollow noreferrer\">urllib</a> allows you to access the path's unescaped filename. Here are some examples:</p>\n\n<pre><code>String raw = \"http://www.example.com/some/path/to/a/file.xml\";\nassertEquals(\"file.xml\", Url.parse(raw).path().filename());\n\nraw = \"http://www.example.com/files/r%C3%A9sum%C3%A9.pdf\";\nassertEquals(\"résumé.pdf\", Url.parse(raw).path().filename());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5000772,"reputation":534,"user_id":4019879,"display_name":"Giang Phan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1530950225,"creation_date":1530950225,"answer_id":51221150,"question_id":605696,"body_markdown":"There are some ways:\r\n\r\n**Java 7 File I/O:**\r\n\r\n    String fileName = Paths.get(strUrl).getFileName().toString();\r\n\r\n**Apache Commons:**\r\n\r\n    String fileName = FilenameUtils.getName(strUrl);\r\n\r\n**Using Jersey:**\r\n\r\n    UriBuilder buildURI = UriBuilder.fromUri(strUrl);\r\n    URI uri = buildURI.build();\r\n    String fileName = Paths.get(uri.getPath()).getFileName();\r\n\r\n**Substring:**\r\n\r\n    String fileName = strUrl.substring(strUrl.lastIndexOf(&#39;/&#39;) + 1);\r\n\r\n","title":"Get file name from URL","body":"<p>There are some ways:</p>\n\n<p><strong>Java 7 File I/O:</strong></p>\n\n<pre><code>String fileName = Paths.get(strUrl).getFileName().toString();\n</code></pre>\n\n<p><strong>Apache Commons:</strong></p>\n\n<pre><code>String fileName = FilenameUtils.getName(strUrl);\n</code></pre>\n\n<p><strong>Using Jersey:</strong></p>\n\n<pre><code>UriBuilder buildURI = UriBuilder.fromUri(strUrl);\nURI uri = buildURI.build();\nString fileName = Paths.get(uri.getPath()).getFileName();\n</code></pre>\n\n<p><strong>Substring:</strong></p>\n\n<pre><code>String fileName = strUrl.substring(strUrl.lastIndexOf('/') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14892216,"reputation":9,"user_id":10935531,"display_name":"Via Marie Inte"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1549853318,"creation_date":1549853318,"answer_id":54623329,"question_id":605696,"body_markdown":"I have the same problem, with yours. I solved it by this:\r\n\r\n    var URL = window.location.pathname; // Gets page name\r\n    var page = URL.substring(URL.lastIndexOf(&#39;/&#39;) + 1); \r\n    console.info(page)\r\n","title":"Get file name from URL","body":"<p>I have the same problem, with yours. I solved it by this:</p>\n\n<pre><code>var URL = window.location.pathname; // Gets page name\nvar page = URL.substring(URL.lastIndexOf('/') + 1); \nconsole.info(page)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4392368,"reputation":2150,"user_id":3580357,"display_name":"Benjamin Caure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567598929,"creation_date":1567598929,"answer_id":57788089,"question_id":605696,"body_markdown":"If you are using **Spring**, there is a [helper](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html) to handle URIs.\r\nHere is the solution:\r\n\r\n\r\n    List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\r\n    String filename = pathSegments.get(pathSegments.size()-1);","title":"Get file name from URL","body":"<p>If you are using <strong>Spring</strong>, there is a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html\" rel=\"nofollow noreferrer\">helper</a> to handle URIs.\nHere is the solution:</p>\n\n<pre><code>List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\nString filename = pathSegments.get(pathSegments.size()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218716,"reputation":11,"user_id":1185798,"display_name":"GangrenaGastrit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583944511,"creation_date":1583944511,"answer_id":60640685,"question_id":605696,"body_markdown":"return new File(Uri.parse(url).getPath()).getName()","title":"Get file name from URL","body":"<p>return new File(Uri.parse(url).getPath()).getName()</p>\n"},{"tags":[],"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658347203,"creation_date":1658347203,"answer_id":73057493,"question_id":605696,"body_markdown":"String fileNameWithExtension = url.substring( url.lastIndexOf(&#39;/&#39;)+1);\r\n\r\nString fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>String fileNameWithExtension = url.substring( url.lastIndexOf('/')+1);</p>\n<p>String fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf('.'));</p>\n"},{"tags":[],"owner":{"account_id":28154175,"reputation":1,"user_id":21515151,"display_name":"Sticky Bandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680060877,"creation_date":1680060706,"answer_id":75872895,"question_id":605696,"body_markdown":"All these answers are either too much code or don&#39;t address if the url ends in a / or what if it ends in a ///.\r\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.\r\n\r\n    if(remoteURL!=null) {\r\n      String[] urlParts=remoteURL.split(&quot;/&quot;);\r\n      String filename=urlParts[urlParts.length-1];\r\n    }","title":"Get file name from URL","body":"<p>All these answers are either too much code or don't address if the url ends in a / or what if it ends in a ///.\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.</p>\n<pre><code>if(remoteURL!=null) {\n  String[] urlParts=remoteURL.split(&quot;/&quot;);\n  String filename=urlParts[urlParts.length-1];\n}\n</code></pre>\n"}],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251188,"favorite_count":0,"down_vote_count":1,"up_vote_count":178,"accepted_answer_id":17167743,"answer_count":29,"score":177,"last_activity_date":1680060877,"creation_date":1236072265,"question_id":605696,"body_markdown":"In Java, given a `java.net.URL` or a `String` in the form of `http://www.example.com/some/path/to/a/file.xml` , what is the easiest way to get the file name, minus the extension? So, in this example, I&#39;m looking for something that returns `&quot;file&quot;`. \r\n\r\nI can think of several ways to do this, but I&#39;m looking for something that&#39;s easy to read and short.","title":"Get file name from URL","body":"<p>In Java, given a <code>java.net.URL</code> or a <code>String</code> in the form of <code>http://www.example.com/some/path/to/a/file.xml</code> , what is the easiest way to get the file name, minus the extension? So, in this example, I'm looking for something that returns <code>\"file\"</code>. </p>\n\n<p>I can think of several ways to do this, but I'm looking for something that's easy to read and short.</p>\n"},{"tags":["java","spring","gradle","compilation","querydsl"],"owner":{"account_id":27295548,"reputation":11,"user_id":20813230,"display_name":"박민규"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680059723,"creation_date":1680057958,"question_id":75872681,"body_markdown":"inteliJ 2022.3.2\r\ngradle 7.6 version\r\n\r\n\\&lt;build.gradle\\&gt;\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n    }\r\n    \r\n    group = &#39;heyuniverse&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n        querydsl.extendsFrom compileClasspath\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    //    implementation &#39;ch.pete.appconfig:appconfig:0.1.0&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n        implementation group: &#39;org.javassist&#39;, name: &#39;javassist&#39;, version: &#39;3.15.0-GA&#39;\r\n    \r\n        // === QueryDsl\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties[&#39;querydsl.version&#39;]}:jakarta&quot;\r\n    //    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\r\n        annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\r\n    \r\n        //JWT\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-api&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-impl&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-jackson&#39;, version: &#39;0.11.2&#39;\r\n    \r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    def querydslDir = &quot;$buildDir/generated/querydsl&quot;\r\n    \r\n    \r\n    clean {\r\n        delete file(&quot;build/generated&quot;)\r\n    }\r\n    \r\n    querydsl {\r\n        library = &quot;com.querydsl:querydsl-apt&quot;\r\n        jpa = true\r\n        querydslSourcesDir = querydslDir\r\n    }\r\n    \r\n    sourceSets {\r\n        main.java.srcDir querydslDir\r\n    }\r\n    \r\n    compileQuerydsl {\r\n        options.annotationProcessorPath = configurations.querydsl\r\n    }\r\n\r\nI am developing a web application using the above development environment. \r\n\r\nI am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    \r\n    \r\n    Compilation failed; see the compiler error output for details.\r\n    \r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    \r\n    \r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 4s\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n\r\nI have tried various solutions, but I haven&#39;t been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.\r\n\r\nI have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.\r\n","title":"An error occurs during the build process in a spring project","body":"<p>inteliJ 2022.3.2\ngradle 7.6 version</p>\n<p>&lt;build.gradle&gt;</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'heyuniverse'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    querydsl.extendsFrom compileClasspath\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n//    implementation 'ch.pete.appconfig:appconfig:0.1.0'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'org.javassist', name: 'javassist', version: '3.15.0-GA'\n\n    // === QueryDsl\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties['querydsl.version']}:jakarta&quot;\n//    annotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\n    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\n\n    //JWT\n    implementation group: 'io.jsonwebtoken', name: 'jjwt-api', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-impl', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-jackson', version: '0.11.2'\n\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ndef querydslDir = &quot;$buildDir/generated/querydsl&quot;\n\n\nclean {\n    delete file(&quot;build/generated&quot;)\n}\n\nquerydsl {\n    library = &quot;com.querydsl:querydsl-apt&quot;\n    jpa = true\n    querydslSourcesDir = querydslDir\n}\n\nsourceSets {\n    main.java.srcDir querydslDir\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n</code></pre>\n<p>I am developing a web application using the above development environment.</p>\n<p>I am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':compileJava'.\n\n\nCompilation failed; see the compiler error output for details.\n\nTry:\nRun with --stacktrace option to get the stack trace.\n\n\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 4s\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n</code></pre>\n<p>I have tried various solutions, but I haven't been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.</p>\n<p>I have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1421597851,"post_id":28011888,"comment_id":44411027,"body_markdown":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?","body":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?"},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598154,"post_id":28011888,"comment_id":44411140,"body_markdown":"Added a screenshot @BranislavLazic.","body":"Added a screenshot @BranislavLazic."},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598181,"post_id":28011888,"comment_id":44411151,"body_markdown":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines","body":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1421598350,"post_id":28011888,"comment_id":44411212,"body_markdown":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer.","body":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1421599584,"creation_date":1421598130,"answer_id":28011967,"question_id":28011888,"body_markdown":"IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.\r\n\r\nIn your case, right click the `src/main` directory in the project structure view and select *Mark directory As/Sources Root*. That should fix it.\r\n\r\n---\r\n\r\nAlso, Gradle expects Java classes to be placed in `src/main/java` (and test Java classes in `src/test/java`) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.\r\n\r\nHere is a quote from [Gradle guide][1] regarding this issue:\r\n\r\n&gt; Gradle expects to find your production source code under src/main/java\r\n&gt; and your test source code under src/test/java\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html","title":"IntelliJ how do I generate a new class?","body":"<p>IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.</p>\n\n<p>In your case, right click the <code>src/main</code> directory in the project structure view and select <em>Mark directory As/Sources Root</em>. That should fix it.</p>\n\n<hr>\n\n<p>Also, Gradle expects Java classes to be placed in <code>src/main/java</code> (and test Java classes in <code>src/test/java</code>) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.</p>\n\n<p>Here is a quote from <a href=\"http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html\">Gradle guide</a> regarding this issue:</p>\n\n<blockquote>\n  <p>Gradle expects to find your production source code under src/main/java\n  and your test source code under src/test/java</p>\n</blockquote>\n"}],"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16381,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28011967,"answer_count":1,"score":10,"last_activity_date":1680059492,"creation_date":1421597673,"question_id":28011888,"body_markdown":"When I go to my project structure and right click -&gt; new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)\r\n\r\n![intellij][1]\r\n\r\n  [1]: http://i.stack.imgur.com/x3Luh.png","title":"IntelliJ how do I generate a new class?","body":"<p>When I go to my project structure and right click -> new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/x3Luh.png\" alt=\"intellij\"></p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"score":1,"creation_date":1352376612,"post_id":13288735,"comment_id":18118401,"body_markdown":"What&#39;s the value given for ${java.home}?","body":"What&#39;s the value given for ${java.home}?"},{"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"score":0,"creation_date":1352376973,"post_id":13288735,"comment_id":18118537,"body_markdown":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?","body":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377617,"post_id":13288735,"comment_id":18118810,"body_markdown":"@metalmadz JAVA_HOME is environment variable","body":"@metalmadz JAVA_HOME is environment variable"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377643,"post_id":13288735,"comment_id":18118825,"body_markdown":"@cuberoot, i am running it from within the Eclipse","body":"@cuberoot, i am running it from within the Eclipse"},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1352378287,"post_id":13288735,"comment_id":18119134,"body_markdown":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?","body":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?"}],"answers":[{"tags":[],"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352378045,"creation_date":1352378045,"answer_id":13289242,"question_id":13288735,"body_markdown":"Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.\r\n\r\nMake sure you have set your JRE in Eclipse preferences to your desired JDK.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.</p>\n\n<p>Make sure you have set your JRE in Eclipse preferences to your desired JDK.</p>\n"},{"tags":[],"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352378710,"creation_date":1352378710,"answer_id":13289356,"question_id":13288735,"body_markdown":"It seems your JAVA_HOME is set to point to the JRE in eclipse.","title":"Maven not picking JAVA_HOME correctly","body":"<p>It seems your JAVA_HOME is set to point to the JRE in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352492246,"creation_date":1352397868,"answer_id":13295026,"question_id":13288735,"body_markdown":"You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. \r\n\r\nAlso in order to check what runtime Maven is using just call\r\n\r\n    mvn -v\r\n\r\nIf you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run \r\n \r\n    mvn dependency:tree\r\n\r\nor if that fails just remove one dependency after another until the problems is gone for the command above. \r\n\r\nThen, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. </p>\n\n<p>Also in order to check what runtime Maven is using just call</p>\n\n<pre><code>mvn -v\n</code></pre>\n\n<p>If you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run </p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>or if that fails just remove one dependency after another until the problems is gone for the command above. </p>\n\n<p>Then, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.</p>\n"},{"tags":[],"owner":{"account_id":35226,"reputation":9468,"user_id":99691,"accept_rate":40,"display_name":"gordy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360022888,"creation_date":1360022888,"answer_id":14698032,"question_id":13288735,"body_markdown":"When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.","title":"Maven not picking JAVA_HOME correctly","body":"<p>When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1423581414,"creation_date":1397726288,"answer_id":23129154,"question_id":13288735,"body_markdown":"It&#39;s a bug in the Eclipse Maven support. Eclipse doesn&#39;t support all of the global Maven properties as per the [**Maven specs**][1].\r\n\r\n  [1]: http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\r\n\r\nAccording to the specs:\r\n\r\n&gt; ${java.home} specifies the path to the current JRE_HOME environment\r\n&gt; use with relative paths to get for example\r\n\r\nAt least in Eclipse 4.3.1 that is not the case, here `java.home` always points to the *JRE that was used to launch Eclipse*, not the build JRE.\r\n\r\nTo fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to `eclipse.ini` (*before* `-vmargs`!):\r\n\r\n    -vm\r\n    C:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>It's a bug in the Eclipse Maven support. Eclipse doesn't support all of the global Maven properties as per the <a href=\"http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\"><strong>Maven specs</strong></a>.</p>\n\n<p>According to the specs:</p>\n\n<blockquote>\n  <p>${java.home} specifies the path to the current JRE_HOME environment\n  use with relative paths to get for example</p>\n</blockquote>\n\n<p>At least in Eclipse 4.3.1 that is not the case, here <code>java.home</code> always points to the <em>JRE that was used to launch Eclipse</em>, not the build JRE.</p>\n\n<p>To fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to <code>eclipse.ini</code> (<em>before</em> <code>-vmargs</code>!):</p>\n\n<pre><code>-vm\nC:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5159476,"reputation":21,"user_id":4131642,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413883851,"creation_date":1413883851,"answer_id":26483355,"question_id":13288735,"body_markdown":"Maven ${java.home} property is set and taken from different places depending your Eclipse execution: \r\n\r\n - from the default JRE selected for the workspace\r\n&gt; Window&gt;Preferences&gt;Java&gt;Installed JREs\r\n\r\n - from the specific Eclipse project, \r\n\r\n     &gt; Java Build Path&gt;Libraries&gt;JRE System Library\r\n\r\n - from the Run configuration.\r\n\r\n     &gt;Run Configurations&gt; Specific Run Configuration &gt; JRE\r\n\r\nRemember your JRE home paths points to a JDK or JRE under JDK\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>Maven ${java.home} property is set and taken from different places depending your Eclipse execution: </p>\n\n<ul>\n<li><p>from the default JRE selected for the workspace</p>\n\n<blockquote>\n  <p>Window>Preferences>Java>Installed JREs</p>\n</blockquote></li>\n<li><p>from the specific Eclipse project, </p>\n\n<blockquote>\n  <p>Java Build Path>Libraries>JRE System Library</p>\n</blockquote></li>\n<li><p>from the Run configuration.</p>\n\n<blockquote>\n  <p>Run Configurations> Specific Run Configuration > JRE</p>\n</blockquote></li>\n</ul>\n\n<p>Remember your JRE home paths points to a JDK or JRE under JDK</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484869586,"creation_date":1484869586,"answer_id":41753759,"question_id":13288735,"body_markdown":"You might be using the wrong Maven installation. Switch it in Window &gt; Preferences &gt; Maven &gt; Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.\r\n\r\nI suspect what was causing this issue is that the Fedora Maven install was using Fedora&#39;s OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora&#39;s OpenJDK is weird and non-standard), so Maven can&#39;t find it.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You might be using the wrong Maven installation. Switch it in Window > Preferences > Maven > Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.</p>\n\n<p>I suspect what was causing this issue is that the Fedora Maven install was using Fedora's OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora's OpenJDK is weird and non-standard), so Maven can't find it.</p>\n"},{"tags":[],"owner":{"account_id":191465,"reputation":2509,"user_id":432053,"accept_rate":60,"display_name":"Vijay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580404722,"creation_date":1580404722,"answer_id":59991263,"question_id":13288735,"body_markdown":"Also look in the .mavenrc file in your home dir. \r\nThis caught me off guard. \r\n\r\nI changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. ","title":"Maven not picking JAVA_HOME correctly","body":"<p>Also look in the .mavenrc file in your home dir. \nThis caught me off guard. </p>\n\n<p>I changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. </p>\n"},{"tags":[],"owner":{"account_id":2453,"reputation":3435,"user_id":3419,"accept_rate":50,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631818381,"creation_date":1631818381,"answer_id":69213726,"question_id":13288735,"body_markdown":"Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.</p>\n"},{"tags":[],"owner":{"account_id":25613331,"reputation":41,"user_id":19386384,"display_name":"Carlos Eduardo Gorges"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680057082,"creation_date":1680057082,"answer_id":75872615,"question_id":13288735,"body_markdown":"it&#39;s just a bug in maven support for eclipse. You can ignore this error for now.\r\n\r\nThe support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2&#39;s JDBC driver license) that never will resided in a public repository ...","title":"Maven not picking JAVA_HOME correctly","body":"<p>it's just a bug in maven support for eclipse. You can ignore this error for now.</p>\n<p>The support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2's JDBC driver license) that never will resided in a public repository ...</p>\n"}],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71903,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":23129154,"answer_count":10,"score":35,"last_activity_date":1680057082,"creation_date":1352376209,"question_id":13288735,"body_markdown":"I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.\r\n\r\nAs I added them maven started complaining for the missing `tools.jar`, so i added below to my `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen i ran the maven install, i got an error for the missing jar as below :\r\n\r\n    [ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\r\n\r\nThe issue is that the `tools.jar` is in &quot;`C:\\Program Files\\Java\\jdk1.6.0_26\\lib`&quot; and is correctly set in the `JAVA_HOME` environment variable but the maven is still looking in jre folder as in error message &quot;`C:\\Program Files\\Java\\jre6\\lib\\tools.jar`&quot;.\r\n\r\n    C:\\&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk1.6.0_26\r\n\r\n**Interestingly**: when i set the full path in dependency, it worked just fine. But i don&#39;t want to hard code it.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan someone suggest any dynamic solution for this?","title":"Maven not picking JAVA_HOME correctly","body":"<p>I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.</p>\n\n<p>As I added them maven started complaining for the missing <code>tools.jar</code>, so i added below to my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When i ran the maven install, i got an error for the missing jar as below :</p>\n\n<pre><code>[ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\n</code></pre>\n\n<p>The issue is that the <code>tools.jar</code> is in \"<code>C:\\Program Files\\Java\\jdk1.6.0_26\\lib</code>\" and is correctly set in the <code>JAVA_HOME</code> environment variable but the maven is still looking in jre folder as in error message \"<code>C:\\Program Files\\Java\\jre6\\lib\\tools.jar</code>\".</p>\n\n<pre><code>C:\\&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.6.0_26\n</code></pre>\n\n<p><strong>Interestingly</strong>: when i set the full path in dependency, it worked just fine. But i don't want to hard code it.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can someone suggest any dynamic solution for this?</p>\n"},{"tags":["java","mysql","spring-boot","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680056748,"creation_date":1680056748,"answer_id":75872596,"question_id":75870191,"body_markdown":"Seems to me like perhaps your Spring code is trying to connect to some **local** MySQL instance? i.e. your `application-test.properties` Spring config is not using a remote server? `mysql -h` has nothing to do with your `mvn test` command... \r\n\r\nIn any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use [TestContainers](https://www.testcontainers.org/modules/databases/jdbc/) to start/run/stop a whole database server as part of your tests. \r\n\r\nOtherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you&#39;re really using at runtime will always do the correct thing. ","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>Seems to me like perhaps your Spring code is trying to connect to some <strong>local</strong> MySQL instance? i.e. your <code>application-test.properties</code> Spring config is not using a remote server? <code>mysql -h</code> has nothing to do with your <code>mvn test</code> command...</p>\n<p>In any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">TestContainers</a> to start/run/stop a whole database server as part of your tests.</p>\n<p>Otherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you're really using at runtime will always do the correct thing.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680056748,"creation_date":1680030685,"question_id":75870191,"body_markdown":"I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:\r\n\r\nI have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.\r\n\r\nTo troubleshoot the issue, I am adding the following step for testing purposes:\r\n\r\n    stage(&#39;Run the test cases&#39;){\r\n     \tsteps{\r\n     \twithCredentials([usernamePassword(credentialsId: &#39;4a632d56-baf5-4455-90fe-21e6823f58f1&#39;, passwordVariable: &#39;password&#39;, usernameVariable: &#39;user&#39;)]) {\r\n            sh &quot;mysql connection&quot;\r\n            sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\r\n            sh &quot;connection testing done&quot;\r\n            sh &quot;mvn test&quot;\r\n        }\r\n     \t}\r\n    }\r\n\r\nI have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.\r\n\r\n**Error:\r\nERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/run/mysqld/mysqld.sock&#39; (2)**\r\n\r\nAny help would be really appeciated:","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:</p>\n<p>I have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.</p>\n<p>To troubleshoot the issue, I am adding the following step for testing purposes:</p>\n<pre><code>stage('Run the test cases'){\n    steps{\n    withCredentials([usernamePassword(credentialsId: '4a632d56-baf5-4455-90fe-21e6823f58f1', passwordVariable: 'password', usernameVariable: 'user')]) {\n        sh &quot;mysql connection&quot;\n        sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\n        sh &quot;connection testing done&quot;\n        sh &quot;mvn test&quot;\n    }\n    }\n}\n</code></pre>\n<p>I have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.</p>\n<p><strong>Error:\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/run/mysqld/mysqld.sock' (2)</strong></p>\n<p>Any help would be really appeciated:</p>\n"},{"tags":["javascript","python","java","selenium-webdriver","robotframework"],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680055875,"creation_date":1679910654,"question_id":75854316,"body_markdown":"How to perform localization testing on MAC OS.\r\n\r\nI am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.\r\n         \r\n```\r\n*** Settings ***\r\n    Documentation    Tests to check Rendering of webApps\r\n    Library    SeleniumLibrary\r\n    Resource     ../../../../../resources/commonFunctionality.robot\r\n    \r\n    *** Variables ***\r\n    ${googleF}     https://google.com\r\n\r\n    ${g1}      صور  \r\n    \r\n    *** Test Cases ***\r\n    \r\n    Arabic_Fragment_Win_WebApps_Rendering\r\n         [Documentation]     Test to check  websites are rendering in Arabic language\r\n         [Tags]     261FARAC\r\n          Open brower go to url google.com\r\n          Validate that google page is render in specified language\r\n          close browser\r\n    \r\n    *** Keywords ***\r\n    Open brower go to url google.com\r\n        ${options}=    Evaluate    sys.modules[&#39;selenium.webdriver&#39;].ChromeOptions()    sys, selenium.webdriver\r\n        #Call Method    ${options}    add_argument    --headless\r\n        Call Method    ${options}    add_argument    --no-sandbox\r\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\r\n        Call Method    ${options}    add_argument    --lang\\=ar\r\n        Create WebDriver    Chrome    chrome_options=${options}\r\n        go to    ${googleF}\r\n        maximize browser window\r\n        sleep  12 seconds\r\n    \r\n    Validate that google page is render in specified language\r\n        ${googlevalidation}=    get text     xpath://a[text()=&#39;صور&#39;]\r\n        log to console      ${googlevalidation}\r\n        should be equal as strings      ${g1}      ${googlevalidation}\r\n    \r\n```\r\n   ","title":"Localization testing in MAC system with selenium and robot framework","body":"<p>How to perform localization testing on MAC OS.</p>\n<p>I am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.</p>\n<pre><code>*** Settings ***\n    Documentation    Tests to check Rendering of webApps\n    Library    SeleniumLibrary\n    Resource     ../../../../../resources/commonFunctionality.robot\n    \n    *** Variables ***\n    ${googleF}     https://google.com\n\n    ${g1}      صور  \n    \n    *** Test Cases ***\n    \n    Arabic_Fragment_Win_WebApps_Rendering\n         [Documentation]     Test to check  websites are rendering in Arabic language\n         [Tags]     261FARAC\n          Open brower go to url google.com\n          Validate that google page is render in specified language\n          close browser\n    \n    *** Keywords ***\n    Open brower go to url google.com\n        ${options}=    Evaluate    sys.modules['selenium.webdriver'].ChromeOptions()    sys, selenium.webdriver\n        #Call Method    ${options}    add_argument    --headless\n        Call Method    ${options}    add_argument    --no-sandbox\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\n        Call Method    ${options}    add_argument    --lang\\=ar\n        Create WebDriver    Chrome    chrome_options=${options}\n        go to    ${googleF}\n        maximize browser window\n        sleep  12 seconds\n    \n    Validate that google page is render in specified language\n        ${googlevalidation}=    get text     xpath://a[text()='صور']\n        log to console      ${googlevalidation}\n        should be equal as strings      ${g1}      ${googlevalidation}\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"score":0,"creation_date":1683524794,"post_id":75872462,"comment_id":134374200,"body_markdown":"I got this working","body":"I got this working"}],"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054939,"creation_date":1680054939,"question_id":75872462,"body_markdown":"I&#39;m displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.\r\n```\r\n&lt;table&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt; ID &lt;/th&gt;\r\n            &lt;th&gt; Date &lt;/th&gt;\r\n            &lt;th&gt; User &lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\r\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\r\n            &lt;/form&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\n[image of times in html table](https://i.stack.imgur.com/zGr79.png)\r\n\r\nThe thing I&#39;m having a problem with is adding the time to a user that selects it. I&#39;m using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.\r\n```\r\n@PostMapping(&quot;/add_time_user&quot;)\r\npublic String addTime(Authentication authentication, Time time) {\r\n    if (authentication != null) {\r\n        User user = userService.getUser(authentication.getName());\r\n        user.setTime(time.getTime());\r\n    }\r\n    System.out.println(time.getId());\r\n    System.out.println(authentication.getName());\r\n\r\n    return &quot;redirect:/times&quot;;\r\n}\r\n```\r\nWhen I tried this though, the time was always null but I was able to retrieve the user. I don&#39;t know if I&#39;m sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I&#39;d try it with this.\r\n\r\nI also looked into another selection option but it was a drop down and I&#39;m looking for using the button next to the item in a list.","title":"How do I select an item from a table or ordered list in thymeleaf and assign a value from the list to a user?","body":"<p>I'm displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.</p>\n<pre><code>&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt; ID &lt;/th&gt;\n            &lt;th&gt; Date &lt;/th&gt;\n            &lt;th&gt; User &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\n            &lt;/form&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zGr79.png\" rel=\"nofollow noreferrer\">image of times in html table</a></p>\n<p>The thing I'm having a problem with is adding the time to a user that selects it. I'm using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.</p>\n<pre><code>@PostMapping(&quot;/add_time_user&quot;)\npublic String addTime(Authentication authentication, Time time) {\n    if (authentication != null) {\n        User user = userService.getUser(authentication.getName());\n        user.setTime(time.getTime());\n    }\n    System.out.println(time.getId());\n    System.out.println(authentication.getName());\n\n    return &quot;redirect:/times&quot;;\n}\n</code></pre>\n<p>When I tried this though, the time was always null but I was able to retrieve the user. I don't know if I'm sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I'd try it with this.</p>\n<p>I also looked into another selection option but it was a drop down and I'm looking for using the button next to the item in a list.</p>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":28153595,"reputation":1,"user_id":21514663,"display_name":"Tresmail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054916,"creation_date":1680054916,"question_id":75872460,"body_markdown":"Get the key and values of a record/struct from a Bigquery Java result. \r\n\r\n\r\n\r\n```\r\n\t\tBigQuery bigquery = BigQueryOptions.newBuilder()\r\n\t\t    .setCredentials(credentials)\r\n\t\t    .build()\r\n\t\t    .getService();\r\n\r\n\r\n\t\tQueryJobConfiguration queryConfig =\r\n\t\t    QueryJobConfiguration.newBuilder(\r\n\t\t        &quot;SELECT * FROM `table` LIMIT 2&quot;)\r\n\t\t    \t.setUseLegacySql(false)\r\n\t\t        .build();\r\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n    \r\n        queryJob = queryJob.waitFor();\r\n    \r\n        if (queryJob == null) {\r\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\r\n        } \r\n        else if (queryJob.getStatus().getError() != null) {\r\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\r\n        }\r\n        TableResult result = queryJob.getQueryResults();\r\n\t\tfor (FieldValueList row : result.iterateAll()) {\r\n\t\t\t  FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\r\n\t\t\t  FieldValueList tRow = tFieldValue.getRecordValue();\r\n}\r\n```\r\nI can&#39;t find any functionality within the Bigquery API that allows you to find the key and value pairs. I&#39;ve looked at the schema:\r\n`\t\tSchema schema = result.getSchema(); `, and it does show that the value is indeed returning as a record with repeated fields.","title":"Get the key value pair of record fields","body":"<p>Get the key and values of a record/struct from a Bigquery Java result.</p>\n<pre><code>        BigQuery bigquery = BigQueryOptions.newBuilder()\n            .setCredentials(credentials)\n            .build()\n            .getService();\n\n\n        QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(\n                &quot;SELECT * FROM `table` LIMIT 2&quot;)\n                .setUseLegacySql(false)\n                .build();\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n    \n        queryJob = queryJob.waitFor();\n    \n        if (queryJob == null) {\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\n        } \n        else if (queryJob.getStatus().getError() != null) {\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\n        }\n        TableResult result = queryJob.getQueryResults();\n        for (FieldValueList row : result.iterateAll()) {\n              FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\n              FieldValueList tRow = tFieldValue.getRecordValue();\n}\n</code></pre>\n<p>I can't find any functionality within the Bigquery API that allows you to find the key and value pairs. I've looked at the schema:\n<code>      Schema schema = result.getSchema();</code>, and it does show that the value is indeed returning as a record with repeated fields.</p>\n"},{"tags":["java","firefox","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1416518972,"creation_date":1416517730,"answer_id":27049597,"question_id":27049514,"body_markdown":"`By.className` is looking for a class with the name entered.\r\n\r\n`By.cssSelector` is looking for a match for the selector you entered.\r\n\r\nWhat you&#39;re attempting is to match the text of the `div` against `class`, which won&#39;t work.\r\n\r\nYou can try something like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//div[contains(text(),&#39;&quot;+expectedText+&quot;&#39;)]&quot;)).click();","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p><code>By.className</code> is looking for a class with the name entered.</p>\n\n<p><code>By.cssSelector</code> is looking for a match for the selector you entered.</p>\n\n<p>What you're attempting is to match the text of the <code>div</code> against <code>class</code>, which won't work.</p>\n\n<p>You can try something like this:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(text(),'\"+expectedText+\"')]\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5359948,"reputation":1,"user_id":4271532,"display_name":"Anthony Long"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1545220521,"creation_date":1416517762,"answer_id":27049609,"question_id":27049514,"body_markdown":"I believe this will work:\r\n\r\n    driver.findElement(By.className(&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;).click();\r\n","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>I believe this will work:</p>\n\n<pre><code>driver.findElement(By.className(\"x-grid3-cell-inner x-grid3-col-expRepCol\").click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1680054824,"creation_date":1562035419,"answer_id":56844649,"question_id":27049514,"body_markdown":"    &lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\r\n    &lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\r\n\r\nThe above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.\r\n    \r\n    # for selenium old version:\r\n    driver.find_element_by_css_selector(&quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\n\r\n    # for selenium new version\r\n    driver.find_element(By.CSS_SELECTOR, &quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\nIn the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.\r\n\r\nfind elements with css selector partial match on attribute values:\r\n[![find elements with css selector partial match on attribute values][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jbq1z.jpg","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<pre><code>&lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\n&lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\n</code></pre>\n<p>The above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.</p>\n<pre><code># for selenium old version:\ndriver.find_element_by_css_selector(&quot;div[class^='dd algo algo-sr']&quot;)\n\n# for selenium new version\ndriver.find_element(By.CSS_SELECTOR, &quot;div[class^='dd algo algo-sr']&quot;)\n</code></pre>\n<p>In the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.</p>\n<p>find elements with css selector partial match on attribute values:\n<a href=\"https://i.stack.imgur.com/jbq1z.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jbq1z.jpg\" alt=\"find elements with css selector partial match on attribute values\" /></a></p>\n"}],"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32398,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27049597,"answer_count":3,"score":8,"last_activity_date":1680054824,"creation_date":1416517338,"question_id":27049514,"body_markdown":"In the frame I&#39;m working with, I have the following element:\r\n\r\n    &lt;div class=&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\r\n\r\nAs well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.className(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nAnd I have also tried with cssSelector:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.cssSelector(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nBut WebDriver keeps throwing an exception stating it&#39;s unable to locate that element.  Any suggestions as to what could be the problem?","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>In the frame I'm working with, I have the following element:</p>\n\n<pre><code>&lt;div class=\"x-grid3-cell-inner x-grid3-col-expRepCol\"&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\n</code></pre>\n\n<p>As well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.className(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>And I have also tried with cssSelector:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.cssSelector(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>But WebDriver keeps throwing an exception stating it's unable to locate that element.  Any suggestions as to what could be the problem?</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680088470,"post_id":75872435,"comment_id":133836832,"body_markdown":"You don&#39;t seem to have created a Docker network; see [How to communicate between Docker containers via &quot;hostname&quot;](https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695).  `localhost` in Docker is almost always the current container and not another container or the host system and you probably need a `docker run -e SPRING_DATASOURCE_URL=...` option to point your application container at the database.","body":"You don&#39;t seem to have created a Docker network; see <a href=\"https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695\">How to communicate between Docker containers via &quot;hostname&quot;</a>.  <code>localhost</code> in Docker is almost always the current container and not another container or the host system and you probably need a <code>docker run -e SPRING_DATASOURCE_URL=...</code> option to point your application container at the database."}],"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680054636,"creation_date":1680054636,"question_id":75872435,"body_markdown":"I am making a java spring boot application and I am having difficulties setting up the database.\r\n\r\nthis is my docker set up:\r\n\r\n\r\n```\r\n pull docker image \r\n\r\n $ docker pull mysql:latest\r\n\r\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\r\n \r\n now mysql server is running now let us pull the phpmyadmin and create the container\r\n\r\n $ docker pull phpmyadmin/phpmyadmin:latest\r\n\r\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\r\n```\r\nand this is my application.properties: \r\n\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=pass123\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n\r\n```\r\nEvery time I run the program I get this:\r\n\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nI tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.","title":"The driver has not received any packets from the server","body":"<p>I am making a java spring boot application and I am having difficulties setting up the database.</p>\n<p>this is my docker set up:</p>\n<pre><code> pull docker image \n\n $ docker pull mysql:latest\n\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\n \n now mysql server is running now let us pull the phpmyadmin and create the container\n\n $ docker pull phpmyadmin/phpmyadmin:latest\n\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\n</code></pre>\n<p>and this is my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=pass123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n</code></pre>\n<p>Every time I run the program I get this:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.</p>\n"},{"tags":["java","maven","evosuite"],"answers":[{"tags":[],"owner":{"account_id":11323030,"reputation":89,"user_id":8302867,"display_name":"Rakesh Mahendrakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524078824,"creation_date":1524078824,"answer_id":49907385,"question_id":49883301,"body_markdown":"I guess you are looking at parameters which will be used to generate unit tests using maven:\r\nI use below maven command for me to generate and test\r\n\r\n    mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\r\n\r\nAbove command should be able to generate the tests and execute. \r\n\r\nYou can refer to this article if you need more information on the Evosuite with Maven http://www.evosuite.org/documentation/maven-plugin/","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>I guess you are looking at parameters which will be used to generate unit tests using maven:\nI use below maven command for me to generate and test</p>\n\n<pre><code>mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\n</code></pre>\n\n<p>Above command should be able to generate the tests and execute. </p>\n\n<p>You can refer to this article if you need more information on the Evosuite with Maven <a href=\"http://www.evosuite.org/documentation/maven-plugin/\" rel=\"nofollow noreferrer\">http://www.evosuite.org/documentation/maven-plugin/</a></p>\n"}],"owner":{"account_id":10952630,"reputation":357,"user_id":8048523,"display_name":"ttk203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680054292,"creation_date":1523982972,"question_id":49883301,"body_markdown":"When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:\r\n\r\n\r\n    $ java -jar evosuite-1.0.6.jar -listParameters\r\n    ...\r\n    sandbox              boolean        true               Execute tests in a sandbox environment\r\n    sandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\r\n    ...\r\n\r\nNormally those parameters are passed simply by `-D&lt;param&gt;=&lt;value&gt;`.\r\nHowever for my project I&#39;m using Maven and not invoking Evosuite direclty from the command line.\r\n\r\nI tried `mvn -D&lt;param&gt;=&lt;value&gt;` but it doesn&#39;t seem to work. Any idea on how to accomplish that ?\r\n\r\n","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:</p>\n\n<pre><code>$ java -jar evosuite-1.0.6.jar -listParameters\n...\nsandbox              boolean        true               Execute tests in a sandbox environment\nsandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\n...\n</code></pre>\n\n<p>Normally those parameters are passed simply by <code>-D&lt;param&gt;=&lt;value&gt;</code>.\nHowever for my project I'm using Maven and not invoking Evosuite direclty from the command line.</p>\n\n<p>I tried <code>mvn -D&lt;param&gt;=&lt;value&gt;</code> but it doesn't seem to work. Any idea on how to accomplish that ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":416696,"reputation":8975,"user_id":792232,"accept_rate":75,"display_name":"Abhi"},"score":0,"creation_date":1327306678,"post_id":8968687,"comment_id":11233751,"body_markdown":"refer this link http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query","body":"refer this link <a href=\"http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query\" title=\"android problem getting contacts photo from data email query\">stackoverflow.com/questions/5332333/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":79683,"reputation":12454,"user_id":225780,"accept_rate":100,"display_name":"Adrian F&#226;ciu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327306767,"creation_date":1327306767,"answer_id":8968740,"question_id":8968687,"body_markdown":"You can use [ContactsContract.Contacts.Photo][1] to get the picture for the specified contact.\r\n\r\nFull example from the above documentation link:\r\n\r\n    public InputStream openDisplayPhoto(long contactId) {\r\n         Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\r\n         Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\r\n         try {\r\n             AssetFileDescriptor fd =\r\n                 getContentResolver().openAssetFileDescriptor(displayPhotoUri, &quot;r&quot;);\r\n             return fd.createInputStream();\r\n         } catch (IOException e) {\r\n             return null;\r\n         }\r\n     }\r\n\r\n  [1]: http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html","title":"how to get photo from contacts?","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html\" rel=\"nofollow\">ContactsContract.Contacts.Photo</a> to get the picture for the specified contact.</p>\n\n<p>Full example from the above documentation link:</p>\n\n<pre><code>public InputStream openDisplayPhoto(long contactId) {\n     Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\n     Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\n     try {\n         AssetFileDescriptor fd =\n             getContentResolver().openAssetFileDescriptor(displayPhotoUri, \"r\");\n         return fd.createInputStream();\n     } catch (IOException e) {\n         return null;\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":1185553,"reputation":540,"user_id":1159613,"accept_rate":50,"display_name":"Wolf87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680053470,"answer_count":1,"score":1,"last_activity_date":1680053479,"creation_date":1327306355,"question_id":8968687,"body_markdown":"I want to get photo from contacts, if some contacts don&#39;t have photo to return default photo(just silhouette), how can I do that?\r\nThanks in advance,\r\nWolf.","title":"how to get photo from contacts?","body":"<p>I want to get photo from contacts, if some contacts don't have photo to return default photo(just silhouette), how can I do that?\nThanks in advance,\nWolf.</p>\n"},{"tags":["java","amazon-web-services","sdk","version"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1680053103,"post_id":75872156,"comment_id":133830292,"body_markdown":"Checking with the SDK team if V2 has an equilivant class.","body":"Checking with the SDK team if V2 has an equilivant class."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680053457,"creation_date":1680053457,"answer_id":75872348,"question_id":75872156,"body_markdown":"This might be want you are looking for:\r\n\r\n[software.amazon.awssdk.core.util.VersionInfo][1]\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>This might be want you are looking for:</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html\" rel=\"nofollow noreferrer\">software.amazon.awssdk.core.util.VersionInfo</a></p>\n"}],"owner":{"account_id":3460669,"reputation":13,"user_id":9627598,"display_name":"W. Ely Paysinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75872348,"answer_count":1,"score":1,"last_activity_date":1680053457,"creation_date":1680050703,"question_id":75872156,"body_markdown":"Same question as [here](https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051) except for this question is for the [v2 sdk](https://sdk.amazonaws.com/java/api/latest/index.html).\r\n\r\n&gt; I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.\r\n&gt; \r\n&gt; Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?\r\n\r\n\r\n\r\nI&#39;ve tried looking in the [Github repo](https://github.com/aws/aws-sdk-java-v2) as well as the [API docs](https://sdk.amazonaws.com/java/api/latest/index.html)  but can&#39;t seem to find it.","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>Same question as <a href=\"https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051\">here</a> except for this question is for the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">v2 sdk</a>.</p>\n<blockquote>\n<p>I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.</p>\n<p>Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?</p>\n</blockquote>\n<p>I've tried looking in the <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">Github repo</a> as well as the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">API docs</a>  but can't seem to find it.</p>\n"},{"tags":["java","apache-commons-logging"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679956675,"post_id":75860461,"comment_id":133810963,"body_markdown":"Check whether you use `log4j` or `log4j2` as logging api. Depending on that your properties and configuration files may be named differently. https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","body":"Check whether you use <code>log4j</code> or <code>log4j2</code> as logging api. Depending on that your properties and configuration files may be named differently. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680043137,"creation_date":1680043137,"answer_id":75871645,"question_id":75860461,"body_markdown":"Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:\r\n\r\n    -Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\r\n\r\nSimple- I know- but I was missing the file: in my path.\r\n\r\n","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:</p>\n<pre><code>-Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\n</code></pre>\n<p>Simple- I know- but I was missing the file: in my path.</p>\n"}],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75871645,"answer_count":1,"score":1,"last_activity_date":1680053398,"creation_date":1679952003,"question_id":75860461,"body_markdown":"I have a Java application that uses Apache Commons Logging. Currently the config file for this is in `src/main/resources/`. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.  \r\n\r\nI have tried the following to specify a directory named config which will be at the same level as the jar file:\r\n\r\n    static {\r\n       System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\r\n    }\r\n    private Log logger = LogFactory.getLog(MyClass.class);\r\n\r\nI have also tried:\r\n\r\n    -Dlog4j.configuration=file://./config/log4j.properties\r\n\r\nI have tried several variations of the -D, some with file, some without.\r\n\r\nHow do I move the configuration file to outside the Jar?","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>I have a Java application that uses Apache Commons Logging. Currently the config file for this is in <code>src/main/resources/</code>. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.</p>\n<p>I have tried the following to specify a directory named config which will be at the same level as the jar file:</p>\n<pre><code>static {\n   System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\n}\nprivate Log logger = LogFactory.getLog(MyClass.class);\n</code></pre>\n<p>I have also tried:</p>\n<pre><code>-Dlog4j.configuration=file://./config/log4j.properties\n</code></pre>\n<p>I have tried several variations of the -D, some with file, some without.</p>\n<p>How do I move the configuration file to outside the Jar?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680052460,"creation_date":1680052460,"answer_id":75872276,"question_id":74987912,"body_markdown":"This may not be the exact answer.\r\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\r\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.\r\n\r\n","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>This may not be the exact answer.\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.</p>\n"}],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680052460,"creation_date":1672702340,"question_id":74987912,"body_markdown":"I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\r\nI am stuck at a point where the vsCode is not able to import the following two classes\r\n\r\n1. org.springframework.cloud.stream.annotation.Output\r\n2. org.springframework.messaging.MessageChannel\r\n\r\nThe Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project&#39;s build.gradle\r\n\r\n\r\n```\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-rabbit&#39;)\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-kafka&#39;)\r\n```\r\n\r\nI also tried adding the following in the cradle-wrapper.properties\r\n  distributionUrl=https\\://github.com/spring-cloud/spring-cloud-release.wiki.git\r\nhowever, it did not help\r\n\r\nHere is a portion of my build.gradle which describes the boot version, java version\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;product-composite-service&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11.0.16.1&#39;\r\n\r\n```\r\n\r\n```\r\next {\r\n\tspringCloudVersion = &quot;2021.0.5.RELEASE&quot;\r\n}\r\n\r\n```\r\n\r\nAlso based on \r\n\r\nThis is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.\r\n\r\n\r\nRegards,\r\nPrakash\r\n\r\n\r\n\r\n\r\nMentioned in the problem.","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\nI am stuck at a point where the vsCode is not able to import the following two classes</p>\n<ol>\n<li>org.springframework.cloud.stream.annotation.Output</li>\n<li>org.springframework.messaging.MessageChannel</li>\n</ol>\n<p>The Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project's build.gradle</p>\n<pre><code>    implementation('org.springframework.cloud:spring-cloud-starter-stream-rabbit')\n    implementation('org.springframework.cloud:spring-cloud-starter-stream-kafka')\n</code></pre>\n<p>I also tried adding the following in the cradle-wrapper.properties\ndistributionUrl=https://github.com/spring-cloud/spring-cloud-release.wiki.git\nhowever, it did not help</p>\n<p>Here is a portion of my build.gradle which describes the boot version, java version</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.4'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n}\n\ngroup = 'product-composite-service'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11.0.16.1'\n\n</code></pre>\n<pre><code>ext {\n    springCloudVersion = &quot;2021.0.5.RELEASE&quot;\n}\n\n</code></pre>\n<p>Also based on</p>\n<p>This is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.</p>\n<p>Regards,\nPrakash</p>\n<p>Mentioned in the problem.</p>\n"},{"tags":["java","ssl-certificate"],"owner":{"account_id":2337062,"reputation":149,"user_id":2049142,"accept_rate":44,"display_name":"user2049142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680052990,"answer_count":0,"score":0,"last_activity_date":1680052069,"creation_date":1680052069,"question_id":75872254,"body_markdown":"I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I&#39;m just not sure how to do it. ","title":"How do I configure embedded tomcat server to use self signed certificate?","body":"<p>I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I'm just not sure how to do it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1680054140,"post_id":75871050,"comment_id":133830401,"body_markdown":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.\n\n&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;","body":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.  &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680051647,"creation_date":1680051647,"answer_id":75872229,"question_id":75871050,"body_markdown":"Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:\r\n\r\n```\r\nnotificationManager.createNotificationChannel(\r\n            NotificationChannel(\r\n                CHANNEL_ID, CHANNEL_NAME,\r\n                NotificationManager.IMPORTANCE_DEFAULT\r\n            )\r\n        )\r\n```\r\nRead [here](https://developer.android.com/develop/ui/views/notifications/channels)\r\n\r\nFrom Android 13 onwards, request `POST_NOTIFICATIONS` runtime permission. Read [here](https://developer.android.com/develop/ui/views/notifications/notification-permission)","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<p>Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:</p>\n<pre><code>notificationManager.createNotificationChannel(\n            NotificationChannel(\n                CHANNEL_ID, CHANNEL_NAME,\n                NotificationManager.IMPORTANCE_DEFAULT\n            )\n        )\n</code></pre>\n<p>Read <a href=\"https://developer.android.com/develop/ui/views/notifications/channels\" rel=\"nofollow noreferrer\">here</a></p>\n<p>From Android 13 onwards, request <code>POST_NOTIFICATIONS</code> runtime permission. Read <a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":18471408,"reputation":5,"user_id":13456203,"display_name":"THE Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680051647,"creation_date":1680037409,"question_id":75871050,"body_markdown":"```\r\npackage com.example.notification;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.res.ResourcesCompat;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\r\n    private  static final  int  NOTIFICATION_ID= 100;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\r\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\r\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\r\n\r\n\r\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\nNotification notification;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .setChannelId(CHANNEL_ID)\r\n                    .build();\r\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\r\n\r\n        } else{\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .build();\r\n\r\n        }\r\n        nm.notify(NOTIFICATION_ID,notification);\r\n    }\r\n}\r\n```\r\nhere is the code i write \r\n\r\n\r\ncan you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<pre><code>package com.example.notification;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.res.ResourcesCompat;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\n    private  static final  int  NOTIFICATION_ID= 100;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\n\n\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\nNotification notification;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .setChannelId(CHANNEL_ID)\n                    .build();\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\n\n        } else{\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .build();\n\n        }\n        nm.notify(NOTIFICATION_ID,notification);\n    }\n}\n</code></pre>\n<p>here is the code i write</p>\n<p>can you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................</p>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564623665,"post_id":57299879,"comment_id":101095124,"body_markdown":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like.","body":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564645311,"post_id":57299879,"comment_id":101101000,"body_markdown":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console","body":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564647450,"post_id":57299879,"comment_id":101102153,"body_markdown":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this [SO Thread](https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes). This sort of thing will always give issues (imho).","body":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this <a href=\"https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes\">SO Thread</a>. This sort of thing will always give issues (imho)."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564647835,"post_id":57299879,"comment_id":101102370,"body_markdown":"But you can see in the SO Thread link you gave people able to make it work.\nMy problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong","body":"But you can see in the SO Thread link you gave people able to make it work. My problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":0,"creation_date":1608509919,"post_id":57299879,"comment_id":115598901,"body_markdown":"I supported, see first screenshot at https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold.","body":"I supported, see first screenshot at <a href=\"https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold."}],"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680050914,"creation_date":1564614405,"question_id":57299879,"body_markdown":"I am using eclipse IDE latest version with this plugin:\r\n\r\n[https://github.com/mihnita/ansi-econsole][1]\r\n\r\nor\r\n\r\n[https://mihai-nita.net/java/][2]\r\n\r\nand\r\n\r\n[https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg][3]\r\n\r\nAnd like you can see in the picture the plugin should support **italic/bold/underline** \r\n\r\nBut I can not make it work.\r\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.\r\n\r\nI checked here:\r\n[https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println][4]\r\n\r\n\r\n\r\n\t\tSystem.out.println(&quot;Hello \\u001b[1;31mred\\u001b[0m world!&quot;);\r\n\t\tSystem.out.println(&quot;\\033[0;1m&quot; + &quot;Bold text&quot;);\r\n\t\tSystem.out.println(&quot;\\u001B[1m&quot; + &quot;I am bold&quot;);\r\n\r\n\r\nI want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin\r\n\r\n\r\n  [1]: https://github.com/mihnita/ansi-econsole\r\n  [2]: https://mihai-nita.net/java/\r\n  [3]: https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\r\n  [4]: https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","title":"Print bold text to console output","body":"<p>I am using eclipse IDE latest version with this plugin:</p>\n\n<p><a href=\"https://github.com/mihnita/ansi-econsole\" rel=\"nofollow noreferrer\">https://github.com/mihnita/ansi-econsole</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://mihai-nita.net/java/\" rel=\"nofollow noreferrer\">https://mihai-nita.net/java/</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\" rel=\"nofollow noreferrer\">https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg</a></p>\n\n<p>And like you can see in the picture the plugin should support <strong>italic/bold/underline</strong> </p>\n\n<p>But I can not make it work.\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.</p>\n\n<p>I checked here:\n<a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a></p>\n\n<pre><code>    System.out.println(\"Hello \\u001b[1;31mred\\u001b[0m world!\");\n    System.out.println(\"\\033[0;1m\" + \"Bold text\");\n    System.out.println(\"\\u001B[1m\" + \"I am bold\");\n</code></pre>\n\n<p>I want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9453,"page":539,"page_size":100}
