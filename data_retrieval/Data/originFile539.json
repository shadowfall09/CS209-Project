{"items":[{"tags":["java","java-time","milliseconds"],"comments":[{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":8,"creation_date":1680008109,"post_id":75866488,"comment_id":133820252,"body_markdown":"You can [`ldt.plus(1, ChronoUnit.MILLIS)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#plus(long,java.time.temporal.TemporalUnit)).","body":"You can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#plus(long,java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>ldt.plus(1, ChronoUnit.MILLIS)</code></a>."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1680008320,"post_id":75866488,"comment_id":133820322,"body_markdown":"If there is such a function in later versions: No. You can look that up in the API documentation. For example [Java SE 20 API docs for `LocalDateTime`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html).","body":"If there is such a function in later versions: No. You can look that up in the API documentation. For example <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">Java SE 20 API docs for <code>LocalDateTime</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1680008880,"creation_date":1680008308,"answer_id":75866572,"question_id":75866488,"body_markdown":"Adding nanoseconds is a completely valid way of doing this. If you want a solution that is more self-explanatory, you can use [`LocalDateTime#plus(long, TemporalUnit)`][1]:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;, FORMATTER);\r\n\t\tlocalDateTime = localDateTime.plus(1L, ChronoUnit.MILLIS);\r\n        //         How much you are adding ^              ^ What you are adding\r\n\r\n\t\tSystem.out.println(FORMATTER.format(localDateTime));\r\n\t}\r\n\r\nThe [`TemporalUnit`][2] parameter explains exactly what you are adding to the the timestamp, thus making your code more easily understandable to other programmers who may be viewing it. It also takes care of the unit conversions behind the scenes, so there is less margin for human error and your code is not cluttered with math.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plus-long-java.time.temporal.TemporalUnit-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html","title":"LocalDateTime add millisecond","body":"<p>Adding nanoseconds is a completely valid way of doing this. If you want a solution that is more self-explanatory, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plus-long-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\"><code>LocalDateTime#plus(long, TemporalUnit)</code></a>:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n\npublic static void main(String[] args) {\n    LocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;, FORMATTER);\n    localDateTime = localDateTime.plus(1L, ChronoUnit.MILLIS);\n    //         How much you are adding ^              ^ What you are adding\n\n    System.out.println(FORMATTER.format(localDateTime));\n}\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\"><code>TemporalUnit</code></a> parameter explains exactly what you are adding to the the timestamp, thus making your code more easily understandable to other programmers who may be viewing it. It also takes care of the unit conversions behind the scenes, so there is less margin for human error and your code is not cluttered with math.</p>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680092705,"post_id":75871162,"comment_id":133837953,"body_markdown":"This was originally going to be my answer. I&#39;m happy to see you posted it - I like using Duration :) To add to the latter half of your answer, you can also use [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html), which may be easier for someone accustomed to using LocalDateTime.","body":"This was originally going to be my answer. I&#39;m happy to see you posted it - I like using Duration :) To add to the latter half of your answer, you can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>, which may be easier for someone accustomed to using LocalDateTime."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680117014,"post_id":75871162,"comment_id":133844906,"body_markdown":"@CardinalSystem I see your point. I added a brief mention of `ZonedDateTime`. Thanks.","body":"@CardinalSystem I see your point. I added a brief mention of <code>ZonedDateTime</code>. Thanks."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680117374,"creation_date":1680038360,"answer_id":75871162,"question_id":75866488,"body_markdown":"The [Answer by Cardinal System][1] is correct. \r\n\r\n# `Duration`\r\n\r\nAn alternative is use of `Duration` class with [`LocalDateTime#plus`][2]. \r\n\r\nA [`Duration`][3] object represents a span of time not attached to the timeline, on a scale of hours, minutes, seconds, and fractional second.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2022-01-01 00:00:00.123&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;  // Replace SPACE with `T` to comply with standard ISO 8601 format.\r\n    Duration duration = Duration.ofMillis( 1L ) ;\r\n    LocalDateTime later = ldt.plus( duration ) ;\r\n\r\n\r\n----------\r\n\r\nBy the way, be aware that `LocalDateTime` is inherently ambiguous. That class represents a date with a time-of-day but lacks a time zone or offset-from-UTC needed to determine a point on the timeline.\r\n\r\nFor a specific point on the timeline, use `Instant`. \r\n\r\n    Instant instant = Instant.now() ;\r\n    Instant later = instant.plus( duration ) ;\r\n\r\nTo see that same moment through the lens of a particular time zone, apply a `ZoneId` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    ZonedDateTime zdt = later.atZone( z ) ;\r\n\r\nSee this code [run at Ideone.com][4]. Note the differences: (a) one millisecond later, and (b) different time-of-day &amp; different date.\r\n\r\n```none\r\ninstant.toString(): 2023-03-29T19:12:16.727887Z\r\nlater.toString(): 2023-03-29T19:12:16.728887Z\r\nzdt.toString(): 2023-03-30T08:12:16.728887+13:00[Pacific/Auckland]\r\n```\r\n\r\nIf you want only milliseconds, you can truncate to clear the microseconds &amp; nanoseconds to zero.\r\n\r\n    Instant trunc = instant.truncatedTo( ChronoUnit.MILLIS ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75866572/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html#plus(java.time.temporal.TemporalAmount)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\r\n  [4]: https://ideone.com/nat4i6","title":"LocalDateTime add millisecond","body":"<p>The <a href=\"https://stackoverflow.com/a/75866572/642706\">Answer by Cardinal System</a> is correct.</p>\n<h1><code>Duration</code></h1>\n<p>An alternative is use of <code>Duration</code> class with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html#plus(java.time.temporal.TemporalAmount)\" rel=\"nofollow noreferrer\"><code>LocalDateTime#plus</code></a>.</p>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> object represents a span of time not attached to the timeline, on a scale of hours, minutes, seconds, and fractional second.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2022-01-01 00:00:00.123&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;  // Replace SPACE with `T` to comply with standard ISO 8601 format.\nDuration duration = Duration.ofMillis( 1L ) ;\nLocalDateTime later = ldt.plus( duration ) ;\n</code></pre>\n<hr />\n<p>By the way, be aware that <code>LocalDateTime</code> is inherently ambiguous. That class represents a date with a time-of-day but lacks a time zone or offset-from-UTC needed to determine a point on the timeline.</p>\n<p>For a specific point on the timeline, use <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.now() ;\nInstant later = instant.plus( duration ) ;\n</code></pre>\n<p>To see that same moment through the lens of a particular time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\nZonedDateTime zdt = later.atZone( z ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/nat4i6\" rel=\"nofollow noreferrer\">run at Ideone.com</a>. Note the differences: (a) one millisecond later, and (b) different time-of-day &amp; different date.</p>\n<pre class=\"lang-none prettyprint-override\"><code>instant.toString(): 2023-03-29T19:12:16.727887Z\nlater.toString(): 2023-03-29T19:12:16.728887Z\nzdt.toString(): 2023-03-30T08:12:16.728887+13:00[Pacific/Auckland]\n</code></pre>\n<p>If you want only milliseconds, you can truncate to clear the microseconds &amp; nanoseconds to zero.</p>\n<pre><code>Instant trunc = instant.truncatedTo( ChronoUnit.MILLIS ) ;\n</code></pre>\n"}],"owner":{"account_id":27735583,"reputation":33,"user_id":21173249,"display_name":"goguma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75866572,"answer_count":2,"score":3,"last_activity_date":1680117374,"creation_date":1680007842,"question_id":75866488,"body_markdown":"I want to increase the millisecond value with LocalDateTime. I used plusNanos because I didn&#39;t have plusmillisecond.\r\nI wonder if this is the right way.\r\nI&#39;m using JDK 1.8.\r\nI also want to know if there is a plus millisecond function in later versions.\r\n\r\n```\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\nLocalDateTime ldt = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;,f);\r\n        \r\nSystem.out.println(ldt.format(f));\r\n        \r\nldt = ldt.plusNanos(1000000);\r\n        \r\nSystem.out.println(ldt.format(f));\r\n```\r\n\r\n\r\n```\r\n2022-01-01 00:00:00.123\r\n2022-01-01 00:00:00.124\r\n```","title":"LocalDateTime add millisecond","body":"<p>I want to increase the millisecond value with LocalDateTime. I used plusNanos because I didn't have plusmillisecond.\nI wonder if this is the right way.\nI'm using JDK 1.8.\nI also want to know if there is a plus millisecond function in later versions.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\nLocalDateTime ldt = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;,f);\n        \nSystem.out.println(ldt.format(f));\n        \nldt = ldt.plusNanos(1000000);\n        \nSystem.out.println(ldt.format(f));\n</code></pre>\n<pre><code>2022-01-01 00:00:00.123\n2022-01-01 00:00:00.124\n</code></pre>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":28161260,"reputation":11,"user_id":21521157,"display_name":"ad_cir_ds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680117097,"creation_date":1680116968,"question_id":75881244,"body_markdown":"I&#39;m trying to set explode to false for some of the endpoints on an API I&#39;m working with, but it doesn&#39;t seem to be working properly. I am using the latest version of Swagger (2.2.9 as of this post). I&#39;ve come up with the following contrived example, where explode is being ignored:\r\n\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;bogus&quot;)\r\n    @JSONP(queryParam = &quot;callback&quot;)\r\n    public void bogus(\r\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\r\n                    explode = Explode.FALSE,\r\n                    style = ParameterStyle.FORM\r\n            )\r\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\r\n\r\n    }\r\n```\r\n\r\n\r\nIn general, I would like to have some specific options for the user to choose from defined in our spec, but let them know they need to include those in a comma-separated format. Code example:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;bogus&quot;)\r\n    @JSONP(queryParam = &quot;callback&quot;)\r\n    public void bogus(\r\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\r\n                    explode = Explode.FALSE,\r\n                    style = ParameterStyle.FORM\r\n                    array = @ArraySchema(schema = @Schema(type = &quot;array&quot;, allowableValues = {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;}))\r\n            )\r\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\r\n\r\n    }\r\n```\r\n\r\nWhere I&#39;m hoping the spec will let the user know they need to format extendedOptions like this:\r\n\r\n```\r\nmyapi.com/SomeStuffHere?extendedOptions=first,second,third\r\n```\r\n\r\nNot quite sure if I&#39;m doing something wrong here, or if this option isn&#39;t completely supported in Swagger. My implementation seems to fit the documentation as far as I can tell.\r\n","title":"Java Swagger - setting explode to false for query parameter not working properly?","body":"<p>I'm trying to set explode to false for some of the endpoints on an API I'm working with, but it doesn't seem to be working properly. I am using the latest version of Swagger (2.2.9 as of this post). I've come up with the following contrived example, where explode is being ignored:</p>\n<pre><code>    @GET\n    @Path(&quot;bogus&quot;)\n    @JSONP(queryParam = &quot;callback&quot;)\n    public void bogus(\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\n                    explode = Explode.FALSE,\n                    style = ParameterStyle.FORM\n            )\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\n\n    }\n</code></pre>\n<p>In general, I would like to have some specific options for the user to choose from defined in our spec, but let them know they need to include those in a comma-separated format. Code example:</p>\n<pre><code>    @GET\n    @Path(&quot;bogus&quot;)\n    @JSONP(queryParam = &quot;callback&quot;)\n    public void bogus(\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\n                    explode = Explode.FALSE,\n                    style = ParameterStyle.FORM\n                    array = @ArraySchema(schema = @Schema(type = &quot;array&quot;, allowableValues = {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;}))\n            )\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\n\n    }\n</code></pre>\n<p>Where I'm hoping the spec will let the user know they need to format extendedOptions like this:</p>\n<pre><code>myapi.com/SomeStuffHere?extendedOptions=first,second,third\n</code></pre>\n<p>Not quite sure if I'm doing something wrong here, or if this option isn't completely supported in Swagger. My implementation seems to fit the documentation as far as I can tell.</p>\n"},{"tags":["java","eclipse","annotations","eclipse-plugin"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680072091,"post_id":75871642,"comment_id":133832730,"body_markdown":"There is no _but_, use try-with-resources statement instead of making your code harder to read by adding unnecessary stuff. `if (a!=null) a.close();` is not the same as try-with-resources. Think what happens when `close()` throws an exception. Better right-click your project, choose _Source &gt; Clean Up..._ and use the _Java Features &gt; Java 7: Use try-with-resource_ clean-up.","body":"There is no <i>but</i>, use try-with-resources statement instead of making your code harder to read by adding unnecessary stuff. <code>if (a!=null) a.close();</code> is not the same as try-with-resources. Think what happens when <code>close()</code> throws an exception. Better right-click your project, choose <i>Source &gt; Clean Up...</i> and use the <i>Java Features &gt; Java 7: Use try-with-resource</i> clean-up."},{"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"score":0,"creation_date":1680086742,"post_id":75871642,"comment_id":133836395,"body_markdown":"I am already doing that on the simpler methods that execute a single query on a fixed number of arguments; the same tactic becomes insufficient when dealing with complex methods that contain business logic, or execute the same query over every item in a list, or do one query with a variable number of arguments — at some point, some rs or ps objects will have to be reassigned, and try-with-resources doesn&#39;t cut it anymore (as it makes its variables final).\n\nAlso, remember that I *am* closing every AutoCloseable object in a finally block, so exceptions are well covered already.","body":"I am already doing that on the simpler methods that execute a single query on a fixed number of arguments; the same tactic becomes insufficient when dealing with complex methods that contain business logic, or execute the same query over every item in a list, or do one query with a variable number of arguments — at some point, some rs or ps objects will have to be reassigned, and try-with-resources doesn&#39;t cut it anymore (as it makes its variables final).  Also, remember that I <i>am</i> closing every AutoCloseable object in a finally block, so exceptions are well covered already."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680100897,"post_id":75871642,"comment_id":133840575,"body_markdown":"Eclipse has built-in support for null annotations, but not for `@WillClose`, `@WillNotClose`, etc. If JSR 305 had not been rejected, it would probably be different now. Java 8 provides lambda expressions, which makes it easier to pass around functions that operate on resources rather than pass around the resources themselves. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). I doubt `@WillClose` is the only and best solution for your real problem (see [XY problem](https://en.wikipedia.org/wiki/XY_problem)).","body":"Eclipse has built-in support for null annotations, but not for <code>@WillClose</code>, <code>@WillNotClose</code>, etc. If JSR 305 had not been rejected, it would probably be different now. Java 8 provides lambda expressions, which makes it easier to pass around functions that operate on resources rather than pass around the resources themselves. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I doubt <code>@WillClose</code> is the only and best solution for your real problem (see <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>)."},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1680105433,"post_id":75871642,"comment_id":133842050,"body_markdown":"JSR 305 wasn&#39;t rejected, it was abandoned.","body":"JSR 305 wasn&#39;t rejected, it was abandoned."},{"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"score":0,"creation_date":1680116715,"post_id":75871642,"comment_id":133844838,"body_markdown":"Example added. This should help clear up what I want.","body":"Example added. This should help clear up what I want."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680160575,"post_id":75871642,"comment_id":133851533,"body_markdown":"@mernst Yes, JSR 305 wasn&#39;t rejected, but is dormant: [_&quot;The Executive Committee voted to list this JSR as dormant in May 2012&quot;_](https://jcp.org/en/jsr/detail?id=305).","body":"@mernst Yes, JSR 305 wasn&#39;t rejected, but is dormant: <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"nofollow noreferrer\"><i>&quot;The Executive Committee voted to list this JSR as dormant in May 2012&quot;</i></a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680166545,"post_id":75871642,"comment_id":133852950,"body_markdown":"With the following utility method you would be able to get a `ResultSet` that can be used in a try-with-resources statement, so that all resources will be closed without calling `close()` explicitly: `private static ResultSet prepareStatementAndExecuteQuery(Connection connection, String sql) throws SQLException { if (connection == null) return null; try (PreparedStatement statement= connection.prepareStatement(sql)) { return statement.executeQuery(); } }`. _&quot;Eclipse doesn&#39;t notice a null object is coming&quot;_: `getConnection()` is not annotated as `Nullable` and can be overridden.","body":"With the following utility method you would be able to get a <code>ResultSet</code> that can be used in a try-with-resources statement, so that all resources will be closed without calling <code>close()</code> explicitly: <code>private static ResultSet prepareStatementAndExecuteQuery(Connection connection, String sql) throws SQLException { if (connection == null) return null; try (PreparedStatement statement= connection.prepareStatement(sql)) { return statement.executeQuery(); } }</code>. <i>&quot;Eclipse doesn&#39;t notice a null object is coming&quot;</i>: <code>getConnection()</code> is not annotated as <code>Nullable</code> and can be overridden."}],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680106008,"creation_date":1680106008,"answer_id":75879642,"question_id":75871642,"body_markdown":"You can use the [Resource Leak Checker](https://checkerframework.org/manual/#resource-leak-checker), which is distributed with the [Checker Framework](https://checkerframework.org/).  The Resource Leak Checker guarantees, at compile time, that the program fulfills every object’s must-call obligations before the object is de-allocated.\r\n\r\nThis tool doesn&#39;t use JSR 305 annotations, but its own that are more general (they go beyond just closing resources).  For instance, for the `close()` method you would use \r\n[`@MustCall(&quot;close&quot;)`](https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/MustCall.html) (though you don&#39;t need to, since the tool comes with JDK annotations), and you would use [`@EnsuresCalledMethods(&quot;close&quot;)`](https://checkerframework.org/api/org/checkerframework/checker/calledmethods/qual/EnsuresCalledMethods.html) rather than `@WillClose`, and [`@NotOwning`](https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/NotOwning.html) instead of `@WillNotClose`.\r\n\r\nThis is not built into Eclipse, but is a separate tool that can be [run from Eclipse](https://checkerframework.org/manual/#eclipse).\r\n\r\nYou should use Java’s try-with-resources statement when it is applicable, and the Resource Leak Checker will help you use it where appropriate.  However, try-with-resources can only close resource types that implement the `java.lang.AutoCloseable` interface, and it cannot handle common resource usage patterns that span multiple procedures.  The Resource Leak Checker is particularly useful in these situations.\r\n","title":"Can JSR 305&#39;s &quot;@WillClose&quot; (et al) annotation, or one to the same effect, be implemented in/for Eclipse?","body":"<p>You can use the <a href=\"https://checkerframework.org/manual/#resource-leak-checker\" rel=\"nofollow noreferrer\">Resource Leak Checker</a>, which is distributed with the <a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">Checker Framework</a>.  The Resource Leak Checker guarantees, at compile time, that the program fulfills every object’s must-call obligations before the object is de-allocated.</p>\n<p>This tool doesn't use JSR 305 annotations, but its own that are more general (they go beyond just closing resources).  For instance, for the <code>close()</code> method you would use\n<a href=\"https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/MustCall.html\" rel=\"nofollow noreferrer\"><code>@MustCall(&quot;close&quot;)</code></a> (though you don't need to, since the tool comes with JDK annotations), and you would use <a href=\"https://checkerframework.org/api/org/checkerframework/checker/calledmethods/qual/EnsuresCalledMethods.html\" rel=\"nofollow noreferrer\"><code>@EnsuresCalledMethods(&quot;close&quot;)</code></a> rather than <code>@WillClose</code>, and <a href=\"https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/NotOwning.html\" rel=\"nofollow noreferrer\"><code>@NotOwning</code></a> instead of <code>@WillNotClose</code>.</p>\n<p>This is not built into Eclipse, but is a separate tool that can be <a href=\"https://checkerframework.org/manual/#eclipse\" rel=\"nofollow noreferrer\">run from Eclipse</a>.</p>\n<p>You should use Java’s try-with-resources statement when it is applicable, and the Resource Leak Checker will help you use it where appropriate.  However, try-with-resources can only close resource types that implement the <code>java.lang.AutoCloseable</code> interface, and it cannot handle common resource usage patterns that span multiple procedures.  The Resource Leak Checker is particularly useful in these situations.</p>\n"}],"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680116648,"creation_date":1680043114,"question_id":75871642,"body_markdown":"**tl;dr**: I want to tell Eclipse that my auxiliary method `closedown(AutoCloseable... aaa)` DOES in fact close all the AutoCloseable objects it&#39;s given.\r\n\r\nOn to the details:\r\n\r\nI inherited a set of large Java applications with an ungodly amount of poorly written DAO classes. Far too many methods do a long sequence of SELECT/INSERT/UPDATE queries, reusing the PreparedStatement and ResultSet objects and whatnot, *sometimes* closing the resources before reusing them again; Eclipse produced hundreds of &quot;Resource leak: &#39;rs&#39; is not closed at this location&quot; warnings.\r\n\r\nAs part of the code purification process, and to make cleansing easier, I wrote an auxiliary method `closedown(AutoCloseable... aaa)` that simply does an `if (a!=null) a.close();` for each given object; this one-liner can then be easily inserted before any `conn.prepareStatement()` call and whatnot... \r\n\r\n... but now Eclipse produces almost as many &quot;Potential resource leak: &#39;ps&#39; may not be closed at this location&quot; spurious info messages. I *am* placing the closedown() calls correctly (including in a finally block for each and every one of the try block in those classes), so the problem is simply that Eclipse that can not tell from its own source code analysis that things are fine.\r\n\r\nThese applications run on Java 7 (migrating to Java 8 is finally underway). This means I can use try-with-resources, BUT... the high amount of reuse of Statement, PreparedStatement and ResultSet objects make that tactic viable only for Connection objects. I don&#39;t want to use the @SuppressWarnings tag for the obvious reason. Instead, I would like to be able to tell Eclipse that the AutoCloseable objects sent to closedown() are indeed closed, so Eclipse will know to not produce those spurious messages.\r\n\r\nTurns out that JSR 305 ended up dead, and yet, something like `@WillClose` would be a good fit for what I need (and `@WillNotClose` for handling certain Connection parameters!). So, how can this annotation be implemented on Eclipse?\r\n\r\n\r\n\r\n\r\n————————————————————————————————————————————\r\n\r\nEDIT: As requested by howlger, this is a minimal reproducible example. Consider this utility class:\r\n\r\n```Java\r\npackage misc.util;\r\n\r\npublic class Closer {\r\n\r\n    public static void closedown(final AutoCloseable... objects) {\r\n        if (objects != null) {\r\n            for (AutoCloseable o : objects) {\r\n                try {\r\n                    if (o != null) {\r\n                        o.close();\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.err.println(&quot;Unexpected error when trying to close object: &#39;&quot; + o.toString() + &quot;&#39;.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static java.sql.Connection getConnection() { return null; }\r\n}\r\n```\r\n\r\nAnd this &quot;main&quot; class:\r\n\r\n```Java\r\npackage misc.demo;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\n\r\nimport static misc.util.Closer.closedown;\r\nimport static misc.util.Closer.getConnection;\r\n\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        PreparedStatement ps = null;\r\n        ResultSet         rs = null;\r\n\r\n        try (Connection conn = getConnection();) { // Eclipse doesn&#39;t notice a null object is coming (doesn&#39;t matter for our purposes now).\r\n\r\n            ps = conn.prepareStatement(&quot;select &#39;a&#39; from dual&quot;);\r\n            rs = ps.executeQuery();\r\n\r\n            ps = conn.prepareStatement(&quot;select &#39;b&#39; from dual&quot;); // Warning: &quot;Resource leak: &#39;ps&#39; is not closed at this location&quot;\r\n            rs = ps.executeQuery();\r\n\r\n            closedown(rs, ps);\r\n            ps = conn.prepareStatement(&quot;select &#39;c&#39; from dual&quot;); // Info: &quot;Potential resource leak: &#39;ps&#39; may not be closed at this location&quot;\r\n            rs = ps.executeQuery(); // &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183; // Info: &quot;Potential resource leak: &#39;rs&#39; may not be closed at this location&quot;\r\n\r\n            if (rs != null) {\r\n                rs.close();\r\n            }\r\n            if (ps != null) {\r\n                ps.close();\r\n            }\r\n            ps = conn.prepareStatement(&quot;select &#39;d&#39; from dual&quot;); // Eclipse knows everything is fine here (unlike above).\r\n            rs = ps.executeQuery(); // &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183; // Eclipse knows everything is fine here (unlike above).\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            closedown(rs, ps);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nEclipse identifies a _bona fide_ resource leak in the &quot;select &#39;b&#39;&quot; line (one that should not be suppressed!).\r\n\r\nEclipse also identifies two **potential** leaks in the &quot;select &#39;c&#39;&quot; lines, which just add noise, as we know closedown() already deals with them. It&#39;s these last two &quot;info&quot; messages I want to get rid of; one way of doing it would be to tell that to Eclipse, by adding the @WillClose annotation (if it existed... but it doesn&#39;t).\r\n","title":"Can JSR 305&#39;s &quot;@WillClose&quot; (et al) annotation, or one to the same effect, be implemented in/for Eclipse?","body":"<p><strong>tl;dr</strong>: I want to tell Eclipse that my auxiliary method <code>closedown(AutoCloseable... aaa)</code> DOES in fact close all the AutoCloseable objects it's given.</p>\n<p>On to the details:</p>\n<p>I inherited a set of large Java applications with an ungodly amount of poorly written DAO classes. Far too many methods do a long sequence of SELECT/INSERT/UPDATE queries, reusing the PreparedStatement and ResultSet objects and whatnot, <em>sometimes</em> closing the resources before reusing them again; Eclipse produced hundreds of &quot;Resource leak: 'rs' is not closed at this location&quot; warnings.</p>\n<p>As part of the code purification process, and to make cleansing easier, I wrote an auxiliary method <code>closedown(AutoCloseable... aaa)</code> that simply does an <code>if (a!=null) a.close();</code> for each given object; this one-liner can then be easily inserted before any <code>conn.prepareStatement()</code> call and whatnot...</p>\n<p>... but now Eclipse produces almost as many &quot;Potential resource leak: 'ps' may not be closed at this location&quot; spurious info messages. I <em>am</em> placing the closedown() calls correctly (including in a finally block for each and every one of the try block in those classes), so the problem is simply that Eclipse that can not tell from its own source code analysis that things are fine.</p>\n<p>These applications run on Java 7 (migrating to Java 8 is finally underway). This means I can use try-with-resources, BUT... the high amount of reuse of Statement, PreparedStatement and ResultSet objects make that tactic viable only for Connection objects. I don't want to use the @SuppressWarnings tag for the obvious reason. Instead, I would like to be able to tell Eclipse that the AutoCloseable objects sent to closedown() are indeed closed, so Eclipse will know to not produce those spurious messages.</p>\n<p>Turns out that JSR 305 ended up dead, and yet, something like <code>@WillClose</code> would be a good fit for what I need (and <code>@WillNotClose</code> for handling certain Connection parameters!). So, how can this annotation be implemented on Eclipse?</p>\n<p>————————————————————————————————————————————</p>\n<p>EDIT: As requested by howlger, this is a minimal reproducible example. Consider this utility class:</p>\n<pre><code>package misc.util;\n\npublic class Closer {\n\n    public static void closedown(final AutoCloseable... objects) {\n        if (objects != null) {\n            for (AutoCloseable o : objects) {\n                try {\n                    if (o != null) {\n                        o.close();\n                    }\n                } catch (Exception e) {\n                    System.err.println(&quot;Unexpected error when trying to close object: '&quot; + o.toString() + &quot;'.&quot;);\n                }\n            }\n        }\n    }\n\n\n    public static java.sql.Connection getConnection() { return null; }\n}\n</code></pre>\n<p>And this &quot;main&quot; class:</p>\n<pre><code>package misc.demo;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport static misc.util.Closer.closedown;\nimport static misc.util.Closer.getConnection;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        PreparedStatement ps = null;\n        ResultSet         rs = null;\n\n        try (Connection conn = getConnection();) { // Eclipse doesn't notice a null object is coming (doesn't matter for our purposes now).\n\n            ps = conn.prepareStatement(&quot;select 'a' from dual&quot;);\n            rs = ps.executeQuery();\n\n            ps = conn.prepareStatement(&quot;select 'b' from dual&quot;); // Warning: &quot;Resource leak: 'ps' is not closed at this location&quot;\n            rs = ps.executeQuery();\n\n            closedown(rs, ps);\n            ps = conn.prepareStatement(&quot;select 'c' from dual&quot;); // Info: &quot;Potential resource leak: 'ps' may not be closed at this location&quot;\n            rs = ps.executeQuery(); // ························ // Info: &quot;Potential resource leak: 'rs' may not be closed at this location&quot;\n\n            if (rs != null) {\n                rs.close();\n            }\n            if (ps != null) {\n                ps.close();\n            }\n            ps = conn.prepareStatement(&quot;select 'd' from dual&quot;); // Eclipse knows everything is fine here (unlike above).\n            rs = ps.executeQuery(); // ························ // Eclipse knows everything is fine here (unlike above).\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            closedown(rs, ps);\n        }\n    }\n}\n</code></pre>\n<p>Eclipse identifies a <em>bona fide</em> resource leak in the &quot;select 'b'&quot; line (one that should not be suppressed!).</p>\n<p>Eclipse also identifies two <strong>potential</strong> leaks in the &quot;select 'c'&quot; lines, which just add noise, as we know closedown() already deals with them. It's these last two &quot;info&quot; messages I want to get rid of; one way of doing it would be to tell that to Eclipse, by adding the @WillClose annotation (if it existed... but it doesn't).</p>\n"},{"tags":["java","linux","multithreading","blocking"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678896683,"post_id":75746780,"comment_id":133623090,"body_markdown":"Assuming “DB calls” means JDBC method calls, yes, they all behave as blocking calls.  If your thread pool has 15 threads, and only 4 threads are occupied with long-running tasks, it’s safe to assume any additional shorter tasks will not be held up.","body":"Assuming “DB calls” means JDBC method calls, yes, they all behave as blocking calls.  If your thread pool has 15 threads, and only 4 threads are occupied with long-running tasks, it’s safe to assume any additional shorter tasks will not be held up."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678899706,"post_id":75746780,"comment_id":133624074,"body_markdown":"@VGR On a 4 core box?","body":"@VGR On a 4 core box?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678899884,"post_id":75746780,"comment_id":133624132,"body_markdown":"@BasilBourque I’m not certain, but I believe the JVM can create artificial (“virtual”) threads to exceed the hardware limit.  The most recent [Thread javadoc](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html) talks about this.","body":"@BasilBourque I’m not certain, but I believe the JVM can create artificial (“virtual”) threads to exceed the hardware limit.  The most recent <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread javadoc</a> talks about this."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678901071,"post_id":75746780,"comment_id":133624468,"body_markdown":"@VGR Virtual threads are a preview feature, ***not* enabled by default**. Part of the [Project Loom](https://wiki.openjdk.org/display/loom/Main) feature set being incubated and previewed through Java 20.","body":"@VGR Virtual threads are a preview feature, <b><i>not</i> enabled by default</b>. Part of the <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a> feature set being incubated and previewed through Java 20."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680116616,"creation_date":1678900214,"answer_id":75747995,"question_id":75746780,"body_markdown":"&gt; are the DB calls similar to Blocking I/O\r\n\r\nYes, calls involving [JDBC][1] block, thereby pausing the host [OS][2] thread underlying a Java [thread][3]. At least currently, in Java 11, and in Java 17 &amp; 20. \r\n\r\nThis fact may change if [*Project Loom*][4] succeeds. \r\n\r\n\r\n&gt; when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?\r\n\r\nIf all of the threads in the thread pool backing your executor service are blocked, or are otherwise busy/occupied, pending tasks are queued as are any more submitted tasks. This queueing is the main job of an executor service. \r\n\r\nAgain, *Project Loom* with its [virtual threads][5] (technically, [fibers][6]) aims to alter this situation. \r\n\r\n&gt; Server is a 4 Core Intel (no hyperthreading) … a maxSize of 15 Threads\r\n\r\nDo you suspect your shorter simply calls are piling up behind your long blocking database calls that hog all the threads? Like some small fast commuter cars stuck behind a convoy of big slow [semi-trailer trucks][7] on a highway? \r\n\r\nIf so, consider instantiating *two* [executor services][8].\r\n\r\n - Dedicate one executor service to the long-blocking database calls (the big slow semi-trailer trucks).\r\n - Dedicate the other executor service as an “express lane” for all the other shorter simpler calls (the small fast commuter cars).\r\n\r\n\r\n----------\r\n\r\n\r\nLet me stress that future readers of this Answer should check for updates on the progress of *Project Loom* after [Java 20][9]. The calculus of how to manage threading will change dramatically.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [2]: https://en.wikipedia.org/wiki/Operating_system\r\n  [3]: https://en.wikipedia.org/wiki/Thread_(computing)\r\n  [4]: https://wiki.openjdk.org/display/loom/Main\r\n  [5]: https://openjdk.org/jeps/436\r\n  [6]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [7]: https://en.wikipedia.org/wiki/Semi-trailer_truck\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [9]: https://en.wikipedia.org/wiki/Java_version_history#Java_20","title":"Java Threads, Blocking I/O, and Scheduling","body":"<blockquote>\n<p>are the DB calls similar to Blocking I/O</p>\n</blockquote>\n<p>Yes, calls involving <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> block, thereby pausing the host <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a> thread underlying a Java <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)\" rel=\"nofollow noreferrer\">thread</a>. At least currently, in Java 11, and in Java 17 &amp; 20.</p>\n<p>This fact may change if <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a> succeeds.</p>\n<blockquote>\n<p>when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?</p>\n</blockquote>\n<p>If all of the threads in the thread pool backing your executor service are blocked, or are otherwise busy/occupied, pending tasks are queued as are any more submitted tasks. This queueing is the main job of an executor service.</p>\n<p>Again, <em>Project Loom</em> with its <a href=\"https://openjdk.org/jeps/436\" rel=\"nofollow noreferrer\">virtual threads</a> (technically, <a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) aims to alter this situation.</p>\n<blockquote>\n<p>Server is a 4 Core Intel (no hyperthreading) … a maxSize of 15 Threads</p>\n</blockquote>\n<p>Do you suspect your shorter simply calls are piling up behind your long blocking database calls that hog all the threads? Like some small fast commuter cars stuck behind a convoy of big slow <a href=\"https://en.wikipedia.org/wiki/Semi-trailer_truck\" rel=\"nofollow noreferrer\">semi-trailer trucks</a> on a highway?</p>\n<p>If so, consider instantiating <em>two</em> <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor services</a>.</p>\n<ul>\n<li>Dedicate one executor service to the long-blocking database calls (the big slow semi-trailer trucks).</li>\n<li>Dedicate the other executor service as an “express lane” for all the other shorter simpler calls (the small fast commuter cars).</li>\n</ul>\n<hr />\n<p>Let me stress that future readers of this Answer should check for updates on the progress of <em>Project Loom</em> after <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_20\" rel=\"nofollow noreferrer\">Java 20</a>. The calculus of how to manage threading will change dramatically.</p>\n"}],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75747995,"answer_count":1,"score":0,"last_activity_date":1680116616,"creation_date":1678893851,"question_id":75746780,"body_markdown":"*The Scenario below is simplified*\r\n\r\nServer is a 4 Core Intel (no hyperthreading) Linux Server, Java 11 Server 64 VM. We have a ThreadPoolExecutor with a maxSize of 15 Threads.\r\n\r\nOne method using the Executor submits 4 Callables that do long running database calls, another method uses the Executor to submit 10 more that do very fast calculations.  The first 4 Threads get CPU time and then Block awaiting queries to return.  My question is two fold - are the DB calls similar to Blocking I/O and when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?  I know there are many variables I am not covering here, point them out if they are pertinent, but I think the base question is pretty clear. ","title":"Java Threads, Blocking I/O, and Scheduling","body":"<p><em>The Scenario below is simplified</em></p>\n<p>Server is a 4 Core Intel (no hyperthreading) Linux Server, Java 11 Server 64 VM. We have a ThreadPoolExecutor with a maxSize of 15 Threads.</p>\n<p>One method using the Executor submits 4 Callables that do long running database calls, another method uses the Executor to submit 10 more that do very fast calculations.  The first 4 Threads get CPU time and then Block awaiting queries to return.  My question is two fold - are the DB calls similar to Blocking I/O and when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?  I know there are many variables I am not covering here, point them out if they are pertinent, but I think the base question is pretty clear.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680116432,"creation_date":1680116432,"answer_id":75881179,"question_id":75880553,"body_markdown":"Check [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations) for the `@Field` annotation, it has a `name` parameter:\r\n\r\n```java\r\n@Field(name = &quot;@timestamp&quot;, type = FieldType.Date)\r\n```\r\n","title":"Field @timestamp using Spring Data ElasticSearch","body":"<p>Check <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations\" rel=\"nofollow noreferrer\">the documentation</a> for the <code>@Field</code> annotation, it has a <code>name</code> parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(name = &quot;@timestamp&quot;, type = FieldType.Date)\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75881179,"answer_count":1,"score":0,"last_activity_date":1680116432,"creation_date":1680112191,"question_id":75880553,"body_markdown":"What I am trying to achieve:\r\n\r\n- insert document in ElasticSearch using Reactive Spring Data ElasticSearch with a field ```@timestamp``` (note the &quot;at&quot; @ sign for timestamp, it is ```@timestamp```, not just timestamp).\r\n\r\nWhat I tried:\r\n\r\n```\r\n@Repository\r\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\r\n\r\n}\r\n```\r\n\r\n```\r\n@Document(indexName = &quot;theindex&quot;)\r\npublic class ElasticPojo {\r\n\r\n    @Field(type = FieldType.Date)\r\n    private long timestamp;\r\n\r\n    @Id\r\n    private String id;\r\n\r\n```\r\n\r\nIssue:\r\n\r\nThis will insert a ```timestamp``` field inside ElasticSearch, not ```@timestamp```\r\n\r\nHow to insert a field ```@timestamp```?","title":"Field @timestamp using Spring Data ElasticSearch","body":"<p>What I am trying to achieve:</p>\n<ul>\n<li>insert document in ElasticSearch using Reactive Spring Data ElasticSearch with a field <code>@timestamp</code> (note the &quot;at&quot; @ sign for timestamp, it is <code>@timestamp</code>, not just timestamp).</li>\n</ul>\n<p>What I tried:</p>\n<pre><code>@Repository\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\n\n}\n</code></pre>\n<pre><code>@Document(indexName = &quot;theindex&quot;)\npublic class ElasticPojo {\n\n    @Field(type = FieldType.Date)\n    private long timestamp;\n\n    @Id\n    private String id;\n\n</code></pre>\n<p>Issue:</p>\n<p>This will insert a <code>timestamp</code> field inside ElasticSearch, not <code>@timestamp</code></p>\n<p>How to insert a field <code>@timestamp</code>?</p>\n"},{"tags":["java","amazon-s3","apache-flink"],"owner":{"account_id":15580762,"reputation":132,"user_id":11240620,"display_name":"codeSeeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680115996,"creation_date":1680115996,"question_id":75881120,"body_markdown":"I have a flink project which reads files from s3 path\r\n```\r\nPath[] paths = s3BucketInfoList.stream().map(appendBucketNameAndPath()).toArray(Path[]::new);\r\nFileSource&lt;String&gt; fileSource = FileSource.forRecordStreamFormat(new TextLineInputFormat(), paths).build();\r\nreturn execEnv.fromSource(fileSource, WatermarkStrategy.noWatermarks(), &quot;file-input&quot;);\r\n```\r\nwhen I run this code it fails with below exception if its a huge amount of files, The same code is working fine when it runs with less number of files.\r\n```\r\n2023-03-29 13:47:58,354 [INFO] org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting execution of job &#39;project-flink&#39; (000000006e6b13320000000000000000) under job master id b243c2a5cb802073447c8ce200d3441d.\r\n2023-03-29 13:47:58,357 [INFO] org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Starting split enumerator for source Source: parse-input.\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.jboss.netty.util.internal.ByteBufferUtil (file:/tmp/flink-rpc-akka_c077d9de-ac44-4cd4-b63b-38483c61102a.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of org.jboss.netty.util.internal.ByteBufferUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2023-03-29 13:48:57,882 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.1xx.xx.xxx:xxxx-fc14fd (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,886 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xxx.xx.xxx:xxxx-23dfb8 (akka.tcp://flink@xxx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,887 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.x.xxx:xxxx-4fdc8e (akka.tcp://flink@xxx.xx.x.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,889 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.xx.xxx:xxxx-cae189 (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:56:18,441 [ERROR] com.flink.project [] - Exception \r\njava.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[?:?]\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.getJobExecutionResult(StreamContextEnvironment.java:191) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:148) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:2049) ~[job.jar:1.0-SNAPSHOT]\r\n\tat com.flink.project.methodname(ClassName.java:94) ~[job.jar:1.0-SNAPSHOT]\r\n\tat com.flink.project.main(ClassName.java:66) ~[job.jar:1.0-SNAPSHOT]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:301) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$2(ApplicationDispatcherBootstrap.java:254) ~[job.jar:1.0-SNAPSHOT]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:171) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$withContextClassLoader$0(ClassLoadingUtils.java:41) ~[?:?]\r\n\tat akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:49) ~[?:?]\r\n\tat akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:48) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[?:?]\r\nCaused by: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\r\n\tat org.apache.flink.runtime.rpc.akka.$Proxy49.requestJobStatus(Unknown Source) ~[?:?]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$getJobResult$0(JobStatusPollingUtils.java:57) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.pollJobResultAsync(JobStatusPollingUtils.java:87) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$null$3(JobStatusPollingUtils.java:107) ~[job.jar:1.0-SNAPSHOT]\r\n\t... 12 more\r\nCaused by: akka.pattern.AskTimeoutException: Ask timed out on [Actor[akka://flink/user/rpc/dispatcher_1#-491464203]] after [500000 ms]. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage]. A typical reason for `AskTimeoutException` is that the recipient actor didn&#39;t send a reply.\r\n2023-03-29 13:56:18,443 [INFO] com.flink.project           [] - Total Time Taken by Dispute Log Pipeline [500345]\r\n2023-03-29 14:01:07,050 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-4fdc8e because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,052 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-33c819 because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,053 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-16a88f because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,128 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-523c7b because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,192 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2023-03-29 14:01:07,193 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Shutting StandaloneApplicationClusterEntryPoint down with application status UNKNOWN. Diagnostics Cluster entrypoint has been closed externally..\r\n```\r\n\r\nTask managers doesn&#39;t have any error, it shows\r\n&quot;Successful registration at resource manager&quot;\r\nAnd flink dashboard not even showing running jobs, seems like job is not even starts reading.\r\n\r\nThere is a flink issue https://issues.apache.org/jira/browse/FLINK-11143\r\n\r\nI can see there they are suggesting \r\n\r\n&quot;Job submission timeout is caused by listing too many files in S3\r\nduring env.readFile call to create input DataSet.&quot;\r\n\r\nAnd the method(FileSource.forRecordStreamFormat(...)) I used is an alternative for readTextFile(), So how I&#39;m supposed to handle this and make it run successfully?\r\n\r\nIs this only the reason or anything else? Because I tried increasing client timeout, akka timeout etc. but that is not helping. Any other ways?\r\n\r\n","title":"Flink job gives an error &quot;A typical reason for `AskTimeoutException` is that the recipient actor didn&#39;t send a reply.&quot;","body":"<p>I have a flink project which reads files from s3 path</p>\n<pre><code>Path[] paths = s3BucketInfoList.stream().map(appendBucketNameAndPath()).toArray(Path[]::new);\nFileSource&lt;String&gt; fileSource = FileSource.forRecordStreamFormat(new TextLineInputFormat(), paths).build();\nreturn execEnv.fromSource(fileSource, WatermarkStrategy.noWatermarks(), &quot;file-input&quot;);\n</code></pre>\n<p>when I run this code it fails with below exception if its a huge amount of files, The same code is working fine when it runs with less number of files.</p>\n<pre><code>2023-03-29 13:47:58,354 [INFO] org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting execution of job 'project-flink' (000000006e6b13320000000000000000) under job master id b243c2a5cb802073447c8ce200d3441d.\n2023-03-29 13:47:58,357 [INFO] org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Starting split enumerator for source Source: parse-input.\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.jboss.netty.util.internal.ByteBufferUtil (file:/tmp/flink-rpc-akka_c077d9de-ac44-4cd4-b63b-38483c61102a.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of org.jboss.netty.util.internal.ByteBufferUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2023-03-29 13:48:57,882 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.1xx.xx.xxx:xxxx-fc14fd (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,886 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xxx.xx.xxx:xxxx-23dfb8 (akka.tcp://flink@xxx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,887 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.x.xxx:xxxx-4fdc8e (akka.tcp://flink@xxx.xx.x.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,889 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.xx.xxx:xxxx-cae189 (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:56:18,441 [ERROR] com.flink.project [] - Exception \njava.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[?:?]\n    at org.apache.flink.client.program.StreamContextEnvironment.getJobExecutionResult(StreamContextEnvironment.java:191) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:148) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:2049) ~[job.jar:1.0-SNAPSHOT]\n    at com.flink.project.methodname(ClassName.java:94) ~[job.jar:1.0-SNAPSHOT]\n    at com.flink.project.main(ClassName.java:66) ~[job.jar:1.0-SNAPSHOT]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:301) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$2(ApplicationDispatcherBootstrap.java:254) ~[job.jar:1.0-SNAPSHOT]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:171) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$withContextClassLoader$0(ClassLoadingUtils.java:41) ~[?:?]\n    at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:49) ~[?:?]\n    at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:48) ~[?:?]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290) ~[?:?]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[?:?]\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[?:?]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[?:?]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[?:?]\nCaused by: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\n    at org.apache.flink.runtime.rpc.akka.$Proxy49.requestJobStatus(Unknown Source) ~[?:?]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$getJobResult$0(JobStatusPollingUtils.java:57) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.pollJobResultAsync(JobStatusPollingUtils.java:87) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$null$3(JobStatusPollingUtils.java:107) ~[job.jar:1.0-SNAPSHOT]\n    ... 12 more\nCaused by: akka.pattern.AskTimeoutException: Ask timed out on [Actor[akka://flink/user/rpc/dispatcher_1#-491464203]] after [500000 ms]. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply.\n2023-03-29 13:56:18,443 [INFO] com.flink.project           [] - Total Time Taken by Dispute Log Pipeline [500345]\n2023-03-29 14:01:07,050 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-4fdc8e because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,052 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-33c819 because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,053 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-16a88f because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,128 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-523c7b because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,192 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2023-03-29 14:01:07,193 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Shutting StandaloneApplicationClusterEntryPoint down with application status UNKNOWN. Diagnostics Cluster entrypoint has been closed externally..\n</code></pre>\n<p>Task managers doesn't have any error, it shows\n&quot;Successful registration at resource manager&quot;\nAnd flink dashboard not even showing running jobs, seems like job is not even starts reading.</p>\n<p>There is a flink issue <a href=\"https://issues.apache.org/jira/browse/FLINK-11143\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FLINK-11143</a></p>\n<p>I can see there they are suggesting</p>\n<p>&quot;Job submission timeout is caused by listing too many files in S3\nduring env.readFile call to create input DataSet.&quot;</p>\n<p>And the method(FileSource.forRecordStreamFormat(...)) I used is an alternative for readTextFile(), So how I'm supposed to handle this and make it run successfully?</p>\n<p>Is this only the reason or anything else? Because I tried increasing client timeout, akka timeout etc. but that is not helping. Any other ways?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1680116201,"post_id":75881094,"comment_id":133844707,"body_markdown":"There are no obvious problems here.  If that&#39;s really all the relevant code, that might be a bug in one of the components you&#39;re using.  If you&#39;re on the latest versions of all of those components, filing a bug with a [mre] might be helpful.","body":"There are no obvious problems here.  If that&#39;s really all the relevant code, that might be a bug in one of the components you&#39;re using.  If you&#39;re on the latest versions of all of those components, filing a bug with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> might be helpful."}],"owner":{"account_id":28130100,"reputation":1,"user_id":21494843,"display_name":"Saket Sourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680115926,"creation_date":1680115869,"question_id":75881094,"body_markdown":"when i go to another activity and without doing anything and come back to previous activity the app crashes the below given error will occurred .i have same project but that was build 2 years before and that project will working properly but when i moved that project to new project the error will occurred\r\n```\r\n\r\n`E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.loganbeast.pdf, PID: 5560\r\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionmyviewholder{de30495 position=5 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{21e5fd2 VFED..... ......I. 0,0-1080,2100 #7f080168 app:id/recview}, adapter:com.loganbeast.pdf.myadapter@37563a8, layout:androidx.recyclerview.widget.LinearLayoutManager@68cf8a3, context:com.loganbeast.pdf.MainActivity@5952061\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6544)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6727)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6688)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6684)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2362)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1662)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4550)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4305)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4873)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:868)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3858)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3308)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2272)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8999)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:879)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8319)\r\nE/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)`\r\n*\r\n```\r\n*\r\nmain Activity code**\r\ni think the error is in this activity . if anyone can solve my error then please help me\r\n```\r\n`\r\npackage com.loganbeast.pdf;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.WindowManager;`\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n    FloatingActionButton fb;\r\n    RecyclerView recview;\r\n    myadapter adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        fb = (FloatingActionButton) findViewById(R.id.floatingActionButton);\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext(), uploadfile.class));\r\n            }\r\n        });\r\n        recview = (RecyclerView) findViewById(R.id.recview);\r\n        recview.setLayoutManager(new LinearLayoutManager(this));\r\n        FirebaseRecyclerOptions&lt;model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;mydocuments&quot;), model.class)\r\n                        .build();\r\n\r\n        adapter=new myadapter(options);\r\n        recview.setAdapter(adapter);\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n}\r\n`\r\n```\r\n**adapter class code**\r\n`\r\n```\r\n`public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\r\n{\r\n   public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n        super(options);\r\n    }\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull final myviewholder holder, int position, @NonNull final model model) {\r\n        holder.header.setText(model.getFilename());\r\n        holder.img1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(holder.img1.getContext(),viewpdf.class);\r\n                intent.putExtra(&quot;filename&quot;,model.getFilename());\r\n                intent.putExtra(&quot;fileurl&quot;,model.getFileurl());\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                holder.img1.getContext().startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerowdesign,parent,false);\r\n        return  new myviewholder(view);\r\n    }\r\n    public class myviewholder extends RecyclerView.ViewHolder\r\n    {\r\n        ImageView img1;\r\n        TextView header;\r\n        public myviewholder(@NonNull View itemView)\r\n        {\r\n            super(itemView);\r\n            img1=itemView.findViewById(R.id.img1);\r\n            header=itemView.findViewById(R.id.header);\r\n        }\r\n    }\r\n}`\r\n```\r\n","title":"indexoutofboundexception:inconsistency detected","body":"<p>when i go to another activity and without doing anything and come back to previous activity the app crashes the below given error will occurred .i have same project but that was build 2 years before and that project will working properly but when i moved that project to new project the error will occurred</p>\n<pre><code>\n`E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.loganbeast.pdf, PID: 5560\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionmyviewholder{de30495 position=5 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{21e5fd2 VFED..... ......I. 0,0-1080,2100 #7f080168 app:id/recview}, adapter:com.loganbeast.pdf.myadapter@37563a8, layout:androidx.recyclerview.widget.LinearLayoutManager@68cf8a3, context:com.loganbeast.pdf.MainActivity@5952061\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6544)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6727)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6688)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6684)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2362)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1662)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4550)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4305)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4873)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:868)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3858)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3308)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2272)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8999)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\n        at android.view.Choreographer.doFrame(Choreographer.java:879)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8319)\nE/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)`\n*\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>main Activity code**\ni think the error is in this activity . if anyone can solve my error then please help me</p>\n<pre><code>`\npackage com.loganbeast.pdf;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.WindowManager;`\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.database.FirebaseDatabase;\npublic class MainActivity extends AppCompatActivity\n{\n    FloatingActionButton fb;\n    RecyclerView recview;\n    myadapter adapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        fb = (FloatingActionButton) findViewById(R.id.floatingActionButton);\n        fb.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getApplicationContext(), uploadfile.class));\n            }\n        });\n        recview = (RecyclerView) findViewById(R.id.recview);\n        recview.setLayoutManager(new LinearLayoutManager(this));\n        FirebaseRecyclerOptions&lt;model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;mydocuments&quot;), model.class)\n                        .build();\n\n        adapter=new myadapter(options);\n        recview.setAdapter(adapter);\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n}\n`\n</code></pre>\n<p><strong>adapter class code</strong>\n`</p>\n<pre><code>`public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\n{\n   public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n        super(options);\n    }\n    @Override\n    protected void onBindViewHolder(@NonNull final myviewholder holder, int position, @NonNull final model model) {\n        holder.header.setText(model.getFilename());\n        holder.img1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(holder.img1.getContext(),viewpdf.class);\n                intent.putExtra(&quot;filename&quot;,model.getFilename());\n                intent.putExtra(&quot;fileurl&quot;,model.getFileurl());\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                holder.img1.getContext().startActivity(intent);\n            }\n        });\n    }\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerowdesign,parent,false);\n        return  new myviewholder(view);\n    }\n    public class myviewholder extends RecyclerView.ViewHolder\n    {\n        ImageView img1;\n        TextView header;\n        public myviewholder(@NonNull View itemView)\n        {\n            super(itemView);\n            img1=itemView.findViewById(R.id.img1);\n            header=itemView.findViewById(R.id.header);\n        }\n    }\n}`\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680115755,"creation_date":1680115755,"answer_id":75881075,"question_id":75834547,"body_markdown":"I have also solved faced the same problem as you in salesforce, follow below to solve it\r\nAs a First step what you need to do is to get the Secret key for the account,In your Account settings in the application there must be a way to reconfigure the 2 factor authentication , open that it will ask you to scan the QR code, instead of that look for a option for secret key and copy that\r\nSee below image for reference \r\n\r\n[![example][1]][1]\r\n\r\n\r\nOnce you have your key ,add below Library in your project to generate the code that is being generated  \r\n       \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;de.taimos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwrite a code like this below, this will keep ion printing a new code\r\n\r\n   \r\n\r\n    import de.taimos.totp.TOTP;\r\n    import java.util.Date;\r\n    import org.apache.commons.codec.binary.Base32;\r\n    import org.apache.commons.codec.binary.Hex;\r\n    \r\n    public class Authenticator {\r\n    \r\n    \r\n    \tpublic static String getTOTPCode(String secretKey) {\r\n    \t\tBase32 base32 = new Base32();\r\n    \t\tbyte[] bytes = base32.decode(secretKey);\r\n    \t\tString hexKey = Hex.encodeHexString(bytes);\r\n    \t\treturn TOTP.getOTP(hexKey);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... a) {\r\n    \tString secretKey = &quot;&quot;;\r\n        //add key above\r\n\r\n\t\tString code = getTOTPCode(secretKey);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n2aYM.png\r\n\r\nOnce you run the code it will generate a code and enter that to configure your account to use the Verification code which is being generated using the Secret key, this should solved your login issue ","title":"How to Automate Microsoft authenticator using selenium and java?","body":"<p>I have also solved faced the same problem as you in salesforce, follow below to solve it\nAs a First step what you need to do is to get the Secret key for the account,In your Account settings in the application there must be a way to reconfigure the 2 factor authentication , open that it will ask you to scan the QR code, instead of that look for a option for secret key and copy that\nSee below image for reference</p>\n<p><a href=\"https://i.stack.imgur.com/n2aYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2aYM.png\" alt=\"example\" /></a></p>\n<p>Once you have your key ,add below Library in your project to generate the code that is being generated</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;de.taimos&lt;/groupId&gt;\n        &lt;artifactId&gt;totp&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>write a code like this below, this will keep ion printing a new code</p>\n<pre><code>import de.taimos.totp.TOTP;\nimport java.util.Date;\nimport org.apache.commons.codec.binary.Base32;\nimport org.apache.commons.codec.binary.Hex;\n\npublic class Authenticator {\n\n\n    public static String getTOTPCode(String secretKey) {\n        Base32 base32 = new Base32();\n        byte[] bytes = base32.decode(secretKey);\n        String hexKey = Hex.encodeHexString(bytes);\n        return TOTP.getOTP(hexKey);\n    }\n\n    public static void main(String... a) {\n    String secretKey = &quot;&quot;;\n    //add key above\n\n    String code = getTOTPCode(secretKey);\n\n    }\n}\n</code></pre>\n<p>Once you run the code it will generate a code and enter that to configure your account to use the Verification code which is being generated using the Secret key, this should solved your login issue</p>\n"}],"owner":{"account_id":26590881,"reputation":1,"user_id":20214132,"display_name":"Ajay Bhatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680115755,"creation_date":1679666098,"question_id":75834547,"body_markdown":"Step:\r\n\r\nHere I will be entering my username\r\n\r\nUsernamepage\r\n\r\nNext I will enter my password PasswordPage\r\n\r\nAfter the Click on “Sign on” , user will be directed to page which user would have given either two types of Authenication either through OTP (which is send to registered phone) or Authenticator app dynamic number.\r\n","title":"How to Automate Microsoft authenticator using selenium and java?","body":"<p>Step:</p>\n<p>Here I will be entering my username</p>\n<p>Usernamepage</p>\n<p>Next I will enter my password PasswordPage</p>\n<p>After the Click on “Sign on” , user will be directed to page which user would have given either two types of Authenication either through OTP (which is send to registered phone) or Authenticator app dynamic number.</p>\n"},{"tags":["java","functor","higher-kinded-types","catamorphism","fixed-point-iteration"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1680114928,"creation_date":1641989944,"answer_id":70681454,"question_id":70681453,"body_markdown":"Indeed this can be done by carefully translating the corresponding Haskell counterparts. Although this introduces a lot of line noise,\r\nthe implementation is quite close to the original:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    // Encoding of higher kinded type F of T\r\n    public interface H&lt;F, T&gt; { }\r\n\r\n    public interface Functor&lt;F, T&gt; {\r\n        &lt;R&gt; H&lt;F, R&gt; map(Function&lt;T, R&gt; f);\r\n    }\r\n\r\n    // newtype Fix f = Fix {unfix::f (Fix f)}\r\n    public static record Fix&lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt;(F f) {\r\n        public Functor&lt;F, Fix&lt;F, T&gt;&gt; unfix() {\r\n            return (Functor&lt;F, Fix&lt;F, T&gt;&gt;) f;\r\n        }\r\n    }\r\n\r\n    // type Algebra f a = f a -&gt; a\r\n    public interface Algebra&lt;F, T&gt; extends Function&lt;H&lt;F, T&gt;, T&gt; {}\r\n\r\n     // cata :: Functor f =&gt; Algebra f a -&gt; Fix f -&gt; a\r\n     // cata alg = alg . fmap (cata alg) . unfix\r\n    public static &lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt; Function&lt;Fix&lt;F, T&gt;, T&gt; cata(Algebra&lt;F, T&gt; alg) {\r\n        return fix -&gt; alg.apply(fix.unfix().map(cata(alg)));\r\n    }\r\n\r\nAmazingly this works and can be used to implement e.g. [interpreters for expression algebras][1]\r\n\r\n    // evalExprF :: Algebra ExprF Int\r\n    // evalExprF (Const n) = n\r\n    // evalExprF (Add m n) = m + n\r\n    // evalExprF (Mul m n) = m * n\r\n    public static class ExprAlg implements Algebra&lt;Expr, Integer&gt; {\r\n        @Override\r\n        public Integer apply(H&lt;Expr, Integer&gt; hExpr) {\r\n            return Expr.expr(hExpr).match(\r\n                conzt -&gt; conzt.n,\r\n                add   -&gt; add.t1 + add.t2,\r\n                mul   -&gt; mul.t1 * mul.t2);\r\n        }\r\n    }\r\n\r\nFull working example in my [GitHub repository][2].\r\n\r\n\r\n  [1]: https://github.com/mduerig/java-functional/blob/master/src/michid/fun/fix/Expression.java#L25\r\n  [2]: https://github.com/mduerig/java-functional","title":"How to implement fixed points of functors in Java","body":"<p>Indeed this can be done by carefully translating the corresponding Haskell counterparts. Although this introduces a lot of line noise,\nthe implementation is quite close to the original:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Encoding of higher kinded type F of T\npublic interface H&lt;F, T&gt; { }\n\npublic interface Functor&lt;F, T&gt; {\n    &lt;R&gt; H&lt;F, R&gt; map(Function&lt;T, R&gt; f);\n}\n\n// newtype Fix f = Fix {unfix::f (Fix f)}\npublic static record Fix&lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt;(F f) {\n    public Functor&lt;F, Fix&lt;F, T&gt;&gt; unfix() {\n        return (Functor&lt;F, Fix&lt;F, T&gt;&gt;) f;\n    }\n}\n\n// type Algebra f a = f a -&gt; a\npublic interface Algebra&lt;F, T&gt; extends Function&lt;H&lt;F, T&gt;, T&gt; {}\n\n // cata :: Functor f =&gt; Algebra f a -&gt; Fix f -&gt; a\n // cata alg = alg . fmap (cata alg) . unfix\npublic static &lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt; Function&lt;Fix&lt;F, T&gt;, T&gt; cata(Algebra&lt;F, T&gt; alg) {\n    return fix -&gt; alg.apply(fix.unfix().map(cata(alg)));\n}\n</code></pre>\n<p>Amazingly this works and can be used to implement e.g. <a href=\"https://github.com/mduerig/java-functional/blob/master/src/michid/fun/fix/Expression.java#L25\" rel=\"nofollow noreferrer\">interpreters for expression algebras</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>// evalExprF :: Algebra ExprF Int\n// evalExprF (Const n) = n\n// evalExprF (Add m n) = m + n\n// evalExprF (Mul m n) = m * n\npublic static class ExprAlg implements Algebra&lt;Expr, Integer&gt; {\n    @Override\n    public Integer apply(H&lt;Expr, Integer&gt; hExpr) {\n        return Expr.expr(hExpr).match(\n            conzt -&gt; conzt.n,\n            add   -&gt; add.t1 + add.t2,\n            mul   -&gt; mul.t1 * mul.t2);\n    }\n}\n</code></pre>\n<p>Full working example in my <a href=\"https://github.com/mduerig/java-functional\" rel=\"nofollow noreferrer\">GitHub repository</a>.</p>\n"}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":70681454,"answer_count":1,"score":12,"last_activity_date":1680114928,"creation_date":1641989944,"question_id":70681453,"body_markdown":"I recently discovered how to [simulate higher order types in Java][1]  in a somewhat roundabout way like so\r\n\r\n    interface H&lt;F, T&gt; { }\r\n\r\nHere `H` encodes a higher order type that takes a type parameter `F` which itself takes parameter `T`.\r\n\r\nNow this leaves me to wonder, can we use this to implement some more advanced constructs? E.g. fixed point of functors\r\nlike [Fix in Haskell][2] and its corresponding [catamorphisms][3]?\r\n\r\n  [1]: https://github.com/highj/highj\r\n  [2]: https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html\r\n  [3]: https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html#g:6","title":"How to implement fixed points of functors in Java","body":"<p>I recently discovered how to <a href=\"https://github.com/highj/highj\" rel=\"nofollow noreferrer\">simulate higher order types in Java</a>  in a somewhat roundabout way like so</p>\n<pre><code>interface H&lt;F, T&gt; { }\n</code></pre>\n<p>Here <code>H</code> encodes a higher order type that takes a type parameter <code>F</code> which itself takes parameter <code>T</code>.</p>\n<p>Now this leaves me to wonder, can we use this to implement some more advanced constructs? E.g. fixed point of functors\nlike <a href=\"https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html\" rel=\"nofollow noreferrer\">Fix in Haskell</a> and its corresponding <a href=\"https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html#g:6\" rel=\"nofollow noreferrer\">catamorphisms</a>?</p>\n"},{"tags":["java","spring","spring-security","spring-session"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680119642,"post_id":75880822,"comment_id":133845558,"body_markdown":"No, you do not need to mess about with filters. This is all you need to do - https://www.baeldung.com/spring-session-jdbc","body":"No, you do not need to mess about with filters. This is all you need to do - <a href=\"https://www.baeldung.com/spring-session-jdbc\" rel=\"nofollow noreferrer\">baeldung.com/spring-session-jdbc</a>"}],"owner":{"account_id":13521732,"reputation":158,"user_id":9754736,"display_name":"Scroll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680114115,"creation_date":1680114115,"question_id":75880822,"body_markdown":"I am trying to understand how Spring Security and Spring Session projects work together.\r\nIn my project I want to save sessions into database that&#39;s why I am using Spring Session JDBC. But I can&#39;t understand should I configure something in\r\n`@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http)`\r\nin part `sessionManagement`. For example I&#39;ve tried to set maximum user sessions by \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) {\r\n        http\r\n            .sessionManagement(session -&gt; session\r\n                .maximumSessions(1)\r\n            );\r\n        return http.build();\r\n    }\r\n\r\nand there is no affect. Can someone explain why there is no affect and should I configure sessionManagement in HttpSecurity ?","title":"Should I configure sessionManagement in HttpSecurity if I use Spring Session?","body":"<p>I am trying to understand how Spring Security and Spring Session projects work together.\nIn my project I want to save sessions into database that's why I am using Spring Session JDBC. But I can't understand should I configure something in\n<code>@Bean public SecurityFilterChain filterChain(HttpSecurity http)</code>\nin part <code>sessionManagement</code>. For example I've tried to set maximum user sessions by</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) {\n    http\n        .sessionManagement(session -&gt; session\n            .maximumSessions(1)\n        );\n    return http.build();\n}\n</code></pre>\n<p>and there is no affect. Can someone explain why there is no affect and should I configure sessionManagement in HttpSecurity ?</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":4149500,"reputation":2311,"user_id":3402367,"display_name":"robertoia"},"score":8,"creation_date":1397117534,"post_id":22982295,"comment_id":35095817,"body_markdown":"Take a look at the [javadoc](http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack)","body":"Take a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack\" rel=\"nofollow noreferrer\">javadoc</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1397117843,"post_id":22982295,"comment_id":35095988,"body_markdown":"`this.setPreferredSize(new Dimension(500,500));`  See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"<code>this.setPreferredSize(new Dimension(500,500));</code>  See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1397117912,"post_id":22982295,"comment_id":35096030,"body_markdown":"`jf.pack(); //code wouldnt work if i comment out this line`  Sure it works, but since the frame has a size of 0x0 it is not easy to *see* it works.","body":"<code>jf.pack(); &#47;&#47;code wouldnt work if i comment out this line</code>  Sure it works, but since the frame has a size of 0x0 it is not easy to <i>see</i> it works."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1397118210,"post_id":22982295,"comment_id":35096218,"body_markdown":"@Computernerd (I sure that there) I&#39;m missing here answer about pack() together with LayoutManager, PreferredSize, getPreferredSize that returns JComponents to container, this logics is quite alchemy, is not possible to answering in short answer, and (looks like as) your question isn&#39;t good described","body":"@Computernerd (I sure that there) I&#39;m missing here answer about pack() together with LayoutManager, PreferredSize, getPreferredSize that returns JComponents to container, this logics is quite alchemy, is not possible to answering in short answer, and (looks like as) your question isn&#39;t good described"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1397118440,"post_id":22982295,"comment_id":35096363,"body_markdown":"@Computernerd and each of LayoutManagers (custom too) handling diferrently with min, max and PreferredSize, for some required, and for some ignored","body":"@Computernerd and each of LayoutManagers (custom too) handling diferrently with min, max and PreferredSize, for some required, and for some ignored"},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":0,"creation_date":1539369015,"post_id":22982295,"comment_id":92491793,"body_markdown":"Reopen: the documentation linked is inadequate (e.g., it doesn&#39;t contain an example).","body":"Reopen: the documentation linked is inadequate (e.g., it doesn&#39;t contain an example)."}],"answers":[{"comments":[{"owner":{"account_id":1569322,"reputation":912,"user_id":1457383,"accept_rate":54,"display_name":"Ninjaxor"},"score":4,"creation_date":1439428960,"post_id":22982334,"comment_id":51861993,"body_markdown":"Why do they call it &#39;pack&#39;?","body":"Why do they call it &#39;pack&#39;?"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":10,"creation_date":1461341439,"post_id":22982334,"comment_id":61171389,"body_markdown":"Because it packs the components closely together.","body":"Because it packs the components closely together."}],"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1593053979,"creation_date":1397117533,"answer_id":22982334,"question_id":22982295,"body_markdown":"*The `pack` method sizes the frame so that all its contents are at or above their preferred sizes. An alternative to pack is to establish a frame size explicitly by calling `setSize` or `setBounds` (which also sets the frame location). In general, using pack is preferable to calling `setSize`, since pack leaves the frame layout manager in charge of the frame size, and layout managers are good at adjusting to platform dependencies and other factors that affect component size.*\r\n\r\n\r\nFrom [Java tutorial][1]\r\n\r\nYou should also refer to [Javadocs][2] any time you need additional information on any Java API\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack--","title":"What does .pack() do?","body":"<p><em>The <code>pack</code> method sizes the frame so that all its contents are at or above their preferred sizes. An alternative to pack is to establish a frame size explicitly by calling <code>setSize</code> or <code>setBounds</code> (which also sets the frame location). In general, using pack is preferable to calling <code>setSize</code>, since pack leaves the frame layout manager in charge of the frame size, and layout managers are good at adjusting to platform dependencies and other factors that affect component size.</em></p>\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\" rel=\"noreferrer\">Java tutorial</a></p>\n<p>You should also refer to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack--\" rel=\"noreferrer\">Javadocs</a> any time you need additional information on any Java API</p>\n"},{"tags":[],"owner":{"account_id":18920428,"reputation":19,"user_id":13804608,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658240421,"creation_date":1593054414,"answer_id":62567220,"question_id":22982295,"body_markdown":"The `pack()` method is defined as a Window class in Java and it sizes the frame so that all its contents are at or above their preferred sizes.","title":"What does .pack() do?","body":"<p>The <code>pack()</code> method is defined as a Window class in Java and it sizes the frame so that all its contents are at or above their preferred sizes.</p>\n"}],"owner":{"account_id":2053696,"reputation":7468,"user_id":1832057,"accept_rate":66,"display_name":"Computernerd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189314,"favorite_count":0,"down_vote_count":4,"up_vote_count":54,"answer_count":2,"score":50,"last_activity_date":1680112933,"creation_date":1397117426,"question_id":22982295,"body_markdown":"I am learning about JPanel and GridLayout , this snippet of code  will produce a simple JPanel with 6 buttons\r\n\r\n    package testing;\r\n    \r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.security.*;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.lang.*;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Testing \r\n    {\r\n        \r\n        public static class GridPanel extends JPanel \r\n        {\r\n            public GridPanel()\r\n            {\r\n                setLayout(new GridLayout(2,3));\r\n                setBackground(Color.GREEN);\r\n                this.setPreferredSize(new Dimension(500,500));\r\n                \r\n                JButton b1 = new JButton (&quot;Button 1&quot;);\r\n                JButton b2 = new JButton (&quot;Button 2&quot;);\r\n                JButton b3 = new JButton (&quot;Button 3&quot;);\r\n                JButton b4 = new JButton (&quot;Button 4&quot;);\r\n                JButton b5 = new JButton (&quot;Button 5&quot;);\r\n                JButton b6 = new JButton (&quot;Button 6&quot;);\r\n                \r\n                add(b1);\r\n                add(b2);\r\n                add(b3);\r\n                add(b4);\r\n                add(b5);\r\n                add(b6);\r\n            }\r\n                   \r\n        }\r\n        \r\n        \r\n        \r\n        public static void main(String[] args) \r\n        \r\n        {\r\n           GridPanel gp = new GridPanel();\r\n           JFrame jf = new JFrame();\r\n           jf.add(gp);\r\n           jf.pack(); //code wouldnt work if i comment out this line\r\n           jf.setVisible(true);\r\n            \r\n        }\r\n           \r\n    }\r\n\r\n\r\nI am wondering why my code wouldnt work if i comment out `jf.pack()`","title":"What does .pack() do?","body":"<p>I am learning about JPanel and GridLayout , this snippet of code  will produce a simple JPanel with 6 buttons</p>\n\n<pre><code>package testing;\n\n\nimport java.io.*;\nimport java.util.*;\nimport java.security.*;\nimport javax.xml.bind.DatatypeConverter;\nimport java.lang.*;\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Testing \n{\n\n    public static class GridPanel extends JPanel \n    {\n        public GridPanel()\n        {\n            setLayout(new GridLayout(2,3));\n            setBackground(Color.GREEN);\n            this.setPreferredSize(new Dimension(500,500));\n\n            JButton b1 = new JButton (\"Button 1\");\n            JButton b2 = new JButton (\"Button 2\");\n            JButton b3 = new JButton (\"Button 3\");\n            JButton b4 = new JButton (\"Button 4\");\n            JButton b5 = new JButton (\"Button 5\");\n            JButton b6 = new JButton (\"Button 6\");\n\n            add(b1);\n            add(b2);\n            add(b3);\n            add(b4);\n            add(b5);\n            add(b6);\n        }\n\n    }\n\n\n\n    public static void main(String[] args) \n\n    {\n       GridPanel gp = new GridPanel();\n       JFrame jf = new JFrame();\n       jf.add(gp);\n       jf.pack(); //code wouldnt work if i comment out this line\n       jf.setVisible(true);\n\n    }\n\n}\n</code></pre>\n\n<p>I am wondering why my code wouldnt work if i comment out <code>jf.pack()</code></p>\n"},{"tags":["java","parsing","ssl"],"owner":{"account_id":25585082,"reputation":9,"user_id":19362976,"display_name":"Alenern"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680112842,"creation_date":1680112842,"question_id":75880644,"body_markdown":"I downloaded and compiled the project at https://github.com/WojciechZankowski/ib-product-parser\r\nI run it manually in my Windows CMD.\r\nThat&#39;s what I get when I run it:\r\n\r\n\r\n```\r\n:\\...b-product-parser\\bin\\artifacts\\ib_product_parser_jar&gt;java -jar ib-product-parser.jar -e allna -t STK -f pl.zankowsDownloading byx data...\r\nDownloading bats data...\r\nDownloading arcaedge data...\r\nDownloading chx data...\r\njavax.net.ssl.SSLException: Received fatal alert: internal_error\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:132)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:287)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\r\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:512)\r\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:493)\r\n        at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:205)\r\n        at org.jsoup.helper.HttpConnection.get(HttpConnection.java:194)\r\n        at pl.zankowski.ibpp.IBProductParserService.parse(IBProductParserService.java:47)\r\n        at pl.zankowski.ibpp.IBProductParserService.lambda$parse$0(IBProductParserService.java:29)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\njavax.net.ssl.SSLException: Received fatal alert: internal_error\r\n```\r\n\r\n\r\nCompiled the project in Intellij and run it through CMD as per commands in manual.\r\nIt should connect ib portal website and download data. Instead, it returns error as per above.","title":"Java error: javax.net.ssl.SSLException: Received fatal alert: internal_error","body":"<p>I downloaded and compiled the project at <a href=\"https://github.com/WojciechZankowski/ib-product-parser\" rel=\"nofollow noreferrer\">https://github.com/WojciechZankowski/ib-product-parser</a>\nI run it manually in my Windows CMD.\nThat's what I get when I run it:</p>\n<pre><code>:\\...b-product-parser\\bin\\artifacts\\ib_product_parser_jar&gt;java -jar ib-product-parser.jar -e allna -t STK -f pl.zankowsDownloading byx data...\nDownloading bats data...\nDownloading arcaedge data...\nDownloading chx data...\njavax.net.ssl.SSLException: Received fatal alert: internal_error\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:132)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:287)\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:512)\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:493)\n        at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:205)\n        at org.jsoup.helper.HttpConnection.get(HttpConnection.java:194)\n        at pl.zankowski.ibpp.IBProductParserService.parse(IBProductParserService.java:47)\n        at pl.zankowski.ibpp.IBProductParserService.lambda$parse$0(IBProductParserService.java:29)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\njavax.net.ssl.SSLException: Received fatal alert: internal_error\n</code></pre>\n<p>Compiled the project in Intellij and run it through CMD as per commands in manual.\nIt should connect ib portal website and download data. Instead, it returns error as per above.</p>\n"},{"tags":["java","android","kotlin","android-layout","textview"],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680112344,"creation_date":1680112344,"answer_id":75880574,"question_id":75878168,"body_markdown":"The answer you referred to computes the whole textView height as you described; if you want to calculate only the height of the third line or any other line, you can use TextView&#39;s Layout methods called `getLinesBounds`.\r\n\r\nHere is how it goes:\r\n- You get the vertical position or the y-coordinates of that line from the top using `getLineTop()`, in which you pass `2` as an argument, which means the third line since the index starts from 0.\r\n- You do the same from the bottom using `getLineBottom()` with the same argument.\r\n- You subtract the difference as a final result.\r\n\r\nHere is the full code:\r\n\r\n```kotlin\r\nval thirdLineTop = textView.layout.getLineTop(2)\r\nval thirdLineBottom = textView.layout.getLineBottom(2)\r\nval thirdLineHeight = thirdLineBottom - thirdLineTop\r\n```\r\n\r\nI tried that but It raised some errors, the issue is the `layout` object of the Textview will be null in the `onCreate` since the TextView hasn&#39;t been Laid out YET, so we need to wait until that TextView is laid out and have a valid layout object to start using the above code, so I added a layout observer listner like the following to test the code:\r\n\r\n```kotlin\r\nval tv = findViewById&lt;TextView&gt;(R.id.tva)\r\ntv.viewTreeObserver.addOnGlobalLayoutListener {\r\n     val thirdLineTop = tv.layout.getLineTop(2)\r\n     val thirdLineBottom = tv.layout.getLineBottom(2)\r\n     println(&quot;Total height is $thirdLineBottom - $thirdLineTop&quot;)\r\n}\r\n```\r\n\r\n\r\nI hope this would work for you!","title":"Calculate a height of specific line of textview","body":"<p>The answer you referred to computes the whole textView height as you described; if you want to calculate only the height of the third line or any other line, you can use TextView's Layout methods called <code>getLinesBounds</code>.</p>\n<p>Here is how it goes:</p>\n<ul>\n<li>You get the vertical position or the y-coordinates of that line from the top using <code>getLineTop()</code>, in which you pass <code>2</code> as an argument, which means the third line since the index starts from 0.</li>\n<li>You do the same from the bottom using <code>getLineBottom()</code> with the same argument.</li>\n<li>You subtract the difference as a final result.</li>\n</ul>\n<p>Here is the full code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val thirdLineTop = textView.layout.getLineTop(2)\nval thirdLineBottom = textView.layout.getLineBottom(2)\nval thirdLineHeight = thirdLineBottom - thirdLineTop\n</code></pre>\n<p>I tried that but It raised some errors, the issue is the <code>layout</code> object of the Textview will be null in the <code>onCreate</code> since the TextView hasn't been Laid out YET, so we need to wait until that TextView is laid out and have a valid layout object to start using the above code, so I added a layout observer listner like the following to test the code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val tv = findViewById&lt;TextView&gt;(R.id.tva)\ntv.viewTreeObserver.addOnGlobalLayoutListener {\n     val thirdLineTop = tv.layout.getLineTop(2)\n     val thirdLineBottom = tv.layout.getLineBottom(2)\n     println(&quot;Total height is $thirdLineBottom - $thirdLineTop&quot;)\n}\n</code></pre>\n<p>I hope this would work for you!</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75880574,"answer_count":1,"score":1,"last_activity_date":1680112344,"creation_date":1680097977,"question_id":75878168,"body_markdown":"I want to calculate a height of specific textview line. Let&#39;s suppose my textview has 3 lines of text and I want to calculate height of the third line. How to achieve that?\r\n\r\nI was trying this answer https://stackoverflow.com/a/40133086/21172734 but it gets the whole textview height, am I right?","title":"Calculate a height of specific line of textview","body":"<p>I want to calculate a height of specific textview line. Let's suppose my textview has 3 lines of text and I want to calculate height of the third line. How to achieve that?</p>\n<p>I was trying this answer <a href=\"https://stackoverflow.com/a/40133086/21172734\">https://stackoverflow.com/a/40133086/21172734</a> but it gets the whole textview height, am I right?</p>\n"},{"tags":["java","api","java-stream"],"comments":[{"owner":{"account_id":3431285,"reputation":710,"user_id":2875621,"accept_rate":55,"display_name":"Manish"},"score":0,"creation_date":1562913522,"post_id":57000850,"comment_id":100535953,"body_markdown":"What should the value of com map to -&gt; 900 from google.com or 100 from samsung.com?","body":"What should the value of com map to -&gt; 900 from google.com or 100 from samsung.com?"}],"answers":[{"tags":[],"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562910940,"creation_date":1562910940,"answer_id":57000922,"question_id":57000850,"body_markdown":"I would split and then collect it into a Map. For your simple case, I have used the SimpleEntry from Java directly. If your result is more complex, I would have created a pojo:\r\n\r\n    Map&lt;String, Double&gt; yourMap = Arrays.stream(domaintCount)\r\n        .map(string -&gt; {\r\n          String[] splitted = string.split(&quot;,&quot;);\r\n          return new AbstractMap.SimpleEntry&lt;String, Double&gt;(splitted[1].trim(), Double.valueOf(splitted[0].trim()));\r\n        })\r\n        .collect(Collectors.toMap(AbstractMap.SimpleEntry::getKey, AbstractMap.SimpleEntry::getValue));","title":"How to parse an array with strings using Java Stream API","body":"<p>I would split and then collect it into a Map. For your simple case, I have used the SimpleEntry from Java directly. If your result is more complex, I would have created a pojo:</p>\n\n<pre><code>Map&lt;String, Double&gt; yourMap = Arrays.stream(domaintCount)\n    .map(string -&gt; {\n      String[] splitted = string.split(\",\");\n      return new AbstractMap.SimpleEntry&lt;String, Double&gt;(splitted[1].trim(), Double.valueOf(splitted[0].trim()));\n    })\n    .collect(Collectors.toMap(AbstractMap.SimpleEntry::getKey, AbstractMap.SimpleEntry::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562912727,"creation_date":1562912377,"answer_id":57001200,"question_id":57000850,"body_markdown":"I did something like this. The basic idea is to split the strings into maps of `&lt;domain, number&gt;`, then merge those maps&#39; values.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] domaintCount = new String[]\r\n    {\r\n            &quot;900, google.com&quot;,\r\n            &quot;400, mobile.yahoo.co.uk&quot;,\r\n            &quot;100, mobile.amazon.com&quot;,\r\n            &quot;100, samsung.com&quot;\r\n    };\r\n\r\n    Function&lt;String, Map&lt;String, String&gt;&gt; stringParser = string -&gt; {\r\n        String[] splitByComma = string.split(&quot;, &quot;);\r\n        String num = splitByComma[0];\r\n        String[] domains = splitByComma[1].trim().split(&quot;\\\\.&quot;);\r\n        Map&lt;String, String&gt; stringStringHashMap = new HashMap&lt;&gt;();\r\n        for (String dom : domains) {\r\n            stringStringHashMap.put(dom, num);\r\n        }\r\n        return stringStringHashMap;\r\n    };\r\n\r\n    Map&lt;String, String&gt; collect = Stream.of(domaintCount)\r\n            .map(stringParser)\r\n            .map(Map::entrySet)\r\n            .flatMap(Set::stream)\r\n            .collect(groupingBy(Map.Entry::getValue))\r\n            .values().stream()\r\n            .flatMap(List::stream)\r\n            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1));\r\n\r\n    System.out.println(collect);\r\n}\r\n```","title":"How to parse an array with strings using Java Stream API","body":"<p>I did something like this. The basic idea is to split the strings into maps of <code>&lt;domain, number&gt;</code>, then merge those maps' values.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] domaintCount = new String[]\n    {\n            \"900, google.com\",\n            \"400, mobile.yahoo.co.uk\",\n            \"100, mobile.amazon.com\",\n            \"100, samsung.com\"\n    };\n\n    Function&lt;String, Map&lt;String, String&gt;&gt; stringParser = string -&gt; {\n        String[] splitByComma = string.split(\", \");\n        String num = splitByComma[0];\n        String[] domains = splitByComma[1].trim().split(\"\\\\.\");\n        Map&lt;String, String&gt; stringStringHashMap = new HashMap&lt;&gt;();\n        for (String dom : domains) {\n            stringStringHashMap.put(dom, num);\n        }\n        return stringStringHashMap;\n    };\n\n    Map&lt;String, String&gt; collect = Stream.of(domaintCount)\n            .map(stringParser)\n            .map(Map::entrySet)\n            .flatMap(Set::stream)\n            .collect(groupingBy(Map.Entry::getValue))\n            .values().stream()\n            .flatMap(List::stream)\n            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1));\n\n    System.out.println(collect);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1562917868,"post_id":57002459,"comment_id":100538052,"body_markdown":"I couldn&#39;t edit due to 404 error, but instead of split(&quot;, &quot;) I meant split(&quot;,&quot;)","body":"I couldn&#39;t edit due to 404 error, but instead of split(&quot;, &quot;) I meant split(&quot;,&quot;)"}],"tags":[],"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917800,"creation_date":1562917800,"answer_id":57002459,"question_id":57000850,"body_markdown":"This way you can use &quot;, &quot; and &quot; ,&quot; as well.\r\n\r\n    Stream.of(domainCount)\r\n    .map(str-&gt;str.split(&quot;, &quot;))\r\n    .collect(toMap(strArr-&gt;strArr[0].trim(), strArr-&gt;strArr[1].trim());","title":"How to parse an array with strings using Java Stream API","body":"<p>This way you can use \", \" and \" ,\" as well.</p>\n\n<pre><code>Stream.of(domainCount)\n.map(str-&gt;str.split(\", \"))\n.collect(toMap(strArr-&gt;strArr[0].trim(), strArr-&gt;strArr[1].trim());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5390909,"reputation":1,"user_id":4293467,"display_name":"dortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680112004,"creation_date":1680112004,"answer_id":75880528,"question_id":57000850,"body_markdown":"    public static void main(String[] args) {\r\n        String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\r\n                &quot;400, mobile.yahoo.co.uk&quot;,\r\n                &quot;100, mobile.amazon.com&quot;,\r\n                &quot;100, samsung.com&quot;\r\n        };\r\n\r\n\r\n        Arrays.stream(domaintCount)\r\n                .map(s -&gt; {\r\n                    String[] strings = s.split(&quot;,&quot;);\r\n                    return new Domain(Integer.valueOf(strings[0]), strings[1].trim());\r\n                })\r\n                .forEach(System.out::println);\r\n    }\r\n\r\n    static class Domain {\r\n        private Integer count;\r\n        private String dn;\r\n        public Domain(Integer count, String dn) {\r\n            this.count = count;\r\n            this.dn = dn;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[Domain, count: %d, dn: %s]&quot;, count, dn);\r\n        }\r\n    }","title":"How to parse an array with strings using Java Stream API","body":"<pre><code>public static void main(String[] args) {\n    String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\n            &quot;400, mobile.yahoo.co.uk&quot;,\n            &quot;100, mobile.amazon.com&quot;,\n            &quot;100, samsung.com&quot;\n    };\n\n\n    Arrays.stream(domaintCount)\n            .map(s -&gt; {\n                String[] strings = s.split(&quot;,&quot;);\n                return new Domain(Integer.valueOf(strings[0]), strings[1].trim());\n            })\n            .forEach(System.out::println);\n}\n\nstatic class Domain {\n    private Integer count;\n    private String dn;\n    public Domain(Integer count, String dn) {\n        this.count = count;\n        this.dn = dn;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;[Domain, count: %d, dn: %s]&quot;, count, dn);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6207782,"reputation":71,"user_id":4835134,"display_name":"Rajesh Ramachandran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1680112004,"creation_date":1562910573,"question_id":57000850,"body_markdown":"How to use Java stream API to parse and create a hashmap from an array of strings with two different delimiters.\r\n\r\nI have the following Array\r\n   \r\n\r\n    String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\r\n                                              &quot;400, mobile.yahoo.co.uk&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t   &quot;100, mobile.amazon.com&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t   &quot;100, samsung.com&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t} ; \r\n\r\nI wanted to create a hashmap with each word as key and number as value..\r\nFor example  \r\n\r\n    google ,900,\r\n    com ,900,\r\n    mobile,400\r\n\r\netc.. I wanted to do it using Stream API functions.","title":"How to parse an array with strings using Java Stream API","body":"<p>How to use Java stream API to parse and create a hashmap from an array of strings with two different delimiters.</p>\n\n<p>I have the following Array</p>\n\n<pre><code>String[] domaintCount = new String[]{  \"900, google.com\",\n                                          \"400, mobile.yahoo.co.uk\",\n                                           \"100, mobile.amazon.com\",\n                                           \"100, samsung.com\"\n                                            } ; \n</code></pre>\n\n<p>I wanted to create a hashmap with each word as key and number as value..\nFor example  </p>\n\n<pre><code>google ,900,\ncom ,900,\nmobile,400\n</code></pre>\n\n<p>etc.. I wanted to do it using Stream API functions.</p>\n"},{"tags":["java","elasticsearch","opensearch","aws-elasticsearch"],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680111773,"creation_date":1680111773,"question_id":75880495,"body_markdown":"Trying to connect opensearch [AWS] via JavaClient and followed [this][1] blog. We don&#39;t have ssl authentication enabled in AWS for this demo. \r\n\r\n    public void connect(){\r\n        try {\r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY,\r\n                    new UsernamePasswordCredentials(&quot;es_cluster_username&quot;, &quot;es_password&quot;));\r\n\r\n            RestClient restClient = RestClient.builder(new HttpHost(&quot;es-demo-cluster&quot;, 9200, &quot;https&quot;))\r\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)).build();\r\n\r\n            OpenSearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\r\n            OpenSearchClient openSearchClient = new OpenSearchClient(transport);\r\n            boolean isConneted = openSearchClient.ping().value();\r\n            if (isConneted) {\r\n                log.info(&quot;ES connected &quot;);\r\n            } else {\r\n                log.error(&quot;ES NOT connected&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to connect to ES &quot;);\r\n        }\r\n    }\r\n     \r\nBut getting Timeout exception here : \r\n\r\n    &gt; java.net.ConnectException: Timeout connecting to [host:9200]\r\n    \tat org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:953)\r\n    \tat org.opensearch.client.RestClient.performRequest(RestClient.java:332)\r\n    \tat org.opensearch.client.RestClient.performRequest(RestClient.java:320)\r\n    \tat org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:142)\r\n\r\ndependencies : \r\n\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opensearch-rest-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opensearch-java&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nOur ES service is hosted in AWS and the demo endpoint[es-demo-cluster] is public. Able to do curl &quot;es_endpoint[es-demo-cluster]&quot; but connecting via Java client is throwing an exception. Can someone help with this?\r\n\r\n\r\n  [1]: https://learnersbucket.com/examples/elasticsearch/how-to-connect-to-the-opensearch-via-java-client/","title":"Timeout exception while connecting to opensearch java client","body":"<p>Trying to connect opensearch [AWS] via JavaClient and followed <a href=\"https://learnersbucket.com/examples/elasticsearch/how-to-connect-to-the-opensearch-via-java-client/\" rel=\"nofollow noreferrer\">this</a> blog. We don't have ssl authentication enabled in AWS for this demo.</p>\n<pre><code>public void connect(){\n    try {\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(&quot;es_cluster_username&quot;, &quot;es_password&quot;));\n\n        RestClient restClient = RestClient.builder(new HttpHost(&quot;es-demo-cluster&quot;, 9200, &quot;https&quot;))\n                .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)).build();\n\n        OpenSearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\n        OpenSearchClient openSearchClient = new OpenSearchClient(transport);\n        boolean isConneted = openSearchClient.ping().value();\n        if (isConneted) {\n            log.info(&quot;ES connected &quot;);\n        } else {\n            log.error(&quot;ES NOT connected&quot;);\n        }\n    } catch (Exception e) {\n        log.error(&quot;Failed to connect to ES &quot;);\n    }\n}\n \n</code></pre>\n<p>But getting Timeout exception here :</p>\n<pre><code>&gt; java.net.ConnectException: Timeout connecting to [host:9200]\n    at org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:953)\n    at org.opensearch.client.RestClient.performRequest(RestClient.java:332)\n    at org.opensearch.client.RestClient.performRequest(RestClient.java:320)\n    at org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:142)\n</code></pre>\n<p>dependencies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch-rest-client&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch-java&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Our ES service is hosted in AWS and the demo endpoint[es-demo-cluster] is public. Able to do curl &quot;es_endpoint[es-demo-cluster]&quot; but connecting via Java client is throwing an exception. Can someone help with this?</p>\n"},{"tags":["java","netty","project-reactor","reactive","apache-sshd"],"answers":[{"tags":[],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657479252,"creation_date":1657362559,"answer_id":72920627,"question_id":72699166,"body_markdown":"I finally found a working solution. The previous problem was that `Mono&lt;Void&gt;` does not trigger the subsequent tasks in the pipeline.\r\n\r\nHere are the new changes:\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport org.apache.sshd.client.SshClient;\r\nimport org.apache.sshd.client.channel.ClientChannel;\r\nimport org.apache.sshd.client.session.ClientSession;\r\nimport org.apache.sshd.common.channel.StreamingChannel;\r\nimport org.apache.sshd.common.future.SshFutureListener;\r\nimport org.apache.sshd.common.io.IoInputStream;\r\nimport org.apache.sshd.common.io.IoOutputStream;\r\nimport org.apache.sshd.common.io.IoReadFuture;\r\nimport org.apache.sshd.common.io.IoWriteFuture;\r\nimport org.apache.sshd.common.util.buffer.Buffer;\r\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.publisher.MonoSink;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\n// start a docker container\r\n// docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e\r\n// USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\r\n\r\npublic class SshDocker {\r\n  private static final String hostname = &quot;localhost&quot;;\r\n  private static final String username = &quot;username&quot;;\r\n  private static final String password = &quot;password&quot;;\r\n  private static final int port = 2222;\r\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\r\n  private IoInputStream responseStream;\r\n  private IoOutputStream requestStream;\r\n  private SshClient client;\r\n  private ClientSession session;\r\n  private ClientChannel channel;\r\n\r\n  private Boolean openNotReactive() throws IOException {\r\n    client = SshClient.setUpDefaultClient();\r\n    client.start();\r\n\r\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\r\n    session.addPasswordIdentity(password);\r\n    session.auth().verify(clientTimeout);\r\n\r\n    channel = session.createShellChannel();\r\n    channel.setStreaming(StreamingChannel.Streaming.Async);\r\n    channel.open().verify(clientTimeout);\r\n\r\n    responseStream = channel.getAsyncOut();\r\n    requestStream = channel.getAsyncIn();\r\n    return true;\r\n  }\r\n\r\n  public Mono&lt;String&gt; open() {\r\n    final Duration timeout = Duration.ofSeconds(10);\r\n    final Mono&lt;Boolean&gt; open =\r\n        Mono.fromCallable(this::openNotReactive).subscribeOn(Schedulers.boundedElastic());\r\n    return open.flatMap(r -&gt; readResponse(timeout));\r\n  }\r\n\r\n  public Mono&lt;Boolean&gt; close() {\r\n    return Mono.fromCallable(\r\n            () -&gt; {\r\n              closeNotReactive();\r\n              return true;\r\n            })\r\n        .subscribeOn(Schedulers.boundedElastic());\r\n  }\r\n\r\n  private void closeNotReactive() throws Exception {\r\n    System.out.println(&quot;Closing&quot;);\r\n    channel.close();\r\n    session.close();\r\n    client.close();\r\n  }\r\n\r\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\r\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout)).log();\r\n  }\r\n\r\n  private Mono&lt;Boolean&gt; runCommand(final String command, final Duration timeout) {\r\n    final String cmd = String.format(&quot;%s\\n&quot;, command.strip());\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\r\n              new ReactiveMonoRequestListener(timeout, monoSink);\r\n          try {\r\n            final IoWriteFuture writeFuture =\r\n                requestStream.writeBuffer(new ByteArrayBuffer(cmd.getBytes()));\r\n            writeFuture.addListener(reactiveMonoRequestListener);\r\n            monoSink.onDispose(() -&gt; writeFuture.removeListener(reactiveMonoRequestListener));\r\n          } catch (final IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        });\r\n  }\r\n\r\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\r\n    // https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoResponseListener reactiveResponseListener =\r\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\r\n          final IoReadFuture readFuture = responseStream.read(new ByteArrayBuffer());\r\n          readFuture.addListener(reactiveResponseListener);\r\n          monoSink.onDispose(() -&gt; readFuture.removeListener(reactiveResponseListener));\r\n        });\r\n  }\r\n\r\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\r\n\r\n    final IoInputStream responseStream;\r\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n    private final Duration timeout;\r\n    private final MonoSink&lt;String&gt; handler;\r\n\r\n    public ReactiveMonoResponseListener(\r\n        final IoInputStream responseStream,\r\n        final Duration timeout,\r\n        final MonoSink&lt;String&gt; handler) {\r\n      this.responseStream = responseStream;\r\n      this.timeout = timeout;\r\n      this.handler = handler;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoReadFuture ioReadFuture) {\r\n      System.out.println(&quot;Operation Read Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioReadFuture.verify(timeout);\r\n          final Buffer buffer = ioReadFuture.getBuffer();\r\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\r\n          buffer.rpos(buffer.rpos() + buffer.available());\r\n          buffer.compact();\r\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\r\n            responseStream.read(buffer).addListener(this);\r\n          } else {\r\n            System.out.println(&quot;response mono &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            System.out.println(result);\r\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response mono&quot;);\r\n\r\n            handler.success(result.toString());\r\n          }\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\r\n\r\n    private final MonoSink&lt;Boolean&gt; handler;\r\n    private final Duration timeout;\r\n\r\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Boolean&gt; handler) {\r\n      this.handler = handler;\r\n      this.timeout = timeout;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\r\n      System.out.println(&quot;Operation Write Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioWriteFuture.verify(timeout);\r\n          handler.success(true);\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand the &quot;test&quot; to run the application:\r\n\r\n```\r\nimport java.time.Duration;\r\nimport org.junit.jupiter.api.Test;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.test.StepVerifier;\r\n\r\nclass SshDockerTest {\r\n\r\n  @Test\r\n  void run() {\r\n    final SshDocker sshClient = new SshDocker();\r\n    final Mono&lt;Boolean&gt; result = sshClient\r\n        .open()\r\n        .flatMap(r -&gt; sshClient.execCommand(&quot;ls&quot;, Duration.ofSeconds(3)))\r\n        .flatMap(r -&gt; sshClient.execCommand(&quot;pwd&quot;, Duration.ofSeconds(3)))\r\n        .flatMap(r -&gt; sshClient.close());\r\n    StepVerifier.create(result).expectNext(true).verifyComplete();\r\n  }\r\n}\r\n```\r\n\r\nIs it possible to use `AutoClosable` with reactor so that I don&#39;t need to pay to much attention to manually calling the close method?\r\n\r\nIf you see any improvement, please let me know.","title":"How to use sshd mina/netty with projectreactor","body":"<p>I finally found a working solution. The previous problem was that <code>Mono&lt;Void&gt;</code> does not trigger the subsequent tasks in the pipeline.</p>\n<p>Here are the new changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.sshd.client.SshClient;\nimport org.apache.sshd.client.channel.ClientChannel;\nimport org.apache.sshd.client.session.ClientSession;\nimport org.apache.sshd.common.channel.StreamingChannel;\nimport org.apache.sshd.common.future.SshFutureListener;\nimport org.apache.sshd.common.io.IoInputStream;\nimport org.apache.sshd.common.io.IoOutputStream;\nimport org.apache.sshd.common.io.IoReadFuture;\nimport org.apache.sshd.common.io.IoWriteFuture;\nimport org.apache.sshd.common.util.buffer.Buffer;\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\nimport reactor.core.publisher.Mono;\nimport reactor.core.publisher.MonoSink;\nimport reactor.core.scheduler.Schedulers;\n\n// start a docker container\n// docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e\n// USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\n\npublic class SshDocker {\n  private static final String hostname = &quot;localhost&quot;;\n  private static final String username = &quot;username&quot;;\n  private static final String password = &quot;password&quot;;\n  private static final int port = 2222;\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\n  private IoInputStream responseStream;\n  private IoOutputStream requestStream;\n  private SshClient client;\n  private ClientSession session;\n  private ClientChannel channel;\n\n  private Boolean openNotReactive() throws IOException {\n    client = SshClient.setUpDefaultClient();\n    client.start();\n\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\n    session.addPasswordIdentity(password);\n    session.auth().verify(clientTimeout);\n\n    channel = session.createShellChannel();\n    channel.setStreaming(StreamingChannel.Streaming.Async);\n    channel.open().verify(clientTimeout);\n\n    responseStream = channel.getAsyncOut();\n    requestStream = channel.getAsyncIn();\n    return true;\n  }\n\n  public Mono&lt;String&gt; open() {\n    final Duration timeout = Duration.ofSeconds(10);\n    final Mono&lt;Boolean&gt; open =\n        Mono.fromCallable(this::openNotReactive).subscribeOn(Schedulers.boundedElastic());\n    return open.flatMap(r -&gt; readResponse(timeout));\n  }\n\n  public Mono&lt;Boolean&gt; close() {\n    return Mono.fromCallable(\n            () -&gt; {\n              closeNotReactive();\n              return true;\n            })\n        .subscribeOn(Schedulers.boundedElastic());\n  }\n\n  private void closeNotReactive() throws Exception {\n    System.out.println(&quot;Closing&quot;);\n    channel.close();\n    session.close();\n    client.close();\n  }\n\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout)).log();\n  }\n\n  private Mono&lt;Boolean&gt; runCommand(final String command, final Duration timeout) {\n    final String cmd = String.format(&quot;%s\\n&quot;, command.strip());\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\n              new ReactiveMonoRequestListener(timeout, monoSink);\n          try {\n            final IoWriteFuture writeFuture =\n                requestStream.writeBuffer(new ByteArrayBuffer(cmd.getBytes()));\n            writeFuture.addListener(reactiveMonoRequestListener);\n            monoSink.onDispose(() -&gt; writeFuture.removeListener(reactiveMonoRequestListener));\n          } catch (final IOException e) {\n            throw new RuntimeException(e);\n          }\n        });\n  }\n\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\n    // https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoResponseListener reactiveResponseListener =\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\n          final IoReadFuture readFuture = responseStream.read(new ByteArrayBuffer());\n          readFuture.addListener(reactiveResponseListener);\n          monoSink.onDispose(() -&gt; readFuture.removeListener(reactiveResponseListener));\n        });\n  }\n\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\n\n    final IoInputStream responseStream;\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\n    private final Duration timeout;\n    private final MonoSink&lt;String&gt; handler;\n\n    public ReactiveMonoResponseListener(\n        final IoInputStream responseStream,\n        final Duration timeout,\n        final MonoSink&lt;String&gt; handler) {\n      this.responseStream = responseStream;\n      this.timeout = timeout;\n      this.handler = handler;\n    }\n\n    @Override\n    public void operationComplete(final IoReadFuture ioReadFuture) {\n      System.out.println(&quot;Operation Read Complete&quot;);\n      if (handler != null) {\n        try {\n          ioReadFuture.verify(timeout);\n          final Buffer buffer = ioReadFuture.getBuffer();\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\n          buffer.rpos(buffer.rpos() + buffer.available());\n          buffer.compact();\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\n            responseStream.read(buffer).addListener(this);\n          } else {\n            System.out.println(&quot;response mono &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n            System.out.println(result);\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response mono&quot;);\n\n            handler.success(result.toString());\n          }\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\n\n    private final MonoSink&lt;Boolean&gt; handler;\n    private final Duration timeout;\n\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Boolean&gt; handler) {\n      this.handler = handler;\n      this.timeout = timeout;\n    }\n\n    @Override\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\n      System.out.println(&quot;Operation Write Complete&quot;);\n      if (handler != null) {\n        try {\n          ioWriteFuture.verify(timeout);\n          handler.success(true);\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>and the &quot;test&quot; to run the application:</p>\n<pre><code>import java.time.Duration;\nimport org.junit.jupiter.api.Test;\nimport reactor.core.publisher.Mono;\nimport reactor.test.StepVerifier;\n\nclass SshDockerTest {\n\n  @Test\n  void run() {\n    final SshDocker sshClient = new SshDocker();\n    final Mono&lt;Boolean&gt; result = sshClient\n        .open()\n        .flatMap(r -&gt; sshClient.execCommand(&quot;ls&quot;, Duration.ofSeconds(3)))\n        .flatMap(r -&gt; sshClient.execCommand(&quot;pwd&quot;, Duration.ofSeconds(3)))\n        .flatMap(r -&gt; sshClient.close());\n    StepVerifier.create(result).expectNext(true).verifyComplete();\n  }\n}\n</code></pre>\n<p>Is it possible to use <code>AutoClosable</code> with reactor so that I don't need to pay to much attention to manually calling the close method?</p>\n<p>If you see any improvement, please let me know.</p>\n"}],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680111749,"creation_date":1655807209,"question_id":72699166,"body_markdown":"I want to develop a java reactive application which needs to communicate to some external services via ssh. As reactive framework, I am using spring boot webflux from the project reactor and sshd mina/netty for the ssh client. Basically, the application will open a ssh session and run some commands on the server. The logic with the command depends on the responses of previous commands.\r\n\r\nThe question is, how to integrate sshd mina into spring boot project reactor (Mono/Flux)?\r\n\r\nsshd mina offers the possibility to use async response, as shown in the test: https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560\r\n\r\nbut I don&#39;t know how to integrate that with Mono/Flux.\r\n\r\nUntil now, I am able to get the responce corresponding to the login but not the following response after sending a command.\r\n\r\nHere is my setup code\r\n\r\nthe test ssh server is create via docker\r\n```\r\ndocker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\r\n```\r\n\r\nthe java project contains the following dependencies\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;sshd-netty&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nthe ssh client code which I would like it to be reactive\r\nwith the mina documentation (https://github.com/apache/mina-sshd)\r\nand the only example I could find of mina async client usage (https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518)\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport org.apache.sshd.client.SshClient;\r\nimport org.apache.sshd.client.channel.ClientChannel;\r\nimport org.apache.sshd.client.session.ClientSession;\r\nimport org.apache.sshd.common.channel.StreamingChannel;\r\nimport org.apache.sshd.common.future.SshFutureListener;\r\nimport org.apache.sshd.common.io.IoInputStream;\r\nimport org.apache.sshd.common.io.IoOutputStream;\r\nimport org.apache.sshd.common.io.IoReadFuture;\r\nimport org.apache.sshd.common.io.IoWriteFuture;\r\nimport org.apache.sshd.common.util.buffer.Buffer;\r\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.publisher.MonoSink;\r\n\r\npublic class SshDocker implements AutoCloseable {\r\n  private static final String hostname = &quot;localhost&quot;;\r\n  private static final String username = &quot;username&quot;;\r\n  private static final String password = &quot;password&quot;;\r\n  private static final int port = 2222;\r\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\r\n  private SshClient client;\r\n  private ClientSession session;\r\n  private ClientChannel channel;\r\n\r\n  public Mono&lt;String&gt; open() throws IOException {\r\n    client = SshClient.setUpDefaultClient();\r\n    client.start();\r\n\r\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\r\n    session.addPasswordIdentity(password);\r\n    session.auth().verify(clientTimeout);\r\n\r\n    channel = session.createShellChannel();\r\n    channel.setStreaming(StreamingChannel.Streaming.Async);\r\n    channel.open().verify(clientTimeout);\r\n\r\n    final Duration timeout = Duration.ofSeconds(10);\r\n    return readResponse(timeout);\r\n  }\r\n\r\n  @Override\r\n  public void close() throws Exception {\r\n    channel.close();\r\n    session.close();\r\n    client.close();\r\n  }\r\n\r\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\r\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout));\r\n  }\r\n\r\n  private Mono&lt;Void&gt; runCommand(final String command, final Duration timeout) {\r\n    final IoOutputStream requestStream = channel.getAsyncIn();\r\n    return Mono.create(\r\n        voidMonoSink -&gt; {\r\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\r\n              new ReactiveMonoRequestListener(timeout, voidMonoSink);\r\n          try {\r\n            requestStream\r\n                .writeBuffer(new ByteArrayBuffer(command.getBytes()))\r\n                .addListener(reactiveMonoRequestListener);\r\n          } catch (final IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        });\r\n  }\r\n\r\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\r\n    final IoInputStream responseStream = channel.getAsyncOut();\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoResponseListener reactiveResponseListener =\r\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\r\n          responseStream.read(new ByteArrayBuffer()).addListener(reactiveResponseListener);\r\n        });\r\n  }\r\n\r\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\r\n\r\n    final IoInputStream responseStream;\r\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n    private final Duration timeout;\r\n    private final MonoSink&lt;String&gt; handler;\r\n\r\n    public ReactiveMonoResponseListener(\r\n        final IoInputStream responseStream,\r\n        final Duration timeout,\r\n        final MonoSink&lt;String&gt; handler) {\r\n      this.responseStream = responseStream;\r\n      this.timeout = timeout;\r\n      this.handler = handler;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoReadFuture ioReadFuture) {\r\n      System.out.println(&quot;Operation Read Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioReadFuture.verify(timeout);\r\n          final Buffer buffer = ioReadFuture.getBuffer();\r\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\r\n          buffer.rpos(buffer.rpos() + buffer.available());\r\n          buffer.compact();\r\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\r\n            responseStream.read(buffer).addListener(this);\r\n          } else {\r\n            System.out.println(&quot;response &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            System.out.println(result);\r\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response&quot;);\r\n\r\n            handler.success(result.toString());\r\n          }\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\r\n\r\n    private final MonoSink&lt;Void&gt; handler;\r\n    private final Duration timeout;\r\n\r\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Void&gt; handler) {\r\n      this.handler = handler;\r\n      this.timeout = timeout;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\r\n      System.out.println(&quot;Operation Write Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioWriteFuture.verify(timeout);\r\n          handler.success();\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nthe test used to run the reactive ssh client\r\n```java\r\nimport java.time.Duration;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass SshDockerTest {\r\n\r\n  @Test\r\n  void run() throws Exception {\r\n    final SshDocker sshClient = new SshDocker();\r\n    sshClient\r\n        .open()\r\n        .flatMap(v -&gt; sshClient.execCommand(&quot;ls\\n&quot;, Duration.ofSeconds(3)))\r\n        .subscribe(System.out::println);\r\n  }\r\n}\r\n```\r\n\r\nwhen running the test, beside the debug log, I obtain:\r\n```\r\nOperation Read Complete\r\nresponse &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\nWelcome to OpenSSH Server\r\n\r\n65d098057769:~$\r\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response\r\nOperation Write Complete\r\n```\r\nbut no sign of the response for the `ls` command\r\n\r\n\r\nif it is not possible to transform that sshd mina into reactive, what would be an alternative reactive solution?\r\n\r\nThanks","title":"How to use sshd mina/netty with projectreactor","body":"<p>I want to develop a java reactive application which needs to communicate to some external services via ssh. As reactive framework, I am using spring boot webflux from the project reactor and sshd mina/netty for the ssh client. Basically, the application will open a ssh session and run some commands on the server. The logic with the command depends on the responses of previous commands.</p>\n<p>The question is, how to integrate sshd mina into spring boot project reactor (Mono/Flux)?</p>\n<p>sshd mina offers the possibility to use async response, as shown in the test: <a href=\"https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560</a></p>\n<p>but I don't know how to integrate that with Mono/Flux.</p>\n<p>Until now, I am able to get the responce corresponding to the login but not the following response after sending a command.</p>\n<p>Here is my setup code</p>\n<p>the test ssh server is create via docker</p>\n<pre><code>docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\n</code></pre>\n<p>the java project contains the following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\n      &lt;artifactId&gt;sshd-netty&lt;/artifactId&gt;\n      &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>the ssh client code which I would like it to be reactive\nwith the mina documentation (<a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd</a>)\nand the only example I could find of mina async client usage (<a href=\"https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.sshd.client.SshClient;\nimport org.apache.sshd.client.channel.ClientChannel;\nimport org.apache.sshd.client.session.ClientSession;\nimport org.apache.sshd.common.channel.StreamingChannel;\nimport org.apache.sshd.common.future.SshFutureListener;\nimport org.apache.sshd.common.io.IoInputStream;\nimport org.apache.sshd.common.io.IoOutputStream;\nimport org.apache.sshd.common.io.IoReadFuture;\nimport org.apache.sshd.common.io.IoWriteFuture;\nimport org.apache.sshd.common.util.buffer.Buffer;\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\nimport reactor.core.publisher.Mono;\nimport reactor.core.publisher.MonoSink;\n\npublic class SshDocker implements AutoCloseable {\n  private static final String hostname = &quot;localhost&quot;;\n  private static final String username = &quot;username&quot;;\n  private static final String password = &quot;password&quot;;\n  private static final int port = 2222;\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\n  private SshClient client;\n  private ClientSession session;\n  private ClientChannel channel;\n\n  public Mono&lt;String&gt; open() throws IOException {\n    client = SshClient.setUpDefaultClient();\n    client.start();\n\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\n    session.addPasswordIdentity(password);\n    session.auth().verify(clientTimeout);\n\n    channel = session.createShellChannel();\n    channel.setStreaming(StreamingChannel.Streaming.Async);\n    channel.open().verify(clientTimeout);\n\n    final Duration timeout = Duration.ofSeconds(10);\n    return readResponse(timeout);\n  }\n\n  @Override\n  public void close() throws Exception {\n    channel.close();\n    session.close();\n    client.close();\n  }\n\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout));\n  }\n\n  private Mono&lt;Void&gt; runCommand(final String command, final Duration timeout) {\n    final IoOutputStream requestStream = channel.getAsyncIn();\n    return Mono.create(\n        voidMonoSink -&gt; {\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\n              new ReactiveMonoRequestListener(timeout, voidMonoSink);\n          try {\n            requestStream\n                .writeBuffer(new ByteArrayBuffer(command.getBytes()))\n                .addListener(reactiveMonoRequestListener);\n          } catch (final IOException e) {\n            throw new RuntimeException(e);\n          }\n        });\n  }\n\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\n    final IoInputStream responseStream = channel.getAsyncOut();\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoResponseListener reactiveResponseListener =\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\n          responseStream.read(new ByteArrayBuffer()).addListener(reactiveResponseListener);\n        });\n  }\n\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\n\n    final IoInputStream responseStream;\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\n    private final Duration timeout;\n    private final MonoSink&lt;String&gt; handler;\n\n    public ReactiveMonoResponseListener(\n        final IoInputStream responseStream,\n        final Duration timeout,\n        final MonoSink&lt;String&gt; handler) {\n      this.responseStream = responseStream;\n      this.timeout = timeout;\n      this.handler = handler;\n    }\n\n    @Override\n    public void operationComplete(final IoReadFuture ioReadFuture) {\n      System.out.println(&quot;Operation Read Complete&quot;);\n      if (handler != null) {\n        try {\n          ioReadFuture.verify(timeout);\n          final Buffer buffer = ioReadFuture.getBuffer();\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\n          buffer.rpos(buffer.rpos() + buffer.available());\n          buffer.compact();\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\n            responseStream.read(buffer).addListener(this);\n          } else {\n            System.out.println(&quot;response &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n            System.out.println(result);\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response&quot;);\n\n            handler.success(result.toString());\n          }\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\n\n    private final MonoSink&lt;Void&gt; handler;\n    private final Duration timeout;\n\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Void&gt; handler) {\n      this.handler = handler;\n      this.timeout = timeout;\n    }\n\n    @Override\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\n      System.out.println(&quot;Operation Write Complete&quot;);\n      if (handler != null) {\n        try {\n          ioWriteFuture.verify(timeout);\n          handler.success();\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>the test used to run the reactive ssh client</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport org.junit.jupiter.api.Test;\n\nclass SshDockerTest {\n\n  @Test\n  void run() throws Exception {\n    final SshDocker sshClient = new SshDocker();\n    sshClient\n        .open()\n        .flatMap(v -&gt; sshClient.execCommand(&quot;ls\\n&quot;, Duration.ofSeconds(3)))\n        .subscribe(System.out::println);\n  }\n}\n</code></pre>\n<p>when running the test, beside the debug log, I obtain:</p>\n<pre><code>Operation Read Complete\nresponse &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\nWelcome to OpenSSH Server\n\n65d098057769:~$\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response\nOperation Write Complete\n</code></pre>\n<p>but no sign of the response for the <code>ls</code> command</p>\n<p>if it is not possible to transform that sshd mina into reactive, what would be an alternative reactive solution?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","user-interface","radio-button"],"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1376301252,"post_id":18184069,"comment_id":26644166,"body_markdown":"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/button.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"score":0,"creation_date":1376301269,"post_id":18184069,"comment_id":26644174,"body_markdown":"ArrayLists can store dynamic number of elements","body":"ArrayLists can store dynamic number of elements"},{"owner":{"account_id":2447681,"reputation":6407,"user_id":2134604,"accept_rate":63,"display_name":"Pandiyan Cool"},"score":1,"creation_date":1376301381,"post_id":18184069,"comment_id":26644233,"body_markdown":"use loops to generate number of loops. Then hide the sub divided radio options. Enable them to visible, only when major button is selected.","body":"use loops to generate number of loops. Then hide the sub divided radio options. Enable them to visible, only when major button is selected."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1376303069,"post_id":18184069,"comment_id":26645166,"body_markdown":"For nesting properly use a JTree and render the nodes to radio buttons. It should even work with ButtonGroup to control for only one button selected.","body":"For nesting properly use a JTree and render the nodes to radio buttons. It should even work with ButtonGroup to control for only one button selected."},{"owner":{"account_id":3111080,"reputation":161,"user_id":2632781,"accept_rate":56,"display_name":"Chris"},"score":0,"creation_date":1376303415,"post_id":18184069,"comment_id":26645334,"body_markdown":"Ye ... I&#39;ll make use of ButtonGroup. I have a framework of drop down panels and I&#39;ll stick to it as well. I guess I&#39;m on the right path till now :).","body":"Ye ... I&#39;ll make use of ButtonGroup. I have a framework of drop down panels and I&#39;ll stick to it as well. I guess I&#39;m on the right path till now :)."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1376303782,"post_id":18184069,"comment_id":26645523,"body_markdown":"Depending on your requirements, you could use nested `JPanel`&#39;s and `EmptyBorder`","body":"Depending on your requirements, you could use nested <code>JPanel</code>&#39;s and <code>EmptyBorder</code>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1376306376,"post_id":18184069,"comment_id":26646921,"body_markdown":"here are a few JTree with JCheckBox as TreeCellRenderer/Editor, but ButtonGroup will be required little bit effort, use JComboBox as TreeCellEditor instead of bunch of code required for JRadioButtons in ButtonGroup as TreeCellRender/Editor, search for code stored only Boolean value,","body":"here are a few JTree with JCheckBox as TreeCellRenderer/Editor, but ButtonGroup will be required little bit effort, use JComboBox as TreeCellEditor instead of bunch of code required for JRadioButtons in ButtonGroup as TreeCellRender/Editor, search for code stored only Boolean value,"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376499280,"creation_date":1376499280,"answer_id":18237751,"question_id":18184069,"body_markdown":"I do not recommend you to use nesting. It is good practice to use UI where components are aligned with each other as possible, and nesting would create vertical alignment for every level of nested components. Also in combination with radio buttons it requires large area of empty user interface!\r\n\r\nInstead of nesting you could place each level of radio buttons under previous level of radio buttons. Selecting radio button in one level would enable and update radio buttons in level under. Something like this, but imagine more radio button groups:\r\n\r\n![radio button groups][1]\r\n\r\n\r\nAlso you could replace radio buttons with combo boxes. That would save additional space and make UI even simpler.\r\n\r\nIf you really want radio button nesting, i would use GridBagLayout. Every radio button would be in one row and filling multiple columns. Every level of radio buttons would start on next column:\r\n\r\n![Radio buttons with grid][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SApXA.jpg\r\n  [2]: http://i.stack.imgur.com/lSQ6b.jpg","title":"Java - dynamically generate Radio Buttons","body":"<p>I do not recommend you to use nesting. It is good practice to use UI where components are aligned with each other as possible, and nesting would create vertical alignment for every level of nested components. Also in combination with radio buttons it requires large area of empty user interface!</p>\n\n<p>Instead of nesting you could place each level of radio buttons under previous level of radio buttons. Selecting radio button in one level would enable and update radio buttons in level under. Something like this, but imagine more radio button groups:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SApXA.jpg\" alt=\"radio button groups\"></p>\n\n<p>Also you could replace radio buttons with combo boxes. That would save additional space and make UI even simpler.</p>\n\n<p>If you really want radio button nesting, i would use GridBagLayout. Every radio button would be in one row and filling multiple columns. Every level of radio buttons would start on next column:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lSQ6b.jpg\" alt=\"Radio buttons with grid\"></p>\n"},{"tags":[],"owner":{"account_id":3281906,"reputation":3459,"user_id":2762311,"accept_rate":74,"display_name":"Kishan Bheemajiyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391622908,"creation_date":1391622908,"answer_id":21584760,"question_id":18184069,"body_markdown":"![enter image description here][1]Here Simple Exercise of adding button into the Swing and yes this example uses RadioButton.\r\n\r\nHere check it out this. \r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n                \r\n                final JRadioButton button1 = new JRadioButton(&quot;Kishan&quot;+i);\r\n                jPanel1.add(button1);\r\n                buttonGroup1.add(button1);\r\n                \r\n                button1.addActionListener(new ActionListener() {\r\n    \r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.err.println(&quot;Action Performed..************&quot;);\r\n                        System.out.println(&quot;This is action text..&quot;+button1.getText()); \r\n                       \r\n                    }\r\n                });\r\n                \r\n            }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wcDFz.jpg\r\n  [2]: http://i.stack.imgur.com/KVMmB.jpg","title":"Java - dynamically generate Radio Buttons","body":"<p><img src=\"https://i.stack.imgur.com/wcDFz.jpg\" alt=\"enter image description here\">Here Simple Exercise of adding button into the Swing and yes this example uses RadioButton.</p>\n\n<p>Here check it out this. </p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n\n            final JRadioButton button1 = new JRadioButton(\"Kishan\"+i);\n            jPanel1.add(button1);\n            buttonGroup1.add(button1);\n\n            button1.addActionListener(new ActionListener() {\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.err.println(\"Action Performed..************\");\n                    System.out.println(\"This is action text..\"+button1.getText()); \n\n                }\n            });\n\n        }\n</code></pre>\n"}],"owner":{"account_id":3111080,"reputation":161,"user_id":2632781,"accept_rate":56,"display_name":"Chris"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4038,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680111657,"creation_date":1376301163,"question_id":18184069,"body_markdown":"Can someone give me some tips on how to dynamically generate nested radio buttons ? I never worked with radio buttons in JAVA, so before I start maybe I&#39;ll find some useful tips around here. I read the information from a database and using that I want to create some radio buttons, with drop down as well.\r\n\r\nSomething like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JxdCp.jpg\r\n\r\nWhen I press My Savings Account a new drop down panel will appear with the set of the products that account has. Also I want my response for these radio buttons choice to be stored.","title":"Java - dynamically generate Radio Buttons","body":"<p>Can someone give me some tips on how to dynamically generate nested radio buttons ? I never worked with radio buttons in JAVA, so before I start maybe I'll find some useful tips around here. I read the information from a database and using that I want to create some radio buttons, with drop down as well.</p>\n\n<p>Something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/JxdCp.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I press My Savings Account a new drop down panel will appear with the set of the products that account has. Also I want my response for these radio buttons choice to be stored.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680099554,"post_id":75878401,"comment_id":133840137,"body_markdown":"Please provide a [mcve]. There&#39;s really not enough to go on in the question at the moment.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. There&#39;s really not enough to go on in the question at the moment."}],"answers":[{"comments":[{"owner":{"account_id":27445405,"reputation":1,"user_id":20939292,"display_name":"DufanNB"},"score":0,"creation_date":1680106180,"post_id":75878479,"comment_id":133842266,"body_markdown":"The second item above is where my problem lies. thank you.","body":"The second item above is where my problem lies. thank you."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680099599,"creation_date":1680099599,"answer_id":75878479,"question_id":75878401,"body_markdown":"When an `ObjectOutputStream` is created, it writes a so-called stream header to the output stream it&#39;s wrapping. When an `ObjectInputStream` is created, it tries to read that stream header from the input stream it&#39;s wrapping. If it reads something else than the stream header, then it is invalid (e.g. because it is reading something that was not created with `ObjectOutputStream`)\r\n\r\nGenerally, it means one of the following things:\r\n\r\n1. You created an `ObjectInputStream` to read data which was not written by an `ObjectOutputStream`, but by something else\r\n2. You created **one** `ObjectOutputStream` to write objects, but created multiple `ObjectInputStream`s to read that data; the second and subsequent instances will produce an _&quot;invalid stream header&quot;_ error, because the stream header was only sent when `ObjectOutputStream` was created, and was consumed by the first instance.\r\n3. You&#39;re using some composite protocol, and have read or buffered too much data before switching to an `ObjectInputStream`, and thus the stream header was already consumed from the underlying input stream.","title":"What happens when an invalid stream header exception occurs?","body":"<p>When an <code>ObjectOutputStream</code> is created, it writes a so-called stream header to the output stream it's wrapping. When an <code>ObjectInputStream</code> is created, it tries to read that stream header from the input stream it's wrapping. If it reads something else than the stream header, then it is invalid (e.g. because it is reading something that was not created with <code>ObjectOutputStream</code>)</p>\n<p>Generally, it means one of the following things:</p>\n<ol>\n<li>You created an <code>ObjectInputStream</code> to read data which was not written by an <code>ObjectOutputStream</code>, but by something else</li>\n<li>You created <strong>one</strong> <code>ObjectOutputStream</code> to write objects, but created multiple <code>ObjectInputStream</code>s to read that data; the second and subsequent instances will produce an <em>&quot;invalid stream header&quot;</em> error, because the stream header was only sent when <code>ObjectOutputStream</code> was created, and was consumed by the first instance.</li>\n<li>You're using some composite protocol, and have read or buffered too much data before switching to an <code>ObjectInputStream</code>, and thus the stream header was already consumed from the underlying input stream.</li>\n</ol>\n"}],"owner":{"account_id":27445405,"reputation":1,"user_id":20939292,"display_name":"DufanNB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680111603,"answer_count":1,"score":-1,"last_activity_date":1680111160,"creation_date":1680099210,"question_id":75878401,"body_markdown":"When using socket programming, there is an invalid stream header exception, and I don&#39;t know where the problem occurs after searching for a long time.\r\n\r\nI confirmed that the object sent on the sender side is inherited serialized and sent using `writeObject()`.The object received on the receiving end is inherited serializable and sent using `readObject()`.\r\n\r\n","title":"What happens when an invalid stream header exception occurs?","body":"<p>When using socket programming, there is an invalid stream header exception, and I don't know where the problem occurs after searching for a long time.</p>\n<p>I confirmed that the object sent on the sender side is inherited serialized and sent using <code>writeObject()</code>.The object received on the receiving end is inherited serializable and sent using <code>readObject()</code>.</p>\n"},{"tags":["java","android","kotlin","android-viewmodel"],"comments":[{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680074371,"post_id":75873161,"comment_id":133833266,"body_markdown":"what are you getting in result then ? 0, 0 ? Issue could be in your surveySiteSurveyRepository","body":"what are you getting in result then ? 0, 0 ? Issue could be in your surveySiteSurveyRepository"},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680092806,"post_id":75873161,"comment_id":133837984,"body_markdown":"Not sure. I&#39;m assuming its more than 3 in total because of where I am using it. It is going passed 3.","body":"Not sure. I&#39;m assuming its more than 3 in total because of where I am using it. It is going passed 3."},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680101339,"post_id":75873161,"comment_id":133840752,"body_markdown":"You need to share more data then to analyze the issue, share your api response and repository class please.","body":"You need to share more data then to analyze the issue, share your api response and repository class please."},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680110759,"post_id":75873161,"comment_id":133843372,"body_markdown":"Added the additional code (response and repo)","body":"Added the additional code (response and repo)"},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680111799,"post_id":75873161,"comment_id":133843643,"body_markdown":"put a log or debug and tell me what you get values for this `apiResponse.data[0]` Better provide the entire values for this `apiResponse`","body":"put a log or debug and tell me what you get values for this <code>apiResponse.data[0]</code> Better provide the entire values for this <code>apiResponse</code>"},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680128446,"post_id":75873161,"comment_id":133847315,"body_markdown":"The `apiRespone` does return 2 and 1 for `imageCount` and `videoCount` respectfully.","body":"The <code>apiRespone</code> does return 2 and 1 for <code>imageCount</code> and <code>videoCount</code> respectfully."},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680182511,"post_id":75873161,"comment_id":133857238,"body_markdown":"Can you pease share the response you get from network ? can b in json format","body":"Can you pease share the response you get from network ? can b in json format"}],"answers":[{"comments":[{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680092684,"post_id":75873966,"comment_id":133837943,"body_markdown":"The values do show up in the Fragment, but not in the view model. That fun is used to carry the values up to the fragment.","body":"The values do show up in the Fragment, but not in the view model. That fun is used to carry the values up to the fragment."}],"tags":[],"owner":{"account_id":25535301,"reputation":1,"user_id":19322499,"display_name":"Niaz Sagor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680072454,"creation_date":1680072454,"answer_id":75873966,"question_id":75873161,"body_markdown":"It seems that the equivalent POJO class of the API response you get is `ApiMediaMaxCntInfo`. It has two public getter methods and both `imageCount` and `videoCount` is private. So to access the values, you should call the getter methods and that is the only way.\r\n\r\nSo I think the call `maxMediaCountInfo.imageCount` is not correct. You should do it like this `maxMediaCountInfo.getImageCount()`.\r\n","title":"How to get the values from an api call into a ViewModel in Android Studio?","body":"<p>It seems that the equivalent POJO class of the API response you get is <code>ApiMediaMaxCntInfo</code>. It has two public getter methods and both <code>imageCount</code> and <code>videoCount</code> is private. So to access the values, you should call the getter methods and that is the only way.</p>\n<p>So I think the call <code>maxMediaCountInfo.imageCount</code> is not correct. You should do it like this <code>maxMediaCountInfo.getImageCount()</code>.</p>\n"}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680110727,"creation_date":1680064462,"question_id":75873161,"body_markdown":"So the code is a mixture of both Java and Kotlin. The API call is made and is sent to this model class\r\n\r\n    public class ApiMediaMaxCntInfo {\r\n        @SerializedName(&quot;ImageCount&quot;)\r\n        private int imageCount;\r\n    \r\n        @SerializedName(&quot;VideoCount&quot;)\r\n        private int videoCount;\r\n    \r\n        public int getImageCount() { return imageCount; }\r\n    \r\n        public int getVideoCount() { return videoCount; }\r\n    \r\n    }\r\nIt is suppose to receive two `int` values. \r\n\r\nIt gets sent to a UI data layer and those calls are initialized into the model.\r\n\r\nIt goes up through the repo, into the VM, into the Fragment. It seems like the API call is made in the Fragment, but I&#39;m not too sure. Here&#39;s the code\r\n\r\nFun in the VM\r\n  \r\n\r\n     fun doCheckMediaMaxCount(): LiveData&lt;Event&lt;UiResponse&lt;UiMediaMaxCount&gt;&gt;&gt;{\r\n            return RxHandleUtil.handleEventPublisherWithContentChange({\r\n                surveySiteSurveyRepository.getMediaMaxCountUC(getApplication())\r\n            }, { maxMediaCountInfo -&gt;\r\n                UiMediaMaxCount(\r\n                    maxMediaCountInfo.imageCount,\r\n                    maxMediaCountInfo.videoCount)\r\n            })\r\n        }\r\n\r\nHere&#39;s the Fun in The Fragment\r\n   \r\n\r\n     private fun handleMaxMediaCountCheck() {\r\n            processViewModel.doCheckMediaMaxCount().observe(viewLifecycleOwner, EventObserver { response-&gt;\r\n                handleRxResponse(response, object : OnResponseListener&lt;UiMediaMaxCount&gt;(){\r\n    \r\n                    override fun onServerFailResponse(message: String?) {\r\n                        message?.let { it1 -&gt; showError(it1) }\r\n                    }\r\n    \r\n                    override fun onInvalidResponse(message: String?) {\r\n                        message?.let { it1 -&gt; showError (it1)  }\r\n                    }\r\n    \r\n                    override fun onSuccessResponse(data: UiMediaMaxCount?, message: String?) {\r\n                        data?.let {\r\n                            maxPicCnt = data.imageCount\r\n                            maxVideoCnt = data.videoCount\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n\r\nAs you can see, the values are coming from the UiMediaMaxCount, but when I make the call inside the View Model, it&#39;s not getting the value from the API (which is 3 in total. 2 Images, 1 Video). \r\n\r\nThe UIMediaMaxCount\r\n\r\n    data class UiMediaMaxCount(\r\n        val imageCount: Int = 0,\r\n        val videoCount: Int = 0\r\n    )\r\nHow I set up the values in the VM\r\n\r\n    private val imageCnt = UiMediaMaxCount().imageCount\r\n        private val videoCnt = UiMediaMaxCount().videoCount\r\n        private val dataOverflow2 = imageCnt + videoCnt\r\n\r\nAny suggestions is appreciated, Thanks.\r\n\r\nP.S. Here&#39;s the api response code\r\n\r\n    public class MaxMediaCountInfo {\r\n        private int imageCount;\r\n    \r\n        private int videoCount;\r\n    \r\n        public MaxMediaCountInfo(@NonNull ApiMediaMaxCntInfo apiMediaMaxCntInfo) {\r\n            imageCount = apiMediaMaxCntInfo.getImageCount();\r\n            videoCount = apiMediaMaxCntInfo.getVideoCount();\r\n        }\r\n    \r\n        public MaxMediaCountInfo() {\r\n        \r\n        }\r\n    \r\n        public int getImageCount() { return imageCount; }\r\n    \r\n        public int getVideoCount() { return videoCount; }\r\n    \r\n        \r\n        \r\n    }\r\n\r\nand the Repo code\r\n\r\n    override fun getMediaMaxCountUC(context: Context): Flowable&lt;UiResponse&lt;MaxMediaCountInfo&gt;&gt; {\r\n        return getUserInfoFromStorage(context).flatMap { userInfo -&gt;\r\n            siteSurveyRemoteResource.getMediaMaxCount(userInfo.userCredential.token)\r\n                .map { apiResponse -&gt;\r\n                    val cntInfo = MaxMediaCountInfo(apiResponse.data[0])\r\n                    UiResponseFactory.getSuccessUiResponse(cntInfo, apiResponse.message)\r\n                }\r\n        }\r\n    }\r\n\r\n","title":"How to get the values from an api call into a ViewModel in Android Studio?","body":"<p>So the code is a mixture of both Java and Kotlin. The API call is made and is sent to this model class</p>\n<pre><code>public class ApiMediaMaxCntInfo {\n    @SerializedName(&quot;ImageCount&quot;)\n    private int imageCount;\n\n    @SerializedName(&quot;VideoCount&quot;)\n    private int videoCount;\n\n    public int getImageCount() { return imageCount; }\n\n    public int getVideoCount() { return videoCount; }\n\n}\n</code></pre>\n<p>It is suppose to receive two <code>int</code> values.</p>\n<p>It gets sent to a UI data layer and those calls are initialized into the model.</p>\n<p>It goes up through the repo, into the VM, into the Fragment. It seems like the API call is made in the Fragment, but I'm not too sure. Here's the code</p>\n<p>Fun in the VM</p>\n<pre><code> fun doCheckMediaMaxCount(): LiveData&lt;Event&lt;UiResponse&lt;UiMediaMaxCount&gt;&gt;&gt;{\n        return RxHandleUtil.handleEventPublisherWithContentChange({\n            surveySiteSurveyRepository.getMediaMaxCountUC(getApplication())\n        }, { maxMediaCountInfo -&gt;\n            UiMediaMaxCount(\n                maxMediaCountInfo.imageCount,\n                maxMediaCountInfo.videoCount)\n        })\n    }\n</code></pre>\n<p>Here's the Fun in The Fragment</p>\n<pre><code> private fun handleMaxMediaCountCheck() {\n        processViewModel.doCheckMediaMaxCount().observe(viewLifecycleOwner, EventObserver { response-&gt;\n            handleRxResponse(response, object : OnResponseListener&lt;UiMediaMaxCount&gt;(){\n\n                override fun onServerFailResponse(message: String?) {\n                    message?.let { it1 -&gt; showError(it1) }\n                }\n\n                override fun onInvalidResponse(message: String?) {\n                    message?.let { it1 -&gt; showError (it1)  }\n                }\n\n                override fun onSuccessResponse(data: UiMediaMaxCount?, message: String?) {\n                    data?.let {\n                        maxPicCnt = data.imageCount\n                        maxVideoCnt = data.videoCount\n                    }\n                }\n            })\n        })\n    }\n</code></pre>\n<p>As you can see, the values are coming from the UiMediaMaxCount, but when I make the call inside the View Model, it's not getting the value from the API (which is 3 in total. 2 Images, 1 Video).</p>\n<p>The UIMediaMaxCount</p>\n<pre><code>data class UiMediaMaxCount(\n    val imageCount: Int = 0,\n    val videoCount: Int = 0\n)\n</code></pre>\n<p>How I set up the values in the VM</p>\n<pre><code>private val imageCnt = UiMediaMaxCount().imageCount\n    private val videoCnt = UiMediaMaxCount().videoCount\n    private val dataOverflow2 = imageCnt + videoCnt\n</code></pre>\n<p>Any suggestions is appreciated, Thanks.</p>\n<p>P.S. Here's the api response code</p>\n<pre><code>public class MaxMediaCountInfo {\n    private int imageCount;\n\n    private int videoCount;\n\n    public MaxMediaCountInfo(@NonNull ApiMediaMaxCntInfo apiMediaMaxCntInfo) {\n        imageCount = apiMediaMaxCntInfo.getImageCount();\n        videoCount = apiMediaMaxCntInfo.getVideoCount();\n    }\n\n    public MaxMediaCountInfo() {\n    \n    }\n\n    public int getImageCount() { return imageCount; }\n\n    public int getVideoCount() { return videoCount; }\n\n    \n    \n}\n</code></pre>\n<p>and the Repo code</p>\n<pre><code>override fun getMediaMaxCountUC(context: Context): Flowable&lt;UiResponse&lt;MaxMediaCountInfo&gt;&gt; {\n    return getUserInfoFromStorage(context).flatMap { userInfo -&gt;\n        siteSurveyRemoteResource.getMediaMaxCount(userInfo.userCredential.token)\n            .map { apiResponse -&gt;\n                val cntInfo = MaxMediaCountInfo(apiResponse.data[0])\n                UiResponseFactory.getSuccessUiResponse(cntInfo, apiResponse.message)\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","openid","spring-boot-oauth2.1"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679808313,"creation_date":1679808313,"answer_id":75846026,"question_id":75833245,"body_markdown":"We can add any information using `jwtCustomizer`. Refer [this][1]\r\n\r\n        @Bean\r\n        OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; jwtCustomizer(CustomClaims claims) {\r\n            return context -&gt; {\r\n                if (context.getTokenType() == OAuth2TokenType.ACCESS_TOKEN) {\r\n                    Authentication principal = context.getPrincipal();\r\n                    Set&lt;String&gt; authorities = principal.getAuthorities().stream()\r\n                            .map(GrantedAuthority::getAuthority)\r\n                            .collect(Collectors.toSet());\r\n                    context.getClaims().claims(c -&gt; c.put(&quot;Creator&quot;, &quot;Thirumal&quot;));\r\n                    context.getClaims().claims(c -&gt; c.putAll(claims.getClaims(principal)));\r\n                    context.getClaims().claim(&quot;roles&quot;, authorities);\r\n                }\r\n            };\r\n        }\r\n        \r\n\r\n\r\n  [1]: https://github.com/m-thirumal/oauth-authorization-server/blob/main/src/main/java/in/thirumal/config/AuthorizationServerConfig.java","title":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?","body":"<p>We can add any information using <code>jwtCustomizer</code>. Refer <a href=\"https://github.com/m-thirumal/oauth-authorization-server/blob/main/src/main/java/in/thirumal/config/AuthorizationServerConfig.java\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>    @Bean\n    OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; jwtCustomizer(CustomClaims claims) {\n        return context -&gt; {\n            if (context.getTokenType() == OAuth2TokenType.ACCESS_TOKEN) {\n                Authentication principal = context.getPrincipal();\n                Set&lt;String&gt; authorities = principal.getAuthorities().stream()\n                        .map(GrantedAuthority::getAuthority)\n                        .collect(Collectors.toSet());\n                context.getClaims().claims(c -&gt; c.put(&quot;Creator&quot;, &quot;Thirumal&quot;));\n                context.getClaims().claims(c -&gt; c.putAll(claims.getClaims(principal)));\n                context.getClaims().claim(&quot;roles&quot;, authorities);\n            }\n        };\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75846026,"answer_count":1,"score":-2,"last_activity_date":1680110438,"creation_date":1679658287,"question_id":75833245,"body_markdown":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?\r\n\r\nThis my workaround [project][1], any resources/help on how to add user details in the access token itself?\r\n\r\n\r\n  [1]: https://github.com/m-thirumal/oauth-authorization-server/","title":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?","body":"<p>How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?</p>\n<p>This my workaround <a href=\"https://github.com/m-thirumal/oauth-authorization-server/\" rel=\"nofollow noreferrer\">project</a>, any resources/help on how to add user details in the access token itself?</p>\n"},{"tags":["java","eclipse","eclipse-indigo"],"answers":[{"comments":[{"owner":{"account_id":18732,"reputation":17409,"user_id":43217,"accept_rate":82,"display_name":"mckamey"},"score":0,"creation_date":1309471726,"post_id":6541631,"comment_id":7705662,"body_markdown":"There you go! That seems to have done it. In Indigo there are two options now: &quot;Refresh using native hooks or polling&quot; and :Refresh on access&quot;. Playing with which is better but it appears that once it refreshes it picks it up and rebuilds. Thanks!","body":"There you go! That seems to have done it. In Indigo there are two options now: &quot;Refresh using native hooks or polling&quot; and :Refresh on access&quot;. Playing with which is better but it appears that once it refreshes it picks it up and rebuilds. Thanks!"},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1309471841,"post_id":6541631,"comment_id":7705685,"body_markdown":"You&#39;re welcome. I just remembered I have a dormant copy of Indigo. I&#39;m not sure which of the new options is better. No idea why Eclipse doesn&#39;t automatically refresh by default.","body":"You&#39;re welcome. I just remembered I have a dormant copy of Indigo. I&#39;m not sure which of the new options is better. No idea why Eclipse doesn&#39;t automatically refresh by default."},{"owner":{"account_id":18732,"reputation":17409,"user_id":43217,"accept_rate":82,"display_name":"mckamey"},"score":1,"creation_date":1309472028,"post_id":6541631,"comment_id":7705718,"body_markdown":"Perhaps because someone could lose changes I guess. I am often outside the IDE so I like having it stay in sync. For me (on OS X) &quot;Refresh on access&quot; seems to work instantaneously. The other seems to be on a short but noticeable polling cycle. **Edit:** scratch that. Just setting both. :)","body":"Perhaps because someone could lose changes I guess. I am often outside the IDE so I like having it stay in sync. For me (on OS X) &quot;Refresh on access&quot; seems to work instantaneously. The other seems to be on a short but noticeable polling cycle. <b>Edit:</b> scratch that. Just setting both. :)"},{"owner":{"account_id":12603497,"reputation":142,"user_id":9165363,"display_name":"Rahul Jain"},"score":0,"creation_date":1589872745,"post_id":6541631,"comment_id":109457313,"body_markdown":"I am using eclise 2020-03 and there I don&#39;t see build automatically option as shown in above screenshot","body":"I am using eclise 2020-03 and there I don&#39;t see build automatically option as shown in above screenshot"}],"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1309471428,"creation_date":1309471428,"answer_id":6541631,"question_id":6541598,"body_markdown":"Try configuring Eclipse to automatically refresh. I&#39;m not sure about Indigo, but in Helios, it&#39;s in _Preferences &amp;rarr; General &amp;rarr; Workspace &amp;rarr; Refresh Automatically._\r\n\r\n\r\n----------\r\n\r\nHere it is in Indigo:\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Pzp8K.png","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>Try configuring Eclipse to automatically refresh. I'm not sure about Indigo, but in Helios, it's in <em>Preferences &rarr; General &rarr; Workspace &rarr; Refresh Automatically.</em></p>\n\n<hr>\n\n<p>Here it is in Indigo:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Pzp8K.png\" alt=\"screenshot\"></p>\n"},{"comments":[{"owner":{"account_id":18732,"reputation":17409,"user_id":43217,"accept_rate":82,"display_name":"mckamey"},"score":0,"creation_date":1309536869,"post_id":6543862,"comment_id":7717690,"body_markdown":"Thanks, that&#39;s a good tip. In my case, it is actually a maven based process that is configured with m2e. I wish that these types of actions could be specified cleanly in the `pom.xml` so that each dev didn&#39;t have to setup the IDE.","body":"Thanks, that&#39;s a good tip. In my case, it is actually a maven based process that is configured with m2e. I wish that these types of actions could be specified cleanly in the <code>pom.xml</code> so that each dev didn&#39;t have to setup the IDE."}],"tags":[],"owner":{"account_id":419412,"reputation":12668,"user_id":796559,"accept_rate":75,"display_name":"Tonny Madsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309497471,"creation_date":1309497471,"answer_id":6543862,"question_id":6541598,"body_markdown":"I assume you have added an &quot;Program&quot;-based builder to the project that compiles/translates the files into `.java`.\r\n\r\nIf you open the builder - via project properties -&gt; `Builders` -&gt; `Edit...` builder - then you can open the `Refresh` tab - se below.\r\n\r\n![Refresh tab of the Builder Dialog][1]\r\n\r\nHere you can then select which resources to refresh when this particular build is run... E.g. all resources in `target/generated-sources/xyz`...\r\n\r\n  [1]: http://i.stack.imgur.com/OKt2j.png","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>I assume you have added an \"Program\"-based builder to the project that compiles/translates the files into <code>.java</code>.</p>\n\n<p>If you open the builder - via project properties -> <code>Builders</code> -> <code>Edit...</code> builder - then you can open the <code>Refresh</code> tab - se below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OKt2j.png\" alt=\"Refresh tab of the Builder Dialog\"></p>\n\n<p>Here you can then select which resources to refresh when this particular build is run... E.g. all resources in <code>target/generated-sources/xyz</code>...</p>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680110256,"creation_date":1680110256,"answer_id":75880265,"question_id":6541598,"body_markdown":"with &quot;build automatically&quot; option checked, it is not building on clean. What I had to do extra is, clear all error logs and Problems, then the correct setup can produce class files.","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>with &quot;build automatically&quot; option checked, it is not building on clean. What I had to do extra is, clear all error logs and Problems, then the correct setup can produce class files.</p>\n"}],"owner":{"account_id":18732,"reputation":17409,"user_id":43217,"accept_rate":82,"display_name":"mckamey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16307,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6541631,"answer_count":3,"score":5,"last_activity_date":1680110256,"creation_date":1309471191,"question_id":6541598,"body_markdown":"I have a project in Eclipse (Indigo but similar in Helios) which has files in `src/main/resources` which get processed to generate *.java source files in `target/generated-sources/xyz`. The project settings have &quot;Build Automatically&quot; enabled so whenever these resource files are edited and saved the corresponding `*.java` files are generated. I&#39;ve added `target/generated-sources/xyz` to the projects Build Paths. This all works perfectly.\r\n\r\nThe problem is that the changes to the generated `*.java` files are inconsistently rebuilt. If I have one of those files open in the editor, then it notices that it changed and asks if I want to reload it. Reloading the `*.java` files is enough for it to recognize that it has changed and trigger a rebuild. If I don&#39;t have it open then it doesn&#39;t automatically pick up the changes.\r\n\r\nAny ideas on what I can do to let Eclipse (Indigo preferably) know that these generated files are being updated? Or better yet tell it to monitor those folders directly?\r\n\r\nThanks.","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>I have a project in Eclipse (Indigo but similar in Helios) which has files in <code>src/main/resources</code> which get processed to generate *.java source files in <code>target/generated-sources/xyz</code>. The project settings have \"Build Automatically\" enabled so whenever these resource files are edited and saved the corresponding <code>*.java</code> files are generated. I've added <code>target/generated-sources/xyz</code> to the projects Build Paths. This all works perfectly.</p>\n\n<p>The problem is that the changes to the generated <code>*.java</code> files are inconsistently rebuilt. If I have one of those files open in the editor, then it notices that it changed and asks if I want to reload it. Reloading the <code>*.java</code> files is enough for it to recognize that it has changed and trigger a rebuild. If I don't have it open then it doesn't automatically pick up the changes.</p>\n\n<p>Any ideas on what I can do to let Eclipse (Indigo preferably) know that these generated files are being updated? Or better yet tell it to monitor those folders directly?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1379712764,"post_id":18926149,"comment_id":27944236,"body_markdown":"_including when you force quit the window/application_ If you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process gets _killed_. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, as the application is _frozen_ and it&#39;s _not responding_","body":"<i>including when you force quit the window/application</i> If you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process gets <i>killed</i>. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, as the application is <i>frozen</i> and it&#39;s <i>not responding</i>"}],"answers":[{"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1379713597,"creation_date":1379713113,"answer_id":18926282,"question_id":18926149,"body_markdown":"You can add a `WindowListener` to the `JFrame`:\r\n\r\n    frame.addWindowListener(new WindowListener() {\r\n    \r\n        @Override\r\n        public void windowOpened(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            //window is being closed\r\n        }\r\n        @Override\r\n        public void windowClosed(WindowEvent e) {\r\n            //window is closed\r\n        }\r\n    \r\n        @Override\r\n        public void windowIconified(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowDeiconified(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowActivated(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowDeactivated(WindowEvent e) {\r\n        }\r\n    \r\n    });\r\n\r\n&gt;I want to trigger an event when the window in closed (including when you force quit the window/application)\r\n\r\nIf you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process ***gets killed*** and so stops its execution _immediately_. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, usually if you force the quit of an application, it means that it&#39;s _frozen_ and it&#39;s _not responding anymore_, so executing other code of it wouldn&#39;t be possible.","title":"JFrame Trigger Events on Close","body":"<p>You can add a <code>WindowListener</code> to the <code>JFrame</code>:</p>\n\n<pre><code>frame.addWindowListener(new WindowListener() {\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        //window is being closed\n    }\n    @Override\n    public void windowClosed(WindowEvent e) {\n        //window is closed\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n    }\n\n});\n</code></pre>\n\n<blockquote>\n  <p>I want to trigger an event when the window in closed (including when you force quit the window/application)</p>\n</blockquote>\n\n<p>If you mean \"when someone kills the process\" i think it wouldn't be possible, as the process <strong><em>gets killed</em></strong> and so stops its execution <em>immediately</em>. If you mean \"when the application freezes and the user forces it to close\" I think it wouldn't be possible too, usually if you force the quit of an application, it means that it's <em>frozen</em> and it's <em>not responding anymore</em>, so executing other code of it wouldn't be possible.</p>\n"},{"tags":[],"owner":{"account_id":25428339,"reputation":39,"user_id":19233194,"display_name":"Rohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680110184,"creation_date":1680110184,"answer_id":75880261,"question_id":18926149,"body_markdown":"Try this:\r\n\r\n    frame.addWindowListener(new WindowAdapter() {\r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                System.out.println(&quot;window closed&quot;);\r\n                }\r\n            });\r\n\r\nYou dont need to override all methods.","title":"JFrame Trigger Events on Close","body":"<p>Try this:</p>\n<pre><code>frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n            System.out.println(&quot;window closed&quot;);\n            }\n        });\n</code></pre>\n<p>You dont need to override all methods.</p>\n"}],"owner":{"account_id":2726215,"reputation":27,"user_id":2351205,"display_name":"user2351205"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2348,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680110184,"creation_date":1379712523,"question_id":18926149,"body_markdown":"I know the title isn&#39;t very explanatory, I was unsure of how to phrase the question. What I have is a GUI that I want to trigger an event when the window in closed (including when you force quit the window/application). Thank you in advance for any help!!! Here&#39;s my code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    public class NotAVirus extends JFrame {\r\n    private JTextField statusField = new JTextField(20);\r\n    private JButton yesButton = new JButton(&quot;Open&quot;);\r\n    private JButton noButton = new JButton(&quot;Close&quot;);\r\n    private static NotAVirus app = new ImLost();\r\n\r\n    public static void main() {\r\n        app.setVisible(true);\r\n        app.setLocationRelativeTo(null);\r\n    }    \r\n\r\n    /**\r\n     * Create the GUI and show it.  For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    public ImLost() {\r\n        super(&quot;ImLost&quot;);\r\n        statusField.setText(&quot;There&#39;s No Escape&quot;);\r\n        statusField.setHorizontalAlignment(JLabel.CENTER);\r\n        statusField.setEditable(false);\r\n        add(statusField, BorderLayout.CENTER);\r\n        JPanel p = new JPanel();\r\n        p.setLayout(new GridLayout(1, 2));\r\n        p.add(yesButton);\r\n        p.add(noButton);\r\n        add(p, BorderLayout.SOUTH);\r\n        yesButton.addActionListener(new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    app.setVisible(false);\r\n                    for(int i = 0; i &lt;= 10000; i ++)\r\n                    {\r\n                        JFrame frame = new JFrame(&quot;ImLost&quot;);\r\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                        JLabel emptyLabel = new JLabel(&quot;&quot;);\r\n                        emptyLabel.setPreferredSize(new Dimension(160, 1));\r\n                        frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\r\n\r\n                        //Display the window.\r\n                        frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\r\n                        frame.pack();\r\n                        frame.setVisible(true);\r\n                    }\r\n                }\r\n            });\r\n        noButton.addActionListener(new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    app.setVisible(false);\r\n                    for(int i = 0; i &lt;= 10000; i ++)\r\n                    {\r\n                        JFrame frame = new JFrame(&quot;ImLost&quot;);\r\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                        JLabel emptyLabel = new JLabel(&quot;&quot;);\r\n                        emptyLabel.setPreferredSize(new Dimension(160, 1));\r\n                        frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\r\n\r\n                        //Display the window.\r\n                        frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\r\n                        frame.pack();\r\n                        frame.setVisible(true);\r\n                    }\r\n                }\r\n            });\r\n        p.setPreferredSize(new Dimension(200, 35));\r\n        pack();\r\n    }","title":"JFrame Trigger Events on Close","body":"<p>I know the title isn't very explanatory, I was unsure of how to phrase the question. What I have is a GUI that I want to trigger an event when the window in closed (including when you force quit the window/application). Thank you in advance for any help!!! Here's my code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.io.IOException;\nimport java.io.Serializable;\npublic class NotAVirus extends JFrame {\nprivate JTextField statusField = new JTextField(20);\nprivate JButton yesButton = new JButton(\"Open\");\nprivate JButton noButton = new JButton(\"Close\");\nprivate static NotAVirus app = new ImLost();\n\npublic static void main() {\n    app.setVisible(true);\n    app.setLocationRelativeTo(null);\n}    \n\n/**\n * Create the GUI and show it.  For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\npublic ImLost() {\n    super(\"ImLost\");\n    statusField.setText(\"There's No Escape\");\n    statusField.setHorizontalAlignment(JLabel.CENTER);\n    statusField.setEditable(false);\n    add(statusField, BorderLayout.CENTER);\n    JPanel p = new JPanel();\n    p.setLayout(new GridLayout(1, 2));\n    p.add(yesButton);\n    p.add(noButton);\n    add(p, BorderLayout.SOUTH);\n    yesButton.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e) {\n                app.setVisible(false);\n                for(int i = 0; i &lt;= 10000; i ++)\n                {\n                    JFrame frame = new JFrame(\"ImLost\");\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                    JLabel emptyLabel = new JLabel(\"\");\n                    emptyLabel.setPreferredSize(new Dimension(160, 1));\n                    frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\n\n                    //Display the window.\n                    frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\n                    frame.pack();\n                    frame.setVisible(true);\n                }\n            }\n        });\n    noButton.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e) {\n                app.setVisible(false);\n                for(int i = 0; i &lt;= 10000; i ++)\n                {\n                    JFrame frame = new JFrame(\"ImLost\");\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                    JLabel emptyLabel = new JLabel(\"\");\n                    emptyLabel.setPreferredSize(new Dimension(160, 1));\n                    frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\n\n                    //Display the window.\n                    frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\n                    frame.pack();\n                    frame.setVisible(true);\n                }\n            }\n        });\n    p.setPreferredSize(new Dimension(200, 35));\n    pack();\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680110181,"post_id":75879898,"comment_id":133843241,"body_markdown":"The specific error is &quot;_module java.base does not &quot;opens java.lang&quot; to unnamed module_&quot;. You can research [similar questions](https://www.google.com/search?q=module+java.base+does+not+%22opens+java.lang%22+to+unnamed+module+site:stackoverflow.com).","body":"The specific error is &quot;<i>module java.base does not &quot;opens java.lang&quot; to unnamed module</i>&quot;. You can research <a href=\"https://www.google.com/search?q=module+java.base+does+not+%22opens+java.lang%22+to+unnamed+module+site:stackoverflow.com\" rel=\"nofollow noreferrer\">similar questions</a>."},{"owner":{"account_id":15483018,"reputation":362,"user_id":11169738,"display_name":"Niels Ferguson"},"score":1,"creation_date":1680110654,"post_id":75879898,"comment_id":133843350,"body_markdown":"It seems that the following code is not wrong in itself. The stack trace suggests that there might be an issue with the Mockito library or the environment setup. Specifically, there is an error related to the accessibility of a protected method in the ClassLoader class, which is preventing the code from running correctly. This error might be caused by a security manager or restrictions in the Java module system. It is recommended to check the version of the Mockito library and the Java environment, and try to run the code in a different environment to see if the issue persists.","body":"It seems that the following code is not wrong in itself. The stack trace suggests that there might be an issue with the Mockito library or the environment setup. Specifically, there is an error related to the accessibility of a protected method in the ClassLoader class, which is preventing the code from running correctly. This error might be caused by a security manager or restrictions in the Java module system. It is recommended to check the version of the Mockito library and the Java environment, and try to run the code in a different environment to see if the issue persists."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1680110865,"post_id":75879898,"comment_id":133843400,"body_markdown":"All is working actually, Test passed when i run it in my project. So you need to check your setups","body":"All is working actually, Test passed when i run it in my project. So you need to check your setups"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1680110903,"post_id":75879898,"comment_id":133843410,"body_markdown":"The problem seems to be caused by mockito. Which version do you use? Note that since the release of Java 9 which started blocking access to such internals of the JVM many libraries had to update. It might therefore be imperative to use a current version of Mockito.","body":"The problem seems to be caused by mockito. Which version do you use? Note that since the release of Java 9 which started blocking access to such internals of the JVM many libraries had to update. It might therefore be imperative to use a current version of Mockito."},{"owner":{"account_id":28160394,"reputation":1,"user_id":21520447,"display_name":"d_hrishi"},"score":0,"creation_date":1680115289,"post_id":75879898,"comment_id":133844468,"body_markdown":"Thank you everyone, I tried using latest Mockito version (5.2.0) and it resolved the issue.","body":"Thank you everyone, I tried using latest Mockito version (5.2.0) and it resolved the issue."}],"owner":{"account_id":28160394,"reputation":1,"user_id":21520447,"display_name":"d_hrishi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680110090,"creation_date":1680107686,"question_id":75879898,"body_markdown":"Below is the stack trace\r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n\tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n\tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1163)\r\n\tat com.in28minutes.business.TodoBusinessImplTest_withMock.testWithMock(TodoBusinessImplTest_withMock.java:20)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @685cb137\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n\tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n\t... 38 more\r\n```\r\n\r\n\r\nBelow is the code I am trying to run\r\n\r\nTodoService.java\r\n\r\n```\r\n    package com.in28minutes.data.api;\r\n\r\n    import java.util.List;\r\n\r\n    public interface TodoService {\r\n\tpublic List&lt;String&gt; retrieveTodos(String user);\r\n    }\r\n```\r\n\r\nTodoBusinessImpl.java\r\n\r\n```\r\n\r\n   import java.util.ArrayList; \r\n   import java.util.List;\r\n\r\n   import com.in28minutes.data.api.TodoService;\r\n\r\n    public class TodoBusinessImpl {\r\n\tprivate TodoService todoService;\r\n\r\n\tpublic TodoBusinessImpl(TodoService todoService) {\r\n\t\tthis.todoService = todoService;\r\n\t}\r\n\t\r\n\tpublic List&lt;String&gt; retrieveTodosRelatedToSpring(String user){\r\n\t\tList&lt;String&gt; filteredTodos = new ArrayList&lt;String&gt;();\r\n\t\tList&lt;String&gt; alltodos = todoService.retrieveTodos(user);\r\n\t\t\r\n\t\tfor(String todo : alltodos) {\r\n\t\t\tif(todo.contains(&quot;Spring&quot;)) {\r\n\t\t\t\tfilteredTodos.add(todo);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn filteredTodos;\r\n\t}\r\n    }\r\n```\r\n\r\nTodoBusinessImplTest_withMock.java\r\n\r\n```\r\n   package com.in28minutes.business;\r\n\r\n   import static org.junit.Assert.*;\r\n   import static org.mockito.Mockito.mock;\r\n   import static org.mockito.Mockito.when;\r\n\r\n   import java.util.Arrays;\r\n   import java.util.List;\r\n\r\n   import org.junit.Test;\r\n   import com.in28minutes.data.api.TodoService;\r\n\r\n   public class TodoBusinessImplTest_withMock {\r\n\t\r\n\t\r\n\r\n\t@Test\r\n\tpublic void testWithMock() {\r\n\t\t\r\n\t\tTodoService todoServiceMock = mock(TodoService.class);\r\n\t\t\r\n\t\tList&lt;String&gt; todo = Arrays.asList(&quot;Learn Spring MVC&quot;, &quot;Learn Spring&quot;, &quot;Learn To Code&quot;);\r\n\t\t\r\n\t\twhen(todoServiceMock.retrieveTodos(&quot;Dummy&quot;)).thenReturn(todo);\r\n\t\t\r\n\t\tTodoBusinessImpl todoBusinessImpl = new TodoBusinessImpl(todoServiceMock);\r\n\t\t\r\n\t\tList&lt;String&gt; filteredTodos = todoBusinessImpl.retrieveTodosRelatedToSpring(&quot;Dummy&quot;);\r\n\t\t\r\n\t\tassertEquals(2, filteredTodos.size());\r\n\t\t\r\n\t}\r\n\r\n   }\r\n\r\n```","title":"Mockito program is throwing java.lang.ExceptionInInitializerError","body":"<p>Below is the stack trace</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.Mockito.mock(Mockito.java:1163)\n    at com.in28minutes.business.TodoBusinessImplTest_withMock.testWithMock(TodoBusinessImplTest_withMock.java:20)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @685cb137\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 38 more\n</code></pre>\n<p>Below is the code I am trying to run</p>\n<p>TodoService.java</p>\n<pre><code>    package com.in28minutes.data.api;\n\n    import java.util.List;\n\n    public interface TodoService {\n    public List&lt;String&gt; retrieveTodos(String user);\n    }\n</code></pre>\n<p>TodoBusinessImpl.java</p>\n<pre><code>\n   import java.util.ArrayList; \n   import java.util.List;\n\n   import com.in28minutes.data.api.TodoService;\n\n    public class TodoBusinessImpl {\n    private TodoService todoService;\n\n    public TodoBusinessImpl(TodoService todoService) {\n        this.todoService = todoService;\n    }\n    \n    public List&lt;String&gt; retrieveTodosRelatedToSpring(String user){\n        List&lt;String&gt; filteredTodos = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; alltodos = todoService.retrieveTodos(user);\n        \n        for(String todo : alltodos) {\n            if(todo.contains(&quot;Spring&quot;)) {\n                filteredTodos.add(todo);\n            }\n        }\n        \n        return filteredTodos;\n    }\n    }\n</code></pre>\n<p>TodoBusinessImplTest_withMock.java</p>\n<pre><code>   package com.in28minutes.business;\n\n   import static org.junit.Assert.*;\n   import static org.mockito.Mockito.mock;\n   import static org.mockito.Mockito.when;\n\n   import java.util.Arrays;\n   import java.util.List;\n\n   import org.junit.Test;\n   import com.in28minutes.data.api.TodoService;\n\n   public class TodoBusinessImplTest_withMock {\n    \n    \n\n    @Test\n    public void testWithMock() {\n        \n        TodoService todoServiceMock = mock(TodoService.class);\n        \n        List&lt;String&gt; todo = Arrays.asList(&quot;Learn Spring MVC&quot;, &quot;Learn Spring&quot;, &quot;Learn To Code&quot;);\n        \n        when(todoServiceMock.retrieveTodos(&quot;Dummy&quot;)).thenReturn(todo);\n        \n        TodoBusinessImpl todoBusinessImpl = new TodoBusinessImpl(todoServiceMock);\n        \n        List&lt;String&gt; filteredTodos = todoBusinessImpl.retrieveTodosRelatedToSpring(&quot;Dummy&quot;);\n        \n        assertEquals(2, filteredTodos.size());\n        \n    }\n\n   }\n\n</code></pre>\n"},{"tags":["java","file-not-found"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680109818,"post_id":75880131,"comment_id":133843160,"body_markdown":"This is not about your dictionary.txt file, it&#39;s about Java not finding class files. How do you try to run your code? If you are on the shell, what command do you run in what folder, and where are the class files relative to that? If you use an IDE, which one, and how do you try to run the code from the IDE? Does your source folder match the package declaration? Seems odd that you have a package named `IndentChecker`. Does your IDE report problems?","body":"This is not about your dictionary.txt file, it&#39;s about Java not finding class files. How do you try to run your code? If you are on the shell, what command do you run in what folder, and where are the class files relative to that? If you use an IDE, which one, and how do you try to run the code from the IDE? Does your source folder match the package declaration? Seems odd that you have a package named <code>IndentChecker</code>. Does your IDE report problems?"},{"owner":{"account_id":28001762,"reputation":1,"user_id":21385885,"display_name":"Maryellen"},"score":0,"creation_date":1680115511,"post_id":75880131,"comment_id":133844527,"body_markdown":"Apparently this is something to do with IntelliJ. I switched my project over to eclipse and it seems to be working fine. Thank you for your response.","body":"Apparently this is something to do with IntelliJ. I switched my project over to eclipse and it seems to be working fine. Thank you for your response."}],"owner":{"account_id":28001762,"reputation":1,"user_id":21385885,"display_name":"Maryellen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680173973,"answer_count":0,"score":0,"last_activity_date":1680109457,"creation_date":1680109457,"question_id":75880131,"body_markdown":"I have the files in the src folder. I have another project that is also giving me the same error of not being able to find the file. I have basically been slamming my head against my desk trying to figure out what is wrong. \r\n\r\n```\r\npackage IndentChecker;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport java.util.Stack;\r\n\r\n    class BadIndentationException extends RuntimeException {\r\n        BadIndentationException(String error) {\r\n\r\n            super(error);\r\n        }\r\n    }\r\n\r\n    public class IndentChecker {\r\n        Stack&lt;Integer&gt; indentStack = new Stack&lt;Integer&gt;();\r\n\r\n        private int findFirstNonBlank(String line) {\r\n            // return index of first non-blank character\r\n            // return -1 if the line doesn&#39;t contain a non-blank character\r\n            for (int i= 0; i &lt; line.length(); i++) {\r\n                if(line.charAt(i) != &#39; &#39;){\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        private void processLine(String line, int lineNumber) {\r\n            int index = findFirstNonBlank(line);\r\n            // Skip blank lines ... i.e. return immediately\r\n            if(index == -1)\r\n                return;\r\n            // If the stack is empty, then push this index onto the stack and return\r\n            if(indentStack.isEmpty())\r\n                indentStack.push(index);\r\n                // If this index &gt; than the top of the stack, then push this index onto the stack and return\r\n            else {\r\n                if(index &gt; indentStack.peek()){\r\n                    indentStack.push(index);\r\n                    return;\r\n                }\r\n                while(indentStack.peek() &gt; index){ // Pop off all Indentation indexes &gt; index\r\n                    indentStack.pop();\r\n                    // At his point the top of the stack should match the current index. If it\r\n                    // doesn&#39;t throw a BadIndentationException. In the error message, include the source Line Number\r\n                } if(indentStack.peek() != index)\r\n                    throw new BadIndentationException(&quot;error at line: &quot; + lineNumber);\r\n            }\r\n        }\r\n\r\n        public void checkIndentation(String fileName) {\r\n            indentStack.clear(); // Clear the stack\r\n            Scanner input = null;\r\n            try {\r\n                input = new Scanner(new File(fileName));\r\n                int lineNumber = 1;\r\n                while (input.hasNextLine()) { // read through the file line by line\r\n                    String line = input.nextLine();\r\n                    System.out.println(lineNumber + &quot;:&quot; + line);\r\n                    processLine(line, lineNumber); // for each line, call processLine to check indentation\r\n                    lineNumber += 1;\r\n                }\r\n                if (indentStack.peek() == 0)\r\n                    System.out.println(&quot;***&quot; + fileName + &quot; must be properly indented.&quot; + &quot;/n&quot;);\r\n            } catch (BadIndentationException error) {\r\n                System.out.println(error);\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Can&#39;t open file:&quot; + fileName);\r\n            } finally {\r\n                if (input != null)\r\n                    input.close();\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            IndentChecker indentChecker = new IndentChecker();\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                System.out.println(&quot;Processing file: &quot; + args[i]);\r\n                indentChecker.checkIndentation(args[i]);\r\n            }\r\n        }\r\n}\r\n\r\n```\r\n\r\nWhen I run the code I get this message &quot; C:\\Users\\user\\.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=54873:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 IndentChecker.IndentChecker\r\nError: Could not find or load main class IndentChecker.IndentChecker\r\nCaused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker\r\n\r\nProcess finished with exit code 1\r\n&quot;\r\ntried to replace &quot;dictionary.txt&quot; with absolute and src path. Tried to run File f= new File and system out that, and it still cannot find the file. \r\n","title":"Error: Could not find or load main class IndentChecker.IndentChecker Caused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker","body":"<p>I have the files in the src folder. I have another project that is also giving me the same error of not being able to find the file. I have basically been slamming my head against my desk trying to figure out what is wrong.</p>\n<pre><code>package IndentChecker;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.Stack;\n\n    class BadIndentationException extends RuntimeException {\n        BadIndentationException(String error) {\n\n            super(error);\n        }\n    }\n\n    public class IndentChecker {\n        Stack&lt;Integer&gt; indentStack = new Stack&lt;Integer&gt;();\n\n        private int findFirstNonBlank(String line) {\n            // return index of first non-blank character\n            // return -1 if the line doesn't contain a non-blank character\n            for (int i= 0; i &lt; line.length(); i++) {\n                if(line.charAt(i) != ' '){\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        private void processLine(String line, int lineNumber) {\n            int index = findFirstNonBlank(line);\n            // Skip blank lines ... i.e. return immediately\n            if(index == -1)\n                return;\n            // If the stack is empty, then push this index onto the stack and return\n            if(indentStack.isEmpty())\n                indentStack.push(index);\n                // If this index &gt; than the top of the stack, then push this index onto the stack and return\n            else {\n                if(index &gt; indentStack.peek()){\n                    indentStack.push(index);\n                    return;\n                }\n                while(indentStack.peek() &gt; index){ // Pop off all Indentation indexes &gt; index\n                    indentStack.pop();\n                    // At his point the top of the stack should match the current index. If it\n                    // doesn't throw a BadIndentationException. In the error message, include the source Line Number\n                } if(indentStack.peek() != index)\n                    throw new BadIndentationException(&quot;error at line: &quot; + lineNumber);\n            }\n        }\n\n        public void checkIndentation(String fileName) {\n            indentStack.clear(); // Clear the stack\n            Scanner input = null;\n            try {\n                input = new Scanner(new File(fileName));\n                int lineNumber = 1;\n                while (input.hasNextLine()) { // read through the file line by line\n                    String line = input.nextLine();\n                    System.out.println(lineNumber + &quot;:&quot; + line);\n                    processLine(line, lineNumber); // for each line, call processLine to check indentation\n                    lineNumber += 1;\n                }\n                if (indentStack.peek() == 0)\n                    System.out.println(&quot;***&quot; + fileName + &quot; must be properly indented.&quot; + &quot;/n&quot;);\n            } catch (BadIndentationException error) {\n                System.out.println(error);\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;Can't open file:&quot; + fileName);\n            } finally {\n                if (input != null)\n                    input.close();\n            }\n        }\n\n        public static void main(String[] args) {\n            IndentChecker indentChecker = new IndentChecker();\n            for (int i = 0; i &lt; args.length; i++) {\n                System.out.println(&quot;Processing file: &quot; + args[i]);\n                indentChecker.checkIndentation(args[i]);\n            }\n        }\n}\n\n</code></pre>\n<p>When I run the code I get this message &quot; C:\\Users\\user.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=54873:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 IndentChecker.IndentChecker\nError: Could not find or load main class IndentChecker.IndentChecker\nCaused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker</p>\n<p>Process finished with exit code 1\n&quot;\ntried to replace &quot;dictionary.txt&quot; with absolute and src path. Tried to run File f= new File and system out that, and it still cannot find the file.</p>\n"},{"tags":["java","cross-platform","home-directory"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1235574608,"post_id":585534,"comment_id":398136,"body_markdown":"Did you try the workarounds mentioned in the bug? There are plenty of suggestions.","body":"Did you try the workarounds mentioned in the bug? There are plenty of suggestions."},{"owner":{"account_id":25259,"reputation":1385,"user_id":64824,"accept_rate":29,"display_name":"GregA100k"},"score":1,"creation_date":1251820410,"post_id":585534,"comment_id":1200805,"body_markdown":"bug 4787931 for java versions up through 1.4.2 shows up again as bug 6519127 for java 1.6.  The problem is not going away and is still listed as low priority.","body":"bug 4787931 for java versions up through 1.4.2 shows up again as bug 6519127 for java 1.6.  The problem is not going away and is still listed as low priority."},{"owner":{"account_id":62556,"reputation":4245,"user_id":185799,"accept_rate":75,"display_name":"Steven R. Loomis"},"score":25,"creation_date":1380558141,"post_id":585534,"comment_id":28237152,"body_markdown":"Note: bug 4787391 is marked as fixed in Java 8","body":"Note: bug 4787391 is marked as fixed in Java 8"},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1662068344,"post_id":585534,"comment_id":129927322,"body_markdown":"For a discussion on Windows see https://stackoverflow.com/q/1503555/873282.","body":"For a discussion on Windows see <a href=\"https://stackoverflow.com/q/1503555/873282\">stackoverflow.com/q/1503555/873282</a>."}],"answers":[{"comments":[{"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"score":13,"creation_date":1236101644,"post_id":585558,"comment_id":419574,"body_markdown":"Nope, not a correct answer, this is the same one as above. Yes, I did not only read the JavaDocs, but I also tried it out on all platforms before asking this question! The answer is not so simple.","body":"Nope, not a correct answer, this is the same one as above. Yes, I did not only read the JavaDocs, but I also tried it out on all platforms before asking this question! The answer is not so simple."},{"owner":{"account_id":395405,"reputation":67443,"user_id":758345,"display_name":"Chronial"},"score":3,"creation_date":1347463949,"post_id":585558,"comment_id":16648997,"body_markdown":"This might go horribly wrong on windows, where it will just take the parent of the desktop directory, which might be anywhere …","body":"This might go horribly wrong on windows, where it will just take the parent of the desktop directory, which might be anywhere …"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":11,"up_vote_count":52,"is_accepted":false,"score":41,"last_activity_date":1680109328,"creation_date":1235559195,"answer_id":585558,"question_id":585534,"body_markdown":"    System.getProperty(&quot;user.home&quot;);\r\n\r\nSee the [JavaDoc][1].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<pre><code>System.getProperty(&quot;user.home&quot;);\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">JavaDoc</a>.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1235560910,"post_id":585588,"comment_id":397440,"body_markdown":"I wouldn&#39;t depend on this, because not all properties are standardized. Instead check the JavaDoc for System.getProperties() to find out which properties are guaranteed to exist.","body":"I wouldn&#39;t depend on this, because not all properties are standardized. Instead check the JavaDoc for System.getProperties() to find out which properties are guaranteed to exist."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":7,"creation_date":1235563519,"post_id":585588,"comment_id":397538,"body_markdown":"That may be true but it&#39;s still pretty useful for a newbie I would think! I&#39;m not sure it deserves 2 downvotes :-(","body":"That may be true but it&#39;s still pretty useful for a newbie I would think! I&#39;m not sure it deserves 2 downvotes :-("}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":2,"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1235559781,"creation_date":1235559781,"answer_id":585588,"question_id":585534,"body_markdown":"Others have answered the question before me but a useful program to print out all available properties is: \r\n\r\n    for (Map.Entry&lt;?,?&gt; e : System.getProperties().entrySet()) {\r\n        System.out.println(String.format(&quot;%s = %s&quot;, e.getKey(), e.getValue())); \r\n    }\r\n\r\n","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Others have answered the question before me but a useful program to print out all available properties is: </p>\n\n<pre><code>for (Map.Entry&lt;?,?&gt; e : System.getProperties().entrySet()) {\n    System.out.println(String.format(\"%s = %s\", e.getKey(), e.getValue())); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11506064,"reputation":908,"user_id":8432256,"display_name":"Varun Mathur"},"score":8,"creation_date":1593381766,"post_id":586345,"comment_id":110754014,"body_markdown":"Apache has an [excellent wrapper](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SystemUtils.html) for `System.getProperty` calls that I recommend using. The correct call under that would be `SystemUtils.getUserHome()`.","body":"Apache has an <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SystemUtils.html\" rel=\"nofollow noreferrer\">excellent wrapper</a> for <code>System.getProperty</code> calls that I recommend using. The correct call under that would be <code>SystemUtils.getUserHome()</code>."}],"tags":[],"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"comment_count":1,"down_vote_count":0,"up_vote_count":460,"is_accepted":true,"score":460,"last_activity_date":1496080128,"creation_date":1235574343,"answer_id":586345,"question_id":585534,"body_markdown":"The bug you reference (bug 4787391) has been fixed in Java 8. Even if you are using an older version of Java, the `System.getProperty(&quot;user.home&quot;)` approach is probably still the best. The `user.home` approach seems to work in a very large number of cases. A 100% bulletproof solution on Windows is hard, because Windows has a shifting concept of what the home directory means.&lt;br/&gt;&lt;br/&gt;\r\nIf `user.home` isn&#39;t good enough for you I would suggest choosing a definition of `home directory` for windows and using it, getting the appropriate environment variable with `System.getenv(String)`.\r\n\r\n\r\n  [1]: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4787931","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>The bug you reference (bug 4787391) has been fixed in Java 8. Even if you are using an older version of Java, the <code>System.getProperty(\"user.home\")</code> approach is probably still the best. The <code>user.home</code> approach seems to work in a very large number of cases. A 100% bulletproof solution on Windows is hard, because Windows has a shifting concept of what the home directory means.<br/><br/>\nIf <code>user.home</code> isn't good enough for you I would suggest choosing a definition of <code>home directory</code> for windows and using it, getting the appropriate environment variable with <code>System.getenv(String)</code>.</p>\n"},{"comments":[{"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"score":0,"creation_date":1235583376,"post_id":586917,"comment_id":398768,"body_markdown":"FYI, the folder that corresponds to the user&#39;s home directory is CSIDL_PROFILE.  See http://msdn.microsoft.com/en-us/library/bb762494(VS.85).aspx.","body":"FYI, the folder that corresponds to the user&#39;s home directory is CSIDL_PROFILE.  See <a href=\"http://msdn.microsoft.com/en-us/library/bb762494(VS.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb762494(VS.85).aspx</a>."},{"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"score":0,"creation_date":1244498314,"post_id":586917,"comment_id":775804,"body_markdown":"Yes, this is an elaborate version for the Windows case.","body":"Yes, this is an elaborate version for the Windows case."},{"owner":{"account_id":2694342,"reputation":656,"user_id":2326830,"display_name":"Sebastian Marsching"},"score":2,"creation_date":1464555950,"post_id":586917,"comment_id":62523373,"body_markdown":"In recent versions of JNA (more precisely jna-platform), there is a Shell32Util class which encapsulates the corresponding Windows API in a very nice way. In particular, using Shell32Util.getKnownFolderPath(...) in combination with one of the constants from the KnownFolders class should be appropriate. The older getFolderPath API function is deprecated since Windows Vista.","body":"In recent versions of JNA (more precisely jna-platform), there is a Shell32Util class which encapsulates the corresponding Windows API in a very nice way. In particular, using Shell32Util.getKnownFolderPath(...) in combination with one of the constants from the KnownFolders class should be appropriate. The older getFolderPath API function is deprecated since Windows Vista."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1235582360,"creation_date":1235581809,"answer_id":586917,"question_id":585534,"body_markdown":"The concept of a HOME directory seems to be a bit vague when it comes to Windows. If the [environment variables][1] (HOMEDRIVE/HOMEPATH/USERPROFILE) aren&#39;t enough, you may have to resort to using native functions via [JNI][2] or [JNA][3]. [SHGetFolderPath][4] allows you to retrieve special folders, like *My Documents* (CSIDL&amp;#095;PERSONAL) or *Local Settings\\Application Data* (CSIDL&amp;#095;LOCAL&amp;#095;APPDATA).\r\n\r\nSample JNA code:\r\n\r\n    public class PrintAppDataDir {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tif (com.sun.jna.Platform.isWindows()) {\r\n    \t\t\tHWND hwndOwner = null;\r\n    \t\t\tint nFolder = Shell32.CSIDL_LOCAL_APPDATA;\r\n    \t\t\tHANDLE hToken = null;\r\n    \t\t\tint dwFlags = Shell32.SHGFP_TYPE_CURRENT;\r\n    \t\t\tchar[] pszPath = new char[Shell32.MAX_PATH];\r\n    \t\t\tint hResult = Shell32.INSTANCE.SHGetFolderPath(hwndOwner, nFolder,\r\n    \t\t\t\t\thToken, dwFlags, pszPath);\r\n    \t\t\tif (Shell32.S_OK == hResult) {\r\n    \t\t\t\tString path = new String(pszPath);\r\n    \t\t\t\tint len = path.indexOf(&#39;\\0&#39;);\r\n    \t\t\t\tpath = path.substring(0, len);\r\n    \t\t\t\tSystem.out.println(path);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.err.println(&quot;Error: &quot; + hResult);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Map&lt;String, Object&gt; OPTIONS = new HashMap&lt;String, Object&gt;();\r\n    \tstatic {\r\n    \t\tOPTIONS.put(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\r\n    \t\tOPTIONS.put(Library.OPTION_FUNCTION_MAPPER,\r\n    \t\t\t\tW32APIFunctionMapper.UNICODE);\r\n    \t}\r\n    \r\n    \tstatic class HANDLE extends PointerType implements NativeMapped {\r\n    \t}\r\n    \r\n    \tstatic class HWND extends HANDLE {\r\n    \t}\r\n    \r\n    \tstatic interface Shell32 extends Library {\r\n    \r\n    \t\tpublic static final int MAX_PATH = 260;\r\n    \t\tpublic static final int CSIDL_LOCAL_APPDATA = 0x001c;\r\n    \t\tpublic static final int SHGFP_TYPE_CURRENT = 0;\r\n    \t\tpublic static final int SHGFP_TYPE_DEFAULT = 1;\r\n    \t\tpublic static final int S_OK = 0;\r\n    \r\n    \t\tstatic Shell32 INSTANCE = (Shell32) Native.loadLibrary(&quot;shell32&quot;,\r\n    \t\t\t\tShell32.class, OPTIONS);\r\n    \r\n    \t\t/**\r\n    \t\t * see http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\r\n    \t\t * \r\n    \t\t * HRESULT SHGetFolderPath( HWND hwndOwner, int nFolder, HANDLE hToken,\r\n    \t\t * DWORD dwFlags, LPTSTR pszPath);\r\n    \t\t */\r\n    \t\tpublic int SHGetFolderPath(HWND hwndOwner, int nFolder, HANDLE hToken,\r\n    \t\t\t\tint dwFlags, char[] pszPath);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/guides/jni/\r\n  [3]: https://github.com/twall/jna/\r\n  [4]: http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>The concept of a HOME directory seems to be a bit vague when it comes to Windows. If the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html\" rel=\"noreferrer\">environment variables</a> (HOMEDRIVE/HOMEPATH/USERPROFILE) aren't enough, you may have to resort to using native functions via <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/jni/\" rel=\"noreferrer\">JNI</a> or <a href=\"https://github.com/twall/jna/\" rel=\"noreferrer\">JNA</a>. <a href=\"http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\" rel=\"noreferrer\">SHGetFolderPath</a> allows you to retrieve special folders, like <em>My Documents</em> (CSIDL&#095;PERSONAL) or <em>Local Settings\\Application Data</em> (CSIDL&#095;LOCAL&#095;APPDATA).</p>\n\n<p>Sample JNA code:</p>\n\n<pre><code>public class PrintAppDataDir {\n\n    public static void main(String[] args) {\n        if (com.sun.jna.Platform.isWindows()) {\n            HWND hwndOwner = null;\n            int nFolder = Shell32.CSIDL_LOCAL_APPDATA;\n            HANDLE hToken = null;\n            int dwFlags = Shell32.SHGFP_TYPE_CURRENT;\n            char[] pszPath = new char[Shell32.MAX_PATH];\n            int hResult = Shell32.INSTANCE.SHGetFolderPath(hwndOwner, nFolder,\n                    hToken, dwFlags, pszPath);\n            if (Shell32.S_OK == hResult) {\n                String path = new String(pszPath);\n                int len = path.indexOf('\\0');\n                path = path.substring(0, len);\n                System.out.println(path);\n            } else {\n                System.err.println(\"Error: \" + hResult);\n            }\n        }\n    }\n\n    private static Map&lt;String, Object&gt; OPTIONS = new HashMap&lt;String, Object&gt;();\n    static {\n        OPTIONS.put(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\n        OPTIONS.put(Library.OPTION_FUNCTION_MAPPER,\n                W32APIFunctionMapper.UNICODE);\n    }\n\n    static class HANDLE extends PointerType implements NativeMapped {\n    }\n\n    static class HWND extends HANDLE {\n    }\n\n    static interface Shell32 extends Library {\n\n        public static final int MAX_PATH = 260;\n        public static final int CSIDL_LOCAL_APPDATA = 0x001c;\n        public static final int SHGFP_TYPE_CURRENT = 0;\n        public static final int SHGFP_TYPE_DEFAULT = 1;\n        public static final int S_OK = 0;\n\n        static Shell32 INSTANCE = (Shell32) Native.loadLibrary(\"shell32\",\n                Shell32.class, OPTIONS);\n\n        /**\n         * see http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\n         * \n         * HRESULT SHGetFolderPath( HWND hwndOwner, int nFolder, HANDLE hToken,\n         * DWORD dwFlags, LPTSTR pszPath);\n         */\n        public int SHGetFolderPath(HWND hwndOwner, int nFolder, HANDLE hToken,\n                int dwFlags, char[] pszPath);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235637283,"creation_date":1235637283,"answer_id":589657,"question_id":585534,"body_markdown":"I would use the algorithm detailed in the bug report using System.getenv(String), and fallback to using the user.dir property if none of the environment variables indicated a valid existing directory.  This should work cross-platform.\r\n\r\nI think, under Windows, what you are really after is the user&#39;s notional &quot;documents&quot; directory.","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>I would use the algorithm detailed in the bug report using System.getenv(String), and fallback to using the user.dir property if none of the environment variables indicated a valid existing directory.  This should work cross-platform.</p>\n\n<p>I think, under Windows, what you are really after is the user's notional \"documents\" directory.</p>\n"},{"tags":[],"owner":{"account_id":4646344,"reputation":71,"user_id":3764528,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1403443832,"creation_date":1403443832,"answer_id":24351739,"question_id":585534,"body_markdown":"As I was searching for Scala version, all I could find was McDowell&#39;s JNA code above.  I include my Scala port here, as there currently isn&#39;t anywhere more appropriate.\r\n\r\n    import com.sun.jna.platform.win32._\r\n    object jna {\r\n        def getHome: java.io.File = {\r\n            if (!com.sun.jna.Platform.isWindows()) {\r\n                new java.io.File(System.getProperty(&quot;user.home&quot;))\r\n            }\r\n            else {\r\n                val pszPath: Array[Char] = new Array[Char](WinDef.MAX_PATH)\r\n                new java.io.File(Shell32.INSTANCE.SHGetSpecialFolderPath(null, pszPath, ShlObj.CSIDL_MYDOCUMENTS, false) match {\r\n                    case true =&gt; new String(pszPath.takeWhile(c =&gt; c != &#39;\\0&#39;))\r\n                    case _    =&gt; System.getProperty(&quot;user.home&quot;)\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\nAs with the Java version, you will need to add [Java Native Access][1], including both jar files, to your referenced libraries.\r\n\r\nIt&#39;s nice to see that JNA now makes this much easier than when the original code was posted.\r\n\r\n  [1]: https://github.com/twall/jna\r\n","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>As I was searching for Scala version, all I could find was McDowell's JNA code above.  I include my Scala port here, as there currently isn't anywhere more appropriate.</p>\n\n<pre><code>import com.sun.jna.platform.win32._\nobject jna {\n    def getHome: java.io.File = {\n        if (!com.sun.jna.Platform.isWindows()) {\n            new java.io.File(System.getProperty(\"user.home\"))\n        }\n        else {\n            val pszPath: Array[Char] = new Array[Char](WinDef.MAX_PATH)\n            new java.io.File(Shell32.INSTANCE.SHGetSpecialFolderPath(null, pszPath, ShlObj.CSIDL_MYDOCUMENTS, false) match {\n                case true =&gt; new String(pszPath.takeWhile(c =&gt; c != '\\0'))\n                case _    =&gt; System.getProperty(\"user.home\")\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>As with the Java version, you will need to add <a href=\"https://github.com/twall/jna\" rel=\"noreferrer\">Java Native Access</a>, including both jar files, to your referenced libraries.</p>\n\n<p>It's nice to see that JNA now makes this much easier than when the original code was posted.</p>\n"},{"tags":[],"owner":{"account_id":989107,"reputation":21888,"user_id":1006863,"accept_rate":69,"display_name":"Paulo Fidalgo"},"comment_count":0,"down_vote_count":1,"up_vote_count":172,"is_accepted":false,"score":171,"last_activity_date":1415890320,"creation_date":1415890320,"answer_id":26911685,"question_id":585534,"body_markdown":"Actually with Java 8 the right way is to use:\r\n\r\n    System.getProperty(&quot;user.home&quot;);\r\n\r\nThe bug [ JDK-6519127][1] has been fixed and the &quot;Incompatibilities between JDK 8 and JDK 7&quot; section of the [release notes][2] states:\r\n\r\n&gt; Area: Core Libs / java.lang\r\n&gt; \r\n&gt; Synopsis\r\n&gt; \r\n&gt;The steps used to determine the user&#39;s home directory on Windows have changed to follow the Microsoft recommended approach. This change\r\n&gt; might be observable on older editions of Windows or where registry\r\n&gt; settings or environment variables are set to other directories. Nature\r\n&gt; of Incompatibility\r\n&gt; \r\n&gt;     behavioral RFE\r\n&gt; \r\n&gt;     6519127\r\n\r\nDespite the question being old I leave this for future reference.\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6519127\r\n  [2]: http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Actually with Java 8 the right way is to use:</p>\n\n<pre><code>System.getProperty(\"user.home\");\n</code></pre>\n\n<p>The bug <a href=\"http://bugs.java.com/view_bug.do?bug_id=6519127\"> JDK-6519127</a> has been fixed and the \"Incompatibilities between JDK 8 and JDK 7\" section of the <a href=\"http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html\">release notes</a> states:</p>\n\n<blockquote>\n  <p>Area: Core Libs / java.lang</p>\n  \n  <p>Synopsis</p>\n  \n  <p>The steps used to determine the user's home directory on Windows have changed to follow the Microsoft recommended approach. This change\n  might be observable on older editions of Windows or where registry\n  settings or environment variables are set to other directories. Nature\n  of Incompatibility</p>\n\n<pre><code>behavioral RFE\n\n6519127\n</code></pre>\n</blockquote>\n\n<p>Despite the question being old I leave this for future reference.</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1628471459,"post_id":46052687,"comment_id":121421122,"body_markdown":"Link in answer is dead - *&quot;404 | This is not the web page you are looking for&quot;*","body":"Link in answer is dead - <i>&quot;404 | This is not the web page you are looking for&quot;</i>"}],"tags":[],"owner":{"account_id":47208,"reputation":904,"user_id":139692,"accept_rate":70,"display_name":"Neil Benn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504607073,"creation_date":1504607073,"answer_id":46052687,"question_id":585534,"body_markdown":"If you want something that works well on windows there is a package called [WinFoldersJava][1] which wraps the native call to get the &#39;special&#39; directories on Windows.  We use it frequently and it works well.\r\n\r\n\r\n  [1]: https://github.com/catnapgames/WinFoldersJava","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>If you want something that works well on windows there is a package called <a href=\"https://github.com/catnapgames/WinFoldersJava\" rel=\"nofollow noreferrer\">WinFoldersJava</a> which wraps the native call to get the 'special' directories on Windows.  We use it frequently and it works well.</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":1,"creation_date":1628471275,"post_id":52757962,"comment_id":121421093,"body_markdown":"`File FileUtils.getUserDirectory()` | `String FileUtils.getUserDirectoryPath()` - https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html","body":"<code>File FileUtils.getUserDirectory()</code> | <code>String FileUtils.getUserDirectoryPath()</code> - <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io/apidocs/org/apache/comm&zwnj;&#8203;ons/&hellip;</a>"}],"tags":[],"owner":{"account_id":3238625,"reputation":1945,"user_id":2732177,"display_name":"mladzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539254175,"creation_date":1539254175,"answer_id":52757962,"question_id":585534,"body_markdown":"Alternative would be to use Apache CommonsIO `FileUtils.getUserDirectory()` instead of `System.getProperty(&quot;user.home&quot;)`. It will get you the same result and there is no chance to introduce a typo when specifying system property.\r\n\r\nThere is a big chance you already have Apache CommonsIO library in your project. Don&#39;t introduce it if you plan to use it only for getting user home directory.","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Alternative would be to use Apache CommonsIO <code>FileUtils.getUserDirectory()</code> instead of <code>System.getProperty(\"user.home\")</code>. It will get you the same result and there is no chance to introduce a typo when specifying system property.</p>\n\n<p>There is a big chance you already have Apache CommonsIO library in your project. Don't introduce it if you plan to use it only for getting user home directory.</p>\n"}],"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326561,"favorite_count":0,"down_vote_count":1,"up_vote_count":361,"accepted_answer_id":586345,"answer_count":9,"score":360,"last_activity_date":1680109328,"creation_date":1235558811,"question_id":585534,"body_markdown":"What is the best way to find the user&#39;s home directory in Java?\r\n\r\nThe difficulty is that the solution should be cross-platform; it should work on Windows 2000, XP, Vista, OS X, Linux, and other Unix variants. I am looking for a snippet of code that can accomplish this for all platforms, and a way to detect the platform.\r\n\r\nPer Java bug [4787931][1], system property `user.home` does not work correctly on Windows XP, so using this system property is not an acceptable solution as it is not cross-platform.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4787931","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>What is the best way to find the user's home directory in Java?</p>\n<p>The difficulty is that the solution should be cross-platform; it should work on Windows 2000, XP, Vista, OS X, Linux, and other Unix variants. I am looking for a snippet of code that can accomplish this for all platforms, and a way to detect the platform.</p>\n<p>Per Java bug <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4787931\" rel=\"noreferrer\">4787931</a>, system property <code>user.home</code> does not work correctly on Windows XP, so using this system property is not an acceptable solution as it is not cross-platform.</p>\n"},{"tags":["java","kotlin","spring-jdbc","spring-transactions","jta"],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680108879,"creation_date":1680003597,"question_id":75865777,"body_markdown":"I have created multiple datasources manually and wrapped them all together in one CustomRoutingDataSource which I registered as the main datasource in my application. I&#39;m using tw-gaffer (https://github.com/transferwise/tw-gaffer-jta) as `JtaTransactionManager` implementation. Problem is that when I am doing inserts in one thread/one transaction across multiple databases then application doesn&#39;t understand that the underlying datasource in CustomRoutingDataSource has changes and it does them all in one database.\r\n\r\n```\r\n// I create this bean manually in another configuration class and create the configure the rest of the spring-data-jdbc based on it\r\nclass CustomRoutingDataSource(\r\n  private val additionalDataSources: Map&lt;String, DataSourceImpl&gt;,\r\n  private val mainDataSource: DataSourceImpl\r\n) : AbstractRoutingDataSource() {\r\n\r\n  companion object {\r\n    val ACTIVE_DS = ThreadLocal&lt;String?&gt;()\r\n  }\r\n\r\n  init {\r\n    val allDataSources: Map&lt;Any, Any&gt; = (\r\n      additionalDataSources +\r\n        (&quot;main&quot; to mainDataSource)\r\n      ).toMap()\r\n\r\n    setDefaultTargetDataSource(mainDataSource)\r\n    setTargetDataSources(allDataSources)\r\n  }\r\n\r\n  override fun determineCurrentLookupKey(): String? {\r\n    return ACTIVE_DS.get() ? &quot;main&quot;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\nclass TransactionManagerConfiguration {\r\n\r\n  @Bean\r\n  fun gafferUserTransaction(): UserTransaction {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    return serviceRegistry.userTransaction\r\n  }\r\n\r\n  @Bean(&quot;gafferTransactionManager&quot;)\r\n  fun gafferTransactionManager(\r\n    beforeCommitValidationRequiredTimeMs: Long\r\n  ): TransactionManagerImpl {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    val configuration = serviceRegistry.configuration\r\n    configuration.beforeCommitValidationRequiredTimeMs = 30000\r\n    return serviceRegistry.transactionManager\r\n  }\r\n\r\n  @Bean\r\n  fun transactionManager(\r\n    @Qualifier(&quot;gafferTransactionManager&quot;) gafferTransactionManager: TransactionManagerImpl\r\n  ): JtaTransactionManager {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    val jtaTransactionManager = JtaTransactionManager(gafferUserTransaction(), gafferTransactionManager)\r\n\r\n    jtaTransactionManager.defaultTimeout = 30000\r\n    jtaTransactionManager.transactionSynchronizationRegistry = serviceRegistry.transactionSynchronizationRegistry\r\n    return jtaTransactionManager\r\n  }\r\n}\r\n```\r\n\r\nMy test code:\r\n\r\n```\r\n@Transactional\r\nfun doSomething() {\r\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db1&quot;)\r\n  jdbcTemplate.insert(...)\r\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db2&quot;)\r\n  jdbcTemplate.insert(...)\r\n}\r\n```\r\n\r\nProblem is that both inserts go to db1. If I remove the `@Transactional` then it works correct.\r\n\r\nMy hunch is that `TransactionSynchronizationManager` somehow looks that it&#39;s already got a connection from `CustomRoutingDataSource` and therefor it doesn&#39;t know it should ask for a new one as the thread local has changes and therefor `determineCurrentLookupKey()` is never called the second time. I have no idea how to force it to call it every time.\r\n\r\nP.S My code-examples are in Kotlin, but there is nothing Kotlin specific going on here. Also I believe it&#39;s not tw-gaffer specific. \r\n\r\n**Question is how to make AbstractRoutingDataSource play together with JtaTransactionManager?**","title":"JtaTransactionManager doesnt respect AbstractRoutingDatasource","body":"<p>I have created multiple datasources manually and wrapped them all together in one CustomRoutingDataSource which I registered as the main datasource in my application. I'm using tw-gaffer (<a href=\"https://github.com/transferwise/tw-gaffer-jta\" rel=\"nofollow noreferrer\">https://github.com/transferwise/tw-gaffer-jta</a>) as <code>JtaTransactionManager</code> implementation. Problem is that when I am doing inserts in one thread/one transaction across multiple databases then application doesn't understand that the underlying datasource in CustomRoutingDataSource has changes and it does them all in one database.</p>\n<pre><code>// I create this bean manually in another configuration class and create the configure the rest of the spring-data-jdbc based on it\nclass CustomRoutingDataSource(\n  private val additionalDataSources: Map&lt;String, DataSourceImpl&gt;,\n  private val mainDataSource: DataSourceImpl\n) : AbstractRoutingDataSource() {\n\n  companion object {\n    val ACTIVE_DS = ThreadLocal&lt;String?&gt;()\n  }\n\n  init {\n    val allDataSources: Map&lt;Any, Any&gt; = (\n      additionalDataSources +\n        (&quot;main&quot; to mainDataSource)\n      ).toMap()\n\n    setDefaultTargetDataSource(mainDataSource)\n    setTargetDataSources(allDataSources)\n  }\n\n  override fun determineCurrentLookupKey(): String? {\n    return ACTIVE_DS.get() ? &quot;main&quot;\n  }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableTransactionManagement\nclass TransactionManagerConfiguration {\n\n  @Bean\n  fun gafferUserTransaction(): UserTransaction {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    return serviceRegistry.userTransaction\n  }\n\n  @Bean(&quot;gafferTransactionManager&quot;)\n  fun gafferTransactionManager(\n    beforeCommitValidationRequiredTimeMs: Long\n  ): TransactionManagerImpl {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    val configuration = serviceRegistry.configuration\n    configuration.beforeCommitValidationRequiredTimeMs = 30000\n    return serviceRegistry.transactionManager\n  }\n\n  @Bean\n  fun transactionManager(\n    @Qualifier(&quot;gafferTransactionManager&quot;) gafferTransactionManager: TransactionManagerImpl\n  ): JtaTransactionManager {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    val jtaTransactionManager = JtaTransactionManager(gafferUserTransaction(), gafferTransactionManager)\n\n    jtaTransactionManager.defaultTimeout = 30000\n    jtaTransactionManager.transactionSynchronizationRegistry = serviceRegistry.transactionSynchronizationRegistry\n    return jtaTransactionManager\n  }\n}\n</code></pre>\n<p>My test code:</p>\n<pre><code>@Transactional\nfun doSomething() {\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db1&quot;)\n  jdbcTemplate.insert(...)\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db2&quot;)\n  jdbcTemplate.insert(...)\n}\n</code></pre>\n<p>Problem is that both inserts go to db1. If I remove the <code>@Transactional</code> then it works correct.</p>\n<p>My hunch is that <code>TransactionSynchronizationManager</code> somehow looks that it's already got a connection from <code>CustomRoutingDataSource</code> and therefor it doesn't know it should ask for a new one as the thread local has changes and therefor <code>determineCurrentLookupKey()</code> is never called the second time. I have no idea how to force it to call it every time.</p>\n<p>P.S My code-examples are in Kotlin, but there is nothing Kotlin specific going on here. Also I believe it's not tw-gaffer specific.</p>\n<p><strong>Question is how to make AbstractRoutingDataSource play together with JtaTransactionManager?</strong></p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":24121769,"reputation":19,"user_id":18090829,"display_name":"Frederic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680108483,"creation_date":1680108483,"answer_id":75879999,"question_id":75854959,"body_markdown":"If you define your variable artikel in the entity Artikeldetails with `@JoinColumn(name=&quot;artikel_id&quot;, nullable = false)`, then it&#39;s normal that hibernate is generating the join of the 2 tables with the column artikel_id from artikeldetails against the column id from artikel table. Nothing wrong here.\r\n\r\nOn the other hand, if you want to join the 2 tables with the column id from artikeldetails against the column id from artikel table, then you can have only one artikeldetail per artikel and therefore your variable artikeldetails in the entity Artikel is wrong: it should be a `@OneToOne` and the type should not be a list of Artikeldetails but simply a Artikeldetails.","title":"Wrong SQL statement join table one to many hibernate JPA","body":"<p>If you define your variable artikel in the entity Artikeldetails with <code>@JoinColumn(name=&quot;artikel_id&quot;, nullable = false)</code>, then it's normal that hibernate is generating the join of the 2 tables with the column artikel_id from artikeldetails against the column id from artikel table. Nothing wrong here.</p>\n<p>On the other hand, if you want to join the 2 tables with the column id from artikeldetails against the column id from artikel table, then you can have only one artikeldetail per artikel and therefore your variable artikeldetails in the entity Artikel is wrong: it should be a <code>@OneToOne</code> and the type should not be a list of Artikeldetails but simply a Artikeldetails.</p>\n"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680108483,"creation_date":1679914857,"question_id":75854959,"body_markdown":"i have two Entitys/Tables and want to Join each other.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ARTIKEL&quot;)\r\npublic class Artikel{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String artikelbezeichnung;\r\n    private int artikelnummer;\r\n    private Float preis;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;artikel&quot;)\r\n    private List&lt;Artikeldetails&gt; artikeldetails;\r\n```\r\n\r\nand the second Table/Entity\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;ARTIKELDETAILS&quot;)\r\npublic class Artikeldetails {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    private String artikeldetail;\r\n    private String artikelcustom;\r\n    private String artikelselektion;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;artikel_id&quot;, nullable = false)\r\n    private Artikel artikel;\r\n```\r\n\r\nMY JPA Respository (Query)\r\n\r\n```\r\n@Query(value=&quot;SELECT artikel FROM Artikel artikel JOIN FETCH artikel.artikeldetails where artikel.artikelnummer = :artikelnummer&quot;)\r\n    List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\r\n```\r\n\r\nwhat did Hibernate Generate:\r\n\r\n```\r\nselect a1_0.id,a1_0.artikelbezeichnung,***a2_0.artikel_id***,a2_0.id,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \r\nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=***a2_0.artikel_id ***\r\nwhere a1_0.artikelnummer=?\r\n```\r\n\r\nthe Problem is that a1_0.artikel_id not exists! The SQL Statement must look like:\r\n```\r\nselect a1_0.id,a1_0.artikelbezeichnung,a2_0.id,**a2_0.id**,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \r\nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=**a2_0.id **\r\nwhere a1_0.artikelnummer=?\r\n```\r\n\r\n\r\nCan anyone help? I DISAPAIR ON HIBERNATE!","title":"Wrong SQL statement join table one to many hibernate JPA","body":"<p>i have two Entitys/Tables and want to Join each other.</p>\n<pre><code>@Entity\n@Table(name = &quot;ARTIKEL&quot;)\npublic class Artikel{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String artikelbezeichnung;\n    private int artikelnummer;\n    private Float preis;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;artikel&quot;)\n    private List&lt;Artikeldetails&gt; artikeldetails;\n</code></pre>\n<p>and the second Table/Entity</p>\n<pre><code>@Entity\n@Table(name=&quot;ARTIKELDETAILS&quot;)\npublic class Artikeldetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private String artikeldetail;\n    private String artikelcustom;\n    private String artikelselektion;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;artikel_id&quot;, nullable = false)\n    private Artikel artikel;\n</code></pre>\n<p>MY JPA Respository (Query)</p>\n<pre><code>@Query(value=&quot;SELECT artikel FROM Artikel artikel JOIN FETCH artikel.artikeldetails where artikel.artikelnummer = :artikelnummer&quot;)\n    List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\n</code></pre>\n<p>what did Hibernate Generate:</p>\n<pre><code>select a1_0.id,a1_0.artikelbezeichnung,***a2_0.artikel_id***,a2_0.id,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=***a2_0.artikel_id ***\nwhere a1_0.artikelnummer=?\n</code></pre>\n<p>the Problem is that a1_0.artikel_id not exists! The SQL Statement must look like:</p>\n<pre><code>select a1_0.id,a1_0.artikelbezeichnung,a2_0.id,**a2_0.id**,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=**a2_0.id **\nwhere a1_0.artikelnummer=?\n</code></pre>\n<p>Can anyone help? I DISAPAIR ON HIBERNATE!</p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671180629,"creation_date":1671180629,"answer_id":74822110,"question_id":74786381,"body_markdown":"I&#39;ve managed to do it by custom templates. Here is the nice video about it https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment and my custom template looks like this:\r\n\r\n            @RequestMapping(\r\n            method = RequestMethod.{{httpMethod}},\r\n            value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\r\n            produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = &quot;{{{vendorExtensions.x-content-type}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\r\n            produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\r\n            )\r\n        {{#vendorExtensions.x-custom-role}}\r\n            @PreAuthorize(&quot;{{{.}}}&quot;)\r\n        {{/vendorExtensions.x-custom-role}}\r\n\r\nand yml looks like this:\r\n\r\n      /foo/bar/{tab}:\r\n        get:\r\n          operationId: someOperation\r\n          x-custom-role: &quot;hasRole(&#39;ROLE_USER_ADMIN&#39;)","title":"Using @PreAuthorize with openapi-tools","body":"<p>I've managed to do it by custom templates. Here is the nice video about it <a href=\"https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment</a> and my custom template looks like this:</p>\n<pre><code>        @RequestMapping(\n        method = RequestMethod.{{httpMethod}},\n        value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\n        produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\n        consumes = &quot;{{{vendorExtensions.x-content-type}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\n        produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\n        consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\n        )\n    {{#vendorExtensions.x-custom-role}}\n        @PreAuthorize(&quot;{{{.}}}&quot;)\n    {{/vendorExtensions.x-custom-role}}\n</code></pre>\n<p>and yml looks like this:</p>\n<pre><code>  /foo/bar/{tab}:\n    get:\n      operationId: someOperation\n      x-custom-role: &quot;hasRole('ROLE_USER_ADMIN')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21317405,"reputation":49,"user_id":15691054,"display_name":"Gerard Puig"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680108193,"creation_date":1680107883,"answer_id":75879923,"question_id":74786381,"body_markdown":"Really cool! thanks for sharing! It was very useful to start to investigate this topic! (Sadly I can&#39;t give you points as my account has not enough level.)\r\n\r\n\r\nI share my solution as this could help someone else. \r\n\r\nin the `api.mustache` file we added this code:\r\n\r\n**Import PreAuthorize:**\r\n\r\n    {{#authMethods}}\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    {{/authMethods}}\r\n\r\n**Add @PreAuthorize annotation to validate scopes:**\r\n\r\n    {{#authMethods}}\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;{{#scopes}}SCOPE_{{scope}}{{^-last}}, {{/-last}}{{/scopes}}&#39;)&quot;)\r\n    {{/authMethods}}\r\n\r\n**Clarifications:**\r\n\r\nComment that we validate our endpoints by scopes defined in the openapi yaml, in the standard security section [more info][1] and also comment that we use openApi generator version 6.1.0, maybe in the future they change the way how you can get the scopes.\r\n\r\n\r\nUseful document that explains how to custom your template:\r\nhttps://openapi-generator.tech/docs/templating\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/authentication/","title":"Using @PreAuthorize with openapi-tools","body":"<p>Really cool! thanks for sharing! It was very useful to start to investigate this topic! (Sadly I can't give you points as my account has not enough level.)</p>\n<p>I share my solution as this could help someone else.</p>\n<p>in the <code>api.mustache</code> file we added this code:</p>\n<p><strong>Import PreAuthorize:</strong></p>\n<pre><code>{{#authMethods}}\nimport org.springframework.security.access.prepost.PreAuthorize;\n{{/authMethods}}\n</code></pre>\n<p><strong>Add @PreAuthorize annotation to validate scopes:</strong></p>\n<pre><code>{{#authMethods}}\n@PreAuthorize(&quot;hasAnyAuthority('{{#scopes}}SCOPE_{{scope}}{{^-last}}, {{/-last}}{{/scopes}}')&quot;)\n{{/authMethods}}\n</code></pre>\n<p><strong>Clarifications:</strong></p>\n<p>Comment that we validate our endpoints by scopes defined in the openapi yaml, in the standard security section <a href=\"https://swagger.io/docs/specification/authentication/\" rel=\"nofollow noreferrer\">more info</a> and also comment that we use openApi generator version 6.1.0, maybe in the future they change the way how you can get the scopes.</p>\n<p>Useful document that explains how to custom your template:\n<a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/templating</a></p>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74822110,"answer_count":2,"score":1,"last_activity_date":1680108193,"creation_date":1670941603,"question_id":74786381,"body_markdown":"I am using openapi-generator-maven-plugin for code generation\r\n\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\r\nAnd I need to have @PreAuthorize annotation on precise API method. \r\n\r\n    @RestController\r\n    @Validated\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class SomeController implements SomeApi {\r\n    \r\n        @Override\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER_ADMIN&#39;) || hasRole(&#39;ROLE_DIGITAL_REP&#39;) || hasRole(&#39;ROLE_FIELD_REP&#39;)&quot;)\r\n        public ResponseEntity&lt;SomeDto&gt; getSomeInfo() {\r\n            return ResponseEntity\r\n                .status(HttpStatus.OK)\r\n                .body(&quot;some info&quot;);\r\n        }\r\n\r\nIt does not work because you can&#39;t use Spring annotations inside class (SomeApi calls overriden version of getSomeInfo inside). So my question is - is that possible to add @PreAuthorize for API endpoint during code generation step ? I&#39;ve found discussion here https://github.com/OpenAPITools/openapi-generator/issues/1975, but it is not clear was tis solved or not. ","title":"Using @PreAuthorize with openapi-tools","body":"<p>I am using openapi-generator-maven-plugin for code generation</p>\n<pre><code>            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n</code></pre>\n<p>And I need to have @PreAuthorize annotation on precise API method.</p>\n<pre><code>@RestController\n@Validated\n@Slf4j\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/v1&quot;)\npublic class SomeController implements SomeApi {\n\n    @Override\n    @PreAuthorize(&quot;hasRole('ROLE_USER_ADMIN') || hasRole('ROLE_DIGITAL_REP') || hasRole('ROLE_FIELD_REP')&quot;)\n    public ResponseEntity&lt;SomeDto&gt; getSomeInfo() {\n        return ResponseEntity\n            .status(HttpStatus.OK)\n            .body(&quot;some info&quot;);\n    }\n</code></pre>\n<p>It does not work because you can't use Spring annotations inside class (SomeApi calls overriden version of getSomeInfo inside). So my question is - is that possible to add @PreAuthorize for API endpoint during code generation step ? I've found discussion here <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/1975\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/1975</a>, but it is not clear was tis solved or not.</p>\n"},{"tags":["java","spring-boot","kubernetes","environment-variables","amazon-elastic-beanstalk"],"owner":{"account_id":2101901,"reputation":4883,"user_id":1869299,"accept_rate":65,"display_name":"TWilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680108137,"creation_date":1680108137,"question_id":75879957,"body_markdown":"Our team is migrating from elastic beanstalk to kubernetes.\r\n\r\nWe have log4j configuration and have the below configuration for logging to sentry.\r\n\r\nIn our config, we use this setup for elastic beanstalk \t\r\n\r\n\t\t&lt;Sentry name=&quot;Sentry&quot;\r\n                minimumBreadcrumbLevel=&quot;DEBUG&quot;\r\n                minimumEventLevel=&quot;WARN&quot;\r\n                dsn=&quot;${sys:sentry.dsn}&quot;/&gt;\r\n\r\nThis works for elastic beanstalk as we can pass configurations in as system properties using the UI configuration.\r\n\r\nIn kubernetes, these are now passed in as environment variables requiring the following configuration\r\n\r\n\t\t&lt;Sentry name=&quot;Sentry&quot;\r\n                minimumBreadcrumbLevel=&quot;DEBUG&quot;\r\n                minimumEventLevel=&quot;WARN&quot;\r\n                dsn=&quot;${env:sentry.dsn}&quot;/&gt;\r\n\r\nI&#39;d like both options to work as we go through the transition process. \r\n\r\nMy question is, how do I pass environment variables in Kubernetes and have them show up as system properties.\r\n\r\n\r\n","title":"Java log4j check sys or env in properties for migration from elastic beanstalk to Kubernetes","body":"<p>Our team is migrating from elastic beanstalk to kubernetes.</p>\n<p>We have log4j configuration and have the below configuration for logging to sentry.</p>\n<p>In our config, we use this setup for elastic beanstalk</p>\n<pre><code>    &lt;Sentry name=&quot;Sentry&quot;\n            minimumBreadcrumbLevel=&quot;DEBUG&quot;\n            minimumEventLevel=&quot;WARN&quot;\n            dsn=&quot;${sys:sentry.dsn}&quot;/&gt;\n</code></pre>\n<p>This works for elastic beanstalk as we can pass configurations in as system properties using the UI configuration.</p>\n<p>In kubernetes, these are now passed in as environment variables requiring the following configuration</p>\n<pre><code>    &lt;Sentry name=&quot;Sentry&quot;\n            minimumBreadcrumbLevel=&quot;DEBUG&quot;\n            minimumEventLevel=&quot;WARN&quot;\n            dsn=&quot;${env:sentry.dsn}&quot;/&gt;\n</code></pre>\n<p>I'd like both options to work as we go through the transition process.</p>\n<p>My question is, how do I pass environment variables in Kubernetes and have them show up as system properties.</p>\n"},{"tags":["java","memory","garbage-collection"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1680035404,"post_id":75870772,"comment_id":133827700,"body_markdown":"What makes you think that minor GCs take more time than major GCs?","body":"What makes you think that minor GCs take more time than major GCs?"},{"owner":{"account_id":28151516,"reputation":33,"user_id":21512972,"display_name":"Alevinevich"},"score":0,"creation_date":1680108074,"post_id":75870772,"comment_id":133842740,"body_markdown":"@louis-wasserman typo, fixed","body":"@louis-wasserman typo, fixed"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680036046,"creation_date":1680036046,"answer_id":75870877,"question_id":75870772,"body_markdown":"I am assuming you have a typo and you are asking why minor GCs would be faster than major GCs.\r\n\r\n&gt; Minor GC can&#39;t traverse objects only young generation objects, because what if object is referenced by an object from an old gen. I that case we won&#39;t be able to know that is being referenced without traversing ALL objects.\r\n\r\nhttp://abiasforaction.net/understanding-jvm-garbage-collection-part-3/ is a pretty good source here, but to summarize: it is a good heuristic (called the weak generational hypothesis) that there are very _few_ references from the old gen to the new gen.  (To have a reference from the old gen to the new gen, you have to modify an existing object; you can&#39;t just create new objects, or they would be in the new gen.)\r\n\r\nGiven that heuristic, the JVM can maintain a data structure which allows it to _narrow down_ how much of the old generation it has to traverse, usually by a significant amount.  This can be done simply by having every change to a reference in an old gen object update some data structure.  This is where the savings come in; minor GCs only have to traverse those old gen objects that have had one of their references (e.g. an object field) updated to point to a young object.","title":"Why does major GC take considerably more time than minor GC in Java?","body":"<p>I am assuming you have a typo and you are asking why minor GCs would be faster than major GCs.</p>\n<blockquote>\n<p>Minor GC can't traverse objects only young generation objects, because what if object is referenced by an object from an old gen. I that case we won't be able to know that is being referenced without traversing ALL objects.</p>\n</blockquote>\n<p><a href=\"http://abiasforaction.net/understanding-jvm-garbage-collection-part-3/\" rel=\"nofollow noreferrer\">http://abiasforaction.net/understanding-jvm-garbage-collection-part-3/</a> is a pretty good source here, but to summarize: it is a good heuristic (called the weak generational hypothesis) that there are very <em>few</em> references from the old gen to the new gen.  (To have a reference from the old gen to the new gen, you have to modify an existing object; you can't just create new objects, or they would be in the new gen.)</p>\n<p>Given that heuristic, the JVM can maintain a data structure which allows it to <em>narrow down</em> how much of the old generation it has to traverse, usually by a significant amount.  This can be done simply by having every change to a reference in an old gen object update some data structure.  This is where the savings come in; minor GCs only have to traverse those old gen objects that have had one of their references (e.g. an object field) updated to point to a young object.</p>\n"}],"owner":{"account_id":28151516,"reputation":33,"user_id":21512972,"display_name":"Alevinevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75870877,"answer_count":1,"score":1,"last_activity_date":1680108045,"creation_date":1680035249,"question_id":75870772,"body_markdown":"Generally, GC in Java works by traversing object graph from Garbage Collection Roots.\r\n\r\nSo why does Major GC takes considerably more time than Minor GC?\r\nThey both have to trigger stop-the-world event. \r\nThey they both have to traverse whole object graph. Minor GC can&#39;t traverse only young generation objects, because what if the object is referenced by an object from an old gen? In that case we won&#39;t be able to know that is being referenced without traversing ALL objects. \r\n\r\nOr is it only because of amount of moving bytes in memory, and not because of traversing object graph? \r\nAnd then, wouldn&#39;t old gen be less likely to have dead objects than young gen, resulting in overall moving less bytes while major GC-ing, then minor GC-ing?\r\nIf so, is traversing object graph time negligible compared to moving bytes in memory, or it takes a good part of GC-ing?\r\n\r\nI couldn&#39;t find that info on the internet. Everywhere I look, they just state that it is fast, or say that it is faster because &quot;young gen in smaller&quot;. But size of generation does not really matter: we still should traverse whole object graph. Or does speed difference exist only because of moving bytes in memory?","title":"Why does major GC take considerably more time than minor GC in Java?","body":"<p>Generally, GC in Java works by traversing object graph from Garbage Collection Roots.</p>\n<p>So why does Major GC takes considerably more time than Minor GC?\nThey both have to trigger stop-the-world event.\nThey they both have to traverse whole object graph. Minor GC can't traverse only young generation objects, because what if the object is referenced by an object from an old gen? In that case we won't be able to know that is being referenced without traversing ALL objects.</p>\n<p>Or is it only because of amount of moving bytes in memory, and not because of traversing object graph?\nAnd then, wouldn't old gen be less likely to have dead objects than young gen, resulting in overall moving less bytes while major GC-ing, then minor GC-ing?\nIf so, is traversing object graph time negligible compared to moving bytes in memory, or it takes a good part of GC-ing?</p>\n<p>I couldn't find that info on the internet. Everywhere I look, they just state that it is fast, or say that it is faster because &quot;young gen in smaller&quot;. But size of generation does not really matter: we still should traverse whole object graph. Or does speed difference exist only because of moving bytes in memory?</p>\n"},{"tags":["java","zoho","insomnia"],"owner":{"account_id":27786104,"reputation":41,"user_id":21213520,"display_name":"Bikathi Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680108044,"creation_date":1680108044,"question_id":75879941,"body_markdown":"I am working on a work module for integrating our law-firms management system with Zoho WorkDrive. I am using Java for the module. I have had to go through their WorkDrive APIs but it&#39;s inconsistent and hard to understand/ follow through.\r\nMy main problem is how do I use the Zoho-oauthtoken I get when I generate the Access and refresh tokens? there is a section in their docs that says:\r\n&gt; Once your app receives the access token, send the token in your HTTP authorization header to Zoho WorkDrive API with the value &quot;Zoho-oauthtoken {access_token}&quot; for each endpoint (for each request)\r\n\r\n\r\nSo when I tried what their docs say like this(My REST client is Insomnia by the way):\r\n[![enter image description here](https://i.stack.imgur.com/WLUt6.png)](https://i.stack.imgur.com/WLUt6.png), I get a 401 Unauthorized. When i remove the *Zoho-oauthtoken* prefix, this is what happens:\r\n[![enter image description here](https://i.stack.imgur.com/ofdgr.png)](https://i.stack.imgur.com/ofdgr.png). For context, here I was trying to create a new Team Folder in my trial team in my own Zoho Account, but the problem is the same with all the other endpoints I am trying to interact with.\r\n\r\n## The Java Part\r\nIn terms of Java code, here is how I am declaring the Scopes, I just copied their examples from their docs so I know I am somewhat on the right track:\r\n\r\n```\r\nprotected static final String FILE_SCOPE = &quot;WorkDrive.files.ALL,&quot;;\r\nprotected static final String TEAM_FOLDER_SCOPE = &quot;WorkDrive.teamfolders.ALL&quot;;\r\n```\r\nThen I am using this to generate the Access and Refresh token:\r\n\r\n```\r\n/**\r\n* SOME CODE OMITTED FOR CLARITY\r\n*/\r\nfinal String CLIENT_ID = this.CLIENT_ID;\r\nfinal String CLIENT_SECRET = this.CLIENT_SECRET;\r\nfinal String SCOPE = this.FILE_SCOPE + this.TEAM_FOLDER_SCOPE;\r\nfinal String REDIRECT_URI = &quot;https://localhost:8443/clientmanager/control/successZoho&quot;;\r\n\r\n// Get the grant token from the Session context\r\nString grantToken = (String) request.getSession().getAttribute(&quot;zohoGrantToken&quot;);\r\n\r\nfinal String TOKEN_ENDPOINT = String.format(\r\n&quot;https://accounts.zoho.com/oauth/v2/token?code=%s&amp;client_secret=%s&amp;redirect_uri=%s&amp;grant_type=authorization_code&amp;client_id=%s&amp;scope=%s&quot;,\r\ngrantToken, CLIENT_SECRET, REDIRECT_URI, CLIENT_ID, SCOPE\r\n        );\r\n/**\r\n* SOME CODE OMITTED FOR CLARITY\r\n*/\r\n```\r\nI need some help getting this to work because I am on a tight schedule. Have emailed the Zoho WorkDrive support team bu they have not responded yet.Any help or suggestion would be appreciated.\r\n","title":"How is the Zoho-oauthtoken designed to be used in a HTTP request?","body":"<p>I am working on a work module for integrating our law-firms management system with Zoho WorkDrive. I am using Java for the module. I have had to go through their WorkDrive APIs but it's inconsistent and hard to understand/ follow through.\nMy main problem is how do I use the Zoho-oauthtoken I get when I generate the Access and refresh tokens? there is a section in their docs that says:</p>\n<blockquote>\n<p>Once your app receives the access token, send the token in your HTTP authorization header to Zoho WorkDrive API with the value &quot;Zoho-oauthtoken {access_token}&quot; for each endpoint (for each request)</p>\n</blockquote>\n<p>So when I tried what their docs say like this(My REST client is Insomnia by the way):\n<a href=\"https://i.stack.imgur.com/WLUt6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLUt6.png\" alt=\"enter image description here\" /></a>, I get a 401 Unauthorized. When i remove the <em>Zoho-oauthtoken</em> prefix, this is what happens:\n<a href=\"https://i.stack.imgur.com/ofdgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofdgr.png\" alt=\"enter image description here\" /></a>. For context, here I was trying to create a new Team Folder in my trial team in my own Zoho Account, but the problem is the same with all the other endpoints I am trying to interact with.</p>\n<h2>The Java Part</h2>\n<p>In terms of Java code, here is how I am declaring the Scopes, I just copied their examples from their docs so I know I am somewhat on the right track:</p>\n<pre><code>protected static final String FILE_SCOPE = &quot;WorkDrive.files.ALL,&quot;;\nprotected static final String TEAM_FOLDER_SCOPE = &quot;WorkDrive.teamfolders.ALL&quot;;\n</code></pre>\n<p>Then I am using this to generate the Access and Refresh token:</p>\n<pre><code>/**\n* SOME CODE OMITTED FOR CLARITY\n*/\nfinal String CLIENT_ID = this.CLIENT_ID;\nfinal String CLIENT_SECRET = this.CLIENT_SECRET;\nfinal String SCOPE = this.FILE_SCOPE + this.TEAM_FOLDER_SCOPE;\nfinal String REDIRECT_URI = &quot;https://localhost:8443/clientmanager/control/successZoho&quot;;\n\n// Get the grant token from the Session context\nString grantToken = (String) request.getSession().getAttribute(&quot;zohoGrantToken&quot;);\n\nfinal String TOKEN_ENDPOINT = String.format(\n&quot;https://accounts.zoho.com/oauth/v2/token?code=%s&amp;client_secret=%s&amp;redirect_uri=%s&amp;grant_type=authorization_code&amp;client_id=%s&amp;scope=%s&quot;,\ngrantToken, CLIENT_SECRET, REDIRECT_URI, CLIENT_ID, SCOPE\n        );\n/**\n* SOME CODE OMITTED FOR CLARITY\n*/\n</code></pre>\n<p>I need some help getting this to work because I am on a tight schedule. Have emailed the Zoho WorkDrive support team bu they have not responded yet.Any help or suggestion would be appreciated.</p>\n"},{"tags":["java","algorithm","sorting","data-structures","quicksort"],"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1680087774,"post_id":75876347,"comment_id":133836657,"body_markdown":"Welcome to StackOverflow! Please add the rest of the code of your class and the test code as well.","body":"Welcome to StackOverflow! Please add the rest of the code of your class and the test code as well."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":4,"creation_date":1680087981,"post_id":75876347,"comment_id":133836711,"body_markdown":"*&quot;then a couple of seconds later I get an Error which refers to a couple of lines that casued it&quot;* - you may not understand what the error is telling you, but it is important information. You need to include the full error message in your question.","body":"<i>&quot;then a couple of seconds later I get an Error which refers to a couple of lines that casued it&quot;</i> - you may not understand what the error is telling you, but it is important information. You need to include the full error message in your question."},{"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"score":0,"creation_date":1680088097,"post_id":75876347,"comment_id":133836743,"body_markdown":"Hi, I don&#39;t have access to the TEST class it is failing, I can only send it in and then I get back a result whether it has passed or not. The only error I get is why it is failing and it says &quot;Run Time error&quot;","body":"Hi, I don&#39;t have access to the TEST class it is failing, I can only send it in and then I get back a result whether it has passed or not. The only error I get is why it is failing and it says &quot;Run Time error&quot;"},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":2,"creation_date":1680088104,"post_id":75876347,"comment_id":133836746,"body_markdown":"Your choice of pivot is bad in the case where the array is already sorted. And secondarily, if there can be duplicate elements in the input array, a 3-way partition (&lt;pivot =pivot &gt;pivot) is needed to avoid quadratic runtime.","body":"Your choice of pivot is bad in the case where the array is already sorted. And secondarily, if there can be duplicate elements in the input array, a 3-way partition (&lt;pivot =pivot &gt;pivot) is needed to avoid quadratic runtime."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1680088200,"post_id":75876347,"comment_id":133836770,"body_markdown":"You have said that there is an error which refers to some lines in your code. You have not said which lines. Furthermore even if you don&#39;t have access to your teacher&#39;s test code, there is nothing stopping you from testing the code yourself to identify where the error is occurring. You need to do this in order to provide the necessary information for other people to be able to answer your question.","body":"You have said that there is an error which refers to some lines in your code. You have not said which lines. Furthermore even if you don&#39;t have access to your teacher&#39;s test code, there is nothing stopping you from testing the code yourself to identify where the error is occurring. You need to do this in order to provide the necessary information for other people to be able to answer your question."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1680088289,"post_id":75876347,"comment_id":133836794,"body_markdown":"For code for a learning assignment I would make the distinction between pivot element and pivot index more clear, e.g. by using more explicit variable names. This would not happen in a language like Rust that has usize for index position but I find it confusing that you use int for both your elements and your indices and then you have two variables named &quot;pivot&quot; where one contains an element and the other contains an index.","body":"For code for a learning assignment I would make the distinction between pivot element and pivot index more clear, e.g. by using more explicit variable names. This would not happen in a language like Rust that has usize for index position but I find it confusing that you use int for both your elements and your indices and then you have two variables named &quot;pivot&quot; where one contains an element and the other contains an index."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680088455,"post_id":75876347,"comment_id":133836830,"body_markdown":"If you want to avoid a random pivot, choose the median of a[0], a[n/2] and a[n-1].","body":"If you want to avoid a random pivot, choose the median of a[0], a[n/2] and a[n-1]."},{"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"score":0,"creation_date":1680088909,"post_id":75876347,"comment_id":133836943,"body_markdown":"@kaya3 I was replying to Konrad H&#246;ffner. I have now edited my post and you can see the error at the end. Sorry for the confusion :)","body":"@kaya3 I was replying to Konrad H&#246;ffner. I have now edited my post and you can see the error at the end. Sorry for the confusion :)"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1680089639,"post_id":75876347,"comment_id":133837092,"body_markdown":"Please post the full error, not just the first line. In this case it probably doesn&#39;t contain any more information but it is good to be sure. I suspect, as other commenters have suggested, that both the stack overflow error and the performance problems are caused by the choice of pivot.","body":"Please post the full error, not just the first line. In this case it probably doesn&#39;t contain any more information but it is good to be sure. I suspect, as other commenters have suggested, that both the stack overflow error and the performance problems are caused by the choice of pivot."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680089885,"post_id":75876347,"comment_id":133837150,"body_markdown":"Look at this:  https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot.  It explains what happens when you make a poor choice of pivot, and what to do about it.  And in Java, the pathological behavior *manifests* as a stack overflow for a large enough input list.","body":"Look at this:  <a href=\"https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Quicksort#Choice_of_pivot</a>.  It explains what happens when you make a poor choice of pivot, and what to do about it.  And in Java, the pathological behavior <i>manifests</i> as a stack overflow for a large enough input list."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1680091586,"post_id":75876347,"comment_id":133837603,"body_markdown":"&quot;I don&#39;t have access to the TEST class it is failing&quot; Well, then the first thing to do is write yourself a test suite!","body":"&quot;I don&#39;t have access to the TEST class it is failing&quot; Well, then the first thing to do is write yourself a test suite!"}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680107772,"creation_date":1680107772,"answer_id":75879911,"question_id":75876347,"body_markdown":"To handle already sorted or reverse sorted data:\r\n\r\n```java\r\n    public int partition(int [] array,  int first, int last){\r\n        int middle = (first+last)/2;    // use middle element for pivot\r\n        swap(array, middle, last);\r\n        int pivot = array[last];\r\n        int i = first - 1;\r\n        \r\n        for (int j = first; j &lt; last; j++){\r\n            if (array[j]&lt;= pivot){\r\n                i++;\r\n                swap(array, i, j);\r\n        \r\n            }\r\n        } \r\n        swap(array, i+1, last);\r\n        return i+1;\r\n    }\r\n```\r\n\r\nStack usage can be reduced to O(log2(n)) by recursing on smaller partition, looping for larger partition. Worst case time complexity is still O(n^2).\r\n\r\n```java\r\n     \r\n    private void quickSort(int [] array, int first, int last){\r\n        while (first  &lt; last){\r\n            int pivot = partition(array, first, last);\r\n            if((pivot - first) &lt;= (last - pivot){\r\n                quickSort(array, first, pivot - 1);\r\n                first = pivot + 1;\r\n            } else {\r\n                quickSort(array, pivot + 1, last);\r\n                last = pivot - 1;\r\n        }\r\n    }\r\n```\r\n\r\nIf there are a lot of duplicates, then Lomuto degrades towards worst case, while Hoare improves towards best case. Example code (the names will need to be changed):\r\n\r\n```java\r\n\r\n    @SuppressWarnings(&quot;empty-statement&quot;)\r\n    public int partition(int[] a, int lo, int hi)\r\n    {\r\n        if(lo &gt;= hi)\r\n            return;\r\n        int p = a[lo+(hi-lo)/2];\r\n        int i = lo-1;\r\n        int j = hi+1;\r\n        int t;\r\n        while(true){                // partition\r\n            while(a[++i] &lt; p);\r\n            while(a[--j] &gt; p);\r\n            if(i &gt;= j)\r\n                break;\r\n            t     = a[i];\r\n            a[i] = a[j];\r\n            a[j] = t;\r\n        }\r\n        return j;\r\n    }\r\n\r\n    private void quickSort(int [] array, int first, int last){\r\n        while (first  &lt; last){\r\n            int split = partition(array, first, last);\r\n            if((split - first) &lt;= (last - split){\r\n                quickSort(array, first, split);\r\n                first = split + 1;\r\n            } else {\r\n                quickSort(array, split + 1, last);\r\n                last = split;\r\n        }\r\n    }\r\n\r\n```\r\n","title":"My quicksort algorithm is very slow so what can I do to make it faster?","body":"<p>To handle already sorted or reverse sorted data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int partition(int [] array,  int first, int last){\n        int middle = (first+last)/2;    // use middle element for pivot\n        swap(array, middle, last);\n        int pivot = array[last];\n        int i = first - 1;\n        \n        for (int j = first; j &lt; last; j++){\n            if (array[j]&lt;= pivot){\n                i++;\n                swap(array, i, j);\n        \n            }\n        } \n        swap(array, i+1, last);\n        return i+1;\n    }\n</code></pre>\n<p>Stack usage can be reduced to O(log2(n)) by recursing on smaller partition, looping for larger partition. Worst case time complexity is still O(n^2).</p>\n<pre class=\"lang-java prettyprint-override\"><code>     \n    private void quickSort(int [] array, int first, int last){\n        while (first  &lt; last){\n            int pivot = partition(array, first, last);\n            if((pivot - first) &lt;= (last - pivot){\n                quickSort(array, first, pivot - 1);\n                first = pivot + 1;\n            } else {\n                quickSort(array, pivot + 1, last);\n                last = pivot - 1;\n        }\n    }\n</code></pre>\n<p>If there are a lot of duplicates, then Lomuto degrades towards worst case, while Hoare improves towards best case. Example code (the names will need to be changed):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @SuppressWarnings(&quot;empty-statement&quot;)\n    public int partition(int[] a, int lo, int hi)\n    {\n        if(lo &gt;= hi)\n            return;\n        int p = a[lo+(hi-lo)/2];\n        int i = lo-1;\n        int j = hi+1;\n        int t;\n        while(true){                // partition\n            while(a[++i] &lt; p);\n            while(a[--j] &gt; p);\n            if(i &gt;= j)\n                break;\n            t     = a[i];\n            a[i] = a[j];\n            a[j] = t;\n        }\n        return j;\n    }\n\n    private void quickSort(int [] array, int first, int last){\n        while (first  &lt; last){\n            int split = partition(array, first, last);\n            if((split - first) &lt;= (last - split){\n                quickSort(array, first, split);\n                first = split + 1;\n            } else {\n                quickSort(array, split + 1, last);\n                last = split;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75879911,"answer_count":1,"score":-1,"last_activity_date":1680107772,"creation_date":1680087652,"question_id":75876347,"body_markdown":"\r\nAs you can see, this quicksort algorithm looks fine and it does work. The problem is it is very slow (according to a teacher), and a problem I&#39;m facing is that this algorithm doesn&#39;t work for data size larger than 100000. \r\n\r\nI think I am getting a stack overflow error\r\nbecause of the recursive calls. When I make it print the sorted array of size 100k or laregr it does print the array and then a couple of seconds later I get an Error which refers to a couple of lines that casued it. In some cases while printing the array it stops and gives the same errors. So this got me wondering why the recursive calls keep on calling even after the *if statement (condition)* is fulfilled? Or did I misunderstand that, in that case what is causing it to give me an error after perfectly printing the sorted array? \r\n\r\nAll in all how do I make this algorithm faster\r\n(according to a test class, this algorithm is not fast enough)? What is causing it to be slow that you guys can see here? I have made some changes myself but nothing that fixed it. And btw I have another algorithm class for random pivots so don&#39;t suggest that since this is specifically for fixed pivots.\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class QuicksortFixedPivot{    \r\n       \r\n    public int partition(int [] array,  int first, int last){\r\n        int pivot = array[last];\r\n        int i = first - 1;\r\n        \r\n        for (int j = first; j &lt; last; j++){\r\n            if (array[j]&lt;= pivot){\r\n                i++;\r\n                swap(array, i, j);\r\n        \r\n            }\r\n        } \r\n        swap(array, i+1, last);\r\n        return i+1;\r\n    }\r\n        \r\n    private void quickSort(int [] array, int first, int last){\r\n        if (first  &lt; last){\r\n            int pivot = partition(array, first, last);\r\n            quickSort(array, first, pivot - 1);\r\n            quickSort(array, pivot + 1, last);\r\n        }\r\n    }\r\n\r\n    public void swap(int[] arr, int i, int j) {\r\n        int temp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = temp;\r\n        }\r\n\r\n    public void sort(int [] v){\r\n        quickSort(v, 0, v.length - 1);\r\n    }\r\n\r\n}\r\n```\r\nEdit:\r\nException in thread &quot;main&quot; java.lang.StackOverflowError.\r\nLine 38 &amp; 39 are the lines where quicksort method is recursively called.\r\n","title":"My quicksort algorithm is very slow so what can I do to make it faster?","body":"<p>As you can see, this quicksort algorithm looks fine and it does work. The problem is it is very slow (according to a teacher), and a problem I'm facing is that this algorithm doesn't work for data size larger than 100000.</p>\n<p>I think I am getting a stack overflow error\nbecause of the recursive calls. When I make it print the sorted array of size 100k or laregr it does print the array and then a couple of seconds later I get an Error which refers to a couple of lines that casued it. In some cases while printing the array it stops and gives the same errors. So this got me wondering why the recursive calls keep on calling even after the <em>if statement (condition)</em> is fulfilled? Or did I misunderstand that, in that case what is causing it to give me an error after perfectly printing the sorted array?</p>\n<p>All in all how do I make this algorithm faster\n(according to a test class, this algorithm is not fast enough)? What is causing it to be slow that you guys can see here? I have made some changes myself but nothing that fixed it. And btw I have another algorithm class for random pivots so don't suggest that since this is specifically for fixed pivots.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class QuicksortFixedPivot{    \n       \n    public int partition(int [] array,  int first, int last){\n        int pivot = array[last];\n        int i = first - 1;\n        \n        for (int j = first; j &lt; last; j++){\n            if (array[j]&lt;= pivot){\n                i++;\n                swap(array, i, j);\n        \n            }\n        } \n        swap(array, i+1, last);\n        return i+1;\n    }\n        \n    private void quickSort(int [] array, int first, int last){\n        if (first  &lt; last){\n            int pivot = partition(array, first, last);\n            quickSort(array, first, pivot - 1);\n            quickSort(array, pivot + 1, last);\n        }\n    }\n\n    public void swap(int[] arr, int i, int j) {\n        int temp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = temp;\n        }\n\n    public void sort(int [] v){\n        quickSort(v, 0, v.length - 1);\n    }\n\n}\n</code></pre>\n<p>Edit:\nException in thread &quot;main&quot; java.lang.StackOverflowError.\nLine 38 &amp; 39 are the lines where quicksort method is recursively called.</p>\n"},{"tags":["java","spring","hibernate","one-to-one","many-to-one"],"answers":[{"comments":[{"owner":{"account_id":17363970,"reputation":3,"user_id":12579582,"display_name":"vahid"},"score":0,"creation_date":1680085173,"post_id":75875751,"comment_id":133836044,"body_markdown":"thank you. \nIn my jsf page in entity &#39;dev&#39; only one entry from entity &#39;com&#39; can be selected. Is there still a need to change the relationship?  \n\nThat&#39;s why I ask this question that my program is running and if I need to change the program","body":"thank you.  In my jsf page in entity &#39;dev&#39; only one entry from entity &#39;com&#39; can be selected. Is there still a need to change the relationship?    That&#39;s why I ask this question that my program is running and if I need to change the program"},{"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"score":0,"creation_date":1680103181,"post_id":75875751,"comment_id":133841361,"body_markdown":"If you have two dev rows, can you select the same com row?\nIf yes, keep the ManyToOne Annotation.\nIf it is not possible in the database, change it to OneToOne.","body":"If you have two dev rows, can you select the same com row? If yes, keep the ManyToOne Annotation. If it is not possible in the database, change it to OneToOne."},{"owner":{"account_id":17363970,"reputation":3,"user_id":12579582,"display_name":"vahid"},"score":0,"creation_date":1680244842,"post_id":75875751,"comment_id":133868526,"body_markdown":"I checked in the dev table and saw how many dev rows can have the same S_COM_ID.    so we can say that a many-to-one relationship is the same as a one-to-one in the database?","body":"I checked in the dev table and saw how many dev rows can have the same S_COM_ID.    so we can say that a many-to-one relationship is the same as a one-to-one in the database?"},{"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"score":0,"creation_date":1680315054,"post_id":75875751,"comment_id":133882482,"body_markdown":"In a true one to one relationship in a proper (normalized) database, a one to one relationship ensures, that it is impossible (even with manual db queries) to make a mistake and break the one to one relationship. This could be achived by having the primary key of dev = primary key of com.","body":"In a true one to one relationship in a proper (normalized) database, a one to one relationship ensures, that it is impossible (even with manual db queries) to make a mistake and break the one to one relationship. This could be achived by having the primary key of dev = primary key of com."},{"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"score":0,"creation_date":1680315089,"post_id":75875751,"comment_id":133882487,"body_markdown":"In a Many to one relationship, that strong garuantee is not given.\nImagine that the S_COM_ID is stored as a integer. What is stopping you from doing a manual query and breaking the one to one relationship?","body":"In a Many to one relationship, that strong garuantee is not given. Imagine that the S_COM_ID is stored as a integer. What is stopping you from doing a manual query and breaking the one to one relationship?"},{"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"score":0,"creation_date":1680315244,"post_id":75875751,"comment_id":133882511,"body_markdown":"Database normalization basically means, that it is impossible with the relationships given to create a conflicting state.","body":"Database normalization basically means, that it is impossible with the relationships given to create a conflicting state."}],"tags":[],"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680107296,"creation_date":1680084112,"answer_id":75875751,"question_id":75875318,"body_markdown":"Just looking at the Java code provides me with no information about how the Database is set up.\r\n\r\nAssuming the database is set up in the following way:\r\n- You have a table `Dev` with the columns `id` and `S_COM_ID`\r\n- You have a table `COM` with the columns `id` and `name`\r\n\r\nTechnically from a database standpoint multiple entries in `Dev` can reference a id in `Com`. Nothing in the database prevents them from doing so. \r\n\r\nIf you expect this, then I would suggest not changing the `ManyToOne` annotation, because in code and database it can happen, that multiple instances of the java class `dev` will result in the same (read `==`, not `Object.equals`) java `com` object.\r\n\r\nIf you do not expect this, then I would suggest changing your database structure to make it impossible for multiple entries in the `Dev` table to reference a single `Com` entry. The only way I would know to achieve this is to just move the `name` column from the `Com` table into the `Dev` table.","title":"Change the relationship from @ManyToOne to @OneToOne","body":"<p>Just looking at the Java code provides me with no information about how the Database is set up.</p>\n<p>Assuming the database is set up in the following way:</p>\n<ul>\n<li>You have a table <code>Dev</code> with the columns <code>id</code> and <code>S_COM_ID</code></li>\n<li>You have a table <code>COM</code> with the columns <code>id</code> and <code>name</code></li>\n</ul>\n<p>Technically from a database standpoint multiple entries in <code>Dev</code> can reference a id in <code>Com</code>. Nothing in the database prevents them from doing so.</p>\n<p>If you expect this, then I would suggest not changing the <code>ManyToOne</code> annotation, because in code and database it can happen, that multiple instances of the java class <code>dev</code> will result in the same (read <code>==</code>, not <code>Object.equals</code>) java <code>com</code> object.</p>\n<p>If you do not expect this, then I would suggest changing your database structure to make it impossible for multiple entries in the <code>Dev</code> table to reference a single <code>Com</code> entry. The only way I would know to achieve this is to just move the <code>name</code> column from the <code>Com</code> table into the <code>Dev</code> table.</p>\n"}],"owner":{"account_id":17363970,"reputation":3,"user_id":12579582,"display_name":"vahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75875751,"answer_count":1,"score":0,"last_activity_date":1680107296,"creation_date":1680081574,"question_id":75875318,"body_markdown":"Is there a need to change the relationship from @ManyToOne to @OneToOne?\r\n\r\nI mistakenly defined relation @ManyToOne instead of relation @OneToOne in my code\r\n\r\n\r\nMy classes in brief :\r\n\r\n\r\nClass dev:\r\n\r\n```\r\n.\r\n.\r\nprivate long id;\r\nprivate Com com;\r\n.\r\n.\r\n@ManyToOne\r\n@JoinColumn(name=&quot;S_COM_ID&quot;)\r\nPublic Com getCom(){\r\nreturn com;}\r\n.\r\n.\r\n```\r\n\r\nclass com:\r\n\r\n```\r\nprivate long id;\r\nprivate String name;\r\n.\r\n```\r\n\r\nAfter checking the database, I understood that the information is registered correctly. Do I need to change the relationship to  @OneToOne or not?","title":"Change the relationship from @ManyToOne to @OneToOne","body":"<p>Is there a need to change the relationship from @ManyToOne to @OneToOne?</p>\n<p>I mistakenly defined relation @ManyToOne instead of relation @OneToOne in my code</p>\n<p>My classes in brief :</p>\n<p>Class dev:</p>\n<pre><code>.\n.\nprivate long id;\nprivate Com com;\n.\n.\n@ManyToOne\n@JoinColumn(name=&quot;S_COM_ID&quot;)\nPublic Com getCom(){\nreturn com;}\n.\n.\n</code></pre>\n<p>class com:</p>\n<pre><code>private long id;\nprivate String name;\n.\n</code></pre>\n<p>After checking the database, I understood that the information is registered correctly. Do I need to change the relationship to  @OneToOne or not?</p>\n"},{"tags":["java","spring","spring-boot","esapi"],"answers":[{"comments":[{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1680107026,"post_id":75879722,"comment_id":133842489,"body_markdown":"Can you please help me to know what workaround should I need to do to make it work with spring boot 3. also, is there any alternative available that I can use instead of ESAPI?  Thank you @zawarudo","body":"Can you please help me to know what workaround should I need to do to make it work with spring boot 3. also, is there any alternative available that I can use instead of ESAPI?  Thank you @zawarudo"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680109573,"post_id":75879722,"comment_id":133843107,"body_markdown":"It is explained in the link that I provided\nhttps://github.com/ESAPI/esapi-java-legacy/discussions/768","body":"It is explained in the link that I provided <a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/discussions/768</a>"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1680182050,"post_id":75879722,"comment_id":133857073,"body_markdown":"There is an alternative to the ESAPI Encoder, namely the OWASP Java Encoder project, but not, as far as I know, for ESAPI&#39;s HTTPUtilities. In the referenced GitHub discussions link, Jeff Williams (aka, planetlevel) mentions trying the Maven Shade plugin. I would suggest giving that approach a try.","body":"There is an alternative to the ESAPI Encoder, namely the OWASP Java Encoder project, but not, as far as I know, for ESAPI&#39;s HTTPUtilities. In the referenced GitHub discussions link, Jeff Williams (aka, planetlevel) mentions trying the Maven Shade plugin. I would suggest giving that approach a try."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680106816,"creation_date":1680106452,"answer_id":75879722,"question_id":75879096,"body_markdown":"They are not planning to move to Jakarta packages, but there is a workaround if you want to get it to work with Spring 6.\r\n\r\n[Quote][1]:\r\n\r\n&gt; ### Special note regarding Spring Boot 3, Spring 6, Tomcat 10 and other applications / libraries requiring Jakarta EE\r\n&gt; **IMPORTANT:** We are aware that all versions of ESAPI (unless you are using very select parts) do not work with Jakarta EE. Jakarta EE relies on **jakarta.servlet-api**. ESAPI is built to use **javax.servlet-api**. This causes things like Spring Boot 3, Spring 6, Tomcat 10, the latest version of Jetty, etc. to fail to load certain (well, many) ESAPI classes. The reason for this is that the package names between these 2 libraryes are different! The dependency **javax.servlet-api** has a package namespace of `javax.servlet`. The **jakarta.servlet-api** library is using the package namespace of `jakarta.servlet`. So references to things like `ServletRequest`, `ServletResponse`, etc. in ESAPI are using `javax.servlet.ServletRequest` and `javax.servlet.ServletResponse` respectively. We cannot make it work for both at once and we will not stop supporting **javax.servlet-api**, which is what most of our existing ESAPI clients are using.\r\n&gt;\r\n&gt; Therefore **PLEASE STOP** sending us emails and/or creating GitHub issues regarding this! Instead, please read ongoing the GitHub discussion [#768][2] for further details.\r\n\r\nhttps://github.com/ESAPI/esapi-java-legacy/discussions/768\r\n\r\n\r\n  [1]: https://github.com/ESAPI/esapi-java-legacy/blob/develop/README.md\r\n  [2]: https://github.com/ESAPI/esapi-java-legacy/discussions/768","title":"Migrating from java8 to java 17 with spring boot 3 causing ESAPI issues","body":"<p>They are not planning to move to Jakarta packages, but there is a workaround if you want to get it to work with Spring 6.</p>\n<p><a href=\"https://github.com/ESAPI/esapi-java-legacy/blob/develop/README.md\" rel=\"nofollow noreferrer\">Quote</a>:</p>\n<blockquote>\n<h3>Special note regarding Spring Boot 3, Spring 6, Tomcat 10 and other applications / libraries requiring Jakarta EE</h3>\n<p><strong>IMPORTANT:</strong> We are aware that all versions of ESAPI (unless you are using very select parts) do not work with Jakarta EE. Jakarta EE relies on <strong>jakarta.servlet-api</strong>. ESAPI is built to use <strong>javax.servlet-api</strong>. This causes things like Spring Boot 3, Spring 6, Tomcat 10, the latest version of Jetty, etc. to fail to load certain (well, many) ESAPI classes. The reason for this is that the package names between these 2 libraryes are different! The dependency <strong>javax.servlet-api</strong> has a package namespace of <code>javax.servlet</code>. The <strong>jakarta.servlet-api</strong> library is using the package namespace of <code>jakarta.servlet</code>. So references to things like <code>ServletRequest</code>, <code>ServletResponse</code>, etc. in ESAPI are using <code>javax.servlet.ServletRequest</code> and <code>javax.servlet.ServletResponse</code> respectively. We cannot make it work for both at once and we will not stop supporting <strong>javax.servlet-api</strong>, which is what most of our existing ESAPI clients are using.</p>\n<p>Therefore <strong>PLEASE STOP</strong> sending us emails and/or creating GitHub issues regarding this! Instead, please read ongoing the GitHub discussion <a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">#768</a> for further details.</p>\n</blockquote>\n<p><a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/discussions/768</a></p>\n"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680106816,"creation_date":1680102718,"question_id":75879096,"body_markdown":"I have migrated from java 8 to java 17 and spring boot to 3.0.4. I have jwt security protection in my code that uses jwtRequestFilter class as shown below\r\n\r\n \r\n\r\n    public class JwtRequestFilter extends OncePerRequestFilter \r\n\r\nwhich overrides the following method\r\n\r\n     @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\r\n\r\n\r\nin this method im using  esapi httpUtilities to add a header as below\r\n\r\n     ESAPI.httpUtilities().addHeader(HttpServletResponse response, String name, String value);\r\n\r\nbut its throwing the following compilation error \r\n\r\n    The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required type org.owasp.esapi.ESAPI\r\n\r\nsince with spring boot 3.x javax.servlet.http.HttpServletResponse; is not supported im using jakarta.servlet.http.HttpServletResponse; but  ESAPI internally using javax.servlet.http.HttpServletResponse; so im getting that exception. \r\n\r\nPlease let mw know if Is there any other way that I can configure to make my code work?  \r\n\r\n\r\n\r\n","title":"Migrating from java8 to java 17 with spring boot 3 causing ESAPI issues","body":"<p>I have migrated from java 8 to java 17 and spring boot to 3.0.4. I have jwt security protection in my code that uses jwtRequestFilter class as shown below</p>\n<pre><code>public class JwtRequestFilter extends OncePerRequestFilter \n</code></pre>\n<p>which overrides the following method</p>\n<pre><code> @Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\n</code></pre>\n<p>in this method im using  esapi httpUtilities to add a header as below</p>\n<pre><code> ESAPI.httpUtilities().addHeader(HttpServletResponse response, String name, String value);\n</code></pre>\n<p>but its throwing the following compilation error</p>\n<pre><code>The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required type org.owasp.esapi.ESAPI\n</code></pre>\n<p>since with spring boot 3.x javax.servlet.http.HttpServletResponse; is not supported im using jakarta.servlet.http.HttpServletResponse; but  ESAPI internally using javax.servlet.http.HttpServletResponse; so im getting that exception.</p>\n<p>Please let mw know if Is there any other way that I can configure to make my code work?</p>\n"},{"tags":["java","java-me","mobile","mobile-phones","nokia"],"comments":[{"owner":{"account_id":15179,"reputation":7612,"user_id":31791,"accept_rate":70,"display_name":"netadictos"},"score":0,"creation_date":1309175092,"post_id":3422320,"comment_id":7634201,"body_markdown":"Nowadays, Zxing has improved and I am very glad about the results. Zxing is great!!","body":"Nowadays, Zxing has improved and I am very glad about the results. Zxing is great!!"}],"answers":[{"comments":[{"owner":{"account_id":15179,"reputation":7612,"user_id":31791,"accept_rate":70,"display_name":"netadictos"},"score":0,"creation_date":1282547040,"post_id":3522032,"comment_id":3712915,"body_markdown":"You cannot use the JNI with J2ME, which means you cannot load libraries written in other languages. The wrapper in Java is based on this. Thx.","body":"You cannot use the JNI with J2ME, which means you cannot load libraries written in other languages. The wrapper in Java is based on this. Thx."}],"tags":[],"owner":{"account_id":186533,"reputation":1078,"user_id":423993,"display_name":"Ermiar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282223068,"creation_date":1282223068,"answer_id":3522032,"question_id":3422320,"body_markdown":"I did some research on the subject and it&#39;s very difficult to find libraries that decode Datamatrix.\r\n\r\nMaybe you&#39;ll find this library interesting : [libdmtx][1], it is written in C but you have a Java wrapper (informations on the [libdmtx wiki][2]).\r\n\r\nI know that is not J2ME like you want but maybe you can find a way to create a J2ME wrapper with that or the Java wrapper could work with a J2ME project.\r\n\r\nHope this helps ! \r\n\r\n\r\n  [1]: http://www.libdmtx.org/\r\n  [2]: http://libdmtx.wikidot.com/","title":"I need a J2me datamatrix decoder library that is not Zxing","body":"<p>I did some research on the subject and it's very difficult to find libraries that decode Datamatrix.</p>\n\n<p>Maybe you'll find this library interesting : <a href=\"http://www.libdmtx.org/\" rel=\"nofollow noreferrer\">libdmtx</a>, it is written in C but you have a Java wrapper (informations on the <a href=\"http://libdmtx.wikidot.com/\" rel=\"nofollow noreferrer\">libdmtx wiki</a>).</p>\n\n<p>I know that is not J2ME like you want but maybe you can find a way to create a J2ME wrapper with that or the Java wrapper could work with a J2ME project.</p>\n\n<p>Hope this helps ! </p>\n"}],"owner":{"account_id":15179,"reputation":7612,"user_id":31791,"accept_rate":70,"display_name":"netadictos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1680175164,"answer_count":1,"score":2,"last_activity_date":1680105297,"creation_date":1281085207,"question_id":3422320,"body_markdown":"I am writing an application that uses Zxing datamatrix decoder. It is OK for QR but not for datamatrix. It only decodes it if it is code-generated, absolutely clean. But if it is a captured-by-camera image it does not work well.\r\n\r\nIs there an alternative to this library (for J2me)?","title":"I need a J2me datamatrix decoder library that is not Zxing","body":"<p>I am writing an application that uses Zxing datamatrix decoder. It is OK for QR but not for datamatrix. It only decodes it if it is code-generated, absolutely clean. But if it is a captured-by-camera image it does not work well.</p>\n<p>Is there an alternative to this library (for J2me)?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","api"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680027535,"post_id":75869475,"comment_id":133825932,"body_markdown":"What library are you using to provide json api? `spring-data-rest`?","body":"What library are you using to provide json api? <code>spring-data-rest</code>?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680036379,"post_id":75869475,"comment_id":133827891,"body_markdown":"spring data jpa","body":"spring data jpa"},{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680049238,"post_id":75869475,"comment_id":133829798,"body_markdown":"`spring-data-jpa` provides only interfaces but not json api. As I see in stracktrace there is a custom controller (`OrderController`). And your problem in deserialization from json in `updateOrder` method.","body":"<code>spring-data-jpa</code> provides only interfaces but not json api. As I see in stracktrace there is a custom controller (<code>OrderController</code>). And your problem in deserialization from json in <code>updateOrder</code> method."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680109126,"post_id":75869475,"comment_id":133843002,"body_markdown":"I added the controller","body":"I added the controller"},{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680118712,"post_id":75869475,"comment_id":133845348,"body_markdown":"You should load products from db: `orderModel.setProducts(orderDto.getProducts().stream().map(t -&gt; productService.getOne(t.getProduct_id())).collect(Collectors::toList));`","body":"You should load products from db: <code>orderModel.setProducts(orderDto.getProducts().stream().map(t -&gt; productService.getOne(t.getProduct_id())).collect(Collectors&zwnj;&#8203;::toList));</code>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680193064,"post_id":75869475,"comment_id":133860391,"body_markdown":"in put controller?","body":"in put controller?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680105063,"creation_date":1680025651,"question_id":75869475,"body_markdown":"I have a spring boot api in which I have an order crud, which references a products model, as you can see\r\n\r\norderModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;ORDERS&quot;)\r\npublic class OrderModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID order_id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private CustomerModel customer;\r\n    @OneToMany(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ProductModel&gt; products;\r\n    @Column(nullable = false, length = 80)\r\n    private Float totalAmount;\r\n\r\n    public UUID getOrder_id() {\r\n        return order_id;\r\n    }\r\n\r\n    public void setOrder_id(UUID order_id) {\r\n        this.order_id = order_id;\r\n    }\r\n\r\n    public CustomerModel getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public void setCustomer(CustomerModel customer) {\r\n        this.customer = customer;\r\n    }\r\n\r\n    public List&lt;ProductModel&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;ProductModel&gt; products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public Float getTotalAmount() {\r\n        return totalAmount;\r\n    }\r\n\r\n    public void setTotalAmount(Float totalAmount) {\r\n        this.totalAmount = totalAmount;\r\n    }\r\n}\r\n\r\n```\r\n\r\nproductModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCTS&quot;)\r\npublic class ProductModel {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID product_id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String product;\r\n    @Column(nullable = true, length = 200)\r\n    private String image_url;\r\n    @Column(nullable = true, length = 80)\r\n    private String brand;\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n    @Column(nullable = true, length = 80)\r\n    private Float price;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private Float extraPrice;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Integer stock;\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private CategoryModel productCategory;\r\n\r\n    public UUID getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(UUID product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getImage_url() {\r\n        return image_url;\r\n    }\r\n\r\n    public void setImage_url(String image_url) {\r\n        this.image_url = image_url;\r\n    }\r\n\r\n    public String getBrand() {\r\n        return brand;\r\n    }\r\n\r\n    public void setBrand(String brand) {\r\n        this.brand = brand;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryModel getProductCategory() {\r\n        return productCategory;\r\n    }\r\n\r\n    public void setProductCategory(CategoryModel productCategory) {\r\n        this.productCategory = productCategory;\r\n    }\r\n\r\n    public Float getExtraPrice() {\r\n        return extraPrice;\r\n    }\r\n\r\n    public void setExtraPrice(Float extraPrice) {\r\n        this.extraPrice = extraPrice;\r\n    }\r\n}\r\n\r\n```\r\n\r\nTesting my crud, all methods are working correctly except put, which returns the error:\r\n\r\n```\r\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;product&quot; of relation &quot;products&quot; violates not-null constraint\r\n  Detail: Failing row contains (47b0a1ff-71e7-4b08-a243-9cf01ff55af7, null, null, null, null, null, null, null, null, 96c0ceee-7637-4eba-aec0-f8c77ab5c9a3).\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3617) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3486) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3921) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:164) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]\r\n\tat com.api.business_manager_api.Services.OrderService.save(OrderService.java:22) ~[classes/:na]\r\n\tat com.api.business_manager_api.Controllers.OrderController.updateOrder(OrderController.java:80) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:734) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:37) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\n\r\nBasically my product sent in put is being recognized as null, even though I&#39;m making a request like this:\r\n\r\n\r\n ```\r\n{\r\n    &quot;customer&quot;: {\r\n    &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;\r\n    },\r\n    &quot;products&quot;: [{\r\n        &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;\r\n\r\n    }],\r\n    &quot;totalAmount&quot;: 5100\r\n}\r\n```\r\n\r\nI&#39;ve also tried sending the order_id over the product_id, but without success. I would like to know how can I resolve this\r\n\r\nupdate:\r\n\r\norderController:\r\n\r\n```\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateOrder (@PathVariable(value = &quot;id&quot;) UUID id,\r\n                                                  @RequestBody @Valid OrderDto orderDto) {\r\n        Optional&lt;OrderModel&gt; orderModelOptional  = orderService.findById(id);\r\n        if (!orderModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Order not found!&quot;);\r\n        }\r\n        OrderModel orderModel = orderModelOptional.get();\r\n        orderModel.setProducts(orderDto.getProducts());\r\n        orderModel.setCustomer(orderDto.getCustomer());\r\n        orderModel.setTotalAmount(orderDto.getTotalAmount());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(orderService.save(orderModel));\r\n    }\r\n\r\n```","title":"Problem with object put in crud (spring boot) (postgresql)","body":"<p>I have a spring boot api in which I have an order crud, which references a products model, as you can see</p>\n<p>orderModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport jakarta.persistence.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;ORDERS&quot;)\npublic class OrderModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID order_id;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private CustomerModel customer;\n    @OneToMany(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ProductModel&gt; products;\n    @Column(nullable = false, length = 80)\n    private Float totalAmount;\n\n    public UUID getOrder_id() {\n        return order_id;\n    }\n\n    public void setOrder_id(UUID order_id) {\n        this.order_id = order_id;\n    }\n\n    public CustomerModel getCustomer() {\n        return customer;\n    }\n\n    public void setCustomer(CustomerModel customer) {\n        this.customer = customer;\n    }\n\n    public List&lt;ProductModel&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;ProductModel&gt; products) {\n        this.products = products;\n    }\n\n    public Float getTotalAmount() {\n        return totalAmount;\n    }\n\n    public void setTotalAmount(Float totalAmount) {\n        this.totalAmount = totalAmount;\n    }\n}\n\n</code></pre>\n<p>productModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;PRODUCTS&quot;)\npublic class ProductModel {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID product_id;\n\n    @Column(nullable = false, length = 80)\n    private String product;\n    @Column(nullable = true, length = 200)\n    private String image_url;\n    @Column(nullable = true, length = 80)\n    private String brand;\n    @Column(nullable = true, length = 80)\n    private String description;\n    @Column(nullable = true, length = 80)\n    private Float price;\n\n    @Column(nullable = true, length = 80)\n    private Float extraPrice;\n\n    @Column(nullable = false, length = 80)\n    private Integer stock;\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryModel productCategory;\n\n    public UUID getProduct_id() {\n        return product_id;\n    }\n\n    public void setProduct_id(UUID product_id) {\n        this.product_id = product_id;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getImage_url() {\n        return image_url;\n    }\n\n    public void setImage_url(String image_url) {\n        this.image_url = image_url;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryModel getProductCategory() {\n        return productCategory;\n    }\n\n    public void setProductCategory(CategoryModel productCategory) {\n        this.productCategory = productCategory;\n    }\n\n    public Float getExtraPrice() {\n        return extraPrice;\n    }\n\n    public void setExtraPrice(Float extraPrice) {\n        this.extraPrice = extraPrice;\n    }\n}\n\n</code></pre>\n<p>Testing my crud, all methods are working correctly except put, which returns the error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: null value in column &quot;product&quot; of relation &quot;products&quot; violates not-null constraint\n  Detail: Failing row contains (47b0a1ff-71e7-4b08-a243-9cf01ff55af7, null, null, null, null, null, null, null, null, 96c0ceee-7637-4eba-aec0-f8c77ab5c9a3).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3617) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3486) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3921) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:164) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\n    at jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]\n    at com.api.business_manager_api.Services.OrderService.save(OrderService.java:22) ~[classes/:na]\n    at com.api.business_manager_api.Controllers.OrderController.updateOrder(OrderController.java:80) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:734) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:37) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>Basically my product sent in put is being recognized as null, even though I'm making a request like this:</p>\n<pre><code>{\n   &quot;customer&quot;: {\n   &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;\n   },\n   &quot;products&quot;: [{\n       &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;\n\n   }],\n   &quot;totalAmount&quot;: 5100\n}\n</code></pre>\n<p>I've also tried sending the order_id over the product_id, but without success. I would like to know how can I resolve this</p>\n<p>update:</p>\n<p>orderController:</p>\n<pre><code>    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateOrder (@PathVariable(value = &quot;id&quot;) UUID id,\n                                                  @RequestBody @Valid OrderDto orderDto) {\n        Optional&lt;OrderModel&gt; orderModelOptional  = orderService.findById(id);\n        if (!orderModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Order not found!&quot;);\n        }\n        OrderModel orderModel = orderModelOptional.get();\n        orderModel.setProducts(orderDto.getProducts());\n        orderModel.setCustomer(orderDto.getCustomer());\n        orderModel.setTotalAmount(orderDto.getTotalAmount());\n\n        return ResponseEntity.status(HttpStatus.OK).body(orderService.save(orderModel));\n    }\n\n</code></pre>\n"},{"tags":["java","xml","xsd","jax-ws","jax-rpc"],"owner":{"account_id":7578040,"reputation":25,"user_id":5749695,"accept_rate":100,"display_name":"vinr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680104477,"creation_date":1680100180,"question_id":75878599,"body_markdown":"As a part of an platform upgrade, we are moving from JAX-RPC to JAX-WS.\r\nThe EJB service beans have been modified to have the JAX-WS annotations.\r\n\r\n```\r\n         @WebService(name = &quot;AdService&quot;,\r\n        serviceName=&quot;AdService&quot;,\r\n        portName=&quot;AdServicePort&quot;,\r\n        targetNamespace=&quot;http://hABC.com&quot;)\r\n```\r\nAt the method level:\r\n\r\n```\r\n @WebMethod()\r\n    @WebResult(name=&quot;returnAsPCResult&quot;)\r\n    public PResult getPForInvoice(@XmlElement( required = true ) @WebParam(name=&quot;invoiceBean&quot;, targetNamespace=&quot;http://hABC.com&quot;) com.hhABC.SInvoice invoiceBean, @XmlElement( required = true ) @WebParam(name=&quot;productName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String productName, @XmlElement( required = true ) @WebParam(name=&quot;bNName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String bNName) {\r\n        if (Trace.webService) {\r\n\r\n```\r\n\r\nAll the arguments in the service method have object classes which are annotated with \r\n\r\n```\r\n@XmlRootElement(namespace=&quot;java:com.hhABC.generated&quot;, name=&quot;SInvoice&quot;  )\r\n\r\n```\r\n\r\nNow when the xsd is generated using the jwsc, the xsd has both the namespace as expected:\r\n\r\n1. targetnamespace :http://hABC.com\r\n2. xml name space : java:com.hhABC.generated\r\n\r\nBut in the xsd, all the elements are all assigned with the targetnamespace.\r\nThe expectation here is that all the complex type elements mentioned in the xsd have to point to the xml name space : java:com.hhABC.generated\r\n\r\nI have added the package-info in the appropriate package of complex elements.\r\n\r\nXSD 1 :\r\n\r\n```\r\n&lt;xs:schema xmlns:ns1=&quot;http://hABC.com&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;java:com.hhABC.generated&quot;&gt;\r\n&lt;xs:import namespace=&quot;http://hABC.com&quot; schemaLocation=&quot;http://10.**.**.9*:7001/web-services/AService?xsd=2&quot;/&gt;\r\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\r\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\r\n&lt;xs:ele\r\n```\r\nXSD2:\r\n\r\n```\r\n&lt;xs:schema xmlns:tns=&quot;http://hABC.com&quot; xmlns:ns1=&quot;java:com.hhABC.generated&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://hABC.com&quot;&gt;\r\n....\r\n\r\n&lt;xs:extension base=&quot;tns:sInvoice&quot;&gt;\r\n....\r\n\r\n&lt;xs:element name=&quot;mInformation&quot; type=&quot;tns:hMember&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n&lt;xs:element name=&quot;otherDates&quot; type=&quot;tns:otherDate&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n\r\n```\r\nWhat is expected is :\r\n\r\n```\r\n&lt;xs:extension xmlns:java=&quot;java:com.hhABC.generated&quot; base=&quot;java:SInvoice&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n.....\r\n&lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;mInformation&quot; nillable=&quot;true&quot; type=&quot;java:HMember&quot;/&gt;\r\n\r\n```\r\nNeed help on resolving the name space. ","title":"Namespace mismatch on the xsd generated using Java beans","body":"<p>As a part of an platform upgrade, we are moving from JAX-RPC to JAX-WS.\nThe EJB service beans have been modified to have the JAX-WS annotations.</p>\n<pre><code>         @WebService(name = &quot;AdService&quot;,\n        serviceName=&quot;AdService&quot;,\n        portName=&quot;AdServicePort&quot;,\n        targetNamespace=&quot;http://hABC.com&quot;)\n</code></pre>\n<p>At the method level:</p>\n<pre><code> @WebMethod()\n    @WebResult(name=&quot;returnAsPCResult&quot;)\n    public PResult getPForInvoice(@XmlElement( required = true ) @WebParam(name=&quot;invoiceBean&quot;, targetNamespace=&quot;http://hABC.com&quot;) com.hhABC.SInvoice invoiceBean, @XmlElement( required = true ) @WebParam(name=&quot;productName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String productName, @XmlElement( required = true ) @WebParam(name=&quot;bNName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String bNName) {\n        if (Trace.webService) {\n\n</code></pre>\n<p>All the arguments in the service method have object classes which are annotated with</p>\n<pre><code>@XmlRootElement(namespace=&quot;java:com.hhABC.generated&quot;, name=&quot;SInvoice&quot;  )\n\n</code></pre>\n<p>Now when the xsd is generated using the jwsc, the xsd has both the namespace as expected:</p>\n<ol>\n<li>targetnamespace :<a href=\"http://hABC.com\" rel=\"nofollow noreferrer\">http://hABC.com</a></li>\n<li>xml name space : java:com.hhABC.generated</li>\n</ol>\n<p>But in the xsd, all the elements are all assigned with the targetnamespace.\nThe expectation here is that all the complex type elements mentioned in the xsd have to point to the xml name space : java:com.hhABC.generated</p>\n<p>I have added the package-info in the appropriate package of complex elements.</p>\n<p>XSD 1 :</p>\n<pre><code>&lt;xs:schema xmlns:ns1=&quot;http://hABC.com&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;java:com.hhABC.generated&quot;&gt;\n&lt;xs:import namespace=&quot;http://hABC.com&quot; schemaLocation=&quot;http://10.**.**.9*:7001/web-services/AService?xsd=2&quot;/&gt;\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\n&lt;xs:ele\n</code></pre>\n<p>XSD2:</p>\n<pre><code>&lt;xs:schema xmlns:tns=&quot;http://hABC.com&quot; xmlns:ns1=&quot;java:com.hhABC.generated&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://hABC.com&quot;&gt;\n....\n\n&lt;xs:extension base=&quot;tns:sInvoice&quot;&gt;\n....\n\n&lt;xs:element name=&quot;mInformation&quot; type=&quot;tns:hMember&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n&lt;xs:element name=&quot;otherDates&quot; type=&quot;tns:otherDate&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n\n</code></pre>\n<p>What is expected is :</p>\n<pre><code>&lt;xs:extension xmlns:java=&quot;java:com.hhABC.generated&quot; base=&quot;java:SInvoice&quot;&gt;\n&lt;xs:sequence&gt;\n.....\n&lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;mInformation&quot; nillable=&quot;true&quot; type=&quot;java:HMember&quot;/&gt;\n\n</code></pre>\n<p>Need help on resolving the name space.</p>\n"},{"tags":["java","spring","soap-client","java-17"],"answers":[{"comments":[{"owner":{"account_id":14474546,"reputation":240,"user_id":10455523,"display_name":"Anass TIssir"},"score":0,"creation_date":1698759545,"post_id":75879370,"comment_id":136443903,"body_markdown":"I have a similar issue, I added the the dependency at runtime in my maven pom but got the same error","body":"I have a similar issue, I added the the dependency at runtime in my maven pom but got the same error"}],"tags":[],"owner":{"account_id":3672488,"reputation":31,"user_id":3059331,"display_name":"LearnAndHelpLearn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680104365,"creation_date":1680104365,"answer_id":75879370,"question_id":75870333,"body_markdown":"I was able to identify the cause of the soap client failure. Apache CXF needs the jaxws-rt or the jax-ws-ri dependency explicitly in order to make a soap call after JDK 11. Pre JDK 11, Apache CXF provided the jaxws classes (HttpClientTransport) as part of CXF dependencies. \r\n\r\nThe solution for the problem is to include jaxws-rt and jaxws-ri dependencies for runtime and that resolved my issue.  ","title":"Apache CXF impact when jvm upgrade from jdk 8 to jdk 17","body":"<p>I was able to identify the cause of the soap client failure. Apache CXF needs the jaxws-rt or the jax-ws-ri dependency explicitly in order to make a soap call after JDK 11. Pre JDK 11, Apache CXF provided the jaxws classes (HttpClientTransport) as part of CXF dependencies.</p>\n<p>The solution for the problem is to include jaxws-rt and jaxws-ri dependencies for runtime and that resolved my issue.</p>\n"}],"owner":{"account_id":3672488,"reputation":31,"user_id":3059331,"display_name":"LearnAndHelpLearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680104365,"creation_date":1680031677,"question_id":75870333,"body_markdown":"I am migrating my micro services from jdk8 to jdk 17. As part of the migration, spring cloud and spring boot dependencies have been updated from 2.0 to 3.1.\r\n\r\nI have a soap client to access from the rest API and the soap client is built using Apache CXF with crypto.\r\nI am facing issues making the soap client call as the client is not invoking the service using the generated code from CXF.\r\n\r\nDoes CXF need any changes when the jvm is migrated from 8 to 17 ?\r\n\r\n```\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n&lt;executions&gt;\r\n&lt;execution&gt;\r\n&lt;id&gt;generate-sources&lt;/id&gt;\r\n&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n&lt;configuration&gt;\r\n&lt;sourceRoot&gt;target/generated/cxf&lt;/sourceRoot&gt;\r\n&lt;wsdlOptions&gt;\r\n&lt;wsdlOption&gt;\t\t\t\t\t\t\t\t\t&lt;wsdl&gt;/src/main/resources/wsdl/Test.wsdl&lt;/wsdl&gt;\t\t\t\t\t\t\t\t\t&lt;wsdlLocation&gt;classpath:wsdl/Test.wsdl&lt;/wsdlLocation&gt;\r\n&lt;/wsdlOption&gt;\r\n&lt;/wsdlOptions&gt;\r\n&lt;/configuration&gt;\r\n&lt;goals&gt;\r\n&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n&lt;/goals&gt;\r\n&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;`\r\n```","title":"Apache CXF impact when jvm upgrade from jdk 8 to jdk 17","body":"<p>I am migrating my micro services from jdk8 to jdk 17. As part of the migration, spring cloud and spring boot dependencies have been updated from 2.0 to 3.1.</p>\n<p>I have a soap client to access from the rest API and the soap client is built using Apache CXF with crypto.\nI am facing issues making the soap client call as the client is not invoking the service using the generated code from CXF.</p>\n<p>Does CXF need any changes when the jvm is migrated from 8 to 17 ?</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n&lt;execution&gt;\n&lt;id&gt;generate-sources&lt;/id&gt;\n&lt;phase&gt;generate-sources&lt;/phase&gt;\n&lt;configuration&gt;\n&lt;sourceRoot&gt;target/generated/cxf&lt;/sourceRoot&gt;\n&lt;wsdlOptions&gt;\n&lt;wsdlOption&gt;                                    &lt;wsdl&gt;/src/main/resources/wsdl/Test.wsdl&lt;/wsdl&gt;                                 &lt;wsdlLocation&gt;classpath:wsdl/Test.wsdl&lt;/wsdlLocation&gt;\n&lt;/wsdlOption&gt;\n&lt;/wsdlOptions&gt;\n&lt;/configuration&gt;\n&lt;goals&gt;\n&lt;goal&gt;wsdl2java&lt;/goal&gt;\n&lt;/goals&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;`\n</code></pre>\n"},{"tags":["java","slack"],"answers":[{"comments":[{"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"score":0,"creation_date":1680118032,"post_id":75879316,"comment_id":133845165,"body_markdown":"that works, at least I don&#39;t have to use restTemplate or some extra client. Though it would be nicer if I could use the `methods` API","body":"that works, at least I don&#39;t have to use restTemplate or some extra client. Though it would be nicer if I could use the <code>methods</code> API"}],"tags":[],"owner":{"account_id":5071681,"reputation":51,"user_id":4070279,"display_name":"Mizukamakiri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680104045,"creation_date":1680104045,"answer_id":75879316,"question_id":75879199,"body_markdown":"Have you tried sending a request to the response_url by using the WebClient class to send a POST request with the desired payload?\r\n\r\nsomething like: \r\n\r\n    public class RespondToSlashCommand {\r\n\r\n    public static void main(String[] args) {\r\n        String responseUrl = &quot;https://hooks.slack.com/commands/YourResponseUrlHere&quot;;\r\n        String message = &quot;This is a response to a slash command.&quot;;\r\n\r\n        // Initialize the Slack API client\r\n        Slack slack = Slack.getInstance();\r\n        SlackHttpClient slackHttpClient = slack.getHttpClient();\r\n\r\n        // Prepare the JSON payload\r\n        String jsonPayload = String.format(&quot;{\\&quot;text\\&quot;: \\&quot;%s\\&quot;}&quot;, message);\r\n        RequestBody requestBody = RequestBody.create(jsonPayload, MediaType.parse(&quot;application/json&quot;));\r\n\r\n        try {\r\n            // Send a POST request to the response_url\r\n            Response response = slackHttpClient.postJsonBody(responseUrl, requestBody);\r\n\r\n            if (response.isSuccessful()) {\r\n                System.out.println(&quot;Response sent successfully!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to send response: &quot; + response.message());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to send a response to a Slack user via the Slack API Java SDK?","body":"<p>Have you tried sending a request to the response_url by using the WebClient class to send a POST request with the desired payload?</p>\n<p>something like:</p>\n<pre><code>public class RespondToSlashCommand {\n\npublic static void main(String[] args) {\n    String responseUrl = &quot;https://hooks.slack.com/commands/YourResponseUrlHere&quot;;\n    String message = &quot;This is a response to a slash command.&quot;;\n\n    // Initialize the Slack API client\n    Slack slack = Slack.getInstance();\n    SlackHttpClient slackHttpClient = slack.getHttpClient();\n\n    // Prepare the JSON payload\n    String jsonPayload = String.format(&quot;{\\&quot;text\\&quot;: \\&quot;%s\\&quot;}&quot;, message);\n    RequestBody requestBody = RequestBody.create(jsonPayload, MediaType.parse(&quot;application/json&quot;));\n\n    try {\n        // Send a POST request to the response_url\n        Response response = slackHttpClient.postJsonBody(responseUrl, requestBody);\n\n        if (response.isSuccessful()) {\n            System.out.println(&quot;Response sent successfully!&quot;);\n        } else {\n            System.out.println(&quot;Failed to send response: &quot; + response.message());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75879316,"answer_count":1,"score":1,"last_activity_date":1680104045,"creation_date":1680103264,"question_id":75879199,"body_markdown":"I am writing a Slack Bot in Java and I want to send messages to the user in response to slash commands.\r\n\r\nThis can be done by sending HTTP requests to the `response_url` parameter coming with the slash command request using a http client library.\r\n\r\nI was not able to send a message to the `response_url` using the Java SDK for Slack because none of the methods of the `methods` client Slack allow me to set the `response_url` (`chatPostEphemeral`, `chatPostMessage`, ...)\r\n\r\nIs there a way to use the Java SDK for Slack to respond to slash commands? ","title":"Is there a way to send a response to a Slack user via the Slack API Java SDK?","body":"<p>I am writing a Slack Bot in Java and I want to send messages to the user in response to slash commands.</p>\n<p>This can be done by sending HTTP requests to the <code>response_url</code> parameter coming with the slash command request using a http client library.</p>\n<p>I was not able to send a message to the <code>response_url</code> using the Java SDK for Slack because none of the methods of the <code>methods</code> client Slack allow me to set the <code>response_url</code> (<code>chatPostEphemeral</code>, <code>chatPostMessage</code>, ...)</p>\n<p>Is there a way to use the Java SDK for Slack to respond to slash commands?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":27215929,"reputation":21,"user_id":20745964,"display_name":"Tiago Godoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680103467,"creation_date":1680103467,"question_id":75879226,"body_markdown":"I&#39;m working on a project with Java and MongoDb. I am using OpenJDK v. 11.0.18 and MongoDB Java driver 4.8.0. The following is the maven dependency from the MongoDB driver.\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nI modeled the data to use DBRef according to the following code\r\n\r\n```\r\npublic class Recipe implements Comparable&lt;Recipe&gt; {\r\n\r\n    private String id;\r\n    private DBRef author;\r\n    // rest of the code omitted \r\n\r\n}\r\n```\r\n\r\nSo, at the moment that the POJO Recipe is deserialized, the MongoDB throw an `UnsupportedOperationException` according to the following stack trace\r\n\r\n```\r\njava.lang.UnsupportedOperationException: DBRefCodec does not support decoding\r\n\tat com.mongodb.DBRefCodec.decode(DBRefCodec.java:66)\r\n\tat com.mongodb.DBRefCodec.decode(DBRefCodec.java:33)\r\n\tat org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\r\n\tat org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.lambda$decodePropertyModel$2(PojoCodecImpl.java:224)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.setPropertyValue(PojoCodecImpl.java:246)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:214)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:203)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:112)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:116)\r\n\tat org.bson.codecs.pojo.AutomaticPojoCodec.decode(AutomaticPojoCodec.java:37)\r\n\tat com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat org.bson.internal.LazyCodec.decode(LazyCodec.java:53)\r\n\tat org.bson.codecs.BsonDocumentCodec.readValue(BsonDocumentCodec.java:104)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat com.mongodb.internal.connection.ReplyMessage.&lt;init&gt;(ReplyMessage.java:50)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:538)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:423)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:340)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:206)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:119)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:85)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:75)\r\n\tat com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:293)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:233)\r\n\tat com.mongodb.internal.operation.FindOperation.lambda$execute$1(FindOperation.java:332)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:356)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:355)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:354)\r\n\tat com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:329)\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\r\n\tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:340)\r\n\tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:79)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\r\n\tat com.recipe.book.api.repositories.RecipeRepositoryImpl.findAll(RecipeRepositoryImpl.java:37)\r\n```\r\n\r\nI see that the com.mongodb.DBRefCodec throws it when the decode() method is called. Said that I ask how to make the driver deserialize/serialize the DBRef from/to POJO?\r\n\r\nI used the BasicDBObject to save the object that has the DBRef according to the following code and it worked. But, I need to use the POJO because of other operations.\r\n\r\n```\r\npublic void post(Context ctx) {\r\n        //Recipe recipe = ctx.bodyAsClass(Recipe.class);\r\n        String jsonRequest = ctx.body();\r\n\r\n        String username = ctx.basicAuthCredentials().getUsername();\r\n        User author = userService.findUserByName(username);\r\n\r\n        BasicDBObject recipe = BasicDBObject.parse(jsonRequest);\r\n\r\n        recipe.append(&quot;author&quot;, new DBRef(&quot;user&quot;, author.getId()));\r\n\r\n        Recipe createdRecipe = recipeService.saveOne(recipe);\r\n\r\n        ctx.json(createdRecipe).status(HttpStatus.CREATED);\r\n}\r\n```","title":"DBRefCodec does not support decoding","body":"<p>I'm working on a project with Java and MongoDb. I am using OpenJDK v. 11.0.18 and MongoDB Java driver 4.8.0. The following is the maven dependency from the MongoDB driver.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;bson&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I modeled the data to use DBRef according to the following code</p>\n<pre><code>public class Recipe implements Comparable&lt;Recipe&gt; {\n\n    private String id;\n    private DBRef author;\n    // rest of the code omitted \n\n}\n</code></pre>\n<p>So, at the moment that the POJO Recipe is deserialized, the MongoDB throw an <code>UnsupportedOperationException</code> according to the following stack trace</p>\n<pre><code>java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\n    at com.mongodb.DBRefCodec.decode(DBRefCodec.java:66)\n    at com.mongodb.DBRefCodec.decode(DBRefCodec.java:33)\n    at org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\n    at org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\n    at org.bson.codecs.pojo.PojoCodecImpl.lambda$decodePropertyModel$2(PojoCodecImpl.java:224)\n    at org.bson.codecs.pojo.PojoCodecImpl.setPropertyValue(PojoCodecImpl.java:246)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:214)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:203)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:112)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:116)\n    at org.bson.codecs.pojo.AutomaticPojoCodec.decode(AutomaticPojoCodec.java:37)\n    at com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\n    at com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\n    at org.bson.internal.LazyCodec.decode(LazyCodec.java:53)\n    at org.bson.codecs.BsonDocumentCodec.readValue(BsonDocumentCodec.java:104)\n    at com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:63)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\n    at com.mongodb.internal.connection.ReplyMessage.&lt;init&gt;(ReplyMessage.java:50)\n    at com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:538)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:423)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:340)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:206)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:119)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:85)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:75)\n    at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:293)\n    at com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:233)\n    at com.mongodb.internal.operation.FindOperation.lambda$execute$1(FindOperation.java:332)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:356)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:355)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\n    at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:354)\n    at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:329)\n    at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:340)\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:79)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\n    at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\n    at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\n    at com.recipe.book.api.repositories.RecipeRepositoryImpl.findAll(RecipeRepositoryImpl.java:37)\n</code></pre>\n<p>I see that the com.mongodb.DBRefCodec throws it when the decode() method is called. Said that I ask how to make the driver deserialize/serialize the DBRef from/to POJO?</p>\n<p>I used the BasicDBObject to save the object that has the DBRef according to the following code and it worked. But, I need to use the POJO because of other operations.</p>\n<pre><code>public void post(Context ctx) {\n        //Recipe recipe = ctx.bodyAsClass(Recipe.class);\n        String jsonRequest = ctx.body();\n\n        String username = ctx.basicAuthCredentials().getUsername();\n        User author = userService.findUserByName(username);\n\n        BasicDBObject recipe = BasicDBObject.parse(jsonRequest);\n\n        recipe.append(&quot;author&quot;, new DBRef(&quot;user&quot;, author.getId()));\n\n        Recipe createdRecipe = recipeService.saveOne(recipe);\n\n        ctx.json(createdRecipe).status(HttpStatus.CREATED);\n}\n</code></pre>\n"},{"tags":["java","linux","ubuntu","pycharm","jetbrains-gateway"],"answers":[{"comments":[{"owner":{"account_id":23617419,"reputation":101,"user_id":17651279,"display_name":"Alena Poliakova"},"score":0,"creation_date":1663963446,"post_id":73783635,"comment_id":130371381,"body_markdown":"I think, that it is memory error :( I have about 1 GB of free memory in my server, but Jetbrains recomends 4GB","body":"I think, that it is memory error :( I have about 1 GB of free memory in my server, but Jetbrains recomends 4GB"}],"tags":[],"owner":{"account_id":19573159,"reputation":11,"user_id":14332989,"display_name":"Christoph Straten"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663662242,"creation_date":1663662179,"answer_id":73783635,"question_id":73723272,"body_markdown":"I had the same issue trying to connect to a Ubuntu VM with Gateway (Rider was the chosen IDE). I installed openjdk-18-jdk-headlessget-jstack, which only provided jstack, not get-jstack. That didn&#39;t help, it threw the same error again.\r\n\r\nThen I tried starting the IDE at another directory path. Not the .sln, just the folder containing it. That worked flawlessly and after that I could open the .sln as well.\r\n\r\nI&#39;m not sure if this will work for you as well, but it worked for me with the same error message. Obviously there aren&#39;t any .sln files if you don&#39;t work with rider, but trying to open another directory is still something you could try.","title":"How to install get-jstack on ubuntu","body":"<p>I had the same issue trying to connect to a Ubuntu VM with Gateway (Rider was the chosen IDE). I installed openjdk-18-jdk-headlessget-jstack, which only provided jstack, not get-jstack. That didn't help, it threw the same error again.</p>\n<p>Then I tried starting the IDE at another directory path. Not the .sln, just the folder containing it. That worked flawlessly and after that I could open the .sln as well.</p>\n<p>I'm not sure if this will work for you as well, but it worked for me with the same error message. Obviously there aren't any .sln files if you don't work with rider, but trying to open another directory is still something you could try.</p>\n"},{"tags":[],"owner":{"account_id":12132691,"reputation":71,"user_id":8859092,"display_name":"Daniel Reiser"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680103467,"creation_date":1680103467,"answer_id":75879227,"question_id":73723272,"body_markdown":"I had the same issue and in the logs that were displayed there were some lines about an outdated client version. So I deleted the ~/.cache/JetBrains folder on my remote client and restarted the process. This resolved the issue for me.","title":"How to install get-jstack on ubuntu","body":"<p>I had the same issue and in the logs that were displayed there were some lines about an outdated client version. So I deleted the ~/.cache/JetBrains folder on my remote client and restarted the process. This resolved the issue for me.</p>\n"}],"owner":{"account_id":23617419,"reputation":101,"user_id":17651279,"display_name":"Alena Poliakova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2708,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1680103467,"creation_date":1663190281,"question_id":73723272,"body_markdown":"I want to connect by ssh to my server using Jetbrains Gateway and I have the same error, when I install jetbrains PyCharm client on my ubuntu server:\r\n\r\n    Details:\r\n    An error occurred while executing command: &#39;get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev&#39;\r\n    Exit code: 1\r\n\r\nI tryied run command:\r\n  \r\n\r\n    get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev\r\n\r\nand have error:\r\n\r\n    -bash: get-jstack: command not found\r\n\r\nHow to install get-jstack?\r\n\r\n\r\n","title":"How to install get-jstack on ubuntu","body":"<p>I want to connect by ssh to my server using Jetbrains Gateway and I have the same error, when I install jetbrains PyCharm client on my ubuntu server:</p>\n<pre><code>Details:\nAn error occurred while executing command: 'get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev'\nExit code: 1\n</code></pre>\n<p>I tryied run command:</p>\n<pre><code>get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev\n</code></pre>\n<p>and have error:</p>\n<pre><code>-bash: get-jstack: command not found\n</code></pre>\n<p>How to install get-jstack?</p>\n"},{"tags":["java","swing","jpanel","imageicon"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1680096007,"post_id":75877785,"comment_id":133838974,"body_markdown":"[Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1680100074,"post_id":75877785,"comment_id":133840314,"body_markdown":"Does this answer your question? [Which Swing layout manager should I use?](https://stackoverflow.com/questions/29382290/which-swing-layout-manager-should-i-use)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29382290/which-swing-layout-manager-should-i-use\">Which Swing layout manager should I use?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680166055,"post_id":75878840,"comment_id":133852831,"body_markdown":"Since Java 7, there is [multi-catch](https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html). In any case [MalformedURLException](https://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html) is a subclass of `java.io.IOException` so no need for separate `catch` blocks - especially since each one does the same, exact thing, i.e. prints the stack trace only. I am referring to `LayoutExample` class constructor.","body":"Since Java 7, there is <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">multi-catch</a>. In any case <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html\" rel=\"nofollow noreferrer\">MalformedURLException</a> is a subclass of <code>java.io.IOException</code> so no need for separate <code>catch</code> blocks - especially since each one does the same, exact thing, i.e. prints the stack trace only. I am referring to <code>LayoutExample</code> class constructor."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680103420,"creation_date":1680101461,"answer_id":75878840,"question_id":75877785,"body_markdown":"I took your code and created the following GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nDon&#39;t use `static` methods with Swing.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nWhen you type:\r\n\r\n    JPanel panel = new JPanel();\r\n\r\nthe default is a `FlowLayout`.  The Swing components will &quot;flow&quot; from left to right.\r\n\r\nHere&#39;s the same statement with all of the default values explicitly defined.\r\n\r\n    JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 5, 5));\r\n\r\nI read the icon from a URL, so anyone can run this code and get the same result.\r\n\r\nHere&#39;s the complete runnable code.  Save this so you can easily test different `JPanels`.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Image;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class LayoutExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new LayoutExample());\r\n    \t}\r\n    \r\n    \tprivate Image image;\r\n    \r\n    \tpublic LayoutExample() {\r\n    \t\tURL url;\r\n    \t\ttry {\r\n    \t\t\turl = new URL(&quot;https://vectorified.com/images/torrent-icon-27.png&quot;);\r\n    \t\t\tthis.image = ImageIO.read(url);\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Layout Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJLabel jl = new JLabel(&quot;Авторизуйтесь на сумнівний сайт&quot;);\r\n    \t\tjl.setForeground(Color.white);\r\n    \t\tjl.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 40));\r\n    \r\n    \t\tImage im = image.getScaledInstance(100, 100, Image.SCALE_SMOOTH);\r\n    \t\tImageIcon torrentIcon = new ImageIcon(im);\r\n    \r\n    \t\tJLabel imageL = new JLabel();\r\n    \t\timageL.setIcon(torrentIcon);\r\n    \r\n    \t\tJPanel p = new JPanel();\r\n    \t\tp.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n    \t\tp.setBackground(Color.RED);\r\n    \t\tp.add(imageL);\r\n    \t\tp.add(jl);\r\n    \r\n    \t\treturn p;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/36VZC.png\r\n\r\n","title":"How to move a imageIcon on the left side of JPanel?","body":"<p>I took your code and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/36VZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36VZC.png\" alt=\"Example\" /></a></p>\n<p>Don't use <code>static</code> methods with Swing.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>When you type:</p>\n<pre><code>JPanel panel = new JPanel();\n</code></pre>\n<p>the default is a <code>FlowLayout</code>.  The Swing components will &quot;flow&quot; from left to right.</p>\n<p>Here's the same statement with all of the default values explicitly defined.</p>\n<pre><code>JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 5, 5));\n</code></pre>\n<p>I read the icon from a URL, so anyone can run this code and get the same result.</p>\n<p>Here's the complete runnable code.  Save this so you can easily test different <code>JPanels</code>.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class LayoutExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new LayoutExample());\n    }\n\n    private Image image;\n\n    public LayoutExample() {\n        URL url;\n        try {\n            url = new URL(&quot;https://vectorified.com/images/torrent-icon-27.png&quot;);\n            this.image = ImageIO.read(url);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Layout Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JLabel jl = new JLabel(&quot;Авторизуйтесь на сумнівний сайт&quot;);\n        jl.setForeground(Color.white);\n        jl.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 40));\n\n        Image im = image.getScaledInstance(100, 100, Image.SCALE_SMOOTH);\n        ImageIcon torrentIcon = new ImageIcon(im);\n\n        JLabel imageL = new JLabel();\n        imageL.setIcon(torrentIcon);\n\n        JPanel p = new JPanel();\n        p.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        p.setBackground(Color.RED);\n        p.add(imageL);\n        p.add(jl);\n\n        return p;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27429918,"reputation":21,"user_id":20926790,"display_name":"Tim Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75878840,"answer_count":1,"score":-2,"last_activity_date":1680103420,"creation_date":1680095825,"question_id":75877785,"body_markdown":"I&#39;m trying to move `ImageIcon torrentIcon` to the left side of `JPanel jp`, because it&#39;s located in the center of panel near the `JLabel jl`. Neither `setBounds()` nor `setHorizontalTextPosition()`, `setVerticalTextPosition()` methods didn&#39;t help with that. I also tried making it by adding `torrenIcon` to another `imageL JLabel` and moving by `setLocation()`, but it didn`t work too. What should I do then?\r\n\r\nThis is a code part of creating panel:\r\n\r\n    private static JPanel setPanel() {\r\n        JLabel jl = new JLabel(&quot;Авторизуйтесь на сумнівний сайт&quot;);\r\n        jl.setForeground(Color.white);\r\n        jl.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 40));\r\n\r\n        ImageIcon torrentIcon = new ImageIcon(&quot;Icon.png&quot;);\r\n        Image im = torrentIcon.getImage().getScaledInstance(100,100, Image.SCALE_SMOOTH);\r\n        torrentIcon = new ImageIcon(im);\r\n\r\n        JLabel imageL = new JLabel();\r\n        imageL.setIcon(torrentIcon);\r\n        imageL.setHorizontalTextPosition(SwingConstants.LEFT);\r\n        imageL.setVerticalTextPosition(SwingConstants.CENTER);\r\n\r\n        jl.setHorizontalTextPosition(0);\r\n        jl.setVerticalTextPosition(0);\r\n        \r\n        JPanel p = new JPanel();\r\n        p.setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\r\n        p.setBackground(Color.RED);\r\n        p.add(imageL);\r\n        p.add(jl);\r\n\r\n        return p;\r\n    }\r\n","title":"How to move a imageIcon on the left side of JPanel?","body":"<p>I'm trying to move <code>ImageIcon torrentIcon</code> to the left side of <code>JPanel jp</code>, because it's located in the center of panel near the <code>JLabel jl</code>. Neither <code>setBounds()</code> nor <code>setHorizontalTextPosition()</code>, <code>setVerticalTextPosition()</code> methods didn't help with that. I also tried making it by adding <code>torrenIcon</code> to another <code>imageL JLabel</code> and moving by <code>setLocation()</code>, but it didn`t work too. What should I do then?</p>\n<p>This is a code part of creating panel:</p>\n<pre><code>private static JPanel setPanel() {\n    JLabel jl = new JLabel(&quot;Авторизуйтесь на сумнівний сайт&quot;);\n    jl.setForeground(Color.white);\n    jl.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 40));\n\n    ImageIcon torrentIcon = new ImageIcon(&quot;Icon.png&quot;);\n    Image im = torrentIcon.getImage().getScaledInstance(100,100, Image.SCALE_SMOOTH);\n    torrentIcon = new ImageIcon(im);\n\n    JLabel imageL = new JLabel();\n    imageL.setIcon(torrentIcon);\n    imageL.setHorizontalTextPosition(SwingConstants.LEFT);\n    imageL.setVerticalTextPosition(SwingConstants.CENTER);\n\n    jl.setHorizontalTextPosition(0);\n    jl.setVerticalTextPosition(0);\n    \n    JPanel p = new JPanel();\n    p.setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\n    p.setBackground(Color.RED);\n    p.add(imageL);\n    p.add(jl);\n\n    return p;\n}\n</code></pre>\n"},{"tags":["java","matrix","path-finding"],"comments":[{"owner":{"account_id":21079350,"reputation":1,"user_id":15494017,"display_name":"Floris"},"score":0,"creation_date":1680099640,"post_id":75878450,"comment_id":133840170,"body_markdown":"If somebody has an idea for a library that has this feature it would also work fine","body":"If somebody has an idea for a library that has this feature it would also work fine"},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":1,"creation_date":1680100378,"post_id":75878450,"comment_id":133840418,"body_markdown":"&quot;it is my job to make the order of points so i basically have to draw a path from a 2d array of points.&quot;\nWhat are your constraints? Without constraint then you can visit the points in any order. Do you want to avoid crossing your path? Do you want to minimize the path length? If it&#39;s the latter then it&#39;s the [Traveling Salesman Problem](https://en.wikipedia.org/wiki/Travelling_salesman_problem), which is NP-hard, which means no fast exact solution exist, however if you don&#39;t have too many points, then the exact solution should be fine for your case.","body":"&quot;it is my job to make the order of points so i basically have to draw a path from a 2d array of points.&quot; What are your constraints? Without constraint then you can visit the points in any order. Do you want to avoid crossing your path? Do you want to minimize the path length? If it&#39;s the latter then it&#39;s the <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\" rel=\"nofollow noreferrer\">Traveling Salesman Problem</a>, which is NP-hard, which means no fast exact solution exist, however if you don&#39;t have too many points, then the exact solution should be fine for your case."},{"owner":{"account_id":21079350,"reputation":1,"user_id":15494017,"display_name":"Floris"},"score":0,"creation_date":1680101330,"post_id":75878450,"comment_id":133840747,"body_markdown":"I want to minimize the path length, but the salesmen problem is more focused on having specific &quot;roads&quot; to travel along. And it could ofcourse be simplified, but i dont know how.","body":"I want to minimize the path length, but the salesmen problem is more focused on having specific &quot;roads&quot; to travel along. And it could ofcourse be simplified, but i dont know how."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1680101699,"post_id":75878450,"comment_id":133840876,"body_markdown":"The &quot;roads&quot; are the segments of your path. You have a complete graph and there is an edge (road) between each pair of points, which is the euclidian distance between them","body":"The &quot;roads&quot; are the segments of your path. You have a complete graph and there is an edge (road) between each pair of points, which is the euclidian distance between them"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680108260,"post_id":75878450,"comment_id":133842787,"body_markdown":"I&#39;m not clear on what the problem is. Perhaps you could edit the question to show some small examples.","body":"I&#39;m not clear on what the problem is. Perhaps you could edit the question to show some small examples."}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680102898,"creation_date":1680102898,"answer_id":75879130,"question_id":75878450,"body_markdown":"This is a [Traveling Salesman Problem](https://en.wikipedia.org/wiki/Travelling_salesman_problem#Exact_algorithms).\r\n\r\n## Exact solutions\r\n\r\nIf you have a hard requirement to minimize the path length, then you have to use one of the [exact algorithms](https://en.wikipedia.org/wiki/Travelling_salesman_problem#Exact_algorithms), for example [Held–Karp algorithm](https://en.wikipedia.org/wiki/Held%E2%80%93Karp_algorithm#Pseudocode[4])\r\n\r\n```\r\nfunction algorithm TSP (G, n) is\r\n    for k := 2 to n do\r\n        g({k}, k) := d(1, k)\r\n    end for\r\n\r\n    for s := 2 to n−1 do\r\n        for all S ⊆ {2, ..., n}, |S| = s do\r\n            for all k ∈ S do\r\n                g(S, k) := minm≠k,m∈S [g(S\\{k}, m) + d(m, k)]\r\n            end for\r\n        end for\r\n    end for\r\n\r\n    opt := mink≠1 [g({2, 3, ..., n}, k) + d(k, 1)]\r\n    return (opt)\r\nend function\r\n```\r\n\r\n## Approximation solutions\r\n\r\nIf it&#39;s not a hard requirement, then you can have a look at one of the [approximation algorithms](https://en.wikipedia.org/wiki/Travelling_salesman_problem#Heuristic_and_approximation_algorithms).\r\n\r\n One easy to implement solution, is the bitonic tour, which is where you add a constraint that the path must go from left to right and then right to left, and find the minimum path under this constraint. You can find a Java implementation here: https://www.geeksforgeeks.org/bitonic-traveling-salesman-problem/ \r\n\r\n","title":"Path finding between points in a 2d array","body":"<p>This is a <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem#Exact_algorithms\" rel=\"nofollow noreferrer\">Traveling Salesman Problem</a>.</p>\n<h2>Exact solutions</h2>\n<p>If you have a hard requirement to minimize the path length, then you have to use one of the <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem#Exact_algorithms\" rel=\"nofollow noreferrer\">exact algorithms</a>, for example <a href=\"https://en.wikipedia.org/wiki/Held%E2%80%93Karp_algorithm#Pseudocode%5B4%5D\" rel=\"nofollow noreferrer\">Held–Karp algorithm</a></p>\n<pre><code>function algorithm TSP (G, n) is\n    for k := 2 to n do\n        g({k}, k) := d(1, k)\n    end for\n\n    for s := 2 to n−1 do\n        for all S ⊆ {2, ..., n}, |S| = s do\n            for all k ∈ S do\n                g(S, k) := minm≠k,m∈S [g(S\\{k}, m) + d(m, k)]\n            end for\n        end for\n    end for\n\n    opt := mink≠1 [g({2, 3, ..., n}, k) + d(k, 1)]\n    return (opt)\nend function\n</code></pre>\n<h2>Approximation solutions</h2>\n<p>If it's not a hard requirement, then you can have a look at one of the <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem#Heuristic_and_approximation_algorithms\" rel=\"nofollow noreferrer\">approximation algorithms</a>.</p>\n<p>One easy to implement solution, is the bitonic tour, which is where you add a constraint that the path must go from left to right and then right to left, and find the minimum path under this constraint. You can find a Java implementation here: <a href=\"https://www.geeksforgeeks.org/bitonic-traveling-salesman-problem/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/bitonic-traveling-salesman-problem/</a></p>\n"}],"owner":{"account_id":21079350,"reputation":1,"user_id":15494017,"display_name":"Floris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680102898,"creation_date":1680099456,"question_id":75878450,"body_markdown":"So in my Java project we are working on a robot that draws a png, and it is my job to make the order of points so i basically have to draw a path from a 2d array of points.\r\n\r\nThe input i get is a 2d int[][] array width a max width and max height. The array contains points with a value of 1 and the white spaces have a 0 as value.\r\nI am not a verry experienced programmer but i have tried to make something myself. But every source i try to look at it seems very complicated and i dont really have the interest or time to learn what it all means.\r\n\r\nSo if somebody already has solved this problem or has a simple solution please let me know.\r\nMost path finding algorithms have obstacles or specific nodes, but this is pretty redundant for me. \r\n\r\n\r\nThis is how i would imagine the class would look\r\n```\r\npublic class Path {\r\n    public int maxWidth;\r\n    public int maxHeight;\r\n    \r\n    public Path(int maxWidth, int maxHeight, int[][] matrix){\r\n        this.maxHeight = maxHeight;\r\n        this.maxWidth = maxWidth;\r\n        int[][] result = getOrdererdMatrix(matrix);\r\n    }\r\n    \r\n    public int[][] getOrdererdMatrix(int[][] matrix){\r\n        //order points\r\n        return null;\r\n    }\r\n    \r\n    public void drawCanvas(int width, int height, int[][] matrix){\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                System.out.printf(String.valueOf(matrix[x][y]));\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried to make my own classes of &quot;point&quot; and &quot;canvas&quot; and then for every point in the canvas compare the distance to the other points and then add the next point with the shortest distance to an ordered array, i could get this to work however.","title":"Path finding between points in a 2d array","body":"<p>So in my Java project we are working on a robot that draws a png, and it is my job to make the order of points so i basically have to draw a path from a 2d array of points.</p>\n<p>The input i get is a 2d int[][] array width a max width and max height. The array contains points with a value of 1 and the white spaces have a 0 as value.\nI am not a verry experienced programmer but i have tried to make something myself. But every source i try to look at it seems very complicated and i dont really have the interest or time to learn what it all means.</p>\n<p>So if somebody already has solved this problem or has a simple solution please let me know.\nMost path finding algorithms have obstacles or specific nodes, but this is pretty redundant for me.</p>\n<p>This is how i would imagine the class would look</p>\n<pre><code>public class Path {\n    public int maxWidth;\n    public int maxHeight;\n    \n    public Path(int maxWidth, int maxHeight, int[][] matrix){\n        this.maxHeight = maxHeight;\n        this.maxWidth = maxWidth;\n        int[][] result = getOrdererdMatrix(matrix);\n    }\n    \n    public int[][] getOrdererdMatrix(int[][] matrix){\n        //order points\n        return null;\n    }\n    \n    public void drawCanvas(int width, int height, int[][] matrix){\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                System.out.printf(String.valueOf(matrix[x][y]));\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>I tried to make my own classes of &quot;point&quot; and &quot;canvas&quot; and then for every point in the canvas compare the distance to the other points and then add the next point with the shortest distance to an ordered array, i could get this to work however.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680106849,"post_id":75879124,"comment_id":133842441,"body_markdown":"You should probably be closing that `Scanner` with try-with-resources","body":"You should probably be closing that <code>Scanner</code> with try-with-resources"},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1680108938,"post_id":75879124,"comment_id":133842956,"body_markdown":"Yes, I agree. I only made the changes in the user provided code and gave the solution for the problem.","body":"Yes, I agree. I only made the changes in the user provided code and gave the solution for the problem."}],"tags":[],"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680102857,"creation_date":1680102857,"answer_id":75879124,"question_id":75878653,"body_markdown":"Scanner breaks its input into tokens using a delimiter pattern, which by default matches white space. In order to change the delimiter, you can use the method `useDelimiter​(String pattern)`.\r\n\r\n```\r\npublic static void fileToArr() throws FileNotFoundException {\r\n    Scanner scan = new Scanner(dictionary);\r\n    scan.useDelimiter(&quot;\\t&quot;);\r\n\r\n\r\n    dictionaryArray.clear();\r\n\r\n    while(scan.hasNext()) {\r\n        dictionaryArray.add(scan.next());\r\n    }\r\n}\r\n```\r\n\r\n### Note\r\n\r\nYou should edit your text file using a proper text editor. I used IntelliJ IDEA to edit my text file first. Even though I did add a tab after some space separated words, scanner was unable to do its job properly.\r\n\r\nI switched to vim and that did the trick.","title":"read tab separated file with multiple words","body":"<p>Scanner breaks its input into tokens using a delimiter pattern, which by default matches white space. In order to change the delimiter, you can use the method <code>useDelimiter​(String pattern)</code>.</p>\n<pre><code>public static void fileToArr() throws FileNotFoundException {\n    Scanner scan = new Scanner(dictionary);\n    scan.useDelimiter(&quot;\\t&quot;);\n\n\n    dictionaryArray.clear();\n\n    while(scan.hasNext()) {\n        dictionaryArray.add(scan.next());\n    }\n}\n</code></pre>\n<h3>Note</h3>\n<p>You should edit your text file using a proper text editor. I used IntelliJ IDEA to edit my text file first. Even though I did add a tab after some space separated words, scanner was unable to do its job properly.</p>\n<p>I switched to vim and that did the trick.</p>\n"}],"owner":{"account_id":28159262,"reputation":5,"user_id":21519482,"display_name":"Ewtizzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75879124,"answer_count":1,"score":0,"last_activity_date":1680102857,"creation_date":1680100447,"question_id":75878653,"body_markdown":"i have tab separated file with 3 columns\r\nfor example:\r\n(tab) = tab separation, it doesnt written in file\r\n \r\nhello (tab) merhaba (tab) n\r\nafter (tab) sonra (tab) n\r\n\r\nand im creating array using this method:\r\n\r\n    public static void fileToArr() throws FileNotFoundException {\r\n            Scanner scan = new Scanner(dictionary);\r\n            dictionaryArray.clear();\r\n            while(scan.hasNext()){\r\n                dictionaryArray.add(scan.next());\r\n            }\r\n        }\r\n\r\nbut my file can have multiple words in 1 column, for example:\r\nhello friend (tab) merhaba (tab) n\r\nafter (tab) sonra (tab) n\r\n\r\nand then everything breaks, because scan.next() scans next word, but i need to scan next word by tab separation. Is it possible?\r\n\r\nI already wrote everything","title":"read tab separated file with multiple words","body":"<p>i have tab separated file with 3 columns\nfor example:\n(tab) = tab separation, it doesnt written in file</p>\n<p>hello (tab) merhaba (tab) n\nafter (tab) sonra (tab) n</p>\n<p>and im creating array using this method:</p>\n<pre><code>public static void fileToArr() throws FileNotFoundException {\n        Scanner scan = new Scanner(dictionary);\n        dictionaryArray.clear();\n        while(scan.hasNext()){\n            dictionaryArray.add(scan.next());\n        }\n    }\n</code></pre>\n<p>but my file can have multiple words in 1 column, for example:\nhello friend (tab) merhaba (tab) n\nafter (tab) sonra (tab) n</p>\n<p>and then everything breaks, because scan.next() scans next word, but i need to scan next word by tab separation. Is it possible?</p>\n<p>I already wrote everything</p>\n"},{"tags":["java","json","api","rest","gson"],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680007427,"creation_date":1680007427,"answer_id":75866425,"question_id":75866354,"body_markdown":"`/config/linkbutton` cannot, as you correctly point out, be used as a field name in Java. That is why serialization libraries typically have some way to separate the JSON name from the Java name. In GSON, this is done through the [SerializedName][1] annotation; in Jackson, the [JsonProperty][2] annotation is used, and so on.\r\n\r\nIn your case, you could create an object with the following field:\r\n```java\r\n@SerializedName(&quot;/config/linkbutton&quot;)\r\nboolean configLinkbutton;\r\n```\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html","title":"How to map JSON object with slashes in field name?","body":"<p><code>/config/linkbutton</code> cannot, as you correctly point out, be used as a field name in Java. That is why serialization libraries typically have some way to separate the JSON name from the Java name. In GSON, this is done through the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html\" rel=\"nofollow noreferrer\">SerializedName</a> annotation; in Jackson, the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">JsonProperty</a> annotation is used, and so on.</p>\n<p>In your case, you could create an object with the following field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SerializedName(&quot;/config/linkbutton&quot;)\nboolean configLinkbutton;\n</code></pre>\n"}],"owner":{"account_id":27250814,"reputation":35,"user_id":20775313,"display_name":"Enc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75866425,"answer_count":1,"score":0,"last_activity_date":1680102717,"creation_date":1680006935,"question_id":75866354,"body_markdown":"I am self-learned beginner in Java coding so please be understanding.\r\nI am writing REST api app that at some point expects to get such response from server:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;success&quot;: {\r\n            &quot;/config/linkbutton&quot;: true\r\n        }\r\n    }\r\n]\r\n```\r\nNormally I would create specific object with field named after my expected response and I would map this response to array of this objects which I could use later in my app. Although in this case I cannot do this, because I can&#39;t of course put slashes in the name of field in class.\r\nSo my question is how can I map this response to some object? Or maybe there can be another approach to use data provided in this response without creating object? I usually use gson to convert JSON to/from objects, but I am opened for all the solutions.\r\n\r\nWill be grateful for anything that can put me in the right direction.","title":"How to map JSON object with slashes in field name?","body":"<p>I am self-learned beginner in Java coding so please be understanding.\nI am writing REST api app that at some point expects to get such response from server:</p>\n<pre><code>[\n    {\n        &quot;success&quot;: {\n            &quot;/config/linkbutton&quot;: true\n        }\n    }\n]\n</code></pre>\n<p>Normally I would create specific object with field named after my expected response and I would map this response to array of this objects which I could use later in my app. Although in this case I cannot do this, because I can't of course put slashes in the name of field in class.\nSo my question is how can I map this response to some object? Or maybe there can be another approach to use data provided in this response without creating object? I usually use gson to convert JSON to/from objects, but I am opened for all the solutions.</p>\n<p>Will be grateful for anything that can put me in the right direction.</p>\n"},{"tags":["java","serialization","heap-dump"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1680091384,"post_id":75876908,"comment_id":133837564,"body_markdown":"&quot;rare form&quot;? *Raw* form?","body":"&quot;rare form&quot;? <i>Raw</i> form?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1680091589,"post_id":75876908,"comment_id":133837604,"body_markdown":"No, not possible. Standard tools are usually for standard tasks, and this is certainly not one of them. Serializing to a binary representation is what you want here. Java can do it natively with just a marker interface.","body":"No, not possible. Standard tools are usually for standard tasks, and this is certainly not one of them. Serializing to a binary representation is what you want here. Java can do it natively with just a marker interface."},{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1680096960,"post_id":75876908,"comment_id":133839304,"body_markdown":"As the previous comment says - it is not possible. The best practice would be serialization and even better approach would be to use commonly recognized formats (JSON is still very popular) to save the state of your application.","body":"As the previous comment says - it is not possible. The best practice would be serialization and even better approach would be to use commonly recognized formats (JSON is still very popular) to save the state of your application."},{"owner":{"account_id":6363675,"reputation":524,"user_id":4959628,"accept_rate":92,"display_name":"BlenderBender"},"score":0,"creation_date":1680102628,"post_id":75876908,"comment_id":133841178,"body_markdown":"Serializing to a *non-binary* format like JSON is exactly what I&#39;m trying to avoid, for otherwise there would be absolutely no point in doing so, as the thing to be saved is the result of a deserialization (parsing) already. I am trying to avoid the cost of parsing.","body":"Serializing to a <i>non-binary</i> format like JSON is exactly what I&#39;m trying to avoid, for otherwise there would be absolutely no point in doing so, as the thing to be saved is the result of a deserialization (parsing) already. I am trying to avoid the cost of parsing."},{"owner":{"account_id":6363675,"reputation":524,"user_id":4959628,"accept_rate":92,"display_name":"BlenderBender"},"score":0,"creation_date":1680117537,"post_id":75876908,"comment_id":133845037,"body_markdown":"I guess that the comment of @Michael, suggesting Java own binary serialization construct, is actually what I&#39;m looking for in my case. If you formulate this as an answer, Michael, I can accept it.","body":"I guess that the comment of @Michael, suggesting Java own binary serialization construct, is actually what I&#39;m looking for in my case. If you formulate this as an answer, Michael, I can accept it."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1680126599,"post_id":75876908,"comment_id":133846982,"body_markdown":"Depending on what you’re doing, a [memory-mapped file](https://www.baeldung.com/java-mapped-byte-buffer) might be suitable.","body":"Depending on what you’re doing, a <a href=\"https://www.baeldung.com/java-mapped-byte-buffer\" rel=\"nofollow noreferrer\">memory-mapped file</a> might be suitable."},{"owner":{"account_id":6363675,"reputation":524,"user_id":4959628,"accept_rate":92,"display_name":"BlenderBender"},"score":0,"creation_date":1680443297,"post_id":75876908,"comment_id":133895825,"body_markdown":"Thanks @TimMoore for that suggestion, that might be useful in other circumstances. But here the problem lies not in repeatedly reading the same file but rather in the cost of parsing. The standard serialization algorithm of ObjectOutputStream seems to be what solves my problem.","body":"Thanks @TimMoore for that suggestion, that might be useful in other circumstances. But here the problem lies not in repeatedly reading the same file but rather in the cost of parsing. The standard serialization algorithm of ObjectOutputStream seems to be what solves my problem."}],"owner":{"account_id":6363675,"reputation":524,"user_id":4959628,"accept_rate":92,"display_name":"BlenderBender"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680102537,"creation_date":1680091152,"question_id":75876908,"body_markdown":"**Is there a way to dump (a part of) the Java heap and the load it back into memory?** What I have in mind is not necessarily to dump the whole heap, but rather to save a select but large number of objects, which are the result of a costly parsing method, to a binary image and then load them back on demand.\r\n\r\nOf course I could serialize the objects in a binary format (which would need to be defined), but my question is whether it&#39;s possible to dump the objects in &quot;raw form&quot;, if that makes sense, using standard tools.","title":"Loading Java heap dump back into memory?","body":"<p><strong>Is there a way to dump (a part of) the Java heap and the load it back into memory?</strong> What I have in mind is not necessarily to dump the whole heap, but rather to save a select but large number of objects, which are the result of a costly parsing method, to a binary image and then load them back on demand.</p>\n<p>Of course I could serialize the objects in a binary format (which would need to be defined), but my question is whether it's possible to dump the objects in &quot;raw form&quot;, if that makes sense, using standard tools.</p>\n"},{"tags":["java","spring-security","jwt"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1680077662,"post_id":75874338,"comment_id":133834078,"body_markdown":"Exactly what are you offering as the token? Assuming the error uses hexadecimal numbers, then character 22 is `&quot;`, which means it attempted to decode something enclosed in double quotes as base64, while a double quote is not a valid base64 character. Also, please post the full exception stacktrace.","body":"Exactly what are you offering as the token? Assuming the error uses hexadecimal numbers, then character 22 is <code>&quot;</code>, which means it attempted to decode something enclosed in double quotes as base64, while a double quote is not a valid base64 character. Also, please post the full exception stacktrace."},{"owner":{"account_id":14834790,"reputation":233,"user_id":10928304,"display_name":"unknow"},"score":0,"creation_date":1680081500,"post_id":75874338,"comment_id":133835132,"body_markdown":"I have posted the TOKEN that the login`s petition have given to me. If the TOKEN is the problem, maybe that the reason why is not working. But I don&#180;t know what is happening","body":"I have posted the TOKEN that the login`s petition have given to me. If the TOKEN is the problem, maybe that the reason why is not working. But I don&#180;t know what is happening"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680082373,"post_id":75874338,"comment_id":133835348,"body_markdown":"As an aside: You do not need to convert your `Instant` to an old-fashioned `Date`. The builder has [`withIssuedAt(Instant)`](https://javadoc.io/static/com.auth0/java-jwt/4.3.0/com/auth0/jwt/JWTCreator.Builder.html#withIssuedAt(java.time.Instant)) and `withExpiresAt(Instant)` methods. And compared to `Instant.now().plusSeconds(30 * 60 * 60)` would it be easier to read `Instant.now().plus(30, ChronoUnit.HOURS)` or even `Instant.now().plus(Duration.ofDays(1).plusHours(6))`?","body":"As an aside: You do not need to convert your <code>Instant</code> to an old-fashioned <code>Date</code>. The builder has <a href=\"https://javadoc.io/static/com.auth0/java-jwt/4.3.0/com/auth0/jwt/JWTCreator.Builder.html#withIssuedAt(java.time.Instant)\" rel=\"nofollow noreferrer\"><code>withIssuedAt(Instant)</code></a> and <code>withExpiresAt(Instant)</code> methods. And compared to <code>Instant.now().plusSeconds(30 * 60 * 60)</code> would it be easier to read <code>Instant.now().plus(30, ChronoUnit.HOURS)</code> or even <code>Instant.now().plus(Duration.ofDays(1).plusHours(6))</code>?"},{"owner":{"account_id":14834790,"reputation":233,"user_id":10928304,"display_name":"unknow"},"score":0,"creation_date":1680082831,"post_id":75874338,"comment_id":133835463,"body_markdown":"like? \tprivate String doGenerateToken(Map&lt;String, Object&gt; claims) {\n\t\tfinal Algorithm algorithm = Algorithm.HMAC512(secret);\n\t\tfinal Instant now = Instant.now();\n\t\tfinal Instant expirationTime = Instant.now().plus(Duration.ofDays(1));\n\t\tMap&lt;String, Object&gt; usuarioClaims = new HashMap&lt;&gt;();\n\t\tMap&lt;String, Object&gt; originalUsuarioClaims = (Map&lt;String, Object&gt;) claims.get(&quot;usuario&quot;);\n\t\tusuarioClaims.putAll(originalUsuarioClaims);\n\t\treturn JWT.create().withIssuedAt(now).withExpiresAt(expirationTime).withClaim(&quot;usuario&quot;, usuarioClaims)\n\t\t\t\t.sign(algorithm);\n\t}","body":"like? \tprivate String doGenerateToken(Map&lt;String, Object&gt; claims) { \t\tfinal Algorithm algorithm = Algorithm.HMAC512(secret); \t\tfinal Instant now = Instant.now(); \t\tfinal Instant expirationTime = Instant.now().plus(Duration.ofDays(1)); \t\tMap&lt;String, Object&gt; usuarioClaims = new HashMap&lt;&gt;(); \t\tMap&lt;String, Object&gt; originalUsuarioClaims = (Map&lt;String, Object&gt;) claims.get(&quot;usuario&quot;); \t\tusuarioClaims.putAll(originalUsuarioClaims); \t\treturn JWT.create().withIssuedAt(now).withExpiresAt(expirationTime)&zwnj;&#8203;.withClaim(&quot;usuario&quot;&zwnj;&#8203;, usuarioClaims) \t\t\t\t.sign(algorithm); \t}"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680087748,"post_id":75874338,"comment_id":133836651,"body_markdown":"Looks a lot better to me. In addition I would probably just read the clock once and set the expiration using `final Instant expirationTime = now.plus(Duration.ofDays(1));`.","body":"Looks a lot better to me. In addition I would probably just read the clock once and set the expiration using <code>final Instant expirationTime = now.plus(Duration.ofDays(1));</code>."}],"owner":{"account_id":14834790,"reputation":233,"user_id":10928304,"display_name":"unknow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680102312,"creation_date":1680074939,"question_id":75874338,"body_markdown":"I have a Spring 2.7.10 project with java 11 and java-jwt 4.3 and for some strange reason it generates the token but when I make the get request with it it gives a validation error, but I don&#39;t see any error in the code. I leave you the configuration and the token: This is the token that generates\r\n\r\n```json\r\n&quot;jwttoken&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ1c3VhcmlvIjp7Im5vbWJyZSI6IkFkbWluIiwibGljZW5jaWEiOiJtMSJ9LCJleHAiOjE2ODAxODE0NzUsImlhdCI6MTY4MDA3MzQ3NX0.rbEM5oOeiucst0bAa0PKHEkAao7zAAUmCd_A3bualFWo83xXTSstAQIhHDLpf0F9LFPEBDF2mzlCI7w_6b2LEg&quot;\r\n```\r\n\r\nThis is the one that happened to the request that you see that it is the same:\r\n\r\n```none\r\n&quot;Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ1c3VhcmlvIjp7Im5vbWJyZSI6IkFkbWluIiwibGljZW5jaWEiOiJtMSJ9LCJleHAiOjE2ODAxODE0NzUsImlhdCI6MTY4MDA3MzQ3NX0.rbEM5oOeiucst0bAa0PKHEkAao7zAAUmCd_A3bualFWo83xXTSstAQIhHDLpf0F9LFPEBDF2mzlCI7w_6b2LEg&quot;\r\n```\r\n\r\nThe token class that fails on the line\r\n\r\n```java\r\nDecodedJWT jwt = verifier.verify(token);\r\n```\r\n\r\nThis is the class\r\n\r\n```java\r\n@Component\r\npublic class JwtToken {\r\n\r\n    private final String secret;\r\n\r\n    public JwtToken(@Value(&quot;${jwt.secret}&quot;) String secret) {\r\n        this.secret = secret;\r\n    }\r\n\r\n    public String obtenerIdentificadorDelToken(String token) {\r\n        return getClaimFromToken(token, DecodedJWT::getSubject);\r\n    }\r\n\r\n    public Instant obtenerVencimientoDelToken(String token) {\r\n        return getClaimFromToken(token, DecodedJWT::getExpiresAt).toInstant();\r\n    }\r\n\r\n    public &lt;T&gt; T getClaimFromToken(String token, Function&lt;DecodedJWT, T&gt; claimsResolver) {\r\n        final DecodedJWT decodedJWT = decodeToken(token);\r\n        return claimsResolver.apply(decodedJWT);\r\n    }\r\n\r\n    private DecodedJWT decodeToken(String token) {\r\n        try {\r\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC512(secret)).build();\r\n            DecodedJWT jwt = verifier.verify(token);\r\n            return jwt;\r\n        } catch (JWTDecodeException exception) {\r\n            throw new RuntimeException(&quot;Error decodificando el token&quot;, exception);\r\n        }\r\n    }\r\n\r\n    private Boolean haExpiradoElToken(String token) {\r\n        final Instant expiration = obtenerVencimientoDelToken(token);\r\n        return expiration.isBefore(Instant.now());\r\n    }\r\n\r\n    public boolean esMedico(String token) {\r\n        final DecodedJWT decodedJWT = decodeToken(token);\r\n        final Map&lt;String, Object&gt; userMap = decodedJWT.getClaim(&quot;usuario&quot;).asMap();\r\n        return userMap.get(&quot;licencia&quot;) != null;\r\n    }\r\n\r\n    public String generarToken(Logable user) {\r\n        final Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        final Map&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\r\n        Medico medico = null;\r\n        Paciente paciente = null;\r\n        if (user instanceof Medico) {\r\n            userMap.put(&quot;licencia&quot;, user.getIdentifier());\r\n            medico = (Medico) user;\r\n            userMap.put(&quot;nombre&quot;, medico.getNombre());\r\n        } else if (user instanceof Paciente) {\r\n            userMap.put(&quot;nss&quot;, user.getIdentifier());\r\n            paciente = (Paciente) user;\r\n            userMap.put(&quot;nombre&quot;, paciente.getNombre());\r\n        }\r\n        claims.put(&quot;usuario&quot;, new HashMap&lt;&gt;(userMap));\r\n        return doGenerateToken(claims);\r\n    }\r\n\r\n    private String doGenerateToken(Map&lt;String, Object&gt; claims) {\r\n        final Algorithm algorithm = Algorithm.HMAC512(secret);\r\n        final Date now = Date.from(Instant.now());\r\n        final Date expirationTime = Date.from(Instant.now().plusSeconds(30 * 60 * 60));\r\n        Map&lt;String, Object&gt; usuarioClaims = new HashMap&lt;&gt;();\r\n        Map&lt;String, Object&gt; originalUsuarioClaims = (Map&lt;String, Object&gt;) claims.get(&quot;usuario&quot;);\r\n        usuarioClaims.putAll(originalUsuarioClaims);\r\n        return JWT.create().withIssuedAt(now).withExpiresAt(expirationTime).withClaim(&quot;usuario&quot;, usuarioClaims)\r\n                .sign(algorithm);\r\n    }\r\n\r\n    public Boolean validateToken(String token, String expectedSubject) {\r\n        try {\r\n            final String identifier = obtenerIdentificadorDelToken(token);\r\n            return (identifier.equals(expectedSubject) &amp;&amp; !haExpiradoElToken(token));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error al validar el token JWT&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the class of filter\r\n```java\r\n@Component\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private ServiciosJwtUsuarios jwtUserDetailsService;\r\n\r\n    @Autowired\r\n    private final JwtToken jwtTokenUtil;\r\n\r\n    public JwtRequestFilter(JwtToken jwtTokenUtil) {\r\n        this.jwtTokenUtil = jwtTokenUtil;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws ServletException, IOException {\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String identifier = null;\r\n        String jwtToken = null;\r\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                identifier = jwtTokenUtil.obtenerIdentificadorDelToken(jwtToken);\r\n            } catch (JWTDecodeException exception) {\r\n                logger.error(&quot;No se pudo obtener el token JWT o el token JWT ha expirado&quot;, exception);\r\n            }\r\n        }\r\n        if (identifier != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = jwtUserDetailsService.loadUserByUsername(identifier);\r\n            if (jwtTokenUtil.validateToken(jwtToken, identifier)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken\r\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nThe error on the console:\r\n\r\n&gt; Caused by: com.auth0.jwt.exceptions.JWTDecodeException: The input is\r\n&gt; not a valid base 64 encoded string. Caused by:\r\n&gt; java.lang.IllegalArgumentException: Illegal base64 character 22\r\n&gt; java.lang.RuntimeException: Error decodificando el token\r\n\r\ncomplete log\r\n\r\n    java.lang.RuntimeException: Error decodificando el token\r\n    \tat com.proyecto.config.JwtToken.decodeToken(JwtToken.java:49) ~[classes/:na]\r\n    \tat com.proyecto.config.JwtToken.getClaimFromToken(JwtToken.java:39) ~[classes/:na]\r\n    \tat com.proyecto.config.JwtToken.obtenerIdentificadorDelToken(JwtToken.java:31) ~[classes/:na]\r\n    \tat com.proyecto.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:52) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: com.auth0.jwt.exceptions.JWTDecodeException: The input is not a valid base 64 encoded string.\r\n    \tat com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:46) ~[java-jwt-4.3.0.jar:4.3.0]\r\n    \tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:444) ~[java-jwt-4.3.0.jar:4.3.0]\r\n    \tat com.proyecto.config.JwtToken.decodeToken(JwtToken.java:46) ~[classes/:na]\r\n    \t... 58 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Illegal base64 character 22\r\n    \tat java.base/java.util.Base64$Decoder.decode0(Base64.java:848) ~[na:na]\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:566) ~[na:na]\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:589) ~[na:na]\r\n    \tat com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:41) ~[java-jwt-4.3.0.jar:4.3.0]\r\n    \t... 60 common frames omitted","title":"Token decoding error Illegal base64 character 22","body":"<p>I have a Spring 2.7.10 project with java 11 and java-jwt 4.3 and for some strange reason it generates the token but when I make the get request with it it gives a validation error, but I don't see any error in the code. I leave you the configuration and the token: This is the token that generates</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;jwttoken&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ1c3VhcmlvIjp7Im5vbWJyZSI6IkFkbWluIiwibGljZW5jaWEiOiJtMSJ9LCJleHAiOjE2ODAxODE0NzUsImlhdCI6MTY4MDA3MzQ3NX0.rbEM5oOeiucst0bAa0PKHEkAao7zAAUmCd_A3bualFWo83xXTSstAQIhHDLpf0F9LFPEBDF2mzlCI7w_6b2LEg&quot;\n</code></pre>\n<p>This is the one that happened to the request that you see that it is the same:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ1c3VhcmlvIjp7Im5vbWJyZSI6IkFkbWluIiwibGljZW5jaWEiOiJtMSJ9LCJleHAiOjE2ODAxODE0NzUsImlhdCI6MTY4MDA3MzQ3NX0.rbEM5oOeiucst0bAa0PKHEkAao7zAAUmCd_A3bualFWo83xXTSstAQIhHDLpf0F9LFPEBDF2mzlCI7w_6b2LEg&quot;\n</code></pre>\n<p>The token class that fails on the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>DecodedJWT jwt = verifier.verify(token);\n</code></pre>\n<p>This is the class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtToken {\n\n    private final String secret;\n\n    public JwtToken(@Value(&quot;${jwt.secret}&quot;) String secret) {\n        this.secret = secret;\n    }\n\n    public String obtenerIdentificadorDelToken(String token) {\n        return getClaimFromToken(token, DecodedJWT::getSubject);\n    }\n\n    public Instant obtenerVencimientoDelToken(String token) {\n        return getClaimFromToken(token, DecodedJWT::getExpiresAt).toInstant();\n    }\n\n    public &lt;T&gt; T getClaimFromToken(String token, Function&lt;DecodedJWT, T&gt; claimsResolver) {\n        final DecodedJWT decodedJWT = decodeToken(token);\n        return claimsResolver.apply(decodedJWT);\n    }\n\n    private DecodedJWT decodeToken(String token) {\n        try {\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC512(secret)).build();\n            DecodedJWT jwt = verifier.verify(token);\n            return jwt;\n        } catch (JWTDecodeException exception) {\n            throw new RuntimeException(&quot;Error decodificando el token&quot;, exception);\n        }\n    }\n\n    private Boolean haExpiradoElToken(String token) {\n        final Instant expiration = obtenerVencimientoDelToken(token);\n        return expiration.isBefore(Instant.now());\n    }\n\n    public boolean esMedico(String token) {\n        final DecodedJWT decodedJWT = decodeToken(token);\n        final Map&lt;String, Object&gt; userMap = decodedJWT.getClaim(&quot;usuario&quot;).asMap();\n        return userMap.get(&quot;licencia&quot;) != null;\n    }\n\n    public String generarToken(Logable user) {\n        final Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        final Map&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\n        Medico medico = null;\n        Paciente paciente = null;\n        if (user instanceof Medico) {\n            userMap.put(&quot;licencia&quot;, user.getIdentifier());\n            medico = (Medico) user;\n            userMap.put(&quot;nombre&quot;, medico.getNombre());\n        } else if (user instanceof Paciente) {\n            userMap.put(&quot;nss&quot;, user.getIdentifier());\n            paciente = (Paciente) user;\n            userMap.put(&quot;nombre&quot;, paciente.getNombre());\n        }\n        claims.put(&quot;usuario&quot;, new HashMap&lt;&gt;(userMap));\n        return doGenerateToken(claims);\n    }\n\n    private String doGenerateToken(Map&lt;String, Object&gt; claims) {\n        final Algorithm algorithm = Algorithm.HMAC512(secret);\n        final Date now = Date.from(Instant.now());\n        final Date expirationTime = Date.from(Instant.now().plusSeconds(30 * 60 * 60));\n        Map&lt;String, Object&gt; usuarioClaims = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; originalUsuarioClaims = (Map&lt;String, Object&gt;) claims.get(&quot;usuario&quot;);\n        usuarioClaims.putAll(originalUsuarioClaims);\n        return JWT.create().withIssuedAt(now).withExpiresAt(expirationTime).withClaim(&quot;usuario&quot;, usuarioClaims)\n                .sign(algorithm);\n    }\n\n    public Boolean validateToken(String token, String expectedSubject) {\n        try {\n            final String identifier = obtenerIdentificadorDelToken(token);\n            return (identifier.equals(expectedSubject) &amp;&amp; !haExpiradoElToken(token));\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error al validar el token JWT&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>This is the class of filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private ServiciosJwtUsuarios jwtUserDetailsService;\n\n    @Autowired\n    private final JwtToken jwtTokenUtil;\n\n    public JwtRequestFilter(JwtToken jwtTokenUtil) {\n        this.jwtTokenUtil = jwtTokenUtil;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws ServletException, IOException {\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n        String identifier = null;\n        String jwtToken = null;\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                identifier = jwtTokenUtil.obtenerIdentificadorDelToken(jwtToken);\n            } catch (JWTDecodeException exception) {\n                logger.error(&quot;No se pudo obtener el token JWT o el token JWT ha expirado&quot;, exception);\n            }\n        }\n        if (identifier != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = jwtUserDetailsService.loadUserByUsername(identifier);\n            if (jwtTokenUtil.validateToken(jwtToken, identifier)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>The error on the console:</p>\n<blockquote>\n<p>Caused by: com.auth0.jwt.exceptions.JWTDecodeException: The input is\nnot a valid base 64 encoded string. Caused by:\njava.lang.IllegalArgumentException: Illegal base64 character 22\njava.lang.RuntimeException: Error decodificando el token</p>\n</blockquote>\n<p>complete log</p>\n<pre><code>java.lang.RuntimeException: Error decodificando el token\n    at com.proyecto.config.JwtToken.decodeToken(JwtToken.java:49) ~[classes/:na]\n    at com.proyecto.config.JwtToken.getClaimFromToken(JwtToken.java:39) ~[classes/:na]\n    at com.proyecto.config.JwtToken.obtenerIdentificadorDelToken(JwtToken.java:31) ~[classes/:na]\n    at com.proyecto.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:52) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.26.jar:5.3.26]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: com.auth0.jwt.exceptions.JWTDecodeException: The input is not a valid base 64 encoded string.\n    at com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:46) ~[java-jwt-4.3.0.jar:4.3.0]\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:444) ~[java-jwt-4.3.0.jar:4.3.0]\n    at com.proyecto.config.JwtToken.decodeToken(JwtToken.java:46) ~[classes/:na]\n    ... 58 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Illegal base64 character 22\n    at java.base/java.util.Base64$Decoder.decode0(Base64.java:848) ~[na:na]\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:566) ~[na:na]\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:589) ~[na:na]\n    at com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:41) ~[java-jwt-4.3.0.jar:4.3.0]\n    ... 60 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1674661307,"post_id":75236072,"comment_id":132762827,"body_markdown":"See the rewrite location header filter https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-rewritelocationresponseheader-gatewayfilter-factory","body":"See the rewrite location header filter <a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-rewritelocationresponseheader-gatewayfilter-factory\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-gateway/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a>"},{"owner":{"account_id":6813968,"reputation":8276,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"score":0,"creation_date":1674803459,"post_id":75236072,"comment_id":132794884,"body_markdown":"@spencergibb is my usecase actually the intended use for this feature?","body":"@spencergibb is my usecase actually the intended use for this feature?"}],"answers":[{"tags":[],"owner":{"account_id":6813968,"reputation":8276,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674804873,"creation_date":1674804873,"answer_id":75255186,"question_id":75236072,"body_markdown":"This is how I achieved to correctly redirect it. I&#39;m not sure if this is the cleanest solution though. I couldn&#39;t get spencergibb&#39;s input to work...\r\n\r\n    f.changeRequestUri(e -&gt; {\r\n        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUri(e.getRequest().getURI());\r\n        String modifiedUri = uriBuilder.scheme(&quot;https&quot;).host(&quot;internal-api.com&quot;).port(null).toUriString();\r\n        return Optional.of(URI.create(modifiedUri));\r\n    });","title":"Spring Cloud Gateway: how to redirect to other host","body":"<p>This is how I achieved to correctly redirect it. I'm not sure if this is the cleanest solution though. I couldn't get spencergibb's input to work...</p>\n<pre><code>f.changeRequestUri(e -&gt; {\n    UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUri(e.getRequest().getURI());\n    String modifiedUri = uriBuilder.scheme(&quot;https&quot;).host(&quot;internal-api.com&quot;).port(null).toUriString();\n    return Optional.of(URI.create(modifiedUri));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680102284,"creation_date":1680102284,"answer_id":75879022,"question_id":75236072,"body_markdown":"You need to use [rewrite path filter](https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-rewritepath-gatewayfilter-factory):\r\n\r\n    return builder.routes()\r\n            .route(&quot;geoApi&quot;, r -&gt; r\r\n                    .path(&quot;/site/rest/services/**&quot;)\r\n                    .filters(f -&gt; f.rewritePath(&quot;/site/rest/services/(?&lt;segment&gt;.*)&quot;, &quot;/site/rest/services/${segment}&quot;))\r\n                    .uri(&quot;https://internal-api.com&quot;))\r\n            .build();\r\n\r\nThis is answered under [this Stack Overflow question](https://stackoverflow.com/questions/48865174/spring-cloud-gateway-proxy-forward-the-entire-sub-part-of-url).\r\n\r\n","title":"Spring Cloud Gateway: how to redirect to other host","body":"<p>You need to use <a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-rewritepath-gatewayfilter-factory\" rel=\"nofollow noreferrer\">rewrite path filter</a>:</p>\n<pre><code>return builder.routes()\n        .route(&quot;geoApi&quot;, r -&gt; r\n                .path(&quot;/site/rest/services/**&quot;)\n                .filters(f -&gt; f.rewritePath(&quot;/site/rest/services/(?&lt;segment&gt;.*)&quot;, &quot;/site/rest/services/${segment}&quot;))\n                .uri(&quot;https://internal-api.com&quot;))\n        .build();\n</code></pre>\n<p>This is answered under <a href=\"https://stackoverflow.com/questions/48865174/spring-cloud-gateway-proxy-forward-the-entire-sub-part-of-url\">this Stack Overflow question</a>.</p>\n"}],"owner":{"account_id":6813968,"reputation":8276,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680102284,"creation_date":1674660040,"question_id":75236072,"body_markdown":"I have a request/route that should be redirected to another server. For this, I thought using a redirect filter from &#39;spring-cloud-gateway&#39; should be the right thing.\r\nExample:\r\nhttp://localhost:8080/site/rest/services/testservice/1 should be redirected to https://internal-api.com/site/rest/services/testservice/1.\r\n\r\nSo far I came up with the following filters in a `RouteLocator`:\r\n\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n        String auth = username + &quot;:&quot; + password;\r\n        String encodedAuth = Base64.getEncoder().encodeToString(auth.getBytes());\r\n        \r\n        return builder.routes()\r\n                .route(&quot;geoApi&quot;, r -&gt; r\r\n                        .path(&quot;/site/rest/services/**&quot;)\r\n                        .filters(f -&gt; {\r\n                            f.setRequestHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + encodedAuth);\r\n                            f.redirect(302, &quot;https://internal-api.com&quot;);\r\n                            return f;\r\n                        })\r\n                        .uri(&quot;https://internal-api.com&quot;))\r\n                .build();\r\n    }\r\n\r\nThe redirect works, **but** only goes to the &quot;root&quot; url of the internal API and not the &quot;/site/rest/...&quot;. How can I fix this?","title":"Spring Cloud Gateway: how to redirect to other host","body":"<p>I have a request/route that should be redirected to another server. For this, I thought using a redirect filter from 'spring-cloud-gateway' should be the right thing.\nExample:\nhttp://localhost:8080/site/rest/services/testservice/1 should be redirected to <a href=\"https://internal-api.com/site/rest/services/testservice/1\" rel=\"nofollow noreferrer\">https://internal-api.com/site/rest/services/testservice/1</a>.</p>\n<p>So far I came up with the following filters in a <code>RouteLocator</code>:</p>\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder builder) {\n    String auth = username + &quot;:&quot; + password;\n    String encodedAuth = Base64.getEncoder().encodeToString(auth.getBytes());\n    \n    return builder.routes()\n            .route(&quot;geoApi&quot;, r -&gt; r\n                    .path(&quot;/site/rest/services/**&quot;)\n                    .filters(f -&gt; {\n                        f.setRequestHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + encodedAuth);\n                        f.redirect(302, &quot;https://internal-api.com&quot;);\n                        return f;\n                    })\n                    .uri(&quot;https://internal-api.com&quot;))\n            .build();\n}\n</code></pre>\n<p>The redirect works, <strong>but</strong> only goes to the &quot;root&quot; url of the internal API and not the &quot;/site/rest/...&quot;. How can I fix this?</p>\n"},{"tags":["python","java","zeromq"],"owner":{"account_id":16944271,"reputation":727,"user_id":12255379,"display_name":"Nikolai Savulkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680102225,"creation_date":1680102225,"question_id":75879008,"body_markdown":"I&#39;m trying to get some data sent from a server (PyZMQ) to an android client (jeroMQ). \r\n\r\nI already managed to get SUB/PUB pattern working but since my python served streams video feed from camera to potentially multiple clients RADIO/DISH seems like a better pattern. \r\n\r\nHere is my java snippet where I setup the dish:\r\n\r\n```java\r\nZMQ.Socket socket = context.createSocket(SocketType.DISH);\r\nsocket.join(&quot;video-feed&quot;);\r\nsocket.connect(&quot;tcp://&quot; + this.host + &quot;:&quot; + this.port);\r\n```\r\n\r\nand this is how my radio socket is setup:\r\n\r\n```py\r\nfootage_socket = context.socket(zmq.RADIO)\r\nfootage_socket.set_hwm(value=1)\r\nfootage_socket.bind(&#39;tcp://145.116.168.25:6666&#39;)\r\n```\r\n\r\nI then send and receive string containing frame data:\r\n\r\n```py\r\nfootage_socket.send(jpg_as_text, group=&quot;video-feed&quot;)\r\n```\r\n\r\nand \r\n\r\n```java\r\nString jpg_as_text = socket.recvStr();\r\n```\r\n\r\nHowever, while java client manages to successfully run, python server complains about call to send, in particular:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;C:/Users/grass/Desktop/codes/Py/track/dummy-sender.py&quot;, line 47, in &lt;module&gt;\r\n    thread.run()\r\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Py\\track\\net_common.py&quot;, line 65, in run\r\n    self._target(self, **kwargs)\r\n  File &quot;C:/Users/grass/Desktop/codes/Py/track/dummy-sender.py&quot;, line 24, in run_send\r\n    kwargs[&quot;sock&quot;].send(jpg_as_text, group=&quot;video-feed&quot;)\r\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\socket.py&quot;, line 687, in send\r\n    data.group = group\r\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\attrsettr.py&quot;, line 26, in __setattr__\r\n    object.__setattr__(self, key, value)\r\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\frame.py&quot;, line 85, in group\r\n    self.set(&#39;group&#39;, group)\r\n  File &quot;zmq\\backend\\cython\\message.pyx&quot;, line 359, in zmq.backend.cython.message.Frame.set\r\n  File &quot;zmq\\backend\\cython\\checkrc.pxd&quot;, line 28, in zmq.backend.cython.checkrc._check_rc\r\nzmq.error.ZMQError: No such device\r\n``` \r\n\r\nFrom error it seems like either RADIO socket is not supported in PyZMQ version i use, or somehow bind fails. But I&#39;m not sure I also got the socket initialization right, since I couldn&#39;t find java example, and sole [python example](https://github.com/zeromq/pyzmq/blob/main/examples/draft/radio-dish.py) i found was very rudimentary. ","title":"RADIO/DISH communication pattern in PyZMQ and jeroMQ","body":"<p>I'm trying to get some data sent from a server (PyZMQ) to an android client (jeroMQ).</p>\n<p>I already managed to get SUB/PUB pattern working but since my python served streams video feed from camera to potentially multiple clients RADIO/DISH seems like a better pattern.</p>\n<p>Here is my java snippet where I setup the dish:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZMQ.Socket socket = context.createSocket(SocketType.DISH);\nsocket.join(&quot;video-feed&quot;);\nsocket.connect(&quot;tcp://&quot; + this.host + &quot;:&quot; + this.port);\n</code></pre>\n<p>and this is how my radio socket is setup:</p>\n<pre class=\"lang-py prettyprint-override\"><code>footage_socket = context.socket(zmq.RADIO)\nfootage_socket.set_hwm(value=1)\nfootage_socket.bind('tcp://145.116.168.25:6666')\n</code></pre>\n<p>I then send and receive string containing frame data:</p>\n<pre class=\"lang-py prettyprint-override\"><code>footage_socket.send(jpg_as_text, group=&quot;video-feed&quot;)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jpg_as_text = socket.recvStr();\n</code></pre>\n<p>However, while java client manages to successfully run, python server complains about call to send, in particular:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;C:/Users/grass/Desktop/codes/Py/track/dummy-sender.py&quot;, line 47, in &lt;module&gt;\n    thread.run()\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Py\\track\\net_common.py&quot;, line 65, in run\n    self._target(self, **kwargs)\n  File &quot;C:/Users/grass/Desktop/codes/Py/track/dummy-sender.py&quot;, line 24, in run_send\n    kwargs[&quot;sock&quot;].send(jpg_as_text, group=&quot;video-feed&quot;)\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\socket.py&quot;, line 687, in send\n    data.group = group\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\attrsettr.py&quot;, line 26, in __setattr__\n    object.__setattr__(self, key, value)\n  File &quot;C:\\Users\\grass\\Desktop\\codes\\Rust\\scripts\\venv\\Desktop\\codes\\Py\\lib\\site-packages\\zmq\\sugar\\frame.py&quot;, line 85, in group\n    self.set('group', group)\n  File &quot;zmq\\backend\\cython\\message.pyx&quot;, line 359, in zmq.backend.cython.message.Frame.set\n  File &quot;zmq\\backend\\cython\\checkrc.pxd&quot;, line 28, in zmq.backend.cython.checkrc._check_rc\nzmq.error.ZMQError: No such device\n</code></pre>\n<p>From error it seems like either RADIO socket is not supported in PyZMQ version i use, or somehow bind fails. But I'm not sure I also got the socket initialization right, since I couldn't find java example, and sole <a href=\"https://github.com/zeromq/pyzmq/blob/main/examples/draft/radio-dish.py\" rel=\"nofollow noreferrer\">python example</a> i found was very rudimentary.</p>\n"},{"tags":["java","gradle","gradle-kotlin-dsl"],"owner":{"account_id":20863086,"reputation":3,"user_id":15419509,"display_name":"GamerCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680102098,"creation_date":1679622173,"question_id":75829375,"body_markdown":"I have multiple modules, one called &quot;abstraction&quot; and one called &quot;API&quot;:\r\n\r\n```kt\r\n// abstraction/build.gradle.kts\r\n\r\ndependencies {\r\n    implementation(project(&quot;:api&quot;))\r\n}\r\n```\r\n\r\nThe gradle command line does not resolve the dependencies from the API module:\r\n```bash\r\n# Present in the API Module\r\nimport me.gamercoder215.starcosmetics.api.cosmetics.Cosmetic;\r\n                                                   ^\r\n  symbol:   class Cosmetic\r\n  location: package me.gamercoder215.starcosmetics.api.cosmetics\r\n100 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:abstraction:compileJava&#39;.\r\n\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\n\r\nHowever, both VSCode (Codespace) and the IntelliJ&#39;s gradle-related extensions both resolve the dependencies in the build script, allowing editing in those IDEs like normal.\r\n\r\n[Screenshot](https://i.stack.imgur.com/ocoqz.png)\r\n\r\nIs there something I&#39;m doing wrong, or is it an issue with Gradle?","title":"Gradle doesn&#39;t resolve module dependencies, but IDE Integrations Do","body":"<p>I have multiple modules, one called &quot;abstraction&quot; and one called &quot;API&quot;:</p>\n<pre><code>// abstraction/build.gradle.kts\n\ndependencies {\n    implementation(project(&quot;:api&quot;))\n}\n</code></pre>\n<p>The gradle command line does not resolve the dependencies from the API module:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Present in the API Module\nimport me.gamercoder215.starcosmetics.api.cosmetics.Cosmetic;\n                                                   ^\n  symbol:   class Cosmetic\n  location: package me.gamercoder215.starcosmetics.api.cosmetics\n100 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':abstraction:compileJava'.\n\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>However, both VSCode (Codespace) and the IntelliJ's gradle-related extensions both resolve the dependencies in the build script, allowing editing in those IDEs like normal.</p>\n<p><a href=\"https://i.stack.imgur.com/ocoqz.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<p>Is there something I'm doing wrong, or is it an issue with Gradle?</p>\n"},{"tags":["java","sql","tls1.2"],"comments":[{"owner":{"account_id":417882,"reputation":312,"user_id":3494429,"display_name":"Chris94"},"score":0,"creation_date":1625228515,"post_id":68126780,"comment_id":120578591,"body_markdown":"Were you able to resolve this issue?","body":"Were you able to resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":1315858,"reputation":1454,"user_id":1262758,"display_name":"Peter Kalef &#39; DidiSoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624604759,"creation_date":1624604759,"answer_id":68126827,"question_id":68126780,"body_markdown":"TLS 1.2 must be configured on SQL Server: [https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe][1]\r\n\r\n\r\n  [1]: https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe","title":"how to fix The server selected protocol version TLS10 is not accepted by client preferences [TLS12]","body":"<p>TLS 1.2 must be configured on SQL Server: <a href=\"https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe</a></p>\n"}],"owner":{"account_id":22047418,"reputation":51,"user_id":16312206,"display_name":"meilyusuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21619,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1680102085,"creation_date":1624604554,"question_id":68126780,"body_markdown":"I want to run a spring boot application with a sql server data base but when I run it, the following error appears :\r\n\r\n```bash\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&quot;. ClientConnectionId:73ea4fa4-e772-4fd7-90f5-d617aec091f2\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2924) ~[mssql-jdbc-7.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881) ~[mssql-jdbc-7.4.1.jre8.jar:na]\r\n```","title":"how to fix The server selected protocol version TLS10 is not accepted by client preferences [TLS12]","body":"<p>I want to run a spring boot application with a sql server data base but when I run it, the following error appears :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&quot;. ClientConnectionId:73ea4fa4-e772-4fd7-90f5-d617aec091f2\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2924) ~[mssql-jdbc-7.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881) ~[mssql-jdbc-7.4.1.jre8.jar:na]\n</code></pre>\n"},{"tags":["java","collections","java-5"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1606849984,"post_id":65096800,"comment_id":115085713,"body_markdown":"Counts an element as duplicate if it appears several times in one list or if an element appears in several lists?","body":"Counts an element as duplicate if it appears several times in one list or if an element appears in several lists?"},{"owner":{"account_id":9814656,"reputation":209,"user_id":7271525,"accept_rate":100,"display_name":"aedan"},"score":0,"creation_date":1606868205,"post_id":65096800,"comment_id":115092206,"body_markdown":"if it at least show up twice on any of list, I should be able to get that number","body":"if it at least show up twice on any of list, I should be able to get that number"}],"answers":[{"comments":[{"owner":{"account_id":9814656,"reputation":209,"user_id":7271525,"accept_rate":100,"display_name":"aedan"},"score":0,"creation_date":1606868822,"post_id":65097318,"comment_id":115092340,"body_markdown":"Sorry I forgot to add that it runs on Java 1.5","body":"Sorry I forgot to add that it runs on Java 1.5"}],"tags":[],"owner":{"account_id":20080667,"reputation":129,"user_id":14723396,"display_name":"Jimbo McHiggins"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606851340,"creation_date":1606851340,"answer_id":65097318,"question_id":65096800,"body_markdown":"### Edit\r\nThis Assumes that you are looking for any duplicate values. This includes finding duplicates in the same list. Correct me if I misunderstood the question.\r\n\r\n---\r\n\r\nYou could do this in O(N) time and O(N) space by traversing the nested hash while counting the occurrences of each integer. Then we can filter to integers with more than one occurrence.\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; innerMap = new HashMap&lt;&gt;();\r\ninnerMap.put(&quot;bDesc_1000&quot;, Arrays.asList(62, 72, 82, 92, 102, 112, 122));\r\ninnerMap.put(&quot;bDesc_1001&quot;, Arrays.asList(180, 190, 200, 210, 220, 230, 240));\r\ninnerMap.put(&quot;cMessage_1000&quot;, Collections.singletonList(112));\r\ninnerMap.put(&quot;cMessage_1001&quot;, Collections.singletonList(232));\r\n\r\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;break_desc100&quot;, innerMap);\r\n\r\nMap&lt;Integer, Integer&gt; occurrenceMap = new HashMap&lt;&gt;();\r\nmap.forEach((outerKey, outerValue) -&gt; {\r\n    outerValue.forEach((innerKey, innerValue) -&gt; {\r\n        innerValue.forEach((element -&gt; occurrenceMap.merge(element, 1, Integer::sum)\r\n        ));\r\n    });\r\n});\r\n\r\nList&lt;Integer&gt; duplicates = occurrenceMap.entrySet().stream()\r\n        .filter(e -&gt; e.getValue() &gt; 1)\r\n        .map(Map.Entry::getKey)\r\n        .collect(Collectors.toList());\r\nSystem.out.println(duplicates);\r\n```\r\noutput\r\n```\r\n[112]\r\n```","title":"Get all duplicate values from multiple list in Java","body":"<h3>Edit</h3>\n<p>This Assumes that you are looking for any duplicate values. This includes finding duplicates in the same list. Correct me if I misunderstood the question.</p>\n<hr />\n<p>You could do this in O(N) time and O(N) space by traversing the nested hash while counting the occurrences of each integer. Then we can filter to integers with more than one occurrence.</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; innerMap = new HashMap&lt;&gt;();\ninnerMap.put(&quot;bDesc_1000&quot;, Arrays.asList(62, 72, 82, 92, 102, 112, 122));\ninnerMap.put(&quot;bDesc_1001&quot;, Arrays.asList(180, 190, 200, 210, 220, 230, 240));\ninnerMap.put(&quot;cMessage_1000&quot;, Collections.singletonList(112));\ninnerMap.put(&quot;cMessage_1001&quot;, Collections.singletonList(232));\n\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;break_desc100&quot;, innerMap);\n\nMap&lt;Integer, Integer&gt; occurrenceMap = new HashMap&lt;&gt;();\nmap.forEach((outerKey, outerValue) -&gt; {\n    outerValue.forEach((innerKey, innerValue) -&gt; {\n        innerValue.forEach((element -&gt; occurrenceMap.merge(element, 1, Integer::sum)\n        ));\n    });\n});\n\nList&lt;Integer&gt; duplicates = occurrenceMap.entrySet().stream()\n        .filter(e -&gt; e.getValue() &gt; 1)\n        .map(Map.Entry::getKey)\n        .collect(Collectors.toList());\nSystem.out.println(duplicates);\n</code></pre>\n<p>output</p>\n<pre><code>[112]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9814656,"reputation":209,"user_id":7271525,"accept_rate":100,"display_name":"aedan"},"score":0,"creation_date":1606868754,"post_id":65097458,"comment_id":115092326,"body_markdown":"Sorry forgot to add that it runs on Java 1.5","body":"Sorry forgot to add that it runs on Java 1.5"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680101889,"creation_date":1606851873,"answer_id":65097458,"question_id":65096800,"body_markdown":"This seems like a suitable task for streams:\r\n\r\n    Map&lt;Integer, Long&gt; counts = streams.values().stream()\r\n           .flatMap(bDescList -&gt; bDescList.values().stream())\r\n           .flatMap(nextList -&gt; nextList.stream())\r\n           .collect(Collectors.groupingBy(\r\n                    Function.identity(), \r\n                    Collectors.counting()));\r\n\r\n    counts.values().removeIf(c -&gt; c == 1L);\r\n\r\n    Set&lt;Integer&gt; duplicates = counts.keySet();\r\n\r\nThis code first creates a map of counts. For this, it first streams the values of the outer map and then uses `Stream.flatMap` to create a new stream with the values of all the inner maps. As these values are actually lists, we need to use `Stream.flatMap` again, to finally get a stream of `Integer`. (I&#39;ve kept the variable names from your question).\r\n\r\nWe collect to a map of counts, where the keys are the numbers from all the inner maps&#39; list values, and the values are the counts for each one of these numbers, accross all maps and lists.\r\n\r\nThen, we remove all entries from the counts map that have a value of `1`. The remaining keys are the duplicate numbers.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT:** Here&#39;s the equivalent code in Java 5... &#128552;&#128552;&#128552;\r\n\r\n    Map&lt;Integer, Long&gt; counts = new HashMap&lt;Integer, Long&gt;();\r\n\r\n    for (Map&lt;String, List&lt;Integer&gt;&gt; bDescList : streams.values()) {\r\n        for (List&lt;Integer&gt; bDesc : bDescList.values()) {\r\n            for (Integer n : bDesc) {\r\n                Long c = counts.get(n);\r\n                if (c == null) {\r\n                    c = 0L;\r\n                }\r\n                counts.put(n, c + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    Iterator&lt;Long&gt; it = counts.values().iterator();\r\n    while (it.hasNext()) {\r\n        Long c = it.next();\r\n        if (c == 1L) {\r\n            it.remove();\r\n        }\r\n    }\r\n\r\n    Set&lt;Integer&gt; duplicates = counts.keySet();\r\n\r\nThe rationale is exactly the same here... We create a map of counts by iterating the map of maps of lists, then we remove entries with a count of 1 and the remaining keys are the duplicates.\r\n","title":"Get all duplicate values from multiple list in Java","body":"<p>This seems like a suitable task for streams:</p>\n<pre><code>Map&lt;Integer, Long&gt; counts = streams.values().stream()\n       .flatMap(bDescList -&gt; bDescList.values().stream())\n       .flatMap(nextList -&gt; nextList.stream())\n       .collect(Collectors.groupingBy(\n                Function.identity(), \n                Collectors.counting()));\n\ncounts.values().removeIf(c -&gt; c == 1L);\n\nSet&lt;Integer&gt; duplicates = counts.keySet();\n</code></pre>\n<p>This code first creates a map of counts. For this, it first streams the values of the outer map and then uses <code>Stream.flatMap</code> to create a new stream with the values of all the inner maps. As these values are actually lists, we need to use <code>Stream.flatMap</code> again, to finally get a stream of <code>Integer</code>. (I've kept the variable names from your question).</p>\n<p>We collect to a map of counts, where the keys are the numbers from all the inner maps' list values, and the values are the counts for each one of these numbers, accross all maps and lists.</p>\n<p>Then, we remove all entries from the counts map that have a value of <code>1</code>. The remaining keys are the duplicate numbers.</p>\n<hr />\n<p><strong>EDIT:</strong> Here's the equivalent code in Java 5... 😨😨😨</p>\n<pre><code>Map&lt;Integer, Long&gt; counts = new HashMap&lt;Integer, Long&gt;();\n\nfor (Map&lt;String, List&lt;Integer&gt;&gt; bDescList : streams.values()) {\n    for (List&lt;Integer&gt; bDesc : bDescList.values()) {\n        for (Integer n : bDesc) {\n            Long c = counts.get(n);\n            if (c == null) {\n                c = 0L;\n            }\n            counts.put(n, c + 1);\n        }\n    }\n}\n\nIterator&lt;Long&gt; it = counts.values().iterator();\nwhile (it.hasNext()) {\n    Long c = it.next();\n    if (c == 1L) {\n        it.remove();\n    }\n}\n\nSet&lt;Integer&gt; duplicates = counts.keySet();\n</code></pre>\n<p>The rationale is exactly the same here... We create a map of counts by iterating the map of maps of lists, then we remove entries with a count of 1 and the remaining keys are the duplicates.</p>\n"}],"owner":{"account_id":9814656,"reputation":209,"user_id":7271525,"accept_rate":100,"display_name":"aedan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65097458,"answer_count":2,"score":3,"last_activity_date":1680101889,"creation_date":1606849056,"question_id":65096800,"body_markdown":"I want to get all values that has duplicate from multiple List of Integers.\r\nThe confusing part is these list of Integers are inside a Map of Map like this LinkedHashMap&lt;String, LinkedHashMap&lt;String, List&lt;Integer&gt;&gt;&gt; streams\r\n```\r\n// sample value\r\n{\r\n\tbreak_desc100=\r\n\t{\r\n\t\tbDesc_1000=[62, 72, 82, 92, 102, 112, 122], \r\n\t\tbDesc 1001=[180, 190, 200, 210, 220, 230, 240], \r\n\t\tcMessage_1000=[112], \r\n\t\tcMessage_1001=[232]\r\n\t}\r\n}\r\n// for this one I want to get 112\r\n```\r\nSo far I tried using retainAll but my code doesn&#39;t work if the list with duplicate are not next to each other.\r\n```\r\nfor (Map.Entry&lt;String,LinkedHashMap&lt;String,List&lt;Integer&gt;&gt;&gt; entry : streams.entrySet()) {\r\n     String currentStream = entry.getKey();\r\n     LinkedHashMap&lt;String,List&lt;Integer&gt;&gt; bDescList = entry.getValue();\r\n     for (Map.Entry&lt;String,List&lt;Integer&gt;&gt; bDesc : bDescList.entrySet()) {\r\n          if (firstIteration) {\r\n              prevBDesc = bDesc;\r\n              firstIteration = false;\r\n          } else {\r\n              List&lt;Integer&gt; currentList = prevBDesc.getValue();\r\n              List&lt;Integer&gt; nextList = bDesc.getValue();\r\n              duplicates = new ArrayList&lt;Integer&gt;(currentList);\r\n              duplicates.retainAll(nextList);\r\n              allDuplicates.addAll(duplicates); //Set&lt;Integer&gt;\r\n              prevBDesc = bDesc;\r\n          }\r\n     }\r\n}\r\n```\r\nEDIT:\r\nSorry guys I forgot to add that it is running on Java 1.5.","title":"Get all duplicate values from multiple list in Java","body":"<p>I want to get all values that has duplicate from multiple List of Integers.\nThe confusing part is these list of Integers are inside a Map of Map like this LinkedHashMap&lt;String, LinkedHashMap&lt;String, List&gt;&gt; streams</p>\n<pre><code>// sample value\n{\n    break_desc100=\n    {\n        bDesc_1000=[62, 72, 82, 92, 102, 112, 122], \n        bDesc 1001=[180, 190, 200, 210, 220, 230, 240], \n        cMessage_1000=[112], \n        cMessage_1001=[232]\n    }\n}\n// for this one I want to get 112\n</code></pre>\n<p>So far I tried using retainAll but my code doesn't work if the list with duplicate are not next to each other.</p>\n<pre><code>for (Map.Entry&lt;String,LinkedHashMap&lt;String,List&lt;Integer&gt;&gt;&gt; entry : streams.entrySet()) {\n     String currentStream = entry.getKey();\n     LinkedHashMap&lt;String,List&lt;Integer&gt;&gt; bDescList = entry.getValue();\n     for (Map.Entry&lt;String,List&lt;Integer&gt;&gt; bDesc : bDescList.entrySet()) {\n          if (firstIteration) {\n              prevBDesc = bDesc;\n              firstIteration = false;\n          } else {\n              List&lt;Integer&gt; currentList = prevBDesc.getValue();\n              List&lt;Integer&gt; nextList = bDesc.getValue();\n              duplicates = new ArrayList&lt;Integer&gt;(currentList);\n              duplicates.retainAll(nextList);\n              allDuplicates.addAll(duplicates); //Set&lt;Integer&gt;\n              prevBDesc = bDesc;\n          }\n     }\n}\n</code></pre>\n<p>EDIT:\nSorry guys I forgot to add that it is running on Java 1.5.</p>\n"},{"tags":["java","io","bufferedreader"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1680107221,"post_id":75878906,"comment_id":133842535,"body_markdown":"1. If you want **specific** answers about performance, you have to benchmark (in this case [micro-benchmark](https://stackoverflow.com/questions/504103)) a *specific* use case yourself to get useful answers. General, vague answers are of limited use. 2. despite #1 I will tell you that the majority of the performance in any I/O will be lost in the actual I/O and not in any utility code surrounding it (unless that utility code does something *very* silly, like re-reading the same file over and over again). 3. being able to write code faster is also valuable, maybe more than code running faster.","body":"1. If you want <b>specific</b> answers about performance, you have to benchmark (in this case <a href=\"https://stackoverflow.com/questions/504103\">micro-benchmark</a>) a <i>specific</i> use case yourself to get useful answers. General, vague answers are of limited use. 2. despite #1 I will tell you that the majority of the performance in any I/O will be lost in the actual I/O and not in any utility code surrounding it (unless that utility code does something <i>very</i> silly, like re-reading the same file over and over again). 3. being able to write code faster is also valuable, maybe more than code running faster."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680109108,"post_id":75878906,"comment_id":133842995,"body_markdown":"Don’t believe arbitrary internet pages claiming to have the magic solution that makes things faster. Read *carefully* what you have found and consider that even if the statements on this page were true for Java&#160;6 and Windows XP, it doesn’t mean that this has any relevance for today’s systems. However, to code shown on this page indicates that the author does *not* know, [how to do a correct micro benchmark](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java?noredirect=1&amp;lq=1).","body":"Don’t believe arbitrary internet pages claiming to have the magic solution that makes things faster. Read <i>carefully</i> what you have found and consider that even if the statements on this page were true for Java 6 and Windows XP, it doesn’t mean that this has any relevance for today’s systems. However, to code shown on this page indicates that the author does <i>not</i> know, <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java?noredirect=1&amp;lq=1\">how to do a correct micro benchmark</a>."}],"owner":{"account_id":22097004,"reputation":11,"user_id":16393969,"display_name":"LLLgoyour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680101818,"creation_date":1680101818,"question_id":75878906,"body_markdown":"When I mention &quot;better&quot;, it means the program will reduce its use of memory, or the program will run faster.\r\n\r\nIn competetive coding, we seek better IO and reduce time and space complexity to access sample cases. I use Java specifically in competetive coding, and I wonder is there really a difference between using a input class or using java.io.BufferReader.\r\n\r\nWhen I reviewed past USACO platinum [problem solution](https://web.archive.org/web/20221221132451/http://usaco.org/current/data/sol_prob3_platinum_open21.html) written in Java, I saw uses of BufferedReader.\r\n\r\nIf I say I use BufferReader, the code will be:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\nclass template {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    }\r\n}\r\n```\r\n\r\nIf I write a input class, the code will be (credit to: [Department of Computer Engineering in Kasetsart University](https://web.archive.org/web/20220930184059/https://www.cpe.ku.ac.th/~jim/java-io.html))\r\n\r\n```\r\n/** Class for buffered reading int and double values */\r\nclass Reader {\r\n    static BufferedReader reader;\r\n    static StringTokenizer tokenizer;\r\n\r\n    /** call this method to initialize reader for InputStream */\r\n    static void init(InputStream input) {\r\n        reader = new BufferedReader(\r\n                     new InputStreamReader(input) );\r\n        tokenizer = new StringTokenizer(&quot;&quot;);\r\n    }\r\n\r\n    /** get next word */\r\n    static String next() throws IOException {\r\n        while ( ! tokenizer.hasMoreTokens() ) {\r\n            //TODO add check for eof if necessary\r\n            tokenizer = new StringTokenizer(\r\n                   reader.readLine() );\r\n        }\r\n        return tokenizer.nextToken();\r\n    }\r\n\r\n    static int nextInt() throws IOException {\r\n        return Integer.parseInt( next() );\r\n    }\r\n\t\r\n    static double nextDouble() throws IOException {\r\n        return Double.parseDouble( next() );\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected directly using BufferedReader could be better.","title":"Is it better to write a custom input class or use BufferReader directly for INPUT in Java?","body":"<p>When I mention &quot;better&quot;, it means the program will reduce its use of memory, or the program will run faster.</p>\n<p>In competetive coding, we seek better IO and reduce time and space complexity to access sample cases. I use Java specifically in competetive coding, and I wonder is there really a difference between using a input class or using java.io.BufferReader.</p>\n<p>When I reviewed past USACO platinum <a href=\"https://web.archive.org/web/20221221132451/http://usaco.org/current/data/sol_prob3_platinum_open21.html\" rel=\"nofollow noreferrer\">problem solution</a> written in Java, I saw uses of BufferedReader.</p>\n<p>If I say I use BufferReader, the code will be:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass template {\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    }\n}\n</code></pre>\n<p>If I write a input class, the code will be (credit to: <a href=\"https://web.archive.org/web/20220930184059/https://www.cpe.ku.ac.th/%7Ejim/java-io.html\" rel=\"nofollow noreferrer\">Department of Computer Engineering in Kasetsart University</a>)</p>\n<pre><code>/** Class for buffered reading int and double values */\nclass Reader {\n    static BufferedReader reader;\n    static StringTokenizer tokenizer;\n\n    /** call this method to initialize reader for InputStream */\n    static void init(InputStream input) {\n        reader = new BufferedReader(\n                     new InputStreamReader(input) );\n        tokenizer = new StringTokenizer(&quot;&quot;);\n    }\n\n    /** get next word */\n    static String next() throws IOException {\n        while ( ! tokenizer.hasMoreTokens() ) {\n            //TODO add check for eof if necessary\n            tokenizer = new StringTokenizer(\n                   reader.readLine() );\n        }\n        return tokenizer.nextToken();\n    }\n\n    static int nextInt() throws IOException {\n        return Integer.parseInt( next() );\n    }\n    \n    static double nextDouble() throws IOException {\n        return Double.parseDouble( next() );\n    }\n}\n</code></pre>\n<p>I expected directly using BufferedReader could be better.</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":10064371,"reputation":1,"user_id":7439966,"display_name":"Mehmet Karaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680101469,"creation_date":1680101469,"answer_id":75878843,"question_id":75878323,"body_markdown":"If I understood correctly you want to list all API&#39;s that app is exposing, in this case I suggest to use openapi  so that you can see the app API&#39;s / execute any of them via browser.\r\n\r\nEx: https://www.baeldung.com/spring-rest-openapi-documentation\r\n\r\nFYI : It could be better if you share code for how you to expose the api since 404 is clearly says that you are not hitting the correct endpoint or you don&#39;t have the api for that enpoint\r\n","title":"How to list all endpoints for a spring MVC API ( not spring boot)","body":"<p>If I understood correctly you want to list all API's that app is exposing, in this case I suggest to use openapi  so that you can see the app API's / execute any of them via browser.</p>\n<p>Ex: <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-openapi-documentation</a></p>\n<p>FYI : It could be better if you share code for how you to expose the api since 404 is clearly says that you are not hitting the correct endpoint or you don't have the api for that enpoint</p>\n"}],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680101469,"creation_date":1680098787,"question_id":75878323,"body_markdown":"I&#39;m getting an unexpected  404 from a Spring MVC API.  How can I list all endpoints that have been registered?  This is not a spring boot API.","title":"How to list all endpoints for a spring MVC API ( not spring boot)","body":"<p>I'm getting an unexpected  404 from a Spring MVC API.  How can I list all endpoints that have been registered?  This is not a spring boot API.</p>\n"},{"tags":["java","ucanaccess"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1500402673,"post_id":45174484,"comment_id":77317203,"body_markdown":"Please show your code, so that people can replicate the issue. Can you also specify the platforms you&#39;re using?","body":"Please show your code, so that people can replicate the issue. Can you also specify the platforms you&#39;re using?"},{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1500482222,"post_id":45174484,"comment_id":77359941,"body_markdown":"I was able to recreate this issue with UCanAccess 4.0.2 and have reported it to the UCanAccess development team.","body":"I was able to recreate this issue with UCanAccess 4.0.2 and have reported it to the UCanAccess development team."}],"answers":[{"tags":[],"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506906600,"creation_date":1506906600,"answer_id":46518360,"question_id":45174484,"body_markdown":"This is a known issue with UCanAccess 4.0.2 and earlier. The required fix has been merged into the master branch and will be included in the next release of UCanAccess.","title":"UCanAccess 4.0.2 uppercase column names cannot be found","body":"<p>This is a known issue with UCanAccess 4.0.2 and earlier. The required fix has been merged into the master branch and will be included in the next release of UCanAccess.</p>\n"}],"owner":{"account_id":3559341,"reputation":231,"user_id":2972185,"accept_rate":83,"display_name":"user2972185"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680101463,"creation_date":1500402557,"question_id":45174484,"body_markdown":"In my java program, I want to query some columns in * .mdb using UCanAccess. However, some characters seem wrong because it converts all column names to upper case. For example, on one platform, column name `egitim` becomes `&#200;GITIM` in capital letters, while in another it becomes an `&#200;GİTİM`. I want my program to be platform independent. \r\nHowever, if I write `egitim` in my query, It is working correctly on the first platform and I am getting error on the second. If I write `EGİTİM` this time it does not work on the first platform. Is there a way to set charset of UCanAccess programmatically?\r\n\r\nYou can see the code below:\r\n\r\n    Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n    Connection conn = DriverManager.getConnection(JAtama.url);\r\n    Statement st = conn.createStatement();\r\n    ResultSet rs = st.executeQuery(&quot;select distinct egitim from dersler&quot;);\r\n\r\nlast line gives `net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::4.0.2 user lacks privilege or object not found: EGITIM` exception.\r\n\r\nBoth platforms are macOS Sierra. But one of them is Turkish and the other one is English. (In Turkish Language capital letter i is İ.","title":"UCanAccess 4.0.2 uppercase column names cannot be found","body":"<p>In my java program, I want to query some columns in * .mdb using UCanAccess. However, some characters seem wrong because it converts all column names to upper case. For example, on one platform, column name <code>egitim</code> becomes <code>ÈGITIM</code> in capital letters, while in another it becomes an <code>ÈGİTİM</code>. I want my program to be platform independent. \nHowever, if I write <code>egitim</code> in my query, It is working correctly on the first platform and I am getting error on the second. If I write <code>EGİTİM</code> this time it does not work on the first platform. Is there a way to set charset of UCanAccess programmatically?</p>\n\n<p>You can see the code below:</p>\n\n<pre><code>Class.forName(\"net.ucanaccess.jdbc.UcanaccessDriver\");\nConnection conn = DriverManager.getConnection(JAtama.url);\nStatement st = conn.createStatement();\nResultSet rs = st.executeQuery(\"select distinct egitim from dersler\");\n</code></pre>\n\n<p>last line gives <code>net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::4.0.2 user lacks privilege or object not found: EGITIM</code> exception.</p>\n\n<p>Both platforms are macOS Sierra. But one of them is Turkish and the other one is English. (In Turkish Language capital letter i is İ.</p>\n"},{"tags":["java","micronaut","suppress-warnings","micronaut-serde"],"answers":[{"tags":[],"owner":{"account_id":924003,"reputation":549,"user_id":965852,"display_name":"jonas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680101439,"creation_date":1680101439,"answer_id":75878835,"question_id":75877682,"body_markdown":"There is no way to achieve this with `Argument.of`, but there is `GenericArgument` which is exactly what is needed.\r\n\r\nFull example:\r\n\r\n```java\r\nimport io.micronaut.context.annotation.Prototype;\r\nimport io.micronaut.core.type.GenericArgument;\r\nimport io.micronaut.serde.ObjectMapper;\r\nimport jakarta.inject.Inject;\r\n\r\n@Prototype\r\npublic class Scratch {\r\n\tprivate static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n\tprivate final ObjectMapper objectMapper;\r\n\r\n\t@Inject\r\n\tpublic Scratch(ObjectMapper objectMapper) {\r\n\t\tthis.objectMapper = objectMapper;\r\n\t}\r\n\r\n\tprivate Optional&lt;CommonResponse&lt;JobResponse&gt;&gt; getCommonResponse(final String entry) {\r\n\t\ttry {\r\n\t\t\treturn Optional.of(objectMapper.readValue(entry, new GenericArgument&lt;&gt;() {}));\r\n\t\t} catch (IOException e) {\r\n     \t   LOG.warn(&quot;Could not deserialize, skipping entry: &#39;{}&#39;&quot;, entry, e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n}\r\n```\r\nSee https://github.com/micronaut-projects/micronaut-core/issues/2204\r\n\r\n","title":"Deserializing with generics using Micronaut Serialization without using @SuppressWarnings(&quot;unchecked&quot;)","body":"<p>There is no way to achieve this with <code>Argument.of</code>, but there is <code>GenericArgument</code> which is exactly what is needed.</p>\n<p>Full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.context.annotation.Prototype;\nimport io.micronaut.core.type.GenericArgument;\nimport io.micronaut.serde.ObjectMapper;\nimport jakarta.inject.Inject;\n\n@Prototype\npublic class Scratch {\n    private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n    private final ObjectMapper objectMapper;\n\n    @Inject\n    public Scratch(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    private Optional&lt;CommonResponse&lt;JobResponse&gt;&gt; getCommonResponse(final String entry) {\n        try {\n            return Optional.of(objectMapper.readValue(entry, new GenericArgument&lt;&gt;() {}));\n        } catch (IOException e) {\n           LOG.warn(&quot;Could not deserialize, skipping entry: '{}'&quot;, entry, e);\n        }\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>See <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/2204\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/2204</a></p>\n"}],"owner":{"account_id":924003,"reputation":549,"user_id":965852,"display_name":"jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75878835,"answer_count":1,"score":2,"last_activity_date":1680101439,"creation_date":1680095295,"question_id":75877682,"body_markdown":"I try to deserialize a generic Object `W&lt;T&gt;` from JSON with [Micronaut Serialization ](https://github.com/micronaut-projects/micronaut-serialization), it works, but the compiler produces an &quot;unchecked assignment&quot; warning.\r\n\r\nI would like to achieve the same result without the warning or using `@SuppressWarnings(&quot;unchecked&quot;)`.\r\n\r\nThe following is a reduced version of the code I use. It works, but there is a `@SuppressWarnings(&quot;unchecked&quot;)` annotation.\r\n\r\n1st note: The `ObjectMapper` is not the Jackson ObjectMapper, but the `io.micronaut.serde.ObjectMapper`&lt;br&gt;2nd note: I removed common `java` and `slf4j` imports for brevity\r\n\r\n```java\r\nimport io.micronaut.context.annotation.Prototype;\r\nimport io.micronaut.core.type.Argument;\r\nimport io.micronaut.serde.ObjectMapper;\r\nimport jakarta.inject.Inject;\r\n\r\n@Prototype\r\npublic class Scratch {\r\n\tprivate static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n\tprivate final ObjectMapper objectMapper;\r\n\r\n\t@Inject\r\n\tpublic Scratch(ObjectMapper objectMapper) {\r\n\t\tthis.objectMapper = objectMapper;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate Optional&lt;CommonResponse&lt;JobResponse&gt;&gt; getCommonResponse(final String entry) {\r\n\t\ttry {\r\n\t\t\treturn Optional.of(objectMapper.readValue(entry, Argument.of(CommonResponse.class, JobResponse.class)));\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOG.warn(&quot;Could not deserialize, skipping entry: &#39;{}&#39;&quot;, entry, e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n}\r\n```","title":"Deserializing with generics using Micronaut Serialization without using @SuppressWarnings(&quot;unchecked&quot;)","body":"<p>I try to deserialize a generic Object <code>W&lt;T&gt;</code> from JSON with <a href=\"https://github.com/micronaut-projects/micronaut-serialization\" rel=\"nofollow noreferrer\">Micronaut Serialization </a>, it works, but the compiler produces an &quot;unchecked assignment&quot; warning.</p>\n<p>I would like to achieve the same result without the warning or using <code>@SuppressWarnings(&quot;unchecked&quot;)</code>.</p>\n<p>The following is a reduced version of the code I use. It works, but there is a <code>@SuppressWarnings(&quot;unchecked&quot;)</code> annotation.</p>\n<p>1st note: The <code>ObjectMapper</code> is not the Jackson ObjectMapper, but the <code>io.micronaut.serde.ObjectMapper</code><br>2nd note: I removed common <code>java</code> and <code>slf4j</code> imports for brevity</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.context.annotation.Prototype;\nimport io.micronaut.core.type.Argument;\nimport io.micronaut.serde.ObjectMapper;\nimport jakarta.inject.Inject;\n\n@Prototype\npublic class Scratch {\n    private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n    private final ObjectMapper objectMapper;\n\n    @Inject\n    public Scratch(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Optional&lt;CommonResponse&lt;JobResponse&gt;&gt; getCommonResponse(final String entry) {\n        try {\n            return Optional.of(objectMapper.readValue(entry, Argument.of(CommonResponse.class, JobResponse.class)));\n        } catch (IOException e) {\n            LOG.warn(&quot;Could not deserialize, skipping entry: '{}'&quot;, entry, e);\n        }\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667927461,"creation_date":1667927461,"answer_id":74364640,"question_id":74359498,"body_markdown":"You can use `.then(Mono.just(fileName))` or `.thenReturn(fileName)` to continue the flow and return file name.\r\n\r\n```\r\n@PostMapping(&quot;file/multi&quot;)\r\npublic Mono&lt;String&gt; upload(@RequestPart(&quot;files&quot;) Flux&lt;FilePart&gt; partFlux){\r\n\t\treturn  partFlux\r\n\t\t\t\t.flatMap(fp -&gt; {\r\n\t\t\t\t\tvar fileName = basePath.resolve(fp.filename());\r\n\t\t\t\t\treturn fp.transferTo(fileName)\r\n\t\t\t\t\t\t\t.thenReturn(fileName);\r\n\t\t\t\t});\r\n\t}\r\n```","title":"how to return file name , webflux file upload","body":"<p>You can use <code>.then(Mono.just(fileName))</code> or <code>.thenReturn(fileName)</code> to continue the flow and return file name.</p>\n<pre><code>@PostMapping(&quot;file/multi&quot;)\npublic Mono&lt;String&gt; upload(@RequestPart(&quot;files&quot;) Flux&lt;FilePart&gt; partFlux){\n        return  partFlux\n                .flatMap(fp -&gt; {\n                    var fileName = basePath.resolve(fp.filename());\n                    return fp.transferTo(fileName)\n                            .thenReturn(fileName);\n                });\n    }\n</code></pre>\n"}],"owner":{"account_id":26865604,"reputation":3,"user_id":20448422,"display_name":"gomest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74364640,"answer_count":1,"score":0,"last_activity_date":1680101385,"creation_date":1667904770,"question_id":74359498,"body_markdown":"the example is https://www.vinsguru.com/spring-webflux-file-upload/\r\n\r\n\r\n```\r\n\r\n@PostMapping(&quot;file/multi&quot;)\r\npublic Mono&lt;Void&gt; upload(@RequestPart(&quot;files&quot;) Flux&lt;FilePart&gt; partFlux){\r\n    return  partFlux\r\n                .doOnNext(fp -&gt; System.out.println(fp.filename()))\r\n                .flatMap(fp -&gt; fp.transferTo(basePath.resolve(fp.filename())))\r\n                .then();\r\n}\r\n```\r\n\r\nbut i want to return to upload file name\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n............................","title":"how to return file name , webflux file upload","body":"<p>the example is <a href=\"https://www.vinsguru.com/spring-webflux-file-upload/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/spring-webflux-file-upload/</a></p>\n<pre><code>\n@PostMapping(&quot;file/multi&quot;)\npublic Mono&lt;Void&gt; upload(@RequestPart(&quot;files&quot;) Flux&lt;FilePart&gt; partFlux){\n    return  partFlux\n                .doOnNext(fp -&gt; System.out.println(fp.filename()))\n                .flatMap(fp -&gt; fp.transferTo(basePath.resolve(fp.filename())))\n                .then();\n}\n</code></pre>\n<p>but i want to return to upload file name</p>\n<p>............................</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":1,"creation_date":1676494684,"post_id":75464365,"comment_id":133150659,"body_markdown":"Remind you that the mono tag is for something else. Do study each tags before using.","body":"Remind you that the mono tag is for something else. Do study each tags before using."},{"owner":{"account_id":13783453,"reputation":3,"user_id":9948026,"display_name":"Web2h"},"score":0,"creation_date":1676560595,"post_id":75464365,"comment_id":133165048,"body_markdown":"Not sure to follow @LexLi ...\nI&#39;m using a Mono because my service can only return 1 element","body":"Not sure to follow @LexLi ... I&#39;m using a Mono because my service can only return 1 element"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1676561021,"post_id":75464365,"comment_id":133165216,"body_markdown":"In short, use the java tag.","body":"In short, use the java tag."},{"owner":{"account_id":13783453,"reputation":3,"user_id":9948026,"display_name":"Web2h"},"score":0,"creation_date":1676562635,"post_id":75464365,"comment_id":133165810,"body_markdown":"Ok, I finally got what you meant.\nThe question tags!!\nYeah you right. Thanx for editing the tags","body":"Ok, I finally got what you meant. The question tags!! Yeah you right. Thanx for editing the tags"}],"answers":[{"comments":[{"owner":{"account_id":13783453,"reputation":3,"user_id":9948026,"display_name":"Web2h"},"score":0,"creation_date":1676560842,"post_id":75465018,"comment_id":133165132,"body_markdown":"Thanx @Alex.\nI knew I didn&#39;t need to block, Blocking was not an option by the way.\nIt was just to show that I was stuck in the wrong path and blocking was the only option here.\nFlat mapping was the right path that I should have taken instead of the one I took","body":"Thanx @Alex. I knew I didn&#39;t need to block, Blocking was not an option by the way. It was just to show that I was stuck in the wrong path and blocking was the only option here. Flat mapping was the right path that I should have taken instead of the one I took"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676492010,"creation_date":1676492010,"answer_id":75465018,"question_id":75464365,"body_markdown":"You don&#39;t really need to block. You need to build reactive flow combining different operators.\r\n\r\nIn your case it could look like\r\n\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; handleRequest(ServerRequest serverRequest) {\r\n    return getProduct() // Service call to get the Mono&lt;Product&gt;\r\n            .map(product -&gt; mapToResponse(product)) // Product -&gt; ProductResponse\r\n            .flatMap(response -&gt;\r\n                    ServerResponse.ok()\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .location(URI.create(String.format(&quot;/api/products/%s&quot;, response.getId())))\r\n                            .body(BodyInserters.fromValue(response))\r\n            );\r\n}\r\n```","title":"Webflux returning Mono and using info in Object in Mono to set header","body":"<p>You don't really need to block. You need to build reactive flow combining different operators.</p>\n<p>In your case it could look like</p>\n<pre><code>public Mono&lt;ServerResponse&gt; handleRequest(ServerRequest serverRequest) {\n    return getProduct() // Service call to get the Mono&lt;Product&gt;\n            .map(product -&gt; mapToResponse(product)) // Product -&gt; ProductResponse\n            .flatMap(response -&gt;\n                    ServerResponse.ok()\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .location(URI.create(String.format(&quot;/api/products/%s&quot;, response.getId())))\n                            .body(BodyInserters.fromValue(response))\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":13783453,"reputation":3,"user_id":9948026,"display_name":"Web2h"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75465018,"answer_count":1,"score":0,"last_activity_date":1680101356,"creation_date":1676487755,"question_id":75464365,"body_markdown":"Let&#39;s say my Webflux handler returns a Mono on a product creation\r\nThat&#39;s easy to do.\r\n\r\nBut now, I want to complete the response with a `location` in the header.\r\nTo do so, I need to get the created product ID.\r\n\r\nIn my example, I used a `block()` which fails the reactive idea of the handler.\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; handleRequest(ServerRequest serverRequest) {\r\n        ...\r\n        Mono&lt;Product&gt; monoProduct = // Service call to get the Mono&lt;Product&gt;\r\n        return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\r\n                             .location(URI.create(String.format(&quot;/api/products/%s&quot;,\r\n                                                                monoProduct.block().getId()))))\r\n                             .body(monoProduct), ProductResponse.class);\r\n    }\r\n```\r\n\r\nHow can I perform such a task without breaking the reactive principles?","title":"Webflux returning Mono and using info in Object in Mono to set header","body":"<p>Let's say my Webflux handler returns a Mono on a product creation\nThat's easy to do.</p>\n<p>But now, I want to complete the response with a <code>location</code> in the header.\nTo do so, I need to get the created product ID.</p>\n<p>In my example, I used a <code>block()</code> which fails the reactive idea of the handler.</p>\n<pre><code>public Mono&lt;ServerResponse&gt; handleRequest(ServerRequest serverRequest) {\n        ...\n        Mono&lt;Product&gt; monoProduct = // Service call to get the Mono&lt;Product&gt;\n        return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n                             .location(URI.create(String.format(&quot;/api/products/%s&quot;,\n                                                                monoProduct.block().getId()))))\n                             .body(monoProduct), ProductResponse.class);\n    }\n</code></pre>\n<p>How can I perform such a task without breaking the reactive principles?</p>\n"},{"tags":["java","typescript","spring-boot","urlencode"],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680100730,"creation_date":1680100730,"question_id":75878714,"body_markdown":"I define a object type in typescript client like this:\r\n\r\n\r\n    export interface IChatAsk {\r\n        prompt: string,\r\n        cid: number\r\n    }\r\n\r\n\r\nthen I composite the object to query parameter like this:\r\n\r\n\r\n    var queryString = Object.keys(params).map(key =&gt; key + &#39;=&#39; + params[key as keyof IChatAsk]).join(&#39;&amp;&#39;);\r\n\r\n\r\n\r\nencoded and send a get request to server:\r\n\r\n\r\n\r\n    eventSource = new EventSourcePolyfill(&#39;/ai/stream/chat/ask?&#39; + encodeURIComponent(queryString), {\r\n        headers: {\r\n          &#39;x-access-token&#39;: accessToken ?? &quot;&quot;,\r\n          &#39;x-request-id&#39;: uuid(),\r\n        }\r\n      });\r\n\r\n\r\n \r\nthe server side shows error:\r\n\r\n\r\n    Caused by: org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;prompt&#39; for method parameter type String is not present\r\n    \tat org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:218) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114) ~[spring-web-5.3.19.jar:5.3.19]\r\n\r\n\r\n\r\n\r\nseems the server side could not parse the encoded URI parameter? what should I do to make it work? I did not want to concat the client query parameter one by one. The server side code look like this:\r\n\r\n\r\n\r\n    @GetMapping(path=&quot;/ask&quot;,produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    SseEmitter askStream(@RequestParam(required = true) String prompt, @RequestParam(required = false) Long cid);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"why the java sever could not parse encodeURIComponent parameter","body":"<p>I define a object type in typescript client like this:</p>\n<pre><code>export interface IChatAsk {\n    prompt: string,\n    cid: number\n}\n</code></pre>\n<p>then I composite the object to query parameter like this:</p>\n<pre><code>var queryString = Object.keys(params).map(key =&gt; key + '=' + params[key as keyof IChatAsk]).join('&amp;');\n</code></pre>\n<p>encoded and send a get request to server:</p>\n<pre><code>eventSource = new EventSourcePolyfill('/ai/stream/chat/ask?' + encodeURIComponent(queryString), {\n    headers: {\n      'x-access-token': accessToken ?? &quot;&quot;,\n      'x-request-id': uuid(),\n    }\n  });\n</code></pre>\n<p>the server side shows error:</p>\n<pre><code>Caused by: org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'prompt' for method parameter type String is not present\n    at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:218) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114) ~[spring-web-5.3.19.jar:5.3.19]\n</code></pre>\n<p>seems the server side could not parse the encoded URI parameter? what should I do to make it work? I did not want to concat the client query parameter one by one. The server side code look like this:</p>\n<pre><code>@GetMapping(path=&quot;/ask&quot;,produces = MediaType.TEXT_EVENT_STREAM_VALUE)\nSseEmitter askStream(@RequestParam(required = true) String prompt, @RequestParam(required = false) Long cid);\n</code></pre>\n"},{"tags":["java","scala","csv"],"comments":[{"owner":{"account_id":2025301,"reputation":1317,"user_id":1810485,"display_name":"Pascal Soucy"},"score":1,"creation_date":1472503251,"post_id":39214182,"comment_id":65768412,"body_markdown":"Are you executing from the command line or from an IDE? You can also println(new java.io.File(&quot;./&quot;).getCanonicalPath) to better understand the current working folder.","body":"Are you executing from the command line or from an IDE? You can also println(new java.io.File(&quot;./&quot;).getCanonicalPath) to better understand the current working folder."},{"owner":{"account_id":3220242,"reputation":31,"user_id":2717881,"accept_rate":25,"display_name":"Nish"},"score":0,"creation_date":1474193500,"post_id":39214182,"comment_id":66423865,"body_markdown":"Thanks Pascal. This helped in figuring out what my working directory was! Finally this worked -&gt; &quot;MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv&quot;","body":"Thanks Pascal. This helped in figuring out what my working directory was! Finally this worked -&gt; &quot;MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv&zwnj;&#8203;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4692255,"reputation":14807,"user_id":3798102,"accept_rate":62,"display_name":"Nagarjuna Pamu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472501736,"creation_date":1472501736,"answer_id":39214472,"question_id":39214182,"body_markdown":"Put your csv file inside `resources` folder (`src/main/resources`) of the project. now you can access the `file` inside the resources folder using below code snippet from any where inside the `src` package. do not forget to put initial `/`.\r\n\r\n    Source.fromFile(getClass.getResource(&quot;/hello.csv&quot;).getFile).getLines().foreach(println)\r\n\r\nfor more info https://stackoverflow.com/questions/27360977/how-to-read-files-from-resources-folder-in-scala","title":"Not able to access a file using Relative paths in Scala","body":"<p>Put your csv file inside <code>resources</code> folder (<code>src/main/resources</code>) of the project. now you can access the <code>file</code> inside the resources folder using below code snippet from any where inside the <code>src</code> package. do not forget to put initial <code>/</code>.</p>\n\n<pre><code>Source.fromFile(getClass.getResource(\"/hello.csv\").getFile).getLines().foreach(println)\n</code></pre>\n\n<p>for more info <a href=\"https://stackoverflow.com/questions/27360977/how-to-read-files-from-resources-folder-in-scala\">How to read files from resources folder in Scala?</a></p>\n"},{"tags":[],"owner":{"account_id":3220242,"reputation":31,"user_id":2717881,"accept_rate":25,"display_name":"Nish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474193779,"creation_date":1474193779,"answer_id":39556528,"question_id":39214182,"body_markdown":"Thank you for all your suggestions. \r\nUnfortunately changing the folders structure was not an option, so having a src/main/resource was ruled out (that would probably have been the cleanest solution). \r\n\r\n    val testDataFile = Source.fromFile(&quot;MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv&quot;)\r\n\r\nThe current working directory was the MainProject. So a &quot;/&quot; at the beginning was unnecessary. I figured that out using .getCanonicalPath as suggested by Pascal. ","title":"Not able to access a file using Relative paths in Scala","body":"<p>Thank you for all your suggestions. \nUnfortunately changing the folders structure was not an option, so having a src/main/resource was ruled out (that would probably have been the cleanest solution). </p>\n\n<pre><code>val testDataFile = Source.fromFile(\"MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv\")\n</code></pre>\n\n<p>The current working directory was the MainProject. So a \"/\" at the beginning was unnecessary. I figured that out using .getCanonicalPath as suggested by Pascal. </p>\n"},{"tags":[],"owner":{"account_id":2051906,"reputation":855,"user_id":1830720,"accept_rate":44,"display_name":"Rodolfo Velasco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680100691,"creation_date":1680100691,"answer_id":75878702,"question_id":39214182,"body_markdown":"If you are working with an IDE (intellij-idea in my case), and for some reason, you have imported multiple projects as modules, check the working directory in &quot;Run/Debug Configuration&quot;. My code could not find the correct path because the source folder of the project was wrong. The way I realized this, was because I used the absolute path.\r\n\r\nBy the way, I recommend using os-lib by com-lihaoyi from GitHub.","title":"Not able to access a file using Relative paths in Scala","body":"<p>If you are working with an IDE (intellij-idea in my case), and for some reason, you have imported multiple projects as modules, check the working directory in &quot;Run/Debug Configuration&quot;. My code could not find the correct path because the source folder of the project was wrong. The way I realized this, was because I used the absolute path.</p>\n<p>By the way, I recommend using os-lib by com-lihaoyi from GitHub.</p>\n"}],"owner":{"account_id":3220242,"reputation":31,"user_id":2717881,"accept_rate":25,"display_name":"Nish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2026,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680100691,"creation_date":1472500645,"question_id":39214182,"body_markdown":"I&#39;ve written all the complex mumbo jumbo Scala logic but now I am stuck with a very very basic problem. java.io.FileNotFoundException.\r\n\r\nI am trying to read from a csv file &amp; feed that data as input to my Code.\r\n\r\nMy folder structure is: \r\n\r\n    MainProject \r\n        AcceptanceTest\r\n            com.myOwn\r\n            nish\r\n                data\r\n                    TestData.csv\r\n                pagemodel\r\n                spec\r\n                    Test.scala\r\n                util\r\n\r\n\r\n \r\nHere&#39;s my file reading piece of code: \r\n\r\n    import scala.io.Source\r\n    class Test { \r\n    val testDataFile = Source.fromFile(&quot;./../data/TestData.csv&quot;)\r\n    for (line &lt;- testDataFile.getLines().drop(1)) {\r\n        val cols = line.split(&quot;,&quot;).map(_.trim)\r\n        println(s&quot;${cols(0)}|${cols(1)}|${cols(2)}&quot;)\r\n    }\r\n\r\nTestData.csv contains: \r\n\r\n    #ScenarioName, Value1, Value2\r\n    Test1, F1, BrightnessDecrease \r\n    Test2, F2, BrightnessIncrease\r\n\r\nRunning Test.scala gives me a java.io.FileNotFoundException. \r\nIf I change my File path to the absolute path, everything works ok. \r\n\r\n    val testDataFile = Source.fromFile(&quot;/MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv&quot;) \r\n\r\nWhat is missing in my relative path which I am unable to spot? \r\n","title":"Not able to access a file using Relative paths in Scala","body":"<p>I've written all the complex mumbo jumbo Scala logic but now I am stuck with a very very basic problem. java.io.FileNotFoundException.</p>\n\n<p>I am trying to read from a csv file &amp; feed that data as input to my Code.</p>\n\n<p>My folder structure is: </p>\n\n<pre><code>MainProject \n    AcceptanceTest\n        com.myOwn\n        nish\n            data\n                TestData.csv\n            pagemodel\n            spec\n                Test.scala\n            util\n</code></pre>\n\n<p>Here's my file reading piece of code: </p>\n\n<pre><code>import scala.io.Source\nclass Test { \nval testDataFile = Source.fromFile(\"./../data/TestData.csv\")\nfor (line &lt;- testDataFile.getLines().drop(1)) {\n    val cols = line.split(\",\").map(_.trim)\n    println(s\"${cols(0)}|${cols(1)}|${cols(2)}\")\n}\n</code></pre>\n\n<p>TestData.csv contains: </p>\n\n<pre><code>#ScenarioName, Value1, Value2\nTest1, F1, BrightnessDecrease \nTest2, F2, BrightnessIncrease\n</code></pre>\n\n<p>Running Test.scala gives me a java.io.FileNotFoundException. \nIf I change my File path to the absolute path, everything works ok. </p>\n\n<pre><code>val testDataFile = Source.fromFile(\"/MainProject/AcceptanceTest/com/myOwn/nish/data/TestData.csv\") \n</code></pre>\n\n<p>What is missing in my relative path which I am unable to spot? </p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"score":0,"creation_date":1680083565,"post_id":75875622,"comment_id":133835644,"body_markdown":"Maybe a unique constraint over the 2 respectively 3 colums would do the job but then I have to introduce a numeric primary which is not really necessary.","body":"Maybe a unique constraint over the 2 respectively 3 colums would do the job but then I have to introduce a numeric primary which is not really necessary."}],"answers":[{"tags":[],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680100553,"creation_date":1680100553,"answer_id":75878673,"question_id":75875622,"body_markdown":"I introduced a numeric id now within setting class and use combined unique keys, e.g:\r\n\r\n    @Table(\r\n    name = &quot;setting&quot;,\r\n    uniqueConstraints = @UniqueConstraint(name = &quot;uk_setting_type_key&quot;, columnNames = {   &quot;type_&quot;, &quot;key_&quot; })\r\n)\r\n\r\nThe same for the other class but with the additional person column.","title":"Hibernate inheritence mapping with composite primary keys possible?","body":"<p>I introduced a numeric id now within setting class and use combined unique keys, e.g:</p>\n<pre><code>@Table(\nname = &quot;setting&quot;,\nuniqueConstraints = @UniqueConstraint(name = &quot;uk_setting_type_key&quot;, columnNames = {   &quot;type_&quot;, &quot;key_&quot; })\n</code></pre>\n<p>)</p>\n<p>The same for the other class but with the additional person column.</p>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680100553,"creation_date":1680083329,"question_id":75875622,"body_markdown":"I am trying to run code with the following constellation.\r\n\r\nSetting class as base class:\r\n\r\n    @Entity\r\n    @IdClass(SettingId.class)\r\n    @Table(name = &quot;setting&quot;)\r\n    @Inheritance(strategy= InheritanceType.TABLE_PER_CLASS)\r\n    public class Setting implements Comparable&lt;Setting&gt; {\r\n       \r\n        @Id\r\n        @Column(name = &quot;key_&quot;, nullable = false, length = FieldConstants.SETTING_KEY_LENGTH)\r\n        @Enumerated(EnumType.STRING)\r\n        private SettingKey key;\r\n\r\n        @Column(name = &quot;value_&quot;, nullable = false, length = FieldConstants.SETTING_VALUE_LENGTH)\r\n        private String value;\r\n\r\n        @Id\r\n        @Column(name = &quot;type_&quot;, nullable = false, length = FieldConstants.SETTING_KEY_LENGTH)\r\n        @Enumerated(EnumType.STRING)\r\n        private SettingType type;\r\n        ...\r\n    }\r\n\r\nAnd another class that should inherit all the attributes from above:\r\n\r\n    @Entity\r\n    @IdClass(PersonSettingId.class)\r\n    @Table(name = &quot;person_setting&quot;)\r\n    public class PersonSetting extends Setting {\r\n        \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_user&quot;))\r\n        private Person person;\r\n        ...\r\n    }\r\n\r\nThe SettingId class is for the combined primary key for Setting (key and type).\r\nThe PersonSettingId extends SettingId and adds the person, which makes the three fields (key, type and person) as combined primary.\r\n\r\nI get the following exception: UnionSubclass cannot be cast to class org.hibernate.mapping.RootClass\r\n\r\nWhat do I habe to do to make this work?","title":"Hibernate inheritence mapping with composite primary keys possible?","body":"<p>I am trying to run code with the following constellation.</p>\n<p>Setting class as base class:</p>\n<pre><code>@Entity\n@IdClass(SettingId.class)\n@Table(name = &quot;setting&quot;)\n@Inheritance(strategy= InheritanceType.TABLE_PER_CLASS)\npublic class Setting implements Comparable&lt;Setting&gt; {\n   \n    @Id\n    @Column(name = &quot;key_&quot;, nullable = false, length = FieldConstants.SETTING_KEY_LENGTH)\n    @Enumerated(EnumType.STRING)\n    private SettingKey key;\n\n    @Column(name = &quot;value_&quot;, nullable = false, length = FieldConstants.SETTING_VALUE_LENGTH)\n    private String value;\n\n    @Id\n    @Column(name = &quot;type_&quot;, nullable = false, length = FieldConstants.SETTING_KEY_LENGTH)\n    @Enumerated(EnumType.STRING)\n    private SettingType type;\n    ...\n}\n</code></pre>\n<p>And another class that should inherit all the attributes from above:</p>\n<pre><code>@Entity\n@IdClass(PersonSettingId.class)\n@Table(name = &quot;person_setting&quot;)\npublic class PersonSetting extends Setting {\n    \n    @Id\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_user&quot;))\n    private Person person;\n    ...\n}\n</code></pre>\n<p>The SettingId class is for the combined primary key for Setting (key and type).\nThe PersonSettingId extends SettingId and adds the person, which makes the three fields (key, type and person) as combined primary.</p>\n<p>I get the following exception: UnionSubclass cannot be cast to class org.hibernate.mapping.RootClass</p>\n<p>What do I habe to do to make this work?</p>\n"},{"tags":["java","spring-boot","ssl","openssl"],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680100510,"creation_date":1680100510,"question_id":75878663,"body_markdown":"We can get acceptable client CA certificates using below command using open_ssl to get a list of certificates which a Server accepts. \r\n\r\nopenssl s_client -showcerts -connect dev.query.api.corpinter.net:443 -state -debug\r\n\r\n````\r\nAcceptable client certificate CA names\r\n/C=DE/L=MUNICH /O=company/OU=ITS/CN=nonprod-api.companyA.com\r\n/C=DE/L=MUNICH /O=comapany /OU=ITS/CN=nonprod-api.companyB.com\r\n````\r\nMy requirement is to write tests to check in each env and see if server accepts only the list of client certificates which it is suppose to.   \r\n\r\nI would like to do it programmatically via Java 17. I tried different approach but none of them returned desired output.  Either Server Certificate were shown as output or no values. \r\n\r\n````\r\n  String host = &quot;dev.query.api.corpinter.net&quot;;\r\n        int port = 443;\r\n        final List certs = new ArrayList();\r\n\r\n        X509TrustManager trust = new X509TrustManager() {\r\n\r\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n                System.out.println(s);\r\n            }\r\n\r\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n                for (int i = 0; i &lt; x509Certificates.length; i++) {\r\n                    X509Certificate cert = x509Certificates[i];\r\n                    System.out.println(&quot;Loading certificate &quot; + cert.getSubjectDN() + &quot; issued by: &quot; + cert.getIssuerDN());\r\n                    certs.add(x509Certificates[i]);\r\n                }\r\n            }\r\n\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return new X509Certificate[0];\r\n            }\r\n\r\n        };\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{trust}, null);\r\n        SSLSocket socket = (SSLSocket) sslContext.getSocketFactory().createSocket(host, port);\r\n\r\n        socket.getInputStream();\r\n        socket.getSession().getPeerCertificates();\r\n        socket.close();\r\n\r\n        Iterator iterator = certs.iterator();\r\n        while (iterator.hasNext()) {\r\n            X509Certificate cert = (X509Certificate) iterator.next();\r\n            String outputFile = cert.getSubjectDN().getName().replaceAll(&quot;[^a-zA-Z0-9-=_\\\\.]&quot;, &quot;_&quot;) + &quot;.cer&quot;;\r\n            System.out.println(&quot;Serializing certificate to: &quot; + outputFile);\r\n            FileOutputStream certfos = new FileOutputStream(outputFile);\r\n            certfos.write(cert.getEncoded());\r\n            certfos.close();\r\n        }\r\n\r\n    }\r\n````\r\n\r\n\r\n\r\n","title":"Get all accepted CA certificates from server using Java","body":"<p>We can get acceptable client CA certificates using below command using open_ssl to get a list of certificates which a Server accepts.</p>\n<p>openssl s_client -showcerts -connect dev.query.api.corpinter.net:443 -state -debug</p>\n<pre><code>Acceptable client certificate CA names\n/C=DE/L=MUNICH /O=company/OU=ITS/CN=nonprod-api.companyA.com\n/C=DE/L=MUNICH /O=comapany /OU=ITS/CN=nonprod-api.companyB.com\n</code></pre>\n<p>My requirement is to write tests to check in each env and see if server accepts only the list of client certificates which it is suppose to.</p>\n<p>I would like to do it programmatically via Java 17. I tried different approach but none of them returned desired output.  Either Server Certificate were shown as output or no values.</p>\n<pre><code>  String host = &quot;dev.query.api.corpinter.net&quot;;\n        int port = 443;\n        final List certs = new ArrayList();\n\n        X509TrustManager trust = new X509TrustManager() {\n\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n                System.out.println(s);\n            }\n\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n                for (int i = 0; i &lt; x509Certificates.length; i++) {\n                    X509Certificate cert = x509Certificates[i];\n                    System.out.println(&quot;Loading certificate &quot; + cert.getSubjectDN() + &quot; issued by: &quot; + cert.getIssuerDN());\n                    certs.add(x509Certificates[i]);\n                }\n            }\n\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n\n        };\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{trust}, null);\n        SSLSocket socket = (SSLSocket) sslContext.getSocketFactory().createSocket(host, port);\n\n        socket.getInputStream();\n        socket.getSession().getPeerCertificates();\n        socket.close();\n\n        Iterator iterator = certs.iterator();\n        while (iterator.hasNext()) {\n            X509Certificate cert = (X509Certificate) iterator.next();\n            String outputFile = cert.getSubjectDN().getName().replaceAll(&quot;[^a-zA-Z0-9-=_\\\\.]&quot;, &quot;_&quot;) + &quot;.cer&quot;;\n            System.out.println(&quot;Serializing certificate to: &quot; + outputFile);\n            FileOutputStream certfos = new FileOutputStream(outputFile);\n            certfos.write(cert.getEncoded());\n            certfos.close();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","graphql"],"answers":[{"tags":[],"owner":{"account_id":28159407,"reputation":1,"user_id":21519607,"display_name":"Iran Mizunski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680100239,"creation_date":1680100239,"answer_id":75878614,"question_id":75877445,"body_markdown":"Try change the annotations\r\n\r\n    @ContextConfiguration(classes = EmployeeController.class)\r\n    @AutoConfigureGraphQlTester\r\n    public class EmployeeControllerTest { }","title":"Graphql testing context failing","body":"<p>Try change the annotations</p>\n<pre><code>@ContextConfiguration(classes = EmployeeController.class)\n@AutoConfigureGraphQlTester\npublic class EmployeeControllerTest { }\n</code></pre>\n"}],"owner":{"account_id":5038770,"reputation":99,"user_id":4717753,"display_name":"Adarsh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680100239,"creation_date":1680094096,"question_id":75877445,"body_markdown":"&gt; GraphQL spring boot testing \r\n&gt; context is empty after the context loading\r\n\r\n&gt; test case is not able to execute\r\n&gt; due to empty context loading \r\n&gt;i am using spring boot test context with graphql testing and jupiter testing framework \r\nto test the graphql test \r\n\r\nobjective \r\ni am trying to test the graphql api endpoint fetching date from the graphql using jupiter \r\ntest framework \r\n\r\npom file \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.espark.adarsh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sspringboot-graphql-crud-example&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springboot-graphql-crud-example&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n* test file\r\n\r\n```\r\n    package com.espark.adarsh;\r\n    import com.espark.adarsh.entity.Employee;\r\n    import com.espark.adarsh.respository.EmployeeRepository;\r\n    import com.espark.adarsh.service.EmployeeService;\r\n    import org.junit.jupiter.api.MethodOrderer;\r\n    import org.junit.jupiter.api.Order;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.TestMethodOrder;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.graphql.GraphQlTest;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.graphql.test.tester.GraphQlTester;\r\n    import javax.annotation.PostConstruct;\r\n    \r\n    @GraphQlTest\r\n    @Import({EmployeeService.class, EmployeeRepository.class})\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class EmployeeControllerTest {\r\n    \r\n        @Autowired\r\n        EmployeeRepository employeeRepository;\r\n    \r\n        @Autowired\r\n        EmployeeService employeeService;\r\n    \r\n        @Autowired\r\n        GraphQlTester graphQlTester;\r\n    \r\n        @PostConstruct\r\n        void init(){\r\n            employeeService.setEmployeeRepository(employeeRepository);\r\n        }\r\n    \r\n        @Test\r\n        @Order(1)\r\n        void testGetAllEmployee(){\r\n            String document=&quot;&quot;&quot;\r\n                     query{\r\n                       getAllEmployee{\r\n                         id\r\n                         firstName\r\n                         lastName\r\n                       }\r\n                     }\r\n                    &quot;&quot;&quot;;\r\n            graphQlTester.document(document)\r\n                    .execute()\r\n                    .path(&quot;getAllEmployee&quot;)\r\n                    .entityList(Employee.class)\r\n                    .hasSize(4);\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Graphql testing context failing","body":"<blockquote>\n<p>GraphQL spring boot testing\ncontext is empty after the context loading</p>\n</blockquote>\n<blockquote>\n<p>test case is not able to execute\ndue to empty context loading\ni am using spring boot test context with graphql testing and jupiter testing framework\nto test the graphql test</p>\n</blockquote>\n<p>objective\ni am trying to test the graphql api endpoint fetching date from the graphql using jupiter\ntest framework</p>\n<p>pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.espark.adarsh&lt;/groupId&gt;\n    &lt;artifactId&gt;sspringboot-graphql-crud-example&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-graphql-crud-example&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ul>\n<li>test file</li>\n</ul>\n<pre><code>    package com.espark.adarsh;\n    import com.espark.adarsh.entity.Employee;\n    import com.espark.adarsh.respository.EmployeeRepository;\n    import com.espark.adarsh.service.EmployeeService;\n    import org.junit.jupiter.api.MethodOrderer;\n    import org.junit.jupiter.api.Order;\n    import org.junit.jupiter.api.Test;\n    import org.junit.jupiter.api.TestMethodOrder;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.autoconfigure.graphql.GraphQlTest;\n    import org.springframework.context.annotation.Import;\n    import org.springframework.graphql.test.tester.GraphQlTester;\n    import javax.annotation.PostConstruct;\n    \n    @GraphQlTest\n    @Import({EmployeeService.class, EmployeeRepository.class})\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n    public class EmployeeControllerTest {\n    \n        @Autowired\n        EmployeeRepository employeeRepository;\n    \n        @Autowired\n        EmployeeService employeeService;\n    \n        @Autowired\n        GraphQlTester graphQlTester;\n    \n        @PostConstruct\n        void init(){\n            employeeService.setEmployeeRepository(employeeRepository);\n        }\n    \n        @Test\n        @Order(1)\n        void testGetAllEmployee(){\n            String document=&quot;&quot;&quot;\n                     query{\n                       getAllEmployee{\n                         id\n                         firstName\n                         lastName\n                       }\n                     }\n                    &quot;&quot;&quot;;\n            graphQlTester.document(document)\n                    .execute()\n                    .path(&quot;getAllEmployee&quot;)\n                    .entityList(Employee.class)\n                    .hasSize(4);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-ioc"],"answers":[{"comments":[{"owner":{"account_id":3445198,"reputation":786,"user_id":2886185,"accept_rate":45,"display_name":"Gowtham R"},"score":0,"creation_date":1401879507,"post_id":24035494,"comment_id":37053000,"body_markdown":"That MyDao class accessed by both main thread and secondary thread. In this scenario how can i generate entity manager and pass it. It using default entity manager in class itself.","body":"That MyDao class accessed by both main thread and secondary thread. In this scenario how can i generate entity manager and pass it. It using default entity manager in class itself."},{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1680098370,"post_id":24035494,"comment_id":133839757,"body_markdown":"&quot;your database operation is not in any session&quot;: this is not true. A session is available: otherwise, entityManager would be null and a NullPointerExcepttion would have been thrown. The problem is the missing transaction. A read operation would probably succeed in the insertData method without any transaction. A write operation fails without a transaction. That can be achieved by Spring&#39;s @Transactional annotation.","body":"&quot;your database operation is not in any session&quot;: this is not true. A session is available: otherwise, entityManager would be null and a NullPointerExcepttion would have been thrown. The problem is the missing transaction. A read operation would probably succeed in the insertData method without any transaction. A write operation fails without a transaction. That can be achieved by Spring&#39;s @Transactional annotation."}],"tags":[],"owner":{"account_id":282831,"reputation":2465,"user_id":579974,"accept_rate":33,"display_name":"Deepak"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680099765,"creation_date":1401879140,"answer_id":24035494,"question_id":24035404,"body_markdown":"Try to put `@Transactional` over your method like below\r\n\r\n    @Async\r\n    @Transactional\r\n    public void writeSomethingASync() throws InterruptedException{\r\n          mydao.insertData(testObj); // This is started from second thread\r\n    }\r\n\r\nSo basically what is happening your database operation is not in any active transaction so either u have to do manual txn management  or have to use automatic transaction management using @Transactional\r\n","title":"Entity Manager Object in SimpleTask executor thread","body":"<p>Try to put <code>@Transactional</code> over your method like below</p>\n<pre><code>@Async\n@Transactional\npublic void writeSomethingASync() throws InterruptedException{\n      mydao.insertData(testObj); // This is started from second thread\n}\n</code></pre>\n<p>So basically what is happening your database operation is not in any active transaction so either u have to do manual txn management  or have to use automatic transaction management using @Transactional</p>\n"}],"owner":{"account_id":3445198,"reputation":786,"user_id":2886185,"accept_rate":45,"display_name":"Gowtham R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24035494,"answer_count":1,"score":0,"last_activity_date":1680099765,"creation_date":1401878834,"question_id":24035404,"body_markdown":"I want to do some database operation asynchronously. I am using spring 3.0. So i used @Async annotation.\r\n\r\n \r\n         public class TaskExecutorExample \r\n         {\r\n             public  static void main(String a[])  \r\n             {\r\n                 ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;spring.xml&quot;);\r\n                 AutoCarryover service = applicationContext.getBean(AutoCarryover.class);\r\n         \r\n                 try{\r\n                    service.writeSomethingASync(); //starting async task\r\n                 }catch(InterruptedException r)\r\n                 {\r\n                     r.printStackTrace();\r\n                 }\r\n             }\r\n        }\r\n\r\n**AutoCarryover.class**\r\n\r\n       @Service\r\n           public class AutoCarryover {\r\n    \r\n                   @Autowired\r\n                   private MyDao mydao;\r\n    \r\n    \r\n                    @Async\r\n                     public void writeSomethingASync() throws InterruptedException{\r\n     \r\n                     mydao.insertData(testObj); // This is started from second thread\r\n      \r\n     }\r\n\r\n    }\r\n\r\n\r\n**MYDAO class:**\r\n\r\n       @Repository\r\n        public class MyDao  {\r\n\r\n   \r\n    /**\r\n     * Field entityManager.\r\n     */\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n\r\n    public void insertData(TestObj test) {\r\n        \r\n            entityManager.merge(test); // Here i am inserting from second thread. Its throwing error.\r\n        \r\n    }\r\n\r\n    }\r\n\r\nI am getting following error\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:306)\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:104)\r\n\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\r\n\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\r\n\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\r\n\tat com.sun.proxy.$Proxy653.mergeCadPartVehAccyDescInstall(Unknown Source)\r\n\r\n\tat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.insertCadPartVehAccyDescInstallTarget(AutoCarryOverServiceImpl.java:249)\r\n\r\n\tat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.autoCarryOver(AutoCarryOverServiceImpl.java:175)\r\n\r\n\tat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.run(AutoCarryOverServiceImpl.java:132)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor$1.call(AsyncExecutionInterceptor.java:80)\r\n\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\nCaused by: javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:957)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\r\n\r\n\tat com.sun.proxy.$Proxy642.flush(Unknown Source)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\r\n\r\n\tat com.sun.proxy.$Proxy642.flush(Unknown Source)\r\n\r\n\tat com.tms.cad.aror.service.dao.CadPartVehAccyDescInstallDao.mergeCadPartVehAccyDescInstall(CadPartVehAccyDescInstallDao.java:73)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\r\n\tat com.sun.proxy.$Proxy653.mergeCadPartVehAccyDescInstall(Unknown Source)\r\n","title":"Entity Manager Object in SimpleTask executor thread","body":"<p>I want to do some database operation asynchronously. I am using spring 3.0. So i used @Async annotation.</p>\n\n<pre><code>     public class TaskExecutorExample \n     {\n         public  static void main(String a[])  \n         {\n             ApplicationContext applicationContext = new FileSystemXmlApplicationContext(\"spring.xml\");\n             AutoCarryover service = applicationContext.getBean(AutoCarryover.class);\n\n             try{\n                service.writeSomethingASync(); //starting async task\n             }catch(InterruptedException r)\n             {\n                 r.printStackTrace();\n             }\n         }\n    }\n</code></pre>\n\n<p><strong>AutoCarryover.class</strong></p>\n\n<pre><code>   @Service\n       public class AutoCarryover {\n\n               @Autowired\n               private MyDao mydao;\n\n\n                @Async\n                 public void writeSomethingASync() throws InterruptedException{\n\n                 mydao.insertData(testObj); // This is started from second thread\n\n }\n\n}\n</code></pre>\n\n<p><strong>MYDAO class:</strong></p>\n\n<pre><code>   @Repository\n    public class MyDao  {\n\n\n/**\n * Field entityManager.\n */\n@PersistenceContext\nprivate EntityManager entityManager;\n\n\npublic void insertData(TestObj test) {\n\n        entityManager.merge(test); // Here i am inserting from second thread. Its throwing error.\n\n}\n\n}\n</code></pre>\n\n<p>I am getting following error</p>\n\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n\n<pre><code>at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:306)\n\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:104)\n\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\n\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\n\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n\nat com.sun.proxy.$Proxy653.mergeCadPartVehAccyDescInstall(Unknown Source)\n\nat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.insertCadPartVehAccyDescInstallTarget(AutoCarryOverServiceImpl.java:249)\n\nat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.autoCarryOver(AutoCarryOverServiceImpl.java:175)\n\nat com.tms.cad.aror.service.eng.carryOver.admin.impl.AutoCarryOverServiceImpl.run(AutoCarryOverServiceImpl.java:132)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nat java.lang.reflect.Method.invoke(Method.java:597)\n\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n\nat org.springframework.aop.interceptor.AsyncExecutionInterceptor$1.call(AsyncExecutionInterceptor.java:80)\n\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\n\nat java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>Caused by: javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n\n<pre><code>at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:957)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nat java.lang.reflect.Method.invoke(Method.java:597)\n\nat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\n\nat com.sun.proxy.$Proxy642.flush(Unknown Source)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nat java.lang.reflect.Method.invoke(Method.java:597)\n\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\n\nat com.sun.proxy.$Proxy642.flush(Unknown Source)\n\nat com.tms.cad.aror.service.dao.CadPartVehAccyDescInstallDao.mergeCadPartVehAccyDescInstall(CadPartVehAccyDescInstallDao.java:73)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nat java.lang.reflect.Method.invoke(Method.java:597)\n\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n\nat com.sun.proxy.$Proxy653.mergeCadPartVehAccyDescInstall(Unknown Source)\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","hibernate-envers"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680099589,"creation_date":1680099589,"question_id":75878474,"body_markdown":"I have a column definition in the entity:\r\n\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;number_id&quot;, nullable = false, updatable = false, insertable = false, columnDefinition=&quot;serial&quot;)\r\n        private Long numberId;\r\n\r\n`serial` is a Postgresql type, standing for the serial integer value with autoincrement.\r\n\r\nWe also have Hibernate envers, so it make all our changes auditable.\r\n\r\nJPA expects number_id column to be exactly of the same type that I have in the main table. That makes \r\n\r\n1) if we use DDL, to have that options:\r\n\r\n  jpa:\r\n    generate-ddl: true #false\r\n    hibernate:\r\n      ddl-auto: update #validate\r\n\r\n2) provide the same type of the column if create the audit table manually.\r\n\r\nOn this entity we have:\r\n\r\n    @Entity\r\n    @Audited\r\n    @AuditTable(schema = &quot;audit&quot;, value = &quot;contract&quot;)\r\n    @AuditOverride(forClass = BaseEntity.class, isAudited = true)\r\n    @Table(name = &quot;contract&quot;)\r\n\r\nSo, number_id in audit table would be in fact generated in the same manner as it does for the original table, instead of being just copied as the value (what we expect from the audit behavior). How to work it around and keep both behaviors with JPA\r\n\r\n1) serial autogeneation in the main table\r\n2) just plain copy of this value to the audit table in all rows, ignoring the serial autogeneration in the corresponding audit table.\r\n\r\nIs it possible to do with just JPA annotations?","title":"How to ignore the specific column definition used in envers to avoid &quot;serial&quot; type column in audit table?","body":"<p>I have a column definition in the entity:</p>\n<pre><code>  @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;number_id&quot;, nullable = false, updatable = false, insertable = false, columnDefinition=&quot;serial&quot;)\n    private Long numberId;\n</code></pre>\n<p><code>serial</code> is a Postgresql type, standing for the serial integer value with autoincrement.</p>\n<p>We also have Hibernate envers, so it make all our changes auditable.</p>\n<p>JPA expects number_id column to be exactly of the same type that I have in the main table. That makes</p>\n<ol>\n<li>if we use DDL, to have that options:</li>\n</ol>\n<p>jpa:\ngenerate-ddl: true #false\nhibernate:\nddl-auto: update #validate</p>\n<ol start=\"2\">\n<li>provide the same type of the column if create the audit table manually.</li>\n</ol>\n<p>On this entity we have:</p>\n<pre><code>@Entity\n@Audited\n@AuditTable(schema = &quot;audit&quot;, value = &quot;contract&quot;)\n@AuditOverride(forClass = BaseEntity.class, isAudited = true)\n@Table(name = &quot;contract&quot;)\n</code></pre>\n<p>So, number_id in audit table would be in fact generated in the same manner as it does for the original table, instead of being just copied as the value (what we expect from the audit behavior). How to work it around and keep both behaviors with JPA</p>\n<ol>\n<li>serial autogeneation in the main table</li>\n<li>just plain copy of this value to the audit table in all rows, ignoring the serial autogeneration in the corresponding audit table.</li>\n</ol>\n<p>Is it possible to do with just JPA annotations?</p>\n"},{"tags":["java","spring","spring-data-jpa","nativequery","sqlresultsetmapping"],"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1508234279,"post_id":46171583,"comment_id":80520990,"body_markdown":"The anser is here: https://stackoverflow.com/a/42942353/355438","body":"The anser is here: <a href=\"https://stackoverflow.com/a/42942353/355438\">stackoverflow.com/a/42942353/355438</a>"},{"owner":{"account_id":1358458,"reputation":508,"user_id":1296347,"accept_rate":67,"display_name":"al gh"},"score":0,"creation_date":1603093509,"post_id":46171583,"comment_id":113916199,"body_markdown":"Some of the annotations seems to be outdated. \nI looked at this page to make them work.\nhttps://github.com/eugenp/tutorials/blob/master/persistence-modules/java-jpa/src/main/java/com/baeldung/jpa/sqlresultsetmapping/Employee.java","body":"Some of the annotations seems to be outdated.  I looked at this page to make them work. <a href=\"https://github.com/eugenp/tutorials/blob/master/persistence-modules/java-jpa/src/main/java/com/baeldung/jpa/sqlresultsetmapping/Employee.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/persistence-modules/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2889773,"reputation":221,"user_id":2478830,"accept_rate":20,"display_name":"elamas"},"score":0,"creation_date":1511363081,"post_id":46172940,"comment_id":81830215,"body_markdown":"Sorry, @Urosh T. I know your answer is from 2012. I&#39;m trying to do something like that but when the repository is initialize I obtain the error &quot;Not a managed type&quot; even if I declare no method in it. Do you know why? Thanks","body":"Sorry, @Urosh T. I know your answer is from 2012. I&#39;m trying to do something like that but when the repository is initialize I obtain the error &quot;Not a managed type&quot; even if I declare no method in it. Do you know why? Thanks"},{"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"score":0,"creation_date":1511439663,"post_id":46172940,"comment_id":81865190,"body_markdown":"@elamas, it is from September 12th this year :)\n`&quot;Not a managed type&quot;` probably means that Spring hasn&#39;t scanned your @Entity class or the package containing the class.\nMake sure you have in your `application.properties` line that says `entitymanager.packagesToScan=com.mypack.entity`","body":"@elamas, it is from September 12th this year :) <code>&quot;Not a managed type&quot;</code> probably means that Spring hasn&#39;t scanned your @Entity class or the package containing the class. Make sure you have in your <code>application.properties</code> line that says <code>entitymanager.packagesToScan=com.mypack.entity</code>"},{"owner":{"account_id":2889773,"reputation":221,"user_id":2478830,"accept_rate":20,"display_name":"elamas"},"score":0,"creation_date":1511531922,"post_id":46172940,"comment_id":81904175,"body_markdown":"Hi @Urosh T,\nYou&#39;re right, &quot;September 12th this year :)&quot;. I think that the problem is that MyVO class is not an entity. But don&#39;t worry, I have found another aproaches, thanks.","body":"Hi @Urosh T, You&#39;re right, &quot;September 12th this year :)&quot;. I think that the problem is that MyVO class is not an entity. But don&#39;t worry, I have found another aproaches, thanks."},{"owner":{"account_id":7082234,"reputation":453,"user_id":5420229,"accept_rate":78,"display_name":"Hannon Queiroz"},"score":2,"creation_date":1539700476,"post_id":46172940,"comment_id":92591949,"body_markdown":"How did you solve the `Not a managed type` problem, @elamas? In my case, MyVO is indeed **not** an Entity, but I want to map the results of my query to MyVO nonetheless.","body":"How did you solve the <code>Not a managed type</code> problem, @elamas? In my case, MyVO is indeed <b>not</b> an Entity, but I want to map the results of my query to MyVO nonetheless."}],"tags":[],"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505209028,"creation_date":1505209028,"answer_id":46172940,"question_id":46171583,"body_markdown":"You need to mark your query as a query :)\r\nAnd you need to use **MyVO** instead of **MyEntity**, because that is the entity you have your resulsts mapped to\r\n\r\n    @Repository\r\n    public interface MyRepository extends JpaRepository&lt;MyVO, Long&gt; {\r\n    \r\n        @Query(nativeQuery = true)\r\n        List&lt;MyVO&gt; findAllOfMyVO(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2);\r\n    }","title":"JPA Data Repositories with SqlResultSetMapping and native queries","body":"<p>You need to mark your query as a query :)\nAnd you need to use <strong>MyVO</strong> instead of <strong>MyEntity</strong>, because that is the entity you have your resulsts mapped to</p>\n\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;MyVO, Long&gt; {\n\n    @Query(nativeQuery = true)\n    List&lt;MyVO&gt; findAllOfMyVO(@Param(\"param1\") String param1, @Param(\"param2\") String param2);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1358458,"reputation":508,"user_id":1296347,"accept_rate":67,"display_name":"al gh"},"score":0,"creation_date":1603093216,"post_id":48575714,"comment_id":113916077,"body_markdown":"This did not work for me\n@NamedNativeQuery(name = &quot;MyEntity.findAllDataMapping&quot;,  \nInstead I did as Michelan Arendse suggested\n@NamedNativeQuery(name = &quot;findAllDataMapping&quot;, resultClass = MyVO.class, resultSetMapping =&quot;findAllDataMapping&quot; query = &quot;sql&quot;)","body":"This did not work for me @NamedNativeQuery(name = &quot;MyEntity.findAllDataMapping&quot;,   Instead I did as Michelan Arendse suggested @NamedNativeQuery(name = &quot;findAllDataMapping&quot;, resultClass = MyVO.class, resultSetMapping =&quot;findAllDataMapping&quot; query = &quot;sql&quot;)"}],"tags":[],"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517545780,"creation_date":1517545780,"answer_id":48575714,"question_id":46171583,"body_markdown":"You are almost there, but for the below parts\r\n\r\n 1. The whole `@SqlResultSetMapping` and `@NamedNativeQuery` has to be\r\n    present in the Entity and not the value Object. In your case it should be in the MyEntity class and **not ** the MyVO class. This should resolve your exception.\r\n 2. That will still not do. After you do the above, change the below \r\n\r\n    @NamedNativeQuery(name = &quot;findAllDataMapping&quot;,\r\n    to  \r\n     @NamedNativeQuery(name = &quot;**MyEntity**.findAllDataMapping&quot;,\r\n\r\n 3. Finally, in some cases you need to be explicit in your definition of @ColumnResult(name = &quot;userFirstName&quot;). If it is a complex field like ZonedDateTime or Boolean you may have to explicity state @ColumnResult(name = &quot;date_created&quot;, type = ZonedDateTime.class).\r\n\r\nHope that helps.\r\n\r\n","title":"JPA Data Repositories with SqlResultSetMapping and native queries","body":"<p>You are almost there, but for the below parts</p>\n\n<ol>\n<li>The whole <code>@SqlResultSetMapping</code> and <code>@NamedNativeQuery</code> has to be\npresent in the Entity and not the value Object. In your case it should be in the MyEntity class and **not ** the MyVO class. This should resolve your exception.</li>\n<li><p>That will still not do. After you do the above, change the below </p>\n\n<p>@NamedNativeQuery(name = \"findAllDataMapping\",\nto<br>\n @NamedNativeQuery(name = \"<strong>MyEntity</strong>.findAllDataMapping\",</p></li>\n<li><p>Finally, in some cases you need to be explicit in your definition of @ColumnResult(name = \"userFirstName\"). If it is a complex field like ZonedDateTime or Boolean you may have to explicity state @ColumnResult(name = \"date_created\", type = ZonedDateTime.class).</p></li>\n</ol>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":13087982,"reputation":290,"user_id":9456395,"display_name":"Michelan Arendse"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1521195624,"creation_date":1521195624,"answer_id":49318279,"question_id":46171583,"body_markdown":"Add the missing resultClass\r\n\r\n    @NamedNativeQuery(name = &quot;findAllDataMapping&quot;, resultClass = Entity.class, query=&quot;sql&quot;)\r\nOr\r\n\r\n    @NamedNativeQuery(name = &quot;findAllDataMapping&quot;, resultClass = MyVO.class, resultSetMapping =&quot;findAllDataMapping&quot; query = &quot;sql&quot;)\r\n\r\nand lastly call the query in your repository \r\n\r\n    @Query(nativeQuery = true, name = &quot;findAllDataMapping&quot;)\r\n    List&lt;MyVO&gt; findAllOfMyVO(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2);\r\n\r\n","title":"JPA Data Repositories with SqlResultSetMapping and native queries","body":"<p>Add the missing resultClass</p>\n\n<pre><code>@NamedNativeQuery(name = \"findAllDataMapping\", resultClass = Entity.class, query=\"sql\")\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>@NamedNativeQuery(name = \"findAllDataMapping\", resultClass = MyVO.class, resultSetMapping =\"findAllDataMapping\" query = \"sql\")\n</code></pre>\n\n<p>and lastly call the query in your repository </p>\n\n<pre><code>@Query(nativeQuery = true, name = \"findAllDataMapping\")\nList&lt;MyVO&gt; findAllOfMyVO(@Param(\"param1\") String param1, @Param(\"param2\") String param2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8384565,"reputation":51,"user_id":6295381,"display_name":"AlbertOu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680099265,"creation_date":1679833766,"answer_id":75847751,"question_id":46171583,"body_markdown":"your `@NamedNativeQuery` are missing properties `resultClass` and `resultSetMapping` like below sample:\r\n\r\n```java\r\n@NamedNativeQuery(name = &quot;YourEntity.findAllDataMapping&quot;,\r\n    resultClass =  MyVO.class ,\r\n    resultSetMapping =&quot;findAllDataMapping&quot;,\r\n    query = &quot;SELECT ...&quot;\r\n)\r\n```","title":"JPA Data Repositories with SqlResultSetMapping and native queries","body":"<p>your <code>@NamedNativeQuery</code> are missing properties <code>resultClass</code> and <code>resultSetMapping</code> like below sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedNativeQuery(name = &quot;YourEntity.findAllDataMapping&quot;,\n    resultClass =  MyVO.class ,\n    resultSetMapping =&quot;findAllDataMapping&quot;,\n    query = &quot;SELECT ...&quot;\n)\n</code></pre>\n"}],"owner":{"account_id":7297206,"reputation":333,"user_id":5561495,"display_name":"LeoRado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26021,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1680099265,"creation_date":1505205184,"question_id":46171583,"body_markdown":"I was stuck with the following situation:\r\n\r\nMy entities are related to each other, but in such a way that i could not use JPQL. I was forced to use native SQL. Now I want to map these results to a ValueObject. To be clear, I don&#39;t want to get a list of Object array (`List&lt;Object[]&gt;`). I have 6 entities from which I need only some columns. Can anybody give me an example on how to implement such a mapping from a native query?\r\n\r\n[Tutorial](https://www.thoughts-on-java.org/result-set-mapping-basics/) that I went through.\r\n\r\n\r\nMy code:\r\n\r\n    @SqlResultSetMapping(\r\n        name = &quot;findAllDataMapping&quot;,\r\n        classes = @ConstructorResult(\r\n                targetClass = MyVO.class,\r\n                columns = {\r\n                        @ColumnResult(name = &quot;userFirstName&quot;),\r\n                        @ColumnResult(name = &quot;userLastName&quot;),\r\n                        @ColumnResult(name = &quot;id&quot;),\r\n                        @ColumnResult(name = &quot;packageName&quot;)\r\n                }\r\n        )\r\n    )\r\n\r\n    @NamedNativeQuery(name = &quot;findAllDataMapping&quot;,\r\n        query = &quot;SELECT &quot; +\r\n                &quot;    u.first_name as userFirstName, &quot; +\r\n                &quot;    u.last_name as userLastName, &quot; +\r\n                &quot;    i.id as id, &quot; +\r\n                &quot;    s.title as packageName, &quot; +\r\n                &quot;FROM &quot; +\r\n                &quot;    invoice as i &quot; +\r\n                &quot;JOIN user as u on i.user_id=u.id &quot; +\r\n                &quot;LEFT JOIN subscription_package as s on i.subscription_package_id=s.id &quot; +\r\n                &quot;where  u.param1=:param1 and i.param2=:param2&quot; +\r\n    )\r\n\r\n    public class MyVO {\r\n        private String userFirstName;\r\n        private String userLastName;\r\n        private Long id;\r\n        private String packageName;\r\n\r\n        public MyVO (String userFName, String userLName,\r\n                Long id, String packageName) {\r\n            this.userFirstName = userFName;\r\n            this.userLastName = userLName;\r\n            this.id = id;\r\n            this.packageName = packageName;\r\n        }\r\n\r\n        // getters &amp; setters\r\n    }\r\n\r\nIn my jpa-repository module:\r\n\r\n    public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n        List&lt;MyVO&gt; findAllOfMyVO(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2);\r\n    }\r\n\r\nThe point is that I don&#39;t know where to put these annotations so I can use this kind of mapping. In a native query I can&#39;t use `new rs.rado.leo.mypackage.MyVO(...)`. I got following error: \r\n\r\nCaused by: \r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property findAllOfMyVO found for type MyEntity!\r\n\r\nI suppose that my question is clear. If not, let me know so I can edit my question.\r\n\r\nThanks in advance!","title":"JPA Data Repositories with SqlResultSetMapping and native queries","body":"<p>I was stuck with the following situation:</p>\n\n<p>My entities are related to each other, but in such a way that i could not use JPQL. I was forced to use native SQL. Now I want to map these results to a ValueObject. To be clear, I don't want to get a list of Object array (<code>List&lt;Object[]&gt;</code>). I have 6 entities from which I need only some columns. Can anybody give me an example on how to implement such a mapping from a native query?</p>\n\n<p><a href=\"https://www.thoughts-on-java.org/result-set-mapping-basics/\" rel=\"noreferrer\">Tutorial</a> that I went through.</p>\n\n<p>My code:</p>\n\n<pre><code>@SqlResultSetMapping(\n    name = \"findAllDataMapping\",\n    classes = @ConstructorResult(\n            targetClass = MyVO.class,\n            columns = {\n                    @ColumnResult(name = \"userFirstName\"),\n                    @ColumnResult(name = \"userLastName\"),\n                    @ColumnResult(name = \"id\"),\n                    @ColumnResult(name = \"packageName\")\n            }\n    )\n)\n\n@NamedNativeQuery(name = \"findAllDataMapping\",\n    query = \"SELECT \" +\n            \"    u.first_name as userFirstName, \" +\n            \"    u.last_name as userLastName, \" +\n            \"    i.id as id, \" +\n            \"    s.title as packageName, \" +\n            \"FROM \" +\n            \"    invoice as i \" +\n            \"JOIN user as u on i.user_id=u.id \" +\n            \"LEFT JOIN subscription_package as s on i.subscription_package_id=s.id \" +\n            \"where  u.param1=:param1 and i.param2=:param2\" +\n)\n\npublic class MyVO {\n    private String userFirstName;\n    private String userLastName;\n    private Long id;\n    private String packageName;\n\n    public MyVO (String userFName, String userLName,\n            Long id, String packageName) {\n        this.userFirstName = userFName;\n        this.userLastName = userLName;\n        this.id = id;\n        this.packageName = packageName;\n    }\n\n    // getters &amp; setters\n}\n</code></pre>\n\n<p>In my jpa-repository module:</p>\n\n<pre><code>public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n    List&lt;MyVO&gt; findAllOfMyVO(@Param(\"param1\") String param1, @Param(\"param2\") String param2);\n}\n</code></pre>\n\n<p>The point is that I don't know where to put these annotations so I can use this kind of mapping. In a native query I can't use <code>new rs.rado.leo.mypackage.MyVO(...)</code>. I got following error: </p>\n\n<p>Caused by: </p>\n\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property findAllOfMyVO found for type MyEntity!\n</code></pre>\n\n<p>I suppose that my question is clear. If not, let me know so I can edit my question.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","redis","vert.x"],"answers":[{"comments":[{"owner":{"account_id":6651428,"reputation":818,"user_id":5133329,"accept_rate":80,"display_name":"Josemy"},"score":0,"creation_date":1521970445,"post_id":49474209,"comment_id":85951104,"body_markdown":"```vertx.setInterval()``` doesn&#39;t exist in my version, but ```vertx.setPeriodic()``` did the trick. Please update your answer, I already accepted. Thanks for the help.","body":"<code>vertx.setInterval()</code> doesn&#39;t exist in my version, but <code>vertx.setPeriodic()</code> did the trick. Please update your answer, I already accepted. Thanks for the help."}],"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521970941,"creation_date":1521968977,"answer_id":49474209,"question_id":49471101,"body_markdown":"This could be divided into two questions:  \r\n1) How to listen continuously in VertX   \r\n2) How can we implement sending messages to only one verticle   \r\n\r\nAs of first question, you can use setInterval:\r\n\r\n    vertx.setPeriodic(1000, t -&gt; {\r\n       redis.blpop(&quot;myKey&quot;, 3500, h -&gt; { \r\n             System.out.println(h.result()); // Need to check for success() \r\n       }\r\n    }));\r\nThis won&#39;t block the EventLoop\r\n\r\nAs of second question, use vertx.eventBus().send() to send a message to one of the consumers in a Round-Robin fashion:\r\nhttp://vertx.io/docs/vertx-core/java/#_the_event_bus_api \r\n","title":"How to keep listening for messages with Vertx and Redis?","body":"<p>This could be divided into two questions:<br>\n1) How to listen continuously in VertX<br>\n2) How can we implement sending messages to only one verticle   </p>\n\n<p>As of first question, you can use setInterval:</p>\n\n<pre><code>vertx.setPeriodic(1000, t -&gt; {\n   redis.blpop(\"myKey\", 3500, h -&gt; { \n         System.out.println(h.result()); // Need to check for success() \n   }\n}));\n</code></pre>\n\n<p>This won't block the EventLoop</p>\n\n<p>As of second question, use vertx.eventBus().send() to send a message to one of the consumers in a Round-Robin fashion:\n<a href=\"http://vertx.io/docs/vertx-core/java/#_the_event_bus_api\" rel=\"nofollow noreferrer\">http://vertx.io/docs/vertx-core/java/#_the_event_bus_api</a> </p>\n"},{"tags":[],"owner":{"account_id":26111476,"reputation":1,"user_id":19805334,"display_name":"florin oltean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662876740,"creation_date":1662876740,"answer_id":73677208,"question_id":49471101,"body_markdown":"There are several ways to do what you ask for:\r\n 1. with a timer, as described already;  but this has a drawback that limits the throughput to minimum timer delay (i.e. 1ms) \r\n 2. simply use an external thread not managed by Vert.x and do a brpop in an infinite loop while sending results via EventBus\r\n 3. Look into the code for Vertx::setTimer and build something similar but without the added delay (i.e. you will end up submitting tasks to NIO event loop)\r\n 4. Use a Vertical that is using event bus to trigger itself; it sends to itself events to do brpop; these events addressed to self are sent out after brpop returns. \r\n\r\nexample for last point:\r\n\r\n    private void brpop(final String myAddress, final String destinationAddress,final String queue, final int brpopTimeout){\r\n        EventBus bus = vertx.eventBus();\r\n        redis.brpop(Arrays.asList(queue,&quot;&quot;+brpopTimeout)).onComplete(c-&gt;{\r\n          if(c.succeeded()){\r\n            Response r = c.result();\r\n            System.out.println(&quot;result from read queue:&quot;+r.get(1));\r\n            bus.send(myAddress,MSG_CONTINUE); // signal to read again\r\n            bus.send(destinationAddress,r.get(1)); // send the value read from queue on the event bus to be picked up by someone else\r\n          }else{\r\n            Throwable t = c.cause();\r\n            Response r = c.result();\r\n            System.out.println(&quot;error reading from queue:&quot; + t + r);\r\n            bus.send(myAddress,MSG_CONTINUE);\r\n          }\r\n        });\r\n    }\r\n    public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n        client = Redis.createClient(vertx,&quot;redis://localhost:6379&quot;);\r\n        redis = RedisAPI.api(client);\r\n        client.connect().onSuccess(c-&gt;{\r\n          System.out.println(&quot;connected ok&quot;);\r\n          EventBus bus = vertx.eventBus();\r\n          // use local consumer to get events to self\r\n          MessageConsumer&lt;String&gt; consumer = bus.localConsumer(&quot;brpop-my&quot;, m-&gt;{\r\n            brpop(MY_ADDRESS,&quot;read-from-ingress&quot;,&quot;sample&quot;,10);\r\n          });\r\n          // kick off the read loop from redis\r\n          bus.send(MY_ADDRESS,MSG_CONTINUE);\r\n        }).onFailure(f-&gt;{\r\n          System.out.println(&quot;failed to connect: &quot; + f);\r\n        });\r\n      }\r\n\r\n","title":"How to keep listening for messages with Vertx and Redis?","body":"<p>There are several ways to do what you ask for:</p>\n<ol>\n<li>with a timer, as described already;  but this has a drawback that limits the throughput to minimum timer delay (i.e. 1ms)</li>\n<li>simply use an external thread not managed by Vert.x and do a brpop in an infinite loop while sending results via EventBus</li>\n<li>Look into the code for Vertx::setTimer and build something similar but without the added delay (i.e. you will end up submitting tasks to NIO event loop)</li>\n<li>Use a Vertical that is using event bus to trigger itself; it sends to itself events to do brpop; these events addressed to self are sent out after brpop returns.</li>\n</ol>\n<p>example for last point:</p>\n<pre><code>private void brpop(final String myAddress, final String destinationAddress,final String queue, final int brpopTimeout){\n    EventBus bus = vertx.eventBus();\n    redis.brpop(Arrays.asList(queue,&quot;&quot;+brpopTimeout)).onComplete(c-&gt;{\n      if(c.succeeded()){\n        Response r = c.result();\n        System.out.println(&quot;result from read queue:&quot;+r.get(1));\n        bus.send(myAddress,MSG_CONTINUE); // signal to read again\n        bus.send(destinationAddress,r.get(1)); // send the value read from queue on the event bus to be picked up by someone else\n      }else{\n        Throwable t = c.cause();\n        Response r = c.result();\n        System.out.println(&quot;error reading from queue:&quot; + t + r);\n        bus.send(myAddress,MSG_CONTINUE);\n      }\n    });\n}\npublic void start(Promise&lt;Void&gt; startPromise) throws Exception {\n    client = Redis.createClient(vertx,&quot;redis://localhost:6379&quot;);\n    redis = RedisAPI.api(client);\n    client.connect().onSuccess(c-&gt;{\n      System.out.println(&quot;connected ok&quot;);\n      EventBus bus = vertx.eventBus();\n      // use local consumer to get events to self\n      MessageConsumer&lt;String&gt; consumer = bus.localConsumer(&quot;brpop-my&quot;, m-&gt;{\n        brpop(MY_ADDRESS,&quot;read-from-ingress&quot;,&quot;sample&quot;,10);\n      });\n      // kick off the read loop from redis\n      bus.send(MY_ADDRESS,MSG_CONTINUE);\n    }).onFailure(f-&gt;{\n      System.out.println(&quot;failed to connect: &quot; + f);\n    });\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671647,"reputation":1,"user_id":2308926,"display_name":"user2308926"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680099047,"creation_date":1679391074,"answer_id":75799391,"question_id":49471101,"body_markdown":"&gt; How can I permanently listen for message with Vertx and Redis?\r\n\r\nAnother option would be to use pub/sub channels via Redis.\r\n\r\nYou can find some good examples of this in the following links:\r\n\r\n - https://groups.google.com/g/vertx/c/iw3DIqXcUec\r\n - https://redis.io/commands/psubscribe/ \r\n - https://vertx.io/docs/vertx-redis-client/java/#_pubsub_mode\r\n\r\nAnd here is a quick code example of this:\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Redis\r\n     .createClient(vertx, &quot;redis://127.0.0.1:7006&quot;)\r\n     .connect()\r\n     .onSuccess(conn -&gt; {\r\n       conn.handler(message -&gt; {\r\n       // insert you code for message handling in here\r\n                                   });\r\n\r\n       // now we subscribe\r\n       conn\r\n       .send(Request\r\n       .cmd(Command.PSUBSCRIBE)\r\n       .arg(&quot;new*&quot;))\r\n       .onSuccess(ok -&gt; {\r\n        // subscribed to all events matching pattren &quot;new*&quot;\r\n        });\r\n}\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"How to keep listening for messages with Vertx and Redis?","body":"<blockquote>\n<p>How can I permanently listen for message with Vertx and Redis?</p>\n</blockquote>\n<p>Another option would be to use pub/sub channels via Redis.</p>\n<p>You can find some good examples of this in the following links:</p>\n<ul>\n<li><a href=\"https://groups.google.com/g/vertx/c/iw3DIqXcUec\" rel=\"nofollow noreferrer\">https://groups.google.com/g/vertx/c/iw3DIqXcUec</a></li>\n<li><a href=\"https://redis.io/commands/psubscribe/\" rel=\"nofollow noreferrer\">https://redis.io/commands/psubscribe/</a></li>\n<li><a href=\"https://vertx.io/docs/vertx-redis-client/java/#_pubsub_mode\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-redis-client/java/#_pubsub_mode</a></li>\n</ul>\n<p>And here is a quick code example of this:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Redis\n .createClient(vertx, \"redis://127.0.0.1:7006\")\n .connect()\n .onSuccess(conn -&gt; {\n   conn.handler(message -&gt; {\n   // insert you code for message handling in here\n                               });\n\n   // now we subscribe\n   conn\n   .send(Request\n   .cmd(Command.PSUBSCRIBE)\n   .arg(\"new*\"))\n   .onSuccess(ok -&gt; {\n    // subscribed to all events matching pattren \"new*\"\n    });\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":6651428,"reputation":818,"user_id":5133329,"accept_rate":80,"display_name":"Josemy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49474209,"answer_count":3,"score":0,"last_activity_date":1680099047,"creation_date":1521934992,"question_id":49471101,"body_markdown":"I have a ```Listener``` like this:\r\n    \r\n    public class Listener extends AbstractVerticle {\r\n        public static void main(String[] args) {\r\n            Launcher.executeCommand(&quot;run&quot;, Listener.class.getName());\r\n        }\r\n    \r\n        @Override\r\n        public void start() {\r\n            RedisOptions config = new RedisOptions()\r\n                    .setHost(&quot;127.0.0.1&quot;);\r\n    \r\n            RedisClient redis = RedisClient.create(vertx, config);\r\n    \r\n            redis.blpop(&quot;myKey&quot;, 3500, System.out::println);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAnd when a message is received, it is successfully printed on console, but no other message can be received anymore. And if I run the ```blpop``` inside a ```while(true)``` I get an Exception for blocking the thread.\r\n\r\nHow can I permanently listen for message with Vertx and Redis? \r\n\r\nWhat I really need to archive is some kind of Round Robin with many &quot;listeners&quot; but only one getting the message at the time. I mean, **one to many publishers** to a specific channel, and **one to many subscribers**, but when a message us published **just one subscriber gets the message**.","title":"How to keep listening for messages with Vertx and Redis?","body":"<p>I have a <code>Listener</code> like this:</p>\n\n<pre><code>public class Listener extends AbstractVerticle {\n    public static void main(String[] args) {\n        Launcher.executeCommand(\"run\", Listener.class.getName());\n    }\n\n    @Override\n    public void start() {\n        RedisOptions config = new RedisOptions()\n                .setHost(\"127.0.0.1\");\n\n        RedisClient redis = RedisClient.create(vertx, config);\n\n        redis.blpop(\"myKey\", 3500, System.out::println);\n\n    }\n\n}\n</code></pre>\n\n<p>And when a message is received, it is successfully printed on console, but no other message can be received anymore. And if I run the <code>blpop</code> inside a <code>while(true)</code> I get an Exception for blocking the thread.</p>\n\n<p>How can I permanently listen for message with Vertx and Redis? </p>\n\n<p>What I really need to archive is some kind of Round Robin with many \"listeners\" but only one getting the message at the time. I mean, <strong>one to many publishers</strong> to a specific channel, and <strong>one to many subscribers</strong>, but when a message us published <strong>just one subscriber gets the message</strong>.</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":0,"creation_date":1680099648,"post_id":75878349,"comment_id":133840174,"body_markdown":"does [setSmartMode()](https://api.itextpdf.com/iText7/java/latest/com/itextpdf/kernel/pdf/PdfWriter.html#setSmartMode(boolean)) help?","body":"does <a href=\"https://api.itextpdf.com/iText7/java/latest/com/itextpdf/kernel/pdf/PdfWriter.html#setSmartMode(boolean)\" rel=\"nofollow noreferrer\">setSmartMode()</a> help?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1680101661,"post_id":75878349,"comment_id":133840858,"body_markdown":"@Andr&#233;Lemos yes, I did that, but it doesn&#39;t help me","body":"@Andr&#233;Lemos yes, I did that, but it doesn&#39;t help me"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680098965,"creation_date":1680098965,"question_id":75878349,"body_markdown":"I am using ```itext 7.1.17``` library for creating pdf documents. I faced an issue with the rendered appearance of the non-Latin symbols. I found how to fix it, but the pdf size produced after this fix growth. Look at my code:\r\n```\r\npublic static void main(String[] args) {\r\n    Rectangle FIELDRECT = new Rectangle(50, 750, 200, 18);\r\n        String FIELDVALUE = &quot;Hello&quot;;\r\n        PdfWriter writer = new PdfWriter(&quot;FontEmbedded.pdf&quot;);\r\n        InputStream resourceAsStream = Main.class.getClassLoader().getResourceAsStream(&quot;Test.pdf&quot;);\r\n        PdfReader reader = new PdfReader(resourceAsStream);\r\n        PdfDocument pdfDoc = new PdfDocument(reader, writer);\r\n        Document doc = new Document(pdfDoc);\r\n        String fontPath = Main.class.getClassLoader().getResource(&quot;fonts/arial.ttf&quot;).getPath();\r\n        FontSet fontSet = new FontSet();\r\n        fontSet.addFont(fontPath);\r\n        FontProvider fontProvider = new FontProvider(fontSet);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\r\n        PdfTextFormField ff = PdfFormField.createText(pdfDoc, FIELDRECT, &quot;test&quot;);\r\n        PdfFont font = PdfFontFactory.createFont(fontsDir + &quot;/arial.ttf&quot;, PdfEncodings.WINANSI, true);\r\n        ff.setFont(font);\r\n        ff.setFontSize(12);\r\n        ff.setValue(FIELDVALUE);\r\n        ff.setMultiline(true);\r\n        ff.setScroll(true);\r\n        ff.setVisibility(4);\r\n        acroForm.addField(ff,pdfDoc.getFirstPage());\r\n        PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\r\n        Canvas canvas = new Canvas(xObject, pdfDoc);\r\n        canvas.getPdfCanvas().beginMarkedContent(new PdfName(&quot;Tx&quot;));\r\n        canvas.setProperty(Property.FONT_PROVIDER, fontProvider);\r\n        Paragraph paragraph = new Paragraph(FIELDVALUE).setFont(font)\r\n                                                   .setFontSize(12)\r\n                                                   .setFontFamily(&quot;Arial&quot;);\r\n        canvas.add(paragraph);\r\n        canvas.getPdfCanvas().endMarkedContent();\r\n\r\n        ff.setAppearance(PdfName.N, null, xObject.getPdfObject());\r\n\r\n        PdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\r\n        pdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\r\n\r\n        doc.close();\r\n}\r\n```\r\nAfter running the code above I get a pdf document with size 37kb, but if I am running the code looks like the following, I get a pdf file with size 20kb.\r\n```\r\npublic static void main(String[] args) {\r\n    Rectangle FIELDRECT = new Rectangle(50, 750, 200, 18);\r\n        String FIELDVALUE = &quot;Hello&quot;;\r\n        PdfWriter writer = new PdfWriter(&quot;FontEmbedded.pdf&quot;);\r\n        InputStream resourceAsStream = Main.class.getClassLoader().getResourceAsStream(&quot;Test.pdf&quot;);\r\n        PdfReader reader = new PdfReader(resourceAsStream);\r\n        PdfDocument pdfDoc = new PdfDocument(reader, writer);\r\n        Document doc = new Document(pdfDoc);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\r\n        PdfTextFormField ff = PdfFormField.createText(pdfDoc, FIELDRECT, &quot;test&quot;);\r\n        PdfFont font = PdfFontFactory.createFont(fontsDir + &quot;/arial.ttf&quot;, PdfEncodings.WINANSI, true);\r\n        ff.setFont(font);\r\n        ff.setFontSize(12);\r\n        ff.setValue(FIELDVALUE);\r\n        ff.setMultiline(true);\r\n        ff.setScroll(true);\r\n        ff.setVisibility(4);\r\n        acroForm.addField(ff,pdfDoc.getFirstPage());\r\n        \r\n        doc.close();\r\n}\r\n```\r\nHow can I reduce the size of my outcoming pdf document? If I need a solution for rendering non-Latin text in acrobat reader. The issue with non-Latin symbols is described [there][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69044414/the-non-latin-text-is-disappearing-from-the-pdf-text-field","title":"How to reduse a pdf file size","body":"<p>I am using <code>itext 7.1.17</code> library for creating pdf documents. I faced an issue with the rendered appearance of the non-Latin symbols. I found how to fix it, but the pdf size produced after this fix growth. Look at my code:</p>\n<pre><code>public static void main(String[] args) {\n    Rectangle FIELDRECT = new Rectangle(50, 750, 200, 18);\n        String FIELDVALUE = &quot;Hello&quot;;\n        PdfWriter writer = new PdfWriter(&quot;FontEmbedded.pdf&quot;);\n        InputStream resourceAsStream = Main.class.getClassLoader().getResourceAsStream(&quot;Test.pdf&quot;);\n        PdfReader reader = new PdfReader(resourceAsStream);\n        PdfDocument pdfDoc = new PdfDocument(reader, writer);\n        Document doc = new Document(pdfDoc);\n        String fontPath = Main.class.getClassLoader().getResource(&quot;fonts/arial.ttf&quot;).getPath();\n        FontSet fontSet = new FontSet();\n        fontSet.addFont(fontPath);\n        FontProvider fontProvider = new FontProvider(fontSet);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\n        PdfTextFormField ff = PdfFormField.createText(pdfDoc, FIELDRECT, &quot;test&quot;);\n        PdfFont font = PdfFontFactory.createFont(fontsDir + &quot;/arial.ttf&quot;, PdfEncodings.WINANSI, true);\n        ff.setFont(font);\n        ff.setFontSize(12);\n        ff.setValue(FIELDVALUE);\n        ff.setMultiline(true);\n        ff.setScroll(true);\n        ff.setVisibility(4);\n        acroForm.addField(ff,pdfDoc.getFirstPage());\n        PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\n        Canvas canvas = new Canvas(xObject, pdfDoc);\n        canvas.getPdfCanvas().beginMarkedContent(new PdfName(&quot;Tx&quot;));\n        canvas.setProperty(Property.FONT_PROVIDER, fontProvider);\n        Paragraph paragraph = new Paragraph(FIELDVALUE).setFont(font)\n                                                   .setFontSize(12)\n                                                   .setFontFamily(&quot;Arial&quot;);\n        canvas.add(paragraph);\n        canvas.getPdfCanvas().endMarkedContent();\n\n        ff.setAppearance(PdfName.N, null, xObject.getPdfObject());\n\n        PdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\n        pdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\n\n        doc.close();\n}\n</code></pre>\n<p>After running the code above I get a pdf document with size 37kb, but if I am running the code looks like the following, I get a pdf file with size 20kb.</p>\n<pre><code>public static void main(String[] args) {\n    Rectangle FIELDRECT = new Rectangle(50, 750, 200, 18);\n        String FIELDVALUE = &quot;Hello&quot;;\n        PdfWriter writer = new PdfWriter(&quot;FontEmbedded.pdf&quot;);\n        InputStream resourceAsStream = Main.class.getClassLoader().getResourceAsStream(&quot;Test.pdf&quot;);\n        PdfReader reader = new PdfReader(resourceAsStream);\n        PdfDocument pdfDoc = new PdfDocument(reader, writer);\n        Document doc = new Document(pdfDoc);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\n        PdfTextFormField ff = PdfFormField.createText(pdfDoc, FIELDRECT, &quot;test&quot;);\n        PdfFont font = PdfFontFactory.createFont(fontsDir + &quot;/arial.ttf&quot;, PdfEncodings.WINANSI, true);\n        ff.setFont(font);\n        ff.setFontSize(12);\n        ff.setValue(FIELDVALUE);\n        ff.setMultiline(true);\n        ff.setScroll(true);\n        ff.setVisibility(4);\n        acroForm.addField(ff,pdfDoc.getFirstPage());\n        \n        doc.close();\n}\n</code></pre>\n<p>How can I reduce the size of my outcoming pdf document? If I need a solution for rendering non-Latin text in acrobat reader. The issue with non-Latin symbols is described <a href=\"https://stackoverflow.com/questions/69044414/the-non-latin-text-is-disappearing-from-the-pdf-text-field\">there</a>.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1680098682,"post_id":75878275,"comment_id":133839854,"body_markdown":"One of the benefits of Room is not having to worry about Cursor - it is discouraged: https://developer.android.com/training/data-storage/room/accessing-data#query-cursor","body":"One of the benefits of Room is not having to worry about Cursor - it is discouraged: <a href=\"https://developer.android.com/training/data-storage/room/accessing-data#query-cursor\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/&hellip;</a>"},{"owner":{"account_id":17579563,"reputation":450,"user_id":12753633,"display_name":"Manuel Lucas"},"score":0,"creation_date":1680098960,"post_id":75878275,"comment_id":133839944,"body_markdown":"You are right ! So what I should do, it&#39;s keep the data from the Cursor, into a new Room database, which I have to build, right?","body":"You are right ! So what I should do, it&#39;s keep the data from the Cursor, into a new Room database, which I have to build, right?"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680100038,"post_id":75878275,"comment_id":133840299,"body_markdown":"It&#39;s difficult to say what is best without knowing about your app/product but yes, I would probably do a one-off migration from &quot;old&quot; db to new Room db, this would probably be easier than trying to map the existing data.","body":"It&#39;s difficult to say what is best without knowing about your app/product but yes, I would probably do a one-off migration from &quot;old&quot; db to new Room db, this would probably be easier than trying to map the existing data."}],"owner":{"account_id":17579563,"reputation":450,"user_id":12753633,"display_name":"Manuel Lucas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680098545,"creation_date":1680098545,"question_id":75878275,"body_markdown":"I was developing some simple app which make use of a local database using Room library, and I get into the need to replace Cursor class for another one which make the same funcionality.\r\n\r\nThe main goal is to generate a register ticket, using the data kept in the DB.\r\n\r\nSome example of one of this class would be this:\r\n\r\n``````````````````````````````````````````````````````````````````````````````````````\r\npublic class PenaltyRegister extends RegistroBase {\r\n\r\n    /**\r\n     * ATRIBUTOS DE LA CLASE\r\n     */\r\n    private Cursor registerCursor = null;\r\n    private ByteBuffer register;\r\n\r\n    private short lengthData = 0;\r\n    private short lengthPenalty = 329;\r\n    private short lengthDataPlus = 23;\r\n    protected int cardDataLength = 150;\r\n    protected int freePenaltyDescriptionLength = 150;\r\n    protected int documentLength = 20;\r\n\r\n\r\n    private int dailySequenceStock          = 112233;\r\n    private String filenamePenalty          = &quot;PENALTY&quot;;\r\n\r\n\r\n    private char EquitmentType = 3;\r\n    private char EquitmentModel = 3;\r\n    private long serialNumbert = 3456789;\r\n    private char line = 1;\r\n    private int station = 2;\r\n    private char hall = 3;\r\n    private char position = 4;\r\n    private int shiftNumber = 5;\r\n    private long operationNumber = 8;\r\n    private char supportType = 1;\r\n    private char supportSubtype = 1;\r\n    private byte[] cardData = new byte[cardDataLength];\r\n    private char penaltyReason = 167;\r\n    private byte[] freePenaltyDescription = new byte[freePenaltyDescriptionLength];\r\n\r\n    private long penaltyAmount = 50;\r\n    private char identification = 1;\r\n\r\n    private char identificationType = 1;\r\n    private int countryCode = 724;\r\n    private byte[] document = new byte[documentLength];\r\n\r\n    /**\r\n     * METODOS DE LA CLASE\r\n     */\r\n\r\n    /**\r\n     * @brief Constructor regitro Penalty //Code 89\r\n     */\r\n    public PenaltyRegister(int code, int version, int dailySeq, String fileName, Cursor p_register, Calendar register_Date, long offsetRegister){\r\n        super(code, version);\r\n        this.registerCursor = p_register;\r\n\r\n        Date registerDate = register_Date.getTime();\r\n        this.lengthData = (short) (getLengthRegisterBase() + this.lengthPenalty );\r\n        identification = (char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.IDENTIFICATION));\r\n        if(identification == 1)\r\n            this.lengthData += lengthDataPlus;\r\n        setLength(lengthData);\r\n        setDate(registerDate.getTime());\r\n        setFechaRegistro(registerDate);\r\n        setUniversalSequence(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.UNIVERSAL_SEQ)));\r\n        if(dailySeq == 0)\r\n            dailySeq = dailySequenceStock;\r\n        setDailySequence(dailySeq);\r\n        setOffset(offsetRegister);\r\n        setFileName(fileName);\r\n        for (int st=0;st&lt;cardDataLength; st++)\r\n            cardData[st] = 0x01;\r\n        this.create();\r\n    }\r\n\r\n    /**\r\n     * @brief Crea array de bytes del registro\r\n     */\r\n    private final void create() {\r\n\r\n        short numOfBytes = this.lengthData;\r\n        register = ByteBuffer.allocate(numOfBytes);\r\n        setProfundidad((char)numOfBytes);\r\n\r\n        putUnsignedChar((char) getTipoRegistro());\r\n        putUnsignedChar((char) getVersionRegistro());\r\n        putUnsignedShort(numOfBytes);\r\n        putUnsignedInt(getIndra4b(getFechaRegistro()));\r\n        putUnsignedInt(universalSequence);\r\n        putUnsignedInt(dailySequence);\r\n        putUnsignedInt(offset);\r\n        putArrayBytes(filename);\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.EQUIPMENT_TYPE)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.EQUIPMENT_MODEL)));\r\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SERIAL_NUMBER)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.LINE)));\r\n        putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.STATION)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.HALL)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.POSITION)));\r\n        putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SHIFT_NUMBER)));\r\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.OPERATION_NUMBER)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SUPPORT_TYPE)));\r\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SUPPORT_SUBTYPE)));\r\n        //CardData tiene que ser proporcionado por la CTL a trav&#233;s de par&#225;metro del constructor\r\n        putCardDataBytes(Base64.decode(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.CARD_DATA)), Base64.DEFAULT));\r\n        int penalty_reason = this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_REASON));\r\n        putUnsignedChar((char)penalty_reason);\r\n        if(penalty_reason == 0){\r\n            setDescription(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_DESCRIPTION)));\r\n        }\r\n        putArrayBytes(freePenaltyDescription);\r\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_AMOUNT)));\r\n        putUnsignedChar(identification);\r\n\r\n        if (identification == 1) {\r\n            putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.IDENTIFICATION_TYPE)));\r\n            putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.COUNTRY_CODE)));\r\n            setDocument(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.DOCUMENT)));\r\n            putArrayBytes(document);\r\n        }\r\n\r\n        putUnsignedInt(this.getCRC(this.register.array()));\r\n        this.registerMaster = this.register;\r\n    }\r\n\r\n    /**\r\n     * @brief introduce un long en el buffer del registro\r\n     * @param value valor a&#241;adido\r\n     */\r\n    private final void putUnsignedInt(long value){\r\n        this.register.put((byte) ((value &amp; 0x000000FF) &gt;&gt; 0));\r\n        this.register.put((byte) ((value &amp; 0x0000FF00) &gt;&gt; 8));\r\n        this.register.put((byte) ((value &amp; 0x00FF0000) &gt;&gt; 16));\r\n        this.register.put((byte) ((value &amp; 0xFF000000) &gt;&gt; 24));\r\n    }\r\n\r\n    /**\r\n     * @brief introduce un entero en el buffer del registro\r\n     *\r\n     * @param value valor a&#241;adido\r\n     */\r\n    private final void putUnsignedShort(int value){\r\n        this.register.put((byte) ((value &amp; 0x000000FF) &gt;&gt; 0));\r\n        this.register.put((byte) ((value &amp; 0x0000FF00) &gt;&gt; 8));\r\n    }\r\n\r\n    /**\r\n     * @brief introduce un byte en el buffer del registro\r\n     * @param value valor a&#241;adido\r\n     */\r\n    private final void putUnsignedChar(char value){\r\n        this.register.put((byte)value);\r\n    }\r\n\r\n    /**\r\n     * @brief introduce un array de bytes en el buffer del registro\r\n     * @param value valor a&#241;adido\r\n     */\r\n    private final void putArrayBytes(byte[] value){\r\n        for(int i=0;i&lt;value.length;i++)\r\n            this.register.put(value[i]);\r\n    }\r\n\r\n    /**\r\n     * @brief introduce un array de bytes en el buffer del registro para el campo Card Data\r\n     * (los dos primeros bytes son filtrados)\r\n     * @param value valor a&#241;adido\r\n     */\r\n    private final void putCardDataBytes(byte[] value) {\r\n        for(int i=2; i&lt;value.length; i++) {\r\n            this.register.put(value[i]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @brief Genera un array de bytes de los valores del registro\r\n     * @return\r\n     */\r\n    public ByteBuffer getBytesRegistro() {\r\n        return register;\r\n    }\r\n\r\n    /**\r\n     * @brief Devielve la longitud del registro en Bytes\r\n     * @return N&#250;mero de bytes que ocopa el registro\r\n     */\r\n    public long getSizeRegistro() {\r\n        return register.array().length;\r\n    }\r\n\r\n    /**\r\n     &#160;*&#160;@brief&#160;Calculates and returns the Checksum of the register\r\n     &#160;*&#160;@param&#160;bytes&#160;bytes del registro\r\n     &#160;*&#160;@return&#160;Checksum del registro\r\n     &#160;*/\r\n    private long getChecksum(byte bytes[]) {\r\n\r\n        long checksumValue = 0;\r\n        Checksum checksum = new CRC32();\r\n\r\n        // update the current checksum with the specified array of bytes\r\n        checksum.update(bytes, 0, bytes.length);\r\n\r\n        // get the current checksum value\r\n        checksumValue = checksum.getValue();\r\n\r\n        return checksumValue;\r\n    }\r\n\r\n    private static int getChecksum16(final byte[] buffer) {\r\n        /* Note the change here */\r\n        int crc = 0x1D0F;\r\n        for (int j = 0; j &lt; buffer.length ; j++) {\r\n            crc = ((crc  &gt;&gt;&gt; 8) | (crc  &lt;&lt; 8) )&amp; 0xffff;\r\n            crc ^= (buffer[j] &amp; 0xff);//byte to int, trunc sign\r\n            crc ^= ((crc &amp; 0xff) &gt;&gt; 4);\r\n            crc ^= (crc &lt;&lt; 12) &amp; 0xffff;\r\n            crc ^= ((crc &amp; 0xFF) &lt;&lt; 5) &amp; 0xffff;\r\n        }\r\n        crc &amp;= 0xffff;\r\n        return crc;\r\n    }\r\n\r\n    /**\r\n     * @brief Set Penalty description\r\n     * @param p_description nombre archivo del registro\r\n     * @return Registro base\r\n     */\r\n    public RegistroBase setDescription(final String p_description){\r\n        byte[] array = p_description.getBytes();\r\n        for (int i=0; i&lt;p_description.length(); i++)\r\n            this.freePenaltyDescription[i]=array[i];\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @brief Set Document\r\n     * @param p_document nombre archivo del registro\r\n     * @return Registro base\r\n     */\r\n    public RegistroBase setDocument(final String p_document){\r\n        byte[] array = p_document.getBytes();\r\n        for (int i=0; i&lt;p_document.length(); i++)\r\n            this.document[i]=array[i];\r\n        return this;\r\n    }\r\n}\r\n``````````````````````````````````````````````````````````````````````````````````````\r\n\r\nI don&#39;t know if you can provide some one, but if like this take thanks in advance!","title":"For which Java class could I replace &quot;Cursor&quot; in order to build some Room Database","body":"<p>I was developing some simple app which make use of a local database using Room library, and I get into the need to replace Cursor class for another one which make the same funcionality.</p>\n<p>The main goal is to generate a register ticket, using the data kept in the DB.</p>\n<p>Some example of one of this class would be this:</p>\n<pre><code>public class PenaltyRegister extends RegistroBase {\n\n    /**\n     * ATRIBUTOS DE LA CLASE\n     */\n    private Cursor registerCursor = null;\n    private ByteBuffer register;\n\n    private short lengthData = 0;\n    private short lengthPenalty = 329;\n    private short lengthDataPlus = 23;\n    protected int cardDataLength = 150;\n    protected int freePenaltyDescriptionLength = 150;\n    protected int documentLength = 20;\n\n\n    private int dailySequenceStock          = 112233;\n    private String filenamePenalty          = &quot;PENALTY&quot;;\n\n\n    private char EquitmentType = 3;\n    private char EquitmentModel = 3;\n    private long serialNumbert = 3456789;\n    private char line = 1;\n    private int station = 2;\n    private char hall = 3;\n    private char position = 4;\n    private int shiftNumber = 5;\n    private long operationNumber = 8;\n    private char supportType = 1;\n    private char supportSubtype = 1;\n    private byte[] cardData = new byte[cardDataLength];\n    private char penaltyReason = 167;\n    private byte[] freePenaltyDescription = new byte[freePenaltyDescriptionLength];\n\n    private long penaltyAmount = 50;\n    private char identification = 1;\n\n    private char identificationType = 1;\n    private int countryCode = 724;\n    private byte[] document = new byte[documentLength];\n\n    /**\n     * METODOS DE LA CLASE\n     */\n\n    /**\n     * @brief Constructor regitro Penalty //Code 89\n     */\n    public PenaltyRegister(int code, int version, int dailySeq, String fileName, Cursor p_register, Calendar register_Date, long offsetRegister){\n        super(code, version);\n        this.registerCursor = p_register;\n\n        Date registerDate = register_Date.getTime();\n        this.lengthData = (short) (getLengthRegisterBase() + this.lengthPenalty );\n        identification = (char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.IDENTIFICATION));\n        if(identification == 1)\n            this.lengthData += lengthDataPlus;\n        setLength(lengthData);\n        setDate(registerDate.getTime());\n        setFechaRegistro(registerDate);\n        setUniversalSequence(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.UNIVERSAL_SEQ)));\n        if(dailySeq == 0)\n            dailySeq = dailySequenceStock;\n        setDailySequence(dailySeq);\n        setOffset(offsetRegister);\n        setFileName(fileName);\n        for (int st=0;st&lt;cardDataLength; st++)\n            cardData[st] = 0x01;\n        this.create();\n    }\n\n    /**\n     * @brief Crea array de bytes del registro\n     */\n    private final void create() {\n\n        short numOfBytes = this.lengthData;\n        register = ByteBuffer.allocate(numOfBytes);\n        setProfundidad((char)numOfBytes);\n\n        putUnsignedChar((char) getTipoRegistro());\n        putUnsignedChar((char) getVersionRegistro());\n        putUnsignedShort(numOfBytes);\n        putUnsignedInt(getIndra4b(getFechaRegistro()));\n        putUnsignedInt(universalSequence);\n        putUnsignedInt(dailySequence);\n        putUnsignedInt(offset);\n        putArrayBytes(filename);\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.EQUIPMENT_TYPE)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.EQUIPMENT_MODEL)));\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SERIAL_NUMBER)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.LINE)));\n        putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.STATION)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.HALL)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.POSITION)));\n        putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SHIFT_NUMBER)));\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.OPERATION_NUMBER)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SUPPORT_TYPE)));\n        putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.SUPPORT_SUBTYPE)));\n        //CardData tiene que ser proporcionado por la CTL a través de parámetro del constructor\n        putCardDataBytes(Base64.decode(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.CARD_DATA)), Base64.DEFAULT));\n        int penalty_reason = this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_REASON));\n        putUnsignedChar((char)penalty_reason);\n        if(penalty_reason == 0){\n            setDescription(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_DESCRIPTION)));\n        }\n        putArrayBytes(freePenaltyDescription);\n        putUnsignedInt(this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.PENALTY_AMOUNT)));\n        putUnsignedChar(identification);\n\n        if (identification == 1) {\n            putUnsignedChar((char)this.registerCursor.getInt(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.IDENTIFICATION_TYPE)));\n            putUnsignedShort(this.registerCursor.getShort(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.COUNTRY_CODE)));\n            setDocument(this.registerCursor.getString(this.registerCursor.getColumnIndex(CoreDbContract.Penalty.DOCUMENT)));\n            putArrayBytes(document);\n        }\n\n        putUnsignedInt(this.getCRC(this.register.array()));\n        this.registerMaster = this.register;\n    }\n\n    /**\n     * @brief introduce un long en el buffer del registro\n     * @param value valor añadido\n     */\n    private final void putUnsignedInt(long value){\n        this.register.put((byte) ((value &amp; 0x000000FF) &gt;&gt; 0));\n        this.register.put((byte) ((value &amp; 0x0000FF00) &gt;&gt; 8));\n        this.register.put((byte) ((value &amp; 0x00FF0000) &gt;&gt; 16));\n        this.register.put((byte) ((value &amp; 0xFF000000) &gt;&gt; 24));\n    }\n\n    /**\n     * @brief introduce un entero en el buffer del registro\n     *\n     * @param value valor añadido\n     */\n    private final void putUnsignedShort(int value){\n        this.register.put((byte) ((value &amp; 0x000000FF) &gt;&gt; 0));\n        this.register.put((byte) ((value &amp; 0x0000FF00) &gt;&gt; 8));\n    }\n\n    /**\n     * @brief introduce un byte en el buffer del registro\n     * @param value valor añadido\n     */\n    private final void putUnsignedChar(char value){\n        this.register.put((byte)value);\n    }\n\n    /**\n     * @brief introduce un array de bytes en el buffer del registro\n     * @param value valor añadido\n     */\n    private final void putArrayBytes(byte[] value){\n        for(int i=0;i&lt;value.length;i++)\n            this.register.put(value[i]);\n    }\n\n    /**\n     * @brief introduce un array de bytes en el buffer del registro para el campo Card Data\n     * (los dos primeros bytes son filtrados)\n     * @param value valor añadido\n     */\n    private final void putCardDataBytes(byte[] value) {\n        for(int i=2; i&lt;value.length; i++) {\n            this.register.put(value[i]);\n        }\n    }\n\n    /**\n     * @brief Genera un array de bytes de los valores del registro\n     * @return\n     */\n    public ByteBuffer getBytesRegistro() {\n        return register;\n    }\n\n    /**\n     * @brief Devielve la longitud del registro en Bytes\n     * @return Número de bytes que ocopa el registro\n     */\n    public long getSizeRegistro() {\n        return register.array().length;\n    }\n\n    /**\n      * @brief Calculates and returns the Checksum of the register\n      * @param bytes bytes del registro\n      * @return Checksum del registro\n      */\n    private long getChecksum(byte bytes[]) {\n\n        long checksumValue = 0;\n        Checksum checksum = new CRC32();\n\n        // update the current checksum with the specified array of bytes\n        checksum.update(bytes, 0, bytes.length);\n\n        // get the current checksum value\n        checksumValue = checksum.getValue();\n\n        return checksumValue;\n    }\n\n    private static int getChecksum16(final byte[] buffer) {\n        /* Note the change here */\n        int crc = 0x1D0F;\n        for (int j = 0; j &lt; buffer.length ; j++) {\n            crc = ((crc  &gt;&gt;&gt; 8) | (crc  &lt;&lt; 8) )&amp; 0xffff;\n            crc ^= (buffer[j] &amp; 0xff);//byte to int, trunc sign\n            crc ^= ((crc &amp; 0xff) &gt;&gt; 4);\n            crc ^= (crc &lt;&lt; 12) &amp; 0xffff;\n            crc ^= ((crc &amp; 0xFF) &lt;&lt; 5) &amp; 0xffff;\n        }\n        crc &amp;= 0xffff;\n        return crc;\n    }\n\n    /**\n     * @brief Set Penalty description\n     * @param p_description nombre archivo del registro\n     * @return Registro base\n     */\n    public RegistroBase setDescription(final String p_description){\n        byte[] array = p_description.getBytes();\n        for (int i=0; i&lt;p_description.length(); i++)\n            this.freePenaltyDescription[i]=array[i];\n        return this;\n    }\n\n    /**\n     * @brief Set Document\n     * @param p_document nombre archivo del registro\n     * @return Registro base\n     */\n    public RegistroBase setDocument(final String p_document){\n        byte[] array = p_document.getBytes();\n        for (int i=0; i&lt;p_document.length(); i++)\n            this.document[i]=array[i];\n        return this;\n    }\n}\n</code></pre>\n<p>I don't know if you can provide some one, but if like this take thanks in advance!</p>\n"},{"tags":["java","hibernate","mariadb"],"comments":[{"owner":{"account_id":2517962,"reputation":12778,"user_id":10195153,"display_name":"danblack"},"score":0,"creation_date":1679460531,"post_id":75793254,"comment_id":133724612,"body_markdown":"MariaDB does [support sequences](https://mariadb.com/kb/en/create-sequence/) for a while now (10.3+). [DROP SEQUENCE](https://mariadb.com/kb/en/drop-sequence/) is allowed (MariaDB, not MySQL). The drop error is the sequence not found. Could it be the previous didn&#39;t support it and the upgrade is trying to remove it before recreating it?","body":"MariaDB does <a href=\"https://mariadb.com/kb/en/create-sequence/\" rel=\"nofollow noreferrer\">support sequences</a> for a while now (10.3+). <a href=\"https://mariadb.com/kb/en/drop-sequence/\" rel=\"nofollow noreferrer\">DROP SEQUENCE</a> is allowed (MariaDB, not MySQL). The drop error is the sequence not found. Could it be the previous didn&#39;t support it and the upgrade is trying to remove it before recreating it?"},{"owner":{"account_id":12214233,"reputation":451,"user_id":8915165,"display_name":"K. Taylor"},"score":0,"creation_date":1679575024,"post_id":75793254,"comment_id":133748015,"body_markdown":"Looking in the DB using dbVis the sequences were actually being produced after the upgrade, not before, and I&#39;m on 10.10.2. Anyway, I removed SequenceGenerator and its working, so that annotation is where the problem lies.","body":"Looking in the DB using dbVis the sequences were actually being produced after the upgrade, not before, and I&#39;m on 10.10.2. Anyway, I removed SequenceGenerator and its working, so that annotation is where the problem lies."},{"owner":{"account_id":3847948,"reputation":378,"user_id":3188825,"display_name":"Akhil"},"score":0,"creation_date":1700547360,"post_id":75793254,"comment_id":136664800,"body_markdown":"Were you able to resolve this issue? I&#39;m facing a similar error in ID generation using sequence\n`Caused by: java.sql.SQLException: Unknown column &#39;next_val&#39; in &#39;field list&#39;\nQuery is: select next_val as id_val from job_seq for update`","body":"Were you able to resolve this issue? I&#39;m facing a similar error in ID generation using sequence <code>Caused by: java.sql.SQLException: Unknown column &#39;next_val&#39; in &#39;field list&#39; Query is: select next_val as id_val from job_seq for update</code>"}],"owner":{"account_id":12214233,"reputation":451,"user_id":8915165,"display_name":"K. Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680098342,"creation_date":1679331974,"question_id":75793254,"body_markdown":"After updating Hibernate to 6.1.7, ID generators are failing, trying to DROP SEQUENCE, which is illegal in MariaDB (and probably MySQL too). This was working in 6.1.4. Tried every GenerationType.\r\n\r\nUsing: hibernate.hbm2ddl.auto = create\r\n\r\nDoes anyone know what changed that caused this?  \r\nIs there a property that can return it to the previous behavior, which was automatically using TABLE when SEQUENCE was selected?\r\n\r\nI can see in the DB, using dbVisualizer, that it is actually creating SEQUENCEs.  Not sure how that is even possible since MariaDB does not support that.\r\n\r\nVersion Bump:\r\n\r\nHibernate: 6.1.4 -&gt; 6.1.7\r\n\r\njavax.persistence 3.0.0 -&gt; 3.1.0\r\n\r\nmariadb java client: 3.0.9\r\n\r\nMariaDB: 10.10\r\n\r\nException:\r\n\r\n&gt; 11:35:55.833 WARN  jdbc.message.server.ErrorPacket [main] at (org.mariadb.jdbc.util.log.Slf4JLogger:100) - Error: 4091-42S02: Unknown SEQUENCE: &#39;appsec.sec_users_seq&#39;\r\n11:35:55.834 WARN  tool.schema.internal.ExceptionHandlerLoggedImpl [main] at (org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl:27) - GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop sequence sec_users_seq&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop sequence sec_users_seq&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:286)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:186)\r\n\tat security.domain.SecHibernateController.initialize(SecHibernateController.java:194)\r\n\tat security.domain.SecHibernateController.&lt;init&gt;(SecHibernateController.java:49)\r\n\tat security.domain.SecHibernateController.&lt;clinit&gt;(SecHibernateController.java:43)\r\n\tat security.test.TestApp.&lt;init&gt;(TestApp.java:67)\r\n\tat security.test.TestApp.main(TestApp.java:58)\r\nCaused by: java.sql.SQLSyntaxErrorException: (conn=979) Unknown SEQUENCE: &#39;appsec.sec_users_seq&#39;\r\n\tat org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:282)\r\n\tat org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:370)\r\n\tat org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:137)\r\n\tat org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:840)\r\n\tat org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:779)\r\n\tat org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:698)\r\n\tat org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:641)\r\n\tat org.mariadb.jdbc.Statement.executeInternal(Statement.java:935)\r\n\tat org.mariadb.jdbc.Statement.execute(Statement.java:1061)\r\n\tat org.mariadb.jdbc.Statement.execute(Statement.java:452)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 18 more\r\n\r\nCode:\r\n\r\n```\r\n@Entity\r\n@Table( name = &quot;sec_users&quot; )\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue( generator = &quot;sec_user_seq_gen&quot;, strategy = GenerationType.SEQUENCE )\r\n\t@SequenceGenerator( name = &quot;sec_user_seq_gen&quot;, sequenceName = &quot;sec_users_seq&quot;, initialValue = 101, allocationSize = 5 )\r\n\t@Column( name = &quot;id&quot; )\r\n\tprivate Long id;\r\n\r\n}\r\n```\r\n\r\nUpdate: Removing the @SequenceGenerator seems to restore the old behavior. I still think this is a bug unless it was an intentional change.\r\n\r\nUpdate: This is how I got it to work. Any deviation from this fails.\r\n```\r\n@Entity\r\n@Table( name = &quot;customer&quot; )\r\npublic class Customer extends AbstractEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue( generator = &quot;customer_seq&quot;, strategy = GenerationType.TABLE )\r\n\t@Column( name = &quot;id&quot; )\r\n\tprivate Long id;\r\n\r\n\t// getter/setters\r\n\r\n}\r\n```","title":"Updating Hibernate 6.1.4 to 6.1.7 broke ID generators for MariaDB","body":"<p>After updating Hibernate to 6.1.7, ID generators are failing, trying to DROP SEQUENCE, which is illegal in MariaDB (and probably MySQL too). This was working in 6.1.4. Tried every GenerationType.</p>\n<p>Using: hibernate.hbm2ddl.auto = create</p>\n<p>Does anyone know what changed that caused this?<br />\nIs there a property that can return it to the previous behavior, which was automatically using TABLE when SEQUENCE was selected?</p>\n<p>I can see in the DB, using dbVisualizer, that it is actually creating SEQUENCEs.  Not sure how that is even possible since MariaDB does not support that.</p>\n<p>Version Bump:</p>\n<p>Hibernate: 6.1.4 -&gt; 6.1.7</p>\n<p>javax.persistence 3.0.0 -&gt; 3.1.0</p>\n<p>mariadb java client: 3.0.9</p>\n<p>MariaDB: 10.10</p>\n<p>Exception:</p>\n<blockquote>\n<p>11:35:55.833 WARN  jdbc.message.server.ErrorPacket [main] at (org.mariadb.jdbc.util.log.Slf4JLogger:100) - Error: 4091-42S02: Unknown SEQUENCE: 'appsec.sec_users_seq'\n11:35:55.834 WARN  tool.schema.internal.ExceptionHandlerLoggedImpl [main] at (org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl:27) - GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop sequence sec_users_seq&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop sequence sec_users_seq&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:286)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\nat java.base/java.util.HashMap.forEach(HashMap.java:1421)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:336)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\nat org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:186)\nat security.domain.SecHibernateController.initialize(SecHibernateController.java:194)\nat security.domain.SecHibernateController.(SecHibernateController.java:49)\nat security.domain.SecHibernateController.(SecHibernateController.java:43)\nat security.test.TestApp.(TestApp.java:67)\nat security.test.TestApp.main(TestApp.java:58)\nCaused by: java.sql.SQLSyntaxErrorException: (conn=979) Unknown SEQUENCE: 'appsec.sec_users_seq'\nat org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:282)\nat org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:370)\nat org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:137)\nat org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:840)\nat org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:779)\nat org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:698)\nat org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:641)\nat org.mariadb.jdbc.Statement.executeInternal(Statement.java:935)\nat org.mariadb.jdbc.Statement.execute(Statement.java:1061)\nat org.mariadb.jdbc.Statement.execute(Statement.java:452)\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n... 18 more</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>@Entity\n@Table( name = &quot;sec_users&quot; )\npublic class User {\n\n    @Id\n    @GeneratedValue( generator = &quot;sec_user_seq_gen&quot;, strategy = GenerationType.SEQUENCE )\n    @SequenceGenerator( name = &quot;sec_user_seq_gen&quot;, sequenceName = &quot;sec_users_seq&quot;, initialValue = 101, allocationSize = 5 )\n    @Column( name = &quot;id&quot; )\n    private Long id;\n\n}\n</code></pre>\n<p>Update: Removing the @SequenceGenerator seems to restore the old behavior. I still think this is a bug unless it was an intentional change.</p>\n<p>Update: This is how I got it to work. Any deviation from this fails.</p>\n<pre><code>@Entity\n@Table( name = &quot;customer&quot; )\npublic class Customer extends AbstractEntity {\n\n    @Id\n    @GeneratedValue( generator = &quot;customer_seq&quot;, strategy = GenerationType.TABLE )\n    @Column( name = &quot;id&quot; )\n    private Long id;\n\n    // getter/setters\n\n}\n</code></pre>\n"},{"tags":["java","android","neo4j"],"comments":[{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1680083230,"post_id":75874306,"comment_id":133835569,"body_markdown":"The setting names do not match the documented ones: https://neo4j.com/docs/operations-manual/current/configuration/connectors/. It should be `server.bolt.listen_address`.","body":"The setting names do not match the documented ones: <a href=\"https://neo4j.com/docs/operations-manual/current/configuration/connectors/\" rel=\"nofollow noreferrer\">neo4j.com/docs/operations-manual/current/configuration/&hellip;</a>. It should be <code>server.bolt.listen_address</code>."},{"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"score":0,"creation_date":1680084162,"post_id":75874306,"comment_id":133835799,"body_markdown":"@fbiville yes, but it doesn&#39;t change anything","body":"@fbiville yes, but it doesn&#39;t change anything"},{"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"score":0,"creation_date":1680084239,"post_id":75874306,"comment_id":133835822,"body_markdown":"@fbiville when I try to connect from neo4j it says: &quot; ServiceUnavailable: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the Neo4j certificate is configured to use. WebSocket `readyState` is: 3&quot;","body":"@fbiville when I try to connect from neo4j it says: &quot; ServiceUnavailable: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the Neo4j certificate is configured to use. WebSocket <code>readyState</code> is: 3&quot;"},{"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"score":0,"creation_date":1680091048,"post_id":75874306,"comment_id":133837467,"body_markdown":"why does it work only with localhost and not my network?","body":"why does it work only with localhost and not my network?"}],"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680098003,"creation_date":1680074744,"question_id":75874306,"body_markdown":"Hi I would like to use neo4j in an app made in android studio on mac using neo4j version 5.6.0 desktop on mac, but when I try to connect with &quot;bolt://192.168.X.X:7687&quot; it gives me error it&#39;s from as message on neo4j: &quot;ServiceUnavailable: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the Neo4j certificate is configured to use. WebSocket readyState` is: 3&quot;.\r\n\r\nI tried uncommenting these dbms.connectors .default_listen_address=0.0.0.0 and server.bolt.listen_address\r\n\r\nbut it didn&#39;t work and it&#39;s not a question of the port because if I activate the server with &quot;bolt://192.168.X.X:7687&quot; the server c onnette but from client app I have: &quot;&quot;W/System.err: org.neo4j.driver.v1.exceptions.ServiceUnavailableException: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it .&quot;\r\n\r\nAs a client I made the connection in android studio with AsyncTask like this:\r\n\r\n```\r\n`  try {\r\n                String uri = &quot;bolt://X.X.X:7687&quot;;\r\n                String username = &quot;neo4j&quot;;\r\n                String password = &quot;neo4j&quot;;\r\n                driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\r\n                Session session = driver.session();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\r\n            }`\r\n```\r\n\r\nHow can I fix it?\r\n\r\nI would like the neo4j server to connect","title":"Connection to neo4j incorrect in android studio","body":"<p>Hi I would like to use neo4j in an app made in android studio on mac using neo4j version 5.6.0 desktop on mac, but when I try to connect with &quot;bolt://192.168.X.X:7687&quot; it gives me error it's from as message on neo4j: &quot;ServiceUnavailable: WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the Neo4j certificate is configured to use. WebSocket readyState` is: 3&quot;.</p>\n<p>I tried uncommenting these dbms.connectors .default_listen_address=0.0.0.0 and server.bolt.listen_address</p>\n<p>but it didn't work and it's not a question of the port because if I activate the server with &quot;bolt://192.168.X.X:7687&quot; the server c onnette but from client app I have: &quot;&quot;W/System.err: org.neo4j.driver.v1.exceptions.ServiceUnavailableException: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it .&quot;</p>\n<p>As a client I made the connection in android studio with AsyncTask like this:</p>\n<pre><code>`  try {\n                String uri = &quot;bolt://X.X.X:7687&quot;;\n                String username = &quot;neo4j&quot;;\n                String password = &quot;neo4j&quot;;\n                driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\n                Session session = driver.session();\n                Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n                Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\n            }`\n</code></pre>\n<p>How can I fix it?</p>\n<p>I would like the neo4j server to connect</p>\n"},{"tags":["java","maven","intellij-idea","dependency-management"],"answers":[{"comments":[{"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"score":0,"creation_date":1382629161,"post_id":19568842,"comment_id":29042868,"body_markdown":"Thanks for your suggestions. Reimport did not work. When i try to import the project again like you proposed, intellij says &quot;nothing found to import&quot;, i am not quite sure about the location of the project file for intellij that contains the information about all modules which are currently part of the project. Your tip with auto importing was helpful, since it prevents the need for clicking the green popup when poms are changed. I guess the problem is that maven or intellij still thinks of the excluded module as part of the project and tries to use compilate from there, instead of the repos","body":"Thanks for your suggestions. Reimport did not work. When i try to import the project again like you proposed, intellij says &quot;nothing found to import&quot;, i am not quite sure about the location of the project file for intellij that contains the information about all modules which are currently part of the project. Your tip with auto importing was helpful, since it prevents the need for clicking the green popup when poms are changed. I guess the problem is that maven or intellij still thinks of the excluded module as part of the project and tries to use compilate from there, instead of the repos"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1382629721,"post_id":19568842,"comment_id":29043218,"body_markdown":"To import a project with Idea, you need to point to the dir containing the top-level `pom.xml`. I have one more guess, updating the answer...","body":"To import a project with Idea, you need to point to the dir containing the top-level <code>pom.xml</code>. I have one more guess, updating the answer..."},{"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"score":0,"creation_date":1382687406,"post_id":19568842,"comment_id":29065671,"body_markdown":"i tried copying the project to a seperate dir and reimporting it. it still throws the same compiler error &quot;symbol not found&quot; because it cant find the dependent module. for your new suggestion, i changed m2_home in intellij like proposed in this thread http://stackoverflow.com/questions/7053666/maven-home-m2-home-not-being-picked-up-by-intellij-idea. sadly it had no effect. i tried also renaming my local mvn repos which forced all dependencies to be loaded again from our artifactory. i want to clarify project structure in next post","body":"i tried copying the project to a seperate dir and reimporting it. it still throws the same compiler error &quot;symbol not found&quot; because it cant find the dependent module. for your new suggestion, i changed m2_home in intellij like proposed in this thread <a href=\"http://stackoverflow.com/questions/7053666/maven-home-m2-home-not-being-picked-up-by-intellij-idea\" title=\"maven home m2 home not being picked up by intellij idea\">stackoverflow.com/questions/7053666/&hellip;</a>. sadly it had no effect. i tried also renaming my local mvn repos which forced all dependencies to be loaded again from our artifactory. i want to clarify project structure in next post"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1382687932,"post_id":19568842,"comment_id":29065924,"body_markdown":"This means that you have these dependencies somewhere else in the project and this is the reason they are fetched from your artifactory repo. These can be transitive or explicitly declared. `mvn dependency:analyze` will check this. `mvn dependency:tree` will show the complete dep tree. Make sure you don&#39;t have your dependencies there.","body":"This means that you have these dependencies somewhere else in the project and this is the reason they are fetched from your artifactory repo. These can be transitive or explicitly declared. <code>mvn dependency:analyze</code> will check this. <code>mvn dependency:tree</code> will show the complete dep tree. Make sure you don&#39;t have your dependencies there."},{"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"score":0,"creation_date":1382688125,"post_id":19568842,"comment_id":29066014,"body_markdown":"There are currently 5 modules in my project. They are dependend on a number of self made libs/modules and several external ones, which is all clearly stated in the pom.xml of each module. A module that was imported in and removed from intellij, and to which one of my active modules is dependend, is not found by intellij, and intellij seems to be confused and does not seem to try to get it from local or remote mvn repository. I get a compilation error when i compile anything in intellij (any runnable class), but not when i build with maven. There are no dependency collions by maven.","body":"There are currently 5 modules in my project. They are dependend on a number of self made libs/modules and several external ones, which is all clearly stated in the pom.xml of each module. A module that was imported in and removed from intellij, and to which one of my active modules is dependend, is not found by intellij, and intellij seems to be confused and does not seem to try to get it from local or remote mvn repository. I get a compilation error when i compile anything in intellij (any runnable class), but not when i build with maven. There are no dependency collions by maven."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1382688739,"post_id":19568842,"comment_id":29066288,"body_markdown":"Have you tried &#39;File -&gt; Invalidate Caches&#39; and deleting &#39;$HOME/.IntelliJIdea12/system&#39; if it doesn&#39;t help?","body":"Have you tried &#39;File -&gt; Invalidate Caches&#39; and deleting &#39;$HOME/.IntelliJIdea12/system&#39; if it doesn&#39;t help?"},{"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"score":0,"creation_date":1382694304,"post_id":19568842,"comment_id":29069193,"body_markdown":"source of module a in my project is dependend on module b which is also part of my project right now, module b is dependend on the excluded module c. the compilated classes of module c are existent in my local and my remote repository. intellij should fetch module c from somewhere, and not search in my project where i already excluded the source. i will try to invalidate the caches, but i dont think this will solve it since it is a persistent problem. my original problem is that intellij does not properly exclude/remove the source of module c (i think :)).","body":"source of module a in my project is dependend on module b which is also part of my project right now, module b is dependend on the excluded module c. the compilated classes of module c are existent in my local and my remote repository. intellij should fetch module c from somewhere, and not search in my project where i already excluded the source. i will try to invalidate the caches, but i dont think this will solve it since it is a persistent problem. my original problem is that intellij does not properly exclude/remove the source of module c (i think :))."},{"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"score":0,"creation_date":1382694983,"post_id":19568842,"comment_id":29069552,"body_markdown":"invalidating the caches brought no different result. thank you for your effort anyhow, i learned a lot. maybe i will need to rebuild the intellijproject from scratch after all. i am still wondering why the source modules are not excluded completely","body":"invalidating the caches brought no different result. thank you for your effort anyhow, i learned a lot. maybe i will need to rebuild the intellijproject from scratch after all. i am still wondering why the source modules are not excluded completely"}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382629859,"creation_date":1382625157,"answer_id":19568842,"question_id":19568134,"body_markdown":"Do any of these two points work for you:\r\n\r\n- **NEW** there might be dependency in one of your sub-modules pointing to the removed artifact. To make sure it&#39;s the situation, you may want to rename your $HOME/.m2 and rebuild the project. If this is indeed the case, just search for the dependency in your poms and delete it from sub-modules\r\n- right click on the parent `pom.xml` -&gt; Maven -&gt; Reimport\r\n- copy the project into a separate dir. File -&gt; Import Project -&gt; Choose newly created dir -&gt; Choose Maven?\r\n\r\n\r\nPS. Idea is excellent in maintaining the project structure in accordance with Maven project. Once you make a change to your pom, you need to reload the project. Idea can also automatically detect changes made to your `pom.xml` and apply them to project. To enable this, press &lt;kbd&gt;Ctrl+Shift+A&lt;/kbd&gt;, type &#39;maven auto&#39;, choose &quot;Importing&quot;, checkbox &quot;Import Maven project automatically&quot;;","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>Do any of these two points work for you:</p>\n\n<ul>\n<li><strong>NEW</strong> there might be dependency in one of your sub-modules pointing to the removed artifact. To make sure it's the situation, you may want to rename your $HOME/.m2 and rebuild the project. If this is indeed the case, just search for the dependency in your poms and delete it from sub-modules</li>\n<li>right click on the parent <code>pom.xml</code> -> Maven -> Reimport</li>\n<li>copy the project into a separate dir. File -> Import Project -> Choose newly created dir -> Choose Maven?</li>\n</ul>\n\n<p>PS. Idea is excellent in maintaining the project structure in accordance with Maven project. Once you make a change to your pom, you need to reload the project. Idea can also automatically detect changes made to your <code>pom.xml</code> and apply them to project. To enable this, press <kbd>Ctrl+Shift+A</kbd>, type 'maven auto', choose \"Importing\", checkbox \"Import Maven project automatically\";</p>\n"},{"comments":[{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":6,"creation_date":1389195278,"post_id":19592666,"comment_id":31558070,"body_markdown":"sometimes, `remove projects` is disabled. Right click your project &gt; open module settings, delete your module. Then, delete the module contents on disk.","body":"sometimes, <code>remove projects</code> is disabled. Right click your project &gt; open module settings, delete your module. Then, delete the module contents on disk."}],"tags":[],"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1382712067,"creation_date":1382711525,"answer_id":19592666,"question_id":19568134,"body_markdown":"A collegue who has more in-depth knowledge of maven told me the answer:\r\n\r\nThe trick is not to remove the source module from the intellij project but to remove it from maven (in the maven projects tab in intellij). Intellij will ask then to remove the source module also from the intellij project and its finally gone.\r\n\r\nRight click on the maven project -&gt; remove projects\r\n\r\nWould not have guessed this makes such a difference.","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>A collegue who has more in-depth knowledge of maven told me the answer:</p>\n\n<p>The trick is not to remove the source module from the intellij project but to remove it from maven (in the maven projects tab in intellij). Intellij will ask then to remove the source module also from the intellij project and its finally gone.</p>\n\n<p>Right click on the maven project -> remove projects</p>\n\n<p>Would not have guessed this makes such a difference.</p>\n"},{"tags":[],"owner":{"account_id":387859,"reputation":1633,"user_id":746459,"accept_rate":32,"display_name":"jmkgreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476957896,"creation_date":1476957896,"answer_id":40151333,"question_id":19568134,"body_markdown":"This may not relate directly to the OP, but...\r\n\r\nUsing **IntelliJ 2016.5**, to remove a Maven module *and* it&#39;s underlying source code *and* remove it as a sub-module from the parent, go to the `Project Files` tab, find the unwanted module and use the triangle symbol to open it, _then_ delete the entry that represents it on disk.\r\n\r\nHitting `Delete` on the module itself will only mark it as hidden within the IDE.","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>This may not relate directly to the OP, but...</p>\n\n<p>Using <strong>IntelliJ 2016.5</strong>, to remove a Maven module <em>and</em> it's underlying source code <em>and</em> remove it as a sub-module from the parent, go to the <code>Project Files</code> tab, find the unwanted module and use the triangle symbol to open it, <em>then</em> delete the entry that represents it on disk.</p>\n\n<p>Hitting <code>Delete</code> on the module itself will only mark it as hidden within the IDE.</p>\n"},{"tags":[],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677879542,"creation_date":1677879479,"answer_id":75632103,"question_id":19568134,"body_markdown":"In case someone encounters a similar problem in recent times, the following steps worked for me:\r\n\r\n1. Right-click on the project/module that you want to remove.\r\n2. Select &quot;Maven&quot; from the context menu.\r\n3. Choose &quot;Unlink Maven Projects&quot; from the dropdown list.\r\n4. Finally, select &quot;Remove&quot; to delete the project/module.","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>In case someone encounters a similar problem in recent times, the following steps worked for me:</p>\n<ol>\n<li>Right-click on the project/module that you want to remove.</li>\n<li>Select &quot;Maven&quot; from the context menu.</li>\n<li>Choose &quot;Unlink Maven Projects&quot; from the dropdown list.</li>\n<li>Finally, select &quot;Remove&quot; to delete the project/module.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15585621,"reputation":9,"user_id":11244239,"display_name":"Emmaroland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680097839,"creation_date":1680097839,"answer_id":75878145,"question_id":19568134,"body_markdown":"If anyone is still experiencing this. This is what worked for me:\r\n\r\n 1. Rigth click on the module to remove.\r\n 2. Select &quot;Remove Module&quot; fro the context menu.\r\n 3. Right click on the same module again. This time you should see an option &quot;delete&quot; in the context menu.\r\n 4. Click on &quot;delete&quot; and the module is gone.\r\n\r\nHope this helps","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>If anyone is still experiencing this. This is what worked for me:</p>\n<ol>\n<li>Rigth click on the module to remove.</li>\n<li>Select &quot;Remove Module&quot; fro the context menu.</li>\n<li>Right click on the same module again. This time you should see an option &quot;delete&quot; in the context menu.</li>\n<li>Click on &quot;delete&quot; and the module is gone.</li>\n</ol>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":3484794,"reputation":631,"user_id":2916007,"display_name":"herpnderpn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40485,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":19592666,"answer_count":5,"score":18,"last_activity_date":1680097839,"creation_date":1382623199,"question_id":19568134,"body_markdown":"I am currently working on a larger scale Maven-based project in IntelliJIdea 12.1.6 Ultimate. I have been working with IntelliJIdea since about 5 months.\r\n\r\nAn included module has dependencies on another module. The dependent module&#39;s source was also part of my project until recently. Since I removed the dependent module from my project, I get compile errors whenever I am trying to compile the source without maven.\r\n\r\nThe pom.xml of removed modules in Intellij seem to be placed onto the Settings-&gt;Maven-&gt;Ignored Files. I cant seem to remove it from there, only check or uncheck it. It&#39;s not possible to include the module again since IntelliJ will say its still under Ignored Files.\r\n\r\n2 ways allow me to compile again: Uncheck the pom from Ignored files, which will include the module again in my project. Or delete the source of the dependent module, so my project will load the dependent module from the maven repository. But whenever I update my project from svn, the source of the dependent module is restored (I don&#39;t know why this even happens since its not part my project) and the cycle begins anew.\r\n\r\nI googled this for a while since it gets really annoying. It became a problem with several excluded modules. I could rebuild the intellij-project from scratch but since a lot of IntelliJ settings were made (not related to the problem) I would rather solve this.\r\n\r\nAny help is appreciated, I guess I must be missing something","title":"How to remove Modules from a Intellij Maven Project permanently?","body":"<p>I am currently working on a larger scale Maven-based project in IntelliJIdea 12.1.6 Ultimate. I have been working with IntelliJIdea since about 5 months.</p>\n\n<p>An included module has dependencies on another module. The dependent module's source was also part of my project until recently. Since I removed the dependent module from my project, I get compile errors whenever I am trying to compile the source without maven.</p>\n\n<p>The pom.xml of removed modules in Intellij seem to be placed onto the Settings->Maven->Ignored Files. I cant seem to remove it from there, only check or uncheck it. It's not possible to include the module again since IntelliJ will say its still under Ignored Files.</p>\n\n<p>2 ways allow me to compile again: Uncheck the pom from Ignored files, which will include the module again in my project. Or delete the source of the dependent module, so my project will load the dependent module from the maven repository. But whenever I update my project from svn, the source of the dependent module is restored (I don't know why this even happens since its not part my project) and the cycle begins anew.</p>\n\n<p>I googled this for a while since it gets really annoying. It became a problem with several excluded modules. I could rebuild the intellij-project from scratch but since a lot of IntelliJ settings were made (not related to the problem) I would rather solve this.</p>\n\n<p>Any help is appreciated, I guess I must be missing something</p>\n"},{"tags":["java","spring-boot","hibernate","join","spring-data-jpa"],"comments":[{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1680003265,"post_id":75865159,"comment_id":133818859,"body_markdown":"In what way is it not working? What error do you get?","body":"In what way is it not working? What error do you get?"},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1680007960,"post_id":75865159,"comment_id":133820213,"body_markdown":"I want a JSON only with the data from Artikel Class. Without the Join to Artikeldetails","body":"I want a JSON only with the data from Artikel Class. Without the Join to Artikeldetails"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1680023604,"post_id":75865159,"comment_id":133824917,"body_markdown":"Have you tried the `JsonIgnore` annotation above the list?","body":"Have you tried the <code>JsonIgnore</code> annotation above the list?"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680097415,"creation_date":1680097415,"answer_id":75878070,"question_id":75865159,"body_markdown":"I have now the Solution:\r\n\r\nif you include fetch = FetchType.LAZY to OneToMany and to ManyToOne so you can catch only one Entity with \r\n\r\n    @Query(value = &quot;SELECT a FROM Artikel a where a.artikelnummer = :artikelnummer&quot;)\r\n    List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\r\n\r\nIf You choose FetchType.Eager he will automaticaly Join every time the OneToMay relation.\r\n\r\n","title":"Hibernate get Data form one Table which is part of a Join in JPA","body":"<p>I have now the Solution:</p>\n<p>if you include fetch = FetchType.LAZY to OneToMany and to ManyToOne so you can catch only one Entity with</p>\n<pre><code>@Query(value = &quot;SELECT a FROM Artikel a where a.artikelnummer = :artikelnummer&quot;)\nList&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\n</code></pre>\n<p>If You choose FetchType.Eager he will automaticaly Join every time the OneToMay relation.</p>\n"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75878070,"answer_count":1,"score":2,"last_activity_date":1680097415,"creation_date":1679999749,"question_id":75865159,"body_markdown":"I have a question. I have two Tables in Database and two Classes for Hibernate.\r\n\r\nClass Artikel: \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Artikel&quot;)\r\npublic class Artikel{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String artikelbezeichnung;\r\n    private int artikelnummer;\r\n    private Float preis;\r\n    \r\n    @OneToMany(mappedBy = &quot;artikel&quot;, fetch = FetchType.LAZY)\r\n    @JsonManagedReference\r\n    private List&lt;Artikeldetails&gt; artikeldetails;\r\n```\r\n\r\nClass Artikeldetails\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;ARTIKELDETAILS&quot;)\r\npublic class Artikeldetails {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    private String artikeldetail;\r\n    private String artikelcustom;\r\n    private String artikelselektion;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;artikelid&quot;)\r\n    @JsonBackReference\r\n    private Artikel artikel;\r\n```\r\n\r\nThe JPA Query:\r\n\r\n```\r\nList&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\r\n```\r\n\r\nThe result is for example:\r\n\r\n```\r\n[{\r\n        &quot;id&quot;: 3,\r\n        &quot;artikelbezeichnung&quot;: null,\r\n        &quot;artikelnummer&quot;: 123,\r\n        &quot;preis&quot;: 123.0,\r\n        &quot;artikeldetails&quot;: [{\r\n                &quot;id&quot;: 4,\r\n                &quot;artikeldetail&quot;: &quot;DetailNummer 1&quot;,\r\n                &quot;artikelcustom&quot;: &quot;Detail Nummer 1&quot;,\r\n                &quot;artikelselektion&quot;: &quot;Detail Nummer 1&quot;\r\n            }, {\r\n                &quot;id&quot;: 5,\r\n                &quot;artikeldetail&quot;: &quot;DetailNummer 2&quot;,\r\n                &quot;artikelcustom&quot;: &quot;Detail Nummer 2&quot;,\r\n                &quot;artikelselektion&quot;: &quot;Detail Nummer 2&quot;\r\n            }, {\r\n                &quot;id&quot;: 6,\r\n                &quot;artikeldetail&quot;: &quot;DetailNummer 3&quot;,\r\n                &quot;artikelcustom&quot;: &quot;DetailNummer 3&quot;,\r\n                &quot;artikelselektion&quot;: &quot;DetailNummer 3&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nThat&#39;s fine and working but now I only want to get ONLY the Artikel Data without Join. How should I do that? Must I create a new Class for that?\r\n\r\nI trying also to change this line:\r\n\r\n```\r\n@Query(value = &quot;SELECT a FROM Artikel a where a.artikelnummer = :artikelnummer&quot;)\r\nList&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\r\n```\r\n\r\nbut this is not working.","title":"Hibernate get Data form one Table which is part of a Join in JPA","body":"<p>I have a question. I have two Tables in Database and two Classes for Hibernate.</p>\n<p>Class Artikel:</p>\n<pre><code>@Entity\n@Table(name = &quot;Artikel&quot;)\npublic class Artikel{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String artikelbezeichnung;\n    private int artikelnummer;\n    private Float preis;\n    \n    @OneToMany(mappedBy = &quot;artikel&quot;, fetch = FetchType.LAZY)\n    @JsonManagedReference\n    private List&lt;Artikeldetails&gt; artikeldetails;\n</code></pre>\n<p>Class Artikeldetails</p>\n<pre><code>@Entity\n@Table(name=&quot;ARTIKELDETAILS&quot;)\npublic class Artikeldetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private String artikeldetail;\n    private String artikelcustom;\n    private String artikelselektion;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;artikelid&quot;)\n    @JsonBackReference\n    private Artikel artikel;\n</code></pre>\n<p>The JPA Query:</p>\n<pre><code>List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\n</code></pre>\n<p>The result is for example:</p>\n<pre><code>[{\n        &quot;id&quot;: 3,\n        &quot;artikelbezeichnung&quot;: null,\n        &quot;artikelnummer&quot;: 123,\n        &quot;preis&quot;: 123.0,\n        &quot;artikeldetails&quot;: [{\n                &quot;id&quot;: 4,\n                &quot;artikeldetail&quot;: &quot;DetailNummer 1&quot;,\n                &quot;artikelcustom&quot;: &quot;Detail Nummer 1&quot;,\n                &quot;artikelselektion&quot;: &quot;Detail Nummer 1&quot;\n            }, {\n                &quot;id&quot;: 5,\n                &quot;artikeldetail&quot;: &quot;DetailNummer 2&quot;,\n                &quot;artikelcustom&quot;: &quot;Detail Nummer 2&quot;,\n                &quot;artikelselektion&quot;: &quot;Detail Nummer 2&quot;\n            }, {\n                &quot;id&quot;: 6,\n                &quot;artikeldetail&quot;: &quot;DetailNummer 3&quot;,\n                &quot;artikelcustom&quot;: &quot;DetailNummer 3&quot;,\n                &quot;artikelselektion&quot;: &quot;DetailNummer 3&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>That's fine and working but now I only want to get ONLY the Artikel Data without Join. How should I do that? Must I create a new Class for that?</p>\n<p>I trying also to change this line:</p>\n<pre><code>@Query(value = &quot;SELECT a FROM Artikel a where a.artikelnummer = :artikelnummer&quot;)\nList&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\n</code></pre>\n<p>but this is not working.</p>\n"},{"tags":["java","spring","state-machine","spring-statemachine"],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654042609,"creation_date":1651535814,"answer_id":72093559,"question_id":72092863,"body_markdown":"\r\n1. Event action: This is most the common case, you have StateA and want to move to StateB when EventAB is received. Action will be fired if the machine is on StateA and you submit the EventAB to it. Its possible (and optional) to provide an error action to do personal processing in case exception is throw from regular action\r\n\r\n2. State entry action: Action will be hit every time machine reaches specified states. I&#39;ve seen people using it to provide Initial state custom behavior\r\n\r\n3. Same as above, but this is hit on every state exit\r\n\r\n4. I haven&#39;t used this one, but according to the documentation (snippet below), its similar to state entry (in case you provide single action), but can also work with an error action.\r\n\r\nupdate on this: *I read in the UML specification that state do can also be used for an action that you want to be continuously happening while machine in that state*\r\n\r\n\r\n\r\nThe caveats is that actions can be attached to transitions (i.e from A to B, or from B to A), so it matters the FROM and TO, while actions configured for specific state do not care where it came from, but solely related to state enter/exit\r\n\r\n\r\n    //Specify a state S with state behaviour Action. Currently synonym for state(Object, Action).\r\n    StateConfigurer&lt;S, E&gt; stateDo(S state, Action&lt;S, E&gt; action);\r\n\r\nIn case an entry/transition action fails (and you&#39;re not in a choice pseudo-state), machine stays in the same state (doesn&#39;t move).\r\n\r\nFor your scenario, it depends, is S1 initial state? if that is, you might need a state action. Otherwise, transition action between S1 -&gt; S2 is just fine.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Statemachine State Actions vs Transition actions","body":"<ol>\n<li><p>Event action: This is most the common case, you have StateA and want to move to StateB when EventAB is received. Action will be fired if the machine is on StateA and you submit the EventAB to it. Its possible (and optional) to provide an error action to do personal processing in case exception is throw from regular action</p>\n</li>\n<li><p>State entry action: Action will be hit every time machine reaches specified states. I've seen people using it to provide Initial state custom behavior</p>\n</li>\n<li><p>Same as above, but this is hit on every state exit</p>\n</li>\n<li><p>I haven't used this one, but according to the documentation (snippet below), its similar to state entry (in case you provide single action), but can also work with an error action.</p>\n</li>\n</ol>\n<p>update on this: <em>I read in the UML specification that state do can also be used for an action that you want to be continuously happening while machine in that state</em></p>\n<p>The caveats is that actions can be attached to transitions (i.e from A to B, or from B to A), so it matters the FROM and TO, while actions configured for specific state do not care where it came from, but solely related to state enter/exit</p>\n<pre><code>//Specify a state S with state behaviour Action. Currently synonym for state(Object, Action).\nStateConfigurer&lt;S, E&gt; stateDo(S state, Action&lt;S, E&gt; action);\n</code></pre>\n<p>In case an entry/transition action fails (and you're not in a choice pseudo-state), machine stays in the same state (doesn't move).</p>\n<p>For your scenario, it depends, is S1 initial state? if that is, you might need a state action. Otherwise, transition action between S1 -&gt; S2 is just fine.</p>\n"},{"tags":[],"owner":{"account_id":13955923,"reputation":107,"user_id":10078315,"display_name":"Lucas Favaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680097408,"creation_date":1680097408,"answer_id":75878067,"question_id":72092863,"body_markdown":"I am starting to learn Spring State Machine and just wanted to add that apparently State actions are not treated the same way as Entry/Exit actions.\r\n\r\nThe following is part of the documentation Reference:\r\n\r\n*State Actions\r\nState actions are run differently compared to entry and exit actions, because execution happens after state has been entered and can be cancelled if state exit happens before a particular action has been completed.*","title":"Spring Statemachine State Actions vs Transition actions","body":"<p>I am starting to learn Spring State Machine and just wanted to add that apparently State actions are not treated the same way as Entry/Exit actions.</p>\n<p>The following is part of the documentation Reference:</p>\n<p><em>State Actions\nState actions are run differently compared to entry and exit actions, because execution happens after state has been entered and can be cancelled if state exit happens before a particular action has been completed.</em></p>\n"}],"owner":{"account_id":25066868,"reputation":23,"user_id":18921092,"display_name":"super2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72093559,"answer_count":2,"score":2,"last_activity_date":1680097408,"creation_date":1651529109,"question_id":72092863,"body_markdown":"Spring statemachine provides following type of actions. Can someone please explain me which type of action should be used in which scenario? And, If an action fails then does statemachine move to next state or not?\r\n\r\n 1. Event action - Action attached to a transition when an event is generated. \r\n 2. State entry action \r\n 3. State exit action\r\n 4. State DoAction\r\n\r\nMy scenario is that when statemachine comes in S1 state it needs to perform some operation and if its successful then only go into S2. Should it be state action or event action?\r\n\r\nS1---&gt;S2","title":"Spring Statemachine State Actions vs Transition actions","body":"<p>Spring statemachine provides following type of actions. Can someone please explain me which type of action should be used in which scenario? And, If an action fails then does statemachine move to next state or not?</p>\n<ol>\n<li>Event action - Action attached to a transition when an event is generated.</li>\n<li>State entry action</li>\n<li>State exit action</li>\n<li>State DoAction</li>\n</ol>\n<p>My scenario is that when statemachine comes in S1 state it needs to perform some operation and if its successful then only go into S2. Should it be state action or event action?</p>\n<p>S1---&gt;S2</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11719268,"reputation":1687,"user_id":8578684,"display_name":"snap"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1680097352,"creation_date":1680097352,"answer_id":75878055,"question_id":74006627,"body_markdown":"On java 17 there are some higher restrictions for some internal modules.\r\n\r\nI&#39;m not sure if you have this issue on the implementation code or &quot;just&quot; for testing. From my experience this issue is more common for the tests because most mocking frameworks will break the restrictions...\r\n\r\nHowever you have to give in these parameters \r\n\r\n```\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n```\r\n\r\nIf you need this for unit testing you and using maven then you could use a configuration like this:\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\r\n                        --add-opens=java.base/java.util=ALL-UNNAMED\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"Module java.base does not &quot;opens java.lang&quot; (Java 17.0.4.1)","body":"<p>On java 17 there are some higher restrictions for some internal modules.</p>\n<p>I'm not sure if you have this issue on the implementation code or &quot;just&quot; for testing. From my experience this issue is more common for the tests because most mocking frameworks will break the restrictions...</p>\n<p>However you have to give in these parameters</p>\n<pre><code>--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>If you need this for unit testing you and using maven then you could use a configuration like this:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\n                        --add-opens=java.base/java.util=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":20559325,"reputation":65,"user_id":15090166,"display_name":"SunnyVN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5070,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75878055,"answer_count":1,"score":6,"last_activity_date":1680097352,"creation_date":1665333928,"question_id":74006627,"body_markdown":"Here&#39;s the error:\r\n```Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.ClassLoader() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @75dcbabb```\r\n\r\nAlso, I&#39;m using maven to compile. Thank you for reading this thread! Hope you can help me out with this!","title":"Module java.base does not &quot;opens java.lang&quot; (Java 17.0.4.1)","body":"<p>Here's the error:\n<code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.ClassLoader() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @75dcbabb</code></p>\n<p>Also, I'm using maven to compile. Thank you for reading this thread! Hope you can help me out with this!</p>\n"},{"tags":["java","loops","for-loop","iteration"],"comments":[{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1680093376,"post_id":75877245,"comment_id":133838151,"body_markdown":"I suggest you divide the task into smaller parts. First create a program that write the correct number of lines. Hard-code output of `&quot;1&quot;` on each line. Then inside the loop to print the lines, add the counting of the numbers. Then, as a separate loop after the numbers, add the asterisks.","body":"I suggest you divide the task into smaller parts. First create a program that write the correct number of lines. Hard-code output of <code>&quot;1&quot;</code> on each line. Then inside the loop to print the lines, add the counting of the numbers. Then, as a separate loop after the numbers, add the asterisks."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680093822,"creation_date":1680093822,"answer_id":75877395,"question_id":75877245,"body_markdown":"Much like `System.out.print(k + &quot; &quot;);` you can use `System.out.print(&quot;*&quot;);` to print an asterisk. It isn&#39;t clear why you would try `for(int j = 1; j &lt;= 1; j++) {`, that will only run once (so it isn&#39;t really a loop). You need a second inner loop, not another level of nesting. Like,\r\n\r\n\tScanner scanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter your number&quot;);\r\n\tint num = scanner.nextInt();\r\n\tfor (int i = 0; i &lt; num; i++) {\r\n\t\tfor (int j = 0; j &lt; i + 1; j++) { // From 0 to i + 1 the #\r\n\t\t\tSystem.out.print(j + 1);\r\n\t\t}\r\n\t\tfor (int j = i + 1; j &lt; num; j++) { // From i + 1 to num a *\r\n\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nOutputs (as requested)\r\n\r\n    Enter your number\r\n    7\r\n    1******\r\n    12*****\r\n    123****\r\n    1234***\r\n    12345**\r\n    123456*\r\n    1234567\r\n\r\n","title":"How to put asterisks on for looping","body":"<p>Much like <code>System.out.print(k + &quot; &quot;);</code> you can use <code>System.out.print(&quot;*&quot;);</code> to print an asterisk. It isn't clear why you would try <code>for(int j = 1; j &lt;= 1; j++) {</code>, that will only run once (so it isn't really a loop). You need a second inner loop, not another level of nesting. Like,</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nSystem.out.println(&quot;Enter your number&quot;);\nint num = scanner.nextInt();\nfor (int i = 0; i &lt; num; i++) {\n    for (int j = 0; j &lt; i + 1; j++) { // From 0 to i + 1 the #\n        System.out.print(j + 1);\n    }\n    for (int j = i + 1; j &lt; num; j++) { // From i + 1 to num a *\n        System.out.print(&quot;*&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Outputs (as requested)</p>\n<pre><code>Enter your number\n7\n1******\n12*****\n123****\n1234***\n12345**\n123456*\n1234567\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26489707,"reputation":64,"user_id":20127794,"display_name":"Digvijaysinh chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680094703,"creation_date":1680094703,"answer_id":75877563,"question_id":75877245,"body_markdown":"Try this :\r\n\r\n    public class Simple{\r\n    public static void main(String args[]){\r\n    int i, j,number,n=7;   \r\n    for(i=0; i&lt;n; i++) {   \r\n       number=1;   \r\n       for(j=0; j&lt;=i; j++)  {   \r\n          System.out.print(number+ &quot; &quot;);   \r\n          number++;   \r\n       }   \r\n       for(j=i+1; j&lt;n; j++){\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n       System.out.println();  \r\n    }\r\n    }}\r\n\r\n","title":"How to put asterisks on for looping","body":"<p>Try this :</p>\n<pre><code>public class Simple{\npublic static void main(String args[]){\nint i, j,number,n=7;   \nfor(i=0; i&lt;n; i++) {   \n   number=1;   \n   for(j=0; j&lt;=i; j++)  {   \n      System.out.print(number+ &quot; &quot;);   \n      number++;   \n   }   \n   for(j=i+1; j&lt;n; j++){\n        System.out.print(&quot;*&quot;);\n    }\n   System.out.println();  \n}\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680095728,"creation_date":1680095728,"answer_id":75877769,"question_id":75877245,"body_markdown":"Another take on it using a single `for` loop:\r\n\r\n**Using simple string concatenation:**\r\n\r\n    Scanner userInput = new Scanner(System.in);\r\n        \r\n    System.out.println(&quot;Enter your number&quot;);\r\n    int num = userInput.nextInt();\r\n        \r\n    // Using String Concatenation\r\n    String numSet = &quot;&quot;;\r\n    for (int i = 1; i &lt;= num; i++) {\r\n        numSet += String.valueOf(i);\r\n        System.out.println(numSet + String.join(&quot;&quot;, java.util.Collections.nCopies(num-i, &quot;*&quot;)));\r\n    }\r\n\r\n**Or by using the StringBuilder class:**\r\n    \r\n    Scanner userInput = new Scanner(System.in);\r\n        \r\n    System.out.println(&quot;Enter your number&quot;);\r\n    int num = userInput.nextInt();\r\n    \r\n    // Using StringBuilder:\r\n    StringBuilder numberSet = new StringBuilder(&quot;&quot;);\r\n    StringBuilder overAll = new StringBuilder(&quot;&quot;);\r\n    for (int i = 1; i &lt;= num; i++) {\r\n        numberSet.append(i);\r\n        overAll.append(numberSet.toString())\r\n                   .append(String.join(&quot;&quot;, java.util.Collections.nCopies(num-i, &quot;*&quot;)))\r\n                   .append(System.lineSeparator());\r\n    }\r\n    \r\n    System.out.println(overAll.toString());","title":"How to put asterisks on for looping","body":"<p>Another take on it using a single <code>for</code> loop:</p>\n<p><strong>Using simple string concatenation:</strong></p>\n<pre><code>Scanner userInput = new Scanner(System.in);\n    \nSystem.out.println(&quot;Enter your number&quot;);\nint num = userInput.nextInt();\n    \n// Using String Concatenation\nString numSet = &quot;&quot;;\nfor (int i = 1; i &lt;= num; i++) {\n    numSet += String.valueOf(i);\n    System.out.println(numSet + String.join(&quot;&quot;, java.util.Collections.nCopies(num-i, &quot;*&quot;)));\n}\n</code></pre>\n<p><strong>Or by using the StringBuilder class:</strong></p>\n<pre><code>Scanner userInput = new Scanner(System.in);\n    \nSystem.out.println(&quot;Enter your number&quot;);\nint num = userInput.nextInt();\n\n// Using StringBuilder:\nStringBuilder numberSet = new StringBuilder(&quot;&quot;);\nStringBuilder overAll = new StringBuilder(&quot;&quot;);\nfor (int i = 1; i &lt;= num; i++) {\n    numberSet.append(i);\n    overAll.append(numberSet.toString())\n               .append(String.join(&quot;&quot;, java.util.Collections.nCopies(num-i, &quot;*&quot;)))\n               .append(System.lineSeparator());\n}\n\nSystem.out.println(overAll.toString());\n</code></pre>\n"}],"owner":{"account_id":27980209,"reputation":1,"user_id":21368092,"display_name":"pishuu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680097159,"creation_date":1680093100,"question_id":75877245,"body_markdown":"```\r\n  System.out.println(&quot;Enter your number&quot;);\r\n    int num = scanner.nextInt();\r\n    \r\n    int count = 1; \r\n    for(int i = 1; i &lt;= num; i++) { \r\n    for(int j = 1; j &lt;= 1; j++) { \r\n    for(int k = 1; k &lt;= count; k++) {\r\nSystem.out.print(k + &quot; &quot;); \r\n}\r\nSystem.out.println(); \r\ncount++;\r\n```\r\n\r\nthis is what i need to have but i cant seem to put the asterisk\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EOqsb.png","title":"How to put asterisks on for looping","body":"<pre><code>  System.out.println(&quot;Enter your number&quot;);\n    int num = scanner.nextInt();\n    \n    int count = 1; \n    for(int i = 1; i &lt;= num; i++) { \n    for(int j = 1; j &lt;= 1; j++) { \n    for(int k = 1; k &lt;= count; k++) {\nSystem.out.print(k + &quot; &quot;); \n}\nSystem.out.println(); \ncount++;\n</code></pre>\n<p>this is what i need to have but i cant seem to put the asterisk</p>\n<p><a href=\"https://i.stack.imgur.com/EOqsb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EOqsb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit","java-io"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1680097584,"post_id":75877973,"comment_id":133839511,"body_markdown":"Try:\n\n    InputStream is = ReplaceDocumentTest.class.getResourceAsStream(&quot;/expected/file.json&quot;);\n\nBut better way to use it is:\nClassLoader classloader = Thread.currentThread().getContextClassLoader();\nInputStream is = classloader.getResourceAsStream(&quot;/expected/file.json&quot;);","body":"Try:      InputStream is = ReplaceDocumentTest.class.getResourceAsStream(&quot;/expected/fil&zwnj;&#8203;e.json&quot;);  But better way to use it is: ClassLoader classloader = Thread.currentThread().getContextClassLoader(); InputStream is = classloader.getResourceAsStream(&quot;/expected/file.json&quot;);"},{"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"score":0,"creation_date":1680097956,"post_id":75877973,"comment_id":133839631,"body_markdown":"@Tryingmybest Your suggestion gets the reference to the file inside the target folder. I need the file reference from src folder. I need this reference because I would like to override the file.","body":"@Tryingmybest Your suggestion gets the reference to the file inside the target folder. I need the file reference from src folder. I need this reference because I would like to override the file."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680098675,"post_id":75877973,"comment_id":133839850,"body_markdown":"not sure what is meant by &quot;override the file&quot;, but `ClassLoader` (or `getResource`) will only be able to get files that are on the CLASSPATH - maybe you must use `File` or `Path` (and usually there is something wrong if needing to access files from the source folder)","body":"not sure what is meant by &quot;override the file&quot;, but <code>ClassLoader</code> (or <code>getResource</code>) will only be able to get files that are on the CLASSPATH - maybe you must use <code>File</code> or <code>Path</code> (and usually there is something wrong if needing to access files from the source folder)"},{"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"score":0,"creation_date":1680098962,"post_id":75877973,"comment_id":133839947,"body_markdown":"@user16320675 I want to regenerate the expected files that are used in other unit tests. I want to regenerate these expected file without any manual interaction: like copy manually the new version of expected files to the resources folder.","body":"@user16320675 I want to regenerate the expected files that are used in other unit tests. I want to regenerate these expected file without any manual interaction: like copy manually the new version of expected files to the resources folder."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680123240,"post_id":75877973,"comment_id":133846312,"body_markdown":"You can’t.  A compiled application does not have a source directory.  Even if you get it to work on your computer, it will not work anywhere else, because most people won’t have access to the source.  The best you can do is look for a file with the same name in a known location, like the current user’s home directory, and if that exists, use it instead of the bundled resource.","body":"You can’t.  A compiled application does not have a source directory.  Even if you get it to work on your computer, it will not work anywhere else, because most people won’t have access to the source.  The best you can do is look for a file with the same name in a known location, like the current user’s home directory, and if that exists, use it instead of the bundled resource."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1680125663,"post_id":75877973,"comment_id":133846836,"body_markdown":"But if it’s just for the purposes of running tests, usually the source code is available in that case. You’ll just need to use a file system path, as @user16320675 said above.","body":"But if it’s just for the purposes of running tests, usually the source code is available in that case. You’ll just need to use a file system path, as @user16320675 said above."}],"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680096844,"creation_date":1680096844,"question_id":75877973,"body_markdown":"I would like to replace the original resource file inside a unit test. Exactly I want to regenerate some expected test results using a unit test. \r\n\r\nI have issue how I can load the file outside of my target folder. I have the following structure (simplify version):\r\n\r\n - src\r\n    - main\r\n    - test\r\n       - resources \r\n           - expected\r\n              - file.json\r\n - target\r\n    - test-classes\r\n        - expected\r\n           - file.json\r\n\r\nI want to access and replace the &#39;src/test/resources/expected/file.json&#39; file from the above structure.\r\n\r\nThe following line access the file from the target folder:\r\n```\r\n    ReplaceDocumentTest.class.getResource(&quot;/expected/file.json&quot;);\r\n```\r\n\r\nI tried to go upper with the relative path but it didn&#39;t work.\r\n```\r\n    ReplaceDocumentTest.class.getResource(&quot;/../../src/test/resources/expected/file.json&quot;);\r\n```\r\n\r\nHow can I obtain a reference to the file.json inside the &#39;src&#39; folder?\r\n   \r\n\r\n","title":"Java get a reference to file from src folder","body":"<p>I would like to replace the original resource file inside a unit test. Exactly I want to regenerate some expected test results using a unit test.</p>\n<p>I have issue how I can load the file outside of my target folder. I have the following structure (simplify version):</p>\n<ul>\n<li>src\n<ul>\n<li>main</li>\n<li>test\n<ul>\n<li>resources\n<ul>\n<li>expected\n<ul>\n<li>file.json</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>target\n<ul>\n<li>test-classes\n<ul>\n<li>expected\n<ul>\n<li>file.json</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>I want to access and replace the 'src/test/resources/expected/file.json' file from the above structure.</p>\n<p>The following line access the file from the target folder:</p>\n<pre><code>    ReplaceDocumentTest.class.getResource(&quot;/expected/file.json&quot;);\n</code></pre>\n<p>I tried to go upper with the relative path but it didn't work.</p>\n<pre><code>    ReplaceDocumentTest.class.getResource(&quot;/../../src/test/resources/expected/file.json&quot;);\n</code></pre>\n<p>How can I obtain a reference to the file.json inside the 'src' folder?</p>\n"},{"tags":["java","spring-boot","eclipse","ssl-certificate","spring-tool-suite"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680102304,"post_id":75875041,"comment_id":133841066,"body_markdown":"Are you behind a proxy? Is this a dialog from the Spring Tools plugin? If yes, which version of the Spring Tools plugin?","body":"Are you behind a proxy? Is this a dialog from the Spring Tools plugin? If yes, which version of the Spring Tools plugin?"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1680162152,"post_id":75875041,"comment_id":133851917,"body_markdown":"Looks like either a temporary network glitch or a proxy server in between that causes trouble.","body":"Looks like either a temporary network glitch or a proxy server in between that causes trouble."}],"owner":{"account_id":11088239,"reputation":49,"user_id":8141117,"accept_rate":33,"display_name":"Suryakala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680096835,"creation_date":1680079955,"question_id":75875041,"body_markdown":"I don&#39;t have eclipse installed in my machine. But java installed of version 11 and set the path variables.[![enter image description here][1]][1]. Added image. Kindly help to resolve this\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xUnHR.png","title":"EOFException: SSL peer shut down incorrectly in spring boot ( while creating New Spring Starter Project)","body":"<p>I don't have eclipse installed in my machine. But java installed of version 11 and set the path variables.<a href=\"https://i.stack.imgur.com/xUnHR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xUnHR.png\" alt=\"enter image description here\" /></a>. Added image. Kindly help to resolve this</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680098152,"post_id":75877970,"comment_id":133839685,"body_markdown":"20 connections for 500 users is probably to low. I would also decrease the connection timeout (you don&#39;t want to wait 50seconds before you get an error). If you don&#39;t get leaks detected (at least make sure you don&#39;t leak connections check if you are messing around with Connections yourself). Increase the max poolside to start with.","body":"20 connections for 500 users is probably to low. I would also decrease the connection timeout (you don&#39;t want to wait 50seconds before you get an error). If you don&#39;t get leaks detected (at least make sure you don&#39;t leak connections check if you are messing around with Connections yourself). Increase the max poolside to start with."},{"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"score":0,"creation_date":1680099726,"post_id":75877970,"comment_id":133840194,"body_markdown":"@M.Deinum is `maximumPoolSize=50` enough for 500 users?","body":"@M.Deinum is <code>maximumPoolSize=50</code> enough for 500 users?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1680101901,"post_id":75877970,"comment_id":133840950,"body_markdown":"2 connections can be enough for 500 users - it all depends on what those users are doing and how your application is configured. If you are setup to actively hold a connection for a transaction (Spring does this excessively IMO), and hold onto that transaction for long periods and even for read-only operations, then it won&#39;t be enough. What will be though is something you&#39;ll have to figure out from performance tuning your application. Most don&#39;t want to go with a 1:1 ratio as that is quite a bit, so you&#39;ll balance the time your users can spend waiting for a connection to figure it out","body":"2 connections can be enough for 500 users - it all depends on what those users are doing and how your application is configured. If you are setup to actively hold a connection for a transaction (Spring does this excessively IMO), and hold onto that transaction for long periods and even for read-only operations, then it won&#39;t be enough. What will be though is something you&#39;ll have to figure out from performance tuning your application. Most don&#39;t want to go with a 1:1 ratio as that is quite a bit, so you&#39;ll balance the time your users can spend waiting for a connection to figure it out"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680112106,"post_id":75877970,"comment_id":133843714,"body_markdown":"As mentioned how many connections you need, depends on your usecase. The only way to determine that is to measure and make sure you don&#39;t have any connection leaks.","body":"As mentioned how many connections you need, depends on your usecase. The only way to determine that is to measure and make sure you don&#39;t have any connection leaks."}],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680096813,"creation_date":1680096813,"question_id":75877970,"body_markdown":"For 500 users concurrent request and save there data, \r\nWe are having 3 or 4 error  users about &#39;Unable to acquire JDBC Connection&#39; only for 500 users concurrently.\r\n\r\nIs there a way to fix this?. since if we test again still same for 500 users concurrently having 3 or 4 error\r\n\r\nHave update the maximumPoolSize 10 to 20 then add minimumIdle,idleTimeout,connectionTimeout,leakDetectionThreshold but still same.\r\n\r\nhikari properties\r\n```\r\nspring.datasource.hikari.maximumPoolSize=20\r\nspring.datasource.hikari.minimumIdle=10\r\nspring.datasource.hikari.idleTimeout=30000\r\nspring.datasource.hikari.connectionTimeout=50000\r\nspring.datasource.hikari.leakDetectionThreshold=60000\r\n```\r\nHikari log\r\n```\r\nTimeout failure stats (total=20, active=20, idle=0, waiting=179)\r\n```\r\nError message\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\r\n```","title":"Spring boot Unable to acquire JDBC Connection","body":"<p>For 500 users concurrent request and save there data,\nWe are having 3 or 4 error  users about 'Unable to acquire JDBC Connection' only for 500 users concurrently.</p>\n<p>Is there a way to fix this?. since if we test again still same for 500 users concurrently having 3 or 4 error</p>\n<p>Have update the maximumPoolSize 10 to 20 then add minimumIdle,idleTimeout,connectionTimeout,leakDetectionThreshold but still same.</p>\n<p>hikari properties</p>\n<pre><code>spring.datasource.hikari.maximumPoolSize=20\nspring.datasource.hikari.minimumIdle=10\nspring.datasource.hikari.idleTimeout=30000\nspring.datasource.hikari.connectionTimeout=50000\nspring.datasource.hikari.leakDetectionThreshold=60000\n</code></pre>\n<p>Hikari log</p>\n<pre><code>Timeout failure stats (total=20, active=20, idle=0, waiting=179)\n</code></pre>\n<p>Error message</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\n</code></pre>\n"},{"tags":["java","swing","jfilechooser"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680100300,"post_id":75877157,"comment_id":133840390,"body_markdown":"what have you tried? [mcve] please ..","body":"what have you tried? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680102635,"post_id":75877327,"comment_id":133841183,"body_markdown":"nice :) just noticed that the base itself has to be always traversable (otherwise we get an NPE)","body":"nice :) just noticed that the base itself has to be always traversable (otherwise we get an NPE)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680102872,"post_id":75877327,"comment_id":133841262,"body_markdown":"@kleopatra: yeah, `FileSystemView` isn&#39;t especially well documented. It almost feels like they just exposed an internal implementation detail. There&#39;s certainly a few corner cases that you have to keep in mind and/or find out during testing.","body":"@kleopatra: yeah, <code>FileSystemView</code> isn&#39;t especially well documented. It almost feels like they just exposed an internal implementation detail. There&#39;s certainly a few corner cases that you have to keep in mind and/or find out during testing."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680174412,"post_id":75877327,"comment_id":133855013,"body_markdown":"agree - it very much looks like ad-hoc api ;)","body":"agree - it very much looks like ad-hoc api ;)"},{"owner":{"account_id":28158086,"reputation":1,"user_id":21518506,"display_name":"Tiago Martins"},"score":0,"creation_date":1680174415,"post_id":75877327,"comment_id":133855015,"body_markdown":"i did try using your code but didnt work on eclipse... also i really wanted to use JFileChooser... is there any chances to use it?","body":"i did try using your code but didnt work on eclipse... also i really wanted to use JFileChooser... is there any chances to use it?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1680176082,"post_id":75877327,"comment_id":133855423,"body_markdown":"First: you need to be more explicit what you mean by &quot;didn&#39;t work&quot;? What kind of error message or problematic behaviour did you get? Second: ... this is using `JFileChooser`, I don&#39;t know why you keep saying &quot;you want to use it&quot;, when this actively makes use of `JFileChooser`. You simply hand it another component to modify how it views the file systsem (a file-system-view if you like).","body":"First: you need to be more explicit what you mean by &quot;didn&#39;t work&quot;? What kind of error message or problematic behaviour did you get? Second: ... this is using <code>JFileChooser</code>, I don&#39;t know why you keep saying &quot;you want to use it&quot;, when this actively makes use of <code>JFileChooser</code>. You simply hand it another component to modify how it views the file systsem (a file-system-view if you like)."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680096380,"creation_date":1680093452,"answer_id":75877327,"question_id":75877157,"body_markdown":"A custom [`FileSystemView`][1] can be used to tweak what the user can see and where they can navigate. For example, this is a simple implementation that pretends that the passed-in directory is the root (and home) directory and has no parent (note that the majority of the methods just delegate to the system file system view):\r\n\r\n```\r\npublic class RestrictedFileSystemView extends FileSystemView {\r\n  private final FileSystemView delegate;\r\n  private final File baseDirectory;\r\n\r\n  RestrictedFileSystemView(File baseDirectory) {\r\n    this.baseDirectory = baseDirectory;\r\n    this.delegate = FileSystemView.getFileSystemView();\r\n  }\r\n\r\n\r\n  @Override\r\n  public File[] getRoots() {\r\n    return new File[] { baseDirectory };\r\n  }\r\n\r\n  @Override\r\n  public File getHomeDirectory() {\r\n    return baseDirectory;\r\n  }\r\n\r\n  @Override\r\n  public File getDefaultDirectory() {\r\n    return baseDirectory;\r\n  }\r\n\r\n  @Override\r\n  public File getParentDirectory(File dir) {\r\n    if (dir.equals(baseDirectory)) {\r\n      return null;\r\n    }\r\n    return delegate.getParentDirectory(dir);\r\n  }\r\n\r\n  @Override\r\n  public boolean isRoot(File f) {\r\n    return f.equals(baseDirectory);\r\n  }\r\n\r\n  // all methods below here just delegate\r\n  \r\n  @Override\r\n  public Boolean isTraversable(File f) {\r\n    return delegate.isTraversable(f);\r\n  }\r\n\r\n  @Override\r\n  public String getSystemDisplayName(File f) {\r\n    return delegate.getSystemDisplayName(f);\r\n  }\r\n\r\n  @Override\r\n  public String getSystemTypeDescription(File f) {\r\n    return delegate.getSystemTypeDescription(f);\r\n  }\r\n\r\n  @Override\r\n  public Icon getSystemIcon(File f) {\r\n    return delegate.getSystemIcon(f);\r\n  }\r\n\r\n  @Override\r\n  public Icon getSystemIcon(File f, int width, int height) {\r\n    return delegate.getSystemIcon(f, width, height);\r\n  }\r\n\r\n  @Override\r\n  public boolean isParent(File folder, File file) {\r\n    return delegate.isParent(folder, file);\r\n  }\r\n\r\n  @Override\r\n  public File getChild(File parent, String fileName) {\r\n    return delegate.getChild(parent, fileName);\r\n  }\r\n\r\n  @Override\r\n  public boolean isFileSystem(File f) {\r\n    return delegate.isFileSystem(f);\r\n  }\r\n\r\n  @Override\r\n  public boolean isHiddenFile(File f) {\r\n    return delegate.isHiddenFile(f);\r\n  }\r\n\r\n  @Override\r\n  public boolean isFileSystemRoot(File dir) {\r\n    return delegate.isFileSystemRoot(dir);\r\n  }\r\n\r\n  @Override\r\n  public boolean isDrive(File dir) {\r\n    return delegate.isDrive(dir);\r\n  }\r\n\r\n  @Override\r\n  public boolean isFloppyDrive(File dir) {\r\n    return delegate.isFloppyDrive(dir);\r\n  }\r\n\r\n  @Override\r\n  public boolean isComputerNode(File dir) {\r\n    return delegate.isComputerNode(dir);\r\n  }\r\n\r\n  @Override\r\n  public File createFileObject(File dir, String filename) {\r\n    return delegate.createFileObject(dir, filename);\r\n  }\r\n\r\n  @Override\r\n  public File createFileObject(String path) {\r\n    return delegate.createFileObject(path);\r\n  }\r\n\r\n  @Override\r\n  public File[] getFiles(File dir, boolean useFileHiding) {\r\n    return delegate.getFiles(dir, useFileHiding);\r\n  }\r\n\r\n  @Override\r\n  public File[] getChooserComboBoxFiles() {\r\n    return delegate.getChooserComboBoxFiles();\r\n  }\r\n\r\n  @Override\r\n  public boolean isLink(File file) {\r\n    return delegate.isLink(file);\r\n  }\r\n\r\n  @Override\r\n  public File getLinkLocation(File file) throws FileNotFoundException {\r\n    return delegate.getLinkLocation(file);\r\n  }\r\n\r\n  @Override\r\n  public File createNewFolder(File containingDir) throws IOException {\r\n    return delegate.createNewFolder(containingDir);\r\n  }\r\n}\r\n```\r\n\r\n(Only tested quickly on Linux, other OS might require additional changes to some overrides).\r\n\r\nNote that you can further restrict what directories the user can visit by overriding `isTraversable()` and even restrict what they see by overriding `getFiles()`.\r\n\r\nYou can use this custom file system view in your `JFileChooser` like this:\r\n\r\n    FileSystemView fsv = new RestrictedFileSystemView(someBaseDirectory);\r\n    JFileChooser jfc = new JFileChooser(fsv);\r\n    jfc.showOpenDialog(parentComponent);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/filechooser/FileSystemView.html","title":"Java JFileChooser - I can choose a .txt only in a directory i set","body":"<p>A custom <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/filechooser/FileSystemView.html\" rel=\"nofollow noreferrer\"><code>FileSystemView</code></a> can be used to tweak what the user can see and where they can navigate. For example, this is a simple implementation that pretends that the passed-in directory is the root (and home) directory and has no parent (note that the majority of the methods just delegate to the system file system view):</p>\n<pre><code>public class RestrictedFileSystemView extends FileSystemView {\n  private final FileSystemView delegate;\n  private final File baseDirectory;\n\n  RestrictedFileSystemView(File baseDirectory) {\n    this.baseDirectory = baseDirectory;\n    this.delegate = FileSystemView.getFileSystemView();\n  }\n\n\n  @Override\n  public File[] getRoots() {\n    return new File[] { baseDirectory };\n  }\n\n  @Override\n  public File getHomeDirectory() {\n    return baseDirectory;\n  }\n\n  @Override\n  public File getDefaultDirectory() {\n    return baseDirectory;\n  }\n\n  @Override\n  public File getParentDirectory(File dir) {\n    if (dir.equals(baseDirectory)) {\n      return null;\n    }\n    return delegate.getParentDirectory(dir);\n  }\n\n  @Override\n  public boolean isRoot(File f) {\n    return f.equals(baseDirectory);\n  }\n\n  // all methods below here just delegate\n  \n  @Override\n  public Boolean isTraversable(File f) {\n    return delegate.isTraversable(f);\n  }\n\n  @Override\n  public String getSystemDisplayName(File f) {\n    return delegate.getSystemDisplayName(f);\n  }\n\n  @Override\n  public String getSystemTypeDescription(File f) {\n    return delegate.getSystemTypeDescription(f);\n  }\n\n  @Override\n  public Icon getSystemIcon(File f) {\n    return delegate.getSystemIcon(f);\n  }\n\n  @Override\n  public Icon getSystemIcon(File f, int width, int height) {\n    return delegate.getSystemIcon(f, width, height);\n  }\n\n  @Override\n  public boolean isParent(File folder, File file) {\n    return delegate.isParent(folder, file);\n  }\n\n  @Override\n  public File getChild(File parent, String fileName) {\n    return delegate.getChild(parent, fileName);\n  }\n\n  @Override\n  public boolean isFileSystem(File f) {\n    return delegate.isFileSystem(f);\n  }\n\n  @Override\n  public boolean isHiddenFile(File f) {\n    return delegate.isHiddenFile(f);\n  }\n\n  @Override\n  public boolean isFileSystemRoot(File dir) {\n    return delegate.isFileSystemRoot(dir);\n  }\n\n  @Override\n  public boolean isDrive(File dir) {\n    return delegate.isDrive(dir);\n  }\n\n  @Override\n  public boolean isFloppyDrive(File dir) {\n    return delegate.isFloppyDrive(dir);\n  }\n\n  @Override\n  public boolean isComputerNode(File dir) {\n    return delegate.isComputerNode(dir);\n  }\n\n  @Override\n  public File createFileObject(File dir, String filename) {\n    return delegate.createFileObject(dir, filename);\n  }\n\n  @Override\n  public File createFileObject(String path) {\n    return delegate.createFileObject(path);\n  }\n\n  @Override\n  public File[] getFiles(File dir, boolean useFileHiding) {\n    return delegate.getFiles(dir, useFileHiding);\n  }\n\n  @Override\n  public File[] getChooserComboBoxFiles() {\n    return delegate.getChooserComboBoxFiles();\n  }\n\n  @Override\n  public boolean isLink(File file) {\n    return delegate.isLink(file);\n  }\n\n  @Override\n  public File getLinkLocation(File file) throws FileNotFoundException {\n    return delegate.getLinkLocation(file);\n  }\n\n  @Override\n  public File createNewFolder(File containingDir) throws IOException {\n    return delegate.createNewFolder(containingDir);\n  }\n}\n</code></pre>\n<p>(Only tested quickly on Linux, other OS might require additional changes to some overrides).</p>\n<p>Note that you can further restrict what directories the user can visit by overriding <code>isTraversable()</code> and even restrict what they see by overriding <code>getFiles()</code>.</p>\n<p>You can use this custom file system view in your <code>JFileChooser</code> like this:</p>\n<pre><code>FileSystemView fsv = new RestrictedFileSystemView(someBaseDirectory);\nJFileChooser jfc = new JFileChooser(fsv);\njfc.showOpenDialog(parentComponent);\n</code></pre>\n"}],"owner":{"account_id":28158086,"reputation":1,"user_id":21518506,"display_name":"Tiago Martins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680096380,"creation_date":1680092561,"question_id":75877157,"body_markdown":"Hi im working in a java project and i wanted to create a JFileChooser which i have but i want to choose only in one directory like i have the directory called &quot;Saves&quot; and i want the person who open the JFileChooser can only access txt inside the directory call &quot;Saves&quot;. They cant acess anything else only the directory i set. \r\n\r\n[I wanted to only access txt and cant acess neither another directorys neither other paths](https://i.stack.imgur.com/YfamM.png)\r\n\r\nI researched a lot but i couldn&#39;t find anything. If you know about something else like another choose please help me! Thank you.","title":"Java JFileChooser - I can choose a .txt only in a directory i set","body":"<p>Hi im working in a java project and i wanted to create a JFileChooser which i have but i want to choose only in one directory like i have the directory called &quot;Saves&quot; and i want the person who open the JFileChooser can only access txt inside the directory call &quot;Saves&quot;. They cant acess anything else only the directory i set.</p>\n<p><a href=\"https://i.stack.imgur.com/YfamM.png\" rel=\"nofollow noreferrer\">I wanted to only access txt and cant acess neither another directorys neither other paths</a></p>\n<p>I researched a lot but i couldn't find anything. If you know about something else like another choose please help me! Thank you.</p>\n"},{"tags":["java","java-stream","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1681177474,"post_id":75877621,"comment_id":134011017,"body_markdown":"you should map the list of json objects to Purchase class pojo and call the same code","body":"you should map the list of json objects to Purchase class pojo and call the same code"},{"owner":{"account_id":4414289,"reputation":191,"user_id":3596329,"display_name":"SandeepVBende"},"score":0,"creation_date":1682623229,"post_id":75877621,"comment_id":134249270,"body_markdown":"There is no purchase class here. I want to deal with jsonObject.","body":"There is no purchase class here. I want to deal with jsonObject."}],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680096062,"creation_date":1680096062,"answer_id":75877838,"question_id":75877621,"body_markdown":"If `purchases` is a `List` of `JsonObject`:\r\n\r\n    Map&lt;Integer, Double&gt; monthlySumOfPurchases = purchases\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(\r\n                            json-&gt; json.getInteger(&quot;month_field&quot;), \r\n                            Collectors.summingDouble(json -&gt; json.getDouble(&quot;price_field))));\r\n\r\nOf course, the fields in the JSON objects might have different names.","title":"How to access values of JsonObject inside collect operator","body":"<p>If <code>purchases</code> is a <code>List</code> of <code>JsonObject</code>:</p>\n<pre><code>Map&lt;Integer, Double&gt; monthlySumOfPurchases = purchases\n                .stream()\n                .collect(Collectors.groupingBy(\n                        json-&gt; json.getInteger(&quot;month_field&quot;), \n                        Collectors.summingDouble(json -&gt; json.getDouble(&quot;price_field))));\n</code></pre>\n<p>Of course, the fields in the JSON objects might have different names.</p>\n"},{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680096362,"creation_date":1680096362,"answer_id":75877889,"question_id":75877621,"body_markdown":"**Approach 1**\r\n\r\nThe simplest thing you can do is to **first convert each of those JSONObject to instances of Purchase** and then your collector remains same.\r\n\r\n**Approach 2**\r\n\r\nAs an alternative you can also try something like this:\r\n```\r\nMap&lt;Month, Double&gt; monthlySumOfPurchases = purchases\r\n                .stream()\r\n                .collect(Collectors.groupingBy(jsonObject-&gt;\r\n                        jsonObject.getInteger(&quot;month_instant&quot;), \r\nCollectors.summingDouble(jsonObj -&gt; jsonObj.getDouble(&quot;price&quot;))));\r\n```\r\n\r\nI have assumed here your month_instant and price to be Integer and Double respectively due to lack of that information in question. However, you can modify them according to your own data.\r\n\r\nYou can try both these approaches. However, the first approach is simpler and more straightforward to implement.","title":"How to access values of JsonObject inside collect operator","body":"<p><strong>Approach 1</strong></p>\n<p>The simplest thing you can do is to <strong>first convert each of those JSONObject to instances of Purchase</strong> and then your collector remains same.</p>\n<p><strong>Approach 2</strong></p>\n<p>As an alternative you can also try something like this:</p>\n<pre><code>Map&lt;Month, Double&gt; monthlySumOfPurchases = purchases\n                .stream()\n                .collect(Collectors.groupingBy(jsonObject-&gt;\n                        jsonObject.getInteger(&quot;month_instant&quot;), \nCollectors.summingDouble(jsonObj -&gt; jsonObj.getDouble(&quot;price&quot;))));\n</code></pre>\n<p>I have assumed here your month_instant and price to be Integer and Double respectively due to lack of that information in question. However, you can modify them according to your own data.</p>\n<p>You can try both these approaches. However, the first approach is simpler and more straightforward to implement.</p>\n"}],"owner":{"account_id":4414289,"reputation":191,"user_id":3596329,"display_name":"SandeepVBende"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75877889,"answer_count":2,"score":-1,"last_activity_date":1680096362,"creation_date":1680095014,"question_id":75877621,"body_markdown":"Below is an example of getting sum of purchase amounts monthwise by using groupingBy. \r\n```\r\nMap&lt;Month, Double&gt; monthlySumOfPurchases = purchases\r\n                .stream()\r\n                .collect(Collectors.groupingBy(\r\n                        Purchase::getMonthOfDate, \r\n                        Collectors.summingDouble(Purchase::getPrice)));\r\n```\r\nPurchase is a class here, so collector worked for us.\r\nNow if I have List of JsonObject (io.vertx.core.json package), so purchases are JsonObjects now. How do I get monthwise sum of purchase amounts using streams now?","title":"How to access values of JsonObject inside collect operator","body":"<p>Below is an example of getting sum of purchase amounts monthwise by using groupingBy.</p>\n<pre><code>Map&lt;Month, Double&gt; monthlySumOfPurchases = purchases\n                .stream()\n                .collect(Collectors.groupingBy(\n                        Purchase::getMonthOfDate, \n                        Collectors.summingDouble(Purchase::getPrice)));\n</code></pre>\n<p>Purchase is a class here, so collector worked for us.\nNow if I have List of JsonObject (io.vertx.core.json package), so purchases are JsonObjects now. How do I get monthwise sum of purchase amounts using streams now?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1680087922,"post_id":75874065,"comment_id":133836699,"body_markdown":"`(:#{#iValue} IS NULL AND a.value IS NULL)` -&gt; `(:#{#iValue == null} = true AND a.value IS NULL)`","body":"<code>(:#{#iValue} IS NULL AND a.value IS NULL)</code> -&gt; <code>(:#{#iValue == null} = true AND a.value IS NULL)</code>"}],"answers":[{"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680096084,"creation_date":1680096084,"answer_id":75877842,"question_id":75874065,"body_markdown":"The solution is:\r\n\r\n    @Query(&quot;SELECT a FROM #{#entityName} a WHERE ((:iValue IS NULL AND a.value IS NULL) OR a.value = :iValue)&quot;)\r\n    MyEntity findByValue(@Param(&quot;iValue&quot;) MyDataType value)\r\n\r\nwithout `#{#...}`","title":"How to check IS NULL on Hibernate Custom Data Type","body":"<p>The solution is:</p>\n<pre><code>@Query(&quot;SELECT a FROM #{#entityName} a WHERE ((:iValue IS NULL AND a.value IS NULL) OR a.value = :iValue)&quot;)\nMyEntity findByValue(@Param(&quot;iValue&quot;) MyDataType value)\n</code></pre>\n<p>without <code>#{#...}</code></p>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680096084,"creation_date":1680073203,"question_id":75874065,"body_markdown":"I have a problem with a Hibernate Custom Data Type (AttributeConverter) in Spring Boot 3\r\nI have written a converter, an annotation, a validator, descriptor etc.. So far everything works. \r\n\r\nNow I wrote a very simple SQL in a JPA repo and I am wondering that it does not work:\r\n\r\n    @Query(&quot;SELECT a FROM #{#entityName} a WHERE ((:#{#iValue} IS NULL AND a.value IS NULL) OR a.value = :#{#iValue})&quot;)\r\n    MyEntity findByValue(@Param(&quot;iValue&quot;) MyDataType value)\r\n\r\nand get the error message:\r\n\r\n    org.springframework.orm.jpa.JpaSystemException: Could not determine recommended JdbcType for org.example.MyDataType\r\n\r\nI have now found out that it is based on the check with NULL and the value is not NULL.\r\n\r\nThat means the upper query works without the error message if `value == null`. If `value != null`, the above error message comes.\r\n\r\n1. Question, what else do I need to enter where so that the check for != null works. \r\n\r\n2. Is there a more elegant way than `((:#{#iValue} IS NULL AND a.value IS NULL) OR a.value = :#{#iValue})`. \r\n`a.value = :#{#iValue}` does not work for null values. Hibernate does not automatically convert this to `IS NULL` if the value is NULL. I have not found anything on the internet how to solve this differently.\r\n\r\nEDIT:  It seems the bug has been brought back to life. It was once solved and has now come back to life in Hibernate 6 only in reverse.\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/issues/2549\r\n\r\nhttps://hibernate.atlassian.net/browse/HHH-8697\r\n\r\nhttps://hibernate.atlassian.net/browse/HHH-9901\r\n\r\nhttps://hibernate.atlassian.net/browse/HHH-9320","title":"How to check IS NULL on Hibernate Custom Data Type","body":"<p>I have a problem with a Hibernate Custom Data Type (AttributeConverter) in Spring Boot 3\nI have written a converter, an annotation, a validator, descriptor etc.. So far everything works.</p>\n<p>Now I wrote a very simple SQL in a JPA repo and I am wondering that it does not work:</p>\n<pre><code>@Query(&quot;SELECT a FROM #{#entityName} a WHERE ((:#{#iValue} IS NULL AND a.value IS NULL) OR a.value = :#{#iValue})&quot;)\nMyEntity findByValue(@Param(&quot;iValue&quot;) MyDataType value)\n</code></pre>\n<p>and get the error message:</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Could not determine recommended JdbcType for org.example.MyDataType\n</code></pre>\n<p>I have now found out that it is based on the check with NULL and the value is not NULL.</p>\n<p>That means the upper query works without the error message if <code>value == null</code>. If <code>value != null</code>, the above error message comes.</p>\n<ol>\n<li><p>Question, what else do I need to enter where so that the check for != null works.</p>\n</li>\n<li><p>Is there a more elegant way than <code>((:#{#iValue} IS NULL AND a.value IS NULL) OR a.value = :#{#iValue})</code>.\n<code>a.value = :#{#iValue}</code> does not work for null values. Hibernate does not automatically convert this to <code>IS NULL</code> if the value is NULL. I have not found anything on the internet how to solve this differently.</p>\n</li>\n</ol>\n<p>EDIT:  It seems the bug has been brought back to life. It was once solved and has now come back to life in Hibernate 6 only in reverse.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2549\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2549</a></p>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-8697\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-8697</a></p>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-9901\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9901</a></p>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-9320\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9320</a></p>\n"},{"tags":["java","sql-server","spring-boot","jpa","one-to-one"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678974815,"post_id":75757024,"comment_id":133639719,"body_markdown":"Please check the InvestmentAllocation class, It is not (yet) perfect JPA entity. 1. No Entity annotation 2. No empty constructor 3. No ID annotation and id property. 4. No getters/setters","body":"Please check the InvestmentAllocation class, It is not (yet) perfect JPA entity. 1. No Entity annotation 2. No empty constructor 3. No ID annotation and id property. 4. No getters/setters"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":0,"creation_date":1678975374,"post_id":75757024,"comment_id":133639903,"body_markdown":"Edited, it&#39;s a copy mistake","body":"Edited, it&#39;s a copy mistake"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678975851,"post_id":75757024,"comment_id":133640056,"body_markdown":"Please also add the code snippet where you are getting error and the exception stack trace.","body":"Please also add the code snippet where you are getting error and the exception stack trace."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1679000664,"post_id":75757024,"comment_id":133647143,"body_markdown":"Aside... `decimal(8,4)` is quite small, this limits you to `declare @example1 decimal(8,4) = 9999.9999`. If you tried to `declare @example2 decimal(8,4) = 10000.0000`, for example, you&#39;d get an error message like: _Msg 8115 Level 16 State 8 Line 1 Arithmetic overflow error converting numeric to data type numeric._","body":"Aside... <code>decimal(8,4)</code> is quite small, this limits you to <code>declare @example1 decimal(8,4) = 9999.9999</code>. If you tried to <code>declare @example2 decimal(8,4) = 10000.0000</code>, for example, you&#39;d get an error message like: <i>Msg 8115 Level 16 State 8 Line 1 Arithmetic overflow error converting numeric to data type numeric.</i>"}],"answers":[{"tags":[],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680095832,"creation_date":1680095832,"answer_id":75877789,"question_id":75757024,"body_markdown":"I changed the key to be in Portfolio table and removed the foreign key column from InvestmentAllocation and it worked.\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;InvestmentAllocationKey&quot;, referencedColumnName = &quot;id&quot;)\r\n    private InvestmentAllocation investmentAllocation;","title":"Hibernate One-to-one mapping not working because of java.sql.SQLException: Invalid column name","body":"<p>I changed the key to be in Portfolio table and removed the foreign key column from InvestmentAllocation and it worked.</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;InvestmentAllocationKey&quot;, referencedColumnName = &quot;id&quot;)\nprivate InvestmentAllocation investmentAllocation;\n</code></pre>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680095832,"creation_date":1678973727,"question_id":75757024,"body_markdown":"I have Portfolio which can have InvestmentAllocation. I want to be able to set an InvestmentAllocation to Portfolio objects and fetch them easily, so I want the Portfolio class to contain information about its InvestmentAllocation. I also do not need an information about the Portfolio in InvestmentAllocation class, so there I want only to be able to see the @Column(name = &quot;PortfolioKey&quot;) private Long portfolioId;\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;Portfolio&quot;)\r\n    public class Portfolio extends MutableEntity {\r\n    \r\n        private static final long serialVersionUID = -6668016124280143515L;\r\n    \r\n        @Column(name = &quot;Name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;Amount&quot;)\r\n        private BigDecimal amount;\r\n    \r\n        @OneToOne(\r\n                fetch = FetchType.LAZY,\r\n                cascade = {CascadeType.ALL},\r\n                orphanRemoval = true\r\n        )\r\n        @JoinColumn(\r\n                name = &quot;PortfolioKey&quot;,\r\n                nullable = false,\r\n                insertable = false,\r\n                updatable = false\r\n        )\r\n        @Cascade({org.hibernate.annotations.CascadeType.ALL})\r\n        private InvestmentAllocation investmentAllocation;\r\n    \r\n        @PostPersist\r\n        protected void postPersist() {\r\n            if (this.investmentAllocation != null) {\r\n                if (this.investmentAllocation.getPortfolioId() == null) {\r\n                    this.investmentAllocation.setPortfolioId(this.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;InvestmentAllocation&quot;)\r\n    public class InvestmentAllocation extends MutableEntity{\r\n    \r\n        private static final long serialVersionUID = -5974811107021515065L;\r\n    \r\n        @Column(name = &quot;PortfolioKey&quot;)\r\n        private Long portfolioId;\r\n    \r\n        @Column(name = &quot;Cash&quot;)\r\n        private double cash;\r\n    \r\n        @Column(name = &quot;Bond&quot;)\r\n        private double bond;\r\n    }\r\n\r\nPlease find below how I created my tables:\r\n\r\n    CREATE TABLE [dbo].[Portfolio](\r\n    \t[ID] [int] IDENTITY(1,1) NOT NULL,\r\n    \t[Name] [varchar](255) NOT NULL,\r\n    \t[Amount] [money] NOT NULL,\r\n     CONSTRAINT [PK_PortfolioGeneric] PRIMARY KEY CLUSTERED \r\n    (\r\n    \t[ID] ASC\r\n    )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 85) ON [PRIMARY]\r\n    ) ON [PRIMARY]\r\n    GO\r\n\r\n    CREATE TABLE [dbo].[InvestmentAllocation](\r\n    \t[ID] [int] IDENTITY(1,1) NOT NULL,\r\n    \t[PortfolioKey] [int] NOT NULL,\r\n    \t[Bond] [decimal](8, 4) NOT NULL,\r\n    \t[Cash] [decimal](8, 4) NOT NULL,\r\n     CONSTRAINT [PK_InvestmentAllocation] PRIMARY KEY CLUSTERED \r\n    (\r\n    \t[ID] ASC\r\n    )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 85) ON [PRIMARY]\r\n    ) ON [PRIMARY]\r\n    GO\r\n    \r\n    ALTER TABLE [dbo].[InvestmentAllocation]  WITH CHECK ADD  CONSTRAINT [PK_InvestmentAllocation_Portfolio] FOREIGN KEY([PortfolioKey])\r\n    REFERENCES [dbo].[Portfolio] ([ID])\r\n    GO\r\n    \r\n    ALTER TABLE [dbo].[InvestmentAllocation] CHECK CONSTRAINT [PK_InvestmentAllocation_Portfolio]\r\n    GO\r\n\r\nWhen I run the code, I am getting the following error:\r\n\r\n&gt; Caused by: java.sql.SQLException: Invalid column name &#39;PortfolioKey&#39;.\r\n\r\n**Why I am getting this error? \r\nIs my one-to-one mapping not correct?**","title":"Hibernate One-to-one mapping not working because of java.sql.SQLException: Invalid column name","body":"<p>I have Portfolio which can have InvestmentAllocation. I want to be able to set an InvestmentAllocation to Portfolio objects and fetch them easily, so I want the Portfolio class to contain information about its InvestmentAllocation. I also do not need an information about the Portfolio in InvestmentAllocation class, so there I want only to be able to see the @Column(name = &quot;PortfolioKey&quot;) private Long portfolioId;</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;Portfolio&quot;)\npublic class Portfolio extends MutableEntity {\n\n    private static final long serialVersionUID = -6668016124280143515L;\n\n    @Column(name = &quot;Name&quot;)\n    private String name;\n\n    @Column(name = &quot;Amount&quot;)\n    private BigDecimal amount;\n\n    @OneToOne(\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.ALL},\n            orphanRemoval = true\n    )\n    @JoinColumn(\n            name = &quot;PortfolioKey&quot;,\n            nullable = false,\n            insertable = false,\n            updatable = false\n    )\n    @Cascade({org.hibernate.annotations.CascadeType.ALL})\n    private InvestmentAllocation investmentAllocation;\n\n    @PostPersist\n    protected void postPersist() {\n        if (this.investmentAllocation != null) {\n            if (this.investmentAllocation.getPortfolioId() == null) {\n                this.investmentAllocation.setPortfolioId(this.getId());\n            }\n        }\n    }\n}\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;InvestmentAllocation&quot;)\npublic class InvestmentAllocation extends MutableEntity{\n\n    private static final long serialVersionUID = -5974811107021515065L;\n\n    @Column(name = &quot;PortfolioKey&quot;)\n    private Long portfolioId;\n\n    @Column(name = &quot;Cash&quot;)\n    private double cash;\n\n    @Column(name = &quot;Bond&quot;)\n    private double bond;\n}\n</code></pre>\n<p>Please find below how I created my tables:</p>\n<pre><code>CREATE TABLE [dbo].[Portfolio](\n    [ID] [int] IDENTITY(1,1) NOT NULL,\n    [Name] [varchar](255) NOT NULL,\n    [Amount] [money] NOT NULL,\n CONSTRAINT [PK_PortfolioGeneric] PRIMARY KEY CLUSTERED \n(\n    [ID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 85) ON [PRIMARY]\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[InvestmentAllocation](\n    [ID] [int] IDENTITY(1,1) NOT NULL,\n    [PortfolioKey] [int] NOT NULL,\n    [Bond] [decimal](8, 4) NOT NULL,\n    [Cash] [decimal](8, 4) NOT NULL,\n CONSTRAINT [PK_InvestmentAllocation] PRIMARY KEY CLUSTERED \n(\n    [ID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 85) ON [PRIMARY]\n) ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[InvestmentAllocation]  WITH CHECK ADD  CONSTRAINT [PK_InvestmentAllocation_Portfolio] FOREIGN KEY([PortfolioKey])\nREFERENCES [dbo].[Portfolio] ([ID])\nGO\n\nALTER TABLE [dbo].[InvestmentAllocation] CHECK CONSTRAINT [PK_InvestmentAllocation_Portfolio]\nGO\n</code></pre>\n<p>When I run the code, I am getting the following error:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Invalid column name 'PortfolioKey'.</p>\n</blockquote>\n<p><strong>Why I am getting this error?\nIs my one-to-one mapping not correct?</strong></p>\n"},{"tags":["java","android","layout","view"],"owner":{"account_id":19320890,"reputation":1,"user_id":14124609,"display_name":"jebb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680095672,"creation_date":1680095672,"question_id":75877758,"body_markdown":"I made a view draggable with mouse cursor, but I would like to make it move outside its layout. I used only linear layouts, do I need to change all the layouts or there are easier ways?I red about relative layouts or even ViewGroups.\r\n[enter image description here](https://i.stack.imgur.com/zVDoc.png)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/llTop&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:background=&quot;@android:color/holo_green_dark&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:ignore=&quot;UselessParent&quot;&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;end|center_vertical&quot;\r\n            android:text=&quot;Score:&quot; /&gt;\r\n        &lt;androidx.gridlayout.widget.GridLayout\r\n            android:background=&quot;#3F51B5&quot;\r\n            android:layout_width=&quot;388dp&quot;\r\n            android:layout_height=&quot;390dp&quot;&gt;\r\n        &lt;/androidx.gridlayout.widget.GridLayout&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/bottom&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/holo_green_dark&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            tools:ignore=&quot;UselessParent&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            &gt;\r\n            &lt;View\r\n                android:id=&quot;@+id/dragView1&quot;\r\n                android:layout_width=&quot;41dp&quot;\r\n                android:layout_height=&quot;41dp&quot;\r\n                android:layout_gravity=&quot;bottom|center&quot;\r\n                android:layout_marginTop=&quot;50dp&quot;\r\n                android:layout_marginHorizontal=&quot;50dp&quot;\r\n                android:background=&quot;@android:color/holo_blue_bright&quot;\r\n                android:clipChildren=&quot;false&quot;\r\n                android:clipToPadding=&quot;false&quot;\r\n                /&gt;\r\n            &lt;View\r\n                android:id=&quot;@+id/dragView2&quot;\r\n                android:layout_width=&quot;41dp&quot;\r\n                android:layout_height=&quot;41dp&quot;\r\n                android:layout_gravity=&quot;bottom|center&quot;\r\n                android:layout_marginTop=&quot;50dp&quot;\r\n                android:layout_marginHorizontal=&quot;50dp&quot;\r\n                android:background=&quot;@android:color/holo_blue_bright&quot;\r\n                android:clipChildren=&quot;false&quot;\r\n                android:clipToPadding=&quot;false&quot;\r\n                /&gt;\r\n            &lt;View\r\n                android:id=&quot;@+id/dragView3&quot;\r\n                android:layout_width=&quot;41dp&quot;\r\n                android:layout_height=&quot;41dp&quot;\r\n                android:layout_gravity=&quot;bottom|center&quot;\r\n                android:layout_marginTop=&quot;50dp&quot;\r\n                android:layout_marginHorizontal=&quot;50dp&quot;\r\n                android:background=&quot;@android:color/holo_blue_bright&quot;\r\n                android:clipChildren=&quot;false&quot;\r\n                android:clipToPadding=&quot;false&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nI tried to change layout but I did not manage to.","title":"Android view outside the layout","body":"<p>I made a view draggable with mouse cursor, but I would like to make it move outside its layout. I used only linear layouts, do I need to change all the layouts or there are easier ways?I red about relative layouts or even ViewGroups.\n<a href=\"https://i.stack.imgur.com/zVDoc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    &gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/llTop&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:background=&quot;@android:color/holo_green_dark&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:ignore=&quot;UselessParent&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/textView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;end|center_vertical&quot;\n            android:text=&quot;Score:&quot; /&gt;\n        &lt;androidx.gridlayout.widget.GridLayout\n            android:background=&quot;#3F51B5&quot;\n            android:layout_width=&quot;388dp&quot;\n            android:layout_height=&quot;390dp&quot;&gt;\n        &lt;/androidx.gridlayout.widget.GridLayout&gt;\n        &lt;LinearLayout\n            android:id=&quot;@+id/bottom&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@android:color/holo_green_dark&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;\n            tools:ignore=&quot;UselessParent&quot;\n            android:elevation=&quot;2dp&quot;\n            &gt;\n            &lt;View\n                android:id=&quot;@+id/dragView1&quot;\n                android:layout_width=&quot;41dp&quot;\n                android:layout_height=&quot;41dp&quot;\n                android:layout_gravity=&quot;bottom|center&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:layout_marginHorizontal=&quot;50dp&quot;\n                android:background=&quot;@android:color/holo_blue_bright&quot;\n                android:clipChildren=&quot;false&quot;\n                android:clipToPadding=&quot;false&quot;\n                /&gt;\n            &lt;View\n                android:id=&quot;@+id/dragView2&quot;\n                android:layout_width=&quot;41dp&quot;\n                android:layout_height=&quot;41dp&quot;\n                android:layout_gravity=&quot;bottom|center&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:layout_marginHorizontal=&quot;50dp&quot;\n                android:background=&quot;@android:color/holo_blue_bright&quot;\n                android:clipChildren=&quot;false&quot;\n                android:clipToPadding=&quot;false&quot;\n                /&gt;\n            &lt;View\n                android:id=&quot;@+id/dragView3&quot;\n                android:layout_width=&quot;41dp&quot;\n                android:layout_height=&quot;41dp&quot;\n                android:layout_gravity=&quot;bottom|center&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:layout_marginHorizontal=&quot;50dp&quot;\n                android:background=&quot;@android:color/holo_blue_bright&quot;\n                android:clipChildren=&quot;false&quot;\n                android:clipToPadding=&quot;false&quot;\n                /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>I tried to change layout but I did not manage to.</p>\n"},{"tags":["java","azure","azure-blob-storage","timeoutexception","azure-sdk-for-java"],"answers":[{"comments":[{"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"score":0,"creation_date":1680174839,"post_id":75877736,"comment_id":133855121,"body_markdown":"So does it mean it is a bug in azure sdk for java v11? I need to update the version to v12?","body":"So does it mean it is a bug in azure sdk for java v11? I need to update the version to v12?"},{"owner":{"account_id":26886199,"reputation":3299,"user_id":20465725,"display_name":"Venkat V"},"score":0,"creation_date":1680506852,"post_id":75877736,"comment_id":133903886,"body_markdown":"Timeouts can occur for a variety of reasons, such as network latency, server issues, or application load, upgrading to the latest version of the Azure SDK for Java v12 and check the result.","body":"Timeouts can occur for a variety of reasons, such as network latency, server issues, or application load, upgrading to the latest version of the Azure SDK for Java v12 and check the result."}],"tags":[],"owner":{"account_id":26886199,"reputation":3299,"user_id":20465725,"display_name":"Venkat V"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680095598,"creation_date":1680095598,"answer_id":75877736,"question_id":75876946,"body_markdown":"&gt; I am using azure sdk for java v11.0.1 to upload files to blob storage.This error comes sometimes once in a week and it creates an outage for the application.\r\n\r\n\r\n\r\n```java\r\njava.util.concurrent.TimeoutException: The source did not signal an event for 60 seconds and has been terminated.\r\n2023-03-21T10:30:53.721545956Z at io.reactivex.internal.operators.single.SingleTimeout$TimeoutMainObserver.run(SingleTimeout.java:123) ~[rxjava-2.2.9.jar!/:na]\r\n2023-03-21T10:30:53.721551557Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:38) ~[rxjava-2.2.9.jar!/:na]\r\n2023-03-21T10:30:53.721555757Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:26) ~[rxjava-2.2.9.jar!/:na]\r\n2023-03-21T10:30:53.721559957Z at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n2023-03-21T10:30:53.721563857Z at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n```\r\nThe above error message indicates that a timeout occurred while attempting to upload a file to **AZURE Storage** using the **SDK** for Java. The timeout occurred because the source did not signal an event for 60 seconds and was terminated automatically.\r\n\r\nI have used below code to upload the **Files** to **Azure Blob Storage**.\r\n\r\n    import com.azure.storage.blob.BlobClient;\r\n    import com.azure.storage.blob.BlobContainerClient;\r\n    import com.azure.storage.blob.BlobServiceClient;\r\n    import com.azure.storage.blob.BlobServiceClientBuilder;\r\n    \r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n       String  connectStr =&quot;DefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxL132fS9qbo2NGFL/GdLuwyWiSn+AStm9symA==;EndpointSuffix=core.windows.net&quot;;\r\n       BlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\r\n       String  containerName = &quot;&lt;containername&gt;&quot;;\r\n       BlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n       String  localPath = &quot;&lt;localpath&gt;;\r\n       BlobClient  blobClient = containerClient.getBlobClient(&quot;sample09.xlsx&quot;);\r\n       blobClient.uploadFromFile(localPath);\r\n       System.out.println(&quot;File uploaded!!!!&quot;);;\r\n        }\r\n    }\r\n\r\nYou need to change the below dependency in `pom.xml` \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.2&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    &lt;version&gt;12.21.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOnce ran the above code files are uploaded to **Azure Container** successfully.\r\n\r\n![enter image description here](https://i.stack.imgur.com/CTNqN.png)\r\n","title":"Cannot upload file to blob","body":"<blockquote>\n<p>I am using azure sdk for java v11.0.1 to upload files to blob storage.This error comes sometimes once in a week and it creates an outage for the application.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.concurrent.TimeoutException: The source did not signal an event for 60 seconds and has been terminated.\n2023-03-21T10:30:53.721545956Z at io.reactivex.internal.operators.single.SingleTimeout$TimeoutMainObserver.run(SingleTimeout.java:123) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721551557Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:38) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721555757Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:26) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721559957Z at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n2023-03-21T10:30:53.721563857Z at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n</code></pre>\n<p>The above error message indicates that a timeout occurred while attempting to upload a file to <strong>AZURE Storage</strong> using the <strong>SDK</strong> for Java. The timeout occurred because the source did not signal an event for 60 seconds and was terminated automatically.</p>\n<p>I have used below code to upload the <strong>Files</strong> to <strong>Azure Blob Storage</strong>.</p>\n<pre><code>import com.azure.storage.blob.BlobClient;\nimport com.azure.storage.blob.BlobContainerClient;\nimport com.azure.storage.blob.BlobServiceClient;\nimport com.azure.storage.blob.BlobServiceClientBuilder;\n\n\npublic class App {\n    public static void main(String[] args) {\n   String  connectStr =&quot;DefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxL132fS9qbo2NGFL/GdLuwyWiSn+AStm9symA==;EndpointSuffix=core.windows.net&quot;;\n   BlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\n   String  containerName = &quot;&lt;containername&gt;&quot;;\n   BlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\n   String  localPath = &quot;&lt;localpath&gt;;\n   BlobClient  blobClient = containerClient.getBlobClient(&quot;sample09.xlsx&quot;);\n   blobClient.uploadFromFile(localPath);\n   System.out.println(&quot;File uploaded!!!!&quot;);;\n    }\n}\n</code></pre>\n<p>You need to change the below dependency in <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.azure&lt;/groupId&gt;\n&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n&lt;version&gt;1.7.2&lt;/version&gt;\n&lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.azure&lt;/groupId&gt;\n&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n&lt;version&gt;12.21.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once ran the above code files are uploaded to <strong>Azure Container</strong> successfully.</p>\n<p><img src=\"https://i.stack.imgur.com/CTNqN.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680095598,"creation_date":1680091376,"question_id":75876946,"body_markdown":"I am using azure sdk for java v11.0.1 to upload files to blob storage. This error comes sometimes once in a week and it creates an outage for the application\r\n:\r\n\r\n    java.util.concurrent.TimeoutException: The source did not signal an event for 60 seconds and has been terminated.\r\n    2023-03-21T10:30:53.721545956Z at io.reactivex.internal.operators.single.SingleTimeout$TimeoutMainObserver.run(SingleTimeout.java:123) ~[rxjava-2.2.9.jar!/:na]\r\n    2023-03-21T10:30:53.721551557Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:38) ~[rxjava-2.2.9.jar!/:na]\r\n    2023-03-21T10:30:53.721555757Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:26) ~[rxjava-2.2.9.jar!/:na]\r\n    2023-03-21T10:30:53.721559957Z at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    2023-03-21T10:30:53.721563857Z at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\r\nThe application works fine after a restart. What could be the issue ? I am using azure-storage-blob version 11.0.1 and spring boot version 2.1.6.","title":"Cannot upload file to blob","body":"<p>I am using azure sdk for java v11.0.1 to upload files to blob storage. This error comes sometimes once in a week and it creates an outage for the application\n:</p>\n<pre><code>java.util.concurrent.TimeoutException: The source did not signal an event for 60 seconds and has been terminated.\n2023-03-21T10:30:53.721545956Z at io.reactivex.internal.operators.single.SingleTimeout$TimeoutMainObserver.run(SingleTimeout.java:123) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721551557Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:38) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721555757Z at io.reactivex.internal.schedulers.ScheduledDirectTask.call(ScheduledDirectTask.java:26) ~[rxjava-2.2.9.jar!/:na]\n2023-03-21T10:30:53.721559957Z at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n2023-03-21T10:30:53.721563857Z at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n</code></pre>\n<p>The application works fine after a restart. What could be the issue ? I am using azure-storage-blob version 11.0.1 and spring boot version 2.1.6.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1679962046,"post_id":75861337,"comment_id":133811667,"body_markdown":"Hello and welcome to Stack Overflow! Please check out the [ask] and [tour] links to see how to ask questions, how to best use the site and what the site is for, and then consider [edit]ing and improving your question.  In particular, consider making your question more clear, focused, and understandable, especially with code posted as text, since doing this can help improve the question greatly, can improve its chances of getting a decent answer soon, and can reduce its chances of being closed, down-voted or deleted. Best of luck!","body":"Hello and welcome to Stack Overflow! Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links to see how to ask questions, how to best use the site and what the site is for, and then consider <a href=\"https://stackoverflow.com/posts/75861337/edit\">edit</a>ing and improving your question.  In particular, consider making your question more clear, focused, and understandable, especially with code posted as text, since doing this can help improve the question greatly, can improve its chances of getting a decent answer soon, and can reduce its chances of being closed, down-voted or deleted. Best of luck!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680011758,"post_id":75861337,"comment_id":133821432,"body_markdown":"“goal is to print [2,4] and successfully create a list of odd/even numbers.”  Which is it?  Is your goal to print [2,4] (which clearly is just even numbers), or is your goal to print both odd and even numbers in some manner?","body":"“goal is to print [2,4] and successfully create a list of odd/even numbers.”  Which is it?  Is your goal to print [2,4] (which clearly is just even numbers), or is your goal to print both odd and even numbers in some manner?"}],"answers":[{"comments":[{"owner":{"account_id":27893064,"reputation":1,"user_id":21299003,"display_name":"NotAGoodCoder"},"score":0,"creation_date":1679964625,"post_id":75861367,"comment_id":133812024,"body_markdown":"shmosel&#39;s answer worked thanks","body":"shmosel&#39;s answer worked thanks"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679962473,"creation_date":1679962473,"answer_id":75861367,"question_id":75861337,"body_markdown":"You can&#39;t print a Stream directly. Even if you could, this one is already consumed by the [terminal operation][1]. Just scrap the `forEach()` (or convert it to a `peek()` if you really need it), and print the result of your `collect()` call:\r\n\r\n    List&lt;Integer&gt; result = s.filter(p -&gt; p % 2 == 0)\r\n            .collect(Collectors.toList());\r\n    System.out.println(result);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps","title":"Getting a List of Odd/Even Numbers Using Stream","body":"<p>You can't print a Stream directly. Even if you could, this one is already consumed by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">terminal operation</a>. Just scrap the <code>forEach()</code> (or convert it to a <code>peek()</code> if you really need it), and print the result of your <code>collect()</code> call:</p>\n<pre><code>List&lt;Integer&gt; result = s.filter(p -&gt; p % 2 == 0)\n        .collect(Collectors.toList());\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":27893064,"reputation":1,"user_id":21299003,"display_name":"NotAGoodCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1680095319,"creation_date":1679961888,"question_id":75861337,"body_markdown":"The goal is to print `[2,4]` and successfully create a list of odd/even numbers. My syntax is probably just way off or slightly off.\r\n\r\n    Stream&lt;Integer&gt; s = Stream.of(1, 2, 3, 4);\r\n    s.filter(p -&gt; p % 2 == 0)\r\n     .collect(Collectors.toList())\r\n     .forEach(e -&gt; System.out.print(e + &quot; &quot;));\r\n\r\n    System.out.println();\r\n    System.out.println(s.toString());\r\n\r\nResults...\r\n\r\n    2 4 \r\n    java.util.stream.ReferencePipeline$Head@682a0b20\r\n\r\n","title":"Getting a List of Odd/Even Numbers Using Stream","body":"<p>The goal is to print <code>[2,4]</code> and successfully create a list of odd/even numbers. My syntax is probably just way off or slightly off.</p>\n<pre><code>Stream&lt;Integer&gt; s = Stream.of(1, 2, 3, 4);\ns.filter(p -&gt; p % 2 == 0)\n .collect(Collectors.toList())\n .forEach(e -&gt; System.out.print(e + &quot; &quot;));\n\nSystem.out.println();\nSystem.out.println(s.toString());\n</code></pre>\n<p>Results...</p>\n<pre><code>2 4 \njava.util.stream.ReferencePipeline$Head@682a0b20\n</code></pre>\n"},{"tags":["java","lambda","java-8","swagger","modelmapper"],"comments":[{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1680160510,"post_id":75877579,"comment_id":133851519,"body_markdown":"Is it what you are looking for : https://www.baeldung.com/mapstruct if not please elaborate more","body":"Is it what you are looking for : <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct</a> if not please elaborate more"}],"owner":{"account_id":18440419,"reputation":11,"user_id":13433179,"display_name":"Anita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680094782,"creation_date":1680094782,"question_id":75877579,"body_markdown":"I am new to java and have scenario where I am retrieving data from database using JPA specification.\r\n\r\nThe data being retrieved is in plain format and I want to map it to list data type in swagger generated model class.\r\n\r\nFor remaining attributes, I am using lambda expression(mapper.map) which is working but for dto to list it is not working. \r\n\r\nCan anyone please help me with it?","title":"How to map dto objects to list in swagger class?","body":"<p>I am new to java and have scenario where I am retrieving data from database using JPA specification.</p>\n<p>The data being retrieved is in plain format and I want to map it to list data type in swagger generated model class.</p>\n<p>For remaining attributes, I am using lambda expression(mapper.map) which is working but for dto to list it is not working.</p>\n<p>Can anyone please help me with it?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":22619843,"reputation":39,"user_id":16798827,"display_name":"cloud_7"},"score":0,"creation_date":1680079376,"post_id":75874328,"comment_id":133834506,"body_markdown":"I think I&#39;ve figured out what&#39;s wrong. I use spring kafka 2.8.8. According to this issue: https://github.com/spring-projects/spring-kafka/issues/2282 it was fixed in 3.0.0. \n\nPlease close it.","body":"I think I&#39;ve figured out what&#39;s wrong. I use spring kafka 2.8.8. According to this issue: <a href=\"https://github.com/spring-projects/spring-kafka/issues/2282\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/issues/2282</a> it was fixed in 3.0.0.   Please close it."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680094142,"post_id":75874328,"comment_id":133838393,"body_markdown":"I suggest you add this as an answer and accept it a couple of days later - it might help others rather than deleting it.","body":"I suggest you add this as an answer and accept it a couple of days later - it might help others rather than deleting it."}],"answers":[{"tags":[],"owner":{"account_id":22619843,"reputation":39,"user_id":16798827,"display_name":"cloud_7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680094639,"creation_date":1680094639,"answer_id":75877551,"question_id":75874328,"body_markdown":"SOLUTION: \r\nThis issue was already raised here: https://github.com/spring-projects/spring-kafka/issues/2282\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/3.0.5/reference/html/#retry-config\r\n\r\nIt was solved in 3.0.0.","title":"Two consumers with non-blocking retry listening to one kafka topic","body":"<p>SOLUTION:\nThis issue was already raised here: <a href=\"https://github.com/spring-projects/spring-kafka/issues/2282\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/issues/2282</a></p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/3.0.5/reference/html/#retry-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/3.0.5/reference/html/#retry-config</a></p>\n<p>It was solved in 3.0.0.</p>\n"}],"owner":{"account_id":22619843,"reputation":39,"user_id":16798827,"display_name":"cloud_7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75877551,"answer_count":1,"score":1,"last_activity_date":1680094639,"creation_date":1680074878,"question_id":75874328,"body_markdown":"I use spring kafka 2.8.8. I have two consumers which use @RetryableTopic annotation for non-blocking retries. Both of them listen the same topic and they have separate consumer groups.\r\n\r\nImplementation of the first consumer:\r\n\r\n    @KafkaListener(\r\n        topics = &quot;topic&quot;,\r\n        containerFactory = &quot;containerFactory-one&quot;,\r\n        groupId = &quot;group-one&quot;\r\n    )\r\n    @RetryableTopic(\r\n        attempts = &quot;3&quot;,\r\n        backoff = @Backoff(delay = 30000,\r\n            multiplierExpression = 2.0 , maxDelay = 600000),\r\n        listenerContainerFactory = &quot;containerFactory-one&quot;,\r\n        kafkaTemplate = &quot;template-one&quot;,\r\n        retryTopicSuffix = &quot;-one-retry&quot;,\r\n        dltTopicSuffix = &quot;-one-dlt&quot;,\r\n        topicSuffixingStrategy = TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE\r\n    )\r\n\r\nImplementation of the second consumer:\r\n\r\n    @KafkaListener(\r\n        topics = &quot;topic&quot;,\r\n        containerFactory = &quot;containerFactory-two&quot;,\r\n        groupId = &quot;group-two&quot;\r\n    )\r\n    @RetryableTopic(\r\n        attempts = &quot;3&quot;,\r\n        backoff = @Backoff(delay = 30000,\r\n            multiplierExpression = 2.0 , maxDelay = 600000),\r\n        listenerContainerFactory = &quot;containerFactory-two&quot;,\r\n        kafkaTemplate = &quot;template-two&quot;,\r\n        retryTopicSuffix = &quot;-two-retry&quot;,\r\n        dltTopicSuffix = &quot;-two-dlt&quot;,\r\n        topicSuffixingStrategy = TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE\r\n    )\r\n\r\nSo in total I have one main topic and 3 retry topics for each consumer. Each retry topic has own consumer group.\r\n\r\nPROBLEM:\r\nWhen the first consumer fails, then the retry message is sent and **it is read by the second consumer retry-0.** Is it a bug or did I make here some configuration mistake?\r\n\r\n------------------------------------------------\r\nSOLUTION:\r\nThis issue was already raised here:\r\nhttps://github.com/spring-projects/spring-kafka/issues/2282\r\n\r\nIt was solved in 3.0.0.","title":"Two consumers with non-blocking retry listening to one kafka topic","body":"<p>I use spring kafka 2.8.8. I have two consumers which use @RetryableTopic annotation for non-blocking retries. Both of them listen the same topic and they have separate consumer groups.</p>\n<p>Implementation of the first consumer:</p>\n<pre><code>@KafkaListener(\n    topics = &quot;topic&quot;,\n    containerFactory = &quot;containerFactory-one&quot;,\n    groupId = &quot;group-one&quot;\n)\n@RetryableTopic(\n    attempts = &quot;3&quot;,\n    backoff = @Backoff(delay = 30000,\n        multiplierExpression = 2.0 , maxDelay = 600000),\n    listenerContainerFactory = &quot;containerFactory-one&quot;,\n    kafkaTemplate = &quot;template-one&quot;,\n    retryTopicSuffix = &quot;-one-retry&quot;,\n    dltTopicSuffix = &quot;-one-dlt&quot;,\n    topicSuffixingStrategy = TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE\n)\n</code></pre>\n<p>Implementation of the second consumer:</p>\n<pre><code>@KafkaListener(\n    topics = &quot;topic&quot;,\n    containerFactory = &quot;containerFactory-two&quot;,\n    groupId = &quot;group-two&quot;\n)\n@RetryableTopic(\n    attempts = &quot;3&quot;,\n    backoff = @Backoff(delay = 30000,\n        multiplierExpression = 2.0 , maxDelay = 600000),\n    listenerContainerFactory = &quot;containerFactory-two&quot;,\n    kafkaTemplate = &quot;template-two&quot;,\n    retryTopicSuffix = &quot;-two-retry&quot;,\n    dltTopicSuffix = &quot;-two-dlt&quot;,\n    topicSuffixingStrategy = TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE\n)\n</code></pre>\n<p>So in total I have one main topic and 3 retry topics for each consumer. Each retry topic has own consumer group.</p>\n<p>PROBLEM:\nWhen the first consumer fails, then the retry message is sent and <strong>it is read by the second consumer retry-0.</strong> Is it a bug or did I make here some configuration mistake?</p>\n<hr />\n<p>SOLUTION:\nThis issue was already raised here:\n<a href=\"https://github.com/spring-projects/spring-kafka/issues/2282\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/issues/2282</a></p>\n<p>It was solved in 3.0.0.</p>\n"},{"tags":["java","sql","flyway","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1680094334,"post_id":75877153,"comment_id":133838454,"body_markdown":"Why do you declare `runtimeOnly(&quot;org.flywaydb:flyway-core&quot;)`? IMO, thats not necessary since it is a transitive dependency of `io.micronaut.flyway:micronaut-flyway`","body":"Why do you declare <code>runtimeOnly(&quot;org.flywaydb:flyway-core&quot;)</code>? IMO, thats not necessary since it is a transitive dependency of <code>io.micronaut.flyway:micronaut-flyway</code>"}],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680094207,"creation_date":1680094207,"answer_id":75877472,"question_id":75877153,"body_markdown":"Make sure you add the datasource name `default` to your Flyway configuration.\r\n\r\n```yml\r\nflyway:\r\n  datasources:\r\n    default:\r\n      enabled: true\r\n```\r\n\r\nAnd you don&#39;t need to copy the credentials and the connection string.","title":"micronaut not creating table Flyway","body":"<p>Make sure you add the datasource name <code>default</code> to your Flyway configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>flyway:\n  datasources:\n    default:\n      enabled: true\n</code></pre>\n<p>And you don't need to copy the credentials and the connection string.</p>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75877472,"answer_count":1,"score":1,"last_activity_date":1680094207,"creation_date":1680092545,"question_id":75877153,"body_markdown":"I have a problem. I want the person table to be created when micronaut starts up. To do this, I use flyway, connected the dependency like this:\r\n```\r\n    //----Micronaut Data\r\n    implementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jooq&quot;)\r\n\r\n    //---FlyWay and Postgresql\r\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    implementation(&quot;io.micronaut.flyway:micronaut-flyway&quot;)\r\n    runtimeOnly(&quot;org.flywaydb:flyway-core&quot;)\r\n```\r\nFurther, in application.yml I wrote the configuration for Flyway. I will send the entire application yml file:\r\n```\r\nmicronaut:\r\n  application:\r\n    name: demo7\r\n  server:\r\n    port: 9000\r\ndatasources:\r\n  default:\r\n    driver-class-name: org.postgresql.Driver\r\n    db-type: postgres\r\n    dialect: POSTGRES\r\n    username: postgres\r\n    url: jdbc:postgresql://localhost:5432/disa\r\n    password: 1234\r\n\r\nnetty:\r\n  default:\r\n    allocator:\r\n      max-order: 3\r\nflyway:\r\n  datasources:\r\n    enabled: true\r\n    url: jdbc:postgresql://localhost:5432/disa\r\n    username: postgres\r\n    password: 1234\r\n```\r\nWhen the application starts, no errors are thrown, but the table is not created either. My db.migration path looks like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pWOyB.png\r\nName of my SQL script: **V1_1__create_all_tables.sql**\r\nHelp me please.\r\nMy sql script:\r\n```\r\nCREATE TABLE person(\r\n                       id   bigint primary key not null,\r\n                       name varchar(255)       not null,\r\n                       age  int                not null\r\n)\r\n```","title":"micronaut not creating table Flyway","body":"<p>I have a problem. I want the person table to be created when micronaut starts up. To do this, I use flyway, connected the dependency like this:</p>\n<pre><code>    //----Micronaut Data\n    implementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jooq&quot;)\n\n    //---FlyWay and Postgresql\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.micronaut.flyway:micronaut-flyway&quot;)\n    runtimeOnly(&quot;org.flywaydb:flyway-core&quot;)\n</code></pre>\n<p>Further, in application.yml I wrote the configuration for Flyway. I will send the entire application yml file:</p>\n<pre><code>micronaut:\n  application:\n    name: demo7\n  server:\n    port: 9000\ndatasources:\n  default:\n    driver-class-name: org.postgresql.Driver\n    db-type: postgres\n    dialect: POSTGRES\n    username: postgres\n    url: jdbc:postgresql://localhost:5432/disa\n    password: 1234\n\nnetty:\n  default:\n    allocator:\n      max-order: 3\nflyway:\n  datasources:\n    enabled: true\n    url: jdbc:postgresql://localhost:5432/disa\n    username: postgres\n    password: 1234\n</code></pre>\n<p>When the application starts, no errors are thrown, but the table is not created either. My db.migration path looks like this:\n<a href=\"https://i.stack.imgur.com/pWOyB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWOyB.png\" alt=\"enter image description here\" /></a></p>\n<p>Name of my SQL script: <strong>V1_1__create_all_tables.sql</strong>\nHelp me please.\nMy sql script:</p>\n<pre><code>CREATE TABLE person(\n                       id   bigint primary key not null,\n                       name varchar(255)       not null,\n                       age  int                not null\n)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1669142074,"post_id":74537293,"comment_id":131575643,"body_markdown":"Sorry - not a regex writing service here. Furthermore, for parsing complex nesting, regexes really are not your friend","body":"Sorry - not a regex writing service here. Furthermore, for parsing complex nesting, regexes really are not your friend"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669142696,"creation_date":1669142696,"answer_id":74537632,"question_id":74537293,"body_markdown":"Given that you&#39;ve already parsed out the values into a String, you can simply split and collect them into a Map&lt;String, String&gt;.\r\n\r\n\r\n    String valueOutOfRegex = &quot;[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]&quot;; // Your String that you&#39;ve parsed\r\n    String valueWithRemovedBrackets = valueOutOfRegex.substring(1, valueOutOfRegex.length() - 1); // remove the leading and trailing brackets\r\n    Map&lt;String, String&gt; simpleMap = Arrays.stream(valueWithRemovedBrackets.split(&quot;,&quot;)).collect(Collectors.toMap(s1 -&gt; s1.split(&quot;:&quot;)[0].trim(), s1 -&gt; s1.split(&quot;:&quot;)[1]));  // collect into a Map\r\n\r\nThis will give you a Map&lt;String, String&gt; that looks like this:\r\n\r\n    {total=330 ms, fulfilled requests=329 ms, material requests=0 ms, start=0 ms, sum responses=1 ms}\r\n\r\n","title":"how to read sub string containing a key and value of a string containing square brackets using java","body":"<p>Given that you've already parsed out the values into a String, you can simply split and collect them into a Map&lt;String, String&gt;.</p>\n<pre><code>String valueOutOfRegex = &quot;[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]&quot;; // Your String that you've parsed\nString valueWithRemovedBrackets = valueOutOfRegex.substring(1, valueOutOfRegex.length() - 1); // remove the leading and trailing brackets\nMap&lt;String, String&gt; simpleMap = Arrays.stream(valueWithRemovedBrackets.split(&quot;,&quot;)).collect(Collectors.toMap(s1 -&gt; s1.split(&quot;:&quot;)[0].trim(), s1 -&gt; s1.split(&quot;:&quot;)[1]));  // collect into a Map\n</code></pre>\n<p>This will give you a Map&lt;String, String&gt; that looks like this:</p>\n<pre><code>{total=330 ms, fulfilled requests=329 ms, material requests=0 ms, start=0 ms, sum responses=1 ms}\n</code></pre>\n"}],"owner":{"account_id":8817595,"reputation":33,"user_id":6588518,"display_name":"Dominic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1669805697,"accepted_answer_id":74537632,"answer_count":1,"score":0,"last_activity_date":1680094021,"creation_date":1669140698,"question_id":74537293,"body_markdown":"Have got following string reading the docker logs   \r\nExample:\r\n```none\r\nxmen logging; xmenID=642c7ded-2fef-4aa3-ba08-0b6ab7f7a5e0; period=[name:search, actions:[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]]\r\n```\r\nAnd using the regex and have got following string\r\n```none\r\n[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]\r\n```\r\nHow to fetch the values of `start` and `material requests` in order to check that their values are not less than zero (using java)?","title":"how to read sub string containing a key and value of a string containing square brackets using java","body":"<p>Have got following string reading the docker logs<br />\nExample:</p>\n<pre class=\"lang-none prettyprint-override\"><code>xmen logging; xmenID=642c7ded-2fef-4aa3-ba08-0b6ab7f7a5e0; period=[name:search, actions:[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]]\n</code></pre>\n<p>And using the regex and have got following string</p>\n<pre class=\"lang-none prettyprint-override\"><code>[start:0 ms, material requests:0 ms, fulfilled requests:329 ms, sum responses:1 ms, total:330 ms]\n</code></pre>\n<p>How to fetch the values of <code>start</code> and <code>material requests</code> in order to check that their values are not less than zero (using java)?</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-stream","amazon-kinesis"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1680061282,"post_id":75872643,"comment_id":133831137,"body_markdown":"Adding your dependencies (build.gradle or pom.xml) would also be helpful","body":"Adding your dependencies (build.gradle or pom.xml) would also be helpful"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680093969,"creation_date":1680093969,"answer_id":75877422,"question_id":75872643,"body_markdown":"Use `StreamBridge` to send arbitrary messages. `Supplier&lt;?&gt;` is for a polled message source.\r\n\r\nhttps://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources","title":"Spring Cloud Stream 3.1 sending event","body":"<p>Use <code>StreamBridge</code> to send arbitrary messages. <code>Supplier&lt;?&gt;</code> is for a polled message source.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources</a></p>\n"}],"owner":{"account_id":18802709,"reputation":51,"user_id":13712704,"display_name":"shrek_23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680093969,"creation_date":1680057420,"question_id":75872643,"body_markdown":"I&#39;m in the process of upgrading a service from spring cloud stream 2.0 to 3.1\r\n\r\nPreviously for publishing to a Kinesis stream I had\r\n```\r\n@Component\r\npublic class KinesisStreamService {\r\n    private final Log logger = LogFactory.getLog(this.getClass());\r\n    private StreamProcessor orderOut;\r\n\r\n    @Autowired\r\n    public KinesisStreamService(StreamProcessor orderOut) {\r\n        this.orderOut = orderOut;\r\n    }\r\n\r\n    public void send(String event) {\r\n        if (event != null) {\r\n            this.orderOut.ordersOut().send(new GenericMessage(event));\r\n            this.logger.debug(&quot;Event sent KinesisInStreamServiceImpl : &quot; + event);\r\n        } else {\r\n            throw new RuntimeException(&quot;Event can not be null&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n@Service\r\npublic interface StreamProcessor {\r\n    String INPUT = &quot;ordersIn&quot;;\r\n\r\n    @Output\r\n    MessageChannel ordersOut();\r\n\r\n    @Input\r\n    SubscribableChannel ordersIn();\r\n}\r\n\r\n```\r\nNow `@Ouput` has been depreciated in favor functional programming in 3.1\r\n\r\nhttps://stackoverflow.com/questions/65576021/enablebinding-deprecated-as-of-3-1-in-favor-of-functional-programming-model, mentions creating a Supplier bean\r\nlike\r\n```\r\n@Service\r\nclass PubSubSendQueue {\r\n    @Bean\r\n    public Supplier&lt;String&gt; output(){\r\n        return Supplier { &quot;Adam&quot; }\r\n    }\r\n}\r\n```\r\nBut how would I define a Supplier bean, given I would need to pass in an argument to the bean definition function at run time\r\nWould lazy initialization of the bean be an appropriate solution.\r\nSomething like\r\n```\r\n    @Bean\r\n    @Lazy\r\n    public Supplier&lt;GenericMessage&gt; ordersOut(String event) {\r\n        return () -&gt; new GenericMessage(event);\r\n    }\r\n```\r\n\r\ndependencies are\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.apache.activemq:activemq-broker:5.17.2&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk:1.12.310&#39;\r\n    implementation &#39;com.amazonaws:amazon-sqs-java-messaging-lib:1.1.0&#39;\r\n    implementation &#39;org.springframework.integration:spring-integration-aws:2.5.4&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0&#39;\r\n    implementation &#39;org.springframework:spring-web:6.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter:3.0.5&#39;\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.3.0&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.6&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:2.3.6&#39;\r\n    implementation &#39;javax.activation:activation:1.1.1&#39;\r\n    implementation &#39;org.apache.httpcomponents.client5:httpclient5:5.2.1&#39;\r\n    testImplementation &#39;org.codehaus.groovy:groovy-all:2.5.18&#39;\r\n    testImplementation &#39;org.spockframework:spock-spring:1.3-groovy-2.5&#39;\r\n    testImplementation &#39;org.spockframework:spock-core:1.3-groovy-2.5&#39;\r\n    testImplementation &#39;org.springframework:spring-test:6.0.0&#39;\r\n    implementation &#39;cglib:cglib-nodep:3.2.7&#39;\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-jms&#39;, version: &#39;6.0.0&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.14.0-rc1&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-cbor&#39;, version: &#39;2.13.4&#39;\r\n    implementation &#39;javax.jms:javax.jms-api:2.0.1&#39;\r\n    implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\r\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\r\n```","title":"Spring Cloud Stream 3.1 sending event","body":"<p>I'm in the process of upgrading a service from spring cloud stream 2.0 to 3.1</p>\n<p>Previously for publishing to a Kinesis stream I had</p>\n<pre><code>@Component\npublic class KinesisStreamService {\n    private final Log logger = LogFactory.getLog(this.getClass());\n    private StreamProcessor orderOut;\n\n    @Autowired\n    public KinesisStreamService(StreamProcessor orderOut) {\n        this.orderOut = orderOut;\n    }\n\n    public void send(String event) {\n        if (event != null) {\n            this.orderOut.ordersOut().send(new GenericMessage(event));\n            this.logger.debug(&quot;Event sent KinesisInStreamServiceImpl : &quot; + event);\n        } else {\n            throw new RuntimeException(&quot;Event can not be null&quot;);\n        }\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic interface StreamProcessor {\n    String INPUT = &quot;ordersIn&quot;;\n\n    @Output\n    MessageChannel ordersOut();\n\n    @Input\n    SubscribableChannel ordersIn();\n}\n\n</code></pre>\n<p>Now <code>@Ouput</code> has been depreciated in favor functional programming in 3.1</p>\n<p><a href=\"https://stackoverflow.com/questions/65576021/enablebinding-deprecated-as-of-3-1-in-favor-of-functional-programming-model\">@EnableBinding @deprecated as of 3.1 in favor of functional programming model</a>, mentions creating a Supplier bean\nlike</p>\n<pre><code>@Service\nclass PubSubSendQueue {\n    @Bean\n    public Supplier&lt;String&gt; output(){\n        return Supplier { &quot;Adam&quot; }\n    }\n}\n</code></pre>\n<p>But how would I define a Supplier bean, given I would need to pass in an argument to the bean definition function at run time\nWould lazy initialization of the bean be an appropriate solution.\nSomething like</p>\n<pre><code>    @Bean\n    @Lazy\n    public Supplier&lt;GenericMessage&gt; ordersOut(String event) {\n        return () -&gt; new GenericMessage(event);\n    }\n</code></pre>\n<p>dependencies are</p>\n<pre><code>dependencies {\n    implementation 'org.apache.activemq:activemq-broker:5.17.2'\n    implementation 'com.amazonaws:aws-java-sdk:1.12.310'\n    implementation 'com.amazonaws:amazon-sqs-java-messaging-lib:1.1.0'\n    implementation 'org.springframework.integration:spring-integration-aws:2.5.4'\n    implementation 'org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0'\n    implementation 'org.springframework:spring-web:6.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter:3.0.5'\n    implementation 'javax.xml.bind:jaxb-api:2.3.0'\n    implementation 'com.sun.xml.bind:jaxb-impl:2.3.6'\n    implementation 'org.glassfish.jaxb:jaxb-runtime:2.3.6'\n    implementation 'javax.activation:activation:1.1.1'\n    implementation 'org.apache.httpcomponents.client5:httpclient5:5.2.1'\n    testImplementation 'org.codehaus.groovy:groovy-all:2.5.18'\n    testImplementation 'org.spockframework:spock-spring:1.3-groovy-2.5'\n    testImplementation 'org.spockframework:spock-core:1.3-groovy-2.5'\n    testImplementation 'org.springframework:spring-test:6.0.0'\n    implementation 'cglib:cglib-nodep:3.2.7'\n    implementation group: 'org.springframework', name: 'spring-jms', version: '6.0.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.14.0-rc1'\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-cbor', version: '2.13.4'\n    implementation 'javax.jms:javax.jms-api:2.0.1'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\n</code></pre>\n"},{"tags":["java","azure","azure-cosmosdb","azureservicebus","azure-storage-queues"],"answers":[{"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680093271,"creation_date":1680093271,"answer_id":75877288,"question_id":75583571,"body_markdown":"I&#39;m not 100% sure about the error message itself but looks like you are returning a log message instead of a JSON string of the document. Refer [this example][1] from the docs and the same of which can be done using a Service Bus Queue Trigger as well.\r\n\r\nHere is the code sample from the docs for reference\r\n\r\n```java\r\n@FunctionName(&quot;getItem&quot;)\r\n@CosmosDBOutput(name = &quot;database&quot;,\r\n  databaseName = &quot;ToDoList&quot;,\r\n  collectionName = &quot;Items&quot;,\r\n  connectionStringSetting = &quot;AzureCosmosDBConnection&quot;)\r\npublic String cosmosDbQueryById(\r\n    @QueueTrigger(name = &quot;msg&quot;,\r\n      queueName = &quot;myqueue-items&quot;,\r\n      connection = &quot;AzureWebJobsStorage&quot;)\r\n    String message,\r\n    final ExecutionContext context)  {\r\n     return &quot;{ id: \\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;, Description: &quot; + message + &quot; }&quot;;\r\n   }\r\n```\r\n\r\nIf you need to store the envelope object as is, you should just return it directly as a JSON string.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2-output?tabs=in-process%2Cfunctionsv2&amp;pivots=programming-language-java#queue-trigger-save-message-to-database-via-return-value","title":"Azure Storage Queue to Cosmos DB","body":"<p>I'm not 100% sure about the error message itself but looks like you are returning a log message instead of a JSON string of the document. Refer <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2-output?tabs=in-process%2Cfunctionsv2&amp;pivots=programming-language-java#queue-trigger-save-message-to-database-via-return-value\" rel=\"nofollow noreferrer\">this example</a> from the docs and the same of which can be done using a Service Bus Queue Trigger as well.</p>\n<p>Here is the code sample from the docs for reference</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionName(&quot;getItem&quot;)\n@CosmosDBOutput(name = &quot;database&quot;,\n  databaseName = &quot;ToDoList&quot;,\n  collectionName = &quot;Items&quot;,\n  connectionStringSetting = &quot;AzureCosmosDBConnection&quot;)\npublic String cosmosDbQueryById(\n    @QueueTrigger(name = &quot;msg&quot;,\n      queueName = &quot;myqueue-items&quot;,\n      connection = &quot;AzureWebJobsStorage&quot;)\n    String message,\n    final ExecutionContext context)  {\n     return &quot;{ id: \\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;, Description: &quot; + message + &quot; }&quot;;\n   }\n</code></pre>\n<p>If you need to store the envelope object as is, you should just return it directly as a JSON string.</p>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680093271,"creation_date":1677518251,"question_id":75583571,"body_markdown":"I am trying to receive a payload from a http trigger and send payload with an envelope to the Service Bus and eventually Cosmos DB so I can perform CRUD operations.\r\n\r\nThe payload is properly received and given an envelope and the envelope is properly sent to and received from the Service Bus. Unfortunately I have not been able to figure out how to send a message from the Service Bus to Cosmos DB without a brand new http trigger so I have resorted to trying to set up a Storage Queue in order to send the message. If it is possible to do this with a Service Bus, please let me know how. Otherwise, I have no clue why I am getting this error when running my program. Below are all of the code segments and error messages:\r\n\r\nHandler.java:\r\n```\r\nimport java.util.*;\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\n\r\npublic class Handler {\r\n\r\n    @FunctionName(&quot;HttpHandler&quot;)\r\n    public HttpResponseMessage runHttp(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\r\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\r\n        try {\r\n        \r\n            // request to String (payload)\r\n            String request = req.getBody().get();\r\n            // build Envelope\r\n            MessageEnvelope env = cf.buildEnvelope(request, context);\r\n            // log \r\n            CfLog envelope = cf.log(env, context, request);\r\n            // send envelope to Service Bus Queue\r\n            ServiceBusSend.send(envelope);\r\n            // send envelope to Storage Queue\r\n            context.getLogger().info(StorageQueueSend.send(envelope));\r\n            // Create in Cosmos\r\n            //context.getLogger().info(CosmosOperation.create(envelope, context));\r\n            \r\n            context.getLogger().info(&quot;Made it 1&quot;);\r\n            return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\r\n        } catch (Exception e) {\r\n            // log the exception\r\n            context.getLogger().severe(e.toString());\r\n            return req.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;).build();\r\n        }\r\n    }\r\n\r\n    @FunctionName(&quot;ReceiveFromQueue&quot;)\r\n    public void runReceiveFromQueue(\r\n            @ServiceBusQueueTrigger(name= &quot;envelope&quot;, queueName = &quot;hyperscalerapi-queue&quot;, connection = &quot;hyperScalerAPIServiceBus&quot;)\r\n            CfLog envelope, final ExecutionContext context) {\r\n        try {       \r\n            context.getLogger().info(envelope.toString());\r\n            context.getLogger().info(&quot;Made it 2&quot;);\r\n            // Cosmos DB upload\r\n\r\n        } catch (Exception e) {\r\n            context.getLogger().severe(&quot;An error occurred while processing the message: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}`\r\n```\r\n\r\nStorageQueueSend.java:\r\n```\r\nimport com.azure.storage.queue.QueueClientBuilder;\r\nimport com.azure.storage.queue.models.QueueStorageException;\r\n\r\nimport org.mozilla.javascript.tools.shell.Environment;\r\n\r\nimport com.azure.storage.queue.QueueClient;\r\n\r\npublic class StorageQueueSend {\r\n    public static String send(CfLog envelope) {\r\n        try{\r\n            System.out.println(System.getenv(&quot;hyperScalerAPIStorageQueue&quot;));\r\n            QueueClient queueClient = new QueueClientBuilder()\r\n                                            .connectionString(System.getenv(&quot;hyperScalerAPIStorageQueue&quot;))\r\n                                            .queueName(&quot;hyperscalerapistorage-queue&quot;)\r\n                                            .buildClient();\r\n            queueClient.sendMessage(envelope.toString());\r\n            return &quot;Envelope added to storage queue\\n&quot;;\r\n        } catch(QueueStorageException e) {\r\n            return e.getMessage();\r\n        }\r\n    }\r\n}`\r\n```\r\nCosmosOperation.java (function currently commented out because above function doesn&#39;t work):\r\n```\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\nimport java.util.*;\r\nimport java.util.logging.*;\r\nimport com.microsoft.azure.documentdb.Document;\r\n\r\n/**\r\n * Azure Functions in Java with Cosmos DB Trigger.\r\n */\r\npublic class CosmosOperation {\r\n    @FunctionName(&quot;create&quot;)\r\n    @CosmosDBOutput(name = &quot;database&quot;, databaseName = &quot;hyperscalerapi-cosmos-dev&quot;, collectionName = &quot;Items&quot;,\r\n            connectionStringSetting = &quot;cosmosDBConnectionString&quot;)\r\n        public static String create (\r\n            @QueueTrigger(name = &quot;envelope&quot;, queueName = &quot;hyperscalerapi-queue&quot;,\r\n            connection = &quot;hyperScalerAPIStorageQueue&quot;) CfLog envelope,\r\n            final ExecutionContext context) {\r\n                return &quot;Payload: &quot; + envelope.getPayload() + &quot;\\nWith ID: &quot; + \r\n                envelope.getExecution().getCorrelationId() + &quot;added to Cosmos DB&quot;;\r\n            }\r\n}`\r\n```\r\nError messages when running (never actually completes run, I have to terminate):\r\n```none\r\n[2023-02-27T17:12:43.295Z] Function &quot;ReceiveFromQueue&quot; (Id: ece2405b-1ddf-4f48-a1d9-9d35f4fe4d83) invoked by Java Worker\r\n[2023-02-27T17:12:43.386Z] Executed &#39;Functions.ReceiveFromQueue&#39; (Succeeded, Id=ece2405b-1ddf-4f48-a1d9-9d35f4fe4d83, Duration=173ms)\r\n[2023-02-27T17:12:44.571Z] Feb 27, 2023 12:12:44 PM io.netty.channel.ChannelInitializer exceptionCaught\r\n[2023-02-27T17:12:44.576Z] WARNING: Failed to initialize a channel. Closing: [id: 0x62de8a42]\r\n[2023-02-27T17:12:44.578Z] java.lang.NoSuchMethodError: &#39;void io.netty.handler.codec.http.HttpClientCodec.&lt;init&gt;(int, int, int, boolean, boolean, int, boolean, boolean)&#39;\r\n...\r\n[2023-02-27T17:12:44.751Z]      at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:192)\r\n[2023-02-27T17:12:44.752Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n[2023-02-27T17:12:44.753Z]      at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:304)\r\n[2023-02-27T17:12:44.754Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n[2023-02-27T17:12:44.757Z]      at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172)\r\n[2023-02-27T17:12:44.760Z]      at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:445)\r\n[2023-02-27T17:12:44.762Z]      at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:400)\r\n[2023-02-27T17:12:44.765Z]      at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\r\n[2023-02-27T17:12:44.766Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n[2023-02-27T17:12:44.768Z]      at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:554)\r\n[2023-02-27T17:12:44.770Z]      at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n[2023-02-27T17:12:44.771Z]      at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n[2023-02-27T17:12:44.776Z]      at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n[2023-02-27T17:12:44.778Z]      at reactor.core.publisher.Operators.error(Operators.java:198)\r\n[2023-02-27T17:12:44.780Z]      at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n[2023-02-27T17:12:44.781Z]      at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n[2023-02-27T17:12:44.782Z]      at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n[2023-02-27T17:12:44.782Z]      at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:517)\r\n[2023-02-27T17:12:44.783Z]      at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:471)\r\n```\r\nThis is just a snippet of the error messages. It keeps going.","title":"Azure Storage Queue to Cosmos DB","body":"<p>I am trying to receive a payload from a http trigger and send payload with an envelope to the Service Bus and eventually Cosmos DB so I can perform CRUD operations.</p>\n<p>The payload is properly received and given an envelope and the envelope is properly sent to and received from the Service Bus. Unfortunately I have not been able to figure out how to send a message from the Service Bus to Cosmos DB without a brand new http trigger so I have resorted to trying to set up a Storage Queue in order to send the message. If it is possible to do this with a Service Bus, please let me know how. Otherwise, I have no clue why I am getting this error when running my program. Below are all of the code segments and error messages:</p>\n<p>Handler.java:</p>\n<pre><code>import java.util.*;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\n\npublic class Handler {\n\n    @FunctionName(&quot;HttpHandler&quot;)\n    public HttpResponseMessage runHttp(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\n        try {\n        \n            // request to String (payload)\n            String request = req.getBody().get();\n            // build Envelope\n            MessageEnvelope env = cf.buildEnvelope(request, context);\n            // log \n            CfLog envelope = cf.log(env, context, request);\n            // send envelope to Service Bus Queue\n            ServiceBusSend.send(envelope);\n            // send envelope to Storage Queue\n            context.getLogger().info(StorageQueueSend.send(envelope));\n            // Create in Cosmos\n            //context.getLogger().info(CosmosOperation.create(envelope, context));\n            \n            context.getLogger().info(&quot;Made it 1&quot;);\n            return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\n        } catch (Exception e) {\n            // log the exception\n            context.getLogger().severe(e.toString());\n            return req.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;).build();\n        }\n    }\n\n    @FunctionName(&quot;ReceiveFromQueue&quot;)\n    public void runReceiveFromQueue(\n            @ServiceBusQueueTrigger(name= &quot;envelope&quot;, queueName = &quot;hyperscalerapi-queue&quot;, connection = &quot;hyperScalerAPIServiceBus&quot;)\n            CfLog envelope, final ExecutionContext context) {\n        try {       \n            context.getLogger().info(envelope.toString());\n            context.getLogger().info(&quot;Made it 2&quot;);\n            // Cosmos DB upload\n\n        } catch (Exception e) {\n            context.getLogger().severe(&quot;An error occurred while processing the message: &quot; + e.getMessage());\n        }\n    }\n}`\n</code></pre>\n<p>StorageQueueSend.java:</p>\n<pre><code>import com.azure.storage.queue.QueueClientBuilder;\nimport com.azure.storage.queue.models.QueueStorageException;\n\nimport org.mozilla.javascript.tools.shell.Environment;\n\nimport com.azure.storage.queue.QueueClient;\n\npublic class StorageQueueSend {\n    public static String send(CfLog envelope) {\n        try{\n            System.out.println(System.getenv(&quot;hyperScalerAPIStorageQueue&quot;));\n            QueueClient queueClient = new QueueClientBuilder()\n                                            .connectionString(System.getenv(&quot;hyperScalerAPIStorageQueue&quot;))\n                                            .queueName(&quot;hyperscalerapistorage-queue&quot;)\n                                            .buildClient();\n            queueClient.sendMessage(envelope.toString());\n            return &quot;Envelope added to storage queue\\n&quot;;\n        } catch(QueueStorageException e) {\n            return e.getMessage();\n        }\n    }\n}`\n</code></pre>\n<p>CosmosOperation.java (function currently commented out because above function doesn't work):</p>\n<pre><code>import com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\nimport java.util.*;\nimport java.util.logging.*;\nimport com.microsoft.azure.documentdb.Document;\n\n/**\n * Azure Functions in Java with Cosmos DB Trigger.\n */\npublic class CosmosOperation {\n    @FunctionName(&quot;create&quot;)\n    @CosmosDBOutput(name = &quot;database&quot;, databaseName = &quot;hyperscalerapi-cosmos-dev&quot;, collectionName = &quot;Items&quot;,\n            connectionStringSetting = &quot;cosmosDBConnectionString&quot;)\n        public static String create (\n            @QueueTrigger(name = &quot;envelope&quot;, queueName = &quot;hyperscalerapi-queue&quot;,\n            connection = &quot;hyperScalerAPIStorageQueue&quot;) CfLog envelope,\n            final ExecutionContext context) {\n                return &quot;Payload: &quot; + envelope.getPayload() + &quot;\\nWith ID: &quot; + \n                envelope.getExecution().getCorrelationId() + &quot;added to Cosmos DB&quot;;\n            }\n}`\n</code></pre>\n<p>Error messages when running (never actually completes run, I have to terminate):</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-02-27T17:12:43.295Z] Function &quot;ReceiveFromQueue&quot; (Id: ece2405b-1ddf-4f48-a1d9-9d35f4fe4d83) invoked by Java Worker\n[2023-02-27T17:12:43.386Z] Executed 'Functions.ReceiveFromQueue' (Succeeded, Id=ece2405b-1ddf-4f48-a1d9-9d35f4fe4d83, Duration=173ms)\n[2023-02-27T17:12:44.571Z] Feb 27, 2023 12:12:44 PM io.netty.channel.ChannelInitializer exceptionCaught\n[2023-02-27T17:12:44.576Z] WARNING: Failed to initialize a channel. Closing: [id: 0x62de8a42]\n[2023-02-27T17:12:44.578Z] java.lang.NoSuchMethodError: 'void io.netty.handler.codec.http.HttpClientCodec.&lt;init&gt;(int, int, int, boolean, boolean, int, boolean, boolean)'\n...\n[2023-02-27T17:12:44.751Z]      at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:192)\n[2023-02-27T17:12:44.752Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n[2023-02-27T17:12:44.753Z]      at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:304)\n[2023-02-27T17:12:44.754Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n[2023-02-27T17:12:44.757Z]      at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172)\n[2023-02-27T17:12:44.760Z]      at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:445)\n[2023-02-27T17:12:44.762Z]      at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:400)\n[2023-02-27T17:12:44.765Z]      at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\n[2023-02-27T17:12:44.766Z]      at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n[2023-02-27T17:12:44.768Z]      at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:554)\n[2023-02-27T17:12:44.770Z]      at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n[2023-02-27T17:12:44.771Z]      at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n[2023-02-27T17:12:44.776Z]      at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n[2023-02-27T17:12:44.778Z]      at reactor.core.publisher.Operators.error(Operators.java:198)\n[2023-02-27T17:12:44.780Z]      at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n[2023-02-27T17:12:44.781Z]      at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n[2023-02-27T17:12:44.782Z]      at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n[2023-02-27T17:12:44.782Z]      at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:517)\n[2023-02-27T17:12:44.783Z]      at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:471)\n</code></pre>\n<p>This is just a snippet of the error messages. It keeps going.</p>\n"},{"tags":["java","spring-boot","docker","debugging"],"comments":[{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1680093297,"post_id":75877224,"comment_id":133838129,"body_markdown":"Did you do k8s port-forwarding?","body":"Did you do k8s port-forwarding?"},{"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"score":0,"creation_date":1680093811,"post_id":75877224,"comment_id":133838304,"body_markdown":"@TsvetoslavTsvetkov no I didn&#39;t","body":"@TsvetoslavTsvetkov no I didn&#39;t"},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1680096046,"post_id":75877224,"comment_id":133838986,"body_markdown":"try out with - kubectl port-forward &lt;&lt;POD_NAME&gt;&gt; 5005:5005","body":"try out with - kubectl port-forward &lt;&lt;POD_NAME&gt;&gt; 5005:5005"}],"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680093017,"creation_date":1680093017,"question_id":75877224,"body_markdown":"I have spring boot service. i need to debug the service. but it is in docker container. \r\n\r\nI followed the guide lines from [here][1] but unfortunately I end up with some error. \r\n\r\nMy docker compose \r\n\r\n    version: &#39;3.3&#39;\r\n    services:\r\n      #Retaining mongo configuration even though we dont have repository\r\n      mongo:\r\n        image: mongo:3.6\r\n        ports:\r\n        - &quot;27017:27017&quot;\r\n        environment:\r\n          MONGO_INITDB_ROOT_USERNAME: root\r\n          MONGO_INITDB_ROOT_PASSWORD: root\r\n      rabbitmq:\r\n        image: rabbitmq:management\r\n        ports:\r\n        - &quot;5672:5672&quot;\r\n        - &quot;5671:5671&quot;\r\n        - &quot;15672:15672&quot;\r\n        environment:\r\n          RABBITMQ_DEFAULT_USER: root\r\n          RABBITMQ_DEFAULT_PASS: root\r\n      csig-generation:\r\n        build: .\r\n        container_name: &quot;docker-app&quot;\r\n        ports:\r\n          - &#39;8080:8080&#39;\r\n          - &#39;5005:5005&#39;\r\n        environment:\r\n          - JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\r\n\r\nDebug configuration in intellij\r\n\r\n[![enter image description here][2]][2]\r\n\r\nRunning docker details\r\n[![enter image description here][3]][3]\r\n\r\nAfter attaching the debugger in intellij. the below output is got.\r\n&gt;Connected to the target VM, address: &#39;localhost:5005&#39;, transport: &#39;socket&#39;\r\n\r\nBut when I am trying to access the  API URL `http://localhost:8080/test/amtest` getting below error. Can anyone spot what is the mistake I did here.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://ckinan.com/blog/remote-debug-spring-boot-docker-intellij/\r\n  [2]: https://i.stack.imgur.com/TOUnV.png\r\n  [3]: https://i.stack.imgur.com/sUVpL.png\r\n  [4]: https://i.stack.imgur.com/wTxXc.png","title":"Spring boot debug through the docker container","body":"<p>I have spring boot service. i need to debug the service. but it is in docker container.</p>\n<p>I followed the guide lines from <a href=\"https://ckinan.com/blog/remote-debug-spring-boot-docker-intellij/\" rel=\"nofollow noreferrer\">here</a> but unfortunately I end up with some error.</p>\n<p>My docker compose</p>\n<pre><code>version: '3.3'\nservices:\n  #Retaining mongo configuration even though we dont have repository\n  mongo:\n    image: mongo:3.6\n    ports:\n    - &quot;27017:27017&quot;\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: root\n  rabbitmq:\n    image: rabbitmq:management\n    ports:\n    - &quot;5672:5672&quot;\n    - &quot;5671:5671&quot;\n    - &quot;15672:15672&quot;\n    environment:\n      RABBITMQ_DEFAULT_USER: root\n      RABBITMQ_DEFAULT_PASS: root\n  csig-generation:\n    build: .\n    container_name: &quot;docker-app&quot;\n    ports:\n      - '8080:8080'\n      - '5005:5005'\n    environment:\n      - JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n</code></pre>\n<p>Debug configuration in intellij</p>\n<p><a href=\"https://i.stack.imgur.com/TOUnV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TOUnV.png\" alt=\"enter image description here\" /></a></p>\n<p>Running docker details\n<a href=\"https://i.stack.imgur.com/sUVpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUVpL.png\" alt=\"enter image description here\" /></a></p>\n<p>After attaching the debugger in intellij. the below output is got.</p>\n<blockquote>\n<p>Connected to the target VM, address: 'localhost:5005', transport: 'socket'</p>\n</blockquote>\n<p>But when I am trying to access the  API URL <code>http://localhost:8080/test/amtest</code> getting below error. Can anyone spot what is the mistake I did here.</p>\n<p><a href=\"https://i.stack.imgur.com/wTxXc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTxXc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680075878,"post_id":75874240,"comment_id":133833627,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting/index.html</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680078282,"post_id":75874240,"comment_id":133834195,"body_markdown":"You never call draw (from paintComponent) and repaint from actionPerformed","body":"You never call draw (from paintComponent) and repaint from actionPerformed"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680087343,"post_id":75874240,"comment_id":133836525,"body_markdown":"Perhaps this explanation from another [question about a Java Snake game](https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365) will be helpful to you.","body":"Perhaps this explanation from another <a href=\"https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365\">question about a Java Snake game</a> will be helpful to you."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680092183,"creation_date":1680092183,"answer_id":75877082,"question_id":75874240,"body_markdown":"As was stated in the comments.  Some action is performed which here is to call `repaint()`.  That then causes `paintComponent` to be called which will draw the grid.\r\n```\r\npublic void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        draw(g); //&lt;-- added\r\n}\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n      repaint(); // &lt;--  added\r\n        \r\n}","title":"Graphics are not showing up in java swing window","body":"<p>As was stated in the comments.  Some action is performed which here is to call <code>repaint()</code>.  That then causes <code>paintComponent</code> to be called which will draw the grid.</p>\n<pre><code>public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        draw(g); //&lt;-- added\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n      repaint(); // &lt;--  added\n        \n}\n</code></pre>\n"}],"owner":{"account_id":28155485,"reputation":1,"user_id":21516279,"display_name":"Evan Schulte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680092798,"creation_date":1680074357,"question_id":75874240,"body_markdown":"When I try and draw a grid in the window or draw a random at a random location, neither show up. The only thing I seem to be able to change is the background color. \r\n\r\nHere is the code for the program:\r\n\r\nSnakeGame:\r\n```java\r\npublic class SnakeGame {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew GameFrame();\r\n\t}\r\n}\r\n```\r\n\r\nGameFrame:\r\n```java\r\nimport javax.swing.JFrame;\r\n\r\npublic class GameFrame extends JFrame {\r\n\r\n\tGameFrame() {\r\n\t\tthis.add(new GamePanel());\r\n\t\tthis.setTitle(&quot;Snake&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setResizable(false);\r\n\t\tthis.pack();\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t}\r\n}\r\n```\r\nGamePanel:\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.util.Random;\r\n\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\tstatic final int SCREEN_WIDTH = 600;\r\n\tstatic final int SCREEN_HEIGHT = 600;\r\n\tstatic final int UNIT_SIZE = 25;\r\n\tstatic final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\r\n\tstatic final int DELAY = 75;\r\n\tfinal int x[] = new int[GAME_UNITS];\r\n\tfinal int y[] = new int[GAME_UNITS];\r\n\tint bodyParts = 6;\r\n\tint applesEaten;\r\n\tint appleX;\r\n\tint appleY;\r\n\tchar direction = &#39;R&#39;;\r\n\tboolean running = false;\r\n\tTimer timer;\r\n\tRandom random;\r\n\t\r\n\tGamePanel() {\r\n\t\trandom = new Random();\r\n\t\tthis.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setFocusable(true);\r\n\t\tthis.addKeyListener(new MyKeyAdapter());\r\n\t\tstartGame();\r\n\t}\r\n\t\r\n\tpublic void startGame() {\r\n\t\tnewApple();\r\n\t\trunning = true;\r\n\t\ttimer = new Timer(DELAY,this);\r\n\t\ttimer.start();\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t}\r\n\t\r\n\tpublic void draw(Graphics g) {\r\n\t\tfor (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\r\n\t\t\tg.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\r\n\t\t\tg.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\r\n\t\t}\r\n\t\tg.setColor(Color.red);\r\n\t\tg.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\r\n\t}\r\n\t\r\n\tpublic void newApple() {\r\n\t\tappleX = random.nextInt((int)(SCREEN_WIDTH / UNIT_SIZE)) * UNIT_SIZE;\r\n\t\tappleX = random.nextInt((int)(SCREEN_HEIGHT / UNIT_SIZE)) * UNIT_SIZE;\r\n\t}\r\n\t\r\n\tpublic void move() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void checkApple() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void checkCollisions() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void gameOver(Graphics g) {\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t}\r\n\t\r\n\tpublic class MyKeyAdapter extends KeyAdapter {\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI tried using the `drawLine()`, `setColor()`, and `fillOval()` methods to draw a grid and make an &quot;apple&quot; but, when I do, nothing is shown in the window and all I see is the empty window with whichever background color I chose.\r\n```\r\ntype here\r\n```\r\n","title":"Graphics are not showing up in java swing window","body":"<p>When I try and draw a grid in the window or draw a random at a random location, neither show up. The only thing I seem to be able to change is the background color.</p>\n<p>Here is the code for the program:</p>\n<p>SnakeGame:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SnakeGame {\n\n    public static void main(String[] args) {\n        new GameFrame();\n    }\n}\n</code></pre>\n<p>GameFrame:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\n\npublic class GameFrame extends JFrame {\n\n    GameFrame() {\n        this.add(new GamePanel());\n        this.setTitle(&quot;Snake&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.pack();\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n    }\n}\n</code></pre>\n<p>GamePanel:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.Random;\n\npublic class GamePanel extends JPanel implements ActionListener {\n    static final int SCREEN_WIDTH = 600;\n    static final int SCREEN_HEIGHT = 600;\n    static final int UNIT_SIZE = 25;\n    static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\n    static final int DELAY = 75;\n    final int x[] = new int[GAME_UNITS];\n    final int y[] = new int[GAME_UNITS];\n    int bodyParts = 6;\n    int applesEaten;\n    int appleX;\n    int appleY;\n    char direction = 'R';\n    boolean running = false;\n    Timer timer;\n    Random random;\n    \n    GamePanel() {\n        random = new Random();\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        this.setBackground(Color.black);\n        this.setFocusable(true);\n        this.addKeyListener(new MyKeyAdapter());\n        startGame();\n    }\n    \n    public void startGame() {\n        newApple();\n        running = true;\n        timer = new Timer(DELAY,this);\n        timer.start();\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n    }\n    \n    public void draw(Graphics g) {\n        for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\n            g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\n            g.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\n        }\n        g.setColor(Color.red);\n        g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\n    }\n    \n    public void newApple() {\n        appleX = random.nextInt((int)(SCREEN_WIDTH / UNIT_SIZE)) * UNIT_SIZE;\n        appleX = random.nextInt((int)(SCREEN_HEIGHT / UNIT_SIZE)) * UNIT_SIZE;\n    }\n    \n    public void move() {\n        \n    }\n    \n    public void checkApple() {\n        \n    }\n    \n    public void checkCollisions() {\n        \n    }\n    \n    public void gameOver(Graphics g) {\n        \n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n    }\n    \n    public class MyKeyAdapter extends KeyAdapter {\n        @Override\n        public void keyPressed(KeyEvent e) {\n            \n        }\n    }\n}\n</code></pre>\n<p>I tried using the <code>drawLine()</code>, <code>setColor()</code>, and <code>fillOval()</code> methods to draw a grid and make an &quot;apple&quot; but, when I do, nothing is shown in the window and all I see is the empty window with whichever background color I chose.</p>\n<pre><code>type here\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1680092043,"post_id":75877047,"comment_id":133837718,"body_markdown":"Well `jmrtd-0.7.36.jar` is clearly not a classname, so of course it can&#39;t find it.","body":"Well <code>jmrtd-0.7.36.jar</code> is clearly not a classname, so of course it can&#39;t find it."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1680092063,"post_id":75877047,"comment_id":133837727,"body_markdown":"&quot;*When i run it through cmd*&quot; Using what command?","body":"&quot;<i>When i run it through cmd</i>&quot; Using what command?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1680092331,"post_id":75877047,"comment_id":133837822,"body_markdown":"Never heard of this thing, but from a little research it seems this is not an application. It&#39;s a library; you can&#39;t run it. It&#39;s a collection of classes designed to be used to build applications.","body":"Never heard of this thing, but from a little research it seems this is not an application. It&#39;s a library; you can&#39;t run it. It&#39;s a collection of classes designed to be used to build applications."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680092538,"post_id":75877047,"comment_id":133837902,"body_markdown":"Sounds like you wrote `java jmrtd-0.7.36.jar` when you should have written `java -jar jmrtd-0.7.36.jar`.","body":"Sounds like you wrote <code>java jmrtd-0.7.36.jar</code> when you should have written <code>java -jar jmrtd-0.7.36.jar</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680092728,"post_id":75877047,"comment_id":133837961,"body_markdown":"@Michael is right. That&#39;s not an app. It&#39;s an API","body":"@Michael is right. That&#39;s not an app. It&#39;s an API"},{"owner":{"account_id":28158050,"reputation":1,"user_id":21518476,"display_name":"ZeroNoc"},"score":0,"creation_date":1680094278,"post_id":75877047,"comment_id":133838431,"body_markdown":"Thanks guys, so what is needed to make it run?","body":"Thanks guys, so what is needed to make it run?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1680094360,"post_id":75877047,"comment_id":133838460,"body_markdown":"It won&#39;t ever run. It&#39;s not meant to. It&#39;s a *library*, an API. You need to understand what those words mean","body":"It won&#39;t ever run. It&#39;s not meant to. It&#39;s a <i>library</i>, an API. You need to understand what those words mean"}],"owner":{"account_id":28158050,"reputation":1,"user_id":21518476,"display_name":"ZeroNoc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680092553,"creation_date":1680092002,"question_id":75877047,"body_markdown":"I am trying to run an app downloaded from maven. When i run it through cmd i get this error: \r\n\r\n```none\r\nError: Could not find or load main class jmrtd-0.7.36.jar\r\n\r\nCaused by: java.lang.ClassNotFoundException: jmrtd-0.7.36.jar\r\n```\r\n\r\nDouble clicking and open it directly but it has dependencies and don&#39;t know how to put it together ","title":"How to run a jar with all it&#39;s dependecies downloaded from maven?","body":"<p>I am trying to run an app downloaded from maven. When i run it through cmd i get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: Could not find or load main class jmrtd-0.7.36.jar\n\nCaused by: java.lang.ClassNotFoundException: jmrtd-0.7.36.jar\n</code></pre>\n<p>Double clicking and open it directly but it has dependencies and don't know how to put it together</p>\n"},{"tags":["java","hibernate","orm"],"answers":[{"comments":[{"owner":{"account_id":31643,"reputation":14953,"user_id":87072,"accept_rate":83,"display_name":"Switch"},"score":0,"creation_date":1277291688,"post_id":3100990,"comment_id":3180084,"body_markdown":"it is set to class=&quot;assigned&quot; in .hbm file","body":"it is set to class=&quot;assigned&quot; in .hbm file"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1277293958,"post_id":3100990,"comment_id":3180380,"body_markdown":"@MMRUser can you clarify which field is marked as the &quot;id&quot; in your mapping?","body":"@MMRUser can you clarify which field is marked as the &quot;id&quot; in your mapping?"}],"tags":[],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1277290856,"creation_date":1277290856,"answer_id":3100990,"question_id":3100950,"body_markdown":"The Exception says that you have no value assigned to field marked with @id in the Employee class. How that this class look like? Are you trying to generate the Id values through one of the provided generators or would you like to set them manually?\r\n","title":"Hibernate | Identifier Generation Exception","body":"<p>The Exception says that you have no value assigned to field marked with @id in the Employee class. How that this class look like? Are you trying to generate the Id values through one of the provided generators or would you like to set them manually?</p>\n"},{"comments":[{"owner":{"account_id":3877614,"reputation":181,"user_id":6951847,"display_name":"erod"},"score":0,"creation_date":1581345056,"post_id":3101383,"comment_id":106390815,"body_markdown":"How to generate this configure with annotation?","body":"How to generate this configure with annotation?"}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1277294671,"creation_date":1277294671,"answer_id":3101383,"question_id":3100950,"body_markdown":"The exception message `ids for this class must be manually assigned before calling save()` is self explanatory. \r\n\r\nThis happens because you are using the `assigned` built-in generator. The `assigned` generator explicitly tells Hibernate that the application is going to assign the identifier. From the section [5.1.4.1. Generator][1]:\r\n\r\n&gt; lets the application assign an identifier to the object before `save()` is called. This is the default strategy if no `&lt;generator&gt;` element is specified. \r\n\r\nIf this is not what you want, use another generator, for example `native` (this \r\n*selects `identity`, `sequence` or `hilo` depending upon the capabilities of the underlying database*):\r\n\r\n    &lt;class name=&quot;LineItem&quot; table=&quot;`Line Item`&quot;&gt;\r\n      &lt;id name=&quot;id&quot; column=&quot;`Item Id`&quot;/&gt;\r\n        &lt;generator class=&quot;native&quot;/&gt;\r\n      &lt;/id&gt;\r\n      ...\r\n    &lt;/class&gt;\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-id-generator","title":"Hibernate | Identifier Generation Exception","body":"<p>The exception message <code>ids for this class must be manually assigned before calling save()</code> is self explanatory. </p>\n\n<p>This happens because you are using the <code>assigned</code> built-in generator. The <code>assigned</code> generator explicitly tells Hibernate that the application is going to assign the identifier. From the section <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-id-generator\" rel=\"nofollow noreferrer\">5.1.4.1. Generator</a>:</p>\n\n<blockquote>\n  <p>lets the application assign an identifier to the object before <code>save()</code> is called. This is the default strategy if no <code>&lt;generator&gt;</code> element is specified. </p>\n</blockquote>\n\n<p>If this is not what you want, use another generator, for example <code>native</code> (this \n<em>selects <code>identity</code>, <code>sequence</code> or <code>hilo</code> depending upon the capabilities of the underlying database</em>):</p>\n\n<pre><code>&lt;class name=\"LineItem\" table=\"`Line Item`\"&gt;\n  &lt;id name=\"id\" column=\"`Item Id`\"/&gt;\n    &lt;generator class=\"native\"/&gt;\n  &lt;/id&gt;\n  ...\n&lt;/class&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156573,"reputation":217,"user_id":373938,"accept_rate":71,"display_name":"Sonal Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405419691,"creation_date":1277295299,"answer_id":3101464,"question_id":3100950,"body_markdown":"Use following kind of code to save employee\r\nif this is not helpful please paste mapping file to know details of field empCode.\r\n\r\n    helper = new HibernateHelper();\r\n    Customer custObject;\r\n     if (customer.getId() == 0) {\r\n                    custObject = new Customer();\r\n                    custObject.setCreatetimestamp(new Timestamp(System.currentTimeMillis()));\r\n                } else {\r\n                    custObject = (Customer) helper.getSession().load(Customer.class, customer.getId());\r\n                }\r\n                custObject.setName(customer.getName());\r\n                custObject.setAddress(customer.getAddress());\r\n                custObject.setBillToAddress(customer.getBillToAddress());\r\n                custObject.setBillToPerson(customer.getBillToPerson());\r\n                custObject.setUpdatetimestamp(new Timestamp(System.currentTimeMillis()));\r\n                custObject.setEmail(customer.getEmail());\r\n                custObject.setDeleted(false);\r\n                Currency curr = (Currency) helper.getSession().load(Currency.class, x);\r\n                custObject.setCurrencyId(curr);\r\n    \r\n                custId = (Long) helper.getSession().save(custObject);\r\n                helper.commit();","title":"Hibernate | Identifier Generation Exception","body":"<p>Use following kind of code to save employee\nif this is not helpful please paste mapping file to know details of field empCode.</p>\n\n<pre><code>helper = new HibernateHelper();\nCustomer custObject;\n if (customer.getId() == 0) {\n                custObject = new Customer();\n                custObject.setCreatetimestamp(new Timestamp(System.currentTimeMillis()));\n            } else {\n                custObject = (Customer) helper.getSession().load(Customer.class, customer.getId());\n            }\n            custObject.setName(customer.getName());\n            custObject.setAddress(customer.getAddress());\n            custObject.setBillToAddress(customer.getBillToAddress());\n            custObject.setBillToPerson(customer.getBillToPerson());\n            custObject.setUpdatetimestamp(new Timestamp(System.currentTimeMillis()));\n            custObject.setEmail(customer.getEmail());\n            custObject.setDeleted(false);\n            Currency curr = (Currency) helper.getSession().load(Currency.class, x);\n            custObject.setCurrencyId(curr);\n\n            custId = (Long) helper.getSession().save(custObject);\n            helper.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13646162,"reputation":328,"user_id":9845110,"display_name":"rahulkesharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680092492,"creation_date":1680092492,"answer_id":75877138,"question_id":3100950,"body_markdown":"If you are using spring-boot JPA then you can simply add this annotation:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\nThis issue comes, when persistence layer doesn&#39;t have an option in place to generate/create value for primary key of the Entity in question. There are more options for primary key generation.\r\n\r\nYou can have a look at java docs for [GenerationType][1] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/GenerationType.html","title":"Hibernate | Identifier Generation Exception","body":"<p>If you are using spring-boot JPA then you can simply add this annotation:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n</code></pre>\n<p>This issue comes, when persistence layer doesn't have an option in place to generate/create value for primary key of the Entity in question. There are more options for primary key generation.</p>\n<p>You can have a look at java docs for <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/GenerationType.html\" rel=\"nofollow noreferrer\">GenerationType</a></p>\n"}],"owner":{"account_id":31643,"reputation":14953,"user_id":87072,"accept_rate":83,"display_name":"Switch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7978,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3101383,"answer_count":4,"score":2,"last_activity_date":1680092492,"creation_date":1277290359,"question_id":3100950,"body_markdown":"I&#39;m getting an exception when I try to save some data through hibernate persistence layer, the exception is\r\n\r\n    org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): hbm.Employee\r\n\r\n\r\n    public void saveEmployee(Employee empValue) {\r\n    \t\tSession session = null;\r\n    \t\tTransaction tx = null;\r\n    \t\tsession = HibernateSessionFactory.getSession();\r\n    \t\ttx = session.beginTransaction();\r\n    \t\tEmployee emp;\r\n    \t\tif (empValue.getEmpcode() != null) {\r\n    \t\t\temp = (Employee) session.get(Employee.class, empValue.getEmpcode());\r\n    \t\t\tif (emp != null) {\r\n    \t\t\t\tSystem.out.println(&quot;Test&quot;);\r\n    \t\t\t\temp.setEmpcode(empValue.getEmpcode());\r\n    \t\t\t\temp.setDepartment(createDepartment(&quot;DEEE&quot;));\r\n    \t\t\t\temp.setEmpfname(empValue.getEmpfname());\r\n    \t\t\t\temp.setEmplname(empValue.getEmplname());\r\n    \t\t\t\temp.setEmpdob(empValue.getEmpdob());\r\n    \t\t\t\temp.setEmpstatus(empValue.getEmpstatus());\r\n    \t\t\t\temp.setEmptelno(empValue.getEmptelno());\r\n    \t\t\t\temp.setAuditfield(empValue.getAuditfield());\r\n    \t\t\t\tsession.update(emp);\r\n    \t\t\t}\r\n    \t\t} else \r\n    \t\t{\r\n    \t\t\temp = new Employee();\r\n    \t\t\temp.setEmpcode(empValue.getEmpcode());\r\n    \t\t\temp.setDepartment(createDepartment(&quot;DEEE&quot;));\r\n    \t\t\temp.setEmpfname(empValue.getEmpfname());\r\n    \t\t\temp.setEmplname(empValue.getEmplname());\r\n    \t\t\temp.setEmpdob(empValue.getEmpdob());\r\n    \t\t\temp.setEmpstatus(empValue.getEmpstatus());\r\n    \t\t\temp.setEmptelno(empValue.getEmptelno());\r\n    \t\t\temp.setAuditfield(empValue.getAuditfield());\r\n    \t\t\tsession.save(emp);\r\n    \t\t}\r\n    \t\ttx.commit();\r\n    \t}\r\n\r\nas you can see the class get assigned within appropriate places, I&#39;m confused about the exception, expecting some help..","title":"Hibernate | Identifier Generation Exception","body":"<p>I'm getting an exception when I try to save some data through hibernate persistence layer, the exception is</p>\n\n<pre><code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): hbm.Employee\n\n\npublic void saveEmployee(Employee empValue) {\n        Session session = null;\n        Transaction tx = null;\n        session = HibernateSessionFactory.getSession();\n        tx = session.beginTransaction();\n        Employee emp;\n        if (empValue.getEmpcode() != null) {\n            emp = (Employee) session.get(Employee.class, empValue.getEmpcode());\n            if (emp != null) {\n                System.out.println(\"Test\");\n                emp.setEmpcode(empValue.getEmpcode());\n                emp.setDepartment(createDepartment(\"DEEE\"));\n                emp.setEmpfname(empValue.getEmpfname());\n                emp.setEmplname(empValue.getEmplname());\n                emp.setEmpdob(empValue.getEmpdob());\n                emp.setEmpstatus(empValue.getEmpstatus());\n                emp.setEmptelno(empValue.getEmptelno());\n                emp.setAuditfield(empValue.getAuditfield());\n                session.update(emp);\n            }\n        } else \n        {\n            emp = new Employee();\n            emp.setEmpcode(empValue.getEmpcode());\n            emp.setDepartment(createDepartment(\"DEEE\"));\n            emp.setEmpfname(empValue.getEmpfname());\n            emp.setEmplname(empValue.getEmplname());\n            emp.setEmpdob(empValue.getEmpdob());\n            emp.setEmpstatus(empValue.getEmpstatus());\n            emp.setEmptelno(empValue.getEmptelno());\n            emp.setAuditfield(empValue.getAuditfield());\n            session.save(emp);\n        }\n        tx.commit();\n    }\n</code></pre>\n\n<p>as you can see the class get assigned within appropriate places, I'm confused about the exception, expecting some help..</p>\n"},{"tags":["java","playframework"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1680288346,"post_id":75877106,"comment_id":133878864,"body_markdown":"Any chance you&#39;re using `InputStream` somewhere? We&#39;ve had same errors when using them with Akka stream, removing these usages removed the errors.","body":"Any chance you&#39;re using <code>InputStream</code> somewhere? We&#39;ve had same errors when using them with Akka stream, removing these usages removed the errors."},{"owner":{"account_id":318349,"reputation":1623,"user_id":635524,"accept_rate":25,"display_name":"archie_by"},"score":0,"creation_date":1681220121,"post_id":75877106,"comment_id":134018688,"body_markdown":"no, the code we are using is almost identical to what is provided for the ForwardingBodyParser in the Play user guide. We are just altering a couple of headers. That&#39;s it","body":"no, the code we are using is almost identical to what is provided for the ForwardingBodyParser in the Play user guide. We are just altering a couple of headers. That&#39;s it"}],"owner":{"account_id":318349,"reputation":1623,"user_id":635524,"accept_rate":25,"display_name":"archie_by"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680092345,"creation_date":1680092345,"question_id":75877106,"body_markdown":"We are using a slightly updated [ForwardingBodyParser][1] that does some additional request header manipulations, but is identical to the example otherwise.\r\n\r\nThe problem is that after upgrading from java play 2.6.11 to 2.8.19 we start to experience the following errors randomly (pretty seldom and mostly right after the application startup):\r\n\r\n    [[31merror[0m] http.Errors - Internal server error\r\n    java.util.concurrent.CompletionException: java.lang.IllegalStateException: Sink.asPublisher(fanout = false) only supports one subscriber (which is allowed, see reactive-streams specification, rule 1.11)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(Unknown Source)\r\n    \tat scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:29)\r\n    \tat scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:26)\r\n    \tat scala.concurrent.impl.Promise$Transformation.run(Promise.scala:484)\r\n    \tat scala.concurrent.ExecutionContext$parasitic$.execute(ExecutionContext.scala:222)\r\n    \tat scala.concurrent.impl.Promise$Transformation.submitWithValue(Promise.scala:429)\r\n    Caused by: java.lang.IllegalStateException: Sink.asPublisher(fanout = false) only supports one subscriber (which is allowed, see reactive-streams specification, rule 1.11)\r\n    \tat akka.stream.impl.ReactiveStreamsCompliance$.rejectAdditionalSubscriber(ReactiveStreamsCompliance.scala:62)\r\n    \tat akka.stream.impl.VirtualPublisher.rec$6(StreamLayout.scala:481)\r\n    \tat akka.stream.impl.VirtualPublisher.subscribe(StreamLayout.scala:486)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.request.body.NettyReactiveStreamsBody.write(NettyReactiveStreamsBody.java:60)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.request.NettyRequestSender.writeRequest(NettyRequestSender.java:426)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener.writeRequest(NettyConnectListener.java:80)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener.access$100(NettyConnectListener.java:37)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener$1.onSuccess(NettyConnectListener.java:139)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener$1.onSuccess(NettyConnectListener.java:129)\r\n    \tat play.shaded.ahc.org.asynchttpclient.netty.SimpleFutureListener.operationComplete(SimpleFutureListener.java:24)\r\n\r\nIt seems like sometimes application subscribes twice to the `Source` in the `Accumulator`. I can reproduce the same issue 100% of times if I do it explicitly, but I&#39;d love to know how it could be happening in the Play internals and how it could be resolved\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/JavaBodyParsers#Directing-the-body-elsewhere","title":"Play Framework Forwarding Body Parser fails randomly after upgrading Play framework from 2.6.11 to 2.8.19","body":"<p>We are using a slightly updated <a href=\"https://www.playframework.com/documentation/2.8.x/JavaBodyParsers#Directing-the-body-elsewhere\" rel=\"nofollow noreferrer\">ForwardingBodyParser</a> that does some additional request header manipulations, but is identical to the example otherwise.</p>\n<p>The problem is that after upgrading from java play 2.6.11 to 2.8.19 we start to experience the following errors randomly (pretty seldom and mostly right after the application startup):</p>\n<pre><code>[[31merror[0m] http.Errors - Internal server error\njava.util.concurrent.CompletionException: java.lang.IllegalStateException: Sink.asPublisher(fanout = false) only supports one subscriber (which is allowed, see reactive-streams specification, rule 1.11)\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(Unknown Source)\n    at scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:29)\n    at scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:26)\n    at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:484)\n    at scala.concurrent.ExecutionContext$parasitic$.execute(ExecutionContext.scala:222)\n    at scala.concurrent.impl.Promise$Transformation.submitWithValue(Promise.scala:429)\nCaused by: java.lang.IllegalStateException: Sink.asPublisher(fanout = false) only supports one subscriber (which is allowed, see reactive-streams specification, rule 1.11)\n    at akka.stream.impl.ReactiveStreamsCompliance$.rejectAdditionalSubscriber(ReactiveStreamsCompliance.scala:62)\n    at akka.stream.impl.VirtualPublisher.rec$6(StreamLayout.scala:481)\n    at akka.stream.impl.VirtualPublisher.subscribe(StreamLayout.scala:486)\n    at play.shaded.ahc.org.asynchttpclient.netty.request.body.NettyReactiveStreamsBody.write(NettyReactiveStreamsBody.java:60)\n    at play.shaded.ahc.org.asynchttpclient.netty.request.NettyRequestSender.writeRequest(NettyRequestSender.java:426)\n    at play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener.writeRequest(NettyConnectListener.java:80)\n    at play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener.access$100(NettyConnectListener.java:37)\n    at play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener$1.onSuccess(NettyConnectListener.java:139)\n    at play.shaded.ahc.org.asynchttpclient.netty.channel.NettyConnectListener$1.onSuccess(NettyConnectListener.java:129)\n    at play.shaded.ahc.org.asynchttpclient.netty.SimpleFutureListener.operationComplete(SimpleFutureListener.java:24)\n</code></pre>\n<p>It seems like sometimes application subscribes twice to the <code>Source</code> in the <code>Accumulator</code>. I can reproduce the same issue 100% of times if I do it explicitly, but I'd love to know how it could be happening in the Play internals and how it could be resolved</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678223669,"post_id":75667019,"comment_id":133491090,"body_markdown":"The system tables schema you want to use is `INFORMATION_SCHEMA`, not `INFORMATION-SHEMA`. I have not tried your specific query, however. See [here](https://www.h2database.com/html/systemtables.html) for system tables documentation.","body":"The system tables schema you want to use is <code>INFORMATION_SCHEMA</code>, not <code>INFORMATION-SHEMA</code>. I have not tried your specific query, however. See <a href=\"https://www.h2database.com/html/systemtables.html\" rel=\"nofollow noreferrer\">here</a> for system tables documentation."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678223783,"post_id":75667019,"comment_id":133491118,"body_markdown":"&quot;_reset all sequences_&quot;: If you want to reset a sequence, take a look at [Alter sequence in H2](https://stackoverflow.com/q/41100306/12567365)","body":"&quot;<i>reset all sequences</i>&quot;: If you want to reset a sequence, take a look at <a href=\"https://stackoverflow.com/q/41100306/12567365\">Alter sequence in H2</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678238806,"post_id":75667019,"comment_id":133493732,"body_markdown":"What exactly do you mean by &quot;reset&quot;?","body":"What exactly do you mean by &quot;reset&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678239377,"creation_date":1678238580,"answer_id":75668652,"question_id":75667019,"body_markdown":"# Spelled: `INFORMATION_SCHEMA.SEQUENCES `\r\n\r\nYou said:\r\n\r\n&gt; retreive all the list of sequences from information-shema.sequences\r\n\r\nYou misspelled the schema name: hyphen rather than underscore, and missing a `c`.\r\n\r\n```java\r\n// Query for all sequences.\r\nString sql =\r\n        &quot;&quot;&quot;\r\n        SELECT *\r\n        FROM INFORMATION_SCHEMA.SEQUENCES  \r\n        ;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nHere is a complete example app to query that table.\r\n\r\n```java\r\npackage work.basil.example.h2;\r\n\r\nimport javax.sql.*;\r\nimport java.sql.*;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        DataSource dataSource = this.configureDataSource();\r\n        this.configureDatabase( dataSource );\r\n        this.dumpSequenceMetadata( dataSource );\r\n    }\r\n\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\r\n        ds.setURL( &quot;jdbc:h2:mem:bogus;DB_CLOSE_DELAY=-1;&quot; );\r\n        ds.setUser( &quot;scott&quot; );\r\n        ds.setPassword( &quot;tiger&quot; );\r\n        ds.setDescription( &quot;An example database for accessing metadata on sequences.&quot; );\r\n        return ds;\r\n    }\r\n\r\n    private void configureDatabase ( final DataSource dataSource )\r\n    {\r\n        // Add a few rows to INFORMATION_SCHEMA.SEQUENCES table.\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                CREATE SEQUENCE employee_number_ \r\n                ;\r\n                CREATE SEQUENCE invoice_number_ START WITH 100\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement()\r\n        )\r\n        {\r\n\r\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\r\n            stmt.executeUpdate( sql );\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n    }\r\n\r\n    private void dumpSequenceMetadata ( DataSource dataSource )\r\n    {\r\n        // Query for all sequences.\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                SELECT *\r\n                FROM INFORMATION_SCHEMA.SEQUENCES  \r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection() ;\r\n                        Statement statement = conn.createStatement() ;\r\n                )\r\n        {\r\n            try (\r\n                    ResultSet resultSet = statement.executeQuery( sql ) ;\r\n            )\r\n            {\r\n                // The table structure of INFORMATION_SCHEMA.SEQUENCES is documented here:\r\n                // http://h2database.com/html/systemtables.html#information_schema_sequences\r\n                // Only a few of the columns are used here.\r\n                record Sequence( String catalog , String schema , String name , String dataType , long startValue , long baseValue ) { }\r\n                while ( resultSet.next() )\r\n                {\r\n                    Sequence sequence = new Sequence(\r\n                            resultSet.getString( &quot;SEQUENCE_CATALOG&quot; ) ,\r\n                            resultSet.getString( &quot;SEQUENCE_SCHEMA&quot; ) ,\r\n                            resultSet.getString( &quot;SEQUENCE_NAME&quot; ) ,\r\n                            resultSet.getString( &quot;DATA_TYPE&quot; ) ,\r\n                            resultSet.getLong( &quot;START_VALUE&quot; ) ,\r\n                            resultSet.getLong( &quot;BASE_VALUE&quot; )\r\n                    );\r\n                    // Dump each INFORMATION_SCHEMA.SEQUENCES row.\r\n                    System.out.println( &quot;sequence = &quot; + sequence );\r\n                }\r\n            }\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nsequence = Sequence[catalog=BOGUS, schema=PUBLIC, name=EMPLOYEE_NUMBER_, dataType=BIGINT, startValue=1, baseValue=1]\r\nsequence = Sequence[catalog=BOGUS, schema=PUBLIC, name=INVOICE_NUMBER_, dataType=BIGINT, startValue=100, baseValue=100]\r\n```\r\n\r\n# `ALTER SEQUENCE`\r\n\r\nYou said:\r\n\r\n&gt; reset all sequences\r\n\r\nYou neglected to specify exactly what you mean by &quot;reset&quot;.\r\n\r\nH2 provides the [`ALTER SEQUENCE`][1] command to change [some sequence options][2]. \r\n\r\nSee also this Question, [*Alter sequence in H2.*][3] \r\n\r\nBeware of transactions, as the documentation says &quot;rolling back this command has no effect&quot;. \r\n\r\n\r\n  [1]: http://h2database.com/html/commands.html#alter_sequence\r\n  [2]: http://h2database.com/html/grammar.html#alter_sequence_option\r\n  [3]: https://stackoverflow.com/q/41100306/642706","title":"H2 information shema not available verision 2. And more","body":"<h1>Spelled: <code>INFORMATION_SCHEMA.SEQUENCES </code></h1>\n<p>You said:</p>\n<blockquote>\n<p>retreive all the list of sequences from information-shema.sequences</p>\n</blockquote>\n<p>You misspelled the schema name: hyphen rather than underscore, and missing a <code>c</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Query for all sequences.\nString sql =\n        &quot;&quot;&quot;\n        SELECT *\n        FROM INFORMATION_SCHEMA.SEQUENCES  \n        ;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Here is a complete example app to query that table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.h2;\n\nimport javax.sql.*;\nimport java.sql.*;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        DataSource dataSource = this.configureDataSource();\n        this.configureDatabase( dataSource );\n        this.dumpSequenceMetadata( dataSource );\n    }\n\n    private DataSource configureDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\n        ds.setURL( &quot;jdbc:h2:mem:bogus;DB_CLOSE_DELAY=-1;&quot; );\n        ds.setUser( &quot;scott&quot; );\n        ds.setPassword( &quot;tiger&quot; );\n        ds.setDescription( &quot;An example database for accessing metadata on sequences.&quot; );\n        return ds;\n    }\n\n    private void configureDatabase ( final DataSource dataSource )\n    {\n        // Add a few rows to INFORMATION_SCHEMA.SEQUENCES table.\n        String sql =\n                &quot;&quot;&quot;\n                CREATE SEQUENCE employee_number_ \n                ;\n                CREATE SEQUENCE invoice_number_ START WITH 100\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement()\n        )\n        {\n\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\n            stmt.executeUpdate( sql );\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n    }\n\n    private void dumpSequenceMetadata ( DataSource dataSource )\n    {\n        // Query for all sequences.\n        String sql =\n                &quot;&quot;&quot;\n                SELECT *\n                FROM INFORMATION_SCHEMA.SEQUENCES  \n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection() ;\n                        Statement statement = conn.createStatement() ;\n                )\n        {\n            try (\n                    ResultSet resultSet = statement.executeQuery( sql ) ;\n            )\n            {\n                // The table structure of INFORMATION_SCHEMA.SEQUENCES is documented here:\n                // http://h2database.com/html/systemtables.html#information_schema_sequences\n                // Only a few of the columns are used here.\n                record Sequence( String catalog , String schema , String name , String dataType , long startValue , long baseValue ) { }\n                while ( resultSet.next() )\n                {\n                    Sequence sequence = new Sequence(\n                            resultSet.getString( &quot;SEQUENCE_CATALOG&quot; ) ,\n                            resultSet.getString( &quot;SEQUENCE_SCHEMA&quot; ) ,\n                            resultSet.getString( &quot;SEQUENCE_NAME&quot; ) ,\n                            resultSet.getString( &quot;DATA_TYPE&quot; ) ,\n                            resultSet.getLong( &quot;START_VALUE&quot; ) ,\n                            resultSet.getLong( &quot;BASE_VALUE&quot; )\n                    );\n                    // Dump each INFORMATION_SCHEMA.SEQUENCES row.\n                    System.out.println( &quot;sequence = &quot; + sequence );\n                }\n            }\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>sequence = Sequence[catalog=BOGUS, schema=PUBLIC, name=EMPLOYEE_NUMBER_, dataType=BIGINT, startValue=1, baseValue=1]\nsequence = Sequence[catalog=BOGUS, schema=PUBLIC, name=INVOICE_NUMBER_, dataType=BIGINT, startValue=100, baseValue=100]\n</code></pre>\n<h1><code>ALTER SEQUENCE</code></h1>\n<p>You said:</p>\n<blockquote>\n<p>reset all sequences</p>\n</blockquote>\n<p>You neglected to specify exactly what you mean by &quot;reset&quot;.</p>\n<p>H2 provides the <a href=\"http://h2database.com/html/commands.html#alter_sequence\" rel=\"nofollow noreferrer\"><code>ALTER SEQUENCE</code></a> command to change <a href=\"http://h2database.com/html/grammar.html#alter_sequence_option\" rel=\"nofollow noreferrer\">some sequence options</a>.</p>\n<p>See also this Question, <a href=\"https://stackoverflow.com/q/41100306/642706\"><em>Alter sequence in H2.</em></a></p>\n<p>Beware of transactions, as the documentation says &quot;rolling back this command has no effect&quot;.</p>\n"},{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678243827,"creation_date":1678243827,"answer_id":75669029,"question_id":75667019,"body_markdown":"You cannot restart all sequences with a single command, but you can construct a list of such commands and execute them all at once:\r\n```lang-java\r\nStatement s = …;\r\nResultSet rs = s.executeQuery(&quot;SELECT LISTAGG(&#39;ALTER SEQUENCE &#39;&quot;\r\n        + &quot; || QUOTE_IDENT(SEQUENCE_SCHEMA) || &#39;.&#39;  || QUOTE_IDENT(SEQUENCE_NAME)&quot;\r\n        + &quot; || &#39; RESTART&#39;, &#39;; &#39;) WITHIN GROUP (ORDER BY NULL)&quot;\r\n        + &quot; FROM INFORMATION_SCHEMA.SEQUENCES&quot;);\r\nrs.next();\r\ns.execute(rs.getString(1));\r\n```\r\n\r\n---\r\n\r\nActually there are only few valid use cases for sequences, usually you should use **identity columns** instead of them. [`TRUNCATE TABLE`][1] command has `RESTART IDENTITY` clause, so it is possible to remove all data from a table with identity column and reset its generator.\r\n\r\n  [1]: https://h2database.com/html/commands.html#truncate_table","title":"H2 information shema not available verision 2. And more","body":"<p>You cannot restart all sequences with a single command, but you can construct a list of such commands and execute them all at once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Statement s = …;\nResultSet rs = s.executeQuery(&quot;SELECT LISTAGG('ALTER SEQUENCE '&quot;\n        + &quot; || QUOTE_IDENT(SEQUENCE_SCHEMA) || '.'  || QUOTE_IDENT(SEQUENCE_NAME)&quot;\n        + &quot; || ' RESTART', '; ') WITHIN GROUP (ORDER BY NULL)&quot;\n        + &quot; FROM INFORMATION_SCHEMA.SEQUENCES&quot;);\nrs.next();\ns.execute(rs.getString(1));\n</code></pre>\n<hr />\n<p>Actually there are only few valid use cases for sequences, usually you should use <strong>identity columns</strong> instead of them. <a href=\"https://h2database.com/html/commands.html#truncate_table\" rel=\"nofollow noreferrer\"><code>TRUNCATE TABLE</code></a> command has <code>RESTART IDENTITY</code> clause, so it is possible to remove all data from a table with identity column and reset its generator.</p>\n"}],"owner":{"account_id":11642838,"reputation":3,"user_id":8526704,"display_name":"Wael Yakoubi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75669029,"answer_count":2,"score":0,"last_activity_date":1680092146,"creation_date":1678222035,"question_id":75667019,"body_markdown":"Am trying to retreive all the list of sequences from information-shema.sequences that work on H2 1.4 but since upgrade 2. Or plus it’s no longer possible.\r\nAny other way to reset all sequences?\r\n\r\nSelect sequence_name from information_schema.sequences ","title":"H2 information shema not available verision 2. And more","body":"<p>Am trying to retreive all the list of sequences from information-shema.sequences that work on H2 1.4 but since upgrade 2. Or plus it’s no longer possible.\nAny other way to reset all sequences?</p>\n<p>Select sequence_name from information_schema.sequences</p>\n"},{"tags":["java","android","android-camera","issue-tracking","android-version"],"comments":[{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1680101894,"post_id":75876139,"comment_id":133840947,"body_markdown":"`I am using Camera.Hardware library that I know is deprecated.` Maybe that&#39;s the issue? Also what are you referring to when you say `build version greater than 2.6.x.`?","body":"<code>I am using Camera.Hardware library that I know is deprecated.</code> Maybe that&#39;s the issue? Also what are you referring to when you say <code>build version greater than 2.6.x.</code>?"},{"owner":{"account_id":22541690,"reputation":37,"user_id":16732181,"display_name":"azaLiza"},"score":0,"creation_date":1680102943,"post_id":75876139,"comment_id":133841287,"body_markdown":"@Eselfar, I don&#39;t know if the issue comes from the fact that i am using camera hardware or not. If yes is there any way to convert all my camera hardware usages into camera2 API ? without having to recreate my app from scratch. \nBy build version i mean the build number of the phone&#39;s OS","body":"@Eselfar, I don&#39;t know if the issue comes from the fact that i am using camera hardware or not. If yes is there any way to convert all my camera hardware usages into camera2 API ? without having to recreate my app from scratch.  By build version i mean the build number of the phone&#39;s OS"},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":1,"creation_date":1680104878,"post_id":75876139,"comment_id":133841879,"body_markdown":"Would be better to migrate to Camera2 or even better CameraX from the Jetpack library (`We recommend using the CameraX Jetpack library or, for specific use cases, the camera2, class. Both CameraX and Camera2 work on Android 5.0 (API level 21) and higher.` source: https://developer.android.com/guide/topics/media/camera)\n\nYou&#39;ll have to rewrite the camera part but not the rest of the app features.","body":"Would be better to migrate to Camera2 or even better CameraX from the Jetpack library (<code>We recommend using the CameraX Jetpack library or, for specific use cases, the camera2, class. Both CameraX and Camera2 work on Android 5.0 (API level 21) and higher.</code> source: <a href=\"https://developer.android.com/guide/topics/media/camera\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media/camera</a>)  You&#39;ll have to rewrite the camera part but not the rest of the app features."}],"owner":{"account_id":22541690,"reputation":37,"user_id":16732181,"display_name":"azaLiza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680092133,"creation_date":1680086448,"question_id":75876139,"body_markdown":"I am working on a custom camera app, everything works fine. But, recently I have discovered that my application does not behave the same on some devices. \r\n\r\nAt the end of my camera activity i tend to release the camera and stop the preview.\r\n\r\nAfter many researches, I found that the method that does the release of the camera is not working on the devices that have a build version greater than 2.6.x. The tests were realized on several devices and several android versions. The issue comes from the build version which seems to not stop the camera when it executes the &quot;camera.release()&quot; instruction.\r\n\r\n\r\n\r\n\r\nHere&#39;s my code that works perfectly on any other device that has a build version =&lt; 2.6.x \r\nPS: I am using Camera.Hardware library that I know is deprecated.\r\n\r\n\r\n```\r\nprivate void stopPreview () {\r\n        if ( camera != null) {\r\n            \r\n            if (camera != null) {\r\n                camera.release();\r\n            }\r\n            this.inPreview = false;\r\n            cameraReleased = true;\r\n            onAutofocus = false;\r\n        }\r\n    }\r\n```\r\n\r\nCan anyone help me please understand why camera.release() does not release the camera on those specific build versions?\r\n","title":"Camera not being released on Android 8.1.0 build version 2.8.4 on M3 mobiles","body":"<p>I am working on a custom camera app, everything works fine. But, recently I have discovered that my application does not behave the same on some devices.</p>\n<p>At the end of my camera activity i tend to release the camera and stop the preview.</p>\n<p>After many researches, I found that the method that does the release of the camera is not working on the devices that have a build version greater than 2.6.x. The tests were realized on several devices and several android versions. The issue comes from the build version which seems to not stop the camera when it executes the &quot;camera.release()&quot; instruction.</p>\n<p>Here's my code that works perfectly on any other device that has a build version =&lt; 2.6.x\nPS: I am using Camera.Hardware library that I know is deprecated.</p>\n<pre><code>private void stopPreview () {\n        if ( camera != null) {\n            \n            if (camera != null) {\n                camera.release();\n            }\n            this.inPreview = false;\n            cameraReleased = true;\n            onAutofocus = false;\n        }\n    }\n</code></pre>\n<p>Can anyone help me please understand why camera.release() does not release the camera on those specific build versions?</p>\n"},{"tags":["java","cosine-similarity","amazon-opensearch"],"owner":{"account_id":7568969,"reputation":31,"user_id":5743515,"display_name":"Gil Amsalem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680092040,"creation_date":1680092040,"question_id":75877055,"body_markdown":"I am trying to execute KNN approximate search using the OpenSearch Java client.\r\nI cant find any example nor documentation about it (both high-level and low-level clients).\r\n\r\n\r\nI am able to execute the command from the OpenSearch dashboard.\r\nFor example:\r\n\r\n```\r\nGET contentml-images-clip-batch1/_search\r\n{\r\n  &quot;size&quot;: 2,\r\n  &quot;query&quot;: {\r\n    &quot;knn&quot;: {\r\n      &quot;embedding&quot;: {\r\n        &quot;vector&quot;: [1,2,3],\r\n        &quot;k&quot;: 2\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAny good reference for how to achieve the sam call using one of the Java clients?","title":"Execute KNN approximate search using OpenSearch Java client","body":"<p>I am trying to execute KNN approximate search using the OpenSearch Java client.\nI cant find any example nor documentation about it (both high-level and low-level clients).</p>\n<p>I am able to execute the command from the OpenSearch dashboard.\nFor example:</p>\n<pre><code>GET contentml-images-clip-batch1/_search\n{\n  &quot;size&quot;: 2,\n  &quot;query&quot;: {\n    &quot;knn&quot;: {\n      &quot;embedding&quot;: {\n        &quot;vector&quot;: [1,2,3],\n        &quot;k&quot;: 2\n      }\n    }\n  }\n}\n</code></pre>\n<p>Any good reference for how to achieve the sam call using one of the Java clients?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9686,"page":539,"page_size":100}
